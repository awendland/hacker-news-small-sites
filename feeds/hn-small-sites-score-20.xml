<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 20]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 20. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Fri, 08 Jan 2021 12:57:05 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-20.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Fri, 08 Jan 2021 12:57:05 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Introduction to Window Functions in SQL]]>
            </title>
            <description>
<![CDATA[
Score 33 | Comments 13 (<a href="https://news.ycombinator.com/item?id=25656583">thread link</a>) | @adilkhash
<br/>
January 6, 2021 | https://khashtamov.com/en/sql-window-functions/ | <a href="https://web.archive.org/web/*/https://khashtamov.com/en/sql-window-functions/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
                    
                    
                        <p>It is interesting that many people working with data have no clue about window functions in SQL. During the long period of time instead of using window functions I prefered coding on Python and <a href="https://khashtamov.com/en/pandas-data-analysis/">pandas</a>. Today I would like to introduce you to the concept of "window" and how it is related to data extraction from a SQL database.</p>

<p><strong>Window functions</strong> are applied to a subset/window of rows related to one another. In comparison to <code>GROUP BY</code> operation, window functions do not decrease the number of rows. Aggregate functions like <code>AVG</code>, <code>SUM</code>, <code>COUNT</code> could be used as window functions as well. Usually window functions are used to do analytical tasks. The following examples of queries will be performed on PostgreSQL database.</p>
<h2>Syntax</h2>
<pre><code>&lt;function&gt;(&lt;expression&gt;) OVER (
  &lt;window&gt;
  &lt;sorting&gt;
  &lt;window range&gt; -- optional
)</code></pre>
<p>Looks creepy üò≤ We need more practice. Let's assume that we have a salary table:</p>
<figure><img src="https://khashtamov.com/uploads/redactor/salary_table_1.png" width="80%" data-image="atvi5p4igh4g"></figure>
<p><!--more-->One day your boss approaches you, he wants to know who is the highest paid employee by department. We can use the <code>MAX</code> function to select the highest salary by each department.</p>
<pre><code>SELECT
    department,
    MAX(gross_salary) as max_salary
FROM Salary
GROUP BY 1;
</code></pre>
<p>The result is:</p>

<ins data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3273608550190378" data-ad-slot="9434009847"></ins>


<figure><img src="https://khashtamov.com/uploads/redactor/department_max_salary.png" width="80%" data-image="department_max_salary.png"></figure>
<p>In order to select the person with the highest salary by department we can use a subquery and <code>JOIN</code>:</p>
<pre><code>SELECT
    id,
    first_name,
    department,
    t.gross_salary
FROM Salary
JOIN (
    SELECT
        department,
        MAX(gross_salary) as gross_salary
    FROM Salary
    GROUP BY 1
) t USING(gross_salary, department);
</code></pre>
<p>The result is:</p>
<figure><img src="https://khashtamov.com/uploads/redactor/highest_paid_employees.png" width="80%" data-image="highest_paid_employees.png"></figure>
<p>But the query looks verbose and dirty, maybe we can do the same with window functions? Sure. All you need to do is to set up a window for <code>MAX</code> aggregate function: </p>
<pre><code>SELECT
    id,
    first_name,
    department,
    gross_salary,
    MAX(gross_salary) OVER (PARTITION BY department) as max_gross_salary
FROM Salary;
</code></pre>
<p>The column <code>department</code> is a window. It means that employees from the same department is a subset or window of related rows. The result of the query:</p>
<figure><img src="https://khashtamov.com/uploads/redactor/window_functions_highest_salary.png" width="80%" data-image="window_functions_highest_salary.png"></figure>
<p>As you can see we have the new column called <code>max_gross_salary</code> which shows the highest salary in each department. In order to retrieve the list of most paid employees we do the following:</p>
<pre><code>SELECT *
FROM (
         SELECT id,
                first_name,
                department,
                gross_salary,
                MAX(gross_salary) OVER (PARTITION BY department) as max_gross_salary
         FROM Salary
     ) t
WHERE max_gross_salary = gross_salary
ORDER BY id;
</code></pre>
<p>Now your boss asks you to prepare the report which shows the ratio of salaries by department and by the total wage fund because some departments have relatively low-income employees in comparison with other departments. You can solve it using subqueries:</p>
<pre><code>WITH gross_by_departments AS (
    SELECT
        department,
        SUM(gross_salary) as dep_gross_salary
    FROM Salary
    GROUP BY 1
)
SELECT
    id,
    first_name,
    department,
    gross_salary,
    ROUND(CAST(gross_salary AS numeric(9, 2)) / dep_gross_salary * 100, 2) as dep_ratio,
    ROUND(CAST(gross_salary AS numeric(9, 2)) / (SELECT SUM(gross_salary) FROM Salary) * 100, 2) as total_ratio
FROM Salary
JOIN gross_by_departments USING(department)
ORDER BY department, dep_ratio DESC
</code></pre>
<p>The result is:</p>
<figure><img src="https://khashtamov.com/uploads/redactor/subqueries_salary_ratios.png" width="80%" data-image="subqueries_salary_ratios.png"></figure>
<p>As you can see –ù–∏–Ω–∞ earns 71.4% out of HR department, but it is only 10.7% out of total wage fund. –ê—Ä–∫–∞–¥–∏–π on the other hand has 21.4% out of total wage fund and 41% out of IT department. Can we refactor the query to make it smaller and more readable? Yes! <strong>Window functions</strong>!</p>
<pre><code>SELECT
    id,
    first_name,
    department,
    gross_salary,
    ROUND(CAST(gross_salary AS numeric(9,2)) / SUM(gross_salary) OVER (PARTITION BY department) * 100, 2) as dep_ratio,
    ROUND(CAST(gross_salary AS numeric(9,2)) / SUM(gross_salary) OVER () * 100, 2) as total_ratio
FROM Salary
ORDER BY department, dep_ratio DESC; 
</code></pre>
<p>The expression <code>OVER()</code> means that the "window" is all rows.</p>
<h2>Window functions only</h2>
<p>We used the aggregate functions <code>MAX</code> &amp; <code>SUM</code> as window functions above. But SQL standard consists of functions which cannot be used as aggregates hence no way to apply them during grouping. Here is the list of them:

</p>
<ul>
<li>first_value</li>
<li>last_value</li>
<li>lead</li>
<li>lag</li>
<li>rank</li>
<li>dense_rank</li>
<li>row_number</li>
</ul>
<p>The comprehensive list of all window functions supported in PostgreSQL you can find <a href="https://www.postgresql.org/docs/current/functions-window.html" target="_blank">here</a>.</p>
<h3>Using window functions</h3>
<p>Let's use the <code>first_value</code> function in order to solve the very first problem where we were asked to get the name of the highest paid employee by each department. The function returns the very first values according to the provided window.</p>
<pre><code>SELECT
    id,
    first_name,
    department,
    gross_salary,
    first_value(first_name) OVER (PARTITION BY department ORDER BY gross_salary DESC ) as highest_paid_employee
FROM Salary
</code></pre>
<p>We are sorting the rows in our window by salary in a descending order, it means that the very first row will be a person with the highest salary.</p>
<p>Now let's use <code>last_value</code>. It does the opposite of what <code>first_value</code> does.</p>
<pre><code>SELECT id,
       first_name,
       department,
       gross_salary,
       last_value(first_name)
       OVER (PARTITION BY department ORDER BY gross_salary DESC) AS lowest_paid_employee
FROM Salary
</code></pre>
<p>The result is:</p>
<figure><img src="https://khashtamov.com/uploads/redactor/lowest_paid_employees_last_value_window_function.png" width="80%" data-image="lowest_paid_employees_last_value_window_function.png"></figure>
<p>If you look at the table you will see that the result is wrong. Why? Because of window ranges. By default if you provide the <code>ORDER BY</code> clause the window range is all preceding rows and current row, in SQL terms it is <code>ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW</code>. It means that the <code>last_value</code> for a particular column in a particular row is a column in the same row. In order to fix this problem we need to change the range to <code>ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING</code>:</p>
<pre><code>SELECT id,
       first_name,
       department,
       gross_salary,
       last_value(first_name)
       OVER (
           PARTITION BY department
           ORDER BY gross_salary DESC
           ROWS BETWEEN
               UNBOUNDED PRECEDING
               AND UNBOUNDED FOLLOWING
           ) as lowest_paid_employee
FROM Salary
</code></pre>
<p>This is how it looks visually:</p>
<figure><span id="selection-marker-start">Ôªø</span><span id="selection-marker-end">Ôªø</span><img src="https://khashtamov.com/uploads/redactor/unbounded_preceding_current_row_unbounded_following.png" data-image="r9u3sqk8i9v7"><span id="selection-marker-start">Ôªø</span><span id="selection-marker-end">Ôªø</span></figure>
<p>The possible values:</p>
<ul>
<li>N PRECEDING, N number of rows until current row</li>
<li>CURRENT ROW</li>
<li>UNBOUNDED PRECEDING</li>
<li>UNBOUNDED FOLLOWING</li>
<li>N FOLLOWING**, N number of rows following current row</li>

</ul>
                </article></div>]]>
            </description>
            <link>https://khashtamov.com/en/sql-window-functions/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25656583</guid>
            <pubDate>Wed, 06 Jan 2021 11:02:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What I Use Now Instead of Google]]>
            </title>
            <description>
<![CDATA[
Score 88 | Comments 70 (<a href="https://news.ycombinator.com/item?id=25654222">thread link</a>) | @kmclean
<br/>
January 5, 2021 | https://kiramclean.com/blog/what-i-use-now-instead-of-google/ | <a href="https://web.archive.org/web/*/https://kiramclean.com/blog/what-i-use-now-instead-of-google/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>I made a goal for myself in January 2020 to stop using Google products by the end of the year. That might sound like way too generous a timeline, but Google owned pretty much all of my data at that point, so it was a fairly large project. Plus I'm a slow and steady kind of person. I know if I give myself a generous enough timeline I can accomplish even things that seem too hard for me at first.</p>
<h2>First, Why</h2>
<p>Since I got into programming about 5 years ago, I kept hearing all these bad things about Google and how horrible of a company it is from other tech people. It always seemed a bit exaggerated to me, but the evidence has been piling up over the years. Learning about <a href="https://gizmodo.com/google-is-helping-the-pentagon-build-ai-for-drones-1823464533">their involvement</a> with the US military's <a href="https://dodcio.defense.gov/Portals/0/Documents/Project%20Maven%20DSD%20Memo%2020170425.pdf">Algorithmic Warfare Cross-Functional Team (Project Maven)</a> was the last straw for me <sup id="footnote-1"><a href="https://kiramclean.com/blog/what-i-use-now-instead-of-google/#footnote-1-text">1</a></sup>, but even before I learned about that I was pretty uncomfortable with a lot of what I heard. In Google's defence they eventually did <a href="https://web.archive.org/web/20210101083904/https://www.nytimes.com/2018/06/01/technology/google-pentagon-project-maven.html">pull out of the project</a> after <a href="https://web.archive.org/web/20201231204850/https://www.nytimes.com/2018/04/04/technology/google-letter-ceo-pentagon-project.html">massive backlash by thousands of employees</a>.</p>
<p>Still, I'm pretty convinced now that their continued existence is a catastrophe not only for public safety, but also for <a href="https://www.vox.com/recode/2020/1/3/21030688/google-amazon-ai-oil-gas">the environment</a>, <a href="https://www.nytimes.com/2018/11/01/technology/google-walkout-sexual-harassment.html">gender equity</a>, <a href="https://www.telegraph.co.uk/technology/google/9739039/Googles-tax-avoidance-is-called-capitalism-says-chairman-Eric-Schmidt.html">the economy</a>, <a href="https://www.vice.com/en/article/jgexe8/google-fired-an-engineer-who-wrote-code-telling-googlers-they-had-a-right-to-organize">fair labour practices</a>, <a href="https://www.stallman.org/google.html#surveillance">privacy</a>, <a href="https://www.nature.com/articles/s41562-020-00954-0">journalism</a>, <a href="https://www.judiciary.senate.gov/download/epstein-testimony">democracy</a>, <a href="https://www.vox.com/2018/4/3/17168256/google-racism-algorithms-technology">race relations</a>, and the <a href="https://www.scientificamerican.com/article/big-tech-out-of-control-capitalism-and-the-end-of-civilization/">project of civilization itself</a>. But anyway, the point of this post isn't to motivate you to also quit Google. I'll tell you how I really feel some other time.</p>
<p>The rest of this post is about the tools and services I replaced all the Google things with. I did mostly accomplish my goal, with a few caveats which I describe in the relevant sections.</p>
<h2>Replacements</h2>
<p>Here's the short version:</p>
<ul>
<li>GMail ‚Üí <a href="https://protonmail.com/signup">ProtonMail</a></li>
<li>Chrome ‚Üí <a href="https://www.mozilla.org/en-US/firefox/developer/">Firefox developer edition</a></li>
<li>Google search ‚Üí <a href="https://duckduckgo.com/">DuckDuckGo</a></li>
<li>Google Drive ‚Üí <a href="https://www.sync.com/">Sync</a> and <a href="https://www.backblaze.com/b2/cloud-storage.html">Backblaze</a></li>
<li>Google DNS ‚Üí <a href="https://blog.cloudflare.com/announcing-1111/">Cloudflare DNS</a></li>
<li>Maps ‚Üí Apple maps</li>
<li>YouTube ‚Üí Netflix, <a href="https://www.ted.com/">TED talks</a>, conference archives, and still a little YouTube (anonymously in a <a href="https://addons.mozilla.org/en-US/firefox/addon/multi-account-containers/">Firefox container</a>)</li>
<li>Google Analytics ‚Üí <a href="https://usefathom.com/">Fathom</a></li>
<li>Everything else (calendar, reminders, photos, docs, video chat, news feeds) ‚Üí <a href="https://nextcloud.com/signup/">Nextcloud</a>, running <a href="https://kiramclean.com/blog/how-to-set-up-your-own-nextcloud-server/">on my own instance</a></li>
</ul>
<p>And here's the long version:</p>
<h3>GMail ‚Üí <a href="https://protonmail.com/signup">ProtonMail</a></h3>
<p>ProtonMail has free accounts, but I pay for the lowest level that allows use of a custom domain with it (‚Ç¨48/year) so I don't have to change my email address ever again if I want to switch providers. It was quite a pain to change my email address all over the place, but I started in May and just did it slowly over time. I highly recommend decoupling your email address from your email provider if you're considering switching. First of all an email from a custom domain seems more, not less, serious than a gmail address to most people. But the main reason is just so you don't have to change your email address ever again if (when) you want to switch to some newer, better email provider.</p>
<p>I set up forwarding from my old GMail account to my new email address then filtered my mail for anything sent to the old address. If it was someone or some place I wanted to continue hearing from, I updated my email address with them. If not I unsubscribed. This turned out to be a wonderful opportunity to purge my newsletter and other email subscriptions. Also I'm happy to report most companies are now (finally) respecting unsubscribe requests. Two (looking at you Geektastic and Rakuten) continued to spam me after I requested they stop, so now I filter out all their mail as spam.</p>
<h3>Chrome ‚Üí Firefox developer edition</h3>
<p>I primarily use <a href="https://www.mozilla.org/en-US/firefox/developer/">Firefox developer edition</a> now for my browser, including for work. The developer tools are just as good as Chrome's for the kind of work I do.</p>
<p>There are some web apps that literally or effectively only work in Chrome, which ironically perfectly illustrates the impetus for this whole undertaking. For those I use this <a href="https://github.com/Eloston/ungoogled-chromium#downloads">ungoogled Chromium</a> browser, installed via homebrew.</p>
<p>I still have Chrome installed on my computer because I need it for some work things. We use chromedriver for some integration tests and it wasn't trivially easy to trick it into using my Chromium installation instead of looking for Chrome. Replacing chromedriver is a headache, and also not my call to make at work. But it's also not really the point for me. If Google was reduced to a browser that developers can easily launch and control programmatically, I'd be satisfied. I don't use it for anything other than running automated tests at work now.</p>
<h3>Google search ‚Üí <a href="https://duckduckgo.com/">DuckDuckGo</a></h3>
<p>I mostly love DuckDuckGo, but there are certain categories of searches where Google returns better results. DuckDuckGo doesn't seem to return many results from forums (like stack overflow or other stack exchange sites), which is where there the answers to a lot of my questions are, unfortunately. So I still use Google Search sometimes, but I do it in a <a href="https://addons.mozilla.org/en-US/firefox/addon/multi-account-containers/">Firefox container</a> without being logged in to a Google account, which at least helps to avoid some of Google's incessant stalking.</p>
<p>DuckDuckGo does seem to return better results when the answer is an image, video, or regular web page, which is cool, and I suspect means it would be a perfectly fine replacement for most people. For example this blog is easier to find via DuckDuckGo than Google, which is impressive because I share a name with a small-time TV celebrity who typically dominates search results. We even look sort of similar, it's wild.</p>
<h3>Google Drive ‚Üí <a href="https://www.sync.com/">Sync</a> and <a href="https://www.backblaze.com/b2/cloud-storage.html">Backblaze</a></h3>
<p>I use Sync to make my most used files available anywhere, and I've started moving a huge backlog of documents and notes I don't need to access often but don't want to throw away to Backblaze for longer term storage, just because it's cheaper. So far I just use their web UI to upload things in bulk and browse my files, but I'm looking into ways to do that more efficiently. I really need to de-clutter my digital life. I'm a major hoarder when it comes to digital files. I have scarcely deleted a document in the last 10 years, it's getting a bit ridiculous. But that's a goal for another year üôÇ. For now I'm just putting all those files I don't really need to access but don't want to throw away in Backblaze to deal with later.</p>
<p>Between Sync and Backblaze I got 15GB of free storage, which is plenty for now, though as I move more and more or my scattered files over I'll have to start paying. Backblaze offers some of the cheapest object storage there is, at least.</p>
<h3>DNS ‚Üí Cloudflare DNS</h3>
<p>I used to use Google's DNS servers (8.8.8.8 and 8.8.4.4), now I use <a href="https://blog.cloudflare.com/announcing-1111/">Cloudflare's</a> (1.1.1.1 and 1.0.0.1).</p>
<h3>Maps, YouTube</h3>
<p>These ones are harder to replace. I use Apple maps now most of the time, but I still use Waze (which was acquired by Google) for directions sometimes if I'm driving somewhere. For media I mostly watch Netflix, but I also watch a lot of <a href="https://www.ted.com/">TED talks</a>. I used to also watch conference videos on YouTube. Now I check conference websites for those, and a lot of them have the recordings, although they're often hosted on YouTube anyway. And I also do still use YouTube sometimes, mostly for home workout videos, but also anonymously in an isolated container.</p>
<h3>Analytics ‚Üí <a href="https://usefathom.com/">Fathom</a></h3>
<p>It's been a while since I used Google Analytics, but I wanted to set up a basic hit counter for this blog and found Fathom. They provide simple privacy-focused analytics that work well enough for me. One really useful feature they have that I consider necessary now is being able to log analytics with a custom domain. Without this, visitors using ad-blockers don't get counted, which most estimates figure is now something like 40% of people, and probably more among tech-type people, like the ones most likely to find this blog.</p>
<p>I tried Cloudflare's new server-side analytics for a month, but the data didn't make as much sense (it showed the overwhelming number of visits to my homepage, even though the other analytics I had set up showed them going to one post that did well on Hacker News, which makes way more sense). Anyway, the numbers didn't seem to add up. I guess to be fair I <a href="https://twitter.com/kiraemclean/status/1340530206516387840">don't quite understand</a> how Fathom's numbers add up yet either, but their support has been helpful checking it out with me to try to help me reach some interpretation that makes sense. Fathom's dashboard is really simple, at least, which I like because it's easy to understand.</p>
<h3>Calendar, reminders, photos, docs, video chat, news feeds ‚Üí <a href="https://nextcloud.com/signup/">Nextcloud</a></h3>
<p>For everything else I use Nextcloud now. I <a href="https://kiramclean.com/blog/how-to-set-up-your-own-nextcloud-server/">run my own instance</a> of it, but there are lots of providers where you can just sign up for a simple account like anything else if you're not an insufferable nerd who enjoys maintaining servers, like me.</p>
<p>This is where I have another caveat to mention. I haven't migrated all of my photos off of Google Photos yet because I have about 50,000 of them and it's just a really slow process. I estimated it would take me something like 70 hours to move them all manually, so I'm looking into better ways to do it. I'm confident I can find or maybe build something easier than manually downloading and uploading 50k files in less than 70 hours.</p>
<p>Nextcloud does the job of automatically syncing photos from my phone, though, which is all I needed to be able to delete Google Photos from my devices. I'm not sure I'll actually stick with Nextcloud for photos in the long run. The gallery is a bit lacking. It looks like <a href="https://piwigo.org/get-piwigo">Piwigo</a> might be a good alternative. Either way, I'm actually storing my photos in Backblaze, so I'll continue looking around for a different client for a bucket full of photos next year as I work on slowly culling my photos collection and migrating it to a new home.</p>
<h2>Total Cost</h2>
<p>I feel like I've won a lot by doing all this. I own my data now, so Google can't <a href="https://www.businessinsider.com/google-users-locked-out-after-years-2020-10">arbitrarily take it away from me</a>, which gives me peace of mind. I'm no longer part of their ad ecosystem, being tracked all around the internet and having my attention sold to the highest bidder. And I also feel good about "voting with my feet", so to speak. The fewer people use Google's free products, the lower their ability to sustain their unethical business model based on selling mass surveillance data.</p>
<p>But I also lost some. Specifically a few ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://kiramclean.com/blog/what-i-use-now-instead-of-google/">https://kiramclean.com/blog/what-i-use-now-instead-of-google/</a></em></p>]]>
            </description>
            <link>https://kiramclean.com/blog/what-i-use-now-instead-of-google/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25654222</guid>
            <pubDate>Wed, 06 Jan 2021 02:54:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Designing Modern Retro Computer Terminals]]>
            </title>
            <description>
<![CDATA[
Score 22 | Comments 3 (<a href="https://news.ycombinator.com/item?id=25653802">thread link</a>) | @armadillu
<br/>
January 5, 2021 | https://uri.cat/projects/modern-retro-terminal/ | <a href="https://web.archive.org/web/*/https://uri.cat/projects/modern-retro-terminal/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-2357">
					<tbody><tr>
<!--					<td class="entry-aside"></td> 
-->
						<td>
							
<p>The goal for this project is to design, 3D-print and assemble the enclosures for several small desktop computers. This series was created during the covid19 pandemic, to get familiar with modern parametric 3D design tools, the limits of 3D printing and fabrication. </p>



<p>A screen size is chosen first, together with the desired components, and then an enclosure is designed around all the constrains (including FDM 3D printing limitations). </p>



<p>All of these have been designed in Autodesk Fusion360 and printed at home on an inexpensive Creality Ender 3.</p>







<h2>4:3 10‚Ä≥ LCD Terminal</h2>



<p>Designed around a 10‚Ä≥ 1024 x 768 IPS LCD. Raspberry PI 4, Ducky One SF Keyboard, black PLA.</p>















<h2>16:9 5‚Ä≥ LCD Terminal</h2>



<p>Designed around a 5‚Ä≥ 800 x 480 LCD. Raspberry Pi 3, Official Raspberry Pi keyboard, black PLA. </p>















<h2>16:9 5‚Ä≥ LCD Terminal v2</h2>



<p>Revised for a more modern look and a smaller footprint. It runs a Raspberry Pi 4, printed on orange PLA. Wireless USB keyboard from ali-express.</p>















<h2>UltraWide 4:1 8‚Ä≥ LCD Terminal</h2>



<p>Designed around an 8‚Ä≥ 1920 x 480 LCD, with a rather exotic 4:1 aspect ratio. As this exceeds my 3D printer bed size, I had to figure out a way to split the design in two parts, and how to assemble them effectively. This one is powered by an Nvidia Jetson Nano 2GB, allowing it to run OpenGL natively. Ducky One2 SF keyboard. Printed on ‚Äúcopper‚Äù PLA.</p>















<h2>Minimal 4:3 8‚Ä≥ Terminal</h2>



<p>1024 x 768 8‚Ä≥ IPS LCD. Designed with the goal of the smallest possible footprint, leaving components out in plain sight. Raspberry pi 4, official Raspberry Pi Keyboard. Printed on neon yellow transparent PLA.</p>















<h2>Other Concepts</h2>



<p>Some rejects I produced along the way‚Ä¶</p>







<p>Retro TV</p>







<p> Macintosh Classic inspired design</p>



<figure><ul><li><figure><a target="_blank" href="https://uri.cat/projects/modern-retro-terminal/phone_booth_terminal_sharp_2021-jan-04_11-34-38pm-000_customizedview8576530636/"><img loading="lazy" width="640" height="360" src="https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-34-38PM-000_CustomizedView8576530636-640x360.jpg" alt="" data-id="2512" data-full-url="https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-34-38PM-000_CustomizedView8576530636.jpg" data-link="https://uri.cat/projects/modern-retro-terminal/phone_booth_terminal_sharp_2021-jan-04_11-34-38pm-000_customizedview8576530636/" srcset="https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-34-38PM-000_CustomizedView8576530636-640x360.jpg 640w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-34-38PM-000_CustomizedView8576530636-1400x788.jpg 1400w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-34-38PM-000_CustomizedView8576530636-312x176.jpg 312w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-34-38PM-000_CustomizedView8576530636-768x432.jpg 768w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-34-38PM-000_CustomizedView8576530636-1536x864.jpg 1536w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-34-38PM-000_CustomizedView8576530636-2048x1152.jpg 2048w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-34-38PM-000_CustomizedView8576530636-300x169.jpg 300w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-34-38PM-000_CustomizedView8576530636-640x360@2x.jpg 1280w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-34-38PM-000_CustomizedView8576530636-1400x788@2x.jpg 2800w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-34-38PM-000_CustomizedView8576530636-312x176@2x.jpg 624w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-34-38PM-000_CustomizedView8576530636-1536x864@2x.jpg 3072w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-34-38PM-000_CustomizedView8576530636-300x169@2x.jpg 600w" sizes="(max-width: 640px) 100vw, 640px"></a></figure></li><li><figure><a target="_blank" href="https://uri.cat/projects/modern-retro-terminal/phone_booth_terminal_sharp_2021-jan-04_11-35-58pm-000_customizedview48438323474/"><img loading="lazy" width="640" height="360" src="https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-35-58PM-000_CustomizedView48438323474-640x360.jpg" alt="" data-id="2513" data-full-url="https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-35-58PM-000_CustomizedView48438323474.jpg" data-link="https://uri.cat/projects/modern-retro-terminal/phone_booth_terminal_sharp_2021-jan-04_11-35-58pm-000_customizedview48438323474/" srcset="https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-35-58PM-000_CustomizedView48438323474-640x360.jpg 640w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-35-58PM-000_CustomizedView48438323474-1400x788.jpg 1400w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-35-58PM-000_CustomizedView48438323474-312x176.jpg 312w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-35-58PM-000_CustomizedView48438323474-768x432.jpg 768w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-35-58PM-000_CustomizedView48438323474-1536x864.jpg 1536w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-35-58PM-000_CustomizedView48438323474-2048x1152.jpg 2048w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-35-58PM-000_CustomizedView48438323474-300x169.jpg 300w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-35-58PM-000_CustomizedView48438323474-640x360@2x.jpg 1280w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-35-58PM-000_CustomizedView48438323474-1400x788@2x.jpg 2800w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-35-58PM-000_CustomizedView48438323474-312x176@2x.jpg 624w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-35-58PM-000_CustomizedView48438323474-1536x864@2x.jpg 3072w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-35-58PM-000_CustomizedView48438323474-300x169@2x.jpg 600w" sizes="(max-width: 640px) 100vw, 640px"></a></figure></li></ul></figure>



<p>Faceted design test</p>







<p>Phone-booth inspired design</p>
							
									

							<!-- .entry-utility -->
						</td>
					</tr>
				</tbody></div></div>]]>
            </description>
            <link>https://uri.cat/projects/modern-retro-terminal/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25653802</guid>
            <pubDate>Wed, 06 Jan 2021 01:39:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Learn Prolog in 2021?]]>
            </title>
            <description>
<![CDATA[
Score 207 | Comments 131 (<a href="https://news.ycombinator.com/item?id=25652369">thread link</a>) | @triska
<br/>
January 5, 2021 | http://dstrohmaier.com/why-learn-prolog-in-2021/ | <a href="https://web.archive.org/web/*/http://dstrohmaier.com/why-learn-prolog-in-2021/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

  <header>
    
    <p>
      <span>By David Strohmaier</span>
      <time>¬∑ Jan 5, 2021</time>
    </p>
  </header>

  

<p>Why should one learn Prolog in 2021? I should better have an answer to this question, because I will soon offer supervisions for a Prolog course. While I‚Äôm a personal admirer of this unusual programming language, students might rightfully demand a justification that goes beyond my preferences. Prolog certainly isn‚Äôt the most glamorous programming language to learn in 2021. Despite its lack of popularity, there are good reasons to learn Prolog and in the following, I‚Äôll explore three of them.</p>

<h2 id="the-sheer-intellectual-beauty">The Sheer Intellectual Beauty</h2>

<p>Perhaps my background in philosophy helps explain my fondness for Prolog. Not only is first-order predicate logic taught to virtually all philosophy students as a tool for thought, but it also forms the foundation of Prolog‚Äôs logic-programming paradigm. Philosophers aim for a logical description of the world and Prolog goes beyond this ambition by allowing us to manipulate reality via a logical description. We solve problems by writing Horn clauses, and a Horn-clause is a logical formula that simplifies resolution. Logical formulas are the tool of problem solving. Once grasped, the idea of logically describing a problem and the having the computer solve it is almost irresistible.</p>

<p>Of course, occasionally Prolog falls short of the programming-by-description-paradigm. There are cases where Prolog mixes logic and control instead of keeping them apart.[0] Nonetheless, logic programming, the paradigm of which Prolog is the primary example, comes with its own intellectual appeal. From the perspective of intellectual aesthetics, good Prolog code is a sublime experience (<em>erhabene Erfahrung</em>).[1] Such Prolog code reveals the overwhelming power of logical description and the force of a capacity ‚Äì the capacity to describe the world in logical terms and thereby solve problems ‚Äì that resides in all of us.</p>

<p>In sum, Prolog code has a timeless beauty to it ‚Äì a claim that I believe is more commonly associated with the S-expressions of LISP ‚Äì and is therefore worth learning. I am aware that an appeal to beauty has its limits, but the aesthetic properties of a programming language should not be entirely discounted. Our sense for intellectual beauty is an important tool for creation and it needs to be trained. If one understands what makes an approach beautiful, it becomes easier to create beautiful code and to resist the lure of beauty when it distracts from practical concerns. Learning Prolog is a way to tame the power of beautiful code.</p>

<div><div><pre><code>?- beautiful(prolog).
true
</code></pre></div></div>

<h2 id="a-different-perspective-on-classical-issues">A Different Perspective on Classical Issues</h2>

<p>Recursion, list manipulations, and graph-hopping are standard topics of foundational computer science and Prolog addresses them with a twist.[2] Prolog offers a different perspective on classical issues of computer science, usually right away from the first lessons. As a result, Prolog has a relatively steep learning curve, but the different perspective can also be revelatory. One learns to describe classical problems in the format of Prolog Horn-clauses and thereby solve them, which can lead to a unique way of understanding them ‚Äì especially, once one has learned to write <em>idiomatic</em> Prolog.</p>

<p>Prolog is not only beautiful, but it also reveals another aspect of the core issues of computer science to which it is applied. Occasionally, the aspect Prolog reveals is also the aspect that needs to be seen for solving a problem. Some problems call for Prolog. Having learned Prolog will allow one to address them beautifully and efficiently. To be honest, at the moment such problems are too rare to justify learning Prolog. But I don‚Äôt believe that this has to remain so. As my last argument in favour of learning Prolog, I will suggest that it has unfulfilled potential.</p>

<div><div><pre><code>?- unique_perspective(prolog).
true
</code></pre></div></div>

<h2 id="unfulfilled-potential">Unfulfilled Potential</h2>

<p>As a student of computer science, one can make a decent career by always following the hype, but to stand out one has to diverge from the well-trodden paths. Those willing to explore unpopular territory have a chance of being ahead of the crowd. In 2021, Prolog is such unpopular territory. In my field of NLP, one might instead opt to learn more about neural networks and especially the Transformer architectures such as BERT. Learning about these topics is certainly advisable for a career in NLP, but it won‚Äôt make one stand out.</p>

<p>Prolog is unpopular and, more importantly, I believe that it has not fulfilled its potential so far. The logic-programming paradigm with its separation between logic and control is powerful. Yet it does not find much use in current applications. This unpopularity despite power might deter a student from learning Prolog ‚Äì perhaps logic-programming has faults which keep its from being successful ‚Äì but it is also an opportunity. One can make the bet that more will come of Prolog or a language similar to it.[3] If the bet is successful, one will be ahead of the hype.</p>

<p>Such bets on unpopular options are risky. It is a high-reward bet because of the limited chances of success. That being said, I would advise making a few such bets in the course of one‚Äôs life. Even if nothing comes of them, they render life more interesting and help to show individual character. Perhaps one shouldn‚Äôt go all in on such a bet, but this consideration should justify the few hours of a Prolog course, when one gets academic credits in addition to being able to assess the unfulfilled potential of Prolog better.</p>

<div><div><pre><code>?- potential(prolog,Y), unfulfilled(Y).
true
</code></pre></div></div>

<h2 id="conclusion">Conclusion</h2>

<p>Currently, Prolog does not belong to the most popular programming languages. Its logic programming paradigm makes it an outsider. Nonetheless, I‚Äôve argued that there are good reasons to learn Prolog. The language is beautiful, it offers a different perspective on classic computer science issues, and it has unfulfilled potential. Whether you are motivated by aesthetic, academic, or career considerations, you have a reason to learn Prolog in 2021.</p>

<div><div><pre><code>learn(X) :- beautiful(X), unique_perspective(X), potential(X,Y), unfulfilled(Y).

?- learn(prolog).
true
</code></pre></div></div>

<p><em>UPDATE</em> This blog post made its way to the frontpage of Hacker News where it received a sizeable number of <a href="https://news.ycombinator.com/item?id=25652369">comments</a>. In response, I wrote a <a href="http://dstrohmaier.com/follow-up-why-learn-prolog-in-2021/">follow-up post</a>.</p>

<h3 id="footnote">Footnote</h3>

<p>[0] I‚Äôm referencing here Robert Kowalski‚Äôs formulation of Algorithm = Logic + Control.</p>

<p>[1] I hope Kantians can forgive me for treating the sublime (<em>das Erhabene</em>) as a type of beauty, neglecting Kant‚Äôs distinction.</p>

<p>[2] For an example, have a look at the quicksort implementation on <a href="https://www.metalevel.at/prolog/sorting">The Power of Prolog</a>.</p>

<p>[3] I‚Äôm not <a href="https://www.youtube.com/watch?v=kGQNeeRp4sM">the only one who has hopes for Prolog‚Äôs future</a>.</p>


  
  
  

  <tb>
      </tb>

</article></div>]]>
            </description>
            <link>http://dstrohmaier.com/why-learn-prolog-in-2021/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25652369</guid>
            <pubDate>Tue, 05 Jan 2021 22:54:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Kingdom: Sikkim‚Äôs merger with India]]>
            </title>
            <description>
<![CDATA[
Score 35 | Comments 11 (<a href="https://news.ycombinator.com/item?id=25651871">thread link</a>) | @seventyhorses
<br/>
January 5, 2021 | https://fiftytwo.in/story/kingdom/ | <a href="https://web.archive.org/web/*/https://fiftytwo.in/story/kingdom/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-v-2fd21b62=""><div data-v-2fd21b62=""><p>
                I
              </p> <div data-v-2fd21b62=""><p>n December 1972, Indira Gandhi, fresh from victory in the 1971 war for Bangladesh‚Äôs liberation, summoned Rameshwar Nath Kao to her office. In 1968, she had handpicked this tall Kashmiri with a formidable intellect to set up the R&amp;AW. In three years‚Äô time, Kao had delivered the agency‚Äôs first significant success, providing critical support for the covert training of the guerrilla army Mukti Bahini in what was then East Pakistan. </p><p>‚ÄúCan you do something about Sikkim?‚Äù she asked him. </p></div></div><p>Relations between the Indian state and the kingdom had reached a stalemate. India wanted to create a treaty of Permanent Association, even dangling the carrot of sponsoring Sikkim‚Äôs membership to UN organisations in return. But over the 1960s, the Chogyal had been demanding full independence with increasing vigour.&nbsp; </p><p>In the Chogyal‚Äôs backyard, the demand for merger with India had originated from the first leader of the Sikkim State Congress,
            <a href="" onclick="return!1">
              <sup id="bcb14wl0cgeu">[7]</sup>
            </a>
           Tashi Tshering, who had even gone to Delhi in 1948 to negotiate it. Patel, the man in charge of India‚Äôs integration, was keen on bringing Sikkim into the fold. Nehru chose to overrule him and sent Tshering back.
            <a href="" onclick="return!1">
              <sup id="aexroa2fiai3">[8]</sup>
            </a>
          </p><p>But Nehru‚Äôs India kept more than a watchful eye over Sikkim, much like the British had. ‚ÄúThe Sikkimese kingdom became highly dependent on the political officers from the time that the British established direct control of Sikkim,‚Äù Saul Mullard, a researcher at  Oxford University and author of a book of Sikkimese history, explained. ‚ÄúIndians took over the role of political officers in Sikkim. They inherited the authority of the British and it weakened the ability of the king to set his own agenda.‚Äù</p><p>After Indira Gandhi asked him to ‚Äúdo something‚Äù about Sikkim, Kao concocted a plan with PN Banerjee, the joint secretary of the R&amp;AW‚Äôs eastern division and a fellow mastermind of the Bangladesh operation. He assured the prime minister that the R&amp;AW could handle Sikkim‚Äôs merger.
            <a href="" onclick="return!1">
              <sup id="q7tj6bpso0c1">[9]</sup>
            </a>
           A three-member special ops team was dispatched to Gangtok.</p><p>One of these men was GBS Sidhu, who maintained a meticulous diary of his time in Gangtok. He wrote his book at the prodding of his former boss, who had always been keen for the story of the R&amp;AW‚Äôs role in Sikkim to be made public someday. On his passing in 2002, Kao‚Äôs own notes on the operations in Sikkim and Bangladesh were handed over to the Nehru Memorial Museum and Library. These will be made public in 2027, according to his will.</p><p>To preserve its reputation as a country that respected the sovereignty of its smaller neighbours, India was keen to legitimize its takeover of Sikkim. It made common cause with the political movement started by Tashi Tshering. India would maintain that the merger was a natural consequence of the peoples‚Äô desire for a democratic form of government. The denouement that came with the coup took more than two years of meticulous planning on the part of the Indian state. </p><p>Like its neighbours Tibet and Bhutan, Sikkim was a conservative Buddhist theocracy. The ruling elite came from two communities: the Bhutia, who migrated from Tibet in the thirteenth century, and the Lepcha, indigenous to Sikkim. The royal family of Namgyals were Bhutia who‚Äôd come from Tibet in the sixteenth century. The demographic dynamic of Sikkim started shifting in the late nineteenth century, when Jean Claude White, the first British political officer of Sikkim, began to bring in labour from Nepal to build roads and cultivate land.</p><p>There was another reason why the British encouraged Nepali immigration‚Äîto counteract Tibetan influence in Sikkim. There were close religious, cultural and political ties between the two kingdoms. White‚Äôs successors tried to undo the policy, but by the early twentieth century, the native population of Bhutia and Lepcha people was already a minority.</p><p>From the 1940s onwards, this, then, was the defining divide in Sikkim‚Äôs politics: the tension between its powerful minority and the landless and disenfranchised Nepalis, who had grown to 75 percent of the population by the 1970s. The Chogyal‚Äôs inability to provide political representation for the majority of his subjects became his Achilles heel. The R&amp;AW recognized this and surreptitiously worked to exploit it. </p><p>The Sikkim operation helped Kao cement his legacy and strengthen India‚Äôs position in relation to China. ‚ÄúIt is a fantastic piece of work, handled in a way that it took place under the cover of democracy in process,‚Äù the former R&amp;AW officer Rana Banerji, who‚Äôs studied the Sikkim papers in the archives of the R&amp;AW‚Äôs Kolkata office, told me in a phone interview. ‚ÄúIt showed a lot of derring-do and vision, and gave tremendous impetus to the newly-formed agency.‚Äù </p><p>Sidhu drove the operation for 26 months from February 1973 to April 1975. He was flattered to be a ‚ÄòKaoboy‚Äô, the moniker given to the spies who were personally mentored by Kao. His book is littered with references to clandestine meetings, secured phone calls and secret memos. But Sikkim was not a regular intelligence operation. Sidhu called it a ‚Äúcollaborative effort‚Äù between the R&amp;AW and the political parties. ‚ÄúWhile merger was the ultimate goal, this had to be achieved in stages and through constitutional means,‚Äù he wrote. </p><p>First, Sidhu had to reassure pro-democracy leaders that India was changing its policy towards the Chogyal‚Äîit was now inclined to support their agitation with logistical and financial assistance. On the ground, the R&amp;AW worked to encourage popular support and escalate protests against the monarchy. All anti-Chogyal political parties were merged under the leadership of Kazi Lhendup Dorji‚Äôs Sikkim National Congress. The aim was to compel the Chogyal to seek India‚Äôs assistance in restoring law and order. </p><p>On 4 April 1973, the Chogyal's birthday, thousands of protestors gathered outside the palace in Gangtok. It was the culmination of weeks of planning. The protests turned violent and raged for days. On 6 April, when Indira Gandhi‚Äôs principal secretary PN Dhar and foreign secretary Kewal Singh met her to apprise her of the situation in Gangtok, they found that she was in the know and was waiting for the Chogyal‚Äôs request for help. Dhar guessed that she had already been briefed by the R&amp;AW.
            <a href="" onclick="return!1">
              <sup id="zffsew5lutcg">[10]</sup>
            </a>
          </p><p>Two days later, India took administrative control of Sikkim. It was the beginning of the end. In May 1973, a tripartite agreement was signed between the government of India, the Chogyal and the political parties representing the people of Sikkim. Elections were held in 1974, and Kazi Lhendup Dorji became the kingdom‚Äôs first chief minister. A cable from the US Consulate in Delhi noted, ‚ÄúProspects for the long-term survival of the Royal House do not look good.‚Äù
            <a href="" onclick="return!1">
              <sup id="57b2r22019hx">[11]</sup>
            </a>
          </p><p>However, at the beginning of 1975, the Chogyal remained to be toppled‚Äîand in him, Gandhi unexpectedly had a worthy opponent. </p></div></div>]]>
            </description>
            <link>https://fiftytwo.in/story/kingdom/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25651871</guid>
            <pubDate>Tue, 05 Jan 2021 22:09:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[GUIDs Are Not the Only Answer]]>
            </title>
            <description>
<![CDATA[
Score 37 | Comments 36 (<a href="https://news.ycombinator.com/item?id=25650907">thread link</a>) | @ublaze
<br/>
January 5, 2021 | https://www.softwareatscale.dev/p/guids-are-not-enough | <a href="https://web.archive.org/web/*/https://www.softwareatscale.dev/p/guids-are-not-enough">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><a href="https://en.wikipedia.org/wiki/Universally_unique_identifier">Global Unique Identifiers</a> (GUIDs), also known as Universally Unique Identifiers (UUIDs) can be used as practically unique identifiers in systems.</p><p>GUIDs have many advantages. You can safely generate identifiers in a distributed setting, compared to a central identifier registrar. Many systems are vulnerable to <a href="https://portswigger.net/web-security/access-control/idor">Insecure Direct Object Reference</a> attacks, and even though permissions should always be checked for any access, it‚Äôs much easier to exploit these with sequential IDs compared to GUIDs (<a href="http://debarghyadas.com/writes/hacking-into-the-indian-education-system/">a high profile example</a>). Sequential IDs can leak <a href="https://news.ycombinator.com/item?id=14524061">important information</a>. Modern databases have custom <a href="https://www.postgresql.org/docs/current/datatype-uuid.html">in-built</a> UUID types which have <a href="https://stackoverflow.com/a/29882952/3399432">less storage overhead</a> and perform better than using a text type. There‚Äôs tons of <a href="https://www.clever-cloud.com/blog/engineering/2015/05/20/why-auto-increment-is-a-terrible-idea/">blogs</a> extolling the benefits of GUIDs.</p><p>But anecdotally, there‚Äôs too many cases where raw GUIDs are used as identifiers, even though they might not be the appropriate choice.</p><h2>Challenges</h2><p>By their nature, GUIDs are opaque values that don‚Äôt lend too much information about what they‚Äôre identifying. They‚Äôre also generally unergonomic due to their length and structure. It‚Äôs almost trivially obvious that GUIDs shouldn't be in URLs due to their <a href="https://wiki.c2.com/?DontPutGuidsInUrls">poor aesthetics</a>. To steal an example from <a href="https://blog.codinghorror.com/primary-keys-ids-versus-guids/">Coding Horror</a>, database queries at the REPL can become frustrating.</p><pre><code>$ select * where userid='{BAE7DF4-DDF-3RG-5TY3E3RF456AS10}'</code></pre><p>Poorly formatted log statements/errors can become harder to debug, since the identifiers don‚Äôt tell us what they‚Äôre identifying: </p><pre><code><code>error processing BAE7DF4-DDF-3RG-5TY3E3RF456AS10: nil</code></code></pre><p>This can be mitigated by having libraries that report stack traces/line numbers and help identify the exact line of code with the error, so in general, UUIDs often need context to aid debugging.</p><p>Moreover, the lack of type safety of using raw integers and raw UUIDs can cause <a href="https://rachelbythebay.com/w/2018/04/27/uid/">horrifying problems</a> and is emblematic of lack of type safety with identifiers. With poor naming in code, it‚Äôs very easy to cause problems. Consider a variation of the example from the linked blog:</p><pre><code>def get_team_and_user_ids() -&gt; List[Tuple[UUID, UUID]]:
  """Returns a tuple of (team_id, user_id) tuples"""
  ...

def ban(user_id: UUID) -&gt; None: ...

for (user, team) in get_team_and_user_ids():
    ban(user)</code></pre><p>The script might just error out since UUIDs between users and teams aren‚Äôt shared, but the consequences might have been worse with integer IDs.</p><h2>Designing your Identifiers</h2><p>Identifiers should be designed for the properties of object they‚Äôre going to be identifying. We can mix and match components based on the importance of mutability, debuggability, performance and privacy for the object. For example, identifiers for permanent or external objects like customers should be treated differently to ephemeral or internal objects like tasks/jobs.</p><p><strong>Structure identifiers with prefixes and hierarchies</strong></p><p>Often for internal objects, debuggability is key, and prefixes can help with debugging. For example, all task identifiers could have the prefix ‚Äútask-‚Äù. This automatically makes context free debugging easier, and makes it easy to grep for all messages that have IDs:</p><pre><code>error processing task-2: nil</code></pre><p>Hierarchies help even more with debuggability. Let‚Äôs say that every ‚ÄúJob‚Äù spawns N ‚ÄúTasks‚Äù. Tasks IDs might want to contain their job IDs, so that it becomes trivially simple to grep for tasks of a particular job. For example, a task ID would look like: `job-123-task-1`. This also helps in ad-hoc database queries to find relevant rows without complex JOINs. We have examples of this in real life, like area codes in phone numbers.</p><p>We can add constant prefixes/hierarchies to any existing ID type. Critics might point out that storing a prefix with a UUID is wasteful since we‚Äôd lose the benefits of database optimized UUID types. This can easily be mitigated by storing un-prefixed UUID in the database, and application code automatically prepends a prefix for client code to use, but this might add some complexity.</p><p><strong><a href="https://en.wikipedia.org/wiki/Content-addressable_storage">Content Addressability</a></strong></p><p>Sometimes, we want a zero inconsistency approach to storing objects, so it might make sense to make the identifier (or part of it) the checksum of the content that is to be stored. This guarantees that the underlying content has not been modified. Git does this with SHA1 commit hashes (<a href="https://git-scm.com/docs/hash-function-transition/">even though this is being migrated to SHA256 as of December 2020</a>). <a href="https://bazel.build/">Bazel</a> (build system) uses a Content Addressable Store for <a href="https://docs.bazel.build/versions/master/remote-caching.html">remote caching</a>.</p><p><strong>Semi sortability</strong></p><p>If you need basic sortability and don‚Äôt mind the privacy concerns, consider using a scheme like Segment‚Äôs <a href="https://github.com/segmentio/ksuid">KSUID</a>. This side-steps use of sequential IDs which will be painful to migrate away from. <a href="https://github.com/segmentio/ksuid#2-collision-free-coordination-free-dependency-free">UUID1 has some known issues</a>.</p><h2>Type Safety</h2><p>At the very least, identifiers should not be allowed to float freely as strings or integers in order to prevent a class of inconsistency bugs. SQLAlchemy, a database manipulation library in Python, lets user implement a custom <a href="https://docs.sqlalchemy.org/en/14/core/custom_types.html#sqlalchemy.types.TypeDecorator">TypeDecorator</a> (and has native support for Postgres UUIDs). Let‚Äôs reproduce an <a href="https://stackoverflow.com/a/49398042/3399432">example</a> with some tweaks:</p><pre><code>from sqlalchemy.dialects.postgresql import UUID
from flask_sqlalchemy import SQLAlchemy
import uuid
from typing import NewType

db = SQLAlchemy()

FooId = NewType("FooId", bound=UUID)

class Foo(db.Model):
    id = db.Column(FooId(as_uuid=True), primary_key=True, 
                   default=uuid.uuid4, unique=True)</code></pre><p>With a custom type ‚ÄúFooId‚Äù being marked as the column type, <a href="https://mypy.readthedocs.io/en/stable/">type checking</a> will prevent other ID types or raw UUID types there.</p><h2>Conclusion</h2><p>We‚Äôve seen that there‚Äôs a fair amount of complexity involved in id management and decision making. Some high scale applications end up deploying <a href="https://code.flickr.net/2010/02/08/ticket-servers-distributed-unique-primary-keys-on-the-cheap/">custom ID generation</a> services. Identifiers are an early, hard to reverse decision that affect even schemaless datastores, so they‚Äôre worth thinking about in advance, and the right decision can compound developer productivity and prevent painful infrastructure migrations down the road.</p></div></div>]]>
            </description>
            <link>https://www.softwareatscale.dev/p/guids-are-not-enough</link>
            <guid isPermaLink="false">hacker-news-small-sites-25650907</guid>
            <pubDate>Tue, 05 Jan 2021 20:56:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Getting root on a 4G LTE mobile hotspot]]>
            </title>
            <description>
<![CDATA[
Score 26 | Comments 3 (<a href="https://news.ycombinator.com/item?id=25650686">thread link</a>) | @todsacerdoti
<br/>
January 5, 2021 | https://alex.studer.dev/2021/01/04/mw41-1 | <a href="https://web.archive.org/web/*/https://alex.studer.dev/2021/01/04/mw41-1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	<p><i></i> January 4, 2021
	</p>
	<p>I have an <a href="https://www.alcatelmobile.com/product/mobile-broadband/mobile-wifi/linkzone-cat4-mobile-wi-fi/">Alcatel MW41</a> mobile hotspot. It works fine, but it seems to have some firmware running on it (more specifically, it‚Äôs running a web server to give you an interface to change different options), which raises two questions: 1) does it run Linux? and 2) can we get root on it?</p>

<p>Some research led me to find that it did, in fact, run Linux. Not only that, but there was a tool that would just give me root access to the hotspot, by the name of TCL-SWITCH-TOOL! <sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup> Apparently, this tool relied on the fact that the hotspot showed up as an external disk when you connect it to a computer. It did <em>something</em> that switched the hotspot into a debug mode, giving you a root shell.</p>

<p>The tool is Windows-only, but it‚Äôll probably just work under <a href="https://www.winehq.org/">Wine</a>, right? I downloaded the tool, ran it, hit the ‚Äúswitch to debug mode‚Äù button, and‚Ä¶.</p>

<!--more-->

<figure>
	<a href="https://alex.studer.dev/assets/mw41-1/tcl-switch.png">
		<img src="https://alex.studer.dev/assets/mw41-1/tcl-switch.png" title="‚Äú50‚Äù." alt="‚Äú50‚Äù.">
	</a>
	<figcaption><p>‚Äú50‚Äù.</p>
</figcaption>
</figure>

<p>‚Äú50‚Äù. Hmm. Closing that message gave another error:</p>

<figure>
	<a href="https://alex.studer.dev/assets/mw41-1/tcl-switch-2.png">
		<img src="https://alex.studer.dev/assets/mw41-1/tcl-switch-2.png" title="(it didn‚Äôt work)" alt="(it didn‚Äôt work)">
	</a>
	<figcaption><p>(it didn‚Äôt work)</p>
</figcaption>
</figure>

<p>And, in the terminal I used to run the program, I saw a warning message: <code>0009:fixme:ntdll:server_ioctl_file Unsupported ioctl 4d014 (device=4 access=3 func=405 method=0)</code>. This seems to suggest that the program relies on some feature that Wine doesn‚Äôt support fully.</p>

<p>At this point, I could probably find an actual Windows computer and just use that. But that‚Äôs no fun! Can we figure out how this program works, and replicate it ourselves?</p>

<h2 id="what-does-it-even-do">What does it even do?</h2>
<p>I decided to open the program in <a href="https://ghidra-sre.org/">Ghidra</a>, a reverse engineering tool. Searching for the error message from before, ‚Äúswitch device error‚Äù, I found that there were multiple references to the string, and they all seemed to be part of relatively complex functions. It would definitely be possible to analyze what the program is doing this way, but is there an easier method?</p>

<figure>
	<a href="https://alex.studer.dev/assets/mw41-1/switch-device-error.png">
		<img src="https://alex.studer.dev/assets/mw41-1/switch-device-error.png" title="As shown in the XREF list, there are four different functions that refer to this string." alt="As shown in the XREF list, there are four different functions that refer to this string.">
	</a>
	<figcaption><p>As shown in the XREF list, there are four different functions that refer to this string.</p>
</figcaption>
</figure>

<p>Well, given that the program asks for the drive letter corresponding to the hotspot, it seems reasonable to assume that it‚Äôs somehow sending some special command to the drive over that existing connection (as opposed to, say, some weird custom USB protocol). This seems to be confirmed by the presence of the string <code>\\.\PHYSICALDRIVE%c</code>, which presumably is some way to directly access the drive?</p>

<figure>
	<a href="https://alex.studer.dev/assets/mw41-1/physical-drive.png">
		<img src="https://alex.studer.dev/assets/mw41-1/physical-drive.png" title="The mysterious `\\.\PHYSICALDRIVE%c` string." alt="The mysterious `\\.\PHYSICALDRIVE%c` string.">
	</a>
	<figcaption><p>The mysterious <code>\\.\PHYSICALDRIVE%c</code> string.</p>
</figcaption>
</figure>

<p>Let‚Äôs assume that the program somehow opens the drive and then does some magic incantation to switch the hotspot into a debug mode. No matter how complicated TCL-SWITCH-TOOL is, at the end of the day, both of those operations will eventually need to go through the Windows API, which is external to this program.</p>

<p>We can monitor those API calls by using <a href="https://wiki.winehq.org/Wine_User%27s_Guide#WINEDEBUG.3Dchannels">Wine‚Äôs debug options</a> to enable the <a href="https://wiki.winehq.org/Debug_Channels#Useful_Channels"><code>relay</code> debug channel</a>. This logs every time TCL-SWITCH-TOOL makes a function call to an external library (what Windows calls a DLL). The hope is that we‚Äôll see the function calls to whatever Windows DLL is responsible for opening the drive and sending those commands. That should then give us a better idea of what the program is actually doing. <sup id="fnref:2" role="doc-noteref"><a href="#fn:2">2</a></sup></p>

<p>So, I ran <code>WINEDEBUG=relay wine TCL-SWITCH-TOOL.exe &amp;&gt; tcllog.log</code>, typed in the drive letter, and hit the button to switch the hotspot into debug mode. This resulted in a rather large log file. <sup id="fnref:3" role="doc-noteref"><a href="#fn:3">3</a></sup> I searched for the <code>PHYSICALDRIVE</code> string from before, and‚Ä¶nothing. Since that didn‚Äôt work, I decided to look for the drive letter I used (<code>F</code>), figuring that the tool probably had to somehow communicate the selected drive letter to Windows.</p>

<figure>
	<a href="https://alex.studer.dev/assets/mw41-1/relay-log.png">
		<img src="https://alex.studer.dev/assets/mw41-1/relay-log.png" title="The various function calls logged by Wine." alt="The various function calls logged by Wine.">
	</a>
	<figcaption><p>The various function calls logged by Wine.</p>
</figcaption>
</figure>

<p>That actually seemed to work! In this log, each line corresponds to either a function call (labeled as <code>Call</code>) or a function returning (labeled as <code>Ret</code>). At the top, you can see that TCL-SWITCH-TOOL calls <code>CreateFileA</code>, part of <code>KERNEL32</code>, on <code>\\.\\F:</code>. <sup id="fnref:4" role="doc-noteref"><a href="#fn:4">4</a></sup> Then, Wine‚Äôs implementation of <code>KERNEL32</code> makes some function calls of its own and finally decides to return a value. (that‚Äôs the <code>009:Ret KERNEL32.CreateFileA()</code> line at the bottom) After that, TCL-SWITCH-TOOL decides to make another call, this time to <code>KERNEL32</code>‚Äôs <code>DeviceIoControl</code> function, which seems like what we‚Äôre looking for. And, this function call has one parameter equal to <code>4d014</code>, which matches the error message we got from Wine all the way at the beginning! <sup id="fnref:5" role="doc-noteref"><a href="#fn:5">5</a></sup></p>

<p>So, what is <code>DeviceIoControl</code>? Looking at the <a href="https://docs.microsoft.com/en-us/windows/win32/api/ioapiset/nf-ioapiset-deviceiocontrol">official Microsoft documentation</a>, it seems to be a fairly generic function that does something based on the <code>dwIoControlCode</code> parameter. <sup id="fnref:6" role="doc-noteref"><a href="#fn:6">6</a></sup> In our case, <code>dwIoControlCode</code> is <code>0x4d014</code>, corresponding to <a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/ddi/ntddscsi/ni-ntddscsi-ioctl_scsi_pass_through_direct">IOCTL_SCSI_PASS_THROUGH_DIRECT</a>, which, according to that page, ‚Äúallows an application to send almost any SCSI command to a target device.‚Äù</p>

<h2 id="finding-the-command">Finding the command</h2>
<p>By this point, it seems likely that this is the magic debug mode incantation. But what‚Äôs the actual SCSI command? Going back to Ghidra, we can pull up DeviceIoControl, and see where it‚Äôs called from. <sup id="fnref:7" role="doc-noteref"><a href="#fn:7">7</a></sup></p>

<figure>
	<a href="https://alex.studer.dev/assets/mw41-1/deviceiocontrol.png">
		<img src="https://alex.studer.dev/assets/mw41-1/deviceiocontrol.png" title="The reference to KERNEL32.dll‚Äôs DeviceIoControl." alt="The reference to KERNEL32.dll‚Äôs DeviceIoControl.">
	</a>
	<figcaption><p>The reference to KERNEL32.dll‚Äôs DeviceIoControl.</p>
</figcaption>
</figure>

<p>The thing that says <code>XREF</code>, on the right, tells us that this function has one reference in the entire program. (that is, it‚Äôs only used once) Double-clicking on that gives us the code that makes the DeviceIoControl call:</p>

<figure>
	<a href="https://alex.studer.dev/assets/mw41-1/deviceiocontrol-xref.png">
		<img src="https://alex.studer.dev/assets/mw41-1/deviceiocontrol-xref.png" title="The one usage of DeviceIoControl." alt="The one usage of DeviceIoControl.">
	</a>
	<figcaption><p>The one usage of DeviceIoControl.</p>
</figcaption>
</figure>

<p>At this point, we could go through the assembly in Ghidra and determine how the various arguments to DeviceIoControl are constructed. However, there‚Äôs an easier way. We know now that the function call is at address <code>0x4031d4</code>. So, we can use <a href="https://wiki.winehq.org/Wine_Developer%27s_Guide/Debugging_Wine">Wine‚Äôs debugger</a> to set a breakpoint at that address, run the program, and then, once it hits our breakpoint, print out the various arguments. <sup id="fnref:8" role="doc-noteref"><a href="#fn:8">8</a></sup></p>

<p>So, I ran <code>winedbg --gdb TCL-SWITCH-TOOL.exe</code>, used the <code>b *0x4031d4</code> command to set the breakpoint, and tried the program again.</p>

<figure>
	<a href="https://alex.studer.dev/assets/mw41-1/breakpoint.png">
		<img src="https://alex.studer.dev/assets/mw41-1/breakpoint.png" title="Setting (and hitting!) the breakpoint." alt="Setting (and hitting!) the breakpoint.">
	</a>
	<figcaption><p>Setting (and hitting!) the breakpoint.</p>
</figcaption>
</figure>

<p>It hit the breakpoint! Now, how do we know what the arguments are?</p>

<p>On Windows x86 systems, the <a href="https://en.wikipedia.org/wiki/X86_calling_conventions#cdecl"><em>cdecl</em> calling convention</a> is used. <sup id="fnref:9" role="doc-noteref"><a href="#fn:9">9</a></sup> That means our arguments should have been pushed to the stack. Using GDB, we can take a look at the stack‚Äôs current contents: <sup id="fnref:10" role="doc-noteref"><a href="#fn:10">10</a></sup></p>

<figure>
	<a href="https://alex.studer.dev/assets/mw41-1/stack.png">
		<img src="https://alex.studer.dev/assets/mw41-1/stack.png" title="The contents of the stack." alt="The contents of the stack.">
	</a>
	<figcaption><p>The contents of the stack.</p>
</figcaption>
</figure>

<p>We can match these values to the arguments of <code>DeviceIoControl</code> (which, again, you can find <a href="https://docs.microsoft.com/en-us/windows/win32/api/ioapiset/nf-ioapiset-deviceiocontrol">on this page</a>). The <a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/ddi/ntddscsi/ni-ntddscsi-ioctl_scsi_pass_through_direct">IOCTL_SCSI_PASS_THROUGH_DIRECT page</a> tells us that it takes the command to send from the input buffer, which should correspond to <code>DeviceIoControl</code>‚Äôs third argument, <code>lpInBuffer</code>. In our case, the third argument is <code>0x32ed90</code>. The fourth argument, <code>nInBufferSize</code>, tells us how large that input buffer is, which in our case is <code>0x50</code> bytes. So, let‚Äôs look at <code>0x50</code> bytes from <code>0x32ed90</code>:</p>

<figure>
	<a href="https://alex.studer.dev/assets/mw41-1/input-buffer.png">
		<img src="https://alex.studer.dev/assets/mw41-1/input-buffer.png" title="The contents of `lpInBuffer`." alt="The contents of `lpInBuffer`.">
	</a>
	<figcaption><p>The contents of <code>lpInBuffer</code>.</p>
</figcaption>
</figure>

<p>So is this the magic command? Well, the IOCTL page from before tells us that this should actually be a <a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/ddi/ntddscsi/ns-ntddscsi-_scsi_pass_through_direct">SCSI_PASS_THROUGH_DIRECT</a> struct.</p>

<div><div><pre><code><span>typedef</span> <span>struct</span> <span>_SCSI_PASS_THROUGH_DIRECT</span> <span>{</span>
  <span>USHORT</span> <span>Length</span><span>;</span>
  <span>UCHAR</span>  <span>ScsiStatus</span><span>;</span>
  <span>UCHAR</span>  <span>PathId</span><span>;</span>
  <span>UCHAR</span>  <span>TargetId</span><span>;</span>
  <span>UCHAR</span>  <span>Lun</span><span>;</span>
  <span>UCHAR</span>  <span>CdbLength</span><span>;</span>
  <span>UCHAR</span>  <span>SenseInfoLength</span><span>;</span>
  <span>UCHAR</span>  <span>DataIn</span><span>;</span>
  <span>ULONG</span>  <span>DataTransferLength</span><span>;</span>
  <span>ULONG</span>  <span>TimeOutValue</span><span>;</span>
  <span>PVOID</span>  <span>DataBuffer</span><span>;</span>
  <span>ULONG</span>  <span>SenseInfoOffset</span><span>;</span>
  <span>UCHAR</span>  <span>Cdb</span><span>[</span><span>16</span><span>];</span>
<span>}</span> <span>SCSI_PASS_THROUGH_DIRECT</span><span>,</span> <span>*</span><span>PSCSI_PASS_THROUGH_DIRECT</span><span>;</span>
</code></pre></div></div>

<p>We can match the fields of the struct with the data we dumped out from GDB. <sup id="fnref:11" role="doc-noteref"><a href="#fn:11">11</a></sup></p>

<table>
  <thead>
    <tr>
      <th>Field</th>
      <th>Data</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Length</td>
      <td><code>0x2c	0x00</code></td>
    </tr>
    <tr>
      <td>ScsiStatus</td>
      <td><code>0x00</code></td>
    </tr>
    <tr>
      <td>PathId</td>
      <td><code>0x00</code></td>
    </tr>
    <tr>
      <td>TargetId</td>
      <td><code>0x00</code></td>
    </tr>
    <tr>
      <td>Lun</td>
      <td><code>0x00</code></td>
    </tr>
    <tr>
      <td>CdbLength</td>
      <td><code>0x0c</code></td>
    </tr>
    <tr>
      <td>SenseInfoLength</td>
      <td><code>0x1f</code></td>
    </tr>
    <tr>
      <td>DataIn</td>
      <td><code>0x01</code></td>
    </tr>
    <tr>
      <td>PADDING</td>
      <td><code>0x00	0x00	0x00</code></td>
    </tr>
    <tr>
      <td>DataTransferLength</td>
      <td><code>0xc0	0x00	0x00	0x00</code></td>
    </tr>
    <tr>
      <td>TimeOutValue</td>
      <td><code>0x64	0x00	0x00	0x00</code></td>
    </tr>
    <tr>
      <td>DataBuffer</td>
      <td><code>0x2c	0xee	0x32	0x00</code></td>
    </tr>
    <tr>
      <td>SenseInfoOffset</td>
      <td><code>0x30	0x00	0x00	0x00</code></td>
    </tr>
    <tr>
      <td>Cdb</td>
      <td><code>0x16	0xf9	0x00	0x00	0x00	0x00	0x00	0x00	0x00	0x00	0x00	0x00	0x00	0x00	0x00	0x00</code></td>
    </tr>
  </tbody>
</table>

<p>Note that we have to include three bytes of padding (labeled <code>PADDING</code>) because <a href="https://docs.microsoft.com/en-us/cpp/c-language/padding-and-alignment-of-structure-members?view=msvc-160">Microsoft‚Äôs C compiler</a> has to align <code>DataTransferLength</code> to be on a four-byte boundary.</p>

<h2 id="replicating-the-command">Replicating the command</h2>
<p>Now that we‚Äôve deciphered the struct, what is this struct telling Windows to do? Most of the fields aren‚Äôt relevant, but what‚Äôs important here is <code>Cdb</code>, which, according to the documentation, ‚Äúspecifies the SCSI command descriptor block to be sent to the target device.‚Äù In other words, this should be the command that switches the hotspot into debug mode! Then, after sending that command, since the <code>DataIn</code> flag is <code>0x01</code> (equivalent to <code>SCSI_IOCTL_DATA_IN</code>), Windows will read <code>0xc0</code>, or 192, bytes (the value of <code>DataTransferLength</code>) from the device. <sup id="fnref:12" role="doc-noteref"><a href="#fn:12">12</a></sup></p>

<p>Some research pointed me to the <a href="https://linux.die.net/man/8/sg_raw">sg_raw</a> command, which is how you can send arbitrary SCSI commands on Linux. <sup id="fnref:13" role="doc-noteref"><a href="#fn:13">13</a></sup> Using the value from <code>Cdb</code>, the command to use should be <code>sudo sg_raw /dev/sgX 16 f9 00 00 00 00 00 00 00 00 00 00 00 00 00 00 -v</code>, where <code>X</code> is the number corresponding to the hotspot‚Äôs disk. <sup id="fnref:14" role="doc-noteref"><a href="#fn:14">14</a></sup> I tried it, and:</p>

<figure>
	<a href="https://alex.studer.dev/assets/mw41-1/success.png">
		<img src="https://alex.studer.dev/assets/mw41-1/success.png" title="Success!" alt="Success!">
	</a>
	<figcaption><p>Success!</p>
</figcaption>
</figure>

<p>It worked! After all this, we finally have the magic command. At this point, you have full root access to the hotspot, and can do basically anything you want.</p>

<p>If you were paying close attention, you might have noticed that the first two bytes (<code>0x16 0xf9</code>) of the command match what the debug mode button says in the first place! (as can be seen at the screenshots at the beginning of the article) Despite that, this effort was still useful to figure out <em>how</em> the bytes are actually sent. It also means that you can probably figure out how to switch it into ‚Äúdiag mode‚Äù instead of debug mode, since that button also has its command printed on it. <sup id="fnref:15" role="doc-noteref"><a href="#fn:15">15</a></sup></p>

<p>Also, this only works because the debug protocol was fairly simple. Once we found the magic command, we could just repeat it ourselves. If the debug protocol were more complicated (for example, if the command varied based on some parameter, such as the current time), then we would need to perform a more in-depth analysis of the program.</p>

<p>One final note: you use <code>adb</code>‚Äîas in, the Android Debug Bridge‚Äîto access the shell. The hotspot doesn‚Äôt run Android, but it seems to still use <a href="https://source.android.com/devices/architecture/modular-system/adbd">adbd</a>, along with a few other components from Android. Investigating everything that‚Äôs running on the hotspot, though, is probably a subject for a future blog post.</p>



</div></div>]]>
            </description>
            <link>https://alex.studer.dev/2021/01/04/mw41-1</link>
            <guid isPermaLink="false">hacker-news-small-sites-25650686</guid>
            <pubDate>Tue, 05 Jan 2021 20:37:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Automatically fixing packet loss on my connection]]>
            </title>
            <description>
<![CDATA[
Score 22 | Comments 35 (<a href="https://news.ycombinator.com/item?id=25650270">thread link</a>) | @robotmay
<br/>
January 5, 2021 | https://senryu.pub/afternoonrobot/articles/automatically-fixing-packet-loss-on-my-connection | <a href="https://web.archive.org/web/*/https://senryu.pub/afternoonrobot/articles/automatically-fixing-packet-loss-on-my-connection">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><p>Sometimes my internet connection starts to experience packet loss, which is a common issue for many people. Unlike most ISPs, <a href="https://www.aa.net.uk/">Andrews &amp; Arnold</a> actually provide a way to monitor packet loss statistics on your line. Physically restarting the modem is the most reliable way I've found to resolve packet loss issues.</p>

<p>Up until now I had to walk upstairs like some sort of muppet and manually toggle the modem (well, it's a <a href="https://www.draytek.co.uk/products/business/vigor-130">DrayTek Vigor 130</a> which is sort-of a modem but more a PPPoA to PPPoE converter but whatever).</p>

<p>No longer! I have solved the issue with copious complexity.</p>

<h2>Step 1: Write a Prometheus exporter for A&amp;A line stats</h2>

<p>I don't really enjoy writing Go, which a lot of exporters seem to be written in, so instead I've started writing my own small custom exporters in Ruby. This has overall made Prometheus significantly less frustrating to customise for my use-case.</p>

<p><a href="https://gitlab.com/robotmay/prometheus-aanet-exporter/-/blob/master/prometheus-aanet-exporter">https://gitlab.com/robotmay/prometheus-aanet-exporter/-/blob/master/prometheus-aanet-exporter</a></p>

<p>To use it you need to have Ruby set up, install the required gems at the top (or use the Gemfile), then move it to somewhere executable and run it using <code>systemd</code> or whatever. I'll update the instructions in the README at some point.</p>

<p>It works by fetching your personal stats data from an XML feed A&amp;A provide. If you're a customer you can fetch it from inside your control panel under the line stats graph:</p>

<p><img src="https://img.senryumedia.net/d9e630d50b97661fc026507d2f49144f.png"></p>

<h2>Step 2: Graph it in Grafana</h2>

<p>I then set up a graph showing the line stats, with an axis specifically for packet loss:</p>

<p><img title="Shiny line graph" alt="Shiny line graph" src="https://img.senryumedia.net/92c755483fb8d376a58e71c13493ea27.png"></p>

<p>This then has an alert configured which both alerts me directly when it starts firing, and also hits a <a href="https://www.home-assistant.io/">Home Assistant</a> webhook URL:</p>

<p><img title="Configure the alert based on the packet loss axis" alt="Configure the alert based on the packet loss axis" src="https://img.senryumedia.net/db01edb7169de838a53e23dba9d519d2.png"></p>

<h2>Step 3: Set up the network</h2>

<p>Houses in the UK are typically not well set up for people who like to mess around with networking. Our walls are thick and made of brick, and the copper/fibre entry point is typically somewhere really stupid. In the case of our house, this is the front upstairs bedroom, and my networking equipment is in the nice and cold kitchen area, with its stone (fire-resistant) floor, downstairs at the back of the house. When we moved in I ran <em>some</em> metres of Cat-6a cable through walls and stairwells to join the two ends.</p>

<p>I have a couple of Z-Wave plugs sat around from some previous experiments, so at first I tried just sticking the Vigor 130 on one of those in the bedroom, but unfortunately the signal doesn't penetrate that far and would require a bunch of repeaters. But then I ordered an Uninterruptible Power Supply and figured that I might as well power the Vigor 130 from that along with the rest of my equipment so that my connection stays up in power outages. The setup is now:</p>

<ol>
<li>4-way plug adapter into the UPS</li>
<li>Z-Wave plug into the 4-way</li>
<li>48v PoE injector into the Z-Wave plug. Non-PoE output into my EdgeRouter, PoE output runs to the wall socket and then up through the house</li>
<li>48v PoE to RJ45/12v 2.1mm barrel-jack splitter</li>
<li>Cat 6a cable from the adapter into the Vigor 130 network port</li>
<li>2.1mm barrel-jack with 2.5mm adapter into the Vigor's power input</li>
</ol>

<p><img title="High-tech fucking-bright-LEDs avoidance system on the front of the DrayTek" alt="High-tech fucking-bright-LEDs avoidance system on the front of the DrayTek" src="https://img.senryumedia.net/0795741f564304d4cf684bf9bff4092f.jpg"></p>

<h2>Step 4: Configuring <a href="https://www.home-assistant.io/">Home Assistant</a></h2>

<p>This is handled via an <a href="https://www.home-assistant.io/docs/automation/">automation</a>:</p>

<p><img src="https://img.senryumedia.net/355c993421d713dcafdcdf028b372a7b.png"></p>

<p>The <code>webhook</code> trigger type has to have a unique name, which requires a new notification channel in Grafana for each trigger, which is a bit of a pain but not the end of the world.</p>

<p>The next step is to come up with a process by which the modem can be restarted. I've displayed these as YAML because it's significantly more concise than screenshotting the GUI for it:</p>
<div><pre><code><span>alias</span><span>:</span> <span>ADSL Packet Loss</span>
<span>description</span><span>:</span> <span>Reset the Vigor 130 when packet loss is detected from A&amp;A</span>
<span>trigger</span><span>:</span>
  <span>-</span> <span>platform</span><span>:</span> <span>webhook</span>
    <span>webhook_id</span><span>:</span> <span>packet-loss</span>
<span>condition</span><span>:</span> <span>[]</span>
<span>action</span><span>:</span>
  <span>-</span> <span>service</span><span>:</span> <span>notify.telegram</span>
    <span>data</span><span>:</span>
      <span>message</span><span>:</span> <span>&gt;-</span>
        <span>Packet loss detected, restarting ADSL modem in 1 minute. The internet</span>
        <span>will disconnect whilst the modem restarts.</span>
  <span>-</span> <span>delay</span><span>:</span> <span>'</span><span>60'</span>
  <span>-</span> <span>repeat</span><span>:</span>
      <span>until</span><span>:</span>
        <span>-</span> <span>condition</span><span>:</span> <span>state</span>
          <span>entity_id</span><span>:</span> <span>binary_sensor.internet</span>
          <span>state</span><span>:</span> <span>'</span><span>on'</span>
      <span>sequence</span><span>:</span>
        <span>-</span> <span>type</span><span>:</span> <span>turn_off</span>
          <span>device_id</span><span>:</span> <span>012345</span>
          <span>entity_id</span><span>:</span> <span>switch.vigor_130_switch_2</span>
          <span>domain</span><span>:</span> <span>switch</span>
        <span>-</span> <span>delay</span><span>:</span> <span>'</span><span>10'</span>
        <span>-</span> <span>type</span><span>:</span> <span>turn_on</span>
          <span>device_id</span><span>:</span> <span>012345</span>
          <span>entity_id</span><span>:</span> <span>switch.vigor_130_switch_2</span>
          <span>domain</span><span>:</span> <span>switch</span>
        <span>-</span> <span>wait_template</span><span>:</span> <span>'</span><span>{{</span><span> </span><span>is_state("binary_sensor.internet",</span><span> </span><span>"on")</span><span> </span><span>}}'</span>
          <span>continue_on_timeout</span><span>:</span> <span>true</span>
          <span>timeout</span><span>:</span> <span>'</span><span>360'</span>
        <span>-</span> <span>choose</span><span>:</span>
            <span>-</span> <span>conditions</span><span>:</span>
                <span>-</span> <span>condition</span><span>:</span> <span>state</span>
                  <span>entity_id</span><span>:</span> <span>binary_sensor.internet</span>
                  <span>state</span><span>:</span> <span>'</span><span>on'</span>
              <span>sequence</span><span>:</span>
                <span>-</span> <span>service</span><span>:</span> <span>notify.telegram</span>
                  <span>data</span><span>:</span>
                    <span>message</span><span>:</span> <span>&gt;-</span>
                      <span>I have finished toggling the modem off and on and the</span>
                      <span>internet is back up.</span>
          <span>default</span><span>:</span> <span>[]</span>
  <span>-</span> <span>delay</span><span>:</span> <span>'</span><span>1800'</span>
<span>mode</span><span>:</span> <span>single</span>
</code></pre></div>
<h3>Steps</h3>

<h4>Notify</h4>

<p>Firstly, we notify users that the internet will be disconnected briefly, then pause the automation for 1 minute. I'm using Telegram for this because I find it flexible and reliable:</p>
<div><pre><code><span>-</span> <span>service</span><span>:</span> <span>notify.telegram</span>
    <span>data</span><span>:</span>
      <span>message</span><span>:</span> <span>&gt;-</span>
        <span>Packet loss detected, restarting ADSL modem in 1 minute. The internet</span>
        <span>will disconnect whilst the modem restarts.</span>
  <span>-</span> <span>delay</span><span>:</span> <span>'</span><span>60'</span>
</code></pre></div>
<p>I'd like to improve upon this by allowing the users to block the restart from happening by clicking a button in Telegram. Next iteration!</p>

<h4>Repeat the next set of instructions</h4>

<p>Next we start a repeating loop using <code>repeat</code>, which will keep trying the restart steps until the internet connection reappears. </p>

<h4>Reset loop</h4>

<p>The switch is turned off, we wait for 10 seconds, then turn it back on:</p>
<div><pre><code>        <span>-</span> <span>type</span><span>:</span> <span>turn_off</span>
          <span>device_id</span><span>:</span> <span>012345</span>
          <span>entity_id</span><span>:</span> <span>switch.vigor_130_switch_2</span>
          <span>domain</span><span>:</span> <span>switch</span>
        <span>-</span> <span>delay</span><span>:</span> <span>'</span><span>10'</span>
        <span>-</span> <span>type</span><span>:</span> <span>turn_on</span>
          <span>device_id</span><span>:</span> <span>012345</span>
          <span>entity_id</span><span>:</span> <span>switch.vigor_130_switch_2</span>
          <span>domain</span><span>:</span> <span>switch</span>
</code></pre></div>
<p>Then we wait for up to 5 minutes (360 seconds) for the internet to come back up. <code>binary_sensor.internet</code> is numerous <code>ping</code> binary sensors to different websites, where any of them responding within the last minute will cause the sensor to report as <code>on</code>.</p>
<div><pre><code>        <span>-</span> <span>wait_template</span><span>:</span> <span>'</span><span>{{</span><span> </span><span>is_state("binary_sensor.internet",</span><span> </span><span>"on")</span><span> </span><span>}}'</span>
          <span>continue_on_timeout</span><span>:</span> <span>true</span>
          <span>timeout</span><span>:</span> <span>'</span><span>360'</span>
</code></pre></div>
<p>This will time out after 5 minutes and continue to the next steps, but the sensor changing to <code>on</code> before that will exit it early. This means we allow up to 5 minutes for the connection to reappear before seeing whether we should notify the user that it's back:</p>
<div><pre><code>          <span>-</span> <span>choose</span><span>:</span>
            <span>-</span> <span>conditions</span><span>:</span>
                <span>-</span> <span>condition</span><span>:</span> <span>state</span>
                  <span>entity_id</span><span>:</span> <span>binary_sensor.internet</span>
                  <span>state</span><span>:</span> <span>'</span><span>on'</span>
              <span>sequence</span><span>:</span>
                <span>-</span> <span>service</span><span>:</span> <span>notify.telegram</span>
                  <span>data</span><span>:</span>
                    <span>message</span><span>:</span> <span>&gt;-</span>
                      <span>I have finished toggling the modem off and on and the</span>
                      <span>internet is back up.</span>
          <span>default</span><span>:</span> <span>[]</span>
</code></pre></div>
<h4>Pause for a bit</h4>

<p>In case Grafana chooses to wing multiple alerts to the webhook, we should pause at the end of this automation. This will work with the <code>single</code> mode described in the next step to effectively rate limit how often this can happen; currently 30 minutes:</p>

<h4>Super duper important</h4>

<p>You almost certainly want this running in <code>single</code> mode:</p>

<p>This will ensure only one version of this automation can run at once.</p>

<h2>Potential issues</h2>

<p>I wish Home Assistant had an option for <code>until</code> loops with a maximum retry count. I can't seem to find it in the documentation, but it might be possible with some other combination of steps.</p>

<p>I've tweaked my Grafana alert a few times to try and ensure it doesn't fire again as soon as the internet returns after the automation fires. This was a problem.</p>

<p>I almost certainly want to alter how this works when people are in the house vs an empty house. With an empty house it shouldn't really matter if we restart quickly, but with people in the house we might want to be able to override it and prevent any restarts for a certain timeframe. Some traffic inherently has high packet loss, such as (for me), downloads from Microsoft servers in the Xbox app on Windows.</p>

<h2>Fin</h2>

<p><img src="https://img.senryumedia.net/9bb3413de5c9e13d8886e5c44d7a6b3b.png"></p>

<p>It works! I could potentially drop one aspect of complexity and gather the packet loss stats directly in Home Assistant, but I already had it set up in Grafana/Prometheus so it was actually less effort this time around.</p>

<p>This will save me many minutes of effort over my lifetime, and is therefore a resounding success.</p>
</section></div>]]>
            </description>
            <link>https://senryu.pub/afternoonrobot/articles/automatically-fixing-packet-loss-on-my-connection</link>
            <guid isPermaLink="false">hacker-news-small-sites-25650270</guid>
            <pubDate>Tue, 05 Jan 2021 20:01:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Amazon buys 11 Boeing 767s to expand its cargo fleet]]>
            </title>
            <description>
<![CDATA[
Score 225 | Comments 174 (<a href="https://news.ycombinator.com/item?id=25650094">thread link</a>) | @seryoiupfurds
<br/>
January 5, 2021 | https://www.cbc.ca/news/business/amazon-westjet-1.5861635 | <a href="https://web.archive.org/web/*/https://www.cbc.ca/news/business/amazon-westjet-1.5861635">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Amazon is buying four jets from WestJet and seven&nbsp;from Delta as the e-commerce giant moves to beef up its delivery fleet at a time when passenger jets are no longer so in demand.</p><div><figure><div><p><img loading="lazy" alt="" srcset="" sizes="" src="https://i.cbc.ca/1.5861643.1609859058!/fileImage/httpImage/image.jpg_gen/derivatives/16x9_780/amazon-delivery-plane.jpg"></p></div><figcaption>Amazon launched its own air cargo fleet in 2016 which has grown to consist of 80 leased jets, but Tuesday's purchase of planes from WestJet and Delta are the first ones it will own.<!-- --> <!-- -->(Luke Sharrett/Bloomberg)</figcaption></figure><p><span><p>Amazon is buying four jets from WestJet and seven&nbsp;from Delta as the e-commerce giant moves to beef up its delivery fleet at a time when passenger jets are no longer so in demand.</p>  <p>In a release, the company said the 11 jets, which are all Boeing 767-300s, are all currently set up to carry passengers but are in the process of being converted to carry only cargo. The WestJet jets will join Amazon's fleet some time this year&nbsp;and the Delta ones in 2022.</p>  <p>"Our goal is to continue delivering for customers across the U.S. in the way that they expect from Amazon, and purchasing our own aircraft is a natural next step toward that goal,"&nbsp;Sarah Rhoads, vice-president of Amazon Global Air, said in a release.</p>  <p>The 767 was a key jet for WestJet&nbsp;in its evolution as it was the airline's only wide-body jet, but the airline has recently decommissioned its entire fleet of them&nbsp;and moved to larger 787 Dreamliners for many long-haul flights.</p>  <p>"Last year our 767s were removed from service as we gauged market interest for the procurement of the 767 fleet," spokesperson Morgan Bell told CBC News in a statement. "We are pleased they found a home with Amazon."</p>  <p>The four jets represents WestJet's entire fleet of 767s.</p>  <h2>Amazon building delivery network</h2>  <p>Amazon launched its own air cargo fleet in 2016&nbsp;and, prior to Tuesday's news, the company leased&nbsp;80 planes, but the move is the first time the company has bought their own.</p>  <p>The company uses&nbsp;parcel services such as UPS and FedEx for its current deliveries, but is moving to build its own delivery network as it increasingly views itself as a competitor to those services, not a partner.</p>  <p>Amazon owns tens of thousands of its own delivery trucks, and has been experimenting with its own fleet of <a href="https://www.cbc.ca/news/technology/amazon-tests-delivery-drones-at-a-secret-site-in-canada-here-s-why-1.3015425">autonomous delivery drones</a>. But those are for the last leg of the delivery journey&nbsp;‚Äî it still relies on planes to get packages across vast distances, quickly.</p>  <p>Tuesday's news is the first purchase of jets, but also the second time in the pandemic that the company has added to its number of planes.</p>  <p>In June of 2020, the company <a href="https://www.businesswire.com/news/home/20200604005144/en/ATSG-to-Lease-Twelve-Additional-767-Freighters-to-Amazon">leased a dozen 767s from&nbsp;Air Transport Services Group, Inc.</a></p>  <p>Financial terms of the sale were not disclosed.&nbsp;</p></span></p></div></div>]]>
            </description>
            <link>https://www.cbc.ca/news/business/amazon-westjet-1.5861635</link>
            <guid isPermaLink="false">hacker-news-small-sites-25650094</guid>
            <pubDate>Tue, 05 Jan 2021 19:49:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Moral Competence]]>
            </title>
            <description>
<![CDATA[
Score 268 | Comments 170 (<a href="https://news.ycombinator.com/item?id=25648186">thread link</a>) | @flaque
<br/>
January 5, 2021 | https://evanjconrad.com/posts/moral-competence | <a href="https://web.archive.org/web/*/https://evanjconrad.com/posts/moral-competence">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><p><em>Since posting, a number of peple have pointed out that "competence" probably isn't the right word here. "Morally focused", or "morally effective" might be better. This post isn't meant to be harsh, nor is it meant to propose an absolute binary. I hope you'll read it with the kinder tone that was intended.</em></p>
<p>Last year, we pivoted our YC startup from a socially-good mental health product <a href="https://github.com/Flaque/quirk">(Quirk)</a>, towards a socially-neutral software infrastructure product <a href="https://www.roomservice.dev/">(Room Service)</a>. I couldn't have imagined myself wanting to pivot when we started; our mental health company was deeply tied to my own experience and our genuine desire to help other folks. With the clarity of a year (and a global pandemic) in between the pivot, it's easier to see some of what went wrong.</p>
<p>What we were missing, and what many social-good founders are missing, is moral competence. <strong>If you want to do good, you actually have to help people.</strong> Merely attempting to help people is not enough. That doesn't mean that <em>trying</em> to help people is bad. It's not, but moral good comes from moral competence. And that was something we lacked.</p>
<p>The morally <em>incompetent</em> want purpose; they want to be on the front-lines of the helping. But for the morally incompetent, helping people is more important than the folks being helped. They don't offer service, they seek it. The service outranks the outcome. The signature move of the morally incompetent is to be told about existing solutions that they were previously unaware of and then soldier on without any critical examination of any added value they're providing. Others working on the problem are ignored entirely or seen as a threat to their own solution. The morally incompetent are passionate about working on the problem and potentially even solving the problem, so long as they were involved in the solution. For the morally incompetent, it's important that they're helping the right people with the right problem; it would be a failure to help on an entirely different problem. All problems are stack-ranked in the morally incompetent's mind and they need to be working on the one that's most critical to them in particular, regardless of their ability to offer help. For the morally incompetent, it's of <em>critical importance</em> that they work <em>directly</em> on the problem, rather than help indirectly. For the morally incompetent, large societal issues are best solved by direct intervention, rather than large societal solutions. Working on the problem indirectly, or from an angle that is not obvious to an outside observer is a failure. For the morally incompetent, large societal problems are unsolved only because they personally haven't purposed a solution.</p>
<p>It's easy to fall into the trap of moral incompetence, we did with our company. Moral competence and incompetence often looks the same to an outside observer. The world is really good at praising people who are <em>doing</em> good things well before those things are accomplished. You get hounded for interviews, you win awards, your family and friends congratulate you. And when things <em>aren't</em> going well, when you're <em>not</em> helping people, it feels like a betrayal to tell anyone. After all, that would mean no longer helping people with your chosen problem.</p>
<p>The morally <em>competent</em> differ in intent. It's more important to cure cancer than it is to be working on curing cancer, to stop climate change than to be working on stopping climate change, to improve mental health than to be working on improving mental health. The morally competent aren't hanging around the hoop, content to be playing the game. The point isn't to be working in the field, it's to solve the problem.</p>
</article><p>If you have a question, comment, or just want to get in touch, send me an email at <code>evan at roomservice dot dev</code>.</p></div>]]>
            </description>
            <link>https://evanjconrad.com/posts/moral-competence</link>
            <guid isPermaLink="false">hacker-news-small-sites-25648186</guid>
            <pubDate>Tue, 05 Jan 2021 17:37:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Surveillance in the Name of Covid-19]]>
            </title>
            <description>
<![CDATA[
Score 32 | Comments 9 (<a href="https://news.ycombinator.com/item?id=25647919">thread link</a>) | @leoschwartz
<br/>
January 5, 2021 | https://restofworld.org/2021/trace-together-forever/ | <a href="https://web.archive.org/web/*/https://restofworld.org/2021/trace-together-forever/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

			<!-- Article Start -->
			
<p>Chong Kai Xiong is usually so conscious of his privacy that he refuses to use ride-hailing apps like Grab or Gojek. An IT professional who has done independent research on surveillance technologies, he says he knows how hard it is to make databases secure, and he worries about hacks and leaks.</p>



<p>But now that the novel coronavirus pandemic has made opting out of location tracking practically impossible in Singapore, he has been forced to compromise. The country‚Äôs approach to containing the virus has included the widespread use of digital check-ins via a system called <a href="https://safeentry.gov.sg/">SafeEntry</a>. Individuals must check in with their ID and phone number before they enter malls, shops, restaurants, workplaces, or schools. This information is fed back to a centralized database, which the government then uses for contact tracing.</p>



<p>Naturally, Chong isn‚Äôt happy about it. ‚ÄúEvery time I have lunch or shop outside, I am forced to recognize the gaze of the state, surveilling my whereabouts,‚Äù he says.</p>



<p>The Singaporean government has leaned heavily on technology in its response to the pandemic. In March, the government launched its TraceTogether app, <a href="https://www.tech.gov.sg/media/technews/20201015-before-tracetogether-you-have-to-testtogether">touting it</a> as the ‚Äúworld‚Äôs first national digital contact-tracing effort.‚Äù The system uses Bluetooth to track people as they move and interact with one another; if two users are within two meters of each other for thirty minutes or more, it records the contact. (The government provides people without smartphones with <a href="https://token.gowhere.gov.sg/faq">tokens</a>.) The code that the app runs on was <a href="https://github.com/opentrace-community">open source</a>, so other countries can adapt it for their own uses, as Australia did to develop its own contact-tracing system.</p>



<p>The authorities claim that such technologies have <a href="https://support.tracetogether.gov.sg/hc/en-sg/articles/360052744534-How-do-TraceTogether-and-SafeEntry-work-together-Is-SafeEntry-still-required-since-there-is-TraceTogether-">greatly strengthened their contact-tracing efforts</a>. In early November, the health minister <a href="https://www.channelnewsasia.com/news/singapore/tracetogether-app-tokens-close-contacts-cases-identified-covid19-13442296">said</a> that 25,000 close contacts of confirmed Covid-19 cases had been identified through TraceTogether, of which 160 eventually tested positive. The country reported zero cases of community transmission most days in November.&nbsp;</p>



<p>Despite these successes, the imposition of more intrusive data collection technology has unnerved privacy advocates, who worry that the pandemic will be used to justify the surveillance of citizens without consideration of the long-term consequences, and without sufficient checks and balances.&nbsp;</p>



<p>Those concerns look increasingly well-founded. When Parliament reopened in January 2021, Desmond Tan, the Minister of State at the Ministry of Home Affairs, <a href="https://www.channelnewsasia.com/news/singapore/singapore-police-force-can-obtain-tracetogether-data-covid-19-13889914">said that the police would also be able to access TraceTogether data for criminal investigations</a>. The privacy statement on the TraceTogether website, which had previously stated that collected data would ‚Äúonly be used solely for contact tracing of persons possibly exposed to COVID-19,‚Äù was amended shortly afterwards.</p>



<p>‚ÄúIt‚Äôs not that, in principle, I disagree with contact tracing. It‚Äôs something that society could decide to do because there‚Äôs a trade-off with giving up privacy to ensure better health. But we didn‚Äôt make that decision democratically,‚Äù says Tan Zhi-xuan, a Singaporean who researches artificial intelligence at the Massachusetts Institute of Technology. ‚ÄúI think society has given up a lot in the name of efficiency and convenience.‚Äù</p>


		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/12/GettyImages-1207755797-40x27.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/12/GettyImages-1207755797-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/12/GettyImages-1207755797-400x267.jpg 400w, https://restofworld.org/wp-content/uploads/2020/12/GettyImages-1207755797-600x400.jpg 600w, https://restofworld.org/wp-content/uploads/2020/12/GettyImages-1207755797-1000x667.jpg 1000w, https://restofworld.org/wp-content/uploads/2020/12/GettyImages-1207755797-1600x1067.jpg 1600w, https://restofworld.org/wp-content/uploads/2020/12/GettyImages-1207755797-2800x1867.jpg 2800w, " sizes="(max-width: 640px) 100vw, 600px(max-width: 992px) calc(100vw - 40px), (max-width: 1140px) calc(100vw - 290px), calc(100vw - ((100vw - 640px)/2))" alt="The government‚Äôs TraceTogether system uses Bluetooth to track people as they move and interact with one another.">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				<span itemprop="copyrightHolder">Catherine Lai/AFP/Getty Images</span>
			</figcaption>
		</figure>


<hr>



<p>The enthusiastic adoption of data-collection technology is entirely in keeping with Singapore‚Äôs model of governance and view of itself as a high-tech ‚Äú<a href="https://www.smartnation.gov.sg/">Smart Nation</a>‚Äù at the forefront of global innovation.&nbsp;</p>



<p>‚ÄúSingapore is a very techno-optimistic nation,‚Äù says Monamie Bhadra Haines, an assistant professor of global science and technology studies at Nanyang Technological University. ‚ÄúTechnology and technological solutionism is seen to be the approach that they take to solve all sorts of deeply political problems.‚Äù</p>



<p>In 2018, Singapore announced a pilot project to <a href="https://www.reuters.com/article/us-singapore-surveillance-idUSKBN1HK0RV">install facial-recognition cameras on lampposts</a>, alongside other sensors&nbsp; it claimed would be beneficial for analysing the movement of crowds or investigations in the event of a terror attack. The country is also working on <a href="https://www.tnp.sg/news/singapore/satellite-based-erp-system-start-middle-2023-lta">a satellite-based road-toll system</a> that would charge drivers based on how far they travel, though they‚Äôve temporarily put that plan on hold.</p>



<p>In September, the government <a href="https://www.bbc.com/news/business-54266602">announced</a> that facial verification will be integrated into the existing digital identity system, which allows citizens to access government services online. A month later, the immigration authority <a href="https://www.straitstimes.com/singapore/facial-and-iris-scans-have-replaced-fingerprint-scans-as-main-mode-for-identifying">said</a> it was replacing fingerprint scans with facial and iris scans as the main mode of identity verification at the border.</p>



<p>There is rarely much public opposition to these initiatives. Singaporeans routinely report a high level of trust in the government; the country‚Äôs politics is dominated by a single powerful political party that exerts significant influence over the media. New technologies and processes are presented to the public as faits accomplis, leaving little space for public discussion.</p>



<p>‚ÄúIt‚Äôs also framed in this very positive way, like, ‚ÄòThis will speed us through the border faster,‚Äô‚Äù says Hallam Stevens, a historian of technology at Nanyang Technological University. ‚ÄúThere‚Äôs a kind of lack of debate about this partly because it‚Äôs going through so fast.‚Äù</p>



<p>The government maintains it is not using the TraceTogether system to actively track its citizens and that the data will only be used for Covid-19 contact tracing‚Äîalthough as it stated in parliament, the police will be able to request data, and some academics and activists are concerned about the underlying trade-off ‚Äî convenience in exchange for privacy and power.&nbsp;</p>



<p>Singapore‚Äôs government and public agencies are exempt from the Personal Data Protection Act (PDPA), which regulates the collection and use of data in the private sector. <a href="https://www.mci.gov.sg/pressroom/news-and-stories/pressroom/2019/2/mcis-response-to-pq-on-public-agencies-exemption-from-pdpa?page=28">Other laws</a> do govern data collection in the public sector, and the government says their standards are comparable to the PDPA‚Äôs. But privacy advocates say these laws don‚Äôt sufficiently empower individual users, and that citizens have no rights to redress or accountability if they aren‚Äôt followed.</p>



<p>‚ÄúThe individual has no remedy for misuse of data,‚Äù says Indulekshmi Rajeswari, a privacy lawyer who practiced in Singapore before relocating to Germany.</p>



<p>Others worry that relying heavily on technology could worsen structural inequities in Singaporean society. As Tan points out, facial-recognition systems have been shown to generate different results for different ethnic groups, which could, for example, lead to racial minorities‚Äô being subjected to extra questioning and scrutiny during immigration checks.</p>



<p>TraceTogether will soon be mandatory for all of Singapore‚Äôs residents ‚Äî but it already is for the country‚Äôs population of migrant workers. <a href="https://www.straitstimes.com/singapore/over-450000-workers-to-get-contact-tracing-devices">More than 450,000 </a>have been given wearable contact-tracing tokens so that their movements and interactions can be logged even if they don‚Äôt have their phones on them while at work.</p>



<p>As Haines puts it, ‚ÄúIf [the debate about technology is] only narrowly framed [in terms of] convenience and efficiency and speed, then what happens to problems like inequality, or power asymmetries, or any of the other kinds of deeply moral stuff that we care about?‚Äù&nbsp;</p>



<p>There are signs that Singaporeans are nervous about handing over their data. Two months after TraceTogether was launched, <a href="https://www.todayonline.com/singapore/given-low-adoption-rate-tracetogether-experts-suggest-merging-safeentry-or-other-apps">only 25% of the population</a> had voluntarily downloaded it. A local polling company, Blackbox Research, found that <a href="https://www.scmp.com/week-asia/people/article/3084903/coronavirus-why-arent-singapore-residents-using-tracetogether">45% of respondents</a> chose not to install TraceTogether because of concerns about ‚Äúthe government tracing their movements.‚Äù In October, the government had to <a href="https://www.tnp.sg/news/singapore/tracetogether-tokens-allegedly-modified-thick-headed-singaporeans">remind</a> people that tampering with TraceTogether tokens was illegal, after reports emerged of individuals trying to subvert or disable their tracking capabilities.</p>



<p>Chong, long used to being an outlier when it comes to apprehension over data collection in Singapore, says he has been encouraged by the recent increase in public awareness. But he‚Äôs still keeping his expectations low because he thinks the burgeoning resistance isn‚Äôt enough to put the brakes on it.</p>



<p>‚ÄúUnless people start to band together and question these [Smart Nation] initiatives, I think [the government is] just going to push ahead. There are benefits to these technologies, but there needs to be some sort of debate about the trade-offs.‚Äù</p>
			<!-- Article End -->

		</div></div>]]>
            </description>
            <link>https://restofworld.org/2021/trace-together-forever/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25647919</guid>
            <pubDate>Tue, 05 Jan 2021 17:22:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[PE Anatomist ‚Äì Explore data structures in portable executable files]]>
            </title>
            <description>
<![CDATA[
Score 70 | Comments 15 (<a href="https://news.ycombinator.com/item?id=25646284">thread link</a>) | @URfejk
<br/>
January 5, 2021 | https://rammerlabs.alidml.ru/index-eng.html | <a href="https://web.archive.org/web/*/https://rammerlabs.alidml.ru/index-eng.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://rammerlabs.alidml.ru/index-eng.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25646284</guid>
            <pubDate>Tue, 05 Jan 2021 15:11:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Now Habit]]>
            </title>
            <description>
<![CDATA[
Score 99 | Comments 15 (<a href="https://news.ycombinator.com/item?id=25644709">thread link</a>) | @Tomte
<br/>
January 5, 2021 | https://www.2uo.de/the-now-habit/ | <a href="https://web.archive.org/web/*/https://www.2uo.de/the-now-habit/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
<header>



</header>

<p>
<em>The Now Habit</em> by Neil Fiore is a self-help book about understanding
and overcoming procrastination.
</p>

<p>
Procrastination is a mechanism to cope with the fear that is linked to the beginning
or the end of a task. Nobody is ‚Äúlazy‚Äù on all fields of endeavor. You might not be able
to start the next chapter of your novel, but still do the required reading for your
college course.
</p>

<p>
A good way to start on managing procrastination is having a procrastination log where you jot down
the time, the activity, your thoughts and feelings, your excuse, your attempt of a solution
and your resulting thoughts and feelings.
</p>

<p>
The usual cycle of procrastination looks like this:
</p>

<ol>
<li>
You let the task at hand influence your happiness and self-worth.
</li>

<li>
You want to execute the task very well, so that your perfectionism is satisfied.
Thereby you increase your chance of failure by setting the bar very high.
</li>

<li>
You fear that you cannot meet the expectations you have imposed on yourself. You cannot act.
</li>

<li>
You avoid the problem by procrastinating.
</li>

<li>
Shortly before the deadline you <em>have</em> to do something. You do it, but not as well
as you could have, given the time allotted.
</li>
</ol>

<p>
The first step towards keeping procrastination at bay is to create safety. Failure must not
be the end of the world. You need to remember that many very successful people had big failures.
Your value as a person does not depend on the task.
</p>

<p>
A way to reduce the pressure you feel is to be mindful of language. Avoid ‚ÄúI must‚Äù and ‚ÄúI should‚Äù.
Try to think in terms of ‚ÄúI want to‚Äù, ‚ÄúI choose‚Äù and ‚ÄúI decide‚Äù.
</p>

<p>
A ‚Äúshould‚Äù means not being happy with a situation and deciding to do something about it.
It does not mean ‚ÄúI dislike the way it is and I'm going to complain‚Äù.
</p>

<p>
‚ÄúI must finish‚Äù is not a helpful way of thinking. The better way is ‚ÄúWhen can I start?‚Äù.
Try to get things done at least partially, long before a deadline looms.
</p>

<p>
Partial work is an important aspect: you don't have to complete a big project in one sitting.
Bite a small, manageable chunk off and get that done. The project may be big, but it can be tackled
in smaller parts. Do a first draft. Or one test chapter. Maybe it even helps to do a first draft
sloppily on purpose and edit it afterwards.
</p>

<p>
‚ÄúI must be perfect‚Äù is inhumane. You are allowed to be human. Learn from mistakes, respect boundaries.
Don't criticise yourself harshly. Have some compassion for yourself.
</p>

<p>
Take time off. Friends, Leisure time, your partner. They are important and healthy for you. Incorporate
leisure time and sports in your schedule. Don't let it be a secondary concern for ‚Äúwhen you find the time‚Äù.
</p>

<p>
Imagine the concrete goal and the rewards. Let it pull you towards it. Don't think about the long way
till the goal, think about the way you've already behind yourself.
</p>

<p>
Don't get overwhelmed. You don't have to know the perfect starting point. You may take time to learn
and feel secure in your task. Don't bad-mouth your achievements and progress.
</p>

<p>
Plan in reverse and invent lots of smaller deadlines. Start with the externally imposed deadline.
Plan backwards what needs to be done to complete the task by that time. Plan intermediate steps
with their own, much shorter deadlines.
</p>

<p>
Channel your energy into actions to remove the threats that you fear.
</p>

<p>
Play through the worst case. What's the worst thing that can happen to you? Imagine what you could
do in such a situation. Are their alternatives? Are there maybe even upsides? How can you reduce
the probability of that worst case happening?
</p>

<p>
Sometimes people work on tasks pretty well and productively, but they never seem to finish a task.
Prolonging the almost-finished task takes up energy, as well. Just put that energy into finishing
and reap the rewards.
</p>

<p>
Excessive preparation before beginning a task is also just procrastination. Limit it and then just start.
If you really need research or other preparation, you will find out later.
</p>

<p>
Don't be discouraged by the seeming lack of progress after starting. It's often the case that the beginning
is the hardest and slowest part. The time spent in the first phase isn't lost, you've got a better
understanding of the problem and your task.
</p>

<p>
The fear that the demands of you will rise after successfully finishing the current job is irrational.
You will still have some autonomy to make an informed decision later. Don't fret about it now.  
</p>

<p>
If you feel that you need more time: are you sure that it isn't just perfectionism? Not everything
needs to be polished. Weigh the cost and benefit of working on it some more versus finishing it.
</p>

<p>
Use the ‚ÄúUnschedule‚Äù. The Unschedule is like a schedule, but it starts with you entering blocks
of recreational activities and leisure time. Only then do you enter your tasks, after you've worked
at least half an hour without interruption on them. This gives you a realistic overview of how much work
you can possibly tackle. Tasks are never scheduled, only recorded after the fact.
</p>

<p>
Aim for thirty minutes of uninterrupted, quality work. Take a break after that block.
</p>

<p>
Setbacks are inevitable. Look out for them. Observe yourself. What were your thoughts and feelings?
Why did you revert to your old ways? Make plans how to counter that in the future.
</p>

<p>
Drop goals that can neither be achieved nor started upon in the near future. Change your plans and
re-schedule it for a later time. Don't let that goal linger without any action towards completion.
</p>

</article></div>]]>
            </description>
            <link>https://www.2uo.de/the-now-habit/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25644709</guid>
            <pubDate>Tue, 05 Jan 2021 12:09:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Understanding Connections and Pools]]>
            </title>
            <description>
<![CDATA[
Score 204 | Comments 71 (<a href="https://news.ycombinator.com/item?id=25644656">thread link</a>) | @sudhirj
<br/>
January 5, 2021 | https://sudhir.io/understanding-connections-pools/ | <a href="https://web.archive.org/web/*/https://sudhir.io/understanding-connections-pools/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            
<div>
    <main>
            <article>
    
    <div>
                <p>Connections are the hidden mechanism using which computer systems talk to each other‚Äîand they've become so fundamental that we overlook how important they are, how they work, and when they fail. We're often ignorant of them until there's a problem, which usually shows up a massive failure when our systems are doing their most amount of work. But because they're present everywhere and are so important in pretty much every system, they're worth spending a little time understanding. </p><h2 id="what-are-connections">What are connections?</h2><p>Connections are a link between two systems that allows them to exchange information as a sequence of zeroes and ones‚Äîto send and receive bytes.</p><p>Depending on where the systems are running relative to each other, a combination of underlying software and hardware will work hard to handle the physical movement of information, which <em>abstracts </em>it away. For example, if the communicating systems are two Unix processes, the <a href="https://www.usna.edu/Users/cs/wcbrown/courses/IC221/classes/L13/Class.html">IPC</a> system will handle allocating memory for the data exchanged and will handle pick-up and delivery of the bytes on both sides. If the systems are running on different computers, they will likely communicate over <a href="https://www.khanacademy.org/computing/computers-and-internet/xcae6f4a7ff015e7d:the-internet/xcae6f4a7ff015e7d:transporting-packets/a/transmission-control-protocol--tcp">TCP</a>, which will handle moving the data over a wired or wireless system between the computers. The details of how computers work together to reliably handle, transmit and receive the data is more a standardization problem, and most systems use the building blocks provided by the UDP and TCP protocols. How these connections are handled at each end is a more relevant problem for application development, which is what we'll look at now.</p><h2 id="where-do-we-use-connections">Where do we use connections?</h2><p>You're using them right now. Your browser made a connection to the web server that's hosting this blog, using which it fetched the bytes that make up the HTML, CSS, JavaScript and images that you're looking at. If you're using the HTTP/1.1 protocol, your browser made multiple connections to the server, one for each file. If you used HTTP/2, many of the files were likely served over the same connection, using <em>multiplexing</em>. In these cases your browser was the <em>client</em> and the blog server was... well, the <em>server</em>.</p><p>But the server also made connections of its own to give you this page. It used a connection to speak to a database, sending over the URL of this page inside a query and receiving the contents of the page in return. In this scenario, the application server was the <em>client</em> and the database server was the <em>server</em>. The application server might have also made connections to other third-party services, like a subscription or payment service, or a location service. </p><p>For static files, like the JS, CSS and images, there's a CDN system in between your browser and the blog server. A connection was made from your browser (client) to the CDN server (server) that's closest to you, and if the files weren't available in the cache near you there would have been another connection from the CDN server (client) to the blog server (server).</p><p>If you think carefully about all the systems you use or build, you'll see connections all over the place‚Äîbut they're often hidden from view, and not understanding their invisible presence and limits will come back to bite you when (and where) you least expect it.</p><h2 id="why-is-connection-handling-important">Why is connection handling important?</h2><p>Understanding how connections are handled is important because the cost of connections is <em>asymmetric</em>‚Äîthe cost is different on the client and server. In a peer to peer (P2P) system, like a torrent cloud, this is false, and connections have the same cost at both ends‚Äîbut this is rarely the case. The common uses of connections have a client and a server, and the cost to the server is different from the cost to the client.</p><p>Before we look at how connections can be handled, we need to quickly review the different ways in which computers run programs and how programs do work in parallel. When you run a program, the operating system runs your code as one instance of a <em>process</em>. A <em>process</em> occupies one CPU core and some memory when it's running, and does not share its memory with any other processes. The process can start <em>threads</em>, which are like children of the process that can run concurrently<em>. Threads </em>share memory with the process that spawned them, and might allocate more memory for their use. Or the process might use an <em>event loop</em>, which is a single-processes system that keeps track of tasks it has to do and loops over all its tasks continuously and infinitely, each time doing the tasks that it can, or skipping them if they're blocked. Or the process might use internal constructs called <em>fibers, green-threads, coroutines, </em>or<em> actors‚Äî</em>each of these work a little differently and having varying costs‚Äîbut they're all managed internally by the process and its threads.</p><p>Coming back to how connections are handled, let's look at database connections first‚Äîfrom your application server (the client in this case), you see a TCP connection paid for with a small memory buffer and one port allocation. On the server side, if you're using PostgreSQL, each connection is <a href="https://brandur.org/postgres-connections">handled</a> at the server by spawning a new process that handles all the queries being sent over that connection. This process occupies a CPU core, and about 10MB or more of memory in RAM. MySQL <a href="https://mysqlserverteam.com/mysql-connection-handling-and-scaling/">handles</a> each connection by spawning a thread inside of a process. The RAM/memory requirements are much lower in a threaded model, but it comes at the cost of context switching those threads. Redis <a href="https://redis.io/topics/clients">handles</a> each connection as an iteration in an event loop, which makes the resource costs low‚Äîbut a price is paid in having to loop over every connection's queries and serving them strictly one at a time.</p><p>Consider a request to an application server. Your browser initiates a TCP connection as a client, which is cheap (small memory buffer and one port). On the server, the story is different. If the server is using Ruby on Rails, each connection is handled by one thread spawned inside a fixed number of running processes (the <a href="https://puma.io/">Puma</a> web server) or by one process (<a href="https://github.com/defunkt/unicorn">Unicorn</a>). If it's using PHP, the CGI systems start a new PHP process for each connection, and the more popular <a href="https://en.wikipedia.org/wiki/FastCGI">FastCGI</a> systems keep a few of the processes running to make handling the next connection faster. If you're using Go, one <em>goroutine </em>(a cheap and light thread-like structure, managed &amp; scheduled internally by the Go runtime) will be spawned to handle each connection. If you're using NodeJS/Deno, the incoming connections are handled in an event loop by iterating over them and responding to requests one at a time. In systems like Erlang/Elixir, each connection will be handled by an <em>actor</em>, which is another internally scheduled lightweight thread-like construct.</p><h2 id="connection-handling-architectures">Connection Handling Architectures</h2><p>The examples of how connections are handled have a few common strategies which we can identify:</p><p><strong>Processes:</strong> Each connection is handled by a separate process, either started exclusively for the connection (CGI, PostgreSQL), or maintained as part of a group of available processes (Unicorn, FastCGI).</p><p><strong>Threads:</strong> Each connection is handled by a separate thread, either spawned exclusively for the connection or held in reserve after spawning. The threads might be spread over multiple processes, but all threads are equivalent (Puma/Ruby, Tomcat/Java, MySQL).</p><p><strong>Event Loop:</strong> Each connection is an task in the event loop, and connections that have data to be read are processed by iterating over them (Node, Redis). These systems are normally single-process and single-threaded, but they may sometimes be multi-process, where each process acts as a semi-independent system with separate event loops.</p><p><strong>Coroutines / Green-Threads / Fibers / Actors:</strong> Each connection is handled by a lightweight construct whose scheduling is managed internally (Go, Erlang, Scala/Akka).</p><p>Knowing how your server is handling connections is crucial to understanding what its limits and scaling patterns are. Even basic usage or configuration requires knowledge of how the connection handling works: Redis and PostgreSQL, for example, offer different transaction &amp; locking semantics that are influenced by their respective connection handling mechanisms. Process &amp; thread based servers can crash because of resource exhaustion if their max counts are not set to a reasonable limit, and when limits are set they might be horribly under-utilized because the limits are too low. Event-loop based systems may not benefit at all from running on 64-core CPUs, unless 64 copies of them are configured to run simultaneously‚Äîwhich works great for web servers but not very often with databases.</p><p>Each of these ways of handling connections perform differently when used in application servers and databases, because of the distributed or centralized nature of each system. Application servers, for instance, tend to be horizontally scalable‚Äîthey work correctly and in the same way whether you have 1 server or 10 or 10,000. In these cases, Moving away from the process / thread model tends to result in higher performance, because we want as much work to be done with minimal memory usage and CPU context switching. Event loops like Node work great on single core servers, but need to be clustered correctly to use multi-core severs. Coroutine / actor based systems like Go or Erlang will utilise every core of the CPU much easier because they're designed to work that way, with many thousands of goroutines or actors running simultaneously on a single machine.</p><p><em>Centralized databases</em>, on the other hand, benefit more from process / thread / event loop handling, because based on the transactional guarantees of the system we don't want multiple connections operating on the same data at the same time. The operations happening on multiple connections will have to lock during the transaction-sensitive parts of their work, or use other strategies like <a href="https://www.postgresql.org/docs/current/mvcc-intro.html">MVCC</a>, and the fewer possible connection handlers there are the better. These systems support a few connections on a single machine. On large server, PostgreSQL might manage ‚Ä¶</p></div></article></main></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://sudhir.io/understanding-connections-pools/">https://sudhir.io/understanding-connections-pools/</a></em></p>]]>
            </description>
            <link>https://sudhir.io/understanding-connections-pools/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25644656</guid>
            <pubDate>Tue, 05 Jan 2021 12:03:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Payment processor for Amazon India had leak of over 100M users]]>
            </title>
            <description>
<![CDATA[
Score 104 | Comments 48 (<a href="https://news.ycombinator.com/item?id=25644187">thread link</a>) | @LordAtlas
<br/>
January 5, 2021 | https://www.businessinsider.in/tech/news/over-100-million-debit-and-credit-card-users-data-has-been-leaked-online-from-payments-processor-juspay-amazon-and-swiggy/articleshow/80096472.cms | <a href="https://web.archive.org/web/*/https://www.businessinsider.in/tech/news/over-100-million-debit-and-credit-card-users-data-has-been-leaked-online-from-payments-processor-juspay-amazon-and-swiggy/articleshow/80096472.cms">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div id="datatxt80096472read"><div data-den="denmark"><div><ul>
 <li><strong>Information of over 100 million debit and credit card users has been leaked online from payments processor <keyword keytype="person" smid="0" usetype="2" keywordseo="Juspay" actualkeyword="Juspay">Juspay</keyword>.</strong></li>
 <li><strong>The leak includes the user‚Äôs names, contact information and information related to their debit and credit cards.</strong></li>
 <li><strong>Juspay processes payments for companies like Amazon, Swiggy, MakeMyTrip and several other companies.</strong></li>
 <li><strong>Cybersecurity researcher Rajshekhar Rajaharia who first spotted the breach has said that it could become a lot more serious if hackers figure out the encryption algorithm.</strong></li>
</ul><p>In what could be a major data breach, information of over 100 million debit and credit card users from payments processor Juspay has leaked on the dark web. Juspay processes payments for companies like Amazon, Swiggy, MakeMyTrip among others.
</p><p>
The leaked data is in the form of a data dump and has been leaked through a compromised server of Juspay. Juspay has 
<a target="_blank" href="https://juspayproducts.medium.com/your-security-is-our-first-concern-8d98c96e5f17" rel="nofollow">confirmed</a> the data leak in its official blog post, outlining the details of the breach.
</p><p>
    ‚ÄúIt pains us to inform you that a data breach did happen on 18th August 2020. Non-sensitive masked card information, mobile numbers and email ids of a subset of our users were compromised,‚Äù the company said.
</p><p>Cybersecurity researcher Rajshekhar Rajaharia discovered the data breach. He found that the data dump was available for sale on the dark web.
</p><p>
    Speaking to Business Insider, Rajaharia noted that this data breach could be a lot more serious if the hackers figure out the encryption algorithm used to hash card numbers.
</p><p>

<strong>Here‚Äôs what was leaked in the <keyword keytype="UnKnown" smid="0" usetype="2" keywordseo="Juspay-Data-Breach" actualkeyword="Juspay data breach">Juspay data breach</keyword><br></strong>
<br>As per Juspay, the leaked information includes non-sensitive masked card information, mobile numbers and email IDs of a subset of users. The company has said that the leaked information does not include full card numbers, order information, card PIN or password.
</p><p><span>Advertisement</span></p><figure><div></div></figure><hr>
<p>The data on the dark web includes information such as the bank that has issued the card, card expiry date, the last four digits of the card, masked card number, card type and the user‚Äôs name, among other details.
</p><p>

<strong>Should you be worried?<br></strong>
<br>    Rajaharia pointed out that there could be a major risk to users if the algorithm used to hash card numbers is leaked or if the hackers figure it out on their own.
</p><p>A hash is a unique and fixed-length string that is mapped to a set of data. In this case, Juspay has hashed the 16-digit debit and credit card numbers in order to process transactions.
</p><p>
    If hackers can figure out the algorithm used to generate these hashes, they could use brute force and find out what the original card numbers are.
</p><p>
Juspay has masked only six digits out of sixteen-digit card numbers. Rajaharia says that while this is good, the safety of users rests primarily on the hashing algorithm.
</p>
<p><strong>Scammers could also exploit this data leak<br></strong>
<br>In addition to the risks mentioned above, Rajaharia also pointed out that scammers could exploit this data leak to dupe cardholders. Since the leak includes mobile numbers, they could call unsuspecting cardholders and trick them into revealing the full card numbers, PIN, CVV as well as one-time passwords.
</p><p>
Rajaharia also pointed out that since these users are paying customers, they are a lot more valuable than non-paying customers. This makes the </p><keyword keytype="UnKnown" smid="0" usetype="2" keywordseo="Juspay-data-leak" keynameseo="juspay-data-leak" actualkeyword="juspay data leak">Juspay data leak</keyword><p> a lot more lucrative for hackers and scammers.
</p><p>    
According to him, the seller he is in touch with has demanded $8,000 in Bitcoin to purchase the data.
</p>

<p><strong>SEE ALSO:<p><a href="https://www.businessinsider.in/tech/news/these-were-the-biggest-cyber-attacks-of-2020/slidelist/79941232.cms">From FireEye to Twitter to Covid-19 vaccine research ‚Å†‚Äî these were the biggest cyber attacks of 2020</a></p><p><a href="https://www.businessinsider.in/retail/news/hackers-are-sending-customers-fake-shipping-messages-appearing-to-come-from-amazon-and-ups-as-a-shipageddon-is-expected-during-a-hectic-shopping-season/articleshow/79816866.cms">Hackers are sending customers fake shipping messages appearing to come from Amazon and UPS as a 'shipageddon' is expected during a hectic shopping season</a></p></strong>
<br>    
</p></div></div></div></div></div>]]>
            </description>
            <link>https://www.businessinsider.in/tech/news/over-100-million-debit-and-credit-card-users-data-has-been-leaked-online-from-payments-processor-juspay-amazon-and-swiggy/articleshow/80096472.cms</link>
            <guid isPermaLink="false">hacker-news-small-sites-25644187</guid>
            <pubDate>Tue, 05 Jan 2021 10:52:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Parable of Alien Chess]]>
            </title>
            <description>
<![CDATA[
Score 137 | Comments 162 (<a href="https://news.ycombinator.com/item?id=25642635">thread link</a>) | @krebs_liebhaber
<br/>
January 4, 2021 | https://lukesmith.xyz/articles/chess | <a href="https://web.archive.org/web/*/https://lukesmith.xyz/articles/chess">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">


<a href="https://lukesmith.xyz/articles/pix/alien_pepe.jpg">
<img src="https://lukesmith.xyz/articles/pix/alien_pepe_small.gif" alt="Alien" title="Save before they delete it again.">
</a>

by <a href="https://lukesmith.xyz/index.html">Luke Smith</a>

<p>
<i>A parable on the Logical Postivist "interpretation" of scientific models.
<!-- Granted, I use the term "logical positivist" in a somewhat expanded but specific sense, -->
<!-- loosely the idea that "science is good models" or what was called in the past "instrumentalism." -->
</i>
</p>

<h2>The Parable</h2>

<p>
Suppose an alien race comes to Earth and wants to observe our games.
They are very interested in chess, despite the fact that they have eyes with properties that make it impossible to make out what actually happens on a chess board.
(The whites and blacks and squares all blur together.)
</p>

<p>
They can still learn about chess experimentally, they know they can sit two players (a so-called "white" and "black" player) down to play it, and they can tell behaviorally who at the end wins.
</p>

<p>
After extensive experimentation, they realize this: 50% of the time, the white player wins and 50% of the time, the black player wins (we'll ignore draws and any first-move advantage for the example).
</p>

<h3>The "best" model</h3>

<p>
A logical positivist alien thus creates the ultimate, long-term model of chess as an iterated game:
Chess amounts to just a drawn-out coin flip.
Half of the time white wins, half of the time black wins, just as if they were tossing a quarter.
</p>

<p>
The aliens then decide to model chess as a coin flip, as a 50-50 game with no underlying principles.
While this statistical technique might not be useful for predicting a single game, over the long run and over iterated games, <em>it is the most efficient and parsimonious possible model</em>.
</p>

<h3>"Inferior" models</h3>

<p>
Suppose, however that a "crank" scientist of the alien race posits that "God doesn't play dice" and that chess is a more complicated game, despite the fact that the aliens cannot observe it.
Suppose even he asks around and determines from humans that there are actually pieces on the board with functions, and he even devises a machine that allows his alien eyes to see the first move of the game of chess.
</p>

<p>
Seeing this move allows him to create a new theory and model of the game,
one that takes into account the first move made and he tries to generate a new set of probabilities of victory based on that move.
The model he makes, is of course highly arbitrary, stipulated and <em>ad hoc</em>.
In fact,
this model is inferior on many inevitable accounts.
For example:
</p>

<ol>
    <li>It is less predictive over iterated games than the coin flip model.</li>
    <li>It is not as parsimonious/minimal as the coin flip model.</li>
    <li>It adds new variables to the theory (pieces) that are suspect.</li>
</ol>

<h2>Which model is "right?"</h2>

<h3>Which model is closer to truth?</h3>

<p>
Since we, unlike the aliens, are not prevented by defect from observing chess, we know that the second, "inferior" theory of chess is truer.
Its theoretical categories, if apparently arbitrary in the eyes of the aliens, are getting at the actual underlying mechanics of chess.
Even if the model is less effective, it is certainly <em>righter</em>.
</p>

<h3>Which will cause fruitful scientific inquiry?</h3>

<p>
The coin flip model is a scientific dead-end.
Firstly, the coin flip model is constructed statistically, which presents the underlying mechanism to be randomness, and thus unworth of inquiry.
This isn't statistics hoisted above random variation we know to exist, instead, it's utterly blind statistics that covers over whatever principles underlie it.
</p>

<p>
Secondly and more importantly, in order to actually improve that model, it has to <em>lose</em> empirical solvency:
embracing the abstractions of pieces means introducing mess and
deviating in some way from the empircal generalization that half of all chess games are won by white and half by black.
</p>

<h3>This is not an abnormal circumstance.</h3>

<p>
The parable here, really an <em>example</em> is not abnormal.
In most affairs in science, whether that be physics or neuroscience or economics or chemistry, we are exactly like the partially-blind aliens.
</p>

<h3>"But science isn't about truth!"</h3>

<p>
Yeah, it is dude.
</p>

<p>
Even if you are pretending that science is about "models" or fitting equations and the like, again, the well-fit model is impossible to perfect, while the flawed, yet more true to reality model does have a potential over the long-term to be a superior one.
After exhaustive inquiry, an alien race might not only discover the pieces and the full set of rules behind chess, they might be able to predict what moves are good or bad and predict individual chess games.
Even on the standards of mere instrumentalism, the mindless positivistic theory is still actually inferior.
</p>

<h2>Local maxima</h2>

<img src="https://lukesmith.xyz/articles/pix/maximum.gif" alt="Local maximum">

<h3>The plot</h3>

<p>
One of the ways I visualize science and models is that each model is really like an n-dimensional optimization plot.
"Truth," or if you deny truth as metaphysics, "accuracy in data" or "well-fit equations" are upwards and the goal of science is to get further that way.
</p>

<p>
At the point you're at, you can tell which direction you can go to move upward, or, which little changes you can make to improve your model.
That is what incremental science is, after all: don't change assumptions and just fine-tune your equations.
The endless fine-tuning is sometimes thought of as "progress."
Of course I don't think that this is <em>bad</em>, but it is a very minor and scientifically less important part of science as a whole.
</p>

<p>
The reality of incremental science is that once you're at a local maximum, once you've fine-tuned your equations about as perfectly as possible,
it's over.
Everything next to you <em>looks</em> like a disimprovement.
It <em>looks</em> just like those inferior theories of alien chess that posit the existence of pieces.
From that, you might erroneously conclude that you have found the <em>global</em> maximum, which
due to the nature of the complexity of the universe and the multiplicity of
possible answers and theories, you flatly haven't.
</p>

<p>
Logical positivism is kind of theoretical lobotomy that implicitly tells scientists that they should never, ever, ever change foundational assumptions:
tweaking equations like an oblivious autist is Science¬ÆÔ∏è and everything else is "philosophy" or "metaphysics" or "pseudoscience."
This amounts to keeping each scientific field on whatever local maximum is closest, utterly unable to extricate themselves from it even when they see on the horizon abberant data.
<strong>If you want to understand the stagnation of science or any other specific field, this is where it comes from.</strong>
</p>

<h3>Purposefully "bad" science</h3>

<p>
In <i><a href="https://traffic.libsyn.com/secure/notrelated/S02E01_-_Against_Method_and_For_Pseudoscience.ogg">Against Method</a></i>, Paul Feyerabend, in what an unreflective mind might misinterpret as a "troll," says that it is important for science that people have biases, financial interests, interfering religious and political doctrines and the like in science.
Looking at the plot, you might now see why.
When we are stuck on a local maximum, every new data keeps our already-optimized model where it is no matter how low that maximum actually is.
What you need to shake it up is an external shock that totally moves our theoretical position somewhere new on the plot where we can try to optimize at another point, and then compare.
</p>

<h3>Basic assumptions</h3>

<p>
A prudent person should be able to question, "Am I even on the right track or am I playing with some model that has a fundamental flaw?"
I can guarantee you, optimizing for data and fitting math and equations is easy.
<strong>All theoretical programs are wrong because they make incorrect core assumptions.</strong>
This is very hard for the ego of scientists because it means:
</p>

<ol>
    <li>Possibly illiterate dilettantes on the internet might see and bring to attention legitimate theoretical flaws.</li>
    <li>All the years you spend in graduate school counting angels on pinheads in your respective theoretical framework is mostly a waste of time.</li>
    <li>The borders of science are borders more of a sociological club than being the border of raw rigor.</li>
    <li>Most of the scientific work is not meaningful outside of the theoretical framework that gave rise to it.</li>
</ol>

    <hr>
    




</div>]]>
            </description>
            <link>https://lukesmith.xyz/articles/chess</link>
            <guid isPermaLink="false">hacker-news-small-sites-25642635</guid>
            <pubDate>Tue, 05 Jan 2021 05:58:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Blocking Pinterest may reduce your data usage]]>
            </title>
            <description>
<![CDATA[
Score 155 | Comments 143 (<a href="https://news.ycombinator.com/item?id=25642392">thread link</a>) | @rukshn
<br/>
January 4, 2021 | https://ruky.me/2021/01/05/you-might-want-to-block-pinterest-to-save-your-data/ | <a href="https://web.archive.org/web/*/https://ruky.me/2021/01/05/you-might-want-to-block-pinterest-to-save-your-data/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://ruky.me/2021/01/05/you-might-want-to-block-pinterest-to-save-your-data/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25642392</guid>
            <pubDate>Tue, 05 Jan 2021 05:17:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I almost quit caffeine in one year]]>
            </title>
            <description>
<![CDATA[
Score 106 | Comments 268 (<a href="https://news.ycombinator.com/item?id=25642182">thread link</a>) | @dhruvkar
<br/>
January 4, 2021 | https://www.wints.org/blog/2021.01.04/ | <a href="https://web.archive.org/web/*/https://www.wints.org/blog/2021.01.04/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
		<p>Splitting headache at 10am. Not a fine way to start the day.</p>
<p>For the last 10+ years, I‚Äôve consumed 2-5 cups of coffee every day. I was hooked to coffee is an understatement. It had gotten so bad that if I didn‚Äôt get coffee by 9am, I‚Äôd get a debilitating migraine for the rest of the day. I also had restless sleep, bordering on insomnia, where I wouldn‚Äôt sleep at all for a couple nights a month.</p>
<div>
<p><img src="https://www.wints.org/img/articles/2021.01.04/coffee.jpg" alt="Coffee"></p><figcaption>Sleep killer, headache giver, kick in the butt</figcaption>
</div>
<p>In February 2020, I got the worst flu in years (don‚Äôt think it was COVID). The first three days were extra painful with withdrawal headaches.
I decided a change was in order. My last coffee was January 31st, 2020.
The rest of the process was not predetermined. I tried to follow my body needs and didn‚Äôt push to quit with a definite date in mind.</p>
<p>After I recovered from the flu, I switched to black tea for the next several months.
I felt physically sluggish and mentally slower.</p>
<p>Black tea was followed by green tea for about two months. My sleep dramatically improved, however still felt lethargic. After green tea, I still didn‚Äôt feel ready to stop all together.</p>
<div>
<p><img src="https://www.wints.org/img/articles/2021.01.04/tea.jpg" alt="Jasmine Pearl Tea"></p><figcaption>Savior, kinda</figcaption>
</div>
<p>Enter <u><a href="https://amzn.to/3pwj3Cc">jasmine pearl tea</a></u>. It‚Äôs rolled up into a ball and each ball has 1-3 tea leaves. I started using three tea balls for my morning tea. Over the course of three months, I‚Äôm down to <i>one tea ball every other day</i>. It‚Äôs been a useful tool for measuring caffeine intake. Final quitting day is February 1st, 2021.</p>
<p>The few things I‚Äôve learned along the way:</p>
<h5 id="a-dont-plan-for-every-eventuality">A. Don‚Äôt plan for every eventuality</h5>
<p>It was tempting to outline every possible aspect of this challenge ‚Äì what to drink, when to drink it, how often, when to decrease dosage, what to do in case of a backslide etc. I consciously avoided this for two reasons. One, making a full blown plan feels so satisfying that the actual challenge doesn‚Äôt feel compelling anymore, leading me to underperform or give up. And two, I might give up if I backslide so badly that my plan doesn‚Äôt account for it. That‚Äôs pretty demoralizing.</p>
<h5 id="b-celebrate-positive-consequences">B. Celebrate positive consequences</h5>
<p>I still have headaches if I miss my ‚Äúcaffeine window‚Äù. But they are far less painful and much more manageable. That‚Äôs a win! I sleep so much better now too.</p>
<h5 id="c-take-your-time">C. Take your time</h5>
<p>It took 10 years to get to this level of caffeine dependence. Spending one year to unwind this addiction is relatively fast! I felt a lot slower mentally in the first 6 months and still do as I continue to reduce my caffeine. I expect that once I no longer depend on caffeine, my body will pick up the slack.</p>
<p>All in all, This has been another step in discipline and a healthier me.</p>

	</div>
  </div></div>]]>
            </description>
            <link>https://www.wints.org/blog/2021.01.04/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25642182</guid>
            <pubDate>Tue, 05 Jan 2021 04:40:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Principle of Maximum Entropy]]>
            </title>
            <description>
<![CDATA[
Score 22 | Comments 3 (<a href="https://news.ycombinator.com/item?id=25641459">thread link</a>) | @keyboardman
<br/>
January 4, 2021 | https://leimao.github.io/blog/Maximum-Entropy/ | <a href="https://web.archive.org/web/*/https://leimao.github.io/blog/Maximum-Entropy/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <h3 id="introduction">Introduction</h3>

<p>The principle of maximum entropy states that the probability distribution which best represents the current state of knowledge is the one with largest entropy, in the context of precisely stated prior data (such as a proposition that expresses testable information). These prior data serves as the constrains to the probability distribution.</p>



<p>Given the second law of thermodynamics (principle of increase of entropy), isolated systems spontaneously evolve towards thermodynamic equilibrium, the state with maximum entropy, maximum entropy distributions become the most natural distributions under certain constrains. In this blog post, I would like to discuss entropy maximization and a couple of maximum entropy distributions.</p>

<h3 id="prerequisites">Prerequisites</h3>

<h4 id="gaussian-integral">Gaussian Integral</h4><p>

\[\begin{align}
\int_{-\infty}^{\infty} e^{-x^2} dx = \sqrt{\pi} \\
\end{align}\]

</p><p>I will skip the proof here, since the proof from <a href="https://en.wikipedia.org/wiki/Gaussian_integral">Wikipedia</a> is not that difficult to understand.</p>

<h4 id="useful-integrals">Useful Integrals</h4><p>

\[\begin{align}
\int_{-\infty}^{\infty} x e^{-x^2} dx &amp;= -\frac{1}{2} \int_{-\infty}^{\infty} e^{-x^2} d(-x^2) \\
&amp;= -\frac{1}{2} e^{-x^2} \big\rvert_{-\infty}^{\infty}\\
&amp;= 0 \\
\end{align}\]

\[\begin{align}
\int_{-\infty}^{\infty} x^2 e^{-x^2} dx &amp;= -\frac{1}{2} \int_{-\infty}^{\infty} x d (e^{-x^2}) \\
&amp;= -\frac{1}{2} \Big( x e^{-x^2} \big\rvert_{-\infty}^{\infty} - \int_{-\infty}^{\infty} e^{-x^2} dx \Big) \\
&amp;= -\frac{1}{2} \Big( 0 - \sqrt{\pi} \Big) \\
&amp;= \frac{\sqrt{\pi}}{2} \\
\end{align}\]

</p><p>Notice that here we used integral by parts.</p>

<h3 id="entropy-maximization">Entropy Maximization</h3>

<h4 id="discrete-probability-distribution">Discrete Probability Distribution</h4>

<p>Suppose $P$ is a discrete probability distribution. The entropy is defined as</p><p>

\[\begin{align}
H(P) &amp;= - \sum_{x \in X}^{} P(x) \log P(x) \\
\end{align}\]

</p><p>We further have some constrains on $P$:</p>

<ul>
  <li>$P(x) \geq 0$</li>
  <li>$\sum_{x \in X}^{} P(x) = 1$</li>
  <li>$\sum_{x \in X}^{} P(x) r_i(x) = \alpha_i$ for $1 \leq i \leq m$</li>
</ul>

<p>The first two constrains are trivial given $P$ is a probability distribution. The third constrain is optional and it indicates a constrain on the entire system. Notice that there could be more than one constrain if $m &gt; 1$.</p>



<p>We would like to maximize the entropy.</p><p>

\[\max_{P} H(P) = \max_{P} \Big( - \sum_{x \in X}^{} P(x) \log P(x) \Big)\]

</p><p>Let√¢‚Ç¨‚Ñ¢s try to solve this optimization problem. We would use Lagrange multiplier for the constrains.</p><p>

\[\begin{align}
L(P, \lambda_0, \lambda_1, \cdots, \lambda_m) &amp;= - \sum_{x \in X}^{} P(x) \log P(x) + \lambda_0 \Big(\sum_{x \in X}^{} P(x) - 1 \Big) + \sum_{i=1}^{m} \lambda_i \sum_{x \in X}^{} \Big(P(x) r_i(x) - \alpha_i \Big) \\
\end{align}\]

</p><p>We take the derivative of $L(P, \lambda_0, \lambda_1, \cdots, \lambda_m)$ with respect to $P(x)$ and the derivative should be $0$.</p><p>

\[\begin{align}
\frac{\partial}{\partial P(x)} L(P, \lambda_0, \lambda_1, \cdots, \lambda_m) &amp;= - \log P(x) - 1 + \lambda_0 + \sum_{i=1}^{m} \lambda_i r_i(x) \\
&amp;= 0 \\
\end{align}\]

</p><p>Therefore,</p><p>

\[\begin{align}
P(x) &amp;= e^{\big(\sum_{i=1}^{m} \lambda_i r_i(x)\big) + \lambda_0 - 1 } \\
&amp;= \frac{ e^{\sum_{i=1}^{m} \lambda_i r_i(x)} }{e^{1 - \lambda_0}} \\
\end{align}\]

</p><p>Because $\sum_{x \in X}^{} P(x) = 1$,</p><p>

\[\begin{align}
\sum_{x \in X}^{} P(x) &amp;= \sum_{x \in X}^{} e^{\big(\sum_{i=1}^{m} \lambda_i r_i(x)\big) + \lambda_0 - 1 } \\
&amp;= e^{\lambda_0 - 1} \sum_{x \in X}^{} e^{\sum_{i=1}^{m} \lambda_i r_i(x)} \\
&amp;= 1 \\
\end{align}\]

</p><p>Therefore,</p><p>

\[e^{1 - \lambda_0} = \sum_{x \in X}^{} e^{\sum_{i=1}^{m} \lambda_i r_i(x)}\]

</p><p>With this, we could rewrite $P(x)$ as</p><p>

\[\begin{align}
P(x) &amp;= \frac{ e^{\sum_{i=1}^{m} \lambda_i r_i(x)} }{ \sum_{x \in X}^{} e^{\sum_{i=1}^{m} \lambda_i r_i(x)} } \\
\end{align}\]

</p><h4 id="continuous-probability-distribution">Continuous Probability Distribution</h4>

<p>Similarly, suppose $P$ is a continuous probability distribution. The entropy is defined as</p><p>

\[\begin{align}
H(P) &amp;= - \int_{X}^{} P(x) \log P(x) dx \\
\end{align}\]

</p><p>With the following constrains</p>

<ul>
  <li>$P(x) \geq 0$</li>
  <li>$\int_{X}^{} P(x) dx = 1$</li>
  <li>$\int_{X}^{} P(x) r_i(x) dx = \alpha_i$ for $1 \leq i \leq m$</li>
</ul>

<p>Similarly, to maximize the entropy, we maximize the Lagrangian for the continuous case.</p><p>

\[\begin{align}
L(P, \lambda_0, \lambda_1, \cdots, \lambda_m) &amp;= - \int_{X}^{} P(x) \log P(x) dx + \lambda_0 \Big(\int_{X}^{} P(x)  dx - 1 \Big) + \sum_{i=1}^{m} \lambda_i \Big( \int_{X}^{} P(x) r_i(x)  dx - \alpha_i \Big) \\
\end{align}\]

</p><p>We take the derivative of $L(P, \lambda_0, \lambda_1, \cdots, \lambda_m)$ with respect to $P(x)$ and the derivative should be $0$. We will also use the <a href="https://en.wikipedia.org/wiki/Calculus_of_variations">calculus of variations</a> to compute the derivative, which is slightly more complicated. Without going into all the details, we have the following derivatives.</p><p>

\[\begin{align}
\frac{\partial}{\partial P(x)} L(P, \lambda_0, \lambda_1, \cdots, \lambda_m) &amp;= - \frac{\partial}{\partial P(x)} \int_{X}^{} P(x) \log P(x)  dx + \lambda_0 \frac{\partial}{\partial P(x)} \Big(\int_{X}^{} P(x)  dx - 1 \Big) + \sum_{i=1}^{m} \lambda_i \frac{\partial}{\partial P(x)} \Big( \int_{X}^{} P(x) r_i(x)  dx - \alpha_i \Big) \\
&amp;= - \int_{X}^{} \frac{\partial}{\partial P(x)} \big( P(x) \log P(x) \big)  dx + \lambda_0 \frac{\partial}{\partial P(x)} \Big(\int_{X}^{} P(x)  dx - 1 \Big) + \sum_{i=1}^{m} \lambda_i \frac{\partial}{\partial P(x)} \Big( \int_{X}^{} P(x) r_i(x)  dx - \alpha_i \Big) \\
&amp;= - \log P(x) - 1 + \lambda_0 + \sum_{i=1}^{m} \lambda_i r_i(x) \\
&amp;= 0 \\
\end{align}\]

</p><p>Therefore,</p><p>

\[\begin{align}
P(x) &amp;= e^{\big(\sum_{i=1}^{m} \lambda_i r_i(x)\big) + \lambda_0 - 1 } \\
&amp;= \frac{ e^{\sum_{i=1}^{m} \lambda_i r_i(x)} }{e^{1 - \lambda_0}} \\
\end{align}\]

</p><p>Because $\int_{X}^{} P(x) dx = 1$,</p><p>

\[\begin{align}
\int_{X}^{} P(x) dx &amp;= \int_{X}^{} e^{\big(\sum_{i=1}^{m} \lambda_i r_i(x)\big) + \lambda_0 - 1 } dx \\
&amp;= e^{\lambda_0 - 1} \int_{X}^{} e^{\sum_{i=1}^{m} \lambda_i r_i(x)} dx \\
&amp;= 1 \\
\end{align}\]

</p><p>Therefore,</p><p>

\[e^{1 - \lambda_0} = \int_{X}^{} e^{\sum_{i=1}^{m} \lambda_i r_i(x)} dx\]

</p><p>With this, we could rewrite $P(x)$ as</p><p>

\[\begin{align}
P(x) &amp;= \frac{ e^{\sum_{i=1}^{m} \lambda_i r_i(x)} }{ \int_{X}^{} e^{\sum_{i=1}^{m} \lambda_i r_i(x)} dx } \\
\end{align}\]

</p><h3 id="maximum-entropy-distribution-examples">Maximum Entropy Distribution Examples</h3>

<h4 id="roll-dice">Roll Dice</h4>

<p>A conventional dice has 6 faces. $X = \{ 1, 2, 3, 4, 5, 6 \}$. Because we don√¢‚Ç¨‚Ñ¢t have additional constrains, therefore</p><p>

\[\lambda_1 = \lambda_2 = \cdots = \lambda_m = 0\]

</p><p>So, the maximum entropy probability distribution of getting each face of the dice is</p><p>

\[\begin{align}
P(x) &amp;= \frac{ e^{\sum_{i=1}^{m} \lambda_i r_i(x)} }{ \sum_{x \in X}^{} e^{\sum_{i=1}^{m} \lambda_i r_i(x)} } \\
&amp;= \frac{ e^{0} }{ \sum_{x \in X}^{} e^{0} } \\
&amp;= \frac{ 1 }{ 6 } \\
\end{align}\]

</p><h4 id="uniform-distribution">Uniform Distribution</h4>

<p>The only constrain we put on a distribution is $X = [a, b]$. Because we don√¢‚Ç¨‚Ñ¢t have additional constrains, therefore</p><p>

\[\lambda_1 = \lambda_2 = \cdots = \lambda_m = 0\]

</p><p>So the maximum entropy probability distribution is actually uniform distribution.</p><p>

\[\begin{align}
P(x) &amp;= \frac{ e^{\sum_{i=1}^{m} \lambda_i r_i(x)} }{ \int_{X}^{} e^{\sum_{i=1}^{m} \lambda_i r_i(x)} dx } \\
&amp;= \frac{ e^{0} }{ \int_{a}^{b} e^{0} dx } \\
&amp;= \frac{ 1 }{ b - a } \\
\end{align}\]

</p><h4 id="gaussian-distribution">Gaussian Distribution</h4>

<p>We could also derive Gaussian Distribution using entropy maximization. The constrains for the maximum entropy distribution are</p>

<ul>
  <li>$X = (-\infty, \infty)$</li>
  <li>$\mathbb{E}[X] = \int_{-\infty}^{\infty} x P(x) dx = \mu$</li>
  <li>$\mathbb{V}[X] = \mathbb{E}[X^2] - \mathbb{E}[X]^2 = \mathbb{E}[X^2] - \mu^2 = \int_{-\infty}^{\infty} x^2 P(x) dx - \mu^2 = \sigma^2$</li>
</ul>

<p>which translates to</p>

<ul>
  <li>$m = 2$</li>
  <li>$r_1(x) = x$, $\alpha_1 = \mu$</li>
  <li>$r_2(x) = x^2$, $\alpha_2 = \sigma^2$</li>
</ul><p>

\[\begin{align}
P(x) &amp;= e^{\lambda_0 - 1 + \lambda_1 x + \lambda_2 x^2} \\
\end{align}\]

</p><p>Because</p><p>

\[\begin{align}
\int_{-\infty}^{\infty} P(x) dx &amp;= 1 \\
\end{align}\]

</p><p>We have</p><p>

\[\begin{align}
\int_{-\infty}^{\infty} P(x) dx &amp;= \int_{-\infty}^{\infty} e^{\lambda_0 - 1 + \lambda_1 x + \lambda_2 x^2} dx  \\
&amp;= \int_{-\infty}^{\infty} e^{\lambda_0 - 1 + \lambda_1 x + \lambda_2 x^2} dx  \\
&amp;= \int_{-\infty}^{\infty} \exp \big( \lambda_0 - 1 + \lambda_1 x + \lambda_2 x^2 \big) dx  \\
&amp;= \int_{-\infty}^{\infty} \exp \bigg( \lambda_2 \Big[ \big(x + \frac{\lambda_1}{2\lambda_2}\big)^2 - \frac{\lambda_1^2 - 4 \lambda_0 \lambda_2 + 4 \lambda_2}{4\lambda_2^2} \Big] \bigg) dx  \\
&amp;= \int_{-\infty}^{\infty} \exp \bigg( \lambda_2 \big(x + \frac{\lambda_1}{2\lambda_2}\big)^2 - \frac{\lambda_1^2 - 4 \lambda_0 \lambda_2 + 4 \lambda_2}{4\lambda_2} \bigg) dx  \\
&amp;= \exp \bigg( - \frac{\lambda_1^2 - 4 \lambda_0 \lambda_2 + 4 \lambda_2}{4\lambda_2}  \bigg) \int_{-\infty}^{\infty} \exp \bigg( \lambda_2 \big(x + \frac{\lambda_1}{2\lambda_2}\big)^2 \bigg) dx  \\
&amp;= \exp \bigg( - \frac{\lambda_1^2 - 4 \lambda_0 \lambda_2 + 4 \lambda_2}{4\lambda_2}  \bigg) \int_{-\infty}^{\infty} \exp \bigg( -(-\lambda_2) \big(x + \frac{\lambda_1}{2\lambda_2}\big)^2 \bigg) dx  \\
\end{align}\]

</p><p>Here we assume $\lambda_2 &lt; 0$, we further have</p><p>

\[\begin{align}
\int_{-\infty}^{\infty} P(x) dx &amp;= \exp \bigg( - \frac{\lambda_1^2 - 4 \lambda_0 \lambda_2 + 4 \lambda_2}{4\lambda_2}  \bigg) \int_{-\infty}^{\infty} \exp \bigg( -(-\lambda_2) \big(x + \frac{\lambda_1}{2\lambda_2}\big)^2 \bigg) dx  \\
&amp;= \exp \bigg( - \frac{\lambda_1^2 - 4 \lambda_0 \lambda_2 + 4 \lambda_2}{4\lambda_2}  \bigg) \int_{-\infty}^{\infty} \exp \bigg( - \Big( \sqrt{ -\lambda_2 }\big(x + \frac{\lambda_1}{2\lambda_2}\big) \Big)^2 \bigg) dx  \\
&amp;= \frac{1}{\sqrt{ -\lambda_2 }} \exp \bigg( - \frac{\lambda_1^2 - 4 \lambda_0 \lambda_2 + 4 \lambda_2}{4\lambda_2}  \bigg) \int_{-\infty}^{\infty} \exp \bigg( - \Big( \sqrt{ -\lambda_2 }\big(x + \frac{\lambda_1}{2\lambda_2}\big) \Big)^2 \bigg) d \Big( \sqrt{ -\lambda_2 }\big(x + \frac{\lambda_1}{2\lambda_2}\big) \Big)  \\
\end{align}\]

</p><p>To make it more clear, we set</p><p>

\[y = \sqrt{ -\lambda_2 }\big(x + \frac{\lambda_1}{2\lambda_2}\big)\]

</p><p>So using Gaussian integral, we further have</p><p>

\[\begin{align}
\int_{-\infty}^{\infty} P(x) dx &amp;= \frac{1}{\sqrt{ -\lambda_2 }} \exp \bigg( - \frac{\lambda_1^2 - 4 \lambda_0 \lambda_2 + 4 \lambda_2}{4\lambda_2}  \bigg) \int_{-\infty}^{\infty} \exp \bigg( - ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://leimao.github.io/blog/Maximum-Entropy/">https://leimao.github.io/blog/Maximum-Entropy/</a></em></p>]]>
            </description>
            <link>https://leimao.github.io/blog/Maximum-Entropy/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25641459</guid>
            <pubDate>Tue, 05 Jan 2021 02:51:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Telegram publishes users' locations online]]>
            </title>
            <description>
<![CDATA[
Score 480 | Comments 218 (<a href="https://news.ycombinator.com/item?id=25641399">thread link</a>) | @Nullslash
<br/>
January 4, 2021 | https://blog.ahmed.nyc/2021/01/if-you-use-this-feature-on-telegram.html | <a href="https://web.archive.org/web/*/https://blog.ahmed.nyc/2021/01/if-you-use-this-feature-on-telegram.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-body-2299938338217590975" itemprop="description articleBody">
<p><span data-preserver-spaces="true">A few years ago, while using the Line app, I noticed a feature called "People nearby." The feature lets you connect with other Line users within the same area. The feature would give you the exact distance from you to the other users. If someone spoofs their latitude, longitude, they can triangulate a user and find their location. I reported an issue in the&nbsp;</span><a href="https://line.me/en/" target="_blank"><span data-preserver-spaces="true">Line app</span></a><span data-preserver-spaces="true">, and They paid me $1000 for it. They fixed it by adding a random number to the user's destination. You can find my name&nbsp;</span><a href="https://bugbounty.linecorp.com/en/halloffame/2017/" target="_blank"><span data-preserver-spaces="true">here</span></a><span data-preserver-spaces="true">.&nbsp;</span></p><p>A few days ago, I installed Telegram, and I noticed that they have the same feature. I tried to see if I can unmask other users' locations, and I found they have the same issue I discovered in the Line app a few years ago. I reported the problem to Telegram security, and they said it's not an issue.&nbsp;<strong>If you enable the feature of making yourself visible on the map, you're publishing your home address online. </strong><span>Lot of users don't know this when they enable that feature. This is what they said when I emailed them:</span>&nbsp;</p><blockquote><p>From:<span>	</span>security@telegram.org</p><p>To: me</p><p>Hello,</p><p>Thanks for reaching us out. Users in the People Nearby section</p><p>intentionally share their location, and this feature is disabled by</p><p>default. It's expected that determining the exact location is possible</p><p>under certain conditions.</p><p>Unfortunately, this case is not covered by our bug bounty program.</p></blockquote><p><span data-preserver-spaces="true">Disclosure timeline:&nbsp;</span></p><ul><li><span data-preserver-spaces="true">Contacted Telegram on December 22nd with full details of how to exploit the information.</span></li></ul><ul><li><span data-preserver-spaces="true">They responded on December 23rd; they asked me to create a video of the PoC üôÑ</span></li></ul><ul><li><span data-preserver-spaces="true">I made a video on the same day and sent it to them.</span></li></ul><ul><li><span data-preserver-spaces="true">They responded after 14 days, saying their bug bounty program does not cover the issue.</span></li></ul><p><span>So, here is how it works in detail:<br></span><span>Open Telegram, and go to people near me, there is an option to see how far people are from your location.</span></p><p><span id="docs-internal-guid-53f1000f-7fff-b4b2-905d-ee47865be904"><span><span><img height="351" src="https://lh3.googleusercontent.com/JbKyjueKloPEbmeyE9ZbcVkATBhRNlY4hjl8NZZOhHn4lgt56UnjR3HjAVP2Z5MNSAAe0jzL3rKNjfLI3QCueXXe6inocEKB5RwX9b6A3kIydvA74fjzmfZlEjkH0bNrfQUYR80I" width="268"></span></span></span></p><div><p>After you click on it, it will show a list of people near you like the following:</p></div><p><span id="docs-internal-guid-684e7a7b-7fff-37c6-a5fc-5d6693280cf8"><span><span><img height="478" src="https://lh4.googleusercontent.com/umUhHMfl3qKMXVgyIdX3pXnKuronNR29XQgzc_WoX0imTtVPTvEWBLhK5x-WZvu3vz-KEInZy5lZGIOLdSO0DUP33G3Iv-758309YimhtEMxU1xM63QKoGeTJq473VIGLT0N78Yh" width="276"></span></span></span></p><p>If you notice, Telegram is telling me how far each person is far from me. An adversary can spoof their location for three points and use them to draw three triangulation circles. To spoof a GPS location, the adversary can do one of the following options:</p><div><div><p>1-Use hardware GPS spoofer (Very hard to get, and the FCC will fine you hard if you use such a device)<br>2-Use root to spoof to GPS (Medium)<br>3-Just walk around the area, collect the GPS latitude and longitude of yourself, and how far the target person is from you (Super easy)</p></div><p><span data-preserver-spaces="true">For the sake of the demonstration, I will go with option number two. There is an app in the play store called&nbsp;</span><a href="https://play.google.com/store/apps/details?id=com.lexa.fakegps" target="_blank"><span data-preserver-spaces="true">GPS spoof</span></a><span data-preserver-spaces="true">; download it and install it. For some reason, the app doesn't work with Android 11; I used Android 7 instead. After it, collect 3 locations of a user for unmasking.</span></p><p><span data-preserver-spaces="true"><p>4-Spoof the location near the user within a 7 miles radius limit. That's the limit Telegram has in place. The targeted user lives in Bay Ridge, so I spoofed the address to the Bay Ridge area. Then collect how far that person is from that point. Repeat three times like the following:</p><p><span id="docs-internal-guid-39370a7c-7fff-d4b2-7c98-923492b72907"><p dir="ltr"><span><span><img height="281" src="https://lh6.googleusercontent.com/jpBnx1GgSBqLo7XCheaHJMsFff8977ZW3T-T853_rrvi-Ela1dS1BLXNExYOaO-I3ROdEByW6v1woZG7MfxC2O2a5z6ArOPApDVI8YUFo1MYntYsVhdgFZ_XBd2L71ULH2BCT5PL" width="159"></span></span><span><span><img height="281" src="https://lh6.googleusercontent.com/YZPfdHypa3L3B9ZDucwylK3bwBmRnhswS2oHdKuJjMu8DjvKZNxNEmRzehFtk0WdM_QOz3WkLhljISpwhCjF5SMLbUXi0srUGrGTL7BmiWp-A3MBt3DNfLlbtpGtHVSg1DsKaPRB" width="163"></span></span><span><span><img height="284" src="https://lh4.googleusercontent.com/2pazuJRtclJd6-PKGIY5YJp7TH_B-JDQWE5OSz0zfhQyANYIQocBoqqNStCp-i7zscV2ckkX2IRfFQ_7-VjXa13GHkWIwioMj9unPiLe8LBxmVOI1rHe_vM4WRtUWVuzOFvXG-0T" width="162"></span></span></p><p dir="ltr"><span><span><img height="283" src="https://lh4.googleusercontent.com/s6VyofBRsNeMj1Wa9eL3KCEQq01d9R9F6iGoxWiIcDmH_UbjU4yA0cxyy10uzCkZJjUGiUzjWHIya1OkHhDFoCezB1H5BmozDmY62ueuAMFxCbdVGkrFJPCLK4aDx-k0CEAEUNiG" width="159"></span></span><span><span><img height="285" src="https://lh3.googleusercontent.com/JyNBgZBtw3UzT37VSfK6Ma-gO8pk4lKqzV5e3md9O4GYVayN8CwQ0Om_RRAr7btAiCL6mmixCjHws4Ba7jiIJpYvTurhqp2r9cUufZCiQwTm3cMDX_unnbFEehZO-Jhnhf6oAONM" width="162"></span></span><span><span><img height="285" src="https://lh6.googleusercontent.com/ECWiWe3T86oAkn25lmYcHmkdf74i_PPiwGJpddtv9k6IoW9lstqwbZu6yvPjbyUWjwV3DWG0XngaPrwAYYZL7Yjp5A9wCMZ3AMvjREuDy7XCPXBCJJIPBx6oZsw2J3NXlhPqGiXS" width="161"></span></span></p><p dir="ltr"><span><span><img height="288" src="https://lh3.googleusercontent.com/bbnj35dH1xShYmEAcVqxKaUm4VWLKQVqoitSekn6qWGsEnqcyaBLvG4ieI1Kc-guB-Gov0fQ3ziSlpTS-BKSgA7B9cCh153b7qNV8TBduNYWUlhX027R3w7IiitLbm3l5k3GHJQo=w163-h288" width="163"></span></span><span><span><img height="278" src="https://lh6.googleusercontent.com/qyXn90Ir58knd4dwSjf9j1qi_lx2jvY0RgYoOMgrVeSnTbD5QrTBKAf7ZiGb3wwjUYLiqDcZJRonYPr9GV3ekTTIh9r8Vve3mhy7TqSMMQyl9dJBq0sU5hllZ6U4Ay0i1mgg2u-r=w157-h278" width="157"></span></span><span><span><img height="280" src="https://lh6.googleusercontent.com/fbADLbmhYgNppqnXeWjEnR0U8sNP4IgLNhmKsDmGuNAUICttr0Hg1WUAdkxRWsK3p9AcUkSnlHfMtAUpr0E4LrqQd3UKcpHehl6cXbdbmMAcsUwsH-WRXGeX_U81AZ2JBlLje5vS=w158-h280" width="158"></span></span></p><div><p>5-Open Google Earth Pro, search for latitude, the longitude of the spoofed locations, and use the ruler to draw a circle with the target user destination from each location. Here is the result:</p></div><p dir="ltr"><span id="docs-internal-guid-95b4c21c-7fff-a99e-599a-63c2737e7191"><span><span><img height="377" src="https://lh4.googleusercontent.com/nLdF4cxdiW-GN4fXpfwiSy87aGQuqk4MPLu_aSjvOl2I7mj_ElfnI4CN_6iJCsJhrJhQs8u6E2imNeQrpPql9PzRQG760TpJqKt4uJwnXwkwUIjSPKAFgQH8o5sLW62b-Yf42znN" width="594"></span></span></span></p><p><span>The intersection of the three circles is the location of the user. To verify this, I added one of the users and asked them if they live near the point.</span></p><p dir="ltr"><span><span id="docs-internal-guid-267fb593-7fff-119e-00ae-01c6045c0efb"><span><span><img height="569" src="https://lh3.googleusercontent.com/l53s1fb3kWCRiZk5MbG0Y9MOEJqzDuSpew4lATjxGd8o4jDEMPZvpdtphQCEwUWQTsyGcZ6tNt1C3RkMAqTR6yXZ7ddGzp7zbprAyFkPwnP1WenVcpWRP8sX9tU5Zyz98kr9KIGD" width="276"></span></span></span></span></p><p dir="ltr">I was able to get that user's exact home address.</p><p><span data-preserver-spaces="true">Telegram told me it's not an issue. If you use this feature, please make sure to disable it. Unless you want your location to be accessible by everyone.&nbsp;</span></p><p><span data-preserver-spaces="true">Unfortunately, Telegram poor application security can be reflected with the number of scammers they have within that feature. Telegram allows users to create local groups within a geographical area. Many scammers spoof their location and try to sell fake bitcoin investments, hacking tools, SSNs that are used for unemployment fraud, and so on. The amount of illegal activities I saw there make the&nbsp;</span><a href="https://en.wikipedia.org/wiki/Silk_Road_(marketplace)" target="_blank"><span data-preserver-spaces="true">Silkroad&nbsp;</span></a><span data-preserver-spaces="true">look like amateurs ran it.&nbsp;<br></span></p></span></p></span></p></div>

</div></div>]]>
            </description>
            <link>https://blog.ahmed.nyc/2021/01/if-you-use-this-feature-on-telegram.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25641399</guid>
            <pubDate>Tue, 05 Jan 2021 02:41:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Load testing is hard and the tools are not great]]>
            </title>
            <description>
<![CDATA[
Score 133 | Comments 48 (<a href="https://news.ycombinator.com/item?id=25641234">thread link</a>) | @ntietz
<br/>
January 4, 2021 | https://ntietz.com/tech-blog/load-testing-is-hard-but-why/ | <a href="https://web.archive.org/web/*/https://ntietz.com/tech-blog/load-testing-is-hard-but-why/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <article>
    

    <p><strong>Monday, January  4, 2021</strong></p>

    <p>If you're building an application that needs to scale‚Äîand we all tell ourselves that we are‚Äîthen at some point you have to figure out if it <em>does</em> or not. This is where load testing comes in: if you want to see whether or not your application can handle scale, just <em>generate</em> scale and see if it can handle it! It sounds straightforward enough.</p>
<p>Then you try to actually generate load. This is straightforward if your application is dead simple, because you can use something like <a href="https://en.wikipedia.org/wiki/Apache_JMeter">Apache JMeter</a> to generate repeated requests. If you can do this, I envy you: every system I've worked on is more complicated and requires a more intricate testing plan.</p>
<p>Your application gets slightly more complicated, so you then turn to tools like <a href="https://en.wikipedia.org/wiki/Gatling_(software)">Gatling</a>. These let you simulate virtual users going through scenarios, which is a lot more helpful than just <a href="https://en.wikipedia.org/wiki/Siege_(software)">besieging</a>&nbsp;one or a handful of URLs. Even this isn't sufficient if you're writing an application that uses both WebSockets <em>and</em> HTTP calls, over a long-lived session, and requires certain actions repeated on a timer. Unless I severely missed something in the documentation, I cannot see a way to, say, setup a heartbeat that runs ever 30 seconds, do certain actions upon response to a WebSocket message, and also do some other HTTP actions, all with the same HTTP session. I haven't found a way to do that in <em>any</em> load testing tool (which is why I wrote my own at work, which I hope to open source if I can make the time to clean it up and separate out proprietary bits).</p>
<p>But let's suppose you <em>do</em> have a tool that works, out of the box, like Gatling or Locust, and it fits your needs. Great! Now let's write that test. In my experience, this is the hardest bit yet, because you have to first figure out what realistic load looks like ‚Äî welcome to a day or three of dredging through logs and taking notes while you peer at the network tools in your browser as you click around in your web application. And then after you know what realistic load looks like, you get to write what boils down to a subset of your application to pretend to be a user, hit the API, and do the things your user would do.</p>
<p>And we're not done yet! This is fine, we have our load test written and it's realistic. But this is a moving target, because updates keep going out. So now you have the maintenance problem, too: as your application changes, how do you keep your load test up to date? There isn't great tooling to do this, there is little out there to help you. You have to make this part of your process and hope you don't miss things. This is not a satisfying answer, and that's why this is also one of the hardest parts of load testing an application.</p>
<p>We'll just skip the whole "running it" part, because honestly, if you've gotten this far through a load test, then running it shouldn't be the hardest part.</p>

<p>So basically, here's where we are:</p>
<ul>
<li>Most load testing tools support simplistic workloads, and even the complex ones don't let you do everything that's realistically needed to simulate <em>real</em> usage of a web application.</li>
<li>Writing the test with a simulation of real usage is the hardest part, even if the tools do support what you need.</li>
<li>Maintaining the test is the second hardest part, and the tooling here does not help you in the slightest.</li>
</ul>
<p>Let's look at these in detail and see how much complexity we can pare away.</p>
<h2 id="simulating-users-do-we-have-to">Simulating users. Do we have to?</h2>
<p>I'm a "yes" here, although it might depend on your application. And for these purposes, we're talking about the user <em>of a service</em>; if you have a monolith, this is your users as a whole, but if you have microservices the "user" might be another one of your services! For the applications I've worked on, I have had minor success with targeted tests of specific endpoints. But these end up requiring such complicated setup that you aren't better off than you were with the load test itself! And while it may yield some results and improvements, it doesn't get to everything (you may have endpoints that interact) and you don't get a realistic workload.</p>
<p>"When do you <em>not</em> need to simulate users?" is probably a better question. Seems to me like this is when you <em>know</em> that your endpoints are all independent in performance, you don't have any stateful requests, and the ordering of requests does not impact performance. These are big things to assume and it's hard to have confidence in them without testing their independence, at which point, we're back to writing that whole dang test.</p>
<p>The best you can do here is probably at the API and system design time, not at your test time. If you design a simpler API, you're going to have far less surface area to test. If you design a system with more certainly independent pieces (distinct databases per service, for example) then it's easier to test them in isolation than in a monolith. Doing this also lets you use a tool that is simpler, so you get two wins!</p>
<h2 id="writing-the-tests-is-hard-so-is-maintenance">Writing the tests is <em>hard.</em> So is maintenance.</h2>
<p>Creating a load test is hard because you have to do a few things: you have to understand what the flow through <em>usage</em> of your API is, and you have to write a simulation of that usage. Understanding that flow means understanding other systems than the one under test and since your system is presumably not the focus of their documentation, there is not going to be a super clear diagram of when and how it's called; this often looks like sifting logs until you figure out what the representative usage is. And then writing that simulation is certainly not trivial, because you need to manage the state for a large number of actors representing users of your API!</p>
<p>Oh, and you get to write integration tests for this now, too.</p>
<p>There's some research out there on how to make some of these tasks easier. You can figure out what you need for the initial test, and detect regressions (missing new workloads) from automated analysis of the logs, for example. But as far as I can tell, there is no software on GitHub, let alone a product I can buy, that's going to do that for me. So it doesn't seem like it has much of any traction in industry. It would be a big project to implement it on your own, which might be why it has languished (or is done at big companies, and is not spoken of).</p>

<p>There's a lot of complexity in load tests, and there is not a lot of tooling to help you with it. So maybe the answer is: write fewer of these types of tests, and don't expect them to give you all the answers to how your system performs.</p>
<p>You have a few options for getting a great picture of how your system performs:</p>
<ul>
<li><strong>Good old analysis.</strong> Sit down with a notebook, a pen, an understanding of your systems as a whole, and an afternoon to spare, and you can figure out with some napkin math what the general parameters and bounds of scaling on your system are. When you find the bottleneck, or you have some unknowns (how many transactions per second <em>can</em> our database support? how many do we generate?) then you can go test those specifically!</li>
<li><strong>Feature rollouts.</strong> If you can roll out features slowly across your users, then you don't necessarily have to do any load testing at all! You can measure performance experimentally and see if it's good enough. Good? Roll forward. Bad? Roll back.</li>
<li><strong>Traffic replay.</strong> This doesn't help at all with new features (see feature rollouts ten words ago for that) but it does help with understanding your system breaking points for existing features without as much development. You can take the traffic you saw before and replay it (multiple times over, even, by combining multiple different periods' traffic) and see how the system performs! (Side note: I would <em>love</em> tooling to help with this, and with amplifying traffic when doing this, so if anyone has a recommendation... hit me up.)</li>
</ul>
<hr>
<p>If you have some silver bullet I've missed, or a fantastic research paper in this area you'd recommend reading, or a story of terrible times with scaling that you want to share with me, please email them to <a href="mailto:me@ntietz.com">me@ntietz.com</a>.</p>

  </article>
</div></div>]]>
            </description>
            <link>https://ntietz.com/tech-blog/load-testing-is-hard-but-why/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25641234</guid>
            <pubDate>Tue, 05 Jan 2021 02:16:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[An Analysis of Privacy on the App Store]]>
            </title>
            <description>
<![CDATA[
Score 32 | Comments 19 (<a href="https://news.ycombinator.com/item?id=25640548">thread link</a>) | @wallflower
<br/>
January 4, 2021 | https://hugotunius.se/2021/01/03/an-analysis-of-privacy-on-the-app-store.html | <a href="https://web.archive.org/web/*/https://hugotunius.se/2021/01/03/an-analysis-of-privacy-on-the-app-store.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main"><article>
  
  <div><p>In iOS 14.3, Apple added their new <a href="https://developer.apple.com/app-store/app-privacy-details/">app privacy details</a> to App Store listings. App privacy details, which are sometimes compared to the nutritional labels on foodstuff, are details about the data an app collects and the purposes and use of such data. What can we learn by analysing this data?</p>

<p>From the 14<sup>th</sup> of December 2020, all new apps and app updates have to provide information on the data the app collects. This is used to power the app privacy details labelling. On Twitter, videos scrolling through the privacy listing for Facebook circulated immediately after the 14.3 release.</p>

<p>This system is somewhat flawed, because app developers can, at least in theory, lie about the data they collect. Some apps that profess to collect no data, actually turn out to collect a bunch if you read their privacy policy. However, the punishment for being caught lying, removal from the App Store, is a strong deterrent and it‚Äôs safe to assume most developers will have been truthful in their accounts.</p>

<p>An interesting side-effect of this, is that Apple has now made available the same data that can be found in terse and hard to parse privacy policies as simple and structured data that can be parsed and analysed. In this post I will do just that i.e. collect and analyse the privacy details for thousands of the most popular apps on the App Store.</p>

<h2 id="collecting-the-data">Collecting the Data</h2>

<p>If you just want to read the juicy details feel free to skip to the <a href="#analysis">analysis</a>.</p>

<p>Apple makes the privacy labelling data available for each app on the App Store via an API used by the App Store apps. By reverse engineering the App Store apps I‚Äôve figured out how to make the API divulge this data on a per app basis.</p>

<p>This only gets me the privacy data for a single app, but I want to analyse popular apps. A good source of popular apps are the charts the App Store provides on a per app category basis. An example of this is ‚ÄúTop Free‚Äù apps in ‚ÄúEducation‚Äù. These listings contain up to 200 apps per category and price point(i.e. free or paid).</p>

<p>On the UK store, which is the store I‚Äôve used for all this analysis, there are 24 categories. Each of which have top charts with up to 200 paid and 200 free apps. This means the theoretical total number of apps is 9600. However, because some apps occupy chart positions in multiple categories and because the charts also contain app bundles the actual number is lower.</p>

<p>The full list of categories is:</p>

<table>
  <thead>
    <tr>
      <th><strong>Category</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Book</td>
    </tr>
    <tr>
      <td>Business</td>
    </tr>
    <tr>
      <td>Developer Tools</td>
    </tr>
    <tr>
      <td>Education</td>
    </tr>
    <tr>
      <td>Entertainment</td>
    </tr>
    <tr>
      <td>Finance</td>
    </tr>
    <tr>
      <td>Food &amp; Drink</td>
    </tr>
    <tr>
      <td>Graphics &amp; Design</td>
    </tr>
    <tr>
      <td>Health &amp; Fitness</td>
    </tr>
    <tr>
      <td>Lifestyle</td>
    </tr>
    <tr>
      <td>Magazines &amp; Newspapers</td>
    </tr>
    <tr>
      <td>Medical</td>
    </tr>
    <tr>
      <td>Music</td>
    </tr>
    <tr>
      <td>Navigation</td>
    </tr>
    <tr>
      <td>News</td>
    </tr>
    <tr>
      <td>Photo &amp; Video</td>
    </tr>
    <tr>
      <td>Productivity</td>
    </tr>
    <tr>
      <td>Reference</td>
    </tr>
    <tr>
      <td>Shopping</td>
    </tr>
    <tr>
      <td>Social Networking</td>
    </tr>
    <tr>
      <td>Sports</td>
    </tr>
    <tr>
      <td>Travel</td>
    </tr>
    <tr>
      <td>Utilities</td>
    </tr>
    <tr>
      <td>Weather</td>
    </tr>
  </tbody>
</table>

<h2 id="structure-of-the-data">Structure of the Data</h2>

<p>If you don‚Äôt care about the exact details and structure of the data feel free to skip to the <a href="#analysis">analysis</a>.</p>

<p>The structure of the data returned by the App Store API is</p>

<figure><pre><code data-lang="json"><span>{</span><span>
  </span><span>"id"</span><span>:</span><span> </span><span>&lt;number&gt;</span><span>,</span><span>
  </span><span>"type"</span><span>:</span><span> </span><span>"apps"</span><span>,</span><span>
  </span><span>"href"</span><span>:</span><span> </span><span>&lt;href&gt;</span><span>,</span><span>
  </span><span>"attributes"</span><span>:</span><span> </span><span>{</span><span>
    </span><span>"privacyDetails"</span><span>:</span><span> </span><span>&lt;privacy-details&gt;</span><span>
  </span><span>}</span><span>
</span><span>}</span></code></pre></figure>

<p>The <code>&lt;privacy-details&gt;</code> section of this document is the important bit. It‚Äôs an array where each item has the following structure.</p>

<figure><pre><code data-lang="json"><span>{</span><span>
  </span><span>"privacyType"</span><span>:</span><span> </span><span>&lt;human-readable-description&gt;</span><span>,</span><span>
  </span><span>"identifier"</span><span>:</span><span> </span><span>&lt;string-identifier&gt;</span><span>,</span><span>
  </span><span>"description"</span><span>:</span><span> </span><span>&lt;human-readable-description&gt;</span><span>,</span><span>
  </span><span>"dataCategories"</span><span>:</span><span> </span><span>&lt;data-categories&gt;</span><span>,</span><span>
  </span><span>"purposes"</span><span>:</span><span> </span><span>&lt;data-purposes&gt;</span><span>
</span><span>}</span></code></pre></figure>

<p>The <code>&lt;string-identifier&gt;</code> is one of</p>

<table>
  <thead>
    <tr>
      <th><strong>Identifier</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>DATA_LINKED_TO_YOU</td>
    </tr>
    <tr>
      <td>DATA_NOT_COLLECTED</td>
    </tr>
    <tr>
      <td>DATA_NOT_LINKED_TO_YOU</td>
    </tr>
    <tr>
      <td>DATA_USED_TO_TRACK_YOU</td>
    </tr>
  </tbody>
</table>

<p><code>DATA_NOT_COLLECTED</code> is used as a marker in which case <code>dataCategories</code> and <code>purposes</code> are both empty and this is the only element in the <code>privacyDetails</code> array.</p>

<p><code>DATA_USED_TO_TRACK_YOU</code> contains details on data used to track you across websites and apps owned by other companies, Apple‚Äôs description is <em>The following data may be used to track you across apps and websites owned by other companies:</em>. For this entry <code>purposes</code> will be empty and <code>dataCategories</code> contain the different data types that are tracked across apps and websites owned by other companies.</p>

<p><code>DATA_LINKED_TO_YOU</code> and <code>DATA_NOT_LINKED_TO_YOU</code> both contain data types with purposes specific granularity. This means that <code>dataCategories</code> will be empty and the different data types are in <code>purposes</code>. Apple‚Äôs description for <code>DATA_LINKED_TO_YOU</code> and <code>DATA_NOT_LINKED_TO_YOU</code> are <em>The following data, which may be collected and linked to your identity, may be used for the following purposes:</em> and <em>The following data, which may be collected but is not linked to your identity, may be used for the following purposes:</em> respectively.</p>

<p><code>&lt;data-purposes&gt;</code> is an array of purposes with the following structure:</p>

<figure><pre><code data-lang="json"><span>{</span><span>
  </span><span>"purpose"</span><span>:</span><span> </span><span>&lt;human-readable-purpose&gt;</span><span>,</span><span>
  </span><span>"identifier"</span><span>:</span><span> </span><span>&lt;purpose-identifier&gt;</span><span>,</span><span>
  </span><span>"dataCategories"</span><span>:</span><span> </span><span>&lt;data-categories&gt;</span><span>,</span><span>
</span><span>}</span></code></pre></figure>

<p>The different values for <code>&lt;purpose-identifier&gt;</code> are:</p>

<table>
  <thead>
    <tr>
      <th><strong>Purpose</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ANALYTICS</td>
    </tr>
    <tr>
      <td>APP_FUNCTIONALITY</td>
    </tr>
    <tr>
      <td>DEVELOPERS_ADVERTISING</td>
    </tr>
    <tr>
      <td>OTHER_PURPOSES</td>
    </tr>
    <tr>
      <td>PRODUCT_PERSONALIZATION</td>
    </tr>
    <tr>
      <td>THIRD_PARTY_ADVERTISING</td>
    </tr>
  </tbody>
</table>

<p>These are described by Apple in their <a href="https://developer.apple.com/app-store/app-privacy-details/#data-type-usage">documentation</a>, but I‚Äôve added them here for completeness.</p>

<table>
  <thead>
    <tr>
      <th>Purpose</th>
      <th>Definition</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Third-Party Advertising</td>
      <td>Such as displaying third-party ads in your app, or sharing data with entities who display third-party ads</td>
    </tr>
    <tr>
      <td>Developer‚Äôs Advertising or Marketing</td>
      <td>Such as displaying first-party ads in your app, sending  marketing communications directly to your users, or sharing data with  entities who will display your ads</td>
    </tr>
    <tr>
      <td>Analytics</td>
      <td>Using data to evaluate user behavior, including to  understand the effectiveness of existing product features, plan new  features, or measure audience size or characteristics</td>
    </tr>
    <tr>
      <td>Product Personalization</td>
      <td>Customizing what the user sees, such as a list of recommended products, posts, or suggestions</td>
    </tr>
    <tr>
      <td>App Functionality</td>
      <td>Such as to authenticate the user, enable features,  prevent fraud, implement security measures, ensure server up-time,  minimize app crashes, improve scalability and performance, or perform  customer support</td>
    </tr>
    <tr>
      <td>Other Purposes</td>
      <td>Any other purposes not listed</td>
    </tr>
  </tbody>
</table>

<p>Lastly <code>&lt;data-categories&gt;</code> is an array of objects with the following structure:</p>

<figure><pre><code data-lang="json"><span>{</span><span>
  </span><span>"dataCategory"</span><span>:</span><span> </span><span>&lt;human-readable-purpose&gt;</span><span>,</span><span>
  </span><span>"identifier"</span><span>:</span><span> </span><span>&lt;data-category-identifier&gt;</span><span>,</span><span>
  </span><span>"dataTypes"</span><span>:</span><span> </span><span>[</span><span>&lt;human-readable-data-type&gt;</span><span>],</span><span>
</span><span>}</span></code></pre></figure>

<p>The full list of data types and the categories they belong to is:</p>

<figure><pre><code data-lang="json"><span>{</span><span>
  </span><span>"IDENTIFIERS"</span><span>:</span><span> </span><span>[</span><span>
    </span><span>"User ID"</span><span>,</span><span>
    </span><span>"Device ID"</span><span>
  </span><span>],</span><span>
  </span><span>"USAGE_DATA"</span><span>:</span><span> </span><span>[</span><span>
    </span><span>"Other Usage Data"</span><span>,</span><span>
    </span><span>"Advertising Data"</span><span>,</span><span>
    </span><span>"Product Interaction"</span><span>
  </span><span>],</span><span>
  </span><span>"DIAGNOSTICS"</span><span>:</span><span> </span><span>[</span><span>
    </span><span>"Performance Data"</span><span>,</span><span>
    </span><span>"Other Diagnostic Data"</span><span>,</span><span>
    </span><span>"Crash Data"</span><span>
  </span><span>],</span><span>
  </span><span>"CONTACT_INFO"</span><span>:</span><span> </span><span>[</span><span>
    </span><span>"Name"</span><span>,</span><span>
    </span><span>"Other User Contact Info"</span><span>,</span><span>
    </span><span>"Phone Number"</span><span>,</span><span>
    </span><span>"Email Address"</span><span>,</span><span>
    </span><span>"Physical Address"</span><span>
  </span><span>],</span><span>
  </span><span>"PURCHASES"</span><span>:</span><span> </span><span>[</span><span>
    </span><span>"Purchase History"</span><span>
  </span><span>],</span><span>
  </span><span>"LOCATION"</span><span>:</span><span> </span><span>[</span><span>
    </span><span>"Coarse Location"</span><span>,</span><span>
    </span><span>"Precise Location"</span><span>
  </span><span>],</span><span>
  </span><span>"USER_CONTENT"</span><span>:</span><span> </span><span>[</span><span>
    </span><span>"Other User Content"</span><span>,</span><span>
    </span><span>"Photos or Videos"</span><span>,</span><span>
    </span><span>"Audio Data"</span><span>,</span><span>
    </span><span>"Emails or Text Messages"</span><span>,</span><span>
    </span><span>"Customer Support"</span><span>,</span><span>
    </span><span>"Gameplay Content"</span><span>
  </span><span>],</span><span>
  </span><span>"CONTACTS"</span><span>:</span><span> </span><span>[</span><span>
    </span><span>"Contacts"</span><span>
  </span><span>],</span><span>
  </span><span>"OTHER"</span><span>:</span><span> </span><span>[</span><span>
    </span><span>"Other Data Types"</span><span>
  </span><span>],</span><span>
  </span><span>"BROWSING_HISTORY"</span><span>:</span><span> </span><span>[</span><span>
    </span><span>"Browsing History"</span><span>
  </span><span>],</span><span>
  </span><span>"SEARCH_HISTORY"</span><span>:</span><span> </span><span>[</span><span>
    </span><span>"Search History"</span><span>
  </span><span>],</span><span>
  </span><span>"HEALTH_AND_FITNESS"</span><span>:</span><span> </span><span>[</span><span>
    </span><span>"Health"</span><span>,</span><span>
    </span><span>"Fitness"</span><span>
  </span><span>],</span><span>
  </span><span>"FINANCIAL_INFO"</span><span>:</span><span> </span><span>[</span><span>
    </span><span>"Credit Info"</span><span>,</span><span>
    </span><span>"Payment Info"</span><span>,</span><span>
    </span><span>"Other Financial Info"</span><span>
  </span><span>],</span><span>
  </span><span>"SENSITIVE_INFO"</span><span>:</span><span> </span><span>[</span><span>
    </span><span>"Sensitive Info"</span><span>
  </span><span>]</span><span>
</span><span>}</span></code></pre></figure>

<p>Let‚Äôs do some analysis of this data</p>

<h2 id="analysis">Analysis</h2>

<p><strong>Last Updated:</strong> 7<sup>th</sup> of January 2020. Added data for Games, which was previously missing and extended analysis of all apps to larger data set.</p>

<p>The data set I‚Äôve collected contains 9477 combinations of apps and a position in a given category chart. In total there are 9435 unique apps in this data set.</p>

<p>Most charts contain 200 or nearly 200 apps, however <strong>Graphics &amp; Design(Paid)</strong>, <strong>Developer Tools(Paid)</strong>, and <strong>Magazines &amp; Newspapers(Paid)</strong> all have fewer than 90 apps so I‚Äôm dropping them from further analysis.</p>

<p>Because the privacy details have only been required for new apps and updates since mid December, not all apps contain information about privacy details. After removing those apps 3370 apps remain in the data set. Breaking this down by chart, several charts have less than 25 apps so I am dropping them from further analysis too. This leaves 3233 apps in the data set.</p>

<p>In total the following charts have been dropped:</p>

<ul>
  <li>Education(Paid)</li>
  <li>Navigation(Paid)</li>
  <li>Sports(Paid)</li>
  <li>Business(Paid)</li>
  <li>Food &amp; Drink(Paid)</li>
  <li>Shopping(Paid)</li>
  <li>Medical(Paid)</li>
  <li>Magazines &amp; Newspapers(Paid)</li>
</ul>

<p>For the analysis there are a few different data points that are interesting:</p>

<ul>
  <li>Apps that collect data this is linked to the user and how many such data types they collect.<sup>*</sup></li>
  <li>Apps that collect no data.</li>
  <li>Third Party tracking, i.e. tracking users across apps and websites owned by other companies and how many(max 32) such data types they collect.</li>
</ul>

<p>* Data that is linked to the user for the purpose of supporting app functionality, that is the <code>APP_FUNCTIONALITY</code> purpose, is legitimate and will be exclude from the following analysis. This leaves 160 data types spread across 5 purposes.</p>

<p>I am excluding data that is collected but not linked to the user, in part to keep down the length of the analysis and in part because it‚Äôs the least interesting. I‚Äôll probably do a follow up post on it later.</p>

<p>The questions I‚Äôll be looking at for this analysis are:</p>

<ol>
  <li><a href="#free-vs-paid">Do free apps collect more data?</a></li>
  <li><a href="#worst-charts">Which are the worst charts?</a></li>
  <li><a href="#worst-apps">Which apps in the whole data set are the worst?</a></li>
  <li><a href="#oxymorons">Which apps lie subtly about the nature of data they collect?</a></li>
</ol>

<p>But first let‚Äôs have a quick look at the data set.</p>

<p><em>Note: The images in this post can be clicked to show larger versions</em></p>

<p><a href="https://hugotunius.se/img/app-privacy/data-collected-histogram-plot.svg"><img src="https://hugotunius.se/img/app-privacy/data-collected-histogram-plot.svg?1610051683" alt="Histogram plot of data types collected. The apps that collect zero such data types dominate"></a></p>

<p>As we can see here, most apps collect no data outside of that which supports the app‚Äôs functionality. To get a better view of the apps that do collect data, let‚Äôs remove the majority of apps that don‚Äôt.</p>

<p><a href="https://hugotunius.se/img/app-privacy/data-collected-histogram-non-zero-plot.svg"><img src="https://hugotunius.se/img/app-privacy/data-collected-histogram-non-zero-plot.svg?1610051683" alt="Histogram plot of data types collected with zero values removed."></a></p>

<p>Still the amount of data collected is fairly low, but there‚Äôs a curious set of outliers somewhere around 120 data types collected. All of those outliers have something in common, see if you can figure it out before I reveal the answer later in the post.</p>

<p>How about third party tracking?</p>

<p><a href="https://hugotunius.se/img/app-privacy/ttp-histogram-plot.svg"><img src="https://hugotunius.se/img/app-privacy/ttp-histogram-plot.svg?1610051683" alt="Histogram plot of third party tracking data types collected. The apps that collect zero such data types dominate"></a></p>

<p>Again most apps don‚Äôt collect any data types ‚Ä¶</p></div></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://hugotunius.se/2021/01/03/an-analysis-of-privacy-on-the-app-store.html">https://hugotunius.se/2021/01/03/an-analysis-of-privacy-on-the-app-store.html</a></em></p>]]>
            </description>
            <link>https://hugotunius.se/2021/01/03/an-analysis-of-privacy-on-the-app-store.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25640548</guid>
            <pubDate>Tue, 05 Jan 2021 00:56:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Vons, Pavilions to Replace Drivers with Independent Contractors]]>
            </title>
            <description>
<![CDATA[
Score 86 | Comments 114 (<a href="https://news.ycombinator.com/item?id=25640294">thread link</a>) | @danso
<br/>
January 4, 2021 | https://knock-la.com/vons-fires-delivery-drivers-prop-22-e899ee24ffd0 | <a href="https://web.archive.org/web/*/https://knock-la.com/vons-fires-delivery-drivers-prop-22-e899ee24ffd0">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><div><div><h2 id="19f8">News</h2><h2 id="a67f">California begins to see the devastating effects of Proposition 22.</h2><div><div><div><p><a href="https://medium.com/@mydickerson?source=post_page-----e899ee24ffd0--------------------------------" rel="noopener"><img alt="Mike Dickerson" src="https://miro.medium.com/fit/c/96/96/1*53IHqPFrt1okeXEPGL9a2Q.jpeg" width="48" height="48"></a></p></div></div></div><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/9806/1*LzqfF7ZQEYRE_TnBHrdVpQ.jpeg" width="4903" height="2712" srcset="https://miro.medium.com/max/552/1*LzqfF7ZQEYRE_TnBHrdVpQ.jpeg 276w, https://miro.medium.com/max/1104/1*LzqfF7ZQEYRE_TnBHrdVpQ.jpeg 552w, https://miro.medium.com/max/1280/1*LzqfF7ZQEYRE_TnBHrdVpQ.jpeg 640w, https://miro.medium.com/max/1400/1*LzqfF7ZQEYRE_TnBHrdVpQ.jpeg 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*LzqfF7ZQEYRE_TnBHrdVpQ.jpeg?q=20"></p></div></div></div><figcaption>(Source: <a href="https://commons.wikimedia.org/wiki/File:Aves_en_Vons.JPG" rel="noopener">Adri√É¬°n Cer√É¬≥n</a>, <a href="https://creativecommons.org/licenses/by-sa/4.0" rel="noopener">CC BY-SA 4.0</a>, via Wikimedia Commons)</figcaption></figure><p id="fcd4">When Dylan√¢‚Ç¨‚Ñ¢s grocery delivery arrived a few days before New Years, it came with some bad news. The delivery driver who brought his groceries from Vons mentioned that drivers across the state are getting fired by Vons, Pavilions, and other California stores owned by Albertsons Companies in late February. Stores will instead turn to a third-party delivery service using independent contractors.</p><p id="d033">√¢‚Ç¨≈ìI was disturbed and disappointed that Vons would eliminate these jobs. I felt like they were the only remaining company that treated delivery drivers ethically but no longer,√¢‚Ç¨ÔøΩ said Dylan.</p><p id="1f42">After publication, an Albertsons representative sent the following statement: √¢‚Ç¨≈ìWe will transition that portion of our eCommerce operations to third-party logistics providers.√¢‚Ç¨ÔøΩ She added √¢‚Ç¨≈ìWhile we know that this move will help us create a more efficient operation, it wasn√¢‚Ç¨‚Ñ¢t a decision we made lightly or without a great deal of consideration.√¢‚Ç¨ÔøΩ</p><p id="10d5">Drivers under the Albertsons Companies umbrella are employees, while Ralphs delivery is operated by Instacart and Target uses Shipt, a similar app. At Bay Area stores, drivers are unionized, and will not be affected by the layoffs. For southern California shoppers, this move leaves them without a grocery delivery option that treats drivers as employees.</p><p id="baaa">Unions are vowing to fight the change, says Jim Araby, Director of Strategic Campaigns at UCFW5. √¢‚Ç¨≈ìThe only drivers that kept their jobs were the unionized drivers in the Bay Area. All the other drivers in California were laid off because they were non-union. We represent those drivers and they will keep their job.√¢‚Ç¨ÔøΩ</p><p id="4b12">These layoffs are unsurprising after the passage of Proposition 22, which gutted worker protections while making it easier for companies to shift financial burdens onto newly-designated √¢‚Ç¨≈ìindependent contractors.√¢‚Ç¨ÔøΩ In a <a rel="noopener" href="https://knock-la.com/the-case-for-voting-no-on-ca-prop-22-a64d25b2828d">piece for KNOCK</a> last year, Keith F. Eberl predicted this exact outcome in the opening paragraph:</p><blockquote><p id="95b6">√¢‚Ç¨≈ìContrary to the companies√¢‚Ç¨‚Ñ¢ deceptive ad campaign and intimidating messages to their workers, Prop 22 does not preserve driver flexibility or save drivers from politicians. What Prop 22 does do is change current law so the companies can shift their costs to the driver and diminish or remove drivers√¢‚Ç¨‚Ñ¢ rights, protections, and benefits. Prop 22 will also block drivers√¢‚Ç¨‚Ñ¢ ability to organize so they can√¢‚Ç¨‚Ñ¢t collectively bargain a contract. In addition, this proposition will block local governments from writing or enforcing protections for drivers.√¢‚Ç¨ÔøΩ</p></blockquote><p id="a03f">The only surprise is the speed at which Albertsons reversed course on its commitments to workers. This move comes after nearly a year of celebrating grocery store workers for feeding communities. <a href="https://www.vons.com/steps-we-are-taking-at-your-grocery-store.html" rel="noopener">Earlier this year</a>, Albertsons Companies President &amp; CEO Vivek Sankaran said the company was √¢‚Ç¨≈ìtaking care of our team.√¢‚Ç¨ÔøΩ Albertsons Companies √¢‚Ç¨≈ìare working√¢‚Ç¨¬¶ to ensure that every member of our team who faces a crisis can have peace of mind that we will help them get through it.√¢‚Ç¨ÔøΩ</p><p id="c5d5">Albertsons was happy to reap public goodwill during the pandemic. But once Prop 22 gave the company the option of replacing workers with lower-paid contractors, they jumped at the opportunity. Employees received notice during the holidays that their employment would end one month into the new year.</p><p id="66cc">Early in the pandemic, union members demanded hazard pay, additional medical leave, and employee protections during the pandemic. In March, Safeway and Northern California grocery workers <a href="https://www.sfchronicle.com/business/article/Coronavirus-Safeway-reaches-new-agreement-for-15150811.php" rel="noopener">reached an agreement</a> providing these additional benefits.</p><p id="452b">Labor and management were able to cooperate in April, requesting that grocery workers be designated as first responders. In an April j<a href="https://www.albertsonscompanies.com/helping-you-through-covid-19/albertsons-companies-ucfw-launch-joint-effort.html" rel="noopener">oint statement</a>, Sankaran and United Food and Commercial Workers International Union (UFCW) President Marc Perrone wrote:</p><blockquote><p id="c86a">√¢‚Ç¨≈ìThis joint action is an example of how all Americans must work together to protect everyone working on the frontlines. This includes√¢‚Ç¨¬¶ associates at our nation√¢‚Ç¨‚Ñ¢s grocery stores who are providing communities with the essential food and supplies needed to weather this public health crisis.√¢‚Ç¨ÔøΩ</p></blockquote><p id="0a33">Negotiations in October <a href="https://www.ocregister.com/2020/10/08/grocery-warehouse-workers-truck-drivers-give-notice-of-potential-strike/" rel="noopener">turned contentious</a>, as members of the Teamsters issued a notice of potential strike due to rising healthcare costs. Lou Villavazo, who chairs the bargaining effort, told the <a href="https://www.ocregister.com/2020/10/08/grocery-warehouse-workers-truck-drivers-give-notice-of-potential-strike/" rel="noopener">Orange County Register</a> that √¢‚Ç¨≈ìemployers have been bargaining in bad faith. We√¢‚Ç¨‚Ñ¢ve had over 18 bargaining sessions with them and we provided our economic proposal √¢‚Ç¨¬¶ but no response.√¢‚Ç¨ÔøΩ</p><p id="e2db">Organized labor made the difference for drivers in the Bay Area, who will remain as employees for now. But without the power of a union, southern California drivers lack an organizational structure through which to fight back.</p><p id="b343">Many, myself included, turned to Vons and Albertsons stores for their groceries, knowing that drivers were employed with benefits. Unionized drivers offered a clear alternative to the <a href="https://www.bloomberg.com/news/articles/2020-12-24/no-holiday-cheer-for-gig-workers-hunting-your-last-minute-gifts" rel="noopener">hellscape of gig-economy apps</a> like Instacart.</p><p id="a579">In a <a href="https://www.albertsonscompanies.com/newsroom/appreciation-pay-for-front-line-associates.html" rel="noopener">March 2020 statement</a>, Sankaran said √¢‚Ç¨≈ìthese times are unprecedented in the grocery industry√¢‚Ç¨¬¶ [a] simple √¢‚Ç¨Àúthank you√¢‚Ç¨‚Ñ¢ doesn√¢‚Ç¨‚Ñ¢t seem like quite enough.√¢‚Ç¨ÔøΩ He was right. Delivery drivers deserve healthcare, job protections, and fair wages. Workers won those fights this year because they fought as a union. With DoorDash taking over in February, that united front will be gone.</p><p id="26c2">You can contact Albertsons Companies and let them know what you think of this move:</p><p id="2910">Vons Retail Store/Corporate Phone Number: 877√¢‚Ç¨‚Äú723√¢‚Ç¨‚Äú3929</p><p id="2f7e">Albertsons Retail Store/Corporate Phone Number: 877√¢‚Ç¨‚Äú723√¢‚Ç¨‚Äú3929</p><p id="2b59"><em>EDITOR√¢‚Ç¨‚Ñ¢S NOTE: After publication, Albertson√¢‚Ç¨‚Ñ¢s responded to KNOCK√¢‚Ç¨‚Ñ¢s request for comment. This piece has since been edited to clarify that union drivers will not be laid off and that workers facing layoffs in Southern California are non-union, as well as to include statements from both Albertsons and UCFW5. The scheduled date of the layoffs was also corrected.</em></p></div></div></section></div>]]>
            </description>
            <link>https://knock-la.com/vons-fires-delivery-drivers-prop-22-e899ee24ffd0</link>
            <guid isPermaLink="false">hacker-news-small-sites-25640294</guid>
            <pubDate>Tue, 05 Jan 2021 00:25:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My Google Traffic Has Fallen to Zero]]>
            </title>
            <description>
<![CDATA[
Score 480 | Comments 392 (<a href="https://news.ycombinator.com/item?id=25640217">thread link</a>) | @josephjrobison
<br/>
January 4, 2021 | https://www.goodcheapandfast.com/2020 | <a href="https://web.archive.org/web/*/https://www.goodcheapandfast.com/2020">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-nc-base="header" data-controller="AncillaryLayout">
      

      

      <div>

        

        <div>
          
            
              
                
                  
                
              
            
          

          <main>
            
              <section data-content-field="main-content">
                <div data-type="page" data-updated-on="1608230832114" id="page-5fd3a159f92762251f1c6eca"><div><div><div data-block-type="2" id="block-016a72dee6b3751c6cf2"><p><h3>Google's December 2020 Core Algorithm Update drove this website's traffic to new highs last week, then it fell to zero.</h3></p></div><div data-block-type="5" id="block-yui_3_17_2_1_1607704925648_14759"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5bbe4cb0d745625c9d104763/1607705105493-A75SVPI65VJDT5XKLWXI/ke17ZwdGBToddI8pDm48kEYoQxTi5oKpiEba6WUyZp4UqsxRUqqbr1mOJYKfIPR7LoDQ9mXPOjoJoqy81S2I8N_N4V1vUb5AoIIIbLZhVYy7Mythp_T-mtop-vrsUOmeInPi9iDjx9w8K4ZfjXt2ds6qln6HpuaNqwonEk3tr1DAktcgtHSS7CyIBz9i8uwd7zs2yPjc1ECvpa5Zm_kMqw/Eo9bZOCWMAARRGD.jpeg" data-image="https://images.squarespace-cdn.com/content/v1/5bbe4cb0d745625c9d104763/1607705105493-A75SVPI65VJDT5XKLWXI/ke17ZwdGBToddI8pDm48kEYoQxTi5oKpiEba6WUyZp4UqsxRUqqbr1mOJYKfIPR7LoDQ9mXPOjoJoqy81S2I8N_N4V1vUb5AoIIIbLZhVYy7Mythp_T-mtop-vrsUOmeInPi9iDjx9w8K4ZfjXt2ds6qln6HpuaNqwonEk3tr1DAktcgtHSS7CyIBz9i8uwd7zs2yPjc1ECvpa5Zm_kMqw/Eo9bZOCWMAARRGD.jpeg" data-image-dimensions="1536x549" data-image-focal-point="0.5,0.5" alt="Eo9bZOCWMAARRGD.jpeg" data-load="false" data-image-id="5fd3a211c4a2b267e28574c8" data-type="image" src="https://www.goodcheapandfast.com/Eo9bZOCWMAARRGD.jpeg">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1607704925648_15047"><div><p>This website stopped receiving referrals from Google last night. It's a total wipeout after two years of building a business that's also my full-time focus and my family's sole source of income. I'm heartbroken and confused.</p><h2><strong>The Cruelest Year</strong></h2><p>2020 has been awful, and despite this new challenge that I face, I still count myself blessed. A friend of mine has lived in a veritable shoebox for a decade, pumping every hour and cent he had into building two of the most beloved bars in New York City. He filed for bankruptcy last month. Another friend attended a family reunion in February; it was the last time that she'd see several of her relatives (who died from COVID-19 in the weeks that followed).</p><p>Again, no matter what happens to this site, I really do feel fortunate and blessed.</p><h2><strong>The Risk of Relying on Big Tech</strong></h2><p>As much as I've tried to diversify <em>Good, Cheap and Fast</em>'<em>s</em> revenue and traffic, I haven‚Äôt escaped the gravitational pull of Amazon and Google. This poses major risks and I advise caution to anyone considering a similar business model.</p><p>In April of this year, Amazon <a href="https://searchengineland.com/amazon-affiliate-commission-rates-cut-332966">reduced the affiliate commissions</a> that it pays to online publishers. My revenue fell by 41% as a result. It was a crushing blow that I attempted to mitigate by joining other affiliate programs, but they didn't pan out. The median conversion rate of the 70 other websites that I linked to was a meager 0.8%, which is approximately 1/10 of the conversion rate on Amazon.&nbsp;</p></div></div><div data-block-type="5" id="block-yui_3_17_2_1_1607784280213_34634"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          
        

        
          
          <figcaption>
            <p>Best Buy is a great company. Nevertheless, my visitors are 6,500% more likely to make a purchase from Amazon.</p>
          </figcaption>
        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1607784280213_34922"><div><p>Then, <a href="https://www.mariehaynes.com/may-2020-core-google-update/">Google's May 2020 algorithm update</a> cut my traffic by around 70%.</p><p>I didn't publish much on this website between March and April because I was focused on <a href="https://www.linkedin.com/posts/johndefeo_for-anyone-looking-for-coronavirus-newsupdates-activity-6644299863842447360-xaYA/">learning about COVID-19</a> with the goal of keeping my family safe. It's reasonable to assume that this hiatus may have resulted in this site being on the wrong side of Google's algorithm, so from May until now, I've worked seven days a week on improving this site -- around 1,200 hours in total.</p><p>My Google traffic gradually recovered, reached new highs, then it went terminal.</p><h2><strong>Doing the Right Thing</strong></h2></div></div><div data-block-type="5" id="block-yui_3_17_2_1_1607784280213_18633"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5bbe4cb0d745625c9d104763/1607784443523-YRG92MPU12H93L80Q7PT/ke17ZwdGBToddI8pDm48kJeCjys4TeC3DGU_a1akXtdZw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZUJFbgE-7XRK3dMEBRBhUpyUUXYGPH9DHj5celJrvHX8W6t_uE79Pi8unyS9KZtA3CYWXOatDWau0S9eSkX7oGw/Screen+Shot+2020-12-12+at+9.47.00+AM.png" data-image="https://images.squarespace-cdn.com/content/v1/5bbe4cb0d745625c9d104763/1607784443523-YRG92MPU12H93L80Q7PT/ke17ZwdGBToddI8pDm48kJeCjys4TeC3DGU_a1akXtdZw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZUJFbgE-7XRK3dMEBRBhUpyUUXYGPH9DHj5celJrvHX8W6t_uE79Pi8unyS9KZtA3CYWXOatDWau0S9eSkX7oGw/Screen+Shot+2020-12-12+at+9.47.00+AM.png" data-image-dimensions="659x872" data-image-focal-point="0.5,0.5" alt="This website is committed to privacy; it was one of the first 100 companies to endorse the  Contract for the Web ." data-load="false" data-image-id="5fd4d7fb164d0f203c51bdf9" data-type="image" src="https://images.squarespace-cdn.com/content/v1/5bbe4cb0d745625c9d104763/1607784443523-YRG92MPU12H93L80Q7PT/ke17ZwdGBToddI8pDm48kJeCjys4TeC3DGU_a1akXtdZw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZUJFbgE-7XRK3dMEBRBhUpyUUXYGPH9DHj5celJrvHX8W6t_uE79Pi8unyS9KZtA3CYWXOatDWau0S9eSkX7oGw/Screen+Shot+2020-12-12+at+9.47.00+AM.png">
          </p>
        
          
        

        
          
          <figcaption>
            <p>This website is committed to privacy; it was one of the first 100 companies to endorse the <a href="https://contractfortheweb.org/">Contract for the Web</a>.</p>
          </figcaption>
        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1607784280213_18921"><p>Since I launched this site in Oct. 2018, it has never contained ads, trackers nor slideshows. I don't collect any personally identifiable information. I don't allow guest posts or third-party content. I'm completely transparent about how this website makes money as well as the methods and limitations of my product selection methodology. Every affiliate link on this site is properly disclosed and wrapped in a "rel sponsored" tag. I take the time to read scientific and medical research as it relates to the topics that I cover, and when I find a product that is potentially harmful (like weighted eye masks), I share my findings with every major publisher who has written positive things about that product. I use my expertise to <a href="https://www.linkedin.com/posts/johndefeo_if-you-support-a-charity-via-amazonsmile-activity-6737737229449379840-vc6I/">support charity</a> and <a href="https://www.linkedin.com/posts/johndefeo_to-my-friends-in-journalism-be-cautious-activity-6733095426775404544-FbxR/">to teach colleagues about scams</a>. All of these factors have built trust in my brand. I know this because the percentage of my visitors who go forth to make a purchase has climbed steadily for two years.</p></div><div data-block-type="5" id="block-yui_3_17_2_1_1607784280213_68769"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5bbe4cb0d745625c9d104763/1607785322376-GN0139MP1XEGAGBNW4VL/ke17ZwdGBToddI8pDm48kFqYFZLDQ5urJwi9gnzSGHJZw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZamWLI2zvYWH8K3-s_4yszcp2ryTI0HqTOaaUohrI8PIERTuUcWuFWTMfMjVW38Nggz8HmC14XFJR0_lAEGtGZ8/Screen+Shot+2020-12-12+at+10.01.20+AM.png" data-image="https://images.squarespace-cdn.com/content/v1/5bbe4cb0d745625c9d104763/1607785322376-GN0139MP1XEGAGBNW4VL/ke17ZwdGBToddI8pDm48kFqYFZLDQ5urJwi9gnzSGHJZw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZamWLI2zvYWH8K3-s_4yszcp2ryTI0HqTOaaUohrI8PIERTuUcWuFWTMfMjVW38Nggz8HmC14XFJR0_lAEGtGZ8/Screen+Shot+2020-12-12+at+10.01.20+AM.png" data-image-dimensions="849x518" data-image-focal-point="0.5,0.5" alt="My traffic and revenue are subject to forces outside my control, however, this stat measures the factors in my control." data-load="false" data-image-id="5fd4db6ae5ac582896f9dcc2" data-type="image" src="https://images.squarespace-cdn.com/content/v1/5bbe4cb0d745625c9d104763/1607785322376-GN0139MP1XEGAGBNW4VL/ke17ZwdGBToddI8pDm48kFqYFZLDQ5urJwi9gnzSGHJZw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZamWLI2zvYWH8K3-s_4yszcp2ryTI0HqTOaaUohrI8PIERTuUcWuFWTMfMjVW38Nggz8HmC14XFJR0_lAEGtGZ8/Screen+Shot+2020-12-12+at+10.01.20+AM.png">
          </p>
        
          
        

        
          
          <figcaption>
            <p>My traffic and revenue are subject to forces outside my control, however, this stat measures the factors in my control.</p>
          </figcaption>
        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1607784280213_69057"><div><p>But, as much as I'd like this website to be a destination, it will never be one.&nbsp;</p><p><em>Good, Cheap and Fast</em> was profiled by big name websites like <a href="https://www.fastcompany.com/90274504/hate-browsing-amazon-this-is-the-ultimate-no-frills-shopping-site">Fast Company</a> and <a href="https://twitter.com/kottke/status/1067547920617086976">Kottke</a>. These media mentions drove hundreds of thousands of visits. Nevertheless, if someone who was referred to this website two years ago is looking for a cheap portable generator today, he or she is much more likely to Google "cheap portable generator" than to come to my homepage.</p><p>It's understandable. Alas, without search visibility, this site in invisible.</p><h2><strong>Can a Domain Be Cursed?</strong></h2><p>I did my due diligence before I registered goodcheapandfast.com. It had no backlink history and it had only existed previously as a parked domain in 2013. There are no obvious skeletons in this domain's closet, yet strange things have been afoot, almost since day one.</p><p>For example, Bing didn't even index this website's homepage a month after <em>Good, Cheap and Fast</em> was linked to from websites like Esquire and Slate. I contacted bingwb@microsoft.com with my concerns and received this response:</p><blockquote><p>Good day and thank you for your patience while we investigated the issue.</p><p>Firstly, I am happy to provide you information that our product review group succeeded in removing the block of the site. After submitting your site to be reviewed the team has decided to lift the‚ÄØ block. Please allow up to 2-3 weeks for your site to be crawled indexed and serving again.&nbsp;&nbsp;</p><p>I am unable to provide you the specifics of the block as our product review team does not share details of the block.</p></blockquote><p>The mystery didn't end there. Two years later, this website has received fewer than 100 total referrals from Bing. That's not normal and neither is this: Since 2019, pages on this website started dropping in-and-out of Google's results. An article that ranked #1 would disappear entirely, then reappear, then disappear, then reappear. These were like mini strokes. Sometimes the traffic bounced back in full; other times it gradually faded away.</p></div></div><div data-block-type="5" id="block-yui_3_17_2_1_1607704925648_28921"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5bbe4cb0d745625c9d104763/1607705806377-HKE2K8E19Z6N7L9RDYFI/ke17ZwdGBToddI8pDm48kBBWv4dEpfcKRhEc-mPgvhhZw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZamWLI2zvYWH8K3-s_4yszcp2ryTI0HqTOaaUohrI8PIH_TPfyAj5DK2q4KS84c9dntObHZV9V2os84uj8Aa0M0KMshLAGzx4R3EDFOm1kBS/Google-Indexing-Bugs.jpg" data-image="https://images.squarespace-cdn.com/content/v1/5bbe4cb0d745625c9d104763/1607705806377-HKE2K8E19Z6N7L9RDYFI/ke17ZwdGBToddI8pDm48kBBWv4dEpfcKRhEc-mPgvhhZw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZamWLI2zvYWH8K3-s_4yszcp2ryTI0HqTOaaUohrI8PIH_TPfyAj5DK2q4KS84c9dntObHZV9V2os84uj8Aa0M0KMshLAGzx4R3EDFOm1kBS/Google-Indexing-Bugs.jpg" data-image-dimensions="750x229" data-image-focal-point="0.5,0.5" alt="I have a hard time describing the frustration and confusion that I‚Äôve felt watching my fate swing like a pendulum." data-load="false" data-image-id="5fd3a4ce872d8f1a0acde79a" data-type="image" src="https://images.squarespace-cdn.com/content/v1/5bbe4cb0d745625c9d104763/1607705806377-HKE2K8E19Z6N7L9RDYFI/ke17ZwdGBToddI8pDm48kBBWv4dEpfcKRhEc-mPgvhhZw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZamWLI2zvYWH8K3-s_4yszcp2ryTI0HqTOaaUohrI8PIH_TPfyAj5DK2q4KS84c9dntObHZV9V2os84uj8Aa0M0KMshLAGzx4R3EDFOm1kBS/Google-Indexing-Bugs.jpg">
          </p>
        
          
        

        
          
          <figcaption>
            <p>I have a hard time describing the frustration and confusion that I‚Äôve felt watching my fate swing like a pendulum.</p>
          </figcaption>
        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1607704925648_29209"><div><p>I've managed dozens of websites over the last 17 years -- most recently as the head of content strategy and search engine optimization for one of the largest publishing companies in the U.S. -- and I've never seen anything like this before.</p><h2><strong>The Lunatic Fringe</strong></h2><p>I‚Äôm not too proud to ask for help, especially when my livelihood depends on it, so I swallowed any professional embarrassment and shared my plight with Google spokespersons and online marketing professionals. The best that I've gotten in return was a <a href="https://twitter.com/dannysullivan/status/1327323523828703232">superficial acknowledgement</a> that resulted in a dead end.</p><p>I get it. My situation is weird and it's not easily explainable. But, the ramifications are very real and they threaten my financial (and mental) well being.</p><blockquote><p>(The closest analogue that I've had to this experience was dealing with the State of NJ Treasury, trying to recover unclaimed property that was purchased by Anthony DeFeo, in the custody of John Anthony DeFeo for the benefit of John William Anthony DeFeo. It dragged on for two years.)</p></blockquote><p>There's an old proverb, "Who knows what is good and what is bad." </p><p>Maybe my own plight, which admittedly doesn't even register as a drop in the sea of 2020 misery, is part of something good that has yet to reveal itself. </p><p>I'm doing the best that I can to stay positive, but it isn't easy.</p><p>‚Äî‚Äî‚Äî</p><p><strong>Update, 12/15</strong> - My traffic has settled into a 90% loss. I at least feel better (in a sad way) that I have been heard and explicitly told <a href="https://twitter.com/dannysullivan/status/1338949972507590656">that there is no recourse</a>.</p><p><strong>Postscript</strong> - If you‚Äôve made it this far and you‚Äôre feeling magnanimous, I humbly ask that you share <a href="https://www.gofundme.com/f/trying-to-raise-much-as-possible-fight-my-cancer">my friend Chris May‚Äôs online fundraiser</a>. Chris was laid off earlier this year, then diagnosed with Stage 4 colon cancer. He is 45 years old.</p></div></div></div></div><div><div><div><div><div data-block-json="{&quot;hSize&quot;:null,&quot;floatDir&quot;:null,&quot;collectionId&quot;:&quot;5c9fa5b8971a1874e4775783&quot;,&quot;design&quot;:&quot;list&quot;,&quot;headerText&quot;:&quot;Featured&quot;,&quot;textSize&quot;:&quot;medium&quot;,&quot;pageSize&quot;:10,&quot;imageAspectRatio&quot;:&quot;1&quot;,&quot;columnWidth&quot;:270,&quot;gutter&quot;:60,&quot;listImageSize&quot;:10,&quot;listImageAlignment&quot;:&quot;left&quot;,&quot;slidesPerRow&quot;:3,&quot;textAlignment&quot;:&quot;left&quot;,&quot;showTitle&quot;:true,&quot;showThumbnail&quot;:true,&quot;showExcerpt&quot;:true,&quot;showReadMoreLink&quot;:false,&quot;showPrice&quot;:true,&quot;productQuickViewEnabled&quot;:false,&quot;showPastOrUpcomingEvents&quot;:&quot;upcoming&quot;,&quot;metadataPosition&quot;:&quot;below-content&quot;,&quot;primaryMetadata&quot;:&quot;none&quot;,&quot;secondaryMetadata&quot;:&quot;none&quot;,&quot;filter&quot;:{&quot;categoryIds&quot;:null},&quot;autoCrop&quot;:true,&quot;lightbox&quot;:true,&quot;mixedContent&quot;:true,&quot;blockId&quot;:&quot;a748e58d2531d057b519&quot;}" data-block-type="55" id="block-yui_3_17_2_1_1607704925648_36997"><div>



<div>

  <div>

    

    <div>

      

        <div data-click-through-url="https://www.goodcheapandfast.com/about">

          
            <!-- Thumbnail -->
            

  
  <div>
    <a href="https://www.goodcheapandfast.com/about" data-title="John DeFeo, Founder of Good, Cheap and Fast" data-description="<p class=&quot;&quot; style=&quot;white-space:pre-wrap;&quot;>&quot;Good, cheap and fast -- pick two,&quot; is one of my favorite sayings. It's usually true, however, I built this website to help you find top-rated, inexpensive products within minutes. Here's the catch: It's a slow process behind the scenes.</p><p class=&quot;&quot; style=&quot;white-space:pre-wrap;&quot;>Since 2018, I've spent thousands of hours scouring the web for above-average products that sell for below-average prices. Along the way, I've learned how to spot counterfeit goods, disingenuous sellers, fake reviews (and real reviews that aren't particularly helpful).</p><p class=&quot;&quot; style=&quot;white-space:pre-wrap;&quot;><em>Good, Cheap and Fast</em> has no ads, no slideshows and no tracking pixels. I value your time and your privacy and I hope that others will do the same.</p><p class=&quot;&quot; style=&quot;white-space:pre-wrap;&quot;>In the recent past, I was head of insights for the company that published <em>AnandTech</em>, <em>Laptop Mag</em>, <em>Tom's Guide</em> and <em>Tom's Hardware</em> (as well as educational sites like <em>Space.com</em> and <em>Live Science</em>). I worked with product reviewers, lab testers and journalists each day for six years.</p><p class=&quot;&quot; style=&quot;white-space:pre-wrap;&quot;>Before that, I was director of business intelligence for <em>The Street</em> (a financial media company) and a strategist at publications like <em>Car &amp;amp; Driver</em>, <em>Elle</em>, <em>Popular Photography</em> and <em>Woman's Day</em>. I also co-founded <em>Debonair</em>, a men's fashion and lifestyle publication. I‚Äôm a graduate of New York University‚Äôs Tisch School of the Arts and I live in Brooklyn, New York.</p><p class=&quot;&quot; style=&quot;white-space:pre-wrap;&quot;>You can contact me via <a href=&quot;mailto:john@goodcheapandfast.com&quot; target=&quot;&quot;><strong>e-mail</strong></a> or find me on <a href=&quot;https://www.linkedin.com/in/johndefeo/&quot; target=&quot;&quot;><strong>LinkedIn</strong></a>, <a href=&quot;https://www.crunchbase.com/person/john-defeo-10a7&quot; target=&quot;&quot;><strong>Crunchbase</strong></a> and <a href=&quot;https://twitter.com/johndefeo&quot; target=&quot;&quot;><strong>Twitter</strong></a>.</p>">
      <p><img data-src="https://images.squarespace-cdn.com/content/v1/5bbe4cb0d745625c9d104763/1601559434612-IKX5K2REA2KKRY4S6S57/ke17ZwdGBToddI8pDm48kPJXHKy2-mnvrsdpGQjlhod7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QHyNOqBUUEtDDsRWrJLTmihaE5rlzFBImxTetd_yW5btdZx37rH5fuWDtePBPDaHF5LxdCVHkNEqSYPsUQCdT/John-W-DeFeo-Headshot.jpg" data-image="https://images.squarespace-cdn.com/content/v1/5bbe4cb0d745625c9d104763/1601559434612-IKX5K2REA2KKRY4S6S57/ke17ZwdGBToddI8pDm48kPJXHKy2-mnvrsdpGQjlhod7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QHyNOqBUUEtDDsRWrJLTmihaE5rlzFBImxTetd_yW5btdZx37rH5fuWDtePBPDaHF5LxdCVHkNEqSYPsUQCdT/John-W-DeFeo-Headshot.jpg" data-image-dimensions="1000x1000" data-image-focal-point="0.5,0.5" alt="John DeFeo, Founder of Good, Cheap and Fast" data-load="false" src="https://images.squarespace-cdn.com/content/v1/5bbe4cb0d745625c9d104763/1601559434612-IKX5K2REA2KKRY4S6S57/ke17ZwdGBToddI8pDm48kPJXHKy2-mnvrsdpGQjlhod7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QHyNOqBUUEtDDsRWrJLTmihaE5rlzFBImxTetd_yW5btdZx37rH5fuWDtePBPDaHF5LxdCVHkNEqSYPsUQCdT/John-W-DeFeo-Headshot.jpg">

    

    

        

        

      </p>
    </a>

    <!-- Products: Quick View -->
    

  </div>
  



          

          <div data-animation-role="content">

            <!-- Metadata (Above Title) -->
            

            
              <!-- Title -->
              
            

            <!-- Metadata (Below Title) -->
            

            
              
            

            
              

              
              <!--- Gallery: Caption Description -->
                <div><p>"Good, cheap and fast -- pick two," is one of my favorite sayings. It's usually true, however, I built this website to help you find top-rated, inexpensive products within minutes. Here's the catch: It's a slow process behind the scenes.</p><p>Since 2018, I've spent thousands of hours scouring the web for above-average products that sell for below-average prices. Along the way, I've learned how to spot counterfeit goods, disingenuous sellers, fake reviews (and real reviews that aren't particularly helpful).</p><p><em>Good, Cheap and Fast</em> has no ads, no slideshows and no tracking pixels. I value your time and your privacy and I hope that others will do the same.</p><p>In the recent past, I was head of insights for the company that published <em>AnandTech</em>, <em>Laptop Mag</em>, <em>Tom's Guide</em> and <em>Tom's Hardware</em> (as well as educational sites like <em>Space.com</em> and <em>Live Science</em>). I worked with product reviewers, lab testers and journalists ‚Ä¶</p></div></div></div></div></div></div></div></div></div></div></div></div></div></section></main></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.goodcheapandfast.com/2020">https://www.goodcheapandfast.com/2020</a></em></p>]]>
            </description>
            <link>https://www.goodcheapandfast.com/2020</link>
            <guid isPermaLink="false">hacker-news-small-sites-25640217</guid>
            <pubDate>Tue, 05 Jan 2021 00:17:19 GMT</pubDate>
        </item>
    </channel>
</rss>
