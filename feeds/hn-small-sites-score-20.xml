<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 20]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 20. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Thu, 24 Sep 2020 12:31:09 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-20.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Thu, 24 Sep 2020 12:31:09 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Bypassing ESP32 Encrypted Secure Boot]]>
            </title>
            <description>
<![CDATA[
Score 59 | Comments 9 (<a href="https://news.ycombinator.com/item?id=24552482">thread link</a>) | @mleonhard
<br/>
September 22, 2020 | https://raelize.com/posts/espressif-esp32-bypassing-encrypted-secure-boot-cve-2020-13629/ | <a href="https://web.archive.org/web/*/https://raelize.com/posts/espressif-esp32-bypassing-encrypted-secure-boot-cve-2020-13629/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><p>We arrived at the last post about our <strong>Fault Injection</strong> research on the <strong>ESP32</strong>. Please read our previous posts as it provides context to the results described in this post.</p>
<ul>
<li><a href="https://raelize.com/posts/espressif-systems-esp32-bypassing-sb-using-emfi/">Espressif ESP32: Bypassing Secure Boot using EMFI</a></li>
<li><a href="https://raelize.com/posts/espressif-systems-esp32-controlling-pc-during-sb/">Espressif ESP32: Controlling PC during Secure Boot</a></li>
<li><a href="https://raelize.com/posts/espressif-systems-esp32-bypassing-flash-encryption/">Espressif ESP32: Bypassing Flash Encryption (CVE-2020-15048)</a></li>
</ul>
<p>During our <strong>Fault Injection</strong> research on the <strong>ESP32</strong>, we gradually took steps forward in order to identify the required vulnerabilities that allowed us to bypass <strong>Secure Boot</strong> and <strong>Flash Encryption</strong> with a single <strong>EM</strong> glitch. Moreover, we did not only achieve <strong>code execution</strong>, we also extracted the <strong>plain-text flash</strong> data from the chip.</p>
<p><strong>Espressif</strong> requested a <strong>CVE</strong>  for the attack described in this post: <a href="https://www.espressif.com/sites/default/files/advisory_downloads/Security%20Advisory%20CVE-2020-15048%2C%2013629%20EN%26CN.pdf" target="_blank">CVE-2020-13629</a>. Please note, that the attack as described in this post, is only applicable to <strong>ESP32</strong> silicon revision 0 and 1. The newer <strong>ESP32 V3</strong> silicon supports functionality to disable the <strong>UART bootloader</strong> that we leveraged for the attack.</p>

<p>The <strong>ESP32</strong> implements an <strong>UART bootloader</strong> in its <strong>ROM code</strong>. This feature allows, among other functionality, to program the external flash. It's not uncommon that such functionality is implemented in the <strong>ROM code</strong> as it's quite robust as the code cannot get corrupt easily. If this functionality would be implemented by code stored in the external flash, any corruption of the flash may result in a bricked device.</p>
<p>Typically, this type of functionality is accessed by booting the chip in a special <strong>boot mode</strong>. The <strong>boot mode</strong> selection is often done using one or more external strap pin(s) which are set before resetting the chip. On the <strong>ESP32</strong> it works exactly like this pin <code>G0</code> which is exposed externally.</p>
<p>The <strong>UART bootloader</strong> supports many interesting <a href="https://github.com/espressif/esptool/wiki/Serial-Protocol#command-opcodes" target="_blank">commands</a> that can be used to read/write memory, read/write registers and even execute a stub from <strong>SRAM</strong>.</p>
<h4 id="executing-arbitrary-code">Executing arbitrary code</h4>
<p>The <strong>UART bootloader</strong> supports loading and executing arbitrary code using the <code>load_ram</code> command. The <strong>ESP32</strong>'s SDK includes all the tooling required to compile the code that can be executed from <strong>SRAM</strong>. For example, the following code snippet will print <code>SRAM CODE\n</code> on the serial interface.</p>
<div><pre><code data-lang="C"><span>void</span> <span>__attribute__</span><span>((</span><span>noreturn</span><span>))</span> <span>call_start_cpu0</span><span>()</span>
<span>{</span>
    <span>ets_printf</span><span>(</span><span>"SRAM CODE</span><span>\n</span><span>"</span><span>);</span>
    <span>while</span> <span>(</span><span>1</span><span>);</span>
<span>}</span>
</code></pre></div><p>The <code>esptool.py</code> tool, which is part of the <strong>ESP32</strong>'s SDK, can be used to load the compiled binary into the <strong>SRAM</strong> after which it will be executed.</p>
<pre><code>esptool.py --chip esp32 --no-stub --port COM3 load_ram code.bin
</code></pre><p>Interestingly, the <strong>UART bootloader</strong> cannot disabled and therefore always accessible, even when <strong>Secure Boot</strong> and <strong>Flash Encryption</strong> are enabled.</p>
<h4 id="additional-measures">Additional measures</h4>
<p>Obviously, if no additional security measures would be taken, leaving the <strong>UART bootloader</strong> always accessible would render <strong>Secure Boot</strong> and <strong>Flash Encryption</strong> likely useless. Therefore, <strong>Espressif</strong> implemented additional security measures which are enabled using dedicated <strong>eFuses</strong>.</p>
<p>These are security configuration bits implemented in special memory, often referred to as <strong>OTP memory</strong>, which can typically only change from 0 to 1. This guarantees, that once enabled, is enabled forever. The following <strong>OTP memory</strong> bits are used to disable specific functionality when the <strong>ESP32</strong> is in the <strong>UART bootloader</strong> boot mode.</p>
<ul>
<li><strong>DISABLE_DL_ENCRYPT</strong>: disables flash encryption operation</li>
<li><strong>DISABLE_DL_DECRYPT</strong>: disables transparent flash decryption</li>
<li><strong>DISABLE_DL_CACHE</strong>: disables the entire MMU flash cache</li>
</ul>
<p>The most relevant <strong>OTP memory</strong> bit is <strong>DISABLE_DL_DECRYPT</strong> as it disables the transparent decryption of the flash data.</p>
<p>If not set, it would be possible to simply access the plain-text flash data while the <strong>ESP32</strong> is in its <strong>UART bootloader</strong> boot mode.</p>
<p>If set, any access to the flash, when the chip is in <strong>UART bootloader</strong> boot mode, will yield just the encrypted data. The <strong>Flash Encryption</strong> feature, which is fully implemented in hardware and transparent to the processor,  is only enabled in when the <strong>ESP32</strong> is in <strong>Normal</strong> boot mode.</p>
<p>The attacks described in this post have all these bits set to 1.</p>

<p>The <strong>SRAM</strong> memory that's used by the <strong>ESP32</strong> is typical technology that's used by many chips. It's commonly used to the <strong>ROM</strong>'s stack and executing the first bootloader from flash. It's convenient to use at early boot as it typically require no configuration before it can be used.</p>
<p>We know from previous experience that the data stored in <strong>SRAM</strong> memory is persistent until it's overwritten or the required power is removed from the physical cells. After a <strong>cold reset</strong> (i.e. power-cycle) of the chip, the <strong>SRAM</strong> will be reset to its default state. This often semi-random and unique per chip as the default value for each bit (i.e. 0 or 1) is different.</p>
<p>However, after a <strong>warm reset</strong>, where the entire chip is reset without removing the power, it may happen that the data stored in <strong>SRAM</strong> remains unaffected. This persistence of the data is visualized in the picture below.</p>
<p>
    <a href="https://raelize.com/img/esp32/esp32-sram-persistence.png">
        <img src="https://raelize.com/img/esp32/esp32-sram-persistence.png" width="700px">
    </a>
</p>
<p>We decided to figure out if this behavior holds up for the <strong>ESP32</strong> as well. We identified that the hardware <a href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32/api-reference/system/wdts.html" target="_blank">watchdog</a> can be used to issue a <strong>warm reset</strong> from software. This <strong>watchdog</strong> can also be issued when the chip is in <strong>UART bootloader</strong> boot mode and therefore we can use it to reset the <strong>ESP32</strong> back into <strong>Normal</strong> boot mode.</p>
<p>Using some test code, loaded and executed in <strong>SRAM</strong> using the <strong>UART bootloader</strong>, we determined that the data in <strong>SRAM</strong> is indeed persistent after issuing a <strong>warm reset</strong> using the <strong>watchdog</strong>. Effectively this means we can boot the <strong>ESP32</strong> in <strong>Normal</strong> boot mode with the <strong>SRAM</strong> filled with controlled data.</p>
<p>But… how can we (ab)use this?</p>

<p>We envisioned that we may be able to leverage the persistence of data in <strong>SRAM</strong> across <strong>warm resets</strong> for an attack. The first attack we came up with is to fill the <strong>SRAM</strong> with code using the <strong>UART bootloader</strong> and issue a <strong>warm reset</strong> using the <strong>watchdog</strong>. Then, we inject a glitch while the <strong>ROM code</strong> is overwriting this code with the <strong>flash bootloader</strong> during a normal boot.</p>
<p>We got this ideas as during our previous experiments, where we <a href="">turned data transfers into code execution</a>, we noticed that for some experiments the chip started executing from the entry address before the bootloader was finished copying.</p>
<p>Sometimes you just need to try it…</p>
<h4 id="attack-code">Attack code</h4>
<p>The code that we load into the <strong>SRAM</strong> using the <strong>UART bootloader</strong> is shown below.</p>
<div><pre><code data-lang="C"><span>#define a "addi a6, a6, 1;"
</span><span>#define t a a a a a a a a a a
</span><span>#define h t t t t t t t t t t
</span><span>#define d h h h h h h h h h h
</span><span></span>
<span>void</span> <span>__attribute__</span><span>((</span><span>noreturn</span><span>))</span> <span>call_start_cpu0</span><span>()</span> <span>{</span>
    <span>uint8_t</span> <span>cmd</span><span>;</span>

    <span>ets_printf</span><span>(</span><span>"SRAM CODE</span><span>\n</span><span>"</span><span>);</span>

    <span>while</span> <span>(</span><span>1</span><span>)</span> <span>{</span>

        <span>cmd</span> <span>=</span> <span>0</span><span>;</span>
        <span>uart_rx_one_char</span><span>(</span><span>&amp;</span><span>cmd</span><span>);</span>

        <span>if</span><span>(</span><span>cmd</span> <span>==</span> <span>'A'</span><span>)</span> <span>{</span>                                    <span>// 1
</span><span></span>            <span>*</span><span>(</span><span>unsigned</span> <span>int</span> <span>*</span><span>)(</span><span>0x3ff4808c</span><span>)</span> <span>=</span> <span>0x4001f880</span><span>;</span>
            <span>*</span><span>(</span><span>unsigned</span> <span>int</span> <span>*</span><span>)(</span><span>0x3ff48090</span><span>)</span> <span>=</span> <span>0x00003a98</span><span>;</span>
            <span>*</span><span>(</span><span>unsigned</span> <span>int</span> <span>*</span><span>)(</span><span>0x3ff4808c</span><span>)</span> <span>=</span> <span>0xc001f880</span><span>;</span>
        <span>}</span>
    <span>}</span>

    <span>asm</span> <span>volatile</span> <span>(</span> <span>d</span> <span>);</span>                                     <span>// 2
</span><span></span>
    <span>"movi a6, 0x40; slli a6, a6, 24;"</span>                       <span>// 3
</span><span></span>    <span>"movi a7, 0x00; slli a7, a7, 16;"</span>
    <span>"xor a6, a6, a7;"</span>
    <span>"movi a7, 0x7c; slli a7, a7, 8;"</span>
    <span>"xor a6, a6, a7;"</span>
    <span>"movi a7, 0xf8;"</span>
    <span>"xor a6, a6, a7;"</span>

    <span>"movi a10, 0x52; callx8  a6;"</span> <span>// R
</span><span></span>    <span>"movi a10, 0x61; callx8  a6;"</span> <span>// a            
</span><span></span>    <span>"movi a10, 0x65; callx8  a6;"</span> <span>// e               
</span><span></span>    <span>"movi a10, 0x6C; callx8  a6;"</span> <span>// l               
</span><span></span>    <span>"movi a10, 0x69; callx8  a6;"</span> <span>// i               
</span><span></span>    <span>"movi a10, 0x7A; callx8  a6;"</span> <span>// z               
</span><span></span>    <span>"movi a10, 0x65; callx8  a6;"</span> <span>// e               
</span><span></span>    <span>"movi a10, 0x21; callx8  a6;"</span> <span>// !               
</span><span></span>    <span>"movi a10, 0x0a; callx8  a6;"</span> <span>// \n               
</span><span></span>
    <span>while</span><span>(</span><span>1</span><span>);</span>
<span>}</span>
</code></pre></div><p>To summarize, the above code implements the following:</p>
<ol>
<li>Command handler with a single command to perform a <strong>watchdog</strong> reset</li>
<li>NOP-like padding using <code>addi</code> instructions</li>
<li>Assembly for printing <code>Raelize!</code> on the serial interface</li>
</ol>
<p>Please note, the listing's numbers match the numbers in the code.</p>
<h4 id="timing">Timing</h4>
<p>We target a reasonably small attack window at the start of <strong>F</strong> which is shown in the picture below. We know from previous experiments that during this moment the <strong>flash bootloader</strong> is copied.</p>
<p>
    <a href="https://raelize.com/img/esp32/esp32-spi-pin1-during-boot.png">
        <img src="https://raelize.com/img/esp32/esp32-spi-pin1-during-boot.png" width="600px">
    </a>
</p>
<p>The glitch must be injected before our code in <strong>SRAM</strong> is entirely overwritten by the valid <strong>flash bootloader</strong>.</p>
<h4 id="attack-cycle">Attack cycle</h4>
<p>We took the following steps for each experiment to determine if the attack idea actually works. A successful glitch will print <code>Raelize!</code> on the serial interface.</p>
<ol>
<li>Set pin <strong>G0</strong> to low and perform a <strong>cold reset</strong> to enter <strong>UART bootloader</strong> boot mode</li>
<li>Use the <code>load_ram</code> command to execute our <strong>attack code</strong> from <strong>SRAM</strong></li>
<li>Send an <code>A</code> to the program to issue a <strong>warm reset</strong> into <strong>normal</strong> boot mode</li>
<li>Inject a glitch while the <strong>flash bootloader</strong> is being copied by the <strong>ROM code</strong></li>
</ol>
<h4 id="results">Results</h4>
<p>After running these experiments for more than a day, resulting in more than 1 million experiments, we did not observe any successful glitch…</p>
<h4 id="an-unexpected-result">An unexpected result</h4>
<p>Nonetheless, while analyzing the results, we noticed something unexpected.</p>
<p>The <strong>serial interface</strong> output for one of the experiments, which is shown below, indicated that the glitch caused an <strong>illegal instruction</strong> exception.</p>
<pre><code>ets Jun  8 2016 00:22:57
rst:0x10 (RTCWDT_RTC_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0008,len:4
load:0x3fff000c,len:3220
load:0x40078000,len:4816
load:0x40080400,len:18640
entry 0x40080740
Fatal exception (0): IllegalInstruction
epc1=0x661b661b, epc2=0x00000000, epc3=0x00000000, 
excvaddr=0x00000000, depc=0x00000000
</code></pre><p>These type of exceptions happened quite often when glitches are injected in a chip. This was not different for the <strong>ESP32</strong>. For most the exceptions the <code>PC</code> register is set to a value that's expected (i.e. a valid address). It does not happen often the <code>PC</code> register is set to such an interesting value.</p>
<p>The <code>Illegal Instruction</code> exception is caused as there is no valid instruction stored at the <code>0x661b661b</code> address. We conclude this value must come from somewhere and that is cannot magically end up in the <code>PC</code> register.</p>
<p>We analyzed the code that we load into the <strong>SRAM</strong> in order to find an explanation. The …</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://raelize.com/posts/espressif-esp32-bypassing-encrypted-secure-boot-cve-2020-13629/">https://raelize.com/posts/espressif-esp32-bypassing-encrypted-secure-boot-cve-2020-13629/</a></em></p>]]>
            </description>
            <link>https://raelize.com/posts/espressif-esp32-bypassing-encrypted-secure-boot-cve-2020-13629/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24552482</guid>
            <pubDate>Tue, 22 Sep 2020 09:16:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Evolutionary Design of Up Banking]]>
            </title>
            <description>
<![CDATA[
Score 35 | Comments 14 (<a href="https://news.ycombinator.com/item?id=24552043">thread link</a>) | @merricksb
<br/>
September 22, 2020 | https://up.com.au/blog/the-evolutionary-design-of-up/ | <a href="https://web.archive.org/web/*/https://up.com.au/blog/the-evolutionary-design-of-up/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><p>When we launched nearly 2 years ago, we declared our first principles approach to banking:</p>
<blockquote>
<p>“Challenge the assumptions and limitations in banking and re-evaluate them from a more current point of view."</p>
</blockquote>
<p>This statement did not come out of a contrived workshop, or committee, or a board of investors. It was the resonating sentiment of a team that had spent years in the weeds of banking software and its bureaucracy. Existing banks have too much baggage to be able to see the future of banking for what it could be. They lacked the courage to really re-invent themselves. Some questions that emerged from that period:</p>
<ul>
<li><em>Why doesn’t every transaction have a timestamp, a merchant logo?</em></li>
<li><em>Why are all my payments to a particular person not grouped?</em></li>
<li><em>Why isn’t it easier to pay someone I’ve paid before?</em></li>
<li><em>Why am I sitting on hold on my phone to resolve an issue?</em></li>
<li><em>How can saving money be fun and engaging?</em></li>
</ul>
<p>We knew that if we followed our noses and solved these user-centric problems, and many others of course, that winning customers would take care of itself. We now have over 280,000 Upsiders and counting.</p>
<h2>Making Feedback Easy</h2>
<p>Up does not do traditional user testing. There, I said it. That’s our dirty secret.</p>
<p>We think there are other techniques that are faster and better indicators of real-world behaviour. We also believe we have two advantages:</p>
<ul>
<li><strong>An innovation mindset</strong></li>
<li><strong>A deeper relationship with our customers than any financial institution in Australia</strong></li>
</ul>
<p>Much of banking is a known problem space. We feel like we're taking a more creative approach to the problem, but that's not to say we don't rely on user feedback. Our <em>Talk to Us</em> section encourages Upsiders to give us feedback or suggest ideas. To date, we have received over 6,000 ideas via this channel, making it one of the most crucial conduits into the minds of our customers. We also have other highly-engaged channels such as our socials and the newsletter where we hear, almost instantly, what customers think of what we’ve delivered.</p>
<figure>
  <img loading="lazy" src="https://up.com.au/449d9fa0873011802b194d6b669ffe9e/feedback-categories.gif" alt="Initiating a 'Talk to Us' chat with our team">
  <figcaption>
    Our <em>Talk to Us</em> trinity; ask for help, give feedback and report a bug
  </figcaption>
</figure>
<h2>Engagement Is the Name of the Game</h2>
<p>So where do we get our inspiration? It's rarely in the banking or fintech space. These are the apps that exist on billions of devices and set the bar for mobile digital experiences:</p>
<figure>
  <span>
      <a href="https://up.com.au/static/2e11befb2645e3c45227a91f56aed310/c6b2e/inspire_apps.jpg" target="_blank" rel="noopener">
    <span></span>
  <img alt="World leaders for designing mobile experiences" title="World leaders for designing mobile experiences" src="https://up.com.au/static/2e11befb2645e3c45227a91f56aed310/40619/inspire_apps.jpg" srcset="https://up.com.au/static/2e11befb2645e3c45227a91f56aed310/b0fd2/inspire_apps.jpg 175w,
https://up.com.au/static/2e11befb2645e3c45227a91f56aed310/aaaf9/inspire_apps.jpg 350w,
https://up.com.au/static/2e11befb2645e3c45227a91f56aed310/40619/inspire_apps.jpg 700w,
https://up.com.au/static/2e11befb2645e3c45227a91f56aed310/e8c9e/inspire_apps.jpg 1050w,
https://up.com.au/static/2e11befb2645e3c45227a91f56aed310/5814a/inspire_apps.jpg 1400w,
https://up.com.au/static/2e11befb2645e3c45227a91f56aed310/c6b2e/inspire_apps.jpg 2175w" sizes="(max-width: 700px) 100vw, 700px" loading="lazy">
  </a>
    </span>
  <figcaption>
    The leaders in mobile experience design
  </figcaption>
</figure>
<p>While they vary in purpose, their collective dominance in the landscape means they teach and familiarise patterns to expect when using our phones.</p>
<ul>
<li><em>How does TikTok allow you to react to content quickly and effortlessly?</em></li>
<li><em>What similarities are there between Whatsapp, Messenger and Instagram when conversing with friends?</em></li>
<li><em>When explaining new features what language do these platforms use? When do they use visualisations? When do they use words?</em></li>
<li><em>When is Snapchat playful and when is it serious?</em></li>
<li><em>Do I identify with my real name or username for Instagram? What about Facebook?</em></li>
</ul>
<p>As users we immerse ourselves in the apps that have nailed engagement. While acknowledging the patterns they establish, we also appreciate the balance between knowing when to follow them and when to do our own thing. Up has a handful of atypical patterns, but as long as they are usable and intuitive they can become distinct moments used to engage and delight.</p>
<p>Why is it so important that Upsiders engage with the Up app? Aside from the opportunity to nurture a relationship through frequent interactions, we also think that being more engaged with your money encourages better financial literacy. It’s common that people fall into credit trouble by continuing to use their plastic cards without checking their balance regularly. By making Up an engaging experience, we’re making Upsiders more confident and connected to their finances.</p>
<h2>Becoming an Upsider</h2>
<p>We’ve previously deep-dived on our <a href="https://up.com.au/blog/designing-a-super-powered-welcome-pack-experience/">card delivery experience</a>. Before we could even get that far, we had to solve the huge problem of enabling people to sign up for a bank account without leaving the comfort of a mobile app — something that had not been done before in Australia.</p>
<p>We knew that the sheer amount of information we needed from the user was going to be a challenge. Banking is highly regulated in Australia, so we had to cater for many types of identity data (passport, license etc). Most apps can get away with just asking for a username, email and password.</p>
<p>Mobile flows tend to be atomic with a single input per screen, so with identity verification we were anticipating quite a long flow. Our focus was to trim the fat wherever possible, not just by reducing the total number of screens but also by making it easy for people to understand what was being asked of them as they progressed.</p>
<figure>
  <span>
      <a href="https://up.com.au/static/e381b2e19148dfb3bd4e3475c1d71c01/c6b2e/signup-flow.jpg" target="_blank" rel="noopener">
    <span></span>
  <img alt="Large and complicated data capture flow" title="Large and complicated data capture flow" src="https://up.com.au/static/e381b2e19148dfb3bd4e3475c1d71c01/40619/signup-flow.jpg" srcset="https://up.com.au/static/e381b2e19148dfb3bd4e3475c1d71c01/b0fd2/signup-flow.jpg 175w,
https://up.com.au/static/e381b2e19148dfb3bd4e3475c1d71c01/aaaf9/signup-flow.jpg 350w,
https://up.com.au/static/e381b2e19148dfb3bd4e3475c1d71c01/40619/signup-flow.jpg 700w,
https://up.com.au/static/e381b2e19148dfb3bd4e3475c1d71c01/e8c9e/signup-flow.jpg 1050w,
https://up.com.au/static/e381b2e19148dfb3bd4e3475c1d71c01/5814a/signup-flow.jpg 1400w,
https://up.com.au/static/e381b2e19148dfb3bd4e3475c1d71c01/c6b2e/signup-flow.jpg 2175w" sizes="(max-width: 700px) 100vw, 700px" loading="lazy">
  </a>
    </span>
  <figcaption>
    A portion of the Sign-up flow
  </figcaption>
</figure>
<p>We fought to reduce the amount of data we needed to collect. Why does banking need to know your gender? We cut it. Do you need your card sent to a PO Box? We’ll give you a contextual experience based on answers you’ve already provided rather than a scrolling form full of fields. As we tested the new flow amongst ourselves and with beta users from our waitlist, we made a few changes:</p>
<ul>
<li>Anchoring buttons to the bottom of the viewport, and making them full-width. Close to your thumb and easy to hit.</li>
<li>Removing anything extra like images, so you could move faster without distractions.</li>
<li>Using conversational instructions (eg “What is your mobile number?” Instead of “Enter mobile number”). And only using secondary body text when it was really necessary.</li>
<li>Using example text for the input placeholder, so you'd know what the right info looks like.</li>
</ul>
<figure>
  <video autoplay="true" loop="true" muted="true" playsinline="true" alt="Signup flow, before and after">  
    <source type="video/mp4" src="https://up.com.au/85d89ef5fc1450db9c15cb25ceed64d1/signup-flow-tweaks.mp4">
  </video>
  <figcaption>    
    Tweaks made to the signup flow
  </figcaption>
</figure>
<p>All of these small iterations reduced the cognitive load for users and made it feel easy and fast, despite the number of screens. This granularity was important as there isn’t actually a single sign up flow, but several which vary depending on your circumstances and the information we are required to collect.</p>
<h2>Up Yeah!</h2>
<p>Once we became more confident in our onboarding flow and how streamlined it was becoming, you could feel the team were ready to ship it and move onto the next bit of work.</p>
<p>It’s easy to have the blinkers on when you have such a measurable and objective goal — get users into the app in under x time — but stepping back, we made the observation that although we’d nailed sign up speed, something was missing the first time you landed on your activity feed. A moment that should feel significant and celebratory — you’ve literally just opened a bank account in under 3 minutes through your phone — feels clinical and unimpressive. We appreciate great brand moments in digital experiences, most notably MailChimp’s use of emotive design throughout their email software.</p>
<figure>
  <img loading="lazy" src="https://up.com.au/b5b11a8931d184e937662bc553657582/mailchimp.gif" alt="Mailchimp animations">
  <figcaption>  
    Great emotive design through animations by MailChimp
  </figcaption>
</figure>
<p>Email campaigns are stressful exercises — you can’t unsend them once they go out. It’s the nature of the beast. Interestingly, it was the arm of their mascot beast Freddie that was used in these cute but situationally-aware animations. The red button before launch, the high five once your campaign is live, and the rock fist for scheduled campaigns.</p>
<p>Our creative director Pete was eager to create a moment post-signup that made you go “f*ck yeah” in celebration.</p>
<figure>
  <img loading="lazy" src="https://up.com.au/1c642ec78c4396636c3b1bc150d48a29/upyeahmoment-signup.gif" alt="Up Yeah! account created">
  <figcaption>  
    The first of many ‘Up Yeah!’ moments
  </figcaption>
</figure>
<p>Almost immediately after this launched it was being shared by new Upsiders and acknowledged through our feedback channels. Of course you only give yourself an opportunity for these moments if you are nailing the fundamentals. But this reinforcement encouraged us to lean into these seemingly frivolous treatments as a way to delight Upsiders while building a stronger brand.</p>
<h2>Logging in Sucks</h2>
<p>Sometimes the design process involves considering what you don’t see as much as what you do see. For Up, removing the login screen is a great example of this. Banking apps tend to have heavy authentication flows before you see your feed or landing screen. It’s easy to see how this came to be; mobile apps came after desktop banking sites, and so inherited their secure lockdown context. And perhaps it goes back even further back to the mindset of “money belongs in a vault, behind a locked door”.</p>
<p>With all the technological advances in mobile device security, from the humble PIN code to sophisticated biometric recognition, it’s worth questioning some of the assumptions and trade-offs made in the name of security.</p>
<blockquote>
<p>Logging in is a big friction point. Especially if we’re trying to help inform you about your finances.</p>
</blockquote>
<p>There’s an interesting distinction that’s prominent in tech — the difference between security and privacy. If we break out of the world of banking apps and look at some of the apps we use each and every day – imagine if you had to enter a passcode every time you opened your email, or your messages? Yet if someone had access to either, they could reset every password you have and really cause you some headaches. We found a helpful albeit simplified distinction when approaching this aspect of the user-experience:</p>
<br>
<table>
    <tbody><tr>
        <td><img loading="lazy" src="https://up.com.au/251bbe56c807fe4657239958a04f14e6/zap-coat.gif" alt="Mailchimp animations">
        </td>
        <td>
          <h3>Privacy</h3>
          Protecting information that is sensitive
          <em> "Read Only"</em>
        </td>
    </tr>
</tbody></table>
<table>
    <tbody><tr>
        <td><img loading="lazy" src="https://up.com.au/6e9f440aae0b397bd198cc1182838ed9/zap-lock.gif" alt="Mailchimp animations">
        </td>
        <td>
          <h3>Security</h3>
          Protecting against being compromised financially
          <em>"Write Access"</em>
        </td>
    </tr>
</tbody></table>

<p>A design decision we’ve made with this framework is removing the need to enter a passcode by default (which can be re-enabled in settings), and also when moving money where there isn’t any risk. Transfering between Savers doesn’t require you to use your phone’s authentication flow (e.g. passcode, Apple’s FaceID or Android’s BioAuth), but moving money into your spending account or sending money outside of your account (e.g. to another bank or via BPay) does.</p>
<p>Our philosophy is to ask for authentication where appropriate to maximise security, while also letting Upsiders enjoy the benefits of being more informed and connected with their money in a low-friction way.  Our push …</p></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://up.com.au/blog/the-evolutionary-design-of-up/">https://up.com.au/blog/the-evolutionary-design-of-up/</a></em></p>]]>
            </description>
            <link>https://up.com.au/blog/the-evolutionary-design-of-up/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24552043</guid>
            <pubDate>Tue, 22 Sep 2020 07:59:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mainline Linux on the MikroTik RB3011]]>
            </title>
            <description>
<![CDATA[
Score 76 | Comments 27 (<a href="https://news.ycombinator.com/item?id=24550846">thread link</a>) | @pabs3
<br/>
September 21, 2020 | https://www.earth.li/~noodles/blog/2020/09/rb3011-mainline.html | <a href="https://web.archive.org/web/*/https://www.earth.li/~noodles/blog/2020/09/rb3011-mainline.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
  <p>I upgraded my home internet connection to fibre (FTTP) <a href="https://www.earth.li/~noodles/blog/2019/10/native-ipv6-fttp.html">last October</a>. I’m still on an 80M/20M service, so it’s no faster than my old VDSL FTTC connection was, and as a result for a long time I continued to use my HomeHub 5A running <a href="https://openwrt.org/">OpenWRT</a>. However the FTTP ONT meant I was using up an additional ethernet port on the router, and I was already short, so I ended up with a GigE switch in use as well. Also my wifi is handled by a <a href="https://unifi-network.ui.com/">UniFi</a>, which takes its power via Power-over-Ethernet. That mean I had a router, a switch and a PoE injector all in close proximity. I wanted to reduce the number of devices, and ideally upgrade to something that could scale once I decide to upgrade my FTTP service speed.</p>

<p>Looking around I found the <a href="https://mikrotik.com/product/RB3011UiAS-RM">MikroTik RB3011UiAS-RM</a>, which is a rack mountable device with 10 GigE ports (plus an SFP slot) and a dual core <a href="https://www.qualcomm.com/products/ipq8064">Qualcomm IPQ8064</a> ARM powering it. There’s 1G RAM and 128MB NAND flash, as well as a USB3 port. It also has PoE support. On paper it seemed like an ideal device. I wasn’t particularly interested in running RouterOS on it (the provided software), but that’s based on Linux and there was some work going on within OpenWRT to add support, so it seemed like a worthwhile platform to experiment with (what, you expected this to be about me buying an off the shelf device and using it with only the supplied software?). As an added bonus a friend said he had one he wasn’t using, and was happy to sell it to me for a bargain price.</p>

<p><img alt="RB3011 router in use" src="https://www.earth.li/~noodles/blog/images/2020/rb3011.jpg"></p>

<p>I did try out RouterOS to start with, but I didn’t find it particularly compelling. I’m comfortable configuring firewalling and routing at a Linux command line, and I run some additional services on the router like my <a href="https://www.earth.li/~noodles/blog/2018/05/mqtt-broker.html">MQTT</a> broker, and <a href="https://www.earth.li/~noodles/blog/2018/09/netlink-arp-presence.html">mqtt-arp</a>, my wifi device presence monitor. I could move things around such that they ran on the <a href="https://www.earth.li/~noodles/blog/2019/07/upgrading-the-house-server.html">house server</a>, but I consider them core services and as a result am happier with them on the router.</p>

<p>The first step was to get something booting on the router. Luckily it has an RJ45 serial console port on the back, and a reasonably featured bootloader that can manage to boot via tftp over the network. It wants an ELF binary rather than a plain kernel, but Sergey Sergeev had done the hard work of getting <a href="https://github.com/adron-s/uboot-ipq806x">u-boot working for the IPQ8064</a>, which mean I could just build normal u-boot images to try out.</p>

<p>Linux upstream already had basic support for a lot of the pieces I was interested in. There’s a slight fudge around <code>AUTO_ZRELADDR</code> because the network coprocessors want a chunk of memory at the start of RAM, but there’s ongoing discussions about how to handle this cleanly that I’m hopeful will eventually mean I can drop that hack. Serial, ethernet, the QCA8337 switches (2 sets of 5 ports, tied to different GigE devices on the processor) and the internal NOR all had drivers, so it was a matter of crafting an appropriate DTB to get them working. That left niggles.</p>

<p>First, the second switch is hooked up via SGMII. It turned out the IPQ806x <code>stmmac</code> driver didn’t initialise the clocks in this mode correctly, and neither did the <code>qca8k</code> switch driver. So I need to fix up both of those (Sergey had handled the stmmac driver, so I just had to clean up and submit his patch). Next it turned out the driver for talking to the Qualcomm firmware (SCM) had been updated in a way that broke the old method needed on the IPQ8064. Some git archaeology figured that one out and provided a solution. Ansuel Smith helpfully provided the DWC3 PHY driver for the USB port. That got me to the point I could put a Debian armhf image onto a USB stick and mount that as root, which made debugging much easier.</p>

<p>At this point I started to play with configuring up the device to actually act as a router. I make use of a number of VLANs on my home network, so I wanted to make sure I could support those. Turned out the stmmac driver wasn’t happy reconfiguring its MTU because the IPQ8064 driver doesn’t configure the FIFO sizes. I found what seem to be the correct values and plumbed them in. Then the <code>qca8k</code> driver only supported port bridging. I wanted the ability to have a trunk port to connect to the upstairs switch, while also having ports that only had a single VLAN for local devices. And I wanted the switch to handle this rather than requiring the CPU to bridge the traffic. Thankfully it’s easy to find a copy of the QCA8337 datasheet and the kernel <a href="https://www.kernel.org/doc/html/latest/networking/dsa/index.html">Distributed Switch Architecture</a> is pretty flexible, so I was able to implement the necessary support.</p>

<p>I stuck with Debian on the USB stick for actually putting the device into production. It makes it easier to fix things up if necessary, and the USB stick allows for a full Debian install which would be tricky on the 128M of internal NAND. That means I can use things like <a href="https://wiki.nftables.org/">nftables</a> for my firewalling, and use the standard Debian packages for things like <a href="https://collectd.org/">collectd</a> and <a href="https://mosquitto.org/">mosquitto</a>. Plus for debug I can fire up things like tcpdump or tshark. Which ended up being useful because when I put the device into production I started having weird IPv6 issues that turned out to be a lack of proper Ethernet multicast filter support in the IPQ806x ethernet device. The driver would try and setup the multicast filter for the IPv6 NDP related packets, but it wouldn’t actually work. The fix was to fall back to just receiving all multicast packets - this is what the vendor driver does.</p>

<p>Most of this work will be present once the 5.9 kernel is released - the basics are already in 5.8. Currently not queued up that I can think of are the following:</p>

<ul>
  <li>stmmac IPQ806x FIFO sizes. I sent out an RFC patch for these, but didn’t get any replies. I probably just need to submit this.</li>
  <li>NAND. This is missing support for the QCOM ADM DMA engine. I’ve sent out the patch I found to enable this, and have had some feedback, so I’m hopeful it will get in at some point.</li>
  <li>LCD. AFAICT LCD is an ST7735 device, which has kernel support, but I haven’t spent serious effort getting the SPI configuration to work.</li>
  <li>Touchscreen. Again, this seems to be a zt2046q or similar, which has a kernel driver, but the basic attempts I’ve tried don’t get any response.</li>
  <li>Proper SFP functionality. The IPQ806x has a PCS module, but the stmmac driver doesn’t have an easy way to plumb this in. I have ideas about how to get it working properly (and it can be hacked up with a fixed link config) but it’s not been a high priority.</li>
  <li>Device tree additions. Some of the later bits I’ve enabled aren’t yet in the mainline RB3011 DTB. I’ll submit a patch for that at some point.</li>
</ul>

<p>Overall I consider the device a success, and it’s been entertaining getting it working properly. I’m running a mostly mainline kernel, it’s handling my house traffic without breaking a sweat, and the fact it’s running Debian makes it nice and easy to throw more things on it as I desire. However it turned out the RB3011 isn’t as perfect device as I’d hoped. The PoE support is passive, and the UniFi wants 802.1af. So I was going to end up with 2 devices. As it happened I picked up a cheap <a href="https://eu.dlink.com/uk/en/products/dgs-1210-series-gigabit-smart-plus-switches">D-Link DGS-1210-10P</a> switch, which provides the PoE support as well as some additional switch ports. Plus it runs Linux, so more on that later…</p>

  </article></div>]]>
            </description>
            <link>https://www.earth.li/~noodles/blog/2020/09/rb3011-mainline.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24550846</guid>
            <pubDate>Tue, 22 Sep 2020 04:27:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[RIP iCloud, Self-Hosting Part 5: Finale]]>
            </title>
            <description>
<![CDATA[
Score 47 | Comments 52 (<a href="https://news.ycombinator.com/item?id=24550197">thread link</a>) | @walterbell
<br/>
September 21, 2020 | https://www.naut.ca/blog/2020/05/05/self-hosting-series-part-5-finale/ | <a href="https://web.archive.org/web/*/https://www.naut.ca/blog/2020/05/05/self-hosting-series-part-5-finale/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><img src="https://www.naut.ca/blog/content/images/2020/05/Screen-Shot-2020-05-05-at-3.30.56-PM.jpeg" width="400px/"></p><p>Just yesterday, I turned off iCloud on <strong>all</strong> my Apple devices. I then took a moment to savour my liberation from Apple's walled garden.</p>
<p>It has been over two years since I first dabbled in hosting my own blog server to finally disabling my iCloud account. There is a good reason as to why it took so long. Apple has cultivated a beautiful hardware+software ecosystem over the years, resulting in an ecosystem filled with magical features such as Apple Pay, Home Sharing, Handoff, and Instant Hotspot. An iCloud account is apparently a requirement for all of those features, which is a shame. I didn't find out until after I logged out and lost those features, but maybe it was for the better. Anyway, here's the proof:<br>
<img src="https://www.naut.ca/blog/content/images/2020/05/Screen-Shot-2020-05-05-at-3.38.39-PM.jpeg" alt="Screen-Shot-2020-05-05-at-3.38.39-PM"><br>
Now this may sound odd, but I feel that the fallbacks and replacements to iCloud features are sometimes easier to understand and give more of a feeling of groundedness, albeit at the cost of convenience. For example, I no longer debate about whether to use Apple Pay or not, and I feel grounded knowing that the physical card is all I need to protect, and that my credit card won't run out of battery. I now plug in a cable to backup my iPhone, and I hear the hard disks on my server grinding away as the files are transferred. I'm confident that something, if anything, is happening. By physically self-hosting emails in the house, I feel secure that a company can't tell me that my account has vanished, a concept that is becoming <a href="https://news.ycombinator.com/item?id=23057365">increasingly common</a>.</p>
<p>As we switched from using physical devices such as floppy disks, CDs, and servers to storing data and logic online, we lost a sense of physicality and tangibility, replaced by an abstract notion of the <a href="https://www.youtube.com/watch?v=8GRPArTor7w">cloud</a>. Most programmers realize that the cloud is not a magical place and are comfortable with the notion, but I've noticed that the cloud instills fear, uncertainty, and doubt in others.</p>
<p>Given that I've been to hell and back setting up a self-hosted cloud (even my programmer friends stare at me quizzically), I sound crazy to mention that this has made things "easier". I'm definitely <strong>not</strong> saying that self-hosting is easier than using iCloud, but it has made me aware of what we are missing. In any interactive system, the true complexity must hide somewhere, and in this case, Apple is offering to manage it for you. In an attempt for trust, security, and ease of use, these services create a greater disconnect between you and your "interactee". To give an example, take transactions between you and a merchant. First there was bartering. Then there was cash. These are both easy to understand, and almost nobody has trouble understanding the end-to-end concepts. However, take Apple Pay. Here's a high-level example of what it actually does:</p>
<blockquote>
<p><em>NFC Coil in POS Terminal energizes iPhone antenna ⟶ sends data to NFC Chip ⟶ activates iPhone CPU ⟶ requests Face ID unlock ⟶ beams tiny Infrared dots at your face ⟶ Infrared Camera constructs 3D model using Machine Learning model ⟶ decrypts credit card details in Secure Enclave ⟶ creates credit card token ⟶ sends back to iPhone NFC chip ⟶ transmits to POS Terminal ⟶ encrypts with TLS ⟶ sends through internet to the credit card network ⟶ network replies back</em></p>
</blockquote>
<p>To reiterate, this is a <em>high-level</em> overview. So yeah, try feeling grounded with that. It's a miracle that it even works.</p>
<h3 id="conclusion">Conclusion</h3>
<p>Overall, my self-hosting series has reduced the FUD surrounding these services for <em>me</em> (and hopefully at least another reader), since I now understand how the software works. I feel it is an accomplishment to be disconnected from Apple, knowing that I'm free to switch hardware whenever I please. Although increased privacy was one of the main reasons I started this series, I haven't really noticed anything different day-to-day. This series has been a very interesting journey, and it will be something that I will continue to explore with future blog posts. As somebody who is now examining iCloud from an outsider perspective for the first time, it is mind-boggling the amount of complexity that Apple manages and exerts power over, such as their COVID-19 Contact Tracing technology. I wonder what the future holds for Apple, and how its values will change over time.</p>
<h3 id="alternativestoicloud">Alternatives to iCloud:</h3>
<p><em>Note: E2EE software with easily exportable data is acceptable, e.g. Firefox Sync</em></p>
<p><strong>Rationale</strong></p>
<ul>
<li><a href="https://www.naut.ca/blog/2019/06/19/self-hosting-series-part-1-saying-bye-bye-to-icloud/">Self-Hosting Part 1: Why I'm Ditching iCloud</a></li>
<li><a href="https://medium.com/bugbountywriteup/how-apple-stored-all-your-email-metadata-for-years-on-their-servers-2a61b1a3232d">How Apple store all your email metadata for years on their servers</a></li>
</ul>
<p><strong>iCloud Mail, Notes</strong></p>
<ul>
<li><a href="https://www.naut.ca/blog/2019/10/06/self-hosting-series-part-2-mail-server/">Self-Hosting Part 2: Mail Server</a></li>
</ul>
<p><strong>iCloud Contacts, Calendar, Reminders</strong></p>
<ul>
<li><a href="https://www.naut.ca/blog/2019/11/16/self-hosting-series-part-3-radicale-server/">Self-Hosting Part 3: WebDAV Server</a></li>
</ul>
<p><strong>iCloud Safari</strong></p>
<ul>
<li><a href="https://hacks.mozilla.org/2018/11/firefox-sync-privacy/">Firefox Sync</a></li>
</ul>
<p><strong>iCloud Backup</strong></p>
<ul>
<li><a href="https://www.naut.ca/blog/2020/03/20/self-hosting-series-part-4-backup/">Self-Hosting Part 4: iOS + macOS Backup</a></li>
<li><a href="https://support.apple.com/en-ca/HT203977#computer">iTunes Local Backup</a></li>
</ul>
<p><strong>iCloud Drive</strong></p>
<ul>
<li><a href="https://9to5mac.com/2019/06/17/ios-13-beta-2-enables-smb-server-connectivity-in-the-files-app/">Samba Server</a></li>
<li><a href="https://nextcloud.com/">NextCloud</a></li>
</ul>
<p><strong>iCloud Photos</strong></p>
<ul>
<li><a href="https://nextcloud.com/">NextCloud</a></li>
<li><a href="https://support.apple.com/en-us/HT201313">iTunes Photo Sync</a></li>
</ul>
<p><strong>iCloud Keychain</strong></p>
<ul>
<li><a href="https://bitwarden.com/">Bitwarden (Self-hosted)</a></li>
<li><a href="https://www.enpass.io/">Enpass (Self-hosted)</a></li>
</ul>
<p><strong>iCloud Home</strong><br>
TBD. Currently, HomeKit requires iCloud Keychain to sync with your iOS devices. I am trying to develop a hub that rebroadcasts all HomeKit accessories allowing for multiple devices to connect to the same HomeKit device.</p>
<p><strong>Further Resources</strong></p>
<ul>
<li><a href="https://roll.urown.net/index.html">Roll Your Own Network</a></li>
</ul>
</div></div>]]>
            </description>
            <link>https://www.naut.ca/blog/2020/05/05/self-hosting-series-part-5-finale/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24550197</guid>
            <pubDate>Tue, 22 Sep 2020 02:07:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[When feature flags do and don’t make sense (2019)]]>
            </title>
            <description>
<![CDATA[
Score 84 | Comments 34 (<a href="https://news.ycombinator.com/item?id=24549917">thread link</a>) | @nomdep
<br/>
September 21, 2020 | https://software.rajivprab.com/2019/12/19/when-feature-flags-do-and-dont-make-sense/ | <a href="https://web.archive.org/web/*/https://software.rajivprab.com/2019/12/19/when-feature-flags-do-and-dont-make-sense/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<div><figure><a href="https://www.redbubble.com/i/canvas-print/If-Else-Software-Developer-Joke-Beer-Lover-by-VaSkoy/33140544.5Y5V7" target="_blank"><img data-attachment-id="282" data-permalink="https://software.rajivprab.com/flag/" data-orig-file="https://softwarerajivprab.files.wordpress.com/2019/12/flag.png" data-orig-size="896,1480" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="flag" data-image-description="" data-medium-file="https://softwarerajivprab.files.wordpress.com/2019/12/flag.png?w=182" data-large-file="https://softwarerajivprab.files.wordpress.com/2019/12/flag.png?w=620" src="https://softwarerajivprab.files.wordpress.com/2019/12/flag.png?w=182" alt="" srcset="https://softwarerajivprab.files.wordpress.com/2019/12/flag.png?w=182 182w, https://softwarerajivprab.files.wordpress.com/2019/12/flag.png?w=364 364w, https://softwarerajivprab.files.wordpress.com/2019/12/flag.png?w=91 91w" sizes="(max-width: 182px) 100vw, 182px"></a></figure></div>



<p>Over the past years, I’ve worked in multiple teams adopting very different strategies when it comes to feature flags. I’ve seen the pros and cons of both, and over time, I found myself disagreeing with any fundamentalist position on their use. There is a lot of nuance to this topic, and I think it is worth considering more carefully the various scenarios where feature flags do and do not make sense.</p>



<h2>The Reasons For</h2>



<p>There are a few major scenarios where feature flags make a lot of sense. The first is when it’s used for <a rel="noreferrer noopener" aria-label="A/B testing (opens in a new tab)" href="https://en.wikipedia.org/wiki/A/B_testing" target="_blank">A/B testing</a>, where you absolutely do want different behaviors for different users, based on their randomly assigned treatment. I’ve seen this strategy employed extremely well at Amazon where new features are gated by a “feature flag” that is actually controlled by an internal A/B testing framework. The framework randomly exposes some Amazon customers to the new feature, and then monitors their subsequent behavior in order to estimate the business impact of launching the feature.&nbsp;</p>



<p>I was initially skeptical, but was soon won over by how easy the framework was to use, and the valuable insights it provided on the benefits (or drawbacks) of certain features. “Flavor of the month” decisions were replaced with real data. And none of this is possible without the use of “feature flags” to dynamically toggle new features.</p>



<hr>



<p>Another great use case for feature flags, is when you’re working on a very complex epic that require many different sub-tasks to be completed in different parts of the system. Sub-tasks that are too numerous and invasive to be done in a single pull-request. </p>



<p>In such cases, trying to keep all these disparate changes in side-branches and coordinating a simultaneous merge and deployment, is a recipe for disaster. It’s far more manageable to gate any disruptive changes behind a master flag, merge and deploy all the sub-commits incrementally, and do a flag-flip once all the pieces are in place.</p>



<hr>



<p>One last use case for feature flags, is when you do not have control over your deployments. For example, consider the Facebook Android app, which contains code contributed by hundreds of different teams, all combined and deployed as a single binary. In such scenarios, performing rollbacks can be infeasible. For practical, political, bureaucratic or even marketing reasons. In such cases, feature flags allow your team to toggle new functionality or mitigate risky changes, without having to rollback or deploy any new binaries.</p>



<p><em><a href="https://www.reddit.com/r/programming/comments/i5zbvk/when_feature_flags_do_and_dont_make_sense/" target="_blank" rel="noreferrer noopener">Someone on Reddit pointed out</a> a similar use-case for feature flags: targeting a very specific launch date for marketing reasons, while still deploying your code much earlier, in order to ensure stability. You can then have a “dynamic” feature flag that automatically enables itself at a specific time. This is also a great use-case for similar reasons – changing functionality in situations where deploying a new binary is impractical.</em></p>



<h2>Risk Aversion</h2>



<p>The above are all fantastic use cases for feature flags, but I’ve also seen teams get bogged down by policies that overreach in their use. For example, mandating that every single code change should be behind a feature flag, <em>“just in case we made a mistake”</em>.</p>



<p>Risk management should indeed be a priority for all teams. But there are better ways of doing this than relying on feature flags, especially if your team has control over its own deployments. The <a rel="noreferrer noopener" aria-label=" (opens in a new tab)" href="https://software.rajivprab.com/2019/04/28/rethinking-software-testing-perspectives-from-the-world-of-hardware/" target="_blank">vast majority of your bugs should be caught by your automated test suite</a> and/or QA process. And the last few stragglers should be handled using <a rel="noreferrer noopener" aria-label="incremental deployments, production alarms and rollbacks (opens in a new tab)" href="https://software.rajivprab.com/2019/11/25/the-birth-of-legacy-software-how-change-aversion-feeds-on-itself/" target="_blank">incremental deployments, production alarms and rollbacks</a>.</p>



<p>Besides, as soon as any problem is detected, the recommendation at places like Google is to <a rel="noreferrer noopener" aria-label="rollback first and ask questions later (opens in a new tab)" href="https://cloud.google.com/blog/products/gcp/reliable-releases-and-rollbacks-cre-life-lessons" target="_blank">rollback first and investigate the problem later</a>:</p>



<blockquote><p><em>We have seen this at Google any number of times, where a hastily deployed roll-forward fix either fails to fix the original problem, or indeed makes things worse. Even if it fixes the problem it may then uncover other latent bugs in the system; you’re taking yourself further from a known-good state, into the wilds of a release that hasn’t been subject to the regular strenuous QA testing. At Google, our philosophy is that “rollbacks are normal.” When an error is found or reasonably suspected in a new release, the releasing team rolls back first and investigates the problem second</em></p></blockquote>



<p> When things are on fire, the last thing you want to do is root-cause the bug and figure out which flag-flip will safely fix the problem. And that may not even fix things – there’s no guarantee that even if your teammate tried to put his changes behind a feature flag, he didn’t inadvertently introduce a bug that cannot be solved by a flag-flip.</p>



<p>Feature flags are a poor man’s alternative to binary rollbacks, and they definitely aren’t a substitute for having a great automated test suite and a robust QA process. If you’re relying on feature flags to remedy production bugs, you should stop and evaluate your team’s practices. Risk aversion is often a smell of your team <a rel="noreferrer noopener" aria-label="entering into a doom loop which will only get worse and worse with time (opens in a new tab)" href="https://software.rajivprab.com/2019/11/25/the-birth-of-legacy-software-how-change-aversion-feeds-on-itself/" target="_blank">entering into a doom loop which will only get worse and worse with time</a>.</p>



<h2>Death By Feature Flags</h2>



<p>You may be wondering at this point why we shouldn’t use feature flags anyway. After all, <em>“defense in depth” …</em> and it never hurts to have more fine-grain flexibility right?</p>



<p>While feature flags are great in some cases, we should also keep in mind their costs. Software engineering is primarily an exercise in managing complexity. And each feature flag immediately doubles the universe of corner cases that your programmers have to understand, and your code is required to handle. <em>“But what would happen if Foo is enabled, Bar is disabled, and we do independent A/B tests on Baz and Kaz on the same day?”</em> In my experience, this combinatorial explosion in complexity can and <strong>will</strong> lead to bugs. Not to mention slowing down the speed at which your team can make any changes.</p>



<p><a rel="noreferrer noopener" href="https://news.ycombinator.com/item?id=24549917" target="_blank">To quote an amusing anecdote shared online</a>: <em>“A flag that hasn’t been set to off in a year can be masking a major regression. At my last job we had two major outages in as many years from defunct flags defaulting to ‘off’ when the feature flag system failed to return flag states.”</em></p>



<p><em>“But these feature flags are only temporary. You should be removing them as soon as possible!”</em></p>



<p>Sure, and we should also not allow our tech debt to accumulate and we should follow every single best-practice religiously. Unfortunately, this never happens in any corporate environment. Even in great teams, tech debt often gets de-prioritized in the face of new requests. Newcomers to the team or those on their way out, aren’t always disciplined enough to clean up their flags after a successful rollout. And sometimes, these tasks simply slip through the cracks and get forgotten.</p>



<p><a rel="noreferrer noopener" href="https://news.ycombinator.com/item?id=24549917" target="_blank">Someone on HackerNews has pointed out</a> that as of Sept-2020, the release version of Windows <em>“has roughly 2500 feature flags. Some are permanently jammed into the on position, some off position, and the rest are configurable by its experimentation frameworks and hackers”</em>.</p>



<p>There is no better illustration of this than the KCG debacle where a financial firm lost half a billion dollars and almost went bankrupt in 30 minutes, partly due to dead code that was behind a feature flag.</p>



<blockquote><p><a href="https://www.bugsnag.com/blog/bug-day-460m-loss"><em>The cause of the failure</em></a><em> was due to multiple factors. However, one of the most important was that a flag which had previously been used to enable Power Peg… Power Peg had been obsolete since 2003, yet still remained in the codebase some eight years later.</em></p><p><em>In 2005, an alteration was made to the Power Peg code which inadvertently disabled safety-checks which would have prevented such a scenario. However, this update was deployed to a production system at the time, despite no effort having been made to verify that the Power Peg functionality still worked</em></p></blockquote>



<hr>



<p>Feature flags are a powerful tool that can help you experiment with new features, manage the rollout of complex epics, and mitigate the problems associated with not controlling your team’s deployments. </p>



<p>But they come at a significant cost, in the form of code complexity, tech debt, slower development speeds, and inevitably, bugs. </p>



<p>As tempting as it may be, there is no silver bullet here. Weigh the pros against the cons, and use this tool judiciously when it makes sense to do so.</p>



<hr>



<p><a rel="noreferrer noopener" href="https://www.reddit.com/r/programming/comments/i5zbvk/when_feature_flags_do_and_dont_make_sense/" target="_blank"><em>Discussion thread on /r/programming</em></a><br><em><a href="https://news.ycombinator.com/item?id=24549917" target="_blank" rel="noreferrer noopener">Discussion thread on Hacker News</a></em></p>
	</div></div>]]>
            </description>
            <link>https://software.rajivprab.com/2019/12/19/when-feature-flags-do-and-dont-make-sense/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24549917</guid>
            <pubDate>Tue, 22 Sep 2020 01:11:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Mike Speiser Incubation Playbook]]>
            </title>
            <description>
<![CDATA[
Score 37 | Comments 4 (<a href="https://news.ycombinator.com/item?id=24549767">thread link</a>) | @sethbannon
<br/>
September 21, 2020 | https://kwokchain.com/2020/09/22/the-mike-speiser-incubation-playbook/ | <a href="https://web.archive.org/web/*/https://kwokchain.com/2020/09/22/the-mike-speiser-incubation-playbook/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>In Formula 1 racing, you can win a world championship as a driver with one team but then not even make the top 10 without that team’s car and infrastructure. Venture can often feel like this, too. Many top performing VCs would struggle if they weren’t on their firm’s platform. And similarly, a far greater number of VCs might be able to do well if they were just at a firm with a strong enough brand. Most special are those that are the source of their own success.</p>



<p>In <a href="https://kwokchain.com/2019/04/09/making-uncommon-knowledge-common/">Making Uncommon Knowledge Common</a>, I wrote about Rich Barton because he’s one of the rare founders (or investors) with the demonstrated ability to create multiple billion dollar companies. Unpacking and learning from the few who have shown repeatable and internally compounding approaches to building companies is important.</p>



<p>Unlike consumer, traditional enterprise markets lend themselves more naturally to deterministic and repeatable success. There’s a small handful of VCs who have clearly shown they can succeed repeatedly and whose approaches and playbooks are legible enough to imply it’s not a fluke. Speiser is one of them.</p>



<p>Speiser’s portfolio includes companies like Pure Storage and Snowflake Computing. It’s worth noting that Snowflake not only IPO’d and is now at a market cap of over $60B but Speiser and Sutter Hill Ventures owned more than 20% of the company leading up to the IPO. When Pure Storage went public, Sutter Hill held more than 25%. Speiser may have the highest percentage of portfolio companies that have become multi-billion dollar companies—and that trend looks to continue with his newer companies.</p>



<p>But impressive returns are not solely what matters for the industry. It’s tempting to evaluate firms by their returns, and from the LP perspective that may be the correct metric. But another, and more important way to judge VC firms is by the <a href="https://en.wikipedia.org/wiki/Value_over_replacement_player">value they add above replacement</a> to their portfolio companies. How much do they help their portfolio companies increase their likelihood and magnitude of success? Firms do this most notably by providing capital, but also by other methods like lending their brand or directly helping with operations.</p>



<p>For founders, this value added is what matters. The returns of a VC firm only matter to a startup insofar as they translate into improved brand, network, or access to capital for the startup. A firm’s financial performance is a reasonable signal that they may add real value and be worth partnering with, especially since some aspects like brand strength for recruiting, future financing, and customer development are a function of perceived firm success. But to prospective portfolio companies, a fund’s returns are important only as a means, not an end.</p>



<p>What makes Speiser intriguing is how distinct his approach is from other VCs. The tantalizing clues suggest that he has figured something out that nobody else has: the formula for creating successful companies from scratch.</p>



<figure><img loading="lazy" width="800" height="559" src="https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image.png?resize=800%2C559&amp;ssl=1" alt="" srcset="https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image.png?w=800&amp;ssl=1 800w, https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image.png?resize=300%2C210&amp;ssl=1 300w, https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image.png?resize=768%2C537&amp;ssl=1 768w" sizes="(max-width: 800px) 100vw, 800px" data-recalc-dims="1" data-lazy-srcset="https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image.png?w=800&amp;ssl=1 800w, https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image.png?resize=300%2C210&amp;ssl=1 300w, https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image.png?resize=768%2C537&amp;ssl=1 768w" data-lazy-src="https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image.png?resize=800%2C559&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>you didn’t really think there wasn’t going to be a drawing of a loop did you?</figcaption></figure>



<h2>The Speiser playbook</h2>



<p>At the core of Speiser’s approach is incubating companies, or “originating companies” in <a href="https://www.strictlyvc.com/2014/11/10/sam-pullara-entrepreneur-vc-firm/">Sutter Hill nomenclature</a>. Instead of investing in existing companies, Speiser stays solely focused on one thing: starting and building companies. Even among others who have been very successful at incubations, he is the most singularly focused on this.</p>



<figure><img loading="lazy" width="800" height="560" src="https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image-1.png?resize=800%2C560&amp;ssl=1" alt="" srcset="https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image-1.png?w=800&amp;ssl=1 800w, https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image-1.png?resize=300%2C210&amp;ssl=1 300w, https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image-1.png?resize=768%2C538&amp;ssl=1 768w" sizes="(max-width: 800px) 100vw, 800px" data-recalc-dims="1" data-lazy-srcset="https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image-1.png?w=800&amp;ssl=1 800w, https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image-1.png?resize=300%2C210&amp;ssl=1 300w, https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image-1.png?resize=768%2C538&amp;ssl=1 768w" data-lazy-src="https://i1.wp.com/kwokchain.com/wp-content/uploads/2020/09/image-1.png?resize=800%2C560&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>bespoke artisanal charts as a service</figcaption></figure>



<p>Every year Speiser incubates around one company. The core of his model is to find 2-3 co-founders and be the founding investor. Often he takes on the interim CEO role himself for the first year or two. This has many advantages. The biggest is that it reshapes the ideal founding team profile. He can focus on getting the right top technical co-founders that will have strong views on what to build and the ability to build it—even if they are people who don’t generally view themselves as having a natural inclination to be founders. This is a significant talent arbitrage.</p>



<h3>A better package for founders</h3>



<p>There has been a dearth of coverage of Snowflake’s three cofounders, Benoit Dageville, Thierry Cruanes, and Marcin Zukowski in both the news and social media. Partially this is because they have not sought the spotlight. But partially, it is due to the veneration of a certain type of founder we have, those who seek the limelight of public presence and being in control of every aspect of the company.</p>



<p>Snowflake’s founders are cut from a different cloth. As Benoit Dageville put it “We never thought of it as building a company. We just wanted to build a cloud product. The company was an afterthought.” Yet, their product and technical decisions have been prescient in threading the narrow path to taking on Amazon and Google in the most important core markets of cloud computing.</p>



<p>There are people who often don’t <em>want</em> to be CEO, or even to start a company. They are driven by their conviction of what the future should look like, as well as their frustration with the internal dynamics they confront at legacy incumbents that prevent them from creating that reality. But they are still unlikely to start a company due to all the inertial cruft that comes with founding a company—and especially with being CEO. They want to build what matters, not set up a new corporate structure, manage fundraising, or build a sales team.</p>



<p>Eric Yuan, the founder and CEO of Zoom, <a href="https://www.cnbc.com/2019/08/21/zoom-founder-left-job-because-he-wasnt-happy-became-billionaire.html">has explained</a> this feeling of being held back at Webex. He knew what should be built and that the Webex team could do it, but given the dynamics of Webex as a subsidiary of Cisco he was unable to get the political capital to do it. And he’s proven himself right by leaving with his Webex teammates and building Zoom. Considering he was VP Engineering at Webex and still unable to build what he thought was important should be a very discomfiting reality shock to large companies about the very real economic harm the malaise of their internal processes have caused. However, for every Eric Yuan, there are countless others that never leave and start a company. The inertial barriers are too high. They can stay at their company and struggle to work on what they know should be built. Or leave and take on more uncertainty and risk than they want.</p>



<p>Speiser introduces a third model that breaks through this <a href="https://en.wikipedia.org/wiki/Between_Scylla_and_Charybdis">Scylla and Charybdis</a> dilemma. Start a company with Speiser and stay focused on what you want: deciding what to build, hiring the team you need, and building it. Speiser will handle fundraising, handling the operations generally, and setting up the sales motion and machine. Founders get much of the autonomy and upside of starting a new company while also getting support and guardrails so they can stay focused while having confidence the business is being built well.</p>



<p>Speiser doesn’t just take on these roles because founders don’t want to do it. There are actually aspects of company building where he should be better than the founders. Sutter Hill Ventures has the capital already, so it’s easy for them to take on responsibility for fundraising and remove that as a blocker. Instead of having to burn a lot of cycles fundraising, Sutter Hill can provide the capital. And they often do, leading multiple rounds into their companies. Or they can bring in outside investors, with the confidence that Sutter Hill can lead the entire round as a backstop if the process becomes too much of a hassle. Also, like any VC firm, Sutter Hill builds a brand that compounds their companies’ ability to raise follow on funding. At this point there are multiple firms that have made their bread and butter following on after Sutter Hill, to great success.</p>



<p>Similarly, Speiser is likely to have more experience in setting up companies and the initial customer development process than the founders will. Perhaps most importantly, he has relationships with customers and an established reputation that can be used to bootstrap the initial pilot conversations, which may be the point of highest leverage for these new startups.</p>



<p>These advantages all <em>compound</em> with every incremental company Speiser originates, and not just because of the typical brand network effects that venture has broadly. In many tangible ways, the spread between Speiser’s process knowledge relative to a new founder should widen with every new company.</p>



<p>As an industry we seem to often want to see machismo and martyrdom in founders. A decade ago it was wanting founders to be willing to mortgage their house and their kids’ college fund. Now it is founders wanting to be in charge of every aspect of companies. If founders aren’t willing to put everything on the line for the company their companies will be worse is the thought. As an ecosystem it doesn’t appear the data bears this out. Everything we do that has expanded opportunity and decreased the friction to more people becoming founders has led to huge benefits for the industry.</p>



<p>Just as Eric Yuan should be a massive shot across the bow for all large tech incumbents, Snowflake’s founders should be a wakeup call to venture that we have much further to go to enable and support even more brilliant people who don’t think of themselves as CEOs to bring their vision of the world into existence.</p>



<h3>A better package for CEOs</h3>



<p>But this isn’t the only talent arbitrage Speiser’s playbook benefits from. The interim CEO model allows another one too. As the startup does well and figures out its product market fit, Speiser eventually rolls off as CEO and finds a full-time replacement to take on the role as he takes a step back into being solely a board member.</p>



<p>His companies are <em>very</em> advantaged in finding great CEOs to take the mantle. To understand why, look at it from the perspective of an executive looking to become the CEO of a company. Like the potential founders, these executives have their own Scylla and Charybdis dilemma. They want to be CEO of a company, but they also want to join a company that has already …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://kwokchain.com/2020/09/22/the-mike-speiser-incubation-playbook/">https://kwokchain.com/2020/09/22/the-mike-speiser-incubation-playbook/</a></em></p>]]>
            </description>
            <link>https://kwokchain.com/2020/09/22/the-mike-speiser-incubation-playbook/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24549767</guid>
            <pubDate>Tue, 22 Sep 2020 00:29:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Signposts for “when to hire more QA testers”]]>
            </title>
            <description>
<![CDATA[
Score 48 | Comments 56 (<a href="https://news.ycombinator.com/item?id=24546260">thread link</a>) | @ohjeez
<br/>
September 21, 2020 | https://www.functionize.com/blog/8-ways-to-know-that-its-time-to-hire-a-new-qa-tester/ | <a href="https://web.archive.org/web/*/https://www.functionize.com/blog/8-ways-to-know-that-its-time-to-hire-a-new-qa-tester/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <p><img width="1080" height="634" src="https://3laqvw22wekb3ykm8z4dbnq8-wpengine.netdna-ssl.com/wp-content/uploads/2020/09/ft-time-to-hire-new-QA-tester.jpg" alt="8 ways to know that it’s time to hire a new QA tester" srcset="https://www.functionize.com/wp-content/uploads/2020/09/ft-time-to-hire-new-QA-tester.jpg 1080w, https://www.functionize.com/wp-content/uploads/2020/09/ft-time-to-hire-new-QA-tester-300x176.jpg 300w, https://www.functionize.com/wp-content/uploads/2020/09/ft-time-to-hire-new-QA-tester-1024x601.jpg 1024w, https://www.functionize.com/wp-content/uploads/2020/09/ft-time-to-hire-new-QA-tester-768x451.jpg 768w" sizes="(max-width: 1080px) 100vw, 1080px">      </p>	  
    
        <blockquote><p>You want top-quality software, sure. But when is it time to increase the size of the testing team, so that you can deliver said top-quality software? Glad you asked.</p></blockquote>
<p>QA testers are part investigative reporter, part janitor—and all important to the user experience. That’s because the testers’ role is to hunt for untidy coding and to ensure that any user interaction with your software is free from error. As a result, every company worth its engineering chops knows it needs QA testers to do this crucial, sometimes dirty, work. The issue is: When do you bring on new people? How do you know it’s time to hire another QA professional?</p>
<p>In a perfect world, there would be a formula, like “hire one software tester for every five developers,” that is, runs <code>numQATesters = (numDevs+numFeatures)/(5+weWroteTests)</code>. But as life (and code) is imperfect, I came up with a few simple guidelines to justify your budget request.</p>
<p>Don’t thank me. A streamlined user experience is thanks enough.&nbsp;Particularly when it’s <em>your</em> software that I’m using.</p>
<h3>When your software is buggy</h3>
<p>Bugs are annoying yet inevitable errors that range from low priority (font change, alignment issues in text) to “Call the crisis PR team, stat!” (such as loss or exposure of data). And as we all know, a single critical flaw can result in customer dissatisfaction and a high bill from your crisis PR team. Or from the lawyers.</p>
<p>Jennifer Willy, editor of <a href="https://etia.com/" target="_blank" rel="noopener noreferrer">Etia.com</a>, considers bug complaints and customer issues a call to action, where the action is hiring a new QA tester. “User experience is vital. When you are faced with a situation like this, it is important to rely on good testers.” Hiring excellent testing staff both helps you <a href="https://www.functionize.com/blog/6-ways-to-improve-your-debugging-skills/">unravel the buggy situation</a> and also brings about a positive change in the software development process, Willy says.</p>
<p>(Of course, the lack of testers is one possible reason the software got into that sorry state. But that’s another discussion.)</p>
<p><em>Recommended hire</em>: A careful QA tester who can find bugs and other errors that the development team has overlooked. A QA with the patience of a saint, specifically Saint Monica, the saint most associated with patience.</p>
<h3>When your QA team is backlogged</h3>
<p>Christian Lavender, chief product officer of vehicle refinancing platform <a href="https://www.rategenius.com/" target="_blank" rel="noopener noreferrer">RateGenius</a>, says that it’s time to take on a new team member when QA can’t keep up with developer output. “You can hire more engineers to get projects built faster, but if your team doesn’t have the bandwidth to test releases, they’ll just sit in the QA backlog.”</p>
<p>If your developers produce more code than you can thoroughly test in a reasonable amount of time before your QA team drowns in <a href="https://www.functionize.com/blog/the-icky-sticky-tale-of-test-case-management/">a sea of test cases</a>, it’s time to consider pinging HR. Do so sooner rather than later, because as Lavender says, “When there’s a bottleneck in QA, it ripples across the company.”</p>
<p><em>Recommended hire</em>: An octopus. During crunch time, eight hands are better than two.</p>
<h3>When your QA staff is overworked</h3>
<p>If your QA department is working overtime, on weekends, and are called in during holidays, it means they’re handling an unusually heavy load. And if you overwork your QA staff, there’s no telling if your application’s name fields will accept <a href="https://www.cnet.com/news/how-elon-musk-pronounces-x-ae-a-12-his-new-sons-name/" target="_blank" rel="noopener noreferrer">user names like “X Æ A-12.”</a></p>
<p>“If you find that you’re spending more and more time testing than necessary, then you know it might be worth considering hiring a new QA tester,” says <a href="https://www.linkedin.com/in/colinlma/">Colin Ma</a>, founder of Makujin Media and a former director of engineering.</p>
<p><em>Recommended hire</em>: A QA tester who knows how to tap out when pinned to a wrestling mat.&nbsp;A QA who would never name their child X AE A-12.</p>
<h3>When you expand your application platforms</h3>
<p>Your QA team excels at what it does, and what it does is testing desktop software. But what happens <a href="https://www.functionize.com/blog/the-mobile-testing-gotchas-you-need-to-know-about/">when your users access your site on their cell phones</a>?</p>
<p>Your customer base should drive your next hire, says Lavender. “What devices do they use? What browser versions are they on? Are they on tablet, mobile, or desktop? Looking at all those breakdowns would drive you to the methods your QA team would use and what the specialties they would need.”</p>
<p><em>Recommended hire</em>: Someone who specializes in banking apps on iOS devices from versions 10 to 13 using Firefox versions 78 through 82, but only on Tuesdays during a full moon. Someone who <a href="https://www.functionize.com/blog/what-testers-should-know-about-domain-knowledge/">specializes in every other testing scenario</a>, too.</p>
<h3>When your QA team asks you to</h3>
<p>You’re in the software planning phase, and the project manager is laying out the scope of work. Joining you in the room is your QA team lead. Looking at the project, they say it straight up: “We need to hire more testers.”</p>
<p>Egor Bulyhin, project manager and team lead at consulting firm <a href="https://smart-it.com/" target="_blank" rel="noopener noreferrer">Smart IT</a>, says a good QA professional lets you know when work is beyond even their leet skillz. Part of a professional’s skill set is knowing their own limitations, including when they need more people to maintain a steady flow of approved features. It’s up to you to see that they get what they need (unless they need an early retirement).</p>
<p><em>Recommended hire</em>: A QA tester who isn’t afraid to tell you that you need a new hire. A QA tester who isn’t afraid to tell you that your fly is unzipped.</p>
<h3>When you need to keep your customer’s data secure</h3>
<p>Some testing specialties are less about platforms than reliability – including software security. Do you have someone qualified to find application vulnerabilities during testing?</p>
<p>When it comes to sensitive information, you need a higher level of either data or application integrity, Ma says. “One issue could be costly.” Issues include breach of trust or regulatory infractions that result in fines. If your product requires rock-solid data integrity, such as banking applications, you need a tester with relevant experience.</p>
<p>Even if you’re outside a regulatory regime, like the EU’s GDPR, you may still need to comply with it if you support EU customers. Also, have you ever read the term “data breach” in a feel-good piece? No, I didn’t think so.</p>
<p><em>Recommended hire</em>: Someone who knows what the acronym <a href="https://gdpr-info.eu/" target="_blank" rel="noopener noreferrer">GDPR</a> stands for. Someone who winces when you say “<a href="https://www.scmagazine.com/home/security-news/whats-really-changed-three-years-after-equifax-breach/" target="_blank" rel="noopener noreferrer">Equifax</a>.”</p>
<h3>When you need someone in a leadership position</h3>
<p>Let’s say your QA team has been working together for months, and each member excels at the job they’ve always done. But the work is piecemeal, with no cohesion or strategy. It’s time to hire someone with leadership abilities.</p>
<p>Jessica Salter, people operations manager of <a href="https://www.bestresponsemedia.co.uk/" target="_blank" rel="noopener noreferrer">Best Response Media</a>, needed someone who could create guidelines for future best practices. In making the hire, the key attribute was finding someone in a leadership position “to help us establish a strategy and implement new ways of working.” This particular hire should have management experience, to mentor the current QA team and set them up for future success.</p>
<p><em>Recommended hire</em>: Someone who has a plan for future strategies. And might know future lottery numbers.</p>
<h3>When your business is growing</h3>
<p>Maybe your application is getting new functionality. Or perhaps you’re developing an entire new product line. Or your business is among those <a href="https://www.nytimes.com/2020/09/08/style/guitar-sales-fender-gibson.html?fbclid=IwAR39kZlhJCKPqaUmzO9Ix18hFklDs-dnN1M7-yytGPT7EPD6Z4e4drgUY7E" target="_blank" rel="noopener noreferrer">getting a sales boost due to the pandemic</a>, which means it’s time to take on long-delayed projects.</p>
<p>Whatever the reason: On your to-hire list are several new developers. Make sure you add to this list a new QA professional, or you may experience that deadline-slaying backlog mentioned above.</p>
<p>Bulyhin likes to hire QA staff members before a new project begins, so he can onboard them before work ramps up in earnest. More importantly, he works with them to <a href="https://www.functionize.com/blog/the-best-qa-job-interview-questions-for-managers-to-ask/">make sure the new QA hire</a> has the skills they need for this particular job. This way, they both can achieve their work goals.</p>
<p>Recommended hire: Someone who has been there, done that, and <a href="https://duckduckgo.com/?q=%2522quality+assurance%2522+t-shirts&amp;atb=v63-1&amp;iar=images&amp;iax=images&amp;ia=images" target="_blank" rel="noopener noreferrer">has the t-shirts</a>. Very likely, the t-shirt reads, “A QA tester walks into a bar. Orders a beer. Orders 3.33 beers. Orders null beers. Orders &amp;@% beers.”</p>
<blockquote><p>Whomever you hire, surely you want someone with a steady grasp on <a href="https://www.functionize.com/project/getting-started-with-test-automation/">test automation essentials</a>? Our white paper gives you the basics.</p></blockquote>
<div>
<div>
<p><img src="https://3laqvw22wekb3ykm8z4dbnq8-wpengine.netdna-ssl.com/wp-content/uploads/2020/01/author-Carol-Pinchefsky.jpg"></p>
<div>
<p>by Carol Pinchefsky</p>
<p>Carol Pinchefsky is a freelance writer who writes about technology, science, and geek culture. She lives in New York City with her husband and their books. She can also be found on <a href="https://twitter.com/CarolPinchefsky"> Twitter</a>, <a href="https://www.facebook.com/CarolPinchefsky/">Facebook</a> and <a href="http://carolpinchefsky.com/">carol pinchefsky.com</a></p>
</div>

</div>
</div>
  </div></div>]]>
            </description>
            <link>https://www.functionize.com/blog/8-ways-to-know-that-its-time-to-hire-a-new-qa-tester/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24546260</guid>
            <pubDate>Mon, 21 Sep 2020 17:43:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Things we learned running Postgres 13]]>
            </title>
            <description>
<![CDATA[
Score 351 | Comments 48 (<a href="https://news.ycombinator.com/item?id=24544881">thread link</a>) | @lfittl
<br/>
September 21, 2020 | https://pganalyze.com/blog/postgres13-better-performance-monitoring-usability | <a href="https://web.archive.org/web/*/https://pganalyze.com/blog/postgres13-better-performance-monitoring-usability">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p><span>
      <a href="https://pganalyze.com/static/c19e088b51f042e5749d96ace57df97b/aa440/postgres_13.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="postgres 13" title="Astronaut writing Postgres 13" src="https://pganalyze.com/static/c19e088b51f042e5749d96ace57df97b/8c557/postgres_13.png" srcset="https://pganalyze.com/static/c19e088b51f042e5749d96ace57df97b/4edbd/postgres_13.png 175w, https://pganalyze.com/static/c19e088b51f042e5749d96ace57df97b/13ae7/postgres_13.png 350w, https://pganalyze.com/static/c19e088b51f042e5749d96ace57df97b/8c557/postgres_13.png 700w, https://pganalyze.com/static/c19e088b51f042e5749d96ace57df97b/e996b/postgres_13.png 1050w, https://pganalyze.com/static/c19e088b51f042e5749d96ace57df97b/2cefc/postgres_13.png 1400w, https://pganalyze.com/static/c19e088b51f042e5749d96ace57df97b/aa440/postgres_13.png 1500w" sizes="(max-width: 700px) 100vw, 700px" loading="lazy">
  </a>
    </span>
</p>
<p>Postgres 13 is almost here. It's been in beta since May, and the general availability release is
coming any day. We've been following Postgres 13 closely here at pganalyze, and have been running
the beta in one of our staging environments for several months now.</p>
<p>There are no big new features in Postgres 13, but there are a lot of small but important incremental
improvements. Let's take a look.</p>

<h2 id="performance"><a href="#performance" aria-label="performance permalink"></a>Performance</h2>
<p>Postgres 13 performance improvements include both built-in optimizations and heuristics that will make
your database run better out of the box, as well as additional features to give you more flexibility
in optimizing your schema and queries.</p>
<h3 id="smaller-indexes-with-b-tree-deduplication"><a href="#smaller-indexes-with-b-tree-deduplication" aria-label="smaller indexes with b tree deduplication permalink"></a>Smaller Indexes with B-Tree Deduplication</h3>
<!-- -->

<svg xmlns:xl="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" xmlns:dc="http://purl.org/dc/elements/1.1/" version="1.1" viewBox="222 230.5 630.072 116" width="630.072" height="116">
  <defs>
    <font-face font-family="Avenir Next" font-size="16" panose1="2 11 5 3 2 2 2 2 2 4" units-per-em="1000" underline-position="-75" underline-thickness="50" slope="0" x-height="468" cap-height="708" ascent="1000" descent="-365.9973" font-weight="400">
      <font-face-src>
        <font-face-name name="AvenirNext-Regular"></font-face-name>
      </font-face-src>
    </font-face>
    <font-face font-family="Avenir Next" font-size="16" panose1="2 11 8 3 2 2 2 2 2 4" units-per-em="1000" underline-position="-75" underline-thickness="50" slope="0" x-height="498" cap-height="708" ascent="1000" descent="-365.9973" font-weight="700">
      <font-face-src>
        <font-face-name name="AvenirNext-Bold"></font-face-name>
      </font-face-src>
    </font-face>
  </defs>
  <metadata> Produced by OmniGraffle 7.17.2\n2020-09-20 19:29:10 +0000</metadata>
  <g id="Canvas_1" strokedasharray="none" stroke-opacity="1" stroke="none" fill="none" fill-opacity="1">
    <title>Canvas 1</title>
    <g id="Canvas_1_Layer_1">
      <title>Layer 1</title>
      <g id="Graphic_2">
        <rect x="232" y="240.5" width="250.5" height="39.5" fill="#d8d5df"></rect>
      </g>
      <g id="Graphic_3">
        <rect x="232" y="297" width="89.5" height="39.5" fill="#d8eef0"></rect>
      </g>
      <g id="Graphic_9">
        <text transform="translate(244.128 251.026)" fill="black">
          <tspan font-family="Avenir Next" font-size="16" font-weight="400" fill="black" x="0" y="16"></tspan>
        </text>
      </g>
      <g id="Graphic_10">
        <text transform="translate(244.128 309.013)" fill="black">
          <tspan font-family="Avenir Next" font-size="16" font-weight="400" fill="black" x="0" y="16"></tspan>
        </text>
      </g>
      <g id="Graphic_13">
        <text transform="translate(502 251.026)" fill="black">
          <tspan font-family="Avenir Next" font-size="16" font-weight="400" fill="black" x="0" y="16">deduplicate_items=off</tspan>
        </text>
      </g>
      <g id="Graphic_14">
        <text transform="translate(502 307.526)" fill="black">
          <tspan font-family="Avenir Next" font-size="16" font-weight="400" fill="black" x="0" y="16">deduplicate_items=on   </tspan>
          <tspan font-family="Avenir Next" font-size="16" font-weight="700" fill="black" y="16">(new in Postgres 13)</tspan>
        </text>
      </g>
    </g>
  </g>
</svg>
<p>Postgres 13 introduces a way for B-Tree indexes to <a href="https://www.postgresql.org/docs/13/btree-implementation.html#BTREE-DEDUPLICATION">avoid storing duplicate entries in some situations</a>.
In general, a B-Tree index consists of a tree of indexed values, with each leaf node pointing to a
particular row version. Because each leaf points to one row version, if you are indexing non-unique
values, those values need to be repeated.</p>
<p>The de-duplication mechanism avoids that by having a leaf node point to several row versions if possible,
which leads to smaller indexes.</p>
<p>Here is an example from our own pganalyze application schema: We have a <code>queries</code> table to
track all the queries we monitor, and a <code>database_id</code> field to track which database they belong to. We
index <code>database_id</code> (so we can quickly fetch queries for a specific database), and because each database
typically has more than one query, there is a lot of duplication in this index.</p>
<p>New B-Tree indexes in Postgres 13 use the deduplication feature by default, but if for some reason,
you need to turn it off, you can control it with the <code>deduplicate_items</code> storage parameter. Here we
create the same index in two different ways, with deduplication explicitly on and off (though again,
you don't need to specify <code>on</code>—this is the default):</p>
<div data-language="sql"><pre><code><span>CREATE</span> <span>INDEX</span> CONCURRENTLY queries_db_id_idx_no_dedup <span>ON</span> queries<span>(</span>database_id<span>)</span>
<span>WITH</span> <span>(</span>deduplicate_items<span>=</span><span>off</span><span>)</span><span>;</span>

<span>CREATE</span> <span>INDEX</span> CONCURRENTLY queries_db_id_idx_yes_dedup <span>ON</span> queries<span>(</span>database_id<span>)</span>
<span>WITH</span> <span>(</span>deduplicate_items<span>=</span><span>on</span><span>)</span><span>;</span>

<span>SELECT</span> relname<span>,</span> pg_size_pretty<span>(</span>pg_relation_size<span>(</span>oid<span>)</span><span>)</span> <span>FROM</span> pg_class
<span>WHERE</span> relname <span>IN</span> <span>(</span><span>'queries_db_id_idx_no_dedup'</span><span>,</span> <span>'queries_db_id_idx_yes_dedup'</span><span>)</span><span>;</span></code></pre></div>
<div data-language="text"><pre><code>           relname           | pg_size_pretty 
-----------------------------+----------------
 queries_db_id_idx_no_dedup  | 218 MB
 queries_db_id_idx_yes_dedup | 67 MB
(2 rows)</code></pre></div>
<p>With deduplication, the new index is more than <strong>three times smaller</strong>! Smaller indexes are faster to load
from disk, and take up less space in memory, meaning there's more room for your data.</p>
<p>One interesting note here is that the index entries point to row <em>versions</em> (as in, a row the way it
exists in one specific <a href="https://www.postgresql.org/docs/13/mvcc.html">MVCC</a> state), not rows themselves,
so this feature <strong>can improve index size even for unique indexes</strong>, where one would not expect any duplication
to occur.</p>
<p>Note that deduplication is not possible in all cases (see above link for details), and that you
will need to reindex before you can take advantage of it if upgrading via <code>pg_upgrade</code>.</p>
<h3 id="extended-statistics-improvements-in-postgres-13"><a href="#extended-statistics-improvements-in-postgres-13" aria-label="extended statistics improvements in postgres 13 permalink"></a>Extended Statistics Improvements in Postgres 13</h3>
<p>Postgres 10 introduced the concept of <a href="https://www.postgresql.org/docs/13/planner-stats.html#PLANNER-STATS-EXTENDED">extended statistics</a>. Postgres keeps some statistics about the "shape" of your data to ensure it can plan queries efficiently,
but the statistics kept by default cannot track things like inter-column dependencies. Extended statistics
were introduced to address that: These are database objects (like indexes) that you create manually with
<code>CREATE STATISTICS</code> to give the query planner more information for more specific situations. These would be
expensive for Postgres to determine automatically, but armed with an understanding of the semantics of your
schema, you can provide that additional info. Used carefully, this can lead to
<a href="https://build.affinity.co/how-we-used-postgres-extended-statistics-to-achieve-a-3000x-speedup-ea93d3dcdc61">massive performance improvements</a>.</p>
<p>Postgres 13 brings a number of small but important improvements to extended statistics, including
support for using them with <code>OR</code> clauses and in <code>IN</code>/<code>ANY</code> constant lists, allowing consideration
of multiple extended statistics objects in planning a query, and support for
<a href="https://www.postgresql.org/docs/13/sql-alterstatistics.html">setting a statistics target</a> for
extended statistics:</p>
<div data-language="sql"><pre><code><span>ALTER</span> <span>STATISTICS</span> table_stx <span>SET</span> <span>STATISTICS</span> <span>1000</span><span>;</span></code></pre></div>
<p>Like with the regular statistics target, this is a trade-off between additional planning time (and longer <code>ANALYZE</code> runs), versus having more precise plans. We recommend using this in a targeted manner using EXPLAIN plans to confirm plan changes.</p>
<h3 id="parallel-vacuum--better-support-for-append-only-workloads"><a href="#parallel-vacuum--better-support-for-append-only-workloads" aria-label="parallel vacuum  better support for append only workloads permalink"></a>Parallel VACUUM &amp; Better Support for Append-only Workloads</h3>
<p>Postgres multi-version concurrency control means you need to run <code>VACUUM</code> regularly (usually you can rely
on the autovacuum process, though it may need some tuning). In Postgres 13, one notable improvement is
that multiple indexes for a single table can be vacuumed in parallel. This can lead to big performance
improvements in <code>VACUUM</code> work. Parallel <code>VACUUM</code> is the default and can be controlled with the <code>PARALLEL</code> option:</p>
<div data-language="sql"><pre><code>VACUUM <span>(</span>PARALLEL <span>2</span><span>,</span> VERBOSE<span>)</span> queries<span>;</span></code></pre></div>
<div data-language="text"><pre><code>INFO:  vacuuming "public.queries"
INFO:  launched 2 parallel vacuum workers for index vacuuming (planned: 2)
INFO:  scanned index "index_queries_on_database_id" to remove 1403418 row versions by parallel vacuum worker
DETAIL:  CPU: user: 0.98 s, system: 0.15 s, elapsed: 2.37 s
INFO:  scanned index "index_queries_on_last_occurred_at" to remove 1403418 row versions by parallel vacuum worker
DETAIL:  CPU: user: 0.88 s, system: 0.27 s, elapsed: 2.60 s
...</code></pre></div>
<p>Parallel VACUUM occurs when the following is true:</p>
<ul>
<li>Sufficient parallel workers are available, based on the system-wide limit set by <a href="https://www.postgresql.org/docs/13/runtime-config-resource.html#GUC-MAX-PARALLEL-WORKERS-MAINTENANCE"><code>max_parallel_maintenance_workers</code></a> (defaults to 2)</li>
<li>There are multiple indexes on the table (one index can be processed by one worker at a time)</li>
<li>Index types support it (all built-in index types support parallelism to some extent)</li>
<li>The indexes are large enough to exceed <a href="https://www.postgresql.org/docs/13/runtime-config-query.html#GUC-MIN-PARALLEL-INDEX-SCAN-SIZE"><code>min_parallel_index_scan_size</code></a> (defaults to 512 kB)</li>
</ul>
<p>Be aware that <strong>parallel VACUUM is currently not supported for autovacuum.</strong> This new feature is intended for use in manual VACUUM runs that need to complete quickly, such as when insufficient autovacuum tuning has lead to an imminent TXID wraparound, and you need to intervene to fix it.</p>
<p>On that note, an important <code>autovacuum</code> improvement in Postgres 13 is that the autovacuum background process can now be triggered by <code>INSERT</code> statements for append-only tables. The main purpose of VACUUM is to clean up old versions of updated and deleted rows, but it is also essential to set pages as all-visible for MVCC bookkeeping. All-visible pages allow index-only scans to avoid checking visibility status row-by-row, making them faster.</p>
<p>We make extensive use of append-only tables at pganalyze for our timeseries data, and this improvement will make our lives considerably easier, avoiding the occasional manual VACUUM run on these tables. This new behavior can be controlled by the <code>autovacuum_vacuum_insert_threshold</code> and <code>autovacuum_vacuum_insert_scale_factor</code> variables.</p>
<h3 id="incremental-sorting"><a href="#incremental-sorting" aria-label="incremental sorting permalink"></a>Incremental Sorting</h3>
<p>Sorting data is a common database task, and Postgres has a number of features to avoid unnecessary work
here. For example, if you have a B-Tree index on a column, and you query your table ordered by that column,
it can just scan that index in order to get sorted data.</p>
<p>In Postgres 13, this is improved to handle partially sorted data. If you have an index on <code>(a, b)</code> (or
the data is already sorted by <code>(a, b)</code> for another reason), and you issue a query to order by <code>(a, b, c)</code>,
Postgres understands that the input data is already partially sorted, and can avoid re-sorting the whole
dataset. This is especially useful if you have a <code>LIMIT</code> in your query, since this can avoid even more
work.</p>
<h2 id="monitoring"><a href="#monitoring" aria-label="monitoring permalink"></a>Monitoring</h2>
<p>Monitoring improvements in Postgres 13 include more details on <code>WAL</code> usage, more options for logging your
queries, and more information on query planning.</p>
<h3 id="wal-usage-stats"><a href="#wal-usage-stats" aria-label="wal usage stats permalink"></a>WAL Usage Stats</h3>
<p>The write-ahead log (<code>WAL</code>) ensures your data stays consistent in the event of a crash, even mid-write. Consistency
is a fundamental property of databases—it ensures your transaction either committed or did not commit; you don't
have to worry about in-between states. But on a busy system, <code>WAL</code> writes can often be a bottleneck. To help
diagnose this, Postgres 13 includes more information on <code>WAL</code> usage from your queries.</p>
<p><code>EXPLAIN</code> now supports information about <code>WAL</code> records generated during execution:</p>
<div data-language="sql"><pre><code><span>EXPLAIN</span> <span>(</span><span>ANALYZE</span><span>,</span> WAL<span>)</span> <span>DELETE</span> <span>FROM</span> users<span>;</span></code></pre></div>
<div data-language="text"><pre><code>                                                    QUERY PLAN                                                     
-------------------------------------------------------------------------------------------------------------------
 Delete on users  (cost=0.00..5409.00 rows=100000 width=6) (actual time=108.910..108.911 rows=0 loops=1)
   WAL: records=100000 fpi=741 bytes=11425721
   -&gt;  Seq Scan on users  (cost=0.00..5409.00 rows=100000 width=6) (actual time=8.519..51.850 rows=100000 loops=1)
 Planning Time: 6.083 ms
 Execution Time: 108.955 ms
(5 rows)</code></pre></div>
<p>You can see that the <code>WAL</code> line includes the number of records generated, the number of full page images (fpi), and
the number of <code>WAL</code> bytes generated. Only non-zero values are printed in the default text format.</p>
<p>This is also available in <code>pg_stat_statements</code>. For example, on our staging environment, here is what we ran to get
the statement that produced the most <code>WAL</code> records:</p>
<div data-language="sql"><pre><code><span>SELECT</span> query<span>,</span> calls<span>,</span> wal_records<span>,</span> wal_fpi<span>,</span> wal_bytes <span>FROM</span> pg_stat_statements
  <span>ORDER</span> <span>BY</span> wal_records <span>DESC</span> <span>LIMIT</span> <span>1</span><span>;</span></code></pre></div>
<div data-language="text"><pre><code>-[ RECORD 1 ]---------------------------------------------------------------------------------------------
query       | CREATE TEMPORARY TABLE upsert_data (server_id uuid NOT NULL, backend_id uuid NOT NULL,
            | query_start timestamp NOT NULL, query_fingerprint bytea NOT NULL, query_text text NOT NULL)
calls       | 7974948
wal_records | 966960816
wal_fpi     | 1018412
wal_bytes   | 100086092097</code></pre></div>
<p>Like many other values in <code>pg_stat_statements</code>, the <code>wal_records</code>, <code>wal_fpi</code>, and <code>wal_bytes</code> values here are
cumulative since the last <code>pg_stat_statements_reset</code> call.</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pganalyze.com/blog/postgres13-better-performance-monitoring-usability">https://pganalyze.com/blog/postgres13-better-performance-monitoring-usability</a></em></p>]]>
            </description>
            <link>https://pganalyze.com/blog/postgres13-better-performance-monitoring-usability</link>
            <guid isPermaLink="false">hacker-news-small-sites-24544881</guid>
            <pubDate>Mon, 21 Sep 2020 15:57:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Dynamic Scoping in C++]]>
            </title>
            <description>
<![CDATA[
Score 32 | Comments 54 (<a href="https://news.ycombinator.com/item?id=24544716">thread link</a>) | @stettberger
<br/>
September 21, 2020 | https://blog.dokucode.de/posts/2020-07-10-Dynamic-Scoping-in-CPP.html | <a href="https://web.archive.org/web/*/https://blog.dokucode.de/posts/2020-07-10-Dynamic-Scoping-in-CPP.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page-post-dynamic-scope-cpp">
            <ol>
                      <li><a href="https://blog.dokucode.de/index.html">Home</a></li>

    <li><a href="https://blog.dokucode.de/posts.html">Posts</a></li>

    <li><strong>Dynamic Scoping in C++</strong> </li>

    </ol>

           
  <p><i>Date: 2020-07-10</i></p><p>I always had a faible for dynamic scoping as it is implemented in
Common Lisp, Emacs Lisp, or LaTeX. To me, it seems that dynamic
scoping is an almost forgotten technique and dismissed technique in
modern programming. While it is more complex to understand and more
magically than lexical scoping, there are some applications that
benefit from dynamic scoping.</p>
<p>In lexical scoping, if you access a variable, your compiler will start
searching the declaration from the point of reference outwards in
lexical order. This means it searches first in the most inner scope,
and continoues to widen its search scope by the "closed-nested-scope
rule". For example, in the following code snippet, the call to <code>foo()</code>
would return 23, as the lexcially-closest declaration is the global variable.</p>
<div><pre><span></span><span>int</span> <span>config</span> <span>=</span> <span>23</span><span>;</span>

<span>return</span> <span>foo</span><span>()</span> <span>{</span>
    <span>return</span> <span>config</span><span>;</span>
<span>}</span>

<span>void</span> <span>bar</span><span>()</span> <span>{</span>
    <span>int</span> <span>config</span> <span>=</span> <span>42</span><span>;</span>
    <span>printf</span><span>(</span><span>"%d</span><span>\"</span><span>, foo());</span>
<span>}</span>
</pre></div>


<p>With dynamic scoping, the world would look different as the closest
(time-wise) dynamic binding for a given name is found instead of
lexically closest. In the example, <code>foo()</code> would return 42, as the
binding in <code>bar()</code> happened more recently that the global binding.</p>
<p>You can think of a dynamically-scoped global variable as shadowable
global binding. By creating a new binding for the variable, we shadow
the old binding, and all references in child functions will now refer
to the new binding, although they have not received the value via an
argument transfer. Ergo, dynamically-scoped variables are shadowable
side-channels that can influence the behavior of a function.</p>
<p>For example, in Common Lisp, the variable <code>*standard-output*</code> is
dynamically scoped and functions <code>(print)</code> simply send there
characters to that variable. As it is dynamically scoped, we can just
redirect all output to a file by creating a new binding for
<code>*standard-output*</code>.</p>
<div><pre><span></span><span>(</span><span>with-open-file</span> <span>(</span><span>*standard-output*</span> <span>"somefile.dat"</span> <span>:direction</span> <span>:output</span>
                                   <span>:if-exists</span> <span>:supersede</span><span>)</span>
   <span>(</span><span>print</span> <span>"this goes into file"</span><span>))</span>
</pre></div>


<p>Wouldn't it be neat to do the same in, let's say, C++? Luckily, with
templates, the RAII pattern, and some template magic, we can write
code like this:</p>
<div><pre><span></span><span>DynamicScope</span><span>&lt;</span><span>int</span><span>&gt;</span> <span>G</span><span>(</span><span>0</span><span>);</span>

<span>void</span> <span>bar</span><span>()</span> <span>{</span>
    <span>std</span><span>::</span><span>cout</span> <span>&lt;&lt;</span> <span>"bar "</span> <span>&lt;&lt;</span> <span>*</span><span>G</span> <span>&lt;&lt;</span> <span>std</span><span>::</span><span>endl</span><span>;</span>
<span>}</span>

<span>void</span> <span>foo</span><span>()</span> <span>{</span>
    <span>DynamicScope</span><span>&lt;</span><span>int</span><span>&gt;::</span><span>BindInstance</span> <span>_</span><span>(</span><span>G</span><span>,</span> <span>3</span><span>);</span>
    <span>bar</span><span>();</span>
<span>}</span>
<span>int</span> <span>main</span><span>()</span> <span>{</span>
    <span>std</span><span>::</span><span>cout</span> <span>&lt;&lt;</span> <span>"main1 "</span> <span>&lt;&lt;</span> <span>*</span><span>G</span> <span>&lt;&lt;</span> <span>std</span><span>::</span><span>endl</span><span>;</span>
    <span>foo</span><span>();</span>
    <span>std</span><span>::</span><span>cout</span> <span>&lt;&lt;</span> <span>"main2 "</span> <span>&lt;&lt;</span> <span>*</span><span>G</span> <span>&lt;&lt;</span> <span>std</span><span>::</span><span>endl</span><span>;</span>

<span>}</span>
</pre></div>


<p>and end up with the output:</p>



<p>The source for the <code>DynamicScope&lt;T&gt;</code> can be found here:    <a href="https://blog.dokucode.de/posts/2020-07-10-Dynamic-Scoping-in-CPP/dynamic_scope.cc">dynamic_scope.cc</a>
</p>
<h2 id="update-23092020-multi-threaded-programs">[UPDATE 23.09.2020] Multi-Threaded Programs</h2>
<p>After some discussion on
<a href="https://news.ycombinator.com/item?id=24544716">HackerNews</a> (which I
highly recommend to read), I was made aware that the previous
implementation has a problem with multi-threaded programs. As all
threads share the same global objects as a root to their dynamic-scope
value stack, bindings in one thread had an influence on the bindings
in another thread. Of coure, this would be a broken version of dynamic
scoping.</p>
<p>The problem can be circumvented by making the global variable thread local:</p>
<div><pre><span></span><span>thread_local</span> <span>DynamicScope</span><span>&lt;</span><span>int</span><span>&gt;</span> <span>G</span><span>(</span><span>0</span><span>);</span>
</pre></div>


<p>With this, every thread has its own version of the G object, which
internally is the head of a linked list of the shadowed values.
However, someone could forget the add the required thread_local attribute.</p>
<p>Unluckily, checking whether the storage class of a given variable is
thread_local is not that trivial. However, I came up with a rather
low-cost sanity check that ensures that a variable must be declared
<code>thread_local</code>. The updated version of <code>DynamicScope&lt;T&gt;</code>, as well as
some benchmarking code, can be found here:    <a href="https://blog.dokucode.de/posts/2020-07-10-Dynamic-Scoping-in-CPP/thread_dynamic_scope.cc">thread_dynamic_scope.cc</a>
</p>
      </div></div>]]>
            </description>
            <link>https://blog.dokucode.de/posts/2020-07-10-Dynamic-Scoping-in-CPP.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24544716</guid>
            <pubDate>Mon, 21 Sep 2020 15:45:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Dating is better than ever with social distancing]]>
            </title>
            <description>
<![CDATA[
Score 23 | Comments 13 (<a href="https://news.ycombinator.com/item?id=24544686">thread link</a>) | @colinprince
<br/>
September 21, 2020 | https://www.cbc.ca/radio/thedebaters/dating-is-actually-better-than-ever-with-social-distancing-1.5629793 | <a href="https://web.archive.org/web/*/https://www.cbc.ca/radio/thedebaters/dating-is-actually-better-than-ever-with-social-distancing-1.5629793">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>DeAnne Smith and Arthur Simeon have each other’s number when they discuss if social distancing improves dating.</p><div><figure><div><p><img alt="" srcset="" sizes="" src="https://i.cbc.ca/1.5629807.1593220440!/fileImage/httpImage/image.jpg_gen/derivatives/16x9_780/social-distance-dating.jpg"></p></div><figcaption> <!-- -->(CCO/Pexels)</figcaption></figure><p><span></span><span>Listen</span><span>17:15</span></p><p><span><p><a href="http://www.deannesmith.com/" target="_blank">DeAnne Smith</a> and <a href="https://www.arthursimeon.com/" target="_blank">Arthur Simeon</a> have each other's number when they discuss if social distancing improves dating.</p>  <p>DeAnne Smith makes it clear why dating in isolation is their fascination.</p>    <blockquote><span><span><svg version="1.1" focusable="false" x="0px" y="0px" width="30px" height="25px" viewBox="0 0 52.157 39.117" enable-background="new 0 0 52.157 39.117" space="preserve"><g><g><path fill="000000" d="M22.692,10.113c-5.199,1.4-8.398,4.4-8.398,8.801c0,2.4,2,3,3.6,4.199c2.2,1.602,3.4,3.4,3.4,6.602   c0,3.799-3.4,6.799-7.4,6.799c-4.6,0-8.8-3.199-8.8-10.6c0-13.6,7-20,17.599-21.799V10.113z M45.692,10.113   c-5.199,1.4-8.399,4.4-8.399,8.801c0,2.4,2,3,3.601,4.199c2.2,1.602,3.399,3.4,3.399,6.602c0,3.799-3.399,6.799-7.399,6.799   c-4.601,0-8.8-3.199-8.8-10.6c0-13.6,7-20,17.599-21.799V10.113z"></path></g></g><g display="none"><g display="inline"> <path fill="000000" d="M6.648,29.759c5.199-1.4,8.398-4.4,8.398-8.801c0-2.398-2-3-3.599-4.199c-2.2-1.6-3.399-3.4-3.399-6.6   c0-3.801,3.399-6.801,7.399-6.801c4.599,0,8.8,3.201,8.8,10.6c0,13.6-7,20-17.6,21.801V29.759z M29.648,29.759   c5.199-1.4,8.398-4.4,8.398-8.801c0-2.398-2-3-3.599-4.199c-2.2-1.6-3.401-3.4-3.401-6.6c0-3.801,3.401-6.801,7.401-6.801   c4.599,0,8.8,3.201,8.8,10.6c0,13.6-7,20-17.6,21.801V29.759z"></path></g></g></svg>Being in a new relationship during a global pandemic puts things in perspective. We're not evaluating each other on whether or not we want to grow old together&nbsp;but on whether or not we want to grow vegetables together.<svg focusable="false" x="0px" y="0px" width="23px" height="22px" viewBox="0 0 52.157 39.117" enable-background="new 0 0 52.157 39.117" space="preserve"><g display="none"><g display="inline"><path fill="000000" d="M22.692,10.113c-5.199,1.4-8.398,4.4-8.398,8.801c0,2.4,2,3,3.6,4.199c2.2,1.602,3.4,3.4,3.4,6.602   c0,3.799-3.4,6.799-7.4,6.799c-4.6,0-8.8-3.199-8.8-10.6c0-13.6,7-20,17.599-21.799V10.113z M45.692,10.113   c-5.199,1.4-8.399,4.4-8.399,8.801c0,2.4,2,3,3.601,4.199c2.2,1.602,3.399,3.4,3.399,6.602c0,3.799-3.399,6.799-7.399,6.799   c-4.601,0-8.8-3.199-8.8-10.6c0-13.6,7-20,17.599-21.799V10.113z"></path></g></g><g><g><path fill="000000" d="M6.648,29.759c5.199-1.4,8.398-4.4,8.398-8.801c0-2.398-2-3-3.599-4.199c-2.2-1.6-3.399-3.4-3.399-6.6   c0-3.801,3.399-6.801,7.399-6.801c4.599,0,8.8,3.201,8.8,10.6c0,13.6-7,20-17.6,21.801V29.759z M29.648,29.759   c5.199-1.4,8.398-4.4,8.398-8.801c0-2.398-2-3-3.599-4.199c-2.2-1.6-3.401-3.4-3.401-6.6c0-3.801,3.401-6.801,7.401-6.801   c4.599,0,8.8,3.201,8.8,10.6c0,13.6-7,20-17.6,21.801V29.759z"></path></g></g></svg></span><cite>- DeAnne Smith</cite></span></blockquote>    <p>But Arthur Simeon says he's not willing to go the distance with social distance dating.</p>    <blockquote><span><span><svg version="1.1" focusable="false" x="0px" y="0px" width="30px" height="25px" viewBox="0 0 52.157 39.117" enable-background="new 0 0 52.157 39.117" space="preserve"><g><g><path fill="000000" d="M22.692,10.113c-5.199,1.4-8.398,4.4-8.398,8.801c0,2.4,2,3,3.6,4.199c2.2,1.602,3.4,3.4,3.4,6.602   c0,3.799-3.4,6.799-7.4,6.799c-4.6,0-8.8-3.199-8.8-10.6c0-13.6,7-20,17.599-21.799V10.113z M45.692,10.113   c-5.199,1.4-8.399,4.4-8.399,8.801c0,2.4,2,3,3.601,4.199c2.2,1.602,3.399,3.4,3.399,6.602c0,3.799-3.399,6.799-7.399,6.799   c-4.601,0-8.8-3.199-8.8-10.6c0-13.6,7-20,17.599-21.799V10.113z"></path></g></g><g display="none"><g display="inline"> <path fill="000000" d="M6.648,29.759c5.199-1.4,8.398-4.4,8.398-8.801c0-2.398-2-3-3.599-4.199c-2.2-1.6-3.399-3.4-3.399-6.6   c0-3.801,3.399-6.801,7.399-6.801c4.599,0,8.8,3.201,8.8,10.6c0,13.6-7,20-17.6,21.801V29.759z M29.648,29.759   c5.199-1.4,8.398-4.4,8.398-8.801c0-2.398-2-3-3.599-4.199c-2.2-1.6-3.401-3.4-3.401-6.6c0-3.801,3.401-6.801,7.401-6.801   c4.599,0,8.8,3.201,8.8,10.6c0,13.6-7,20-17.6,21.801V29.759z"></path></g></g></svg>Every first date is happening via video call so while you don't have to be bothered by showering or wearing anything below the waist, you still have to find the most 'interesting' corner of your house to make the call.<svg focusable="false" x="0px" y="0px" width="23px" height="22px" viewBox="0 0 52.157 39.117" enable-background="new 0 0 52.157 39.117" space="preserve"><g display="none"><g display="inline"><path fill="000000" d="M22.692,10.113c-5.199,1.4-8.398,4.4-8.398,8.801c0,2.4,2,3,3.6,4.199c2.2,1.602,3.4,3.4,3.4,6.602   c0,3.799-3.4,6.799-7.4,6.799c-4.6,0-8.8-3.199-8.8-10.6c0-13.6,7-20,17.599-21.799V10.113z M45.692,10.113   c-5.199,1.4-8.399,4.4-8.399,8.801c0,2.4,2,3,3.601,4.199c2.2,1.602,3.399,3.4,3.399,6.602c0,3.799-3.399,6.799-7.399,6.799   c-4.601,0-8.8-3.199-8.8-10.6c0-13.6,7-20,17.599-21.799V10.113z"></path></g></g><g><g><path fill="000000" d="M6.648,29.759c5.199-1.4,8.398-4.4,8.398-8.801c0-2.398-2-3-3.599-4.199c-2.2-1.6-3.399-3.4-3.399-6.6   c0-3.801,3.399-6.801,7.399-6.801c4.599,0,8.8,3.201,8.8,10.6c0,13.6-7,20-17.6,21.801V29.759z M29.648,29.759   c5.199-1.4,8.398-4.4,8.398-8.801c0-2.398-2-3-3.599-4.199c-2.2-1.6-3.401-3.4-3.401-6.6c0-3.801,3.401-6.801,7.401-6.801   c4.599,0,8.8,3.201,8.8,10.6c0,13.6-7,20-17.6,21.801V29.759z"></path></g></g></svg></span><cite>- Arthur Simeon</cite></span></blockquote>    <p>For a debate that will make you feel like a lovesick quaran-teen-ager, click play now!</p>  </span></p></div></div>]]>
            </description>
            <link>https://www.cbc.ca/radio/thedebaters/dating-is-actually-better-than-ever-with-social-distancing-1.5629793</link>
            <guid isPermaLink="false">hacker-news-small-sites-24544686</guid>
            <pubDate>Mon, 21 Sep 2020 15:42:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Google and data brokers accused of illegally collecting people’s data: report]]>
            </title>
            <description>
<![CDATA[
Score 36 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24543614">thread link</a>) | @chris_f
<br/>
September 21, 2020 | https://www.politico.eu/article/google-and-data-brokers-accused-of-illegally-collecting-data-report/ | <a href="https://web.archive.org/web/*/https://www.politico.eu/article/google-and-data-brokers-accused-of-illegally-collecting-data-report/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
							<div>
            <figure><div><div><p><img src="https://g8fip1kplyr33r3krz5b97d1-wpengine.netdna-ssl.com/wp-content/uploads/2020/09/GettyImages-1200825328-714x476.jpg"></p></div></div><figcaption><p>Google faces allegations of illegal user-data collection | Kenzo Tribouillard/AFP via Getty Images</p></figcaption></figure>        <div>
        <header>
                        
                        <p>A campaigner says much of the world’s online advertising industry doesn’t comply with Europe’s privacy rules.</p>
                    </header>
                
<!--/.meta-->
    </div><!--/.summary-->
</div><!--/.story-intro-->

							
							
							<p>Google and several data brokers are violating the EU's privacy rules by harvesting people's personal information to build highly detailed online profiles, including some firms' collection of information on sexual orientation, health status and religious beliefs, <a href="https://g8fip1kplyr33r3krz5b97d1-wpengine.netdna-ssl.com/wp-content/uploads/2020/09/JohnnyRyanDocumnet.pdf">according to a report</a> published on Monday.</p>
<p>The accusations — from Johnny Ryan, a senior fellow at the Irish Council for Civil Liberties, an NGO — come 18 months after Ireland's privacy regulator began a probe into how Google collects and shares people's online information for its advertising business.</p>
<p>Several other European data protection authorities subsequently received separate complaints into so-called real-time bidding (RTB), a system by which advertisers use data to target people with paid-for messages when they surf the web.</p>
<p>The online advertising industry, including Google, says it has bolstered privacy protections since the European Union started enforcing its updated rules, known as the General Data Protection Regulation, or GDPR, more than two years ago.</p>
<p>But Ryan, who filed a complaint with the Irish privacy regulator about these data practices in September 2018, said that little has changed since the new rules came online two years ago.</p>
<p>He called on Ireland's Data Protection Commission (DPC) to act swiftly to clamp down on what he believes were wide-scale breaches of people's online privacy, including the use of online profiles to target individuals around sensitive topics like whether they have AIDS, and to influence voters during elections.</p>
<p>Ryan said the real-time bidding system, which broadcasted web users' online behavior and habits to multiple advertising companies and data brokers, infringed on the region's privacy rules that required data to be kept secure and used proportionately.</p>
<p>"The [Irish Data Protection] Commission has failed to stop that ongoing biggest data breach in history and as a consequence people across Europe and in Ireland are exposed to intimate profiling including of health conditions and political views and location over time, because the RTB system leaks that data into the data broker market," he told POLITICO in reference to Ireland's privacy regulator.</p>
<h3>Spotlight on Dublin</h3>
<p>Because Dublin is home to many of the world's largest tech companies like Google and Facebook, it has the responsibility to oversee how they comply with Europe's privacy standards.</p>
<p>Under the region's data protection rules, sensitive data, including information about a person's health status, sexual orientation or religious beliefs, must be handled more carefully than other information, and companies have to explicitly ask individuals if such information can be collected about them.</p>
<p>"The question for Ireland and the Irish government that must be answered is whether DPC is capable of advancing critical urgent investigations of this nature," he added. "Does it have adequate resources, including technical and procedural competence to discharge its tasks?"</p>
<p>In response, Ireland's privacy agency said that it had met with Ryan to discuss his concerns and that work on its Google investigation continues. The watchdog also has a separate ongoing probe into the data practices of Quantcast, a major online advertising firm, though it has yet to bring an enforcement action or fine against any non-Irish company or organization under Europe's privacy rules.</p>
<p>"The investigation has progressed and a full update on the next steps [was] provided to the concerned party," said Graham Doyle, deputy commissioner at Ireland's privacy agency, in reference to Ryan's complaint about how Google and others collect and use people's data. He declined to comment on what the next steps would be or when a decision would be taken in the investigation into the search giant.</p>
<p>Google said that it also has safeguards in place to protect people's personal data, including in its real-time bidding network.</p>
<p>"We do not allow advertisers to select ads based on sensitive personal data and we do not share people’s sensitive personal data, browsing histories or profiles with advertisers," Alex McPhillips, a Google spokesman, said in a statement.</p>
<p>In his report, Ryan outlines what he says are ongoing privacy failures by many of the world's largest online advertising firms and data brokers linked to the global real-time bidding industry.</p>
<p>That includes OnAudience, a data broker, that holds data on people in almost every country on the planet, according to its website.</p>
<p>It used that information,&nbsp;for instance, to target 1.4 million people who supported gay rights during last year's Polish parliamentary election, <a href="https://www.dropbox.com/sh/7xo77grl2mnb6b6/AAAlszXoQ_zM2kUSsSRqKJSqa?dl=0&amp;preview=4.+Evidence+of+election+interference+in+Poland+(Appendix+A).pdf" target="_blank">based on&nbsp;a company presentation</a>. To do that, OnAudience created online profiles of people based on whether they had read, watched or searched for content associated with LGBTQ rights ahead of the vote, and used that data for a get-out-the-vote campaign for a local group.</p>
<p>The company also uses its database to allow clients to target people who have displayed an interest in other sensitive data topics such as AIDS and HIV, diabetes, incest and abuse support. Such information is considered sensitive and must be handled with additional care under Europe's privacy rules.</p>
<p>An OnAudience representative said the company does not process any personal data, or information about sexual orientation. “Our data is only based on online behavior and visited content. The campaign mentioned [in Ryan’s research] was not conducted by a political party, but by a social organization that promotes equality.”</p>
<p>"The most intimate thing about anyone that you can buy is their health data because this dictates their life expectancy, their ability to pay their mortgage, the risk of giving them health insurance and potentially influences decisions about whether to employ them," Ryan said.</p>
<p><em>Want more analysis from </em><span>POLITICO</span><em>? </em><span>POLITICO</span><em> Pro is our premium intelligence service for professionals. From financial services to trade, technology, cybersecurity and more, Pro delivers real time intelligence, deep insight and breaking scoops you need to keep one step ahead. Email <a href="mailto:pro@politico.eu" target="_blank">pro@politico.eu</a> to request a complimentary trial.</em></p>

														<!--/.story-supplement-->
							
							
							<!--/.story-supplement-->

						</div></div>]]>
            </description>
            <link>https://www.politico.eu/article/google-and-data-brokers-accused-of-illegally-collecting-data-report/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24543614</guid>
            <pubDate>Mon, 21 Sep 2020 14:06:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Is revenue model more important than culture?]]>
            </title>
            <description>
<![CDATA[
Score 219 | Comments 111 (<a href="https://news.ycombinator.com/item?id=24543510">thread link</a>) | @Ozzie_osman
<br/>
September 21, 2020 | https://somehowmanage.com/2020/09/20/revenue-model-not-culture-is-the-dominant-term/ | <a href="https://web.archive.org/web/*/https://somehowmanage.com/2020/09/20/revenue-model-not-culture-is-the-dominant-term/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<section id="primary">
		<main id="main">

			
<article id="post-101">

	

	
	<div>
		
<p>I always loved getting problems of the type “What is the limit as x approaches infinity” type in high-school/college. You’re given an equation (of the classic y=x format), and asked to derive what the value of y will be as x grows to infinity.</p>



<p>One thing you learn pretty quickly about these types of problems is that often it doesn’t matter where the function “starts” (or where it is at small values of x). It could start at zero, or at negative infinity, but its limit might be infinity, and vice versa (it could start large but have a limit of zero or negative infinity).</p>



<p>In fact, for many equations, there’s usually one <strong>dominant term</strong>. This is the term that dominates the limit. There might be countless other factors or parts of the equation that matter initially, but eventually it’s that dominant term that wins. This is sometimes known as the <strong>dominant term rule</strong>. We’ll get back to this in a second.</p>



<h3>Ads vs. Search</h3>



<p>Google had a little press kerfuffle a few months ago. You can read a summary in the New York Times <a href="https://www.nytimes.com/2020/01/31/technology/google-search-results.html">here</a>, but the short of it is that the company launched a design change that made search results and ads look very similar. Presumably, this increased revenue for Google, since many people ignore ads when they can easily identify them, the same way you’d ignore stepping in dog crap if you can identify it in the mud (and yes, given the state of online ads and content I pick this analogy deliberately). But there was a pretty strong backlash against this as a “dark pattern” designed to trick users. After the negative press, Google walked back the change.</p>



<p>If you’ve been following the news around big tech companies these past couple of years, this type of behavior is not surprising at all. These companies have grown really large, are arguably monopolistic, and hyper-focused on growth and revenue. Over and over, they have made decisions that have resulted in backlash from the press and from their users.</p>



<p>On the other hand, if I ignore the past ten years, and jump back to when I worked at Google as an entry-level Software Engineer, it is a <em>little</em> surprising to me. I worked at Google from 2006-2009. At the time, it was already a rapidly-growing public company (I think I joined when there were around 8,000 employees, and left when there were 20,000). I initially worked on the team responsible for AdWords, so I had some exposure to the culture and decisions that were made at the time (of course it wasn’t <em>deep</em> exposure, since I was an entry-level Software Engineer on the lowest rung of the ladder… but it was exposure nonetheless).</p>



<p><em>Note: I’m going to pick on Google a little bit here, but I do love that company. I think there’s a lot it can improve on, but it’s still one of my favorite and least “evil” large tech company. I chose them simply because I’m more familiar with them.</em></p>



<p>At the time, Google employees might have argued against making a change because it was “evil”. The “don’t be evil” motto was still around, and as engineers who were building parts of the product and making decisions, we were pretty ideological about it. One of the company’s values was also to put users first, employees second, and shareholders third. By any of these lenses, the type of design change that Google got flak for recently would have been highly unlikely at the time.</p>



<h3>Revenue is the Dominant Term</h3>



<p>Let’s take a dominant term view of this problem. When a company is first built, several variables dictate its decisions:</p>



<ul><li>The <em>implicit </em>values/culture of the early team. As Ben Horowitz would say, “what you do is who you are.”&nbsp;</li><li>The <em>explicit </em>values/culture of the early team. Are we user-centric? Data-driven? …</li><li>The revenue model.</li></ul>



<p>I think that over time, the revenue model is the dominant term. The limit of a product towards infinity, so to speak, is based on its revenue model. If your revenue model is ads, it doesn’t matter if your stated mission is “to organize the world’s knowledge and make it universally accessible and useful”, “to give people the power to build community and bring the world closer together”, or anything else. If your revenue model is ads, you are an ads company.</p>



<p>I’m not diminishing the role of culture and values. I think those are critical. Part of me would love to believe the hundreds of books written on how culture determines everything. But I don’t. At least not for companies that can hire some of the smartest people in the world, gather massive amounts of data, and build technology more sophisticated than ever. And be trying to “maximize shareholder value”.</p>



<p>I’ve actually agonized over whether culture or revenue are the dominant term. In fact, I agonized so much that I’ve had this article in my head for years, and in a Google Doc for months, but I couldn’t get myself to write it / publish it. Because part of me believes culture always wins. Actually, <em>all</em> of me <em>wants </em>to believe culture <em>always</em> wins. But I’ve had my idealism crushed enough times by hard realities.&nbsp;</p>



<p>Yes, having and espousing a positive culture and set of values are important. And they may shape how and how quickly the revenue model dominates (for example, companies like Enron or pre-IPO Uber show how bad things can get if you have a terrible culture). But regardless of your mission statement, your culture, your values, and so on, if you choose the wrong revenue model, it will dominate them in a shareholder-value-driven, capitalistic society. Culture can only dominate if it’s negative. A positive culture <em>is </em>necessary, but it’s not sufficient.</p>



<p><em>In other words, over the long term, a company (and its product) will morph to take the shape of its revenue streams.</em></p>



<h3>Charlie Munger Knew It</h3>



<p>Charlie Munger, Warren Buffet’s business partner, has a pretty famous speech where he talks about the power of incentives.</p>



<blockquote><p>“Well I think I’ve been in the top 5% of my age cohort all my life in understanding the power of incentives, and all my life I’ve underestimated it. And never a year passes, but I get some surprise that pushes my limit a little farther.” —<a href="https://fs.blog/2013/02/the-psychology-of-human-misjudgement/">Charlie Munger</a></p></blockquote>



<p>Charlie gives several examples: for instance, FedEx needed to move/sort their packages more quickly, so instead of paying employees per hour, they paid them per shift: productivity increased dramatically (employees now had less incentive to take longer hours to do the same amount of work). Charlie’s model of human behavior is pretty simple: we follow incentives. He makes people sound almost coin-operated.</p>



<p>Now, this isn’t entirely true—there are plenty of examples and research showing that our behavior is more complicated than simple incentives would predict. But Charlie is arguably one of the best investors in the world, and he’s onto something. Even though there might be other variables that influence our behavior, you can still simplify things down to incentives. Incentives are his dominant term.</p>



<p>That incentives are dominant is actually pretty obvious to a lot of people. Somehow in the tech industry, we seem to have just clouded our own judgement through some sense of moral superiority. We care about the impact we’re having on the world. We have noble missions that we rally around and try to hire people who are excited by them. So far, so good. But then we shoot ourselves in the foot by setting up business models with misaligned incentives.</p>



<h3>Look for Aligned Business Models</h3>



<p>So what does this mean in practice? Well, if you only care about making money, it doesn’t mean much. But if you do care about more than money, if you care about the impact your work has and you want to be proud of what you do, it’s worth thinking through this a little more deeply.</p>



<p>Whether you’re starting a company or joining one, look for a business model <em>without</em> perverse incentives. A business model that sets things up so that the better a product is, the better off the company is and its users are.</p>



<p>Sometimes, counterintuitively, a business model may seem aligned at first glance, but end up being quite harmful. The classic example that we’re all now aware of is free products. Free seems great at first glance. But companies have to make money somehow. So they sell ads, or data, or some mix of the two that their users don’t quite understand. And so now, success for the company means more time spent on the product (which may or may not be a good thing for users), less privacy (definitely not a good thing for users), and ultimately more ads.*</p>



<p>So often, paid is better than free*.  At <a href="https://www.monarchmoney.com/">Monarch Money</a>, my current startup, we’ve chosen to go with a paid model, with a hope that we’ll be more aligned in creating value for our users (who we can now call customers… notice how there’s a word for “customer service”, but no “user service”?). There will still be plenty of forks in the road where we can decide whether we help our customers, or take advantage of them, and I hope our values will help us navigate those forks, but at least the revenue model is in our favor.</p>



<p>Another layer to consider is whether your product and revenue model help people with just short-term goals, or a mix of both short and long-term goals. Products that are great and helpful, help their users with both. Good products might help with one or the other. The products with the most potential for damage provide some short-term benefit at the <em>expense</em> of longer-term goals.</p>



<p>So when you consider starting or joining a company, look at the business model, and do the “limit math”. Think about what things might look like if you become massively successful, because you might be.</p>



<hr>



<p><em>*This is an opinion piece. I had to draw a lot of simplifications to keep this article short. A lot of statements are definitely not universally true, but are true enough that they’re worth using as examples.</em></p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

				
</article><!-- #post-${ID} -->

	<nav role="navigation" aria-label="Posts">
		<h2>Post navigation</h2>
		
	</nav>
<!-- #comments -->

		</main><!-- #main -->
	</section><!-- #primary -->


	</div></div>]]>
            </description>
            <link>https://somehowmanage.com/2020/09/20/revenue-model-not-culture-is-the-dominant-term/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24543510</guid>
            <pubDate>Mon, 21 Sep 2020 13:58:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Designed in Minecraft, Built IRL]]>
            </title>
            <description>
<![CDATA[
Score 62 | Comments 8 (<a href="https://news.ycombinator.com/item?id=24542830">thread link</a>) | @donohoe
<br/>
September 21, 2020 | https://restofworld.org/2020/rebuilding-gaza-with-minecraft/ | <a href="https://web.archive.org/web/*/https://restofworld.org/2020/rebuilding-gaza-with-minecraft/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			
<p>Most Sundays, Somia Hamdan visits her local park with her two friends, Amal and Laima. They sit on a picnic bench opposite one another and chat neurotically about Twitter and local gossip. Hamdan is there to socialize but also to supervise. “Since I created the space,” Hamdan said, “I like to take care of it.”</p>



<p>At 23, living in Gaza, Hamdan has been blighted by three brutal conflicts with Israel, decades of protests, a cycle of rocket fire between Israel and Gaza’s rulers, Hamas, and infighting between Palestinian factions. She faces one of the <a href="https://www.unrwa.org/where-we-work/gaza-strip">worst employment rates</a> in the world, <a href="https://www.unrwa.org/activity/education-gaza-strip">oversubscribed schools</a>, and a territory in which movement is tightly controlled and more than half the population <a href="https://www.theyworkforyou.com/wrans/?id=2020-01-23.7154.h&amp;p=11132">lives on less than $5.50 per day.</a> Live concerts and movie theaters are rare, imports and exports restricted, and <a href="https://www.un.org/unispal/humanitarian-situation-in-the-gaza-strip-fast-facts-ocha-factsheet/">children often used, and killed, for smuggling.</a></p>



<p>Though Hamdan and most of her peers have mobile phones — a lifeline for connecting with the outside world — power cuts are relentless: Az-Zawayda, her home in Deir al-Balah of some 25,000, often has barely <a href="https://www.hrw.org/news/2017/08/20/gaza-we-get-four-hours-electricity-day-if-were-lucky">four hours of electricity a day</a>. “There’s little to do here,” Hamdan said.</p>



<p>Before 2018, Hamdan had certainly never played a video game. That year, she learned to play Minecraft, the wildly popular computer game<strong> </strong>in which players make things out of blocks — but not purely for fun. In 2012, U.N.-Habitat, Microsoft, and Mojang, the company that made Minecraft, teamed up on <a href="https://www.blockbyblock.org/about">Block by Block</a>, a venture that aims to improve marginalized areas by actively engaging community members in public projects. According to the U.N., more than 17,000 people have participated in Block by Block initiatives in around 100 different countries — including three<strong> </strong>projects in Gaza — improving hundreds of thousands of lives in the process.&nbsp;</p>


		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/2017-08-23_12.58.05-40x29.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/2017-08-23_12.58.05-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/2017-08-23_12.58.05-400x286.jpg 400w, https://restofworld.org/wp-content/uploads/2020/09/2017-08-23_12.58.05-600x429.jpg 600w, " sizes="(max-width: 640px) 100vw, 600px(max-width: 992px) calc(100vw - 40px), (max-width: 1140px) calc(100vw - 290px), calc(100vw - ((100vw - 640px)/2))" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure>


<p>Using Minecraft’s building blocks, community groups design a virtual public space, later made into concrete reality. From parks to beaches and even streets themselves, these spaces are a key indicator of the health and sustainability of cities.<strong> </strong>“If made safe, accessible, and welcoming, they can be drivers of civic cohesion, biodiversity, livelihood, and economic growth,” Christelle Lahoud, 30, a program management officer for U.N.-Habitat, told <em>Rest of World</em>. “If not, we tend to see more crime and pollution, reduced productivity, and general social disparities.”&nbsp;</p>



<p>Participants in the Gaza experiment were selected by the Aisha Association for Women and Child Protection, an independent organization and project partner working to achieve gender integration in Gaza. Promising candidates were motivated, interested, and hungry for change.&nbsp;</p>



<p>Hamdan was one of 42 others — young women, mostly — given the chance to imagine a virtually designed town center through the game.<strong> </strong>The project aimed to design and build a community garden for Az-Zawayda — a modest goal.</p>



<p>Fatma Zoqlam, 18, and her sister, Ghada, 17, also made the cut, much to the approval of their mother. “She was all, like, ‘You have to do it! It will improve your confidence! And communication!’” Fatma, wearing a floral hijab and bright-purple dress, told <em>Rest of World</em> over Skype. “Not that I needed persuading.”&nbsp;</p>



<p>But Ghada, a tad more shy, wasn’t quite as up for it. “It made me feel nervous, working in a team with strangers,” she said. The first day, the group visited the space, which was only sand, ruins, and unlit roads. “I stood there and thought, This isn’t going to work,” Fatma said.&nbsp;</p>



<p>The architects introduced the world of Minecraft. “Most of us had never played a video game before,” Hamdan said, “but it was surprisingly user-friendly.” They were split into groups of four. “We took turns figuring out the keys, playing around,” Ghada said. “Once I got going, I didn’t want to stop.”&nbsp;</p>



<p>On the second day, things got heated. Keen to impress teammates, the decision-making adults in the room, and their family and friends, things got competitive. “I wanted to have the optimal design. … Because then my work could be reflected in the actual space!” Fatma said. She leaned forward, “I wanted to be able to say to everyone I knew, I made that!”</p>


    <figure>
      <div>
				<ul>
					<li>		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/1-41-40x29.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/1-41-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/1-41-400x286.jpg 400w, https://restofworld.org/wp-content/uploads/2020/09/1-41-600x429.jpg 600w, https://restofworld.org/wp-content/uploads/2020/09/1-41-1000x714.jpg 1000w, https://restofworld.org/wp-content/uploads/2020/09/1-41-1600x1143.jpg 1600w, https://restofworld.org/wp-content/uploads/2020/09/1-41-2800x2000.jpg 2800w, " sizes="(max-width: 640px) calc(100vw + 40px), 50vw" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure></li><li>		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/2-21-40x29.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/2-21-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/09/2-21-400x286.jpg 400w, https://restofworld.org/wp-content/uploads/2020/09/2-21-600x429.jpg 600w, https://restofworld.org/wp-content/uploads/2020/09/2-21-1000x714.jpg 1000w, https://restofworld.org/wp-content/uploads/2020/09/2-21-1600x1143.jpg 1600w, https://restofworld.org/wp-content/uploads/2020/09/2-21-2800x2000.jpg 2800w, " sizes="(max-width: 640px) calc(100vw + 40px), 50vw" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure></li>
				</ul>
			</div>
      <figcaption>Az-Zawayda Community Garden officially opened on December 31, 2018. Photos courtesy of Project Team.</figcaption>
    </figure>


<p>“I wanted technical approval,” Ghada said. “My group was, er, leader-heavy, though. A boy took charge. He was like, ‘We need to do this, this, and this.’”</p>



<p>What the group concluded was that protective measures were a priority. “We discussed safety a lot,” Hamdan said. “Me and my friends feel scared to leave the house alone. The threat of sexual assault is too much.” (Around 51% of women in Gaza are victims of gender-based violence.) They needed lighting, fencing, security (including a guard), and a separate area for women and families. “The fence was my input,” Ghada said.&nbsp;</p>



<p>For Fatma, aesthetics mattered — plants, trees, a proud fountain. Her team also made a cafeteria and installed<strong> </strong>municipal Wi-Fi to keep residents connected, along with solar panels.&nbsp;</p>



<p>Three female Palestinian architects brought the park to fruition. One of them, Tasneem Omar, 29, described the process as “genuinely eye-opening.” Despite Minecraft’s limitations — the game allows players to use only blocks, no curved shapes — the women’s 3D efforts made her job far simpler.&nbsp;</p>



<p>As the workshop came to a close, Omar drew up a schematic<strong> </strong>for a park based on the team’s work and handed it over to a group of selected contractors. Save for the Wi-Fi — which was costly and might detract from the community experience of the park — they used almost everything in the team’s design.</p>



<p>On December 31, 2018, Az-Zawayda Community Garden opened. Representatives from civil society organizations in the Gaza Strip, local and international NGOs, local universities, and workshop participants attended the launch. “It was a great feeling,” said Hamdan. “I gave a speech, something I wouldn’t have had the confidence to do before.”&nbsp;</p>



<p>Since then, additional projects have begun in Kosovo, Nepal, Lebanon, and Guinea; initiatives in Mozambique, South Africa, Ethiopia, Vietnam, Bangladesh, and Kyrgyzstan are currently underway. The Block by Block Foundation is also supporting coronavirus relief projects in ten affected countries.&nbsp;</p>



<p>For participants, the work is transformative. “We saw our work on the ground,” Fatma said, her eyes wide. “Nothing like this had been done before,” she added. “The municipality had never put us — the public — in charge.”</p>
		</div></div>]]>
            </description>
            <link>https://restofworld.org/2020/rebuilding-gaza-with-minecraft/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24542830</guid>
            <pubDate>Mon, 21 Sep 2020 13:04:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to catch a spy that is using a numbers station – The KGB Experience]]>
            </title>
            <description>
<![CDATA[
Score 141 | Comments 68 (<a href="https://news.ycombinator.com/item?id=24541163">thread link</a>) | @Shaddox
<br/>
September 21, 2020 | https://www.numbers-stations.com/how-to-catch-a-spy-who-uses-numbers-stations-the-kgb-experience/ | <a href="https://web.archive.org/web/*/https://www.numbers-stations.com/how-to-catch-a-spy-who-uses-numbers-stations-the-kgb-experience/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<div id="attachment_166048"><p><a href="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135547-scaled.jpg?ssl=1"><img aria-describedby="caption-attachment-166048" src="https://i2.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135547.jpg?resize=183%2C300&amp;ssl=1" alt="" width="183" height="300" srcset="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135547-scaled.jpg?resize=183%2C300&amp;ssl=1 183w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135547-scaled.jpg?resize=624%2C1024&amp;ssl=1 624w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135547-scaled.jpg?resize=768%2C1261&amp;ssl=1 768w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135547-scaled.jpg?resize=935%2C1536&amp;ssl=1 935w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135547-scaled.jpg?resize=1247%2C2048&amp;ssl=1 1247w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135547-scaled.jpg?w=1559&amp;ssl=1 1559w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135547-scaled.jpg?w=1500&amp;ssl=1 1500w" sizes="(max-width: 183px) 100vw, 183px" data-recalc-dims="1"></a></p><p id="caption-attachment-166048">Cover of the KGB manual. Mobile screen grab from Latvian national archive</p></div>


<p>From 2019 onwards the Latvian National Archive offers access to various KGB documents. The author had already previously shown the very detailed efforts of the Latvian KGB counterintelligence to monitor and study the CIA and BND numbers stations broadcasts, or what they called – “one directional communications”.<a href="#_ftn1" name="_ftnref1"><sup>[1]</sup></a> These are one of the most definitive archival sources which prove that foreign intelligence actively used shortwave in the USSR and that the KGB was aware of it. The documents showed that the KGB had monitored these broadcasts from at least 1978, but the files spoke very vaguely if the monitoring effort led to any apprehension and capture of a foreign agent. We, however, know that there were such cases like Alexander Ogorodnik<a href="#_ftn2" name="_ftnref2"><sup>[2]</sup></a>, and others where the use of shortwave signals was determined.</p>
<p>The Latvian National Archive digitized operational cases and also special KGB training manuals. These manuals were published for inner agency use and were never issued in public because they contained secret information. One such manual called “<em>Некоторые вопросы организаций работы по сигналам и делам оперативного учета лиц причастий в шпионажу”</em> published in 1985 by KGB of F. E Dzherzhinsky in Moscow.<a href="#_ftn3" name="_ftnref3"><sup>[3]</sup></a> (A few issues on organizing work on signals and cases recognizing persons taking part in espionage”). The manual was credited to major general A. A Fabrichinikov and colonel V.V Holopov The word “signal” in the title does not mean just a radio signal. In the KGB terminology “signal” meant a sign or report of a foreign intelligence or anti Soviet activity. If this “signal” indicated that the person is taking part in espionage he had to be investigated and evidence to be collected. The manual showed various historical cases as examples on how to apprehend and capture a foreign agent.</p>



<p>One such case was called” Case on Filatov”. Starting from page 41 the manual examples this case as one of the cases where radio communication was used between the agency and agent and how it was uncovered by counter intelligence. <strong>Anatoly N. Filatov</strong> was according to a 1981 Washington Post report sentenced in 1978 to be shot by a firing squad, though the sentence was commuted later to 15 years in prison.<a href="#_ftn4" name="_ftnref4"><sup>[4]</sup></a> A New York Times article in 1980 had rumored that A. Filatov was the same “Trigon” who is now commonly known as Alexandr Ogorodnik. The article states that A. Filatov was suspected of being discovered by the KGB counterintelligence and forced to send the CIA false information. The reasoning behind this hypothesis was that in 1977 “Trigon” went dark at the same time as A. Filatov sent a very questionable cable about Secretary of State Henry Kissinger, where he questioned the “bargaining position of president Carter” during the 1977 missile control talks.<a href="#_ftn5" name="_ftnref5"><sup>[5]</sup></a> Alexander Ogorodnik aka “Trigon” died on June 22 1977 after swallowing cyanide pills during a KGB break in.<a href="#_ftn6" name="_ftnref6"><sup>[6]</sup></a></p>
<p>David E. Hoffman, author of the book “The Million Dollar Spy” states that Filatov was arrested during a “car toss”, where a package is quickly swapped between two passing cars.<a href="#_ftn7" name="_ftnref7"><sup>[7]</sup></a> Russian author Aleksandr Kolpakidi in his book “The GRU Empire” writes that Filatov was born in 1940 in the Saratov district, joined the GRU in 1973. (GRU – the Main Intelligence Directorate – Soviet military intelligence agency) and served in Algiers where in 1974 he established contact with the CIA. Filatov had stated that his involvement with the adversary CIA happened as a result of being lured into a honey trap with a woman called Nadia, as similar happened to&nbsp; A. Ogorodnik. Either so or A. Filatov himself decided to become a double agent and started meeting CIA agent Edward Kane. In 1976 A. Filatov was called back to Moscow and the CIA had instructed him to receive shortwave coded broadcasts in German numbers from Frankfurt near Main, the broadcasts were to be carried out twice a week. Operative broadcast would be started with uneven numbers and training with even numbers. The broadcasts on precaution were carried out before A. Filatov returned to Moscow. The return message was to be carried out in a dead drop in an area near Dinamo sports stadium.</p>
<p>As the author states the coded messages contained such instructions: “Do not contain yourself with gathering information within your service only. Gain trust of friends and relatives. Visit them at their workplaces, their homes, invite them to restaurants, and with careful, clever talking gain information you could not get yourself”<a href="#_ftn8" name="_ftnref8"><sup>[8]</sup></a>. The instructions also stated that the agency is not just interested in documents with “Top Secret” on it but also common information about his department and situation in it. Filatov was arrested on the 2nd of September 1977. As A. Kolpakidi states he was first sentenced to death in 1978 but instead was sent to labor camp 389/35 near Perm. In 1989 Filatov was visited by French journalists to whom he stated that he took very high stakes risks in his life which he lost and now naturally pays for it.</p>
<p>After release he demanded compensation from the US embassy, but was denied as a non citizen. The Russian TV company TV Center in 2014 made the documentary series “Завербуй меня, если сможешь” (Contract me if you can) and featured the A. Filatov case showing various pictures of him and accounts from his colleagues, such as Anatoly Tereshchenko, colonel of the military counter intel. Tereshchenko stated that if A. Filatov had come to the GRU and reported that he was lured into cooperation with the CIA, they could outplay the CIA, and Filatov would be a hero.<a href="#_ftn9" name="_ftnref9"><sup>[9]</sup></a> What became of Filatov after his release, is not known, the TV documentary showed his picture after his release. Possibly A. Filatov is dead now.</p>
<div id="attachment_166050"><p><a href="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov.png?ssl=1"><img aria-describedby="caption-attachment-166050" src="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov.png?resize=300%2C177&amp;ssl=1" alt="" width="300" height="177" srcset="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov.png?resize=300%2C177&amp;ssl=1 300w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov.png?resize=768%2C453&amp;ssl=1 768w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov.png?w=873&amp;ssl=1 873w" sizes="(max-width: 300px) 100vw, 300px" data-recalc-dims="1"></a></p><p id="caption-attachment-166050">Anatoly Filatov</p></div>
<div id="attachment_166051"><p><a href="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov_2.png?ssl=1"><img aria-describedby="caption-attachment-166051" src="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov_2.png?resize=300%2C173&amp;ssl=1" alt="" width="300" height="173" srcset="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov_2.png?resize=300%2C173&amp;ssl=1 300w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov_2.png?resize=768%2C442&amp;ssl=1 768w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov_2.png?w=871&amp;ssl=1 871w" sizes="(max-width: 300px) 100vw, 300px" data-recalc-dims="1"></a></p><p id="caption-attachment-166051">Anatoly Filatov years after the arrest</p></div>
<p>What will follow is a translation from Russian to English from the mentioned KGB manual, where the case about Filatov is described as an example of apprehending and capturing foreign spies who use radio signals and codes. With photo scans of included photo evidence.</p>

<p><em>Start of the original translation</em></p>
<div id="attachment_166052"><p><a href="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135640-scaled.jpg?ssl=1"><img aria-describedby="caption-attachment-166052" src="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135640.jpg?resize=225%2C300&amp;ssl=1" alt="" width="225" height="300" srcset="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135640-scaled.jpg?resize=225%2C300&amp;ssl=1 225w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135640-scaled.jpg?resize=768%2C1024&amp;ssl=1 768w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135640-scaled.jpg?resize=1152%2C1536&amp;ssl=1 1152w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135640-scaled.jpg?resize=1536%2C2048&amp;ssl=1 1536w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135640-scaled.jpg?w=1920&amp;ssl=1 1920w" sizes="(max-width: 225px) 100vw, 225px" data-recalc-dims="1"></a></p><p id="caption-attachment-166052">First page in the manual about A.FIlatov case</p></div>
<p>The case regarding American agent Filatov is particularly useful for agency and operative workers. Two agents who worked on this case had limited, but clear objectives: one controlled his work shifts, the other one lured him to a position within a GRU object (facility), where he was arrested. Secondary events were mostly carried out by the workers of the operational staff.</p>
<p>In the case materials the use of operational technical and criminal resources is very clearly displayed. The workers of the operational services had a clear objective: gain information about practical espionage activity.</p>
<p>A lot of support for apprehending the spy was provided by the GRU radio counterintelligence. During the first phase of the operation the counter radio intelligence played a helpful, but mostly backseat role, in terms of gaining radio information. However, after Filatov was discovered in possession of multiple ciphers the RCI<a href="#_ftn11" name="_ftnref11"><sup>[11]</sup></a> played the most active role in gaining information about the adversary’s plans for their agent. It must be asserted that the RCI data about the new communication line only gained importance after comprehensive analysis about known agents and data gained from agency postal communication lines.</p>
<p>It is useful to take note of the surveillance tactics used to monitor&nbsp; FIlatov, during all phases of the operation. Here the artistic use of surveillance, determination of the personality of the object, working out on his work conditions and living place (such an approach is essential for any future attempts for apprehending an adversary agent).</p>
<p>Finally it’s important to point out the very high level of secrecy is required to successfully&nbsp; carry out the operation, with minimal numbers&nbsp; of agents and operative staff workers as reglamented by the authority of KGB, and adjusted fully to the set parameters.</p>
<p>All this taken to an account assured that the case was carried out in highest quality the tasks were carried out decisively.</p>
<p>“””</p>
<p>The investigation into the incoming signals, and the timeline for the search for the CIA agent Filatov took place in the following order.</p>
<p>At the start of 1977 the second chief directorate of the KGB had received data that led to the belief that a new agent from American intelligence had become active within Soviet Union.</p>
<p>On January 21 and February 6 1977 the RCI had detected the transmission of operational (combat)<a href="#_ftn12" name="_ftnref12"><sup>[12]</sup></a> radiograms on the communication line sent from Frankfurt CIA radio center, that had appeared already in the first half of 1976.<a href="#_ftn13" name="_ftnref13"><sup>[13]</sup></a> With that the general reception of the radiograms was possible within the central part of European side of the USSR. <a href="#_ftn14" name="_ftnref14"><sup>[14]</sup></a></p>
<p>In this same timeframe espionage activity within CIA station inside the US embassy in Moscow, was observed to have increased, showing signs of preparing for creating operational dead drop communications, it was determined that these activities could not be part of the ongoing cases and operational games.</p>
<p>It was expected that the agent, after receiving operational radiograms, will likely make contact with the Frankfurt radio center using postal telegraph, telephone, dead drop, radio transmission or make a meeting with his handler, usually from US diplomatic service.</p>
<p>Taking this into account together with Operative-technical and Seventh authority of the KGB, extra measures were made to control the agency channels within Moscow and eavesdrop on CIA actions.</p>
<p>On February 9 1977 a postal parcel coming from Moscow to the US, a suspicious letter was identified which had signs which made its purpose likely being for espionage uses. This letter had a date indicating it was sent on February 7 and was written in the in English language “from English tourist”<a href="#_ftn15" name="_ftnref15"><sup>[15]</sup></a>. By using a physical-chemical method on the blank side of the letter, a cipher of 353 five number …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.numbers-stations.com/how-to-catch-a-spy-who-uses-numbers-stations-the-kgb-experience/">https://www.numbers-stations.com/how-to-catch-a-spy-who-uses-numbers-stations-the-kgb-experience/</a></em></p>]]>
            </description>
            <link>https://www.numbers-stations.com/how-to-catch-a-spy-who-uses-numbers-stations-the-kgb-experience/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24541163</guid>
            <pubDate>Mon, 21 Sep 2020 08:50:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Facebook fears ruling may force it to pull social media platforms from EU]]>
            </title>
            <description>
<![CDATA[
Score 39 | Comments 106 (<a href="https://news.ycombinator.com/item?id=24540991">thread link</a>) | @rusk
<br/>
September 21, 2020 | https://www.businesspost.ie/legal/facebook-fears-ruling-may-force-it-to-pull-social-media-platforms-from-eu-00644da4 | <a href="https://web.archive.org/web/*/https://www.businesspost.ie/legal/facebook-fears-ruling-may-force-it-to-pull-social-media-platforms-from-eu-00644da4">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="app">

        





<div>
    <div>
        <p>
            Thursday September 24, 2020
        </p>
        
    </div>
</div>





        

        
    <div>
        
        
        <div>

            
            
                            <div>
                    
            
                            <p>Court filings show tech giant doesn’t believe it can convince Data Protection Commission to overturn preliminary ruling that bans transfer of data from EU to US</p>
                    
        
        

        
        
    </div>
            
                            
                <div id="img-article">
                    <figure>
                        
                        <figcaption>Under fire: Data Protection Commissioner Helen Dixon</figcaption>
                    </figure>
                </div>
                    </div>

        
        <div>
            <div>
                
                                    <div>
                                                    <div>
                                
                                <p>Facebook fears that a ruling by the Data Protection Commission (DPC) could force it to pull its social media platforms from Europe, High Court filings show.</p> <p>The social media giant said it does not believe it can convince the watchdog to overturn a preliminary ruling banning the transfer of personal data from EU citizens to servers in the US which relates to concerns about American intelligence agencies.</p> <p>In the filings which detail the gravity of...</p>
                            </div>
                        
                        
                                                    <div>
                                <div>
    <div>
        <h2>Subscribe from just €1 for the first month!</h2>
        <p>Exclusive offers:</p>
        <p>All Digital Access + eReader</p>
    </div>

            
        <div>
            <div>

                
                <div>
                    <h2>Trial</h2>
                                        <p>
                        €1
                                            </p>
                    <p>Unlimited Access for 1 Month</p>
                                            <p>Then €19.99 a month after the offer period.</p>
                                    </div>
                

                
            </div>
        </div>
            
        <div>
            <div>

                
                <div>
                    <h2>Annual</h2>
                                            <p>€200</p>
                                        <p>
                        €149
                                                    <span>For the 1st Year</span>
                                            </p>
                    <p>Unlimited Access for 1 Year</p>
                                    </div>
                

                
            </div>
        </div>
            
        <div>
            <div>

                
                <div>
                    <h2>Quarterly</h2>
                                            <p>€55</p>
                                        <p>
                        €42
                                            </p>
                    <p>90 Day Pass</p>
                                    </div>
                

                
            </div>
        </div>
            
        <div>
            <div>

                                    
                    <svg version="1.1" fill="#FFF" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 49.94 49.94" xml:space="preserve">
                        <path d="M48.856,22.73c0.983-0.958,1.33-2.364,0.906-3.671c-0.425-1.307-1.532-2.24-2.892-2.438l-12.092-1.757
                            c-0.515-0.075-0.96-0.398-1.19-0.865L28.182,3.043c-0.607-1.231-1.839-1.996-3.212-1.996c-1.372,0-2.604,0.765-3.211,1.996
                            L16.352,14c-0.23,0.467-0.676,0.79-1.191,0.865L3.069,16.622c-1.359,0.197-2.467,1.131-2.892,2.438
                            c-0.424,1.307-0.077,2.713,0.906,3.671l8.749,8.528c0.373,0.364,0.544,0.888,0.456,1.4L8.224,44.701
                            c-0.183,1.06,0.095,2.091,0.781,2.904c1.066,1.267,2.927,1.653,4.415,0.871l10.814-5.686c0.452-0.237,1.021-0.235,1.472,0
                            l10.815,5.686c0.526,0.277,1.087,0.417,1.666,0.417c1.057,0,2.059-0.47,2.748-1.288c0.687-0.813,0.964-1.846,0.781-2.904
                            l-2.065-12.042c-0.088-0.513,0.083-1.036,0.456-1.4L48.856,22.73z"></path>
                    </svg>
                
                <div>
                    <h2>2 Yearly</h2>
                                            <p>€315</p>
                                        <p>
                        €248
                                            </p>
                    <p>Unlimited Access for 2 Years</p>
                                    </div>
                

                <div>
                    <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="442.533px" height="442.533px" viewBox="0 0 442.533 442.533" style="enable-background:new 0 0 442.533 442.533;" xml:space="preserve">
                        <path d="M434.539,98.499l-38.828-38.828c-5.324-5.328-11.799-7.993-19.41-7.993c-7.618,0-14.093,2.665-19.417,7.993L169.59,247.248
                            l-83.939-84.225c-5.33-5.33-11.801-7.992-19.412-7.992c-7.616,0-14.087,2.662-19.417,7.992L7.994,201.852
                            C2.664,207.181,0,213.654,0,221.269c0,7.609,2.664,14.088,7.994,19.416l103.351,103.349l38.831,38.828
                            c5.327,5.332,11.8,7.994,19.414,7.994c7.611,0,14.084-2.669,19.414-7.994l38.83-38.828L434.539,137.33
                            c5.325-5.33,7.994-11.802,7.994-19.417C442.537,110.302,439.864,103.829,434.539,98.499z"></path>
                    </svg><p>
                    This product does not auto-renew
                </p></div>
            </div>
        </div>
    
    
    <div>
        <div>
            <h2>Team Pass</h2>
            <p>Get a Business Account for you and your team</p>
        </div>
        
    </div>
    
    
</div>

                            </div>
                                            </div>
                            </div>
        </div>

        

        
                    
            </div>

        

    </div></div>]]>
            </description>
            <link>https://www.businesspost.ie/legal/facebook-fears-ruling-may-force-it-to-pull-social-media-platforms-from-eu-00644da4</link>
            <guid isPermaLink="false">hacker-news-small-sites-24540991</guid>
            <pubDate>Mon, 21 Sep 2020 08:18:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[We need young programmers; We need old programmers]]>
            </title>
            <description>
<![CDATA[
Score 269 | Comments 244 (<a href="https://news.ycombinator.com/item?id=24540919">thread link</a>) | @mrcsharp
<br/>
September 21, 2020 | https://blog.ploeh.dk/2020/09/14/we-need-young-programmers-we-need-old-programmers/ | <a href="https://web.archive.org/web/*/https://blog.ploeh.dk/2020/09/14/we-need-young-programmers-we-need-old-programmers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post">
	<p>
		<em>The software industry loves young people, but old-timers serve an important purpose, too.</em>
	</p>
	<p>
		Our culture idolises youth. There's several reasons for this, I believe. Youth seems synonymous with vigour, strength, beauty, and many other desirable qualities. The cynical perspective is that young people, while rebellious, also tend to be easy to manipulate, if you know which buttons to push. A middle-aged man like me isn't susceptible to the argument that I should buy a particular pair of Nike shoes because they're named after Michael Jordan, but for a while, one pair wasn't enough for my teenage daughter.
	</p>
	<p>
		In intellectual pursuits (like software development), youth is often extolled as the source of innovation. You're often confronted with examples like that of <a href="https://en.wikipedia.org/wiki/%C3%89variste_Galois">Évariste Galois</a>, who made all his discoveries before turning 21. <a href="https://en.wikipedia.org/wiki/Ada_Lovelace">Ada Lovelace</a> was around 28 years when she produced what is considered the 'first computer program'. <a href="https://en.wikipedia.org/wiki/Alan_Turing">Alan Turing</a> was 24 when he wrote <a href="https://en.wikipedia.org/wiki/Turing%27s_proof">On Computable Numbers, with an Application to the Entscheidungsproblem</a>.
	</p>
	<p>
		Clearly, young age is no detriment to making ground-breaking contributions. It has even become folklore that everyone past the age of 35 is a has-been whose only chance at academic influence is to write a textbook.
	</p>
	<h3 id="800321a74c054ea0b75815c86f4ce18d">
		The story of the five monkeys <a href="#800321a74c054ea0b75815c86f4ce18d" title="permalink">#</a>
	</h3>
	<p>
		You may have seen a story called <em>the five monkeys experiment</em>. It's most likely a fabrication, but it goes like this:
	</p>
	<p>
		A group of scientists placed five monkeys in a cage, and in the middle, a ladder with bananas on the top. Every time a monkey went up the ladder, the scientists soaked the rest of the monkeys with cold water. After a while, every time a monkey went up the ladder, the others would beat it up.
	</p>
	<p>
		After some time, none of the monkeys dared go up the ladder regardless of the temptation. The scientists then substituted one of the monkeys with a new one, who'd immediately  go for the bananas, only to be beaten up by the others. After several beatings, the new member learned not to climb the ladder even though it never knew why.
	</p>
	<p>
		A second monkey was substituted and the same occurred. The first monkey participated in beating the second. A third monkey was exchanged and the story repeated. The fourth was substituted and the beating was repeated. Finally the fifth monkey was replaced.
	</p>
	<p>
		Left was a group of five monkeys who, even though they never received a cold shower, continued to beat up any monkey who attempted to climb the ladder. If it was possible to ask the monkeys why they would beat up all who attempted to go up the ladder, the answer would probably be:
	</p>
	<p>
		"That's how we do things here."
	</p>
	<p>
		While the story is probably just that: a story, it tells us something about the drag induced by age and experience. If you've been in the business for decades, you've seen numerous failed attempts at something you yourself tried when you were young. You know that it can't be done.
	</p>
	<p>
		Young people don't know that a thing can't be done. If they can avoid the monkey-beating, they'll attempt the impossible.
	</p>
	<h3 id="4add8a9af0424d7e889d3125837ed611">
		Changing circumstances <a href="#4add8a9af0424d7e889d3125837ed611" title="permalink">#</a>
	</h3>
	<p>
		Is attempting the impossible a good idea?
	</p>
	<p>
		In general, no, because it's... impossible. There's a reason older people tell young people that a thing can't be done. It's not just because they're stodgy conservatives who abhor change. It's because they see the effort as wasteful. Perhaps they're even trying to be kind, guiding young people off a path where only toil and disappointment is to be found.
	</p>
	<p>
		What old people don't realise is that sometimes, circumstances change.
	</p>
	<p>
		What was impossible twenty years ago may not be impossible today. We see this happening in many fields. Producing a commercially viable electric car was impossible for decades, until, with the advances made in battery technology, it became possible.
	</p>
	<p>
		Technology changes rapidly in software development. People trying something previously impossible may find that it's possible today. Once, if you had lots of data, you had to store it in fully normalised form, because storage was expensive. For a decade, relational databases were the only game in town. Then circumstances changed. Storage became cheaper, and a new movement of NoSQL storage emerged. What was before impossible became possible.
	</p>
	<p>
		Older people often don't see the new opportunities, because they 'know' that some things are impossible. Young people push the envelope driven by a combination of zest and ignorance. Most fail, but a few succeed.
	</p>
	<h3 id="4272a069588e47f796646bd282b9de02">
		Lottery of the impossible <a href="#4272a069588e47f796646bd282b9de02" title="permalink">#</a>
	</h3>
	<p>
		I think of this process as a lottery. Imagine that every impossible thing is a red ball in an urn. Every young person who tries the impossible draws a random ball from the urn.
	</p>
	<p>
		The urn contains millions of red balls, but every now and then, one of them turns green. You don't know which one, but if you draw it, it represents something that was previously impossible which has now become possible.
	</p>
	<p>
		This process produces growth, because once discovered, the new and better way of doing things can improve society in general. Occasionally, the young discoverer may even gain some fame and fortune.
	</p>
	<p>
		It seems wasteful, though. Most people who attempt the impossible will reach the predictable conclusion. What was deemed impossible was, indeed, impossible.
	</p>
	<p>
		When I'm in a cynical mood, I don't think that it's youth in itself that is the source of progress. It's just the <a href="https://en.wikipedia.org/wiki/Law_of_large_numbers">law of large numbers</a> applied. If there's a one in million chance that something will succeed, but ten million people attempt it, it's only a matter of time before one succeeds.
	</p>
	<p>
		Society at large can benefit from the success of the few, but ten million people still wasted their efforts.
	</p>
	<h3 id="016744f0ea77495c958a7914f08187db">
		We need the old, too <a href="#016744f0ea77495c958a7914f08187db" title="permalink">#</a>
	</h3>
	<p>
		If you accept the argument that young people are more likely to try the impossible, we need the young people. Do we need the old people?
	</p>
	<p>
		I'm turning fifty in 2020. You may consider that old, but I expect to work for many more years. I don't know if the software industry needs fifty-year-olds, but that's not the kind of old I have in mind. I'm thinking of people who have retired, or are close to retirement.
	</p>
	<p>
		In our youth-glorifying culture, we tend to dismiss the opinion and experiences of old people. <em>Oh, well, it's just a codgy old man</em> (or woman), we'll say.
	</p>
	<p>
		We ignore the experience of the old, because we believe that they haven't been keeping up with times. Their experiences don't apply to us, because we live under new circumstance. Well, see above.
	</p>
	<p>
		I'm not advocating that we turn into a gerontocracy that venerates our elders solely because of their age. Again, according to the law of large numbers, some people live to old age. There need not be any correlation between survivors and wisdom.
	</p>
	<p>
		We need the old to tell us the truth, because they have little to lose.
	</p>
	<h3 id="8b5c613ba6c44bb4b4e6dbba7ae7d19a">
		Nothing to lose <a href="#8b5c613ba6c44bb4b4e6dbba7ae7d19a" title="permalink">#</a>
	</h3>
	<p>
		In the last couple of years, I've noticed a trend. A book comes out, exposing the sad state of affairs in some organisation. This has happened regularly in Denmark, where I live. One book may expose the deplorable conditions of the Danish tax authorities, one may describe the situation in the ministry of defence, one criticises the groupthink associated with the climate crisis, and so on.
	</p>
	<p>
		Invariably, it turns out that the book is written by a professor emeritus or a retired department head.
	</p>
	<p>
		I don't think that these people, all of a sudden, had an epiphany after they retired. They knew all about the rot in the system they were part of, while they were part of it, but they've had too much to lose. You could argue that they should have said something before they retired, but that requires a moral backbone we can't expect most people to have.
	</p>
	<p>
		When people retire, the threat of getting fired disappears. Old people can speak freely to a degree most other people can't.
	</p>
	<p>
		Granted, many may simply use that freedom to spew bile or shout <em>Get off my lawn!</em>, but many are in the unique position to reveal truths no-one else dare speak. Many are, perhaps, just bitter, but some may possess knowledge that they are in a unique position to reveal.
	</p>
	<p>
		When that grumpy old guy on Twitter writes something that makes you uncomfortable, consider this: he may still be right.
	</p>
	<h3 id="2d64bd2c7ccb4b7ca2418802ed82689e">
		Being unreasonable <a href="#2d64bd2c7ccb4b7ca2418802ed82689e" title="permalink">#</a>
	</h3>
	<p>
		In a way, you could say that we need young and old people for the same fundamental reason. Not all of them, but enough of them, are in a position to be unreasonable.
		</p><blockquote>
			<p>
				"The reasonable man adapts himself to the world: the unreasonable one persists in trying to adapt the world to himself. Therefore all progress depends on the unreasonable man."
			</p>
			
		</blockquote><p>
		Young people and old people are unreasonable in each their own way, and we need both.
	</p>
	<h3 id="df88f595ec814e2bafcbd018ff5f5ad2">
		Conclusion <a href="#df88f595ec814e2bafcbd018ff5f5ad2" title="permalink">#</a>
	</h3>
	<p>
		We need young people in the software development industry. Because of their vigour and inexperience, they'll push the envelope. Most will fail to do the impossible, but a few succeed.
	</p>
	<p>
		This may seem like a cynical view, but we've all been young, and most of us have been through such a phase. It's like a rite of passage, and even if you fail to make your mark on the world, you're still likely to have learned a lot.
	</p>
	<p>
		We need old people because they're in a position to speak truth to the world. Notice that I didn't make my argument about the <em>experience</em> of old-timers. Actually, I find that valuable as well, but that's the ordinary argument: <em>Listen to old people, because they have experience and wisdom.</em>
	</p>
	<p>
		Some of them do, at least.
	</p>
	<p>
		I didn't make much out of that argument, because you already know it. There'd be no reason to write this essay if that was all I had to say. Old people have less on the line, so they can speak more freely. If someone you used to admire retires and all of a sudden starts saying or writing unpleasant and surprising things, there might be a good explanation, and it might be a good idea to pay attention.
	</p>
	<p>
		Or …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.ploeh.dk/2020/09/14/we-need-young-programmers-we-need-old-programmers/">https://blog.ploeh.dk/2020/09/14/we-need-young-programmers-we-need-old-programmers/</a></em></p>]]>
            </description>
            <link>https://blog.ploeh.dk/2020/09/14/we-need-young-programmers-we-need-old-programmers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24540919</guid>
            <pubDate>Mon, 21 Sep 2020 08:05:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Microsoft Teams as a Platform]]>
            </title>
            <description>
<![CDATA[
Score 53 | Comments 104 (<a href="https://news.ycombinator.com/item?id=24540799">thread link</a>) | @homarp
<br/>
September 21, 2020 | https://jukkaniiranen.com/2020/09/microsoft-teams-as-a-platform/ | <a href="https://web.archive.org/web/*/https://jukkaniiranen.com/2020/09/microsoft-teams-as-a-platform/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article aria-label="Microsoft Teams as a platform" itemref="hero-page-title"><div>
<p>2020 became the year of #WFH (work from home) and for many organizations also the turning point when Microsoft Teams became the primary place where being “at work” happens. This is accelerating the evolution of Teams from being merely a communication tool that connects human beings into a foundational service layer for many types of business applications.</p>



<p>How the concept of Teams as a platform contrasts with Microsoft’s Power Platform suite of technology is something I’ve been thinking about a lot lately. In this post I’ll first reflect on the relatively short history of where Teams came from. I’ll then examine how the recent feature announcements are brining apps front &amp; center in Teams. Finally, a few words on the possible future for Teams as part of Microsoft’s broader strategy.</p>



<h2>The road that lead to Teams</h2>



<p>Looking back ~10 years, the real-time communication &amp; instant messaging tools from MS seemed to be going through an endless renaming cycle: from OCS to Lync to Skype for Business. The core feature set presented to the end user didn’t seem to evolve nearly as much as product branding did. On a broader level, the communication activities of information workers within an organization still typically took place within Outlook’s inbox, and different servers like SharePoint and Dynamics CRM all packed their own features for posting short messages to other users.</p>



<figure></figure>



<p>4 years ago, when the first images of what was then called “Skype Teams” started to leak out, we were already waiting for MS to create something a bit more ambitious than just another online meeting tool. Office Groups had began to emerge in various different places inside the MS Cloud, but they were primarily a technical construct with no sensible UX for everyday people to approach them. Even Dynamics CRM had it’s own solution that attempted to bring together the dicussion, calendars, notes, documents and team memberships from under an Office 365 Group associated with a record like account or opportunity:</p>



<div><figure><a href="https://docs.microsoft.com/en-us/dynamics365/customerengagement/on-premises/basics/collaborate-with-colleagues-using-office-365-groups" target="_blank" rel="noopener noreferrer"><img src="https://docs.microsoft.com/en-us/dynamics365/customerengagement/on-premises/basics/media/office-groups-dashboard.png" alt=""></a></figure></div>



<p>I remember having many discussions with our CRM customers where I attempted to steer people away from deploying this Groups solution. Instead I wanted to encourage them to wait for something a bit more polished that I knew had to be on it’s way sooner or later.</p>



<p>At one point there was a clear &amp; present danger of another “Yammer moment” taking place, as Microsoft was reportedly quite serious about their plans to acquire Slack. In retrospect it was a blessing for both parties that MS decided to keep investing in building their own product, instead of trying to retrofit an established service like Slack into their existing software offering.</p>



<p>I would argue that this “build over buy” strategy which Microsoft has since then followed across their business software stack has been a key success factor for BizApps in particular.  It has enabled MS to move from merely chasing CRM competitors like Salesforce into redefining the business apps playing field with Power Platform. There’s a stark difference between acquiring companies and bundling them as “X Cloud” versus engineering your own software stack to act as a true platform.</p>



<h2>Teams: the collaboration chapter</h2>



<p>Initially the first version of the Microsoft Teams product that became generally available in Spring 2017 was pretty much focused on being three things: </p>



<ol><li>Replacement for Skype for Business</li><li>Alternative to Slack</li><li>UI layer for Office 365 Groups</li></ol>



<p>From a business applications perspective there wasn’t all that much you could do to hook Teams up with Dynamics 365, until Fall 2018 when the previews for the first integrated features were launched. In particular the integrated file sharing experience that Teams offered seemed almost like the Holy Grail for many CRM professionals, offering to fix the glaring hole in the SharePoint integration story that lacked any security model synchronization. The roadmap image below presents the plans from 2 years ago on how Teams and Dynamics 365 were going to be integrated:</p>



<figure></figure>







<p>The last item on the roadmap has still not been delivered, which is the visibility of Teams conversations inside the Dynamics 365 record form. Why this hasn’t been a higher priority for MS to implement seems to me like a sign of how Microsoft Teams is nowadays positioned as the primary UI for all information work. MS probably would prefer if everything always started from inside Teams. You pin record tabs into channels, you show previews of records inside teams discussions, you interact with records via bot interfaces and so on. As long as Teams is that big umbrella under which all work takes place.</p>



<p>The lack of a deep 2-way integration does not therefore mean that investments aren’t being made into the products involved. It can simply be a reflection of the new vision that is being built, by aligning many existing services to form a whole that aims to be greater than the sum of its parts.</p>



<p>As an example, if you look at Microsoft’s task management story, you’ll see that features and data from across various apps like To Do, Planner and Outlook tasks / flagged emails are currently being collapsed into a central location that is the <a href="https://docs.microsoft.com/en-us/microsoftteams/manage-tasks-app" target="_blank" rel="noreferrer noopener">Tasks app for Teams</a>. Tasks as a generic construct don’t necessarily need to be fully controlled by a single database, yet they very much need to be logically represented within “the hub for teamwork” that Teams is positioned as.</p>



<p>Going forward, when new apps appear into the MS cloud product portfolio and they need to offer task management features to users, the logical integration point to focus on would be Teams. For activity feed type of functionality the choice is even more clear for product development: choose to piggyback on Teams instead of inventing yet another stream of short messages.</p>



<h2>Teams: the platform chapter</h2>



<p>Moving beyond simply integrating Teams with products X, Y and Z, we’re now seeing the rise of a model where apps are built specifically to be used in Teams. This has of course been possible for a long time already, by developing custom web services and using the SDKs. Now there are many features coming up that will amplify the platform story around Teams on the no-code/low-code front specifically.</p>



<figure><img src="https://techcommunity.microsoft.com/t5/image/serverpage/image-id/215495iAC8095B3BF8D5E46/image-size/large?v=1.0&amp;px=999" alt="lists in teams1.png"></figure>



<p>Microsoft Lists app has been the  first to <a href="https://techcommunity.microsoft.com/t5/microsoft-teams-blog/microsoft-lists-in-microsoft-teams-is-now-generally-available/ba-p/1621979" target="_blank" rel="noreferrer noopener">reach GA</a> and offers an ultra low barrier for users to process data in a single table through a configurable, readymade UI. When accessed via Teams, the list data gains one more special dimension: discussions to be had regarding a list item. This is pretty much the same as the usage pattern offered for a Dynamics 365 record with the integration mentioned earlier.</p>



<p>Underneath the new covers of MS Lists is the technology familiar from SharePoint lists. If we were to only examine the UI layer, there is actually a remarkable similarity to a popular no-code service called Airtable. So much that the <a rel="noreferrer noopener" href="https://mspoweruser.com/airtable-accuses-microsoft-of-copying-its-service/" target="_blank">accusations</a> of MS simply copying the visuals and core features from this competitor don’t seem entirely unjustified. </p>



<figure><img loading="lazy" src="https://jukkaniiranen.com/wp-content/uploads/2020/09/Airtable_for_teams.png" alt="" width="583" height="729" srcset="https://jukkaniiranen.com/wp-content/uploads/2020/09/Airtable_for_teams.png 777w, https://jukkaniiranen.com/wp-content/uploads/2020/09/Airtable_for_teams-240x300.png 240w, https://jukkaniiranen.com/wp-content/uploads/2020/09/Airtable_for_teams-768x961.png 768w" sizes="(max-width: 583px) 100vw, 583px"></figure>



<p>Comparing these two offerings gives us some perspective on what exactly is the market position these tools are aiming to conquer. Simple lists themselves are not a particularly unique feature, rather it’s the team collaboration capabilities and ease of data sharing that turns these tables into what you’d call an actual app. Incidentally, just this week Airtable <a href="https://blog.airtable.com/airtable-platform-launch-automations-sync-apps/" target="_blank" rel="noreferrer noopener">announced</a> they were building a full platform with apps offering JavaScript based extensibility, a marketplace for sharing apps, automations for executing business logic, and finally a sync service to transfer data across environments (“bases”).</p>



<p>Collaboration scenarios around semi-structured data like lists and Excel style tables can be seen as a  gateway drug. They allow turning email or paper based manual processes into a quick first draft of what the digital process could be like. If there are indeed clear business benefits in automating the said process, the requirements for more complex app features will soon begin to emerge from the user base. Hence the collaboration platform should offer an obvious path to grow these pre-built app experiences into more advanced no-code/low-code apps.</p>



<h2>Project Oakdale a.k.a bringing CDS to Teams</h2>



<p>If Microsoft Lists is the equivalent of an Excel table within the Teams context, then <a href="https://jukkaniiranen.com/2020/07/dataflex-is-more-and-less-than-cds/">Project Oakdale</a> / “CDS Lite” could be though of as bringing SQL Server inside Teams. Now, obviously Microsoft has zero intent on actually replacing Excel nor SQL with features built into Teams. They only need to introduce those parts that make sense from a team collabocation perspective.</p>



<p>Microsoft Lists is a far cry from what a real Excel workbook can do, yet it can offer much more value in a collaboration scenarios that those lone .xlsx files ever could. Similarly, the version of CDS that will very soon be available for building Power Apps within Teams is nowhere near as powerful as the services powering enterprise CRM systems like Dynamics 365 (or the raw power offered by SQL). Still, the fact that it can be found from within every team and used by a much larger audience than what Power Apps citizen developer tools could hope to capture – those are the factors that can truly make CDS a mainstream service that most information workers in the Microsoft 365 cloud interact it.</p>



<figure><img loading="lazy" width="1024" height="576" src="https://jukkaniiranen.com/wp-content/uploads/2020/09/Oakdale_Teams_table_design-1024x576.jpg" alt="" srcset="https://jukkaniiranen.com/wp-content/uploads/2020/09/Oakdale_Teams_table_design-1024x576.jpg 1024w, https://jukkaniiranen.com/wp-content/uploads/2020/09/Oakdale_Teams_table_design-300x169.jpg 300w, https://jukkaniiranen.com/wp-content/uploads/2020/09/Oakdale_Teams_table_design-768x432.jpg 768w, https://jukkaniiranen.com/wp-content/uploads/2020/09/Oakdale_Teams_table_design.jpg 1200w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>The experience of defining the CDS data model in Project Oakdale will be very different from the path that Power Apps makers have gone through – let alone the XRM veterans. In fact, you could easily mistake the table design and row entry UX to be that of Microsoft Lists rather than CDS. This highlights a key aspect that not all Power Platform experts may yet have grasped: for MS this “CDS Lite” is not so much about deciding what premium features of the full Power Platform to give away for free to Teams subscibers – rather it’s about how to best simplify the enterprise CRM features of CDS into a new product that Teams users could adopt on their own.</p>



<p>This doesn’t mean that …</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://jukkaniiranen.com/2020/09/microsoft-teams-as-a-platform/">https://jukkaniiranen.com/2020/09/microsoft-teams-as-a-platform/</a></em></p>]]>
            </description>
            <link>https://jukkaniiranen.com/2020/09/microsoft-teams-as-a-platform/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24540799</guid>
            <pubDate>Mon, 21 Sep 2020 07:36:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Monitor your internet speed with a Raspberry Pi]]>
            </title>
            <description>
<![CDATA[
Score 21 | Comments 8 (<a href="https://news.ycombinator.com/item?id=24540344">thread link</a>) | @perryizgr8
<br/>
September 20, 2020 | https://perryizgr8.github.io/raspberry-pi/2020/09/20/monitoring-speed-rpi.html | <a href="https://web.archive.org/web/*/https://perryizgr8.github.io/raspberry-pi/2020/09/20/monitoring-speed-rpi.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>While cleaning out some old cartons last weekend, I found my old Raspberry Pi Model B+. It is the first iteration of the Pi. It has a 700MHz ARM CPU and 512MB of RAM. It uses a micro-SD card for non-volatile storage. So as you can see, it is quite a capable little computer, and you can power it off a standard 5V USB charger, which means you can run it all the time without worrying about power consumption.</p>

<p>I decided to track my home internet speed to see if my ISP is ripping me off 😉. Here’s how I did it.</p>

<h2 id="measuring-speed-on-raspberry-pi">Measuring speed on Raspberry Pi</h2>
<p><a href="https://www.speedtest.net/">Speedtest.net</a> has an <a href="https://www.speedtest.net/apps/cli">official CLI client</a> that you can install directly using <code>apt</code>. It selects the best server automatically and reports the download and upload speed, along with the latency of your connection.</p>

<figure><pre><code data-lang="shell"><span>$ </span>speedtest-cli
Retrieving speedtest.net configuration...
Testing from ACT Fibernet <span>(</span>X.X.X.X<span>)</span>...
Retrieving speedtest.net server list...
Selecting best server based on ping...
Hosted by North East Dataa Network Pvt Ltd <span>(</span>Bangalore<span>)</span> <span>[</span>0.10 km]: 9.601 ms
Testing download speed................................................................................
Download: 83.85 Mbit/s
Testing upload speed................................................................................................
Upload: 60.37 Mbit/s</code></pre></figure>

<p>There is an option to get this info in json format, which is easier to parse.</p>

<figure><pre><code data-lang="json"><span>{</span><span>
  </span><span>"download"</span><span>:</span><span> </span><span>30421342.381950885</span><span>,</span><span>
  </span><span>"upload"</span><span>:</span><span> </span><span>19739920.106307168</span><span>,</span><span>
  </span><span>"ping"</span><span>:</span><span> </span><span>30.315</span><span>,</span><span>
  </span><span>"server"</span><span>:</span><span> </span><span>{</span><span>
    </span><span>"url"</span><span>:</span><span> </span><span>"http://speed.telexair.in:8080/speedtest/upload.php"</span><span>,</span><span>
    </span><span>"lat"</span><span>:</span><span> </span><span>"12.9716"</span><span>,</span><span>
    </span><span>"lon"</span><span>:</span><span> </span><span>"77.5946"</span><span>,</span><span>
    </span><span>"name"</span><span>:</span><span> </span><span>"Bangalore"</span><span>,</span><span>
    </span><span>"country"</span><span>:</span><span> </span><span>"India"</span><span>,</span><span>
    </span><span>"cc"</span><span>:</span><span> </span><span>"IN"</span><span>,</span><span>
    </span><span>"sponsor"</span><span>:</span><span> </span><span>"TelexAir Telecom Pvt Ltd"</span><span>,</span><span>
    </span><span>"id"</span><span>:</span><span> </span><span>"14493"</span><span>,</span><span>
    </span><span>"host"</span><span>:</span><span> </span><span>"speed.telexair.in:8080"</span><span>,</span><span>
    </span><span>"d"</span><span>:</span><span> </span><span>0.10306914928173351</span><span>,</span><span>
    </span><span>"latency"</span><span>:</span><span> </span><span>30.315</span><span>
  </span><span>},</span><span>
  </span><span>"timestamp"</span><span>:</span><span> </span><span>"2020-09-18T16:47:59.425361Z"</span><span>,</span><span>
  </span><span>"bytes_sent"</span><span>:</span><span> </span><span>24870912</span><span>,</span><span>
  </span><span>"bytes_received"</span><span>:</span><span> </span><span>38423553</span><span>,</span><span>
  </span><span>"share"</span><span>:</span><span> </span><span>null</span><span>,</span><span>
  </span><span>"client"</span><span>:</span><span> </span><span>{</span><span>
    </span><span>"ip"</span><span>:</span><span> </span><span>"X.X.X.X"</span><span>,</span><span>
    </span><span>"lat"</span><span>:</span><span> </span><span>"12.9719"</span><span>,</span><span>
    </span><span>"lon"</span><span>:</span><span> </span><span>"77.5937"</span><span>,</span><span>
    </span><span>"isp"</span><span>:</span><span> </span><span>"ACT Fibernet"</span><span>,</span><span>
    </span><span>"isprating"</span><span>:</span><span> </span><span>"3.7"</span><span>,</span><span>
    </span><span>"rating"</span><span>:</span><span> </span><span>"0"</span><span>,</span><span>
    </span><span>""</span><span>:</span><span> </span><span>"0"</span><span>,</span><span>
    </span><span>"ispulavg"</span><span>:</span><span> </span><span>"0"</span><span>,</span><span>
    </span><span>"loggedin"</span><span>:</span><span> </span><span>"0"</span><span>,</span><span>
    </span><span>"country"</span><span>:</span><span> </span><span>"IN"</span><span>
  </span><span>}</span><span>
</span><span>}</span></code></pre></figure>

<p>So I wrote a simple python script to capture this output.</p>

<figure><pre><code data-lang="python"><span>import</span> <span>subprocess</span>
<span>import</span> <span>json</span>

<span>speed_test</span> <span>=</span> <span>subprocess</span><span>.</span><span>Popen</span><span>([</span><span>'speedtest-cli'</span><span>,</span> <span>'--json'</span><span>],</span> 
    <span>stdout</span><span>=</span><span>subprocess</span><span>.</span><span>PIPE</span><span>,</span> <span>stderr</span><span>=</span><span>subprocess</span><span>.</span><span>STDOUT</span><span>)</span>
<span>out</span><span>,</span> <span>err</span> <span>=</span> <span>speed_test</span><span>.</span><span>communicate</span><span>()</span>
<span>speed_dict</span> <span>=</span> <span>json</span><span>.</span><span>loads</span><span>(</span><span>out</span><span>)</span>

<span>print</span><span>(</span><span>'download='</span> <span>+</span> <span>str</span><span>(</span><span>int</span><span>(</span><span>speed_dict</span><span>[</span><span>'download'</span><span>])))</span>
<span>print</span><span>(</span><span>'upload='</span> <span>+</span> <span>str</span><span>(</span><span>int</span><span>(</span><span>speed_dict</span><span>[</span><span>'upload'</span><span>])))</span>
<span>print</span><span>(</span><span>'time='</span> <span>+</span> <span>str</span><span>(</span><span>int</span><span>(</span><span>now</span><span>)))</span></code></pre></figure>

<h2 id="store-measurments-in-a-firestore-db">Store measurments in a Firestore DB</h2>
<p>A bit of code will push this to a Firestore DB. Google lets you use a Firestore DB for free if you stay within a reasonable number of operations per day.</p>

<figure><pre><code data-lang="python"><span>from</span> <span>google.cloud</span> <span>import</span> <span>firestore</span>

<span>now</span> <span>=</span> <span>time</span><span>.</span><span>time</span><span>()</span>
<span>db</span> <span>=</span> <span>firestore</span><span>.</span><span>Client</span><span>()</span>
<span>doc_ref</span> <span>=</span> <span>db</span><span>.</span><span>collection</span><span>(</span><span>'speedtests'</span><span>).</span><span>document</span><span>(</span><span>str</span><span>(</span><span>int</span><span>(</span><span>now</span><span>)))</span>
<span>doc_ref</span><span>.</span><span>set</span><span>({</span>
    <span>'download'</span><span>:</span> <span>str</span><span>(</span><span>int</span><span>(</span><span>speed_dict</span><span>[</span><span>'download'</span><span>])),</span>
    <span>'upload'</span><span>:</span> <span>str</span><span>(</span><span>int</span><span>(</span><span>speed_dict</span><span>[</span><span>'upload'</span><span>])),</span>
    <span>'ping'</span><span>:</span> <span>str</span><span>(</span><span>int</span><span>(</span><span>speed_dict</span><span>[</span><span>'ping'</span><span>])),</span>
    <span>'server_url'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'url'</span><span>]),</span>
    <span>'server_lat'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'lat'</span><span>]),</span>
    <span>'server_lon'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'lon'</span><span>]),</span>
    <span>'server_name'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'name'</span><span>]),</span>
    <span>'server_country'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'country'</span><span>]),</span>
    <span>'server_cc'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'cc'</span><span>]),</span>
    <span>'server_sponsor'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'sponsor'</span><span>]),</span>
    <span>'server_id'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'id'</span><span>]),</span>
    <span>'server_host'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'host'</span><span>]),</span>
    <span>'server_distance'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'d'</span><span>]),</span>
    <span>'server_latency'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'latency'</span><span>]),</span>
    <span>'bytes_sent'</span><span>:</span> <span>str</span><span>(</span><span>int</span><span>(</span><span>speed_dict</span><span>[</span><span>'bytes_sent'</span><span>])),</span>
    <span>'bytes_received'</span><span>:</span> <span>str</span><span>(</span><span>int</span><span>(</span><span>speed_dict</span><span>[</span><span>'bytes_received'</span><span>])),</span>
    <span>'client_ip'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'ip'</span><span>]),</span>
    <span>'client_lat'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'lat'</span><span>]),</span>
    <span>'client_lon'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'lon'</span><span>]),</span>
    <span>'client_isp'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'isp'</span><span>]),</span>
    <span>'client_isp_rating'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'isprating'</span><span>]),</span>
    <span>'client_rating'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'rating'</span><span>]),</span>
    <span>'client_ispdlavg'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'ispdlavg'</span><span>]),</span>
    <span>'client_ispulavg'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'ispulavg'</span><span>]),</span>
    <span>'client_loggedin'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'loggedin'</span><span>]),</span>
    <span>'client_country'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'country'</span><span>]),</span>
<span>})</span></code></pre></figure>

<h2 id="take-measurements-every-30-minutes">Take measurements every 30 minutes</h2>
<p>Then I added this to <code>crontab</code> so it runs every 30 minutes.</p>

<figure><pre><code data-lang="shell"><span>GOOGLE_APPLICATION_CREDENTIALS</span><span>=</span><span>"/home/pi/speed-monitor/speed-db-key.json"</span>
<span>*</span>/30 <span>*</span> <span>*</span> <span>*</span> <span>*</span> python3 speed-monitor.py</code></pre></figure>

<h2 id="pulling-records-from-firestore-to-google-sheets">Pulling records from Firestore to Google Sheets</h2>
<p>I let this run for a bit over 24 hours, and got 52 readings. Next step was to write a small Google Apps Script to pull these records from Firestore and put them in rows in a Google Sheets worksheet.</p>

<figure><pre><code data-lang="javascript"><span>function</span> <span>copyFromFirestore</span><span>()</span> <span>{</span>
  <span>const</span> <span>firestore</span> <span>=</span> <span>FirestoreApp</span><span>.</span><span>getFirestore</span><span>(</span><span>email</span><span>,</span> <span>key</span><span>,</span> <span>projectId</span><span>);</span>
  <span>const</span> <span>allDocuments</span> <span>=</span> <span>firestore</span><span>.</span><span>getDocuments</span><span>(</span><span>"</span><span>speedtests</span><span>"</span><span>);</span>
  <span>Logger</span><span>.</span><span>log</span><span>(</span><span>'</span><span>num=</span><span>'</span> <span>+</span> <span>allDocuments</span><span>.</span><span>length</span><span>);</span>
  <span>for</span><span>(</span><span>i</span><span>=</span><span>0</span><span>;</span><span>i</span><span>&lt;</span><span>allDocuments</span><span>.</span><span>length</span><span>;</span><span>i</span><span>++</span><span>)</span> <span>{</span>
    <span>var</span> <span>sheet</span> <span>=</span> <span>SpreadsheetApp</span><span>.</span><span>getActiveSheet</span><span>();</span>
    <span>sheet</span><span>.</span><span>appendRow</span><span>([</span><span>allDocuments</span><span>[</span><span>i</span><span>].</span><span>createTime</span><span>,</span> <span>allDocuments</span><span>[</span><span>i</span><span>].</span><span>fields</span><span>.</span><span>download</span><span>.</span><span>stringValue</span><span>,</span> <span>allDocuments</span><span>[</span><span>i</span><span>].</span><span>fields</span><span>.</span><span>upload</span><span>.</span><span>stringValue</span><span>,</span> <span>allDocuments</span><span>[</span><span>i</span><span>].</span><span>fields</span><span>.</span><span>ping</span><span>.</span><span>stringValue</span><span>]);</span>
  <span>}</span>
<span>}</span></code></pre></figure>

<p>Then it’s simple to chart the speeds and latency over the roughly 24-hour period.</p>

<p><img src="https://perryizgr8.github.io/images/speedtest.png" alt="Speed test chart"></p>

<h2 id="problem-in-the-setup">Problem in the setup</h2>
<p>This chart shows that my download speed varies between 20 to 35Mbps, and the upload varies between 15 to 20Mbps. This is significantly lower than the 100Mbps symmetric I pay for. If you go back to the first test result I showed in this post, which I ran from my laptop, it shows 83Mbps download and 60Mbps upload. So why this discrepancy?</p>

<p>I suspect this is where my old Pi is showing its age. Even though it is connected to my router using a 100Mbps ethernet cable, the hardware is simply not powerful enough to fully saturate the connection. So I will not be running this setup anymore. Maybe one day I’ll get a newer model and run this for a longer duration. That would hopefully reveal some interesting patterns.</p>

<p>Another concern of mine is the amount of data transfered. Each run of the test consumes around 60MB of data. Running it every half hour for a month would use up ~85GB. That is close to 17% of my plan’s monthly quota. That would probably push me over the limit and cause the connection to slow down to something unusable like 1Mbps.</p>

  </div>
</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://perryizgr8.github.io/raspberry-pi/2020/09/20/monitoring-speed-rpi.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24540344</guid>
            <pubDate>Mon, 21 Sep 2020 06:12:08 GMT</pubDate>
        </item>
    </channel>
</rss>
