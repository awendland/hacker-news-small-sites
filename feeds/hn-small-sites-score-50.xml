<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 50]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 50. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Sun, 14 Feb 2021 04:34:22 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-50.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Sun, 14 Feb 2021 04:34:22 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Apple redirects Google Safe Browsing traffic through proxy servers in iOS 14.5]]>
            </title>
            <description>
<![CDATA[
Score 114 | Comments 46 (<a href="https://news.ycombinator.com/item?id=26110928">thread link</a>) | @CharlesW
<br/>
February 11, 2021 | https://the8-bit.com/apple-proxies-google-safe-browsing-privacy/ | <a href="https://web.archive.org/web/*/https://the8-bit.com/apple-proxies-google-safe-browsing-privacy/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>

<p><strong>Update 1:58 AM PT:</strong> <em>Updated the post to clear confusion about how Google‚Äôs Safe Browsing feature works.</em></p>
<hr>
<p>Apple‚Äôs privacy push is much more widespread than it seems at the surface. A perfect example is the new privacy feature in <a href="https://the8-bit.com/ios-14-5-changes/">iOS 14.5 Beta 1 (V2)</a> which redirects Google Safe Browsing traffic through Apple‚Äôs own proxy servers to enhance users‚Äô privacy and to not let Google see your IP address. </p>
<p>Google Safe Browsing is a security service created by Google that checks whether a website is malicious. When you access a website on the desktop version of Chrome on your Mac or PC, for instance, Google Safe Browsing checks if a website is safe to browse and displays a warning accordingly. The user ultimately has the choice, however.</p>
<p>As Reddit user u/jaydenkieran explains, Apple uses Google Safe Browsing when you enable ‚ÄúFraudulent Website Warning‚Äù within the Safari settings in the Settings app on iPhone or iPad.</p>
<p><a aria-label="According to Google (opens in a new tab)" href="https://support.google.com/transparencyreport/answer/7380435?hl=en#zippy=%2Chow-do-you-determine-that-a-site-is-unsafe" target="_blank" rel="noreferrer noopener">According to Google</a>, its Safe Browsing system works by scanning sections of Google‚Äôs web index and ‚Äúidentifying potentially compromised websites.‚Äù Then, Google tests those websites by using a virtual machine to check if the website compromises the system. If it does, it‚Äôs added to Google‚Äôs online database. Google also identifies phishing websites by using statistical models. </p>
<p><a aria-label="According to Apple (opens in a new tab)" href="https://support.apple.com/en-ae/HT210675" target="_blank" rel="noreferrer noopener">According to Apple</a>, before visiting a website, Safari may send hashed prefixes of the URL (Apple terms it ‚Äúinformation calculated from the website address‚Äù) to Google Safe Browsing to check if there‚Äôs a match. </p>
<p>Since Apple uses a hashed prefix, Google cannot learn which website the user is trying to visit. Up until iOS 14.5, Google could also see the IP address of where that request is coming from. However, since Apple now proxies Google Safe Browsing traffic, it further safeguards users‚Äô privacy while browsing using Safari.</p>
<p>Apple has been intensifying its push for privacy with iOS 14 what with the <a href="https://the8-bit.com/app-tracking-transparency-guide/">App Tracking Transparency update and the inclusion of App Privacy Reports in the App Store</a>. </p><div><p>See also</p><div id="block-wrap-39225" data-id="39225" data-base="0"><div><div><div><article><div><p><a href="https://the8-bit.com/siri-now-allows-setting-a-default-music-streaming-service-on-ios-14-5/" title="Siri_Default_Music_App"><img width="100" height="100" src="https://the8-bit.com/wp-content/uploads/2021/02/Siri_Default_Music_App-100x100.jpg" alt="Siri Default Music App" srcset="https://the8-bit.com/wp-content/uploads/2021/02/Siri_Default_Music_App-100x100.jpg 100w, https://the8-bit.com/wp-content/uploads/2021/02/Siri_Default_Music_App-80x80.jpg 80w, https://the8-bit.com/wp-content/uploads/2021/02/Siri_Default_Music_App-293x293.jpg 293w" sizes="(max-width: 100px) 100vw, 100px"></a></p></div></article></div></div></div></div></div>
<p>At the same time, companies like Facebook are actively opposing the Cupertino giant, accusing it of negatively affecting the advertising industry. Apple‚Äôs response has been simple: </p>
<p>‚ÄúWe believe that this is a simple matter of standing up for our users. Users should know when their data is being collected and shared across other apps and websites ‚Äî and they should have the choice to allow that or not. App Tracking Transparency in iOS 14 does not require Facebook to change its approach to tracking users and creating targeted advertising, it simply requires they give users a choice.‚Äù </p>
<p>Google itself <a href="https://appleinsider.com/articles/21/02/04/google-still-hasnt-updated-its-ios-apps-while-pondering-android-privacy-controls" target="_blank" aria-label="had been holding off (opens in a new tab)" rel="noreferrer noopener">had been holding off</a> on updating its host of apps on the App Store due to the App Privacy Health Reports in the App Store that lets users view how an app tracks them. However, Google later disclosed that it will update its apps to include as little tracking as possible.</p>
<p>Having said that, it‚Äôs interesting to see Apple focus on enhancing user privacy as much as they can. And setting up a proxy server to filter Google Safe Browsing traffic just so Google cannot see users‚Äô browsing activity will be a welcome move for a lot of users.</p>
</div><!-- .entry-content -->
</div></div>]]>
            </description>
            <link>https://the8-bit.com/apple-proxies-google-safe-browsing-privacy/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26110928</guid>
            <pubDate>Fri, 12 Feb 2021 05:07:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Leaving Mozilla]]>
            </title>
            <description>
<![CDATA[
Score 157 | Comments 143 (<a href="https://news.ycombinator.com/item?id=26106934">thread link</a>) | @dmm
<br/>
February 11, 2021 | https://www.emilykager.com/writing/2021/02/10/mozilla.html | <a href="https://web.archive.org/web/*/https://www.emilykager.com/writing/2021/02/10/mozilla.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
      <p>I don‚Äôt think any little girl grows up with the goal of ‚ÄúI want to be an OSS Android browser developer‚Äù and to be totally honest, even as an adult I just kind of fell into it. I first joined Mozilla as an intern during my change-career journey mainly because I had taken one Android class, knew some Java, and applied on a whim at the right time to hit the recruiter‚Äôs inbox. Despite not actively seeking Mozilla or Android out, I immediately fell in love with the project and team and knew I had stumbled into a very special place. The problems were interesting, I had opportunities for leadership and growth from the start, and the people were kind, smart, and supportive.</p>

<p>At Mozilla you‚Äôll meet the smartest and most passionate people who could be tech leaders at any other major company (and almost certainly make more money) but are choosing to work specifically on Firefox because they believe in the product and the mission. It‚Äôs definitely intimidating to come in as an intern to one of the original ‚Äúsoftware companies‚Äù but everyone I‚Äôve met is truly wonderful and welcoming. It was (mostly) fun to be the underdog and celebrate our wins, large and small alike. I felt connected to the mission and the products we were creating. I felt like I had a large impact in my team after only a short amount of time (most teams are quite small and tight-knit). The fans and the community were passionate and many times I had the cool experience of wearing a Firefox t-shirt in public and people thanking me for my work (now that I‚Äôm writing this, it feels a bit odd. I guess you had to be there).</p>

<p>So if it‚Äôs so great then why am I leaving? I know it‚Äôs not a satisfying answer, verging on cliche, but I‚Äôm just looking to do something new. That and.. I am also extremely burnt out. The very small mobile team has been through a gauntlet in order to ship a full rewrite of the flagship Firefox for Android browser (partly during the pandemic no less). Working too much during the week for the last 2 years was normal for me and while never asked for from my team, I cared deeply about the product and the success and it would have been impossible to hit our deadlines and ship something I was proud of without it. And when we finally did ship, I WAS proud of our team and what we had accomplished, but the release just felt like a blip in our planned schedule before jumping into more sprints and fires and thinking about the next iteration.</p>

<p>I did take one week of PTO right after our release! ‚Ä¶ which just so happened to be the week that the large layoffs happened. I was safe from layoffs, but morale plummeted, and I was definitely not refreshed. The cherry on top was being specifically targeted for harassment that same week after the release by unhappy users of Firefox looking for someone to direct their frustrations at<sup><a href="#myfootnote1">1</a></sup>. There‚Äôs nothing that Mozilla really could have done in this scenario, but it left a terrible taste in my mouth after all of the blood, sweat, and tears I had put into this project. For someone who thought of themselves as an empathetic dev overworking myself FOR the end users and product, this hurt and I‚Äôm not sure I ever really recovered. While the pace is slowing down now and there‚Äôs a promise of no more deadline crunches, I just feel that I haven‚Äôt been able to catch my breath no matter how much time I take off. Whether that‚Äôs the project, pandemic fatigue, or all of the above, I‚Äôm very ready for a break, a fresh start, and a change of pace.</p>

<p>Working in open source full-time has been an incredible experience that has had its extreme ups and downs. On the positive side, I‚Äôve loved mentoring new contributors to get their first open source PR merged. I‚Äôve enjoyed all the positive interactions with the lovely community volunteers who care as much about making the product better as I do. On the negative side, it has become increasingly hard for me to separate work from not work. I found myself ‚Äúcontributing‚Äù (read - working) at all hours of the day. Replying to issues, emails, and public chats when I was in bed at midnight, when I just woke up at 7am, in the car on the way to go hiking on the weekend, and then while ON the hike. This might be a me problem, but boundary setting when there‚Äôs a public repo always getting new issues, comments, emails, and chatroom messages was difficult for me. And of course not all of those messages are nice; the constant stream of negative comments from unhappy and rude users during the work week and outside of it was extremely draining. Besides politicians, this might be one of the only jobs where you can wake up to an inbox full of emails and messages about how much everyone thinks you suck at your job. You definitely grow a thick skin quickly, but it‚Äôs still exhausting.</p>

<p>I think a lot of people tend to forget that Mozilla was also my very first job in tech. I learned so much there and there‚Äôs always more I could learn, but it‚Äôs good to try new experiences and face new problems, especially early in my career. I will be forever grateful for the experiences I‚Äôve had at Mozilla and the people I‚Äôve met. It was my ‚Äúbig break‚Äù into tech and I will never forget that! I will keep using and supporting Firefox and take a lot of the Mozilla ideals with me wherever I go. My experience was super formative for how I view ethics, privacy, and other important issues inside the tech space.</p>

<p>I am excited about my break and my next adventure but I‚Äôm definitely very sad to be leaving Mozilla and the wonderful people. The (good) problem with working with people who are true friends is it‚Äôs painful when people leave, including yourself. I will miss everyone dearly, especially all of my mobile team peers. I hope you all stay in touch and our paths cross again once conferences are a thing again (or maybe I‚Äôll just crash the next All Hands, I‚Äôm not above it). If you‚Äôre at Mozilla and want to say goodbye, please ping me in the next 2 weeks! I‚Äôve also heard I‚Äôm quite easy to find online! üòâ</p>

<p>Love you all ‚ù§Ô∏è XOXO</p>

<p>
<img src="https://imgur.com/bkUoEuG.png" alt="The mobile team at Mozilla" width="800px">
</p>

<p><a name="myfootnote1">1</a>: EDIT: Saw this made it onto Hacker News and people in the comments were doubting this harassment happened. Classic. I documented it well on my Twitter at the time, but I‚Äôm happy to give more context. I tweeted around the time of release that I was proud of the team for all our hard work and I‚Äôm not ‚Äúworrying about the haters‚Äù with a photo of me drinking a beer and flipping off the camera. I never referenced users. ‚ÄúHaters‚Äù is just a saying that the youngins say that isn‚Äôt specific but according to the internet, <a href="https://www.lifewire.com/what-is-a-hater-4589594">‚Äúa hater is a slang term used in everyday language and especially online to describe an individual who talks and behaves negatively in response to other people‚Äôs success and goal achievement.‚Äù</a> It was a light-hearted joke for my Twitter friends after a year of hard work and constant negativity. In response this tweet was posted all over Reddit and 4chan and then there were coordinated doxxing attacks, multiple 4chan threads full of violent sexual and death threats, troll PRs opened in our repo, all of my photos pulled off of my Instagram and posted into these threads with disgusting commentary, and actual calls to my work from fake ‚Äújournalists‚Äù to try to get me fired. I‚Äôm not going to post the comments here because they make me sick but feel free to search the archives to see for yourself. If you think this is ever an appropriate response to a dev on the team telling a joke online, I can‚Äôt help you.</p>

  </div></div>]]>
            </description>
            <link>https://www.emilykager.com/writing/2021/02/10/mozilla.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26106934</guid>
            <pubDate>Thu, 11 Feb 2021 20:48:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Idioms for the D Programming Language]]>
            </title>
            <description>
<![CDATA[
Score 131 | Comments 60 (<a href="https://news.ycombinator.com/item?id=26105564">thread link</a>) | @crazypython
<br/>
February 11, 2021 | https://p0nce.github.io/d-idioms/ | <a href="https://web.archive.org/web/*/https://p0nce.github.io/d-idioms/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p><a href="#GC-proof-resource-class">Link
</a></p>
<p>Class destructors have painful <a href="#The-trouble-with-class-destructors">limitations</a> when called by the GC.
</p>
<p>But there is a way to make a class holding a resource that:
</p>
<ul>
<li>works with scoped ownership (<code>std.typecons.RefCounted</code>, <code>std.typecons.Unique</code>, <code>std.typecons.Scoped</code>)
</li>
<li>works with manual release (<code>object.destroy</code>)
</li>
<li>warns when the GC call the destructor and then release the resource, which is <em>coincidental correctness</em> and dangerous to rely on.
</li>
</ul>
<p>The general idea behind the <strong>GC-proof resource class</strong> is to check why the destructor was called and act accordingly.
</p>
<pre><code>class MyGCProofResource
{
    void* handle;

    this()
    {
        // acquire resource
        handle = create_handle();
    }

    ~this()
    {
        // Important bit.
        // Here we verify that the GC isn't responsible
        // for releasing the resource, which is dangerous.
        import core.memory;
        assert(!GC.inFinalizer, "Error: clean-up of MyGCProofResource incorrectly" ~
                                " depends on destructors called by the GC");

        // release resource
        free_handle(handle);
    }
}
</code></pre><p>You'll get a clear message whenever you rely on the GC to release resources.
</p>
<p>This idiom was first introduced in the <a href="https://github.com/d-gamedev-team/gfm">GFM</a> library.
</p>
</div><div><p><a href="#Don't-use-@property">Link
</a></p>
<p>The current agreement on best practices with regards to <code>@property</code> is to <strong>not use it.</strong>
</p>
<p><code>@property</code> does very little and you can always avoid it.
</p>
</div><div><p><a href="#Parallel-foreach">Link
</a></p>
<p>This performs a parallel loop with a default task pool.
</p>
<pre><code>import core.atomic;
import std.parallelism;
import std.range;

void main()
{
    shared(int) A = 0;
    foreach(n; iota(2000).parallel)
    {
        atomicOp!"+="(A, 1);
    }
    assert(A == 2000);
}
</code></pre></div><div><p><a href="#Unittests-with-optimizations-:-the-Final-Frontier">Link
</a></p>
<p>DUB is an essential piece of the modern D language experience. <strong>However,</strong> that experience doesn't include <em>"Running unit tests with optimizations"</em> by default.
</p>
<p>So, how do you avoid surprises in production? What would Kent Beck do?
</p>
<p><strong>In this post, we unleash the jaleously-guarded secret behind the most successful organizations in the world: running unittests with optimizations ON and OFF.</strong> 
</p>
<h2 id="changes-to-dub-json"> Changes to <code>dub.json</code></h2>
<p>Create a new build type with the proper flags. This is also a good way to get to know the discreet <code>"buildTypes"</code>.
</p>
<pre><code>"buildTypes": 
{
    "unittest-opt": 
    {
        "buildOptions": ["unittests", "optimize", "inline"]
    }
}
</code></pre><p><strong>Because it doesn't have a</strong> <code>-release</code> <strong>flag</strong>, <a href="#So-what-does--release-do,-exactly?">asserts will still be enabled</a>. Hence, the <code>unittest</code> content is here.
</p>
<p>(Please, don't call this configuration <code>unittest-release</code>. Because flag <code>-release</code> not being there is the one important thing. This increase the confusion between "release" and "optimizations").
</p>
<h2 id="run-both-versions"> Run both versions</h2>
<pre><code>$ dub test 
$ dub test -b unittest-opt
</code></pre><p>You are now listed in Forbes.
</p>
</div><div><p><a href="#One-does-not-simply-call-new-for-static-arrays">Link
</a></p>
<p>It just happens that in D you can't use <code>new</code> to get a pointer to a newly allocated static array.
</p>
<pre><code>void main()
{
    alias T = int[4];

    // This line does not compile!
    // Error: new can only create structs, dynamic arrays or class objects, not int[4]'s
    auto t = new T; 
}
</code></pre><p><em>"You can only call new with structs, dynamic arrays, and class objects"</em> says the compiler.
</p>
<p><strong>Unrelated:</strong> actually the compiler is lying a bit, since it is possible to allocate a single (builtin type) value on the heap:
</p>
<pre><code>void main()
{
    int* p = new int;  // Works
}
</code></pre><p>But this can't be with static arrays, despite them being <a href="#Static-arrays-are-value-types">value types</a>. Doesn't that sound like an inconsistency? Something that would have to be <strong>explained.</strong>
</p>
<h2 id="why"> Why?</h2>
<p>The reasoning for <code>new</code> and static arrays was probably that you rarely really want to allocate a static array on the heap; it could just as well be a slice.
</p>
<p><strong>So there is no syntax to do this</strong>.<br>When you do write <code>new int[4]</code> this will instead return an <code>int[]</code> <em>slice</em> with a length of 4, which adds the benefits of holding a length.
</p>
<pre><code>writeln(typeof(new int[4]).stringof); // output: "int[]"

auto arr = new int[4];
writeln(arr.length); // output: "4"
arr ~= 42;
writeln(arr.length); // output: "5"
</code></pre><p>So far, so good. 
</p>
<p><a href="#Type-qualifiers-and-slices-creation">It gets weirder</a> whenever <code>shared</code>, <code>const</code> and <code>immutable</code> get introduced...
</p>
<h2 id="do-it-anyway"> Do it anyway</h2>
<p>If for some reason you really need a <em>static</em> array allocated on the heap instead of a slice, you can do it anyway by using <code>std.experimental.allocator</code> (or its DUB equivalent <a href="https://code.dlang.org/packages/stdx-allocator">stdx-allocator</a>):
</p>
<pre><code>import std.experimental.allocator;

void main()
{
    alias T = int[4];

 // T* t = new T;                 // Won't work.
    T* t = theAllocator.make!T;   // Fine!
    assert((*t).length == 4);     // Safe too.

    (*t)[1] = 42;                 // Needs pointer dereference and parentheses before use.
    assert(*t == [0, 42, 0, 0]);  // Features default initialization.
    
 // (*t) ~= 43; // Error: cannot append type int to type int[4]
}
</code></pre><p><em>This idiom got some help from Bastiaan Veelo.</em>
</p>
</div><div><p><a href="#Contributing-back-with-money">Link
</a></p>
<p>While the D phenomenon relies primarily on benevolent effort, a bit of money can go a long way towards enhancing documentation, supporting libraries, compilers and IDEs.
</p>
<p><strong>If your company depends on a healthy D ecosystem</strong>, your donations will have a noticeable impact in spreading D to the programming world, while hedging against related technology risks.
</p>
<h2 id="the-d-foundation"> The D Foundation</h2>
<p>The <a href="https://dlang.org/foundation/donate.html">D Language Foundation</a> is a 501(c) non-profit public charity devoted to advancing open source technology related to the D programming language.
</p>
<p>A one-stop shop for pushing the interests of the D world at large.
</p>
<p>You can contribute for free through Amazon Smile! <a href="https://forum.dlang.org/thread/pikn41$u9q$1@digitalmars.com">https://forum.dlang.org/thread/pikn41$u9q$1@digitalmars.com</a>
</p>
<h2 id="ldc"> LDC</h2>
<p><a href="https://github.com/ldc-developers/ldc">The LDC project</a> is pivotal to many D companies that profit from top performance.<br>If you are one of them, consider giving back to this critical piece of infrastructure...
</p>
<h2 id="solo-developers"> Solo developers</h2>
<ul>
<li><p>Adam D. Ruppe is the creator of <a href="http://dpldocs.info/">http://dpldocs.info/</a> (online and fast documentation for any DUB package) and author of D Cookbook. <a href="https://www.patreon.com/adam_d_ruppe/overview">https://www.patreon.com/adam<em>d</em>ruppe/overview</a>
</p>
</li>
<li><p>Basile B creates <a href="https://github.com/BBasile/Coedit">Coedit</a>, an IDE specially purposed for D (donation link on the Github page).
</p>
</li>
<li><p>WebFreak creates <a href="https://marketplace.visualstudio.com/items?itemName=webfreak.code-d#overview">code-d</a> a Visual Studio Code extension for dlang: <a href="https://www.patreon.com/WebFreak/overview">https://www.patreon.com/WebFreak/overview</a>
</p>
</li>
</ul>
<p><em>Let us know if you identify other ecosystem contributors with a donation link!</em>
</p>
</div><div><p><a href="#Voldemort-types">Link
</a></p>
<p>A <em>Voldemort type</em> is simply a type that can't be named by the user.
</p>
<h2 id="an-example-from-ae-utils-graphics"> An example from <code>ae.utils.graphics</code>:</h2>
<pre><code>template procedural(alias formula)
{
    alias fun = binaryFun!(formula, "x", "y");
    alias Color = typeof(fun(0, 0));

    // Returning auto is necessary here.
    // Procedural can't be named outside of the procedural function.
    auto procedural()
    {
        struct Procedural
        {
            auto ref Color opIndex(int x, int y)
            {
                return fun(x, y);
            }
        }
        return Procedural();
    }
}
</code></pre><p>Outside of the <code>procedural</code> function of this <a href="#Eponymous-templates">eponymous template</a>, there is no way to name <code>Procedural</code>. Therefore, <strong>Voldemort types can only be passed around in auto variables or auto returns.</strong>
</p>
<h2 id="why"> Why?</h2>
<p>Hiding information about types. Because the user can't name or instantiate Voldemort types at will, expressions in a Voldemort lazy computation chain can change types without changing user code.
</p>
<p>Voldemort types were promoted and named by Andrei Alexandrescu. They are typically used in chains of lazy computations, like ranges.
</p>
<p>See also: <a href="http://www.drdobbs.com/cpp/voldemort-types-in-d/232901591">Voldemort Types in D</a>
</p>
</div><div><p><a href="#Type-qualifiers-and-slices-creation">Link
</a></p>
<p>When a slice is created with <code>new</code> and a type qualifier, the qualifier applies to <em>pointed elements</em> <br>instead of the whole slice as would be expected.
</p>
<pre><code>import std.stdio;

void main(string[] args)
{
    // Output: "const(int)[]"
    writeln(typeof(new const(int[4])).stringof);
    
    // Output: "immutable(int)[]"
    writeln(typeof(new immutable(int[4])).stringof);
    
    // Output: "shared(int)[]"
    writeln(typeof(new shared(int[4])).stringof);
}
</code></pre><p><strong>Note:</strong> this syntax <a href="#One-does-not-simply-call-new-for-static-arrays">doesn't return pointers to static arrays</a> but indeed return a slice.
</p>
<p><em>This peculiarity was emphasized at DConf 2018 by Andrei Alexandrescu.</em>
</p>
</div><div><p><a href="#Static-arrays-are-value-types">Link
</a></p>
<p><em>(Note: on this whole website, with "static arrays" we mean fixed-size arrays, not arrays declared with</em> <code>static</code><em>).</em>
</p>
<p>It's important to note that D static arrays are value types.
</p>
<pre><code>void addFour(int[16] arr)
{
    arr[] += 4;           // Only the local version is modified.
}

void main()
{
    int[16] a;
    addFour(a);           // a is passed by value on the stack, not by pointer.
    assert(a[0] == 0);
}
</code></pre><p>That makes such declaration a trap when porting functions from C or C++.
</p>
<h2 id="static-arrays-convert-implicitely-into-slices"> Static arrays convert implicitely into slices!</h2>
<p>To pass static arrays by reference, either write a function taking a slice or use ref.
</p>
<pre><code>void addFive(ref int[16] arr)
{
    arr[] += 5;           // Caller parameter modified.
}

void addSix(int[] arr)
{
    arr[] += 6;           // Caller parameter modified.
}

void main()
{
    int[16] a;
    addFive(a);         // Works, a is passed by reference
    addSix(a);          // Works, a is converted into a slice referencing the same data
}
</code></pre><p>One of the oddities about static arrays is that <a href="#One-does-not-simply-call-new-for-static-arrays">you can't <code>new</code> them</a>.
</p>
</div><div><p><a href="#So-what-does--debug-do,-exactly?">Link
</a></p>
<p>In D compilers, the <code>-debug</code> switch does <strong>only one thing</strong>: compiling in code in <code>debug</code> clauses.
</p>
<pre><code>debug
{
    writeln("-debug was used");
}
else
{
    writeln("-debug was NOT used");   
}
</code></pre><ul>
<li><p>The <code>-debug</code> switch has <strong>nothing to do with debug information (-g)</strong> of lack thereof.
</p>
</li>
<li><p>The <code>-debug</code> switch has <strong>nothing to do with optimizations (-O)</strong> or lack thereof.
</p>
</li>
<li><p>The <code>-debug</code> switch has <strong>nothing to do with the -release switch</strong>, in fact both switches can be used at once, or none.
</p>
</li>
<li><p><strong>There is no "debug mode" or "release mode" in D compilers</strong>, those are a DUB convention.
</p>
</li>
</ul>
<h2 id="debug-identifiers-who-are-they-and-what-do-they-want"> <code>debug</code> identifiers: who are they and what do they want?</h2>
<p>You can define a "debug identifier" <code>ident</code> that will be compiled in if <code>-debug=ident</code> is passed through the command-line.
</p>
<pre><code>debug(complicatedAlg)
    writeln("-debug=complicatedAlg was used"); // useful for debug logging
else
    writeln("-debug=complicatedAlg was NOT used");
</code></pre><p>That makes <code>debug</code> remarkedly similar to... <code>version</code>.
</p>
<h2 id="debug-is-indeed-strikingly-similar-to-version"> <code>debug</code> is indeed strikingly similar to <code>version</code></h2>
<p>The <strong>2 key differences</strong> between <code>-debug</code> and <code>-version</code> are:
</p>
<ul>
<li><p>Semantic: <code>version</code> is for software features, and <code>debug</code> is to enable logging/information/statistics... about programs with no user-facing effect.
</p>
</li>
<li><p>Quick printf-debugging: under a <code>debug</code> clause, ‚Ä¶</p></li></ul></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://p0nce.github.io/d-idioms/">https://p0nce.github.io/d-idioms/</a></em></p>]]>
            </description>
            <link>https://p0nce.github.io/d-idioms/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26105564</guid>
            <pubDate>Thu, 11 Feb 2021 18:51:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why build a custom NER in 2021?]]>
            </title>
            <description>
<![CDATA[
Score 52 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26104744">thread link</a>) | @Radim
<br/>
February 11, 2021 | https://pii-tools.com/detect-person-names-in-text/ | <a href="https://web.archive.org/web/*/https://pii-tools.com/detect-person-names-in-text/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>
Detecting people‚Äôs names is part and parcel of PII discovery. Traditional techniques like regexps and keywords don‚Äôt work, because the set of all names is too varied. How do open source Named Entity Recognition (NER) engines compare, and can we do better?</p><p>
<em>This Part 1 has NER results and benchmarks. There‚Äôs also <a href="https://pii-tools.com/detect-person-names-in-text-part-2-technical/">Part 2 with technical neural network details</a>.<br>
</em></p><h2 id="sota_ner">Developing a state-of-the-art named entity recognizer</h2><p>
A good named entity recognizer (NER) is essential for detecting names, home addresses, <a href="https://twitter.com/PII_tools/status/1230905790745260032">passport scans</a> etc, for purposes of compliance or <a href="https://pii-tools.com/pii-exclusions-data-breach/">breach incident management</a>.</p><p>
One could use a prepared list of names and surnames for this task, but such gazetteer obviously cannot be exhaustive and will fail on sentences like this:</p><blockquote><p>‚Äú<b>Calvin Klein</b> founded Calvin Klein Company in 1968.‚Äù</p></blockquote><p>Humans recognize easily what is a person‚Äôs name and what isn‚Äôt. For machines, the task is more difficult because they have trouble understanding context. This leads to the famous two types of errors:</p><ul><li><strong>False positives</strong>: words detected as personal names that are not, typically because they‚Äôre capitalized (<code>"Skin Games and Jesus Jones were one the first western bands."</code>); as well as</li><li><strong>False negatives</strong>: names missed by the detection, typically because they‚Äôre lowercased, foreign or uncommon. Example: <code>"bill carpenter was playing football."</code></li></ul><p>
So in order to recognize person names in text it is necessary to know not only what names look like, but also in what context they‚Äôre used and have a general domain knowledge.</p><h2 id="motivation">Why not just use open source?</h2><p>
NER is a well-studied task in academia. Naturally, we turned to open source NER solutions first. We evaluated the most popular ready-made software: Stanford NER and Stanza from the Stanford University, FLAIR from Zalando Research, spaCy from Explosion AI.</p><p>
To cut the story short, <strong>none of these open source tools were precise and fast enough</strong> for our purposes. While they work great on well-behaved data such as news articles or Wikipedia, their academic pedigree implodes when applied to the wild, messy documents of the real world.</p><p>
For this reason we developed our own NER, with special focus on <strong>names as they appear in real company documents</strong>. The resulting NER is proprietary (part of <a href="https://pii-tools.com/">PII Tools</a>) but we decided to share some technical design tips and results here, in the hope they help others.</p><p>
In this article, we‚Äôll compare our creation against popular open source options. Additionally, we‚Äôll benchmark a simple gazetteer-based NER that uses a predefined list of names, to serve as a <strong>baseline</strong>.</p><table><caption>Description of tested NERs</caption><tbody><tr><th>&nbsp;</th><th>version</th><th>type</th><th>language</th><th>source</th></tr><tr><th>list</th><td>‚Äì</td><td><abbr title="contains 5.6M unique names">list of names</abbr></td><td>multi-language</td><td>inhouse</td></tr><tr><th>stanford</th><td>4.1</td><td>CRF classifier</td><td><abbr title="each language has a separate model">single</abbr></td><td><a href="https://nlp.stanford.edu/software/CRF-NER.html">https://nlp.stanford.edu/software/CRF-NER.html</a></td></tr><tr><th>stanza</th><td>1.1.1</td><td>neural network</td><td><abbr title="each language has a separate model">single</abbr></td><td><a href="https://stanfordnlp.github.io/stanza/">https://stanfordnlp.github.io/stanza/</a></td></tr><tr><th><abbr title="ner-multi-fast model">flair</abbr></th><td>0.6.1</td><td>neural network</td><td>multi-language</td><td><a href="https://github.com/flairNLP/flair">https://github.com/flairNLP/flair</a></td></tr><tr><th><abbr title="xx_ent_wiki_sm model">spacy</abbr></th><td>2.3.2</td><td>neural network</td><td>multi-language</td><td><a href="https://spacy.io/">https://spacy.io/</a></td></tr><tr><th>pii-tools</th><td>3.8.0</td><td>neural network</td><td>multi-language</td><td><a href="https://pii-tools.com/">https://pii-tools.com/</a></td></tr></tbody></table><p>
Our requirements for the new NER were:</p><ul><li><strong>multi-language</strong>, with special focus on English, Spanish, German and Portuguese/Brazilian;</li><li>to accept <strong>arbitrary document contexts</strong>: text coming from PDFs, Word documents, Excel, email, database field, OCR‚Ä¶;</li><li><strong>efficient</strong>, to process <strong>large amounts of text quickly on a CPU</strong> (no need for specialized GPU hardware) and with a <strong>low memory footprint</strong>,</li><li><strong>flexible</strong> to be able to evolve the model behaviour: retraining, adding new languages, correcting detection errors;</li><li>and of course to be <strong>accurate</strong>, to minimize false positives and negatives.</li></ul><p>
To compare our NER we evaluated performance on standard benchmark datasets, <a href="https://www.clips.uantwerpen.be/conll2002/ner/">CoNLL-2002</a> (for Spanish), <a href="https://www.clips.uantwerpen.be/conll2003/ner/">CoNLL-2003</a> (English, German) and <a href="https://cic.unb.br/~teodecampos/LeNER-Br/">LeNER-Br</a> (Portuguese).</p><p>We also included a manually annotated <code>openweb</code> dataset, to make sure we test on data that no NER system (including ours!) has seen during training. Text for this dataset was randomly sampled from the English <a href="https://skylion007.github.io/OpenWebTextCorpus/">OpenWebTextCorpus</a>. We value results on <code>openweb</code> the most, because OpenWeb reflects the real (messy) data found in real documents the closest, among these public datasets.</p><h2 id="accuracy">Accuracy</h2><p>
We measured <a href="https://en.wikipedia.org/wiki/F-score">F1 scores</a> for person names detected by each software. F1 scores range from 0 to 100, the higher the better. A ‚Äúhit‚Äù (true positive) means the entire name was matched exactly, beginning to end. This is the strictest metric; we specifically <emph>don‚Äôt</emph> calculate success over the number of correctly predicted tokens, or even individual characters.</p><table><caption>Performance benchmark [F1 score ‚Äì higher is better]</caption><tbody><tr><th>&nbsp;</th><th>English</th><th>Spanish</th><th>German</th><th>Portuguese</th><th>openweb</th></tr><tr><th>list</th><td>59.1</td><td>62.3</td><td>54.9</td><td>45.2</td><td>74.5</td></tr><tr><th>stanford</th><td>94.9</td><td>91.1</td><td>93.6</td><td><abbr title="no model available">‚Äî</abbr></td><td>92.6</td></tr><tr><th>stanza</th><td>82.2</td><td>98.4</td><td>87.6</td><td><abbr title="no model available">‚Äî</abbr></td><td>86.7</td></tr><tr><th>flair</th><td>95.8</td><td>96.9</td><td>91.3</td><td>62.9</td><td>90.6</td></tr><tr><th>spacy</th><td>86.1</td><td>87.0</td><td>74.1</td><td>42.0</td><td>81.3</td></tr><tr><th>pii-tools</th><td>92.3</td><td>90.6</td><td>89.3</td><td>85.9</td><td>95.7</td></tr></tbody></table><div id="attachment_4542"><p><img aria-describedby="caption-attachment-4542" loading="lazy" src="https://pii-tools.com/wp-content/uploads/2021/01/blog-f1.png" alt="F1 scores for NER software that detect personal names." width="1015" height="482" srcset="https://pii-tools.com/wp-content/uploads/2021/01/blog-f1.png 1015w, https://pii-tools.com/wp-content/uploads/2021/01/blog-f1-300x142.png 300w, https://pii-tools.com/wp-content/uploads/2021/01/blog-f1-768x365.png 768w, https://pii-tools.com/wp-content/uploads/2021/01/blog-f1-100x47.png 100w, https://pii-tools.com/wp-content/uploads/2021/01/blog-f1-924x439.png 924w" sizes="(max-width: 1015px) 100vw, 1015px" data-srcset="https://pii-tools.com/wp-content/uploads/2021/01/blog-f1.png 1015w, https://pii-tools.com/wp-content/uploads/2021/01/blog-f1-300x142.png 300w, https://pii-tools.com/wp-content/uploads/2021/01/blog-f1-768x365.png 768w, https://pii-tools.com/wp-content/uploads/2021/01/blog-f1-100x47.png 100w, https://pii-tools.com/wp-content/uploads/2021/01/blog-f1-924x439.png 924w" data-src="https://pii-tools.com/wp-content/uploads/2021/01/blog-f1.png" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></p><p id="caption-attachment-4542">F1 scores of NER software that detect person names.</p></div><p>
In all tests our NER is among the top contenders ‚Äì but keep in mind that accuracy was just one of our 5 design goals. For example, we ‚Äúlost‚Äù a few F1 points on purpose by switching from Tensorflow to TF lite, trading accuracy for a much smaller &amp; faster model.</p><p>
For the Portuguese language (Brazil, LGPD) and <code>openweb</code> dataset, PII Tools is the clear winner. As mentioned above <code>openweb</code> reflects ‚Äúreal data‚Äù the closest, so this is great.</p><p>
Let‚Äôs look at some concrete examples:</p><table><caption>Text samples and NER detections (actual expected names are <strong>in bold</strong>)</caption><tbody><tr><th>&nbsp;</th><th>stanford</th><th>stanza</th><th>flair</th><th>spacy</th><th>pii-tools</th></tr><tr><td><b>Calvin Klein</b> founded Calvin Klein Company in 1968.</td><td>ok</td><td>ok</td><td>ok</td><td>ok</td><td>ok</td></tr><tr><td><b>Nawab Zulfikar Ali Magsi</b> did not see <b>Shama Parveen Magsi</b> coming.</td><td>ok</td><td>ok</td><td>ok</td><td>fail</td><td>ok</td></tr><tr><td><b>bill carpenter</b> was playing football.</td><td>fail</td><td>fail</td><td>fail</td><td>ok</td><td>ok</td></tr><tr><td><abbr title="a village in Wales">Llanfihangel Talyllyn</abbr> is beautiful.</td><td>fail</td><td>fail</td><td>fail</td><td>fail</td><td>ok</td></tr><tr><td>Skin Games and Jesus Jones were one the first western bands.</td><td>fail</td><td>fail</td><td>fail</td><td>fail</td><td>fail</td></tr></tbody></table><p>
These samples are rather edge cases, but serve to get an idea of what detectors have to deal with, and how successful they are.</p><h2 id="performance">Performance</h2><p>
Now we will look into other aspects of our requirements. Detection performance was measured on CPU, our <code>pii-tools</code> NER was artificially restricted to a single process with a single thread, others were left in default settings.</p><table><caption>Speed and memory comparison</caption><tbody><tr><th>&nbsp;</th><th><abbr title="short documents of ~500 bytes">speed short [kB/s]</abbr></th><th><abbr title="long documents of ~2.5 kB">speed long [kB/s]</abbr></th><th><abbr title="time to initializate NER + tag a 20 character text">startup time [s]</abbr></th><th><abbr title="peak RAM while tagging 270 kB of text">RAM usage [MB]</abbr></th></tr><tr><th>list</th><td>350.0</td><td>1100.0</td><td>1.1</td><td>1420</td></tr><tr><th>stanford</th><td>30.0</td><td>30.0</td><td>1.5</td><td><abbr title="for one language only">248</abbr></td></tr><tr><th>stanza</th><td>0.4</td><td>1.2</td><td>6.1</td><td><abbr title="input had to be chunked to limit RAM">1073</abbr></td></tr><tr><th>flair</th><td>0.1</td><td>0.1</td><td>5.2</td><td><abbr title="input had to be chunked to limit RAM">5341</abbr></td></tr><tr><th>spacy</th><td>70.0</td><td>200.0</td><td>0.5</td><td>123</td></tr><tr><th>pii-tools</th><td>35.0</td><td>230.0</td><td>1.3</td><td>387</td></tr></tbody></table><p>
Overall FLAIR and Stanza are definitely out, due to their super slow speed and high RAM usage. A worthy competitor from the performance perspective is spaCy, whose authors put a great deal of effort into optimization. Unfortunately spaCy‚Äôs tokenization quirks and opinionated architecture proved too inflexible for our needs.</p><p>
Likewise, Stanford NER is the most accurate among the open source alternatives, but is quite rigid ‚Äì it‚Äôs really hard to update its models or add a new language. Plus its GNU GPL license won‚Äôt be to everyone‚Äôs liking.</p><h2 id="flexibility">Flexibility</h2><p>
Our focus on industry use calls for frequent model modifications: adding new languages, new kinds of documents (document contexts in which names may appear), fixing detection errors.</p><p>
In order to adapt the PII Tools NER model quickly, we built a pipeline that utilizes several ‚Äúweaker‚Äù NERs and automatic translation tools to build a huge training corpus from varied sources. This focus on real-world data, along with a robust automated Tensorflow training pipeline allows adding new languages and controlling NER outputs more easily than the open source solutions.</p><p>
While developing our <code>pii-tools</code> NER we implemented most components from scratch, including:</p><ul><li>a large scale annotated dataset (proprietary data)</li><li>a tokenizer (critical; none of the open source variants do this part well)</li><li>token features (input to the neural network)</li><li>convolutional neural network (NN architecture)</li><li>data augmentation and training pipeline (for grounded model updates)</li><li>various tricks to push performance or to squeeze a lot of information into a smaller parameter space</li></ul><p>
If you are interested in these technical aspects, check the <a href="https://pii-tools.com/detect-person-names-in-text-part-2-technical">follow up article with technical NER details</a>.</p><blockquote><p><strong><br>
Questions? Want to see a live demo? <a href="https://pii-tools.com/schedule-a-demo/">Contact us</a>.<br>
</strong></p></blockquote></div></div>]]>
            </description>
            <link>https://pii-tools.com/detect-person-names-in-text/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26104744</guid>
            <pubDate>Thu, 11 Feb 2021 17:49:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Should random() be banned?]]>
            </title>
            <description>
<![CDATA[
Score 71 | Comments 167 (<a href="https://news.ycombinator.com/item?id=26104056">thread link</a>) | @pabloest
<br/>
February 11, 2021 | https://r2c.dev/blog/2021/should-random-be-banned/ | <a href="https://web.archive.org/web/*/https://r2c.dev/blog/2021/should-random-be-banned/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><div><div><div><p>Thought experiment: should the use of non-cryptographically secure <code>random()</code> be flagged to developers (examples: <a href="https://bandit.readthedocs.io/en/latest/blacklists/blacklist_calls.html#b311-random" target="_blank" rel="noopener">Bandit</a> and <a href="https://github.com/securego/gosec/blob/a4746e18e3df52bfb21f59420d2c57cb12ef40ec/rules/rand.go#L44" target="_blank" rel="noopener">gosec</a>)? Assume we find the function calls 100% accurately (all true positives, no false positives), and we prevent merging when it‚Äôs present.</p>
<p>Academics would say yes ‚Äî the <code>random()</code> rule always detects what it promises and could be a vulnerability. But the practitioners amongst us are likely to hesitate ‚Äî does it matter enough to stop engineers‚Äô work? Isn‚Äôt <code>random()</code> often used for non-cryptographically sensitive operations?</p>
<p>Herein lies the disconnect between static analysis theory and practice: the world‚Äôs most accurate static analysis rule is valueless if developers don‚Äôt agree the result has impact, yet as an industry we use the rate of true vs. false positives as the measure of quality.</p>
<p>At r2c we wanted to know how static analysis rules for Semgrep perform in practice. So we set out to create a better metric for <a href="https://semgrep.dev/docs/managing-findings/#analytics" target="_blank" rel="noopener">Semgrep App</a> users. We call it Fix Rate.</p>
<p>Fix Rate is the percentage of merge-blocking findings that are fixed (i.e., not muted*) in CI. We believe this is a proxy for engineering value. As we run our own developer-focused security programs, we‚Äôre obsessing over how to increase the Fix Rate for the rules on our projects.</p>
<p><span>
      <a href="https://r2c.dev/static/0cf45ac2876fb9f16612b711a3913fe9/dcb79/fix-rate-graph.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Fix rate graph" title="Fix rate graph" src="https://r2c.dev/static/0cf45ac2876fb9f16612b711a3913fe9/1132d/fix-rate-graph.png" srcset="https://r2c.dev/static/0cf45ac2876fb9f16612b711a3913fe9/139a5/fix-rate-graph.png 290w,
https://r2c.dev/static/0cf45ac2876fb9f16612b711a3913fe9/c08bc/fix-rate-graph.png 579w,
https://r2c.dev/static/0cf45ac2876fb9f16612b711a3913fe9/1132d/fix-rate-graph.png 1158w,
https://r2c.dev/static/0cf45ac2876fb9f16612b711a3913fe9/dcb79/fix-rate-graph.png 1700w" sizes="(max-width: 1158px) 100vw, 1158px" loading="lazy">
  </a>
    </span></p>
<p><span>
      <a href="https://r2c.dev/static/bfd3b3c8a1ebc145d71b0e3eadb399ea/e17e5/rules-and-fix-rates.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Fix rate by rule" title="Fix rate by rule" src="https://r2c.dev/static/bfd3b3c8a1ebc145d71b0e3eadb399ea/e17e5/rules-and-fix-rates.png" srcset="https://r2c.dev/static/bfd3b3c8a1ebc145d71b0e3eadb399ea/139a5/rules-and-fix-rates.png 290w,
https://r2c.dev/static/bfd3b3c8a1ebc145d71b0e3eadb399ea/e17e5/rules-and-fix-rates.png 400w" sizes="(max-width: 400px) 100vw, 400px" loading="lazy">
  </a>
    </span></p>
<p><span>
      <a href="https://r2c.dev/static/894c74a34ea9793f7c39c43b11c5dde4/e17e5/random-rule.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Rule to catch use of random" title="Rule to catch use of random" src="https://r2c.dev/static/894c74a34ea9793f7c39c43b11c5dde4/e17e5/random-rule.png" srcset="https://r2c.dev/static/894c74a34ea9793f7c39c43b11c5dde4/139a5/random-rule.png 290w,
https://r2c.dev/static/894c74a34ea9793f7c39c43b11c5dde4/e17e5/random-rule.png 400w" sizes="(max-width: 400px) 100vw, 400px" loading="lazy">
  </a>
    </span></p>
<p>Observing a bad 0% Fix Rate for <code>random()</code> (with only 7 data points from our projects), we decided to silence the rule for r2c developers but send a Slack notification to the security team using <a href="https://semgrep.dev/docs/managing-policy/" target="_blank" rel="noopener">multi-policy projects</a> and <a href="https://github.com/returntocorp/semgrep-action/#audit-mode" target="_blank" rel="noopener">CI audit mode</a>. Even in this first version, we‚Äôre finding Fix Rate incredibly powerful for evolving our own rules, policies, and development practices.</p>
<p>We shared Fix Rate with the Figma security team early on, which they used for rule development.</p>
<blockquote>
<p><em>With its GitHub integration, Semgrep brings security analysis to where development happens. Figmates get security feedback in their PRs, while rule analytics gives the security team feedback on the effectiveness of our rules and patterns. The simple grep like syntax allows us to extend Semgrep to catch new patterns, going from idea to live in an hour.</em></p>
</blockquote>
<p><em>‚Äî Dev Akhawe, Head of Security, Figma</em></p>
<p>We‚Äôre excited for developer action to determine the efficacy of static analysis rules. For this you need to surface real findings to real engineers writing real code; no pre-existing benchmark will suffice.</p>
<p>To a future of fast, delightful, and confidence-inspiring static analysis.</p>
<p>Luke O‚ÄôMalley
<br>Head of Product, Co-Founder @ r2c</p>
<p>*Semgrep users can mute a finding with <code>// nosemgrep</code> inline comment or via a project-wide ignore file. See <a href="https://semgrep.dev/docs/ignoring-findings/" target="_blank" rel="noopener">docs</a>.</p></div></div></div></section></div>]]>
            </description>
            <link>https://r2c.dev/blog/2021/should-random-be-banned/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26104056</guid>
            <pubDate>Thu, 11 Feb 2021 17:03:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why I Built Litestream]]>
            </title>
            <description>
<![CDATA[
Score 561 | Comments 147 (<a href="https://news.ycombinator.com/item?id=26103776">thread link</a>) | @benbjohnson
<br/>
February 11, 2021 | https://litestream.io/blog/why-i-built-litestream/ | <a href="https://web.archive.org/web/*/https://litestream.io/blog/why-i-built-litestream/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="document"><div><div><div><article><p><em>tl;dr‚ÄîDespite an exponential increase in computing power, our applications
require more machines than ever because of architectural decisions made 25 years
ago. You can eliminate much of your complexity and cost by using SQLite &amp;
Litestream for your production applications.</em></p><h2 id="when-i-was-your-age">When I was your age‚Ä¶</h2><p>I can tell I‚Äôm getting old because I talk about the ‚Äúgood old days‚Äù of computing.
Back when knowing a single programming language and SQL was good enough to work
at most jobs. Back when you could build all your web pages with basic HTML skills.</p><p>But the good old days weren‚Äôt actually that good.</p><p>They kinda sucked.</p><p>In 1995, the <a href="https://tedium.co/2019/10/01/lamp-stack-php-mysql-apache-history/">LAMP stack</a> emerged. It was a combination of Linux, Apache,
MySQL, &amp; PHP. It‚Äôs a simple stack that all lived on one box. Unfortunately, that
box was stocked with a CPU that was measured in megahertz and memory that was
measured in megabytes. It was dog slow.</p><p>But <a href="https://en.wikipedia.org/wiki/Moore%27s_law">Moore‚Äôs Law</a> promised a better future as computers became
exponentially faster. So why do we need more computers than ever before?</p><h3 id="where-it-went-wrong">Where it went wrong</h3><p>Since early web languages like PHP and Ruby were slow, you didn‚Äôt want them
running on your database server so you moved them to their own servers in what
is called an <a href="https://en.wikipedia.org/wiki/Multitier_architecture">n-tier architecture</a>. Now you can keep adding more
stateless Ruby servers to this <em>presentation layer</em> and scale your application.</p><p>Database servers like Oracle, PostgreSQL, and MySQL tended to be complicated to
operate so this architecture helped to isolate them. Scaling and managing
a fleet of database servers is a nighmare so organizations scale up their
database machine vertically as much as possible before they scaled horizontally
to multiple servers.</p><p>This n-tier architecture sounds simple at first but it has hidden complexity. On
a single machine, our server could add an in-memory cache to speed up requests
but now data is shared across multiple machines so we must add a <a href="https://memcached.org/">memcached</a>
or <a href="https://redis.io/">Redis</a> server to share cached data. Database servers are easily overloaded
by numerous connections so we have to add intermediate services like
<a href="https://www.pgbouncer.org/">PgBouncer</a> to pool connections. If we have events in our system that must be
communicated to all our nodes then we need a cluster of <a href="https://kafka.apache.org/">Kafka</a> machines.</p><p>Now we have a fleet of machines to manage. These systems have then caused an
explosion in infrastructure automation with tooling like <a href="https://kubernetes.io/">Kubernetes</a>. All of
these layers slow us down from our job of writing software systems that solve
real problems.</p><p>What started as a simple two-tier software system has grown into a behemoth with
a dozen layers of complexity.</p><p>Complexity begets complexity.</p><h2 id="building-litestream">Building Litestream</h2><p>My background is in writing databases. Seven years ago, I wrote a pure Go,
embedded key/value store called <a href="http://github.com/boltdb/bolt">BoltDB</a> that has seen success in other
open-source applications that use it such as <a href="https://etcd.io/">etcd</a>.</p><p>For a while, I used Bolt when writing applications and it was refreshing because
there were no depedencies to set up and performance was <em>blazingly fast</em>.
However, it lacked features like schema migration, a query language, or a
<a href="https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop">REPL</a> so it made application development difficult. But instead of going back
to database servers like Postgres, I turned to <a href="https://sqlite.org/">SQLite</a>.</p><h3 id="moving-to-sqlite">Moving to SQLite</h3><p><em>‚ÄúBut nobody writes production applications with SQLite, right?"</em></p><p>No, there‚Äôs a growing movement of people that see the value of single process
applications. Expensify has run tests of <a href="https://blog.expensify.com/2018/01/08/scaling-sqlite-to-4m-qps-on-a-single-server/">4 million queries per second on a
single node</a> using SQLite. <a href="https://twitter.com/davidcrawshaw">David Crawshaw</a> has a
<a href="https://www.youtube.com/watch?v=RqubKSF3wig">conference talk</a> and <a href="https://crawshaw.io/blog/one-process-programming-notes">blog post</a> on building
single process applications on SQLite. Django co-creator <a href="https://simonwillison.net/">Simon
Willison</a> built a data exploration and publishing tool called
<a href="https://datasette.io/">Datasette</a> that‚Äôs built on SQLite.</p><p>SQLite is known for being bulletproof and having an <a href="https://litestream.io/blog/why-i-built-litestream/sqlite-testing">absurdly in-depth testing
suite</a>. It‚Äôs motto is <em>‚ÄúSmall. Fast. Reliable. Choose any three."</em></p><p>So why is SQLite considered a ‚Äútoy‚Äù database in the application development
world and not a production database?</p><h3 id="that-one-big-issue">That one big issue</h3><p>The biggest problem with using SQLite in production is disaster recovery. If
your server dies, so does your data. That‚Äôs‚Ä¶ not good.</p><p>Other database servers have replication so they can stream database changes to
another server in case one goes down. The best you can hope for with standard
SQLite is to run a nightly backup. Solutions like <a href="https://github.com/rqlite/rqlite">rqlite</a> are great but
it requires a 3-node cluster.</p><p>Why can‚Äôt SQLite have a replication tool that‚Äôs as easy to use as SQLite?</p><h3 id="the-problem-litestream-solves">The problem Litestream solves</h3><p>I built Litestream to bring back sanity to application development. Litestream
is a tool that runs in a separate process and continuously replicates a SQLite
database to Amazon S3. You can get up and running with a few
lines of configuration. Then you can set-it-and-forget-it and get back to
writing code.</p><p>You might think this sounds expensive to continuously write to cloud storage
that provides <a href="https://aws.amazon.com/s3/storage-classes/">99.99% uptime</a> and <a href="https://aws.amazon.com/s3/storage-classes/">99.999999999% durability</a> but
it‚Äôs astoundingly cheap. Typical costs are only about $1 per month. Litestream
is free and open-source too so there‚Äôs never a license to pay for.</p><h3 id="but-i-need-100-uptime">But I need 100% uptime‚Ä¶</h3><p>The software industry has chased uptime as a goal in and of itself over the last
several decades. Solutions such as Kubernetes tout the benefits of zero-downtime
deployments but ignore that their inherent complexity causes availability
issues. <a href="https://k8s.af/">There‚Äôs even a web site dedicated to public postmortems related to
Kubernetes.</a></p><p>Most cloud providers provide multiple layers of redundancy in their systems to
protect against individual node and network failures. This doesn‚Äôt provide a
100% guarantee but will provide you with very high uptime servers. Anecdotally,
I‚Äôve run several VPS servers over the years which all have well over 99.9%
uptime and have suffered no catastrophic failures.</p><h3 id="sounds-good-but-how-do-you-scale-this">Sounds good, but how do you scale this?</h3><p>Developers always want to know how to scale but that depends on their particular
application. Typically, you want to scale vertically first by simply increasing
amount of CPUs cores and RAM on your machine first.</p><p>Servers these days have a <em>ton</em> of power. I recently wrote a Go web application
with a SQLite database that would serve an HTTP request with multiple database
queries in under <em>50¬µs</em> on a $5/month VPS. That translates to thousands of
requests per second per core. SQLite scales reads well with the number of cores
on a machine. Amazon AWS has machines that can then scale up to 96 CPU cores and
hundreds of gigabytes of RAM.</p><p>If you exceed the capacity of a single node, sharding your data can allow you to
scale horizontally to multiple nodes. This works particularly well for SaaS
applications where each customer is isolated from one another. Because SQLite
and Litestream simplify deployment, managing a cluster of several isolated nodes
is easy to maintain.</p><h2 id="the-future-of-litestream">The Future of Litestream</h2><p>Litestream is helping to simplify application development but that‚Äôs only the
start of it. There are exciting features coming including replication to
<a href="https://github.com/benbjohnson/litestream/issues/8">read-only replicas</a>. This will give you the ability to run local
copies of your database at the edge to deliver requests instantly.</p><p>If you‚Äôre interested in trying out Litestream, the <a href="https://litestream.io/getting-started">Getting
Started</a> can get you up and running in less than 10 minutes.</p><p>I‚Äôm interested to hear from others that want to simplify and improve application
development. If you have ideas or thoughts about the future of Litestream,
please get in touch on the <a href="https://github.com/benbjohnson/litestream/discussions">GitHub Discussions board</a> and drop me a
line.</p><p><em>Update: This post sparked a lot of discussion on Hacker News that you can <a href="https://news.ycombinator.com/item?id=26103776">read here</a>.</em></p><p>‚ÄîBen Johnson (<a href="https://twitter.com/benbjohnson">@benbjohnson</a>)</p></article></div></div></div></div></div>]]>
            </description>
            <link>https://litestream.io/blog/why-i-built-litestream/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26103776</guid>
            <pubDate>Thu, 11 Feb 2021 16:46:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How Fat Does a Fat Binary Need to Be?]]>
            </title>
            <description>
<![CDATA[
Score 154 | Comments 54 (<a href="https://news.ycombinator.com/item?id=26103769">thread link</a>) | @jart
<br/>
February 11, 2021 | https://justine.lol/cosmopolitan/howfat.html | <a href="https://web.archive.org/web/*/https://justine.lol/cosmopolitan/howfat.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><header>
  <img width="196" height="105" src="https://storage.googleapis.com/justine/cosmopolitan/cosmopolitan.png" title="cosmopolitan honeybadger" alt="honeybadger">
  
  <span>your build-once run-anywhere c library</span>
</header>

<nav>
  <ul>
    <li><a href="https://justine.lol/cosmopolitan/index.html">Intro</a>
    </li><li><a href="https://justine.lol/cosmopolitan/download.html">Download</a>
    </li><li><a href="https://justine.lol/cosmopolitan/documentation.html">Documentation</a>
    </li><li><a href="https://justine.lol/cosmopolitan/tutorials.html">Tutorials</a>
    </li><li><a href="https://github.com/jart/cosmopolitan">GitHub</a>
    </li><li><a href="https://justine.lol/cosmopolitan/license.html">License</a>
    </li><li><a href="https://justine.lol/index.html">¬ª justine's web page</a>
  </li></ul>
</nav>



<p>
  Cosmopolitan lets you build executables that run natively on seven
  operating systems. One of the first questions C/C++ developers ask is
  how much bloat does that entail? Is the Cosmopolitan Runtime lean and
  mean like Go's 2mb Hello World executables? Or is it a monster like
  Electron or those hundred megabyte OpenJDK shell scripts.

</p><p>
  The answer is it takes about 12kb. That's how big a statically-linked
  executable needs to be to run natively without dependencies on Linux,
  Mac, Windows, FreeBSD, OpenBSD, NetBSD, and BIOS. Cosmopolitan is
  designed to let you build such programs. This page will demonstrate
  why the portability benefits Cosmopolitan provides have negligible
  performance impact and therefore only serve to save time while
  ensuring your work can reach a broader audience.

</p><p>
  The form below lets you build and visualize hello world programs with
  a customized support vector. It will show you exactly what goes into
  an <a href="https://justine.lol/ape.html" title="Actually Portable Executable">Œ±cœÑ¬µŒ±lly
  pŒ¥rœÑŒ±blŒµ ŒµxŒµc¬µœÑŒ±blŒµ</a> that lets it integrate with so many systems.
  Since seeing is believing, the hope is that you'll choose to trust
  Cosmopolitan as your POSIX-comforming systems abstraction.

</p><table>
<tbody><tr>
<td>
  <p>
    <strong>build me a program...</strong>
  </p><p>
    <label for="life">exit(42)</label><br>
    <label for="hello2">write(hello world)</label><br>
    <label for="statsize">exit(stat($1).st_size)</label><br>
  </p><p>
    <strong>that runs on...</strong>
  </p><p>
    <label for="linux" title="Linux, Ubuntu, Android, etc.">GNU/Systemd (1)</label><br>
    <label for="freebsd">FreeBSD (32)</label><br>
    <label for="openbsd">OpenBSD  (16)</label><br>
    <label for="netbsd">NetBSD (64)</label><br>
    <label for="xnu" title="Mac OS X, iPhone, Darwin">XNU's Not UNIX (8)</label><br>
    <label for="metal" title="The Old Technology">Bare Metal (2)</label><br>
    <label for="windows" title="The New Technology">Windows (4)</label><br>
  </p><p>
    <strong>show me...</strong>
  </p><p>
    <label for="img">binary</label><br>
    <label for="asm">assembly</label><br>
    <label for="src">source code</label><br>
  </p><p>
    <strong>output</strong>
  </p><p>
    <a id="output" href="https://justine.lol/cosmopolitan/howfat/life.v127.com">life.com</a> (<span id="size">12</span>kb)
  </p><p>
    <strong>config</strong>
  </p><p>
    make o/tiny/examples/<span id="target">life</span>.com MODE=tiny CPPFLAGS=-DSUPPORT_VECTOR=0b<span id="SUPPORT_VECTOR">1111111</span>
</p></td><td id="sauce">
hoo
</td></tr></tbody></table>



</div>]]>
            </description>
            <link>https://justine.lol/cosmopolitan/howfat.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26103769</guid>
            <pubDate>Thu, 11 Feb 2021 16:46:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Uncovering a 24-year-old bug in the Linux Kernel]]>
            </title>
            <description>
<![CDATA[
Score 416 | Comments 33 (<a href="https://news.ycombinator.com/item?id=26102241">thread link</a>) | @greenonion
<br/>
February 11, 2021 | https://engineering.skroutz.gr/blog/uncovering-a-24-year-old-bug-in-the-linux-kernel/ | <a href="https://web.archive.org/web/*/https://engineering.skroutz.gr/blog/uncovering-a-24-year-old-bug-in-the-linux-kernel/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p>As part of our standard toolkit, we provide each developer at Skroutz
with a writable database snapshot against which she can develop. These
snapshots are updated daily through a pipeline that involves taking an
LVM snapshot of production data, anonymizing the dataset by stripping
all personal data, and transferring it via rsync to the development
database servers. The development servers in turn use ZFS snapshots to
expose a copy-on-write snapshot to each developer, with
self-service tools allowing rollback or upgrades to newer snapshots.</p>

<p>We use the same pipeline to expose MariaDB and MongoDB data, with a
full dataset size of 600GB and 200GB respectively, and a slightly
modified pipeline for Elasticsearch. While on-disk data changes
significantly for all data sources, rsync still saves significant time
by transferring roughly 1/3 of the full data set every night. This
setup has worked rather well for the better part of a decade and has
managed to scale from 15 developers to 150. However, as with most
systems, it has had its fair share of maintenance and has given us
some interesting moments.</p>

<p>One of the most interesting issues we encountered led to the discovery
of a fairly old bug in the Linux kernel TCP implementation: every now
and then, an rsync transfer from a source server would hang
indefinitely for no apparent reason, as ‚Äî apart from the stuck transfer ‚Äî
everything else seemed to be in order. What‚Äôs more, for reasons that became
apparent later, the issue could not be reproduced at will, although
some actions (e.g. adding an rsync-level rate limit) seemed to make
the issue less frequent, with frequency ranging from once or twice per
week to once every three months.</p>

<p>As is not unusual in these cases, we had more urgent systems and issues to
attend to, so we labeled this a ‚Äúrace condition in rsync‚Äù that we
should definitely look into at some point, and worked around it by
throttling the rsync transfers.</p>

<p>Until it started biting us every single day.</p>

<h2 id="rsync-as-a-pipeline">rsync as a pipeline</h2>

<p>While not strictly necessary, knowing how rsync works internally will help
understand the analysis that follows. The rsync site contains <a href="https://rsync.samba.org/how-rsync-works.html">a thorough
description</a> of rsync‚Äôs internal architecture, so I‚Äôll try to
summarize the most important points here:</p>

<ol>
  <li>
    <p>rsync starts off as a single process on the client and a single
process on the server, communicating via a socket pair. When using
the rsync daemon, as in our case, communication is done over a
plain TCP connection</p>
  </li>
  <li>
    <p>Based on the direction of sync, after the initial handshake is
over, each end assumes a <em>role</em>, either that of the <em>sender</em>, or
that of the <em>receiver</em>. In our case the client is the receiver,
and the server is the sender.</p>
  </li>
  <li>
    <p>The receiver forks an additional process called the <em>generator</em>,
sharing the socket with the <em>receiver</em> process. The <em>generator</em>
figures out what it needs to ask from the <em>sender</em>, and the
<em>sender</em> subsequently sends the data to the <em>receiver</em>. What we
essentially have after this step is a pipeline, <em>generator</em> ‚Üí
<em>sender</em> ‚Üí <em>receiver</em>, where the arrows are the two directions of
<em>the same</em> TCP connection. While there is some signaling involved,
the pipeline operates in a <em>blocking</em> fashion and relies on OS
buffers and TCP receive windows to apply backpressure.</p>
  </li>
</ol>

<h2 id="a-ghost-in-the-network">A ghost in the network?</h2>

<p>Our first reaction when we encountered the issue was to suspect the
network for errors, which was a <em>reasonable</em> thing to do since we had
recently upgraded our servers and switches. After eliminating the
usual suspects (NIC firmware bugs involving TSO/GSO/GRO/VLAN
offloading, excessive packet drops or CRC errors at the switches etc),
we came to the conclusion that everything was normal and something
else had to be going on.</p>

<p>Attaching the hung processes using strace and gdb told us little: the
generator was hung on <code>send()</code> and the sender and receiver were hung
on <code>recv()</code>, yet no data was moving. However, turning to the kernel on
both systems revealed something interesting! On the client the rsync
socket shared between the <em>generator</em> and the <em>receiver</em> processes was
in the following state:</p>

<div><pre><code data-lang="bash"><span>$ </span>ss -mito dst :873
State      Recv-Q Send-Q                  Local Address:Port                                 Peer Address:Port
ESTAB      <span>0</span>      <span>392827</span> ‚ù∂             2001:db8:2a::3:38022                             2001:db8:2a::18:rsync                 timer:<span>(</span>persist,1min56sec,0<span>)</span>
	 skmem:<span>(</span>r0,rb4194304,t0,tb530944,f3733,w401771,o0,bl0,d757<span>)</span> ts sack cubic wscale:7,7 rto:204 backoff:15 rtt:2.06/0.541 ato:40 mss:1428 cwnd:10 ssthresh:46 bytes_acked:22924107 bytes_received:100439119971 segs_out:7191833 segs_in:70503044 data_segs_out:16161 data_segs_in:70502223 send 55.5Mbps lastsnd:16281856 lastrcv:14261988 lastack:3164 pacing_rate 133.1Mbps retrans:0/11 rcv_rtt:20 rcv_space:2107888 notsent:392827 minrtt:0.189</code></pre></div>

<p>while on the server, the socket state was the following:</p>

<div><pre><code data-lang="bash"><span>$ </span>ss -mito src :873
State      Recv-Q Send-Q                Local Address:Port                                 Peer Address:Port
ESTAB      <span>0</span>      <span>0</span>                   2001:db8:2a::18:rsync                              2001:db8:2a::3:38022                 timer:<span>(</span>keepalive,3min7sec,0<span>)</span>
 	 skmem:<span>(</span>r0,rb3540548,t0,tb4194304,f0,w0,o0,bl0,d292<span>)</span> ts sack cubic wscale:7,7 rto:204 rtt:1.234/1.809 ato:40 mss:1428 cwnd:1453 ssthresh:1431 bytes_acked:100439119971 bytes_received:22924106 segs_out:70503089 segs_in:7191833 data_segs_out:70502269 data_segs_in:16161 send 13451.4Mbps lastsnd:14277708 lastrcv:16297572 lastack:7012576 pacing_rate 16140.1Mbps retrans:0/794 rcv_rtt:7.5 rcv_space:589824 minrtt:0.026</code></pre></div>

<p>The interesting thing here is that there are 3.5MB of data on the
client, queued to be sent (‚ù∂ in the first output) by the
<em>generator</em> to the server; however, while the server has an empty <code>Recv-Q</code>
and can accept data, nothing seems to be moving forward. If <code>Recv-Q</code>
in the second output was non-zero, we would be looking at rsync on the
server being stuck and not reading from the network, however here it
is obvious that rsync has consumed all incoming data and is not to
blame.</p>

<p>So why is data queued up on one end of the connection, while the other end is
obviously able to accept it? The answer is conveniently hidden in the <code>timer</code>
fields of both <code>ss</code> outputs, especially in
<code>timer:(persist,1min56sec,0)</code>. Quoting <code>ss(8)</code>:</p>

<div><pre><code data-lang="man">-o, --options
              Show timer information. For TCP protocol, the output format is:

              timer:(&lt;timer_name&gt;,&lt;expire_time&gt;,&lt;retrans&gt;)

              &lt;timer_name&gt;
                     the name of the timer, there are five kind of timer names:

                     on : means one of these  timers:  TCP  retrans  timer,  TCP
                     early retrans timer and tail loss probe timer

                     keepalive: tcp keep alive timer

                     timewait: timewait stage timer

                     persist: zero window probe timer

                     unknown: none of the above timers</code></pre></div>

<p><code>persist</code> means that the connection has received a zero window
advertisement and is waiting for the peer to advertise a non-zero
window.</p>

<h2 id="tcp-zero-windows-and-zero-window-probes">TCP Zero Windows and Zero Window Probes</h2>

<p>TCP implements flow control by limiting the data in flight using a sliding
window called the <em>receive window</em>. Wikipedia has a <a href="https://en.wikipedia.org/wiki/Transmission_Control_Protocol#Flow_control">good description</a>, but in short each end of a TCP connection advertises how much
data it is willing to buffer for the connection, i.e. how much data the other
end may send before waiting for an acknowledgment.</p>

<p>When one side‚Äôs receive buffer (<code>Recv-Q</code>) fills up (in this case
because the rsync process is doing disk I/O at a speed slower than the
network‚Äôs), it will send out a zero window advertisement, which will
put that direction of the connection on hold. When buffer space
eventually frees up, the kernel will send an unsolicited window update
with a non-zero window size, and the data transfer continues. To be
safe, just in case this unsolicited window update is lost, the other
end will regularly poll the connection state using the so-called Zero
Window Probes (the <code>persist</code> mode we are seeing here).</p>

<h2 id="the-window-is-stuck-closed">The window is stuck closed</h2>

<p>It‚Äôs now time to dive a couple of layers deeper and use <code>tcpdump</code> to
see what‚Äôs going on at the network level:</p>

<div><pre><code data-lang="text">[‚Ä¶]
09:34:34.165148 0c:c4:7a:f9:68:e4 &gt; 0c:c4:7a:f9:69:78, ethertype IPv6 (0x86dd), length 86: (flowlabel 0xcbf6f, hlim 64, next-header TCP (6) payload length: 32) 2001:db8:2a::3.38022 &gt; 2001:db8:2a::18.873: Flags [.], cksum 0x711b (incorrect -&gt; 0x4d39), seq 4212361595, ack 1253278418, win 16384, options [nop,nop,TS val 2864739840 ecr 2885730760], length 0
09:34:34.165354 0c:c4:7a:f9:69:78 &gt; 0c:c4:7a:f9:68:e4, ethertype IPv6 (0x86dd), length 86: (flowlabel 0x25712, hlim 64, next-header TCP (6) payload length: 32) 2001:db8:2a::18.873 &gt; 2001:db8:2a::3.38022: Flags [.], cksum 0x1914 (correct), seq 1253278418, ack 4212361596, win 13831, options [nop,nop,TS val 2885760967 ecr 2863021624], length 0
[‚Ä¶ repeats every 2 mins]</code></pre></div>

<p>The first packet is the rsync client‚Äôs zero window probe, the second
packet is the server‚Äôs response. Surprisingly enough, the server is
advertising a non-zero window size of 13831 bytes¬π which the client
apparently ignores.</p>

<p>¬π actually multiplied by 128 because of a <a href="https://en.wikipedia.org/wiki/TCP_window_scale_option">window scaling</a> factor
of 7</p>

<p>We are finally making some progress and have a case to work on! At
some point the client encountered a zero window advertisement from the
server as part of regular TCP flow control, but then the window failed
to re-open for some reason. The client seems to be still ignoring
the new window advertised by the server and this is why the transfer
is stuck.</p>

<h2 id="linux-tcp-input-processing">Linux TCP input processing</h2>

<p>By now it‚Äôs obvious that the TCP connection is in a weird state on the
rsync client. Since TCP flow control happens at the kernel level, to
get to the root of this we need to look at how the Linux kernel
handles incoming TCP acknowledgments and try to figure out why it
ignores the incoming window advertisement.</p>

<p>Incoming TCP packet processing happens in
<a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/net/ipv4/tcp_input.c"><code>net/ipv4/tcp_input.c</code></a>.Despite
the <code>ipv4</code> component in the path, this is ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://engineering.skroutz.gr/blog/uncovering-a-24-year-old-bug-in-the-linux-kernel/">https://engineering.skroutz.gr/blog/uncovering-a-24-year-old-bug-in-the-linux-kernel/</a></em></p>]]>
            </description>
            <link>https://engineering.skroutz.gr/blog/uncovering-a-24-year-old-bug-in-the-linux-kernel/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26102241</guid>
            <pubDate>Thu, 11 Feb 2021 15:12:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[On the Toxicity of Zed A. Shaw (With Bonus 0days)]]>
            </title>
            <description>
<![CDATA[
Score 62 | Comments 36 (<a href="https://news.ycombinator.com/item?id=26101781">thread link</a>) | @todsacerdoti
<br/>
February 11, 2021 | https://soatok.blog/2021/02/11/on-the-toxicity-of-zed-a-shaw/ | <a href="https://web.archive.org/web/*/https://soatok.blog/2021/02/11/on-the-toxicity-of-zed-a-shaw/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		<div>

			
<p>Let me say up front, I‚Äôm <a href="https://soatok.blog/2020/07/09/a-word-on-anti-furry-sentiments-in-the-tech-community/">no stranger to negative or ridiculous feedback</a>. It‚Äôs incredibly hard to hurt my feelings, especially if you intend to. You don‚Äôt openly participate in <a href="https://soatok.blog/2020/04/23/never-underestimate-the-furry-fandom/">the furry fandom</a> since 2010 without being accustomed to malevolence and trolling. If this were simply a story of someone being an asshole to me, I would have shrugged and moved on with my life.</p>



<p>It‚Äôs important that you understand this, because when you call it like you see it, sometimes people dismiss your criticism with <a href="https://www.takethis.org/2016/04/triggered-a-personal-response-to-a-popular-meme/">‚Äútriggered‚Äù memes</a>. This isn‚Äôt me being offended. I promise.</p>



<hr>



<p>My recent blog post about <a href="https://soatok.blog/2021/02/09/crackpot-cryptography-and-security-theater/">crackpot cryptography</a> received a fair bit of attention in the software community. At one point it was on the front page of Hacker News (which is something that pretty much never happens for anything I write).</p>



<p>Unfortunately, that also means I crossed paths with Zed A. Shaw, the author of <em>Learn Python the Hard Way</em> and other books often recommended to neophyte software developers.</p>



<p>As someone who spends a lot of time <a href="https://soatok.blog/2020/06/08/furward-momentum-introduction/">trying to help newcomers acclimate to the technology industry</a>, there are some behaviors I‚Äôve recognized in technologists over the years that makes it harder for newcomers to overcome anxiety, frustration, and Impostor Syndrome. (Especially if they‚Äôre LGBTQIA+, a person of color, or a woman.)</p>



<p>Normally, these are easily correctable behaviors exhibited by people who have good intentions but don‚Äôt realize the harm they‚Äôre causing‚Äìoften not by what they‚Äôre saying, but by how they say it.</p>



<p>Sadly, I can‚Äôt be so generous about‚Ä¶ whatever <em>this</em> is:</p>



<figure><div>
<div><blockquote data-width="550" data-dnt="true"><div lang="en" dir="ltr"><p>Every time I read something by a cryptographer claiming to know when people are qualified to attempt cryptography software I go and see if they said *anything* about OpenSSL during the 20+ years it was obviously flawed:<a href="https://t.co/Iw9rtUm1rY">https://t.co/Iw9rtUm1rY</a></p><p>Nope. Not a word.</p></div>‚Äî Zed A. Shaw, Writer (@lzsthw) <a href="https://twitter.com/lzsthw/status/1359659091782733827?ref_src=twsrc%5Etfw">February 11, 2021</a></blockquote></div>
</div><figcaption>What the fuck.</figcaption></figure>



<p>Having never before encountered a living example of a poorly-written villain towards the work I do to help disadvantaged people thrive in technology careers, I sought to clarify Shaw‚Äôs intent.</p>



<figure><div>
<div><blockquote data-width="550" data-dnt="true"><p lang="en" dir="ltr">Not particularly, since you did lightly bring up the absurdity of telling people to not attempt implementing proven algorithms, but OpenSSL has been a broken piece of crap for a long time so if you are as legit as you say, then let's see your take down of OpenSSL.</p>‚Äî Zed A. Shaw, Writer (@lzsthw) <a href="https://twitter.com/lzsthw/status/1359673331960733696?ref_src=twsrc%5Etfw">February 11, 2021</a></blockquote></div>
</div></figure>



<figure><div>
<div><blockquote data-width="550" data-dnt="true"><p lang="en" dir="ltr">In my mind, if you've got a blog post that authoritative then you should be able to take the OpenSSL code before Heartbleed and find all the defect that both openssl and libressl projects found.   If not, then are you really as qualified as you think?</p>‚Äî Zed A. Shaw, Writer (@lzsthw) <a href="https://twitter.com/lzsthw/status/1359673714607013905?ref_src=twsrc%5Etfw">February 11, 2021</a></blockquote></div>
</div><figcaption>The shitshow is <a href="https://archive.md/ajsRy">archived</a> too.</figcaption></figure>



<p>This is effectively a very <em>weird</em> hybrid of an oddly-specific purity test and a form of hazing ritual.</p>



<p>Let‚Äôs step back for a second. Can you even fathom the damage attitudes like this can cause? I can tell you firsthand, because it happened to me.</p>



<h2 id="interlude">Interlude: Amplified Impostor Syndrome</h2>



<p>In the beginning of my career, I was just a humble web programmer. Due to a long story I don‚Äôt want to get into now, I was acquainted with the culture of black-hat hacking that precipitates the DEF CON community.</p>



<p>In particular, I was exposed the writings of a malicious group called <a href="https://www.exploit-db.com/ezines/kr5hou2zh4qtebqk.onion/ZF0/">Zero For 0wned</a>, which made sport of hunting ‚Äúskiddiez‚Äù and preached a very ‚Äúshut up and stay in your lane‚Äù attitude:</p>



<blockquote><p>Geeks don‚Äôt really come to HOPE to be lectured on the application of something simple, with very simple means, by a 15 year old. A combination of all the above could be why your room wasn‚Äôt full. Not only was it fairly empty, but it emptied at a rapid rate. I could barely take a seat through the masses pushing me to escape. Then when I thought no more people could possibly leave, they kept going. The room was almost empty when I gave in and left also. Heck, I was only there because we pwned the very resources you were talking about.</p><cite>Zero For 0wned</cite></blockquote>



<p>My first security conference was B-Sides Orlando in 2013. Before the conference, I had been hanging out in the #hackucf IRC channel and had known about the event well in advance (and got along with all the organizers and most of the would-be attendees), and considered applying to their CFP.</p>



<p>I ultimately didn‚Äôt, solely because I was worried about a ZF0-style reception. </p>



<p>I had no reference frame for other folks‚Äô understanding of cryptography (which is my chosen area of discipline in infosec), and thought things like timing side-channels were ‚Äúobvious‚Äù‚Äìeven to software developers outside infosec. (Such is the danger of being self-taught!)</p>



<p>‚ÄúGeeks don‚Äôt really come to B-Sides Orlando to be lectured on the application of something simple, with very simple means,‚Äù is roughly how I imagined the vitriol would be framed.</p>



<p>If it can happen to me, it can happen to <em>anyone</em> interested in tech. It‚Äôs the responsibility of experts and mentors to spare beginners from falling into the trappings of other peoples‚Äô grand-standing.</p>



<h2 id="arrogance">Pride Before Destruction</h2>



<p>With this in mind, let‚Äôs return to Shaw. At this point, more clarifying questions came in, this time from Fredrick Brennan.</p>



<figure><div>
<div><blockquote data-width="550" data-dnt="true"><div lang="en" dir="ltr"><p>OpenSSL had way more problems than only memory safety, but since you don't know about the various downgrade and SSL/TLS protocol issues you just outed yourself as knowing less about cryptography than me.</p><p>And, my whole point is you're no expert because you didn't see them.</p></div>‚Äî Zed A. Shaw, Writer (@lzsthw) <a href="https://twitter.com/lzsthw/status/1359712275666505734?ref_src=twsrc%5Etfw">February 11, 2021</a></blockquote></div>
</div></figure>



<p>What an arrogant and bombastic thing to say!</p>



<p>At this point, I concluded that <a href="https://twitter.com/SoatokDhole/status/1359703488998105090">I can never again, in good conscience, recommend any of Shaw‚Äôs books to a fledgling programmer</a>.</p>



<p>If you‚Äôve ever published book recommendations before, I suggest auditing them to make sure you‚Äôre not inadvertently exposing beginners to his harmful attitude and problematic behavior.</p>



<p>But while we‚Äôre on the subject of Zed Shaw‚Äôs behavior‚Ä¶</p>



<figure><div>

</div><figcaption>This is actually the dude‚Äôs pinned tweet.</figcaption></figure>



<p>If Shaw thinks of himself as a superior cryptography expert, surely he‚Äôs published cryptography code online before.</p>



<p>And surely, it will withstand a five-minute code review from a gay furry blogger who never went through Shaw‚Äôs prescribed hazing ritual to rediscover specifically the known problems in OpenSSL circa Heartbleed and is therefore not as much of a cryptography expert?</p>







<h2 id="zero-day">May I Offer You a Zero-Day in This Trying Time?</h2>



<p>One of Zed A. Shaw‚Äôs Github projects is <a href="https://github.com/zedshaw/srpmin">an implementation of SRP</a> (Secure Remote Password)‚Äìan early Password-Authenticated Key Exchange algorithm often integrated with TLS (to form TLS-SRP).</p>



<div><figure><img data-attachment-id="2758" data-permalink="https://soatok.blog/2021/02/11/on-the-toxicity-of-zed-a-shaw/srpmin/" data-orig-file="https://soatok.files.wordpress.com/2021/02/srpmin.png" data-orig-size="693,463" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="srpmin" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2021/02/srpmin.png?w=300" data-large-file="https://soatok.files.wordpress.com/2021/02/srpmin.png?w=580" src="https://soatok.files.wordpress.com/2021/02/srpmin.png?w=693" alt="" srcset="https://soatok.files.wordpress.com/2021/02/srpmin.png 693w, https://soatok.files.wordpress.com/2021/02/srpmin.png?w=150 150w, https://soatok.files.wordpress.com/2021/02/srpmin.png?w=300 300w" sizes="(max-width: 693px) 100vw, 693px"><figcaption>Zed Shaw‚Äôs SRP implementation</figcaption></figure></div>



<p>Without even looking past the directory structure, we can already see that it implements <a href="https://github.com/zedshaw/srpmin/blob/master/t_truerand.c">an algorithm called TrueRand</a>, which cryptographer Matt Blaze has this to say:</p>



<figure><div>
<div><blockquote data-width="550" data-dnt="true"><p lang="en" dir="ltr">.<a href="https://twitter.com/tqbf?ref_src=twsrc%5Etfw">@tqbf</a> Also: please nobody use truerand. It's 20 yrs old, from before we had /dev/urandom. In dog years, it's eligible for retirement.</p>‚Äî matt blaze (@mattblaze) <a href="https://twitter.com/mattblaze/status/438464425566412800?ref_src=twsrc%5Etfw">February 26, 2014</a></blockquote></div>
</div><figcaption>You should be <a href="https://www.2uo.de/myths-about-urandom/">using /dev/urandom</a>.</figcaption></figure>



<p>As noted by the README, Shaw stripped out all of the ‚Äúextraneous‚Äù things and doesn‚Äôt have all of the previous versions of SRP ‚Äúsince those are known to be vulnerable‚Äù.</p>



<p>So given Shaw‚Äôs previous behavior, and the removal of vulnerable versions of SRP from his fork of Tom Wu‚Äôs libsrp code, it stands to reason that Shaw believes the cryptography code he published would be secure. Otherwise, why would he behave with such arrogance?</p>



<h3>SRP in the Grass</h3>



<div><figure><img data-attachment-id="2723" data-permalink="https://soatok.blog/2021/02/09/crackpot-cryptography-and-security-theater/soatok-by-scruffkerfluff-smol/" data-orig-file="https://soatok.files.wordpress.com/2021/02/soatok-by-scruffkerfluff-smol-1.png" data-orig-size="1200,960" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Soatok-by-ScruffKerfluff-Smol" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2021/02/soatok-by-scruffkerfluff-smol-1.png?w=300" data-large-file="https://soatok.files.wordpress.com/2021/02/soatok-by-scruffkerfluff-smol-1.png?w=580" src="https://soatok.files.wordpress.com/2021/02/soatok-by-scruffkerfluff-smol-1.png" alt=""><figcaption><strong>Head‚Äôs up!</strong> If you aren‚Äôt cryptographically or mathematically inclined, this section might be a bit dense for your tastes. (Art by <a href="https://twitter.com/ScruffKerfluff/">Scruff</a>.)</figcaption></figure></div>



<p>When I say SRP, I‚Äôm referring to <a href="https://en.wikipedia.org/wiki/Secure_Remote_Password_protocol">SRP-6a</a>. Earlier versions of the protocol are out of scope; as are proposed variants (e.g. ones that employ SHA-256 instead of SHA-1).</p>



<p>Professor Matthew D. Green of Johns Hopkins University (who incidentally used to proverbially shit on OpenSSL in the way that Shaw expects everyone to, except productively) <a href="https://blog.cryptographyengineering.com/should-you-use-srp/">dislikes SRP but considered the protocol ‚Äúnot obviously broken‚Äù</a>.</p>



<p>However, a secure protocol doesn‚Äôt mean the implementations are always secure. (Anyone who‚Äôs looked at older versions of OpenSSL‚Äôs BigNum library after reading my <a href="https://soatok.blog/2020/08/27/soatoks-guide-to-side-channel-attacks/">guide to side-channel attacks</a> knows better.)</p>



<p>There are a few ways to implement SRP insecurely:</p>



<ol><li>Use an insecure random number generator (e.g. TrueRand) for salts or private keys.</li><li>Fail to use a <a href="https://tools.ietf.org/html/rfc5054#appendix-A">secure set of parameters</a> (q, N, g).<p>To expand on this, SRP requires q be a Sophie-Germain prime and N be its corresponding Safe Prime. The standard Diffie-Hellman primes (MODP) are not sufficient for SRP.</p><p>This security requirement exists because SRP requires an algebraic structure called a <a href="https://en.wikipedia.org/wiki/Ring_(mathematics)">ring</a>, rather than a cyclic group (as per Diffie-Hellman).</p></li><li>Fail to perform the critical validation steps <a href="https://tools.ietf.org/html/rfc5054#section-3.1">as outlined in RFC 5054</a>.</li></ol>



<p>In one way or another, Shaw‚Äôs SRP library fails at every step of the way. The first two are trivial:</p>



<ol><li>We‚Äôve already seen the RNG used by srpmin. <a href="https://www.schneier.com/wp-content/uploads/2017/10/paper-prngs.pdf">TrueRand is not a cryptographically secure pseudo random number generator</a>.</li><li>Zed A. Shaw‚Äôs srpmin <a href="https://github.com/zedshaw/srpmin/blob/217ec0a968a551fe6452c9bef7b37b38e165c94f/t_conf.c#L39-L107">only supports unsafe primes</a> for SRP (i.e. the ones from RFC 3526, which is for Diffie-Hellman).</li></ol>



<p>The third is more interesting. Let‚Äôs talk about the RFC 5054 validation steps in more detail.</p>



<h4 id="srp6a-validation">Parameter Validation in SRP-6a</h4>



<p>From a client‚Äôs perspective, you must verify that <code>(B % N) != 0</code>. This is critical to the security of SRP. This check <a href="http://srp.stanford.edu/ndss.html#SECTION00043000000000000000">prevents dictionary attacks on the password from a man-in-the-middle</a>.</p>



<p>From the server‚Äôs (or a peer‚Äôs) perspective, you must also verify <code>(A % N) &gt; 0</code> to prevent the server‚Äôs session key from being forced to a known value (i.e. zero).</p>



<p>Additionally, the value <a href="http://srp.stanford.edu/ndss.html#SECTION00032400000000000000"><code>u</code> must not be revealed by the server until the client has sent <code>A</code></a>. It must also not be set to <code>0</code>. Failure to uphold these constraints can allow clients to impersonate their peers.</p>



<p>These are obvious and well-known SRP constraints first published in 1997 by Tom Wu.</p>



<h4 id="server-side">Server-Side Validation in ‚Ä¶</h4></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://soatok.blog/2021/02/11/on-the-toxicity-of-zed-a-shaw/">https://soatok.blog/2021/02/11/on-the-toxicity-of-zed-a-shaw/</a></em></p>]]>
            </description>
            <link>https://soatok.blog/2021/02/11/on-the-toxicity-of-zed-a-shaw/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26101781</guid>
            <pubDate>Thu, 11 Feb 2021 14:27:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Dyson air purifier outperformed by cheap DIY box fan filter in Marketplace test]]>
            </title>
            <description>
<![CDATA[
Score 669 | Comments 508 (<a href="https://news.ycombinator.com/item?id=26101153">thread link</a>) | @walterbell
<br/>
February 11, 2021 | https://www.cbc.ca/1.5900782 | <a href="https://web.archive.org/web/*/https://www.cbc.ca/1.5900782">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>A CBC Marketplace investigation has found out just how effective air purifiers are at cleaning the air in your home at a time when the coronavirus pandemic is forcing us all to spend more time indoors.</p><div><figure><div><p><img loading="lazy" alt="" srcset="" sizes="" src="https://i.cbc.ca/1.5900799.1612453779!/fileImage/httpImage/image.jpeg_gen/derivatives/16x9_780/marketplace-purifier-test.jpeg"></p></div><figcaption>Marketplace tested five different air purifiers to see how well they clean your air.<!-- --> <!-- -->(Anu Singh/CBC)</figcaption></figure><p><span><p>Clean indoor air is increasingly important as COVID-19 keeps Canadians inside. Popular air purifier brands are making a lot of promises about what they can do to keep your home safe, but a CBC <em>Marketplace</em> investigation found that a homemade DIY purifier can actually outperform some of the most well-known brands on the market.</p>  <p>There are plenty of claims for consumers to wade through: "the only air purifier, heater&nbsp;and fan to clean a whole room properly;" "UV-C light killing germs;" and "true HEPA filter" are just some of the promises <em>Marketplace </em>investigated.</p>  <p>University of Toronto engineering professor Jeffrey Siegel, a leading expert on ventilation, filtration and indoor air quality, calls it "a marketing jungle."</p>  <p>Working with Siegel and his team, <em>Marketplace</em> put five popular brands to the test: the Levoit LV-H132, GermGuardian AC5350B, Dyson Pure Hot + Cool, BlueAir Blue Pure 211+ and the Honeywell HPA 160, as well as a DIY box fan with an added filter.&nbsp;</p>  <p>Air purifier sales in Canada jumped nine per cent in 2020 compared to pre-pandemic 2019, totalling $136 million, according to statistics from market research firm Euromonitor.</p>  <h2>Clearing out COVID-19</h2>  <p>Siegel said a good air purifier can also help clear out coronavirus particles and reduce the air's viral load.</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5900805.1612454054!/fileImage/httpImage/image.jpeg_gen/derivatives/original_300/jeffrey-siegel.jpeg 300w,https://i.cbc.ca/1.5900805.1612454054!/fileImage/httpImage/image.jpeg_gen/derivatives/original_460/jeffrey-siegel.jpeg 460w,https://i.cbc.ca/1.5900805.1612454054!/fileImage/httpImage/image.jpeg_gen/derivatives/original_620/jeffrey-siegel.jpeg 620w,https://i.cbc.ca/1.5900805.1612454054!/fileImage/httpImage/image.jpeg_gen/derivatives/original_780/jeffrey-siegel.jpeg 780w,https://i.cbc.ca/1.5900805.1612454054!/fileImage/httpImage/image.jpeg_gen/derivatives/original_1180/jeffrey-siegel.jpeg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5900805.1612454054!/fileImage/httpImage/image.jpeg_gen/derivatives/original_780/jeffrey-siegel.jpeg"></p></div><figcaption>Jeffrey Siegel is a professor of civil engineering at the University of Toronto who has been studying indoor air quality for over 20 years.<!-- --> <!-- -->(Anu Singh/CBC)</figcaption></figure></span></p>  <p>But air purifiers need to be efficient and sized appropriately for the space they are in. Air flow is also key. However Siegel warns all of those things are not enough on their own to protect your family from COVID-19. You still need masks, hand-washing and physical distancing to keep the virus at bay.</p>  <p>A HEPA (high efficiency particulate air) filter is a key part of the equation, too. Viruses such as the novel coronavirus that causes COVID-19 often attach themselves to dust or droplets, and a good air purifier with a HEPA filter can help capture them.</p>  <p>All <a href="https://www.epa.gov/indoor-air-quality-iaq/what-hepa-filter-1"><u>HEPA filters</u></a> are supposed to remove at least 99.97 per cent of dust, pollen, mold, bacteria and airborne particles. All of the models we tested use pleated HEPA filters.</p>  <p><em>Marketplace</em> purchased 15 devices in total ‚Äî three of the same models for each of the five brands used in our tests. Using incense smoke in 24.0 m¬≥ chamber, Siegel and his team <a href="https://www.cbc.ca/news/marketplace/how-clean-is-the-air-in-your-home-1.5900697">tested each device to see how much air-cleaning power it delivers</a> ‚Äî what's known as the Clean Air Delivery Rate&nbsp;(CADR).</p>  <p><em><strong>WATCH | Marketplace test reveals the most effective air purifier:</strong></em></p>  <p><span><span><div><div title="Why more expensive air purifiers aren't always the best" role="button" tabindex="0"><div><div aria-labelledby="1854941251682-metadata-" title="Why more expensive air purifiers aren't always the best"><div><p><img src="https://thumbnails.cbc.ca/maven_legacy/thumbnails/562/851/WEB_CleanAir.png" alt="" loading="lazy"></p></div></div></div></div></div><span>An $800 Dyson air purifier we tested doesn‚Äôt clean your air as well as some less-expensive products. Here‚Äôs what we found.<!-- --> <!-- -->3:09</span></span></span></p>  <p>The CADR measures how long an air-purifying device takes to remove pollen, smoke and dust; different CADR numbers correspond to each one. The benchmark allows consumers to compare the effectiveness of portable air purifiers. You'll find the CADR listed in either cubic feet per minute (cfm), or, in Canada, in cubic metres per hour (m3/hour).&nbsp;</p>  <p>Siegel recommends looking for a CADR rating for smoke of about 200-300 m3/hour (118-176 cfm) for cleaning small to medium-sized rooms. The smoke CADR is generally the lowest and most conservative number, said Siegel.&nbsp;</p>  <p><em><strong>WATCH&nbsp;|&nbsp;Here's how our test worked:</strong></em></p>  <p><span><span><div><div title="This is how the University of Toronto tested air purifiers for Marketplace's test" role="button" tabindex="0"><div><div aria-labelledby="1854855747661-metadata-" title="This is how the University of Toronto tested air purifiers for Marketplace's test"><div><p><img src="https://thumbnails.cbc.ca/maven_legacy/thumbnails/481/295/mp_amy_embedded_xcode_mix_320_frame_856.jpg" alt="" loading="lazy"></p></div></div></div></div></div><span>University of Toronto PhD student Amy Li explains how the lab calculates the clean air delivery rate.<!-- --> <!-- -->0:33</span></span></span></p>  <p>Siegel also threw another set of air purifiers into the mix ‚Äî a do-it-yourself version that consists of a box fan and a filter, taped together with painter's tape. The filter he used was not a HEPA, but a MERV-11 filter, which is cheaper and easier to find. All of the materials were purchased at a hardware store for about $70.&nbsp;</p>  <h2>Results</h2>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5902727.1612545406!/fileImage/httpImage/image.png_gen/derivatives/original_300/air-purifiers-graph.png 300w,https://i.cbc.ca/1.5902727.1612545406!/fileImage/httpImage/image.png_gen/derivatives/original_460/air-purifiers-graph.png 460w,https://i.cbc.ca/1.5902727.1612545406!/fileImage/httpImage/image.png_gen/derivatives/original_620/air-purifiers-graph.png 620w,https://i.cbc.ca/1.5902727.1612545406!/fileImage/httpImage/image.png_gen/derivatives/original_780/air-purifiers-graph.png 780w,https://i.cbc.ca/1.5902727.1612545406!/fileImage/httpImage/image.png_gen/derivatives/original_1180/air-purifiers-graph.png 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5902727.1612545406!/fileImage/httpImage/image.png_gen/derivatives/original_780/air-purifiers-graph.png"></p></div></figure></span></p>  <p>The BlueAir Blue Pure 211+, priced at about $400, performed the best in our tests, with an average CADR of approximately 560 m3/hour.</p>  <p>The poorest performer was also the cheapest product ‚Äî the $150 Levoit LV-H132, with an average CADR of approximately 60 m3/hour.</p>  <p>In its response to <em>Marketplace</em>, Levoit said this model is reviewed and rated positively by customers and is one of Canada's top-selling products; <a href="https://www.cbc.ca/news/marketplace/how-clean-is-the-air-in-your-home-1.5900697">it also noted that this is a desktop model</a> specifically designed for smaller spaces.</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5900843.1612454977!/fileImage/httpImage/image.png_gen/derivatives/original_300/dyson-pure-hot-cool-vs-box-fan.png 300w,https://i.cbc.ca/1.5900843.1612454977!/fileImage/httpImage/image.png_gen/derivatives/original_460/dyson-pure-hot-cool-vs-box-fan.png 460w,https://i.cbc.ca/1.5900843.1612454977!/fileImage/httpImage/image.png_gen/derivatives/original_620/dyson-pure-hot-cool-vs-box-fan.png 620w,https://i.cbc.ca/1.5900843.1612454977!/fileImage/httpImage/image.png_gen/derivatives/original_780/dyson-pure-hot-cool-vs-box-fan.png 780w,https://i.cbc.ca/1.5900843.1612454977!/fileImage/httpImage/image.png_gen/derivatives/original_1180/dyson-pure-hot-cool-vs-box-fan.png 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5900843.1612454977!/fileImage/httpImage/image.png_gen/derivatives/original_780/dyson-pure-hot-cool-vs-box-fan.png"></p></div><figcaption>The Dyson Pure Hot + Cool is the most expensive purifier Marketplace tested, but it fared worse than a DIY box fan and filter in tests. <!-- --> <!-- -->(Chahat Desai/CBC)</figcaption></figure></span></p>  <p>While a poorly performing cheaper model might fall into the category of "you get what you pay for," our $70 DIY box fan and filter outperformed the Levoit by a large margin, averaging just under 200 m3/hour in our tests.</p>  <p>It also outperformed the $800 Dyson Pure Hot+Cool.&nbsp;</p>  <p>At the pricier end of the scale, the Dyson Pure Hot+Cool did not perform as well as some of the less-expensive products.&nbsp;</p>  <p>The Dysons we tested averaged a CADR of about 140 m3/hour, lower than most of the other air purifiers we tested, and well below the approximately 200 m3/hr Siegel recommends for cleaning small to medium-sized rooms.</p>  <p>Dyson air purifiers consistently test lower than other air purifiers; Consumer Reports tested the&nbsp;Dyson TP04 Pure Cool Air Purifier and found it <a href="https://www.consumerreports.org/products/air-purifiers-29549/room-air-purifier-29550/dyson-tp04-pure-cool-397877/#brands%3A158039%3B"><u>"one of the worst-rated air purifiers in CR's [CADR] tests, despite being one of the most expensive."</u></a>&nbsp;</p>  <p>The Dyson Pure Hot+Cool HP04 also has a heater. In this case, Siegel said, "it is clear that you are paying more for the features than you are for the air purifier."</p>  <p><em>Marketplace</em> took its results and questions to Dyson engineer David Hill at the company's headquarters in Malmesbury, England.</p>  <p>"We are, we think, delivering quite a good value proposition for the consumer," he said, stressing that Dyson purifiers can sense pollutants in the air as well as capture them, and also provide strong air projection.</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5900840.1612454823!/fileImage/httpImage/image.png_gen/derivatives/original_300/david-hill-dyson.png 300w,https://i.cbc.ca/1.5900840.1612454823!/fileImage/httpImage/image.png_gen/derivatives/original_460/david-hill-dyson.png 460w,https://i.cbc.ca/1.5900840.1612454823!/fileImage/httpImage/image.png_gen/derivatives/original_620/david-hill-dyson.png 620w,https://i.cbc.ca/1.5900840.1612454823!/fileImage/httpImage/image.png_gen/derivatives/original_780/david-hill-dyson.png 780w,https://i.cbc.ca/1.5900840.1612454823!/fileImage/httpImage/image.png_gen/derivatives/original_1180/david-hill-dyson.png 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5900840.1612454823!/fileImage/httpImage/image.png_gen/derivatives/original_780/david-hill-dyson.png"></p></div><figcaption>Dyson engineer David Hill said that CADR is just one metric to measure the effectiveness of an air purifier.<!-- --> <!-- -->(Steve Dann)</figcaption></figure></span></p>  <p>Dyson has developed its own testing methodology, the POLAR test method, which, unlike the CADR, Hill said, "measures the intelligence of the purifier, the ability for it to know when that room is clean or dirty and automatically react, and its ability to mix that pure air around the room."</p>  <p>While Hill agrees that CADR is an important part of purification, <a href="https://www.cbc.ca/news/marketplace/how-clean-is-the-air-in-your-home-1.5900697">he notes&nbsp;that it is important</a> that products also sense and capture pollutants, and project air.&nbsp;</p>  <p>"I think what we're trying to do is pull back a little bit from the CADR metric," he said. "Not everyone needs an enormous CADR, has huge rooms or incredibly dirty air."</p>  <p>Several experts told <em>Marketplace</em> the CADR is the most important metric and an internationally recognized benchmark.</p>  <p>"CADR is what you want to know, period," said Francis (Bud) Offermann, an indoor air quality researcher who has helped develop test methods for the performance of portable air cleaners with the American Association of Home Appliance Manufacturers (AHAM).&nbsp;&nbsp;</p>  <p>"An air cleaner with a very high-efficient filter and very little air-flow rate will have a low CADR and little air-cleaning ability; same for an air cleaner with a very high air-flow rate and a very low filter efficiency."&nbsp;</p>  <p>In terms of price and performance, the Honeywell True HEPA Whole Room Air Purifier with Allergen Remover HPA160 performed in the middle range of our pack, averaging a CADR of about 180 m3/hr. <em>Marketplace</em> found this product retailing for around $200.&nbsp;&nbsp;</p>  <p>Honeywell <a href="https://www.cbc.ca/news/marketplace/how-clean-is-the-air-in-your-home-1.5900697">said its air purifiers are AHAM certified</a> and compliant with AHAM standards, and are independently validated through repeatable, peer-reviewed tests.</p>  <h2>Expert says some UVC light claims are 'rubbish'</h2>  <p>One of the key promises from GermGuardian is that its AC5350B 28" Air Purifier with HEPA, UVC &amp; Digital purifier is equipped with a UV-C light that can "kill germs." <em>Marketplace</em> paid around $200 for this model.</p>  <p>While some professional-grade UV lights can do that, the experts Marketplace interviewed said the small dose of UV light GermGuardian's purifier delivers is not doing much of anything.</p>  <p>James Malley, a professor of civil and environmental engineering at the University of New Hampshire and an expert on UV light, said that while UV-C light has been used for over 100 years to disinfect and kill viruses, the product must be properly designed and operated, and must use strong, directed UV-C light.</p>  <p><strong><em>WATCH | Cleaning your indoor air on a budget:</em></strong></p>  <p><span><span><div><div title="How to clean the air in your home without spending hundreds of dollars" role="button" tabindex="0"><div><div aria-labelledby="1859106371942-metadata-" title="How to clean the air in your home without spending hundreds of dollars"><div><p><img src="https://thumbnails.cbc.ca/maven_legacy/thumbnails/438/1023/Air_quality_16x9_thumbnail.jpg" alt="" loading="lazy"></p></div></div></div></div></div><span>An indoor air scientist explains what you can do to keep your home‚Äôs air clean without buying a purifier.<!-- --> <!-- -->4:00</span></span></span></p>  <p>Although there are some good UV-C products, Malley warned there are some companies making "rubbish" claims about the efficacy of their UV-C lights.&nbsp;</p>  <p>After analyzing the UV dose and the UV-C power of the GermGuardian, Malley said he feels confident that the UV dose would not be enough to significantly reduce airborne pathogens.</p>  <p>GermGuardian did not give a clear response to our questions about its UV light, <a href="https://www.cbc.ca/news/marketplace/how-clean-is-the-air-in-your-home-1.5900697">but said its purifier</a> "eliminates over 99 per cent of airborne germs in a two-hour time frame," and all their purifiers are independently tested and AHAM verified for CADR.</p>  <ul>   <li><a href="https://www.cbc.ca/news/marketplace/how-clean-is-the-air-in-your-home-1.5900697">Read the full statements from each company featured in our story here</a></li>  </ul>  <p>If you happen to already have any of these devices, Siegel said you don't need to toss them out. They just may not be cleaning your air as thoroughly as you had hoped.&nbsp;</p>  <h2><strong>Tips for buying an air purifier</strong></h2>  <ul>   <li> <p>Look for the CADR rating on the box or the company's website.</p> </li>   <li> <p>Siegel says a smoke CADR rating of about 200-300 cubic metre/hour (m3/hr) is good for a small to medium-sized room; this is equivalent to a CADR of about <a href="https://www.convertunits.com/from/cfm/to/cubic+m/hr"><u>118-176 cubic </u></a>feet/minute (cfm).</p> </li>   <li> <p>Note that most companies provide the CADR in imperial measurements, not metric; use a conversion calculator <a href="https://www.convertunits.com/from/cfm/to/cubic+m/hr"><u>here</u></a>.</p> </li>   <li> <p>Look for purifiers ‚Ä¶</p></li></ul></span></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.cbc.ca/1.5900782">https://www.cbc.ca/1.5900782</a></em></p>]]>
            </description>
            <link>https://www.cbc.ca/1.5900782</link>
            <guid isPermaLink="false">hacker-news-small-sites-26101153</guid>
            <pubDate>Thu, 11 Feb 2021 13:19:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What Do You Agree to When You Accept All Cookies]]>
            </title>
            <description>
<![CDATA[
Score 303 | Comments 155 (<a href="https://news.ycombinator.com/item?id=26101092">thread link</a>) | @kaboro
<br/>
February 11, 2021 | http://www.conradakunga.com/blog/what-do-you-actually-agree-to-when-you-accept-all-cookies/ | <a href="https://web.archive.org/web/*/http://www.conradakunga.com/blog/what-do-you-actually-agree-to-when-you-accept-all-cookies/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <tr>
      <td>1</td>
      <td>: Tappx</td>
      <td><a href="https://www.tappx.com/en/privacy-policy/">https://www.tappx.com/en/privacy-policy/</a></td>
    </tr>
    <tr>
      <td>2</td>
      <td>1020, Inc. dba Placecast and Ericsson Emodo</td>
      <td><a href="https://www.emodoinc.com/privacy-policy/">https://www.emodoinc.com/privacy-policy/</a></td>
    </tr>
    <tr>
      <td>3</td>
      <td>1plusX AG</td>
      <td><a href="https://www.1plusx.com/privacy-policy/">https://www.1plusx.com/privacy-policy/</a></td>
    </tr>
    <tr>
      <td>4</td>
      <td>2KDirect, Inc. (dba iPromote)</td>
      <td><a href="https://www.ipromote.com/privacy-policy/">https://www.ipromote.com/privacy-policy/</a></td>
    </tr>
    <tr>
      <td>5</td>
      <td>33Across</td>
      <td><a href="https://www.33across.com/privacy-policy">https://www.33across.com/privacy-policy</a></td>
    </tr>
    <tr>
      <td>6</td>
      <td>360e-com Sp. z o.o.</td>
      <td><a href="https://www.clickonometrics.com/optout/">https://www.clickonometrics.com/optout/</a></td>
    </tr>
    <tr>
      <td>7</td>
      <td>3Q nexx GmbH</td>
      <td><a href="https://3q.video/de/datenschutz_und_richtlinien">https://3q.video/de/datenschutz_und_richtlinien</a></td>
    </tr>
    <tr>
      <td>8</td>
      <td>42 Ads GmbH</td>
      <td><a href="https://42ads.io/42privacy.pdf">https://42ads.io/42privacy.pdf</a></td>
    </tr>
    <tr>
      <td>9</td>
      <td>6Sense Insights, Inc.</td>
      <td><a href="https://6sense.com/privacy-policy/">https://6sense.com/privacy-policy/</a></td>
    </tr>
    <tr>
      <td>10</td>
      <td>7Hops.com Inc. (ZergNet)</td>
      <td><a href="https://zergnet.com/privacy">https://zergnet.com/privacy</a></td>
    </tr>
    <tr>
      <td>11</td>
      <td>A Million Ads Ltd</td>
      <td><a href="https://www.amillionads.com/privacy-policy">https://www.amillionads.com/privacy-policy</a></td>
    </tr>
    <tr>
      <td>12</td>
      <td>A.Mob</td>
      <td><a href="https://www.we-are-adot.com/privacy-policy/">https://www.we-are-adot.com/privacy-policy/</a></td>
    </tr>
    <tr>
      <td>13</td>
      <td>AAX LLC</td>
      <td><a href="https://aax.media/privacy/">https://aax.media/privacy/</a></td>
    </tr>
    <tr>
      <td>14</td>
      <td>Accorp Sp. z o.o.</td>
      <td><a href="https://www.instytut-pollster.pl/privacy-policy/">https://www.instytut-pollster.pl/privacy-policy/</a></td>
    </tr>
    <tr>
      <td>15</td>
      <td>Active Agent (ADITION technologies AG)</td>
      <td><a href="http://www.active-agent.com/de/unternehmen/datenschutzerklaerung/">http://www.active-agent.com/de/unternehmen/datenschutzerklaerung/</a></td>
    </tr>
    <tr>
      <td>16</td>
      <td>AcuityAds Inc.</td>
      <td><a href="https://privacy.acuityads.com/corporate-privacy-policy.html">https://privacy.acuityads.com/corporate-privacy-policy.html</a></td>
    </tr>
    <tr>
      <td>17</td>
      <td>Acxiom</td>
      <td><a href="https://www.acxiom.com/about-us/privacy/">https://www.acxiom.com/about-us/privacy/</a></td>
    </tr>
    <tr>
      <td>18</td>
      <td>Ad Alliance GmbH</td>
      <td><a href="https://www.ad-alliance.de/datenschutz/">https://www.ad-alliance.de/datenschutz/</a></td>
    </tr>
    <tr>
      <td>19</td>
      <td>ad6media</td>
      <td><a href="https://www.ad6media.fr/privacy">https://www.ad6media.fr/privacy</a></td>
    </tr>
    <tr>
      <td>20</td>
      <td>Adacado Technologies Inc. (DBA Adacado)</td>
      <td><a href="https://adacado.com/privacy-policy/">https://adacado.com/privacy-policy/</a></td>
    </tr>
    <tr>
      <td>21</td>
      <td>adality GmbH</td>
      <td><a href="https://adality.de/en/privacy/">https://adality.de/en/privacy/</a></td>
    </tr>
    <tr>
      <td>22</td>
      <td>ADARA MEDIA UNLIMITED</td>
      <td><a href="https://adara.com/privacy-promise/">https://adara.com/privacy-promise/</a></td>
    </tr>
    <tr>
      <td>23</td>
      <td>adbility media GmbH</td>
      <td><a href="https://www.adbility-media.com/datenschutzerklaerung/">https://www.adbility-media.com/datenschutzerklaerung/</a></td>
    </tr>
    <tr>
      <td>24</td>
      <td>ADCELL - Firstlead GmbH</td>
      <td><a href="https://www.adcell.de/agb#sector_6">https://www.adcell.de/agb#sector_6</a></td>
    </tr>
    <tr>
      <td>25</td>
      <td>AdClear GmbH</td>
      <td><a href="https://www.adclear.de/datenschutzerklaerung/">https://www.adclear.de/datenschutzerklaerung/</a></td>
    </tr>
    <tr>
      <td>26</td>
      <td>AdColony, Inc.</td>
      <td><a href="https://www.adcolony.com/privacy-policy/">https://www.adcolony.com/privacy-policy/</a></td>
    </tr>
    <tr>
      <td>27</td>
      <td>AddApptr GmbH</td>
      <td><a href="https://www.addapptr.com/data-privacy">https://www.addapptr.com/data-privacy</a></td>
    </tr>
    <tr>
      <td>28</td>
      <td>AdDefend GmbH</td>
      <td><a href="https://www.addefend.com/en/privacy-policy/">https://www.addefend.com/en/privacy-policy/</a></td>
    </tr>
    <tr>
      <td>29</td>
      <td>Addrelevance</td>
      <td><a href="https://addrelevance.be/disclaimer">https://addrelevance.be/disclaimer</a></td>
    </tr>
    <tr>
      <td>30</td>
      <td>Adevinta Spain S.L.U.</td>
      <td><a href="https://www.adevinta.com/about/privacy/">https://www.adevinta.com/about/privacy/</a></td>
    </tr>
    <tr>
      <td>31</td>
      <td>Adform</td>
      <td><a href="https://site.adform.com/privacy-center/platform-privacy/product-and-services-privacy-policy/">https://site.adform.com/privacy-center/platform-privacy/product-and-services-privacy-policy/</a></td>
    </tr>
    <tr>
      <td>32</td>
      <td>AdGear Technologies, Inc.</td>
      <td><a href="https://adgear.com/en/privacy">https://adgear.com/en/privacy</a></td>
    </tr>
    <tr>
      <td>33</td>
      <td>Adhese</td>
      <td><a href="https://adhese.com/privacy-and-cookie-policy">https://adhese.com/privacy-and-cookie-policy</a></td>
    </tr>
    <tr>
      <td>34</td>
      <td>adhood.com</td>
      <td><a href="https://v3.adhood.com/en/site/politikavekurallar/gizlilik.php?lang=en">https://v3.adhood.com/en/site/politikavekurallar/gizlilik.php?lang=en</a></td>
    </tr>
    <tr>
      <td>35</td>
      <td>Adikteev</td>
      <td><a href="https://www.adikteev.com/privacy">https://www.adikteev.com/privacy</a></td>
    </tr>
    <tr>
      <td>36</td>
      <td>ADITION technologies AG</td>
      <td><a href="https://www.adition.com/datenschutz">https://www.adition.com/datenschutz</a></td>
    </tr>
    <tr>
      <td>37</td>
      <td>Adjust GmbH</td>
      <td><a href="https://www.adjust.com/terms/privacy-policy/">https://www.adjust.com/terms/privacy-policy/</a></td>
    </tr>
    <tr>
      <td>38</td>
      <td>Adkernel LLC</td>
      <td><a href="https://adkernel.com/privacy-policy/">https://adkernel.com/privacy-policy/</a></td>
    </tr>
    <tr>
      <td>39</td>
      <td>Adloox SA</td>
      <td><a href="https://adloox.com/disclaimer">https://adloox.com/disclaimer</a></td>
    </tr>
    <tr>
      <td>40</td>
      <td>Adludio Ltd.</td>
      <td><a href="https://adludio.com/privacypolicy">https://adludio.com/privacypolicy</a></td>
    </tr>
    <tr>
      <td>41</td>
      <td>ADMAN - Phaistos Networks, S.A.</td>
      <td><a href="https://www.adman.gr/privacy">https://www.adman.gr/privacy</a></td>
    </tr>
    <tr>
      <td>42</td>
      <td>ADman Interactive SLU</td>
      <td><a href="https://admanmedia.com/politica.html?setLng=es">https://admanmedia.com/politica.html?setLng=es</a></td>
    </tr>
    <tr>
      <td>43</td>
      <td>adMarketplace, Inc.</td>
      <td><a href="https://www.admarketplace.com/privacy-policy/">https://www.admarketplace.com/privacy-policy/</a></td>
    </tr>
    <tr>
      <td>44</td>
      <td>AdMaxim Inc.</td>
      <td><a href="https://www.admaxim.com/admaxim-privacy-policy/">https://www.admaxim.com/admaxim-privacy-policy/</a></td>
    </tr>
    <tr>
      <td>45</td>
      <td>Admedo Technology Ltd</td>
      <td><a href="https://www.admedo.com/privacy-policy">https://www.admedo.com/privacy-policy</a></td>
    </tr>
    <tr>
      <td>46</td>
      <td>admetrics GmbH</td>
      <td><a href="https://admetrics.io/en/privacy_policy/">https://admetrics.io/en/privacy_policy/</a></td>
    </tr>
    <tr>
      <td>47</td>
      <td>Admixer EU GmbH</td>
      <td><a href="https://admixer.com/privacy/">https://admixer.com/privacy/</a></td>
    </tr>
    <tr>
      <td>48</td>
      <td>Admo.tv (Clickon)</td>
      <td><a href="https://www.admo.tv/en/privacy-policy">https://www.admo.tv/en/privacy-policy</a></td>
    </tr>
    <tr>
      <td>49</td>
      <td>Adnami Aps</td>
      <td><a href="https://www.adnami.io/privacy">https://www.adnami.io/privacy</a></td>
    </tr>
    <tr>
      <td>50</td>
      <td>adnanny.com SLU</td>
      <td><a href="https://adnanny.com/en/privacy/">https://adnanny.com/en/privacy/</a></td>
    </tr>
    <tr>
      <td>51</td>
      <td>Adnuntius AS</td>
      <td><a href="https://adnuntius.com/resources/privacy-policy/">https://adnuntius.com/resources/privacy-policy/</a></td>
    </tr>
    <tr>
      <td>52</td>
      <td>Adobe Advertising Cloud</td>
      <td><a href="https://www.adobe.com/privacy/experience-cloud.html">https://www.adobe.com/privacy/experience-cloud.html</a></td>
    </tr>
    <tr>
      <td>53</td>
      <td>Adobe Audience Manager, Adobe Experience Platform</td>
      <td><a href="https://www.adobe.com/privacy/policy.html">https://www.adobe.com/privacy/policy.html</a></td>
    </tr>
    <tr>
      <td>54</td>
      <td>Adpone SL</td>
      <td><a href="https://www.adpone.com/privacy-policy/">https://www.adpone.com/privacy-policy/</a></td>
    </tr>
    <tr>
      <td>55</td>
      <td>AdQuiver Media SL</td>
      <td><a href="https://adquiver.com/privacidad/">https://adquiver.com/privacidad/</a></td>
    </tr>
    <tr>
      <td>56</td>
      <td>ADRENALEAD</td>
      <td><a href="https://adrenalead.com/politique-de-protection-des-donnees/">https://adrenalead.com/politique-de-protection-des-donnees/</a></td>
    </tr>
    <tr>
      <td>57</td>
      <td>adrule mobile GmbH</td>
      <td><a href="https://www.adrule.net/de/datenschutz/">https://www.adrule.net/de/datenschutz/</a></td>
    </tr>
    <tr>
      <td>58</td>
      <td>Adserve.zone / Artworx AS</td>
      <td><a href="https://adserve.zone/adserveprivacypolicy.html">https://adserve.zone/adserveprivacypolicy.html</a></td>
    </tr>
    <tr>
      <td>59</td>
      <td>Adsolutions BV</td>
      <td><a href="https://www.adsolutions.com/privacy-policy/">https://www.adsolutions.com/privacy-policy/</a></td>
    </tr>
    <tr>
      <td>60</td>
      <td>AdSpirit GmbH</td>
      <td><a href="https://www.adspirit.de/privacy">https://www.adspirit.de/privacy</a></td>
    </tr>
    <tr>
      <td>61</td>
      <td>adsquare GmbH</td>
      <td><a href="https://www.adsquare.com/privacy">https://www.adsquare.com/privacy</a></td>
    </tr>
    <tr>
      <td>62</td>
      <td>Adssets AB</td>
      <td><a href="https://adssets.com/policy/">https://adssets.com/policy/</a></td>
    </tr>
    <tr>
      <td>63</td>
      <td>AdsWizz Inc.</td>
      <td><a href="https://www.adswizz.com/our-privacy-policy/">https://www.adswizz.com/our-privacy-policy/</a></td>
    </tr>
    <tr>
      <td>64</td>
      <td>Adtarget Medya A.S.</td>
      <td><a href="https://adtarget.com.tr/adtarget-privacy-policy-2020.pdf">https://adtarget.com.tr/adtarget-privacy-policy-2020.pdf</a></td>
    </tr>
    <tr>
      <td>65</td>
      <td>Adtelligent Inc.</td>
      <td><a href="https://adtelligent.com/privacy-policy/">https://adtelligent.com/privacy-policy/</a></td>
    </tr>
    <tr>
      <td>66</td>
      <td>AdTheorent, Inc</td>
      <td><a href="https://adtheorent.com/privacy-policy">https://adtheorent.com/privacy-policy</a></td>
    </tr>
    <tr>
      <td>67</td>
      <td>Adtriba GmbH</td>
      <td><a href="https://privacy.adtriba.com/">https://privacy.adtriba.com/</a></td>
    </tr>
    <tr>
      <td>68</td>
      <td>Adtube AS</td>
      <td><a href="https://api.adtube.no/resources/docs/privacy_policy_AppConnect.pdf">https://api.adtube.no/resources/docs/privacy_policy_AppConnect.pdf</a></td>
    </tr>
    <tr>
      <td>69</td>
      <td>ADUX</td>
      <td><a href="https://www.adux.com/donnees-personelles/">https://www.adux.com/donnees-personelles/</a></td>
    </tr>
    <tr>
      <td>70</td>
      <td>advanced store GmbH</td>
      <td><a href="https://www.advanced-store.com/de/datenschutz/">https://www.advanced-store.com/de/datenschutz/</a></td>
    </tr>
    <tr>
      <td>71</td>
      <td>ADventori SAS</td>
      <td><a href="https://www.adventori.com/with-us/legal-notice/">https://www.adventori.com/with-us/legal-notice/</a></td>
    </tr>
    <tr>
      <td>72</td>
      <td>Adverline</td>
      <td><a href="https://www.adverline.com/privacy/">https://www.adverline.com/privacy/</a></td>
    </tr>
    <tr>
      <td>73</td>
      <td>Adverticum cPlc.</td>
      <td><a href="https://adverticum.net/english/privacy-and-data-processing-information/">https://adverticum.net/english/privacy-and-data-processing-information/</a></td>
    </tr>
    <tr>
      <td>74</td>
      <td>Adverty AB (publ)</td>
      <td><a href="https://adverty.com/privacy-policy/">https://adverty.com/privacy-policy/</a></td>
    </tr>
    <tr>
      <td>75</td>
      <td>Advisible AB</td>
      <td><a href="https://www.advisible.com/privacy">https://www.advisible.com/privacy </a></td>
    </tr>
    <tr>
      <td>76</td>
      <td>ADWAYS SAS</td>
      <td><a href="https://www.adways.com/confidentialite/?lang=en">https://www.adways.com/confidentialite/?lang=en</a></td>
    </tr>
    <tr>
      <td>77</td>
      <td>Adxperience SAS</td>
      <td><a href="https://adxperience.com/privacy-policy/">https://adxperience.com/privacy-policy/</a></td>
    </tr>
    <tr>
      <td>78</td>
      <td>ADYOULIKE SA</td>
      <td><a href="https://www.adyoulike.com/privacy_policy.php">https://www.adyoulike.com/privacy_policy.php</a></td>
    </tr>
    <tr>
      <td>79</td>
      <td>Adzymic Pte Ltd</td>
      <td><a href="https://www.adzymic.co/privacy">https://www.adzymic.co/privacy</a></td>
    </tr>
    <tr>
      <td>80</td>
      <td>AerServ LLC</td>
      <td><a href="https://www.inmobi.com/privacy-policy-for-eea">https://www.inmobi.com/privacy-policy-for-eea</a></td>
    </tr>
    <tr>
      <td>81</td>
      <td>Affle International</td>
      <td><a href="https://revx.io/privacy-policy">https://revx.io/privacy-policy</a></td>
    </tr>
    <tr>
      <td>82</td>
      <td>agof - daily campaign facts</td>
      <td><a href="https://www.agof.de/datenschutz/">https://www.agof.de/datenschutz/</a></td>
    </tr>
    <tr>
      <td>83</td>
      <td>agof studies</td>
      <td><a href="https://www.agof.de/datenschutz/">https://www.agof.de/datenschutz/</a></td>
    </tr>
    <tr>
      <td>84</td>
      <td>AirGrid LTD</td>
      <td><a href="https://airgid.io/privacy-policy">https://airgid.io/privacy-policy</a></td>
    </tr>
    <tr>
      <td>85</td>
      <td>Alliance Gravity Data Media</td>
      <td><a href="https://www.alliancegravity.com/politiquedeprotectiondesdonneespersonnelles">https://www.alliancegravity.com/politiquedeprotectiondesdonneespersonnelles</a></td>
    </tr>
    <tr>
      <td>86</td>
      <td>Amazon Advertising</td>
      <td><a href="https://www.amazon.co.uk/gp/help/customer/display.html?nodeId=201909010">https://www.amazon.co.uk/gp/help/customer/display.html?nodeId=201909010</a></td>
    </tr>
    <tr>
      <td>87</td>
      <td>Amobee Inc.</td>
      <td><a href="https://www.amobee.com/trust/gdpr/">https://www.amobee.com/trust/gdpr/</a></td>
    </tr>
    <tr>
      <td>88</td>
      <td>ANINPRO-CREATIVE, S.L.</td>
      <td><a href="https://bealion.com/politica-de-cookies">https://bealion.com/politica-de-cookies</a></td>
    </tr>
    <tr>
      <td>89</td>
      <td>Aniview LTD</td>
      <td><a href="https://www.aniview.com/privacy-policy/">https://www.aniview.com/privacy-policy/</a></td>
    </tr>
    <tr>
      <td>90</td>
      <td>AntVoice</td>
      <td><a href="https://www.antvoice.com/en/privacypolicy/">https://www.antvoice.com/en/privacypolicy/</a></td>
    </tr>
    <tr>
      <td>91</td>
      <td>Anzu Virtual Reality LTD</td>
      <td><a href="https://anzu.io/privacy/">https://anzu.io/privacy/</a></td>
    </tr>
    <tr>
      <td>92</td>
      <td>Apester Ltd</td>
      <td><a href="https://apester.com/privacy-policy/">https://apester.com/privacy-policy/</a></td>
    </tr>
    <tr>
      <td>93</td>
      <td>Appier PTE Ltd</td>
      <td><a href="https://www.appier.com/privacy-policy/">https://www.appier.com/privacy-policy/</a></td>
    </tr>
    <tr>
      <td>94</td>
      <td>Arcspire Limited</td>
      <td><a href="https://public.arcspire.io/privacy.pdf">https://public.arcspire.io/privacy.pdf</a></td>
    </tr>
    <tr>
      <td>95</td>
      <td>Arkeero</td>
      <td><a href="https://arkeero.com/privacy-2/">https://arkeero.com/privacy-2/</a></td>
    </tr>
    <tr>
      <td>96</td>
      <td>ARMIS SAS</td>
      <td><a href="https://armis.tech/en/armis-personal-data-privacy-policy/">https://armis.tech/en/armis-personal-data-privacy-policy/</a></td>
    </tr>
    <tr>
      <td>97</td>
      <td>Arrivalist Co.</td>
      <td><a href="https://www.arrivalist.com/privacy">https://www.arrivalist.com/privacy</a></td>
    </tr>
    <tr>
      <td>98</td>
      <td>Artefact Deutschland GmbH</td>
      <td><a href="https://aaa.artefact.com/privacy-policy.do">https://aaa.artefact.com/privacy-policy.do</a></td>
    </tr>
    <tr>
      <td>99</td>
      <td>Audience Trading Platform Ltd.</td>
      <td><a href="https://atp.io/privacy-policy">https://atp.io/privacy-policy</a></td>
    </tr>
    <tr>
      <td>100</td>
      <td>AudienceProject Aps</td>
      <td><a href="https://privacy.audienceproject.com/">https://privacy.audienceproject.com</a></td>
    </tr>
    <tr>
      <td>101</td>
      <td>Audiencerate LTD</td>
      <td><a href="https://www.audiencerate.com/privacy/">https://www.audiencerate.com/privacy/</a></td>
    </tr>
    <tr>
      <td>102</td>
      <td>Audiens S.r.l.</td>
      <td><a href="https://www.audiens.com/privacy">https://www.audiens.com/privacy</a></td>
    </tr>
    <tr>
      <td>103</td>
      <td>Audienzz AG</td>
      <td><a href="https://audienzz.ch/wp-content/uploads/2020/03/AGB_audienzz_2020.pdf">https://audienzz.ch/wp-content/uploads/2020/03/AGB_audienzz_2020.pdf</a></td>
    </tr>
    <tr>
      <td>104</td>
      <td>AuDigent</td>
      <td><a href="https://audigent.com/platform-privacy-policy">https://audigent.com/platform-privacy-policy</a></td>
    </tr>
    <tr>
      <td>105</td>
      <td>audio content &amp;amp; control GmbH</td>
      <td><a href="https://www.audio-cc.com/audiocc_privacy_policy.pdf">https://www.audio-cc.com/audiocc_privacy_policy.pdf</a></td>
    </tr>
    <tr>
      <td>106</td>
      <td>AUDIOMOB LTD</td>
      <td><a href="https://www.audiomob.io/privacy">https://www.audiomob.io/privacy</a></td>
    </tr>
    <tr>
      <td>107</td>
      <td>Automattic Ads</td>
      <td><a href="https://wordads.co/privacy-info/">https://wordads.co/privacy-info/</a></td>
    </tr>
    <tr>
      <td>108</td>
      <td>Avid Media Ltd</td>
      <td><a href="https://www.avidglobalmedia.com/privacy-policy.html">https://www.avidglobalmedia.com/privacy-policy.html</a></td>
    </tr>
    <tr>
      <td>109</td>
      <td>Avocet Systems Limited</td>
      <td><a href="https://avocet.io/privacy-portal">https://avocet.io/privacy-portal</a></td>
    </tr>
    <tr>
      <td>110</td>
      <td>AWIN AG</td>
      <td><a href="https://www.awin.com/gb/privacy">https://www.awin.com/gb/privacy</a></td>
    </tr>
    <tr>
      <td>111</td>
      <td>Axel Springer Teaser Ad GmbH</td>
      <td><a href="https://www.adup-tech.com/privacy">https://www.adup-tech.com/privacy</a></td>
    </tr>
    <tr>
      <td>112</td>
      <td>Axonix LTD</td>
      <td><a href="https://axonix.com/privacy-cookie-policy/">https://axonix.com/privacy-c‚Ä¶</a></td></tr></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.conradakunga.com/blog/what-do-you-actually-agree-to-when-you-accept-all-cookies/">http://www.conradakunga.com/blog/what-do-you-actually-agree-to-when-you-accept-all-cookies/</a></em></p>]]>
            </description>
            <link>http://www.conradakunga.com/blog/what-do-you-actually-agree-to-when-you-accept-all-cookies/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26101092</guid>
            <pubDate>Thu, 11 Feb 2021 13:13:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rust Cookbook]]>
            </title>
            <description>
<![CDATA[
Score 227 | Comments 36 (<a href="https://news.ycombinator.com/item?id=26101066">thread link</a>) | @smusamashah
<br/>
February 11, 2021 | https://rust-lang-nursery.github.io/rust-cookbook/intro.html | <a href="https://web.archive.org/web/*/https://rust-lang-nursery.github.io/rust-cookbook/intro.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
        <!-- Provide site root to javascript -->
        

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        

        <!-- Set the theme before any content is loaded, prevents flash -->
        

        <!-- Hide / unhide sidebar before it is displayed -->
        

        <nav id="sidebar" aria-label="Table of contents">
            <div>
                <ol><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/intro.html">Table of Contents</a></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/about.html">About</a></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/algorithms.html"><strong aria-hidden="true">1.</strong> Algorithms</a></li><li><ol><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/algorithms/randomness.html"><strong aria-hidden="true">1.1.</strong> Generate Random Values</a></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/algorithms/sorting.html"><strong aria-hidden="true">1.2.</strong> Sort a Vector</a></li></ol></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/cli.html"><strong aria-hidden="true">2.</strong> Command Line</a></li><li><ol><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/cli/arguments.html"><strong aria-hidden="true">2.1.</strong> Argument Parsing</a></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/cli/ansi_terminal.html"><strong aria-hidden="true">2.2.</strong> ANSI Terminal</a></li></ol></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/compression.html"><strong aria-hidden="true">3.</strong> Compression</a></li><li><ol><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/compression/tar.html"><strong aria-hidden="true">3.1.</strong> Working with Tarballs</a></li></ol></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/concurrency.html"><strong aria-hidden="true">4.</strong> Concurrency</a></li><li><ol><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/concurrency/threads.html"><strong aria-hidden="true">4.1.</strong> Explicit Threads</a></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/concurrency/parallel.html"><strong aria-hidden="true">4.2.</strong> Data Parallelism</a></li></ol></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/cryptography.html"><strong aria-hidden="true">5.</strong> Cryptography</a></li><li><ol><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/cryptography/hashing.html"><strong aria-hidden="true">5.1.</strong> Hashing</a></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/cryptography/encryption.html"><strong aria-hidden="true">5.2.</strong> Encryption</a></li></ol></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/data_structures.html"><strong aria-hidden="true">6.</strong> Data Structures</a></li><li><ol><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/data_structures/bitfield.html"><strong aria-hidden="true">6.1.</strong> Bitfield</a></li></ol></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/database.html"><strong aria-hidden="true">7.</strong> Database</a></li><li><ol><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/database/sqlite.html"><strong aria-hidden="true">7.1.</strong> SQLite</a></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/database/postgres.html"><strong aria-hidden="true">7.2.</strong> Postgres</a></li></ol></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/datetime.html"><strong aria-hidden="true">8.</strong> Date and Time</a></li><li><ol><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/datetime/duration.html"><strong aria-hidden="true">8.1.</strong> Duration and Calculation</a></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/datetime/parse.html"><strong aria-hidden="true">8.2.</strong> Parsing and Displaying</a></li></ol></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/development_tools.html"><strong aria-hidden="true">9.</strong> Development Tools</a></li><li><ol><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/development_tools/debugging.html"><strong aria-hidden="true">9.1.</strong> Debugging</a></li><li><ol><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/development_tools/debugging/log.html"><strong aria-hidden="true">9.1.1.</strong> Log Messages</a></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/development_tools/debugging/config_log.html"><strong aria-hidden="true">9.1.2.</strong> Configure Logging</a></li></ol></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/development_tools/versioning.html"><strong aria-hidden="true">9.2.</strong> Versioning</a></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/development_tools/build_tools.html"><strong aria-hidden="true">9.3.</strong> Build Time Tooling</a></li></ol></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/encoding.html"><strong aria-hidden="true">10.</strong> Encoding</a></li><li><ol><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/encoding/strings.html"><strong aria-hidden="true">10.1.</strong> Character Sets</a></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/encoding/csv.html"><strong aria-hidden="true">10.2.</strong> CSV processing</a></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/encoding/complex.html"><strong aria-hidden="true">10.3.</strong> Structured Data</a></li></ol></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/errors.html"><strong aria-hidden="true">11.</strong> Error Handling</a></li><li><ol><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/errors/handle.html"><strong aria-hidden="true">11.1.</strong> Handle Error Variants</a></li></ol></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/file.html"><strong aria-hidden="true">12.</strong> File System</a></li><li><ol><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/file/read-write.html"><strong aria-hidden="true">12.1.</strong> Read &amp; Write</a></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/file/dir.html"><strong aria-hidden="true">12.2.</strong> Directory Traversal</a></li></ol></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/hardware.html"><strong aria-hidden="true">13.</strong> Hardware Support</a></li><li><ol><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/hardware/processor.html"><strong aria-hidden="true">13.1.</strong> Processor</a></li></ol></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/mem.html"><strong aria-hidden="true">14.</strong> Memory Management</a></li><li><ol><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/mem/global_static.html"><strong aria-hidden="true">14.1.</strong> Global Static</a></li></ol></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/net.html"><strong aria-hidden="true">15.</strong> Network</a></li><li><ol><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/net/server.html"><strong aria-hidden="true">15.1.</strong> Server</a></li></ol></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/os.html"><strong aria-hidden="true">16.</strong> Operating System</a></li><li><ol><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/os/external.html"><strong aria-hidden="true">16.1.</strong> External Command</a></li></ol></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/science.html"><strong aria-hidden="true">17.</strong> Science</a></li><li><ol><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/science/mathematics.html"><strong aria-hidden="true">17.1.</strong> Mathematics</a></li><li><ol><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/science/mathematics/linear_algebra.html"><strong aria-hidden="true">17.1.1.</strong> Linear Algebra</a></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/science/mathematics/trigonometry.html"><strong aria-hidden="true">17.1.2.</strong> Trigonometry</a></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/science/mathematics/complex_numbers.html"><strong aria-hidden="true">17.1.3.</strong> Complex Numbers</a></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/science/mathematics/statistics.html"><strong aria-hidden="true">17.1.4.</strong> Statistics</a></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/science/mathematics/miscellaneous.html"><strong aria-hidden="true">17.1.5.</strong> Miscellaneous</a></li></ol></li></ol></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/text.html"><strong aria-hidden="true">18.</strong> Text Processing</a></li><li><ol><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/text/regex.html"><strong aria-hidden="true">18.1.</strong> Regular Expressions</a></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/text/string_parsing.html"><strong aria-hidden="true">18.2.</strong> String Parsing</a></li></ol></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/web.html"><strong aria-hidden="true">19.</strong> Web Programming</a></li><li><ol><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/web/scraping.html"><strong aria-hidden="true">19.1.</strong> Extracting Links</a></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/web/url.html"><strong aria-hidden="true">19.2.</strong> URL</a></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/web/mime.html"><strong aria-hidden="true">19.3.</strong> Media Types</a></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/web/clients.html"><strong aria-hidden="true">19.4.</strong> Clients</a></li><li><ol><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/web/clients/requests.html"><strong aria-hidden="true">19.4.1.</strong> Making Requests</a></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/web/clients/apis.html"><strong aria-hidden="true">19.4.2.</strong> Calling a Web API</a></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/web/clients/download.html"><strong aria-hidden="true">19.4.3.</strong> Downloads</a></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/web/clients/authentication.html"><strong aria-hidden="true">19.4.4.</strong> Web Authentication</a></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar">
                    <div>
                        
                        
                        <ul id="theme-list" aria-label="Themes" role="menu">
                            <li role="none"></li>
                            <li role="none"></li>
                            <li role="none"></li>
                            <li role="none"></li>
                            <li role="none"></li>
                        </ul>
                        
                        
                        
                    </div>

                    

                    <div>
                        
                        <a href="https://rust-lang-nursery.github.io/rust-cookbook/print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper">
                    <form id="searchbar-outer">
                        
                    </form>
                    <div id="searchresults-outer">
                        <div id="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                

                <div id="content">
                    <main>
                        
<p>This <em>Rust Cookbook</em> is a collection of
simple examples that demonstrate good practices to accomplish common
programming tasks, using the crates of the Rust ecosystem.</p>
<p><a href="https://rust-lang-nursery.github.io/rust-cookbook/about.html">Read more about <em>Rust Cookbook</em></a>, including tips for
how to read the book, how to use the examples, and notes on conventions.</p>
<h2><a href="#contributing" id="contributing">Contributing</a></h2>
<p>This project is intended to be easy for new Rust programmers to
contribute to, and an easy way to get involved with the Rust
community. It needs and welcomes help. For details see
<a href="https://github.com/rust-lang-nursery/rust-cookbook/blob/master/CONTRIBUTING.md">CONTRIBUTING.md</a>.</p>

<table><thead><tr><th>Recipe</th><th>Crates</th><th>Categories</th></tr></thead><tbody>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/algorithms/randomness.html#generate-random-numbers">Generate random numbers</a></td><td><a href="https://docs.rs/rand/"><img src="https://badge-cache.kominick.com/crates/v/rand.svg?label=rand" alt="rand-badge"></a></td><td><a href="https://crates.io/categories/science"><img src="https://badge-cache.kominick.com/badge/science--x.svg?style=social" alt="cat-science-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/algorithms/randomness.html#generate-random-numbers-within-a-range">Generate random numbers within a range</a></td><td><a href="https://docs.rs/rand/"><img src="https://badge-cache.kominick.com/crates/v/rand.svg?label=rand" alt="rand-badge"></a></td><td><a href="https://crates.io/categories/science"><img src="https://badge-cache.kominick.com/badge/science--x.svg?style=social" alt="cat-science-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/algorithms/randomness.html#generate-random-numbers-with-given-distribution">Generate random numbers with given distribution</a></td><td><a href="https://docs.rs/rand/"><img src="https://badge-cache.kominick.com/crates/v/rand.svg?label=rand" alt="rand-badge"></a> <a href="https://docs.rs/rand_distr/"><img src="https://badge-cache.kominick.com/crates/v/rand.svg?label=rand_distr" alt="rand_distr-badge"></a></td><td><a href="https://crates.io/categories/science"><img src="https://badge-cache.kominick.com/badge/science--x.svg?style=social" alt="cat-science-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/algorithms/randomness.html#generate-random-values-of-a-custom-type">Generate random values of a custom type</a></td><td><a href="https://docs.rs/rand/"><img src="https://badge-cache.kominick.com/crates/v/rand.svg?label=rand" alt="rand-badge"></a></td><td><a href="https://crates.io/categories/science"><img src="https://badge-cache.kominick.com/badge/science--x.svg?style=social" alt="cat-science-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/algorithms/randomness.html#create-random-passwords-from-a-set-of-alphanumeric-characters">Create random passwords from a set of alphanumeric characters</a></td><td><a href="https://docs.rs/rand/"><img src="https://badge-cache.kominick.com/crates/v/rand.svg?label=rand" alt="rand-badge"></a></td><td><a href="https://crates.io/categories/os"><img src="https://badge-cache.kominick.com/badge/OS--x.svg?style=social" alt="cat-os-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/algorithms/randomness.html#create-random-passwords-from-a-set-of-user-defined-characters">Create random passwords from a set of user-defined characters</a></td><td><a href="https://docs.rs/rand/"><img src="https://badge-cache.kominick.com/crates/v/rand.svg?label=rand" alt="rand-badge"></a></td><td><a href="https://crates.io/categories/os"><img src="https://badge-cache.kominick.com/badge/OS--x.svg?style=social" alt="cat-os-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/algorithms/sorting.html#sort-a-vector-of-integers">Sort a Vector of Integers</a></td><td><a href="https://doc.rust-lang.org/std"><img src="https://badge-cache.kominick.com/badge/std-1.29.1-blue.svg" alt="std-badge"></a></td><td><a href="https://crates.io/categories/science"><img src="https://badge-cache.kominick.com/badge/science--x.svg?style=social" alt="cat-science-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/algorithms/sorting.html#sort-a-vector-of-floats">Sort a Vector of Floats</a></td><td><a href="https://doc.rust-lang.org/std"><img src="https://badge-cache.kominick.com/badge/std-1.29.1-blue.svg" alt="std-badge"></a></td><td><a href="https://crates.io/categories/science"><img src="https://badge-cache.kominick.com/badge/science--x.svg?style=social" alt="cat-science-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/algorithms/sorting.html#sort-a-vector-of-structs">Sort a Vector of Structs</a></td><td><a href="https://doc.rust-lang.org/std"><img src="https://badge-cache.kominick.com/badge/std-1.29.1-blue.svg" alt="std-badge"></a></td><td><a href="https://crates.io/categories/science"><img src="https://badge-cache.kominick.com/badge/science--x.svg?style=social" alt="cat-science-badge"></a></td></tr>
</tbody></table>
<!--
Links, in a few categories. Follow the existing structure.
Keep lines sorted.
-->
<!-- Categories -->
<!-- Crates -->

<table><thead><tr><th>Recipe</th><th>Crates</th><th>Categories</th></tr></thead><tbody>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/cli/arguments.html#parse-command-line-arguments">Parse command line arguments</a></td><td><a href="https://docs.rs/clap/"><img src="https://badge-cache.kominick.com/crates/v/clap.svg?label=clap" alt="clap-badge"></a></td><td><a href="https://crates.io/categories/command-line-interface"><img src="https://badge-cache.kominick.com/badge/command_line--x.svg?style=social" alt="cat-command-line-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/cli/ansi_terminal.html#ansi-terminal">ANSI Terminal</a></td><td><a href="https://docs.rs/ansi_term/"><img src="https://badge-cache.kominick.com/crates/v/base64.svg?label=ansi_term" alt="ansi_term-badge"></a></td><td><a href="https://crates.io/categories/command-line-interface"><img src="https://badge-cache.kominick.com/badge/command_line--x.svg?style=social" alt="cat-command-line-badge"></a></td></tr>
</tbody></table>
<!--
Links, in a few categories. Follow the existing structure.
Keep lines sorted.
-->
<!-- Categories -->
<!-- Crates -->

<table><thead><tr><th>Recipe</th><th>Crates</th><th>Categories</th></tr></thead><tbody>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/compression/tar.html#decompress-a-tarball">Decompress a tarball</a></td><td><a href="https://docs.rs/flate2/"><img src="https://badge-cache.kominick.com/crates/v/flate2.svg?label=flate2" alt="flate2-badge"></a> <a href="https://docs.rs/tar/"><img src="https://badge-cache.kominick.com/crates/v/tar.svg?label=tar" alt="tar-badge"></a></td><td><a href="https://crates.io/categories/compression"><img src="https://badge-cache.kominick.com/badge/compression--x.svg?style=social" alt="cat-compression-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/compression/tar.html#compress-a-directory-into-tarball">Compress a directory into a tarball</a></td><td><a href="https://docs.rs/flate2/"><img src="https://badge-cache.kominick.com/crates/v/flate2.svg?label=flate2" alt="flate2-badge"></a> <a href="https://docs.rs/tar/"><img src="https://badge-cache.kominick.com/crates/v/tar.svg?label=tar" alt="tar-badge"></a></td><td><a href="https://crates.io/categories/compression"><img src="https://badge-cache.kominick.com/badge/compression--x.svg?style=social" alt="cat-compression-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/compression/tar.html#decompress-a-tarball-while-removing-a-prefix-from-the-paths">Decompress a tarball while removing a prefix from the paths</a></td><td><a href="https://docs.rs/flate2/"><img src="https://badge-cache.kominick.com/crates/v/flate2.svg?label=flate2" alt="flate2-badge"></a> <a href="https://docs.rs/tar/"><img src="https://badge-cache.kominick.com/crates/v/tar.svg?label=tar" alt="tar-badge"></a></td><td><a href="https://crates.io/categories/compression"><img src="https://badge-cache.kominick.com/badge/compression--x.svg?style=social" alt="cat-compression-badge"></a></td></tr>
</tbody></table>
<!--
Links, in a few categories. Follow the existing structure.
Keep lines sorted.
-->
<!-- Categories -->
<!-- Crates -->

<table><thead><tr><th>Recipe</th><th>Crates</th><th>Categories</th></tr></thead><tbody>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/concurrency/threads.html#spawn-a-short-lived-thread">Spawn a short-lived thread</a></td><td><a href="https://docs.rs/crossbeam/"><img src="https://badge-cache.kominick.com/crates/v/crossbeam.svg?label=crossbeam" alt="crossbeam-badge"></a></td><td><a href="https://crates.io/categories/concurrency"><img src="https://badge-cache.kominick.com/badge/concurrency--x.svg?style=social" alt="cat-concurrency-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/concurrency/threads.html#create-a-parallel-pipeline">Create a parallel data pipeline</a></td><td><a href="https://docs.rs/crossbeam/"><img src="https://badge-cache.kominick.com/crates/v/crossbeam.svg?label=crossbeam" alt="crossbeam-badge"></a></td><td><a href="https://crates.io/categories/concurrency"><img src="https://badge-cache.kominick.com/badge/concurrency--x.svg?style=social" alt="cat-concurrency-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/concurrency/threads.html#pass-data-between-two-threads">Pass data between two threads</a></td><td><a href="https://docs.rs/crossbeam/"><img src="https://badge-cache.kominick.com/crates/v/crossbeam.svg?label=crossbeam" alt="crossbeam-badge"></a></td><td><a href="https://crates.io/categories/concurrency"><img src="https://badge-cache.kominick.com/badge/concurrency--x.svg?style=social" alt="cat-concurrency-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/concurrency/threads.html#maintain-global-mutable-state">Maintain global mutable state</a></td><td><a href="https://docs.rs/lazy_static/"><img src="https://badge-cache.kominick.com/crates/v/lazy_static.svg?label=lazy_static" alt="lazy_static-badge"></a></td><td><a href="https://crates.io/categories/rust-patterns"><img src="https://badge-cache.kominick.com/badge/rust_patterns--x.svg?style=social" alt="cat-rust-patterns-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/concurrency/threads.html#calculate-sha256-sum-of-iso-files-concurrently">Calculate SHA1 sum of *.iso files concurrently</a></td><td><a href="https://docs.rs/threadpool/"><img src="https://badge-cache.kominick.com/crates/v/threadpool.svg?label=threadpool" alt="threadpool-badge"></a> <a href="https://docs.rs/walkdir/"><img src="https://badge-cache.kominick.com/crates/v/walkdir.svg?label=walkdir" alt="walkdir-badge"></a> <a href="https://docs.rs/num_cpus/"><img src="https://badge-cache.kominick.com/crates/v/num_cpus.svg?label=num_cpus" alt="num_cpus-badge"></a> <a href="https://briansmith.org/rustdoc/ring/"><img src="https://badge-cache.kominick.com/crates/v/ring.svg?label=ring" alt="ring-badge"></a></td><td><a href="https://crates.io/categories/concurrency"><img src="https://badge-cache.kominick.com/badge/concurrency--x.svg?style=social" alt="cat-concurrency-badge"></a><a href="https://crates.io/categories/filesystem"><img src="https://badge-cache.kominick.com/badge/filesystem--x.svg?style=social" alt="cat-filesystem-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/concurrency/threads.html#draw-fractal-dispatching-work-to-a-thread-pool">Draw fractal dispatching work to a thread pool</a></td><td><a href="https://docs.rs/threadpool/"><img src="https://badge-cache.kominick.com/crates/v/threadpool.svg?label=threadpool" alt="threadpool-badge"></a> <a href="https://docs.rs/num/"><img src="https://badge-cache.kominick.com/crates/v/num.svg?label=num" alt="num-badge"></a> <a href="https://docs.rs/num_cpus/"><img src="https://badge-cache.kominick.com/crates/v/num_cpus.svg?label=num_cpus" alt="num_cpus-badge"></a> <a href="https://docs.rs/image/"><img src="https://badge-cache.kominick.com/crates/v/image.svg?label=image" alt="image-badge"></a></td><td><a href="https://crates.io/categories/concurrency"><img src="https://badge-cache.kominick.com/badge/concurrency--x.svg?style=social" alt="cat-concurrency-badge"></a><a href="https://crates.io/categories/science"><img src="https://badge-cache.kominick.com/badge/science--x.svg?style=social" alt="cat-science-badge"></a><a href="https://crates.io/categories/rendering"><img src="https://badge-cache.kominick.com/badge/rendering--x.svg?style=social" alt="cat-rendering-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/concurrency/parallel.html#mutate-the-elements-of-an-array-in-parallel">Mutate the elements of an array in parallel</a></td><td><a href="https://docs.rs/rayon/"><img src="https://badge-cache.kominick.com/crates/v/rayon.svg?label=rayon" alt="rayon-badge"></a></td><td><a href="https://crates.io/categories/concurrency"><img src="https://badge-cache.kominick.com/badge/concurrency--x.svg?style=social" alt="cat-concurrency-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/concurrency/parallel.html#test-in-parallel-if-any-or-all-elements-of-a-collection-match-a-given-predicate">Test in parallel if any or all elements of a collection match a given predicate</a></td><td><a href="https://docs.rs/rayon/"><img src="https://badge-cache.kominick.com/crates/v/rayon.svg?label=rayon" alt="rayon-badge"></a></td><td><a href="https://crates.io/categories/concurrency"><img src="https://badge-cache.kominick.com/badge/concurrency--x.svg?style=social" alt="cat-concurrency-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/concurrency/parallel.html#search-items-using-given-predicate-in-parallel">Search items using given predicate in parallel</a></td><td><a href="https://docs.rs/rayon/"><img src="https://badge-cache.kominick.com/crates/v/rayon.svg?label=rayon" alt="rayon-badge"></a></td><td><a href="https://crates.io/categories/concurrency"><img src="https://badge-cache.kominick.com/badge/concurrency--x.svg?style=social" alt="cat-concurrency-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/concurrency/parallel.html#sort-a-vector-in-parallel">Sort a vector in parallel</a></td><td><a href="https://docs.rs/rayon/"><img src="https://badge-cache.kominick.com/crates/v/rayon.svg?label=rayon" alt="rayon-badge"></a> <a href="https://docs.rs/rand/"><img src="https://badge-cache.kominick.com/crates/v/rand.svg?label=rand" alt="rand-badge"></a></td><td><a href="https://crates.io/categories/concurrency"><img src="https://badge-cache.kominick.com/badge/concurrency--x.svg?style=social" alt="cat-concurrency-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/concurrency/parallel.html#map-reduce-in-parallel">Map-reduce in parallel</a></td><td><a href="https://docs.rs/rayon/"><img src="https://badge-cache.kominick.com/crates/v/rayon.svg?label=rayon" alt="rayon-badge"></a></td><td><a href="https://crates.io/categories/concurrency"><img src="https://badge-cache.kominick.com/badge/concurrency--x.svg?style=social" alt="cat-concurrency-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/concurrency/parallel.html#generate-jpg-thumbnails-in-parallel">Generate jpg thumbnails in parallel</a></td><td><a href="https://docs.rs/rayon/"><img src="https://badge-cache.kominick.com/crates/v/rayon.svg?label=rayon" alt="rayon-badge"></a> <a href="https://docs.rs/glob/"><img src="https://badge-cache.kominick.com/crates/v/glob.svg?label=glob" alt="glob-badge"></a> <a href="https://docs.rs/image/"><img src="https://badge-cache.kominick.com/crates/v/image.svg?label=image" alt="image-badge"></a></td><td><a href="https://crates.io/categories/concurrency"><img src="https://badge-cache.kominick.com/badge/concurrency--x.svg?style=social" alt="cat-concurrency-badge"></a><a href="https://crates.io/categories/filesystem"><img src="https://badge-cache.kominick.com/badge/filesystem--x.svg?style=social" alt="cat-filesystem-badge"></a></td></tr>
</tbody></table>
<!--
Links, in a few categories. Follow the existing structure.
Keep lines sorted.
-->
<!-- Categories -->
<!-- Crates -->

<table><thead><tr><th>Recipe</th><th>Crates</th><th>Categories</th></tr></thead><tbody>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/cryptography/hashing.html#calculate-the-sha-256-digest-of-a-file">Calculate the SHA-256 digest of a file</a></td><td><a href="https://briansmith.org/rustdoc/ring/"><img src="https://badge-cache.kominick.com/crates/v/ring.svg?label=ring" alt="ring-badge"></a> <a href="https://docs.rs/data-encoding/"><img src="https://badge-cache.kominick.com/crates/v/data-encoding.svg?label=data-encoding" alt="data-encoding-badge"></a></td><td><a href="https://crates.io/categories/cryptography"><img src="https://badge-cache.kominick.com/badge/cryptography--x.svg?style=social" alt="cat-cryptography-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/cryptography/hashing.html#sign-and-verify-a-message-with-hmac-digest">Sign and verify a message with an HMAC digest</a></td><td><a href="https://briansmith.org/rustdoc/ring/"><img src="https://badge-cache.kominick.com/crates/v/ring.svg?label=ring" alt="ring-badge"></a></td><td><a href="https://crates.io/categories/cryptography"><img src="https://badge-cache.kominick.com/badge/cryptography--x.svg?style=social" alt="cat-cryptography-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/cryptography/encryption.html#salt-and-hash-a-password-with-pbkdf2">Salt and hash a password with PBKDF2</a></td><td><a href="https://briansmith.org/rustdoc/ring/"><img src="https://badge-cache.kominick.com/crates/v/ring.svg?label=ring" alt="ring-badge"></a> <a href="https://docs.rs/data-encoding/"><img src="https://badge-cache.kominick.com/crates/v/data-encoding.svg?label=data-encoding" alt="data-encoding-badge"></a></td><td><a href="https://crates.io/categories/cryptography"><img src="https://badge-cache.kominick.com/badge/cryptography--x.svg?style=social" alt="cat-cryptography-badge"></a></td></tr>
</tbody></table>
<!--
Links, in a few categories. Follow the existing structure.
Keep lines sorted.
-->
<!-- Categories -->
<!-- Crates -->

<table><thead><tr><th>Recipe</th><th>Crates</th><th>Categories</th></tr></thead><tbody>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/data_structures/bitfield.html#define-and-operate-on-a-type-represented-as-a-bitfield">Define and operate on a type represented as a bitfield</a></td><td><a href="https://docs.rs/bitflags/"><img src="https://badge-cache.kominick.com/crates/v/bitflags.svg?label=bitflags" alt="bitflags-badge"></a></td><td><a href="https://crates.io/categories/no-std"><img src="https://badge-cache.kominick.com/badge/no_std--x.svg?style=social" alt="cat-no-std-badge"></a></td></tr>
</tbody></table>
<!--
Links, in a few categories. Follow the existing structure.
Keep lines sorted.
-->
<!-- Categories -->
<!-- Crates -->

<table><thead><tr><th>Recipe</th><th>Crates</th><th>Categories</th></tr></thead><tbody>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/database/sqlite.html#create-a-sqlite-database">Create a SQLite database</a></td><td><a href="https://crates.io/crates/rusqlite/"><img src="https://badge-cache.kominick.com/crates/v/rusqlite.svg?label=rusqlite" alt="rusqlite-badge"></a></td><td><a href="https://crates.io/categories/database"><img src="https://badge-cache.kominick.com/badge/database--x.svg?style=social" alt="cat-database-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/database/sqlite.html#insert-and-select-data">Insert and Query data</a></td><td><a href="https://crates.io/crates/rusqlite/"><img src="https://badge-cache.kominick.com/crates/v/rusqlite.svg?label=rusqlite" alt="rusqlite-badge"></a></td><td><a href="https://crates.io/categories/database"><img src="https://badge-cache.kominick.com/badge/database--x.svg?style=social" alt="cat-database-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/database/postgres.html#create-tables-in-a-postgres-database">Create tables in a Postgres database</a></td><td><a href="https://docs.rs/postgres/0.15.2/postgres/"><img src="https://badge-cache.kominick.com/crates/v/postgres.svg?label=postgres" alt="postgres-badge"></a></td><td><a href="https://crates.io/categories/database"><img src="https://badge-cache.kominick.com/badge/database--x.svg?style=social" alt="cat-database-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/database/postgres.html#insert-and-query-data">Insert and Query data</a></td><td><a href="https://docs.rs/postgres/0.15.2/postgres/"><img src="https://badge-cache.kominick.com/crates/v/postgres.svg?label=postgres" alt="postgres-badge"></a></td><td><a href="https://crates.io/categories/database"><img src="https://badge-cache.kominick.com/badge/database--x.svg?style=social" alt="cat-database-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/database/postgres.html#aggregate-data">Aggregate data</a></td><td><a href="https://docs.rs/postgres/0.15.2/postgres/"><img src="https://badge-cache.kominick.com/crates/v/postgres.svg?label=postgres" alt="postgres-badge"></a></td><td><a href="https://crates.io/categories/database"><img src="https://badge-cache.kominick.com/badge/database--x.svg?style=social" alt="cat-database-badge"></a></td></tr>
</tbody></table>
<!--
Links, in a few categories. Follow the existing structure.
Keep lines sorted.
-->
<!-- Categories -->
<!-- Crates -->

<table><thead><tr><th>Recipe</th><th>Crates</th><th>Categories</th></tr></thead><tbody>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/datetime/duration.html#measure-the-elapsed-time-between-two-code-sections">Measure elapsed time</a></td><td><a href="https://doc.rust-lang.org/std"><img src="https://badge-cache.kominick.com/badge/std-1.29.1-blue.svg" alt="std-badge"></a></td><td><a href="https://crates.io/categories/date-and-time"><img src="https://badge-cache.kominick.com/badge/time--x.svg?style=social" alt="cat-time-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/datetime/duration.html#perform-checked-date-and-time-calculations">Perform checked date and time calculations</a></td><td><a href="https://docs.rs/chrono/"><img src="https://badge-cache.kominick.com/crates/v/chrono.svg?label=chrono" alt="chrono-badge"></a></td><td><a href="https://crates.io/categories/date-and-time"><img src="https://badge-cache.kominick.com/badge/date_and_time--x.svg?style=social" alt="cat-date-and-time-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/datetime/duration.html#convert-a-local-time-to-another-timezone">Convert a local time to another timezone</a></td><td><a href="https://docs.rs/chrono/"><img src="https://badge-cache.kominick.com/crates/v/chrono.svg?label=chrono" alt="chrono-badge"></a></td><td><a href="https://crates.io/categories/date-and-time"><img src="https://badge-cache.kominick.com/badge/date_and_time--x.svg?style=social" alt="cat-date-and-time-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/datetime/parse.html#examine-the-date-and-time">Examine the date and time</a></td><td><a href="https://docs.rs/chrono/"><img src="https://badge-cache.kominick.com/crates/v/chrono.svg?label=chrono" alt="chrono-badge"></a></td><td><a href="https://crates.io/categories/date-and-time"><img src="https://badge-cache.kominick.com/badge/date_and_time--x.svg?style=social" alt="cat-date-and-time-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/datetime/parse.html#convert-date-to-unix-timestamp-and-vice-versa">Convert date to UNIX timestamp and vice versa</a></td><td><a href="https://docs.rs/chrono/"><img src="https://badge-cache.kominick.com/crates/v/chrono.svg?label=chrono" alt="chrono-badge"></a></td><td><a href="https://crates.io/categories/date-and-time"><img src="https://badge-cache.kominick.com/badge/date_and_time--x.svg?style=social" alt="cat-date-and-time-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/datetime/parse.html#display-formatted-date-and-time">Display formatted date and time</a></td><td><a href="https://docs.rs/chrono/"><img src="https://badge-cache.kominick.com/crates/v/chrono.svg?label=chrono" alt="chrono-badge"></a></td><td><a href="https://crates.io/categories/date-and-time"><img src="https://badge-cache.kominick.com/badge/date_and_time--x.svg?style=social" alt="cat-date-and-time-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/datetime/parse.html#parse-string-into-datetime-struct">Parse string into DateTime struct</a></td><td><a href="https://docs.rs/chrono/"><img src="https://badge-cache.kominick.com/crates/v/chrono.svg?label=chrono" alt="chrono-badge"></a></td><td><a href="https://crates.io/categories/date-and-time"><img src="https://badge-cache.kominick.com/badge/date_and_time--x.svg?style=social" alt="cat-date-and-time-badge"></a></td></tr>
</tbody></table>
<!--
Links, in a few categories. Follow the existing structure.
Keep lines sorted.
-->
<!-- Categories -->
<!-- Crates -->

<h2><a href="#debugging" id="debugging">Debugging</a></h2>
<table><thead><tr><th>Recipe</th><th>Crates</th><th>Categories</th></tr></thead><tbody>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/development_tools/debugging/log.html#log-a-debug-message-to-the-console">Log a debug message to the console</a></td><td><a href="https://docs.rs/log/"><img src="https://badge-cache.kominick.com/crates/v/log.svg?label=log" alt="log-badge"></a> <a href="https://docs.rs/env_logger/"><img src="https://badge-cache.kominick.com/crates/v/env_logger.svg?label=env_logger" alt="env_logger-badge"></a></td><td><a href="https://crates.io/categories/debugging"><img src="https://badge-cache.kominick.com/badge/debugging--x.svg?style=social" alt="cat-debugging-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/development_tools/debugging/log.html#log-an-error-message-to-the-console">Log an error message to the console</a></td><td><a href="https://docs.rs/log/"><img src="https://badge-cache.kominick.com/crates/v/log.svg?label=log" alt="log-badge"></a> <a href="https://docs.rs/env_logger/"><img src="https://badge-cache.kominick.com/crates/v/env_logger.svg?label=env_logger" alt="env_logger-badge"></a></td><td><a href="https://crates.io/categories/debugging"><img src="https://badge-cache.kominick.com/badge/debugging--x.svg?style=social" alt="cat-debugging-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/development_tools/debugging/log.html#log-to-stdout-instead-of-stderr">Log to stdout instead of stderr</a></td><td><a href="https://docs.rs/log/"><img src="https://badge-cache.kominick.com/crates/v/log.svg?label=log" alt="log-badge"></a> <a href="https://docs.rs/env_logger/"><img src="https://badge-cache.kominick.com/crates/v/env_logger.svg?label=env_logger" alt="env_logger-badge"></a></td><td><a href="https://crates.io/categories/debugging"><img src="https://badge-cache.kominick.com/badge/debugging--x.svg?style=social" alt="cat-debugging-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/development_tools/debugging/log.html#log-messages-with-a-custom-logger">Log messages with a custom logger</a></td><td><a href="https://docs.rs/log/"><img src="https://badge-cache.kominick.com/crates/v/log.svg?label=log" alt="log-badge"></a></td><td><a href="https://crates.io/categories/debugging"><img src="https://badge-cache.kominick.com/badge/debugging--x.svg?style=social" alt="cat-debugging-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/development_tools/debugging/log.html#log-to-the-unix-syslog">Log to the Unix syslog</a></td><td><a href="https://docs.rs/log/"><img src="https://badge-cache.kominick.com/crates/v/log.svg?label=log" alt="log-badge"></a> <a href="https://docs.rs/syslog/"><img src="https://badge-cache.kominick.com/crates/v/syslog.svg?label=syslog" alt="syslog-badge"></a></td><td><a href="https://crates.io/categories/debugging"><img src="https://badge-cache.kominick.com/badge/debugging--x.svg?style=social" alt="cat-debugging-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/development_tools/debugging/config_log.html#enable-log-levels-per-module">Enable log levels per module</a></td><td><a href="https://docs.rs/log/"><img src="https://badge-cache.kominick.com/crates/v/log.svg?label=log" alt="log-badge"></a> <a href="https://docs.rs/env_logger/"><img src="https://badge-cache.kominick.com/crates/v/env_logger.svg?label=env_logger" alt="env_logger-badge"></a></td><td><a href="https://crates.io/categories/debugging"><img src="https://badge-cache.kominick.com/badge/debugging--x.svg?style=social" alt="cat-debugging-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/development_tools/debugging/config_log.html#use-a-custom-environment-variable-to-set-up-logging">Use a custom environment variable to set up logging</a></td><td><a href="https://docs.rs/log/"><img src="https://badge-cache.kominick.com/crates/v/log.svg?label=log" alt="log-badge"></a> <a href="https://docs.rs/env_logger/"><img src="https://badge-cache.kominick.com/crates/v/env_logger.svg?label=env_logger" alt="env_logger-badge"></a></td><td><a href="https://crates.io/categories/debugging"><img src="https://badge-cache.kominick.com/badge/debugging--x.svg?style=social" alt="cat-debugging-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/development_tools/debugging/config_log.html#include-timestamp-in-log-messages">Include timestamp in log messages</a></td><td><a href="https://docs.rs/log/"><img src="https://badge-cache.kominick.com/crates/v/log.svg?label=log" alt="log-badge"></a> <a href="https://docs.rs/env_logger/"><img src="https://badge-cache.kominick.com/crates/v/env_logger.svg?label=env_logger" alt="env_logger-badge"></a> <a href="https://docs.rs/chrono/"><img src="https://badge-cache.kominick.com/crates/v/chrono.svg?label=chrono" alt="chrono-badge"></a></td><td><a href="https://crates.io/categories/debugging"><img src="https://badge-cache.kominick.com/badge/debugging--x.svg?style=social" alt="cat-debugging-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/development_tools/debugging/config_log.html#log-messages-to-a-custom-location">Log messages to a custom location</a></td><td><a href="https://docs.rs/log/"><img src="https://badge-cache.kominick.com/crates/v/log.svg?label=log" alt="log-badge"></a> <a href="https://docs.rs/log4rs/"><img src="https://badge-cache.kominick.com/crates/v/log4rs.svg?label=log4rs" alt="log4rs-badge"></a></td><td><a href="https://crates.io/categories/debugging"><img src="https://badge-cache.kominick.com/badge/debugging--x.svg?style=social" alt="cat-debugging-badge"></a></td></tr>
</tbody></table>
<!--
Links, in a few categories. Follow the existing structure.
Keep lines sorted.
-->
<!-- Categories -->
<!-- Crates -->
<h2><a href="#versioning" id="versioning">Versioning</a></h2>
<table><thead><tr><th>Recipe</th><th>Crates</th><th>Categories</th></tr></thead><tbody>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/development_tools/versioning.html#parse-and-increment-a-version-string">Parse and increment a version string</a></td><td><a href="https://docs.rs/semver/"><img src="https://badge-cache.kominick.com/crates/v/semver.svg?label=semver" alt="semver-badge"></a></td><td><a href="https://crates.io/categories/config"><img src="https://badge-cache.kominick.com/badge/config--x.svg?style=social" alt="cat-config-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/development_tools/versioning.html#parse-a-complex-version-string">Parse a complex version string</a></td><td><a href="https://docs.rs/semver/"><img src="https://badge-cache.kominick.com/crates/v/semver.svg?label=semver" alt="semver-badge"></a></td><td><a href="https://crates.io/categories/config"><img src="https://badge-cache.kominick.com/badge/config--x.svg?style=social" alt="cat-config-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/development_tools/versioning.html#check-if-given-version-is-pre-release">Check if given version is pre-release</a></td><td><a href="https://docs.rs/semver/"><img src="https://badge-cache.kominick.com/crates/v/semver.svg?label=semver" alt="semver-badge"></a></td><td><a href="https://crates.io/categories/config"><img src="https://badge-cache.kominick.com/badge/config--x.svg?style=social" alt="cat-config-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/development_tools/versioning.html#find-the-latest-version-satisfying-given-range">Find the latest version satisfying given range</a></td><td><a href="https://docs.rs/semver/"><img src="https://badge-cache.kominick.com/crates/v/semver.svg?label=semver" alt="semver-badge"></a></td><td><a href="https://crates.io/categories/config"><img src="https://badge-cache.kominick.com/badge/config--x.svg?style=social" alt="cat-config-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/development_tools/versioning.html#check-external-command-version-for-compatibility">Check external command version for compatibility</a></td><td><a href="https://docs.rs/semver/"><img src="https://badge-cache.kominick.com/crates/v/semver.svg?label=semver" alt="semver-badge"></a></td><td><a href="https://crates.io/categories/text-processing"><img src="https://badge-cache.kominick.com/badge/text_processing--x.svg?style=social" alt="cat-text-processing-badge"></a> <a href="https://crates.io/categories/os"><img src="https://badge-cache.kominick.com/badge/OS--x.svg?style=social" alt="cat-os-badge"></a></td></tr>
</tbody></table>
<h2><a href="#build-time" id="build-time">Build Time</a></h2>
<table><thead><tr><th>Recipe</th><th>Crates</th><th>Categories</th></tr></thead><tbody>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/development_tools/build_tools.html#compile-and-link-statically-to-a-bundled-c-library">Compile and link statically to a bundled C library</a></td><td><a href="https://docs.rs/cc"><img src="https://badge-cache.kominick.com/crates/v/cc.svg?label=cc" alt="cc-badge"></a></td><td><a href="https://crates.io/categories/development-tools"><img src="https://badge-cache.kominick.com/badge/development_tools--x.svg?style=social" alt="cat-development-tools-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/development_tools/build_tools.html#compile-and-link-statically-to-a-bundled-c-library-1">Compile and link statically to a bundled C++ library</a></td><td><a href="https://docs.rs/cc"><img src="https://badge-cache.kominick.com/crates/v/cc.svg?label=cc" alt="cc-badge"></a></td><td><a href="https://crates.io/categories/development-tools"><img src="https://badge-cache.kominick.com/badge/development_tools--x.svg?style=social" alt="cat-development-tools-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/development_tools/build_tools.html#compile-a-c-library-while-setting-custom-defines">Compile a C library while setting custom defines</a></td><td><a href="https://docs.rs/cc"><img src="https://badge-cache.kominick.com/crates/v/cc.svg?label=cc" alt="cc-badge"></a></td><td><a href="https://crates.io/categories/development-tools"><img src="https://badge-cache.kominick.com/badge/development_tools--x.svg?style=social" alt="cat-development-tools-badge"></a></td></tr>
</tbody></table>
<!--
Links, in a few categories. Follow the existing structure.
Keep lines sorted.
-->
<!-- Categories -->
<!-- Crates -->

<table><thead><tr><th>Recipe</th><th>Crates</th><th>Categories</th></tr></thead><tbody>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/encoding/strings.html#percent-encode-a-string">Percent-encode a string</a></td><td><a href="https://docs.rs/url/"><img src="https://badge-cache.kominick.com/crates/v/percent-encoding.svg?label=percent-encoding" alt="percent-encoding-badge"></a></td><td><a href="https://crates.io/categories/encoding"><img src="https://badge-cache.kominick.com/badge/encoding--x.svg?style=social" alt="cat-encoding-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/encoding/strings.html#encode-a-string-as-applicationx-www-form-urlencoded">Encode a string as application/x-www-form-urlencoded</a></td><td><a href="https://docs.rs/url/"><img src="https://badge-cache.kominick.com/crates/v/url.svg?label=url" alt="url-badge"></a></td><td><a href="https://crates.io/categories/encoding"><img src="https://badge-cache.kominick.com/badge/encoding--x.svg?style=social" alt="cat-encoding-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/encoding/strings.html#encode-and-decode-hex">Encode and decode hex</a></td><td><a href="https://docs.rs/data-encoding/"><img src="https://badge-cache.kominick.com/crates/v/data-encoding.svg?label=data-encoding" alt="data-encoding-badge"></a></td><td><a href="https://crates.io/categories/encoding"><img src="https://badge-cache.kominick.com/badge/encoding--x.svg?style=social" alt="cat-encoding-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/encoding/strings.html#encode-and-decode-base64">Encode and decode base64</a></td><td><a href="https://docs.rs/base64/"><img src="https://badge-cache.kominick.com/crates/v/base64.svg?label=base64" alt="base64-badge"></a></td><td><a href="https://crates.io/categories/encoding"><img src="https://badge-cache.kominick.com/badge/encoding--x.svg?style=social" alt="cat-encoding-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/encoding/csv.html#read-csv-records">Read CSV records</a></td><td><a href="https://docs.rs/csv/"><img src="https://badge-cache.kominick.com/crates/v/csv.svg?label=csv" alt="csv-badge"></a></td><td><a href="https://crates.io/categories/encoding"><img src="https://badge-cache.kominick.com/badge/encoding--x.svg?style=social" alt="cat-encoding-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/encoding/csv.html#read-csv-records-with-different-delimiter">Read CSV records with different delimiter</a></td><td><a href="https://docs.rs/csv/"><img src="https://badge-cache.kominick.com/crates/v/csv.svg?label=csv" alt="csv-badge"></a></td><td><a href="https://crates.io/categories/encoding"><img src="https://badge-cache.kominick.com/badge/encoding--x.svg?style=social" alt="cat-encoding-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/encoding/csv.html#filter-csv-records-matching-a-predicate">Filter CSV records matching a predicate</a></td><td><a href="https://docs.rs/csv/"><img src="https://badge-cache.kominick.com/crates/v/csv.svg?label=csv" alt="csv-badge"></a></td><td><a href="https://crates.io/categories/encoding"><img src="https://badge-cache.kominick.com/badge/encoding--x.svg?style=social" alt="cat-encoding-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/encoding/csv.html#handle-invalid-csv-data-with-serde">Handle invalid CSV data with Serde</a></td><td><a href="https://docs.rs/csv/"><img src="https://badge-cache.kominick.com/crates/v/csv.svg?label=csv" alt="csv-badge"></a> <a href="https://docs.rs/serde/"><img src="https://badge-cache.kominick.com/crates/v/serde.svg?label=serde" alt="serde-badge"></a></td><td><a href="https://crates.io/categories/encoding"><img src="https://badge-cache.kominick.com/badge/encoding--x.svg?style=social" alt="cat-encoding-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/encoding/csv.html#serialize-records-to-csv">Serialize records to CSV</a></td><td><a href="https://docs.rs/csv/"><img src="https://badge-cache.kominick.com/crates/v/csv.svg?label=csv" alt="csv-badge"></a></td><td><a href="https://crates.io/categories/encoding"><img src="https://badge-cache.kominick.com/badge/encoding--x.svg?style=social" alt="cat-encoding-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/encoding/csv.html#serialize-records-to-csv-using-serde">Serialize records to CSV using Serde</a></td><td><a href="https://docs.rs/csv/"><img src="https://badge-cache.kominick.com/crates/v/csv.svg?label=csv" alt="csv-badge"></a> <a href="https://docs.rs/serde/"><img src="https://badge-cache.kominick.com/crates/v/serde.svg?label=serde" alt="serde-badge"></a></td><td><a href="https://crates.io/categories/encoding"><img src="https://badge-cache.kominick.com/badge/encoding--x.svg?style=social" alt="cat-encoding-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/encoding/csv.html#transform-csv-column">Transform one column of a CSV file</a></td><td><a href="https://docs.rs/csv/"><img src="https://badge-cache.kominick.com/crates/v/csv.svg?label=csv" alt="csv-badge"></a> <a href="https://docs.rs/serde/"><img src="https://badge-cache.kominick.com/crates/v/serde.svg?label=serde" alt="serde-badge"></a></td><td><a href="https://crates.io/categories/encoding"><img src="https://badge-cache.kominick.com/badge/encoding--x.svg?style=social" alt="cat-encoding-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/encoding/complex.html#serialize-and-deserialize-unstructured-json">Serialize and deserialize unstructured JSON</a></td><td><a href="https://docs.rs/serde_json/*/serde_json/"><img src="https://badge-cache.kominick.com/crates/v/serde_json.svg?label=serde_json" alt="serde-json-badge"></a></td><td><a href="https://crates.io/categories/encoding"><img src="https://badge-cache.kominick.com/badge/encoding--x.svg?style=social" alt="cat-encoding-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/encoding/complex.html#deserialize-a-toml-configuration-file">Deserialize a TOML configuration file</a></td><td><a href="https://docs.rs/toml/"><img src="https://badge-cache.kominick.com/crates/v/toml.svg?label=toml" alt="toml-badge"></a></td><td><a href="https://crates.io/categories/encoding"><img src="https://badge-cache.kominick.com/badge/encoding--x.svg?style=social" alt="cat-encoding-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/encoding/complex.html#read-and-write-integers-in-little-endian-byte-order">Read and write integers in little-endian byte order</a></td><td><a href="https://docs.rs/byteorder/"><img src="https://badge-cache.kominick.com/crates/v/byteorder.svg?label=byteorder" alt="byteorder-badge"></a></td><td><a href="https://crates.io/categories/encoding"><img src="https://badge-cache.kominick.com/badge/encoding--x.svg?style=social" alt="cat-encoding-badge"></a></td></tr>
</tbody></table>
<!--
Links, in a few categories. Follow the existing structure.
Keep lines sorted.
-->
<!-- Categories -->
<!-- Crates -->

<table><thead><tr><th>Recipe</th><th>Crates</th><th>Categories</th></tr></thead><tbody>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/file/read-write.html#read-lines-of-strings-from-a-file">Read lines of strings from a file</a></td><td><a href="https://doc.rust-lang.org/std"><img src="https://badge-cache.kominick.com/badge/std-1.29.1-blue.svg" alt="std-badge"></a></td><td><a href="https://crates.io/categories/filesystem"><img src="https://badge-cache.kominick.com/badge/filesystem--x.svg?style=social" alt="cat-filesystem-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/file/read-write.html#avoid-writing-and-reading-from-a-same-file">Avoid writing and reading from a same file</a></td><td><a href="https://docs.rs/same-file/"><img src="https://badge-cache.kominick.com/crates/v/same_file.svg?label=same_file" alt="same_file-badge"></a></td><td><a href="https://crates.io/categories/filesystem"><img src="https://badge-cache.kominick.com/badge/filesystem--x.svg?style=social" alt="cat-filesystem-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/file/read-write.html#access-a-file-randomly-using-a-memory-map">Access a file randomly using a memory map</a></td><td><a href="https://docs.rs/memmap/"><img src="https://badge-cache.kominick.com/crates/v/memmap.svg?label=memmap" alt="memmap-badge"></a></td><td><a href="https://crates.io/categories/filesystem"><img src="https://badge-cache.kominick.com/badge/filesystem--x.svg?style=social" alt="cat-filesystem-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/file/dir.html#file-names-that-have-been-modified-in-the-last-24-hours">File names that have been modified in the last 24 hours</a></td><td><a href="https://doc.rust-lang.org/std"><img src="https://badge-cache.kominick.com/badge/std-1.29.1-blue.svg" alt="std-badge"></a></td><td><a href="https://crates.io/categories/filesystem"><img src="https://badge-cache.kominick.com/badge/filesystem--x.svg?style=social" alt="cat-filesystem-badge"></a> <a href="https://crates.io/categories/os"><img src="https://badge-cache.kominick.com/badge/OS--x.svg?style=social" alt="cat-os-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/file/dir.html#find-loops-for-a-given-path">Find loops for a given path</a></td><td><a href="https://docs.rs/same-file/"><img src="https://badge-cache.kominick.com/crates/v/same_file.svg?label=same_file" alt="same_file-badge"></a></td><td><a href="https://crates.io/categories/filesystem"><img src="https://badge-cache.kominick.com/badge/filesystem--x.svg?style=social" alt="cat-filesystem-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/file/dir.html#recursively-find-duplicate-file-names">Recursively find duplicate file names</a></td><td><a href="https://docs.rs/walkdir/"><img src="https://badge-cache.kominick.com/crates/v/walkdir.svg?label=walkdir" alt="walkdir-badge"></a></td><td><a href="https://crates.io/categories/filesystem"><img src="https://badge-cache.kominick.com/badge/filesystem--x.svg?style=social" alt="cat-filesystem-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/file/dir.html#recursively-find-all-files-with-given-predicate">Recursively find all files with given predicate</a></td><td><a href="https://docs.rs/walkdir/"><img src="https://badge-cache.kominick.com/crates/v/walkdir.svg?label=walkdir" alt="walkdir-badge"></a></td><td><a href="https://crates.io/categories/filesystem"><img src="https://badge-cache.kominick.com/badge/filesystem--x.svg?style=social" alt="cat-filesystem-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/file/dir.html#traverse-directories-while-skipping-dotfiles">Traverse directories while skipping dotfiles</a></td><td><a href="https://docs.rs/walkdir/"><img src="https://badge-cache.kominick.com/crates/v/walkdir.svg?label=walkdir" alt="walkdir-badge"></a></td><td><a href="https://crates.io/categories/filesystem"><img src="https://badge-cache.kominick.com/badge/filesystem--x.svg?style=social" alt="cat-filesystem-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/file/dir.html#recursively-calculate-file-sizes-at-given-depth">Recursively calculate file sizes at given depth</a></td><td><a href="https://docs.rs/walkdir/"><img src="https://badge-cache.kominick.com/crates/v/walkdir.svg?label=walkdir" alt="walkdir-badge"></a></td><td><a href="https://crates.io/categories/filesystem"><img src="https://badge-cache.kominick.com/badge/filesystem--x.svg?style=social" alt="cat-filesystem-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/file/dir.html#find-all-png-files-recursively">Find all png files recursively</a></td><td><a href="https://docs.rs/glob/"><img src="https://badge-cache.kominick.com/crates/v/glob.svg?label=glob" alt="glob-badge"></a></td><td><a href="https://crates.io/categories/filesystem"><img src="https://badge-cache.kominick.com/badge/filesystem--x.svg?style=social" alt="cat-filesystem-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/file/dir.html#find-all-files-with-given-pattern-ignoring-filename-case">Find all files with given pattern ignoring filename case</a></td><td><a href="https://docs.rs/glob/"><img src="https://badge-cache.kominick.com/crates/v/glob.svg?label=glob" alt="glob-badge"></a></td><td><a href="https://crates.io/categories/filesystem"><img src="https://badge-cache.kominick.com/badge/filesystem--x.svg?style=social" alt="cat-filesystem-badge"></a></td></tr>
</tbody></table>
<!--
Links, in a few categories. Follow the existing structure.
Keep lines sorted.
-->
<!-- Categories -->
<!-- Crates -->

<table><thead><tr><th>Recipe</th><th>Crates</th><th>Categories</th></tr></thead><tbody>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/hardware/processor.html#check-number-of-logical-cpu-cores">Check number of logical cpu cores</a></td><td><a href="https://docs.rs/num_cpus/"><img src="https://badge-cache.kominick.com/crates/v/num_cpus.svg?label=num_cpus" alt="num_cpus-badge"></a></td><td><a href="https://crates.io/categories/hardware-support"><img src="https://badge-cache.kominick.com/badge/hardware_support--x.svg?style=social" alt="cat-hardware-support-badge"></a></td></tr>
</tbody></table>
<!--
Links, in a few categories. Follow the existing structure.
Keep lines sorted.
-->
<!-- Categories -->
<!-- Crates -->

<table><thead><tr><th>Recipe</th><th>Crates</th><th>Categories</th></tr></thead><tbody>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/mem/global_static.html#declare-lazily-evaluated-constant">Declare lazily evaluated constant</a></td><td><a href="https://docs.rs/lazy_static/"><img src="https://badge-cache.kominick.com/crates/v/lazy_static.svg?label=lazy_static" alt="lazy_static-badge"></a></td><td><a href="https://crates.io/categories/caching"><img src="https://badge-cache.kominick.com/badge/caching--x.svg?style=social" alt="cat-caching-badge"></a> <a href="https://crates.io/categories/rust-patterns"><img src="https://badge-cache.kominick.com/badge/rust_patterns--x.svg?style=social" alt="cat-rust-patterns-badge"></a></td></tr>
</tbody></table>
<!--
Links, in a few categories. Follow the existing structure.
Keep lines sorted.
-->
<!-- Categories -->
<!-- Crates -->

<table><thead><tr><th>Recipe</th><th>Crates</th><th>Categories</th></tr></thead><tbody>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/net/server.html#listen-on-unused-port-tcpip">Listen on unused port TCP/IP</a></td><td><a href="https://doc.rust-lang.org/std"><img src="https://badge-cache.kominick.com/badge/std-1.29.1-blue.svg" alt="std-badge"></a></td><td><a href="https://crates.io/categories/network-programming"><img src="https://badge-cache.kominick.com/badge/net--x.svg?style=social" alt="cat-net-badge"></a></td></tr>
</tbody></table>
<!--
Links, in a few categories. Follow the existing structure.
Keep lines sorted.
-->
<!-- Categories -->
<!-- Crates -->

<table><thead><tr><th>Recipe</th><th>Crates</th><th>Categories</th></tr></thead><tbody>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/os/external.html#run-an-external-command-and-process-stdout">Run an external command and process stdout</a></td><td><a href="https://docs.rs/regex/"><img src="https://badge-cache.kominick.com/crates/v/regex.svg?label=regex" alt="regex-badge"></a></td><td><a href="https://crates.io/categories/os"><img src="https://badge-cache.kominick.com/badge/OS--x.svg?style=social" alt="cat-os-badge"></a> <a href="https://crates.io/categories/text-processing"><img src="https://badge-cache.kominick.com/badge/text_processing--x.svg?style=social" alt="cat-text-processing-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/os/external.html#run-an-external-command-passing-it-stdin-and-check-for-an-error-code">Run an external command passing it stdin and check for an error code</a></td><td><a href="https://docs.rs/regex/"><img src="https://badge-cache.kominick.com/crates/v/regex.svg?label=regex" alt="regex-badge"></a></td><td><a href="https://crates.io/categories/os"><img src="https://badge-cache.kominick.com/badge/OS--x.svg?style=social" alt="cat-os-badge"></a> <a href="https://crates.io/categories/text-processing"><img src="https://badge-cache.kominick.com/badge/text_processing--x.svg?style=social" alt="cat-text-processing-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/os/external.html#run-piped-external-commands">Run piped external commands</a></td><td><a href="https://doc.rust-lang.org/std"><img src="https://badge-cache.kominick.com/badge/std-1.29.1-blue.svg" alt="std-badge"></a></td><td><a href="https://crates.io/categories/os"><img src="https://badge-cache.kominick.com/badge/OS--x.svg?style=social" alt="cat-os-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/os/external.html#redirect-both-stdout-and-stderr-of-child-process-to-the-same-file">Redirect both stdout and stderr of child process to the same file</a></td><td><a href="https://doc.rust-lang.org/std"><img src="https://badge-cache.kominick.com/badge/std-1.29.1-blue.svg" alt="std-badge"></a></td><td><a href="https://crates.io/categories/os"><img src="https://badge-cache.kominick.com/badge/OS--x.svg?style=social" alt="cat-os-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/os/external.html#continuously-process-child-process-outputs">Continuously process child process' outputs</a></td><td><a href="https://doc.rust-lang.org/std"><img src="https://badge-cache.kominick.com/badge/std-1.29.1-blue.svg" alt="std-badge"></a></td><td><a href="https://crates.io/categories/os"><img src="https://badge-cache.kominick.com/badge/OS--x.svg?style=social" alt="cat-os-badge"></a><a href="https://crates.io/categories/text-processing"><img src="https://badge-cache.kominick.com/badge/text_processing--x.svg?style=social" alt="cat-text-processing-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/os/external.html#read-environment-variable">Read environment variable</a></td><td><a href="https://doc.rust-lang.org/std"><img src="https://badge-cache.kominick.com/badge/std-1.29.1-blue.svg" alt="std-badge"></a></td><td><a href="https://crates.io/categories/os"><img src="https://badge-cache.kominick.com/badge/OS--x.svg?style=social" alt="cat-os-badge"></a></td></tr>
</tbody></table>
<!--
Links, in a few categories. Follow the existing structure.
Keep lines sorted.
-->
<!-- Categories -->
<!-- Crates -->

<h2><a href="#mathematics" id="mathematics">Mathematics</a></h2>
<table><thead><tr><th>Recipe</th><th>Crates</th><th>Categories</th></tr></thead><tbody>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/mathematics/linear_algebra.html#vector-norm">Vector Norm</a></td><td><a href="https://docs.rs/ndarray"><img src="https://badge-cache.kominick.com/crate/ndarray.svg?label=ndarray" alt="ndarray-badge"></a></td><td><a href="https://crates.io/categories/science"><img src="https://badge-cache.kominick.com/badge/science--x.svg?style=social" alt="cat-science-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/mathematics/linear_algebra.html#adding-matrices">Adding matrices</a></td><td><a href="https://docs.rs/ndarray"><img src="https://badge-cache.kominick.com/crate/ndarray.svg?label=ndarray" alt="ndarray-badge"></a></td><td><a href="https://crates.io/categories/science"><img src="https://badge-cache.kominick.com/badge/science--x.svg?style=social" alt="cat-science-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/mathematics/linear_algebra.html#multiplying-matrices">Multiplying matrices</a></td><td><a href="https://docs.rs/ndarray"><img src="https://badge-cache.kominick.com/crate/ndarray.svg?label=ndarray" alt="ndarray-badge"></a></td><td><a href="https://crates.io/categories/science"><img src="https://badge-cache.kominick.com/badge/science--x.svg?style=social" alt="cat-science-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/mathematics/linear_algebra.html#multiply-a-scalar-with-a-vector-with-a-matrix">Multiply a scalar with a vector with a matrix</a></td><td><a href="https://docs.rs/ndarray"><img src="https://badge-cache.kominick.com/crate/ndarray.svg?label=ndarray" alt="ndarray-badge"></a></td><td><a href="https://crates.io/categories/science"><img src="https://badge-cache.kominick.com/badge/science--x.svg?style=social" alt="cat-science-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/mathematics/linear_algebra.html#invert-matrix">Invert matrix</a></td><td><a href="https://docs.rs/nalgebra"><img src="https://badge-cache.kominick.com/crate/nalgebra.svg?label=nalgebra" alt="nalgebra-badge"></a></td><td><a href="https://crates.io/categories/science"><img src="https://badge-cache.kominick.com/badge/science--x.svg?style=social" alt="cat-science-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/mathematics/trigonometry.html#calculating-the-side-length-of-a-triangle">Calculating the side length of a triangle</a></td><td><a href="https://doc.rust-lang.org/std"><img src="https://badge-cache.kominick.com/badge/std-1.29.1-blue.svg" alt="std-badge"></a></td><td><a href="https://crates.io/categories/science"><img src="https://badge-cache.kominick.com/badge/science--x.svg?style=social" alt="cat-science-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/mathematics/trigonometry.html#verifying-tan-is-equal-to-sin-divided-by-cos">Verifying tan is equal to sin divided by cos</a></td><td><a href="https://doc.rust-lang.org/std"><img src="https://badge-cache.kominick.com/badge/std-1.29.1-blue.svg" alt="std-badge"></a></td><td><a href="https://crates.io/categories/science"><img src="https://badge-cache.kominick.com/badge/science--x.svg?style=social" alt="cat-science-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/mathematics/trigonometry.html#distance-between-two-points-on-the-earth">Distance between two points on the Earth</a></td><td><a href="https://doc.rust-lang.org/std"><img src="https://badge-cache.kominick.com/badge/std-1.29.1-blue.svg" alt="std-badge"></a></td><td><a href="https://crates.io/categories/science"><img src="https://badge-cache.kominick.com/badge/science--x.svg?style=social" alt="cat-science-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/mathematics/complex_numbers.html#creating-complex-numbers">Creating complex numbers</a></td><td><a href="https://docs.rs/num/"><img src="https://badge-cache.kominick.com/crates/v/num.svg?label=num" alt="num-badge"></a></td><td><a href="https://crates.io/categories/science"><img src="https://badge-cache.kominick.com/badge/science--x.svg?style=social" alt="cat-science-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/mathematics/complex_numbers.html#adding-complex-numbers">Adding complex numbers</a></td><td><a href="https://docs.rs/num/"><img src="https://badge-cache.kominick.com/crates/v/num.svg?label=num" alt="num-badge"></a></td><td><a href="https://crates.io/categories/science"><img src="https://badge-cache.kominick.com/badge/science--x.svg?style=social" alt="cat-science-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/mathematics/complex_numbers.html#mathematical-functions">Mathematical functions on complex numbers</a></td><td><a href="https://docs.rs/num/"><img src="https://badge-cache.kominick.com/crates/v/num.svg?label=num" alt="num-badge"></a></td><td><a href="https://crates.io/categories/science"><img src="https://badge-cache.kominick.com/badge/science--x.svg?style=social" alt="cat-science-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/mathematics/statistics.html#measures-of-central-tendency">Measures of central tendency</a></td><td><a href="https://doc.rust-lang.org/std"><img src="https://badge-cache.kominick.com/badge/std-1.29.1-blue.svg" alt="std-badge"></a></td><td><a href="https://crates.io/categories/science"><img src="https://badge-cache.kominick.com/badge/science--x.svg?style=social" alt="cat-science-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/mathematics/statistics.html#standard-deviation">Computing standard deviation</a></td><td><a href="https://doc.rust-lang.org/std"><img src="https://badge-cache.kominick.com/badge/std-1.29.1-blue.svg" alt="std-badge"></a></td><td><a href="https://crates.io/categories/science"><img src="https://badge-cache.kominick.com/badge/science--x.svg?style=social" alt="cat-science-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/mathematics/miscellaneous.html#big-integers">Big integers</a></td><td><a href="https://docs.rs/num/"><img src="https://badge-cache.kominick.com/crates/v/num.svg?label=num" alt="num-badge"></a></td><td><a href="https://crates.io/categories/science"><img src="https://badge-cache.kominick.com/badge/science--x.svg?style=social" alt="cat-science-badge"></a></td></tr>
</tbody></table>
<!--
Links, in a few categories. Follow the existing structure.
Keep lines sorted.
-->
<!-- Categories -->
<!-- Crates -->
<!--
Links, in a few categories. Follow the existing structure.
Keep lines sorted.
-->
<!-- Categories -->
<!-- Crates -->

<table><thead><tr><th>Recipe</th><th>Crates</th><th>Categories</th></tr></thead><tbody>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/text/string_parsing.html#collect-unicode-graphemes">Collect Unicode Graphemes</a></td><td><a href="https://docs.rs/unicode-segmentation/"><img src="https://badge-cache.kominick.com/crates/v/unicode-segmentation.svg?label=unicode-segmentation" alt="unicode-segmentation-badge"></a></td><td><a href="https://crates.io/categories/text-processing"><img src="https://badge-cache.kominick.com/badge/encoding--x.svg?style=social" alt="cat-encoding-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/text/regex.html#verify-and-extract-login-from-an-email-address">Verify and extract login from an email address</a></td><td><a href="https://docs.rs/regex/"><img src="https://badge-cache.kominick.com/crates/v/regex.svg?label=regex" alt="regex-badge"></a> <a href="https://docs.rs/lazy_static/"><img src="https://badge-cache.kominick.com/crates/v/lazy_static.svg?label=lazy_static" alt="lazy_static-badge"></a></td><td><a href="https://crates.io/categories/text-processing"><img src="https://badge-cache.kominick.com/badge/text_processing--x.svg?style=social" alt="cat-text-processing-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/text/regex.html#extract-a-list-of-unique-hashtags-from-a-text">Extract a list of unique #Hashtags from a text</a></td><td><a href="https://docs.rs/regex/"><img src="https://badge-cache.kominick.com/crates/v/regex.svg?label=regex" alt="regex-badge"></a> <a href="https://docs.rs/lazy_static/"><img src="https://badge-cache.kominick.com/crates/v/lazy_static.svg?label=lazy_static" alt="lazy_static-badge"></a></td><td><a href="https://crates.io/categories/text-processing"><img src="https://badge-cache.kominick.com/badge/text_processing--x.svg?style=social" alt="cat-text-processing-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/text/regex.html#extract-phone-numbers-from-text">Extract phone numbers from text</a></td><td><a href="https://docs.rs/regex/"><img src="https://badge-cache.kominick.com/crates/v/regex.svg?label=regex" alt="regex-badge"></a></td><td><a href="https://crates.io/categories/text-processing"><img src="https://badge-cache.kominick.com/badge/text_processing--x.svg?style=social" alt="cat-text-processing-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/text/regex.html#filter-a-log-file-by-matching-multiple-regular-expressions">Filter a log file by matching multiple regular expressions</a></td><td><a href="https://docs.rs/regex/"><img src="https://badge-cache.kominick.com/crates/v/regex.svg?label=regex" alt="regex-badge"></a></td><td><a href="https://crates.io/categories/text-processing"><img src="https://badge-cache.kominick.com/badge/text_processing--x.svg?style=social" alt="cat-text-processing-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/text/regex.html#replace-all-occurrences-of-one-text-pattern-with-another-pattern">Replace all occurrences of one text pattern with another pattern.</a></td><td><a href="https://docs.rs/regex/"><img src="https://badge-cache.kominick.com/crates/v/regex.svg?label=regex" alt="regex-badge"></a> <a href="https://docs.rs/lazy_static/"><img src="https://badge-cache.kominick.com/crates/v/lazy_static.svg?label=lazy_static" alt="lazy_static-badge"></a></td><td><a href="https://crates.io/categories/text-processing"><img src="https://badge-cache.kominick.com/badge/text_processing--x.svg?style=social" alt="cat-text-processing-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/text/string_parsing.html#implement-the-fromstr-trait-for-a-custom-struct">Implement the <code>FromStr</code> trait for a custom <code>struct</code></a></td><td><a href="https://doc.rust-lang.org/std"><img src="https://badge-cache.kominick.com/badge/std-1.29.1-blue.svg" alt="std-badge"></a></td><td><a href="https://crates.io/categories/text-processing"><img src="https://badge-cache.kominick.com/badge/text_processing--x.svg?style=social" alt="cat-text-processing-badge"></a></td></tr>
</tbody></table>
<!--
Links, in a few categories. Follow the existing structure.
Keep lines sorted.
-->
<!-- Categories -->
<!-- Crates -->

<h2><a href="#scraping-web-pages" id="scraping-web-pages">Scraping Web Pages</a></h2>
<table><thead><tr><th>Recipe</th><th>Crates</th><th>Categories</th></tr></thead><tbody>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/web/scraping.html#extract-all-links-from-a-webpage-html">Extract all links from a webpage HTML</a></td><td><a href="https://docs.rs/reqwest/"><img src="https://badge-cache.kominick.com/crates/v/reqwest.svg?label=reqwest" alt="reqwest-badge"></a> <a href="https://docs.rs/select/"><img src="https://badge-cache.kominick.com/crates/v/select.svg?label=select" alt="select-badge"></a></td><td><a href="https://crates.io/categories/network-programming"><img src="https://badge-cache.kominick.com/badge/net--x.svg?style=social" alt="cat-net-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/web/scraping.html#check-a-webpage-for-broken-links">Check webpage for broken links</a></td><td><a href="https://docs.rs/reqwest/"><img src="https://badge-cache.kominick.com/crates/v/reqwest.svg?label=reqwest" alt="reqwest-badge"></a> <a href="https://docs.rs/select/"><img src="https://badge-cache.kominick.com/crates/v/select.svg?label=select" alt="select-badge"></a> <a href="https://docs.rs/url/"><img src="https://badge-cache.kominick.com/crates/v/url.svg?label=url" alt="url-badge"></a></td><td><a href="https://crates.io/categories/network-programming"><img src="https://badge-cache.kominick.com/badge/net--x.svg?style=social" alt="cat-net-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/web/scraping.html#extract-all-unique-links-from-a-mediawiki-markup">Extract all unique links from a MediaWiki markup</a></td><td><a href="https://docs.rs/reqwest/"><img src="https://badge-cache.kominick.com/crates/v/reqwest.svg?label=reqwest" alt="reqwest-badge"></a> <a href="https://docs.rs/regex/"><img src="https://badge-cache.kominick.com/crates/v/regex.svg?label=regex" alt="regex-badge"></a></td><td><a href="https://crates.io/categories/network-programming"><img src="https://badge-cache.kominick.com/badge/net--x.svg?style=social" alt="cat-net-badge"></a></td></tr>
</tbody></table>
<h2><a href="#uniform-resource-locations-url" id="uniform-resource-locations-url">Uniform Resource Locations (URL)</a></h2>
<table><thead><tr><th>Recipe</th><th>Crates</th><th>Categories</th></tr></thead><tbody>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/web/url.html#parse-a-url-from-a-string-to-a-url-type">Parse a URL from a string to a <code>Url</code> type</a></td><td><a href="https://docs.rs/url/"><img src="https://badge-cache.kominick.com/crates/v/url.svg?label=url" alt="url-badge"></a></td><td><a href="https://crates.io/categories/network-programming"><img src="https://badge-cache.kominick.com/badge/net--x.svg?style=social" alt="cat-net-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/web/url.html#create-a-base-url-by-removing-path-segments">Create a base URL by removing path segments</a></td><td><a href="https://docs.rs/url/"><img src="https://badge-cache.kominick.com/crates/v/url.svg?label=url" alt="url-badge"></a></td><td><a href="https://crates.io/categories/network-programming"><img src="https://badge-cache.kominick.com/badge/net--x.svg?style=social" alt="cat-net-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/web/url.html#create-new-urls-from-a-base-url">Create new URLs from a base URL</a></td><td><a href="https://docs.rs/url/"><img src="https://badge-cache.kominick.com/crates/v/url.svg?label=url" alt="url-badge"></a></td><td><a href="https://crates.io/categories/network-programming"><img src="https://badge-cache.kominick.com/badge/net--x.svg?style=social" alt="cat-net-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/web/url.html#extract-the-url-origin-scheme--host--port">Extract the URL origin (scheme / host / port)</a></td><td><a href="https://docs.rs/url/"><img src="https://badge-cache.kominick.com/crates/v/url.svg?label=url" alt="url-badge"></a></td><td><a href="https://crates.io/categories/network-programming"><img src="https://badge-cache.kominick.com/badge/net--x.svg?style=social" alt="cat-net-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/web/url.html#remove-fragment-identifiers-and-query-pairs-from-a-url">Remove fragment identifiers and query pairs from a URL</a></td><td><a href="https://docs.rs/url/"><img src="https://badge-cache.kominick.com/crates/v/url.svg?label=url" alt="url-badge"></a></td><td><a href="https://crates.io/categories/network-programming"><img src="https://badge-cache.kominick.com/badge/net--x.svg?style=social" alt="cat-net-badge"></a></td></tr>
</tbody></table>
<h2><a href="#media-types-mime" id="media-types-mime">Media Types (MIME)</a></h2>
<table><thead><tr><th>Recipe</th><th>Crates</th><th>Categories</th></tr></thead><tbody>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/web/mime.html#get-mime-type-from-string">Get MIME type from string</a></td><td><a href="https://docs.rs/mime/"><img src="https://badge-cache.kominick.com/crates/v/csv.svg?label=mime" alt="mime-badge"></a></td><td><a href="https://crates.io/categories/encoding"><img src="https://badge-cache.kominick.com/badge/encoding--x.svg?style=social" alt="cat-encoding-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/web/mime.html#get-mime-type-from-filename">Get MIME type from filename</a></td><td><a href="https://docs.rs/mime/"><img src="https://badge-cache.kominick.com/crates/v/csv.svg?label=mime" alt="mime-badge"></a></td><td><a href="https://crates.io/categories/encoding"><img src="https://badge-cache.kominick.com/badge/encoding--x.svg?style=social" alt="cat-encoding-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/web/mime.html#parse-the-mime-type-of-a-http-response">Parse the MIME type of a HTTP response</a></td><td><a href="https://docs.rs/mime/"><img src="https://badge-cache.kominick.com/crates/v/csv.svg?label=mime" alt="mime-badge"></a> <a href="https://docs.rs/reqwest/"><img src="https://badge-cache.kominick.com/crates/v/reqwest.svg?label=reqwest" alt="reqwest-badge"></a></td><td><a href="https://crates.io/categories/network-programming"><img src="https://badge-cache.kominick.com/badge/net--x.svg?style=social" alt="cat-net-badge"></a> <a href="https://crates.io/categories/encoding"><img src="https://badge-cache.kominick.com/badge/encoding--x.svg?style=social" alt="cat-encoding-badge"></a></td></tr>
</tbody></table>
<h2><a href="#clients" id="clients">Clients</a></h2>
<table><thead><tr><th>Recipe</th><th>Crates</th><th>Categories</th></tr></thead><tbody>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/web/clients/requests.html#make-a-http-get-request">Make a HTTP GET request</a></td><td><a href="https://docs.rs/reqwest/"><img src="https://badge-cache.kominick.com/crates/v/reqwest.svg?label=reqwest" alt="reqwest-badge"></a></td><td><a href="https://crates.io/categories/network-programming"><img src="https://badge-cache.kominick.com/badge/net--x.svg?style=social" alt="cat-net-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/web/clients/apis.html#query-the-github-api">Query the GitHub API</a></td><td><a href="https://docs.rs/reqwest/"><img src="https://badge-cache.kominick.com/crates/v/reqwest.svg?label=reqwest" alt="reqwest-badge"></a> <a href="https://docs.rs/serde/"><img src="https://badge-cache.kominick.com/crates/v/serde.svg?label=serde" alt="serde-badge"></a></td><td><a href="https://crates.io/categories/network-programming"><img src="https://badge-cache.kominick.com/badge/net--x.svg?style=social" alt="cat-net-badge"></a> <a href="https://crates.io/categories/encoding"><img src="https://badge-cache.kominick.com/badge/encoding--x.svg?style=social" alt="cat-encoding-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/web/clients/apis.html#check-if-an-api-resource-exists">Check if an API resource exists</a></td><td><a href="https://docs.rs/reqwest/"><img src="https://badge-cache.kominick.com/crates/v/reqwest.svg?label=reqwest" alt="reqwest-badge"></a></td><td><a href="https://crates.io/categories/network-programming"><img src="https://badge-cache.kominick.com/badge/net--x.svg?style=social" alt="cat-net-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/web/clients/apis.html#create-and-delete-gist-with-github-api">Create and delete Gist with GitHub API</a></td><td><a href="https://docs.rs/reqwest/"><img src="https://badge-cache.kominick.com/crates/v/reqwest.svg?label=reqwest" alt="reqwest-badge"></a> <a href="https://docs.rs/serde/"><img src="https://badge-cache.kominick.com/crates/v/serde.svg?label=serde" alt="serde-badge"></a></td><td><a href="https://crates.io/categories/network-programming"><img src="https://badge-cache.kominick.com/badge/net--x.svg?style=social" alt="cat-net-badge"></a> <a href="https://crates.io/categories/encoding"><img src="https://badge-cache.kominick.com/badge/encoding--x.svg?style=social" alt="cat-encoding-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/web/clients/apis.html#consume-a-paginated-restful-api">Consume a paginated RESTful API</a></td><td><a href="https://docs.rs/reqwest/"><img src="https://badge-cache.kominick.com/crates/v/reqwest.svg?label=reqwest" alt="reqwest-badge"></a> <a href="https://docs.rs/serde/"><img src="https://badge-cache.kominick.com/crates/v/serde.svg?label=serde" alt="serde-badge"></a></td><td><a href="https://crates.io/categories/network-programming"><img src="https://badge-cache.kominick.com/badge/net--x.svg?style=social" alt="cat-net-badge"></a> <a href="https://crates.io/categories/encoding"><img src="https://badge-cache.kominick.com/badge/encoding--x.svg?style=social" alt="cat-encoding-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/web/clients/download.html#download-a-file-to-a-temporary-directory">Download a file to a temporary directory</a></td><td><a href="https://docs.rs/reqwest/"><img src="https://badge-cache.kominick.com/crates/v/reqwest.svg?label=reqwest" alt="reqwest-badge"></a> <a href="https://docs.rs/tempdir/"><img src="https://badge-cache.kominick.com/crates/v/tempdir.svg?label=tempdir" alt="tempdir-badge"></a></td><td><a href="https://crates.io/categories/network-programming"><img src="https://badge-cache.kominick.com/badge/net--x.svg?style=social" alt="cat-net-badge"></a> <a href="https://crates.io/categories/filesystem"><img src="https://badge-cache.kominick.com/badge/filesystem--x.svg?style=social" alt="cat-filesystem-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/web/clients/download.html#make-a-partial-download-with-http-range-headers">Make a partial download with HTTP range headers</a></td><td><a href="https://docs.rs/reqwest/"><img src="https://badge-cache.kominick.com/crates/v/reqwest.svg?label=reqwest" alt="reqwest-badge"></a></td><td><a href="https://crates.io/categories/network-programming"><img src="https://badge-cache.kominick.com/badge/net--x.svg?style=social" alt="cat-net-badge"></a></td></tr>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/web/clients/download.html#post-a-file-to-paste-rs">POST a file to paste-rs</a></td><td><a href="https://docs.rs/reqwest/"><img src="https://badge-cache.kominick.com/crates/v/reqwest.svg?label=reqwest" alt="reqwest-badge"></a></td><td><a href="https://crates.io/categories/network-programming"><img src="https://badge-cache.kominick.com/badge/net--x.svg?style=social" alt="cat-net-badge"></a></td></tr>
</tbody></table>
<h2><a href="#web-authentication" id="web-authentication">Web Authentication</a></h2>
<table><thead><tr><th>Recipe</th><th>Crates</th><th>Categories</th></tr></thead><tbody>
<tr><td><a href="https://rust-lang-nursery.github.io/rust-cookbook/web/clients/authentication.html#basic-authentication">Basic Authentication</a></td><td><a href="https://docs.rs/reqwest/"><img src="https://badge-cache.kominick.com/crates/v/reqwest.svg?label=reqwest" alt="reqwest-badge"></a></td><td><a href="https://crates.io/categories/network-programming"><img src="https://badge-cache.kominick.com/badge/net--x.svg?style=social" alt="cat-net-badge"></a></td></tr>
</tbody></table>
<!--
Links, in a few categories. Follow the existing structure.
Keep lines sorted.
-->
<!-- Categories -->
<!-- Crates -->

                    </main>

                    <nav aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        
                            <a rel="next" href="https://rust-lang-nursery.github.io/rust-cookbook/about.html" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i></i>
                            </a>
                        

                        <div></div>
                    </nav>
                </div>
            </div>

            <nav aria-label="Page navigation">
                

                
                    <a rel="next" href="https://rust-lang-nursery.github.io/rust-cookbook/about.html" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        
        

        

        
        
        
        
        

        
        
        

        <!-- Custom JS scripts -->
        

        

    

</div>]]>
            </description>
            <link>https://rust-lang-nursery.github.io/rust-cookbook/intro.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26101066</guid>
            <pubDate>Thu, 11 Feb 2021 13:09:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Linear-base makes writing Linear Haskell easy and fun]]>
            </title>
            <description>
<![CDATA[
Score 67 | Comments 4 (<a href="https://news.ycombinator.com/item?id=26100693">thread link</a>) | @lelf
<br/>
February 11, 2021 | https://www.tweag.io/blog/2021-02-10-linear-base/ | <a href="https://web.archive.org/web/*/https://www.tweag.io/blog/2021-02-10-linear-base/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><p>We‚Äôre announcing <a href="https://hackage.haskell.org/package/linear-base"><code>linear-base</code></a>,
a standard library for <a href="https://github.com/tweag/linear-base#learning-about--xlineartypes">Linear Haskell</a> programs.
Our release accompanies the release of <a href="https://gitlab.haskell.org/ghc/ghc/-/wikis/status/ghc-9.0.1">GHC
9.0</a> which supports <code>-XLinearTypes</code>. Linear base has been
written by Bhavik Mehta, a former Tweag intern, Arnaud Spiwack, and ourselves.</p>
<p>In the spirit of a standard library, <code>linear-base</code> is not a strict replica of
<code>base</code> with linearly-typed variants of all the facilities in <code>base</code>. Instead,
<code>linear-base</code> focuses on the abstractions one naturally <em>needs</em> and <em>desires</em>
when programming with linear types.</p>
<p>It does include some linear variants from <code>base</code>, but the library
ranges from mutable data structures with a pure API to a resource-safe I/O
monad, to linear-streams. It‚Äôs a ‚Äúbase‚Äù library, a helpful
prelude to programming using <code>-XLinearTypes</code>.</p>
<p>Of course this raises the question, what does a linear Haskell program look like?
And, how does <code>linear-base</code> provide what we <em>need</em> and what we <em>want</em> to write one?</p>
<h2>Envisioning Linear Haskell Programs</h2>
<p>If you‚Äôre unfamiliar with <code>-XLinearTypes</code>, you can learn more by
browsing our
<a href="https://github.com/tweag/linear-base/tree/master/examples">examples</a> and <a href="https://github.com/tweag/linear-base#learning-about--xlineartypes">README</a>.
At a bare-bones level, linear types simply
provide some further properties that a function declared with a signature like <code>f :: A %1-&gt; B</code> must satisfy. Namely, to type-check the body of <code>f</code>,
the <code>A</code> must be consumed exactly once. We are then able to leverage this
type-checking power to write functions that would have been unsafe to write
before (e.g., a pure interface to mutable data structures) or provide
alternative APIs to existing ones that place an obligation on the programmer to
ensure they avoid certain errors (such as reading from a closed file handle).
For more information about how <code>-XLinearTypes</code> works see our <a href="https://www.tweag.io/blog/tags/linear-types/">earlier
posts</a>.</p>
<p>There are two main families of motivations for this additional type-checking discussed
in the <a href="https://arxiv.org/abs/1710.09756">Linear Haskell paper</a>. First, we can write pure
APIs for mutable data structures such as arrays. As discussed in the paper,
this approach is sometimes more convenient to work with than using the
<code>ST</code> monad, and even makes <a href="https://hackage.haskell.org/package/array-0.5.4.0/docs/Data-Array-Unsafe.html#v:unsafeFreeze"><code>unsafeFreeze</code></a> safe.</p>
<p>Second, <code>-XLinearTypes</code> enables us to type-check usage protocols.
An example discussed in the paper is the protocol of file handles, namely, that
file handles must be closed and then cannot be written to or read from<sup id="fnref-1"><a href="#fn-1">1</a></sup>.</p>
<p>Thus, a typical linear program would likely be one that</p>
<ul>
<li>is mostly pure, but has a piece of state to use throughout. Using
linear types avoids that an <code>ST</code> monad invades
the larger, pure, part of the program</li>
<li>is resource-heavy and requires a non-trivial amount of reasoning on the part
of the programmer to ensure resource protocols are upheld.</li>
</ul>
<p>With this in mind, we can envision a standard library as one that has the
<strong>linear gadgets we <em>want</em></strong>, like pure-interfaced mutable data structures and
resource-safe APIs, and the <strong>utilities we <em>need</em></strong>, like a linear <code>($)</code>, to
write a typical linear program.</p>
<h2>What we want: linear abstractions or use-cases!</h2>
<ul>
<li><code>linear-base</code> comes equipped with a pure API for mutable <a href="https://github.com/tweag/linear-base/blob/master/src/Data/Array/Mutable/Linear.hs">arrays</a>,
<a href="https://github.com/tweag/linear-base/blob/master/src/Data/Vector/Mutable/Linear.hs">vectors</a>, <a href="https://github.com/tweag/linear-base/blob/master/src/Data/HashMap/Linear.hs">hashmaps</a> and <a href="https://github.com/tweag/linear-base/blob/master/src/Data/Set/Mutable/Linear.hs">sets</a>.
These enable us to write a mutable implementation of
<a href="https://github.com/tweag/linear-base/blob/quicksort/examples/Simple/Quicksort.hs">quicksort</a> in a few lines:</li>
</ul>
<div data-language="hs"><pre><code>  <span>quicksort</span> <span>::</span> <span>Array</span> <span>Int</span> <span>%</span><span>1</span><span>-&gt;</span> <span>Array</span> <span>Int</span>
  <span>quicksort</span> <span>arr</span> <span>=</span> <span>Array.size</span> <span>arr</span> <span>&amp;</span> <span>\</span><span>case</span>
    <span>(</span><span>arr</span>'<span>,</span> <span>Ur</span> <span>len</span><span>)</span> <span>-&gt;</span> <span>go</span> <span>0</span> <span>(</span><span>len</span><span>-</span><span>1</span><span>)</span> <span>arr</span>'

  <span>go</span> <span>::</span> <span>Int</span> <span>-&gt;</span> <span>Int</span> <span>-&gt;</span> <span>Array</span> <span>Int</span> <span>%</span><span>1</span><span>-&gt;</span> <span>Array</span> <span>Int</span>
  <span>go</span> <span>lo</span> <span>hi</span> <span>arr</span> <span>=</span> <span>case</span> <span>lo</span> <span>&gt;=</span> <span>hi</span> <span>of</span>
    <span>True</span> <span>-&gt;</span> <span>arr</span>
    <span>False</span> <span>-&gt;</span> <span>Array</span><span>.</span><span>read</span> <span>arr</span> <span>lo</span> <span>&amp;</span> <span>\</span><span>case</span>
      <span>(</span><span>arr0</span><span>,</span> <span>Ur</span> <span>pivot</span><span>)</span> <span>-&gt;</span> <span>partition</span> <span>arr0</span> <span>pivot</span> <span>lo</span> <span>hi</span> <span>&amp;</span> <span>\</span><span>case</span>
        <span>(</span><span>arr1</span><span>,</span> <span>Ur</span> <span>ix</span><span>)</span> <span>-&gt;</span> <span>swap</span> <span>arr1</span> <span>lo</span> <span>ix</span> <span>&amp;</span> <span>\</span><span>case</span>
          <span>arr2</span> <span>-&gt;</span> <span>go</span> <span>lo</span> <span>ix</span> <span>arr2</span> <span>&amp;</span> <span>\</span><span>case</span>
            <span>arr3</span> <span>-&gt;</span> <span>go</span> <span>(</span><span>ix</span><span>+</span><span>1</span><span>)</span> <span>hi</span> <span>arr3</span>

  <span>partition</span> <span>::</span> <span>Array</span> <span>Int</span> <span>%</span><span>1</span><span>-&gt;</span> <span>Int</span> <span>-&gt;</span> <span>Int</span> <span>-&gt;</span> <span>Int</span> <span>-&gt;</span> <span>(</span><span>Array</span> <span>Int</span><span>,</span> <span>Ur</span> <span>Int</span><span>)</span>
  <span>partition</span> <span>arr</span> <span>pivot</span> <span>lx</span> <span>rx</span>
    <span>|</span> <span>(</span><span>rx</span> <span>&lt;</span> <span>lx</span><span>)</span> <span>=</span> <span>(</span><span>arr</span><span>,</span> <span>Ur</span> <span>rx</span><span>)</span>
    <span>|</span> <span>otherwise</span> <span>=</span> <span>Array</span><span>.</span><span>read</span> <span>arr</span> <span>lx</span> <span>&amp;</span> <span>\</span><span>case</span>
        <span>(</span><span>arr1</span><span>,</span> <span>Ur</span> <span>lVal</span><span>)</span> <span>-&gt;</span> <span>Array</span><span>.</span><span>read</span> <span>arr1</span> <span>rx</span> <span>&amp;</span> <span>\</span><span>case</span>
          <span>(</span><span>arr2</span><span>,</span> <span>Ur</span> <span>rVal</span><span>)</span> <span>-&gt;</span> <span>case</span> <span>(</span><span>lVal</span> <span>&lt;=</span> <span>pivot</span><span>,</span> <span>pivot</span> <span>&lt;</span> <span>rVal</span><span>)</span> <span>of</span>
            <span>(</span><span>True</span><span>,</span> <span>True</span><span>)</span> <span>-&gt;</span> <span>partition</span> <span>arr2</span> <span>pivot</span> <span>(</span><span>lx</span><span>+</span><span>1</span><span>)</span> <span>(</span><span>rx</span><span>-</span><span>1</span><span>)</span>
            <span>(</span><span>True</span><span>,</span> <span>False</span><span>)</span> <span>-&gt;</span> <span>partition</span> <span>arr2</span> <span>pivot</span> <span>(</span><span>lx</span><span>+</span><span>1</span><span>)</span> <span>rx</span>
            <span>(</span><span>False</span><span>,</span> <span>True</span><span>)</span> <span>-&gt;</span> <span>partition</span> <span>arr2</span> <span>pivot</span> <span>(</span><span>lx</span><span>-</span><span>1</span><span>)</span> <span>(</span><span>rx</span><span>-</span><span>1</span><span>)</span>
            <span>(</span><span>False</span><span>,</span> <span>False</span><span>)</span> <span>-&gt;</span> <span>swap</span> <span>arr2</span> <span>lx</span> <span>rx</span> <span>&amp;</span> <span>\</span><span>case</span>
              <span>arr3</span> <span>-&gt;</span> <span>partition</span> <span>arr3</span> <span>pivot</span> <span>(</span><span>lx</span><span>+</span><span>1</span><span>)</span> <span>(</span><span>rx</span><span>-</span><span>1</span><span>)</span></code></pre></div>
<p>This code reads rather like an imperative
program, where <code>arr</code> is updated through <code>arr</code>, <code>arr1</code>, <code>arr2</code> and so on.
Compared to using the <code>ST</code> monad, we lose the ability to share the
effect of mutations, in exchange we gain a pure interface, which can
be less invasive.</p>
<ul>
<li><code>linear-base</code> has a resource-safe <a href="https://github.com/tweag/linear-base/blob/master/src/System/IO/Resource.hs">File I/O API</a> that ensures that file
handles, for instance, are closed and then no longer used.</li>
<li><code>linear-base</code> includes a <a href="https://github.com/tweag/linear-base/tree/master/src/Streaming">linear variant</a> of the
<a href="https://hackage.haskell.org/package/streaming">streaming</a> library, which is compatible with the
resource-safe I/O monad, to ensure that resources accessed in the
monadic layers of streams have their protocols obeyed and that the protocols
of streams themselves are enforced. If the effects in streams can be repeated
more than once, we could, say, repeat the effect of reading from a file handle
after that handle is closed. Hence, we use control monads inside linear streams
to ensure monadic effects are performed exactly once. This is based
on
<a href="https://www.tweag.io/blog/2018-06-21-linear-streams/">the work</a> of Edvard H√ºbinette, for the Haskell Summer
of Code of 2018.</li>
<li>In order to define such resource-safe protocols, <code>linear-base</code> provides
<a href="https://github.com/tweag/linear-base/blob/master/src/Control/Monad/Linear.hs">control monads</a> and related monadic functions like <code>foldM</code>.</li>
</ul>
<h2>What we need: linear utilities!</h2>
<p>Of course, <code>linear-base</code> includes various abstractions that many
linear programs will end up using, namely:</p>
<ul>
<li>
<p>Variants of <code>base</code> abstractions like a linear <code>Num</code>, linear <code>Functor</code>s (in <a href="https://www.tweag.io/blog/2020-01-16-data-vs-control/">two
flavors</a>), a linear <code>Data.List</code> API, and linear versions of
standard <code>Prelude</code> functions like <code>($)</code>.</p>
<p>We need these because functions as simple as</p>
</li>
</ul>
<div data-language="hs"><pre><code>  <span>f</span> <span>::</span> <span>Int</span> <span>%</span><span>1</span><span>-&gt;</span> <span>Int</span> <span>%</span><span>1</span><span>-&gt;</span> <span>Int</span>
  <span>f</span> <span>a</span> <span>b</span> <span>=</span> <span>(</span><span>a</span> <span>*</span> <span>4</span><span>)</span> <span>+</span> <span>b</span></code></pre></div>
<p>will only type-check if <code>(*)</code> and <code>(+)</code> have linear arrows. Similarly, using
standard abstractions from <code>base</code>, like functors, <code>($)</code>, <code>map</code>, <code>foldl</code>, will
not work inside many functions that have linear arguments.</p>
<p>As a special note, we use a linear <code>(&amp;)</code> for a workaround to the
current limitation that all case statements consume the scrutinee (the <code>x</code> in
<code>case x of</code>) unrestrictedly. See the <a href="https://github.com/tweag/linear-base/blob/master/docs/USER_GUIDE.md">user guide</a> for more.</p>
<ul>
<li>Mechanisms to interface linear and non-linear code: <code>linear-base</code> comes with
<code>Ur</code>, which stands for unrestricted and lets you manipulate a
non-linear value in a linear context.
Hence, a function <code>f :: Ur a %1-&gt; b</code> can use the <code>a</code>
unrestrictedly after pattern matching on <code>(Ur x)</code>. Alongside this,
<code>linear-base</code> comes with the <a href="https://github.com/tweag/linear-base/blob/master/src/Data/Unrestricted/Linear.hs">classes</a> <code>Consumable</code>, <code>Dupable</code> and
<code>Movable</code> which allow non-linear use of linearly-bound values; one can
<code>consume</code>, duplicate (possibly with <code>dup2 :: a %1-&gt; (a,a)</code>) or, <code>move</code> a
linearly bound value.</li>
</ul>
<div data-language="hs"><pre><code>  <span>consume</span> <span>::</span> <span>Consumable</span> <span>a</span> <span>=&gt;</span> <span>a</span> <span>%</span><span>1</span><span>-&gt;</span> <span>(</span><span>)</span>
  <span>dup2</span> <span>::</span> <span>Dupable</span> <span>a</span> <span>=&gt;</span> <span>a</span> <span>%</span><span>1</span><span>-&gt;</span> <span>(</span><span>a</span><span>,</span><span>a</span><span>)</span>
  <span>move</span> <span>::</span> <span>Movable</span> <span>a</span> <span>=&gt;</span> <span>a</span> <span>%</span><span>1</span><span>-&gt;</span> <span>Ur</span> <span>a</span></code></pre></div>
<p>These are used throughout <code>linear-base</code> itself and are likely to
show up in linearly types programs. For instance,
the linearly-typed streaming function <code>chain</code> has
the following type</p>
<div data-language="hs"><pre><code>  <span>chain</span> <span>::</span> <span>forall</span> <span>a</span> <span>m</span> <span>r</span> <span>y</span><span> . </span><span>(</span><span>Control.Monad</span> <span>m</span><span>,</span> <span>Consumable</span> <span>y</span><span>)</span> <span>=&gt;</span>
    <span>(</span><span>a</span> <span>-&gt;</span> <span>m</span> <span>y</span><span>)</span> <span>-&gt;</span> <span>Stream</span> <span>(</span><span>Of</span> <span>a</span><span>)</span> <span>m</span> <span>r</span> <span>%</span><span>1</span><span>-&gt;</span> <span>Stream</span> <span>(</span><span>Of</span> <span>a</span><span>)</span> <span>m</span> <span>r</span></code></pre></div>
<p>because the <code>y</code> must be discarded as the monadic effect is chained
after each <code>a</code> in the stream.</p>
<h2>Advanced abstractions &amp; sneak peeks</h2>
<p>Finally, <code>linear-base</code> has several features still in the works. Please note
that some of these features like non-GC memory allocation, destination arrays
and push-pull arrays are still very experimental and likely to change.</p>
<ul>
<li>Linear <a href="https://github.com/tweag/linear-base/blob/master/src/Control/Optics/Linear/Internal.hs">optics</a> are optics re-designed to work in linear contexts.</li>
<li><a href="https://github.com/tweag/linear-base/blob/master/src/Foreign/Marshal/Pure.hs">Non-GC memory allocation</a>. We can use linear types to enforce the protocols for
using memory outside of GHC‚Äôs garbage collector and on the system heap, i.e., that
we allocate before use, necessarily free and do not use after that. Hence, the GC has
less work to do and we as programmers have the control over some allocation which
could impact the performance of our program.</li>
<li><a href="https://github.com/tweag/linear-base/blob/master/src/Data/Array/Destination.hs">Destination arrays</a>. Destination arrays, provide a way to write code in
destination-passing-style. This lets us decide when we allocate space
for a write-only array that‚Äôs threaded throughout our program. If we instead
had just used a vector, we might not have had all the fusion we‚Äôd like and might
have had extra allocations which impact memory use and performance.</li>
<li><a href="https://github.com/tweag/linear-base/blob/master/src/Data/Array/Polarized.hs">Push-pull arrays</a>. We can use linear-types to represent
<a href="https://jyp.github.io/posts/controlled-fusion.html">polarized arrays</a>. This enables us to provide a <code>vector</code>-like
API but explicitly control when allocation occurs. With the existing
<code>vector</code> library, one is often relying on array fusion to avoid
unnecessary allocations, but it can be hard to predict when array
fusion occurs. Polarized arrays can be either
output-friendly (a push array) or input-friendly (a pull
array) and neither form allocates. Only when a regular array is needed does
one <em>explicitly</em> allocate. So, controlling allocation is done by
the programmer, not the compiler.</li>
</ul>
<h2>Community first</h2>
<p>Our goal with <code>linear-base</code> is to make it easy and fun for the community to
write Linear Haskell programs. The first release is available on
<a href="https://hackage.haskell.org/package/linear-base">Hackage</a> and comes with <a href="https://github.com/tweag/linear-base/tree/master/examples">examples</a> from
the repository, and, in addition to the haddock, a short <a href="https://github.com/tweag/linear-base/blob/master/docs/USER_GUIDE.md">user
guide</a>. Please feel welcome to <a href="https://github.com/tweag/linear-base/issues">point out bugs or request
features</a>. To check out the latest update, see <a href="https://github.com/tweag/linear-base">our GitHub
repository</a>.</p>
</div></div></div></div>]]>
            </description>
            <link>https://www.tweag.io/blog/2021-02-10-linear-base/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26100693</guid>
            <pubDate>Thu, 11 Feb 2021 12:19:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Stack Overflow Users Rejoice as Pattern Matching Is Added to Python]]>
            </title>
            <description>
<![CDATA[
Score 116 | Comments 20 (<a href="https://news.ycombinator.com/item?id=26097795">thread link</a>) | @srathi
<br/>
February 10, 2021 | https://brennan.io/2021/02/09/so-python/ | <a href="https://web.archive.org/web/*/https://brennan.io/2021/02/09/so-python/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

  
<p><em>Stephen Brennan ‚Ä¢ 09 February 2021</em></p><p>INTERNET ‚Äì Stack Overflow users today rejoiced at the prospect of Python‚Äôs
upcoming 3.10 release including the controversial new pattern matching feature
described in <a href="https://www.python.org/dev/peps/pep-0634/">PEP 634</a>.</p>

<p>‚ÄúPython 3 has been out for a while, and the goldmine of Python 2 to 3 migration
questions has started to run dry since January 2020,‚Äù said one user, referring
to the end of life for the Python 2.x release series. ‚ÄúWe were starting to
worry that we would run out of major language changes to confuse new developers.
But thanks to pattern matching, we should be set for another 5-7 years!‚Äù</p>

<p>The question answerers on the popular site, <a href="https://www.stackoverflow.com/">Stack Overflow</a>, were commenting
on the upcoming Python 3.10 language feature of pattern matching, which allows
syntax such as the following:</p>

<div><div><pre><code><span>match</span> <span>status_code</span><span>:</span>
    <span>case</span> <span>200</span><span>:</span>
        <span>print</span><span>(</span><span>"OK!"</span><span>)</span>
    <span>case</span> <span>404</span><span>:</span>
        <span>print</span><span>(</span><span>"HTTP Not Found"</span><span>)</span>
    <span>case</span> <span>_</span><span>:</span>
        <span>print</span><span>(</span><span>"Some other shit, sorry!"</span><span>)</span>
</code></pre></div></div>

<p>Stack Overflow users gushed over its similarity to C‚Äôs <code>switch</code> statement. ‚ÄúNew
users will see the <code>case</code> keyword and instantly feel comfortable based on their
knowledge of C,‚Äù one SO answerer remarked. ‚ÄúBut that‚Äôs when we get them! <code>match</code>
is about subverting expectations, by assigning to variables when the programmer
expects a comparison. We‚Äôre going to earn so many Stack Overflow reputation
points this way.‚Äù</p>

<p>This user‚Äôs comments referred to the unexpected behavior of the match statement
when used with identifiers:</p>

<div><div><pre><code><span>NOT_FOUND</span> <span>=</span> <span>404</span>
<span>match</span> <span>status_code</span><span>:</span>
    <span>case</span> <span>200</span><span>:</span>
        <span>print</span><span>(</span><span>"OK!"</span><span>)</span>
    <span>case</span> <span>NOT_FOUND</span><span>:</span>
        <span>print</span><span>(</span><span>"HTTP Not Found"</span><span>)</span>
</code></pre></div></div>

<p>In this case, rather than matching <code>status_code</code> against the value of
<code>NOT_FOUND</code> (404), Python‚Äôs new <del>SO reputation machine</del> match syntax would
assign the value of <code>status_code</code> to the variable <code>NOT_FOUND</code>. Another Stack
Overflow user explained:</p>

<blockquote>
  <p>I think the core developers finally looked at the numbers, and saw how few
questions Python 3.x was getting on Stack Overflow. Here‚Äôs a language that has
finally matured, and it really strikes a balance between usability and
predictability. When we reached out to the core development team about the
dire situation, the developers knew they had to step in and add an
unpredictable feature to rectify things.</p>
</blockquote>

<p>The last time the Python language conspired so strongly to confuse new users was
the controversial ‚Äúmutable default argument‚Äù feature:</p>

<div><div><pre><code><span>&gt;&gt;&gt;</span> <span>def</span> <span>myfunc</span><span>(</span><span>x</span><span>,</span> <span>l</span><span>=</span><span>[]):</span>
<span>...</span>     <span>print</span><span>(</span><span>"myfunc({})"</span><span>.</span><span>format</span><span>(</span><span>x</span><span>))</span>
<span>...</span>     <span>l</span><span>.</span><span>append</span><span>(</span><span>x</span><span>)</span>
<span>...</span>     <span>print</span><span>(</span><span>" l={}"</span><span>.</span><span>format</span><span>(</span><span>l</span><span>))</span>
<span>...</span>
<span>&gt;&gt;&gt;</span> <span>myfunc</span><span>(</span><span>3</span><span>)</span>
<span>myfunc</span><span>(</span><span>3</span><span>)</span>
 <span>l</span><span>=</span><span>[</span><span>3</span><span>]</span>
<span>&gt;&gt;&gt;</span> <span>myfunc</span><span>(</span><span>5</span><span>)</span>
<span>myfunc</span><span>(</span><span>5</span><span>)</span>
 <span>l</span><span>=</span><span>[</span><span>3</span><span>,</span> <span>5</span><span>]</span>
</code></pre></div></div>

<p>However, some Stack Overflow users were not so rosy about the future of Python 3
questions:</p>

<blockquote>
  <p>Sure, Python 3.10 is going to trigger a massive influx of questions. But that
doesn‚Äôt mean we‚Äôll get more reputation points! Most mods are just going to
mark all the questions as duplicates, even if they don‚Äôt have good answers
yet. Pattern matching may be a beautifully booby-trapped new feature, but it‚Äôs
not going to save us from bad moderation.</p>
</blockquote>

<p>Meanwhile, the Perl community rallied in support of the latest developments in
the Python language. Said one Perl developer: ‚ÄúHonestly, I‚Äôm just glad Python
has finally given in to gratuitous new features, and Perl 7 is now the language
of reason and moderation. I can‚Äôt wait until they realize how many operators
they can overload.  Maybe Python 2.7 can make a comeback after all?‚Äù</p>




<hr>



  
  

  </div></div>]]>
            </description>
            <link>https://brennan.io/2021/02/09/so-python/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26097795</guid>
            <pubDate>Thu, 11 Feb 2021 03:03:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Teaching Students How to Cheat During the Pandemic]]>
            </title>
            <description>
<![CDATA[
Score 128 | Comments 38 (<a href="https://news.ycombinator.com/item?id=26096414">thread link</a>) | @reimbar
<br/>
February 10, 2021 | https://daveeargle.com/2020/09/11/kobayashi-maru-proctorio-version/ | <a href="https://web.archive.org/web/*/https://daveeargle.com/2020/09/11/kobayashi-maru-proctorio-version/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p>I use a variation of Conti and Caroland (2011)‚Äôs ‚Äúmemorize the first 100 digits of pi‚Äù
assignment as an in-class learning activity to teach my infosec students how to
cheat, as part of teaching threat modeling. This semester at the beginning was
all-remote for me, though, so I modified it for the zoom teaching session. Instead
of having all students write down the first 100 digits of pi and then submit
their papers to me, I instead told students the following:</p>

<blockquote>
  <p>Your assignment is to memorize the first 100 digits of pi having been intentionally given so little time to do so that your only chance of
completing the assignment is to cheat. I authorize you to cheat on this assignment and only this assignment, but if I catch you cheating,
you lose.</p>

  <p>It will go something like this (subject to change): at the start of the next class, I will randomly sort the class roster, and then I will
go down the list and call on people one at a time to recite to me the first 100 digits of pi. I may ask you to share your screen, and also
to pan your camera about the room (be prepared!), simulating what proctor-monitoring software would do. The grading is pass/fail.
If we run out of time before you are called on, you pass by default.</p>

  <p>Again, I expect you to cheat. How you choose to cheat is entirely up to you. Collaborative cheating is also encouraged, but everyone
involved will lose the game if caught. At the completion, I will give you opportunities to share-and-tell your cheating techniques with
the class.</p>

  <p>The objective of the exercise is to learn how an adversary thinks and operates by deliberately loosening traditional rules and tapping
personal creativity. It is an exercise in threat modeling.</p>

  <p>I am only permitting you to cheat on this single quiz. You may not cheat on any other assignments for this class.</p>
</blockquote>

<p>It was really fun. Nearly all pressure was off because I changed the language to
say that they would ‚Äúlose‚Äù instead of ‚Äúfail‚Äù if they got caught. In practice,
everyone who made a legitimate good-faith effort ‚Äúpassed.‚Äù If they made a legitimate
attempt. When we did it, I invited all other students
to help me try to catch the presenter cheating. They would submit suspicions via
zoom chat. I would interrupt the recitation if I suspected cheating, and sometimes
I asked them to do random challenges such as turn around and continue reciting the numbers,
or re-pan their camera to a certain position in the room. After I announced a pass or
lose, I asked each student to explain their technique, and we discussed. This
interstitial kept engagement high, I think.</p>

<p>Some students still passed. One had taped the numbers in three different places around
the room, anticipating that I might ask her to turn around. Another had taped
the numbers to the back of his laptop, <em>printed in reverse</em>, and had mirrors set
up in several places around the room. One student had an extra pair of earbuds on
under his over-the-ear phones, and had a button on his phone that would play a
recording of the numbers to him. Another student pre-recorded a video of himself
reciting the numbers, which obviously didn‚Äôt work well at all with interruptions,
but was still fun.</p>

<p>Pandemic be darned, still gonna have fun and teach things that will get me in trouble!</p>

<p>G. Conti and J. Caroland, ‚ÄúEmbracing the Kobayashi Maru: Why You Should Teach Your Students to Cheat,‚Äù in IEEE Security &amp; Privacy, vol. 9, no. 4, pp. 48-51, July-Aug. 2011, doi: 10.1109/MSP.2011.80.</p>

      </div></div>]]>
            </description>
            <link>https://daveeargle.com/2020/09/11/kobayashi-maru-proctorio-version/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26096414</guid>
            <pubDate>Wed, 10 Feb 2021 23:47:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Wasn't Ruby 3 Faster?]]>
            </title>
            <description>
<![CDATA[
Score 208 | Comments 164 (<a href="https://news.ycombinator.com/item?id=26096340">thread link</a>) | @stanislavb
<br/>
February 10, 2021 | https://www.fastruby.io/blog/ruby/performance/why-wasnt-ruby-3-faster.html | <a href="https://web.archive.org/web/*/https://www.fastruby.io/blog/ruby/performance/why-wasnt-ruby-3-faster.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
      <p>I'm seeing a lot of disappointment about the speed of Ruby 3 out there. I think there are a lot of reasons for that, and I think they're worth looking at.</p>

<p>So: why wasn't Ruby 3 faster? Did it break its promise? (Spoiler: <a href="http://codefol.io/posts/is-ruby-3-actually-three-times-faster/">I don't think so</a>, but I understand why some people do.)</p>

<!--more-->

<h2>First: Faster Than What?</h2>

<p>I think some of the problem was misplaced expectations. People didn't understand what <a href="https://blog.heroku.com/ruby-3-by-3">"three times faster"</a> was supposed to mean. I don't think people thought it through, but I also don't think it was communicated very clearly.</p>

<p>So: some people understood what was promised, and some people didn't.</p>

<p>What was promised?</p>

<p>Matz, Ruby's creator and designer, has said many times "Ruby 3 will be three times faster compared to Ruby 2." When he was talking to Ruby implementors, that was clarified as "compared to Ruby 2.0.0 on the day it was released." But it would be easy for a random person to think that meant "compared to Ruby 2 right now." By the time Matz declared that goal there were already a few minor releases of Ruby 2 out there, which increased the speed. And by the time most people had heard about it, Ruby 2.4 was already released.</p>

<p>Ruby 2.4 is already a lot faster than Ruby 2.0. Most of the speed gain from Ruby 2.0 to 3.0 was already there by Ruby 2.4. Which means if you thought Ruby 3 was going to be three times faster than Ruby 2.4, you were pretty darn disappointed. Ruby 3 is maybe 15%-25% faster than Ruby 2.4? But clearly not even 1.5x the speed, except for certain very specific cases with JIT.</p>

<p>If you thought Ruby 3 was going to be three times faster than Ruby 2.4, you were probably very disappointed indeed.</p>

<h2>Aspirational Goals</h2>

<p>Early on, when he was first declaring Ruby 3, Matz described it as an aspirational goal. It was intentionally a stretch. I'm pretty happy with how it came out, but... There's a problem with loud, public stretch goals. They can annoy people who otherwise like you, and for good reason.</p>

<p>I feel like I can <a href="http://codefol.io/posts/is-ruby-3-actually-three-times-faster/">argue with a straight face</a> that Ruby succeeded in that goal, within limits and with footnotes.</p>

<p>But let's be clear: nobody thought that literally every program written with Ruby would be three times faster. In fact, that's completely impossible. Let's talk about why.</p>

<h2>Making Ruby Faster Can Only Make Ruby Faster</h2>

<p>Making <strong><em>anything</em></strong> "X times faster" or "Y percent faster" is at best an oversimplification. That's just not how software works. For an extreme case, think about a script that just sleeps for ten seconds. It's kind of the canonical example where you literally <strong><em>cannot</em></strong> make it faster. At least, not without breaking it.</p>

<p>When we say "make Ruby three times faster" we have to have a long list of caveats in mind, even if we don't say them. A script that queries the database can only get so much faster because it's waiting on the database. Ruby programs that use C extensions have to wait on the C extensions ‚Äî speeding up Ruby won't, generally speaking, speed up those C extensions.</p>

<p>You can't turn Ruby into magic fairy dust where having your Java program call out to a short Ruby script speeds up your Java by 10%. Ruby can only speed up the part that's calculated in Ruby.</p>

<p>That's hard. </p>

<p>There's an old <a href="https://rubykaigi.org/2016/presentations/MattStudies.html">Matt Gaudet talk from RubyKaigi</a> where he talks about how we should measure 3x. We didn't wind up with that full array of benchmarks, but all his ideas are basically good for measuring. And if we had built all of them, we'd discover that they didn't all speed up by the same amount.</p>

<p>How could they? "Three times faster" is, by its nature, a bit of an abstraction and kind of inexact. What workload <strong><em>exactly</em></strong> is going to be three times faster?</p>

<h2>Incremental Changes, Disruptive Changes</h2>

<pre>    ‚ÄúHow did you go bankrupt?‚Äù Bill asked. ‚ÄúTwo ways,‚Äù Mike said. ‚ÄúGradually and then suddenly.‚Äù
    - Ernest Hemingway, The Sun Also Rises
</pre>

<p>Here's a thing: a lot of speedups are incremental. They take some common operation and they make it a little bit faster. It's often a tradeoff: one or more uncommon operations gets a little bit slower. By figuring out new tradeoffs or by carefully measuring which operations are common, you can slightly fine-tune and get a better result.</p>

<p>Ruby has done a lot of this. The core Ruby VM has mostly worked the same way since Ruby 1.9, with a lot of great polish and fine-tuning.</p>

<p>Here's a different thing: many speedups are disruptive instead of incremental. Ruby 1.9 rewrote the VM completely, but took several versions to get stable enough to use. There's a reason almost nobody deployed their production app on Ruby 1.9.1. Ruby 1.9 also made threading work better ‚Äî and Ruby on Rails took ages to get to where that really worked for most people. We needed new app servers to take advantage of it. And most existing Rails apps needed to find out where they were doing thread-incompatible things and fix that.</p>

<p>Disruptive changes tend to be bigger speedups. But they also require a lot more work.</p>

<p>If you don't change any of your code from Ruby 1.9.3, it will still run on Ruby 3. In fact, it will run significantly better than on Ruby 1.9.3. It's faster, it crashes less often, it will catch more of your bugs. Those incremental changes will give you a significant speedup ‚Äî say to around double the speed of 1.9.3 on the same hardware. That's not bad.</p>

<p>But you can do better than that. We have <a href="https://github.com/socketry/async">much better evented libraries</a> in Ruby than existed in 1.9.3. We have <a href="https://github.com/puma/puma">faster application servers</a>, and <a href="https://github.com/Shopify/bootsnap">faster Rails boot time</a> and <a href="https://guides.rubyonrails.org/security.html">better Rails security</a>. All of these require some amount of changing your code or your process around your application. They are <strong><em>disruptive</em></strong> changes, either a little bit disruptive (upgrade to Rails 6 from Rails 3) or very disruptive (switch to Async from non-evented code.)</p>

<p>Ruby 3 has several interesting <strong><em>disruptive</em></strong> changes that will only help you if you use them. And using them may take some work.</p>

<h2>Ruby 3's Disruptive Changes</h2>

<p>One disruptive change is MJIT. You have to turn it on using the command line or an environment variable. It favours short methods and shallow call stacks. It works far better with plain Ruby code than with C extensions.</p>

<p>All of these are changes in the code or the configuration.</p>

<p>Over time I think you'll see more gems adapt to MJIT. There will be cases where the authors say, "if you want maximum performance, use the no-C-extensions version of the gem and turn on MJIT or use JRuby/TruffleRuby." JRuby and TruffleRuby already have JIT, you see, and so they have the same surprising property that Ruby code starts performing better <strong><em>without</em></strong> C extensions.</p>

<p>But we don't live in that world yet. Right now it's easier to skip using JIT and ignore it. And then you don't get the benefit of it, partly because you're waiting on other people.</p>

<p>And so MJIT is a change to speed up Ruby, but the benefits aren't here yet. They need time and work before they arrive. Ruby's MJIT was written incredibly quickly, and the stability was shockingly good. The flip side is that there are a lot of useful optimisations that got lost in the shuffle, and a lot of code that hasn't yet been rewritten to use it.</p>

<p><a href="https://www.fastruby.io/blog/ruby/performance/how-fast-are-ractors.html">Ractors</a> are the same. Eventually they'll make highly-parallel Ruby code run a lot faster. But you're going to need to learn them deeply, or wait for gem and framework authors to do it for you. Frankly they're also going to need more work in Ruby core before they're fast enough.</p>

<p><a href="https://bugs.ruby-lang.org/issues/13618">Autofibers</a>? Yup, same thing. I think those may be the most extreme case of needing big supporting changes, so we'll see if it happens. But they also have a <strong><em>lot</em></strong> of potential to improve Ruby concurrency, especially when combined with Ractors. They'll also require a significant rewrite of a lot of your concurrency code to work well.</p>

<p>I think we'll also see type-based optimisations in at least some of Ruby. Now that we're tracking places where, say, we know an integer will always be used, it becomes easier to do a few TruffleRuby-style optimisations to hardcode integer operations. But that's going to take even longer.</p>

<h2>Did It Basically Fail, Then?</h2>

<p>I think we'll see the public perception that it failed.</p>

<p>More specifically: I can argue, <a href="http://codefol.io/posts/is-ruby-3-actually-three-times-faster/">and I have argued</a>, that Ruby 3 succeeded at being three times faster than Ruby 2.0.</p>

<p>But people were thinking the promise meant "three times faster than Ruby 2.4" and that's a significantly higher bar, one that Ruby 3 <strong><em>does not</em></strong> clear. It was never actually promised, but it's clearly a common public perception.</p>

<p>Most people want to know "will it run my code three times faster?" They not only mean "three times faster than what I'm using now," they also mean with no code changes. And so for most people asking that question, the disruptive changes are probably not useful or relevant.</p>

<p>Ruby 2.0.0 was about eight years ago. With the older and newer disruptive changes, it's actually not hard for the Ruby app you run now to run three times faster than what you were running eight years ago. Puma is <strong><em>good</em></strong>. Bootsnap made bootup much faster. Ruby itself, of course, is significantly better. But a lot of these changes are going to be seen as "not really Ruby changes." Disruptive improvements are like that.</p>

<p>And the most recent disruptive changes are going to take years to bear fruit. Indeed, some of them never will ‚Äî Autofibers and Ractors, for instance, both have a significant chance of failing, long-term. There may never be any significant type-aware optimisations (or there may be.) I think at least one of those features will do well, and I'm certain at least one of them will basically fail. I just don't know which is which.</p>

<h2>But Did It Fail?</h2>

<p>I don't think it failed. As an aspirational goal, it was a challenge, a bar to try to reach. And I think Ruby <strong><em>did</em></strong> reach that bar. Ruby 3.0 is a lot faster than Ruby 2.0, with both incremental tuning and interesting new disruptive changes. "Three times faster" is hard to define, but <a href="http://codefol.io/posts/is-ruby-3-actually-three-times-faster/">I think it's fair to say it did it</a>.</p>

<p>I think that on its own terms, it succeeded.</p>

<p>I also think that speed isn't a major factor slowing down Ruby adoption. Most people who use ‚Ä¶</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.fastruby.io/blog/ruby/performance/why-wasnt-ruby-3-faster.html">https://www.fastruby.io/blog/ruby/performance/why-wasnt-ruby-3-faster.html</a></em></p>]]>
            </description>
            <link>https://www.fastruby.io/blog/ruby/performance/why-wasnt-ruby-3-faster.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26096340</guid>
            <pubDate>Wed, 10 Feb 2021 23:38:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Google is now telling users its apps are out of date. No updates are available]]>
            </title>
            <description>
<![CDATA[
Score 304 | Comments 164 (<a href="https://news.ycombinator.com/item?id=26096320">thread link</a>) | @spenvo
<br/>
February 10, 2021 | https://spencerdailey.com/2021/02/10/google-itself-is-now-telling-users-their-apps-are-out-of-date-despite-no-updates-being-available/ | <a href="https://web.archive.org/web/*/https://spencerdailey.com/2021/02/10/google-itself-is-now-telling-users-their-apps-are-out-of-date-despite-no-updates-being-available/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-728">
	<!-- .entry-header -->

	<div>
		
<p>[<a href="https://twitter.com/SpencerDailey/status/1359692177090236420">Update:</a> Users can‚Äôt reproduce this any longer, as they have pushed a server-side fix for this issue. It still counts as an embarrassing failure by Google. If you would like to see what the bug looked like, there‚Äôs a video at the bottom of the article.]</p>



<p>Amid Apple pushing mandatory privacy labels, Google is stalling on releasing updates for its iOS apps. Yet Google itself is now telling users that their own apps are out of date.</p>



<p><img loading="lazy" width="1242" height="2208" src="https://spencerdailey.com/wp-content/uploads/2021/02/IMG_4434.jpeg" alt="" srcset="https://spencerdailey.com/wp-content/uploads/2021/02/IMG_4434.jpeg 1242w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_4434-169x300.jpeg 169w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_4434-576x1024.jpeg 576w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_4434-768x1365.jpeg 768w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_4434-864x1536.jpeg 864w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_4434-1152x2048.jpeg 1152w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_4434-982x1746.jpeg 982w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_4434-225x400.jpeg 225w" sizes="(max-width: 1242px) 100vw, 1242px"><img loading="lazy" width="750" height="1334" src="https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6086.png" alt="" srcset="https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6086.png 750w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6086-169x300.png 169w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6086-576x1024.png 576w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6086-225x400.png 225w" sizes="(max-width: 750px) 100vw, 750px"> </p>



<p><em>I verified that this warning is showing up for multiple apps (Gmail, Google Photos, and Google Maps). Multiple iPhones on iOS 14.4, owned by separate account holders, were tested. </em></p>



<p>About an hour ago, I opened my Gmail app to find that some of my accounts had been logged out. When I tried logging back in, Google informed me that ‚ÄúThis app is out of date.‚Äù <em>Indeed! </em></p>



<p>Google has not pushed updates to their flagship apps including Gmail and Google Maps since before a Dec. 8 deadline, imposed by Apple, that mandated all app updates include new privacy labels. The ‚Äúnutrition labels‚Äù describe<strong> </strong>to users all the ways developers collect data about them, which has been awkward for companies like Facebook, whose business model relies on the company knowing as much about its users as possible. Tweets have <a href="https://twitter.com/tomwarren/status/1339174301564604418">gone viral</a> for simply scrolling through the long privacy label section for apps like Facebook. It must be noted that in the past 6 weeks, Facebook‚Äôs rivals (especially <a href="https://www.techmeme.com/210112/p32#a210112p32">Signal and Telegram</a>) have had success thanks to users‚Äô privacy concerns, at an unprecedented scale.  Other companies hoping to avoid such shame have allegedly <a href="https://www.techmeme.com/210129/p6#a210129p6">misled users about their collection practices</a>.  </p>



<p>Alphabet/Google has taken a third approach, which is to indefinitely stall on pushing updates to its iOS apps. But the company itself tried to downplay this popular theory. On Jan. 5, it claimed it would add Apple‚Äôs privacy labels to its apps <a href="https://www.techmeme.com/210127/p22#a210127p22">‚Äúthis week or the next week‚Äù</a>.  As Macrumors noted, some of its apps like YouTube <a href="https://www.macrumors.com/2021/02/10/gmail-ios-out-of-date-warning/">have quietly received updates,</a> but not Chrome, Maps, Photos, Drive, Calendar, or Gmail, which is <a href="https://twitter.com/Thomasbcn/status/1356645088697454596?ref_src=twsrc%5Etfw">unusual</a>. While Google stalls on pushing updates to its apps, it‚Äôs notable that its rivals like Apple Maps, are continuing to innovate <a href="https://www.google.com/search?q=google+maps+ios+update&amp;source=lnms&amp;tbm=nws&amp;sa=X&amp;ved=2ahUKEwis0eqlueDuAhUGna0KHTSVDJsQ_AUoAXoECBUQAw&amp;biw=1440&amp;bih=796&amp;dpr=2">with new features in their apps</a>. Google has also been facing rivals that, like Facebook‚Äôs rivals, have been having unprecedented levels of success over privacy issues, namely DuckDuckGo, <a href="https://www.techmeme.com/210117/p1#a210117p1">which surpassed 100M daily search queries for the first time on Jan. 11</a>. Privacy is ‚Äúin‚Äù these days.</p>



<p>After saying ‚ÄúThis app is out of date‚Äù, its warning goes on to say ‚ÄúYou should update this app.‚Äù <em>We can‚Äôt.</em> ‚ÄúThe version you‚Äôre using doesn‚Äôt include the latest security features to keep you protected. Only continue if you understand the risks.‚Äù <em>Let‚Äôs hope that‚Äôs not true! </em>If you visit the <a href="https://apps.apple.com/us/app/gmail-email-by-google/id422689480">Gmail app‚Äôs page</a> directly, you will see its last update was released on Dec. 1. </p>



<p>Presumably, the warning is triggered by an automatic check of how long it has been since the app was last updated. In this case, it‚Äôs been over 2 months. But only Google can resolve that situation. Here‚Äôs a video of Google‚Äôs warning being triggered:</p>



<figure><p>
<iframe title="Google itself is now telling users their apps are out of date, despite no updates being available" width="663" height="373" src="https://www.youtube.com/embed/2rt4ftLVVDQ?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</p></figure>



<p>Looking at the bigger picture: If Google really decided to intentionally delay updating its apps over adding privacy labels, it‚Äôs honestly hard to believe that such short-term thinking prevails in its leadership. They inevitably put themselves in a <a href="https://en.wikipedia.org/wiki/Streisand_effect">Streisand-effect</a> situation, where in the end they‚Äôd attract more attention to themselves. Whereas if they had published early, the media‚Äôs attention would have been split across all of Big Tech‚Äôs apps. While the alleged decision itself was always doomed to end poorly, this ‚Äúapp out of date‚Äù interstitial is just an epic self own. I guess the decision to delay apps was not handled well internally, because such choices are probably uncommon and the processes to carry them out aren‚Äôt as battle-tested or familiar. John Gruber <a href="https://daringfireball.net/linked/2021/02/10/dailey-google-ios-apps">posited</a> that perhaps Google is attempting to ‚Äúwait Apple out ‚Äî that public pressure from iPhone owners who use Google apps will result in Apple conceding to better terms for what Google needs to admit to in its nutrition labels. I don‚Äôt see that working.‚Äù I don‚Äôt either.</p>



<p>There is also a chance that Google is trying to do a cleanup of their back end ‚Äî removing some data collection from ads systems ‚Äî before publishing privacy labels.  I really like (and want to believe) this angle, however unlikely, because it would show that Apple‚Äôs privacy labels are having a powerful pro-consumer effect on major app developers. </p>



<p>On the matter of <em>if </em>Google is really delaying its apps over concerns about privacy labels: they really <a href="https://techcrunch.com/2021/01/05/google-to-add-app-store-privacy-labels-to-its-ios-apps-as-soon-as-this-week/">want us to believe that‚Äôs not the reason</a>, telling Techcrunch that the labels would start rolling out last month. Yet, that did not happen with the lion‚Äôs share of its apps. Take a minute to check out this stunning visualization, which illustrates the frequency of its apps‚Äô updates before and after the December 8 privacy label deadline (h/t <a href="https://twitter.com/Thomasbcn/status/1356645088697454596/photo/1">@thomasbcn</a>):</p>



<p> <img loading="lazy" width="2250" height="968" src="https://spencerdailey.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-10-at-9.58.24-PM.png" alt="" srcset="https://spencerdailey.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-10-at-9.58.24-PM.png 2250w, https://spencerdailey.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-10-at-9.58.24-PM-300x129.png 300w, https://spencerdailey.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-10-at-9.58.24-PM-1024x441.png 1024w, https://spencerdailey.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-10-at-9.58.24-PM-768x330.png 768w, https://spencerdailey.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-10-at-9.58.24-PM-1536x661.png 1536w, https://spencerdailey.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-10-at-9.58.24-PM-2048x881.png 2048w, https://spencerdailey.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-10-at-9.58.24-PM-982x422.png 982w, https://spencerdailey.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-10-at-9.58.24-PM-400x172.png 400w" sizes="(max-width: 2250px) 100vw, 2250px"></p>



<figure><div>
<blockquote data-width="550" data-dnt="true"><div lang="en" dir="ltr"><p>Google's iOS apps release cycle before &amp; after Apple asks to disclose privacy labels.</p><p>Thie pattern is probably just a coincidence. We all know "transparency forms the bedrock of [their] commitment to users"‚Ä¶ <a href="https://t.co/UgJjAhWfkm">pic.twitter.com/UgJjAhWfkm</a></p></div>‚Äî Thomasbcn (@Thomasbcn) <a href="https://twitter.com/Thomasbcn/status/1356645088697454596?ref_src=twsrc%5Etfw">February 2, 2021</a></blockquote>
</div></figure>



<p>From this blunt visual, one can not only assume that the lack of updates are related to the privacy label deadline, but that most of its apps are in need of bug fixes and aren‚Äôt receiving those updates.</p>



<p>I guess we‚Äôll wait and see what happens‚Ä¶ </p>



<p><img loading="lazy" width="750" height="1334" src="https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6108.png" alt="" srcset="https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6108.png 750w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6108-169x300.png 169w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6108-576x1024.png 576w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6108-225x400.png 225w" sizes="(max-width: 750px) 100vw, 750px"><img loading="lazy" width="750" height="1334" src="https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6107.png" alt="" srcset="https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6107.png 750w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6107-169x300.png 169w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6107-576x1024.png 576w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6107-225x400.png 225w" sizes="(max-width: 750px) 100vw, 750px"><img loading="lazy" width="750" height="1334" src="https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6096.png" alt="" srcset="https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6096.png 750w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6096-169x300.png 169w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6096-576x1024.png 576w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6096-225x400.png 225w" sizes="(max-width: 750px) 100vw, 750px"></p>



<p><em>(There‚Äôs a possibility that as I push publish on this post, Google is mid-update on a global rollout of fresh updates for its flagship apps. But I think that chance is slim, as Apple‚Äôs ‚ÄúPhased Release‚Äù option lets users immediately receive app updates if they visit an app‚Äôs store page directly.) </em> </p>
			</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article></div>]]>
            </description>
            <link>https://spencerdailey.com/2021/02/10/google-itself-is-now-telling-users-their-apps-are-out-of-date-despite-no-updates-being-available/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26096320</guid>
            <pubDate>Wed, 10 Feb 2021 23:35:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Poetic Apology: Or Why Should You Use Poetry to Manage Python Dependencies]]>
            </title>
            <description>
<![CDATA[
Score 83 | Comments 44 (<a href="https://news.ycombinator.com/item?id=26093926">thread link</a>) | @juanpampliega
<br/>
February 10, 2021 | https://muttdata.ai/blog/2020/08/21/a-poetic-apology.html | <a href="https://web.archive.org/web/*/https://muttdata.ai/blog/2020/08/21/a-poetic-apology.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        <p>If you ever spent some time trying to write a Python application you have probably
experienced Python‚Äôs Infamous Dependency Hell at some point. You‚Äôve probably also
gathered by now that it has become a folk tradition to start any piece about such subject
with the following notorious <a href="https://xkcd.com/1987/">xkcd comic</a>:</p>

<p><img src="https://muttdata.ai/blog/img/posts/poetry_apology/xkcd.png" alt=""></p>

<p>Luckily for you (and all of us) at the time of writing, there are some good solutions to
the entanglement of pains brilliantly depicted in the image above. In fact, you most likely
already know that if you want to develop against multiple Python versions you can readily
use <a href="https://github.com/pyenv/pyenv">pyenv</a> to start unraveling your twisted environment.
You might have also learned that if you happen to be working at the same time on multiple
projects with conflicting dependencies then you can employ <em>virtual environments</em> to
isolate clashing libraries. In this document, we‚Äôll introduce yet another tool,
<a href="https://github.com/python-poetry/poetry">Poetry</a>, and make an argument about why you
should probably add it to your own toolkit.</p>

<h2 id="the-problem">The Problem</h2>

<p>Imagine one lonely night you decide to start a simple dummy Python project accurately
named <code>foo</code> with the following structure</p>

<div><div><pre><code>‚îú‚îÄ‚îÄ foo
‚îÇ   ‚îú‚îÄ‚îÄ foo
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bar
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ data.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ constants.py
‚îÇ   ‚îî‚îÄ‚îÄ README.md
</code></pre></div></div>

<p>Since this is not your first Python project and you want to avoid spending more endless
nights fixing incompatibilities between your system and project modules, you diligently
initiate a virtual environment from your shell with</p>

<div><div><pre><code><span>$&gt;</span> python <span>-m</span> venv ~/Desktop/venv/foo-venv
</code></pre></div></div>

<p>and activate it within the newly created project with</p>

<div><div><pre><code><span>$&gt;</span> <span>source</span> ~/Desktop/venv/foo-venv/bin/activate
</code></pre></div></div>

<p>Equipped with an isolated environment, you triumphantly proceed to install the ubiquitous
Pandas data library. To achieve such thing you use Python‚Äôs de-facto package manager
<code>pip</code> and carefully pin the library version to ensure replicability</p>

<div><div><pre><code><span>$&gt;</span> pip <span>install </span><span>pandas</span><span>==</span>0.25.3
</code></pre></div></div>

<p>Since you are a bit lazy at doing exploratory data analysis, you also install the nifty
<code>pandas-profiling</code> module to help you with that tedious work</p>

<div><div><pre><code><span>$&gt;</span> pip <span>install </span>pandas-profiling<span>==</span>2.5.0
</code></pre></div></div>

<p>After all this flirting, you finally start coding (assuming that adding the
following lines to the <code>data.py</code> file can, in fact, be called that)</p>

<div><div><pre><code><span>import</span> <span>pandas</span> <span>as</span> <span>pd</span>
<span>from</span> <span>pandas_profiling</span> <span>import</span> <span>ProfileReport</span>
<span>df</span><span>=</span><span>pd</span><span>.</span><span>DataFrame</span><span>([[</span><span>'a'</span><span>,</span><span>1</span><span>],[</span><span>'b'</span><span>,</span><span>None</span><span>]],</span><span>columns</span><span>=</span><span>[</span><span>'category'</span><span>,</span> <span>'value'</span><span>])</span>
<span>df</span><span>[</span><span>'category'</span><span>]</span><span>=</span><span>df</span><span>[</span><span>'category'</span><span>].</span><span>astype</span><span>(</span><span>'category'</span><span>)</span>
<span>if</span> <span>__name__</span><span>==</span><span>'__main__'</span><span>:</span><span>ProfileReport</span><span>(</span><span>df</span><span>).</span><span>to_file</span><span>(</span><span>'foo.html'</span><span>)</span>
</code></pre></div></div>

<p>Given that your days of abusing <code>print</code> statements for debugging purposes are long gone,
you install the beautiful and handy <a href="https://github.com/pdbpp/pdbpp">pdbpp</a> library to
check that these lines work as intended</p>

<div><div><pre><code><span>$&gt;</span> pip <span>install </span><span>pdbpp</span><span>==</span>0.10.2
</code></pre></div></div>

<p>and run your code in <em>post mortem debugging mode</em> with <code>python -m pdb -cc data.py</code>.</p>

<p>Happy with the clean run, you now realize that in order to ship your voluptuous application
without falling into the ‚Äúworks on my machine‚Äù trap you need a way to collect all your
dependencies. A quick Google search will show you that pip‚Äôs <code>freeze</code> subcommand allows to
record the current environment package into a <code>requirements.txt</code> file by means of the
following incantation</p>

<div><div><pre><code><span>$&gt;</span> pip freeze <span>&gt;</span> requirements.txt
</code></pre></div></div>

<p>which lets anyone use your project by simply installing the needed dependencies with</p>

<div><div><pre><code><span>$&gt;</span> pip <span>install</span> <span>-r</span> requirements.txt
</code></pre></div></div>

<p>Just as you are about to reveal your masterpiece project to the world, you become aware
that the improved debugging module is actually only used by you while developing. With the
idea of splitting the frozen requirements into separate production and development files,
you take a peek into the generated file only to discover that each and every
single sub-dependency of your application‚Äôs dependencies is listed therein and locked to a
specific version. Foreseeing the nightmare of maintaining this immense list you uninstall
the <code>pdbpp</code> library to ensure a clean requirements file again by means of</p>

<div><div><pre><code><span>$&gt;</span> pip uninstall <span>-y</span> pdbpp <span>&amp;&amp;</span> pip freeze <span>&gt;</span> requirements.txt
</code></pre></div></div>

<p>A quick glance at the modified requirements file, however, shows that things didn‚Äôt quite
turn out as expected: <code>pdbpp</code> was indeed removed but its dependencies, such as
<code>fancycompleter</code>, are still installed. Since this seems a dead-end, you choose to start
from scratch by manually creating a <code>requirements.txt</code> file with only production
dependencies</p>

<pre><code>pandas==0.25.3
pandas-profiling==2.5.0
</code></pre>

<p>and an equivalent development file, <code>requirements_dev.txt</code>, solely containing</p>

<pre><code>pdbpp==0.10.2
</code></pre>

<p>Impressed by the cleverness that has seemingly helped you dodge the dreaded Python
dependency hell by keeping a record of isolated top-level packages, you decide to call it a
day and give a final spin to your application the next day.</p>

<p>When you wake up in the morning, the news are all over the place: Pandas v1 is
finally out (after only twelve years!). A couple of hours procrastinating with the
incredibly long changelog makes you conclude that your complex foo-project
will surely gain notable improvements by updating to the brand new version. Now since
you‚Äôve locked Pandas to an exact version, you cannot simply run</p>

<div><div><pre><code><span>$&gt;</span> pip <span>install</span> <span>-U</span> <span>-r</span> requirements.txt
</code></pre></div></div>

<p>Instead you must execute</p>

<div><div><pre><code><span>$&gt;</span> pip <span>install </span><span>pandas</span><span>==</span>1.0.0
</code></pre></div></div>

<p>which leads to a particularly bizarre and confusing situation: an error pops in your
terminal</p>

<pre><code>ERROR: pandas-profiling 2.5.0 has requirement pandas==0.25.3, but you'll have pandas 1.0.0 which is incompatible.
</code></pre>

<p>but the installation of <code>pandas 1.0.0</code> nonetheless takes place. Assuming this to be a warning
that <code>pip</code> mistakes for an error, you update your <code>requirements.txt</code> file accordingly and
joyfully proceed to run your <code>data.py</code> module one last time, only to discover that it throws
an enigmatic <code>TypeError</code>. Feeling now betrayed by pip‚Äôs apparent inability to resolve
dependencies, you rollback your changes and stick with Pandas‚Äô (now) outdated version.</p>

<p>At this point, you seem to have a working project but i) you are unsure whether reverting
Pandas version might have broken the desired replicability of your application, ii) the
code could definitely look better and iii) after a good night‚Äôs sleep you acknowledge that
the overall functionality of your application is not as complex and rich as you thought it
was the night before. To address the first two issues, you first add the <code>black</code> formatter
to your <code>requirements_dev.txt</code></p>

<pre><code>black==19.10b0
</code></pre>

<p>and then within your project directory, you recreate your virtual environment with</p>

<div><div><pre><code><span>$&gt;</span> <span>rm</span> <span>-rf</span> ~/Desktop/venv/foo-venv
<span>$&gt;</span> python <span>-m</span> venv ~/Desktop/venv/foo-venv
<span>$&gt;</span> <span>source</span> ~/Desktop/venv/foo-venv/bin/activate
<span>$&gt;</span> pip <span>install</span> <span>-r</span> requirements_dev.txt
<span>$&gt;</span> pip <span>install</span> <span>-r</span> requirements.txt
</code></pre></div></div>

<p>Now you run <code>black</code> in your project root (with <code>black .</code>) and are mostly satisfied with
the prettifying job it did but to abide by Mutt Data‚Äôs format style (which is coincidentally
consistent with your dislike of making every single quote a double quote), you add a
<code>pyproject.toml</code> telling <code>black</code> to skip such appalling string normalization default
setting</p>

<div><div><pre><code><span>[tool.black]</span>
<span>skip-string-normalization</span> <span>=</span> <span>true</span>
</code></pre></div></div>

<p>The code looks great now and a new post mortem debugging run shows that things seem to work
fine in the new (replicable) environment. The only thing left to be done before deploying
the code on the server or sharing it with the world is to avoid having constants, such as
the report name, hardcoded all around the code. You thus
decide to add the following lines to your <code>constants.py</code> empty module</p>



<p>and modify the <code>data.py</code> to import such constant from the relative parent file with</p>

<div><div><pre><code><span>from</span> <span>..constants</span> <span>import</span> <span>REPORT_FILE</span>
</code></pre></div></div>

<p>A new <code>data.py</code> run however now, unfortunately, shows the next error</p>

<pre><code>ImportError: attempted relative import with no known parent package
</code></pre>

<p>which according to the omniscient SO makes sense since Python relative imports only work
within a package and therefore if you want to import from a parent directory you should
either create such package or hack the <code>sys.path</code>. As a true purist pythonista, you pick
the former path and create a <code>setup.py</code> with the following contents</p>

<div><div><pre><code><span>from</span> <span>setuptools</span> <span>import</span> <span>setup</span>

<span>with</span> <span>open</span><span>(</span><span>'requirements.txt'</span><span>)</span> <span>as</span> <span>f</span><span>:</span>
    <span>install_requires</span> <span>=</span> <span>f</span><span>.</span><span>read</span><span>().</span><span>splitlines</span><span>()</span>
<span>with</span> <span>open</span><span>(</span><span>'requirements_dev.txt'</span><span>)</span> <span>as</span> <span>f</span><span>:</span>
    <span>extras_dev_requires</span> <span>=</span> <span>f</span><span>.</span><span>read</span><span>().</span><span>splitlines</span><span>()</span>

<span>setup</span><span>(</span>
    <span>name</span><span>=</span><span>'foo'</span><span>,</span>
    <span>version</span><span>=</span><span>'0.0.1'</span><span>,</span>
    <span>author</span><span>=</span><span>'Mutt'</span><span>,</span>
    <span>author_email</span><span>=</span><span>'info@muttdata.ai'</span><span>,</span>
    <span>install_requires</span><span>=</span><span>install_requires</span><span>,</span>
    <span>extras_require</span><span>=</span><span>{</span><span>'dev'</span><span>:</span> <span>extras_dev_requires</span><span>},</span>
    <span>packages</span><span>=</span><span>[</span><span>'foo'</span><span>],</span>
<span>)</span>
</code></pre></div></div>

<p>Now in a brand new virtual env you install your package in editable mode with <code>pip install
-e .[dev]</code>, change the import line in <code>data.py</code> to account for the package structure</p>

<div><div><pre><code><span>from</span> <span>foo.constants</span> <span>import</span> <span>REPORT_FILE</span>
</code></pre></div></div>

<p>and cross your fingers hoping everything finally works‚Ä¶</p>

<p>Everything does indeed (brittlely) work, but somehow all the hoop-jumping to make it
function makes you uneasy. A brief introspection reveals several reasons for the wave of
apprehension:</p>

<ol>
  <li>Since you plan to work on multiples Python projects at the same time, isolation is a
fundamental piece of your workflow. Virtual environments do solve this problem, but
the activate/deactivate process is cumbersome and easy to forget.</li>
  <li>Having dependencies isolated between projects doesn‚Äôt address dependency clash within a
project. Proper dependency resolution is the top required feature of any package
manager worthy of respect yet <code>pip</code> will only get such feature by October 2020.
Manually guaranteeing dependency consistency in complex projects is a deadlock.</li>
  <li>If you want to install your application/project as a package, you must go through the
overhead of adding a <code>setup.py</code> on top of your already multiple requirements files.
However, you‚Äôve read PEPs 517-518 and want to try out the simpler and safer build
mechanisms mentioned therein.</li>
  <li>You thought about trying your application on a different machine, but realized it ran
Python 3.7 while your local box runs 3.8. To use <code>pyenv</code> with your isolated virtual
envs, you need an extra plugin,
<a href="https://github.com/pyenv/pyenv-virtualenv">pyenv-virtualenv</a>, which makes managing
venvs even more burdensome.</li>
  <li>You briefly played with <a href="https://github.com/pypa/pipenv">Pipenv</a> which promised to
bring ‚Ä¶</li></ol></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://muttdata.ai/blog/2020/08/21/a-poetic-apology.html">https://muttdata.ai/blog/2020/08/21/a-poetic-apology.html</a></em></p>]]>
            </description>
            <link>https://muttdata.ai/blog/2020/08/21/a-poetic-apology.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26093926</guid>
            <pubDate>Wed, 10 Feb 2021 20:02:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pattern Generator ‚Äì Create Seamless, Royalty-Free Patterns]]>
            </title>
            <description>
<![CDATA[
Score 276 | Comments 24 (<a href="https://news.ycombinator.com/item?id=26093710">thread link</a>) | @nkjoep
<br/>
February 10, 2021 | https://doodad.dev/pattern-generator/ | <a href="https://web.archive.org/web/*/https://doodad.dev/pattern-generator/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div> <p>Use this tool to create unique, seamless, royalty-free patterns.</p> <p>Choose a base style, then customize with colors, filters, and transforms.</p> <p>Each pattern style has it's own unique transforms. Play around to see what they do. <strong>Try sliding transform 'C' below.</strong></p> <p>Click the 'shuffle' button to see the kinds of patterns you can make.</p> <p><strong>Click 'X' to close this box and start creating your own pattern.</strong></p></div></div></div>]]>
            </description>
            <link>https://doodad.dev/pattern-generator/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26093710</guid>
            <pubDate>Wed, 10 Feb 2021 19:42:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The unusual way I'm funding my open source work]]>
            </title>
            <description>
<![CDATA[
Score 110 | Comments 56 (<a href="https://news.ycombinator.com/item?id=26092979">thread link</a>) | @sylvain_kerkour
<br/>
February 10, 2021 | https://kerkour.com/blog/the-unusual-way-im-funding-my-open-source-work/ | <a href="https://web.archive.org/web/*/https://kerkour.com/blog/the-unusual-way-im-funding-my-open-source-work/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>From the Linux kernel to Firefox and Wordpress, Open Source is changing the world for the better. But how to achieve financial sustainability when you produce something that can legally be copied, by design, at zero cost?</p>
<h2 id="revenue-models-for-open-source">Revenue models for Open Source</h2>
<p>A <a href="https://news.ycombinator.com/item?id=23218943">lot</a> has been written about <a href="https://plausible.io/blog/open-source-funding">achieving profitability</a> for open source projects, still it‚Äôs not a solved problem. Here are the most common ways for open source projects to generate profit:</p>
<ul>
<li>Hosting: where you offer a fully-managed version of your project. It‚Äôs certainly the easiest way to scale revenues but it‚Äôs not appropriate for all products.</li>
<li>Paying support: popularized by Red Hat and other Linux distributions, this model is hard to scale and create bizarre incentives.</li>
<li>Patronage: patrons are helping artists make a living since forever. Unfortunately as you are depending on the goodwill of your patrons, it‚Äôs an extremely precarious way of life without a huge audience.</li>
<li><a href="https://en.wikipedia.org/wiki/Venture_capital">VC</a>: According to my empirical study it‚Äôs extremely hard to create a long term business whose interests are aligned with those of its users going this way.</li>
<li>Having a real job‚Ñ¢ beside: but is your project worth sacrificing all your free time for it?</li>
</ul>
<h2 id="bloom">Bloom</h2>
<p>Early in 2019, I innocently started working on <a href="https://github.com/skerkour/bloom">Bloom</a> with one mission: putting an end to digital feudalism (Why? How? What? üëâ <a href="https://kerkour.com/blog/bloom-a-free-and-open-source-google">You can read the launch post here</a>).
The idea resonated with a lot of people and I received more positive feedback than I would ever have imagined.</p>
<p>But the path to success was still not clear: I launched the project as a self-hostable web application with a plan to create native applications with end-to-end encryption later. It quickly turned into a full-time R&amp;D project as end-to-end encryption is not yet a totally solved problem (especially its key distribution part) and neither is native applications distribution (App stores being controlled by two companies that are more and more user hostile).</p>
<p><img src="https://kerkour.com/blog/valley_of_death.jpg"></p>
<p>So, how to survive the valley of death and stay alive enough time to reach product-market fit and turn Bloom into a sustainable open source project?</p>
<h2 id="black-hat-rust">Black Hat Rust</h2>
<p><a href="https://github.com/skerkour">
    <img src="https://kerkour.com/blog/github_contributions.png">
</a></p><p>While developing Bloom, I have written and deleted a hundred thousand lines of code of Rust, if not more. From achieving great development speed to designing and implementing an en-to-end encrypted synchronization protocol, passing by handling millions of HTTP requests a day, I‚Äôve learned a few things along the way. <br>
Why not turn these thousand hours of experience into a profit which will allow me to arrange free hours during the week to work on Bloom? <br>
Some friends suggested that I launch an Udemy course, but I was not a fan of the idea because I find the ratio of information / time of these video courses too low compared to a good old book.</p>
<p>So I decided to write a book about Rust. As I had experience with offensive security (developing an automated vulnerability scanner, reverse engineering applications and helping plenty of companies to secure their assets) I narrowed the scope of the book to offensive security programming with Rust. <br>
Rust is not only a great fit for offensive programming, but the only one-size-fits-all programming language able to meet all the needs of this field: from shellcodes and exploits to servers, RATs and phishing pages in WebAssembly, Rust is polyvalent enough to shine in all those tasks. <br>
<em>Black Hat Rust - Deep dive into offensive security with the Rust programming language</em> was born!</p>
<p><a href="https://www.reddit.com/r/rust/comments/lcow5j/black_hat_rust_im_writing_a_book_about_offensive">I announced the (extremely) early-access edition of the book on Reddit</a> last week and received a lot of positive feedback. <br>
Idea validated. Funding secured. ü•≥ <br>
Even if the hardest part is yet to come, I just want to say a big <strong>THANK YOU</strong> to all the people who are making this possible. <br>
Since this Monday I have started to work 4 days a week on the book and 2 days on Bloom (yes, as an indie hacker my workweek is 6 days long ü§∑‚Äç‚ôÇÔ∏è).</p>
<p>If you find the idea compelling and want to be part of the adventure, here is a coupon to save 10‚Ç¨ on the book: <a href="https://academy.kerkour.com/black-hat-rust?coupon=BLOG">https://academy.kerkour.com/black-hat-rust?coupon=BLOG</a>.</p>
<p>Sylvain ‚úåÔ∏è</p>

  </div></div>]]>
            </description>
            <link>https://kerkour.com/blog/the-unusual-way-im-funding-my-open-source-work/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26092979</guid>
            <pubDate>Wed, 10 Feb 2021 18:31:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Interview Frustrations]]>
            </title>
            <description>
<![CDATA[
Score 126 | Comments 142 (<a href="https://news.ycombinator.com/item?id=26092964">thread link</a>) | @LifeIsBio
<br/>
February 10, 2021 | https://jessimekirk.com/blog/interview_frustrations/ | <a href="https://web.archive.org/web/*/https://jessimekirk.com/blog/interview_frustrations/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://jessimekirk.com/blog/interview_frustrations/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26092964</guid>
            <pubDate>Wed, 10 Feb 2021 18:30:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hello system, a FreeBSD-based OS designed to resemble Mac]]>
            </title>
            <description>
<![CDATA[
Score 314 | Comments 245 (<a href="https://news.ycombinator.com/item?id=26092040">thread link</a>) | @gautamcgoel
<br/>
February 10, 2021 | https://hellosystem.github.io/docs/ | <a href="https://web.archive.org/web/*/https://hellosystem.github.io/docs/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
        <div>
        
          


















          <div role="main" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p><a href="https://raw.githubusercontent.com/helloSystem/hello/1d1e69be8a689c5e0a176df821c14f0b49b241a4/branding/hello_variation.svg"><img alt="https://raw.githubusercontent.com/helloSystem/hello/1d1e69be8a689c5e0a176df821c14f0b49b241a4/branding/hello_variation.svg" src="https://raw.githubusercontent.com/helloSystem/hello/1d1e69be8a689c5e0a176df821c14f0b49b241a4/branding/hello_variation.svg" width="300px"></a></p><p>
<strong>Willkommen ‚Ä¢ Welcome ‚Ä¢ Ê¨¢Ëøé ‚Ä¢ Bienvenue ‚Ä¢ Benvenuto ‚Ä¢ Bienvenido ‚Ä¢ „Çà„ÅÜ„Åì„Åù ‚Ä¢ Mabuhay ‚Ä¢ V√§lkommen ‚Ä¢ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å ‚Ä¢ Merhaba ‚Ä¢ Bonvenon ‚Ä¢ Ê≠°ËøéÂÖâËá®</strong></p><div id="hello">

<p><strong>hello</strong> (also known as <strong>helloSystem</strong>) is a desktop system for creators with focus on simplicity, elegance, and usability. Its design follows the ‚ÄúLess, but better‚Äù philosophy. It is intended as a system for ‚Äúmere mortals‚Äù, welcoming to switchers from the Mac. <a href="https://www.freebsd.org/">FreeBSD</a> is used as the core operating system. Please refer to <a href="https://github.com/helloSystem/hello">https://github.com/helloSystem/hello</a> if you would like to learn more about the ideas and principles behind hello.</p>
<p><img alt="Screenshot" src="https://github.com/helloSystem/hello/blob/master/screenshots/20210210-desktop-0.4.png?raw=true"></p>


</div>


           </div>
           
          </div>
          
        </div>
      </div></div>]]>
            </description>
            <link>https://hellosystem.github.io/docs/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26092040</guid>
            <pubDate>Wed, 10 Feb 2021 17:22:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[LinkedIn‚Äôs Alternate Universe]]>
            </title>
            <description>
<![CDATA[
Score 373 | Comments 229 (<a href="https://news.ycombinator.com/item?id=26091100">thread link</a>) | @Benlights
<br/>
February 10, 2021 | https://every.to/divinations/linkedins-alternate-universe-21780381 | <a href="https://web.archive.org/web/*/https://every.to/divinations/linkedins-alternate-universe-21780381">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p><em>Hey! Today I have something different for you. It√¢‚Ç¨‚Ñ¢s a piece about the weird world of LinkedIn √¢‚Ç¨‚Äù from celebrity </em>workfluencers<em> to the strange social features that feel out of place. This is a guest essay from <a href="https://twitter.com/fadeke_adegbuyi">Fadeke Adegbuyi</a>, senior marketing manager at Doist and a fan of all things internet culture. I think you√¢‚Ç¨‚Ñ¢re going to like it! √∞≈∏Àú‚Ä†</em></p><p><em>- Nathan</em></p><p><em> </em>LinkedIn is the fucking worst.</p><p>Despite our collective confusion about the platform, its enthusiastic embrace by HR departments and recruiters has ensured its success. Even though it was <a href="https://news.linkedin.com/2020/july/a-message">forced to lay off 1,000 employees</a> because of the pandemic, they still increased their&nbsp;Q<a href="https://www.microsoft.com/en-us/Investor/earnings/FY-2020-Q4/press-release-webcast">4 revenue by 10%.</a> As of Q3 of 2020, the company has over 722 million users and is truly international√¢‚Ç¨‚Äú√¢‚Ç¨‚Äújust 26% of their members are based in North America. With revenue largely powered by recruiting solutions, paid job listings, and advertising, LinkedIn knows how to appeal to businesses at scale. LinkedIn doesn√¢‚Ç¨‚Ñ¢t need <em>you</em> to like it.</p><p>But, the company√¢‚Ç¨‚Ñ¢s consumer-side remains in the midst of a long-standing identity crisis. Feature bloat and odd idiosyncrasies make the site a superbly strange social network. Many of us have profiles but don√¢‚Ç¨‚Ñ¢t log in for months at a time. Our √¢‚Ç¨≈ìAbout√¢‚Ç¨ÔøΩ sections point to better ways to be reached. Others, seemingly alive and well, have claimed on their pages to have died.</p><p>LinkedIn bills itself as an online destination, like a conference held at a 5-star hotel where big thinkers give big speeches, deals get made in private corners, and you can √¢‚Ç¨≈ìbuild and engage with your professional network.√¢‚Ç¨ÔøΩ But many of us see it as a not-so-funhouse, with wacky mirrors, jumpout surprises, and peculiar attractions. Can I interest you in a tour?</p><h2>Copy-Cat Cemetery&nbsp;</h2><p>LinkedIn recently released Stories, a vertical video feature copied from Instagram, who better stole it from Snapchat. LinkedIn <a href="https://www.linkedin.com/help/linkedin/answer/119760/linkedin-stories-overview?lang=en#:~:text=LinkedIn%20Stories%20enable%20members%20and,of%20their%20everyday%20professional%20moments.&amp;text=LinkedIn%20shares%20Stories%20that%20you,recent%20version%20of%20the%20app.">suggests</a> users √¢‚Ç¨≈ìshare images and short videos of their everyday professional moments.√¢‚Ç¨ÔøΩ Released in the midst of a global pandemic during a mass migration to remote work, it√¢‚Ç¨‚Ñ¢s unclear whether we should showcase cramped work setups on kitchen tables or restless kindergarteners interrupting the 143rd minute of a Zoom.&nbsp;</p><p>Available only on LinkedIn's iOS and Android apps, this begs the question...<em><strong>Who is using LinkedIn on their phone?</strong></em> The platform would like you to believe that celebrities are. A permanent Story from LinkedIn shows a reel of workfluencers √¢‚Ç¨‚Äú√¢‚Ç¨‚ÄúMark Cuban, Arianna Huffington, Deepak Chopra √¢‚Ç¨‚Äú√¢‚Ç¨‚Äú posting professionally shot high-definition videos of their work days.</p><p><a href="http://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1423/optimized_40ac9496-fcd6-4638-9b55-64f17ba91976_1600x1067.png" target="_blank"><img src="http://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1423/optimized_40ac9496-fcd6-4638-9b55-64f17ba91976_1600x1067.png"></a></p><p>A tagline ends the montage: √¢‚Ç¨≈ìShare your story.√¢‚Ç¨ÔøΩ At last glance, only a single one of my 1000+ connections is using the feature.&nbsp;</p><p>In contrast, Twitter is seeing early success with Fleets, their own copy-cat story feature that users have been receptive to, posting baby photos and dog pictures in between subtweets and shitposts. Feature imitation isn√¢‚Ç¨‚Ñ¢t a bad strategy. But LinkedIn Stories was dead on arrival. No one in the boardroom asked the critical question: <em>Who cares?</em></p><h2>The Audio Trolls</h2><p>Audio apps, like Clubhouse, Chalk, and Rodeo point to the power of sound-based social. Twitter released voice tweets earlier this spring and is currently working on an <a href="https://techcrunch.com/2020/11/17/twitter-rolls-out-stories-aka-fleets-to-all-users-will-also-test-a-clubhouse-rival/">audio spaces feature</a>. LinkedIn has taken their own steps into voice with a handful of audio features. Like most things on the platform, they feel out of place.&nbsp;</p><p>The sentiment behind their name pronunciation feature on personal profiles is a positive one, but hasn√¢‚Ç¨‚Ñ¢t seen wide adoption for its intended purpose. Since the feature was launched, I√¢‚Ç¨‚Ñ¢ve heard people with the most pronounceable of names use the feature for anything from inserting a 10-second clip from The Office to playing a song snippet at 2x speed. A now common but unintended use case is delightful trolling:</p><ul><li>At one point, Jeff Hui used the feature to ironically <a href="https://twitter.com/jeffistyping/status/1304947619651817477?s=21">shout an elevator pitch at recruiters</a></li><li>On Riva-Melissa Tez√¢‚Ç¨‚Ñ¢s profile, <a href="https://www.linkedin.com/in/riva-melissa-tez-661a0aab/">she declares herself √¢‚Ç¨≈ìQueen Bee√¢‚Ç¨ÔøΩ</a></li><li>Ben Taylor, who includes √¢‚Ç¨≈ìclick 4 sound√¢‚Ç¨ÔøΩ in his name, <a href="https://www.linkedin.com/in/bentaylordata/">rickrolls his profile visitors</a></li></ul><p>On a site where people declare Ivy League associations, summa cum laude status, and internships at investment banks, cheeky irreverence for work culture warps the throughline of respectability that LinkedIn intends. Trolling LinkedIn, while on LinkedIn, is a break from the BusinessTM of polished headshots and corporately crafted √¢‚Ç¨≈ìExperience√¢‚Ç¨ÔøΩ sections. It√¢‚Ç¨‚Ñ¢s ironic participation on a platform where you√¢‚Ç¨‚Ñ¢re <em>meant</em> to be performing professionalism.&nbsp;</p><p>At times, it feels like LinkedIn is actively building features for the intended purpose of trolling. Within LinkedIn messages, users can hold down a microphone icon to record their voice. An audio snippet is an oddly intimate option for starting a professional conversation with a stranger. Perhaps that√¢‚Ç¨‚Ñ¢s the point. But attempting to speed up relationships with overly familiar features is a √¢‚Ç¨≈ìpersonal touch√¢‚Ç¨ÔøΩ unwelcome in the world of networking, already so fraught with faux pas.</p><p>An innocent but outlandish 39-second audio message, sent by √¢‚Ç¨≈ì<a href="https://twitter.com/okcandice_/status/1285956830045380608?s=21">Jimmy from LinkedIn</a>√¢‚Ç¨ÔøΩ went viral as a case of networking-gone-not-quite-right:&nbsp;</p><blockquote>√¢‚Ç¨≈ìHello Candice, how are you doing and good morning. How have you been? Hey Candice, this is me, Jimmy from LinkedIn. And the reason I was giving you this quick voice message call was to say thank you so kindly. I really appreciate that you have accepted me here on the LinkedIn platform. What we will do is learn from each-other. I appreciate your kindness. Jimmy from LinkedIn.√¢‚Ç¨ÔøΩ</blockquote><p>Though it doesn√¢‚Ç¨‚Ñ¢t feel malicious, it√¢‚Ç¨‚Ñ¢s just <em>off</em> to encounter this kind of weirdness in the same space you seek new job opportunities and professional updates from former colleagues and classmates. It√¢‚Ç¨‚Ñ¢s the stuff that makes you pause and say, <em>Where am I?</em></p><h2>InMail Infinity</h2><p>The premise of the platform, bringing professionals together, is a challenging one from the start. People hate networking. Also, they√¢‚Ç¨‚Ñ¢re bad at it.&nbsp;</p><p>For users, LinkedIn √¢‚Ç¨≈ìnetworking√¢‚Ç¨ÔøΩ often means receiving a barrage of InMail and connection requests. You might recognize some or all of these:</p><ol><li><strong>The bad sales pitch</strong>: Sales people and business development people will slide into DMs to peddle their company√¢‚Ç¨‚Ñ¢s products, whether you√¢‚Ç¨‚Ñ¢re the right person to buy or not. Usually not.</li><li><strong>The professional neg</strong>: Recruiters ask senior level employees if they√¢‚Ç¨‚Ñ¢re interested in entry level roles or, better yet, internships.</li><li><strong>The just-in-case connection</strong>: Industry peers will suggest it√¢‚Ç¨‚Ñ¢s √¢‚Ç¨≈ìmutually beneficial√¢‚Ç¨ÔøΩ to connect, but don√¢‚Ç¨‚Ñ¢t specify these benefits up front.</li><li><strong>The endangered business school</strong>: Admissions teams are now online shilling once-coveted seats in their dwindling MBA programs. Based on your profile and experience, they think you√¢‚Ç¨‚Ñ¢re a √¢‚Ç¨≈ìgreat fit√¢‚Ç¨ÔøΩ and want you to apply.&nbsp;</li><li><strong>The eager seeker</strong>: Some people see LinkedIn messages as an alternative resume and cover letter submission portal. This is why that endless string of people in your messages inquire about roles outside your department√¢‚Ç¨¬¶ or outside your company.&nbsp;</li><li><strong>The LinkedIn team</strong>: If their emails notifying you about connection requests wasn√¢‚Ç¨‚Ñ¢t enough, LinkedIn also maintains a direct line to your InMail. Expect prompts to try Premium, credits to advertise your company, and messages about whatever else they√¢‚Ç¨‚Ñ¢re feeling.</li><li><strong>The proposition</strong>: Linkedin stands in the long-tradition of <em>every</em> site becoming a dating site. Or, er, a place to sexually harass people. If you haven√¢‚Ç¨‚Ñ¢t gotten one of these messages in your InMail, you know someone who has.</li></ol><p><a href="http://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1423/optimized_de8db43f-b1b6-454a-83a2-fe92f9bed869_1600x480.png" target="_blank"><img src="http://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1423/optimized_de8db43f-b1b6-454a-83a2-fe92f9bed869_1600x480.png"></a></p><p>Overfull InMail and random connection requests feels like a never-ending chore. You get enough work emails and don√¢‚Ç¨‚Ñ¢t need any more. LinkedIn√¢‚Ç¨‚Ñ¢s constant drip of communication is just more work on top of the real work you have to do.&nbsp;</p><p>Linkedin√¢‚Ç¨‚Ñ¢s inbox infinity isn√¢‚Ç¨‚Ñ¢t just annoying√¢‚Ç¨‚Äùit detracts from the usability of the platform. Unless you√¢‚Ç¨‚Ñ¢re embracing a new position of processing and answering everything that comes through, if a real connection came along, how would you know?</p><h2>The Cursed Timeline</h2><p>At any given point on your LinkedIn timeline, you√¢‚Ç¨‚Ñ¢ll see a corporate blog post shared by someone you know, a marketing sales pitch from someone you don√¢‚Ç¨‚Ñ¢t, and a news story about COVID-19. Their timeline is similar in this way to other social networks, where you see posts made or liked by your connections, people and brands you follow, and promoted posts that people pay to get in front of you. This cacophony of content is bizarre, but not atypical √¢‚Ç¨‚Äú√¢‚Ç¨‚Äú social feeds optimize for engagement, here as everywhere.&nbsp;</p><p>What√¢‚Ç¨‚Ñ¢s uniquely odd about LinkedIn is that it is not unique. √¢‚Ç¨≈ìThe professional network√¢‚Ç¨ÔøΩ is still just a social network. Though the topics of the posts in your timeline may be on the world of work, diving into the comments, you can see polarization in action. Inspirational posts on giving parents grace while working from home during the pandemic have angry rants suggesting that kids are a personal choice and their burden shouldn√¢‚Ç¨‚Ñ¢t be foisted upon colleagues. Beneath articles on workplace harassment, sympathetic discussions ensue on why someone might naturally retaliate after being romantically rebuffed. A political article about the 2020 US presidential election draws comments on whether former President Barack Obama was really Black.&nbsp;</p><p><a href="http://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1423/optimized_96580804-aafd-41cc-896c-028a895490d6_1600x272.png" target="_blank"><img src="http://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1423/optimized_96580804-aafd-41cc-896c-028a895490d6_1600x272.png"></a></p><p>In a time when the collective conversation is consumed by the topic of human cancellation, people readily post things on LinkedIn that make them fireable or unhireable.&nbsp;</p><p><a href="http://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1423/optimized_758c1270-4c2a-4e06-8dbc-7dc0e356a568_1600x540.png" target="_blank"><img src="http://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1423/optimized_758c1270-4c2a-4e06-8dbc-7dc0e356a568_1600x540.png"></a></p><p>While these comments are nothing new in terms of online culture, they feel out of bounds on a professional website where people use their full names and disclose precisely where they work and the city they live in. In the alternate universe of LinkedIn, cancel culture either doesn√¢‚Ç¨‚Ñ¢t exist, its inhabitants are blissfully unaware, or they simply don√¢‚Ç¨‚Ñ¢t care.</p><p><a href="http://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1423/optimized_befe2496-abfd-4e7a-a29f-8dc8a3889521_1600x259.png" target="_blank"><img src="http://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1423/optimized_befe2496-abfd-4e7a-a29f-8dc8a3889521_1600x259.png"></a></p><h2>The Rockstar Recruiters</h2><p>The strangest of Linkedin√¢‚Ç¨‚Ñ¢s features isn√¢‚Ç¨‚Ñ¢t a feature at all; it√¢‚Ç¨‚Ñ¢s a specific set of power users.&nbsp;</p><p>Every platform has its royalty. On Instagram it's ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://every.to/divinations/linkedins-alternate-universe-21780381">https://every.to/divinations/linkedins-alternate-universe-21780381</a></em></p>]]>
            </description>
            <link>https://every.to/divinations/linkedins-alternate-universe-21780381</link>
            <guid isPermaLink="false">hacker-news-small-sites-26091100</guid>
            <pubDate>Wed, 10 Feb 2021 16:15:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Web Scraping 101 with Python]]>
            </title>
            <description>
<![CDATA[
Score 378 | Comments 129 (<a href="https://news.ycombinator.com/item?id=26090243">thread link</a>) | @daolf
<br/>
February 10, 2021 | https://www.scrapingbee.com/blog/web-scraping-101-with-python/ | <a href="https://web.archive.org/web/*/https://www.scrapingbee.com/blog/web-scraping-101-with-python/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p><img src="https://d33wubrfki0l68.cloudfront.net/0c341714fac1e681a51f25db8d80853d341830a9/c3aea/images/authors/kevin.png" alt="Kevin Sahin">
            
            <span>
                
                
                
                <span>
                    <small> ‚óè </small>
                    
                    
                    Updated:
                    
                    <span>09 February, 2021</span>
                    
                    <small> ‚óè </small>
                    <span> 21 min read </span>
                </span>
                <p> Kevin worked in the web scraping industry for 10 years before co-founding <a href="https://www.scrapingbee.com/">ScrapingBee</a>. He is also the author of the Java Web Scraping Handbook.
                        
                        <a href="https://twitter.com/SahinKevin" target="_blank">
                        <svg style="height: 14px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                            <path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z" fill="currentColor"></path>
                        </svg>
                        </a>
                        
                        
                    </p>
            </span>
        </p><div property="articleBody">
          





















<div>
  
  <p><img loading="lazy" srcset="
      
        , https://d33wubrfki0l68.cloudfront.net/adfd4c7273134e8e7b76e7e2a7d2d5a32326f6fc/914d1/blog/web-scraping-101-with-python/python_101_cover_hu8a8d68b1832e8346b89f5afc8f3d2a1b_50362_825x0_resize_q75_catmullrom.jpg 825w
      
      
      " src="https://d33wubrfki0l68.cloudfront.net/2d0fcdc12a1b40d9c2e0090b2d17e6edb33384cb/2bcf3/blog/web-scraping-101-with-python/python_101_cover.jpg" width="1024" height="512" alt="Web Scraping 101 with Python" data-srcset="
    
      , https://d33wubrfki0l68.cloudfront.net/adfd4c7273134e8e7b76e7e2a7d2d5a32326f6fc/914d1/blog/web-scraping-101-with-python/python_101_cover_hu8a8d68b1832e8346b89f5afc8f3d2a1b_50362_825x0_resize_q75_catmullrom.jpg 825w
    
    
    " data-src="https://d33wubrfki0l68.cloudfront.net/2d0fcdc12a1b40d9c2e0090b2d17e6edb33384cb/2bcf3/blog/web-scraping-101-with-python/python_101_cover.jpg">
  
</p></div>

<br>


<h2 id="introduction">Introduction:</h2>
<p>In this post, which can be read as a follow-up to our <a href="https://www.scrapingbee.com/blog/web-scraping-without-getting-blocked">ultimate web scraping guide</a>, we will cover almost all of the tools Python offers to scrape the web. We will go from the basic to advanced ones, covering the pros and cons of each. Of course, we won't be able to cover every aspect of every tool we discuss, but this post should give you a good idea of what each tool does, and when to use one.</p>
<p><em>Note: When I talk about Python in this blog post you should assume that I talk about Python3.</em></p>
<h2 id="0-web-fundamentals">0. Web Fundamentals</h2>
<p>The internet is <strong>complex</strong>: there are many underlying technologies and concepts involved to view a simple web page in your browser. I don‚Äôt have the pretension to explain everything, but I will explain the most important to understand for extracting data from the web.</p>
<h3 id="hypertext-transfer-protocol">HyperText Transfer Protocol</h3>
<p>HyperText Transfer Protocol (HTTP) uses a <strong>client/server</strong> model. An HTTP client (a browser, your Python program, cURL, Requests‚Ä¶) opens a connection and sends a message (‚ÄúI want to see that page : /product‚Äù)to an HTTP server (Nginx, Apache‚Ä¶). Then the server answers with a response (the HTML code for example) and closes the connection.</p>
<blockquote>
<p>HTTP is called a <em><strong>stateless protocol</strong></em> because each transaction (request/response) is independent. FTP, for example, is stateful.</p>
</blockquote>
<p>Basically, when you type a website address in your browser, the HTTP request looks like this:</p>
<div><pre><code data-lang="bash">GET /product/ HTTP/1.1
Host: example.com
Accept: text/html,application/xhtml+xml,application/xml;q<span>=</span>0.9,image/web<span>\
</span><span></span>p,*/*;q<span>=</span>0.8
Accept-Encoding: gzip, deflate, sdch, br
Connection: keep-alive
User-Agent: Mozilla/5.0 <span>(</span>Macintosh; Intel Mac OS X 10_11_6<span>)</span> AppleWebKit<span>\
</span><span></span>/537.36 <span>(</span>KHTML, like Gecko<span>)</span> Chrome/56.0.2924.87 Safari/537.36
</code></pre></div><p>In the first line of this request, you can see the following:</p>
<ul>
<li>The GET verb or method: This means we request data from the specific path: <code>/product/</code>. There are other HTTP verbs, and you can see the full list <a href="https://www.w3schools.com/tags/ref_httpmethods.asp">here</a>.</li>
<li>The version of the HTTP protocol: In this tutorial we will focus on HTTP 1.</li>
<li>Multiple headers fields: Connection, User-Agent‚Ä¶ Here is an exhaustive list of <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers">HTTP headers</a></li>
</ul>
<p>Here are the most important header fields :</p>
<ul>
<li><strong>Host:</strong> This is the domain name of the server. If no port number is given, it is assumed to be <strong>80</strong>.</li>
<li><strong>User-Agent:</strong> This contains information about the client originating the request, including the OS. In this case, it is my web browser (Chrome) on macOS. This header is important because it is either used for statistics (how many users visit my website on mobile vs desktop) or to prevent violations by bots. Because these headers are sent by the clients, they can be modified (<em>‚ÄúHeader Spoofing‚Äù</em>). This is exactly what we will do with our scrapers - make our scrapers look like a regular web browser.</li>
<li><strong>Accept:</strong> These are the content types that are acceptable as a response. There are lots of different content types and sub-types: <strong>text/plain, text/html, image/jpeg, application/json</strong> ‚Ä¶</li>
<li><strong>Cookie</strong> : This header field contains a list of name-value pairs (name1=value1;name2=value2). These session cookies are used to store data. Cookies are what websites use to authenticate users and/or store data in your browser. For example, when you fill a login form, the server will check if the credentials you entered are correct. If so, it will redirect you and inject a session cookie in your browser. Your browser will then send this cookie with every subsequent request to that server.</li>
<li><strong>Referrer</strong>: The Referrer header contains the URL from which the actual URL has been requested. This header is important because websites use this header to change their behavior based on where the user came from. For example, lots of news websites have a paying subscription and let you view only 10% of a post, but if the user comes from a news aggregator like Reddit, they let you view the full content. They use the referrer to check this. Sometimes we will have to spoof this header to get to the content we want to extract.</li>
</ul>
<p>And the list goes on‚Ä¶you can find the full header list <a href="https://en.wikipedia.org/wiki/List_of_HTTP_header_fields">here</a>.</p>
<p>A server will respond with something like this:</p>
<div><pre><code data-lang="bash">HTTP/1.1 <span>200</span> OK
Server: nginx/1.4.6 <span>(</span>Ubuntu<span>)</span> Content-Type: text/html; charset<span>=</span>utf-8 &lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset<span>=</span><span>"utf-8"</span> /&gt; ...<span>[</span>HTML CODE<span>]</span>
</code></pre></div><p>On the first line, we have a new piece of information, the HTTP code <code>200 OK</code>. This means the request has succeeded. As for the request headers, there are lots of HTTP codes. They are split into four common classes: 2XX for successful requests, 3XX for redirects, 4XX for bad requests (the most famous being ‚Äú404 Not Found‚Äù), and 5XX for server errors.</p>
<p>Then, if you are sending this HTTP request with your web browser, the browser will parse the HTML code, fetch all the eventual assets (Javascript files, CSS files, images‚Ä¶), and render the result into the main window.</p>
<p>We will go through the different ways to perform HTTP requests with Python and extract the data we want from the responses.</p>
<h2 id="1-manually-opening-a-socket-and-sending-the-http-request">1. Manually Opening a Socket and Sending the HTTP Request</h2>
<h3 id="socket">Socket</h3>
<p>The most basic way to perform an HTTP request in Python is to open a <a href="https://docs.python.org/3/howto/sockets.html">socket</a> and manually send the HTTP request.</p>
<div><pre><code data-lang="python"><span>import</span> socket

HOST <span>=</span> <span></span><span>'</span><span>www.google.com</span><span>'</span>  <span># Server hostname or IP address</span>
PORT <span>=</span> <span>80</span>        <span># Port</span>

client_socket <span>=</span> socket<span>.</span>socket(socket<span>.</span>AF_INET, socket<span>.</span>SOCK_STREAM)
server_address <span>=</span> (HOST, PORT)
client_socket<span>.</span>connect(server_address)

request_header <span>=</span> <span>b</span><span>'</span><span>GET / HTTP/1.0</span><span>\r</span><span>\n</span><span>Host: www.google.com</span><span>\r</span><span>\n</span><span>\r</span><span>\n</span><span>'</span>
client_socket<span>.</span>sendall(request_header)

response <span>=</span> <span></span><span>'</span><span>'</span>
<span>while</span> True:
    recv <span>=</span> client_socket<span>.</span>recv(<span>1024</span>)
    <span>if</span> <span>not</span> recv:
        <span>break</span>
    response <span>+</span><span>=</span> str(recv)

<span>print</span>(response)
client_socket<span>.</span>close()  
</code></pre></div><p>Now that we have the HTTP response, the most basic way to extract data from it is to use regular expressions.</p>
<h3 id="regular-expressions">Regular Expressions</h3>
<p>A regular expression (RE or regex) is a search pattern for strings.</p>
<p>With regex, you can search for a particular character/word in a bigger body of text.</p>
<p>For example, you could identify all phone numbers in a web page.</p>
<p>You can also replace items with a regex. For example, you could replace all uppercase tags in a poorly formatted HTML with lowercase tags.</p>
<p>You can also validate some inputs ‚Ä¶</p>
<p>The pattern used by a regex is applied from left to right, and each source character is only used once.</p>
<p>You may be wondering why it is important understand regular expressions when doing web scraping.</p>
<p>After all, there are many different Python modules to parse HTML, with XPath and CSS selectors.</p>
<p>In an ideal <a href="https://en.wikipedia.org/wiki/Semantic_Web">semantic world,</a> data is easily machine-readable, and the information is embedded inside relevant HTML elements, with meaningful attributes.</p>
<p>But the real world is messy. You will often find huge amounts of text inside a p element. For example, if you want to extract specific data inside a large text (a price, a date, a name‚Ä¶), you will have to use regular expressions.</p>
<p><strong>Note:</strong> Here is a great website to test your regex: <a href="https://regex101.com/"></a><a href="https://regex101.com/">https://regex101.com/</a>. Also, here is an <a href="https://www.rexegg.com/">awesome blog</a> to learn more about them. This post will only cover a small fraction of what you can do with regex.</p>
<p>Regular expressions can be useful when you have this kind of data:</p>
<p>We could select this text node with an Xpath expression and then use this kind of regex to extract the price:</p>
<div><pre><code data-lang="python">    <span>^</span>Price\s:\s(\d<span>+</span>\<span>.</span>\d{<span>2</span>})\<span>$</span>
</code></pre></div><p>To extract the text inside an HTML tag, it is annoying but doable to use a regex:</p>
<div><pre><code data-lang="python"><span>import</span> re

html_content <span>=</span> <span></span><span>'</span><span>&lt;p&gt;Price : 19.99$&lt;/p&gt;</span><span>'</span>

m <span>=</span> re<span>.</span>match(<span></span><span>'</span><span>&lt;p&gt;(.+)&lt;</span><span>\</span><span>/p&gt;</span><span>'</span>, html_content)
<span>if</span> m:
	<span>print</span>(m<span>.</span>group(<span>1</span>))
</code></pre></div><p>As you can see, manually sending the HTTP request with a socket and parsing the response with regular expression can be done, but it's complicated and there are higher-level API that can make this task easier.</p>
<h2 id="2-urllib3--lxml">2. urllib3 &amp; LXML</h2>
<p><strong>Disclaimer</strong>: It is easy to get lost in the urllib universe in Python. The standard library contains urllib and urllib2 (and sometimes urllib3). In Python3 urllib2 was split into multiple modules and urllib3 won't be part of the standard library anytime soon. This confusing situation will be the subject of another blog post. In this section, I've decided to only talk about urllib3 because it is widely used in the Python world, including by Pip and Requests.</p>
<p>Urllib3 is a high-level package that allows you to do pretty much whatever you want with an HTTP request. We urllib3 we could do what we did in the previous section with way fewer lines of code.</p>
<div><pre><code data-lang="python"><span>import</span> urllib3
http <span>=</span> urllib3<span>.</span>PoolManager()
r <span>=</span> http<span>.</span>request(<span></span><span>'</span><span>GET</span><span>'</span>, <span></span><span>'</span><span>http://www.google.com</span><span>'</span>)
<span>print</span>(r<span>.</span>data)
</code></pre></div><p>As you can see, this is much more concise than the socket version. Not only that, the API is straightforward. Also, you can easily do many other things, like adding HTTP headers, using a proxy, POSTing forms ‚Ä¶</p>
<p>For example, had we decided to set some headers and use a proxy,
we would only have to do the following (you can learn more about proxy servers at <a href="https://www.bestproxyreviews.com/proxy-server/">bestproxyreviews.com</a>):</p>
<div><pre><code data-lang="python"><span>import</span> urllib3
user_agent_header <span>=</span> urllib3<span>.</span>make_headers(user_agent<span>=</span><span></span><span>"</span><span>&lt;USER AGENT&gt;</span><span>"</span>)
pool <span>=</span> urllib3<span>.</span>ProxyManager(f<span></span><span>'</span><span>&lt;PROXY IP&gt;</span><span>'</span>, headers<span>=</span>user_agent_header)
r <span>=</span> pool<span>.</span>request(<span></span><span>'</span><span>GET</span><span>'</span>, <span></span><span>'</span><span>https://www.google.com/</span><span>'</span>)
</code></pre></div><p>See? There are exactly the same number of lines. However, there are some things that urllib3 does not handle very easily. For example, if we want to add a cookie, we have to manually create the corresponding headers and add it to the request.</p>
<p>There are also things that urllib3 can do that requests can't: ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.scrapingbee.com/blog/web-scraping-101-with-python/">https://www.scrapingbee.com/blog/web-scraping-101-with-python/</a></em></p>]]>
            </description>
            <link>https://www.scrapingbee.com/blog/web-scraping-101-with-python/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26090243</guid>
            <pubDate>Wed, 10 Feb 2021 15:17:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Jazzer brings modern fuzz testing to the JVM]]>
            </title>
            <description>
<![CDATA[
Score 68 | Comments 21 (<a href="https://news.ycombinator.com/item?id=26090139">thread link</a>) | @lrngjcb
<br/>
February 10, 2021 | https://blog.code-intelligence.com/fuzzing-for-jvm-is-now-open-source | <a href="https://web.archive.org/web/*/https://blog.code-intelligence.com/fuzzing-for-jvm-is-now-open-source">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
      
      <div>
        <div>
          <p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><h4>At Code Intelligence we already fixed thousands of bugs with our fuzzing engine for the JVM. Now we want to make its core available to the community.</h4>
<span><!--more--></span>
<h4><span><span>We are happy to announce the open-source launch of Jazzer.</span></span></h4>
<hr>
<p>With Jazzer, developers can increase their test coverage to find edge cases, avoiding software bugs more effectively. No changes to the source code or build system are required. Many proven fuzzing techniques, such as mutation strategies, error detection, or feedback from the program during run-time, are based on <a href="https://llvm.org/docs/LibFuzzer.html"><span>libFuzzer</span></a>. Jazzer supports finding various error types in the JVM code. We also target programming language mixing ‚Äã‚Äã(native libraries via JNI), often leading to memory corruption bugs in the Java to C/C++ glue code. In this blog post, you can find more details about <a href="http://blog.code-intelligence.com/engineering-jazzer"><span>engineering Jazzer</span></a>.</p>

<h2><!--HubSpot Call-to-Action Code --><span id="hs-cta-wrapper-c5871777-cd08-4d3b-8205-b5536f4d3a98"><span id="hs-cta-c5871777-cd08-4d3b-8205-b5536f4d3a98"><!--[if lte IE 8]><div id="hs-cta-ie-element"></div><![endif]--><a href="https://cta-redirect.hubspot.com/cta/redirect/7466322/c5871777-cd08-4d3b-8205-b5536f4d3a98"><img id="hs-cta-img-c5871777-cd08-4d3b-8205-b5536f4d3a98" src="https://no-cache.hubspot.com/cta/default/7466322/c5871777-cd08-4d3b-8205-b5536f4d3a98.png" alt="See Jazzer repository on GitHub"></a></span></span><!-- end HubSpot Call-to-Action Code --></h2>
<h2><br>CI Fuzz Enterprise</h2>
<p><span>Our Enterprise Edition focuses on solving enterprise problems and </span><span>integrations relevant to working in development teams. Various features like reporting, CI/CD and dev tool integration, WebAPI fuzzing, OWASP vulnerability detection </span><span>enable highly productive work in the development process (DevSecOps)</span><span>. If you have been eager to get hands-on experience with fuzz testing, look at our </span><a href="https://github.com/CodeIntelligenceTesting/jazzer"><span>Github</span></a><span> repository. There you will find a step-by-step guide on how to get your first findings with Jazzer within minutes.&nbsp;</span></p>
<p><span><!--HubSpot Call-to-Action Code --><span id="hs-cta-wrapper-07b6f449-122a-49b1-a204-8620122ad9d5"><span id="hs-cta-07b6f449-122a-49b1-a204-8620122ad9d5"><!--[if lte IE 8]><div id="hs-cta-ie-element"></div><![endif]--><a href="https://cta-redirect.hubspot.com/cta/redirect/7466322/07b6f449-122a-49b1-a204-8620122ad9d5"><img id="hs-cta-img-07b6f449-122a-49b1-a204-8620122ad9d5" src="https://no-cache.hubspot.com/cta/default/7466322/07b6f449-122a-49b1-a204-8620122ad9d5.png" alt="Compare Jazzer to CI Fuzz"></a></span></span><!-- end HubSpot Call-to-Action Code --></span></p>

<p><em><span>‚ÄúWith the open-source release of Jazzer, we want to contribute <br>to helping even more developers to write better software.‚Äù </span></em><br><a href="https://www.linkedin.com/in/sergej-dechand/"><span>Sergej Dechand</span></a>, CEO of <span>Code Intelligence</span>&nbsp;</p>

</span>
          </p>
        </div>
        
      </div>

    </div>
    
  </div></div>]]>
            </description>
            <link>https://blog.code-intelligence.com/fuzzing-for-jvm-is-now-open-source</link>
            <guid isPermaLink="false">hacker-news-small-sites-26090139</guid>
            <pubDate>Wed, 10 Feb 2021 15:09:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What's the role of Go in a universe where Rust exists?]]>
            </title>
            <description>
<![CDATA[
Score 66 | Comments 51 (<a href="https://news.ycombinator.com/item?id=26089595">thread link</a>) | @Fiveplus
<br/>
February 10, 2021 | https://kristoff.it/blog/why-go-and-not-rust/ | <a href="https://web.archive.org/web/*/https://kristoff.it/blog/why-go-and-not-rust/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Imagine you‚Äôre a developer who mainly works with Go. You go to an event and, while chatting with some people, you decide to share with them the news that you wrote a small tool that does <em>something</em>. You claim that since you wrote it in Go, it‚Äôs fairly fast, it‚Äôs a single binary, etc. The group seems pleased with your recount and you start feeling good, but then you notice a stranger approaching from behind. A bone-chilling wind blows and you hear: ‚ÄúWhy Go and not Rust?‚Äù</p>
<p>You start feeling less good. Well, you could answer that Go is what you know, so that‚Äôs what you used to solve your problem, but that‚Äôs probably not going to be a satisfactory answer. You were pridefully talking about how fast your tool was in the first place, and it‚Äôs obvious that the stranger is going to counter your simplistic excuse with all the great benefits that Rust brings over Go.</p>
<p>You start feeling bad. Why did you choose to learn Go in the first place? You were told that Go is fast and that it has great concurrency primitives, and now Rust comes along and everybody is saying that Rust is better in every aspect. Were they lying before or are they lying now? While there is no single language to rule them all, you know that it‚Äôs still possible to make bad choices and end up in a technological cul de sac. After all, you did choose Go over <em>that</em> other language a few years ago and you were pretty pleased with the routine of joining circles to ask ‚ÄúWhy <em>that</em> and not Go?‚Äù</p>
<hr>
<p>While the story above is 100% the result of my imagination, it‚Äôs no secret that the Rust fandom has a few <em>overexcited</em> members who feel compelled to enlighten every lost soul about the virtues of the Crab-God. This isn‚Äôt really Rust‚Äôs fault, every successful project will have misbehaving followers, it‚Äôs inevitable. While everyone has to deal with these people, I feel that Go developers are particularly susceptible to their behavior because of how much Rust‚Äôs and Go‚Äôs <a href="https://courses.lumenlearning.com/ivytech-mktg101-master/chapter/reading-defining-the-message/" target="_blank" rel="nofollow noopener noreferrer">messaging</a> overlap.</p>
<p>Go is fast, but Rust is faster.  </p>
<p>Go has an efficient garbage collector, but Rust has static memory management.  </p>
<p>Go has great concurrency support, but Rust has provably-correct concurrency.</p>
<p>Go has interfaces, but Rust has traits and other zero-cost abstractions.</p>
<p>If you‚Äôre a Go developer you might feel a bit cheated. In contrast, Python developers are not particularly fazed by Rust. They know that Python is in many ways slow and inefficient, and they‚Äôre fine with that because they know Python‚Äôs role: make the code easy to write and offload to C when performance matters.</p>
<p>What about Go? </p>
<h2 id="go-is-very-good-for-writing-services"><a href="#go-is-very-good-for-writing-services" aria-label="go is very good for writing services permalink"></a>Go is very good for writing services</h2>
<p>Go was created at Google to solve Google problems, which mostly involves dealing with networked services. Go‚Äôs concurrency model is a good fit for server-side applications that must primarily handle multiple independent requests, rather than participate in complex result-passing schemes. This is one reason why you‚Äôre given <code>go</code> and not <code>await</code>.</p>
<p>Go has great support for HTTP and related protocols and it doesn‚Äôt take long to write a satisfactory web service. In my personal projects, Go proved to be a good alternative to Node.js, especially in situations where I wanted to pin down the interfaces between different components more explicitly than you would do while writing idiomatic JavaScript.</p>
<p>On top of that, it has great tooling to diagnose concurrency and performance problems, and cross-compilation makes deploying on whichever platform a breeze.</p>
<h2 id="go-is-unapologetically-simple"><a href="#go-is-unapologetically-simple" aria-label="go is unapologetically simple permalink"></a>Go is unapologetically simple</h2>
<p>Go takes great pride in offering a limited set of features built-in the language. This makes Go easy to learn and, even more importantly, it ensures that Go projects remain understandable even when growing in size.  The creators of Go like to call it a ‚Äúboring‚Äù language. While we could debate whether the language could use one or two extra things, the idea of forcing people to ‚Äúdo more with less‚Äù has proven to be very successful.</p>
<p>Rust can indeed be as good as Go at doing web services, or even better, but it really cannot beat Go in terms of simplicity. And it‚Äôs not just simplicity, Go is also strict about things that other languages are usually more lax about. Go doesn‚Äôt want unused variables or imports, files belonging to different packages in the same directory, etc. It even used to complain about projects saved outside of <code>GOPATH</code> (thankfully that‚Äôs not the case anymore). </p>
<p>Go also doesn‚Äôt want any ‚Äúfingerprints‚Äù in the code, so it enforces a single, universal style via <code>go fmt</code>.</p>
<p>In truth, none of these things alone is particularly  impressive, but they do describe the mindset that Go wants to impose. Many don‚Äôt like it but, in my opinion, it‚Äôs a killer feature for some types of development, like enterprise software.</p>
<h2 id="go-is-great-for-enterprise-software"><a href="#go-is-great-for-enterprise-software" aria-label="go is great for enterprise software permalink"></a>Go is great for enterprise software</h2>
<p>As I already mentioned, Go was created to solve Google problems, and Google problems are definitely enterprise-scale problems. Whether this was the direct aim of the creators or just the natural result of using it at a Big Corp, Go is indubitably an amazing breath of fresh air in enterprise software development.</p>
<p>If you have experience in writing enterprise software and tried Go, you probably know what I mean. Here‚Äôs a quick summary for everyone else.</p>
<p>Enterprise development is a very weird beast compared to other kinds of development. If you‚Äôve never done it, you might ask yourself ‚ÄúWhat the hell is even enterprise software?‚Äù I did that kind of development as a consultant for a bit, so here‚Äôs my take on the subject.</p>
<h4 id="enterprise-software-development-is-about-scale"><a href="#enterprise-software-development-is-about-scale" aria-label="enterprise software development is about scale permalink"></a>Enterprise software development is about scale</h4>
<p>Not in terms of total number of users, or amount of data. Often that‚Äôs the case too, but the defining characteristics are scale of <strong>scope</strong> and <strong>process</strong>. </p>
<p><strong>Enterprise software always has a big scope.</strong> The domain can be big and wide, or narrow but stupidly complex. Sometimes it‚Äôs both. When creating software to model such domains, normal programming wisdom falls incredibly short because non-technological concerns out-weight most technological ones. </p>
<p><strong>To unravel complex domains you need a well-structured process.</strong> You need domain experts, analysts, and a mechanism that lets stakeholders gauge how much progress is being made. It‚Äôs also often the case that you, the technologist, don‚Äôt know the domain very well. Stakeholders and domain experts often won‚Äôt understand technology very well either. </p>
<p>This pushes further down technological concerns such as efficiency, <strong>and even correctness.</strong> Don‚Äôt get me wrong, the business does care about correctness, but they have a different definition for it. When you‚Äôre thinking about algorithmic correctness, they are thinking about a reconciliation back-office for the operations team they keep in a country where labor is cheap.</p>
<p>Because of the environment resulting from this general premise, a few well-known enterprise development ‚Äúquirks‚Äù have emerged over time. I‚Äôll name three relevant to my point.</p>
<ol>
<li><strong>There are a lot of junior developers</strong> who learn on the job how to program and most are not lucky enough to find a job that will truly teach them anything. In some places, after you‚Äôre hired, you are stationed for one week in front of PluralSight and then you‚Äôre considered ready to go.</li>
<li><strong>Software projects quickly become huge and complex for all the wrong reasons.</strong> Big projects take time to build and people (or whole teams) will come and go in the meantime. Constant refactoring is never an option so each will leave behind a lot of code written with very varying levels of quality. Multiple teams working in parallel will produce redundant code. The domain shifts over time, inevitably invalidating older assumptions and consequently causing abstractions to leak. The more sophisticated an abstraction is, the higher the risk that it will become a problem when business comes back with a serious change request.</li>
<li><strong>The toolchain is very often lousy and/or dated.</strong> This is pretty much the inevitable result of all that I described so far. Huge amounts of old code tie you down to a specific toolset, junior developers will learn the status-quo at best, and the people on top (managers and stakeholders) are extremely often not prepared for making technological decisions based on first-hand experience, the general nature of the endeavor makes them risk-averse, causing them to mainly mimic what other successful players in their space do or, more precisely, what analysts <em>claim</em> other successful players do.</li>
</ol>
<h4 id="go-is-about-suppressing-complexity-at-scale"><a href="#go-is-about-suppressing-complexity-at-scale" aria-label="go is about suppressing complexity at scale permalink"></a>Go is about suppressing complexity at scale</h4>
<p>Go makes teams more successful, partially by giving them more than what they would get with other ecosystems, and partially by taking tools away from them, to prevent common pitfalls.</p>
<p><strong>Go is much easier to learn than Java or C#.</strong> A faster ramp-up is generally good, but it becomes fundamental when the project is lagging behind, the deadline is approaching, and management inevitably resorts to hiring more people, hoping (in vain) to speed things up.</p>
<p><strong>The Go community regards as anti-patterns many abstractions regularly employed by Java / C#</strong>, like IoC containers, or OOP inheritance, for example. There are only two levels of visibility for variables, and the only concurrency model is CSP. It‚Äôs way harder to fall into incomprehensible pitfalls when writing in Go than it is in Java / C#. </p>
<p><strong>The Go compiler is fast.</strong> Which means that running tests is going to be faster in general, that deployments will take less time, increasing the overall productivity.</p>
<p>With Go, it‚Äôs easier as a junior developer to be more productive, and harder as a mid-level developer to introduce brittle abstractions that will cause problems down the line.</p>
<p>For these reasons, Rust is less compelling than Go for enterprise software development. That doesn‚Äôt mean that Go is perfect, or that it‚Äôs not true that Rust has some advantages over Go. Rust has many advantages over Go, but more than anything, I would say that it‚Äôs the common perception of Go that is wrong.</p>
<p>Go is not blazing-fast. Go is not super memory-efficient. Go doesn‚Äôt have the absolutely best concurrency model. </p>
<p>Go is faster than Java / C#, more memory-efficient ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://kristoff.it/blog/why-go-and-not-rust/">https://kristoff.it/blog/why-go-and-not-rust/</a></em></p>]]>
            </description>
            <link>https://kristoff.it/blog/why-go-and-not-rust/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26089595</guid>
            <pubDate>Wed, 10 Feb 2021 14:32:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Products vs. Protocols: What Signal got right]]>
            </title>
            <description>
<![CDATA[
Score 142 | Comments 87 (<a href="https://news.ycombinator.com/item?id=26088305">thread link</a>) | @MattJ100
<br/>
February 10, 2021 | https://snikket.org/blog/products-vs-protocols/ | <a href="https://web.archive.org/web/*/https://snikket.org/blog/products-vs-protocols/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <p><small>Posted by Matthew Wild on February 9 2021</small></p><p><em>There is a significant difference between developing and promoting a
protocol (such as XMPP) and a product (such as Signal). Both approaches
have their advantages and disadvantages. This post details how and why
Snikket aims to strike a balance between the two.</em></p>
<h2 id="products-vs-protocols">Products vs Protocols</h2>
<p>This past weekend I gave a talk at the (virtual) FOSDEM conference about
a topic I‚Äôve been thinking about a lot the past few years - the differences
between developing a product and developing a protocol.</p>
<p>You can watch the talk <a href="https://peertube.thepacket.exchange/videos/watch/96e35d83-e70c-4a87-868b-f9cbeb48e1d0">here</a>, but there were many things I
wanted to touch upon that wouldn‚Äôt fit into the 20 minute slot. This post
will cover the same topics, but expands on some of the points I
discussed.</p>
<h2 id="previously-in-open-protocols">Previously, in open protocols‚Ä¶</h2>
<p>I‚Äôve been involved with <a href="https://xmpp.org/">XMPP</a> (once known as Jabber) for over 15
years. It is now over 20 years since XMPP‚Äôs inception, and over this
time XMPP, along with the rest of the tech industry, has seen significant
change.</p>
<p>XMPP began life in the late 1990s, as an attempt to break into the
messaging silos of that era. The names and logos may have been different,
but it was a very similar landscape to today - oversized tech companies
fighting each other for control over people who simply want to use the
internet for what it was designed, communicating with one another.</p>
<p>Email got lucky. A standard protocol managed to break down the walls of
even the final fortress of resistance, AOL. This was achieved largely
because the adoption of standard protocols by smaller providers allowed
them to form a network together that began to threaten even America‚Äôs
largest ISP.</p>
<p>Unfortunately we never quite reached that point with instant messaging.
However that hasn‚Äôt stopped many of us from continuing to strive for a
similar outcome even as our symbol of hope, the open email network, is
under threat today more than ever before.</p>
<p>Despite numerous projects, communities and organizations campaigning for
decades in favour of open messaging systems, the space is still
dominated by large silos. The largest the world has ever known. WhatsApp
alone has over <em>2 billion</em> users. That means a significant portion of
the world‚Äôs communications are flowing through a single company. A
company that has a simple business model - amassing data about people
and leveraging that data to help their actual customers (other
businesses) influence the beliefs, biases and behaviour of the users of
their platforms.</p>
<h2 id="the-slippery-slope">The slippery slope</h2>
<p>Despite the dizzying numbers associated with WhatsApp today, it had more
humble beginnings. Founded by two ex-Yahoo employees, Brian Acton and
Jan Koum, it began as a simple messaging app for iPhones. The server was
originally based on an <a href="https://www.process-one.net/blog/whatsapp-facebook-erlang-and-realtime-messaging-it-all-started-with-ejabberd/">open-source XMPP server</a>, and
used the XMPP protocol. However the goal of WhatsApp was not openness
and federation, and they soon diverged far from standard XMPP.</p>
<p>As WhatsApp grew, early users may recall that they also began charging a
small fee for accounts ($1/year). Their reasoning was simple:</p>
<blockquote>
    <p>√¢‚Ç¨≈ìRemember, when advertising is involved <strong>you the user</strong>
    are the product.</p>
    <p>Your data isn't even in the picture. We are simply not interested in any of it.</p>
    <p>When people ask us why we charge for WhatsApp,
    we say √¢‚Ç¨ÀúHave you considered the alternative?√¢‚Ç¨‚Ñ¢√¢‚Ç¨≈ì</p>
    <p><a href="https://blog.whatsapp.com/why-we-don-t-sell-ads">
         <strong>WhatsApp blog post √¢‚Ç¨≈ìWhy we don't sell ads√¢‚Ç¨≈ì, June 2012</strong>
       </a>
    </p>
</blockquote>
<p>Nevertheless, just two years later it was announced that WhatsApp had
been acquired by the internet‚Äôs fastest-growing advertising platform,
Facebook.</p>
<p>Despite declaring to the EU competition commission that linking an
individual‚Äôs data between WhatsApp and Facebook was not technically
feasible this is exactly what they went on to do, <a href="https://www.theguardian.com/business/2017/may/18/facebook-fined-eu-whatsapp-european-commission">leading to a √¢‚Äö¬¨94
million fine</a>. Little by little, Facebook has been
loosening their privacy policies to allow them to absorb WhatsApp data
into their daily operations.</p>
<p>So when, in early 2021, the latest update to the privacy policy gave users
of the platform a clear ultimatum to allow this sharing or close their
account, many users wisely began to seek alternatives. Finally, the
moment we had been waiting for had arrived.</p>
<p>Many of us advocates of open communications seized the opportunity, and
recommendations were soon flying around for the wide range of alternative
messaging systems we‚Äôve been building these past years. ‚ÄúUse XMPP!‚Äù,
‚ÄúUse Matrix!‚Äù, ‚ÄúUse Signal!‚Äù, to name a few.</p>
<p>Despite a marked increase of signups on XMPP and Matrix servers, of
these three it was Signal that won by far the largest share of new users.
Millions of people flocked from WhatsApp and overloaded Signal‚Äôs servers,
resulting in disrupted message delivery across Signal‚Äôs service for days.</p>
<p>This service disruption was possible because, unlike XMPP and Matrix,
Signal is centralized, and all messages flow through a single set of
servers, the same model as WhatsApp.</p>
<p>XMPP and Matrix are both federated networks. Rather than a single entity
controlling the network, there are many servers to choose from, run by
many different independent providers. Even with a server down,
overloaded or closed to new users, the rest of the network continues
functioning.</p>
<p>So why did Signal receive millions of users, and XMPP/Matrix did not?</p>
<h2 id="signal">Signal</h2>
<p>At this point it‚Äôs impossible not to reference <a href="https://signal.org/blog/the-ecosystem-is-moving/">The Ecosystem is Moving</a>,
a 2016 blog post by Signal‚Äôs founder and CEO, Moxie Marlinspike. In this
post Moxie details all the problems he sees with protocols becoming
open internet standards. In particular, that they lose their ability to
evolve, and that evolution is vital to compete in our industry‚Äôs ‚Äúmoving
ecosystem‚Äù.</p>
<blockquote>
    <p>We got to HTTP version 1.1 in 1997, and have been stuck there
       until now. Likewise, SMTP, IRC, DNS, XMPP, are all similarly
       frozen in time circa the late 1990s.</p>
    <p><a href="https://signal.org/blog/the-ecosystem-is-moving/">
         <strong>Signal blog post √¢‚Ç¨≈ìThe ecosystem is moving√¢‚Ç¨≈ì, May 2016</strong>
       </a>
    </p>
</blockquote>
<p>Well. Far from being frozen in time, XMPP has changed significantly in the past
20 years.</p>
<figure>
    <img src="https://snikket.org/blog/products-vs-protocols/xmpp_2004_2021.png"> 
</figure>

<p>Just some of the things we have now that we didn‚Äôt have in the beginning:</p>
<ul>
<li>End-to-end encryption using OMEMO (based on Signal√¢‚Ç¨‚Ñ¢s protocol and
audited), with multi-device and offline capabilities</li>
<li>Audio/video calling (now 2nd generation, encrypted, WebRTC-compatible)</li>
<li>Mobile optimizations (bandwidth, connectivity, push notifications)</li>
<li>Full cross-device message synchronization</li>
</ul>
<p>Many of these things didn‚Äôt even exist as concepts back when XMPP began.
Adding them was only possible due to XMPP‚Äôs smart design: a core
protocol, with a <a href="https://xmpp.org/extensions/">suite of extensions</a> (known as XEPs). New
extensions are added as needed, and irrelevant ones get deprecated.</p>
<p>To help keep everyone on the same page as the protocol evolves, the XMPP
Standards Foundation (XSF) annually publishes the recommended XEPs that
different classes of software (e.g. instant messaging,
<a href="https://xmpp.org/uses/social.html">social networking</a>, or <a href="https://xmpp.org/uses/internet-of-things.html">smart devices</a>) should be
implementing. These round-ups are known as <a href="https://xmpp.org/about/compliance-suites.html">compliance suites</a>.</p>
<p>The documentation site <a href="https://docs.modernxmpp.org/">Modern XMPP</a> also serves as a useful reference
guide for modern XMPP implementations (including UI/UX considerations,
which are not covered by the protocol-level documentation).</p>
<h2 id="the-unfortunate-truth">The unfortunate truth</h2>
<p>The effort required in advancing the protocol <em>is</em> significant. And that‚Äôs
not even counting the implementation work. XMPP has a diverse and open
ecosystem. There is no single ‚ÄúXMPP client‚Äù, instead the ecosystem is
composed of‚Ä¶ just about anyone who decides to write XMPP software. The
vast majority of this software is free/open-source, and developed by
volunteers and communities.</p>
<p>Publishing protocol updates does not magically mean the changes are
implemented in all XMPP software overnight. Some projects are more active
than others, and each contributor is an individual with their own life
and work schedule. Unfortunately this means that it‚Äôs very difficult to
evolve the protocol and keep everyone 100% in sync. Luckily XMPP‚Äôs
modular design makes it easy for some software to advance ahead of others
without having to lose backwards compatibility with the rest of the
network. If we didn‚Äôt have this feature, we would always be in a state where
half of the network is unable to communicate with the other half of the
network, or more likely we would be stuck with the initial set of
features because nobody would want to be the first ones to become
incompatible with everyone else.</p>
<p>But Moxie is right. We could move <strong>much</strong> faster if we didn‚Äôt care about
interoperability, software diversity, and decentralization.</p>
<p>And that is the approach Signal is taking.</p>
<h2 id="product-or-protocol">Product or protocol?</h2>
<p>It‚Äôs clear that there are trade-offs to be made here. Signal‚Äôs
product-led development excludes others from participating in the Signal
network. But it allows them to remain agile, and implement new features
as fast as they can write and ship code.</p>
<p>I put together some of the trade-offs into the following table:</p>
<table>
<thead>
<tr>
<th>Building an ecosystem</th>
<th>Building a product</th>
</tr>
</thead>
<tbody>
<tr>
<td>Focus on protocol</td>
<td>Focus on implementation</td>
</tr>
<tr>
<td>Mostly documentation</td>
<td>Mostly code</td>
</tr>
<tr>
<td>Cross-project collaboration</td>
<td>Single project/team</td>
</tr>
<tr>
<td>Building for developers</td>
<td>Building for end-users</td>
</tr>
<tr>
<td>Slow evolution</td>
<td>Evolves as fast as you want</td>
</tr>
<tr>
<td>Achieve diversity</td>
<td>Achieve a monoculture</td>
</tr>
<tr>
<td>Robust</td>
<td>Single point of failure</td>
</tr>
</tbody>
</table>
<p>I think that Signal‚Äôs approach is laudable for the number of people that
they have helped divert from data-mining platforms, and helping to remind
people that surveillance capitalism isn‚Äôt the only way to do things.</p>
<p>They‚Äôve built a good user-friendly product, and they have done it with
security and privacy at its heart.</p>
<p>But we have to aspire to more than this. Signal is a centralized, closed
system. That means to communicate with your contacts who use Signal, you
must also consent to their terms, their software, their US jurisdiction.
You have to be okay with their servers being hosted with large cloud
providers such as Amazon and Google.</p>
<p>But one thing the past has shown us is that things change. Technologies
evolve, business leaders come and go, motives adjust. Signal today may
be as benign as WhatsApp before its acquisition by Facebook. But ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://snikket.org/blog/products-vs-protocols/">https://snikket.org/blog/products-vs-protocols/</a></em></p>]]>
            </description>
            <link>https://snikket.org/blog/products-vs-protocols/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26088305</guid>
            <pubDate>Wed, 10 Feb 2021 12:33:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Crackpot Cryptography and Security Theater]]>
            </title>
            <description>
<![CDATA[
Score 94 | Comments 27 (<a href="https://news.ycombinator.com/item?id=26088096">thread link</a>) | @p4bl0
<br/>
February 10, 2021 | https://soatok.blog/2021/02/09/crackpot-cryptography-and-security-theater/ | <a href="https://web.archive.org/web/*/https://soatok.blog/2021/02/09/crackpot-cryptography-and-security-theater/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		<div>

			
<p>A few years ago, when the IETF‚Äôs Crypto Forum Research Group was deeply entrenched in debates about elliptic curves for security (which eventually culminated in RFC 7748 and RFC 8032), an IT Consultant <a href="https://mailarchive.ietf.org/arch/msg/cfrg/VXLC6cj2KwecsWRhp0yJXLF9jEw/">showed up on the mailing list</a> with their homemade cipher, Crystalline.</p>



<p>Mike Hamburg <a href="https://mailarchive.ietf.org/arch/msg/cfrg/4c-nx0N9YGh6Qb3SBmM-B6ICaA8/">politely</a> informed the consultant that the CFRG isn‚Äôt the right forum for proposing new symmetric ciphers, or even new modes for symmetric ciphers, and invited them to email them off-list.</p>



<p>If you‚Äôre not familiar with the CFRG, let me just say, this was on the more patient and measured responses I‚Äôve ever read.</p>



<p>Naturally, the author of Crystalline responded with this:</p>



<blockquote><p>I‚Äôm somewhat disappointed in your reply, as I presumed that someone with a stated interest in ciphers would be eager to investigate anything new to pop up that didn‚Äôt have obvious holes in it. It almost sounds like you have had your soul crushed by bureaucracy over the years and have lost all passion for this field.</p><cite>Full quote available <a href="https://mailarchive.ietf.org/arch/msg/cfrg/4c-nx0N9YGh6Qb3SBmM-B6ICaA8/">here</a>. It doesn‚Äôt get much better.</cite></blockquote>



<div><figure><img data-attachment-id="1390" data-permalink="https://soatok.blog/soatoktelegrams2020-14/" data-orig-file="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-14.png" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="SoatokTelegrams2020-14" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-14.png?w=300" data-large-file="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-14.png?w=512" src="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-14.png?w=512" alt="" srcset="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-14.png 512w, https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-14.png?w=150 150w, https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-14.png?w=300 300w" sizes="(max-width: 512px) 100vw, 512px"><figcaption>Really dude? (Art by <a href="https://twitter.com/lynxvsjackalope">Khia</a>.)</figcaption></figure></div>



<p>The discussion continued until Tony Arcieri dropped <a href="https://mailarchive.ietf.org/arch/msg/cfrg/e-jEGddvSbManBMppC8XAc5i8GY/">one of the most brutal takedowns</a> of a cryptographic design in CFRG history.</p>



<blockquote><p>I think the biggest problem though is all of this has already been pointed out to you repeatedly in other forums and you completely refuse to acknowledge that your cipher fails to meet the absolute most minimum criteria for a secure cipher.</p><cite>Tony Arcieri, landing a cryptographic 360 no-scope on Crystalline.</cite></blockquote>



<p>In spite of this mic drop moment, the author of Crystalline continued to double down and insist that a symmetric cipher doesn‚Äôt need to be indistinguishable from randomness to be secure (which, to severely understate the affairs, is simply not true).</p>



<p>Normally, when a cipher fails at the indistinguishable test, it‚Äôs subtle. This is what Crystalline ciphertexts look like.</p>



<div><figure><img data-attachment-id="2691" data-permalink="https://soatok.blog/2021/02/09/crackpot-cryptography-and-security-theater/crystallinecipher/" data-orig-file="https://soatok.files.wordpress.com/2021/02/crystallinecipher.png" data-orig-size="1024,1024" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="CrystallineCipher" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2021/02/crystallinecipher.png?w=300" data-large-file="https://soatok.files.wordpress.com/2021/02/crystallinecipher.png?w=580" src="https://soatok.files.wordpress.com/2021/02/crystallinecipher.png?w=1024" alt="" srcset="https://soatok.files.wordpress.com/2021/02/crystallinecipher.png 1024w, https://soatok.files.wordpress.com/2021/02/crystallinecipher.png?w=150 150w, https://soatok.files.wordpress.com/2021/02/crystallinecipher.png?w=300 300w, https://soatok.files.wordpress.com/2021/02/crystallinecipher.png?w=768 768w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Data encrypted with Crystalline, provided in the CFRG mailing list.</figcaption></figure></div>



<p>Modern ciphers produce something that will look like white noise, like an old TV without the cable plugged in. There should be no discernible pattern.</p>



<p>Crystalline‚Äôs author remained convinced that Crystalline‚Äôs ‚Äú131072-bit keys‚Äù and claims of ‚Äúinformation-theoretic security‚Äù were compelling enough to warrant consideration by the standards body that keeps the Internet running.</p>



<p>This was in 2015. In the year 2021, I can safely say that Crystalline adoption never really took off.</p>



<h2>Against Crackpot Crypto</h2>



<p>Instances of Crackpot Cryptography don‚Äôt always look like Crystalline. Sometimes the authors are more charismatic, or have more financial resources to bedazzle would-be <s>suckers</s>^<sup>investors</sup>. Other times, they‚Äôre less brazen and keep their designs far away from the watchful gaze of expert opinions‚Äìlest their mistakes be exposed for all to see.</p>



<p>Crackpot cryptography is considered dangerous‚Äìnot because we want people to avoid encryption entirely, but because crackpot cryptography offers a false sense of security. This leads to users acting in ways they wouldn‚Äôt if they knew there was little-to-no security. Due to the strictly performative nature of these security measures, I also like to call them <strong>Security Theater</strong> (although that term is more broadly applicable in other contexts).</p>



<p>The Cryptology community has a few defense mechanisms in place to prevent the real-world adoption of crackpot cryptography. More specifically, we have pithy mottos that distill best practices in a way that usually gets the intent across. (Hey, it‚Äôs something!) Unfortunately, the rest of the security industry outside of cryptology often weaponizes these mottos to promote useless and harmful gatekeeping.</p>



<p>The best example of this is the, ‚ÄúDon‚Äôt roll your own crypto!‚Äù motto.</p>



<h3 id="roll-your-own">They See Me Rollin‚Äô [My Own Crypto]</h3>



<p>Crackpots never adhere to this rule, so anyone who violates it immediately or often, with wild abandon, can be safely dismissed for kooky behavior.</p>



<p>But if taken to its literal, logical extreme, this rule mandates that nobody would ever write cryptographic code and we wouldn‚Äôt <em>have</em> cryptography libraries to begin with. So, clearly, it‚Äôs a rule meant to be sometimes broken.</p>



<p>This is why some cryptography engineers <a href="https://www.cryptofails.com/post/75204435608/write-crypto-code-dont-publish-it">soften the message a bit</a> and encourage tinkering for the sake of education. The world needs more software engineers qualified to write cryptography.</p>



<p>After all, you wouldn‚Äôt expect to hear ‚ÄúDon‚Äôt roll your own crypto‚Äù being levied against Jason Donenfeld (WireGuard) or Frank Denis (libsodium), despite the fact that both of those people did just that.</p>



<p>But what about <a href="https://dholecrypto.com/">a high-level library that defers to libsodium for its actual crypto implementations</a>?</p>







<p>In a twist that surprises no one, lazy heuristics have a high false positive rate. In this case, the lazy heuristic is both, ‚ÄúWhat qualifies as rolling one‚Äôs own crypto?‚Äù as well as, ‚ÄúWhen is it safe to break this rule?‚Äù</p>



<p>More broadly, though, is that these knee-jerk responses are a misfiring defense mechanism intended to stop quacks from taking all the air out of the room.</p>



<p>It doesn‚Äôt always work, though. There have been a few downright absurd instances of crackpot cryptography in the past few years.</p>



<h2>Modern Examples of Crypto Crackpottery</h2>



<h3 id="craig-wright">Craig Wright‚Äôs Sartre Signature Scam</h3>



<p>Satoshi Nakamoto is the alias of the anonymous cryptographer that invented Bitcoin. In the years since Satoshi has gone quiet, a few cranks have come out of the woodwork to claim to be the real Satoshi.</p>



<p>Craig Wright is one of the more famous Satoshi impersonators due to his <a href="https://dankaminsky.com/2016/05/02/validating-satoshi-or-not/">Sartre Signature Scam</a>.</p>



<p>Satoshi‚Äôs earliest Bitcoin transactions are public. If you can lift the public key and signature from the transaction and then replay them in a different context as ‚Äúproof‚Äù that you‚Äôre Satoshi, you can produce a proof of identity that validates without having to possess Satoshi‚Äôs private key. Then you can just wildly claim it‚Äôs a signature that validates the text of some philosopher‚Äôs prose and a lot of people will believe you.</p>



<p>With a little bit of showmanship added on, you too can convince Gavin Anderson by employing this tactic. (Or maybe not; I imagine he‚Äôs learned his lesson by now.)</p>



<h3 id="time-ai">Time AI</h3>



<p>Crown Sterling‚Äôs sponsored talk at Black Hat USA 2019 is the most vivid example of crackpot cryptography in most people‚Äôs minds.</p>



<p>Even the name ‚ÄúTime AI‚Äù just screams buzzword soup, so it should come as no surprise that their talk covered a lot of nonsense: ‚Äúquasi-prime numbers‚Äù, ‚Äúinfinite wave conjugations‚Äù, ‚Äúnano-scale of time‚Äù, ‚Äúspeed of AI oscillations‚Äù, ‚Äúunified physics cosmology‚Äù, and ‚Äúmulti-dimensional encryption technology‚Äù.</p>



<p>Naturally, this pissed a lot of cryptographers off, and the normally even-keeled Dan Guido of Trail of Bits actually called them out on their bullshit during their presentation‚Äôs Q&amp;A section.</p>



<figure><div>
<div><blockquote data-width="550" data-dnt="true"><p lang="en" dir="ltr">I yelled at the Time AI guy. It‚Äôs ok to get angry at someone trying to harm people. I was shocked that more people haven‚Äôt done the same. <a href="https://t.co/Mwe7yrihgk">https://t.co/Mwe7yrihgk</a></p>‚Äî Dan Guido (@dguido) <a href="https://twitter.com/dguido/status/1159579063540805632?ref_src=twsrc%5Etfw">August 8, 2019</a></blockquote></div>
</div></figure>



<p>For most people, the story ended with a bunch of facepalms. But Crown Sterling doubled down and <a href="https://www.schneier.com/blog/archives/2019/09/crown_sterling_.html">published a press release claiming the ability to break 256-bit RSA keys</a>.</p>



<div><figure><img data-attachment-id="116" data-permalink="https://soatok.blog/soatok_stickerpack-facepaw/" data-orig-file="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-facepaw.png" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Facepaw!" data-image-description="<p>Facepaw!</p>
" data-medium-file="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-facepaw.png?w=300" data-large-file="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-facepaw.png?w=512" src="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-facepaw.png?w=512" alt="Facepaw" srcset="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-facepaw.png 512w, https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-facepaw.png?w=150 150w, https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-facepaw.png?w=300 300w" sizes="(max-width: 512px) 100vw, 512px"></figure></div>



<p>Amusingly, their attack took 50 seconds‚Äìwhich is a lot slower than the standard RSA factoring attacks for small key sizes.</p>



<p>(For those who are missing context: In order to be secure, RSA requires public key sizes in excess of 2048 bits. Breaking 256-bit RSA should take less than a minute on any modern PC.)</p>



<h3 id="terra-quantum">Terra Quantum</h3>



<p>Earlier this week, Bloomberg news ran a story titled, <em><a href="https://archive.md/sZ1Q5">A Swiss Company Says It Found Weakness That Imperils Encryption</a></em>. If you only read the first few paragraphs, it‚Äôs really clear that the story basically boils down to, ‚ÄúSwiss Company realizes there‚Äôs an entire discipline of computer science dedicated to quantum computers and the risks they pose to cryptography.‚Äù</p>



<p>Here‚Äôs a quick primer on quantum computers and cryptography:</p>



<p>If a practical quantum computer is ever built, it can immediately break all of the <em>asymmetric</em> cryptography used on the Internet today: RSA, DSA, Diffie-Hellman, Elliptic Curve Cryptography, etc. The attack costs to break these algorithms vary, but are generally in the <img src="https://s0.wp.com/latex.php?latex=2%5E%7B32%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{32}" title="2^{32}"> range (for numbers of queries).</p>



<p>The jury is still out on whether or not quantum computers will ever be practical. Just in case, a lot of cryptographers are working on <strong>post-quantum cryptography</strong> (algorithms that are secure even against quantum computers).</p>



<p>Symmetric cryptography fares a lot better: The attack costs are roughly reduced by a factor of <img src="https://s0.wp.com/latex.php?latex=%5Csqrt+N&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="\sqrt N" title="\sqrt N">. This makes a 128-bit secure cipher have only a 64-bit security level, which is pretty terrible, but a 256-bit secure cipher remains at the 128-bit security level even with practical quantum computers.</p>



<p>So it‚Äôs a little strange that they open with:</p>



<blockquote><p>The company said that its research found vulnerabilities that affect symmetric encryption ciphers, including the Advanced Encryption Standard, or AES, which is widely used to secure data transmitted over the internet and to encrypt files. Using a method known as quantum annealing, the company said its research found that even the strongest versions of AES encryption may be decipherable by quantum computers that could be available in a few years from now.</p><cite>From the Bloomberg article.</cite></blockquote>



<p>Uh, no.</p>



<p>Let‚Äôs do some math: <img src="https://s0.wp.com/latex.php?latex=2%5E%7B32%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{32}" title="2^{32}"> calculations can be performed in <em>seconds</em> on modern computers. If we assume that practical quantum computers are also as fast as classical computers, it‚Äôs safe to assume this will hold true as well.</p>



<p>You can break 128-bit ciphers in <img src="https://s0.wp.com/latex.php?latex=2%5E%7B64%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{64}" title="2^{64}"> time, using <a href="https://crypto.stackexchange.com/questions/63068/attacking-aes-128-with-grovers-algorithm">Grover‚Äôs algorithm</a>. You can‚Äôt break 256-bit ciphers <a href="https://pthree.org/2016/06/19/the-physics-of-brute-force/">in any practical time</a>, even with the quantum computer speed-up. Most software prefers 256-bit AES over 128-bit AES for this reason.</p>



<p>What does <img src="https://s0.wp.com/latex.php?latex=2%5E%7B64%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{64}" title="2^{64}"> time look like?</p>



<figure><p><span><iframe width="580" height="327" src="https://www.youtube.com/embed/vWXP3DvH8OQ?version=3&amp;rel=1&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;fs=1&amp;hl=en&amp;autohide=2&amp;wmode=transparent" allowfullscreen="true" sandbox="allow-scripts allow-same-origin allow-popups allow-presentation"></iframe></span>
</p></figure>



<p>In 2012, we could break DES (which has 56-bit keys) in 24 hours with FPGAs dedicated to the task. Since each extra bit of security ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://soatok.blog/2021/02/09/crackpot-cryptography-and-security-theater/">https://soatok.blog/2021/02/09/crackpot-cryptography-and-security-theater/</a></em></p>]]>
            </description>
            <link>https://soatok.blog/2021/02/09/crackpot-cryptography-and-security-theater/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26088096</guid>
            <pubDate>Wed, 10 Feb 2021 11:59:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Is Apple Banning Free Analytics SDKs?]]>
            </title>
            <description>
<![CDATA[
Score 102 | Comments 79 (<a href="https://news.ycombinator.com/item?id=26087935">thread link</a>) | @ch_sm
<br/>
February 10, 2021 | https://steamclock.com/blog/2021/02/apple-tracking-analytics-sdks/ | <a href="https://web.archive.org/web/*/https://steamclock.com/blog/2021/02/apple-tracking-analytics-sdks/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Page body">

        



<section id="archive">

    
    
    <div>

        <p><span><span></span></span> Allen Pike ‚Ä¢ February 8, 2021</p>

        

        <article>
            <p>Apple <a href="https://www.theverge.com/interface/2020/8/27/21402744/apple-idfa-facebook-fight-ads-advertising">announced last summer</a> that they will soon require users to opt in before apps can get the infamous ‚ÄúIDFA‚Äù tracking identifier for that user. While this was controversial in the ad tech sphere, most mobile apps can get by without this identifier.</p>

<p>However, most mobile app teams do collect analytics to help make product decisions. What features inspire free users to convert to paid users? Why do we think our trial is converting poorly? Do we still need to support iOS 12? A lot of apps use free SDKs to collect and analyze this kind of data.</p>

<p>The most popular analytics SDKs are free because they‚Äôre owned by companies that sell ads, or share data with those companies: Google Analytics, Flurry, and Google‚Äôs Firebase. Paid competitors like Mixpanel and Amplitude can be really powerful, but often cost thousands of dollars a year or more.</p>

<p>Now, I can‚Äôt find this said explicitly anywhere. But it <em>seems</em> like, along with the incoming restrictions on IDFA and ad attribution, Apple is also enacting a de-facto ban on these free analytics SDKs. The setup looks like this:</p>

<ol>
  <li>Since December, App Store Connect‚Äôs <a href="https://developer.apple.com/app-store/app-privacy-details/#user-tracking">App Privacy submission process</a> has required developers to indicate if they have ‚Äú3rd Party Tracking‚Äù. Developers are told to do this if they‚Äôre including an SDK from a company that hosts ads or shares data with advertisers across apps.</li>
  <li>In the coming weeks, iOS 14.5 will <a href="https://developer.apple.com/app-store/user-privacy-and-data-use/">require apps that engage in ‚Äú3rd Party Tracking‚Äù to ask explicit permission</a>, which most users will opt out of.</li>
  <li>App Review will soon start rejecting apps that are not following the opt in provisions. They‚Äôll likely do this by comparing the app‚Äôs App Privacy metadata to the use of the new opt-in APIs, as well as scanning apps for the presence of certain SDKs.</li>
  <li>Therefore, it seems, <strong>iOS apps currently using the Google Analytics, Flurry, and Firebase SDKs may need to migrate off of them promptly</strong> and instead use an analytics tool not owned by a company that displays ads. Popular choices include Mixpanel, Amplitude, or a self-managed analytics tool.</li>
</ol>

<p>These new rules could be a big hurdle for some developers, especially if they currently rely on other SDKs that do 3rd party tracking or attribution, such as Facebook‚Äôs.</p>

<h2 id="do-we-really-have-to">Do we really have to?</h2>

<p>The challenging thing for developers evaluating all this is that many of the points above have not been said so explicitly by Apple. Apple has instead outlined a series of rules, each rule being worded somewhat differently between the App Privacy documentation and the App Tracking Transparency documentation. A generous reading makes it seem like you maybe <em>could</em> comply with the rules and still use some of these SDKs. Maybe.</p>

<p>Apple did not ‚Äì and from a legal perspective likely can‚Äôt ‚Äì explicitly ban the Google Analytics, Flurry, Facebook, and Firebase SDKs. Their wording leaves some wiggle room. It seems like it <em>could</em> be possible to use them. It seems even more possible that Facebook and Google could make them usable. However, this puts developers in the situation of evaluating the changing documentation, complex privacy policies, and large settings panels that these tools offer, trying to judge whether a given setup of a given SDK would now pass muster from Apple‚Äôs perspective.</p>

<p>For example, in App Store Connect ‚Äì where developers indicate if they have Third Party Tracking ‚Äì Apple asks if your app is:</p>

<blockquote>
  <p>Sharing data with entities who display third-party ads.</p>
</blockquote>

<p>It seems maybe impossible for a Google-owned analytics SDK to not trigger this provision. In contrast, the AppTrackingTransparency documentation asks whether you are:</p>

<blockquote>
  <p>Placing a third-party SDK in your app that combines user data from your app with user data from other developers‚Äô apps to target advertising or measure advertising efficiency.</p>
</blockquote>

<p>Does it matter if the SDK combines user data <em>in general</em>, or is it sufficient if you‚Äôve been assured that your app‚Äôs user data <em>in particular</em> won‚Äôt be combined by the SDK? The logical complexities and differences in wording raise questions that, unfortunately, developers need to make assumptions about until we hear something from Apple, or we hear through the grapevine how App Review actually enforces these rules. In particular we need to make three guesses:</p>

<ol>
  <li>Will you be allowed to indicate your app has 3rd Party Tracking, not implement the opt-in dialog, but still get App Review to approve you as long as you believe you‚Äôre not required to do opt-in based on your evaluation of the SDK, its settings, and the exact wording in the AppTrackingTransparency documentation? <strong>Our guess is no. It seems likely that Apple will expect that all 3rd Party Tracking requires the opt-in dialog.</strong></li>
  <li>Will you be allowed to include an SDK that App Review considers a ‚Äú3rd Party Tracking SDK‚Äù, but not indicate 3rd Party Tracking in your App Privacy data as long as you believe you‚Äôre not required to based on your evaluation of the SDK, its settings, and the exact wording of the App Privacy documentation? <strong>Our guess is no. It seems like Apple will probably consider any use of the Facebook and Google SDKs to be 3rd Party Tracking.</strong></li>
  <li>Is it safe to continue using ‚Äì or migrate to ‚Äì 3rd party product analytics tools like MixPanel and Amplitude that are not owned by advertising companies? <strong>Our guess is yes. These rules seem squarely aimed at companies involved in advertising.</strong></li>
</ol>

<p>If one of the above assumptions is wrong ‚Äì for example, maybe these SDKs <em>can</em> be configured to behave sufficiently privately, and App Review can be convinced that this has been done for your app ‚Äì then that would be really  useful to know. If anybody has more information on what Apple will or won‚Äôt be allowing, or even conflicting hunches, <a href="https://twitter.com/apike">let me know</a>.</p>

<h2 id="does-our-sdk-require-app-tracking-transparency-uh-well">Does our SDK require App Tracking Transparency? Uh‚Ä¶ well‚Ä¶</h2>

<p><a href="https://firebase.google.com/docs/ios/app-store-data-collection#firebase_user_agent">Firebase</a>, <a href="https://support.google.com/analytics/answer/10285841">Google Analytics</a>, and <a href="https://developers.facebook.com/blog/post/2021/01/19/facebook-login-updates-new-limited-data-mode/">Facebook</a> have been releasing updates and documentation to help developers navigate Apple‚Äôs questions, but conspiciously they don‚Äôt directly answer them. Instead they answer different, related questions that are maybe helpful but are certainly not decisive.</p>

<p>Contrast that to paid analytics tools that don‚Äôt share data with ad companies. MixPanel, for example, <a href="https://community.mixpanel.com/announcements-6/idfa-changes-on-ios-14-4442">posted clearly 6 months ago</a> that they believe they‚Äôre compliant with Apple‚Äôs rules:</p>

<blockquote>
  <p>You need to specify what data is used to track someone across external apps and websites, which in our case is none. We only allow customers to track data they own; data sent to Mixpanel is not used by any other external companies.</p>
</blockquote>

<p>Interestingly, Flurry ‚Äì whose business model apparently <em>is</em> to share data with advertisers ‚Äì <a href="https://developer.yahoo.com/flurry/docs/analytics/gettingstarted/ios14/att/">has also claimed its SDK doesn‚Äôt trigger the App Tracking Transparency rules</a>. This seems dubious, but is interesting if so.</p>

<p>However, if the above rules and assumptions are correct, any apps that don‚Äôt both purge these SDKs and set their App Privacy to say they no longer have 3rd Party Tracking ‚Äì or only use the SDKs for the small percentage of users who opt in ‚Äì will soon face rejection. Meanwhile, even besides these restrictions, there are some substantial benefits to using premium analytics services like Mixpanel.</p>

<p>Our advice for now, then, is that <strong>all iOS apps should be prepared to migrate off of the Google Analytics, Firebase, Facebook, and Flurry SDKs, potentially on very short notice</strong>. If you were already on the fence, now is probably a good time to make the move. A <em>lot</em> of apps might be making changes in the coming weeks.</p>

<p>Hold on to your butts.</p>

<hr>

<p><em>Updates, February 11:</em></p>

<p>A number of developers have gotten in touch to share their guesses about how App Review will handle this in the coming weeks ‚Äì thanks folks! Some common themes:</p>

<ol>
  <li>Many developers assume Apple will only be using App Review to enforce opt-in for the IDFA identifier, and will not start rejecting apps for using SDKs that go against their <a href="https://developer.apple.com/app-store/user-privacy-and-data-use/">new rules prohibiting things like combining data and using fingerprinting</a>, as long as developers assert their SDKs are following the rules. This is plausible. If Apple goes this route though, developers are left with the ongoing risk of a surprise rejection, when App Review later cracks down on a specific SDK that‚Äôs played loose with the rules.</li>
  <li>Flurry <a href="https://www.flurry.com/blog/preparing-for-ios-14/">posted back in July 2020 that it intends to comply with Apple‚Äôs requirements</a> so as not to require opt-in. In particular, they‚Äôve explicitly said ‚ÄúFlurry will respect Apple‚Äôs policy requirement to not combine data across apps and websites owned by other companies.‚Äù It‚Äôs not clear how Apple would verify this is true, and this is surprising given Flurry‚Äôs business model, but it seems like a clear statement that Flurry intends to comply.</li>
  <li>A couple folks has asked if embedding code from YouTube ‚Äì which certainly does ad targeting with its data ‚Äì would violate Apple‚Äôs privacy rules. By the letter of the policy, this seems possible.</li>
</ol>

        </article>

        

        <div>

            <p><span><span><!--?xml version="1.0" encoding="UTF-8"?-->
<svg width="218px" height="50px" viewBox="0 0 218 50" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>Steamclock Software</title>
    <desc>Steamclock is a web and mobile software studio based in downtown Vancouver. We make great apps for iOS, Android, and the web.</desc>
    <defs>
        <path d="M71.213593,20.9625922 C72.4992306,20.9625922 73.3869621,20.6244828 73.3869621,19.610331 C73.3869621,18.5652975 72.1930679,18.2273646 70.6626055,17.7662581 C68.2445873,17.0593341 65.3365682,16.1681793 65.3365682,12.4800336 C65.3365682,9.37599138 67.8466812,7.47050826 71.2441741,7.47050826 C73.3869621,7.47050826 75.2847496,7.71650228 77.121199,8.82276952 L75.8968994,11.9883985 C74.5806806,11.3737664 73.2644619,11.0663621 71.6728372,11.0663621 C70.5402809,11.0663621 69.6219684,11.404295 69.6219684,12.4186233 C69.6219684,13.4327752 70.7545246,13.7708846 72.4686495,14.2626962 C74.9785868,14.9696202 77.7335246,15.8914801 77.7335246,19.3643369 C77.7335246,22.8064886 75.3766687,24.435449 71.6420803,24.435449 C68.8567371,24.435449 66.7447061,23.9438139 65,22.8987805 L66.1631374,19.7024464 C67.8466812,20.5016622 69.6219684,20.9625922 71.213593,20.9625922 Z M84.7118567,24.7427474 C81.7122699,23.0523767 81.2836068,19.7025169 81.2836068,16.6290034 L81.2836068,11.1585481 L78.9265752,11.1585481 L78.9265752,7.83921695 L81.2836068,7.83921695 L81.2836068,3.22921131 L85.7526695,2.67616592 L85.7526695,7.83921695 L89.0890002,7.83921695 L88.6912698,11.1585481 L85.7526695,11.1585481 L85.7526695,16.7212953 C85.7526695,19.1800002 86.211738,20.9933679 87.7116192,22.652857 L84.7118567,24.7427474 Z M97.9658755,24.435449 C93.0377444,24.435449 90.2216444,22.3455586 90.2216444,16.0144771 C90.2216444,9.46810679 93.0989067,7.47050826 97.5066314,7.47050826 C101.853194,7.47050826 104.454874,9.13017382 104.454874,17.0593341 L94.8436127,18.0734859 C95.1190186,20.0405558 96.037507,20.8088901 97.9045375,20.8088901 C99.5880813,20.8088901 101.087963,20.4707806 102.649006,19.5487442 L103.995806,22.6529629 C102.2511,23.851522 100.322731,24.435449 97.9658755,24.435449 Z M100.108488,14.3855167 C100.04715,11.9883985 99.159594,11.0663621 97.5066314,11.0663621 C95.639425,11.0663621 94.6599502,12.234216 94.6599502,14.7852129 L94.6599502,15.2461429 L100.108488,14.3855167 Z M117.402941,24.4047968 C117.096954,23.6364625 116.821373,22.8065415 116.63771,22.0075021 C115.749979,23.5134655 114.372598,24.435502 111.954404,24.435502 C107.883423,24.435502 106.291623,22.4686086 106.291623,19.4259766 C106.291623,16.2603476 108.18941,14.5699769 115.994804,14.109047 C115.872479,11.7731625 114.709342,11.1892356 112.933879,11.1892356 C111.403416,11.1892356 109.872954,11.5889317 108.464816,12.2956793 L107.118192,9.00722975 C109.04656,7.90078604 111.219754,7.4705612 113.637948,7.4705612 C117.892591,7.4705612 120.463866,9.99067644 120.463866,13.8630529 L120.463866,17.8584265 C120.463866,19.7332044 120.494623,21.7000978 120.892354,23.5441707 L117.402941,24.4047968 Z M115.994804,17.059387 C112.138066,17.2744995 110.760685,17.9507183 110.760685,19.2722745 C110.760685,20.4708336 111.342078,20.9626452 113.08696,20.9626452 C114.617423,20.9626452 115.382829,20.1327241 115.994804,18.811168 L115.994804,17.059387 Z M142.747279,24.0666874 L142.747279,15.1231988 C142.747279,12.357266 142.226873,11.1278253 140.543329,11.1278253 C139.012867,11.1278253 138.339555,11.7731625 137.666067,13.0333084 L137.666067,24.0666874 L133.197004,24.0666874 L133.197004,13.52512 C133.197004,12.0805668 132.462354,11.1278253 130.99323,11.1278253 C129.462592,11.1278253 128.789279,11.7731625 128.115967,13.0333084 L128.115967,24.0666874 L123.646905,24.0666874 L123.646905,14.0474602 C123.646905,12.1726822 123.616148,10.2057889 123.218417,8.36171602 L126.70783,7.50126634 C127.013817,8.26960061 127.289398,9.09934516 127.473061,9.89838457 C128.330211,8.39259762 129.677011,7.4705612 132.095205,7.4705612 C134.819386,7.4705612 136.257929,8.5461233 136.961998,10.0213816 C137.819148,8.39259762 139.22711,7.4705612 141.645129,7.4705612 C146.787503,7.4705612 147.216342,11.1892356 147.216342,14.5085667 L147.216342,24.0666874 L142.747279,24.0666874 Z M157.531339,24.4354843 C152.05222,24.4354843 149.879027,21.7307853 149.879027,15.9529257 C149.879027,10.1750661 152.05222,7.47054355 157.531339,7.47054355 C159.306802,7.47054355 160.898426,7.74706625 162.275807,8.57698726 L160.837264,11.8654368 C159.857614,11.3736252 158.725057,11.1278076 157.531339,11.1278076 C154.837739,11.1278076 154.378671,12.9102937 154.378671,15.9529257 C154.378671,18.9955577 154.837739,20.7780438 157.531339,20.7780438 C158.725057,20.7780438 159.857614,20.5322262 160.837264,20.0405911 L162.275807,23.3290406 C160.898426,24.1589616 159.306802,24.4354843 157.531339,24.4354843 Z M171.886595,15.9529433 C171.886595,10.1750837 174.059964,7.4705612 179.539082,7.4705612 C185.018025,7.4705612 187.191395,10.1750837 187.191395,15.9529433 C187.191395,21.730803 185.018025,24.435502 179.539082,24.435502 C174.059964,24.435502 171.886595,21.730803 171.886595,15.9529433 Z M182.691751,15.9529433 C182.691751,12.9103114 182.232682,11.066415 179.539082,11.066415 C176.845307,11.066415 176.386239,12.9103114 176.386239,15.9529433 C176.386239,18.9955753 176.845307,20.8396481 179.539082,20.8396481 C182.232682,20.8396481 182.691751,18.9955753 182.691751,15.9529433 Z M196.757347,24.4354843 C191.278228,24.4354843 189.104859,21.7307853 189.104859,15.9529257 C189.104859,10.1750661 191.278228,7.47054355 196.757347,7.47054355 C198.532634,7.47054355 200.124259,7.74706625 201.50164,8.57698726 L200.063097,11.8654368 C199.083446,11.3736252 197.951065,11.1278076 196.757347,11.1278076 C194.063571,11.1278076 193.604503,12.9102937 193.604503,15.9529257 C193.604503,18.9955577 194.063571,20.7780438 196.757347,20.7780438 C197.951065,20.7780438 199.083446,20.5322262 200.063097,20.0405911 L201.50164,23.3290406 C200.124259,24.1589616 198.532634,24.4354843 196.757347,24.4354843 Z M207.990656,15.8607573 L207.990656,24.0666168 L203.521769,24.0666168 L203.521769,2.55308068 L207.990656,2.00003529 L207.990656,14.9387209 L212.3678,7.83930518 L217.357269,8.33111676 L212.337219,15.2768304 L218,23.3905744 L213.163788,24.4354314 L207.990656,15.8607573 Z M70.5211238,46.3708984 C72.1677593,46.3708984 73.1605915,45.933262 73.1605915,44.4258868 C73.1605915,43.0399205 72.3131076,42.7969264 70.4000296,42.2375282 C68.2932711,41.6541307 66.3318608,40.9974995 66.3318608,38.2015675 C66.3318608,35.8430954 68.1721768,34.7975325 70.4242836,34.7975325 C71.8044766,34.7975325 73.0880052,34.9921749 74.2261856,35.6242772 L73.6207144,37.0344194 C72.7730548,36.5724306 71.7076364,36.3536124 70.569456,36.3536124 C69.140755,36.3536124 68.0753366,36.6454876 68.0753366,38.2988004 C68.0753366,39.6604144 69.3103572,40.0736985 70.8842308,40.5113349 C72.7973088,41.0462042 74.9040672,41.5810736 74.9040672,44.2312445 C74.9040672,46.9057678 73.2574317,47.9269782 70.617964,47.9269782 C68.8259803,47.9269782 67.251931,47.6352794 65.9685781,46.8328872 L66.5497953,45.3983926 C67.6877999,46.0548473 69.0681687,46.3708984 70.5211238,46.3708984 Z M77.4462201,41.3622907 C77.4462201,36.888517 78.9960154,34.7975678 82.8947577,34.7975678 C86.7935,34.7975678 88.3432953,36.888517 88.3432953,41.3622907 C88.3432953,45.8360643 86.7935,47.9270135 82.8947577,47.9270135 C78.9960154,47.9270135 77.4462201,45.8360643 77.4462201,41.3622907 Z M86.5270575,41.3622907 C86.5270575,38.2257787 85.9943483,36.3292953 82.8947577,36.3292953 C79.7951671,36.3292953 79.2624579,38.2257787 79.2624579,41.3622907 C79.2624579,44.4988027 79.7951671,46.395286 82.8947577,46.395286 C85.9943483,46.395286 86.5270575,44.4988027 86.5270575,41.3622907 Z M92.4110246,47.6351912 L92.4110246,36.8642176 L90.2801879,36.8642176 L90.2801879,35.3324901 L92.3626924,35.3324901 C92.2658521,34.7489161 92.1930901,34.1409897 92.1930901,33.581768 C92.1930901,31.4664664 93.0407498,29.8860342 95.7529795,29.8860342 C96.2612589,29.8860342 96.7698898,29.9590913 97.2300128,30.0806766 L96.9394921,31.612404 C96.6004633,31.5151711 96.2371806,31.4664664 95.9224059,31.4664664 C94.2755946,31.4664664 93.9124877,32.1716258 93.9124877,33.7033532 C93.9124877,34.1896944 93.9608199,34.8217967 94.1061682,35.3324901 L97.0120783,35.3324901 L96.8424761,36.8642176 L94.2030084,36.8642176 L94.2030084,47.6351912 L92.4110246,47.6351912 Z M100.668527,41.629743 L100.668527,36.6211 L98.5375141,36.6211 L98.5375141,35.0893725 L100.668527,35.0893725 L100.668527,31.2720535 L102.460335,31.0288829 L102.460335,35.0893725 L105.245326,35.0893725 L105.075724,36.6211 L102.460335,36.6211 L102.460335,42.1404365 C102.460335,44.2799139 102.484589,45.4955903 104.034384,46.9787895 L102.823617,48 C100.813699,46.3952155 100.668527,44.3771468 100.668527,41.629743 Z M115.415361,37.326224 L112.436865,47.6352089 L110.330107,47.6352089 L106.552459,35.2838031 L108.417204,34.9433996 L111.492541,45.8846632 L114.471037,35.2109225 L116.311353,34.9921043 L119.217264,45.8846632 L122.19576,34.9433996 L123.987568,35.2350984 L120.33119,47.6352089 L118.224256,47.6352089 L115.415361,37.326224 Z M134.472571,45.9089273 C133.722103,47.2218366 132.462829,47.9269959 130.404402,47.9269959 C127.547,47.9269959 126.166631,46.9543136 126.166631,44.2312622 C126.166631,41.7755571 128.079709,40.5842331 134.254637,40.3167102 L134.254637,40.0250114 C134.254637,37.2532552 132.85019,36.4023347 131.106714,36.4023347 C129.895947,36.4023347 128.709259,36.6696812 127.619586,37.2045505 L127.038369,35.7457036 C128.273566,35.089249 129.629505,34.7975502 131.106714,34.7975502 C133.770435,34.7975502 136.04662,36.1346353 136.04662,39.8305455 L136.04662,43.0884664 C136.04662,44.596018 136.143461,46.1033931 136.482665,47.4406548 L134.981202,47.7810583 C134.763268,47.1733083 134.593841,46.5410296 134.472571,45.9089273 Z M134.254637,41.7999095 C130.065374,41.9945518 127.934361,42.6023017 127.934361,44.2312622 C127.934361,45.7386373 128.442992,46.4437966 130.743431,46.4437966 C132.559493,46.4437966 133.455485,45.4954667 134.254637,43.8908587 L134.254637,41.7999095 Z M139.872232,47.6351912 L139.872232,39.6359738 C139.872232,38.1285987 139.775391,36.6210471 139.436538,35.2837854 L140.93765,34.9433819 C141.179838,35.5998366 141.373695,36.3535241 141.519043,37.1073882 C142.1971,35.7214219 143.335105,34.9433819 145.272437,34.7974443 L145.514625,36.7426323 C143.528961,36.7669847 142.366527,37.6179052 141.664215,39.4171556 L141.664215,47.6351912 L139.872232,47.6351912 Z M152.948458,47.9269606 C149.655187,47.9269606 147.499921,46.5653466 147.499921,41.3622377 C147.499921,35.9159583 149.994216,34.7975149 152.706445,34.7975149 C155.854368,34.7975149 157.670606,36.3050665 157.670606,41.654113 L157.670606,41.8727548 L149.340412,42.5535617 C149.412999,45.4956079 150.720605,46.3952331 152.948458,46.3952331 C154.231811,46.3952331 155.345737,46.1033578 156.483918,45.4227273 L157.137721,46.8085172 C155.878447,47.6352618 154.449745,47.9269606 152.948458,47.9269606 Z M155.902876,40.5113172 C155.854368,37.3504529 154.667856,36.3292424 152.706445,36.3292424 C150.599511,36.3292424 149.291904,37.4963905 149.291904,40.8760731 L149.291904,41.1434195 L155.902876,40.5113172 Z M168.917923,16.5496465 C168.917923,19.0083515 169.376991,20.8215427 170.876873,22.4812083 L167.877286,24.5710987 C164.974715,22.935609 164.479441,19.7461571 164.450442,16.7569944 L164.44886,16.7569944 L164.44886,2.52251672 L168.917923,2 L168.917923,16.5496465 Z M48.8146433,22.4922864 C49.8699564,22.6590279 50,23.5436841 50,24.2058402 L50,25.7941598 C50,26.4563159 49.8699564,27.3409721 48.8146433,27.5077136 C48.1621092,27.6096112 47.4315489,27.7116869 46.6885187,27.8157222 C45.79674,27.9402438 45.0868442,28.6111289 44.8894629,29.4899064 C44.7702859,30.0205933 44.6304445,30.54362 44.4706511,31.0579177 C44.2036163,31.9178121 44.4820522,32.8530608 45.191948,33.4069062 C45.7830231,33.8681175 46.3641222,34.3214904 46.8778837,34.735672 C47.7085597,35.4078041 47.3788189,36.2388394 47.047653,36.8122804 L46.253496,38.1877196 C45.9223301,38.7613388 45.367596,39.46233 44.370179,39.0789671 C43.7527389,38.8404341 43.0672486,38.563066 42.3703572,38.2808881 C41.5361183,37.9431298 40.5869778,38.1688364 39.9763071,38.8299237 C39.6093346,39.2270036 39.2268638,39.6094758 38.8297853,39.9764495 C38.1687005,40.5871224 37.9431727,41.5362663 38.2807518,42.37033 C38.5629287,43.067402 38.8402957,43.7528948 39.079006,44.3703371 C39.4623675,45.3675795 38.7612007,45.9224937 38.1877616,46.2536608 L36.8121493,47.0478206 C36.2387103,47.3789877 35.4076779,47.7087297 34.7355482,46.8780507 C34.3213681,46.3642874 33.8679968,45.7831862 33.4067872,45.192109 C32.8531219,44.4822107 31.9176984,44.2037738 31.0578071,44.4708096 C30.5436893,44.6306035 30.0206645,44.7704454 29.4898014,44.8896228 C28.6112051,45.0870049 27.9403224,45.7969032 27.8156231,46.6886851 C27.7117663,47.4317179 27.6095128,48.1622808 27.5076156,48.8148172 C27.3408747,49.870134 26.4563998,50 25.794246,50 L24.205754,50 C23.5436002,50 22.6589472,49.870134 22.4923844,48.8148172 C22.3904872,48.1622808 22.2882337,47.4317179 22.1841988,46.6886851 C22.0596776,45.7969032 21.3887949,45.0870049 20.5100205,44.8896228 C19.9793355,44.7704454 19.4563107,44.6306035 18.9420148,44.4708096 C18.0823016,44.2037738 17.1468781,44.4822107 16.5930346,45.192109 C16.1318251,45.7831862 15.6784537,46.3642874 15.2642736,46.8780507 C14.5923221,47.7087297 13.7612897,47.3789877 13.1876726,47.0478206 L11.8122384,46.2536608 C11.2387993,45.9224937 10.5376325,45.3675795 10.920994,44.3703371 C11.1595261,43.7528948 11.4368932,43.067402 11.7190701,42.3705081 C12.0568273,41.5362663 11.8311214,40.5871224 11.1702147,39.9764495 C10.772958,39.6094758 10.3904872,39.2270036 10.0235147,38.8299237 C9.41284404,38.1688364 8.46370357,37.9431298 7.62964283,38.2808881 C6.93257326,38.563066 6.24708293,38.8404341 5.62964283,39.0789671 C4.63240403,39.46233 4.07749176,38.7613388 3.74632582,38.1877196 L2.95216888,36.8122804 C2.62118108,36.2388394 2.29144028,35.4078041 3.12211633,34.735672 C3.63587779,34.3214904 4.21697693,33.8681175 4.80787388,33.4069062 C5.51776966,32.8530608 5.79620558,31.9178121 5.52917075,31.0579177 C5.36937739,30.54362 5.22953594,30.0205933 5.11035896,29.4899064 C4.91297764,28.6111289 4.20308186,27.940422 3.31130311,27.8157222 C2.56845106,27.7116869 1.8378908,27.6096112 1.18517859,27.5077136 C0.129865503,27.3409721 0,26.4563159 0,25.7941598 L0,24.2058402 C0,23.5436841 0.129865503,22.6590279 1.18517859,22.4922864 C1.8378908,22.3903888 2.56845106,22.288135 3.31130311,22.1842778 C4.20308186,22.059578 4.91297764,21.3888711 5.11035896,20.5100936 C5.22953594,19.9794067 5.36937739,19.45638 5.52917075,18.9420823 C5.79620558,18.0821879 5.51776966,17.1469392 4.80787388,16.5930938 C4.21697693,16.1318825 3.63587779,15.6785096 3.12211633,15.264328 C2.29144028,14.5921959 2.62118108,13.7611606 2.95216888,13.1877196 L3.74632582,11.8121023 C4.07749176,11.2386612 4.63240403,10.53767 5.62964283,10.9210329 C6.24708293,11.1595659 6.93257326,11.436934 7.62964283,11.7191119 C8.46370357,12.0568702 9.41284404,11.8311636 10.0235147,11.1702545 C10.3904872,10.7729964 10.772958,10.3905242 11.1702147,10.0235505 C11.8311214,9.41287757 12.0568273,8.46373373 11.7190701,7.62967001 C11.4368932,6.93259796 11.1595261,6.24710518 10.920994,5.62966288 C10.5376325,4.63242053 11.2387993,4.07750629 11.8122384,3.74633917 L13.1876726,2.9521794 C13.7612897,2.62101228 14.5923221,2.2912703 15.2642736,3.12194931 C15.6784537,3.63571261 16.1318251,4.21681381 16.5930346,4.80789101 C17.1468781,5.51778932 18.0823016,5.79622623 18.9420148,5.52919045 C19.4563107,5.36939652 19.9793355,5.22955457 20.5100205,5.11037716 C21.3887949,4.91299515 22.0596776,4.20309683 22.1841988,3.31131491 C22.2882337,2.56828206 22.3904872,1.8377192 22.4923844,1.18518281 C22.6589472,0.129865965 23.5436002,0 24.205754,0 L25.794246,0 C26.4563998,0 27.3408747,0.129865965 27.5076156,1.18518281 C27.6095128,1.8377192 27.7117663,2.56828206 27.8156231,3.31131491 C27.9403224,4.20309683 28.6112051,4.91299515 29.4898014,5.11037716 C30.0206645,5.22955457 30.5435112,5.36939652 31.0578071,5.52919045 C31.9176984,5.79622623 32.8531219,5.51778932 33.4067872,4.80789101 C33.8679968,4.21681381 34.3213681,3.63571261 34.7355482,3.12194931 C35.4076779,2.2912703 36.2387103,2.62101228 36.8121493,2.9521794 L38.1877616,3.74633917 C38.7612007,4.07750629 39.4623675,4.63242053 39.079006,5.62966288 C38.8402957,6.24710518 38.5629287,6.93259796 38.2807518,7.62967001 C37.9429946,8.46373373 38.1687005,9.41287757 38.8297853,10.0235505 C39.2268638,10.3905242 39.6093346,10.7729964 39.9763071,11.1700763 C40.5869778,11.8311636 41.5361183,12.0568702 42.3703572,11.7191119 C43.0672486,11.436934 43.7527389,11.1595659 44.370179,10.9210329 C45.367596,10.53767 45.9223301,11.2386612 46.253496,11.8121023 L47.047653,13.1877196 C47.3788189,13.7611606 47.7085597,14.5921959 46.8778837,15.264328 C46.3641222,15.6785096 45.7830231,16.1318825 45.191948,16.5930938 C44.4820522,17.1469392 44.2036163,18.0821879 44.4706511,18.9420823 C44.6304445,19.45638 44.7702859,19.9792286 44.8894629,20.5100936 C45.0868442,21.3888711 45.79674,22.059578 46.6885187,22.1842778 C47.4315489,22.288135 48.1621092,22.3903888 48.8146433,22.4922864 Z M41,25 C41,16.1633605 33.8365022,9 25.0000885,9 C16.1633209,9 9,16.1633605 9,25 C9,33.8366395 16.1633209,41 25.0000885,41 C33.8365022,41 41,33.8366395 41,25 Z M33.4929285,21.4251409 L34.1463574,22.930446 C34.2241211,23.1098356 34.1570343,23.3191532 33.9894063,23.4196256 L26.4616279,28.0326286 L26.4529084,28.0379729 L26.4449007,28.0440297 C26.2973809,28.1571503 26.1375827,28.252991 25.9683532,28.3294142 L25.9598116,28.3331552 L25.955007,28.3361836 L25.9510921,28.3376088 L25.9411269,28.3420623 C25.829019,28.3914078 25.7147758,28.4371905 25.5959058,28.4674747 C24.7120329,28.6924688 23.8326087,28.4462758 23.2188625,27.8364936 L15.5003227,18.1663781 C15.3764701,18.011394 15.3889266,17.7880032 15.5289725,17.6478049 L16.672473,16.5032386 C16.745966,16.4296657 16.84366,16.3892274 16.9475823,16.3892274 C17.0378024,16.3892274 17.1258872,16.4209367 17.1954653,16.4784768 L25.3885952,23.263929 C25.4636897,23.3262789 25.5649427,23.3469434 25.6583659,23.318975 L33.0251004,21.2072725 C33.0614021,21.1964058 33.0987714,21.1908834 33.1363186,21.1908834 C33.2911343,21.1908834 33.4311802,21.282805 33.4929285,21.4251409 Z" id="logo-post-February82021"></path>
    </defs>
    <g id="logo-logo-post-February82021" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <mask fill="white">
            <use xlink:href="#logo-post-February82021"></use>
        </mask>
        <use fill="#000000" xlink:href="#logo-post-February82021"></use>
    </g>
</svg></span></span></p><p>2.8.21.1495</p>

        </div>

        

        <!--?xml version="1.0" encoding="UTF-8"?-->
<svg width="830px" height="117px" viewBox="0 0 830 117" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>Accent</title>
    <g id="E26931-February82021" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <polygon fill="#E26931" fill-rule="nonzero" points="830 0 1.13861509e-13 117 0 1.42755282e-14"></polygon>
    </g>
</svg>
        <!--?xml version="1.0" encoding="UTF-8"?-->
<svg width="830px" height="117px" viewBox="0 0 830 117" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>Accent</title>
    <g id="E26931-flipped-February82021" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <polygon fill="#E26931" fill-rule="nonzero" points="0 0 830 0 830 117"></polygon>
    </g>
</svg>

    </div>

</section>



<section id="subscription">
    <div>
        <div>
            
            <p>Interested in future posts or announcements? <span>Subscribe to our feed.</span></p>
        </div>
        
    </div>
</section>

    </div><div>
        
        
        
            
                <section id="hello">
                    
                    <div id="">
                        <p>Contact us about your design and development needs today.</p>

                        <p><a href="https://steamclock.com/contact">Get in Touch <span></span></a>
                    </p></div>
                </section>
            
        
        

        

        <section id="links">
            
                
                
                
            
                
                
                
            
                
                
                
            
                
                
                
            
            
        </section>
        
        <p>¬© Steamclock Software Ltd. No developers were harmed in the making of this site.</p>
    </div></div>]]>
            </description>
            <link>https://steamclock.com/blog/2021/02/apple-tracking-analytics-sdks/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26087935</guid>
            <pubDate>Wed, 10 Feb 2021 11:34:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Timezone Bullshit]]>
            </title>
            <description>
<![CDATA[
Score 388 | Comments 311 (<a href="https://news.ycombinator.com/item?id=26087502">thread link</a>) | @organian
<br/>
February 10, 2021 | https://blog.wesleyac.com/posts/timezone-bullshit | <a href="https://web.archive.org/web/*/https://blog.wesleyac.com/posts/timezone-bullshit">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <p>People often use short timezone abbreviations like EST and PST to refer to timezones. If you're doing this in a computer program, you are almost certainly making a huge mistake. Let's take take a look, using the disastrously bad <a href="https://www.gnu.org/software/libc/manual/html_node/TZ-Variable.html">unix libc timezone tools</a>, which you're almost certainly using under the hood if you're writing software on Linux or OSX.</p>
<div><pre><code data-lang="">$ TZ=UTC date
Wed 10 Feb 2021 12:00:00 AM UTC
</code></pre></div>
<p>Alright, this looks good. Let's try to see what time it is in New York:</p>
<div><pre><code data-lang="">$ TZ=America/New_York date
Tue 09 Feb 2021 07:00:00 PM EST
</code></pre></div>
<p>Makes sense, New York is 5 hours behind UTC. It outputs the time as <code>EST</code>, so presumably we can use that as a <code>TZ</code> variable:</p>
<div><pre><code data-lang="">$ TZ=EST date
Tue 09 Feb 2021 07:00:00 PM EST
</code></pre></div>
<p>Which looks like it works! But that's actually an illusion ‚Äî say we tried doing this in July, instead of February:</p>
<div><pre><code data-lang="">$ TZ=America/New_York date
Fri 09 Jul 2021 08:00:00 PM EDT
</code></pre></div>
<p>Now we're in EDT, since it's daylight saving time. Makes sense, let's just plug that into <code>TZ</code> and see what happens:</p>
<div><pre><code data-lang="">$ TZ=EDT date
Sat 10 Jul 2021 12:00:00 AM EDT
</code></pre></div>
<p>And hang on, <code>America/New_York</code> means <code>EDT</code>, but <code>EDT</code> gives us the time in <code>UTC</code>! What's going on here?</p>

<p>Well, it turns out that <code>EDT</code> isn't a valid timezone, and <code>date</code> silently ignores the incorrect timezone variable:</p>
<div><pre><code data-lang="">$ TZ=LOL_THIS_DOESNT_EXIST date
Sat 10 Jul 2021 12:00:00 AM LOL
</code></pre></div>
<p><code>date</code> "helpfully" ignores that the timezone is invalid, and outputs the date in UTC, but <em>using the text of the invalid timezone</em>.  Which is horrifying, but wait, why isn't EDT a valid timezone? I'm not sure what the actual reason is, but one reason that it's not correct in the general case to use the short timezone codes is that they aren't actually unique:</p>
<div><pre><code data-lang="">$ TZ=America/Chicago date
Tue 09 Feb 2021 06:00:00 PM CST
$ TZ=Asia/Taipei date
Wed 10 Feb 2021 08:00:00 AM CST
</code></pre></div>
<p>There are actually two timezones that are canonically named "CST", and they're 14 hours apart! The format that <code>date</code> outputs things in causes there to be two distinct moments in time that correspond to any date outputted in the <code>Asia/Taipei</code> or <code>America/Chicago</code> timezones, and there's no way to tell which is which by looking at it ‚Äî what fun!</p>

<p>There is no good reason to use short timezone codes like EST, CST, PST ‚Äî doing so will only bring you pain. Either use the tzdb name like <code>America/New_York</code>, or use an offset from UTC, depending on what you want.</p>

          </div></div>]]>
            </description>
            <link>https://blog.wesleyac.com/posts/timezone-bullshit</link>
            <guid isPermaLink="false">hacker-news-small-sites-26087502</guid>
            <pubDate>Wed, 10 Feb 2021 10:25:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using ES Modules in Node.js: A Practical Guide (Part 1)]]>
            </title>
            <description>
<![CDATA[
Score 57 | Comments 46 (<a href="https://news.ycombinator.com/item?id=26087220">thread link</a>) | @shekhardesigner
<br/>
February 10, 2021 | https://gils-blog.tayar.org/posts/using-jsm-esm-in-nodejs-a-practical-guide-part-1/ | <a href="https://web.archive.org/web/*/https://gils-blog.tayar.org/posts/using-jsm-esm-in-nodejs-a-practical-guide-part-1/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<!-- markdownlint-disable MD029 -->
<!-- markdownlint-disable MD033 -->
<p><img src="https://gils-blog.tayar.org/img/jsm-logo.png" alt="ESM Logo"></p>
<p>(Hey, if you want to come work with me at Roundforest, and try out ESM on Node.js, feel free to
find me on <a href="https://www.linkedin.com/in/giltayar/">LinkedIn</a> or on Twitter (@giltayar))</p>
<p>ES Modules are the future of modules in JavaScript. They already are the rule in the frontend,
but till now they couldn‚Äôt have been used in Node.js. Well, it seems that now they can.
Moreover, the Node.js community is fast at work at adding support for Node.js ESM. This includes
tools like Mocha, Ava, and even Jest (although in Jest the support is incremental). Moreover,
ESlint and TypeScript work nicely with ESM, albeit with a few gotchas.</p>
<p>This guide shows you how to use ESM in Node.js, detailing the basics, and also the gotchas
that you need to be careful with. You can find all the code in the
<a href="https://github.com/giltayar/jsm-in-nodejs-guide">companion code repository</a>. It‚Äôs a monorepo
where each package displays a certain facet of Node.js ESM support. This post goes through
each of the packages, explaining what was done there, and what are the gotchas.</p>
<p>This guide turned out to be pretty long, so I broke it into three parts:</p>
<ol>
<li>The basics (this document)</li>
<li><a href="https://gils-blog.tayar.org/posts/using-jsm-esm-in-nodejs-a-practical-guide-part-2/">‚Äúexports‚Äù and its uses (including dual-mode libraries)</a></li>
<li><a href="https://gils-blog.tayar.org/posts/using-jsm-esm-in-nodejs-a-practical-guide-part-3/">Tooling and Typescript</a></li>
</ol>
<blockquote>
<p>Note: this guide covers <strong>Node.js ESM</strong> and does <em>not</em> cover Browser ESM.</p>
</blockquote>
<h2 id="what-do-i-mean-by-esm-in-node.js%3F-don%E2%80%99t-we-have-that-already%3F">What do I mean by ESM in Node.js? Don‚Äôt we have that already? <a href="#what-do-i-mean-by-esm-in-node.js%3F-don%E2%80%99t-we-have-that-already%3F">#</a></h2>
<p>ESM is the standard JavaScript module system (ESM is a shorcut for
JavaScript Modules, and is also called ESM, or EcmaScript modules,
whereby ‚ÄúEcmaScript‚Äù is the official name for the JavaScript language).
ESM is the ‚Äúnewer‚Äù module system, and is supposed to be a replacement for the
regular Node.js module system, which is CommonJS (CJS for short), altought CommonJS will probaby
stil be with us for a very very long time. The module syntax is this:</p>
<pre><code><br><span>export</span> <span>function</span> <span>add</span><span>(</span><span>a<span>,</span> b</span><span>)</span> <span>{</span><br>  <span>return</span> a <span>+</span> b<br><span>}</span><p><br><span>import</span> <span>{</span> add <span>}</span> <span>from</span> <span>"./add.js"</span></p></code></pre>
<p>(An intro to ESM is out of scope of this guide, but you can find it <em>everywhere</em> today on the
internet)</p>
<p>ESM was standardized in 2015, but it took awhile for browsers to support this,
and it took even longer for Node.js to support it
(the final stable version in Node.js was finalized only in 2020!).
If you want more information, you can see my
<a href="https://www.youtube.com/watch?v=kK_3OP0uJ0Y">talk at Node.TLV</a>. In the talk, at the end,
I discuss whether ESM is ready for work, and I say that it‚Äôs not quite there yet,
and people should start migrating to it in a year or two. Well, that year is NOW, and it‚Äôs READY,
and this guide will prepare you for that.</p>
<p>Some of you may be nodding your head and asking themselves: aren‚Äôt we already using that? Well,
if you are, then you‚Äôre transpiling your code using Babel or TypeScript, which support ESM
out of the box and transpile it to CJS. The ESM this post is talking about is <em>native</em> ESM
that is supported by Node.js without transpiling. While syntactically it is the same, there
are small differences between it and Babel/TypeScript ESM, differences which are discussed
in my Node.TLV talk above. Most importantly, native ESM in Node.js does not need transpiling,
and so doesn‚Äôt come with the baggage of problems transpiling comes with.</p>
<h2 id="give-it-to-me-straight.-can-i-start-using-esm-in-node.js%3F">Give it to me straight. Can I start using ESM in Node.js? <a href="#give-it-to-me-straight.-can-i-start-using-esm-in-node.js%3F">#</a></h2>
<p>Yes. Mostly yes. All the tooling I use supports it, but there are two BIG gotchas that are probably
hard to swallow for some people, gotchas that are hard to workaround:</p>
<ul>
<li>Jest support for ESM in Node.js is <a href="https://jestjs.io/docs/en/ecmascript-modules">experimental</a></li>
<li>Jest experimental support does not support yet mocking modules
(regular function/object mocking is supported)</li>
<li><code>proxyquire</code> and other popular module mockers do not yet support ESM (although <code>testdouble</code>
fully support it)</li>
</ul>
<p>The biggest problem is the lack of support for module mockers. There <em>is</em> one mocking
library that does support ESM (<code>testdouble</code>[<a href="https://www.npmjs.com/package/testdouble">https://www.npmjs.com/package/testdouble</a>]),
and we use that in this guide.</p>
<p>So can you live with this? If you can, then going all in with ESM in Node.js is now totally
possible. I‚Äôve been using it for four months now, with zero problems. Actually, it feels
like VSCode support for ESM is much better than for CJS, so I suddenly get auto imports of modules,
and other goodies, which I didn‚Äôt get before in the CJS world.</p>
<h2 id="the-guide-to-node.js-esm">The guide to Node.js ESM <a href="#the-guide-to-node.js-esm">#</a></h2>
<ul>
<li>Part 1 (this document): the basics of ESM</li>
</ul>
<ol>
<li><a href="#section-01">The simplest Node.js ESM project</a></li>
<li><a href="#section-02">Using the <code>.js</code> extension for ESM</a></li>
</ol>
<ul>
<li>Part 2: ‚Äúexports‚Äù and its uses (including dual-mode libraries)</li>
</ul>
<ol start="3">
<li><a href="https://gils-blog.tayar.org/posts/using-jsm-esm-in-nodejs-a-practical-guide-part-2/#section-03">The <code>exports</code> field</a></li>
<li><a href="https://gils-blog.tayar.org/posts/using-jsm-esm-in-nodejs-a-practical-guide-part-2/#section-04">Multiple exports</a></li>
<li><a href="https://gils-blog.tayar.org/posts/using-jsm-esm-in-nodejs-a-practical-guide-part-2/#section-05">Dual-mode libraries</a></li>
</ol>
<ul>
<li>Part 3: Tooling and Typescript</li>
</ul>
<ol start="6">
<li><a href="https://gils-blog.tayar.org/posts/using-jsm-esm-in-nodejs-a-practical-guide-part-3/#section-06">Tooling</a></li>
<li><a href="https://gils-blog.tayar.org/posts/using-jsm-esm-in-nodejs-a-practical-guide-part-3/#section-07">TypeScript</a></li>
</ol>
<p>This guide comes with a monorepo that has 7 directories, each directory being a package
that demonstrates the above sections of the Node.js support for ESM. You can find the monorepo
<a href="https://github.com/giltayar/jsm-in-nodejs-guide">here</a>.</p>
<h2 id="the-simplest-node.js-esm-project"><a id="section-01"></a>The simplest Node.js ESM project <a href="#the-simplest-node.js-esm-project">#</a></h2>
<p>Companion code: <a href="https://github.com/giltayar/jsm-in-nodejs-guide/tree/main/01-simplest-mjs">https://github.com/giltayar/jsm-in-nodejs-guide/tree/main/01-simplest-mjs</a></p>
<p>This is the simplest package, and demonstrates the basics of the basics.
Let‚Äôs start by exploring <code>package.json</code>, and the new <code>exports</code> field.</p>
<h3 id="main-and-.mjs"><code>main</code> and <code>.mjs</code> <a href="#main-and-.mjs">#</a></h3>
<p>Code: <a href="https://github.com/giltayar/jsm-in-nodejs-guide/blob/main/01-simplest-mjs/package.json">https://github.com/giltayar/jsm-in-nodejs-guide/blob/main/01-simplest-mjs/package.json</a></p>
<pre><code><span>{</span><br>  <span>"name"</span><span>:</span> <span>"01-simplest-mjs"</span><span>,</span><br>  <span>"version"</span><span>:</span> <span>"1.0.0"</span><span>,</span><br>  <span>"description"</span><span>:</span> <span>""</span><span>,</span><br>  <span>"main"</span><span>:</span> <span>"src/main.mjs"</span><br><span>}</span></code></pre>
<p>The main entry point is <code>src/main.mjs</code>. Why does the file use the <code>.mjs</code> extension? Because in
Node.js ESM, the <code>.js</code> extension is reserved for CJS and <code>.mjs</code> means that this is a JS module
(in the next section, we‚Äôll see how to change that). We‚Äôll talk a bit more about that in the next
part.</p>
<p>Let‚Äôs continue exploring <code>main.mjs</code>.</p>
<h3 id="importing-using-extensions">Importing using extensions <a href="#importing-using-extensions">#</a></h3>
<p>Code: <a href="https://github.com/giltayar/jsm-in-nodejs-guide/blob/main/01-simplest-mjs/src/main.mjs">https://github.com/giltayar/jsm-in-nodejs-guide/blob/main/01-simplest-mjs/src/main.mjs</a></p>
<pre><code><br><span>import</span> <span>{</span>bannerInColor<span>}</span> <span>from</span> <span>"./banner-in-color.mjs"</span><p><span>export</span> <span>function</span> <span>banner</span><span>(</span><span>)</span> <span>{</span><br>  <span>return</span> <span>bannerInColor</span><span>(</span><span>"white"</span><span>)</span><br><span>}</span></p></code></pre>
<p>Look at the import statement that imports <code>banner-in-color</code>:
Node.js ESM <em>forces</em> you to specify the full relative path to the file, <em>including the extension</em>.
The reason they did this is to be compatible with Browser ESM (when using ESM in browsers,
you always specify the full name of the file, including the extension). So
don‚Äôt forget that extension! (You can understand more about this in my
<a href="https://www.youtube.com/watch?v=kK_3OP0uJ0Y">talk at Node.TLV</a>)</p>
<p>Unfortunately, VSCode doesn‚Äôt like the <code>.mjs</code> extension and so Ctrl/Cmd+Clicking it won‚Äôt work,
and its built in intellisense doesn‚Äôt work on it.</p>
<blockquote>
<p><strong>Gotcha</strong>: VSCode doesn‚Äôt like the <code>.mjs</code> extension and ignores files with that extension. In
the next section we‚Äôll see how to deal with that, so it‚Äôs not a <em>real</em> gotcha.</p>
</blockquote>
<p>This <code>main.mjs</code> exports the <code>banner</code> function, which will be tested in <code>test/tryout.mjs</code>. But
first, let‚Äôs explore <code>banner-in-color.mjs</code>, which contains most of the implementation of
the <code>banner()</code> function.</p>
<h3 id="importing-esm-and-cjs-paclages">Importing ESM and CJS paclages <a href="#importing-esm-and-cjs-paclages">#</a></h3>
<p>Code: <a href="https://github.com/giltayar/jsm-in-nodejs-guide/blob/main/01-simplest-mjs/src/banner-in-color.mjs">https://github.com/giltayar/jsm-in-nodejs-guide/blob/main/01-simplest-mjs/src/banner-in-color.mjs</a></p>
<p>We‚Äôve seen how we can import ESM modules. Let‚Äôs see how to import other packages:</p>
<pre><code><br><span>import</span> <span>{</span>join<span>}</span> <span>from</span> <span>"path"</span><br><span>import</span> chalk <span>from</span> <span>"chalk"</span><br><span>const</span> <span>{</span>underline<span>}</span> <span>=</span> chalk</code></pre>
<p>We can import Node.js internal packages like <code>path</code> easily, because Node.js
exposes them as ES modules.</p>
<p>And if we had a ESM package in NPM, the same could have been used to import the ESM package.
But most of the pacakges NPM has are still CJS packages. As you can see in the second line, where
we import <code>chalk</code>, CJS packages can also be imported using <code>import</code>. But for the most part,
when importing CJS modules, you can only use ‚Äúdefault‚Äù importing, and not ‚Äúnamed‚Äù imports. So
while you can import named imports in a CJS file:</p>
<pre><code><br><span>const</span> <span>{</span>underline<span>}</span> <span>=</span> <span>require</span><span>(</span><span>"chalk"</span><span>)</span></code></pre>
<p>You <em>cannot</em> do this in a ESM file:</p>
<pre><code><br><span>import</span> <span>{</span>underline<span>}</span> <span>from</span> <span>'chalk'</span></code></pre>
<p>You can only import the default (non-named) import, and use destructuring later:</p>
<pre><code><span>import</span> chalk <span>from</span> <span>"chalk"</span><br><span>const</span> <span>{</span>underline<span>}</span> <span>=</span> chalk</code></pre>
<p>Why is this? It‚Äôs complicated, but the gist of it is that when loading modules,
ESM does not allow <em>executing</em> a module to determine what the exports are,
and so the exports need to be determined statically.
Unfortunately, in CJS, executing a module is the only reliable way of determining
what the exports are. Node.js actually tries very hard to figure out what the named exports are
(by parsing the module using a very fast parser),
but my experience is this method doesn‚Äôt work for most packages that I‚Äôve tried this with,
and I need to fall back to default importing.</p>
<blockquote>
<p><strong>Gotcha</strong>: importing a CJS module is easy, but you mostly can‚Äôt use named imports and need
to add a second line to destructure out the named imports.</p>
</blockquote>
<p>I believe that in 2021, more and more packages will have ESM entry points that export
themselves as ESM with the proper named exports. But for now, you may need the additional
destructuring to use named imports from CJS pacakges.</p>
<h3 id="top-level-await">Top-level await <a href="#top-level-await">#</a></h3>
<p>Code: <a href="https://github.com/giltayar/jsm-in-nodejs-guide/blob/main/01-simplest-mjs/src/banner-in-color.mjs">https://github.com/giltayar/jsm-in-nodejs-guide/blob/main/01-simplest-mjs/src/banner-in-color.mjs</a></p>
<p>Continuning our exploration of <code>banner-in-color.mjs</code> we find this extraordinary line
that reads a file from the disk:</p>
<pre><code><br><span>const</span> text <span>=</span> <span>await</span> fs<span>.</span><span>readFile</span><span>(</span><span>join</span><span>(</span>__dirname<span>,</span> <span>"text.txt"</span><span>)</span><span>,</span> <span>"utf8"</span><span>)</span></code></pre>
<p>Why so extraordinary? Because of that <code>await</code>. This is an <code>await</code> that is outside an <code>async</code>
function, and is at the top level of the code. This kind of <code>await</code> is called ‚Äútop-level await‚Äù
and is supported since Node.js v14. It is extraordinary because it is the only feature in Node.js
that is available <em>only</em> in ESM modules (i.e. not available in CJS). Why is that? Because
ESM is an async module system, and so supports async operations when loading the module,
while CJS is loaded synchronously and so cannot support <code>await</code>.</p>
<p>Great feature, and only in ESM! üéâüéâüéâüéâ</p>
<p>But notice the use of <code>__dirname</code> in the line above. Let‚Äôs discuss that.</p>
<h3 id="__dirname"><code>__dirname</code> <a href="#__dirname">#</a></h3>
<p>Code: <a href="https://github.com/giltayar/jsm-in-nodejs-guide/blob/main/01-simplest-mjs/src/banner-in-color.mjs">https://github.com/giltayar/jsm-in-nodejs-guide/blob/main/01-simplest-mjs/src/banner-in-color.mjs</a></p>
<p>If you try to use <code>__dirname</code> in ESM, you will find that it is not available
(just like <code>__filename</code>). But if you need it, you can quickly determine it using these lines:</p>
<pre><code><br><span>import</span> url <span>from</span> <span>"url"</span><p><span>const</span> __dirname <span>=</span> url<span>.</span><span>fileURLToPath</span><span>(</span><span>new</span> <span>URL</span><span>(</span><span>"."</span><span>,</span> <span>import</span><span>.</span>meta<span>.</span>url<span>)</span><span>)</span></p></code></pre>
<p>Complex? Yes. So let‚Äôs deconstruct this code to understand it.</p>
<p>First off, the expression <code>import.meta.url</code> is part of the ESM spec, and its purpose
is the same as the CJS <code>__filename</code>, except ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://gils-blog.tayar.org/posts/using-jsm-esm-in-nodejs-a-practical-guide-part-1/">https://gils-blog.tayar.org/posts/using-jsm-esm-in-nodejs-a-practical-guide-part-1/</a></em></p>]]>
            </description>
            <link>https://gils-blog.tayar.org/posts/using-jsm-esm-in-nodejs-a-practical-guide-part-1/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26087220</guid>
            <pubDate>Wed, 10 Feb 2021 09:40:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Get Startup Ideas]]>
            </title>
            <description>
<![CDATA[
Score 77 | Comments 34 (<a href="https://news.ycombinator.com/item?id=26085118">thread link</a>) | @davidkolodny
<br/>
February 9, 2021 | https://www.wilburlabs.com/blueprints/how-to-get-startup-ideas | <a href="https://web.archive.org/web/*/https://www.wilburlabs.com/blueprints/how-to-get-startup-ideas">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>Startups and technology can√¢‚Ç¨‚Ñ¢t solve <em>all</em> the world√¢‚Ç¨‚Ñ¢s problems, but they can solve a good amount of them. Now more than ever, we need people to build the next generation of companies that will tackle some of the world√¢‚Ç¨‚Ñ¢s biggest problems. There are a lot of unknowns right now, but at Wilbur Labs, we believe this is the best time to start a company √¢‚Ç¨‚Äú ever. </p><p>Wilbur Labs is a startup studio turning bold ideas into market-leading companies. Since 2016 we have built and invested in 15 technology companies, including <a href="https://www.vacationrenter.com/">VacationRenter</a>, <a href="https://www.vitabox.com/">Vitabox</a>, <a href="https://www.joblist.com/">Joblist</a>, <a href="https://www.barkbus.com/">Barkbus</a>, and more.</p><p>We plan to launch several companies every year, which requires building a solid pipeline of ambitious ideas. Over the years, we have used three primary approaches to get startup ideas: build for the future, solve existing problems better, or solve personal problems.</p></div><h2>1. Build for the Future</h2><div><div><p>The future is not static. It is built by people who have a vision for what the future should look like, and those who have the willingness to work hard and take the risks necessary to get there. A great way to get startup ideas is to sit down and think about what the future should look like. Ask yourself the following questions: </p><p><em>How are behaviors changing? Which changes will stick? </em><br><em>What long-term problems have been created as a result of the COVID-19 pandemic? </em><br><em>What priorities and values have changed?</em><br><em>What are the biggest problems today?</em><br><em>What will be the biggest problems tomorrow?</em><br><em>What new problems can technology solve today?</em><br><em>How can new technology change the way existing problems are solved?</em></p></div><p>2020 is a year that consumer behaviors are changing and evolving at a faster rate than ever before. Emerging trends that would have taken 5 to 10 years to mature are instead maturing overnight. There is a large opportunity to think about changing trends and build companies ahead of the curve. eCommerce, Employment, Insurance, and Mobile On-Demand are just a few industries where we are boosting investments as a result of new long-term trends.</p><p>When thinking about the future, it√¢‚Ç¨‚Ñ¢s important to think and plan for the long-term. The best ideas can be built into big, sustainable businesses that can solve problems and create value over the long-term. Avoid short-termism, also known as ideas which may seem solid in the short-term but have a short expiration date.</p><p>Barkbus is a great example of a business that is building for the future. Back in 2017, the world was rapidly transitioning to direct-to-your-door services. Despite that, the way most people got their dogs groomed hadn√¢‚Ç¨‚Ñ¢t changed. Pet parents still went to the salon, which was a time consuming and stressful experience for both dogs and their parents. Barkbus launched to <a href="https://www.wilburlabs.com/announcements/why-we-acquired-barkbus">make mobile grooming the new norm</a> for pet parents and their dogs. </p></div><h2>2. Solve Existing Problems Better</h2><div><p>We believe the best companies solve real problems. These problems may be completely new problems, or they may be existing problems that have not been solved well by existing companies to date.</p><p>Do not discount existing problems when generating startup ideas. Some of the largest, most impactful companies throughout history were built by solving existing problems better than others. Google did not invent the search engine, search ads, web based email, or maps. Apple did not invent the smartphone, the tablet, or the smart watch. Facebook did not invent social networking. The list goes on and on. What these companies did is provide a better experience than the existing companies. At Wilbur Labs, we refer to this as √¢‚Ç¨≈ìcreating a 10x experience.√¢‚Ç¨ÔøΩ </p><p>Next time you have an idea and someone says, √¢‚Ç¨≈ìdoesn√¢‚Ç¨‚Ñ¢t X do that?√¢‚Ç¨ÔøΩ √¢‚Ç¨‚Äù instead of throwing away your idea, first decide if there√¢‚Ç¨‚Ñ¢s an opportunity to 10x the experience. Competitors are a good sign as it means there is a real problem people care about. Challenging the status quo is a great way to solve big problems and build a large business. </p><p>When we built Joblist, we did so because despite multiple large job boards, the job search process hasn√¢‚Ç¨‚Ñ¢t changed in 20 years √¢‚Ç¨‚Äù when job listings first moved online. We saw an opportunity to 10x the job search experience by introducing more personalization and collaboration tools to a traditionally generic and lonely process. Job seekers have embraced this new approach, which allowed Joblist to help millions of job seekers by powering over 500,000 new applications <a href="https://www.joblist.com/news/why-we-launched-joblist">before their public launch</a>.</p></div><h2>3. Solve Personal Problems</h2><div><div><p>Many of the best startup ideas are personal problems that you have faced. What are the biggest problems that you wish were solved? How many others face the same problem? If you experience a problem, then you are uniquely positioned to solve it.</p><p>More often than not, entrepreneurship is not a way to get rich quickly. You will likely need to work harder and longer, with higher stress and more at stake than working a regular job. The journey is absolutely worth it for the right person, but it√¢‚Ç¨‚Ñ¢s important that you care enough about what you are working on enough to dedicate 5 to 10 years of your life. This will be easier if you care deeply about the problem you are solving.</p></div>
<p>A great example of this is why we launched VacationRenter. At Wilbur Labs, we had quarterly company offsites where we book a vacation rental to work for a few days in a different city. Every time we searched for a rental, it took hours of planning and work. We found ourselves scrolling through pages of search results and jumping from site to site, trying to find the ideal place for the best price. This was a frustrating experience and we knew we could make the search for a vacation rental better for others like us √¢‚Ç¨‚Äù which is why <a href="https://www.vacationrenter.com/news/why-we-launched-vacationrenter">we launched VacationRenter</a>. If you experience a problem, it is likely that others are experiencing it too. </p>
<p>VacationRenter became the fastest growing travel startup ever, generating over $1 billion gross bookings in 2020. This milestone confirms that we weren√¢‚Ç¨‚Ñ¢t the only travelers who had a frustrating experience finding the perfect rental.</p></div><h2>Next Steps</h2><div><p>At Wilbur Labs, the best startup ideas check a few key boxes:</p><ul><li><strong>Solves a problem.</strong> Could your idea solve a big problem, and have a large positive impact on a significant number of people?</li><li><strong>Builds a sustainable business. </strong>Can the idea be turned into a sustainable business that creates value over the long-term?</li><li><strong>Uniquely positioned.</strong> Are you uniquely positioned to solve the problem and you want to dedicate 5 to 10 years of your life?</li></ul></div><figure><img alt="best-startup-ideas-venn-diagram" src="https://storage.googleapis.com/wl-blog/images/ideas-venn-diagram.png"></figure><div><p>No matter how good an idea is, we believe that ideas alone are worthless unless you take initiative to execute. Execution is everything. Everyone has big ideas √¢‚Ç¨‚Äù no startup ideas are truly unique. Being able to execute on those ideas is what will turn that idea into a business.</p><p>For any idea, the most important next step is thorough research where you pair your initial idea with independent and external information. To read more about how to evaluate and research a startup idea, and how to take the next step, follow our blueprint on <a href="https://www.wilburlabs.com/blueprints/how-to-turn-an-idea-into-a-business">How to Turn An Idea Into A Business</a>.</p><p>Make sure to follow Wilbur Labs on <a href="https://www.linkedin.com/company/wilbur-labs/">LinkedIn</a>, <a href="https://twitter.com/wilburlabs">Twitter</a>, <a href="https://www.facebook.com/wilburlabs/">Facebook</a>, or <a href="http://instagram.com/wilburlabs">Instagram</a>, as we continue to release more blueprints in the future.</p><p>Want to work with us or have an idea? We are always looking for talented people to work with and exciting projects to partner on. Feel free to check out our <a href="https://www.wilburlabs.com/careers">available openings</a> or <a href="https://www.wilburlabs.com/contact">contact us</a>.</p></div></div><div><p>Wilbur Labs is a San Francisco-based startup studio. We turn bold ideas into market-leading companies.</p><p><a href="https://www.wilburlabs.com/about">Learn More √¢‚Ä†‚Äô</a></p></div></div>]]>
            </description>
            <link>https://www.wilburlabs.com/blueprints/how-to-get-startup-ideas</link>
            <guid isPermaLink="false">hacker-news-small-sites-26085118</guid>
            <pubDate>Wed, 10 Feb 2021 02:25:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Turtle visual cortex is non-retinotopic]]>
            </title>
            <description>
<![CDATA[
Score 128 | Comments 32 (<a href="https://news.ycombinator.com/item?id=26084739">thread link</a>) | @awinter-py
<br/>
February 9, 2021 | https://blog.jordan.matelsky.com/365papers/141/ | <a href="https://web.archive.org/web/*/https://blog.jordan.matelsky.com/365papers/141/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                            <div>
                                <div>
                                    <p>Most of the visual cortex studies I‚Äôve read have been about mammalian vision. But mammals are not the only organisms with cortex, or at least tissue resembling cortex. This paper explores <em>turtle</em> visual cortex, in an area known as dCx. This dorsal region plays the role of the turtle primary vision center ‚Äî as close as you can find to the homolog of human V1.</p>

<p>But unlike V1, Fournier &amp; M√ºller et al confirm the existing knowledge that while dCx receives direct inputs from LGN, its layout is <em>not</em> retinotopic. They expand upon this understanding by recording from both individual cells (with electrophysiological recording) and populations of cells. They show that, aside from some slight preferences of caudal dCx for rostral LGN inputs (and vice versa), dCx doesn‚Äôt have any clear layout pattern.</p>

<p>This is interesting because the simple, three-layer cortex of a reptile is a much simpler substrate for understanding vision than the complex, deep cortex of mammals. What, if not ‚Äúpixel-level‚Äù information, is dCx responding to?</p>

<p>While the turtles watched movies, the researchers watched the turtles. In particular, they noticed that certain cells of dCx responded to <em>scene-level</em> stimuli: When there was a cut, or the film started or stopped, there was a burst of activity. When the same stimulus was played repeatedly, these responses died away.</p>

<p>This style of scene-level parsing in mammals is reserved for ‚Äúlater‚Äù, down-stream brain areas. Does this mean that turtles are using dCx as both early signal processing as well as higher-level object recognition and interpretation? If so, does this mean that mammalian brains, with discrete areas for low-level and high-level vision, evolved from an earlier system where all of these tasks were colocated?</p>

                                </div>
                            </div>
                        </div></div>]]>
            </description>
            <link>https://blog.jordan.matelsky.com/365papers/141/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26084739</guid>
            <pubDate>Wed, 10 Feb 2021 01:15:15 GMT</pubDate>
        </item>
    </channel>
</rss>
