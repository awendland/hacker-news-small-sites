<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 50]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 50. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Fri, 12 Feb 2021 20:29:19 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-50.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Fri, 12 Feb 2021 20:29:19 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Teaching Students How to Cheat During the Pandemic]]>
            </title>
            <description>
<![CDATA[
Score 115 | Comments 28 (<a href="https://news.ycombinator.com/item?id=26096414">thread link</a>) | @reimbar
<br/>
February 10, 2021 | https://daveeargle.com/2020/09/11/kobayashi-maru-proctorio-version/ | <a href="https://web.archive.org/web/*/https://daveeargle.com/2020/09/11/kobayashi-maru-proctorio-version/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p>I use a variation of Conti and Caroland (2011)’s “memorize the first 100 digits of pi”
assignment as an in-class learning activity to teach my infosec students how to
cheat, as part of teaching threat modeling. This semester at the beginning was
all-remote for me, though, so I modified it for the zoom teaching session. Instead
of having all students write down the first 100 digits of pi and then submit
their papers to me, I instead told students the following:</p>

<blockquote>
  <p>Your assignment is to memorize the first 100 digits of pi having been intentionally given so little time to do so that your only chance of
completing the assignment is to cheat. I authorize you to cheat on this assignment and only this assignment, but if I catch you cheating,
you lose.</p>

  <p>It will go something like this (subject to change): at the start of the next class, I will randomly sort the class roster, and then I will
go down the list and call on people one at a time to recite to me the first 100 digits of pi. I may ask you to share your screen, and also
to pan your camera about the room (be prepared!), simulating what proctor-monitoring software would do. The grading is pass/fail.
If we run out of time before you are called on, you pass by default.</p>

  <p>Again, I expect you to cheat. How you choose to cheat is entirely up to you. Collaborative cheating is also encouraged, but everyone
involved will lose the game if caught. At the completion, I will give you opportunities to share-and-tell your cheating techniques with
the class.</p>

  <p>The objective of the exercise is to learn how an adversary thinks and operates by deliberately loosening traditional rules and tapping
personal creativity. It is an exercise in threat modeling.</p>

  <p>I am only permitting you to cheat on this single quiz. You may not cheat on any other assignments for this class.</p>
</blockquote>

<p>It was really fun. Nearly all pressure was off because I changed the language to
say that they would “lose” instead of “fail” if they got caught. In practice,
everyone who made a legitimate good-faith effort “passed.” If they made a legitimate
attempt. When we did it, I invited all other students
to help me try to catch the presenter cheating. They would submit suspicions via
zoom chat. I would interrupt the recitation if I suspected cheating, and sometimes
I asked them to do random challenges such as turn around and continue reciting the numbers,
or re-pan their camera to a certain position in the room. After I announced a pass or
lose, I asked each student to explain their technique, and we discussed. This
interstitial kept engagement high, I think.</p>

<p>Some students still passed. One had taped the numbers in three different places around
the room, anticipating that I might ask her to turn around. Another had taped
the numbers to the back of his laptop, <em>printed in reverse</em>, and had mirrors set
up in several places around the room. One student had an extra pair of earbuds on
under his over-the-ear phones, and had a button on his phone that would play a
recording of the numbers to him. Another student pre-recorded a video of himself
reciting the numbers, which obviously didn’t work well at all with interruptions,
but was still fun.</p>

<p>Pandemic be darned, still gonna have fun and teach things that will get me in trouble!</p>

<p>G. Conti and J. Caroland, “Embracing the Kobayashi Maru: Why You Should Teach Your Students to Cheat,” in IEEE Security &amp; Privacy, vol. 9, no. 4, pp. 48-51, July-Aug. 2011, doi: 10.1109/MSP.2011.80.</p>

      </div></div>]]>
            </description>
            <link>https://daveeargle.com/2020/09/11/kobayashi-maru-proctorio-version/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26096414</guid>
            <pubDate>Wed, 10 Feb 2021 23:47:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Wasn't Ruby 3 Faster?]]>
            </title>
            <description>
<![CDATA[
Score 156 | Comments 122 (<a href="https://news.ycombinator.com/item?id=26096340">thread link</a>) | @stanislavb
<br/>
February 10, 2021 | https://www.fastruby.io/blog/ruby/performance/why-wasnt-ruby-3-faster.html | <a href="https://web.archive.org/web/*/https://www.fastruby.io/blog/ruby/performance/why-wasnt-ruby-3-faster.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
      <p>I'm seeing a lot of disappointment about the speed of Ruby 3 out there. I think there are a lot of reasons for that, and I think they're worth looking at.</p>

<p>So: why wasn't Ruby 3 faster? Did it break its promise? (Spoiler: <a href="http://codefol.io/posts/is-ruby-3-actually-three-times-faster/">I don't think so</a>, but I understand why some people do.)</p>

<!--more-->

<h2>First: Faster Than What?</h2>

<p>I think some of the problem was misplaced expectations. People didn't understand what <a href="https://blog.heroku.com/ruby-3-by-3">"three times faster"</a> was supposed to mean. I don't think people thought it through, but I also don't think it was communicated very clearly.</p>

<p>So: some people understood what was promised, and some people didn't.</p>

<p>What was promised?</p>

<p>Matz, Ruby's creator and designer, has said many times "Ruby 3 will be three times faster compared to Ruby 2." When he was talking to Ruby implementors, that was clarified as "compared to Ruby 2.0.0 on the day it was released." But it would be easy for a random person to think that meant "compared to Ruby 2 right now." By the time Matz declared that goal there were already a few minor releases of Ruby 2 out there, which increased the speed. And by the time most people had heard about it, Ruby 2.4 was already released.</p>

<p>Ruby 2.4 is already a lot faster than Ruby 2.0. Most of the speed gain from Ruby 2.0 to 3.0 was already there by Ruby 2.4. Which means if you thought Ruby 3 was going to be three times faster than Ruby 2.4, you were pretty darn disappointed. Ruby 3 is maybe 15%-25% faster than Ruby 2.4? But clearly not even 1.5x the speed, except for certain very specific cases with JIT.</p>

<p>If you thought Ruby 3 was going to be three times faster than Ruby 2.4, you were probably very disappointed indeed.</p>

<h2>Aspirational Goals</h2>

<p>Early on, when he was first declaring Ruby 3, Matz described it as an aspirational goal. It was intentionally a stretch. I'm pretty happy with how it came out, but... There's a problem with loud, public stretch goals. They can annoy people who otherwise like you, and for good reason.</p>

<p>I feel like I can <a href="http://codefol.io/posts/is-ruby-3-actually-three-times-faster/">argue with a straight face</a> that Ruby succeeded in that goal, within limits and with footnotes.</p>

<p>But let's be clear: nobody thought that literally every program written with Ruby would be three times faster. In fact, that's completely impossible. Let's talk about why.</p>

<h2>Making Ruby Faster Can Only Make Ruby Faster</h2>

<p>Making <strong><em>anything</em></strong> "X times faster" or "Y percent faster" is at best an oversimplification. That's just not how software works. For an extreme case, think about a script that just sleeps for ten seconds. It's kind of the canonical example where you literally <strong><em>cannot</em></strong> make it faster. At least, not without breaking it.</p>

<p>When we say "make Ruby three times faster" we have to have a long list of caveats in mind, even if we don't say them. A script that queries the database can only get so much faster because it's waiting on the database. Ruby programs that use C extensions have to wait on the C extensions — speeding up Ruby won't, generally speaking, speed up those C extensions.</p>

<p>You can't turn Ruby into magic fairy dust where having your Java program call out to a short Ruby script speeds up your Java by 10%. Ruby can only speed up the part that's calculated in Ruby.</p>

<p>That's hard. </p>

<p>There's an old <a href="https://rubykaigi.org/2016/presentations/MattStudies.html">Matt Gaudet talk from RubyKaigi</a> where he talks about how we should measure 3x. We didn't wind up with that full array of benchmarks, but all his ideas are basically good for measuring. And if we had built all of them, we'd discover that they didn't all speed up by the same amount.</p>

<p>How could they? "Three times faster" is, by its nature, a bit of an abstraction and kind of inexact. What workload <strong><em>exactly</em></strong> is going to be three times faster?</p>

<h2>Incremental Changes, Disruptive Changes</h2>

<pre>    “How did you go bankrupt?” Bill asked. “Two ways,” Mike said. “Gradually and then suddenly.”
    - Ernest Hemingway, The Sun Also Rises
</pre>

<p>Here's a thing: a lot of speedups are incremental. They take some common operation and they make it a little bit faster. It's often a tradeoff: one or more uncommon operations gets a little bit slower. By figuring out new tradeoffs or by carefully measuring which operations are common, you can slightly fine-tune and get a better result.</p>

<p>Ruby has done a lot of this. The core Ruby VM has mostly worked the same way since Ruby 1.9, with a lot of great polish and fine-tuning.</p>

<p>Here's a different thing: many speedups are disruptive instead of incremental. Ruby 1.9 rewrote the VM completely, but took several versions to get stable enough to use. There's a reason almost nobody deployed their production app on Ruby 1.9.1. Ruby 1.9 also made threading work better — and Ruby on Rails took ages to get to where that really worked for most people. We needed new app servers to take advantage of it. And most existing Rails apps needed to find out where they were doing thread-incompatible things and fix that.</p>

<p>Disruptive changes tend to be bigger speedups. But they also require a lot more work.</p>

<p>If you don't change any of your code from Ruby 1.9.3, it will still run on Ruby 3. In fact, it will run significantly better than on Ruby 1.9.3. It's faster, it crashes less often, it will catch more of your bugs. Those incremental changes will give you a significant speedup — say to around double the speed of 1.9.3 on the same hardware. That's not bad.</p>

<p>But you can do better than that. We have <a href="https://github.com/socketry/async">much better evented libraries</a> in Ruby than existed in 1.9.3. We have <a href="https://github.com/puma/puma">faster application servers</a>, and <a href="https://github.com/Shopify/bootsnap">faster Rails boot time</a> and <a href="https://guides.rubyonrails.org/security.html">better Rails security</a>. All of these require some amount of changing your code or your process around your application. They are <strong><em>disruptive</em></strong> changes, either a little bit disruptive (upgrade to Rails 6 from Rails 3) or very disruptive (switch to Async from non-evented code.)</p>

<p>Ruby 3 has several interesting <strong><em>disruptive</em></strong> changes that will only help you if you use them. And using them may take some work.</p>

<h2>Ruby 3's Disruptive Changes</h2>

<p>One disruptive change is MJIT. You have to turn it on using the command line or an environment variable. It favours short methods and shallow call stacks. It works far better with plain Ruby code than with C extensions.</p>

<p>All of these are changes in the code or the configuration.</p>

<p>Over time I think you'll see more gems adapt to MJIT. There will be cases where the authors say, "if you want maximum performance, use the no-C-extensions version of the gem and turn on MJIT or use JRuby/TruffleRuby." JRuby and TruffleRuby already have JIT, you see, and so they have the same surprising property that Ruby code starts performing better <strong><em>without</em></strong> C extensions.</p>

<p>But we don't live in that world yet. Right now it's easier to skip using JIT and ignore it. And then you don't get the benefit of it, partly because you're waiting on other people.</p>

<p>And so MJIT is a change to speed up Ruby, but the benefits aren't here yet. They need time and work before they arrive. Ruby's MJIT was written incredibly quickly, and the stability was shockingly good. The flip side is that there are a lot of useful optimisations that got lost in the shuffle, and a lot of code that hasn't yet been rewritten to use it.</p>

<p><a href="https://www.fastruby.io/blog/ruby/performance/how-fast-are-ractors.html">Ractors</a> are the same. Eventually they'll make highly-parallel Ruby code run a lot faster. But you're going to need to learn them deeply, or wait for gem and framework authors to do it for you. Frankly they're also going to need more work in Ruby core before they're fast enough.</p>

<p><a href="https://bugs.ruby-lang.org/issues/13618">Autofibers</a>? Yup, same thing. I think those may be the most extreme case of needing big supporting changes, so we'll see if it happens. But they also have a <strong><em>lot</em></strong> of potential to improve Ruby concurrency, especially when combined with Ractors. They'll also require a significant rewrite of a lot of your concurrency code to work well.</p>

<p>I think we'll also see type-based optimisations in at least some of Ruby. Now that we're tracking places where, say, we know an integer will always be used, it becomes easier to do a few TruffleRuby-style optimisations to hardcode integer operations. But that's going to take even longer.</p>

<h2>Did It Basically Fail, Then?</h2>

<p>I think we'll see the public perception that it failed.</p>

<p>More specifically: I can argue, <a href="http://codefol.io/posts/is-ruby-3-actually-three-times-faster/">and I have argued</a>, that Ruby 3 succeeded at being three times faster than Ruby 2.0.</p>

<p>But people were thinking the promise meant "three times faster than Ruby 2.4" and that's a significantly higher bar, one that Ruby 3 <strong><em>does not</em></strong> clear. It was never actually promised, but it's clearly a common public perception.</p>

<p>Most people want to know "will it run my code three times faster?" They not only mean "three times faster than what I'm using now," they also mean with no code changes. And so for most people asking that question, the disruptive changes are probably not useful or relevant.</p>

<p>Ruby 2.0.0 was about eight years ago. With the older and newer disruptive changes, it's actually not hard for the Ruby app you run now to run three times faster than what you were running eight years ago. Puma is <strong><em>good</em></strong>. Bootsnap made bootup much faster. Ruby itself, of course, is significantly better. But a lot of these changes are going to be seen as "not really Ruby changes." Disruptive improvements are like that.</p>

<p>And the most recent disruptive changes are going to take years to bear fruit. Indeed, some of them never will — Autofibers and Ractors, for instance, both have a significant chance of failing, long-term. There may never be any significant type-aware optimisations (or there may be.) I think at least one of those features will do well, and I'm certain at least one of them will basically fail. I just don't know which is which.</p>

<h2>But Did It Fail?</h2>

<p>I don't think it failed. As an aspirational goal, it was a challenge, a bar to try to reach. And I think Ruby <strong><em>did</em></strong> reach that bar. Ruby 3.0 is a lot faster than Ruby 2.0, with both incremental tuning and interesting new disruptive changes. "Three times faster" is hard to define, but <a href="http://codefol.io/posts/is-ruby-3-actually-three-times-faster/">I think it's fair to say it did it</a>.</p>

<p>I think that on its own terms, it succeeded.</p>

<p>I also think that speed isn't a major factor slowing down Ruby adoption. Most people who use …</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.fastruby.io/blog/ruby/performance/why-wasnt-ruby-3-faster.html">https://www.fastruby.io/blog/ruby/performance/why-wasnt-ruby-3-faster.html</a></em></p>]]>
            </description>
            <link>https://www.fastruby.io/blog/ruby/performance/why-wasnt-ruby-3-faster.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26096340</guid>
            <pubDate>Wed, 10 Feb 2021 23:38:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Google is now telling users its apps are out of date. No updates are available]]>
            </title>
            <description>
<![CDATA[
Score 171 | Comments 76 (<a href="https://news.ycombinator.com/item?id=26096320">thread link</a>) | @spenvo
<br/>
February 10, 2021 | https://spencerdailey.com/2021/02/10/google-itself-is-now-telling-users-their-apps-are-out-of-date-despite-no-updates-being-available/ | <a href="https://web.archive.org/web/*/https://spencerdailey.com/2021/02/10/google-itself-is-now-telling-users-their-apps-are-out-of-date-despite-no-updates-being-available/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-728">
	<!-- .entry-header -->

	<div>
		
<p>[<a href="https://twitter.com/SpencerDailey/status/1359692177090236420">Update:</a> Users can’t reproduce this any longer, as they have pushed a server-side fix for this issue. It still counts as an embarrassing failure by Google. If you would like to see what the bug looked like, there’s a video at the bottom of the article.]</p>



<p>Amid Apple pushing mandatory privacy labels, Google is stalling on releasing updates for its iOS apps. Yet Google itself is now telling users that their own apps are out of date.</p>



<p><img loading="lazy" width="1242" height="2208" src="https://spencerdailey.com/wp-content/uploads/2021/02/IMG_4434.jpeg" alt="" srcset="https://spencerdailey.com/wp-content/uploads/2021/02/IMG_4434.jpeg 1242w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_4434-169x300.jpeg 169w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_4434-576x1024.jpeg 576w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_4434-768x1365.jpeg 768w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_4434-864x1536.jpeg 864w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_4434-1152x2048.jpeg 1152w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_4434-982x1746.jpeg 982w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_4434-225x400.jpeg 225w" sizes="(max-width: 1242px) 100vw, 1242px"><img loading="lazy" width="750" height="1334" src="https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6086.png" alt="" srcset="https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6086.png 750w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6086-169x300.png 169w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6086-576x1024.png 576w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6086-225x400.png 225w" sizes="(max-width: 750px) 100vw, 750px"> </p>



<p><em>I verified that this warning is showing up for multiple apps (Gmail, Google Photos, and Google Maps). Multiple iPhones on iOS 14.4, owned by separate account holders, were tested. </em></p>



<p>About an hour ago, I opened my Gmail app to find that some of my accounts had been logged out. When I tried logging back in, Google informed me that “This app is out of date.” <em>Indeed! </em></p>



<p>Google has not pushed updates to their flagship apps including Gmail and Google Maps since before a Dec. 8 deadline, imposed by Apple, that mandated all app updates include new privacy labels. The “nutrition labels” describe<strong> </strong>to users all the ways developers collect data about them, which has been awkward for companies like Facebook, whose business model relies on the company knowing as much about its users as possible. Tweets have <a href="https://twitter.com/tomwarren/status/1339174301564604418">gone viral</a> for simply scrolling through the long privacy label section for apps like Facebook. It must be noted that in the past 6 weeks, Facebook’s rivals (especially <a href="https://www.techmeme.com/210112/p32#a210112p32">Signal and Telegram</a>) have had success thanks to users’ privacy concerns, at an unprecedented scale.  Other companies hoping to avoid such shame have allegedly <a href="https://www.techmeme.com/210129/p6#a210129p6">misled users about their collection practices</a>.  </p>



<p>Alphabet/Google has taken a third approach, which is to indefinitely stall on pushing updates to its iOS apps. But the company itself tried to downplay this popular theory. On Jan. 5, it claimed it would add Apple’s privacy labels to its apps <a href="https://www.techmeme.com/210127/p22#a210127p22">“this week or the next week”</a>.  As Macrumors noted, some of its apps like YouTube <a href="https://www.macrumors.com/2021/02/10/gmail-ios-out-of-date-warning/">have quietly received updates,</a> but not Chrome, Maps, Photos, Drive, Calendar, or Gmail, which is <a href="https://twitter.com/Thomasbcn/status/1356645088697454596?ref_src=twsrc%5Etfw">unusual</a>. While Google stalls on pushing updates to its apps, it’s notable that its rivals like Apple Maps, are continuing to innovate <a href="https://www.google.com/search?q=google+maps+ios+update&amp;source=lnms&amp;tbm=nws&amp;sa=X&amp;ved=2ahUKEwis0eqlueDuAhUGna0KHTSVDJsQ_AUoAXoECBUQAw&amp;biw=1440&amp;bih=796&amp;dpr=2">with new features in their apps</a>. Google has also been facing rivals that, like Facebook’s rivals, have been having unprecedented levels of success over privacy issues, namely DuckDuckGo, <a href="https://www.techmeme.com/210117/p1#a210117p1">which surpassed 100M daily search queries for the first time on Jan. 11</a>. Privacy is “in” these days.</p>



<p>After saying “This app is out of date”, its warning goes on to say “You should update this app.” <em>We can’t.</em> “The version you’re using doesn’t include the latest security features to keep you protected. Only continue if you understand the risks.” <em>Let’s hope that’s not true! </em>If you visit the <a href="https://apps.apple.com/us/app/gmail-email-by-google/id422689480">Gmail app’s page</a> directly, you will see its last update was released on Dec. 1. </p>



<p>Presumably, the warning is triggered by an automatic check of how long it has been since the app was last updated. In this case, it’s been over 2 months. But only Google can resolve that situation. Here’s a video of Google’s warning being triggered:</p>



<figure><p>
<iframe title="Google itself is now telling users their apps are out of date, despite no updates being available" width="663" height="373" src="https://www.youtube.com/embed/2rt4ftLVVDQ?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</p></figure>



<p>Looking at the bigger picture: If Google really decided to intentionally delay updating its apps over adding privacy labels, it’s honestly hard to believe that such short-term thinking prevails in its leadership. They inevitably put themselves in a <a href="https://en.wikipedia.org/wiki/Streisand_effect">Streisand-effect</a> situation, where in the end they’d attract more attention to themselves. Whereas if they had published early, the media’s attention would have been split across all of Big Tech’s apps. While the alleged decision itself was always doomed to end poorly, this “app out of date” interstitial is just an epic self own. I guess the decision to delay apps was not handled well internally, because such choices are probably uncommon and the processes to carry them out aren’t as battle-tested or familiar. John Gruber <a href="https://daringfireball.net/linked/2021/02/10/dailey-google-ios-apps">posited</a> that perhaps Google is attempting to “wait Apple out — that public pressure from iPhone owners who use Google apps will result in Apple conceding to better terms for what Google needs to admit to in its nutrition labels. I don’t see that working.” I don’t either.</p>



<p>There is also a chance that Google is trying to do a cleanup of their back end — removing some data collection from ads systems — before publishing privacy labels.  I really like (and want to believe) this angle, however unlikely, because it would show that Apple’s privacy labels are having a powerful pro-consumer effect on major app developers. </p>



<p>On the matter of <em>if </em>Google is really delaying its apps over concerns about privacy labels: they really <a href="https://techcrunch.com/2021/01/05/google-to-add-app-store-privacy-labels-to-its-ios-apps-as-soon-as-this-week/">want us to believe that’s not the reason</a>, telling Techcrunch that the labels would start rolling out last month. Yet, that did not happen with the lion’s share of its apps. Take a minute to check out this stunning visualization, which illustrates the frequency of its apps’ updates before and after the December 8 privacy label deadline (h/t <a href="https://twitter.com/Thomasbcn/status/1356645088697454596/photo/1">@thomasbcn</a>):</p>



<p> <img loading="lazy" width="2250" height="968" src="https://spencerdailey.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-10-at-9.58.24-PM.png" alt="" srcset="https://spencerdailey.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-10-at-9.58.24-PM.png 2250w, https://spencerdailey.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-10-at-9.58.24-PM-300x129.png 300w, https://spencerdailey.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-10-at-9.58.24-PM-1024x441.png 1024w, https://spencerdailey.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-10-at-9.58.24-PM-768x330.png 768w, https://spencerdailey.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-10-at-9.58.24-PM-1536x661.png 1536w, https://spencerdailey.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-10-at-9.58.24-PM-2048x881.png 2048w, https://spencerdailey.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-10-at-9.58.24-PM-982x422.png 982w, https://spencerdailey.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-10-at-9.58.24-PM-400x172.png 400w" sizes="(max-width: 2250px) 100vw, 2250px"></p>



<figure><div>
<blockquote data-width="550" data-dnt="true"><div lang="en" dir="ltr"><p>Google's iOS apps release cycle before &amp; after Apple asks to disclose privacy labels.</p><p>Thie pattern is probably just a coincidence. We all know "transparency forms the bedrock of [their] commitment to users"… <a href="https://t.co/UgJjAhWfkm">pic.twitter.com/UgJjAhWfkm</a></p></div>— Thomasbcn (@Thomasbcn) <a href="https://twitter.com/Thomasbcn/status/1356645088697454596?ref_src=twsrc%5Etfw">February 2, 2021</a></blockquote>
</div></figure>



<p>From this blunt visual, one can not only assume that the lack of updates are related to the privacy label deadline, but that most of its apps are in need of bug fixes and aren’t receiving those updates.</p>



<p>I guess we’ll wait and see what happens… </p>



<p><img loading="lazy" width="750" height="1334" src="https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6108.png" alt="" srcset="https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6108.png 750w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6108-169x300.png 169w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6108-576x1024.png 576w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6108-225x400.png 225w" sizes="(max-width: 750px) 100vw, 750px"><img loading="lazy" width="750" height="1334" src="https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6107.png" alt="" srcset="https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6107.png 750w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6107-169x300.png 169w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6107-576x1024.png 576w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6107-225x400.png 225w" sizes="(max-width: 750px) 100vw, 750px"><img loading="lazy" width="750" height="1334" src="https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6096.png" alt="" srcset="https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6096.png 750w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6096-169x300.png 169w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6096-576x1024.png 576w, https://spencerdailey.com/wp-content/uploads/2021/02/IMG_6096-225x400.png 225w" sizes="(max-width: 750px) 100vw, 750px"></p>



<p><em>(There’s a possibility that as I push publish on this post, Google is mid-update on a global rollout of fresh updates for its flagship apps. But I think that chance is slim, as Apple’s “Phased Release” option lets users immediately receive app updates if they visit an app’s store page directly.) </em> </p>
			</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article></div>]]>
            </description>
            <link>https://spencerdailey.com/2021/02/10/google-itself-is-now-telling-users-their-apps-are-out-of-date-despite-no-updates-being-available/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26096320</guid>
            <pubDate>Wed, 10 Feb 2021 23:35:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Poetic Apology: Or Why Should You Use Poetry to Manage Python Dependencies]]>
            </title>
            <description>
<![CDATA[
Score 80 | Comments 35 (<a href="https://news.ycombinator.com/item?id=26093926">thread link</a>) | @juanpampliega
<br/>
February 10, 2021 | https://muttdata.ai/blog/2020/08/21/a-poetic-apology.html | <a href="https://web.archive.org/web/*/https://muttdata.ai/blog/2020/08/21/a-poetic-apology.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        <p>If you ever spent some time trying to write a Python application you have probably
experienced Python’s Infamous Dependency Hell at some point. You’ve probably also
gathered by now that it has become a folk tradition to start any piece about such subject
with the following notorious <a href="https://xkcd.com/1987/">xkcd comic</a>:</p>

<p><img src="https://muttdata.ai/blog/img/posts/poetry_apology/xkcd.png" alt=""></p>

<p>Luckily for you (and all of us) at the time of writing, there are some good solutions to
the entanglement of pains brilliantly depicted in the image above. In fact, you most likely
already know that if you want to develop against multiple Python versions you can readily
use <a href="https://github.com/pyenv/pyenv">pyenv</a> to start unraveling your twisted environment.
You might have also learned that if you happen to be working at the same time on multiple
projects with conflicting dependencies then you can employ <em>virtual environments</em> to
isolate clashing libraries. In this document, we’ll introduce yet another tool,
<a href="https://github.com/python-poetry/poetry">Poetry</a>, and make an argument about why you
should probably add it to your own toolkit.</p>

<h2 id="the-problem">The Problem</h2>

<p>Imagine one lonely night you decide to start a simple dummy Python project accurately
named <code>foo</code> with the following structure</p>

<div><div><pre><code>├── foo
│   ├── foo
│   │   ├── bar
│   │   │   └── data.py
│   │   └── constants.py
│   └── README.md
</code></pre></div></div>

<p>Since this is not your first Python project and you want to avoid spending more endless
nights fixing incompatibilities between your system and project modules, you diligently
initiate a virtual environment from your shell with</p>

<div><div><pre><code><span>$&gt;</span> python <span>-m</span> venv ~/Desktop/venv/foo-venv
</code></pre></div></div>

<p>and activate it within the newly created project with</p>

<div><div><pre><code><span>$&gt;</span> <span>source</span> ~/Desktop/venv/foo-venv/bin/activate
</code></pre></div></div>

<p>Equipped with an isolated environment, you triumphantly proceed to install the ubiquitous
Pandas data library. To achieve such thing you use Python’s de-facto package manager
<code>pip</code> and carefully pin the library version to ensure replicability</p>

<div><div><pre><code><span>$&gt;</span> pip <span>install </span><span>pandas</span><span>==</span>0.25.3
</code></pre></div></div>

<p>Since you are a bit lazy at doing exploratory data analysis, you also install the nifty
<code>pandas-profiling</code> module to help you with that tedious work</p>

<div><div><pre><code><span>$&gt;</span> pip <span>install </span>pandas-profiling<span>==</span>2.5.0
</code></pre></div></div>

<p>After all this flirting, you finally start coding (assuming that adding the
following lines to the <code>data.py</code> file can, in fact, be called that)</p>

<div><div><pre><code><span>import</span> <span>pandas</span> <span>as</span> <span>pd</span>
<span>from</span> <span>pandas_profiling</span> <span>import</span> <span>ProfileReport</span>
<span>df</span><span>=</span><span>pd</span><span>.</span><span>DataFrame</span><span>([[</span><span>'a'</span><span>,</span><span>1</span><span>],[</span><span>'b'</span><span>,</span><span>None</span><span>]],</span><span>columns</span><span>=</span><span>[</span><span>'category'</span><span>,</span> <span>'value'</span><span>])</span>
<span>df</span><span>[</span><span>'category'</span><span>]</span><span>=</span><span>df</span><span>[</span><span>'category'</span><span>].</span><span>astype</span><span>(</span><span>'category'</span><span>)</span>
<span>if</span> <span>__name__</span><span>==</span><span>'__main__'</span><span>:</span><span>ProfileReport</span><span>(</span><span>df</span><span>).</span><span>to_file</span><span>(</span><span>'foo.html'</span><span>)</span>
</code></pre></div></div>

<p>Given that your days of abusing <code>print</code> statements for debugging purposes are long gone,
you install the beautiful and handy <a href="https://github.com/pdbpp/pdbpp">pdbpp</a> library to
check that these lines work as intended</p>

<div><div><pre><code><span>$&gt;</span> pip <span>install </span><span>pdbpp</span><span>==</span>0.10.2
</code></pre></div></div>

<p>and run your code in <em>post mortem debugging mode</em> with <code>python -m pdb -cc data.py</code>.</p>

<p>Happy with the clean run, you now realize that in order to ship your voluptuous application
without falling into the “works on my machine” trap you need a way to collect all your
dependencies. A quick Google search will show you that pip’s <code>freeze</code> subcommand allows to
record the current environment package into a <code>requirements.txt</code> file by means of the
following incantation</p>

<div><div><pre><code><span>$&gt;</span> pip freeze <span>&gt;</span> requirements.txt
</code></pre></div></div>

<p>which lets anyone use your project by simply installing the needed dependencies with</p>

<div><div><pre><code><span>$&gt;</span> pip <span>install</span> <span>-r</span> requirements.txt
</code></pre></div></div>

<p>Just as you are about to reveal your masterpiece project to the world, you become aware
that the improved debugging module is actually only used by you while developing. With the
idea of splitting the frozen requirements into separate production and development files,
you take a peek into the generated file only to discover that each and every
single sub-dependency of your application’s dependencies is listed therein and locked to a
specific version. Foreseeing the nightmare of maintaining this immense list you uninstall
the <code>pdbpp</code> library to ensure a clean requirements file again by means of</p>

<div><div><pre><code><span>$&gt;</span> pip uninstall <span>-y</span> pdbpp <span>&amp;&amp;</span> pip freeze <span>&gt;</span> requirements.txt
</code></pre></div></div>

<p>A quick glance at the modified requirements file, however, shows that things didn’t quite
turn out as expected: <code>pdbpp</code> was indeed removed but its dependencies, such as
<code>fancycompleter</code>, are still installed. Since this seems a dead-end, you choose to start
from scratch by manually creating a <code>requirements.txt</code> file with only production
dependencies</p>

<pre><code>pandas==0.25.3
pandas-profiling==2.5.0
</code></pre>

<p>and an equivalent development file, <code>requirements_dev.txt</code>, solely containing</p>

<pre><code>pdbpp==0.10.2
</code></pre>

<p>Impressed by the cleverness that has seemingly helped you dodge the dreaded Python
dependency hell by keeping a record of isolated top-level packages, you decide to call it a
day and give a final spin to your application the next day.</p>

<p>When you wake up in the morning, the news are all over the place: Pandas v1 is
finally out (after only twelve years!). A couple of hours procrastinating with the
incredibly long changelog makes you conclude that your complex foo-project
will surely gain notable improvements by updating to the brand new version. Now since
you’ve locked Pandas to an exact version, you cannot simply run</p>

<div><div><pre><code><span>$&gt;</span> pip <span>install</span> <span>-U</span> <span>-r</span> requirements.txt
</code></pre></div></div>

<p>Instead you must execute</p>

<div><div><pre><code><span>$&gt;</span> pip <span>install </span><span>pandas</span><span>==</span>1.0.0
</code></pre></div></div>

<p>which leads to a particularly bizarre and confusing situation: an error pops in your
terminal</p>

<pre><code>ERROR: pandas-profiling 2.5.0 has requirement pandas==0.25.3, but you'll have pandas 1.0.0 which is incompatible.
</code></pre>

<p>but the installation of <code>pandas 1.0.0</code> nonetheless takes place. Assuming this to be a warning
that <code>pip</code> mistakes for an error, you update your <code>requirements.txt</code> file accordingly and
joyfully proceed to run your <code>data.py</code> module one last time, only to discover that it throws
an enigmatic <code>TypeError</code>. Feeling now betrayed by pip’s apparent inability to resolve
dependencies, you rollback your changes and stick with Pandas’ (now) outdated version.</p>

<p>At this point, you seem to have a working project but i) you are unsure whether reverting
Pandas version might have broken the desired replicability of your application, ii) the
code could definitely look better and iii) after a good night’s sleep you acknowledge that
the overall functionality of your application is not as complex and rich as you thought it
was the night before. To address the first two issues, you first add the <code>black</code> formatter
to your <code>requirements_dev.txt</code></p>

<pre><code>black==19.10b0
</code></pre>

<p>and then within your project directory, you recreate your virtual environment with</p>

<div><div><pre><code><span>$&gt;</span> <span>rm</span> <span>-rf</span> ~/Desktop/venv/foo-venv
<span>$&gt;</span> python <span>-m</span> venv ~/Desktop/venv/foo-venv
<span>$&gt;</span> <span>source</span> ~/Desktop/venv/foo-venv/bin/activate
<span>$&gt;</span> pip <span>install</span> <span>-r</span> requirements_dev.txt
<span>$&gt;</span> pip <span>install</span> <span>-r</span> requirements.txt
</code></pre></div></div>

<p>Now you run <code>black</code> in your project root (with <code>black .</code>) and are mostly satisfied with
the prettifying job it did but to abide by Mutt Data’s format style (which is coincidentally
consistent with your dislike of making every single quote a double quote), you add a
<code>pyproject.toml</code> telling <code>black</code> to skip such appalling string normalization default
setting</p>

<div><div><pre><code><span>[tool.black]</span>
<span>skip-string-normalization</span> <span>=</span> <span>true</span>
</code></pre></div></div>

<p>The code looks great now and a new post mortem debugging run shows that things seem to work
fine in the new (replicable) environment. The only thing left to be done before deploying
the code on the server or sharing it with the world is to avoid having constants, such as
the report name, hardcoded all around the code. You thus
decide to add the following lines to your <code>constants.py</code> empty module</p>



<p>and modify the <code>data.py</code> to import such constant from the relative parent file with</p>

<div><div><pre><code><span>from</span> <span>..constants</span> <span>import</span> <span>REPORT_FILE</span>
</code></pre></div></div>

<p>A new <code>data.py</code> run however now, unfortunately, shows the next error</p>

<pre><code>ImportError: attempted relative import with no known parent package
</code></pre>

<p>which according to the omniscient SO makes sense since Python relative imports only work
within a package and therefore if you want to import from a parent directory you should
either create such package or hack the <code>sys.path</code>. As a true purist pythonista, you pick
the former path and create a <code>setup.py</code> with the following contents</p>

<div><div><pre><code><span>from</span> <span>setuptools</span> <span>import</span> <span>setup</span>

<span>with</span> <span>open</span><span>(</span><span>'requirements.txt'</span><span>)</span> <span>as</span> <span>f</span><span>:</span>
    <span>install_requires</span> <span>=</span> <span>f</span><span>.</span><span>read</span><span>().</span><span>splitlines</span><span>()</span>
<span>with</span> <span>open</span><span>(</span><span>'requirements_dev.txt'</span><span>)</span> <span>as</span> <span>f</span><span>:</span>
    <span>extras_dev_requires</span> <span>=</span> <span>f</span><span>.</span><span>read</span><span>().</span><span>splitlines</span><span>()</span>

<span>setup</span><span>(</span>
    <span>name</span><span>=</span><span>'foo'</span><span>,</span>
    <span>version</span><span>=</span><span>'0.0.1'</span><span>,</span>
    <span>author</span><span>=</span><span>'Mutt'</span><span>,</span>
    <span>author_email</span><span>=</span><span>'info@muttdata.ai'</span><span>,</span>
    <span>install_requires</span><span>=</span><span>install_requires</span><span>,</span>
    <span>extras_require</span><span>=</span><span>{</span><span>'dev'</span><span>:</span> <span>extras_dev_requires</span><span>},</span>
    <span>packages</span><span>=</span><span>[</span><span>'foo'</span><span>],</span>
<span>)</span>
</code></pre></div></div>

<p>Now in a brand new virtual env you install your package in editable mode with <code>pip install
-e .[dev]</code>, change the import line in <code>data.py</code> to account for the package structure</p>

<div><div><pre><code><span>from</span> <span>foo.constants</span> <span>import</span> <span>REPORT_FILE</span>
</code></pre></div></div>

<p>and cross your fingers hoping everything finally works…</p>

<p>Everything does indeed (brittlely) work, but somehow all the hoop-jumping to make it
function makes you uneasy. A brief introspection reveals several reasons for the wave of
apprehension:</p>

<ol>
  <li>Since you plan to work on multiples Python projects at the same time, isolation is a
fundamental piece of your workflow. Virtual environments do solve this problem, but
the activate/deactivate process is cumbersome and easy to forget.</li>
  <li>Having dependencies isolated between projects doesn’t address dependency clash within a
project. Proper dependency resolution is the top required feature of any package
manager worthy of respect yet <code>pip</code> will only get such feature by October 2020.
Manually guaranteeing dependency consistency in complex projects is a deadlock.</li>
  <li>If you want to install your application/project as a package, you must go through the
overhead of adding a <code>setup.py</code> on top of your already multiple requirements files.
However, you’ve read PEPs 517-518 and want to try out the simpler and safer build
mechanisms mentioned therein.</li>
  <li>You thought about trying your application on a different machine, but realized it ran
Python 3.7 while your local box runs 3.8. To use <code>pyenv</code> with your isolated virtual
envs, you need an extra plugin,
<a href="https://github.com/pyenv/pyenv-virtualenv">pyenv-virtualenv</a>, which makes managing
venvs even more burdensome.</li>
  <li>You briefly played with <a href="https://github.com/pypa/pipenv">Pipenv</a> which promised to
bring …</li></ol></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://muttdata.ai/blog/2020/08/21/a-poetic-apology.html">https://muttdata.ai/blog/2020/08/21/a-poetic-apology.html</a></em></p>]]>
            </description>
            <link>https://muttdata.ai/blog/2020/08/21/a-poetic-apology.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26093926</guid>
            <pubDate>Wed, 10 Feb 2021 20:02:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pattern Generator – Create Seamless, Royalty-Free Patterns]]>
            </title>
            <description>
<![CDATA[
Score 242 | Comments 19 (<a href="https://news.ycombinator.com/item?id=26093710">thread link</a>) | @nkjoep
<br/>
February 10, 2021 | https://doodad.dev/pattern-generator/ | <a href="https://web.archive.org/web/*/https://doodad.dev/pattern-generator/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div> <p>Use this tool to create unique, seamless, royalty-free patterns.</p> <p>Choose a base style, then customize with colors, filters, and transforms.</p> <p>Each pattern style has it's own unique transforms. Play around to see what they do. <strong>Try sliding transform 'C' below.</strong></p> <p>Click the 'shuffle' button to see the kinds of patterns you can make.</p> <p><strong>Click 'X' to close this box and start creating your own pattern.</strong></p></div></div></div>]]>
            </description>
            <link>https://doodad.dev/pattern-generator/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26093710</guid>
            <pubDate>Wed, 10 Feb 2021 19:42:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The unusual way I'm funding my open source work]]>
            </title>
            <description>
<![CDATA[
Score 106 | Comments 53 (<a href="https://news.ycombinator.com/item?id=26092979">thread link</a>) | @sylvain_kerkour
<br/>
February 10, 2021 | https://kerkour.com/blog/the-unusual-way-im-funding-my-open-source-work/ | <a href="https://web.archive.org/web/*/https://kerkour.com/blog/the-unusual-way-im-funding-my-open-source-work/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>From the Linux kernel to Firefox and Wordpress, Open Source is changing the world for the better. But how to achieve financial sustainability when you produce something that can legally be copied, by design, at zero cost?</p>
<h2 id="revenue-models-for-open-source">Revenue models for Open Source</h2>
<p>A <a href="https://news.ycombinator.com/item?id=23218943">lot</a> has been written about <a href="https://plausible.io/blog/open-source-funding">achieving profitability</a> for open source projects, still it’s not a solved problem. Here are the most common ways for open source projects to generate profit:</p>
<ul>
<li>Hosting: where you offer a fully-managed version of your project. It’s certainly the easiest way to scale revenues but it’s not appropriate for all products.</li>
<li>Paying support: popularized by Red Hat and other Linux distributions, this model is hard to scale and create bizarre incentives.</li>
<li>Patronage: patrons are helping artists make a living since forever. Unfortunately as you are depending on the goodwill of your patrons, it’s an extremely precarious way of life without a huge audience.</li>
<li><a href="https://en.wikipedia.org/wiki/Venture_capital">VC</a>: According to my empirical study, it’s extremely hard to create a long term business whose interests are aligned with those of its users going this way.</li>
<li>Having a real job™ beside: but is your project worth sacrificing all your free time for it?</li>
</ul>
<h2 id="bloom">Bloom</h2>
<p>Early in 2019, I innocently started working on <a href="https://github.com/skerkour/bloom">Bloom</a> with one mission: putting an end to digital feudalism (Why? How? What? 👉 <a href="https://kerkour.com/blog/bloom-a-free-and-open-source-google">You can read the launch post here</a>).
The idea resonated with a lot of people and I received more positive feedback than I would ever have imagined.</p>
<p>But the path to success was still not clear: I launched the project as a self-hostable web application with a plan to create native applications with end-to-end encryption later. It quickly turned into a full-time R&amp;D project as end-to-end encryption is not yet a totally solved problem (especially its key distribution part) and neither is native applications distribution (App stores being controlled by two companies that are more and more user hostile).</p>
<p><img src="https://kerkour.com/blog/valley_of_death.jpg"></p>
<p>So, how to survive the valley of death and stay alive enough time to reach product-market fit and turn Bloom into a sustainable open source project?</p>
<h2 id="black-hat-rust">Black Hat Rust</h2>
<p><a href="https://github.com/skerkour">
    <img src="https://kerkour.com/blog/github_contributions.png">
</a></p><p>While developing Bloom, I have written and deleted a hundred thousand lines of code of Rust, if not more. From achieving great development speed to designing and implementing an en-to-end encrypted synchronization protocol, passing by handling millions of HTTP requests a day, I’ve learned a few things along the way. <br>
Why not turn these thousand hours of experience into a profit which will allow me to arrange free hours during the week to work on Bloom? <br>
Some friends suggested that I launch an Udemy course, but I was not a fan of the idea because I find the ratio of information / time of these video courses too low compared to a good old book.</p>
<p>So I decided to write a book about Rust. As I had experience with offensive security (developing an automated vulnerability scanner, reverse engineering applications and helping plenty of companies to secure their assets) I narrowed the scope of the book to offensive security programming with Rust. <br>
Rust is not only a great fit for offensive programming, but the only one-size-fits-all programming language able to meet all the needs of this field: from shellcodes and exploits to servers, RATs and phishing pages in WebAssembly, Rust is polyvalent enough to shine in all those tasks. <br>
<em>Black Hat Rust - Deep dive into offensive security with the Rust programming language</em> was born!</p>
<p><a href="https://www.reddit.com/r/rust/comments/lcow5j/black_hat_rust_im_writing_a_book_about_offensive">I announced the (extremely) early-access edition of the book on Reddit</a> last week and received a lot of positive feedback. <br>
Idea validated. Funding secured. 🥳 <br>
Even if the hardest part is yet to come, I just want to say a big <strong>THANK YOU</strong> to all the people who are making this possible. <br>
Since this Monday I have started to work 4 days a week on the book and 2 days on Bloom (yes, as an indie hacker my workweek is 6 days long 🤷‍♂️).</p>
<p>If you find the idea compelling and want to be part of the adventure, here is a coupon to save 10€ on the book: <a href="https://academy.kerkour.com/black-hat-rust?coupon=BLOG">https://academy.kerkour.com/black-hat-rust?coupon=BLOG</a>.</p>
<p>Sylvain ✌️</p>

  </div></div>]]>
            </description>
            <link>https://kerkour.com/blog/the-unusual-way-im-funding-my-open-source-work/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26092979</guid>
            <pubDate>Wed, 10 Feb 2021 18:31:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Interview Frustrations]]>
            </title>
            <description>
<![CDATA[
Score 118 | Comments 129 (<a href="https://news.ycombinator.com/item?id=26092964">thread link</a>) | @LifeIsBio
<br/>
February 10, 2021 | https://jessimekirk.com/blog/interview_frustrations/ | <a href="https://web.archive.org/web/*/https://jessimekirk.com/blog/interview_frustrations/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
        <header>
          
          

  <p>
    

    

    
      
      

      <span>
        
        
          2 minute read
        
      </span>
    
  </p>


        </header>
      

      <section itemprop="text">
        
        <p>A company that will remain nameless (unless someone convinces me otherwise) recently sent me this email:</p>

<blockquote>
  <p>Thanks so much for agreeing to your virtual on-site interview for a position in the &lt;redacted&gt;!</p>

  <p>Beforehand, please take a look at the comments below:</p>

  <ol>
    <li>Your presentation is expected to be in front of a fairly diverse audience.  Members of the interview panel are going to be there, and members from other functions, such as marketing, may attend as well.  Prepare with this in mind.</li>
    <li>For your presentation, you may want to begin with a brief introduction of who you are and where you have been in your career.  Consider giving the audience a sense of who you are and what has motivated you in your career development.</li>
    <li>From previous experiences, there will likely be questions and interruptions during your presentation.  Some questions may be general, and some may be specific and technical.  Manage your time wisely.</li>
    <li>Choose 1-2 projects that you have worked on in-depth and personally; you would know these projects well and be excited to talk about them.  Convey your excitement to the audience.  Talk about recent (rather than old) projects if possible.</li>
    <li>Be prepared to go into details on the projects you will present.  Do give a high-level overview of the project (e.g., What is the problem?  Why is it important?) . Do go into some level of technical specifics.  What have you done?  How have you done it?</li>
    <li>Give the audience a sense of <em>how</em> you think.  What were the factors you considered when you approached the problem?  What were the challenges?  How did you overcome them?  Provide specific examples whenever possible.</li>
    <li>You may present your slide deck directly from your laptop or send me a copy and I will flip thru the deck for you during the presentation.  It is your choice.</li>
    <li>Please install Zoom and Microsoft Teams on your laptop prior to the seminar.  We will use Microsoft Teams as default and Zoom as backup.
We greatly look forward to meeting you!</li>
  </ol>
</blockquote>

<p>They wanted me to make a hour long presentation as part of the interview.
The last time I made a talk that long, I practiced it for weeks.
Given that they gave me a week’s heads-up total, I took the weekend and put together what I could.
I’d say I put in a dozen hours, realistically.
I was pretty excited about the final product and was kinda looking forward to giving the talk.
The day before my interview, I got this email:</p>

<blockquote>
  <p>Good Morning Jessime,</p>

  <p>I must inform you, that your Zoom Interview for tomorrow, Wednesday, February 10th got canceled.  Our recruiter will give you a call for more information.
Have a great day and stay safe.</p>
</blockquote>

<p>The recruiter called me and we talked briefly.
They said that I interviewed extremely well, but that they decided to go with another candidate.
That’s fair, I suppose.
They were looking for someone with a few years of experience working with a specific technology I had never used.
But… they knew that from my resume.</p>

<p>And from my first interview.</p>

<p>And from my second interview.</p>

<p>And when they told me that I needed to prep a talk.</p>

<p>The recruiter told me, “Don’t be shy about reapplying for another position.”
Thank you, but I’m probably good.</p>

<p>Anyway, I wanted to share my presentation somewhere, so I guess I’ll share it here.</p>

<p><a href="https://docs.google.com/presentation/d/1z9ik2u0bgnCSdCC2iMrLrcbp6msi3bqS3hhDA8vSOhc/edit?usp=sharing">Selling CodeStories</a></p>

        
      </section>

      

      


      
  

    </div></div>]]>
            </description>
            <link>https://jessimekirk.com/blog/interview_frustrations/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26092964</guid>
            <pubDate>Wed, 10 Feb 2021 18:30:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hello system, a FreeBSD-based OS designed to resemble Mac]]>
            </title>
            <description>
<![CDATA[
Score 305 | Comments 222 (<a href="https://news.ycombinator.com/item?id=26092040">thread link</a>) | @gautamcgoel
<br/>
February 10, 2021 | https://hellosystem.github.io/docs/ | <a href="https://web.archive.org/web/*/https://hellosystem.github.io/docs/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
        <div>
        
          


















          <div role="main" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p><a href="https://raw.githubusercontent.com/helloSystem/hello/1d1e69be8a689c5e0a176df821c14f0b49b241a4/branding/hello_variation.svg"><img alt="https://raw.githubusercontent.com/helloSystem/hello/1d1e69be8a689c5e0a176df821c14f0b49b241a4/branding/hello_variation.svg" src="https://raw.githubusercontent.com/helloSystem/hello/1d1e69be8a689c5e0a176df821c14f0b49b241a4/branding/hello_variation.svg" width="300px"></a></p><p>
<strong>Willkommen • Welcome • 欢迎 • Bienvenue • Benvenuto • Bienvenido • ようこそ • Mabuhay • Välkommen • Добро пожаловать • Merhaba • Bonvenon • 歡迎光臨</strong></p><div id="hello">

<p><strong>hello</strong> (also known as <strong>helloSystem</strong>) is a desktop system for creators with focus on simplicity, elegance, and usability. Its design follows the “Less, but better” philosophy. It is intended as a system for “mere mortals”, welcoming to switchers from the Mac. <a href="https://www.freebsd.org/">FreeBSD</a> is used as the core operating system. Please refer to <a href="https://github.com/helloSystem/hello">https://github.com/helloSystem/hello</a> if you would like to learn more about the ideas and principles behind hello.</p>
<p><img alt="Screenshot" src="https://github.com/helloSystem/hello/blob/master/screenshots/20210210-desktop-0.4.png?raw=true"></p>


</div>


           </div>
           
          </div>
          
        </div>
      </div></div>]]>
            </description>
            <link>https://hellosystem.github.io/docs/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26092040</guid>
            <pubDate>Wed, 10 Feb 2021 17:22:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Web Scraping 101 with Python]]>
            </title>
            <description>
<![CDATA[
Score 351 | Comments 124 (<a href="https://news.ycombinator.com/item?id=26090243">thread link</a>) | @daolf
<br/>
February 10, 2021 | https://www.scrapingbee.com/blog/web-scraping-101-with-python/ | <a href="https://web.archive.org/web/*/https://www.scrapingbee.com/blog/web-scraping-101-with-python/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p><img src="https://d33wubrfki0l68.cloudfront.net/0c341714fac1e681a51f25db8d80853d341830a9/c3aea/images/authors/kevin.png" alt="Kevin Sahin">
            
            <span>
                
                
                
                <span>
                    <small> ● </small>
                    
                    
                    Updated:
                    
                    <span>09 February, 2021</span>
                    
                    <small> ● </small>
                    <span> 21 min read </span>
                </span>
                <p> Kevin worked in the web scraping industry for 10 years before co-founding <a href="https://www.scrapingbee.com/">ScrapingBee</a>. He is also the author of the Java Web Scraping Handbook.
                        
                        <a href="https://twitter.com/SahinKevin" target="_blank">
                        <svg style="height: 14px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                            <path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z" fill="currentColor"></path>
                        </svg>
                        </a>
                        
                        
                    </p>
            </span>
        </p><div property="articleBody">
          





















<div>
  
  <p><img loading="lazy" srcset="
      
        , https://d33wubrfki0l68.cloudfront.net/adfd4c7273134e8e7b76e7e2a7d2d5a32326f6fc/914d1/blog/web-scraping-101-with-python/python_101_cover_hu8a8d68b1832e8346b89f5afc8f3d2a1b_50362_825x0_resize_q75_catmullrom.jpg 825w
      
      
      " src="https://d33wubrfki0l68.cloudfront.net/2d0fcdc12a1b40d9c2e0090b2d17e6edb33384cb/2bcf3/blog/web-scraping-101-with-python/python_101_cover.jpg" width="1024" height="512" alt="Web Scraping 101 with Python" data-srcset="
    
      , https://d33wubrfki0l68.cloudfront.net/adfd4c7273134e8e7b76e7e2a7d2d5a32326f6fc/914d1/blog/web-scraping-101-with-python/python_101_cover_hu8a8d68b1832e8346b89f5afc8f3d2a1b_50362_825x0_resize_q75_catmullrom.jpg 825w
    
    
    " data-src="https://d33wubrfki0l68.cloudfront.net/2d0fcdc12a1b40d9c2e0090b2d17e6edb33384cb/2bcf3/blog/web-scraping-101-with-python/python_101_cover.jpg">
  
</p></div>

<br>


<h2 id="introduction">Introduction:</h2>
<p>In this post, which can be read as a follow-up to our <a href="https://www.scrapingbee.com/blog/web-scraping-without-getting-blocked">ultimate web scraping guide</a>, we will cover almost all of the tools Python offers to scrape the web. We will go from the basic to advanced ones, covering the pros and cons of each. Of course, we won't be able to cover every aspect of every tool we discuss, but this post should give you a good idea of what each tool does, and when to use one.</p>
<p><em>Note: When I talk about Python in this blog post you should assume that I talk about Python3.</em></p>
<h2 id="0-web-fundamentals">0. Web Fundamentals</h2>
<p>The internet is <strong>complex</strong>: there are many underlying technologies and concepts involved to view a simple web page in your browser. I don’t have the pretension to explain everything, but I will explain the most important to understand for extracting data from the web.</p>
<h3 id="hypertext-transfer-protocol">HyperText Transfer Protocol</h3>
<p>HyperText Transfer Protocol (HTTP) uses a <strong>client/server</strong> model. An HTTP client (a browser, your Python program, cURL, Requests…) opens a connection and sends a message (“I want to see that page : /product”)to an HTTP server (Nginx, Apache…). Then the server answers with a response (the HTML code for example) and closes the connection.</p>
<blockquote>
<p>HTTP is called a <em><strong>stateless protocol</strong></em> because each transaction (request/response) is independent. FTP, for example, is stateful.</p>
</blockquote>
<p>Basically, when you type a website address in your browser, the HTTP request looks like this:</p>
<div><pre><code data-lang="bash">GET /product/ HTTP/1.1
Host: example.com
Accept: text/html,application/xhtml+xml,application/xml;q<span>=</span>0.9,image/web<span>\
</span><span></span>p,*/*;q<span>=</span>0.8
Accept-Encoding: gzip, deflate, sdch, br
Connection: keep-alive
User-Agent: Mozilla/5.0 <span>(</span>Macintosh; Intel Mac OS X 10_11_6<span>)</span> AppleWebKit<span>\
</span><span></span>/537.36 <span>(</span>KHTML, like Gecko<span>)</span> Chrome/56.0.2924.87 Safari/537.36
</code></pre></div><p>In the first line of this request, you can see the following:</p>
<ul>
<li>The GET verb or method: This means we request data from the specific path: <code>/product/</code>. There are other HTTP verbs, and you can see the full list <a href="https://www.w3schools.com/tags/ref_httpmethods.asp">here</a>.</li>
<li>The version of the HTTP protocol: In this tutorial we will focus on HTTP 1.</li>
<li>Multiple headers fields: Connection, User-Agent… Here is an exhaustive list of <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers">HTTP headers</a></li>
</ul>
<p>Here are the most important header fields :</p>
<ul>
<li><strong>Host:</strong> This is the domain name of the server. If no port number is given, it is assumed to be <strong>80</strong>.</li>
<li><strong>User-Agent:</strong> This contains information about the client originating the request, including the OS. In this case, it is my web browser (Chrome) on macOS. This header is important because it is either used for statistics (how many users visit my website on mobile vs desktop) or to prevent violations by bots. Because these headers are sent by the clients, they can be modified (<em>“Header Spoofing”</em>). This is exactly what we will do with our scrapers - make our scrapers look like a regular web browser.</li>
<li><strong>Accept:</strong> These are the content types that are acceptable as a response. There are lots of different content types and sub-types: <strong>text/plain, text/html, image/jpeg, application/json</strong> …</li>
<li><strong>Cookie</strong> : This header field contains a list of name-value pairs (name1=value1;name2=value2). These session cookies are used to store data. Cookies are what websites use to authenticate users and/or store data in your browser. For example, when you fill a login form, the server will check if the credentials you entered are correct. If so, it will redirect you and inject a session cookie in your browser. Your browser will then send this cookie with every subsequent request to that server.</li>
<li><strong>Referrer</strong>: The Referrer header contains the URL from which the actual URL has been requested. This header is important because websites use this header to change their behavior based on where the user came from. For example, lots of news websites have a paying subscription and let you view only 10% of a post, but if the user comes from a news aggregator like Reddit, they let you view the full content. They use the referrer to check this. Sometimes we will have to spoof this header to get to the content we want to extract.</li>
</ul>
<p>And the list goes on…you can find the full header list <a href="https://en.wikipedia.org/wiki/List_of_HTTP_header_fields">here</a>.</p>
<p>A server will respond with something like this:</p>
<div><pre><code data-lang="bash">HTTP/1.1 <span>200</span> OK
Server: nginx/1.4.6 <span>(</span>Ubuntu<span>)</span> Content-Type: text/html; charset<span>=</span>utf-8 &lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset<span>=</span><span>"utf-8"</span> /&gt; ...<span>[</span>HTML CODE<span>]</span>
</code></pre></div><p>On the first line, we have a new piece of information, the HTTP code <code>200 OK</code>. This means the request has succeeded. As for the request headers, there are lots of HTTP codes. They are split into four common classes: 2XX for successful requests, 3XX for redirects, 4XX for bad requests (the most famous being “404 Not Found”), and 5XX for server errors.</p>
<p>Then, if you are sending this HTTP request with your web browser, the browser will parse the HTML code, fetch all the eventual assets (Javascript files, CSS files, images…), and render the result into the main window.</p>
<p>We will go through the different ways to perform HTTP requests with Python and extract the data we want from the responses.</p>
<h2 id="1-manually-opening-a-socket-and-sending-the-http-request">1. Manually Opening a Socket and Sending the HTTP Request</h2>
<h3 id="socket">Socket</h3>
<p>The most basic way to perform an HTTP request in Python is to open a <a href="https://docs.python.org/3/howto/sockets.html">socket</a> and manually send the HTTP request.</p>
<div><pre><code data-lang="python"><span>import</span> socket

HOST <span>=</span> <span></span><span>'</span><span>www.google.com</span><span>'</span>  <span># Server hostname or IP address</span>
PORT <span>=</span> <span>80</span>        <span># Port</span>

client_socket <span>=</span> socket<span>.</span>socket(socket<span>.</span>AF_INET, socket<span>.</span>SOCK_STREAM)
server_address <span>=</span> (HOST, PORT)
client_socket<span>.</span>connect(server_address)

request_header <span>=</span> <span>b</span><span>'</span><span>GET / HTTP/1.0</span><span>\r</span><span>\n</span><span>Host: www.google.com</span><span>\r</span><span>\n</span><span>\r</span><span>\n</span><span>'</span>
client_socket<span>.</span>sendall(request_header)

response <span>=</span> <span></span><span>'</span><span>'</span>
<span>while</span> True:
    recv <span>=</span> client_socket<span>.</span>recv(<span>1024</span>)
    <span>if</span> <span>not</span> recv:
        <span>break</span>
    response <span>+</span><span>=</span> str(recv)

<span>print</span>(response)
client_socket<span>.</span>close()  
</code></pre></div><p>Now that we have the HTTP response, the most basic way to extract data from it is to use regular expressions.</p>
<h3 id="regular-expressions">Regular Expressions</h3>
<p>A regular expression (RE or regex) is a search pattern for strings.</p>
<p>With regex, you can search for a particular character/word in a bigger body of text.</p>
<p>For example, you could identify all phone numbers in a web page.</p>
<p>You can also replace items with a regex. For example, you could replace all uppercase tags in a poorly formatted HTML with lowercase tags.</p>
<p>You can also validate some inputs …</p>
<p>The pattern used by a regex is applied from left to right, and each source character is only used once.</p>
<p>You may be wondering why it is important understand regular expressions when doing web scraping.</p>
<p>After all, there are many different Python modules to parse HTML, with XPath and CSS selectors.</p>
<p>In an ideal <a href="https://en.wikipedia.org/wiki/Semantic_Web">semantic world,</a> data is easily machine-readable, and the information is embedded inside relevant HTML elements, with meaningful attributes.</p>
<p>But the real world is messy. You will often find huge amounts of text inside a p element. For example, if you want to extract specific data inside a large text (a price, a date, a name…), you will have to use regular expressions.</p>
<p><strong>Note:</strong> Here is a great website to test your regex: <a href="https://regex101.com/"></a><a href="https://regex101.com/">https://regex101.com/</a>. Also, here is an <a href="https://www.rexegg.com/">awesome blog</a> to learn more about them. This post will only cover a small fraction of what you can do with regex.</p>
<p>Regular expressions can be useful when you have this kind of data:</p>
<p>We could select this text node with an Xpath expression and then use this kind of regex to extract the price:</p>
<div><pre><code data-lang="python">    <span>^</span>Price\s:\s(\d<span>+</span>\<span>.</span>\d{<span>2</span>})\<span>$</span>
</code></pre></div><p>To extract the text inside an HTML tag, it is annoying but doable to use a regex:</p>
<div><pre><code data-lang="python"><span>import</span> re

html_content <span>=</span> <span></span><span>'</span><span>&lt;p&gt;Price : 19.99$&lt;/p&gt;</span><span>'</span>

m <span>=</span> re<span>.</span>match(<span></span><span>'</span><span>&lt;p&gt;(.+)&lt;</span><span>\</span><span>/p&gt;</span><span>'</span>, html_content)
<span>if</span> m:
	<span>print</span>(m<span>.</span>group(<span>1</span>))
</code></pre></div><p>As you can see, manually sending the HTTP request with a socket and parsing the response with regular expression can be done, but it's complicated and there are higher-level API that can make this task easier.</p>
<h2 id="2-urllib3--lxml">2. urllib3 &amp; LXML</h2>
<p><strong>Disclaimer</strong>: It is easy to get lost in the urllib universe in Python. The standard library contains urllib and urllib2 (and sometimes urllib3). In Python3 urllib2 was split into multiple modules and urllib3 won't be part of the standard library anytime soon. This confusing situation will be the subject of another blog post. In this section, I've decided to only talk about urllib3 because it is widely used in the Python world, including by Pip and Requests.</p>
<p>Urllib3 is a high-level package that allows you to do pretty much whatever you want with an HTTP request. We urllib3 we could do what we did in the previous section with way fewer lines of code.</p>
<div><pre><code data-lang="python"><span>import</span> urllib3
http <span>=</span> urllib3<span>.</span>PoolManager()
r <span>=</span> http<span>.</span>request(<span></span><span>'</span><span>GET</span><span>'</span>, <span></span><span>'</span><span>http://www.google.com</span><span>'</span>)
<span>print</span>(r<span>.</span>data)
</code></pre></div><p>As you can see, this is much more concise than the socket version. Not only that, the API is straightforward. Also, you can easily do many other things, like adding HTTP headers, using a proxy, POSTing forms …</p>
<p>For example, had we decided to set some headers and use a proxy,
we would only have to do the following (you can learn more about proxy servers at <a href="https://www.bestproxyreviews.com/proxy-server/">bestproxyreviews.com</a>):</p>
<div><pre><code data-lang="python"><span>import</span> urllib3
user_agent_header <span>=</span> urllib3<span>.</span>make_headers(user_agent<span>=</span><span></span><span>"</span><span>&lt;USER AGENT&gt;</span><span>"</span>)
pool <span>=</span> urllib3<span>.</span>ProxyManager(f<span></span><span>'</span><span>&lt;PROXY IP&gt;</span><span>'</span>, headers<span>=</span>user_agent_header)
r <span>=</span> pool<span>.</span>request(<span></span><span>'</span><span>GET</span><span>'</span>, <span></span><span>'</span><span>https://www.google.com/</span><span>'</span>)
</code></pre></div><p>See? There are exactly the same number of lines. However, there are some things that urllib3 does not handle very easily. For example, if we want to add a cookie, we have to manually create the corresponding headers and add it to the request.</p>
<p>There are also things that urllib3 can do that requests can't: …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.scrapingbee.com/blog/web-scraping-101-with-python/">https://www.scrapingbee.com/blog/web-scraping-101-with-python/</a></em></p>]]>
            </description>
            <link>https://www.scrapingbee.com/blog/web-scraping-101-with-python/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26090243</guid>
            <pubDate>Wed, 10 Feb 2021 15:17:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Jazzer brings modern fuzz testing to the JVM]]>
            </title>
            <description>
<![CDATA[
Score 67 | Comments 13 (<a href="https://news.ycombinator.com/item?id=26090139">thread link</a>) | @lrngjcb
<br/>
February 10, 2021 | https://blog.code-intelligence.com/fuzzing-for-jvm-is-now-open-source | <a href="https://web.archive.org/web/*/https://blog.code-intelligence.com/fuzzing-for-jvm-is-now-open-source">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
      
      <div>
        <div>
          <p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><h4>At Code Intelligence we already fixed thousands of bugs with our fuzzing engine for the JVM. Now we want to make its core available to the community.</h4>
<span><!--more--></span>
<h4><span><span>We are happy to announce the open-source launch of Jazzer.</span></span></h4>
<hr>
<p>With Jazzer, developers can increase their test coverage to find edge cases, avoiding software bugs more effectively. No changes to the source code or build system are required. Many proven fuzzing techniques, such as mutation strategies, error detection, or feedback from the program during run-time, are based on <a href="https://llvm.org/docs/LibFuzzer.html"><span>libFuzzer</span></a>. Jazzer supports finding various error types in the JVM code. We also target programming language mixing ​​(native libraries via JNI), often leading to memory corruption bugs in the Java to C/C++ glue code. In this blog post, you can find more details about <a href="http://blog.code-intelligence.com/engineering-jazzer"><span>engineering Jazzer</span></a>.</p>

<h2><!--HubSpot Call-to-Action Code --><span id="hs-cta-wrapper-c5871777-cd08-4d3b-8205-b5536f4d3a98"><span id="hs-cta-c5871777-cd08-4d3b-8205-b5536f4d3a98"><!--[if lte IE 8]><div id="hs-cta-ie-element"></div><![endif]--><a href="https://cta-redirect.hubspot.com/cta/redirect/7466322/c5871777-cd08-4d3b-8205-b5536f4d3a98"><img id="hs-cta-img-c5871777-cd08-4d3b-8205-b5536f4d3a98" src="https://no-cache.hubspot.com/cta/default/7466322/c5871777-cd08-4d3b-8205-b5536f4d3a98.png" alt="See Jazzer repository on GitHub"></a></span></span><!-- end HubSpot Call-to-Action Code --></h2>
<h2><br>CI Fuzz Enterprise</h2>
<p><span>Our Enterprise Edition focuses on solving enterprise problems and </span><span>integrations relevant to working in development teams. Various features like reporting, CI/CD and dev tool integration, WebAPI fuzzing, OWASP vulnerability detection </span><span>enable highly productive work in the development process (DevSecOps)</span><span>. If you have been eager to get hands-on experience with fuzz testing, look at our </span><a href="https://github.com/CodeIntelligenceTesting/jazzer"><span>Github</span></a><span> repository. There you will find a step-by-step guide on how to get your first findings with Jazzer within minutes.&nbsp;</span></p>
<p><span><!--HubSpot Call-to-Action Code --><span id="hs-cta-wrapper-07b6f449-122a-49b1-a204-8620122ad9d5"><span id="hs-cta-07b6f449-122a-49b1-a204-8620122ad9d5"><!--[if lte IE 8]><div id="hs-cta-ie-element"></div><![endif]--><a href="https://cta-redirect.hubspot.com/cta/redirect/7466322/07b6f449-122a-49b1-a204-8620122ad9d5"><img id="hs-cta-img-07b6f449-122a-49b1-a204-8620122ad9d5" src="https://no-cache.hubspot.com/cta/default/7466322/07b6f449-122a-49b1-a204-8620122ad9d5.png" alt="Compare Jazzer to CI Fuzz"></a></span></span><!-- end HubSpot Call-to-Action Code --></span></p>

<p><em><span>“With the open-source release of Jazzer, we want to contribute <br>to helping even more developers to write better software.” </span></em><br><a href="https://www.linkedin.com/in/sergej-dechand/"><span>Sergej Dechand</span></a>, CEO of <span>Code Intelligence</span>&nbsp;</p>

</span>
          </p>
        </div>
        
      </div>

    </div>
    
  </div></div>]]>
            </description>
            <link>https://blog.code-intelligence.com/fuzzing-for-jvm-is-now-open-source</link>
            <guid isPermaLink="false">hacker-news-small-sites-26090139</guid>
            <pubDate>Wed, 10 Feb 2021 15:09:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What's the role of Go in a universe where Rust exists?]]>
            </title>
            <description>
<![CDATA[
Score 65 | Comments 45 (<a href="https://news.ycombinator.com/item?id=26089595">thread link</a>) | @Fiveplus
<br/>
February 10, 2021 | https://kristoff.it/blog/why-go-and-not-rust/ | <a href="https://web.archive.org/web/*/https://kristoff.it/blog/why-go-and-not-rust/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Imagine you’re a developer who mainly works with Go. You go to an event and, while chatting with some people, you decide to share with them the news that you wrote a small tool that does <em>something</em>. You claim that since you wrote it in Go, it’s fairly fast, it’s a single binary, etc. The group seems pleased with your recount and you start feeling good, but then you notice a stranger approaching from behind. A bone-chilling wind blows and you hear: “Why Go and not Rust?”</p>
<p>You start feeling less good. Well, you could answer that Go is what you know, so that’s what you used to solve your problem, but that’s probably not going to be a satisfactory answer. You were pridefully talking about how fast your tool was in the first place, and it’s obvious that the stranger is going to counter your simplistic excuse with all the great benefits that Rust brings over Go.</p>
<p>You start feeling bad. Why did you choose to learn Go in the first place? You were told that Go is fast and that it has great concurrency primitives, and now Rust comes along and everybody is saying that Rust is better in every aspect. Were they lying before or are they lying now? While there is no single language to rule them all, you know that it’s still possible to make bad choices and end up in a technological cul de sac. After all, you did choose Go over <em>that</em> other language a few years ago and you were pretty pleased with the routine of joining circles to ask “Why <em>that</em> and not Go?”</p>
<hr>
<p>While the story above is 100% the result of my imagination, it’s no secret that the Rust fandom has a few <em>overexcited</em> members who feel compelled to enlighten every lost soul about the virtues of the Crab-God. This isn’t really Rust’s fault, every successful project will have misbehaving followers, it’s inevitable. While everyone has to deal with these people, I feel that Go developers are particularly susceptible to their behavior because of how much Rust’s and Go’s <a href="https://courses.lumenlearning.com/ivytech-mktg101-master/chapter/reading-defining-the-message/" target="_blank" rel="nofollow noopener noreferrer">messaging</a> overlap.</p>
<p>Go is fast, but Rust is faster.  </p>
<p>Go has an efficient garbage collector, but Rust has static memory management.  </p>
<p>Go has great concurrency support, but Rust has provably-correct concurrency.</p>
<p>Go has interfaces, but Rust has traits and other zero-cost abstractions.</p>
<p>If you’re a Go developer you might feel a bit cheated. In contrast, Python developers are not particularly fazed by Rust. They know that Python is in many ways slow and inefficient, and they’re fine with that because they know Python’s role: make the code easy to write and offload to C when performance matters.</p>
<p>What about Go? </p>
<h2 id="go-is-very-good-for-writing-services"><a href="#go-is-very-good-for-writing-services" aria-label="go is very good for writing services permalink"></a>Go is very good for writing services</h2>
<p>Go was created at Google to solve Google problems, which mostly involves dealing with networked services. Go’s concurrency model is a good fit for server-side applications that must primarily handle multiple independent requests, rather than participate in complex result-passing schemes. This is one reason why you’re given <code>go</code> and not <code>await</code>.</p>
<p>Go has great support for HTTP and related protocols and it doesn’t take long to write a satisfactory web service. In my personal projects, Go proved to be a good alternative to Node.js, especially in situations where I wanted to pin down the interfaces between different components more explicitly than you would do while writing idiomatic JavaScript.</p>
<p>On top of that, it has great tooling to diagnose concurrency and performance problems, and cross-compilation makes deploying on whichever platform a breeze.</p>
<h2 id="go-is-unapologetically-simple"><a href="#go-is-unapologetically-simple" aria-label="go is unapologetically simple permalink"></a>Go is unapologetically simple</h2>
<p>Go takes great pride in offering a limited set of features built-in the language. This makes Go easy to learn and, even more importantly, it ensures that Go projects remain understandable even when growing in size.  The creators of Go like to call it a “boring” language. While we could debate whether the language could use one or two extra things, the idea of forcing people to “do more with less” has proven to be very successful.</p>
<p>Rust can indeed be as good as Go at doing web services, or even better, but it really cannot beat Go in terms of simplicity. And it’s not just simplicity, Go is also strict about things that other languages are usually more lax about. Go doesn’t want unused variables or imports, files belonging to different packages in the same directory, etc. It even used to complain about projects saved outside of <code>GOPATH</code> (thankfully that’s not the case anymore). </p>
<p>Go also doesn’t want any “fingerprints” in the code, so it enforces a single, universal style via <code>go fmt</code>.</p>
<p>In truth, none of these things alone is particularly  impressive, but they do describe the mindset that Go wants to impose. Many don’t like it but, in my opinion, it’s a killer feature for some types of development, like enterprise software.</p>
<h2 id="go-is-great-for-enterprise-software"><a href="#go-is-great-for-enterprise-software" aria-label="go is great for enterprise software permalink"></a>Go is great for enterprise software</h2>
<p>As I already mentioned, Go was created to solve Google problems, and Google problems are definitely enterprise-scale problems. Whether this was the direct aim of the creators or just the natural result of using it at a Big Corp, Go is indubitably an amazing breath of fresh air in enterprise software development.</p>
<p>If you have experience in writing enterprise software and tried Go, you probably know what I mean. Here’s a quick summary for everyone else.</p>
<p>Enterprise development is a very weird beast compared to other kinds of development. If you’ve never done it, you might ask yourself “What the hell is even enterprise software?” I did that kind of development as a consultant for a bit, so here’s my take on the subject.</p>
<h4 id="enterprise-software-development-is-about-scale"><a href="#enterprise-software-development-is-about-scale" aria-label="enterprise software development is about scale permalink"></a>Enterprise software development is about scale</h4>
<p>Not in terms of total number of users, or amount of data. Often that’s the case too, but the defining characteristics are scale of <strong>scope</strong> and <strong>process</strong>. </p>
<p><strong>Enterprise software always has a big scope.</strong> The domain can be big and wide, or narrow but stupidly complex. Sometimes it’s both. When creating software to model such domains, normal programming wisdom falls incredibly short because non-technological concerns out-weight most technological ones. </p>
<p><strong>To unravel complex domains you need a well-structured process.</strong> You need domain experts, analysts, and a mechanism that lets stakeholders gauge how much progress is being made. It’s also often the case that you, the technologist, don’t know the domain very well. Stakeholders and domain experts often won’t understand technology very well either. </p>
<p>This pushes further down technological concerns such as efficiency, <strong>and even correctness.</strong> Don’t get me wrong, the business does care about correctness, but they have a different definition for it. When you’re thinking about algorithmic correctness, they are thinking about a reconciliation back-office for the operations team they keep in a country where labor is cheap.</p>
<p>Because of the environment resulting from this general premise, a few well-known enterprise development “quirks” have emerged over time. I’ll name three relevant to my point.</p>
<ol>
<li><strong>There are a lot of junior developers</strong> who learn on the job how to program and most are not lucky enough to find a job that will truly teach them anything. In some places, after you’re hired, you are stationed for one week in front of PluralSight and then you’re considered ready to go.</li>
<li><strong>Software projects quickly become huge and complex for all the wrong reasons.</strong> Big projects take time to build and people (or whole teams) will come and go in the meantime. Constant refactoring is never an option so each will leave behind a lot of code written with very varying levels of quality. Multiple teams working in parallel will produce redundant code. The domain shifts over time, inevitably invalidating older assumptions and consequently causing abstractions to leak. The more sophisticated an abstraction is, the higher the risk that it will become a problem when business comes back with a serious change request.</li>
<li><strong>The toolchain is very often lousy and/or dated.</strong> This is pretty much the inevitable result of all that I described so far. Huge amounts of old code tie you down to a specific toolset, junior developers will learn the status-quo at best, and the people on top (managers and stakeholders) are extremely often not prepared for making technological decisions based on first-hand experience, the general nature of the endeavor makes them risk-averse, causing them to mainly mimic what other successful players in their space do or, more precisely, what analysts <em>claim</em> other successful players do.</li>
</ol>
<h4 id="go-is-about-suppressing-complexity-at-scale"><a href="#go-is-about-suppressing-complexity-at-scale" aria-label="go is about suppressing complexity at scale permalink"></a>Go is about suppressing complexity at scale</h4>
<p>Go makes teams more successful, partially by giving them more than what they would get with other ecosystems, and partially by taking tools away from them, to prevent common pitfalls.</p>
<p><strong>Go is much easier to learn than Java or C#.</strong> A faster ramp-up is generally good, but it becomes fundamental when the project is lagging behind, the deadline is approaching, and management inevitably resorts to hiring more people, hoping (in vain) to speed things up.</p>
<p><strong>The Go community regards as anti-patterns many abstractions regularly employed by Java / C#</strong>, like IoC containers, or OOP inheritance, for example. There are only two levels of visibility for variables, and the only concurrency model is CSP. It’s way harder to fall into incomprehensible pitfalls when writing in Go than it is in Java / C#. </p>
<p><strong>The Go compiler is fast.</strong> Which means that running tests is going to be faster in general, that deployments will take less time, increasing the overall productivity.</p>
<p>With Go, it’s easier as a junior developer to be more productive, and harder as a mid-level developer to introduce brittle abstractions that will cause problems down the line.</p>
<p>For these reasons, Rust is less compelling than Go for enterprise software development. That doesn’t mean that Go is perfect, or that it’s not true that Rust has some advantages over Go. Rust has many advantages over Go, but more than anything, I would say that it’s the common perception of Go that is wrong.</p>
<p>Go is not blazing-fast. Go is not super memory-efficient. Go doesn’t have the absolutely best concurrency model. </p>
<p>Go is faster than Java / C#, more memory-efficient …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://kristoff.it/blog/why-go-and-not-rust/">https://kristoff.it/blog/why-go-and-not-rust/</a></em></p>]]>
            </description>
            <link>https://kristoff.it/blog/why-go-and-not-rust/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26089595</guid>
            <pubDate>Wed, 10 Feb 2021 14:32:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Products vs. Protocols: What Signal got right]]>
            </title>
            <description>
<![CDATA[
Score 108 | Comments 46 (<a href="https://news.ycombinator.com/item?id=26088305">thread link</a>) | @MattJ100
<br/>
February 10, 2021 | https://snikket.org/blog/products-vs-protocols/ | <a href="https://web.archive.org/web/*/https://snikket.org/blog/products-vs-protocols/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <p><small>Posted by Matthew Wild on February 9 2021</small></p><p><em>There is a significant difference between developing and promoting a
protocol (such as XMPP) and a product (such as Signal). Both approaches
have their advantages and disadvantages. This post details how and why
Snikket aims to strike a balance between the two.</em></p>
<h2 id="products-vs-protocols">Products vs Protocols</h2>
<p>This past weekend I gave a talk at the (virtual) FOSDEM conference about
a topic I’ve been thinking about a lot the past few years - the differences
between developing a product and developing a protocol.</p>
<p>You can watch the talk <a href="https://peertube.thepacket.exchange/videos/watch/96e35d83-e70c-4a87-868b-f9cbeb48e1d0">here</a>, but there were many things I
wanted to touch upon that wouldn’t fit into the 20 minute slot. This post
will cover the same topics, but expands on some of the points I
discussed.</p>
<h2 id="previously-in-open-protocols">Previously, in open protocols…</h2>
<p>I’ve been involved with <a href="https://xmpp.org/">XMPP</a> (once known as Jabber) for over 15
years. It is now over 20 years since XMPP’s inception, and over this
time XMPP, along with the rest of the tech industry, has seen significant
change.</p>
<p>XMPP began life in the late 1990s, as an attempt to break into the
messaging silos of that era. The names and logos may have been different,
but it was a very similar landscape to today - oversized tech companies
fighting each other for control over people who simply want to use the
internet for what it was designed, communicating with one another.</p>
<p>Email got lucky. A standard protocol managed to break down the walls of
even the final fortress of resistance, AOL. This was achieved largely
because the adoption of standard protocols by smaller providers allowed
them to form a network together that began to threaten even America’s
largest ISP.</p>
<p>Unfortunately we never quite reached that point with instant messaging.
However that hasn’t stopped many of us from continuing to strive for a
similar outcome even as our symbol of hope, the open email network, is
under threat today more than ever before.</p>
<p>Despite numerous projects, communities and organizations campaigning for
decades in favour of open messaging systems, the space is still
dominated by large silos. The largest the world has ever known. WhatsApp
alone has over <em>2 billion</em> users. That means a significant portion of
the world’s communications are flowing through a single company. A
company that has a simple business model - amassing data about people
and leveraging that data to help their actual customers (other
businesses) influence the beliefs, biases and behaviour of the users of
their platforms.</p>
<h2 id="the-slippery-slope">The slippery slope</h2>
<p>Despite the dizzying numbers associated with WhatsApp today, it had more
humble beginnings. Founded by two ex-Yahoo employees, Brian Acton and
Jan Koum, it began as a simple messaging app for iPhones. The server was
originally based on an <a href="https://www.process-one.net/blog/whatsapp-facebook-erlang-and-realtime-messaging-it-all-started-with-ejabberd/">open-source XMPP server</a>, and
used the XMPP protocol. However the goal of WhatsApp was not openness
and federation, and they soon diverged far from standard XMPP.</p>
<p>As WhatsApp grew, early users may recall that they also began charging a
small fee for accounts ($1/year). Their reasoning was simple:</p>
<blockquote>
    <p>â€œRemember, when advertising is involved <strong>you the user</strong>
    are the product.</p>
    <p>Your data isn't even in the picture. We are simply not interested in any of it.</p>
    <p>When people ask us why we charge for WhatsApp,
    we say â€˜Have you considered the alternative?â€™â€œ</p>
    <p><a href="https://blog.whatsapp.com/why-we-don-t-sell-ads">
         <strong>WhatsApp blog post â€œWhy we don't sell adsâ€œ, June 2012</strong>
       </a>
    </p>
</blockquote>
<p>Nevertheless, just two years later it was announced that WhatsApp had
been acquired by the internet’s fastest-growing advertising platform,
Facebook.</p>
<p>Despite declaring to the EU competition commission that linking an
individual’s data between WhatsApp and Facebook was not technically
feasible this is exactly what they went on to do, <a href="https://www.theguardian.com/business/2017/may/18/facebook-fined-eu-whatsapp-european-commission">leading to a â‚¬94
million fine</a>. Little by little, Facebook has been
loosening their privacy policies to allow them to absorb WhatsApp data
into their daily operations.</p>
<p>So when, in early 2021, the latest update to the privacy policy gave users
of the platform a clear ultimatum to allow this sharing or close their
account, many users wisely began to seek alternatives. Finally, the
moment we had been waiting for had arrived.</p>
<p>Many of us advocates of open communications seized the opportunity, and
recommendations were soon flying around for the wide range of alternative
messaging systems we’ve been building these past years. “Use XMPP!”,
“Use Matrix!”, “Use Signal!”, to name a few.</p>
<p>Despite a marked increase of signups on XMPP and Matrix servers, of
these three it was Signal that won by far the largest share of new users.
Millions of people flocked from WhatsApp and overloaded Signal’s servers,
resulting in disrupted message delivery across Signal’s service for days.</p>
<p>This service disruption was possible because, unlike XMPP and Matrix,
Signal is centralized, and all messages flow through a single set of
servers, the same model as WhatsApp.</p>
<p>XMPP and Matrix are both federated networks. Rather than a single entity
controlling the network, there are many servers to choose from, run by
many different independent providers. Even with a server down,
overloaded or closed to new users, the rest of the network continues
functioning.</p>
<p>So why did Signal receive millions of users, and XMPP/Matrix did not?</p>
<h2 id="signal">Signal</h2>
<p>At this point it’s impossible not to reference <a href="https://signal.org/blog/the-ecosystem-is-moving/">The Ecosystem is Moving</a>,
a 2016 blog post by Signal’s founder and CEO, Moxie Marlinspike. In this
post Moxie details all the problems he sees with protocols becoming
open internet standards. In particular, that they lose their ability to
evolve, and that evolution is vital to compete in our industry’s “moving
ecosystem”.</p>
<blockquote>
    <p>We got to HTTP version 1.1 in 1997, and have been stuck there
       until now. Likewise, SMTP, IRC, DNS, XMPP, are all similarly
       frozen in time circa the late 1990s.</p>
    <p><a href="https://signal.org/blog/the-ecosystem-is-moving/">
         <strong>Signal blog post â€œThe ecosystem is movingâ€œ, May 2016</strong>
       </a>
    </p>
</blockquote>
<p>Well. Far from being frozen in time, XMPP has changed significantly in the past
20 years.</p>
<figure>
    <img src="https://snikket.org/blog/products-vs-protocols/xmpp_2004_2021.png"> 
</figure>

<p>Just some of the things we have now that we didn’t have in the beginning:</p>
<ul>
<li>End-to-end encryption using OMEMO (based on Signalâ€™s protocol and
audited), with multi-device and offline capabilities</li>
<li>Audio/video calling (now 2nd generation, encrypted, WebRTC-compatible)</li>
<li>Mobile optimizations (bandwidth, connectivity, push notifications)</li>
<li>Full cross-device message synchronization</li>
</ul>
<p>Many of these things didn’t even exist as concepts back when XMPP began.
Adding them was only possible due to XMPP’s smart design: a core
protocol, with a <a href="https://xmpp.org/extensions/">suite of extensions</a> (known as XEPs). New
extensions are added as needed, and irrelevant ones get deprecated.</p>
<p>To help keep everyone on the same page as the protocol evolves, the XMPP
Standards Foundation (XSF) annually publishes the recommended XEPs that
different classes of software (e.g. instant messaging,
<a href="https://xmpp.org/uses/social.html">social networking</a>, or <a href="https://xmpp.org/uses/internet-of-things.html">smart devices</a>) should be
implementing. These round-ups are known as <a href="https://xmpp.org/about/compliance-suites.html">compliance suites</a>.</p>
<p>The documentation site <a href="https://docs.modernxmpp.org/">Modern XMPP</a> also serves as a useful reference
guide for modern XMPP implementations (including UI/UX considerations,
which are not covered by the protocol-level documentation).</p>
<h2 id="the-unfortunate-truth">The unfortunate truth</h2>
<p>The effort required in advancing the protocol <em>is</em> significant. And that’s
not even counting the implementation work. XMPP has a diverse and open
ecosystem. There is no single “XMPP client”, instead the ecosystem is
composed of… just about anyone who decides to write XMPP software. The
vast majority of this software is free/open-source, and developed by
volunteers and communities.</p>
<p>Publishing protocol updates does not magically mean the changes are
implemented in all XMPP software overnight. Some projects are more active
than others, and each contributor is an individual with their own life
and work schedule. Unfortunately this means that it’s very difficult to
evolve the protocol and keep everyone 100% in sync. Luckily XMPP’s
modular design makes it easy for some software to advance ahead of others
without having to lose backwards compatibility with the rest of the
network. If we didn’t have this feature, we would always be in a state where
half of the network is unable to communicate with the other half of the
network, or more likely we would be stuck with the initial set of
features because nobody would want to be the first ones to become
incompatible with everyone else.</p>
<p>But Moxie is right. We could move <strong>much</strong> faster if we didn’t care about
interoperability, software diversity, and decentralization.</p>
<p>And that is the approach Signal is taking.</p>
<h2 id="product-or-protocol">Product or protocol?</h2>
<p>It’s clear that there are trade-offs to be made here. Signal’s
product-led development excludes others from participating in the Signal
network. But it allows them to remain agile, and implement new features
as fast as they can write and ship code.</p>
<p>I put together some of the trade-offs into the following table:</p>
<table>
<thead>
<tr>
<th>Building an ecosystem</th>
<th>Building a product</th>
</tr>
</thead>
<tbody>
<tr>
<td>Focus on protocol</td>
<td>Focus on implementation</td>
</tr>
<tr>
<td>Mostly documentation</td>
<td>Mostly code</td>
</tr>
<tr>
<td>Cross-project collaboration</td>
<td>Single project/team</td>
</tr>
<tr>
<td>Building for developers</td>
<td>Building for end-users</td>
</tr>
<tr>
<td>Slow evolution</td>
<td>Evolves as fast as you want</td>
</tr>
<tr>
<td>Achieve diversity</td>
<td>Achieve a monoculture</td>
</tr>
<tr>
<td>Robust</td>
<td>Single point of failure</td>
</tr>
</tbody>
</table>
<p>I think that Signal’s approach is laudable for the number of people that
they have helped divert from data-mining platforms, and helping to remind
people that surveillance capitalism isn’t the only way to do things.</p>
<p>They’ve built a good user-friendly product, and they have done it with
security and privacy at its heart.</p>
<p>But we have to aspire to more than this. Signal is a centralized, closed
system. That means to communicate with your contacts who use Signal, you
must also consent to their terms, their software, their US jurisdiction.
You have to be okay with their servers being hosted with large cloud
providers such as Amazon and Google.</p>
<p>But one thing the past has shown us is that things change. Technologies
evolve, business leaders come and go, motives adjust. Signal today may
be as benign as WhatsApp before its acquisition by Facebook. But …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://snikket.org/blog/products-vs-protocols/">https://snikket.org/blog/products-vs-protocols/</a></em></p>]]>
            </description>
            <link>https://snikket.org/blog/products-vs-protocols/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26088305</guid>
            <pubDate>Wed, 10 Feb 2021 12:33:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Crackpot Cryptography and Security Theater]]>
            </title>
            <description>
<![CDATA[
Score 94 | Comments 27 (<a href="https://news.ycombinator.com/item?id=26088096">thread link</a>) | @p4bl0
<br/>
February 10, 2021 | https://soatok.blog/2021/02/09/crackpot-cryptography-and-security-theater/ | <a href="https://web.archive.org/web/*/https://soatok.blog/2021/02/09/crackpot-cryptography-and-security-theater/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		<div>

			
<p>A few years ago, when the IETF’s Crypto Forum Research Group was deeply entrenched in debates about elliptic curves for security (which eventually culminated in RFC 7748 and RFC 8032), an IT Consultant <a href="https://mailarchive.ietf.org/arch/msg/cfrg/VXLC6cj2KwecsWRhp0yJXLF9jEw/">showed up on the mailing list</a> with their homemade cipher, Crystalline.</p>



<p>Mike Hamburg <a href="https://mailarchive.ietf.org/arch/msg/cfrg/4c-nx0N9YGh6Qb3SBmM-B6ICaA8/">politely</a> informed the consultant that the CFRG isn’t the right forum for proposing new symmetric ciphers, or even new modes for symmetric ciphers, and invited them to email them off-list.</p>



<p>If you’re not familiar with the CFRG, let me just say, this was on the more patient and measured responses I’ve ever read.</p>



<p>Naturally, the author of Crystalline responded with this:</p>



<blockquote><p>I’m somewhat disappointed in your reply, as I presumed that someone with a stated interest in ciphers would be eager to investigate anything new to pop up that didn’t have obvious holes in it. It almost sounds like you have had your soul crushed by bureaucracy over the years and have lost all passion for this field.</p><cite>Full quote available <a href="https://mailarchive.ietf.org/arch/msg/cfrg/4c-nx0N9YGh6Qb3SBmM-B6ICaA8/">here</a>. It doesn’t get much better.</cite></blockquote>



<div><figure><img data-attachment-id="1390" data-permalink="https://soatok.blog/soatoktelegrams2020-14/" data-orig-file="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-14.png" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="SoatokTelegrams2020-14" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-14.png?w=300" data-large-file="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-14.png?w=512" src="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-14.png?w=512" alt="" srcset="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-14.png 512w, https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-14.png?w=150 150w, https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-14.png?w=300 300w" sizes="(max-width: 512px) 100vw, 512px"><figcaption>Really dude? (Art by <a href="https://twitter.com/lynxvsjackalope">Khia</a>.)</figcaption></figure></div>



<p>The discussion continued until Tony Arcieri dropped <a href="https://mailarchive.ietf.org/arch/msg/cfrg/e-jEGddvSbManBMppC8XAc5i8GY/">one of the most brutal takedowns</a> of a cryptographic design in CFRG history.</p>



<blockquote><p>I think the biggest problem though is all of this has already been pointed out to you repeatedly in other forums and you completely refuse to acknowledge that your cipher fails to meet the absolute most minimum criteria for a secure cipher.</p><cite>Tony Arcieri, landing a cryptographic 360 no-scope on Crystalline.</cite></blockquote>



<p>In spite of this mic drop moment, the author of Crystalline continued to double down and insist that a symmetric cipher doesn’t need to be indistinguishable from randomness to be secure (which, to severely understate the affairs, is simply not true).</p>



<p>Normally, when a cipher fails at the indistinguishable test, it’s subtle. This is what Crystalline ciphertexts look like.</p>



<div><figure><img data-attachment-id="2691" data-permalink="https://soatok.blog/2021/02/09/crackpot-cryptography-and-security-theater/crystallinecipher/" data-orig-file="https://soatok.files.wordpress.com/2021/02/crystallinecipher.png" data-orig-size="1024,1024" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="CrystallineCipher" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2021/02/crystallinecipher.png?w=300" data-large-file="https://soatok.files.wordpress.com/2021/02/crystallinecipher.png?w=580" src="https://soatok.files.wordpress.com/2021/02/crystallinecipher.png?w=1024" alt="" srcset="https://soatok.files.wordpress.com/2021/02/crystallinecipher.png 1024w, https://soatok.files.wordpress.com/2021/02/crystallinecipher.png?w=150 150w, https://soatok.files.wordpress.com/2021/02/crystallinecipher.png?w=300 300w, https://soatok.files.wordpress.com/2021/02/crystallinecipher.png?w=768 768w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Data encrypted with Crystalline, provided in the CFRG mailing list.</figcaption></figure></div>



<p>Modern ciphers produce something that will look like white noise, like an old TV without the cable plugged in. There should be no discernible pattern.</p>



<p>Crystalline’s author remained convinced that Crystalline’s “131072-bit keys” and claims of “information-theoretic security” were compelling enough to warrant consideration by the standards body that keeps the Internet running.</p>



<p>This was in 2015. In the year 2021, I can safely say that Crystalline adoption never really took off.</p>



<h2>Against Crackpot Crypto</h2>



<p>Instances of Crackpot Cryptography don’t always look like Crystalline. Sometimes the authors are more charismatic, or have more financial resources to bedazzle would-be <s>suckers</s>^<sup>investors</sup>. Other times, they’re less brazen and keep their designs far away from the watchful gaze of expert opinions–lest their mistakes be exposed for all to see.</p>



<p>Crackpot cryptography is considered dangerous–not because we want people to avoid encryption entirely, but because crackpot cryptography offers a false sense of security. This leads to users acting in ways they wouldn’t if they knew there was little-to-no security. Due to the strictly performative nature of these security measures, I also like to call them <strong>Security Theater</strong> (although that term is more broadly applicable in other contexts).</p>



<p>The Cryptology community has a few defense mechanisms in place to prevent the real-world adoption of crackpot cryptography. More specifically, we have pithy mottos that distill best practices in a way that usually gets the intent across. (Hey, it’s something!) Unfortunately, the rest of the security industry outside of cryptology often weaponizes these mottos to promote useless and harmful gatekeeping.</p>



<p>The best example of this is the, “Don’t roll your own crypto!” motto.</p>



<h3 id="roll-your-own">They See Me Rollin’ [My Own Crypto]</h3>



<p>Crackpots never adhere to this rule, so anyone who violates it immediately or often, with wild abandon, can be safely dismissed for kooky behavior.</p>



<p>But if taken to its literal, logical extreme, this rule mandates that nobody would ever write cryptographic code and we wouldn’t <em>have</em> cryptography libraries to begin with. So, clearly, it’s a rule meant to be sometimes broken.</p>



<p>This is why some cryptography engineers <a href="https://www.cryptofails.com/post/75204435608/write-crypto-code-dont-publish-it">soften the message a bit</a> and encourage tinkering for the sake of education. The world needs more software engineers qualified to write cryptography.</p>



<p>After all, you wouldn’t expect to hear “Don’t roll your own crypto” being levied against Jason Donenfeld (WireGuard) or Frank Denis (libsodium), despite the fact that both of those people did just that.</p>



<p>But what about <a href="https://dholecrypto.com/">a high-level library that defers to libsodium for its actual crypto implementations</a>?</p>







<p>In a twist that surprises no one, lazy heuristics have a high false positive rate. In this case, the lazy heuristic is both, “What qualifies as rolling one’s own crypto?” as well as, “When is it safe to break this rule?”</p>



<p>More broadly, though, is that these knee-jerk responses are a misfiring defense mechanism intended to stop quacks from taking all the air out of the room.</p>



<p>It doesn’t always work, though. There have been a few downright absurd instances of crackpot cryptography in the past few years.</p>



<h2>Modern Examples of Crypto Crackpottery</h2>



<h3 id="craig-wright">Craig Wright’s Sartre Signature Scam</h3>



<p>Satoshi Nakamoto is the alias of the anonymous cryptographer that invented Bitcoin. In the years since Satoshi has gone quiet, a few cranks have come out of the woodwork to claim to be the real Satoshi.</p>



<p>Craig Wright is one of the more famous Satoshi impersonators due to his <a href="https://dankaminsky.com/2016/05/02/validating-satoshi-or-not/">Sartre Signature Scam</a>.</p>



<p>Satoshi’s earliest Bitcoin transactions are public. If you can lift the public key and signature from the transaction and then replay them in a different context as “proof” that you’re Satoshi, you can produce a proof of identity that validates without having to possess Satoshi’s private key. Then you can just wildly claim it’s a signature that validates the text of some philosopher’s prose and a lot of people will believe you.</p>



<p>With a little bit of showmanship added on, you too can convince Gavin Anderson by employing this tactic. (Or maybe not; I imagine he’s learned his lesson by now.)</p>



<h3 id="time-ai">Time AI</h3>



<p>Crown Sterling’s sponsored talk at Black Hat USA 2019 is the most vivid example of crackpot cryptography in most people’s minds.</p>



<p>Even the name “Time AI” just screams buzzword soup, so it should come as no surprise that their talk covered a lot of nonsense: “quasi-prime numbers”, “infinite wave conjugations”, “nano-scale of time”, “speed of AI oscillations”, “unified physics cosmology”, and “multi-dimensional encryption technology”.</p>



<p>Naturally, this pissed a lot of cryptographers off, and the normally even-keeled Dan Guido of Trail of Bits actually called them out on their bullshit during their presentation’s Q&amp;A section.</p>



<figure><div>
<div><blockquote data-width="550" data-dnt="true"><p lang="en" dir="ltr">I yelled at the Time AI guy. It’s ok to get angry at someone trying to harm people. I was shocked that more people haven’t done the same. <a href="https://t.co/Mwe7yrihgk">https://t.co/Mwe7yrihgk</a></p>— Dan Guido (@dguido) <a href="https://twitter.com/dguido/status/1159579063540805632?ref_src=twsrc%5Etfw">August 8, 2019</a></blockquote></div>
</div></figure>



<p>For most people, the story ended with a bunch of facepalms. But Crown Sterling doubled down and <a href="https://www.schneier.com/blog/archives/2019/09/crown_sterling_.html">published a press release claiming the ability to break 256-bit RSA keys</a>.</p>



<div><figure><img data-attachment-id="116" data-permalink="https://soatok.blog/soatok_stickerpack-facepaw/" data-orig-file="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-facepaw.png" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Facepaw!" data-image-description="<p>Facepaw!</p>
" data-medium-file="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-facepaw.png?w=300" data-large-file="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-facepaw.png?w=512" src="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-facepaw.png?w=512" alt="Facepaw" srcset="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-facepaw.png 512w, https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-facepaw.png?w=150 150w, https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-facepaw.png?w=300 300w" sizes="(max-width: 512px) 100vw, 512px"></figure></div>



<p>Amusingly, their attack took 50 seconds–which is a lot slower than the standard RSA factoring attacks for small key sizes.</p>



<p>(For those who are missing context: In order to be secure, RSA requires public key sizes in excess of 2048 bits. Breaking 256-bit RSA should take less than a minute on any modern PC.)</p>



<h3 id="terra-quantum">Terra Quantum</h3>



<p>Earlier this week, Bloomberg news ran a story titled, <em><a href="https://archive.md/sZ1Q5">A Swiss Company Says It Found Weakness That Imperils Encryption</a></em>. If you only read the first few paragraphs, it’s really clear that the story basically boils down to, “Swiss Company realizes there’s an entire discipline of computer science dedicated to quantum computers and the risks they pose to cryptography.”</p>



<p>Here’s a quick primer on quantum computers and cryptography:</p>



<p>If a practical quantum computer is ever built, it can immediately break all of the <em>asymmetric</em> cryptography used on the Internet today: RSA, DSA, Diffie-Hellman, Elliptic Curve Cryptography, etc. The attack costs to break these algorithms vary, but are generally in the <img src="https://s0.wp.com/latex.php?latex=2%5E%7B32%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{32}" title="2^{32}"> range (for numbers of queries).</p>



<p>The jury is still out on whether or not quantum computers will ever be practical. Just in case, a lot of cryptographers are working on <strong>post-quantum cryptography</strong> (algorithms that are secure even against quantum computers).</p>



<p>Symmetric cryptography fares a lot better: The attack costs are roughly reduced by a factor of <img src="https://s0.wp.com/latex.php?latex=%5Csqrt+N&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="\sqrt N" title="\sqrt N">. This makes a 128-bit secure cipher have only a 64-bit security level, which is pretty terrible, but a 256-bit secure cipher remains at the 128-bit security level even with practical quantum computers.</p>



<p>So it’s a little strange that they open with:</p>



<blockquote><p>The company said that its research found vulnerabilities that affect symmetric encryption ciphers, including the Advanced Encryption Standard, or AES, which is widely used to secure data transmitted over the internet and to encrypt files. Using a method known as quantum annealing, the company said its research found that even the strongest versions of AES encryption may be decipherable by quantum computers that could be available in a few years from now.</p><cite>From the Bloomberg article.</cite></blockquote>



<p>Uh, no.</p>



<p>Let’s do some math: <img src="https://s0.wp.com/latex.php?latex=2%5E%7B32%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{32}" title="2^{32}"> calculations can be performed in <em>seconds</em> on modern computers. If we assume that practical quantum computers are also as fast as classical computers, it’s safe to assume this will hold true as well.</p>



<p>You can break 128-bit ciphers in <img src="https://s0.wp.com/latex.php?latex=2%5E%7B64%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{64}" title="2^{64}"> time, using <a href="https://crypto.stackexchange.com/questions/63068/attacking-aes-128-with-grovers-algorithm">Grover’s algorithm</a>. You can’t break 256-bit ciphers <a href="https://pthree.org/2016/06/19/the-physics-of-brute-force/">in any practical time</a>, even with the quantum computer speed-up. Most software prefers 256-bit AES over 128-bit AES for this reason.</p>



<p>What does <img src="https://s0.wp.com/latex.php?latex=2%5E%7B64%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{64}" title="2^{64}"> time look like?</p>



<figure><p><span><iframe width="580" height="327" src="https://www.youtube.com/embed/vWXP3DvH8OQ?version=3&amp;rel=1&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;fs=1&amp;hl=en&amp;autohide=2&amp;wmode=transparent" allowfullscreen="true" sandbox="allow-scripts allow-same-origin allow-popups allow-presentation"></iframe></span>
</p></figure>



<p>In 2012, we could break DES (which has 56-bit keys) in 24 hours with FPGAs dedicated to the task. Since each extra bit of security …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://soatok.blog/2021/02/09/crackpot-cryptography-and-security-theater/">https://soatok.blog/2021/02/09/crackpot-cryptography-and-security-theater/</a></em></p>]]>
            </description>
            <link>https://soatok.blog/2021/02/09/crackpot-cryptography-and-security-theater/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26088096</guid>
            <pubDate>Wed, 10 Feb 2021 11:59:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Is Apple Banning Free Analytics SDKs?]]>
            </title>
            <description>
<![CDATA[
Score 101 | Comments 75 (<a href="https://news.ycombinator.com/item?id=26087935">thread link</a>) | @ch_sm
<br/>
February 10, 2021 | https://steamclock.com/blog/2021/02/apple-tracking-analytics-sdks/ | <a href="https://web.archive.org/web/*/https://steamclock.com/blog/2021/02/apple-tracking-analytics-sdks/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Page body">

        



<section id="archive">

    
    
    <div>

        <p><span><span></span></span> Allen Pike • February 8, 2021</p>

        

        <article>
            <p>Apple <a href="https://www.theverge.com/interface/2020/8/27/21402744/apple-idfa-facebook-fight-ads-advertising">announced last summer</a> that they will soon require users to opt in before apps can get the infamous “IDFA” tracking identifier for that user. While this was controversial in the ad tech sphere, most mobile apps can get by without this identifier.</p>

<p>However, most mobile app teams do collect analytics to help make product decisions. What features inspire free users to convert to paid users? Why do we think our trial is converting poorly? Do we still need to support iOS 12? A lot of apps use free SDKs to collect and analyze this kind of data.</p>

<p>The most popular analytics SDKs are free because they’re owned by companies that sell ads, or share data with those companies: Google Analytics, Flurry, and Google’s Firebase. Paid competitors like Mixpanel and Amplitude can be really powerful, but often cost thousands of dollars a year or more.</p>

<p>Now, I can’t find this said explicitly anywhere. But it <em>seems</em> like, along with the incoming restrictions on IDFA and ad attribution, Apple is also enacting a de-facto ban on these free analytics SDKs. The setup looks like this:</p>

<ol>
  <li>Since December, App Store Connect’s <a href="https://developer.apple.com/app-store/app-privacy-details/#user-tracking">App Privacy submission process</a> has required developers to indicate if they have “3rd Party Tracking”. Developers are told to do this if they’re including an SDK from a company that hosts ads or shares data with advertisers across apps.</li>
  <li>In the coming weeks, iOS 14.5 will <a href="https://developer.apple.com/app-store/user-privacy-and-data-use/">require apps that engage in “3rd Party Tracking” to ask explicit permission</a>, which most users will opt out of.</li>
  <li>App Review will soon start rejecting apps that are not following the opt in provisions. They’ll likely do this by comparing the app’s App Privacy metadata to the use of the new opt-in APIs, as well as scanning apps for the presence of certain SDKs.</li>
  <li>Therefore, it seems, <strong>iOS apps currently using the Google Analytics, Flurry, and Firebase SDKs may need to migrate off of them promptly</strong> and instead use an analytics tool not owned by a company that displays ads. Popular choices include Mixpanel, Amplitude, or a self-managed analytics tool.</li>
</ol>

<p>These new rules could be a big hurdle for some developers, especially if they currently rely on other SDKs that do 3rd party tracking or attribution, such as Facebook’s.</p>

<h2 id="do-we-really-have-to">Do we really have to?</h2>

<p>The challenging thing for developers evaluating all this is that many of the points above have not been said so explicitly by Apple. Apple has instead outlined a series of rules, each rule being worded somewhat differently between the App Privacy documentation and the App Tracking Transparency documentation. A generous reading makes it seem like you maybe <em>could</em> comply with the rules and still use some of these SDKs. Maybe.</p>

<p>Apple did not – and from a legal perspective likely can’t – explicitly ban the Google Analytics, Flurry, Facebook, and Firebase SDKs. Their wording leaves some wiggle room. It seems like it <em>could</em> be possible to use them. It seems even more possible that Facebook and Google could make them usable. However, this puts developers in the situation of evaluating the changing documentation, complex privacy policies, and large settings panels that these tools offer, trying to judge whether a given setup of a given SDK would now pass muster from Apple’s perspective.</p>

<p>For example, in App Store Connect – where developers indicate if they have Third Party Tracking – Apple asks if your app is:</p>

<blockquote>
  <p>Sharing data with entities who display third-party ads.</p>
</blockquote>

<p>It seems maybe impossible for a Google-owned analytics SDK to not trigger this provision. In contrast, the AppTrackingTransparency documentation asks whether you are:</p>

<blockquote>
  <p>Placing a third-party SDK in your app that combines user data from your app with user data from other developers’ apps to target advertising or measure advertising efficiency.</p>
</blockquote>

<p>Does it matter if the SDK combines user data <em>in general</em>, or is it sufficient if you’ve been assured that your app’s user data <em>in particular</em> won’t be combined by the SDK? The logical complexities and differences in wording raise questions that, unfortunately, developers need to make assumptions about until we hear something from Apple, or we hear through the grapevine how App Review actually enforces these rules. In particular we need to make three guesses:</p>

<ol>
  <li>Will you be allowed to indicate your app has 3rd Party Tracking, not implement the opt-in dialog, but still get App Review to approve you as long as you believe you’re not required to do opt-in based on your evaluation of the SDK, its settings, and the exact wording in the AppTrackingTransparency documentation? <strong>Our guess is no. It seems likely that Apple will expect that all 3rd Party Tracking requires the opt-in dialog.</strong></li>
  <li>Will you be allowed to include an SDK that App Review considers a “3rd Party Tracking SDK”, but not indicate 3rd Party Tracking in your App Privacy data as long as you believe you’re not required to based on your evaluation of the SDK, its settings, and the exact wording of the App Privacy documentation? <strong>Our guess is no. It seems like Apple will probably consider any use of the Facebook and Google SDKs to be 3rd Party Tracking.</strong></li>
  <li>Is it safe to continue using – or migrate to – 3rd party product analytics tools like MixPanel and Amplitude that are not owned by advertising companies? <strong>Our guess is yes. These rules seem squarely aimed at companies involved in advertising.</strong></li>
</ol>

<p>If one of the above assumptions is wrong – for example, maybe these SDKs <em>can</em> be configured to behave sufficiently privately, and App Review can be convinced that this has been done for your app – then that would be really  useful to know. If anybody has more information on what Apple will or won’t be allowing, or even conflicting hunches, <a href="https://twitter.com/apike">let me know</a>.</p>

<h2 id="does-our-sdk-require-app-tracking-transparency-uh-well">Does our SDK require App Tracking Transparency? Uh… well…</h2>

<p><a href="https://firebase.google.com/docs/ios/app-store-data-collection#firebase_user_agent">Firebase</a>, <a href="https://support.google.com/analytics/answer/10285841">Google Analytics</a>, and <a href="https://developers.facebook.com/blog/post/2021/01/19/facebook-login-updates-new-limited-data-mode/">Facebook</a> have been releasing updates and documentation to help developers navigate Apple’s questions, but conspiciously they don’t directly answer them. Instead they answer different, related questions that are maybe helpful but are certainly not decisive.</p>

<p>Contrast that to paid analytics tools that don’t share data with ad companies. MixPanel, for example, <a href="https://community.mixpanel.com/announcements-6/idfa-changes-on-ios-14-4442">posted clearly 6 months ago</a> that they believe they’re compliant with Apple’s rules:</p>

<blockquote>
  <p>You need to specify what data is used to track someone across external apps and websites, which in our case is none. We only allow customers to track data they own; data sent to Mixpanel is not used by any other external companies.</p>
</blockquote>

<p>Interestingly, Flurry – whose business model apparently <em>is</em> to share data with advertisers – <a href="https://developer.yahoo.com/flurry/docs/analytics/gettingstarted/ios14/att/">has also claimed its SDK doesn’t trigger the App Tracking Transparency rules</a>. This seems dubious, but is interesting if so.</p>

<p>However, if the above rules and assumptions are correct, any apps that don’t both purge these SDKs and set their App Privacy to say they no longer have 3rd Party Tracking – or only use the SDKs for the small percentage of users who opt in – will soon face rejection. Meanwhile, even besides these restrictions, there are some substantial benefits to using premium analytics services like Mixpanel.</p>

<p>Our advice for now, then, is that <strong>all iOS apps should be prepared to migrate off of the Google Analytics, Firebase, Facebook, and Flurry SDKs, potentially on very short notice</strong>. If you were already on the fence, now is probably a good time to make the move. A <em>lot</em> of apps might be making changes in the coming weeks.</p>

<p>Hold on to your butts.</p>

<hr>

<p><em>Updates, February 11:</em></p>

<p>A number of developers have gotten in touch to share their guesses about how App Review will handle this in the coming weeks – thanks folks! Some common themes:</p>

<ol>
  <li>Many developers assume Apple will only be using App Review to enforce opt-in for the IDFA identifier, and will not start rejecting apps for using SDKs that go against their <a href="https://developer.apple.com/app-store/user-privacy-and-data-use/">new rules prohibiting things like combining data and using fingerprinting</a>, as long as developers assert their SDKs are following the rules. This is plausible. If Apple goes this route though, developers are left with the ongoing risk of a surprise rejection, when App Review later cracks down on a specific SDK that’s played loose with the rules.</li>
  <li>Flurry <a href="https://www.flurry.com/blog/preparing-for-ios-14/">posted back in July 2020 that it intends to comply with Apple’s requirements</a> so as not to require opt-in. In particular, they’ve explicitly said “Flurry will respect Apple’s policy requirement to not combine data across apps and websites owned by other companies.” It’s not clear how Apple would verify this is true, and this is surprising given Flurry’s business model, but it seems like a clear statement that Flurry intends to comply.</li>
  <li>A couple folks has asked if embedding code from YouTube – which certainly does ad targeting with its data – would violate Apple’s privacy rules. By the letter of the policy, this seems possible.</li>
</ol>

        </article>

        

        <div>

            <p><span><span><!--?xml version="1.0" encoding="UTF-8"?-->
<svg width="218px" height="50px" viewBox="0 0 218 50" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>Steamclock Software</title>
    <desc>Steamclock is a web and mobile software studio based in downtown Vancouver. We make great apps for iOS, Android, and the web.</desc>
    <defs>
        <path d="M71.213593,20.9625922 C72.4992306,20.9625922 73.3869621,20.6244828 73.3869621,19.610331 C73.3869621,18.5652975 72.1930679,18.2273646 70.6626055,17.7662581 C68.2445873,17.0593341 65.3365682,16.1681793 65.3365682,12.4800336 C65.3365682,9.37599138 67.8466812,7.47050826 71.2441741,7.47050826 C73.3869621,7.47050826 75.2847496,7.71650228 77.121199,8.82276952 L75.8968994,11.9883985 C74.5806806,11.3737664 73.2644619,11.0663621 71.6728372,11.0663621 C70.5402809,11.0663621 69.6219684,11.404295 69.6219684,12.4186233 C69.6219684,13.4327752 70.7545246,13.7708846 72.4686495,14.2626962 C74.9785868,14.9696202 77.7335246,15.8914801 77.7335246,19.3643369 C77.7335246,22.8064886 75.3766687,24.435449 71.6420803,24.435449 C68.8567371,24.435449 66.7447061,23.9438139 65,22.8987805 L66.1631374,19.7024464 C67.8466812,20.5016622 69.6219684,20.9625922 71.213593,20.9625922 Z M84.7118567,24.7427474 C81.7122699,23.0523767 81.2836068,19.7025169 81.2836068,16.6290034 L81.2836068,11.1585481 L78.9265752,11.1585481 L78.9265752,7.83921695 L81.2836068,7.83921695 L81.2836068,3.22921131 L85.7526695,2.67616592 L85.7526695,7.83921695 L89.0890002,7.83921695 L88.6912698,11.1585481 L85.7526695,11.1585481 L85.7526695,16.7212953 C85.7526695,19.1800002 86.211738,20.9933679 87.7116192,22.652857 L84.7118567,24.7427474 Z M97.9658755,24.435449 C93.0377444,24.435449 90.2216444,22.3455586 90.2216444,16.0144771 C90.2216444,9.46810679 93.0989067,7.47050826 97.5066314,7.47050826 C101.853194,7.47050826 104.454874,9.13017382 104.454874,17.0593341 L94.8436127,18.0734859 C95.1190186,20.0405558 96.037507,20.8088901 97.9045375,20.8088901 C99.5880813,20.8088901 101.087963,20.4707806 102.649006,19.5487442 L103.995806,22.6529629 C102.2511,23.851522 100.322731,24.435449 97.9658755,24.435449 Z M100.108488,14.3855167 C100.04715,11.9883985 99.159594,11.0663621 97.5066314,11.0663621 C95.639425,11.0663621 94.6599502,12.234216 94.6599502,14.7852129 L94.6599502,15.2461429 L100.108488,14.3855167 Z M117.402941,24.4047968 C117.096954,23.6364625 116.821373,22.8065415 116.63771,22.0075021 C115.749979,23.5134655 114.372598,24.435502 111.954404,24.435502 C107.883423,24.435502 106.291623,22.4686086 106.291623,19.4259766 C106.291623,16.2603476 108.18941,14.5699769 115.994804,14.109047 C115.872479,11.7731625 114.709342,11.1892356 112.933879,11.1892356 C111.403416,11.1892356 109.872954,11.5889317 108.464816,12.2956793 L107.118192,9.00722975 C109.04656,7.90078604 111.219754,7.4705612 113.637948,7.4705612 C117.892591,7.4705612 120.463866,9.99067644 120.463866,13.8630529 L120.463866,17.8584265 C120.463866,19.7332044 120.494623,21.7000978 120.892354,23.5441707 L117.402941,24.4047968 Z M115.994804,17.059387 C112.138066,17.2744995 110.760685,17.9507183 110.760685,19.2722745 C110.760685,20.4708336 111.342078,20.9626452 113.08696,20.9626452 C114.617423,20.9626452 115.382829,20.1327241 115.994804,18.811168 L115.994804,17.059387 Z M142.747279,24.0666874 L142.747279,15.1231988 C142.747279,12.357266 142.226873,11.1278253 140.543329,11.1278253 C139.012867,11.1278253 138.339555,11.7731625 137.666067,13.0333084 L137.666067,24.0666874 L133.197004,24.0666874 L133.197004,13.52512 C133.197004,12.0805668 132.462354,11.1278253 130.99323,11.1278253 C129.462592,11.1278253 128.789279,11.7731625 128.115967,13.0333084 L128.115967,24.0666874 L123.646905,24.0666874 L123.646905,14.0474602 C123.646905,12.1726822 123.616148,10.2057889 123.218417,8.36171602 L126.70783,7.50126634 C127.013817,8.26960061 127.289398,9.09934516 127.473061,9.89838457 C128.330211,8.39259762 129.677011,7.4705612 132.095205,7.4705612 C134.819386,7.4705612 136.257929,8.5461233 136.961998,10.0213816 C137.819148,8.39259762 139.22711,7.4705612 141.645129,7.4705612 C146.787503,7.4705612 147.216342,11.1892356 147.216342,14.5085667 L147.216342,24.0666874 L142.747279,24.0666874 Z M157.531339,24.4354843 C152.05222,24.4354843 149.879027,21.7307853 149.879027,15.9529257 C149.879027,10.1750661 152.05222,7.47054355 157.531339,7.47054355 C159.306802,7.47054355 160.898426,7.74706625 162.275807,8.57698726 L160.837264,11.8654368 C159.857614,11.3736252 158.725057,11.1278076 157.531339,11.1278076 C154.837739,11.1278076 154.378671,12.9102937 154.378671,15.9529257 C154.378671,18.9955577 154.837739,20.7780438 157.531339,20.7780438 C158.725057,20.7780438 159.857614,20.5322262 160.837264,20.0405911 L162.275807,23.3290406 C160.898426,24.1589616 159.306802,24.4354843 157.531339,24.4354843 Z M171.886595,15.9529433 C171.886595,10.1750837 174.059964,7.4705612 179.539082,7.4705612 C185.018025,7.4705612 187.191395,10.1750837 187.191395,15.9529433 C187.191395,21.730803 185.018025,24.435502 179.539082,24.435502 C174.059964,24.435502 171.886595,21.730803 171.886595,15.9529433 Z M182.691751,15.9529433 C182.691751,12.9103114 182.232682,11.066415 179.539082,11.066415 C176.845307,11.066415 176.386239,12.9103114 176.386239,15.9529433 C176.386239,18.9955753 176.845307,20.8396481 179.539082,20.8396481 C182.232682,20.8396481 182.691751,18.9955753 182.691751,15.9529433 Z M196.757347,24.4354843 C191.278228,24.4354843 189.104859,21.7307853 189.104859,15.9529257 C189.104859,10.1750661 191.278228,7.47054355 196.757347,7.47054355 C198.532634,7.47054355 200.124259,7.74706625 201.50164,8.57698726 L200.063097,11.8654368 C199.083446,11.3736252 197.951065,11.1278076 196.757347,11.1278076 C194.063571,11.1278076 193.604503,12.9102937 193.604503,15.9529257 C193.604503,18.9955577 194.063571,20.7780438 196.757347,20.7780438 C197.951065,20.7780438 199.083446,20.5322262 200.063097,20.0405911 L201.50164,23.3290406 C200.124259,24.1589616 198.532634,24.4354843 196.757347,24.4354843 Z M207.990656,15.8607573 L207.990656,24.0666168 L203.521769,24.0666168 L203.521769,2.55308068 L207.990656,2.00003529 L207.990656,14.9387209 L212.3678,7.83930518 L217.357269,8.33111676 L212.337219,15.2768304 L218,23.3905744 L213.163788,24.4354314 L207.990656,15.8607573 Z M70.5211238,46.3708984 C72.1677593,46.3708984 73.1605915,45.933262 73.1605915,44.4258868 C73.1605915,43.0399205 72.3131076,42.7969264 70.4000296,42.2375282 C68.2932711,41.6541307 66.3318608,40.9974995 66.3318608,38.2015675 C66.3318608,35.8430954 68.1721768,34.7975325 70.4242836,34.7975325 C71.8044766,34.7975325 73.0880052,34.9921749 74.2261856,35.6242772 L73.6207144,37.0344194 C72.7730548,36.5724306 71.7076364,36.3536124 70.569456,36.3536124 C69.140755,36.3536124 68.0753366,36.6454876 68.0753366,38.2988004 C68.0753366,39.6604144 69.3103572,40.0736985 70.8842308,40.5113349 C72.7973088,41.0462042 74.9040672,41.5810736 74.9040672,44.2312445 C74.9040672,46.9057678 73.2574317,47.9269782 70.617964,47.9269782 C68.8259803,47.9269782 67.251931,47.6352794 65.9685781,46.8328872 L66.5497953,45.3983926 C67.6877999,46.0548473 69.0681687,46.3708984 70.5211238,46.3708984 Z M77.4462201,41.3622907 C77.4462201,36.888517 78.9960154,34.7975678 82.8947577,34.7975678 C86.7935,34.7975678 88.3432953,36.888517 88.3432953,41.3622907 C88.3432953,45.8360643 86.7935,47.9270135 82.8947577,47.9270135 C78.9960154,47.9270135 77.4462201,45.8360643 77.4462201,41.3622907 Z M86.5270575,41.3622907 C86.5270575,38.2257787 85.9943483,36.3292953 82.8947577,36.3292953 C79.7951671,36.3292953 79.2624579,38.2257787 79.2624579,41.3622907 C79.2624579,44.4988027 79.7951671,46.395286 82.8947577,46.395286 C85.9943483,46.395286 86.5270575,44.4988027 86.5270575,41.3622907 Z M92.4110246,47.6351912 L92.4110246,36.8642176 L90.2801879,36.8642176 L90.2801879,35.3324901 L92.3626924,35.3324901 C92.2658521,34.7489161 92.1930901,34.1409897 92.1930901,33.581768 C92.1930901,31.4664664 93.0407498,29.8860342 95.7529795,29.8860342 C96.2612589,29.8860342 96.7698898,29.9590913 97.2300128,30.0806766 L96.9394921,31.612404 C96.6004633,31.5151711 96.2371806,31.4664664 95.9224059,31.4664664 C94.2755946,31.4664664 93.9124877,32.1716258 93.9124877,33.7033532 C93.9124877,34.1896944 93.9608199,34.8217967 94.1061682,35.3324901 L97.0120783,35.3324901 L96.8424761,36.8642176 L94.2030084,36.8642176 L94.2030084,47.6351912 L92.4110246,47.6351912 Z M100.668527,41.629743 L100.668527,36.6211 L98.5375141,36.6211 L98.5375141,35.0893725 L100.668527,35.0893725 L100.668527,31.2720535 L102.460335,31.0288829 L102.460335,35.0893725 L105.245326,35.0893725 L105.075724,36.6211 L102.460335,36.6211 L102.460335,42.1404365 C102.460335,44.2799139 102.484589,45.4955903 104.034384,46.9787895 L102.823617,48 C100.813699,46.3952155 100.668527,44.3771468 100.668527,41.629743 Z M115.415361,37.326224 L112.436865,47.6352089 L110.330107,47.6352089 L106.552459,35.2838031 L108.417204,34.9433996 L111.492541,45.8846632 L114.471037,35.2109225 L116.311353,34.9921043 L119.217264,45.8846632 L122.19576,34.9433996 L123.987568,35.2350984 L120.33119,47.6352089 L118.224256,47.6352089 L115.415361,37.326224 Z M134.472571,45.9089273 C133.722103,47.2218366 132.462829,47.9269959 130.404402,47.9269959 C127.547,47.9269959 126.166631,46.9543136 126.166631,44.2312622 C126.166631,41.7755571 128.079709,40.5842331 134.254637,40.3167102 L134.254637,40.0250114 C134.254637,37.2532552 132.85019,36.4023347 131.106714,36.4023347 C129.895947,36.4023347 128.709259,36.6696812 127.619586,37.2045505 L127.038369,35.7457036 C128.273566,35.089249 129.629505,34.7975502 131.106714,34.7975502 C133.770435,34.7975502 136.04662,36.1346353 136.04662,39.8305455 L136.04662,43.0884664 C136.04662,44.596018 136.143461,46.1033931 136.482665,47.4406548 L134.981202,47.7810583 C134.763268,47.1733083 134.593841,46.5410296 134.472571,45.9089273 Z M134.254637,41.7999095 C130.065374,41.9945518 127.934361,42.6023017 127.934361,44.2312622 C127.934361,45.7386373 128.442992,46.4437966 130.743431,46.4437966 C132.559493,46.4437966 133.455485,45.4954667 134.254637,43.8908587 L134.254637,41.7999095 Z M139.872232,47.6351912 L139.872232,39.6359738 C139.872232,38.1285987 139.775391,36.6210471 139.436538,35.2837854 L140.93765,34.9433819 C141.179838,35.5998366 141.373695,36.3535241 141.519043,37.1073882 C142.1971,35.7214219 143.335105,34.9433819 145.272437,34.7974443 L145.514625,36.7426323 C143.528961,36.7669847 142.366527,37.6179052 141.664215,39.4171556 L141.664215,47.6351912 L139.872232,47.6351912 Z M152.948458,47.9269606 C149.655187,47.9269606 147.499921,46.5653466 147.499921,41.3622377 C147.499921,35.9159583 149.994216,34.7975149 152.706445,34.7975149 C155.854368,34.7975149 157.670606,36.3050665 157.670606,41.654113 L157.670606,41.8727548 L149.340412,42.5535617 C149.412999,45.4956079 150.720605,46.3952331 152.948458,46.3952331 C154.231811,46.3952331 155.345737,46.1033578 156.483918,45.4227273 L157.137721,46.8085172 C155.878447,47.6352618 154.449745,47.9269606 152.948458,47.9269606 Z M155.902876,40.5113172 C155.854368,37.3504529 154.667856,36.3292424 152.706445,36.3292424 C150.599511,36.3292424 149.291904,37.4963905 149.291904,40.8760731 L149.291904,41.1434195 L155.902876,40.5113172 Z M168.917923,16.5496465 C168.917923,19.0083515 169.376991,20.8215427 170.876873,22.4812083 L167.877286,24.5710987 C164.974715,22.935609 164.479441,19.7461571 164.450442,16.7569944 L164.44886,16.7569944 L164.44886,2.52251672 L168.917923,2 L168.917923,16.5496465 Z M48.8146433,22.4922864 C49.8699564,22.6590279 50,23.5436841 50,24.2058402 L50,25.7941598 C50,26.4563159 49.8699564,27.3409721 48.8146433,27.5077136 C48.1621092,27.6096112 47.4315489,27.7116869 46.6885187,27.8157222 C45.79674,27.9402438 45.0868442,28.6111289 44.8894629,29.4899064 C44.7702859,30.0205933 44.6304445,30.54362 44.4706511,31.0579177 C44.2036163,31.9178121 44.4820522,32.8530608 45.191948,33.4069062 C45.7830231,33.8681175 46.3641222,34.3214904 46.8778837,34.735672 C47.7085597,35.4078041 47.3788189,36.2388394 47.047653,36.8122804 L46.253496,38.1877196 C45.9223301,38.7613388 45.367596,39.46233 44.370179,39.0789671 C43.7527389,38.8404341 43.0672486,38.563066 42.3703572,38.2808881 C41.5361183,37.9431298 40.5869778,38.1688364 39.9763071,38.8299237 C39.6093346,39.2270036 39.2268638,39.6094758 38.8297853,39.9764495 C38.1687005,40.5871224 37.9431727,41.5362663 38.2807518,42.37033 C38.5629287,43.067402 38.8402957,43.7528948 39.079006,44.3703371 C39.4623675,45.3675795 38.7612007,45.9224937 38.1877616,46.2536608 L36.8121493,47.0478206 C36.2387103,47.3789877 35.4076779,47.7087297 34.7355482,46.8780507 C34.3213681,46.3642874 33.8679968,45.7831862 33.4067872,45.192109 C32.8531219,44.4822107 31.9176984,44.2037738 31.0578071,44.4708096 C30.5436893,44.6306035 30.0206645,44.7704454 29.4898014,44.8896228 C28.6112051,45.0870049 27.9403224,45.7969032 27.8156231,46.6886851 C27.7117663,47.4317179 27.6095128,48.1622808 27.5076156,48.8148172 C27.3408747,49.870134 26.4563998,50 25.794246,50 L24.205754,50 C23.5436002,50 22.6589472,49.870134 22.4923844,48.8148172 C22.3904872,48.1622808 22.2882337,47.4317179 22.1841988,46.6886851 C22.0596776,45.7969032 21.3887949,45.0870049 20.5100205,44.8896228 C19.9793355,44.7704454 19.4563107,44.6306035 18.9420148,44.4708096 C18.0823016,44.2037738 17.1468781,44.4822107 16.5930346,45.192109 C16.1318251,45.7831862 15.6784537,46.3642874 15.2642736,46.8780507 C14.5923221,47.7087297 13.7612897,47.3789877 13.1876726,47.0478206 L11.8122384,46.2536608 C11.2387993,45.9224937 10.5376325,45.3675795 10.920994,44.3703371 C11.1595261,43.7528948 11.4368932,43.067402 11.7190701,42.3705081 C12.0568273,41.5362663 11.8311214,40.5871224 11.1702147,39.9764495 C10.772958,39.6094758 10.3904872,39.2270036 10.0235147,38.8299237 C9.41284404,38.1688364 8.46370357,37.9431298 7.62964283,38.2808881 C6.93257326,38.563066 6.24708293,38.8404341 5.62964283,39.0789671 C4.63240403,39.46233 4.07749176,38.7613388 3.74632582,38.1877196 L2.95216888,36.8122804 C2.62118108,36.2388394 2.29144028,35.4078041 3.12211633,34.735672 C3.63587779,34.3214904 4.21697693,33.8681175 4.80787388,33.4069062 C5.51776966,32.8530608 5.79620558,31.9178121 5.52917075,31.0579177 C5.36937739,30.54362 5.22953594,30.0205933 5.11035896,29.4899064 C4.91297764,28.6111289 4.20308186,27.940422 3.31130311,27.8157222 C2.56845106,27.7116869 1.8378908,27.6096112 1.18517859,27.5077136 C0.129865503,27.3409721 0,26.4563159 0,25.7941598 L0,24.2058402 C0,23.5436841 0.129865503,22.6590279 1.18517859,22.4922864 C1.8378908,22.3903888 2.56845106,22.288135 3.31130311,22.1842778 C4.20308186,22.059578 4.91297764,21.3888711 5.11035896,20.5100936 C5.22953594,19.9794067 5.36937739,19.45638 5.52917075,18.9420823 C5.79620558,18.0821879 5.51776966,17.1469392 4.80787388,16.5930938 C4.21697693,16.1318825 3.63587779,15.6785096 3.12211633,15.264328 C2.29144028,14.5921959 2.62118108,13.7611606 2.95216888,13.1877196 L3.74632582,11.8121023 C4.07749176,11.2386612 4.63240403,10.53767 5.62964283,10.9210329 C6.24708293,11.1595659 6.93257326,11.436934 7.62964283,11.7191119 C8.46370357,12.0568702 9.41284404,11.8311636 10.0235147,11.1702545 C10.3904872,10.7729964 10.772958,10.3905242 11.1702147,10.0235505 C11.8311214,9.41287757 12.0568273,8.46373373 11.7190701,7.62967001 C11.4368932,6.93259796 11.1595261,6.24710518 10.920994,5.62966288 C10.5376325,4.63242053 11.2387993,4.07750629 11.8122384,3.74633917 L13.1876726,2.9521794 C13.7612897,2.62101228 14.5923221,2.2912703 15.2642736,3.12194931 C15.6784537,3.63571261 16.1318251,4.21681381 16.5930346,4.80789101 C17.1468781,5.51778932 18.0823016,5.79622623 18.9420148,5.52919045 C19.4563107,5.36939652 19.9793355,5.22955457 20.5100205,5.11037716 C21.3887949,4.91299515 22.0596776,4.20309683 22.1841988,3.31131491 C22.2882337,2.56828206 22.3904872,1.8377192 22.4923844,1.18518281 C22.6589472,0.129865965 23.5436002,0 24.205754,0 L25.794246,0 C26.4563998,0 27.3408747,0.129865965 27.5076156,1.18518281 C27.6095128,1.8377192 27.7117663,2.56828206 27.8156231,3.31131491 C27.9403224,4.20309683 28.6112051,4.91299515 29.4898014,5.11037716 C30.0206645,5.22955457 30.5435112,5.36939652 31.0578071,5.52919045 C31.9176984,5.79622623 32.8531219,5.51778932 33.4067872,4.80789101 C33.8679968,4.21681381 34.3213681,3.63571261 34.7355482,3.12194931 C35.4076779,2.2912703 36.2387103,2.62101228 36.8121493,2.9521794 L38.1877616,3.74633917 C38.7612007,4.07750629 39.4623675,4.63242053 39.079006,5.62966288 C38.8402957,6.24710518 38.5629287,6.93259796 38.2807518,7.62967001 C37.9429946,8.46373373 38.1687005,9.41287757 38.8297853,10.0235505 C39.2268638,10.3905242 39.6093346,10.7729964 39.9763071,11.1700763 C40.5869778,11.8311636 41.5361183,12.0568702 42.3703572,11.7191119 C43.0672486,11.436934 43.7527389,11.1595659 44.370179,10.9210329 C45.367596,10.53767 45.9223301,11.2386612 46.253496,11.8121023 L47.047653,13.1877196 C47.3788189,13.7611606 47.7085597,14.5921959 46.8778837,15.264328 C46.3641222,15.6785096 45.7830231,16.1318825 45.191948,16.5930938 C44.4820522,17.1469392 44.2036163,18.0821879 44.4706511,18.9420823 C44.6304445,19.45638 44.7702859,19.9792286 44.8894629,20.5100936 C45.0868442,21.3888711 45.79674,22.059578 46.6885187,22.1842778 C47.4315489,22.288135 48.1621092,22.3903888 48.8146433,22.4922864 Z M41,25 C41,16.1633605 33.8365022,9 25.0000885,9 C16.1633209,9 9,16.1633605 9,25 C9,33.8366395 16.1633209,41 25.0000885,41 C33.8365022,41 41,33.8366395 41,25 Z M33.4929285,21.4251409 L34.1463574,22.930446 C34.2241211,23.1098356 34.1570343,23.3191532 33.9894063,23.4196256 L26.4616279,28.0326286 L26.4529084,28.0379729 L26.4449007,28.0440297 C26.2973809,28.1571503 26.1375827,28.252991 25.9683532,28.3294142 L25.9598116,28.3331552 L25.955007,28.3361836 L25.9510921,28.3376088 L25.9411269,28.3420623 C25.829019,28.3914078 25.7147758,28.4371905 25.5959058,28.4674747 C24.7120329,28.6924688 23.8326087,28.4462758 23.2188625,27.8364936 L15.5003227,18.1663781 C15.3764701,18.011394 15.3889266,17.7880032 15.5289725,17.6478049 L16.672473,16.5032386 C16.745966,16.4296657 16.84366,16.3892274 16.9475823,16.3892274 C17.0378024,16.3892274 17.1258872,16.4209367 17.1954653,16.4784768 L25.3885952,23.263929 C25.4636897,23.3262789 25.5649427,23.3469434 25.6583659,23.318975 L33.0251004,21.2072725 C33.0614021,21.1964058 33.0987714,21.1908834 33.1363186,21.1908834 C33.2911343,21.1908834 33.4311802,21.282805 33.4929285,21.4251409 Z" id="logo-post-February82021"></path>
    </defs>
    <g id="logo-logo-post-February82021" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <mask fill="white">
            <use xlink:href="#logo-post-February82021"></use>
        </mask>
        <use fill="#000000" xlink:href="#logo-post-February82021"></use>
    </g>
</svg></span></span></p><p>2.8.21.1495</p>

        </div>

        

        <!--?xml version="1.0" encoding="UTF-8"?-->
<svg width="830px" height="117px" viewBox="0 0 830 117" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>Accent</title>
    <g id="E26931-February82021" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <polygon fill="#E26931" fill-rule="nonzero" points="830 0 1.13861509e-13 117 0 1.42755282e-14"></polygon>
    </g>
</svg>
        <!--?xml version="1.0" encoding="UTF-8"?-->
<svg width="830px" height="117px" viewBox="0 0 830 117" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>Accent</title>
    <g id="E26931-flipped-February82021" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <polygon fill="#E26931" fill-rule="nonzero" points="0 0 830 0 830 117"></polygon>
    </g>
</svg>

    </div>

</section>



<section id="subscription">
    <div>
        <div>
            
            <p>Interested in future posts or announcements? <span>Subscribe to our feed.</span></p>
        </div>
        
    </div>
</section>

    </div><div>
        
        
        
            
                <section id="hello">
                    
                    <div id="">
                        <p>Contact us about your design and development needs today.</p>

                        <p><a href="https://steamclock.com/contact">Get in Touch <span></span></a>
                    </p></div>
                </section>
            
        
        

        

        <section id="links">
            
                
                
                
            
                
                
                
            
                
                
                
            
                
                
                
            
            
        </section>
        
        <p>© Steamclock Software Ltd. No developers were harmed in the making of this site.</p>
    </div></div>]]>
            </description>
            <link>https://steamclock.com/blog/2021/02/apple-tracking-analytics-sdks/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26087935</guid>
            <pubDate>Wed, 10 Feb 2021 11:34:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Timezone Bullshit]]>
            </title>
            <description>
<![CDATA[
Score 380 | Comments 304 (<a href="https://news.ycombinator.com/item?id=26087502">thread link</a>) | @organian
<br/>
February 10, 2021 | https://blog.wesleyac.com/posts/timezone-bullshit | <a href="https://web.archive.org/web/*/https://blog.wesleyac.com/posts/timezone-bullshit">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <p>People often use short timezone abbreviations like EST and PST to refer to timezones. If you're doing this in a computer program, you are almost certainly making a huge mistake. Let's take take a look, using the disastrously bad <a href="https://www.gnu.org/software/libc/manual/html_node/TZ-Variable.html">unix libc timezone tools</a>, which you're almost certainly using under the hood if you're writing software on Linux or OSX.</p>
<div><pre><code data-lang="">$ TZ=UTC date
Wed 10 Feb 2021 12:00:00 AM UTC
</code></pre></div>
<p>Alright, this looks good. Let's try to see what time it is in New York:</p>
<div><pre><code data-lang="">$ TZ=America/New_York date
Tue 09 Feb 2021 07:00:00 PM EST
</code></pre></div>
<p>Makes sense, New York is 5 hours behind UTC. It outputs the time as <code>EST</code>, so presumably we can use that as a <code>TZ</code> variable:</p>
<div><pre><code data-lang="">$ TZ=EST date
Tue 09 Feb 2021 07:00:00 PM EST
</code></pre></div>
<p>Which looks like it works! But that's actually an illusion — say we tried doing this in July, instead of February:</p>
<div><pre><code data-lang="">$ TZ=America/New_York date
Fri 09 Jul 2021 08:00:00 PM EDT
</code></pre></div>
<p>Now we're in EDT, since it's daylight saving time. Makes sense, let's just plug that into <code>TZ</code> and see what happens:</p>
<div><pre><code data-lang="">$ TZ=EDT date
Sat 10 Jul 2021 12:00:00 AM EDT
</code></pre></div>
<p>And hang on, <code>America/New_York</code> means <code>EDT</code>, but <code>EDT</code> gives us the time in <code>UTC</code>! What's going on here?</p>

<p>Well, it turns out that <code>EDT</code> isn't a valid timezone, and <code>date</code> silently ignores the incorrect timezone variable:</p>
<div><pre><code data-lang="">$ TZ=LOL_THIS_DOESNT_EXIST date
Sat 10 Jul 2021 12:00:00 AM LOL
</code></pre></div>
<p><code>date</code> "helpfully" ignores that the timezone is invalid, and outputs the date in UTC, but <em>using the text of the invalid timezone</em>.  Which is horrifying, but wait, why isn't EDT a valid timezone? I'm not sure what the actual reason is, but one reason that it's not correct in the general case to use the short timezone codes is that they aren't actually unique:</p>
<div><pre><code data-lang="">$ TZ=America/Chicago date
Tue 09 Feb 2021 06:00:00 PM CST
$ TZ=Asia/Taipei date
Wed 10 Feb 2021 08:00:00 AM CST
</code></pre></div>
<p>There are actually two timezones that are canonically named "CST", and they're 14 hours apart! The format that <code>date</code> outputs things in causes there to be two distinct moments in time that correspond to any date outputted in the <code>Asia/Taipei</code> or <code>America/Chicago</code> timezones, and there's no way to tell which is which by looking at it — what fun!</p>

<p>There is no good reason to use short timezone codes like EST, CST, PST — doing so will only bring you pain. Either use the tzdb name like <code>America/New_York</code>, or use an offset from UTC, depending on what you want.</p>

          </div></div>]]>
            </description>
            <link>https://blog.wesleyac.com/posts/timezone-bullshit</link>
            <guid isPermaLink="false">hacker-news-small-sites-26087502</guid>
            <pubDate>Wed, 10 Feb 2021 10:25:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using ES Modules in Node.js: A Practical Guide (Part 1)]]>
            </title>
            <description>
<![CDATA[
Score 56 | Comments 45 (<a href="https://news.ycombinator.com/item?id=26087220">thread link</a>) | @shekhardesigner
<br/>
February 10, 2021 | https://gils-blog.tayar.org/posts/using-jsm-esm-in-nodejs-a-practical-guide-part-1/ | <a href="https://web.archive.org/web/*/https://gils-blog.tayar.org/posts/using-jsm-esm-in-nodejs-a-practical-guide-part-1/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<!-- markdownlint-disable MD029 -->
<!-- markdownlint-disable MD033 -->
<p><img src="https://gils-blog.tayar.org/img/jsm-logo.png" alt="ESM Logo"></p>
<p>(Hey, if you want to come work with me at Roundforest, and try out ESM on Node.js, feel free to
find me on <a href="https://www.linkedin.com/in/giltayar/">LinkedIn</a> or on Twitter (@giltayar))</p>
<p>ES Modules are the future of modules in JavaScript. They already are the rule in the frontend,
but till now they couldn’t have been used in Node.js. Well, it seems that now they can.
Moreover, the Node.js community is fast at work at adding support for Node.js ESM. This includes
tools like Mocha, Ava, and even Jest (although in Jest the support is incremental). Moreover,
ESlint and TypeScript work nicely with ESM, albeit with a few gotchas.</p>
<p>This guide shows you how to use ESM in Node.js, detailing the basics, and also the gotchas
that you need to be careful with. You can find all the code in the
<a href="https://github.com/giltayar/jsm-in-nodejs-guide">companion code repository</a>. It’s a monorepo
where each package displays a certain facet of Node.js ESM support. This post goes through
each of the packages, explaining what was done there, and what are the gotchas.</p>
<p>This guide turned out to be pretty long, so I broke it into three parts:</p>
<ol>
<li>The basics (this document)</li>
<li><a href="https://gils-blog.tayar.org/posts/using-jsm-esm-in-nodejs-a-practical-guide-part-2/">“exports” and its uses (including dual-mode libraries)</a></li>
<li><a href="https://gils-blog.tayar.org/posts/using-jsm-esm-in-nodejs-a-practical-guide-part-3/">Tooling and Typescript</a></li>
</ol>
<blockquote>
<p>Note: this guide covers <strong>Node.js ESM</strong> and does <em>not</em> cover Browser ESM.</p>
</blockquote>
<h2 id="what-do-i-mean-by-esm-in-node.js%3F-don%E2%80%99t-we-have-that-already%3F">What do I mean by ESM in Node.js? Don’t we have that already? <a href="#what-do-i-mean-by-esm-in-node.js%3F-don%E2%80%99t-we-have-that-already%3F">#</a></h2>
<p>ESM is the standard JavaScript module system (ESM is a shorcut for
JavaScript Modules, and is also called ESM, or EcmaScript modules,
whereby “EcmaScript” is the official name for the JavaScript language).
ESM is the “newer” module system, and is supposed to be a replacement for the
regular Node.js module system, which is CommonJS (CJS for short), altought CommonJS will probaby
stil be with us for a very very long time. The module syntax is this:</p>
<pre><code><br><span>export</span> <span>function</span> <span>add</span><span>(</span><span>a<span>,</span> b</span><span>)</span> <span>{</span><br>  <span>return</span> a <span>+</span> b<br><span>}</span><p><br><span>import</span> <span>{</span> add <span>}</span> <span>from</span> <span>"./add.js"</span></p></code></pre>
<p>(An intro to ESM is out of scope of this guide, but you can find it <em>everywhere</em> today on the
internet)</p>
<p>ESM was standardized in 2015, but it took awhile for browsers to support this,
and it took even longer for Node.js to support it
(the final stable version in Node.js was finalized only in 2020!).
If you want more information, you can see my
<a href="https://www.youtube.com/watch?v=kK_3OP0uJ0Y">talk at Node.TLV</a>. In the talk, at the end,
I discuss whether ESM is ready for work, and I say that it’s not quite there yet,
and people should start migrating to it in a year or two. Well, that year is NOW, and it’s READY,
and this guide will prepare you for that.</p>
<p>Some of you may be nodding your head and asking themselves: aren’t we already using that? Well,
if you are, then you’re transpiling your code using Babel or TypeScript, which support ESM
out of the box and transpile it to CJS. The ESM this post is talking about is <em>native</em> ESM
that is supported by Node.js without transpiling. While syntactically it is the same, there
are small differences between it and Babel/TypeScript ESM, differences which are discussed
in my Node.TLV talk above. Most importantly, native ESM in Node.js does not need transpiling,
and so doesn’t come with the baggage of problems transpiling comes with.</p>
<h2 id="give-it-to-me-straight.-can-i-start-using-esm-in-node.js%3F">Give it to me straight. Can I start using ESM in Node.js? <a href="#give-it-to-me-straight.-can-i-start-using-esm-in-node.js%3F">#</a></h2>
<p>Yes. Mostly yes. All the tooling I use supports it, but there are two BIG gotchas that are probably
hard to swallow for some people, gotchas that are hard to workaround:</p>
<ul>
<li>Jest support for ESM in Node.js is <a href="https://jestjs.io/docs/en/ecmascript-modules">experimental</a></li>
<li>Jest experimental support does not support yet mocking modules
(regular function/object mocking is supported)</li>
<li><code>proxyquire</code> and other popular module mockers do not yet support ESM (although <code>testdouble</code>
fully support it)</li>
</ul>
<p>The biggest problem is the lack of support for module mockers. There <em>is</em> one mocking
library that does support ESM (<code>testdouble</code>[<a href="https://www.npmjs.com/package/testdouble">https://www.npmjs.com/package/testdouble</a>]),
and we use that in this guide.</p>
<p>So can you live with this? If you can, then going all in with ESM in Node.js is now totally
possible. I’ve been using it for four months now, with zero problems. Actually, it feels
like VSCode support for ESM is much better than for CJS, so I suddenly get auto imports of modules,
and other goodies, which I didn’t get before in the CJS world.</p>
<h2 id="the-guide-to-node.js-esm">The guide to Node.js ESM <a href="#the-guide-to-node.js-esm">#</a></h2>
<ul>
<li>Part 1 (this document): the basics of ESM</li>
</ul>
<ol>
<li><a href="#section-01">The simplest Node.js ESM project</a></li>
<li><a href="#section-02">Using the <code>.js</code> extension for ESM</a></li>
</ol>
<ul>
<li>Part 2: “exports” and its uses (including dual-mode libraries)</li>
</ul>
<ol start="3">
<li><a href="https://gils-blog.tayar.org/posts/using-jsm-esm-in-nodejs-a-practical-guide-part-2/#section-03">The <code>exports</code> field</a></li>
<li><a href="https://gils-blog.tayar.org/posts/using-jsm-esm-in-nodejs-a-practical-guide-part-2/#section-04">Multiple exports</a></li>
<li><a href="https://gils-blog.tayar.org/posts/using-jsm-esm-in-nodejs-a-practical-guide-part-2/#section-05">Dual-mode libraries</a></li>
</ol>
<ul>
<li>Part 3: Tooling and Typescript</li>
</ul>
<ol start="6">
<li><a href="https://gils-blog.tayar.org/posts/using-jsm-esm-in-nodejs-a-practical-guide-part-3/#section-06">Tooling</a></li>
<li><a href="https://gils-blog.tayar.org/posts/using-jsm-esm-in-nodejs-a-practical-guide-part-3/#section-07">TypeScript</a></li>
</ol>
<p>This guide comes with a monorepo that has 7 directories, each directory being a package
that demonstrates the above sections of the Node.js support for ESM. You can find the monorepo
<a href="https://github.com/giltayar/jsm-in-nodejs-guide">here</a>.</p>
<h2 id="the-simplest-node.js-esm-project"><a id="section-01"></a>The simplest Node.js ESM project <a href="#the-simplest-node.js-esm-project">#</a></h2>
<p>Companion code: <a href="https://github.com/giltayar/jsm-in-nodejs-guide/tree/main/01-simplest-mjs">https://github.com/giltayar/jsm-in-nodejs-guide/tree/main/01-simplest-mjs</a></p>
<p>This is the simplest package, and demonstrates the basics of the basics.
Let’s start by exploring <code>package.json</code>, and the new <code>exports</code> field.</p>
<h3 id="main-and-.mjs"><code>main</code> and <code>.mjs</code> <a href="#main-and-.mjs">#</a></h3>
<p>Code: <a href="https://github.com/giltayar/jsm-in-nodejs-guide/blob/main/01-simplest-mjs/package.json">https://github.com/giltayar/jsm-in-nodejs-guide/blob/main/01-simplest-mjs/package.json</a></p>
<pre><code><span>{</span><br>  <span>"name"</span><span>:</span> <span>"01-simplest-mjs"</span><span>,</span><br>  <span>"version"</span><span>:</span> <span>"1.0.0"</span><span>,</span><br>  <span>"description"</span><span>:</span> <span>""</span><span>,</span><br>  <span>"main"</span><span>:</span> <span>"src/main.mjs"</span><br><span>}</span></code></pre>
<p>The main entry point is <code>src/main.mjs</code>. Why does the file use the <code>.mjs</code> extension? Because in
Node.js ESM, the <code>.js</code> extension is reserved for CJS and <code>.mjs</code> means that this is a JS module
(in the next section, we’ll see how to change that). We’ll talk a bit more about that in the next
part.</p>
<p>Let’s continue exploring <code>main.mjs</code>.</p>
<h3 id="importing-using-extensions">Importing using extensions <a href="#importing-using-extensions">#</a></h3>
<p>Code: <a href="https://github.com/giltayar/jsm-in-nodejs-guide/blob/main/01-simplest-mjs/src/main.mjs">https://github.com/giltayar/jsm-in-nodejs-guide/blob/main/01-simplest-mjs/src/main.mjs</a></p>
<pre><code><br><span>import</span> <span>{</span>bannerInColor<span>}</span> <span>from</span> <span>"./banner-in-color.mjs"</span><p><span>export</span> <span>function</span> <span>banner</span><span>(</span><span>)</span> <span>{</span><br>  <span>return</span> <span>bannerInColor</span><span>(</span><span>"white"</span><span>)</span><br><span>}</span></p></code></pre>
<p>Look at the import statement that imports <code>banner-in-color</code>:
Node.js ESM <em>forces</em> you to specify the full relative path to the file, <em>including the extension</em>.
The reason they did this is to be compatible with Browser ESM (when using ESM in browsers,
you always specify the full name of the file, including the extension). So
don’t forget that extension! (You can understand more about this in my
<a href="https://www.youtube.com/watch?v=kK_3OP0uJ0Y">talk at Node.TLV</a>)</p>
<p>Unfortunately, VSCode doesn’t like the <code>.mjs</code> extension and so Ctrl/Cmd+Clicking it won’t work,
and its built in intellisense doesn’t work on it.</p>
<blockquote>
<p><strong>Gotcha</strong>: VSCode doesn’t like the <code>.mjs</code> extension and ignores files with that extension. In
the next section we’ll see how to deal with that, so it’s not a <em>real</em> gotcha.</p>
</blockquote>
<p>This <code>main.mjs</code> exports the <code>banner</code> function, which will be tested in <code>test/tryout.mjs</code>. But
first, let’s explore <code>banner-in-color.mjs</code>, which contains most of the implementation of
the <code>banner()</code> function.</p>
<h3 id="importing-esm-and-cjs-paclages">Importing ESM and CJS paclages <a href="#importing-esm-and-cjs-paclages">#</a></h3>
<p>Code: <a href="https://github.com/giltayar/jsm-in-nodejs-guide/blob/main/01-simplest-mjs/src/banner-in-color.mjs">https://github.com/giltayar/jsm-in-nodejs-guide/blob/main/01-simplest-mjs/src/banner-in-color.mjs</a></p>
<p>We’ve seen how we can import ESM modules. Let’s see how to import other packages:</p>
<pre><code><br><span>import</span> <span>{</span>join<span>}</span> <span>from</span> <span>"path"</span><br><span>import</span> chalk <span>from</span> <span>"chalk"</span><br><span>const</span> <span>{</span>underline<span>}</span> <span>=</span> chalk</code></pre>
<p>We can import Node.js internal packages like <code>path</code> easily, because Node.js
exposes them as ES modules.</p>
<p>And if we had a ESM package in NPM, the same could have been used to import the ESM package.
But most of the pacakges NPM has are still CJS packages. As you can see in the second line, where
we import <code>chalk</code>, CJS packages can also be imported using <code>import</code>. But for the most part,
when importing CJS modules, you can only use “default” importing, and not “named” imports. So
while you can import named imports in a CJS file:</p>
<pre><code><br><span>const</span> <span>{</span>underline<span>}</span> <span>=</span> <span>require</span><span>(</span><span>"chalk"</span><span>)</span></code></pre>
<p>You <em>cannot</em> do this in a ESM file:</p>
<pre><code><br><span>import</span> <span>{</span>underline<span>}</span> <span>from</span> <span>'chalk'</span></code></pre>
<p>You can only import the default (non-named) import, and use destructuring later:</p>
<pre><code><span>import</span> chalk <span>from</span> <span>"chalk"</span><br><span>const</span> <span>{</span>underline<span>}</span> <span>=</span> chalk</code></pre>
<p>Why is this? It’s complicated, but the gist of it is that when loading modules,
ESM does not allow <em>executing</em> a module to determine what the exports are,
and so the exports need to be determined statically.
Unfortunately, in CJS, executing a module is the only reliable way of determining
what the exports are. Node.js actually tries very hard to figure out what the named exports are
(by parsing the module using a very fast parser),
but my experience is this method doesn’t work for most packages that I’ve tried this with,
and I need to fall back to default importing.</p>
<blockquote>
<p><strong>Gotcha</strong>: importing a CJS module is easy, but you mostly can’t use named imports and need
to add a second line to destructure out the named imports.</p>
</blockquote>
<p>I believe that in 2021, more and more packages will have ESM entry points that export
themselves as ESM with the proper named exports. But for now, you may need the additional
destructuring to use named imports from CJS pacakges.</p>
<h3 id="top-level-await">Top-level await <a href="#top-level-await">#</a></h3>
<p>Code: <a href="https://github.com/giltayar/jsm-in-nodejs-guide/blob/main/01-simplest-mjs/src/banner-in-color.mjs">https://github.com/giltayar/jsm-in-nodejs-guide/blob/main/01-simplest-mjs/src/banner-in-color.mjs</a></p>
<p>Continuning our exploration of <code>banner-in-color.mjs</code> we find this extraordinary line
that reads a file from the disk:</p>
<pre><code><br><span>const</span> text <span>=</span> <span>await</span> fs<span>.</span><span>readFile</span><span>(</span><span>join</span><span>(</span>__dirname<span>,</span> <span>"text.txt"</span><span>)</span><span>,</span> <span>"utf8"</span><span>)</span></code></pre>
<p>Why so extraordinary? Because of that <code>await</code>. This is an <code>await</code> that is outside an <code>async</code>
function, and is at the top level of the code. This kind of <code>await</code> is called “top-level await”
and is supported since Node.js v14. It is extraordinary because it is the only feature in Node.js
that is available <em>only</em> in ESM modules (i.e. not available in CJS). Why is that? Because
ESM is an async module system, and so supports async operations when loading the module,
while CJS is loaded synchronously and so cannot support <code>await</code>.</p>
<p>Great feature, and only in ESM! 🎉🎉🎉🎉</p>
<p>But notice the use of <code>__dirname</code> in the line above. Let’s discuss that.</p>
<h3 id="__dirname"><code>__dirname</code> <a href="#__dirname">#</a></h3>
<p>Code: <a href="https://github.com/giltayar/jsm-in-nodejs-guide/blob/main/01-simplest-mjs/src/banner-in-color.mjs">https://github.com/giltayar/jsm-in-nodejs-guide/blob/main/01-simplest-mjs/src/banner-in-color.mjs</a></p>
<p>If you try to use <code>__dirname</code> in ESM, you will find that it is not available
(just like <code>__filename</code>). But if you need it, you can quickly determine it using these lines:</p>
<pre><code><br><span>import</span> url <span>from</span> <span>"url"</span><p><span>const</span> __dirname <span>=</span> url<span>.</span><span>fileURLToPath</span><span>(</span><span>new</span> <span>URL</span><span>(</span><span>"."</span><span>,</span> <span>import</span><span>.</span>meta<span>.</span>url<span>)</span><span>)</span></p></code></pre>
<p>Complex? Yes. So let’s deconstruct this code to understand it.</p>
<p>First off, the expression <code>import.meta.url</code> is part of the ESM spec, and its purpose
is the same as the CJS <code>__filename</code>, except …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://gils-blog.tayar.org/posts/using-jsm-esm-in-nodejs-a-practical-guide-part-1/">https://gils-blog.tayar.org/posts/using-jsm-esm-in-nodejs-a-practical-guide-part-1/</a></em></p>]]>
            </description>
            <link>https://gils-blog.tayar.org/posts/using-jsm-esm-in-nodejs-a-practical-guide-part-1/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26087220</guid>
            <pubDate>Wed, 10 Feb 2021 09:40:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Get Startup Ideas]]>
            </title>
            <description>
<![CDATA[
Score 74 | Comments 33 (<a href="https://news.ycombinator.com/item?id=26085118">thread link</a>) | @davidkolodny
<br/>
February 9, 2021 | https://www.wilburlabs.com/blueprints/how-to-get-startup-ideas | <a href="https://web.archive.org/web/*/https://www.wilburlabs.com/blueprints/how-to-get-startup-ideas">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>Startups and technology canâ€™t solve <em>all</em> the worldâ€™s problems, but they can solve a good amount of them. Now more than ever, we need people to build the next generation of companies that will tackle some of the worldâ€™s biggest problems. There are a lot of unknowns right now, but at Wilbur Labs, we believe this is the best time to start a company â€“ ever. </p><p>Wilbur Labs is a startup studio turning bold ideas into market-leading companies. Since 2016 we have built and invested in 15 technology companies, including <a href="https://www.vacationrenter.com/">VacationRenter</a>, <a href="https://www.vitabox.com/">Vitabox</a>, <a href="https://www.joblist.com/">Joblist</a>, <a href="https://www.barkbus.com/">Barkbus</a>, and more.</p><p>We plan to launch several companies every year, which requires building a solid pipeline of ambitious ideas. Over the years, we have used three primary approaches to get startup ideas: build for the future, solve existing problems better, or solve personal problems.</p></div><h2>1. Build for the Future</h2><div><div><p>The future is not static. It is built by people who have a vision for what the future should look like, and those who have the willingness to work hard and take the risks necessary to get there. A great way to get startup ideas is to sit down and think about what the future should look like. Ask yourself the following questions: </p><p><em>How are behaviors changing? Which changes will stick? </em><br><em>What long-term problems have been created as a result of the COVID-19 pandemic? </em><br><em>What priorities and values have changed?</em><br><em>What are the biggest problems today?</em><br><em>What will be the biggest problems tomorrow?</em><br><em>What new problems can technology solve today?</em><br><em>How can new technology change the way existing problems are solved?</em></p></div><p>2020 is a year that consumer behaviors are changing and evolving at a faster rate than ever before. Emerging trends that would have taken 5 to 10 years to mature are instead maturing overnight. There is a large opportunity to think about changing trends and build companies ahead of the curve. eCommerce, Employment, Insurance, and Mobile On-Demand are just a few industries where we are boosting investments as a result of new long-term trends.</p><p>When thinking about the future, itâ€™s important to think and plan for the long-term. The best ideas can be built into big, sustainable businesses that can solve problems and create value over the long-term. Avoid short-termism, also known as ideas which may seem solid in the short-term but have a short expiration date.</p><p>Barkbus is a great example of a business that is building for the future. Back in 2017, the world was rapidly transitioning to direct-to-your-door services. Despite that, the way most people got their dogs groomed hadnâ€™t changed. Pet parents still went to the salon, which was a time consuming and stressful experience for both dogs and their parents. Barkbus launched to <a href="https://www.wilburlabs.com/announcements/why-we-acquired-barkbus">make mobile grooming the new norm</a> for pet parents and their dogs. </p></div><h2>2. Solve Existing Problems Better</h2><div><p>We believe the best companies solve real problems. These problems may be completely new problems, or they may be existing problems that have not been solved well by existing companies to date.</p><p>Do not discount existing problems when generating startup ideas. Some of the largest, most impactful companies throughout history were built by solving existing problems better than others. Google did not invent the search engine, search ads, web based email, or maps. Apple did not invent the smartphone, the tablet, or the smart watch. Facebook did not invent social networking. The list goes on and on. What these companies did is provide a better experience than the existing companies. At Wilbur Labs, we refer to this as â€œcreating a 10x experience.â€� </p><p>Next time you have an idea and someone says, â€œdoesnâ€™t X do that?â€� â€” instead of throwing away your idea, first decide if thereâ€™s an opportunity to 10x the experience. Competitors are a good sign as it means there is a real problem people care about. Challenging the status quo is a great way to solve big problems and build a large business. </p><p>When we built Joblist, we did so because despite multiple large job boards, the job search process hasnâ€™t changed in 20 years â€” when job listings first moved online. We saw an opportunity to 10x the job search experience by introducing more personalization and collaboration tools to a traditionally generic and lonely process. Job seekers have embraced this new approach, which allowed Joblist to help millions of job seekers by powering over 500,000 new applications <a href="https://www.joblist.com/news/why-we-launched-joblist">before their public launch</a>.</p></div><h2>3. Solve Personal Problems</h2><div><div><p>Many of the best startup ideas are personal problems that you have faced. What are the biggest problems that you wish were solved? How many others face the same problem? If you experience a problem, then you are uniquely positioned to solve it.</p><p>More often than not, entrepreneurship is not a way to get rich quickly. You will likely need to work harder and longer, with higher stress and more at stake than working a regular job. The journey is absolutely worth it for the right person, but itâ€™s important that you care enough about what you are working on enough to dedicate 5 to 10 years of your life. This will be easier if you care deeply about the problem you are solving.</p></div>
<p>A great example of this is why we launched VacationRenter. At Wilbur Labs, we had quarterly company offsites where we book a vacation rental to work for a few days in a different city. Every time we searched for a rental, it took hours of planning and work. We found ourselves scrolling through pages of search results and jumping from site to site, trying to find the ideal place for the best price. This was a frustrating experience and we knew we could make the search for a vacation rental better for others like us â€” which is why <a href="https://www.vacationrenter.com/news/why-we-launched-vacationrenter">we launched VacationRenter</a>. If you experience a problem, it is likely that others are experiencing it too. </p>
<p>VacationRenter became the fastest growing travel startup ever, generating over $1 billion gross bookings in 2020. This milestone confirms that we werenâ€™t the only travelers who had a frustrating experience finding the perfect rental.</p></div><h2>Next Steps</h2><div><p>At Wilbur Labs, the best startup ideas check a few key boxes:</p><ul><li><strong>Solves a problem.</strong> Could your idea solve a big problem, and have a large positive impact on a significant number of people?</li><li><strong>Builds a sustainable business. </strong>Can the idea be turned into a sustainable business that creates value over the long-term?</li><li><strong>Uniquely positioned.</strong> Are you uniquely positioned to solve the problem and you want to dedicate 5 to 10 years of your life?</li></ul></div><figure><img alt="best-startup-ideas-venn-diagram" src="https://storage.googleapis.com/wl-blog/images/ideas-venn-diagram.png"></figure><div><p>No matter how good an idea is, we believe that ideas alone are worthless unless you take initiative to execute. Execution is everything. Everyone has big ideas â€” no startup ideas are truly unique. Being able to execute on those ideas is what will turn that idea into a business.</p><p>For any idea, the most important next step is thorough research where you pair your initial idea with independent and external information. To read more about how to evaluate and research a startup idea, and how to take the next step, follow our blueprint on <a href="https://www.wilburlabs.com/blueprints/how-to-turn-an-idea-into-a-business">How to Turn An Idea Into A Business</a>.</p><p>Make sure to follow Wilbur Labs on <a href="https://www.linkedin.com/company/wilbur-labs/">LinkedIn</a>, <a href="https://twitter.com/wilburlabs">Twitter</a>, <a href="https://www.facebook.com/wilburlabs/">Facebook</a>, or <a href="http://instagram.com/wilburlabs">Instagram</a>, as we continue to release more blueprints in the future.</p><p>Want to work with us or have an idea? We are always looking for talented people to work with and exciting projects to partner on. Feel free to check out our <a href="https://www.wilburlabs.com/careers">available openings</a> or <a href="https://www.wilburlabs.com/contact">contact us</a>.</p></div></div><div><p>Wilbur Labs is a San Francisco-based startup studio. We turn bold ideas into market-leading companies.</p><p><a href="https://www.wilburlabs.com/about">Learn More â†’</a></p></div></div>]]>
            </description>
            <link>https://www.wilburlabs.com/blueprints/how-to-get-startup-ideas</link>
            <guid isPermaLink="false">hacker-news-small-sites-26085118</guid>
            <pubDate>Wed, 10 Feb 2021 02:25:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Turtle visual cortex is non-retinotopic]]>
            </title>
            <description>
<![CDATA[
Score 128 | Comments 30 (<a href="https://news.ycombinator.com/item?id=26084739">thread link</a>) | @awinter-py
<br/>
February 9, 2021 | https://blog.jordan.matelsky.com/365papers/141/ | <a href="https://web.archive.org/web/*/https://blog.jordan.matelsky.com/365papers/141/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                            <div>
                                <div>
                                    <p>Most of the visual cortex studies I’ve read have been about mammalian vision. But mammals are not the only organisms with cortex, or at least tissue resembling cortex. This paper explores <em>turtle</em> visual cortex, in an area known as dCx. This dorsal region plays the role of the turtle primary vision center — as close as you can find to the homolog of human V1.</p>

<p>But unlike V1, Fournier &amp; Müller et al confirm the existing knowledge that while dCx receives direct inputs from LGN, its layout is <em>not</em> retinotopic. They expand upon this understanding by recording from both individual cells (with electrophysiological recording) and populations of cells. They show that, aside from some slight preferences of caudal dCx for rostral LGN inputs (and vice versa), dCx doesn’t have any clear layout pattern.</p>

<p>This is interesting because the simple, three-layer cortex of a reptile is a much simpler substrate for understanding vision than the complex, deep cortex of mammals. What, if not “pixel-level” information, is dCx responding to?</p>

<p>While the turtles watched movies, the researchers watched the turtles. In particular, they noticed that certain cells of dCx responded to <em>scene-level</em> stimuli: When there was a cut, or the film started or stopped, there was a burst of activity. When the same stimulus was played repeatedly, these responses died away.</p>

<p>This style of scene-level parsing in mammals is reserved for “later”, down-stream brain areas. Does this mean that turtles are using dCx as both early signal processing as well as higher-level object recognition and interpretation? If so, does this mean that mammalian brains, with discrete areas for low-level and high-level vision, evolved from an earlier system where all of these tasks were colocated?</p>

                                </div>
                            </div>
                        </div></div>]]>
            </description>
            <link>https://blog.jordan.matelsky.com/365papers/141/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26084739</guid>
            <pubDate>Wed, 10 Feb 2021 01:15:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[iRacing Telemetry with F#]]>
            </title>
            <description>
<![CDATA[
Score 60 | Comments 3 (<a href="https://news.ycombinator.com/item?id=26083841">thread link</a>) | @todsacerdoti
<br/>
February 9, 2021 | https://markjames.dev/2021-02-09-iracing-telemetry-fsharp/ | <a href="https://web.archive.org/web/*/https://markjames.dev/2021-02-09-iracing-telemetry-fsharp/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article role="main">
        <p>During the pandemic, I’ve been spending quite a bit of time playing <a href="https://iracing.com/">iRacing</a> in VR. I love the realism of iRacing (and how well it supports VR!), and managed to score a win in the Mazda MX-5 this season at the (sadly) now defunct Oran Park Raceway near Sydney.</p>

<p><img src="https://markjames.dev/img/posts/race-result-mazda.png" width="600" height="150" alt="First place at Oran Park Raceway"></p>

<p>In a <a href="https://markjames.dev/2021-01-08-writing-an-iracing-sdk-implementation-fsharp/">previous post</a>, I discussed how I was looking to create an F# library for the iRacing SDK. This proved to be a bigger challenge than I thought as the iRacing API uses a memory mapped file and I’m not yet familiar enough with F# to be tackling the problem yet.</p>

<p>As an alternative (and thanks to F#’s interoperability with C# and the .NET platform), I decided to familiarize myself with this <a href="https://github.com/NickThissen/iRacingSdkWrapper">C# iRacing SDK</a> and build a small app that gathers some basic telemetry data and writes it to a CSV file which I could then plot in a .NET Interactive Notebook using Plotly.NET. The end result of my first few tests looked like this:</p>


    
        <!-- Plotly.js -->
        <meta http-equiv="X-UA-Compatible" content="IE=11">
        
        
    
    
      
     
    


<p>The entire process was refreshingly simple, but there were a few things that had stumped me as I had still been thinking in C# (which I’m more familiar with). For example, here’s the code which listens to an event from the iRacing SDK and then calls a function which parses and then writes telemetry data to a CSV:</p>

<div><div><pre><code><span>// Get the current speed in m/s and convert to a rounded km/h.</span>
<span>let</span> <span>getSpeed</span> <span>(</span><span>evArgs</span><span>:</span> <span>SdkWrapper</span><span>.</span><span>TelemetryUpdatedEventArgs</span><span>)</span> <span>=</span>
    <span>let</span> <span>speed</span> <span>=</span> <span>float</span> <span>evArgs</span><span>.</span><span>TelemetryInfo</span><span>.</span><span>Speed</span><span>.</span><span>Value</span>
    <span>let</span> <span>speedInKMh</span> <span>=</span> <span>speed</span> <span>*</span> <span>3</span><span>.</span><span>6</span>
    <span>let</span> <span>speedRounded</span> <span>=</span> <span>System</span><span>.</span><span>Math</span><span>.</span><span>Round</span> <span>(</span><span>speedInKMh</span><span>,</span> <span>0</span><span>)</span> 
    <span>speedRounded</span>

<span>// Get the throttle input and round it.</span>
<span>let</span> <span>throttleValue</span> <span>(</span><span>evArgs</span><span>:</span> <span>SdkWrapper</span><span>.</span><span>TelemetryUpdatedEventArgs</span><span>)</span> <span>=</span>
    <span>let</span> <span>throttle</span> <span>=</span> <span>float</span> <span>evArgs</span><span>.</span><span>TelemetryInfo</span><span>.</span><span>Throttle</span><span>.</span><span>Value</span>
    <span>let</span> <span>roundedThrottle</span> <span>=</span> <span>System</span><span>.</span><span>Math</span><span>.</span><span>Round</span> <span>(</span><span>throttle</span><span>,</span> <span>2</span><span>)</span>
    <span>roundedThrottle</span>

<span>// Get the lapdistance and round it.</span>
<span>let</span> <span>getLapDistance</span> <span>(</span><span>evArgs</span><span>:</span> <span>SdkWrapper</span><span>.</span><span>TelemetryUpdatedEventArgs</span><span>)</span> <span>=</span>
    <span>let</span> <span>distance</span> <span>=</span> <span>float</span> <span>evArgs</span><span>.</span><span>TelemetryInfo</span><span>.</span><span>LapDistPct</span><span>.</span><span>Value</span>
    <span>let</span> <span>roundedDistance</span> <span>=</span> <span>System</span><span>.</span><span>Math</span><span>.</span><span>Round</span> <span>(</span><span>distance</span><span>,</span> <span>2</span><span>)</span>
    <span>roundedDistance</span>

<span>// Append the output of the current tick to a CSV file.</span>
<span>let</span> <span>writeToCsv</span> <span>(</span><span>evArgs</span><span>:</span> <span>SdkWrapper</span><span>.</span><span>TelemetryUpdatedEventArgs</span><span>)</span> <span>=</span>
    <span>let</span> <span>dataToWrite</span> <span>=</span> <span>$</span><span>"{getSpeed evArgs},{evArgs.TelemetryInfo.Gear.Value},{throttleValue evArgs},{evArgs.TelemetryInfo.Lap.Value},{getLapDistance evArgs}</span><span>\n</span><span>"</span>
    <span>File</span><span>.</span><span>AppendAllText</span> <span>(</span><span>"""C:</span><span>\</span><span>LapTimes.csv"""</span><span>,</span> <span>dataToWrite</span><span>)</span>
    <span>printfn</span> <span>"Wrote to CSV"</span>

<span>let</span> <span>start</span> <span>()</span> <span>=</span>
    <span>// Bind an instance of iRacing SdkWrapper to iRacing</span>
    <span>let</span> <span>iracing</span> <span>=</span> <span>new</span> <span>SdkWrapper</span><span>(</span><span>TelemetryUpdateFrequency</span> <span>=</span> <span>2</span><span>.</span><span>0</span><span>)</span>
    <span>iracing</span><span>.</span><span>TelemetryUpdated</span>
    <span>// Listen to the iRacing telemetry updates</span>
    <span>|&gt;</span> <span>Observable</span><span>.</span><span>subscribe</span> <span>writeToCsv</span> <span>|&gt;</span> <span>ignore</span>
    <span>iracing</span><span>.</span><span>Start</span><span>()</span>
</code></pre></div></div>
<p>The first thing to note is the structure of the code. F# code is structured from the bottom up (the same applies for files in a project), and I find that this helps with readability and reasoning about the code.</p>

<p>Another thing to consider is how to set the update frequency (in updates per second). In C#, we would update a variable to set the telemetry update frequency like so:</p>
<div><div><pre><code><span>iracing</span><span>.</span><span>TelemetryUpdateFrequency</span> <span>=</span> <span>2.0</span><span>;</span> <span>// Updates per second</span>
</code></pre></div></div>
<p>However, In F#, we bind names to expressions as opposed to assigning variables. Then how can we set an update frequency for the C# library without using a mutable? The answer is simple, pass it in as a parameter to the SdkWrapper constructor:</p>

<div><div><pre><code><span>let</span> <span>iracing</span> <span>=</span> <span>new</span> <span>SdkWrapper</span><span>(</span><span>TelemetryUpdateFrequency</span> <span>=</span> <span>2</span><span>.</span><span>0</span><span>)</span> <span>// Receive events at a rate of two updates/sec.</span>
</code></pre></div></div>

<p>Next, note the use of Observable.subscribe to listen to an event. In C#, we would likely do something like this to subscribe to the event using an event handler:</p>

<div><div><pre><code><span>class</span> <span>Program</span> 
<span>{</span>
    <span>private</span> <span>readonly</span> <span>Sdkwrapper</span> <span>iracing</span><span>;</span>

    <span>static</span> <span>void</span> <span>Main</span><span>(</span><span>string</span><span>[]</span> <span>args</span><span>)</span>
    <span>{</span>    
        <span>iracing</span> <span>=</span> <span>new</span> <span>SdkWrapper</span><span>;</span>
        <span>iracing</span><span>.</span><span>TelemetryUpdated</span> <span>+=</span> <span>OnTelemetryUpdated</span><span>;</span>
        <span>iracing</span><span>.</span><span>Start</span><span>();</span>
    <span>}</span>

    <span>private</span> <span>void</span> <span>OnTelemetryUpdated</span><span>(</span><span>object</span> <span>sender</span><span>,</span> <span>SdkWrapper</span><span>.</span><span>TelemetryUpdatedEventArgs</span> <span>e</span><span>)</span>
    <span>{</span>
        <span>// Use live telemetry</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>In F#, we subscribe to the event using Observable.subscribe and call our writeToCsv function each time the event is fired:</p>
<div><div><pre><code>    <span>iracing</span><span>.</span><span>TelemetryUpdated</span>
    <span>|&gt;</span> <span>Observable</span><span>.</span><span>subscribe</span> <span>writeToCsv</span> <span>|&gt;</span> <span>ignore</span>
</code></pre></div></div>

<p>The interop between C# and F# events is nice, and I find this solution to be quite elegant. In addition, you also have Observable.scan which accumulates state each time an event has fired. I haven’t had to do that in this example, but you can see <a href="https://fsharpforfunandprofit.com/posts/concurrency-reactive/">more details here</a>.</p>

<h2 id="plotting-the-telemetry-data">Plotting the Telemetry Data</h2>

<p>Now that we have a backend system logging some telemetry data from the sim, the next step is to plot the graph we saw above. In order to do so, I created a new .NET Interactive notebook in VS Code Insiders. I then imported the libraries I needed and wrote the following initial code:</p>
<div><div><pre><code><span>[&lt;</span><span>Literal</span><span>&gt;]</span>
<span>let</span> <span>FilePath</span> <span>=</span> <span>"""C:</span><span>\</span><span>LapTimes.csv"""</span>

<span>type</span> <span>rawCsv</span> <span>=</span> <span>CsvProvider</span><span>&lt;</span><span>FilePath</span><span>,</span> <span>HasHeaders</span> <span>=</span> <span>true</span><span>&gt;</span>

<span>// CSV File</span>
<span>let</span> <span>lapPerformance</span> <span>=</span> <span>rawCsv</span><span>.</span><span>GetSample</span><span>()</span>
</code></pre></div></div>
<p>The use of [&lt;Literal&gt;] here is because FilePath must be a constant so that the CsvProvider can read the data while we’re developing. As I mentioned in a previous article on <a href="https://markjames.dev/2021-01-23-plotting-csv-files-fsharp/">CSV files in F#</a>, “Type providers are a blessing and curse in F#. On one hand, they’re amazing, because you get compile-time types for your data! But, that also means the data must be available at compile time. You can usually work around this by either:</p>
<ul>
  <li>Including representative data inside your project’s git repo, so you can build the provider based on sample data and then parse any conforming input data</li>
  <li>Using a string literal in source code to define sample data and use that for the provider (which is what I’ve done here).”</li>
</ul>

<p>I also added some column headers into my CSV file (in the future, I plan to write these automatically in the backend code). We also create a new CsvProvider, and then get the data by calling GetSample() on the raw CSV file.</p>

<p>Next, let’s write the createChart function and then pass it out formatted CSV file:</p>

<div><div><pre><code><span>let</span> <span>createChart</span><span>(</span><span>lapPerformance</span><span>:</span> <span>rawCsv</span><span>)</span> <span>=</span> 

    <span>let</span> <span>speed</span> <span>=</span> <span>lapPerformance</span><span>.</span><span>Rows</span> <span>|&gt;</span> <span>Seq</span><span>.</span><span>filter</span> <span>(</span><span>fun</span> <span>row</span> <span>-&gt;</span> <span>row</span><span>.</span><span>Lap</span> <span>=</span> <span>2</span> <span>)</span>
    <span>speed</span>
    <span>// Map Lap Distance and Speed to X and Y on the line chart.</span>
    <span>|&gt;</span> <span>Seq</span><span>.</span><span>map</span> <span>(</span><span>fun</span> <span>row</span> <span>-&gt;</span> <span>row</span><span>.</span><span>LapDistance</span><span>,</span> <span>row</span><span>.</span><span>Speed</span><span>)</span> 
    <span>|&gt;</span> <span>Chart</span><span>.</span><span>Spline</span>
    <span>|&gt;</span> <span>Chart</span><span>.</span><span>withTitle</span> <span>"Laguna Seca (Ferrari 488 GTE)"</span>
    <span>|&gt;</span> <span>Chart</span><span>.</span><span>withX_AxisStyle</span> <span>(</span><span>"Lap Distance (%)"</span><span>,</span> <span>Showgrid</span><span>=</span><span>false</span><span>,</span><span>Position</span><span>=</span><span>200</span><span>.</span><span>0</span><span>)</span>
    <span>|&gt;</span> <span>Chart</span><span>.</span><span>withY_AxisStyle</span> <span>(</span><span>"Speed (Km/h)"</span><span>,</span> <span>Showgrid</span><span>=</span><span>false</span><span>)</span>
    <span>|&gt;</span> <span>Chart</span><span>.</span><span>withMargin</span><span>(</span><span>Margin</span><span>.</span><span>init</span><span>(</span><span>120</span><span>,</span> <span>100</span><span>,</span> <span>50</span><span>,</span> <span>150</span><span>,</span> <span>0</span><span>,</span> <span>true</span><span>))</span>
    <span>|&gt;</span> <span>Chart</span><span>.</span><span>withSize</span> <span>(</span><span>900</span><span>.</span><span>0</span><span>,</span> <span>600</span><span>.</span><span>0</span><span>)</span>
    <span>|&gt;</span> <span>Chart</span><span>.</span><span>Show</span>
    
<span>createChart</span><span>(</span><span>lapPerformance</span><span>:</span> <span>rawCsv</span><span>)</span> 
</code></pre></div></div>
<p>The first thing I do is make use of a higher order function, Seq.filter in order to only include lap two for plotting. Thanks to type providers, we can reference columns (e.g. row.Lap) directly while developing! I find this super handy as I no longer need to reference the file itself to figure out which columns are which.</p>

<p>Next, we construct a pipeline using the forward piping operator (|&gt;) to map the lap distance and speed variables as X and Y values on a line chart, and then define how the chart should be styled. I really like the forward piping operator, and I find that it produces some really clean and concise code.</p>

<h2 id="exploratory-data-with-deedle">Exploratory Data with Deedle</h2>

<p>For a project at work, I’ve been exploring the use of <a href="https://bluemountaincapital.github.io/Deedle/">Deedle</a> as an alternative to Python’s Pandas, and it could be a good library to make use of here to explore telemetry data in greater detail.</p>

<p>The first thing I tried using Deedle, was seeing what my average lap speed was across laps 1-4 at the Laguna Seca Racetrack:</p>

<div><div><pre><code><span>let</span> <span>lapCsv</span> <span>=</span> <span>Frame</span><span>.</span><span>ReadCsv</span><span>(</span><span>"""C:</span><span>\</span><span>LapTimes.csv"""</span><span>,</span> <span>hasHeaders</span> <span>=</span> <span>true</span><span>)</span>

<span>let</span> <span>speed</span> <span>=</span> <span>lapCsv</span><span>.</span><span>GetColumn</span><span>&lt;</span><span>int</span><span>&gt;(</span><span>"Speed"</span><span>)</span>
<span>speed</span> 
<span>|&gt;</span> <span>Stats</span><span>.</span><span>mean</span>
<span>|&gt;</span> <span>printf</span> <span>"Average speed: %A Km/h"</span>
</code></pre></div></div>

<p>The results were:</p>
<div><div><pre><code>Average speed:
121.036 Km/h
</code></pre></div></div>
<p>In this example, we’re loading our CSV file into a Deedle Dataframe, and then binding the Speed column to speed. Next, we make use of pipeline operator to get the mean of the column and print that to the console.</p>

<h2 id="next-steps">Next Steps</h2>

<p>Although there are much better telemetry systems out there, working on my own simple version has allowed me to better see the differences between C# and F#, while at the same time seeing how I can use C# libraries in F# in order to accomplish different tasks. In addition, It would be a good idea to buffer the output as opposed to writing to the file each tick, but since its only two updates per second and doesn’t need to scale, I’m okay with leaving it as is for now.</p>

<p>Moving forward, the next step is to parse the CSV file and then plot several laps together to analyze breaking points and speed on the straights to see if I can improve on any specific areas of the track.</p>

<p>Lastly, thanks to F# great interop with C#, I’m not so sure that there’s a need to port the library to F#, and I might instead look towards some other areas of F# where there’s more of a need for a library.</p>

      </article></div>]]>
            </description>
            <link>https://markjames.dev/2021-02-09-iracing-telemetry-fsharp/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26083841</guid>
            <pubDate>Tue, 09 Feb 2021 23:16:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Python behind the scenes #8: how Python integers work]]>
            </title>
            <description>
<![CDATA[
Score 162 | Comments 15 (<a href="https://news.ycombinator.com/item?id=26081919">thread link</a>) | @rbanffy
<br/>
February 9, 2021 | https://tenthousandmeters.com/blog/python-behind-the-scenes-8-how-python-integers-work/ | <a href="https://web.archive.org/web/*/https://tenthousandmeters.com/blog/python-behind-the-scenes-8-how-python-integers-work/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<!-- /.post-info -->      <p>In the previous parts of this series we studied the core of the CPython interpreter and saw how the most fundamental aspects of Python are implemented. We made an overview of <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-1-how-the-cpython-vm-works/">the CPython VM</a>, took a look at <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-2-how-the-cpython-compiler-works/">the CPython compiler</a>, stepped through <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-3-stepping-through-the-cpython-source-code/">the CPython source code</a>, studied <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-4-how-python-bytecode-is-executed/">how the VM executes the bytecode</a> and learned <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-5-how-variables-are-implemented-in-cpython/">how variables work</a>. In the two most recent posts we focused on <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-6-how-python-object-system-works/">the Python object system</a>. We learned what Python objects and Python types are, how they are defined and what determines their behavior. This discussion gave us a good understanding of how Python objects work in general. What we haven't discussed is how particular objects, such as strings, integers and lists, are implemented. In this and several upcoming posts we'll cover the implementations of the most important and most interesting built-in types. The subject of today's post is <code>int</code>.</p>
<p><strong>Note</strong>: In this post I'm referring to CPython 3.9. Some implementation details will certainly change as CPython evolves. I'll try to keep track of important changes and add update notes.</p>
<h2>Why Python integers are interesting</h2>
<p>Integers require no introduction. They are so ubiquitous and seem so basic that you may doubt whether it's worth discussing how they are implemented at all. Yet, Python integers are interesting because they are not just 32-bit or 64-bit integers that CPUs work with natively. Python integers are <a href="https://en.wikipedia.org/wiki/Arbitrary-precision_arithmetic">arbitrary-precision integers</a>, also known as bignums. This means that they can be as large as we want, and their sizes are only limited by the amount of available memory.</p>
<p>Bignums are handy to work with because we don't need to worry about such things as integer overflows and underflows. They are extensively used in fields like cryptography and computer algebra where large numbers arise all the time and must be represented precisely. So, <a href="https://en.wikipedia.org/wiki/List_of_arbitrary-precision_arithmetic_software">many</a> programming languages have bignums built-in. These include Python, JavaScript, Ruby, Haskell, Erlang, Julia, Racket. Others provide bignums as a part of the standard library. These include Go, Java, C#, D, PHP. Numerous third-party libraries implement bignums. The most popular one is <a href="https://en.wikipedia.org/wiki/GNU_Multiple_Precision_Arithmetic_Library">the GNU Multiple Precision Arithmetic Library</a> (GMP). It provides a C API but has bindings for all major languages.</p>
<p>There are a lot of bignum implementations. They're different in detail, but the general approach to implement bignums is the same. Today we'll see what this approach looks like and use CPython's implementation as a reference example. The two main questions we'll have to answer are:</p>
<ul>
<li>how to represent bignums; and</li>
<li>how to performs arithmetic operations, such as addition and multiplication, on bignums.</li>
</ul>
<p>We'll also discuss how CPython's implementation compares to others and what CPython does to make integers more efficient. </p>
<h2>Bignum representation</h2>
<p>Think for a moment how you would represent large integers in your program if you were to implement them yourself. Probably the most obvious way to do that is to store an integer as a sequence of digits, just like we usually write down numbers. For example, the integer <code>51090942171709440000</code> could be represented as <code>[5, 1, 0, 9, 0, 9, 4, 2, 1, 7, 1, 7, 0, 9, 4, 4, 0, 0, 0, 0]</code>. This is essentially how bignums are represented in practice. The only important difference is that instead of base 10, much larger bases are used. For example, CPython uses base 2^15 or base 2^30 depending on the platform. What's wrong with base 10? If we represent each digit in a sequence with a single byte but use only 10 out of 256 possible values, it would be very memory-inefficient. We could solve this memory-efficiency problem if we use base 256, so that each digit takes a value between 0 and 255. But still much larger bases are used in practice. The reason for that is because larger base means that numbers have less digits, and the less digits numbers have, the faster arithmetic operations are performed. The base cannot be arbitrary large. It's typically limited by the size of the integers that the CPU can work with. We'll see why this is the case when we discuss bignum arithmetic in the next section. Now let's take a look at how CPython represents bignums.</p>
<p>Everything related to the representation of Python integers can be found in <a href="https://github.com/python/cpython/blob/3.9/Include/longintrepr.h"><code>Include/longintrepr.h</code></a>. Technically, Python integers are instances of <code>PyLongObject</code>, which is defined in <a href="https://github.com/python/cpython/blob/3.9/Include/longobject.h"><code>Include/longobject.h</code></a>, but <code>PyLongObject</code> is actually a typedef for <code>struct _longobject</code> that is defined in <code>Include/longintrepr.h</code>:</p>
<div><pre><span></span><span>struct</span> <span>_longobject</span> <span>{</span>
    <span>PyVarObject</span> <span>ob_base</span><span>;</span> <span>// expansion of PyObject_VAR_HEAD macro</span>
    <span>digit</span> <span>ob_digit</span><span>[</span><span>1</span><span>];</span>
<span>};</span>
</pre></div>


<p>This struct extends <a href="https://docs.python.org/3/c-api/structures.html#c.PyVarObject"><code>PyVarObject</code></a>, which in turn extends <a href="https://docs.python.org/3/c-api/structures.html#c.PyObject"><code>PyObject</code></a>:</p>
<div><pre><span></span><span>typedef</span> <span>struct</span> <span>{</span>
    <span>PyObject</span> <span>ob_base</span><span>;</span>
    <span>Py_ssize_t</span> <span>ob_size</span><span>;</span> <span>/* Number of items in variable part */</span>
<span>}</span> <span>PyVarObject</span><span>;</span>
</pre></div>


<p>So, besides a reference count and a type that all Python objects have, an integer object has two other members: </p>
<ul>
<li><code>ob_size</code> that comes from <code>PyVarObject</code>; and </li>
<li><code>ob_digit</code> that is defined in <code>struct _longobject</code>.</li>
</ul>
<p>The <code>ob_digit</code> member is a pointer to an array of digits. On 64-bit platforms, each digit is a 30-bit integer that takes values between 0 and 2^30-1 and is stored as an unsigned 32-bit int (<code>digit</code> is a typedef for <code>uint32_t</code>). On 32-bit platforms, each digit is a 15-bit integer that takes values between 0 and 2^15-1 and is stored as an unsigned 16-bit int (<code>digit</code> is a typedef for <code>unsigned short</code>). To make things concrete, in this post we'll assume that digits are 30 bits long.</p>
<p>The <code>ob_size</code> member is a signed int, whose absolute value tells us the number of digits in the <code>ob_digit</code> array. The sign of <code>ob_size</code> indicates the sign of the integer. Negative <code>ob_size</code> means that the integer is negative. If <code>ob_size</code> is 0, then the integer is 0.</p>
<p>Digits are stored in a little-endian order. The first digit (<code>ob_digit[0]</code>) is the least significant, and the last digit (<code>ob_digit[abs(ob_size)-1]</code>) is the most significant.</p>
<p>Finally, the absolute value of an integer is calculated as follows: </p>
<p>$$val = ob\_digit[0] \times (2 ^{30})^0 + ob\_digit[1] \times (2 ^{30})^1 + \cdots + ob\_digit[|ob\_size| - 1] \times (2 ^{30})^{|ob\_size| - 1}$$</p>
<p>Let's see what all of this means with an example. Suppose we have an integer object that has <code>ob_digit = [3, 5, 1]</code> and <code>ob_size = -3</code>. To compute its value, we can do the following:</p>
<div><pre><span></span><span>$ python -q</span>
<span>&gt;&gt;&gt; </span><span>base</span> <span>=</span> <span>2</span><span>**</span><span>30</span>
<span>&gt;&gt;&gt; </span><span>-</span><span>(</span><span>3</span> <span>*</span> <span>base</span><span>**</span><span>0</span> <span>+</span> <span>5</span> <span>*</span> <span>base</span><span>**</span><span>1</span> <span>+</span> <span>1</span> <span>*</span> <span>base</span><span>**</span><span>2</span><span>)</span>
<span>-1152921509975556099</span>
</pre></div>


<p>Now let's do the reverse. Suppose we want to get the bignum representation of the number <code>51090942171709440000</code>. Here's how we can do that:</p>
<div><pre><span></span><span>&gt;&gt;&gt; </span><span>x</span> <span>=</span> <span>51090942171709440000</span>
<span>&gt;&gt;&gt; </span><span>x</span> <span>%</span> <span>base</span>
<span>952369152</span>
<span>&gt;&gt;&gt; </span><span>(</span><span>x</span> <span>//</span> <span>base</span><span>)</span> <span>%</span> <span>base</span>
<span>337507546</span>
<span>&gt;&gt;&gt; </span><span>(</span><span>x</span> <span>//</span> <span>base</span> <span>//</span> <span>base</span><span>)</span> <span>%</span> <span>base</span>
<span>44</span>
<span>&gt;&gt;&gt; </span><span>(</span><span>x</span> <span>//</span> <span>base</span> <span>//</span> <span>base</span> <span>//</span> <span>base</span><span>)</span> <span>%</span> <span>base</span>
<span>0</span>
</pre></div>


<p>So, <code>ob_digit = [952369152, 337507546, 44]</code> and <code>ob_size = 3</code>. Actually, we don't even have to compute the digits, we can get them by inspecting the integer object using the <a href="https://docs.python.org/3/library/ctypes.html#module-ctypes"><code>ctypes</code></a> standard library:</p>
<div><pre><span></span><span>import</span> <span>ctypes</span>


<span>MAX_DIGITS</span> <span>=</span> <span>1000</span>

<span># This is a class to map a C `PyLongObject` struct to a Python object</span>
<span>class</span> <span>PyLongObject</span><span>(</span><span>ctypes</span><span>.</span><span>Structure</span><span>):</span>
    <span>_fields_</span> <span>=</span> <span>[</span>
        <span>(</span><span>"ob_refcnt"</span><span>,</span> <span>ctypes</span><span>.</span><span>c_ssize_t</span><span>),</span>
        <span>(</span><span>"ob_type"</span><span>,</span> <span>ctypes</span><span>.</span><span>c_void_p</span><span>),</span>
        <span>(</span><span>"ob_size"</span><span>,</span> <span>ctypes</span><span>.</span><span>c_ssize_t</span><span>),</span>
        <span>(</span><span>"ob_digit"</span><span>,</span> <span>MAX_DIGITS</span> <span>*</span> <span>ctypes</span><span>.</span><span>c_uint32</span><span>)</span>
    <span>]</span>


<span>def</span> <span>get_digits</span><span>(</span><span>num</span><span>):</span>
    <span>obj</span> <span>=</span> <span>PyLongObject</span><span>.</span><span>from_address</span><span>(</span><span>id</span><span>(</span><span>num</span><span>))</span>
    <span>digits_len</span> <span>=</span> <span>abs</span><span>(</span><span>obj</span><span>.</span><span>ob_size</span><span>)</span>
    <span>return</span> <span>obj</span><span>.</span><span>ob_digit</span><span>[:</span><span>digits_len</span><span>]</span>
</pre></div>


<div><pre><span></span><span>&gt;&gt;&gt; </span><span>from</span> <span>num_digits</span> <span>import</span> <span>get_digits</span>
<span>&gt;&gt;&gt; </span><span>x</span> <span>=</span> <span>51090942171709440000</span>
<span>&gt;&gt;&gt; </span><span>get_digits</span><span>(</span><span>x</span><span>)</span>
<span>[952369152, 337507546, 44]</span>
</pre></div>


<p>As you might guess, the representation of bignums is an easy part. The main challenge is to implement arithmetic operations and to implement them efficiently.</p>
<h2>Bignum arithmetic</h2>
<p>We learned in <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-6-how-python-object-system-works/">part 6</a> that the behavior of a Python object is determined by the object's type. Each member of a type, called slot, is responsible for a particular aspect of the object's behavior. So, to understand how CPython performs arithmetic operations on integers, we need to study the slots of the <code>int</code> type that implement those operations.</p>
<p>In the C code, the <code>int</code> type is called <code>PyLong_Type</code>. It's defined in <code>Objects/longobject.c</code> as follows:</p>
<div><pre><span></span><span>PyTypeObject</span> <span>PyLong_Type</span> <span>=</span> <span>{</span>
    <span>PyVarObject_HEAD_INIT</span><span>(</span><span>&amp;</span><span>PyType_Type</span><span>,</span> <span>0</span><span>)</span>
    <span>"int"</span><span>,</span>                                      <span>/* tp_name */</span>
    <span>offsetof</span><span>(</span><span>PyLongObject</span><span>,</span> <span>ob_digit</span><span>),</span>           <span>/* tp_basicsize */</span>
    <span>sizeof</span><span>(</span><span>digit</span><span>),</span>                              <span>/* tp_itemsize */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_dealloc */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_vectorcall_offset */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_getattr */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_setattr */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_as_async */</span>
    <span>long_to_decimal_string</span><span>,</span>                     <span>/* tp_repr */</span>
    <span>&amp;</span><span>long_as_number</span><span>,</span>                            <span>/* tp_as_number */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_as_sequence */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_as_mapping */</span>
    <span>(</span><span>hashfunc</span><span>)</span><span>long_hash</span><span>,</span>                        <span>/* tp_hash */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_call */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_str */</span>
    <span>PyObject_GenericGetAttr</span><span>,</span>                    <span>/* tp_getattro */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_setattro */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_as_buffer */</span>
    <span>Py_TPFLAGS_DEFAULT</span> <span>|</span> <span>Py_TPFLAGS_BASETYPE</span> <span>|</span>
        <span>Py_TPFLAGS_LONG_SUBCLASS</span><span>,</span>               <span>/* tp_flags */</span>
    <span>long_doc</span><span>,</span>                                   <span>/* tp_doc */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_traverse */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_clear */</span>
    <span>long_richcompare</span><span>,</span>                           <span>/* tp_richcompare */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_weaklistoffset */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_iter */</span>
    <span>0</span><span>,</span>                                          <span>/* tp_iternext */</span>
    <span>long_methods</span><span>,</span>                               <span>/* tp_methods */</span>
    <span>0</span><span>,</span>                                          <span>/* …</span></pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-8-how-python-integers-work/">https://tenthousandmeters.com/blog/python-behind-the-scenes-8-how-python-integers-work/</a></em></p>]]>
            </description>
            <link>https://tenthousandmeters.com/blog/python-behind-the-scenes-8-how-python-integers-work/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26081919</guid>
            <pubDate>Tue, 09 Feb 2021 20:14:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Creeping as a Service]]>
            </title>
            <description>
<![CDATA[
Score 349 | Comments 130 (<a href="https://news.ycombinator.com/item?id=26081672">thread link</a>) | @dshipper
<br/>
February 9, 2021 | https://every.to/divinations/creeping-as-a-service-craas | <a href="https://web.archive.org/web/*/https://every.to/divinations/creeping-as-a-service-craas">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p><em>Hey, Nathan here! Remember a few months ago when we published a wonderful essay on&nbsp;</em><a href="https://every.to/divinations/linkedins-alternate-universe-21780381" rel="noopener noreferrer" target="_blank"><em>LinkedInâ€™s ridiculousness</em></a><em>? It was one of Divinations most popular posts ever, and it was written by </em><a href="https://twitter.com/fadeke_adegbuyi" rel="noopener noreferrer" target="_blank"><em>Fadeke Adegbuyi</em></a><em>, a brilliant observer of internet culture who also is a senior marketing manager at Doist. Today Iâ€™m thrilled to share with you Fadekeâ€™s latest workâ€”this time examining our obsession with identity through the lens of a Twitter bio tracking app called Spoonbill. Enjoy!</em></p><hr><p>Elon Musk updated his Twitter bio 23 times in 2020. He last changed it on February 4, 2021 at 6:31 AM PST. A few versions include â€œBorn 69 days after 4/20,â€� â€œSoundCloud Rockstar,â€� â€œBudgie Smuggler,â€� and â€œ#bitcoin.â€� I didnâ€™t spend months stalking Muskâ€™s page, developing an encyclopedic knowledge of his time spent in the Twitterverse. I looked it up on <a href="http://spoonbill.io/" rel="noopener noreferrer" target="_blank">Spoonbill</a>.&nbsp;</p><p><a href="https://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1495/optimized_1.png" target="_blank"><img src="https://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1495/optimized_1.png"></a></p><p>I could use the app to give you similar information on any celebrity or public figure with a Twitter account. Or I could use it on you. If I wanted to, I could see all the changes youâ€™ve made to your profile since you first signed up: your name, your location, your website, your pinned tweets. </p><p><a href="https://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1495/optimized_2.png" target="_blank"><img src="https://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1495/optimized_2.png"></a></p><p>Spoonbillâ€™s creator, <a href="https://twitter.com/justinmduke" rel="noopener noreferrer" target="_blank">Justin M. Duke</a>, describes the app, which has nearly 93 thousand users, as a â€œtracking tool for online metadata.â€� Over 45K of those users have signed up to receive daily emails that aggregate updates across all the Twitter profiles they follow. The open rate for these daily emails hovers around 55%, <a href="https://www.campaignmonitor.com/resources/knowledge-base/what-are-the-average-click-and-read-rates-for-email-campaigns/" rel="noopener noreferrer" target="_blank">well above average</a> for email campaigns.</p><p><a href="https://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1495/optimized_3.png" target="_blank"><img src="https://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1495/optimized_3.png"></a></p><p>I asked <a href="https://twitter.com/hunterwalk" rel="noopener noreferrer" target="_blank">Hunter Walk</a>, a Partner at the seed-stage venture capital firm Homebrew and an avid Spoonbiller, why he uses the app :</p><blockquote><em>"It's fun to see people wordsmithing their bios, changing the order of the portfolio companies they list based on startup performance, subtly announcing personal life changes...Instead of letting Twitter decide what's worthy of notification, I get to see </em>every<em> change and decide for myself what's interesting, often with context that the algorithm is unaware of."</em></blockquote><p>The tracked changes that Twitterâ€™s algorithm might register as neutral additions and subtractions can indeed be revealing to onlookers. Spoonbill captures what the people we follow are changing their bios to express; an investment exit, a tongue-in-cheek joke, or the end of an internet cult affiliation.</p><p><a href="https://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1495/optimized_New.png" target="_blank"><img src="https://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1495/optimized_New.png"></a></p><p>Social apps have made creepers out of all of us. Whether itâ€™s scrolling to the start of someoneâ€™s Instagram feed or <a href="https://sarajbenincasa.medium.com/confessions-of-a-venmo-voyeur-cb0e4c23d04a" rel="noopener noreferrer" target="_blank">looking through Venmo transactions</a>, weâ€™re constantly peering into othersâ€™ online lives. Spoonbill not only satisfies our tendency for online lurking, but pushes it into voyeur territory; surfacing whatâ€™s meant to be hidden is intimate in a way that scrolling a timeline isnâ€™t. The tool provides a glimpse into the specific ways we represent ourselves to the world, the unseen effort with which we express our identities, and how the uncanny feeling of being watched informs our sense of self.</p><p>Twitter is an interesting observation ground for online identity. Snapshots at Big Sur are meant for Instagramâ€™s photogenic feed, while professional milestones belong on <a href="https://divinations.every.to/p/linkedins-alternate-universe" rel="noopener noreferrer" target="_blank">LinkedInâ€™s alternate universe</a>. But in the Twitterverse, life and work converge. People are just as likely to share career news as they are to live-tweet a Netflix binge; professional gripes commingle with criticism of political leaders; snark and sincerity live side-by-side. </p><p><a href="https://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1495/optimized_4.png" target="_blank"><img src="https://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1495/optimized_4.png"></a></p><p>Twitterâ€™s bio section, then, is a tall order: <em>compress your entire identity into a single line item</em>. Many use the space to convey their own complexityâ€“â€“smart yet funny, accomplished but approachable. Society has progressed past the need for the phrase â€œworks hard, plays hard,â€� but thatâ€™s what weâ€™re trying to convey in our own personalized way: we contain multitudes. We are real.</p><p>Spoonbill reveals the way that people play with their latest positioning of self, carving out character space for their newly important aspects of identity.</p><p><a href="https://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1495/optimized_7.png" target="_blank"><img src="https://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1495/optimized_7.png"></a></p><p>Hustle culture looms large and professional accomplishments convey worth. In turn, notable work, career highlights, and impressive affiliations take center stage in our Twitter bios, the structure and grammar of which are heavily coded. Freelance journalists add and shuffle their bylines, arranged in order of prestige â€“â€“ @nytimes is meant to come first. In my corner of Tech Twitter, where optionality is king, itâ€™s now effectively a meme to be <em>â€œstarting something new,â€�</em> marked increasingly by the addition of â€œSubstack:â€�, â€œScout:â€�, or â€œSide project:â€� to oneâ€™s bio. Users adding â€œ<em>permanent student</em>â€� or â€œ<em>forever learning</em>â€� to their bios arenâ€™t pupils at cruel and unusual institutions, theyâ€™re signalling intellectual curiosity.&nbsp;</p><p><a href="https://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1495/optimized_8.png" target="_blank"><img src="https://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1495/optimized_8.png"></a></p><p>The ability to see Twitter bio updates across hundreds or thousands of profiles over time make Spoonbill updates insightful in aggregate. Certain patterns and conventions emerge.&nbsp;</p><p>Spoonbillâ€™s creator has observed interesting trends in his app:</p><blockquote><em>"On an individual/corporate basis, a particularly fun one is seeing angels and investors tinker with the parts of the portfolio they </em><a href="http://spoonbill.io/twitter/data/Jason/" rel="noopener noreferrer" target="_blank"><em>choose to highlight</em></a><em>. A very classic example of this was the sheer number of firms and investors who removed things mentioning WeWork during, well, the period of time that you didnâ€™t want your name associated with WeWork."</em></blockquote><p>WeWork reached a $47 billion valuation in 2019, but cancelled their plans to go public <a href="https://www.businessinsider.com/wework-ipo-timeline-delayed-ceo-adam-neumann-scandals-explained-2019-9" rel="noopener noreferrer" target="_blank">after their IPO filing drew questions and concerns</a>. In a bio block thatâ€™s meant for selling ourselves to a potential follower, a failed investment takes up valuable real estate. But while WeWork investors might wish we would all forget their involvement as quickly as they hit â€œsaveâ€� on their new bio, Spoonbill always knows.</p><p>In that same 160-character space, weâ€™re also meant to declare our commitment to cause: political, social, or economic. Often, emojis will do:</p><p><a href="https://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1495/optimized_9.png" target="_blank"><img src="https://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1495/optimized_9.png"></a></p><p>If you watch Spoonbill updates closely enough, they suggest that the labels and descriptors we choose to signal our allegiances can be fleeting, our attention spans short. As COVID-19 spread throughout the world in early 2020, many updated their bios with their own messages about the virus, encouraging their followers to take some form of action:</p><p><a href="https://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1495/optimized_10.png" target="_blank"><img src="https://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1495/optimized_10.png"></a></p><p>But almost as quickly as these bio changes were made, they were unmade, individuals returning to their regular profiles. Less charitably, people just got bored; short-term vigilance surrounding the virus eventually led to a return to normal life for many. More charitably, the longer the pandemic wore on, identities once swaddled in concern for the virus eventually needed some wiggle room.&nbsp;</p><p>Last year, as racial tensions bubbled to a boil throughout the United States and set off an international cascade, Spoonbill revealed how Twitter bios were used to show support for what was top of mindâ€“â€“or a stance on what was top of the fold:</p><p><a href="https://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1495/optimized_11.png" target="_blank"><img src="https://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1495/optimized_11.png"></a></p><p>As time went on, it was jarring but predictable to see lines through phrases like â€œBlack lives matterâ€� across swaths of profile updates in my inbox. </p><p><a href="https://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1495/optimized_12.png" target="_blank"><img src="https://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1495/optimized_12.png"></a></p><p>Politics similarly finds its way into our descriptions of self. With the 2020 U.S. presidential election, many translated their desired vote on the ballot to their bio: </p><p><a href="https://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1495/optimized_13.png" target="_blank"><img src="https://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1495/optimized_13.png"></a></p><p>The story has already been written, and you know what comes next: dashed presidential dreams translated to crossed-out candidates. Adding presidential hopefuls or even political parties to how we identify can be an exercise in disappointment. Disappointment is inevitable (after all, there can only be one). But seeing how long people hold on to their hopefuls was interesting; some still signalling long after their candidate had dropped out.</p><p><a href="https://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1495/optimized_14.png" target="_blank"><img src="https://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1495/optimized_14.png"></a></p><p>These tracked changes of our online selves provide a glimpse into the specific ways we represent ourselves to the world, how society manages to infect our identities, and, what we valueâ€”or what we want to be seen as valuing.</p><p>Spoonbill uncovers the tacit labor involved in our quest for the perfect personal positioning. In describing the way online influencers take effortless-looking selfies that are actually quite effortful, <a href="https://twitter.com/wishcrys" rel="noopener noreferrer" target="_blank">Dr. Crystal Abidin (aka wishcrys)</a>, a researcher and â€œanthropologist of influencer culturesâ€� (according to her own Twitter bio), <a href="https://journals.sagepub.com/doi/full/10.1177/2056305116641342" rel="noopener noreferrer" target="_blank">coined the term â€œtacit laborâ€�</a> as:&nbsp;</p><blockquote><em>â€œA collective practice of work that is understated and under-visibilized from being so thoroughly rehearsed that it appears as effortless and subconscious.â€�</em></blockquote><p>You donâ€™t need to be an influencer to know the labor involved in taking and selecting a selfie. Getting the right light, angle, and expression are just some of the considerations made while snapping and choosing from the photos that fill our camera rolls. After selecting the winning shot, we leave behind a stream of rejected selfies, never to see the light of day; the tacit labor stays hidden. After a photo has been cropped, filtered, and face-tuned, a refined â€œselfâ€�-ie joins the feed, adding to our curated online imageâ€“â€“polished, carefree, or somewhere in between.</p><p>Just like we strain for the perfect selfie, we tinker to find the perfect bio, treating it as a personal sales pitch and making micro edits to what we represent and â€œwho we are.â€� Spoonbill catalogues every time-stamped keystroke and tracked changeâ€“â€“from the removal of a single stuffy period to self-consciously swapping â€œMarketerâ€� for â€œStorytellerâ€� and reverting back again.&nbsp; Like the photos in your camera roll, your current Twitter bio has leftâ€“â€“for Spoonbill users to seeâ€“â€“a wake of rejected selves. </p><p><a href="https://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1495/optimized_5.png" target="_blank"><img src="https://d24ovhgu8s7341.cloudfront.net/uploads/editor/posts/1495/optimized_5.png"></a></p><p>Spoonbill reveals the surprising scale and frenzying frequency with which all kinds of people make these online edits. We add in emojis, expand and shrink our past affiliations, and flirt briefly with humor, adding clever one-liners before eventually reverting to something more serious. Itâ€™s effortfulness on display. Seeing people iterate on their identities in Spoonbill, switching too-formal uppercase for carefree lowercase characters, makes our desire to control how …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://every.to/divinations/creeping-as-a-service-craas">https://every.to/divinations/creeping-as-a-service-craas</a></em></p>]]>
            </description>
            <link>https://every.to/divinations/creeping-as-a-service-craas</link>
            <guid isPermaLink="false">hacker-news-small-sites-26081672</guid>
            <pubDate>Tue, 09 Feb 2021 19:45:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Migrating a JavaScript Library from JavaScript to WebAssembly]]>
            </title>
            <description>
<![CDATA[
Score 128 | Comments 39 (<a href="https://news.ycombinator.com/item?id=26080798">thread link</a>) | @jasperk
<br/>
February 9, 2021 | https://engineering.q42.nl/webassembly/ | <a href="https://web.archive.org/web/*/https://engineering.q42.nl/webassembly/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://engineering.q42.nl/content/images/size/w300/2020/09/Going-From-JavaScript-to-WebAssembly-in-Three-Steps.png 300w,
                            https://engineering.q42.nl/content/images/size/w600/2020/09/Going-From-JavaScript-to-WebAssembly-in-Three-Steps.png 600w,
                            https://engineering.q42.nl/content/images/size/w1000/2020/09/Going-From-JavaScript-to-WebAssembly-in-Three-Steps.png 1000w,
                            https://engineering.q42.nl/content/images/size/w2000/2020/09/Going-From-JavaScript-to-WebAssembly-in-Three-Steps.png 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://engineering.q42.nl/content/images/size/w2000/2020/09/Going-From-JavaScript-to-WebAssembly-in-Three-Steps.png" alt="Going from JavaScript to WebAssembly in three steps">
            </figure>

            <section>
                <div>
                    <!--kg-card-begin: markdown--><p>Hi! I'm Marcel, web developer at <a href="https://www.q42.com/">Q42</a> and creator of the <a href="https://micr.io/">Micrio storytelling platform</a>.</p>
<p>In 2015, I started developing a JavaScript viewer for ultra high resolution 2D and 360° images with added markers, tours, audio, and more. Since then, I've been pushing to find the best balance between hardware performance, minimal CPU and bandwidth use, and compatibility for older browsers to deliver a sharp and high quality viewing experience.</p>
<p>For Micrio, it is vital that the performance on the client's browser is as good as possible. The reason for this is very simple: when you are being told a story, or watching a movie, even <em>a single frameskip</em> immediately takes you out of your experience.</p>
<p>Since Micrio is being used for an <a href="https://micr.io/showcases">ever growing list</a> of awesome projects, the most important thing is that for whoever visits a Micrio project, it must work, and <em>work well</em>: delivering fast load times, and a butter smooth interactive experience.</p>
<p><a href="https://webassembly.org/">WebAssembly</a> (Wasm) is the ability for your browser to run <em>compiled</em> code at (near-) native speeds. It is now recognised by the W3C as the <a href="https://www.w3.org/2019/12/pressrelease-wasm-rec.html.en">4th official web programming language</a>, after HTML, CSS and JavaScript.</p>
<p>With it, you can run compiled code written in a variety of programming languages (C/C++, Rust, Go, AssemblyScript, <a href="https://github.com/appcypher/awesome-wasm-langs">and many more</a>) in your browser, without any need for plugins.</p>
<p>Finding out about Wasm in late 2019 really made me want to try it out. Could I use this tech to make the Micrio client run smoother than the current version does? Would I need to rewrite everything in C++, and if so, how would that work? Would the effort be worth the gains it would give me? And not in the least.. <em>how does it work!?</em></p>
<p>This article describes my journey from upgrading the Micrio <strong>JavaScript-only client to use WebAssembly</strong>, with the hopes of improving performance, and taking my code to the next level.</p>
<h3 id="thecurrentversion">The current version</h3>
<p>To give a rough idea about the tech stack of the current latest JS-only revision of Micrio (<a href="https://b.micr.io/micrio-2.9.min.js">version 2.9</a>): This library as a single JS file works on all semi-modern browsers, including even Internet Explorer 10 for 2D, and IE 11 for 360° images.</p>
<p>It uses Canvas2D for the rendering of 2D images, and <a href="https://threejs.org/">three.js</a>/WebGL rendering for 360° images. Written in <a href="https://caniuse.com/#search=es6">ES6 JavaScript</a> (or ECMAScript 6, the latest version of JavaScript), it still <a href="https://developers.google.com/closure/compiler">compiles</a> to ES5 to support Internet Explorer 11.</p>
<p>As you can imagine, displaying a <a href="https://micr.io/i/xCSYV/">231.250 x 193.750 pixel image</a> in your browser in a matter of milliseconds, allowing the user to freely zoom in and navigate, requires a little bit of processing power.</p>
<p>Now, Micrio 2.9 <em>isn't bad</em>. It runs pretty smoothly on all devices. But with WebAssembly around the corner, allowing all calculations to be done at native CPU speeds, this could potentially make a big difference in making Micrio's performance even better, and could improve the code architecture a lot.</p>
<p>And, perhaps, this could also mark the setup for a new major version, where I will draw a clear line and drop all compatibility and polyfills for older browsers: <strong>Micrio 3.0</strong>.</p>
<h2 id="firstrewritecandemscripten">First Rewrite: C++ and emscripten</h2>
<p>As a first step into the world of WebAssembly, getting to know the ecosystem, I started to play around with <a href="https://emscripten.org/">emscripten</a>. With it, you can take almost any project made in C or C++, and compile it to a binary <code>.wasm</code> file that your browser can natively run.</p>
<p>At this point, I didn't really have a clear image of where WebAssembly starts and ends, and how autonomously it could run inside your browser. So I started a new project from scratch to see if I could make a C++-implementation of the basic Micrio logic: a virtual <em>zoomable</em> and <em>pannable</em> image consisting of a lot of separate tiles, using a virtual camera for displaying only the tiles necessary for what the user is viewing inside your screen.</p>
<p>It turns out, emscripten already had great compatibility for <a href="https://www.libsdl.org/">libsdl</a>: a low-level audio, keyboard/mouse input, and OpenGL library. Which is awesome, because I could write my code using this very well documented library, even including mouse and key inputs and WebGL rendering. Since I was also working with downloading images, I also used the <a href="https://github.com/nothings/stb">stb_image.h</a> image library.</p>
<p><img src="https://raw.githubusercontent.com/marcelduin/Micrio.Blogpost.wasm-v3/master/img/cpp.png" alt="Setting up SDL and OpenGL" title="C++ in the 21st century"></p>
<p>The largest struggle of this was picking up C++ again, never having used it outside of hobby scope many years ago. But after a few days of cursing and second guessing myself, I had a working first version with all of the most important features written with help of the SDL library:</p>
<ul>
<li>A virtual camera and all necessary viewing logic;</li>
<li>Image tiles downloading;</li>
<li>Rendering using WebGL(/OpenGL) using a simple shader;</li>
<li>Mouse event handling for panning and zooming the image;</li>
<li>Resize event handling to fit Micrio to the desired <code>&lt;canvas&gt;</code> HTML element</li>
</ul>
<p>You can see this version running here: <a href="https://b.micr.io/_test/wasm/index.html">https://b.micr.io/_test/wasm/index.html</a> :</p>
<p><a href="https://b.micr.io/_test/wasm/index.html"><img src="https://raw.githubusercontent.com/marcelduin/Micrio.Blogpost.wasm-v3/master/img/emscripten.png" alt="Micrio in native C++"></a></p>
<h3 id="firstresults">First Results</h3>
<p>As incredibly awesome it was to see Micrio in C++ running smoothly in my browser, and even handing all the user's input, there were a few reservations, which left me with an unsatisfied feeling.</p>
<h4 id="1codingcfeltoldfashioned">1. Coding C++ felt old-fashioned</h4>
<p>Writing C++ felt like going back in time. Incredibly powerful and fully proven, but also archaic, especially for me as a web developer. I spent more time fiddling with making an optimized <code>Makefile</code> than I care to admit.</p>
<p><img src="https://raw.githubusercontent.com/marcelduin/Micrio.Blogpost.wasm-v3/master/img/makefile.png" alt="The emscripten C++ Makefile" title="( ͡° ͜ʖ ͡°)"></p>
<h4 id="2thecompiledwasmbinarywasverylarge">2. The compiled <code>.wasm</code> binary was very large</h4>
<p>As great as the help of <code>libsdl</code> and <code>stb_image.h</code> were to let me use OpenGL and JPG image functions, as much did they add to the final compiled binary file. Even with all <code>emcc</code> compiler optimizations (which can even use the awesome <code>closure</code> JS compiler), the resulting WebAssembly binary file was 760KB. Compared to the JavaScript version of Micrio being around 240KB, this was a major setback. These libraries packed a lot of functionalities that were not necessary for Micrio, but were still included in the compiled version.</p>
<h4 id="3tilagluefile">3. TIL: A <em>glue</em> file</h4>
<p>This is the part where I learnt where the limits of WebAssembly start and finish. <strong>WebAssembly is not a magical self-contained binary that lets you run full applications out of the box</strong>. It actually needs to be <em>bound</em> to the browser using JavaScript.</p>
<p><img src="https://raw.githubusercontent.com/marcelduin/Micrio.Blogpost.wasm-v3/master/img/glued.png" alt="glue clipart"><br>
<small><a href="http://www.clker.com/clipart-13445.html">Image source</a></small></p>
<p>Where I thought that all the SDL OpenGL code in C++ would automagically be recognised by the browser: <em>wrong</em>. What <code>emscripten</code> does, is to take all OpenGL operations from C++, and <em>convert them</em> to WebGL operations your browser can understand.</p>
<p>Same with the <code>libsdl</code> mouse and keyboard-inputs: these were <strong>glued</strong> to the browser using an extra JavaScript file that would set event listeners for the specific cases, and send them to the WebAssembly binary. This separate JavaScript file was generated by the emscripten compiler, and had to be included in the HTML alongside the compiled binary <code>.wasm</code> file.</p>
<p>Everything added together, the new total of the <em>base engine</em> of Micrio was a whopping <strong>791KB</strong>; a bit too much for my liking.</p>
<h2 id="secondrewriteassemblyscript">Second Rewrite: AssemblyScript</h2>
<p>Fast forward a few months, to just after having attended the awesome <a href="https://webassembly-summit.org/">WebAssembly Summit</a> in Mountain View in February 2020. With a bundle of fresh energy and inspiration, I decided to see if I could use WebAssembly to improve the Micrio JavaScript client a second time.</p>
<p>During the WebAssembly conference, I was very impressed by a <a href="https://www.youtube.com/watch?v=C8j_ieOm4vE">synth demo</a> written in <strong><a href="https://www.assemblyscript.org/">AssemblyScript</a></strong>, a language created specifically for WebAssembly, using the TypeScript syntax. Basically you can write (near) TypeScript, which compiles to a <code>.wasm</code>-binary. So anyone familiar with either TypeScript or JavaScript ES6 will not have a lot of difficulties using it.</p>
<p>And the great thing-- it's all installed using <code>npm</code>, so <a href="https://www.assemblyscript.org/quick-start.html">getting it up and running</a> and compiling your program is super easy!</p>
<p>There are a few basic <a href="https://www.assemblyscript.org/types.html"><code>types</code> added in AssemblyScript</a>, which are required for compile-time optimizations:</p>
<ul>
<li><code>f64</code> / <code>f32</code> : For 64 or 32-bit floats;</li>
<li><code>i8</code> / <code>i16</code> / <code>i32</code> / <code>i64</code> : For signed <code>int</code>s, ranging in precision</li>
<li><code>u8</code> .. <code>u64</code> : For unsigned <code>int</code>s</li>
<li><a href="https://www.assemblyscript.org/types.html">And a few more</a></li>
</ul>
<h3 id="goingatomic">Going atomic</h3>
<p>This time, I wanted to see if it was possible to only let a small part of Micrio run inside WebAssembly, and still use most of the JavaScript that was already inside the client. <em>How small can we get it?</em> I decided to focus on a subset of camera functions, such as translating screen coordinates to image coordinates and vice versa. So this time no rendering, event handling, or writing shaders.</p>
<p><img src="https://raw.githubusercontent.com/marcelduin/Micrio.Blogpost.wasm-v3/master/img/assemblyscript.png" alt="Simple camera functions in AssemblyScript" title="My First AssemblyScript"><br>
<small><em>Simple camera functions in AssemblyScript</em></small></p>
<p>The result: a 3KB binary containing some basic math functions, that take an input and return an output. AssemblyScript offers some <em>glue-tooling</em> by providing its own <a href="https://www.assemblyscript.org/loader.html">Loader</a>, which will deal with importing the binary file and being able to call these functions.</p>
<p>However, this is optional and I ended up using the JavaScript <a href="https://developer.mozilla.org/en-US/docs/WebAssembly/Using_the_JavaScript_API">WebAssembly API</a>, <em>neat</em>. And it turns out, this is super easy: simply use the <code>fetch</code> API to load your compiled <code>.wasm</code> file, cast it as an <code>ArrayBuffer</code>, and use the <code>WebAssembly.instantiate()</code> function to get it up and running.</p>
<p><img src="https://raw.githubusercontent.com/marcelduin/Micrio.Blogpost.wasm-v3/master/img/instantiate.png" alt="Loading a wasm file" title="Gluing it yourself"></p>
<p>The compiled binary will then offer an <code>exports</code> object, containing the functions that you have exported in the AssemblyScript file, which you can immediately call from JavaScript as if they were normal functions.</p>
<p>Wait.. "<em>which you can immediately call from JavaScript as if they were normal functions</em>"...</p>
<p><strong>WebAssembly is running synchronously to JavaScript!</strong> 🤯</p>
<p>Having worked with WebWorkers before, I honestly thought that WebAssembly would run inside its own CPU thread, and that any function calls would be <code>async</code>. Nope, the Wasm-functions you call will return immediately!</p>
<p><a href="https://www.assemblyscript.org/exports-and-imports.html#exports"><em>This is, like, powerful stuff</em>!</a></p>
<h3 id="bundlingthecompiledwasminsidethejsfile">Bundling the compiled Wasm inside the JS file</h3>
<p>Since I now had some extra performing hands on deck for Micrio that was very easy to integrate, I decided to include this minimal WebAssembly binary in the then-stable release of Micrio (2.9).</p>
<p>However, I didn't want an extra HTTP request for the Wasm binary every time someone loaded the Micrio JS. So I included a <code>base64</code> encoded version of the Wasm-file <em>inside</em> the Micrio JS, and for browsers that support it, auto-loaded that. As a …</p></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://engineering.q42.nl/webassembly/">https://engineering.q42.nl/webassembly/</a></em></p>]]>
            </description>
            <link>https://engineering.q42.nl/webassembly/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26080798</guid>
            <pubDate>Tue, 09 Feb 2021 18:19:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Vantage has acquired ec2instances.info]]>
            </title>
            <description>
<![CDATA[
Score 85 | Comments 59 (<a href="https://news.ycombinator.com/item?id=26080571">thread link</a>) | @StratusBen
<br/>
February 9, 2021 | https://www.vantage.sh/blog/vantage-has-acquired-ec2instances-info | <a href="https://web.archive.org/web/*/https://www.vantage.sh/blog/vantage-has-acquired-ec2instances-info">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>Two things that aren’t changing are (1) customers are always going to want simpler ways to interact with their cloud infrastructure and (2) they’re always going to want tools to understand where their cloud costs are coming from to make better business decisions. Vantage is aiming to help with both of these challenges but customers also use other tools to help make informed business decisions. One of the most popular tools we found people using is Ec2instances.info and today I’m happy to announce that Ec2instances.info is joining forces with Vantage.</p><p>Ec2instances.info will now reside at instances.vantage.sh and exists in its same form. The site will continue to be completely free and we have plans to add more features and functionality to it, including additional service prices beyond virtual machine pricing. We’ve ensured that the redirects have backwards compatibility with the prior domain so everything should continue to work as expected.&nbsp;</p><p>Garret Heaton, the creator of Ec2instances.info, says:<br></p><blockquote>After running ec2instances.info as a side project for <a href="https://powdahound.com/2011/03/hosting-a-static-site-on-amazon-s3-ec2instances-info/">almost a decade</a> I'm thrilled to hand over the reins to the Vantage team. Watching the site help people year after year has been a real pleasure and I'm very grateful for all the bug reports and improvements submitted by the public. In recent years the amount of choice available in instance types has grown significantly so comparing them is especially important, but I haven't had time to improve the site at the same rate. I'm very excited to see Vantage invest in the site as well as help people control costs across their entire infrastructure.</blockquote><p>‍</p><p>Vantage is built by working backwards from customer feedback and we hope to use the same playbook for instances.vantage.sh - so please join our <a href="https://join.slack.com/t/vantagecommunity/shared_invite/zt-mc723hg0-64opi05ckDf3gE56xapntg">Slack Community</a>, follow us on <a href="https://twitter.com/joinvantage">Twitter</a> or email us at <a href="mailto:support@vantage.sh">support@vantage.sh</a> to let us know your use-cases and how we can help.</p><p><strong>Q&amp;A</strong><br></p><p><strong>What is Vantage?</strong></p><p>Vantage is an alternative AWS console with a focus on developer experience and cost transparency.&nbsp;<br></p><p>‍</p><p><strong>What is EC2Instances.info?</strong></p><p>Ec2Instances.info, now instances.vantage.sh, is a tool for comparing hundreds of EC2 Instance Types across different instance type attributes.&nbsp;</p><p>‍<br></p><p><strong>I use EC2Instances.info - how will this impact me?</strong></p><p>Only the domain is changing and all existing links will redirect in a way that preserves filters. For all intents and purposes, you shouldn’t be impacted.&nbsp;</p><p>‍<br></p><p><strong>Do I need to be a registered Vantage user to use instances.vantage.sh?</strong></p><p>No. That being said, we are offering a one-time coupon code of $25 to all EC2Instances users that you can apply to your Vantage account using the coupon code of INSTANCES. This offer will expire on March 31st, 2021.</p><p><strong>I have a feature request for ec2instances.info - how can I submit it to you?</strong></p><p>You can continue to leave feedback on the existing <a href="https://github.com/powdahound/ec2instances.info">Github repository</a>, email <a href="mailto:support@vantage.sh">support@vantage.sh</a> with the subject line “Product Feedback Request” or join the “instances-vantage-sh” channel in the Vantage <a href="https://join.slack.com/t/vantagecommunity/shared_invite/zt-mc723hg0-64opi05ckDf3gE56xapntg">Slack community</a>.</p></div></div></div>]]>
            </description>
            <link>https://www.vantage.sh/blog/vantage-has-acquired-ec2instances-info</link>
            <guid isPermaLink="false">hacker-news-small-sites-26080571</guid>
            <pubDate>Tue, 09 Feb 2021 18:00:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Fedora on the PinePhone: Pipewire Calling]]>
            </title>
            <description>
<![CDATA[
Score 137 | Comments 89 (<a href="https://news.ycombinator.com/item?id=26080207">thread link</a>) | @ashitlerferad
<br/>
February 9, 2021 | https://odysee.com/@linmob:3/fedora-on-the-pinephone-pipewire-calling:1 | <a href="https://web.archive.org/web/*/https://odysee.com/@linmob:3/fedora-on-the-pinephone-pipewire-calling:1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://odysee.com/@linmob:3/fedora-on-the-pinephone-pipewire-calling:1</link>
            <guid isPermaLink="false">hacker-news-small-sites-26080207</guid>
            <pubDate>Tue, 09 Feb 2021 17:29:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Node.js 14 is over 20x faster than Python3.8 for fib(n)]]>
            </title>
            <description>
<![CDATA[
Score 69 | Comments 109 (<a href="https://news.ycombinator.com/item?id=26079570">thread link</a>) | @brrrrrm
<br/>
February 9, 2021 | https://jott.live/markdown/nodejs_vs_python_ | <a href="https://web.archive.org/web/*/https://jott.live/markdown/nodejs_vs_python_">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://jott.live/markdown/nodejs_vs_python_</link>
            <guid isPermaLink="false">hacker-news-small-sites-26079570</guid>
            <pubDate>Tue, 09 Feb 2021 16:44:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[John McWhorter: The Neoracists]]>
            </title>
            <description>
<![CDATA[
Score 192 | Comments 237 (<a href="https://news.ycombinator.com/item?id=26079002">thread link</a>) | @paulpauper
<br/>
February 9, 2021 | https://www.persuasion.community/p/john-mcwhorter-the-neoracists | <a href="https://web.archive.org/web/*/https://www.persuasion.community/p/john-mcwhorter-the-neoracists">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fd3f575ee-a995-499c-86fe-72680f8d5d12_700x312.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fd3f575ee-a995-499c-86fe-72680f8d5d12_700x312.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/d3f575ee-a995-499c-86fe-72680f8d5d12_700x312.jpeg&quot;,&quot;height&quot;:312,&quot;width&quot;:700,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:40221,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><p><strong>[</strong>Excerpt from his new book, <em>The Elect: Neoracists Posing as Antiracists and their Threat to a Progressive America</em>]</p><p><strong>One can divide antiracism into three waves</strong>. First Wave Antiracism battled slavery and segregation. Second Wave Antiracism, in the 1970s and 1980s, battled racist attitudes and taught America that being racist was a flaw. Third Wave Antiracism, becoming mainstream in the 2010s, teaches that racism is baked into the structure of society, so whites’ “complicity” in living within it constitutes racism itself, while for black people, grappling with the racism surrounding them is the totality of experience and must condition exquisite sensitivity toward them, including a suspension of standards of achievement and conduct.</p><p>Third Wave Antiracist tenets, stated clearly and placed in simple oppositions, translate into nothing whatsoever:</p><ol><li><p>When black people say you have insulted them, apologize with profound sincerity and guilt. <strong>But </strong>don’t put black people in a position where you expect them to forgive you. They have dealt with too much to be expected to.</p></li><li><p>Black people are a conglomeration of disparate individuals. “Black culture” is code for “pathological, primitive ghetto people.” <strong>But </strong>don’t expect black people to assimilate to “white” social norms because black people have a culture of their own.</p></li><li><p>Silence about racism is violence. <strong>But </strong>elevate the voices of the oppressed over your own.</p></li><li><p>You must strive eternally to understand the experiences of black people. <strong>But </strong>you can never understand what it is to be black, and if you think you do you’re a racist.</p></li><li><p>Show interest in multiculturalism.&nbsp;<strong>But </strong>do not culturally appropriate. What is not your culture is not for you, and you may not try it or do it. But—if you aren’t nevertheless <em>interested</em> in it, you are a racist.</p></li><li><p>Support black people in creating their own spaces and stay out of them. <strong>But </strong>seek to have black friends. If you don’t have any, you’re a racist. And if you claim any, they’d better be <em>good</em> friends—in their private spaces, you aren’t allowed in.</p></li><li><p>When whites move away from&nbsp;black neighborhoods, it’s white flight.&nbsp;<strong>But </strong>when whites move into black neighborhoods, it’s gentrification, even when they pay black residents generously for their houses.</p></li><li><p>If you’re white and only date white people, you’re a racist. <strong>But </strong>if you’re white and date a black person you are, if only deep down, exotifying an “other.”</p></li><li><p>Black people cannot be held accountable for everything every black person does. <strong>But </strong>all whites must acknowledge their personal complicity in the perfidy throughout history of “whiteness.”</p></li><li><p>Black students must be admitted to schools via adjusted grade and test score standards to ensure a representative number of them and foster a diversity of views in classrooms. <strong>But </strong>it is racist to assume a black student was admitted to a school via racial preferences, and racist to expect them to represent the “diverse” view in classroom discussions.</p></li></ol><p>I suspect that deep down, most know that none of this catechism makes any sense. Less obvious is that it was not even composed with logic in mind. The self-contradiction of these tenets is crucial, in revealing that Third Wave Antiracism is not a philosophy but a religion. </p><p>The revelation of racism is, itself and alone, the point, the intention, of this curriculum. As such, the fact that if you think a little, the tenets cancel one another out, is considered trivial. That they serve their true purpose of revealing people as bigots is paramount—sacrosanct, as it were. Third Wave Antiracism’s needlepoint homily <em>par excellence</em> is the following:</p><blockquote><p>Battling power relations and their discriminatory effects must be the central focus of all human endeavor, be it intellectual, moral, civic or artistic. Those who resist this focus, or even evidence insufficient adherence to it, must be sharply condemned, deprived of influence, and ostracized.</p></blockquote><p><strong>Third Wave Antiracism is losing innocent people jobs.</strong> It is coloring, detouring and sometimes strangling academic inquiry. It forces us to render a great deal of our public discussion of urgent issues in doubletalk any 10-year-old can see through. It forces us to start teaching our actual 10-year-olds, in order to hold them off from spoiling the show in that way, to believe in sophistry in the name of enlightenment. On that, Third Wave Antiracism guru Ibram X. Kendi has written a book on how to raise antiracist children called <em>Antiracist Baby</em>. You couldn’t imagine it better: Are we in a Christopher Guest movie? This and so much else is a sign that Third Wave Antiracism forces us to pretend that performance art is politics. It forces us to spend endless amounts of time listening to nonsense presented as wisdom, and pretend to like it.</p><p>I write this viscerally driven by the fact that all of this supposed wisdom is founded in an ideology under which white people calling themselves our saviors make black people look like the dumbest, weakest, most self-indulgent human beings in the history of our species, and teach black people to revel in that status and cherish it as making us special. Talking of <em>Antiracist Baby</em>, I am especially dismayed at the idea of this indoctrination infecting my daughters’ sense of self. I can’t always be with them, and this anti-humanist ideology may seep into their school curriculum. I shudder at the thought: teachers with eyes shining at the prospect of showing their antiracism by teaching my daughters that they are poster children rather than individuals. </p><p>Ta-Nehisi Coates in <em>Between the World and Me</em> wanted to teach his son that America is set against him; I want to teach my kids the reality of their lives in the 21st&nbsp;rather than early-to-mid-20th century. Lord forbid my daughters internalize a pathetic—yes, absolutely pathetic in all of the resonances of that word—sense that what makes them interesting is what other people think of them, or don’t.</p><p>Many will see me as traitorous in writing this as a black person. They will not understand that I see myself as serving my race by writing it. One of the grimmest tragedies of how this perversion of sociopolitics makes us think (or, not think) is that it will bar more than a few black readers from understanding that I am calling for them to be treated with true dignity. However, they and everyone else should also realize: I know quite well that white readers will be more likely to hear out views like this when written by a black person, and consider it nothing less than my duty as a black person to write it.</p><p>A white version of this would be blithely dismissed as racist. I will be dismissed instead as self-hating by a certain crowd. But frankly, they won’t really mean it, and anyone who gets through <a href="https://johnmcwhorter.substack.com/p/the-elect-neoracists-posing-as-antiracists">my new book</a> on this subject, which I am now publishing in serial, will see that whatever traits I harbor, hating myself or being ashamed of being black is not one of them. And we shall move on. As in, to realizing that what I am documenting matters, and matters deeply. Namely, that America’s sense of what it is to be intellectual, moral, or artistic; what it is to educate a child; what it is to foster justice; what is to express oneself properly; what it is to be a nation—all is being refounded upon a religion. </p><p>This is directly antithetical to the very foundations of the American experiment. Religion has no place in the classroom, in the halls of ivy, in our codes of ethics, or in deciding how we express ourselves, and almost all of us spontaneously understand that and see any misunderstanding of the premise as backward. Yet since about 2015, a peculiar contingent has been slowly headlocking us into making an exception, supposing that this new religion is so incontestably good, so gorgeously surpassing millennia of brilliant philosophers’ attempts to identify the ultimate morality, that we can only bow down in humble acquiescence.</p><p>But a new religion in the guise of world progress is not an advance; it is a detour. It is not altruism; it is self-help. It is not sunlight; it is fungus. It’s time it became ordinary to call it for what it is and stop cowering before it, letting it make people so much less than they—black and everything else—could be.</p><p><strong>Third Wave Antiracism exploits modern Americans’ fear</strong> of being thought racist, using this to promulgate an obsessive, self-involved, totalitarian and unnecessary kind of cultural reprogramming. One could be excused for thinking this glowering kabuki is a continuation of the Civil Rights efforts of yore, the only kind of new antiracism there could be. Its adherents preach with such contemptuous indignation, and are now situated in the most prestigious and influential institutions in the land—on their good days they can seem awfully “correct.”</p><p>However, there is nothing correct about the essence of American thought and culture being transplanted into the soil of a religious faith. Some will go as far as to own up to it being a religion, and wonder why we can’t just accept it as our new national creed. The problem is that on matters of societal procedure and priorities, the adherents of this religion—true to the very nature of religion—cannot be reasoned with. They are, in this, medievals with lattes.</p><p>We need not wonder what the basic objections will be: Third Wave Antiracism isn’t really a religion; I am oversimplifying; I shouldn’t write this without being a theologian; it is a religion but it’s a good one; and so on. I will get all of that out of the way as we go on, and then offer some genuine solutions. But first, what this is not.</p><ol><li><p><em>It is not an argument against protest.</em> I am not arguing against the basic premises of Black Lives Matter, although I have had my differences with some of its offshoot developments. I am not arguing that the Civil Rights movement of the 1950s and 1960s would have been better off sticking to quiet negotiations. I am not arguing against the left. I am arguing against a particular strain of the left that has come to exert a grievous influence over American institutions, to the point that we are beginning to …</p></li></ol></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.persuasion.community/p/john-mcwhorter-the-neoracists">https://www.persuasion.community/p/john-mcwhorter-the-neoracists</a></em></p>]]>
            </description>
            <link>https://www.persuasion.community/p/john-mcwhorter-the-neoracists</link>
            <guid isPermaLink="false">hacker-news-small-sites-26079002</guid>
            <pubDate>Tue, 09 Feb 2021 15:59:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Leveraging the Go Type System]]>
            </title>
            <description>
<![CDATA[
Score 94 | Comments 106 (<a href="https://news.ycombinator.com/item?id=26078865">thread link</a>) | @gopherguides
<br/>
February 9, 2021 | https://www.gopherguides.com/articles/leveraging-the-go-type-system | <a href="https://web.archive.org/web/*/https://www.gopherguides.com/articles/leveraging-the-go-type-system">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  
  
  
  <div>
    <section>  </section> <string></string> <section><p>If you haven't worked in a typed language before, it may not be obvious at first the power that it brings.  This article will show you how to leverage the type system to make your code easier to use and more reusable.</p> <h4>Target Audience</h4> <p>This article is aimed at developers that are new to Go and have little to no Go experience.</p> <h2>The Problem</h2> <p>For this article, we will look at how to handle <code language="plain">categorical</code> data.  In this case, specifically how to handle the <code language="plain">genre</code> category for classifying a book.</p> <p>To start, we'll define a data structure for a <code language="plain">Book</code> , in which we'll want to categorize it via the <code language="plain">genre</code> :</p> <pre><code language="plain" snippet="book" src="./src/v1/books.go">package books

type Book struct {
	ID    int
	Name  string
	Genre string
}</code></pre>   <p>Now that we have the book defined, let's go ahead and define some constants for <code language="plain">genre</code> :</p> <pre><code language="plain" snippet="genre" src="./src/v1/books.go">const (
	Adventure     = "Adventure"
	Comic         = "Comic"
	Crime         = "Crime"
	Fiction       = "Fiction"
	Fantasy       = "Fantasy"
	Historical    = "Historical"
	Horror        = "Horror"
	Magic         = "Magic"
	Mystery       = "Mystery"
	Philosophical = "Philosophical"
	Political     = "Political"
	Romance       = "Romance"
	Science       = "Science"
	Superhero     = "Superhero"
	Thriller      = "Thriller"
	Western       = "Western"
)</code></pre>   <p>So far, this seems fine.  However, the <code language="plain">genre</code> constants are strings.  While this makes for a very "humanized" way of reading the code, it's not very efficient as it pertains to a computer program.  Strings will take up more storage space, and more memory in the program (not to mention if we stored millions of data records to a database).  As such, we really want to use a smaller data type to represent this data.</p> <p>In Go, one way we can do this is to create constants that are based on the <code language="plain">int</code> type.</p> <pre><code language="plain" snippet="genre" src="./src/v2/books.go">const (
	Adventure     = 1
	Comic         = 2
	Crime         = 3
	Fiction       = 4
	Fantasy       = 5
	Historical    = 6
	Horror        = 7
	Magic         = 8
	Mystery       = 9
	Philosophical = 10
	Political     = 11
	Romance       = 12
	Science       = 13
	Superhero     = 14
	Thriller      = 15
	Western       = 16
)</code></pre>   <p>We also need to change the <code language="plain">Book</code> structure to now represent <code language="plain">Genre</code> as an int:</p> <pre><code language="plain" snippet="book" src="./src/v2/books.go">type Book struct {
	ID    int
	Name  string
	Genre int
}</code></pre>   <p>While we now have a more effecient memory model for <code language="plain">Genre</code> , it's not as "human" friendly.  If I print out the value of a <code language="plain">Book</code> , we now just get an integer value.  To show this, we'll write a quick test showing the output:</p> <pre><code language="plain" snippet="test" src="./src/v2/books_test.go">package books

import (
	"testing"
)

func TestGenre(t *testing.T) {
	b := Book{
		ID:    1,
		Name:  "All About Go",
		Genre: Magic,
	}

	t.Logf("%+v\n", b)

	if got, exp := b.Genre, 8; got != exp {
		t.Errorf("unexpected genre.  got %d, exp %d", got, exp)
	}
}</code></pre>   <p>And here is the output.</p> <pre><code language="plain" snippet="output" src="./src/v2/books_test.go">$ go test -v ./...
=== RUN   TestGenre
    books_test.go:14: {ID:1 Name:All About Go Genre:8}
--- PASS: TestGenre (0.00s)
PASS
ok      github.com/gopherguides/corp/_blog/types/leveraging-types/src/v2     (cached)</code></pre>   <p>Notice that the <code language="plain">Genre</code> just shows a value of <code language="plain">8</code> .  Any time we debug the code, or write a report, etc, we now need to figure out what <code language="plain">8</code> actually represents for a human being.</p> <p>To do this, we can write a helper function that takes the <code language="plain">Genre</code> value, and determines what the "human" representation should be:</p> <pre><code language="plain" snippet="string" src="./src/v2/books.go">func GenreToString(i int) string {
	switch i {
	case 1:
		return "Adventure"
	case 2:
		return "Comic"
	case 3:
		return "Crime"
	case 4:
		return "Fiction"
	case 5:
		return "Fantasy"
	case 6:
		return "Historical"
	case 7:
		return "Horror"
	case 8:
		return "Magic"
	case 9:
		return "Mystery"
	case 10:
		return "Philosophical"
	case 11:
		return "Political"
	case 12:
		return "Romance"
	case 13:
		return "Science"
	case 14:
		return "Superhero"
	case 15:
		return "Thriller"
	case 16:
		return "Western"
	default:
		return ""
	}
}</code></pre>   <h2>A Better Way</h2> <p>While all the above code works fine, it's really missing some key points.</p> <ul><li><p>If a value for a <code language="plain">Genre</code> has to change in the future, we not only have to change the constant value, but we also have to update the <code language="plain">GenreToString</code> function.  If we don't, this will create a bug in our code.</p></li> <li><p>We aren't leveraging the type system to encapsulate this behavior for <code language="plain">Genre</code> .  We'll show you what we mean by that shortly.</p></li></ul> <p>The first thing we really need to do is write a more resilient <code language="plain">GenreToString</code> function.  What we mean by resilient is that even if the value of the <code language="plain">Genre</code> constant changes in the future, the <code language="plain">GenreToString</code> function will not need to change.</p> <p>The correct way to do that is no longer use hard coded values, but use the value of the constant themselves:</p> <pre><code language="plain" snippet="string" src="./src/v3/books.go">func GenreToString(i int) string {
	switch i {
	case Adventure:
		return "Adventure"
	case Comic:
		return "Comic"
	case Crime:
		return "Crime"
	case Fiction:
		return "Fiction"
	case Fantasy:
		return "Fantasy"
	case Historical:
		return "Historical"
	case Horror:
		return "Horror"
	case Magic:
		return "Magic"
	case Mystery:
		return "Mystery"
	case Philosophical:
		return "Philosophical"
	case Political:
		return "Political"
	case Romance:
		return "Romance"
	case Science:
		return "Science"
	case Superhero:
		return "Superhero"
	case Thriller:
		return "Thriller"
	case Western:
		return "Western"
	default:
		return ""
	}
}</code></pre>   <p>Ok, that's much cleaner (and readable), but we still haven't solved the fact that when we print it out, it shows a data value ( <code language="plain">int</code> ), and not a "human" readable value.</p> <h2>Types to the Rescue</h2> <p>Instead of using a generic <code language="plain">int</code> type for <code language="plain">Genre</code> , we can create our own type based on an existing type.  In this case, we'll create a new type called <code language="plain">Genre</code> based on the <code language="plain">int</code> type:</p> <pre><code language="plain" snippet="genre" src="./src/v4/books.go">type Genre int</code></pre>   <p>Now, we'll define our constants as <code language="plain">Genre</code> types:</p> <pre><code language="plain" snippet="constants" src="./src/v4/books.go">const (
	Adventure     Genre = 1
	Comic         Genre = 2
	Crime         Genre = 3
	Fiction       Genre = 4
	Fantasy       Genre = 5
	Historical    Genre = 6
	Horror        Genre = 7
	Magic         Genre = 8
	Mystery       Genre = 9
	Philosophical Genre = 10
	Political     Genre = 11
	Romance       Genre = 12
	Science       Genre = 13
	Superhero     Genre = 14
	Thriller      Genre = 15
	Western       Genre = 16
)</code></pre>   <p>So far, the code doesn't really feel different.  However, now that <code language="plain">Genre</code> is it's own type, we can add methods to it.  This allows us to encapsulate the "human" behavior we want to the type, and not as a generic function.</p> <p>To do this, we'll add a <code language="plain">String</code> method to the <code language="plain">Genre</code> type:</p> <pre><code language="plain" snippet="string" src="./src/v4/books.go">func (g Genre) String() string {
	switch g {
	case Adventure:
		return "Adventure"
	case Comic:
		return "Comic"
	case Crime:
		return "Crime"
	case Fiction:
		return "Fiction"
	case Fantasy:
		return "Fantasy"
	case Historical:
		return "Historical"
	case Horror:
		return "Horror"
	case Magic:
		return "Magic"
	case Mystery:
		return "Mystery"
	case Philosophical:
		return "Philosophical"
	case Political:
		return "Political"
	case Romance:
		return "Romance"
	case Science:
		return "Science"
	case Superhero:
		return "Superhero"
	case Thriller:
		return "Thriller"
	case Western:
		return "Western"
	default:
		return ""
	}
}</code></pre>   <p>Now, we'll be able to use the <code language="plain">String</code> method when we want to see what the "human" value of a <code language="plain">Genre</code> is:</p> <pre><code language="go">b := Book{
	ID:    1,
	Name:  "All About Go",
	Genre: Magic,
}
fmt.Println(b.Genre.String())</code></pre> <p>Output:</p> <pre><code language="sh">Magic</code></pre> <h2>Magic Formatting</h2> <p>In Go, if you add a <code language="plain">String</code> method to any type, the <code language="plain">fmt</code> package will now use your <code language="plain">String</code> method to "pretty print" the representation of your type.  Because of this, we will now see that if we print out the <code language="plain">book</code> in our tests, we get a "human-readable" <code language="plain">Genre</code> as well:</p> <pre><code language="plain" snippet="test" src="./src/v4/books_test.go">func TestGenre(t *testing.T) {
	b := Book{
		ID:    1,
		Name:  "All About Go",
		Genre: Magic,
	}

	t.Logf("%+v\n", b)

	if got, exp := b.Genre.String(), "Magic"; got != exp {
		t.Errorf("unexpected genre.  got %q, exp %q", got, exp)
	}
}</code></pre>   <p>Output:</p> <pre><code language="plain" snippet="output" src="./src/v4/books_test.go">$ go test -v -run=TestGenre -count=1 .
=== RUN   TestGenre
    books_test.go:16: {ID:1 Name:All About Go Genre:Magic}
--- PASS: TestGenre (0.00s)
PASS
ok      book    0.059s</code></pre>   <p>We now see the value for <code language="plain">Genre</code> in the printed output is <code language="plain">Magic</code> , and not <code language="plain">8</code> . It's also important to note that our test actually didn't change, only the way in which we leveraged our new type for <code language="plain">Genre</code> .</p> <h2>What about Iota?</h2> <p>For those of you that are familiar with Go already, you might have looked at this problem and asked "Why didn't you just use iota?". <a href="https://github.com/golang/go/wiki/Iota" target="_blank">Iota</a> is an identifier that you can use in Go to also create incrementing number constants.  While there are several reasons I didn't use iota here, I did dedicate an entire article to the topic.  Read all about it in <a href="https://www.gopherguides.com/articles/how-to-use-iota-in-golang" target="_blank">Where and When to use Iota in Go</a> .</p> <h2>Summary</h2> <p>While this example was purposefully basic in nature, it illustrates the power of defining your own type, and leveraging the type system in Go to create more resilient, readable, and reusable code.</p> <h3>Want More?</h3> <p>Check out our previous article, <a href="https://www.gopherguides.com/articles/embracing-the-go-type-system" target="_blank">Embracing the Go Type System</a> and learn how to use the type system to avoid common mistakes in Go.</p></section>
  </div>
  
</div></div>]]>
            </description>
            <link>https://www.gopherguides.com/articles/leveraging-the-go-type-system</link>
            <guid isPermaLink="false">hacker-news-small-sites-26078865</guid>
            <pubDate>Tue, 09 Feb 2021 15:51:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A simple 11.2 GHz radio telescope (Hardware) (2020)]]>
            </title>
            <description>
<![CDATA[
Score 133 | Comments 20 (<a href="https://news.ycombinator.com/item?id=26078761">thread link</a>) | @_Microft
<br/>
February 9, 2021 | https://physicsopenlab.org/2020/10/10/a-simple-11-2-ghz-radiotelescope/ | <a href="https://web.archive.org/web/*/https://physicsopenlab.org/2020/10/10/a-simple-11-2-ghz-radiotelescope/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
					
					
					<p><a href="http://physicsopenlab.org/wp-content/uploads/2020/10/10GHzRadiotelescope1.jpg"><img data-attachment-id="14895" data-permalink="https://physicsopenlab.org/2020/10/10/un-semplice-radiotelescopio-a-11-2-ghz/10ghzradiotelescope1/" data-orig-file="https://physicsopenlab.org/wp-content/uploads/2020/10/10GHzRadiotelescope1.jpg" data-orig-size="1044,890" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="10GHzRadiotelescope1" data-image-description="" data-medium-file="https://physicsopenlab.org/wp-content/uploads/2020/10/10GHzRadiotelescope1-300x256.jpg" data-large-file="https://physicsopenlab.org/wp-content/uploads/2020/10/10GHzRadiotelescope1-1024x873.jpg" loading="lazy" src="http://physicsopenlab.org/wp-content/uploads/2020/10/10GHzRadiotelescope1-1024x873.jpg" alt="" width="550" height="469" srcset="https://physicsopenlab.org/wp-content/uploads/2020/10/10GHzRadiotelescope1-1024x873.jpg 1024w, https://physicsopenlab.org/wp-content/uploads/2020/10/10GHzRadiotelescope1-300x256.jpg 300w, https://physicsopenlab.org/wp-content/uploads/2020/10/10GHzRadiotelescope1-768x655.jpg 768w, https://physicsopenlab.org/wp-content/uploads/2020/10/10GHzRadiotelescope1.jpg 1044w" sizes="(max-width: 550px) 100vw, 550px"></a></p>
<p><em><strong>Abstract : </strong><span lang="en">In this post we describe the construction of a small amateur radio telescope operating at the frequency of 11.2 GHz. The construction of the radio telescope takes advantage of the satellite TV market which has made it easy and cheap to find parabolic reflector antennas with relative illuminator (feed horn) and LNB block (low noise amplifier-frequency converter). The performances of a similar instrument are naturally rather limited, however they still allow to make interesting observations of some of the most intense radio sources.</span></em></p>
<h3>Introduction</h3>
<p>Radio astronomy is a difficult and fascinating science. It requires the use of bulky and expensive antennas, uses sophisticated radio-electronic technologies and sophisticated algorithms for signal processing. At first glance it would seem completely beyond the reach of an “amateur”. In reality it is possible to make interesting radio astronomical observations even at an amateur level.<br>
On our site we have already described some radio astronomy projects for specific applications:</p>
<ul>
<li><a href="http://physicsopenlab.org/2020/05/03/loop-antenna-for-very-low-frequency/">Loop Antenna for Very Low Frequency</a></li>
<li><a href="http://physicsopenlab.org/2020/05/07/vlf-receiver-for-sid-monitoring/">VLF Receiver for SID Monitoring</a></li>
<li><a href="http://physicsopenlab.org/2020/07/20/horn-antenna-for-the-21cm-neutral-hydrogen-line/">Horn Antenna for the 21cm Neutral-Hydrogen Line</a></li>
<li><a href="http://physicsopenlab.org/2020/07/26/sdr-based-receiver-for-the-21-cm-neutral-hydrogen-line/">Low-Noise SDR-Based Receiver for the 21cm Neutral-Hydrogen Line</a></li>
<li><a href="http://physicsopenlab.org/2020/07/26/gnuradio-software-for-the-21-cm-neutral-hydrogen-line/">GNURadio Software for 21cm Neutral-Hydrogen Line</a></li>
</ul>
<p>Now we want to try to make an “amateur” radio telescope based on the principle of the <strong>radiometer</strong>. This is certainly not the place to give detailed information on radio astronomy and radio telescopes (there is a lot of information on the net and specific texts), so we limit ourselves to providing some hints on the main points that guided us in the construction of the radio telescope.</p>
<p>Radio astronomy studies celestial bodies by analyzing the radio waves emitted by objects in the sky: any object emits electromagnetic waves through various physical processes (thermal and non-thermal), these waves are picked up by the antenna and analyzed with appropriate instruments: in general the characteristics of the captured signal are no different from those that characterize a <strong>broad spectrum electrical noise</strong>. The purpose of the radio telescope is to pick up this radiation and measure the signal strength, such an instrument is called a radiometer. To be precise, we speak of power per unit area and per unit of bandwidth and is expressed in Jansky&nbsp;: <strong>1Jy = 10<sup>-26</sup> W/m<sup>2</sup> Hz</strong>.</p>
<p>The range of radio frequencies useful for radio astronomy observations is between <strong>20 MHz</strong> and about <strong>20 GHz</strong>: below 20 MHz there is absorption by the ionosphere, above 20 GHz there is absorption by of the gases present in the atmosphere.</p>
<p id="tw-target-text" dir="ltr" data-placeholder="Traduzione"><span lang="en">To choose the most suitable frequency band for an amateur radio telescope we must make a compromise between the observation possibilities and the cost and feasibility constraints. The frequency spectrum of the radio-source emissions depends on the underlying physical process: for “thermal” emissions such as the sun or the moon, the intensity follows the <strong>law of the black body</strong> with maximums at high frequencies (according to the approximation of Rayleigh-Jeans<strong> I ∝ 1/λ<sup>4</sup></strong>), while for non-thermal emissions (for example synchrotron emission) the maximums are at lower frequencies, as can be seen in the graph below which shows the intensity of some radio sources as a function of frequency.</span><a href="http://physicsopenlab.org/wp-content/uploads/2020/10/radiosorgenti.png"><img data-attachment-id="14927" data-permalink="https://physicsopenlab.org/2020/10/10/un-semplice-radiotelescopio-a-11-2-ghz/radiosorgenti/" data-orig-file="https://physicsopenlab.org/wp-content/uploads/2020/10/radiosorgenti.png" data-orig-size="658,756" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="radiosorgenti" data-image-description="" data-medium-file="https://physicsopenlab.org/wp-content/uploads/2020/10/radiosorgenti-261x300.png" data-large-file="https://physicsopenlab.org/wp-content/uploads/2020/10/radiosorgenti.png" loading="lazy" src="http://physicsopenlab.org/wp-content/uploads/2020/10/radiosorgenti.png" alt="" width="450" height="515"></a></p>
<p>As we know the dimensions of the antenna are related to the wavelength of the radiation to be received, furthermore our antenna must be sufficiently directive, otherwise it would be practically useless: this means that to receive frequencies below 1 GHz the dimensions of the antenna should be significantly greater than 1m: large antennas are expensive and difficult to move.<br>
Another aspect to consider is external radio interference. The ether, especially in the city, is now saturated with transmissions and RF signals from the most heterogeneous origin: radio and TV broadcasting, cellular networks, WiFi networks, disturbances from power lines, etc …. Not having the possibility to install the radio telescope in “quiet” places we must choose a frequency band that is not too disturbed.</p>
<p>For the reasons described above, the choice is almost obligatory: the <strong>10-12 GHz frequency band</strong> is the one that seems most suitable for an amateur project like ours. At these frequencies, parabolic reflector antennas and devices designed for satellite television can be re-used. The costs of the equipment are affordable, the spatial resolution of the antenna is quite good and the interference is low (basically broadcasting satellites) and easily avoidable.<br>
Working at lower frequencies would make it possible to easily receive more radio sources but with a considerable increase in terms of costs, not to mention the problem of interference.</p>
<h3>Parabolic Dish Antenna</h3>
<p id="tw-target-text" dir="ltr" data-placeholder="Traduzione"><span lang="en">The antenna we found on the second-hand market is a <strong>prime focus dish</strong> with a diameter of 120 cm. For radio astronomy applications it is better that the dish is of the prime focus type: in these antennas the feed horn is placed in the focus of the dish. In offset-type dishes, the feed-horn is not placed in the center but on the side, this type has constructive advantages but is more difficult to aim to the source than the prime focus.</span></p>
<p dir="ltr" data-placeholder="Traduzione">For this antenna we can calculate the gain and the directivity intended as half power band width HPBW (half power band width) :</p>
<p><strong>G = η*(π*D/λ) = 40 dB</strong></p>
<p><strong>HPBW = 65*λ/D = 1.45°</strong></p>
<p>Where<br>
<strong>η : efficiency = 0.5</strong><br>
<strong>D : diameter = 120 cm</strong><br>
<strong>λ : wavelength = 2.68 cm (correspond to 11.2 GHz)</strong></p>
<p id="tw-target-text" dir="ltr" data-placeholder="Traduzione"><span lang="en">The images below show the antenna and the metal structure used for manual movement.</span></p>
<p><a href="http://physicsopenlab.org/wp-content/uploads/2020/10/parab1.jpg"><img data-attachment-id="14907" data-permalink="https://physicsopenlab.org/2020/10/10/un-semplice-radiotelescopio-a-11-2-ghz/parab1/" data-orig-file="https://physicsopenlab.org/wp-content/uploads/2020/10/parab1.jpg" data-orig-size="884,1346" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="parab1" data-image-description="" data-medium-file="https://physicsopenlab.org/wp-content/uploads/2020/10/parab1-197x300.jpg" data-large-file="https://physicsopenlab.org/wp-content/uploads/2020/10/parab1-673x1024.jpg" loading="lazy" src="http://physicsopenlab.org/wp-content/uploads/2020/10/parab1-673x1024.jpg" alt="" width="500" height="761" srcset="https://physicsopenlab.org/wp-content/uploads/2020/10/parab1-673x1024.jpg 673w, https://physicsopenlab.org/wp-content/uploads/2020/10/parab1-197x300.jpg 197w, https://physicsopenlab.org/wp-content/uploads/2020/10/parab1-768x1169.jpg 768w, https://physicsopenlab.org/wp-content/uploads/2020/10/parab1.jpg 884w" sizes="(max-width: 500px) 100vw, 500px"></a></p>
<p><a href="http://physicsopenlab.org/wp-content/uploads/2020/10/parab2.jpg"><img data-attachment-id="14908" data-permalink="https://physicsopenlab.org/2020/10/10/un-semplice-radiotelescopio-a-11-2-ghz/parab2/" data-orig-file="https://physicsopenlab.org/wp-content/uploads/2020/10/parab2.jpg" data-orig-size="844,1106" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="parab2" data-image-description="" data-medium-file="https://physicsopenlab.org/wp-content/uploads/2020/10/parab2-229x300.jpg" data-large-file="https://physicsopenlab.org/wp-content/uploads/2020/10/parab2-781x1024.jpg" loading="lazy" src="http://physicsopenlab.org/wp-content/uploads/2020/10/parab2-781x1024.jpg" alt="" width="501" height="657" srcset="https://physicsopenlab.org/wp-content/uploads/2020/10/parab2-781x1024.jpg 781w, https://physicsopenlab.org/wp-content/uploads/2020/10/parab2-229x300.jpg 229w, https://physicsopenlab.org/wp-content/uploads/2020/10/parab2-768x1006.jpg 768w, https://physicsopenlab.org/wp-content/uploads/2020/10/parab2.jpg 844w" sizes="(max-width: 501px) 100vw, 501px"></a></p>
<p><a href="http://physicsopenlab.org/wp-content/uploads/2020/10/10GHzRadiotelescope2.jpg"><img data-attachment-id="14909" data-permalink="https://physicsopenlab.org/2020/10/10/un-semplice-radiotelescopio-a-11-2-ghz/10ghzradiotelescope2/" data-orig-file="https://physicsopenlab.org/wp-content/uploads/2020/10/10GHzRadiotelescope2.jpg" data-orig-size="1062,1416" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="10GHzRadiotelescope2" data-image-description="" data-medium-file="https://physicsopenlab.org/wp-content/uploads/2020/10/10GHzRadiotelescope2-225x300.jpg" data-large-file="https://physicsopenlab.org/wp-content/uploads/2020/10/10GHzRadiotelescope2-768x1024.jpg" loading="lazy" src="http://physicsopenlab.org/wp-content/uploads/2020/10/10GHzRadiotelescope2-768x1024.jpg" alt="" width="500" height="667" srcset="https://physicsopenlab.org/wp-content/uploads/2020/10/10GHzRadiotelescope2-768x1024.jpg 768w, https://physicsopenlab.org/wp-content/uploads/2020/10/10GHzRadiotelescope2-225x300.jpg 225w, https://physicsopenlab.org/wp-content/uploads/2020/10/10GHzRadiotelescope2.jpg 1062w" sizes="(max-width: 500px) 100vw, 500px"></a></p>
<h3>LNB</h3>
<p dir="ltr" data-placeholder="Traduzione"><span lang="en">The first component of the system is the converter-amplifier block, the so-called <strong>LNB</strong>. This is the most important component because system performance largely depends on it. Our system receives in the 10-12 GHz band, at these frequencies the use of cables is problematic, for this reason the LNB block provides for a frequency down conversion in a lower band so that normal coaxial cables can be used.<br>
</span><span lang="en">The following image shows the basic scheme of the LNB block: there is a first <strong>RF amplification stage</strong>, followed by the mixer which multiplies the RF signal with the signal generated by a <strong>local oscillator (LO)</strong>. The resulting signal contains the sum and difference frequencies, the next filter eliminates the high frequency sum components to let pass only the frequencies in the band of interest, called <strong>intermediate frequencies (IF)</strong>, which are further amplified by another amplifier stage. In practice it is a heterodyne scheme, in which the frequency of the local oscillator is fixed.</span></p>
<p id="tw-target-text" dir="ltr" data-placeholder="Traduzione"><span lang="en"><a href="http://physicsopenlab.org/wp-content/uploads/2020/10/LNBScheme.png"><img data-attachment-id="14947" data-permalink="https://physicsopenlab.org/2020/10/10/un-semplice-radiotelescopio-a-11-2-ghz/lnbscheme/" data-orig-file="https://physicsopenlab.org/wp-content/uploads/2020/10/LNBScheme.png" data-orig-size="377,213" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="LNBScheme" data-image-description="" data-medium-file="https://physicsopenlab.org/wp-content/uploads/2020/10/LNBScheme-300x169.png" data-large-file="https://physicsopenlab.org/wp-content/uploads/2020/10/LNBScheme.png" loading="lazy" src="http://physicsopenlab.org/wp-content/uploads/2020/10/LNBScheme.png" alt="" width="377" height="213" srcset="https://physicsopenlab.org/wp-content/uploads/2020/10/LNBScheme.png 377w, https://physicsopenlab.org/wp-content/uploads/2020/10/LNBScheme-300x169.png 300w" sizes="(max-width: 377px) 100vw, 377px"></a></span></p>
<p>The LNB block we use is<strong> Invacom’s SNF-031</strong> model which has<strong> low noise</strong> and <strong>good stability</strong> of the gain parameters with respect to variations in operating temperature. The actual antenna is located inside the waveguide which has a C120 flange on the outside to which the feed horn is fixed, which has the task of collecting the waves reflected by the dish and conveying them to the inside the waveguide.</p>
<p>LNB features:</p>
<ul>
<li>Operating frequency band : 10.7 – 12.75 GHz</li>
<li>Intermediate frequencies (IF) : 950 – 2150 MHz, LO = 9.75 GHz</li>
<li><strong>Noise Figure NF = 0.3 dB</strong></li>
<li><strong>Gain G = 50 – 60 dB</strong></li>
</ul>
<p>The following images show the LNB block with its feed horn fixed to the focus of the dish.</p>
<p><a href="http://physicsopenlab.org/wp-content/uploads/2020/10/LNB0.jpg"><img data-attachment-id="14910" data-permalink="https://physicsopenlab.org/2020/10/10/un-semplice-radiotelescopio-a-11-2-ghz/lnb0/" data-orig-file="https://physicsopenlab.org/wp-content/uploads/2020/10/LNB0.jpg" data-orig-size="466,397" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="LNB0" data-image-description="" data-medium-file="https://physicsopenlab.org/wp-content/uploads/2020/10/LNB0-300x256.jpg" data-large-file="https://physicsopenlab.org/wp-content/uploads/2020/10/LNB0.jpg" loading="lazy" src="http://physicsopenlab.org/wp-content/uploads/2020/10/LNB0.jpg" alt="" width="399" height="340" srcset="https://physicsopenlab.org/wp-content/uploads/2020/10/LNB0.jpg 466w, https://physicsopenlab.org/wp-content/uploads/2020/10/LNB0-300x256.jpg 300w" sizes="(max-width: 399px) 100vw, 399px"></a></p>

<p><a href="http://physicsopenlab.org/wp-content/uploads/2020/10/LNB3.jpg"><img data-attachment-id="15000" data-permalink="https://physicsopenlab.org/2020/10/10/un-semplice-radiotelescopio-a-11-2-ghz/lnb3/" data-orig-file="https://physicsopenlab.org/wp-content/uploads/2020/10/LNB3.jpg" data-orig-size="1128,850" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="LNB3" data-image-description="" data-medium-file="https://physicsopenlab.org/wp-content/uploads/2020/10/LNB3-300x226.jpg" data-large-file="https://physicsopenlab.org/wp-content/uploads/2020/10/LNB3-1024x772.jpg" loading="lazy" src="http://physicsopenlab.org/wp-content/uploads/2020/10/LNB3-1024x772.jpg" alt="" width="550" height="415" srcset="https://physicsopenlab.org/wp-content/uploads/2020/10/LNB3-1024x772.jpg 1024w, https://physicsopenlab.org/wp-content/uploads/2020/10/LNB3-300x226.jpg 300w, https://physicsopenlab.org/wp-content/uploads/2020/10/LNB3-768x579.jpg 768w, https://physicsopenlab.org/wp-content/uploads/2020/10/LNB3.jpg 1128w" sizes="(max-width: 550px) 100vw, 550px"></a></p>
<p><a href="http://physicsopenlab.org/wp-content/uploads/2020/10/LNB4.jpg"><img data-attachment-id="15001" data-permalink="https://physicsopenlab.org/2020/10/10/un-semplice-radiotelescopio-a-11-2-ghz/lnb4/" data-orig-file="https://physicsopenlab.org/wp-content/uploads/2020/10/LNB4.jpg" data-orig-size="1184,902" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="LNB4" data-image-description="" data-medium-file="https://physicsopenlab.org/wp-content/uploads/2020/10/LNB4-300x229.jpg" data-large-file="https://physicsopenlab.org/wp-content/uploads/2020/10/LNB4-1024x780.jpg" loading="lazy" src="http://physicsopenlab.org/wp-content/uploads/2020/10/LNB4-1024x780.jpg" alt="" width="551" height="419" srcset="https://physicsopenlab.org/wp-content/uploads/2020/10/LNB4-1024x780.jpg 1024w, https://physicsopenlab.org/wp-content/uploads/2020/10/LNB4-300x229.jpg 300w, https://physicsopenlab.org/wp-content/uploads/2020/10/LNB4-768x585.jpg 768w, https://physicsopenlab.org/wp-content/uploads/2020/10/LNB4.jpg 1184w" sizes="(max-width: 551px) 100vw, 551px"></a></p>
<h3>The Receiver</h3>
<p id="tw-target-text" dir="ltr" data-placeholder="Traduzione"><span lang="en">The receiver consists of the few components, shown in the following image: there is a bias-T for feeding the LNB block, a bandpass filter centered at 1420 MHZ, a wide-band amplifier and the <strong>Airspy R2 SDR receiver</strong>. The “hardware” part has the function of limiting the receiving band and giving the signal a second amplification after the LNB stage. The signal is then acquired by Airspy and subsequently processed for the determination of the total power using <strong>GNURadio</strong> software. The <strong>radiometer</strong> function is practically realized through software.</span></p>
<p><a href="http://physicsopenlab.org/wp-content/uploads/2020/10/radiometer.png"><img data-attachment-id="14917" data-permalink="https://physicsopenlab.org/2020/10/10/un-semplice-radiotelescopio-a-11-2-ghz/radiometer/" data-orig-file="https://physicsopenlab.org/wp-content/uploads/2020/10/radiometer.png" data-orig-size="1088,668" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="radiometer" data-image-description="" data-medium-file="https://physicsopenlab.org/wp-content/uploads/2020/10/radiometer-300x184.png" data-large-file="https://physicsopenlab.org/wp-content/uploads/2020/10/radiometer-1024x629.png" loading="lazy" src="http://physicsopenlab.org/wp-content/uploads/2020/10/radiometer-1024x629.png" alt="" width="600" height="369" srcset="https://physicsopenlab.org/wp-content/uploads/2020/10/radiometer-1024x629.png 1024w, https://physicsopenlab.org/wp-content/uploads/2020/10/radiometer-300x184.png 300w, https://physicsopenlab.org/wp-content/uploads/2020/10/radiometer-768x472.png 768w, https://physicsopenlab.org/wp-content/uploads/2020/10/radiometer.png 1088w" sizes="(max-width: 600px) 100vw, 600px"></a></p>
<p><strong>Features of our receiver :</strong><br>
Frequency Band = 80 MHz<br>
G<sub>LNB</sub> = 55 dB ; NF<sub>LNB</sub> = 0.3 dB<br>
G<sub>Filter</sub> = 3.5 dB (insertion loss)<br>
G<sub>Ampli</sub> = 15 dB ; NF<sub>Ampli</sub> = 0.75 dB<br>
<strong>Gain : G<sub>LNB</sub> – G<sub>Filter</sub> + G<sub>Ampli</sub> = 55 -3.5 +15 = 66.5 dB</strong><br>
<strong>Noise Figure : F = F<sub>LNB</sub> + (F<sub>Ampli</sub> – 1)/G<sub>LNB</sub> = 0.3 dB<br>
T<sub>e</sub> = (F – 1) * T<sub>0</sub> = 20.3 °K (Receiver equivalent temperature)</strong></p>
<h4>Bias-T</h4>
<p>The Bias-T has the function of “injecting” the supply voltage to the LNB block along the coaxial cable. In practice it is a simple circuit with a coupling capacitor to filter the DC component towards the RF side and an inductance at the DC input. Obtained on eBay, it can be easily self-built but attention must be paid to the “RF” quality of the components and the shielding.</p>
<p><a href="http://physicsopenlab.org/wp-content/uploads/2020/10/Bias-T.jpg"><img data-attachment-id="14914" data-permalink="https://physicsopenlab.org/2020/10/10/un-semplice-radiotelescopio-a-11-2-ghz/bias-t/" data-orig-file="https://physicsopenlab.org/wp-content/uploads/2020/10/Bias-T.jpg" data-orig-size="709,661" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Bias-T" data-image-description="" data-medium-file="https://physicsopenlab.org/wp-content/uploads/2020/10/Bias-T-300x280.jpg" data-large-file="https://physicsopenlab.org/wp-content/uploads/2020/10/Bias-T.jpg" loading="lazy" src="http://physicsopenlab.org/wp-content/uploads/2020/10/Bias-T.jpg" alt="" width="251" height="234" srcset="https://physicsopenlab.org/wp-content/uploads/2020/10/Bias-T.jpg 709w, https://physicsopenlab.org/wp-content/uploads/2020/10/Bias-T-300x280.jpg 300w" sizes="(max-width: 251px) 100vw, 251px"></a></p>
<h4>1420 MHz Band Pass Filter</h4>
<p>This filter is dedicated to amateur radioastronomers interested in the hydrogen line observations. It uses the TA2494A SAW component and measures only 50 x 10mm. It features edge pads for an easy soldering of a RF shield. Insertion loss is typically less than 3.5dB and bandwith 80MHz.</p>
<p><strong>Technical Data</strong> :<br>
Center Frequency <strong>1420MHz</strong><br>
Usable Bandpass <strong>1380-1460MHz</strong><br>
Insertion Loss, 1380 to 1460 MHz <strong>3.5dB</strong><br>
Amplitude Ripple, 1380 to 1460 MHz 1.0 dBpp<br>
VSWR, 1380 &nbsp;to 1420 MHz 1.9:1<br>
Rejection referenced to 0dB :<br>
DC to 1300 MHz 28dB<br>
1550 to 3000 MHz 30dB<br>
Impedance 50Ω<br>
Maximum Input Power Level 10 dBm</p>
<p>In the images below we show the unit and its frequency response. We have soldered two wires between the SMA female headers and we wrapped the filter with aluminum tape in order to shield the filter.</p>
<p><a href="http://physicsopenlab.org/wp-content/uploads/2020/08/filter21cm.jpg"><img data-attachment-id="14378" data-permalink="https://physicsopenlab.org/2020/07/26/14302/filter21cm/" data-orig-file="https://physicsopenlab.org/wp-content/uploads/2020/08/filter21cm.jpg" data-orig-size="1134,460" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="filter21cm" data-image-description="" data-medium-file="https://physicsopenlab.org/wp-content/uploads/2020/08/filter21cm-300x122.jpg" data-large-file="https://physicsopenlab.org/wp-content/uploads/2020/08/filter21cm-1024x415.jpg" loading="lazy" src="http://physicsopenlab.org/wp-content/uploads/2020/08/filter21cm-1024x415.jpg" alt="" width="601" height="243" srcset="https://physicsopenlab.org/wp-content/uploads/2020/08/filter21cm-1024x415.jpg 1024w, https://physicsopenlab.org/wp-content/uploads/2020/08/filter21cm-300x122.jpg 300w, https://physicsopenlab.org/wp-content/uploads/2020/08/filter21cm-768x312.jpg 768w, https://physicsopenlab.org/wp-content/uploads/2020/08/filter21cm.jpg 1134w" sizes="(max-width: 601px) 100vw, 601px"></a></p>
<p><a href="http://physicsopenlab.org/wp-content/uploads/2020/09/filter21cm1.jpg"><img data-attachment-id="14432" data-permalink="https://physicsopenlab.org/2020/07/26/14302/filter21cm1/" data-orig-file="https://physicsopenlab.org/wp-content/uploads/2020/09/filter21cm1.jpg" data-orig-size="1054,388" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="filter21cm1" data-image-description="" data-medium-file="https://physicsopenlab.org/wp-content/uploads/2020/09/filter21cm1-300x110.jpg" data-large-file="https://physicsopenlab.org/wp-content/uploads/2020/09/filter21cm1-1024x377.jpg" loading="lazy" src="http://physicsopenlab.org/wp-content/uploads/2020/09/filter21cm1-1024x377.jpg" alt="" width="599" height="220" srcset="https://physicsopenlab.org/wp-content/uploads/2020/09/filter21cm1-1024x377.jpg 1024w, https://physicsopenlab.org/wp-content/uploads/2020/09/filter21cm1-300x110.jpg 300w, https://physicsopenlab.org/wp-content/uploads/2020/09/filter21cm1-768x283.jpg 768w, https://physicsopenlab.org/wp-content/uploads/2020/09/filter21cm1-1050x388.jpg 1050w, https://physicsopenlab.org/wp-content/uploads/2020/09/filter21cm1.jpg 1054w" sizes="(max-width: 599px) 100vw, 599px"></a></p>
<table>
<tbody>
<tr>
<td><b><i>Frequency (MHz)</i></b></td>
<td><b><i>Gain (dB)</i></b></td>
</tr>
<tr>
<td>1300</td>
<td><strong>-50</strong></td>
</tr>
<tr>
<td>1420</td>
<td><strong>-3.5</strong></td>
</tr>
<tr>
<td>1500</td>
<td><strong>-50</strong></td>
</tr>
</tbody>
</table>
<p><a href="http://physicsopenlab.org/wp-content/uploads/2020/08/filter21cm2.png"><img data-attachment-id="14379" data-permalink="https://physicsopenlab.org/2020/07/26/14302/filter21cm2/" data-orig-file="https://physicsopenlab.org/wp-content/uploads/2020/08/filter21cm2.png" data-orig-size="873,620" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="filter21cm2" data-image-description="" data-medium-file="https://physicsopenlab.org/wp-content/uploads/2020/08/filter21cm2-300x213.png" data-large-file="https://physicsopenlab.org/wp-content/uploads/2020/08/filter21cm2.png" loading="lazy" src="http://physicsopenlab.org/wp-content/uploads/2020/08/filter21cm2.png" alt="" width="600" height="426" srcset="https://physicsopenlab.org/wp-content/uploads/2020/08/filter21cm2.png 873w, https://physicsopenlab.org/wp-content/uploads/2020/08/filter21cm2-300x213.png 300w, https://physicsopenlab.org/wp-content/uploads/2020/08/filter21cm2-768x545.png 768w" sizes="(max-width: 600px) 100vw, 600px"></a></p>
<h4>Wideband Amplifier</h4>
<p>This unit HAB-FLTNOSAW built by UPUTRONICS is a preamp designed to go between a software defined radio receiver and an antenna. The LNA used inside is a MiniCircuits PSA4-5043. This particular model has the SAW filter removed to cover the 0.1MHz to 4GHz. There are 2 options for powering the unit : either by the USB header or via bias-tee. Devices such as the Airspy can enable bias-tee and power the device. Alternatively any mini USB cable can be used to power the device. We chose to power the unit via USB line.</p>
<p><strong>Technical Data</strong> :<br>
Gain 24db @ 100MHz -&gt; <strong>15.2db @ 1415MHz</strong><br>
<strong>NF 0.75dB</strong><br>
Supply Voltage USB or Bias tee 5V</p>
<p>In the images below we …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://physicsopenlab.org/2020/10/10/a-simple-11-2-ghz-radiotelescope/">https://physicsopenlab.org/2020/10/10/a-simple-11-2-ghz-radiotelescope/</a></em></p>]]>
            </description>
            <link>https://physicsopenlab.org/2020/10/10/a-simple-11-2-ghz-radiotelescope/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26078761</guid>
            <pubDate>Tue, 09 Feb 2021 15:44:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Haskell: The Bad Parts, part 2 (2020)]]>
            </title>
            <description>
<![CDATA[
Score 255 | Comments 163 (<a href="https://news.ycombinator.com/item?id=26077823">thread link</a>) | @anuragsoni
<br/>
February 9, 2021 | https://www.snoyman.com/blog/2020/11/haskell-bad-parts-2 | <a href="https://web.archive.org/web/*/https://www.snoyman.com/blog/2020/11/haskell-bad-parts-2">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
      <section>
        <div>
          <div>
            <div>
              <p>
                <a href="https://www.beginrust.com/">New: The "Begin Rust" book</a>
              </p>

              




  






      <p>
        <i>
          See a typo? Have a suggestion?
          <a target="_blank" rel="nofollow" href="https://github.com/snoyberg/snoyman.com/edit/master/content/blog/haskell-bad-parts-2.md">Edit this page on Github</a>
        </i>
      </p>

      



      <p>If you didn't see it, please check out <a href="https://www.snoyman.com/blog/2020/10/haskell-bad-parts-1">part 1 of this series</a> to understand the purpose of this. Now, for more bad parts!</p>
<h2 id="partial-functions-in-general">Partial functions (in general)</h2>
<p>Laziness very likely belongs in this list. My favorite part of criticizing laziness is how quickly people jump to defend it based on edge cases. So let's be a bit more nuanced before I later get far <em>less</em> nuanced. Laziness is <strong>obviously</strong> a good thing. Strictness is <strong>obviously</strong> a good thing. They also both suck. It depends on context and purpose. Each of them introduce different kinds of issues. The real question is: what's a more sensible default? We'll get to that another time.</p>
<p>I called this section partial functions. Am I having a senior moment? Maybe, but I intentionally started with laziness. In a strict language, function calls can result in exceptions being thrown, segfaulting occurring, or panicking. (And if I write a "Rust: The Bad Parts", believe me, I'll be mentioning panicking.) The fact that a function <em>acts</em> like it can successfully perform something, but in fact fails in a predictable way (like failing a <code>HashMap</code> lookup), it should be reflected at the type level. If not, ya dun goofed.</p>
<p>Also, if you have a language that doesn't let you reflect this information at the type level: ya dun goofed.</p>
<p>Partial functions are the antithesis of this concept. They allow you to say "yeah dude, I can <em>totally</em> give you the first value in an empty list." Partial functions are like politicians: you can tell they're lying because their lips are moving. ("But Michael," you say. "Functions don't have lips!" Whatever, I'm waxing poetical.)</p>
<p>Alright, so plenty of languages screw this up. Haskell tells those languages "hold my beer."</p>
<p><img src="https://www.snoyman.com/static/images/holdmybeer.jpg"></p><p>Haskell screws up partial functions way, way worse than other languages:</p>
<ol>
<li>It promotes a whole bunch of them in the standard libraries and <code>Prelude</code>.</li>
<li>Some libraries, like <code>vector</code> (I'm getting to you, don't worry) make it <em>really</em> confusing by providing an <code>index</code> and <code>unsafeIndex</code> function. Hint: <code>index</code> isn't really safe, it's just less unsafe.</li>
<li>There's no obvious way to search for usages of these partial functions.</li>
<li>And, by far, the worst...</li>
</ol>
<h3 id="values-are-partial-too">Values are partial too!</h3>
<p>Only in a lazy language does this exist. You call a function. You get a result. You continue working. In any other non-lazy language, that means you have a value. If I have a <code>u32</code> in Rust, I actually have a <code>u32</code> in Rust. Null pointers in languages like C and Java somewhat muddy this situation, but at least primitive types are really there if they say they're there.</p>
<p>No, not Haskell. <code>x :: Int</code> may in fact not exist. It's a lie. <code>let x = head [] :: [Int]</code> is a box waiting to explode. And you find out <em>much</em> later. And it's even worse than that. <code>let alice = Person { name = "Alice", age = someAge }</code> may give you a valid <code>Person</code> value. You can evaluate it. But Cthulhu help you if you evaluate <code>age alice</code>. Maybe, just maybe, <code>someAge</code> is a bottom value. Boom! You've smuggled a dirty bomb out.</p>
<p>I'm not advocating for removing laziness in Haskell. In fact I'm not really advocating for much of anything in this series. I'm just complaining, because I like complaining.</p>
<p>But <em>if</em> I was to advocate some changes:</p>
<ul>
<li>Deprecate partial functions</li>
<li>Introduce a naming scheme for partial functions to be more obvious</li>
<li>Introduce a compiler warning to note partial function use (with a pragma to turn off specific usages)</li>
<li>Warn by default on partial pattern matches</li>
<li>Advocate strict data fields by default</li>
</ul>
<h3 id="but-ackshualllly-infinite-loops">But ackshualllly, infinite loops</h3>
<p>Someone's gonna say it. So I'll say it. Yes, without major language changes, you can't prevent partial functions. You can't even detect them, unless Turing was wrong (and I have my suspicions.) But Haskell community, please, please learn this lesson:</p>
<p><strong>DON'T LET THE PERFECT BE THE ENEMY OF THE GOOD</strong></p>
<p>We can get rid of many of the most common partial functions trivially. We can detect many common cases by looking for partial pattern matches and usage of <code>throw</code> (again, horribly named function). "But we can't get everything" doesn't mean "don't try to get something."</p>
<h2 id="hubris">Hubris</h2>
<p>Given what I just said, we Haskellers have a lot of hubris. Each time you say "if it compiles it works," a thunk dies and collapses into a blackhole. We've got plenty of messes in Haskell that don't sufficiently protect us from ourselves. The compiler can only do as good a job as our coding standards and our libraries allow.</p>
<p>"But Haskell's at least better than languages like PHP." I mean, obviously I agree with this, or I'd be writing PHP. But since I'm being ridiculously hyperbolic here, let me make a ridiculous claim:</p>
<blockquote>
<p><strong>PHP is better than Haskell, since at least you don't get a false sense of security</strong></p>
<p><em>- Michael Snoyman, totally 100% what he actually believes, you should totally quote this out of context</em></p>
</blockquote>
<p>I've said this so many times. So I'll say it again. Using a great language with safety features is one tiny piece of the puzzle.</p>
<ul>
<li>Did you get the software requirements right?</li>
<li>Did you leverage the type system to prevent the bugs you're trying to prevent?</li>
<li>Do your underlying libraries have bugs?</li>
<li>Did you find a way to implement a function with correct types but incorrect semantics?</li>
<li>Did you host the thing on a dinky server sitting under your desk and forget that you have power outages on a daily basis?</li>
<li>Did you forget to write a single test case?</li>
<li>Do your test cases actually test anything meaningful?</li>
</ul>
<p>There are <em>so many ways</em> for software to fail outside the purview of the type system. We've got to stop thinking that somehow Haskell (or, for that matter, Rust, Scala, and other strongly typed languages) are some kind of panacea. Seriously: the PHP people at least know their languages won't protect them from anything. We should bring some of that humility back to Haskell.</p>
<p>Haskell provides me tools to help prevent certain classes of bugs, so I can spend more of my time catching a bunch of other bugs that I'm absolutely going to write. Because I'm dumb. And we need to remember: we're all dumb.</p>
<h2 id="more-partial-functions">More partial functions!</h2>
<p>You know what's worse than partial functions? Insidiously partial functions. We've all been screaming about <code>head</code> and <code>tail</code> for years. My hackles rise every time I see a <code>read</code> instead of <code>readMaybe</code>. I can't remember the last time I saw the <code>!!</code> operator in production code.</p>
<p>But there are plenty of other functions that are just as dangerous, if not more so. More dangerous because they aren't well known to be partial. They are commonly used. People don't understand why they're dangerous. And they fail only in edge cases that people aren't thinking about.</p>
<p>Exhibit A: I present <code>decodeUtf8</code>. (Thanks <a href="https://twitter.com/kerckhove_ts/status/1321390954172063745?s=20">Syd</a>.)</p>
<p>Go ahead, search your codebase. Be dismayed that you've found it present.</p>
<p>What's wrong with <code>decodeUtf8</code>? As we established last time, character encoding crap breaks stuff in production. UTF-8 works about 99% of the time, especially for people in Western countries. You'll probably forget to even test for it. And that function looks so benign: <code>decodeUtf8 :: ByteString -&gt; Text</code>.</p>
<p><strong>DO NOT BE FOOLED</strong></p>
<p>This function is a ticking time bomb. Use <code>decodeUtf8'</code> (yes, it's named that badly, just like <code>foldl'</code>) and explicitly handle error cases. Or use I/O functions that explicitly handle UTF-8 decoding errors and throw a runtime exception.</p>
<p>"I can't believe Michael still thinks runtime exceptions are a good idea." I'll get to that another time. I don't really believe they're a good idea. I believe they are omnipresent, better than bottom values, and our least-bad-option.</p>
<h2 id="law-abiding-type-classes">Law-abiding type classes</h2>
<p>Now I've truly lost it. What in tarnation could be wrong with law-abiding type classes? They're good, right? Yes, they are! The section heading is complete clickbait. Haha, fooled you!</p>
<p>There's a concept in the Haskell community that all type classes should be law-abiding. I've gone to the really bad extreme opposing this in the past with early versions of <code>classy-prelude</code>. In my defense: it was an experiment. But it was a bad idea. I've mostly come around to the idea of type classes being lawful. (Also, the original namespacing issues that led to <code>classy-prelude</code> really point out a much bigger bad part of Haskell, which I'll get to later. Stay tuned! Hint: Rust beat us again.)</p>
<p>Oh, right. Speaking of Rust: they do <em>not</em> believe in law-abiding type classes. There are plenty of type classes over there (though they call them <code>trait</code>s) that are completely ad-hoc. I'm looking at you, <code>FromIterator</code>. This is Very, Very Bad of course. Or so my Haskell instincts tell me. And yet, it makes code Really, Really Good. So now I'm just confused.</p>
<p>Basically: I think we need much more nuanced on this in the Haskell community. I'm leaning towards my <em>very</em> original instincts having been spot on. So:</p>
<ul>
<li>Law abiding type classes: great</li>
<li>Flippantly non-law-abiding type classes ala the original <code>classy-prelude</code>: bad</li>
<li>"You know what I meant" typeclasses like <code>ToContent</code> in Yesod: also great</li>
</ul>
<p>This isn't exactly in line with a "bad part" of Haskell. Up until now I've been giving a nuanced reflection on my journeys in Haskell. Let me try something better then. Ahem.</p>
<p><strong>DON'T LECTURE ME ON LAW ABIDING TYPE CLASSES AND FLAGRANTLY VIOLATE LAWS</strong></p>
<p>I'm staring at you, <code>Eq Double</code>. No, you cannot do equality on a <code>Double</code>. (And thanks again to Syd for this idea.) Rust, again, Got It Right. See <code>PartialEq</code> vs <code>Eq</code>. Floating point values do not allow for total equality. This makes things like <code>Map Double x</code> dangerous. Like, super dangerous. Though maybe not as dangerous as <code>HashMap Double x</code>, which deserves its own rant later.</p>
<p>So come down from your high horses. We don't have law abiding type classes. We have "if I close my eyes and pretend enough then maybe I have law abiding type classes."</p>
<h2 id="unused-import-warnings">Unused import warnings</h2>
<p>Haskell has a dumb set of default warnings enabled. ("I think you mean GHC, one implementation of Haskell, not …</p></div></div></div></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.snoyman.com/blog/2020/11/haskell-bad-parts-2">https://www.snoyman.com/blog/2020/11/haskell-bad-parts-2</a></em></p>]]>
            </description>
            <link>https://www.snoyman.com/blog/2020/11/haskell-bad-parts-2</link>
            <guid isPermaLink="false">hacker-news-small-sites-26077823</guid>
            <pubDate>Tue, 09 Feb 2021 14:27:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pseudophilosophy encourages confused, self-indulgent thinking]]>
            </title>
            <description>
<![CDATA[
Score 187 | Comments 221 (<a href="https://news.ycombinator.com/item?id=26076731">thread link</a>) | @pseudolus
<br/>
February 9, 2021 | https://psyche.co/ideas/pseudophilosophy-encourages-confused-self-indulgent-thinking | <a href="https://web.archive.org/web/*/https://psyche.co/ideas/pseudophilosophy-encourages-confused-self-indulgent-thinking">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p><strong>There are many kinds</strong> of pseudosciences: astrology, homeopathy, flat-Earthism, anti-vaxx. These â€˜fieldsâ€™ traffic in bizarre claims with scientific pretensions. On a surface level, these claims <em>seem</em> to be scientific and usually appear to comment on the same kind of things that science does. However, upon closer inspection, pseudoscience is revealed to be <a href="https://aeon.co/ideas/why-bullshit-is-no-laughing-matter" rel="noopener">bullshit</a>: it is indifferent to the truth. Analogous to pseudoscience, can there be such a thing as pseudophilosophy, in which one makes claims with philosophical pretensions which on closer inspection turn out to be bullshit? I think there is.</p>
<p>Letâ€™s begin with the concept of pseudophilosophy. If there is something deserving of that name, then it would be deficient with respect to philosophical issues in the same way that pseudoscience is deficient with respect to scientific issues. So, in order to get a grip on pseudophilosophy, we should first <a href="https://doi.org/10.1111/theo.12271" rel="nofollow noreferrer noopener">look</a> more closely at the way in which pseudoscience is deficient, and then see whether we can find something analogous in the philosophical domain.</p>
<p>What makes pseudoscientific beliefs deficient is that theyâ€™re formed in an <em>epistemically unconscientious</em> way. Thatâ€™s to say, these beliefs are made from culpably confused and uninformed reasoning. For example, the belief that the Earth is flat can be sustained only by self-willed disregard of the massive amounts of evidence to the contrary, accumulated over several centuries by several different sciences.</p>
<p>However, such unconscientiousness doesnâ€™t presuppose insincerity or charlatanry. A charlatan is someone who has a hidden, usually profit-seeking, agenda and who is fundamentally indifferent to whether their beliefs are true. Often bullshit is produced without such insincerity, however, since one can <em>care</em> about the truth of oneâ€™s beliefs without <em>taking care</em> with respect to it.</p>
<p>A problem is that most of us are lacking in epistemic conscientiousness, at least sometimes and to some extent. In order for something to count as pseudoscience, some minimal degree of unconscientiousness is therefore required. A good rule of thumb for being conscientious is to keep an eye out for classical fallacies such as <a href="https://aeon.co/ideas/how-ad-hominem-arguments-can-demolish-appeals-to-authority" rel="noopener">ad hominem</a>, straw man, false dilemma and cherry-picking. Such fallacies occur in all kinds of contexts, but in pseudoscience they occur more systematically.</p>
<p>Whether there is a God or whether there are objective moral truths have to be answered largely via a priori reflection, if at all</p>
<p>Epistemic unconscientiousness is an essential but not exhaustive component of pseudoscience. To count as pseudoscientific, a belief must also be about some scientific issue, and this is precisely where pseudoscience and pseudophilosophy differ. Just like pseudoscience, pseudophilosophy is defined by a lack of epistemic conscientiousness, but its subject matter is philosophical rather than scientific.</p>
<p>Roughly speaking, the difference between scientific and philosophical issues is that the latter arenâ€™t in any straightforward way resolvable via empirical investigation. Whether there is a God, for example, or whether there are objective moral truths, are questions that have to be answered largely via a priori reflection, if at all. These questions are thus different from questions such as whether the Earth is flat or spherical, or whether anthrax is caused by bacteria, which do have empirically accessible answers.</p>
<p><strong>There are two kinds of</strong> pseudophilosophy, one mostly harmless and the other insidious. The first variety is usually found in popular scientific contexts. This is where writers, typically with a background in the natural sciences, walk self-confidently into philosophical territory without realising it, and without conscientious attention to relevant philosophical distinctions and arguments. Often implicit empiricist assumptions in epistemology, metaphysics and the philosophy of language are relied upon as if they were self-evident, and without awareness of the threat that those very assumptions pose to the authorâ€™s own reasoning. We can call this phenomenon scientistic pseudophilosophy.</p>
<p>An illustrative example is Sam Harrisâ€™s <a href="https://samharris.org/books/the-moral-landscape/" rel="nofollow noreferrer noopener">book</a> <em>The Moral Landscape</em> (2010), in which straw men are lined up due to Harrisâ€™s failure to grasp the content of many of the philosophical claims and arguments that he criticises, such as Humeâ€™s law (or the is/ought problem) and <span>G E Mooreâ€™s</span> open-question argument (ie, that no moral property is identical to a natural property). Similarly, in <em>A Universe from Nothing</em> (2012), Lawrence Krauss engages with philosophical arguments for theism without understanding them properly. Most saliently, he ends up criticising a caricature version of the so-called cosmological argument about the existence of God.</p>
<p>Usually, the prose is infused with arcane terminology and learned jargon, creating an aura of scholarly profundity</p>
<p>The insidious kind of pseudophilosophy, which I will focus on here, is an academic enterprise, pursued primarily within the humanities and social sciences. I donâ€™t mean to suggest that the disciplines in question are <em>inherently</em> pseudophilosophical, only that, for some reason, a whole lot of pseudophilosophy goes on within them (although this will vary greatly between different universities and departments). Often philosophical issues are raised concerning knowledge, truth, objectivity, rationality and scientific methodology, and, again, without conscientious attention to relevant philosophical distinctions and arguments. A characteristic trait is a deferential attitude toward some supposedly great continental European thinker or thinkers, such as <span>G W F Hegel,</span> Karl Marx, Sigmund Freud, Carl Jung, Martin Heidegger or Jean-Paul Sartre (who might or might not have themselves been guilty of pseudophilosophy). Usually, the prose is infused with arcane terminology and learned jargon, creating an aura of scholarly profundity. We can <a href="https://onlinelibrary.wiley.com/doi/abs/10.1111/theo.12047" rel="nofollow noreferrer noopener">call</a> this phenomenon obscurantist pseudophilosophy.</p>
<p>While pseudoscience is particularly prone to causal fallacies and cherry-picking of data, the most common fallacy in obscurantist pseudophilosophy is equivocation. This fallacy <a href="https://journals.sagepub.com/doi/abs/10.1177/0392192112444984" rel="nofollow noreferrer noopener">exploits</a> ambiguities in certain key terms, where plausible but trivial claims lend apparent credibility to interesting but controversial ones. When challenged, the obscurantist will typically retreat to the safe house provided by the trivial interpretation of his claims, only to reoccupy the controversial ground once the critic has left the scene.</p>
<p>Let me <a href="https://onlinelibrary.wiley.com/doi/abs/10.1111/j.1467-9973.2005.00370.x" rel="nofollow noreferrer noopener">illustrate</a> how this works, focusing on <a href="https://aeon.co/essays/why-foucaults-work-on-power-is-more-important-than-ever" rel="noopener">Michel Foucault</a>, one of the central figures of French postmodernism. A central theme in Foucaultâ€™s writings is a critique of the notion of objective truth. Although there are controversies about interpretation, at least on the face of it Foucault maintains that truth is socially constructed and subject to ideological influence, and therefore not objective. However, his arguments for this claim focus entirely on the way in which what is assumed or believed to be true is influenced by what he refers to as â€˜powerâ€™. It is, of course, a plausible claim that our assumptions or beliefs are susceptible to ideological influence, especially in emotionally charged areas such as politics, but also in supposedly rational areas such as science. But Foucault doesnâ€™t explain how this rather mundane observation is supposed to imply or support the philosophically controversial claim that what is true, or which facts obtain (concerning the shape of the Earth, for example), is susceptible to ideological influence. Instead, by using the word â€˜truthâ€™ in an impressionistic fashion, the distinction between belief and truth is smudged over, allowing Foucault to make seemingly profound statements such as:</p>
<blockquote>[T]ruth isnâ€™t outside power, or lacking in power: contrary to a myth whose history and functions would repay further study, truth isnâ€™t the reward of free spirits, the child of protracted solitude, nor the privilege of those who have succeeded in liberating themselves. Truth is a thing of this world: it is produced only by virtue of multiple forms of constraint.</blockquote>
<p>I leave it as an exercise to the reader to disambiguate this statement and see what remains.</p>
<p>This kind of fallacious critique of the notion of objective truth is a particularly pernicious aspect of obscurantist pseudophilosophy in general. Often, itâ€™s due to simple misunderstandings (such as confusing truth with belief or knowledge), but sometimes itâ€™s due rather to wilful obscurity (as in the case of Foucault).</p>
<p>Perhaps due to its aura of academic legitimacy and profundity, obscurantist pseudophilosophy is often used to give credence to dogmatic and bellicose political agendas, both on the Left and on the Right. Beyond that, it encourages confused and self-indulgent thinking in university students, and consumes vast resources that could be put to better use.</p>
<p>While pseudoscience can perhaps be counteracted by science education, the cure for pseudophilosophy is not science education but philosophical education. More specifically, it is a matter of developing the kind of basic critical thinking skills that are taught to undergraduates in philosophy. This doesnâ€™t need to be anything fancy. Students should be taught things like learning to distinguish in a disciplined way between central philosophical concepts such as belief, truth, rationality and knowledge. They should be aware of the way ambiguities can be exploited by equivocating arguments, and become adept at how to spot other fallacies such as ad hominem and straw man. With these fundamental tools in hand, there would be a good deal less pseudophilosophy going around.</p></div></div></div>]]>
            </description>
            <link>https://psyche.co/ideas/pseudophilosophy-encourages-confused-self-indulgent-thinking</link>
            <guid isPermaLink="false">hacker-news-small-sites-26076731</guid>
            <pubDate>Tue, 09 Feb 2021 12:34:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: "100 Page Python Intro" eBook]]>
            </title>
            <description>
<![CDATA[
Score 105 | Comments 26 (<a href="https://news.ycombinator.com/item?id=26076721">thread link</a>) | @asicsp
<br/>
February 9, 2021 | https://learnbyexample.github.io/100_page_python_intro/introduction.html | <a href="https://web.archive.org/web/*/https://learnbyexample.github.io/100_page_python_intro/introduction.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><nav id="sidebar" aria-label="Table of contents"></nav><div id="page-wrapper"><div class="page"><div id="content"><main><p><a href="https://en.wikipedia.org/wiki/Python_(programming_language)">Wikipedia</a> does a great job of describing about Python in a few words. So, I'll just copy-paste relevant information here:</p><blockquote><p>Python is an interpreted, high-level and general-purpose programming language. Python's design philosophy emphasizes code readability with its notable use of significant whitespace. Its language constructs and object-oriented approach aim to help programmers write clear, logical code for small and large-scale projects.</p><p>Python is dynamically typed and garbage-collected. It supports multiple programming paradigms, including structured (particularly, procedural), object-oriented, and functional programming. Python is often described as a "batteries included" language due to its comprehensive standard library.</p><p>As of December 2020 Python ranked third in TIOBE’s index of most popular programming languages, behind <code>C</code> and <code>Java</code>.</p></blockquote><blockquote><p><img src="https://learnbyexample.github.io/100_page_python_intro/images/info.svg" alt="info"> See also <a href="https://docs.python.org/3/faq/general.html">docs.python: General Python FAQ</a> for answers to questions like "What is Python?", "What is Python good for?", "Why is it called Python?", etc.</p></blockquote><h2><a href="#installation" id="installation">Installation</a></h2><p>On modern Linux distributions, you are likely to find Python already installed. It may be a few versions behind, but should work just fine for most of the topics covered in this book. To get the exact version used here, visit <a href="https://www.python.org/downloads/">Python downloads page</a> and install using the appropriate source for your operating system. Should you face any issues in installing, search online for a solution. Yes, that is something I expect you should be able to do as a prerequisite for this book, i.e. you should have prior experience with basic programming and computer usage.</p><blockquote><p><img src="https://learnbyexample.github.io/100_page_python_intro/images/info.svg" alt="info"> See <a href="https://docs.python.org/3/whatsnew/index.html">docs.python: What's New</a> to track changes across versions. As mentioned in the Preface chapter, <strong>3.9.0</strong> is the version used in this book.</p></blockquote><h2><a href="#online-tools" id="online-tools">Online tools</a></h2><p>In case you are facing installation issues, or do not want to (or cannot) install Python on your computer for some reason, there are plenty of options to execute Python programs using online tools. Some of the popular ones are listed below:</p><ul><li><a href="https://repl.it/languages/python3">Repl.it</a> — Interactive playground. Code, collaborate, compile, run, share, and deploy Python and more online from your browser</li><li><a href="http://www.pythontutor.com/visualize.html#mode=edit">Pythontutor</a> — Visualize code execution, also has example codes and ability to share sessions</li><li><a href="https://www.pythonanywhere.com/">PythonAnywhere</a> — Host, run, and code Python in the cloud</li></ul><p>The <a href="https://www.python.org/">offical Python website</a> also has a <em>Launch Interactive Shell</em> option (<a href="https://www.python.org/shell/">https://www.python.org/shell/</a>), which gives access to a REPL session.</p><h2><a href="#first-program" id="first-program">First program</a></h2><p>It is customary to start learning a new programming language by printing a simple phrase. Create a new directory, say <code>Python/programs</code> for this book. Then, create a plain text file named <code>hello.py</code> with your favorite text editor and type the following piece of code.</p><pre><code># hello.py
print('*************')
print('Hello there!')
print('*************')
</code></pre><p>If you are familiar with using command line on a Unix-like system, run the script as shown below. Other options to execute a Python program will be discussed in the next section.</p><pre><code>$ python3.9 hello.py
*************
Hello there!
*************
</code></pre><p>A few things to note here. The first line is a comment, used here to indicate the name of the Python program. <code>print()</code> is a built-in function, which can be used without having to load some library. A single string argument has been used for each of the three invocations. <code>print()</code> automatically appends a newline character by default. The program ran without a compilation step. As quoted earlier, Python is an <em>interpreted</em> language. More details will be discussed in later chapters.</p><blockquote><p><img src="https://learnbyexample.github.io/100_page_python_intro/images/info.svg" alt="info"> All the Python programs discussed in this book, along with related text files, can be accessed from my GitHub repo <a href="https://github.com/learnbyexample/100_page_python_intro/tree/main/programs">learnbyexample: 100_page_python_intro</a>. However, I highly recommend typing the programs manually by yourself.</p></blockquote><h2><a href="#ide-and-text-editors" id="ide-and-text-editors">IDE and text editors</a></h2><p>An <strong>integrated development environment</strong> (IDE) might suit you better if you are not comfortable with the command line. IDE provides features likes debugging, syntax highlighting, autocompletion, code refactoring and so on. They also help in setting up <strong>virtual environment</strong> to manage different versions of Python and modules (more on that later).</p><p>If you install Python on Windows, it will automatically include <strong>IDLE</strong>, an IDE built using Python's <code>tkinter</code> module. On Linux, see if you already have the program <code>idle3.9</code>. Otherwise you may have to install it separately, for example, <code>sudo apt install idle-python3.9</code> on Ubuntu.</p><p>When you open IDLE, you'll get a Python shell (discussed in the next section). For now, click the <strong>New File</strong> option under <strong>File</strong> menu to open a text editor. Type the short program <code>hello.py</code> discussed in the previous section. After saving the code, press <strong>F5</strong> to run it. You'll see the results in the shell window.</p><p>Screenshots from the text editor and the Python shell are shown below.</p><p><img src="https://learnbyexample.github.io/100_page_python_intro/images/hello.png" alt="hello.py program on IDLE editor"></p><p><img src="https://learnbyexample.github.io/100_page_python_intro/images/Python_shell_run.png" alt="Python shell example with output from an executed program"></p><p>Popular alternatives to IDLE are listed below:</p><ul><li><a href="https://thonny.org/">Thonny</a> — Python IDE for beginners, lots of handy features like viewing variables, debugger, step through, highlight syntax errors, name completion, etc</li><li><a href="https://www.jetbrains.com/pycharm/">Pycharm</a> — smart code completion, code inspections, on-the-fly error highlighting and quick-fixes, automated code refactorings, rich navigation capabilities, support for frameworks, etc</li><li><a href="https://www.spyder-ide.org/">Spyder</a> — typically used for scientific computing</li><li><a href="https://jupyter.org/">Jupyter</a> — web application that allows you to create and share documents that contain live code, equations, visualizations and narrative text</li><li><a href="https://vscodium.com/">VSCodium</a> — community-driven, freely-licensed binary distribution of VSCode</li><li><a href="https://github.com/vim/vim">Vim</a>, <a href="https://www.gnu.org/software/emacs/">Emacs</a>, <a href="https://www.geany.org/">Geany</a>, <a href="https://wiki.gnome.org/Apps/Gedit">Gedit</a> — text editors with support for syntax highlighting and more</li></ul><h2><a href="#repl" id="repl">REPL</a></h2><p>One of the best features of Python is the interactive shell. Such shells are also referred to as REPL, which is an abbreviation for <strong>R</strong>ead <strong>E</strong>valuate <strong>P</strong>rint <strong>L</strong>oop. The Python REPL makes it easy for beginners to try out code snippets for learning purposes. Beyond learning, it is also useful for developing a program in small steps, debugging a large program by trying out few lines of code at a time and so on. REPL will be used frequently in this book to show code snippets.</p><p>When you launch Python from the command line, or open IDLE, you get a shell that is ready for user input after the <code>&gt;&gt;&gt;</code> prompt.</p><pre><code>$ python3.9
Python 3.9.0 (default, Dec  2 2020, 10:42:13) 
[GCC 5.4.0 20160609] on linux
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; 
</code></pre><p>Try the below instructions. The first one displays a greeting using the <code>print()</code> function. Then, a user defined variable is used to store a string value. To display the value, you can either use <code>print()</code> again or just type the variable name. Expression results are immediately displayed in the shell. Name of a variable by itself is a valid expression. This behavior is unique to the REPL and an expression by itself won't display anything when used inside a script.</p><pre><code>&gt;&gt;&gt; print('have a nice day')
have a nice day

&gt;&gt;&gt; username = 'learnbyexample'
&gt;&gt;&gt; print(username)
learnbyexample

# use # to start a single line comment
# note that string representation is shown instead of actual value
# details will be discussed later
&gt;&gt;&gt; username
'learnbyexample'

# use exit() to close the shell, can also use Ctrl+D shortcut
&gt;&gt;&gt; exit()
</code></pre><p>I'll stress again the importance of following along the code snippets by manually typing them on your computer. Programming requires hands-on experience too, reading alone isn't enough. As an analogy, can you learn to drive a car by just reading about it? Since one of the prerequisite is that you should already be familiar with programming basics, I'll extend the analogy to learning to drive a different car model. Or, perhaps a different vehicle such as a truck or a bus might be more appropriate here.</p><blockquote><p><img src="https://learnbyexample.github.io/100_page_python_intro/images/info.svg" alt="info"> Depending on the command line shell you are using, you might have the <code>readline</code> library that makes it easier to use the REPL. For example, <code>up</code> and <code>down</code> arrow keys to browse code history, re-execute them (after editing if necessary), search history, autocomplete based on first few characters and so on. See <a href="https://en.wikipedia.org/wiki/GNU_Readline">wikipedia: GNU readline</a> and <a href="https://wiki.archlinux.org/index.php/readline">wiki.archlinux: readline</a> for more information.</p></blockquote><blockquote><p><img src="https://learnbyexample.github.io/100_page_python_intro/images/info.svg" alt="info"> You can use <code>python3.9 -q</code> to avoid <em>version and copyright messages</em> when you start an interactive shell. Use <code>python3.9 -h</code> or visit <a href="https://docs.python.org/3/using/cmdline.html">docs.python: Command line and environment</a> for documentation on cli options.</p></blockquote><h2><a href="#documentation-and-getting-help" id="documentation-and-getting-help">Documentation and getting help</a></h2><p>The offical Python website has an extensive documentation located at <a href="https://docs.python.org/3/">https://docs.python.org/3/</a>. This includes a tutorial, which is much more comprehensive than the contents presented in this book, several guides for specific modules like <code>re</code> and <code>argparse</code> and various other information.</p><p>Here's a couple of annotated screenshots:</p><p><img src="https://learnbyexample.github.io/100_page_python_intro/images/py_docs_1.png" alt="Python documentation: part 1"></p><p><img src="https://learnbyexample.github.io/100_page_python_intro/images/py_docs_2.png" alt="Python documentation: part 2"></p><p>Python provides a <code>help()</code> function, which is quite handy to use from the REPL. If you type <code>help(print)</code> and press the Enter key, you'll get a screen as shown below. If you are using IDLE, the output would be displayed on the same screen. Otherwise, the content might be shown on a different screen depending on your <code>pager</code> settings. Typically, pressing the <code>q</code> key will quit the <code>pager</code> and get you back to the shell.</p><p><img src="https://learnbyexample.github.io/100_page_python_intro/images/help_print.png" alt="help print"></p><blockquote><p><img src="https://learnbyexample.github.io/100_page_python_intro/images/info.svg" alt="info"> Quotes are necessary, for example <code>help('import')</code> and <code>help('del')</code>, if the topic you are looking for isn't an object.</p></blockquote><p>If you get stuck with a problem, there are several ways to get it resolved. For example:</p><ol><li>read/search for that particular topic from documentation/books/tutorials/etc</li><li>reduce the code as much as possible so that you are left with minimal code necessary to reproduce the issue</li><li>talk about the problem with a friend/colleague/inanimate-objects/etc (see <a href="https://rubberduckdebugging.com/">Rubber duck debugging</a>)</li><li>search about the problem online</li></ol><p>You can also ask for help on forums. Make sure to read the instructions provided by the respective forums before asking a question. See also <a href="http://catb.org/%7Eesr/faqs/smart-questions.html#before">how to ask smart-questions</a>. Here's some forums you can use:</p><ul><li><a href="https://www.reddit.com/r/learnpython">/r/learnpython</a> and <a href="https://www.reddit.com/r/learnprogramming/">/r/learnprogramming/</a> — beginner friendly</li><li><a href="https://python-forum.io/">python-forum</a> — dedicated Python forum, encourages back and forth discussions based on the topic of the thread</li><li><a href="https://www.reddit.com/r/Python/">/r/Python/</a> — general Python discussion</li><li><a href="https://stackoverflow.com/tags/python">stackoverflow: python tag</a></li></ul><blockquote><p><img src="https://learnbyexample.github.io/100_page_python_intro/images/info.svg" alt="info"> The <a href="https://learnbyexample.github.io/100_page_python_intro/debugging.html#debugging">Debugging</a> chapter will discuss more on this topic.</p></blockquote></main><nav aria-label="Page navigation"><a rel="prev" href="https://learnbyexample.github.io/100_page_python_intro/preface.html" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left"> <i></i> </a><a rel="next" href="https://learnbyexample.github.io/100_page_python_intro/numeric-data-types.html" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right"> <i></i> </a></nav></div></div><nav aria-label="Page navigation"><a rel="prev" href="https://learnbyexample.github.io/100_page_python_intro/preface.html" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left"> <i></i> </a><a rel="next" href="https://learnbyexample.github.io/100_page_python_intro/numeric-data-types.html" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right"> <i></i> </a></nav></div></div>]]>
            </description>
            <link>https://learnbyexample.github.io/100_page_python_intro/introduction.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26076721</guid>
            <pubDate>Tue, 09 Feb 2021 12:33:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[José Valim Reveals “Project Nx” (Numerical Elixir) [audio]]]>
            </title>
            <description>
<![CDATA[
Score 350 | Comments 100 (<a href="https://news.ycombinator.com/item?id=26076680">thread link</a>) | @thibaut_barrere
<br/>
February 9, 2021 | https://thinkingelixir.com/podcast-episodes/034-jose-valim-reveals-project-nx/ | <a href="https://web.archive.org/web/*/https://thinkingelixir.com/podcast-episodes/034-jose-valim-reveals-project-nx/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text">
		<p>
José Valim visits and finally publicly reveals what Project Nx is! He and others have been working on it for 3 months and he’s finally ready to unveil it. José will speak more about it at the LambdaDays conference, demonstrating it with code and announcing the release and availability of the OpenSource code.</p>
<p>Nx stands for “Numerical Elixir”. The Nx project brings a unique numerical mode to Elixir along with GPU support. This important work lays the foundation for a powerful new era with data science in Elixir! Listen in as Jose discusses the details of how this works, how it came about, the goals of the project, what this means for the community, and what comes next.
</p>

<p>
  Show Notes online – <a href="https://thinkingelixir.com/podcast-episodes/034-jose-valim-reveals-project-nx">https://thinkingelixir.com/podcast-episodes/034-jose-valim-reveals-project-nx</a><br>
  
</p>
<p><strong>Elixir Community News</strong></p>

<ul>
<li><a href="https://elixirforum.com/t/introducing-elixirls-the-elixir-language-server/5857/122" target="_blank" rel="noopener noreferrer">https://elixirforum.com/t/introducing-elixirls-the-elixir-language-server/5857/122</a> – ElixirLS version 0.6.3 released</li>
<li><a href="https://github.com/elixir-lsp/elixir-ls/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer">https://github.com/elixir-lsp/elixir-ls/blob/master/CHANGELOG.md</a> – ElixirLS Changelog</li>
<li><a href="https://codesync.global/conferences/code-beam-v-america-2021/" target="_blank" rel="noopener noreferrer">https://codesync.global/conferences/code-beam-v-america-2021/</a> – CodeBEAM American conference dates March 10-12</li>
<li><a href="https://hexdocs.pm/oban/changelog.html#2-4-0-2021-01-26" target="_blank" rel="noopener noreferrer">https://hexdocs.pm/oban/changelog.html#2-4-0-2021-01-26</a> – Oban 2.4.0 released</li>
<li><a href="https://twitter.com/sorentwo/status/1354099475191652352" target="_blank" rel="noopener noreferrer">https://twitter.com/sorentwo/status/1354099475191652352</a> – Oban performance improvement charts</li>
<li><a href="https://github.com/wintermeyer/phx_tailwind_generators" target="_blank" rel="noopener noreferrer">https://github.com/wintermeyer/phx_tailwind_generators</a> – Phoenix TailwindCSS generator</li>
<li><a href="https://github.com/phoenixframework/phoenix/pull/4191" target="_blank" rel="noopener noreferrer">https://github.com/phoenixframework/phoenix/pull/4191</a> – Phoenix JavaScript gets more modern with Phoenix ES modules</li>
<li><a href="https://fullstackphoenix.com/boilerplates/new" target="_blank" rel="noopener noreferrer">https://fullstackphoenix.com/boilerplates/new</a> – Feedback! We learned about the site FullStackPhoenix which helps you start new projects already setup with several options for how to configure it.</li>
</ul>
<p>Do you know some Elixir news we don’t? Tell us at <a href="https://twitter.com/ThinkingElixir">@ThinkingElixir</a></p>
<p><strong>Discussion Resources</strong></p>

<ul>
<li>Nx stands for “Numerical Elixir”</li>
<li><a href="https://elixirforum.com/t/anyone-who-wants-to-speculate-about-this-tweet-from-jose/35772/68" target="_blank" rel="noopener noreferrer">https://elixirforum.com/t/anyone-who-wants-to-speculate-about-this-tweet-from-jose/35772/68</a> – A great text summary of the announcement found on ElixirForum.</li>
<li><a href="https://twitter.com/josevalim/status/1356880707474370560" target="_blank" rel="noopener noreferrer">https://twitter.com/josevalim/status/1356880707474370560</a> – José Valim released the new Nx logo during our recording. The cute animal is a Numbat!</li>
<li><a href="https://en.wikipedia.org/wiki/Numbat" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/Numbat</a></li>
<li><a href="https://github.com/erlang/otp/pull/2890" target="_blank" rel="noopener noreferrer">https://github.com/erlang/otp/pull/2890</a> – José’s pull request to add 16-bit floats in bitstrings to OTP</li>
<li><a href="https://numpy.org/" target="_blank" rel="noopener noreferrer">https://numpy.org/</a></li>
<li><a href="https://en.wikipedia.org/wiki/Softmax_function" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/Softmax_function</a></li>
<li><a href="https://pragprog.com/titles/smgaelixir/genetic-algorithms-in-elixir/" target="_blank" rel="noopener noreferrer">https://pragprog.com/titles/smgaelixir/genetic-algorithms-in-elixir/</a></li>
<li><a href="https://elixirforum.com/t/pelemay-formerly-hastega-challenge-for-gpgpu-on-elixir/22986" target="_blank" rel="noopener noreferrer">https://elixirforum.com/t/pelemay-formerly-hastega-challenge-for-gpgpu-on-elixir/22986</a></li>
<li><a href="https://erlang.org/doc/man/erl_nif.html#dirty_nifs" target="_blank" rel="noopener noreferrer">https://erlang.org/doc/man/erl_nif.html#dirty_nifs</a> – Information on Dirty NIFs</li>
<li><a href="https://twitter.com/bcardarella" target="_blank" rel="noopener noreferrer">https://twitter.com/bcardarella</a></li>
<li><a href="https://www.tensorflow.org/xla" target="_blank" rel="noopener noreferrer">https://www.tensorflow.org/xla</a></li>
<li><a href="https://tvm.apache.org/" target="_blank" rel="noopener noreferrer">https://tvm.apache.org/</a></li>
<li><a href="https://mlir.llvm.org/" target="_blank" rel="noopener noreferrer">https://mlir.llvm.org/</a></li>
<li><a href="https://github.com/google/jax" target="_blank" rel="noopener noreferrer">https://github.com/google/jax</a></li>
<li><a href="https://julialang.org/" target="_blank" rel="noopener noreferrer">https://julialang.org/</a></li>
<li><a href="https://www.lambdadays.org/lambdadays2021/jose-valim" target="_blank" rel="noopener noreferrer">https://www.lambdadays.org/lambdadays2021/jose-valim</a> – LambdaDays speaker page</li>
<li><a href="https://www.lambdadays.org/lambdadays2021#programme" target="_blank" rel="noopener noreferrer">https://www.lambdadays.org/lambdadays2021#programme</a> – José speaks on day 2</li>
<li>Promo code for 15% off LambdaDays tickets! Just use “thinkingelixir15”</li>
<li><a href="https://twitter.com/josevalim" target="_blank" rel="noopener noreferrer">https://twitter.com/josevalim</a></li>
<li><a href="https://twitter.com/sean_moriarity" target="_blank" rel="noopener noreferrer">https://twitter.com/sean_moriarity</a></li>
<li><a href="https://twitter.com/elixirlang" target="_blank" rel="noopener noreferrer">https://twitter.com/elixirlang</a></li>
</ul>
<p><strong>Guest Information</strong></p>

<ul>
<li><a href="https://twitter.com/josevalim" target="_blank" rel="noopener noreferrer">https://twitter.com/josevalim</a> – on Twitter</li>
<li><a href="https://github.com/josevalim" target="_blank" rel="noopener noreferrer">https://github.com/josevalim</a> – on Github</li>
<li><a href="https://dashbit.co/" target="_blank" rel="noopener noreferrer">https://dashbit.co/</a> – Dashbit website and blog</li>
</ul>
<p><strong>Find us online</strong></p>
<ul>
<li>Message the show – <a href="https://twitter.com/ThinkingElixir" target="_blank" rel="noopener noreferrer">@ThinkingElixir</a></li>
<li>Mark Ericksen – <a href="https://twitter.com/brainlid" target="_blank" rel="noopener noreferrer">@brainlid</a></li>
<li>David Bernheisel – <a href="https://twitter.com/bernheisel" target="_blank" rel="noopener noreferrer">@bernheisel</a></li>
<li>Cade Ward – <a href="https://twitter.com/cadebward" target="_blank" rel="noopener noreferrer">@cadebward</a></li>
</ul>
<div itemscope="" itemtype="http://schema.org/AudioObject"><meta itemprop="name" content="#034 José Valim reveals Project Nx"><meta itemprop="uploadDate" content="2021-02-09T04:15:48-07:00"><meta itemprop="encodingFormat" content="audio/mpeg"><meta itemprop="duration" content="PT1H15M59S"><meta itemprop="description" content="José Valim visits and finally publicly reveals what Project Nx is! He and others have been working on it for 3 months and he's finally ready to unveil it. José will speak more about it at the LambdaDays conference, demonstrating it with code and announcing the release and availability of the OpenSource code. This is an exciting development that brings Elixir into areas it hasn't been used before. We also talk about what this means for Elixir and the community going forward. A must listen!



Show Notes online - https://thinkingelixir.com/podcast-episodes/034-jose-valim-reveals-project-nx"><meta itemprop="contentUrl" content="https://media.blubrry.com/thinkingelixir/s/thinkingelixir-podcast.s3.amazonaws.com/034-project-nx-with-jose-valim.mp3"><meta itemprop="contentSize" content="35.0"><div id="powerpress_player_286"><!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
<p><audio id="audio-6278-1" preload="none" controls="controls"><source type="audio/mpeg" src="https://media.blubrry.com/thinkingelixir/p/thinkingelixir-podcast.s3.amazonaws.com/034-project-nx-with-jose-valim.mp3?_=1"><a href="https://media.blubrry.com/thinkingelixir/p/thinkingelixir-podcast.s3.amazonaws.com/034-project-nx-with-jose-valim.mp3">https://media.blubrry.com/thinkingelixir/p/thinkingelixir-podcast.s3.amazonaws.com/034-project-nx-with-jose-valim.mp3</a></audio></p></div></div><p>Podcast: <a href="https://media.blubrry.com/thinkingelixir/s/thinkingelixir-podcast.s3.amazonaws.com/034-project-nx-with-jose-valim.mp3" title="Download" rel="nofollow" download="034-project-nx-with-jose-valim.mp3">Download</a></p>	</div></div>]]>
            </description>
            <link>https://thinkingelixir.com/podcast-episodes/034-jose-valim-reveals-project-nx/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26076680</guid>
            <pubDate>Tue, 09 Feb 2021 12:26:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pi from High School Maths]]>
            </title>
            <description>
<![CDATA[
Score 60 | Comments 19 (<a href="https://news.ycombinator.com/item?id=26076128">thread link</a>) | @vonadz
<br/>
February 9, 2021 | https://theartofmachinery.com/2020/10/26/pi_from_high_school_maths.html | <a href="https://web.archive.org/web/*/https://theartofmachinery.com/2020/10/26/pi_from_high_school_maths.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
<p>Warning: I don’t think the stuff in this post has any direct practical application by itself (unless you’re a
nuclear war survivor and need to reconstruct maths from scratch or something). Sometimes I like to go back to basics,
though. Here’s a look at <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
π
</mi>
</mrow>
<annotation encoding="application/x-tex">
\pi
</annotation>
</semantics></math> and areas of curved shapes without any calculus or transcendental functions.</p><h2 id="a-simple-algorithm-for-calculating-pi">A simple algorithm for calculating <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
π
</mi>
</mrow>
<annotation encoding="application/x-tex">
\pi
</annotation>
</semantics></math></h2>
<p>This algorithm starts with simple number theoretic musing. Some whole numbers form neat Pythagorean triples
<math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mo stretchy="false">
(
</mo>
<mi>
x
</mi>
<mo>
,
</mo>
<mi>
y
</mi>
<mo>
,
</mo>
<mi>
z
</mi>
<mo stretchy="false">
)
</mo>
</mrow>
<annotation encoding="application/x-tex">
(x, y, z)
</annotation>
</semantics></math> where <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<msup>
<mi>
x
</mi>
<mn>
2
</mn>
</msup>
<mo>
+
</mo>
<msup>
<mi>
y
</mi>
<mn>
2
</mn>
</msup>
<mo>
=
</mo>
<msup>
<mi>
z
</mi>
<mn>
2
</mn>
</msup>
</mrow>
<annotation encoding="application/x-tex">
x^2 + y^2 = z^2
</annotation>
</semantics></math>. E.g., <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<msup>
<mn>
3
</mn>
<mn>
2
</mn>
</msup>
<mo>
+
</mo>
<msup>
<mn>
4
</mn>
<mn>
2
</mn>
</msup>
<mo>
=
</mo>
<msup>
<mn>
5
</mn>
<mn>
2
</mn>
</msup>
</mrow>
<annotation encoding="application/x-tex">
3^2 + 4^2 = 5^2
</annotation>
</semantics></math>. It’s easy to find all the solutions to <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<msup>
<mi>
x
</mi>
<mn>
2
</mn>
</msup>
<mo>
+
</mo>
<msup>
<mi>
y
</mi>
<mn>
2
</mn>
</msup>
<mo>
=
</mo>
<msup>
<mn>
5
</mn>
<mn>
2
</mn>
</msup>
</mrow>
<annotation encoding="application/x-tex">
x^2 + y^2 = 5^2
</annotation>
</semantics></math> through brute-force search because we know that <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
x
</mi>
</mrow>
<annotation encoding="application/x-tex">
x
</annotation>
</semantics></math> and <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
y
</mi>
</mrow>
<annotation encoding="application/x-tex">
y
</annotation>
</semantics></math> can’t be bigger than <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mn>
5
</mn>
</mrow>
<annotation encoding="application/x-tex">
5
</annotation>
</semantics></math>. Here they are:</p><math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
<semantics>
<mrow>
<mrow>
<mtable displaystyle="true" columnalign="right left right left right left right left right left" columnspacing="0em">
<mtr>
<mtd>
<msup>
<mn>
0
</mn>
<mn>
2
</mn>
</msup>
<mo>
+
</mo>
<msup>
<mn>
5
</mn>
<mn>
2
</mn>
</msup>
</mtd>
<mtd>
<mo>
=
</mo>
<msup>
<mn>
5
</mn>
<mn>
2
</mn>
</msup>
</mtd>
</mtr>
<mtr>
<mtd>
<msup>
<mn>
3
</mn>
<mn>
2
</mn>
</msup>
<mo>
+
</mo>
<msup>
<mn>
4
</mn>
<mn>
2
</mn>
</msup>
</mtd>
<mtd>
<mo>
=
</mo>
<msup>
<mn>
5
</mn>
<mn>
2
</mn>
</msup>
</mtd>
</mtr>
<mtr>
<mtd>
<msup>
<mn>
4
</mn>
<mn>
2
</mn>
</msup>
<mo>
+
</mo>
<msup>
<mn>
3
</mn>
<mn>
2
</mn>
</msup>
</mtd>
<mtd>
<mo>
=
</mo>
<msup>
<mn>
5
</mn>
<mn>
2
</mn>
</msup>
</mtd>
</mtr>
<mtr>
<mtd>
<msup>
<mn>
5
</mn>
<mn>
2
</mn>
</msup>
<mo>
+
</mo>
<msup>
<mn>
0
</mn>
<mn>
2
</mn>
</msup>
</mtd>
<mtd>
<mo>
=
</mo>
<msup>
<mn>
5
</mn>
<mn>
2
</mn>
</msup>
</mtd>
</mtr>
</mtable>
</mrow>
</mrow>
<annotation encoding="application/x-tex">
\begin{aligned} 0^2 + 5^2 &amp;= 5^2 \\ 3^2 + 4^2 &amp;= 5^2 \\ 4^2 + 3^2 &amp;= 5^2 \\ 5^2 + 0^2 &amp;= 5^2 \end{aligned}
</annotation>
</semantics></math>
<p>(Plus all the negative-number combinations, but let’s stick with non-negative integers and just count 4 solutions.)
If we relax the equation, and count solutions to <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<msup>
<mi>
x
</mi>
<mn>
2
</mn>
</msup>
<mo>
+
</mo>
<msup>
<mi>
y
</mi>
<mn>
2
</mn>
</msup>
<mo>
≤
</mo>
<msup>
<mn>
5
</mn>
<mn>
2
</mn>
</msup>
</mrow>
<annotation encoding="application/x-tex">
x^2 + y^2 \le 5^2
</annotation>
</semantics></math>, the answer turns out to be 26. Why care? Well, if <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
t
</mi>
</mrow>
<annotation encoding="application/x-tex">
t
</annotation>
</semantics></math> is the total number of solutions to <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<msup>
<mi>
x
</mi>
<mn>
2
</mn>
</msup>
<mo>
+
</mo>
<msup>
<mi>
y
</mi>
<mn>
2
</mn>
</msup>
<mo>
≤
</mo>
<msup>
<mi>
n
</mi>
<mn>
2
</mn>
</msup>
</mrow>
<annotation encoding="application/x-tex">
x^2 + y^2 \le n^2
</annotation>
</semantics></math>, then</p><math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
<semantics>
<mrow>
<munder>
<mi>
lim
</mi>
<mrow>
<mi>
n
</mi>
<mo>
→
</mo>
<mn>
∞
</mn>
</mrow>
</munder>
<mfrac>
<mrow>
<mn>
4
</mn>
<mi>
t
</mi>
</mrow>
<mrow>
<mo stretchy="false">
(
</mo>
<mi>
n
</mi>
<mo>
+
</mo>
<mn>
1
</mn>
<msup>
<mo stretchy="false">
)
</mo>
<mn>
2
</mn>
</msup>
</mrow>
</mfrac>
<mo>
=
</mo>
<mi>
π
</mi>
</mrow>
<annotation encoding="application/x-tex">
\lim_{n \to \infinity} \frac{4t}{(n+1)^2} = \pi
</annotation>
</semantics></math>
<p>Or, in code, here’s a simple program that estimates <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
π
</mi>
</mrow>
<annotation encoding="application/x-tex">
\pi
</annotation>
</semantics></math>, getting more accurate for bigger values of the <code>n</code> variable:</p>
<figure>
<pre><code data-lang="d"><span>import</span> <span>std</span><span>;</span>

<span>ulong</span> <span>sq</span><span>(</span><span>ulong</span> <span>x</span><span>)</span> <span>pure</span>
<span>{</span>
    <span>return</span> <span>x</span> <span>*</span> <span>x</span><span>;</span>
<span>}</span>

<span>void</span> <span>main</span><span>(</span><span>string</span><span>[]</span> <span>args</span><span>)</span>
<span>{</span>
    <span>const</span> <span>n</span> <span>=</span> <span>args</span><span>.</span><span>length</span> <span>&gt;</span> <span>1</span> <span>?</span> <span>args</span><span>[</span><span>1</span><span>].</span><span>to</span><span>!</span><span>ulong</span> <span>:</span> <span>20</span><span>;</span>

    <span>ulong</span> <span>total</span><span>;</span>
    <span>foreach</span> <span>(</span><span>x</span><span>;</span> <span>0.</span><span>.</span><span>n</span><span>+</span><span>1</span><span>)</span>
    <span>{</span>
        <span>foreach</span> <span>(</span><span>y</span><span>;</span> <span>0.</span><span>.</span><span>n</span><span>+</span><span>1</span><span>)</span>
        <span>{</span>
            <span>if</span> <span>(</span><span>sq</span><span>(</span><span>x</span><span>)</span> <span>+</span> <span>sq</span><span>(</span><span>y</span><span>)</span> <span>&lt;=</span> <span>sq</span><span>(</span><span>n</span><span>))</span> <span>total</span><span>++;</span>
        <span>}</span>
    <span>}</span>

    <span>/*
    // Alternatively, for functional programming fans:
    const total =
        cartesianProduct(iota(n+1), iota(n+1))
                .count!(p =&gt; sq(p[0]) + sq(p[1]) &lt;= sq(n));
    */</span>

    <span>writef</span><span>(</span><span>"%.12f\n"</span><span>,</span> <span>4.0</span> <span>*</span> <span>total</span> <span>/</span> <span>sq</span><span>(</span><span>n</span><span>+</span><span>1</span><span>));</span>
<span>}</span></code></pre>
</figure>
<figure>
<pre><code data-lang="shell">
$ ./pi_calc 
3.038548752834
$ ./pi_calc 10000
3.141362256135
</code></pre>
</figure>
<p>Okay, that’s a little bit more accurate than <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mfrac>
<mn>
22
</mn>
<mn>
7
</mn>
</mfrac>
</mrow>
<annotation encoding="application/x-tex">
\frac{22}{7}
</annotation>
</semantics></math>. Unlike most formulae for <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
π
</mi>
</mrow>
<annotation encoding="application/x-tex">
\pi
</annotation>
</semantics></math>, though, there’s a simple diagram that shows how it works. Imagine we lay out the <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mo stretchy="false">
(
</mo>
<mi>
x
</mi>
<mo>
,
</mo>
<mi>
y
</mi>
<mo stretchy="false">
)
</mo>
</mrow>
<annotation encoding="application/x-tex">
(x, y)
</annotation>
</semantics></math> integer pairs (where <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
x
</mi>
</mrow>
<annotation encoding="application/x-tex">
x
</annotation>
</semantics></math> and <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
y
</mi>
</mrow>
<annotation encoding="application/x-tex">
y
</annotation>
</semantics></math> range from <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mn>
0
</mn>
</mrow>
<annotation encoding="application/x-tex">
0
</annotation>
</semantics></math> to <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
n
</mi>
</mrow>
<annotation encoding="application/x-tex">
n
</annotation>
</semantics></math>) on a 2D grid the obvious way. The figure below shows an example for <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
n
</mi>
<mo>
=
</mo>
<mn>
10
</mn>
</mrow>
<annotation encoding="application/x-tex">
n=10
</annotation>
</semantics></math>, with the arrow <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
r
</mi>
</mrow>
<annotation encoding="application/x-tex">
r
</annotation>
</semantics></math> pointing from the origin to <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mo stretchy="false">
(
</mo>
<mn>
6
</mn>
<mo>
,
</mo>
<mn>
8
</mn>
<mo stretchy="false">
)
</mo>
</mrow>
<annotation encoding="application/x-tex">
(6, 8)
</annotation>
</semantics></math>. <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
r
</mi>
</mrow>
<annotation encoding="application/x-tex">
r
</annotation>
</semantics></math> and the <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
x
</mi>
</mrow>
<annotation encoding="application/x-tex">
x
</annotation>
</semantics></math> and <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
y
</mi>
</mrow>
<annotation encoding="application/x-tex">
y
</annotation>
</semantics></math> components make a right-angled triangle, so <a href="https://www.cut-the-knot.org/pythagoras/">Pythagoras’s theorem</a> says that <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<msup>
<mi>
x
</mi>
<mn>
2
</mn>
</msup>
<mo>
+
</mo>
<msup>
<mi>
y
</mi>
<mn>
2
</mn>
</msup>
<mo>
=
</mo>
<msup>
<mi>
r
</mi>
<mn>
2
</mn>
</msup>
</mrow>
<annotation encoding="application/x-tex">
x^2 + y^2 = r^2
</annotation>
</semantics></math>. For <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mo stretchy="false">
(
</mo>
<mn>
6
</mn>
<mo>
,
</mo>
<mn>
8
</mn>
<mo stretchy="false">
)
</mo>
</mrow>
<annotation encoding="application/x-tex">
(6, 8)
</annotation>
</semantics></math>, <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
r
</mi>
<mo>
=
</mo>
<mn>
10
</mn>
<mo>
=
</mo>
<mi>
n
</mi>
</mrow>
<annotation encoding="application/x-tex">
r = 10 = n
</annotation>
</semantics></math>, so <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mo stretchy="false">
(
</mo>
<mn>
6
</mn>
<mo>
,
</mo>
<mn>
8
</mn>
<mo stretchy="false">
)
</mo>
</mrow>
<annotation encoding="application/x-tex">
(6, 8)
</annotation>
</semantics></math> is on the boundary as a solution to <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<msup>
<mi>
x
</mi>
<mn>
2
</mn>
</msup>
<mo>
+
</mo>
<msup>
<mi>
y
</mi>
<mn>
2
</mn>
</msup>
<mo>
≤
</mo>
<msup>
<mn>
10
</mn>
<mn>
2
</mn>
</msup>
</mrow>
<annotation encoding="application/x-tex">
x^2 + y^2 \le 10^2
</annotation>
</semantics></math>. That boundary (the set of real-valued points a constant distance <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
n
</mi>
<mo>
=
</mo>
<mn>
10
</mn>
</mrow>
<annotation encoding="application/x-tex">
n=10
</annotation>
</semantics></math> from the origin) makes a quarter circle.</p>
<figure role="img">
<a href="https://theartofmachinery.com/images/pi_from_high_school_maths/pi_calc_grid.svg"><img src="https://theartofmachinery.com/images/pi_from_high_school_maths/pi_calc_grid.svg" alt="Grid for calculating an estimate of pi"></a>
</figure>
<p>A circle is a simple, convex shape, and the grid points are evenly spaced, so the number of points inside the
quarter circle will be roughly proportional to the area. More specifically, the fraction of all the grid points inside
the quarter circle will be roughly the area of the quarter circle divided by the area of square around all points. The
quarter circle area is <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
π
</mi>
<msup>
<mi>
r
</mi>
<mn>
2
</mn>
</msup>
<mo>
÷
</mo>
<mn>
4
</mn>
</mrow>
<annotation encoding="application/x-tex">
\pi r^2 \div 4
</annotation>
</semantics></math>, inside the square of area <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<msup>
<mi>
r
</mi>
<mn>
2
</mn>
</msup>
</mrow>
<annotation encoding="application/x-tex">
r^2
</annotation>
</semantics></math> (remember, <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
n
</mi>
<mo>
=
</mo>
<mi>
r
</mi>
</mrow>
<annotation encoding="application/x-tex">
n = r
</annotation>
</semantics></math>), so <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mfrac>
<mi>
π
</mi>
<mn>
4
</mn>
</mfrac>
</mrow>
<annotation encoding="application/x-tex">
\frac{\pi}{4}
</annotation>
</semantics></math> of all points represent solutions. The <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
x
</mi>
</mrow>
<annotation encoding="application/x-tex">
x
</annotation>
</semantics></math> and <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
y
</mi>
</mrow>
<annotation encoding="application/x-tex">
y
</annotation>
</semantics></math> values count from <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mn>
0
</mn>
</mrow>
<annotation encoding="application/x-tex">
0
</annotation>
</semantics></math> to <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
n
</mi>
</mrow>
<annotation encoding="application/x-tex">
n
</annotation>
</semantics></math>, so there are <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mo stretchy="false">
(
</mo>
<mi>
n
</mi>
<mo>
+
</mo>
<mn>
1
</mn>
<msup>
<mo stretchy="false">
)
</mo>
<mn>
2
</mn>
</msup>
</mrow>
<annotation encoding="application/x-tex">
(n+1)^2
</annotation>
</semantics></math> grid points. Rearrange the equations and you get a formula for estimating <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
π
</mi>
</mrow>
<annotation encoding="application/x-tex">
\pi
</annotation>
</semantics></math> from a solution count. The grid points keep drawing an arbitrarily more accurate circle as
<math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
n
</mi>
</mrow>
<annotation encoding="application/x-tex">
n
</annotation>
</semantics></math> gets bigger (just like a higher-resolution computer monitor does) so the estimate is exact in the
limit.</p>
<h2 id="a-faster-implementation">A faster implementation</h2>
<p>The code above is simple but slow because it brute-force scans over all <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mo stretchy="false">
(
</mo>
<mi>
n
</mi>
<mo>
+
</mo>
<mn>
1
</mn>
<mo stretchy="false">
)
</mo>
<mo>
×
</mo>
<mo stretchy="false">
(
</mo>
<mi>
n
</mi>
<mo>
+
</mo>
<mn>
1
</mn>
<mo stretchy="false">
)
</mo>
</mrow>
<annotation encoding="application/x-tex">
(n+1) \times (n+1)
</annotation>
</semantics></math>possible <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
x
</mi>
</mrow>
<annotation encoding="application/x-tex">
x
</annotation>
</semantics></math> and <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
y
</mi>
</mrow>
<annotation encoding="application/x-tex">
y
</annotation>
</semantics></math> values. But we obviously don’t need to scan <em>all</em> values. If we know that <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<msup>
<mi>
x
</mi>
<mn>
2
</mn>
</msup>
<mo>
+
</mo>
<msup>
<mi>
y
</mi>
<mn>
2
</mn>
</msup>
<mo>
≤
</mo>
<msup>
<mi>
n
</mi>
<mn>
2
</mn>
</msup>
</mrow>
<annotation encoding="application/x-tex">
x^2 + y^2 \le n^2
</annotation>
</semantics></math>, then making <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
x
</mi>
</mrow>
<annotation encoding="application/x-tex">
x
</annotation>
</semantics></math> or <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
y
</mi>
</mrow>
<annotation encoding="application/x-tex">
y
</annotation>
</semantics></math> smaller will only give us another solution. We don’t need to keep testing smaller values after we
find a solution. Ultimately, we only need to find the integral points around the boundary. Here’s a faster algorithm
based on that idea.</p>
<p>Imagine we scan along the integral <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
x
</mi>
</mrow>
<annotation encoding="application/x-tex">
x
</annotation>
</semantics></math> values and find the maximum integral <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
y
</mi>
</mrow>
<annotation encoding="application/x-tex">
y
</annotation>
</semantics></math> value that still gives us a solution. This gives us a border line marked in red in the figure
below. If <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
y
</mi>
<mo>
=
</mo>
<mn>
8
</mn>
</mrow>
<annotation encoding="application/x-tex">
y=8
</annotation>
</semantics></math> for a given <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
x
</mi>
</mrow>
<annotation encoding="application/x-tex">
x
</annotation>
</semantics></math> value, we instantly know there are <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mn>
8
</mn>
<mo>
+
</mo>
<mn>
1
</mn>
<mo>
=
</mo>
<mn>
9
</mn>
</mrow>
<annotation encoding="application/x-tex">
8 + 1 = 9
</annotation>
</semantics></math> solutions with that given <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
x
</mi>
</mrow>
<annotation encoding="application/x-tex">
x
</annotation>
</semantics></math> value (<math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mo lspace="0.11111em" rspace="0em">
+
</mo>
<mn>
1
</mn>
</mrow>
<annotation encoding="application/x-tex">
+ 1
</annotation>
</semantics></math> to count the <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
y
</mi>
<mo>
=
</mo>
<mn>
0
</mn>
</mrow>
<annotation encoding="application/x-tex">
y=0
</annotation>
</semantics></math> solution).</p>
<figure role="img">
<a href="https://theartofmachinery.com/images/pi_from_high_school_maths/pi_fast_calc_grid.svg"><img src="https://theartofmachinery.com/images/pi_from_high_school_maths/pi_fast_calc_grid.svg" alt="Estimating pi efficiently by tracing circle boundary"></a>
</figure>
<p>Note that as <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
x
</mi>
</mrow>
<annotation encoding="application/x-tex">
x
</annotation>
</semantics></math> scans from <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mn>
0
</mn>
</mrow>
<annotation encoding="application/x-tex">
0
</annotation>
</semantics></math> to <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
n
</mi>
</mrow>
<annotation encoding="application/x-tex">
n
</annotation>
</semantics></math>, <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
y
</mi>
</mrow>
<annotation encoding="application/x-tex">
y
</annotation>
</semantics></math> starts at <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
n
</mi>
</mrow>
<annotation encoding="application/x-tex">
n
</annotation>
</semantics></math> and decreases to <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mn>
0
</mn>
</mrow>
<annotation encoding="application/x-tex">
0
</annotation>
</semantics></math>. Importantly, it <em>only</em> decreases — it’s monotonic. So if we scan <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
x
</mi>
</mrow>
<annotation encoding="application/x-tex">
x
</annotation>
</semantics></math> from <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mn>
0
</mn>
</mrow>
<annotation encoding="application/x-tex">
0
</annotation>
</semantics></math> to <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
n
</mi>
</mrow>
<annotation encoding="application/x-tex">
n
</annotation>
</semantics></math>, we can find the next boundary <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
y
</mi>
</mrow>
<annotation encoding="application/x-tex">
y
</annotation>
</semantics></math> point by starting from the previous boundary point and searching downwards. Here’s some code:</p>
<figure>
<pre><code data-lang="d"><span>ulong</span> <span>y</span> <span>=</span> <span>n</span><span>,</span> <span>total</span><span>;</span>
<span>foreach</span> <span>(</span><span>x</span><span>;</span> <span>0.</span><span>.</span><span>n</span><span>+</span><span>1</span><span>)</span>
<span>{</span>
    <span>while</span> <span>(</span><span>sq</span><span>(</span><span>x</span><span>)</span> <span>+</span> <span>sq</span><span>(</span><span>y</span><span>)</span> <span>&gt;</span> <span>sq</span><span>(</span><span>n</span><span>))</span> <span>y</span><span>--;</span>
    <span>total</span> <span>+=</span> <span>y</span> <span>+</span> <span>1</span><span>;</span>
<span>}</span></code></pre>
</figure>
<p>This version still has nested loops, so it might look like it’s still <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
O
</mi>
<mo stretchy="false">
(
</mo>
<msup>
<mi>
n
</mi>
<mn>
2
</mn>
</msup>
<mo stretchy="false">
)
</mo>
</mrow>
<annotation encoding="application/x-tex">
O(n^2)
</annotation>
</semantics></math>. However, the inner <code>while</code> loop executes a
varying number of times for each <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
x
</mi>
</mrow>
<annotation encoding="application/x-tex">
x
</annotation>
</semantics></math> value. Often the <code>y--</code> doesn’t trigger at
all. In fact, because <code>y</code> starts from <code>n</code> and monotonically decreases to 0, we know the <code>y--</code> will be executed exactly <code>n</code> times in total. There’s no instruction in that code that executes more
than <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
O
</mi>
<mo stretchy="false">
(
</mo>
<mi>
n
</mi>
<mo stretchy="false">
)
</mo>
</mrow>
<annotation encoding="application/x-tex">
O(n)
</annotation>
</semantics></math> times, total, so the whole algorithm is <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
O
</mi>
<mo stretchy="false">
(
</mo>
<mi>
n
</mi>
<mo stretchy="false">
)
</mo>
</mrow>
<annotation encoding="application/x-tex">
O(n)
</annotation>
</semantics></math>.</p>
<p>With 64b <code>ulong</code> integers, the largest value of <code>n</code> that works before overflow is 4294967294:</p>
<figure>
<pre><code data-lang="shell">
$ ./pi_calc 4294967294
3.141592653058
</code></pre>
</figure>
<p>There are ways to get faster convergence using numerical integration tricks, but I like the way this algorithm only
uses integer arithmetic (up until the final division), and can be understood directly from simple diagrams.</p>
<h2 id="area-of-a-circle-without-calculus">Area of a circle without calculus</h2>
<p>Perhaps you feel a bit cheated because that algorithm assumes the <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
π
</mi>
<msup>
<mi>
r
</mi>
<mn>
2
</mn>
</msup>
</mrow>
<annotation encoding="application/x-tex">
\pi r^2
</annotation>
</semantics></math> formula for the area of a circle. Sure, that’s arguably included in “high school maths”, but it’s
something students just get told to remember, unless they study integral calculus and derive it that way. But if we’re
going to assume <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
π
</mi>
<msup>
<mi>
r
</mi>
<mn>
2
</mn>
</msup>
</mrow>
<annotation encoding="application/x-tex">
\pi r^2
</annotation>
</semantics></math>, why not assume the theory of trigonometric functions as well, and just use <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
π
</mi>
<mo>
=
</mo>
<mn>
4
</mn>
<mo lspace="0em" rspace="0.16667em">
atan
</mo>
<mo stretchy="false">
(
</mo>
<mn>
1
</mn>
<mo stretchy="false">
)
</mo>
</mrow>
<annotation encoding="application/x-tex">
\pi = 4\atan(1)
</annotation>
</semantics></math>?</p>
<p>The great ancient Greek mathematician Archimedes figured out the circle area over two thousand years ago without
integral calculus (or trigonometric functions for that matter). He started with an elegant insight about regular (i.e.,
equal-sided) polygons.</p>
<p>The famous <a href="https://mathcs.clarku.edu/~djoyce/java/elements/bookI/propI37.html">“half base times height”
formula for the area of a triangle already had a well-known proof in the first book of Euclid’s Elements of
Geometry</a> (easily derived from <a href="https://mathcs.clarku.edu/~djoyce/java/elements/bookI/propI35.html">a
theorem about parallelograms</a>). Conveniently, any regular polygon can be split into equal triangles joined to the
centre. For example, a regular hexagon splits into six triangles, as in the figure below. We can take any one of the
triangles (they’re all the same) and call the “base” the side that’s also a side of the polygon. Then the “height” is
the line from the centre of the base to the centre of the polygon.</p>
<figure role="img">
<a href="https://theartofmachinery.com/images/pi_from_high_school_maths/polygon.svg"><img src="https://theartofmachinery.com/images/pi_from_high_school_maths/polygon.svg" alt="Explanation of perimeter-to-area ratio of regular polygons"></a>
</figure>
<p>Now here’s Archimedes’s neat insight: The ratio of the triangle area to the base is <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mfrac>
<mi>
h
</mi>
<mn>
2
</mn>
</mfrac>
</mrow>
<annotation encoding="application/x-tex">
\frac{h}{2}
</annotation>
</semantics></math>. If you add up all the areas, you get the area of the polygon. Likewise, if you add up all the
bases, you get the perimeter of the polygon. Because the triangle area/base ratio is a constant <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mfrac>
<mi>
h
</mi>
<mn>
2
</mn>
</mfrac>
</mrow>
<annotation encoding="application/x-tex">
\frac{h}{2}
</annotation>
</semantics></math> for all triangles, the area/perimeter ratio for the whole polygon is the same <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mfrac>
<mi>
h
</mi>
<mn>
2
</mn>
</mfrac>
</mrow>
<annotation encoding="application/x-tex">
\frac{h}{2}
</annotation>
</semantics></math>. As a formula, the area of <em>any</em> regular polygon is <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
P
</mi>
<mo>
×
</mo>
<mfrac>
<mi>
h
</mi>
<mn>
2
</mn>
</mfrac>
</mrow>
<annotation encoding="application/x-tex">
P \times \frac{h}{2}
</annotation>
</semantics></math> (where <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
P
</mi>
</mrow>
<annotation encoding="application/x-tex">
P
</annotation>
</semantics></math> is the perimeter).</p>
<p>If you think of a circle as a regular polygon with infinitely many sides (so that <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
h
</mi>
</mrow>
<annotation encoding="application/x-tex">
h
</annotation>
</semantics></math> becomes the radius of the circle), and use the circle circumference (<math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mn>
2
</mn>
<mi>
π
</mi>
<mi>
r
</mi>
</mrow>
<annotation encoding="application/x-tex">
2\pi r
</annotation>
</semantics></math>) as your basic definition of <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
π
</mi>
</mrow>
<annotation encoding="application/x-tex">
\pi
</annotation>
</semantics></math>, then that implies the area of a circle is <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mn>
2
</mn>
<mi>
π
</mi>
<mi>
r
</mi>
<mo>
×
</mo>
<mfrac>
<mi>
r
</mi>
<mn>
2
</mn>
</mfrac>
<mo>
=
</mo>
<mi>
π
</mi>
<msup>
<mi>
r
</mi>
<mn>
2
</mn>
</msup>
</mrow>
<annotation encoding="application/x-tex">
2\pi r \times \frac{r}{2} = \pi r^2
</annotation>
</semantics></math>.</p>
<p>Of course, Archimedes was a respected mathematician who couldn’t get away with just assuming that anything true of a
polygon is true of a circle (counterexample: all polygons have bumpy corners, but circles don’t). He used the kind of
geometric proof by contradiction that was popular in his day. (He even took it further and analysed spheres, cylinders,
parabolas and other curved objects, almost inventing something like modern real analysis a couple of millenia early.)
Sadly, not all of his mathemetical work has survived, but <a href="https://flashman.neocities.org/ARCHCI1set.htm">the
key part of his Measurement of a Circle</a> has.</p>
<p>Here’s the high-level version. Archimedes claimed that the area of a circle is <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mn>
2
</mn>
<mi>
π
</mi>
<mi>
r
</mi>
<mo>
×
</mo>
<mfrac>
<mi>
r
</mi>
<mn>
2
</mn>
</mfrac>
</mrow>
<annotation encoding="application/x-tex">
2\pi r \times \frac{r}{2}
</annotation>
</semantics></math>. Suppose you think his value is too small, and the circle is really bigger than <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mn>
2
</mn>
<mi>
π
</mi>
<mi>
r
</mi>
<mo>
×
</mo>
<mfrac>
<mi>
r
</mi>
<mn>
2
</mn>
</mfrac>
</mrow>
<annotation encoding="application/x-tex">
2\pi r \times \frac{r}{2}
</annotation>
</semantics></math>. That means there’s enough room inside the circle to fit a regular polygon that’s also bigger than
<math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mn>
2
</mn>
<mi>
π
</mi>
<mi>
r
</mi>
<mo>
×
</mo>
<mfrac>
<mi>
r
</mi>
<mn>
2
</mn>
</mfrac>
</mrow>
<annotation encoding="application/x-tex">
2\pi r \times \frac{r}{2}
</annotation>
</semantics></math>. But Archimedes said that’s contradictory because for any such polygon, <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
h
</mi>
<mo>
&lt;
</mo>
<mi>
r
</mi>
</mrow>
<annotation encoding="application/x-tex">
h \lt r
</annotation>
</semantics></math>, and <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
P
</mi>
<mo>
&lt;
</mo>
<mn>
2
</mn>
<mi>
π
</mi>
<mi>
r
</mi>
</mrow>
<annotation encoding="application/x-tex">
P \lt 2\pi r
</annotation>
</semantics></math> (because each side of the polygon is a straight line that’s shorter than the circle arc that
connects the same points), so the area <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
A
</mi>
<mo>
=
</mo>
<mi>
P
</mi>
<mo>
×
</mo>
<mfrac>
<mi>
h
</mi>
<mn>
2
</mn>
</mfrac>
<mo>
&lt;
</mo>
<mn>
2
</mn>
<mi>
π
</mi>
<mi>
r
</mi>
<mo>
×
</mo>
<mfrac>
<mi>
r
</mi>
<mn>
2
</mn>
</mfrac>
</mrow>
<annotation encoding="application/x-tex">
A = P \times \frac{h}{2} \lt 2\pi r \times \frac{r}{2}
</annotation>
</semantics></math>. The polygon’s area can’t be both bigger and smaller than <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mn>
2
</mn>
<mi>
π
</mi>
<mi>
r
</mi>
<mo>
×
</mo>
<mfrac>
<mi>
r
</mi>
<mn>
2
</mn>
</mfrac>
</mrow>
<annotation encoding="application/x-tex">
2\pi r \times \frac{r}{2}
</annotation>
</semantics></math>.</p>
<figure role="img">
<a href="https://theartofmachinery.com/images/pi_from_high_school_maths/polygon_inner.svg"><img src="https://theartofmachinery.com/images/pi_from_high_school_maths/polygon_inner.svg" alt="A regular polygon inside a circle"></a>
</figure>
<p>Archimedes argued that there’s a similar contradiction if you think <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mn>
2
</mn>
<mi>
π
</mi>
<mi>
r
</mi>
<mo>
×
</mo>
<mfrac>
<mi>
r
</mi>
<mn>
2
</mn>
</mfrac>
</mrow>
<annotation encoding="application/x-tex">
2\pi r \times \frac{r}{2}
</annotation>
</semantics></math> is too big, and the circle area is smaller than that. In that case he could make a polygon that’s
also smaller than <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mn>
2
</mn>
<mi>
π
</mi>
<mi>
r
</mi>
<mo>
×
</mo>
<mfrac>
<mi>
r
</mi>
<mn>
2
</mn>
</mfrac>
</mrow>
<annotation encoding="application/x-tex">
2\pi r \times \frac{r}{2}
</annotation>
</semantics></math>, yet still wraps around the circle. For this polygon, <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
h
</mi>
<mo>
=
</mo>
<mi>
r
</mi>
</mrow>
<annotation encoding="application/x-tex">
h = r
</annotation>
</semantics></math>, but he said the perimeter of the polygon must be greater than <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mn>
2
</mn>
<mi>
π
</mi>
<mi>
r
</mi>
</mrow>
<annotation encoding="application/x-tex">
2\pi r
</annotation>
</semantics></math><sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup>, so that the
polygon’s area must be bigger than <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mn>
2
</mn>
<mi>
π
</mi>
<mi>
r
</mi>
<mo>
×
</mo>
<mfrac>
<mi>
r
</mi>
<mn>
2
</mn>
</mfrac>
</mrow>
<annotation encoding="application/x-tex">
2\pi r \times \frac{r}{2}
</annotation>
</semantics></math>, even though it’s also meant to be smaller.</p>
<figure role="img">
<a href="https://theartofmachinery.com/images/pi_from_high_school_maths/polygon_outer.svg"><img src="https://theartofmachinery.com/images/pi_from_high_school_maths/polygon_outer.svg" alt="A regular polygon around a circle"></a>
</figure>
<p>If both of those cases lead to contradiction, we’re left with the only alternative that the circle area is
<math xmlns="http://www.w3.org/1998/Math/MathML" display="inline">
<semantics>
<mrow>
<mi>
π
</mi>
<msup>
<mi>
r
</mi>
<mn>
2
</mn>
</msup>
</mrow>
<annotation encoding="application/x-tex">
\pi r^2
</annotation>
</semantics></math>.</p>

</div></div>]]>
            </description>
            <link>https://theartofmachinery.com/2020/10/26/pi_from_high_school_maths.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26076128</guid>
            <pubDate>Tue, 09 Feb 2021 11:11:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Compiler Class]]>
            </title>
            <description>
<![CDATA[
Score 130 | Comments 50 (<a href="https://news.ycombinator.com/item?id=26075930">thread link</a>) | @ingve
<br/>
February 9, 2021 | https://norswap.com/compilers/ | <a href="https://web.archive.org/web/*/https://norswap.com/compilers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    
<p>In 2021, I'm teaching a master-level compiler class at <a href="https://uclouvain.be/">Université catholique de
Louvain</a>.</p>
<p>All the course materials are made available online, for anyone interested to
peruse. I'm also happy to <a href="mailto:norswap+compiler+q@gmail.com">answer</a> your questions.</p>
<ul>
<li><a href="https://www.youtube.com/playlist?list=PLOech0kWpH8-njQpmSNGSiQBPUvl8v3IM">Youtube Playlist</a></li>
<li><a href="https://drive.google.com/drive/folders/1cMgLvEiaWsyfip8wJXXilVhvM2XDrS-6">Slides</a></li>
</ul>
<p>The course's project is to create your own programming language. A few libraries
are supplied to assist in this task:</p>
<ul>
<li><a href="https://github.com/norswap/autumn">Autumn</a> (parsing)</li>
<li><a href="https://github.com/norswap/uranium/">Uranium</a> (semantic analysis)</li>
</ul>
  </div></div>]]>
            </description>
            <link>https://norswap.com/compilers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26075930</guid>
            <pubDate>Tue, 09 Feb 2021 10:43:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Beginner's Guide to NFTs]]>
            </title>
            <description>
<![CDATA[
Score 83 | Comments 50 (<a href="https://news.ycombinator.com/item?id=26073970">thread link</a>) | @donohoe
<br/>
February 8, 2021 | https://linda.mirror.xyz/df649d61efb92c910464a4e74ae213c4cab150b9cbcc4b7fb6090fc77881a95d | <a href="https://web.archive.org/web/*/https://linda.mirror.xyz/df649d61efb92c910464a4e74ae213c4cab150b9cbcc4b7fb6090fc77881a95d">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><h3>What are NFTs?</h3>
<p>Non-fungible token (NFT) is a term used to describe a unique digital asset whose ownership is tracked on a blockchain, such as Ethereum. Assets that can be represented as NFTs range from digital goods, such as items that exist within virtual worlds, to claims on physical assets such as clothing items or real estate. In the coming years, we will see NFTs used to unlock entirely new use cases that are only made possible by crypto.</p>
<figure><p><img src="https://images.mirror-media.xyz/publication-images/9799dae1-c2c9-4712-813b-10b23c279a36.jpeg" alt="Tokens redeemable for real world goods on Zora"></p><figcaption>Tokens redeemable for real world goods on Zora</figcaption></figure>
<p>While the Ethereum ecosystem is where most NFT activity has taken place to date, NFTs can exist on other smart contract platforms too. This is because, at their core, NFTs are just digital abstractions used to represent assets that are one of a kind. Non-fungible token isn’t the most intuitive term since we don’t commonly refer to the fungibility of objects in the physical world, but this is an important technical distinction when it comes to how an asset is represented on a blockchain. The goal for this post is not to detail every project within the NFT space, but to give a high level overview of what NFTs are, why they are interesting, and showcase some of their potential use cases.</p>
<h3>Why are NFTs interesting?</h3>
<p>NFTs are powerful because, when combined with other financial building blocks on Ethereum, they allow anyone to issue, own, and trade them. This makes interacting with NFTs significantly more efficient than in traditional platforms. The same reason why cryptocurrency used in payments is more efficient than traditional payments, that it is borderless and significantly easier to transfer, applies to NFTs. For example, if you want to create tradable in-game items as a game developer, then you can instantly have them be tradable through protocols that allow for decentralized exchange of NFTs. You don’t have to create your own marketplace or go through the onboarding process of a centralized platform in order to have the items be tradable.</p>
<p>NFT activity can go well past trading and include actions like being able to borrow and lend, support fractional ownership (e.g. <a href="https://www.niftex.com/">NIFTEX</a>), or use it as collateral in taking out a loan (e.g. <a href="https://nftfi.com/">NFTfi</a>). The possibilities are endless when you have the ability to combine NFTs with DeFi building blocks. For example, the game <a href="http://aavegotchi.com/">Aavegotchi</a> combines DeFi and NFT gaming where each Aavegotchi character represents a user’s collateral that is deposited within the lending platform <a href="https://aave.com/">Aave</a>, but you can also battle the characters, level them up, and equip wearables that change their traits.</p>
<figure><p><img src="https://images.mirror-media.xyz/publication-images/a1259686-6b61-455a-a204-f6e6da648f10.jpeg" alt="Aavegotchi gaming attributes change based on actions taken in DeFi"></p><figcaption>Aavegotchi gaming attributes change based on actions taken in DeFi</figcaption></figure>
<p>NFTs can cover an extremely wide variety of areas given they are simply digital representations of ownership but there has been significant growth within art and gaming in particular. Note that many digital works of art and gaming items are a subset of a larger category of NFT collectibles. There is also the emerging space of social tokens, which sometimes falls into the NFT category or that is closely related to it.</p>
<h3>Art</h3>
<p>NFTs can make fractionalized ownership more accessible, so if there is a valuable item that otherwise wouldn’t have been accessible for someone to own, now they can own a piece of it. Custody of a physical item still requires a trustworthy custodian, but being able to issue, hold, and trade it as a cryptoasset unlocks more use cases. One can also craft an NFT such that the creator receives a percentage of all secondary sales in a completely automated way. Artists typically don’t receive a cut of secondary sales in the traditional art world.</p>
<p>Programmable art is another interesting concept where a piece of artwork can incorporate on-chain data to dynamically update certain features or characteristics of the work. For example, one could create a piece of programmable art whose background changes if the price of ether goes above a certain dollar-value. There are countless creative possibilities.</p>
<figure><p><img src="https://images.mirror-media.xyz/publication-images/a51670c0-4a1c-4aaf-917d-0e551855b56d.jpeg" alt="Rutger van der Tas artwork that changes based on if it’s day or night"></p><figcaption>Rutger van der Tas artwork that changes based on if it’s day or night</figcaption></figure>
<p><a href="https://async.art/">Async Art</a> is a digital art marketplace known for programmable art. Many artists on Async sell artwork where someone is able to own the “master” copy which consists of a number of individual layers, but other people can own the individual layers and adjust their attributes over time. Imagine groups of people being able to own art collectively, where members of the group manage attributes of the work.</p>
<figure><p><img src="https://images.mirror-media.xyz/publication-images/fea07c75-8b3c-4592-b8f2-f5d6d92e544c.jpeg" alt="Osinachi artwork that includes a master and layers that can be individually adjusted"></p><figcaption>Osinachi artwork that includes a master and layers that can be individually adjusted</figcaption></figure>
<p>A common question about digital artwork is what can you do with it? These works can be displayed in digital frames in a physical setting for people to enjoy. The digital artist Beeple sold physical tokens along with his digital NFTs and made <a href="https://niftygateway.com/itemdetail/primary/0x6e5dc5405baefb8c0166bcc78d2692777f2cbffb/21">$3.5 million</a> from sales in an auction on the Nifty Gateway marketplace.</p>
<figure><p><img src="https://images.mirror-media.xyz/publication-images/8689be31-b33f-46ac-94aa-feea3a1b3dd1.jpeg" alt="Artist Beeple’s physical token that came with the NFT sale"></p><figcaption>Artist Beeple’s physical token that came with the NFT sale</figcaption></figure>
<p>Digital artwork can also be displayed in online collections like a <a href="https://superrare.co/thevault/collection">SuperRare profile</a> as well as in virtual worlds. There are a number of art galleries within <a href="http://cryptovoxels.com/">Cryptovoxels</a>, a virtual world where users can buy and sell land parcels as NFTs. As virtual reality spaces become more popular, having digital art to display will become more common. This wouldn’t be much different than someone spending money on video game items to customize a character’s appearance, already a multi-billion dollar industry.</p>
<figure><p><img src="https://images.mirror-media.xyz/publication-images/7386d358-d43d-4934-9ea5-b51c33932365.jpeg" alt="Digital art gallery in Cryptovoxels"></p><figcaption>Digital art gallery in Cryptovoxels</figcaption></figure>
<p>A common skepticism is that someone can just take a screenshot of the image or get a digital file so it’s not really scarce. However, the same argument could apply to physical items as well. Anyone can take a photo of the Mona Lisa or create a replica of it, but it isn’t the real item from the artist. People are willing to pay a premium for the original work. Another interesting aspect of digital art or collectibles is that you can easily verify the item’s ownership history. Some digital items might be worth more depending on who owned it in the past.</p>
<p>With NFTs, you can also prove that the item is real and tamper proof. This is an issue in the physical collectibles space. For example, a <a href="https://en.wikipedia.org/wiki/T206_Honus_Wagner">T206 Honus Wagner baseball card</a> was sold to Wayne Gretzky for $451k and sold again for several million dollars. One of the sellers of the card later admitted in court to trimming the card’s edges to make it look better. You can ensure NFT supply doesn’t change and there’s no counterfeit or continued printing. For example, there are many <a href="https://www.youtube.com/watch?v=AAvLC3fz068&amp;">counterfeit Black Lotus</a> cards in the popular game Magic: The Gathering. Common verification methods include bending the card to make sure it doesn’t crease or going through centralized grading services whose rating significantly affects the card's value.</p>
<h3>Gaming</h3>
<p>Steam, a popular video game platform, has a <a href="https://steamcommunity.com/market/?">Community Market</a> where in-game items can be bought and sold. Steam’s marketplace is centralized and collects a transaction fee of 5% for each item from the buyer. Games like Team Fortress 2 and Dota 2 take an additional fee of 10% for their items sold.</p>
<figure><p><img src="https://images.mirror-media.xyz/publication-images/4ad85fcf-b986-4b60-9fb5-925200fde3a9.jpeg" alt="Steam Community Market"></p><figcaption>Steam Community Market</figcaption></figure>
<p>Steam also restricts user wallet balances to $2,000 and the price of a single item to $1,800. While these cases are outliers, many in-game items can actually sell for significantly larger amounts such as the <a href="https://www.engadget.com/2013-11-06-dota-2-pink-war-dog-courier-sells-for-38-000.html">DotA 2 pink war dog courier</a> for $38,000. Within the crypto space there have also been high priced sales such as the $170,000 <a href="https://thenextweb.com/hardfork/2018/09/05/most-expensive-cryptokitty/">CryptoKitty</a>. Similarly Magic: The Gathering’s coveted <a href="https://www.polygon.com/2019/3/5/18251623/magic-the-gathering-black-lotus-auction-price">Black Lotus</a> card sold for $166,100. There is certainly demand for valuable in-game items. In decentralized marketplaces, there isn’t a limit imposed on what game items can be sold and for what amount.</p>
<p>Decentralized marketplaces can significantly reduce transaction fees due to the improved efficiency of starting up and operating a marketplace. Marketplaces can also improve overall user experience and increase interest in the game. Hearthstone is a wildly popular digital collectible card game created by Blizzard Entertainment that had over <a href="https://variety.com/2018/gaming/news/hearthstone-has-over-100-million-players-1203019919/">100 million players</a> in 2018. Hearthstone opted to not have a marketplace for their cards which leaves opportunity for other digital collectible card games that allow for an open marketplace. <a href="https://godsunchained.com/">Gods Unchained</a> and <a href="https://www.skyweaver.net/">SkyWeaver</a> are two trading card games (TCGs) that have cards that are freely tradable. You are also able to earn cards as you level up in the game. Players that did not purchase packs of cards will still be able to improve upon the game’s default decks. It’s an exciting feeling knowing that the earned cards have real world value and can be sold or traded for other cards. Gods Unchained also lets users earn tokens for when they win a match or refer their friend. The tokens themselves unlock rare in-game items and are also freely tradable.</p>
<figure><p><img src="https://images.mirror-media.xyz/publication-images/aa82c586-39b6-46b1-ae55-cb8a2e44c8e1.jpeg" alt="Gods Unchained"></p><figcaption>Gods Unchained</figcaption></figure>
<p>One of the most popular games in crypto is <a href="https://axieinfinity.com/">Axie Infinity</a>. You battle with a team of pet Axies and level them up. There's no aspect of the gameplay that feels like a blockchain game but there is the added benefit of being able to openly trade the Axies on NFT marketplaces such as <a href="https://opensea.io/">OpenSea</a>. The game has become popular in the <a href="https://www.coindesk.com/nft-game-filipinos-covid">Philippines</a> and earning tokens from the game has become a viable source of income for players even <a href="https://www.playtoearn.online/2020/07/08/axie-infinity-beats-minimum-wage-in-many-countries/">beating minimum wage</a> in many countries. There is also a decentralized autonomous organization (DAO) called <a href="https://yieldguild.io/">Yield Guild Games</a> which leases Axies to players that want to get started with the game but don’t have the funds to purchase them. Several rare Axies were even <a href="https://www.delphidigital.io/reports/why-we-spent-159k-on-digital-battle-pets-2/">purchased</a> for $159,000 total.</p>
<figure><p><img src="https://images.mirror-media.xyz/publication-images/26353bcc-0d05-47ea-89ac-fcdc9d2dd848.jpeg" alt="Axie Infinity battle"></p><figcaption>Axie Infinity battle</figcaption></figure>
<p>There’s another popular game <a href="https://zkga.me/">Dark Forest</a> where you can explore different planets and collect Artifact NFTs on new planets, which give bonuses when attached to the planet. Being able to discover and collect these items or even win them in a battle and then trade them in decentralized marketplaces can make the game even more fun.</p>
<figure><p><img src="https://images.mirror-media.xyz/publication-images/be66b61a-05f0-46b7-aa8f-f7ed542d5cd3.jpeg" alt="Planet in Dark Forest which has an Artifact NFT"></p><figcaption>Planet in Dark Forest which has an Artifact NFT</figcaption></figure>
<p>One concern with making in-game items tradable is that the ability to trade items can negatively affect the gameplay as people are focused on …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://linda.mirror.xyz/df649d61efb92c910464a4e74ae213c4cab150b9cbcc4b7fb6090fc77881a95d">https://linda.mirror.xyz/df649d61efb92c910464a4e74ae213c4cab150b9cbcc4b7fb6090fc77881a95d</a></em></p>]]>
            </description>
            <link>https://linda.mirror.xyz/df649d61efb92c910464a4e74ae213c4cab150b9cbcc4b7fb6090fc77881a95d</link>
            <guid isPermaLink="false">hacker-news-small-sites-26073970</guid>
            <pubDate>Tue, 09 Feb 2021 04:42:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Turning an old Amazon Kindle into a eInk development platform]]>
            </title>
            <description>
<![CDATA[
Score 369 | Comments 91 (<a href="https://news.ycombinator.com/item?id=26073463">thread link</a>) | @miles
<br/>
February 8, 2021 | https://blog.lidskialf.net/2021/02/08/turning-an-old-kindle-into-a-eink-development-platform/ | <a href="https://web.archive.org/web/*/https://blog.lidskialf.net/2021/02/08/turning-an-old-kindle-into-a-eink-development-platform/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<section id="primary">
		<main id="main">

			
<article id="post-1721">

	

	
			<figure>
				<img width="998" height="1331" src="https://adq454703481.files.wordpress.com/2021/02/kindle_serial_magnified.jpg?w=998" alt="" loading="lazy" srcset="https://adq454703481.files.wordpress.com/2021/02/kindle_serial_magnified.jpg 998w, https://adq454703481.files.wordpress.com/2021/02/kindle_serial_magnified.jpg?w=112 112w, https://adq454703481.files.wordpress.com/2021/02/kindle_serial_magnified.jpg?w=225 225w, https://adq454703481.files.wordpress.com/2021/02/kindle_serial_magnified.jpg?w=768 768w" sizes="(max-width: 998px) 100vw, 998px" data-attachment-id="1751" data-permalink="https://blog.lidskialf.net/kindle_serial_magnified/" data-orig-file="https://adq454703481.files.wordpress.com/2021/02/kindle_serial_magnified.jpg" data-orig-size="998,1331" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="kindle_serial_magnified" data-image-description="" data-medium-file="https://adq454703481.files.wordpress.com/2021/02/kindle_serial_magnified.jpg?w=225" data-large-file="https://adq454703481.files.wordpress.com/2021/02/kindle_serial_magnified.jpg?w=768">			</figure><!-- .post-thumbnail -->

		
	<div>
		
<p>I fancied getting an eink screen to use for future projects. I bought a wee one with a raspberry pi “hat” attached. However, I realised later that I could maybe just re-purpose an old Amazon Kindle ebook reader.</p>



<p>I’ve messed with Kindles before, ages ago: I ported an <a href="https://blog.lidskialf.net/2010/10/09/kif-an-infocom-text-adventure-interpreter-for-the-kindle/">Infocom interpreter</a> and a <a href="https://blog.lidskialf.net/2010/10/20/mangle-a-better-manga-reader-for-the-kindle/">Manga</a> reader to it. I managed to get Amazon’s own software to load them as “Kindlets” and show them integrated into their ebook reader. However, now I just want a nice cheap Linux based eink development platform.</p>



<p>Cheap Kindle From Ebay (and why)</p>



<p>So, off to ebay I went! I saw a number of really cheap ones marked “BLOCKED BY AMAZON”; I decided not to go for these since theoretically they might have been stolen. In the end, I went for £7 Kindle 4 “non-touch”.</p>



<p>A few days later, it turned up. And I discovered <em>why</em> it might have been so cheap: its stuck in some sort of unquittable demo mode:</p>



<figure><img data-attachment-id="1725" data-permalink="https://blog.lidskialf.net/kindle_demo_mode/" data-orig-file="https://adq454703481.files.wordpress.com/2021/02/kindle_demo_mode.jpg" data-orig-size="892,1239" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="kindle_demo_mode" data-image-description="" data-medium-file="https://adq454703481.files.wordpress.com/2021/02/kindle_demo_mode.jpg?w=216" data-large-file="https://adq454703481.files.wordpress.com/2021/02/kindle_demo_mode.jpg?w=737" src="https://adq454703481.files.wordpress.com/2021/02/kindle_demo_mode.jpg?w=737" alt="" srcset="https://adq454703481.files.wordpress.com/2021/02/kindle_demo_mode.jpg?w=737 737w, https://adq454703481.files.wordpress.com/2021/02/kindle_demo_mode.jpg?w=108 108w, https://adq454703481.files.wordpress.com/2021/02/kindle_demo_mode.jpg?w=216 216w, https://adq454703481.files.wordpress.com/2021/02/kindle_demo_mode.jpg?w=768 768w, https://adq454703481.files.wordpress.com/2021/02/kindle_demo_mode.jpg 892w" sizes="(max-width: 737px) 100vw, 737px"></figure>



<p>I did some googling and although it seems later Kindle versions can be un-demo-mode-ed, nothing seemed to work for this version. I don’t actually care though; I don’t want to run the original Kindle ebook software on this.</p>



<p>So, the next step is to gain access. Browsing the <a href="https://www.mobileread.com/forums/showthread.php?t=166687">mobileread forums</a> showed it has a debug serial port: time to open the case!</p>



<p>Physical Access Granted!</p>



<p>This was kinda tricky! There are multiple clips all round it and the case is glued onto the battery compartment, so judicious application of a Big Knife was required to persuade it to let go. I cleaned the glue up with some Acetone.</p>



<figure><img data-attachment-id="1729" data-permalink="https://blog.lidskialf.net/kindle_illustrated/" data-orig-file="https://adq454703481.files.wordpress.com/2021/02/kindle_illustrated.jpg" data-orig-size="998,1331" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="kindle_illustrated" data-image-description="" data-medium-file="https://adq454703481.files.wordpress.com/2021/02/kindle_illustrated.jpg?w=225" data-large-file="https://adq454703481.files.wordpress.com/2021/02/kindle_illustrated.jpg?w=768" src="https://adq454703481.files.wordpress.com/2021/02/kindle_illustrated.jpg?w=768" alt="" srcset="https://adq454703481.files.wordpress.com/2021/02/kindle_illustrated.jpg?w=768 768w, https://adq454703481.files.wordpress.com/2021/02/kindle_illustrated.jpg?w=112 112w, https://adq454703481.files.wordpress.com/2021/02/kindle_illustrated.jpg?w=225 225w, https://adq454703481.files.wordpress.com/2021/02/kindle_illustrated.jpg 998w" sizes="(max-width: 768px) 100vw, 768px"></figure>



<ul><li>Red: annoying clips</li><li>Purple: <strong>really</strong> annoying glue.</li><li>Yellow: the serial port!</li></ul>



<p>As usual for this sort of thing, the serial port is missing its socket, so we need to solder onto the tiny contacts on the board. I like to use ~0.2mm wirewrap wire for this sort of thing, and the surface mount rework bit for my soldering iron:</p>







<p>I don’t want to leave any wires flapping about, but I also know at some point I’m going to screw up and need serial port console access, so I came up with a solution and attached it:</p>







<p>I superglued a piece of Veroboard onto the kindle’s PCB, then soldered wirewrap wires from the tiny PCB contacts onto one end. Finally, I soldered a larger, more conventional “Dupont” cable socket on the other end so I could easily attach and detach from it. Oh, the top cable on the Kindle PCB is 0v/GND, the others are TX and RX (I forget the order of those two).</p>



<p>Final hurdle: the kindle serial port runs at 1.8v, so I needed a serial port adaptor which supports that:</p>



<figure><img data-attachment-id="1737" data-permalink="https://blog.lidskialf.net/kindle_usbserial/" data-orig-file="https://adq454703481.files.wordpress.com/2021/02/kindle_usbserial.jpg" data-orig-size="545,828" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="kindle_usbserial" data-image-description="" data-medium-file="https://adq454703481.files.wordpress.com/2021/02/kindle_usbserial.jpg?w=197" data-large-file="https://adq454703481.files.wordpress.com/2021/02/kindle_usbserial.jpg?w=545" src="https://adq454703481.files.wordpress.com/2021/02/kindle_usbserial.jpg?w=545" alt="" srcset="https://adq454703481.files.wordpress.com/2021/02/kindle_usbserial.jpg 545w, https://adq454703481.files.wordpress.com/2021/02/kindle_usbserial.jpg?w=99 99w, https://adq454703481.files.wordpress.com/2021/02/kindle_usbserial.jpg?w=197 197w" sizes="(max-width: 545px) 100vw, 545px"></figure>



<p>The one I bought does 5v. 3.3v, 2.5v, and 1.8v: it’s pretty neat!</p>



<p>Root Access Granted!</p>



<p>Next, I attached the serial adapter to my laptop, ran the <strong>minicom</strong> serial port software and rebooted the Kindle. Then, once I (inevitably) swapped the TX and RX wires around, I was greeted by this!</p>



<pre><code>U-Boot 2009.08-lab126 (Aug 29 2012 - 12:55:24)

CPU:   Freescale i.MX50 family 1.1V at 800 MHz
mx50 pll1: 800MHz
mx50 pll2: 400MHz
mx50 pll3: 216MHz
ipg clock     : 50000000Hz
ipg per clock : 50000000Hz
uart clock    : 24000000Hz
ahb clock     : 100000000Hz
axi_a clock   : 400000000Hz
axi_b clock   : 200000000Hz
weim_clock    : 100000000Hz
ddr clock     : 800000000Hz
esdhc1 clock  : 80000000Hz
esdhc2 clock  : 80000000Hz
esdhc3 clock  : 80000000Hz
esdhc4 clock  : 80000000Hz
MMC:  FSL_ESDHC: 0, FSL_ESDHC: 1
Board: Tequila
Boot Reason: [POR]
Boot Device: MMC
Board Id: 0031701123730Z56
S/N: B02317022392005M
Initing MDDR memory
ZQ calibration complete: 0x128=0xfffe0010 0x12C=0xffffffff
DRAM:  256 MB
Using default environment

In:    serial
Out:   logbuff
Err:   logbuff
Quick Memory Test 0x70000000, 0x10000000
POST done in 13 ms
Hit any key to stop autoboot:  0 
## Booting kernel from Legacy Image at 70800000 ...
   Image Name:   Linux-2.6.31-rt11-lab126
   Image Type:   ARM Linux Kernel Image (uncompressed)
   Data Size:    4777568 Bytes =  4.6 MB
   Load Address: 70008000
   Entry Point:  70008000
   Verifying Checksum ... OK
   Loading Kernel Image ... OK
OK
Starting kernel ...

[snip]

Welcome to Kindle!

kindle login: </code></pre>



<p>Great, so that’s booting the uboot bootloader, then booting into linux and asking me to login.</p>



<p>Trying to login as root prompts for a password: Hmm… However, I already knew from previous Kindle stuff that you can generate the password from the serial number. I found <a href="https://www.sven.de/kindle/">this website</a> which generates a number of possible passwords for a specific device: Mine was the third on the list.</p>



<p>In case that site dies here’s the key snippet of Javascript:</p>



<pre><code>var md5 = hex_md5(serial);
document.getElementById("rootpw").innerHTML = "fiona" + md5.substring(7,11);
document.getElementById("rootpw2").innerHTML = "fiona" + md5.substring(7,10);
document.getElementById("rootpw3").innerHTML = "fiona" + md5.substr(13,3);</code></pre>



<p>Oh: I forgot to mention how I extracted the device’s serial number. Well, plugging it into USB doesn’t really “work”: you can’t mount these demo devices as disks. But, under linux, it still outputs the serial number in linux’s <strong>dmesg</strong> output (you can also get it using <strong>printenv</strong> in uboot if you press enter when it says “Hit any key to stop autoboot”):</p>



<pre><code>[128033.676587] usb 1-2: new high-speed USB device number 51 using xhci_hcd
[128033.829631] usb 1-2: New USB device found, idVendor=1949, idProduct=0004, bcdDevice= 1.00
[128033.829638] usb 1-2: New USB device strings: Mfr=1, Product=2, SerialNumber=3
[128033.829642] usb 1-2: Product: Amazon Kindle
[128033.829645] usb 1-2: Manufacturer: Amazon
[128033.829648] usb 1-2: SerialNumber: XXXXXXXXXXXXXXXX
</code></pre>



<p>Cool! We have root and can login! Now to figure out how to make it a bit easier to do stuff on it.</p>



<p>Dumping The System</p>



<p>First step is usually to dump the disks for analysis on another computer.</p>



<p>Checking <code>/proc/mounts</code> shows multiple partitions of the main disk on <code>/dev/mmcblk0</code>.</p>



<p>Running <code>fdisk /dev/mmcblk0</code> gives the following:</p>



<pre><code>Units = cylinders of 64 * 512 = 32768 bytes

        Device Boot      Start         End      Blocks  Id System
/dev/mmcblk0p1   *        1025       12224      358400  83 Linux
/dev/mmcblk0p2           12225       14272       65536  83 Linux
/dev/mmcblk0p3           14273       15296       32768  83 Linux
/dev/mmcblk0p4           15297       59776     1423360   b Win95 FAT32</code></pre>



<ul><li>So, four partitions, three linux, and one FAT32. </li><li>The first disk starts quite far into the disk: turns out the kernel is stored in that “missing” area. </li><li>Poking about a bit more shows partition 1 is the normal system, 2 is a sort of diagnostic tool partition, 3 is for storing internal private state of the kindle (eg wifi passwords). Finally, 4 is the one you see when you plug a kindle in over USB: its where your books would reside.</li><li>Partition 4 is mounted at /mnt/us.</li></ul>



<p>I dumped the start of the disk and partitions 1-3 onto /mnt/us using dd (I like to take a complete raw image if I can so I can restore it in case something goes wrong):</p>



<pre><code>dd if=/dev/mmcblk0 of=/mnt/us/kindle.img bs=32768 count=15297</code></pre>



<p>Although this Kindle doesn’t show a disk over USB, since I have root, I can simply make it do it:</p>



<pre><code>rmmod g_file_storage
modprobe g_file_storage file=/dev/mmcblk0p4</code></pre>



<p>It popped up on my laptop so I copied everything off.</p>



<p>System Analysis</p>



<p>Finally, I mounted the partitions in kindle.img on my laptop with:</p>



<pre><code>kpartx -v kindle.img</code></pre>



<p>I could then mount the individual partitions on my laptop. I extracted all the files into a folder so I could poke around them and grep them easily. I figured out:</p>



<ul><li>It uses <code>rc.d</code> as its system init system, so there are lots of nice plain text scripts.</li><li>Init level 5 is the “normal” system running the ebook software</li><li>The ebook software is in <code>/opt/amazon</code> and is in Java (I kinda already knew this, but needed a quick refresher).</li><li>There’s a whole load of interesting plain text “diag” scripts for testing.</li><li>There’s a rather nifty <code>wifid</code> daemon for managing the wifi connection: I figured out how to talk to this from the diag scripts.</li><li>You can write to the eink screen from the command line using the <code>/usr/sbin/eips</code> command (<a href="https://wiki.mobileread.com/wiki/Eips">docs here</a>).</li><li>I couldn’t find an obvious “turn off demo mode” switch: it appears the demo mode is a customised build of the Java ebook software.</li><li>The following system services are to do with unsupported features, the ebook software, or talking back to amazon: <code>S50wan S70wand S75phd S81usbnetd S93webreaderd S94browserd S95framework S96boot_finished</code>.</li></ul>



<p>Talking To Wifid</p>



<p>You can use the built in wifid to connect to wifi and manage your wifi profiles. Oh, also, remember many Kindles only support 2.4Ghz wifi when you wonder why it isn’t working 😉</p>



<p><strong>List number of WIFI profiles:</strong></p>



<p><code>lipc-get-prop com.lab126.wifid profileCount</code></p>



<p><strong>Show contents of a WIFI profile:</strong></p>



<p><code>echo "{index=(0)}" | lipc-hash-prop com.lab126.wifid profileData</code></p>



<p><strong>Delete a WIFI profile:</strong></p>



<p><code>lipc-set-prop com.lab126.wifid deleteProfile WIFIESSID</code></p>



<p><strong>Create a WIFI profile:</strong></p>



<p><code>echo '{essid="WIFIESSID", smethod="wpa2", secured="yes", psk="WIFIPSK"}' | lipc-hash-prop com.lab126.wifid createProfile</code></p>



<p>smethod can be one of open,wep,wpa,wpa2 (if you choose open, set secured to “no”)</p>



<p>WIFIPSK is the WIFI PSK as generated with the <code>wpa_passphrase</code> utility (which is actually on the kindle): a normal “wifi passphrase” will not work.</p>



<p><strong>Connect a WIFI profile:</strong></p>



<p><code>lipc-set-prop com.lab126.wifid cmConnect WIFIESSID</code></p>



<p><strong>Show WIFI connection status:</strong></p>



<p><code>echo "{index = (0)}" | lipc-hash-prop -n com.lab126.wifid currentEssid</code></p>



<p>Making Changes To Root</p>



<p>Many of the following instructions need to change the root disk on the kindle. However, by default it is mounted in read only mode, preventing modification. To fix, run this command on the kindle:</p>



<pre><code>mntroot rw</code></pre>



<p>When done, set it back to read only mode to prevent any unwanted changes:</p>



<pre><code>mntroot ro</code></pre>



<p>Installing Dropbear SSH</p>



<p>I wanted to be able to ssh into my kindle, so I needed to install the <a href="https://matt.ucc.asn.au/dropbear/dropbear.html">dropbear</a> ssh daemon. Of course this is an ARM based device, so I either had to compile it myself or find it somewhere. Luckily …</p></div></article></main></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.lidskialf.net/2021/02/08/turning-an-old-kindle-into-a-eink-development-platform/">https://blog.lidskialf.net/2021/02/08/turning-an-old-kindle-into-a-eink-development-platform/</a></em></p>]]>
            </description>
            <link>https://blog.lidskialf.net/2021/02/08/turning-an-old-kindle-into-a-eink-development-platform/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26073463</guid>
            <pubDate>Tue, 09 Feb 2021 03:21:45 GMT</pubDate>
        </item>
    </channel>
</rss>
