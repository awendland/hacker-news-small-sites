<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 50]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 50. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Thu, 03 Dec 2020 20:27:55 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-50.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Thu, 03 Dec 2020 20:27:55 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Front: The $1.3B Startup Slackifying Email]]>
            </title>
            <description>
<![CDATA[
Score 129 | Comments 118 (<a href="https://news.ycombinator.com/item?id=25272533">thread link</a>) | @bdr
<br/>
December 1, 2020 | https://sacra.com/research/front-inside-the-startup-slackifying-email/? | <a href="https://web.archive.org/web/*/https://sacra.com/research/front-inside-the-startup-slackifying-email/?">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="appMain">
      <article>
        <header>
          
          
          <div>
            <p><img src="https://images.prismic.io/sacra/869b3341-1d4e-4cdd-abfc-731301d0af9d_CleanShot+2020-09-04+at+16.02.20%402x.png?auto=compress,format&amp;rect=48,0,1148,1148&amp;w=48&amp;h=48"></p><address>
              Jan-Erik Asplund
            </address>
            <p><time pubdate="" datetime="12-01-2020">Published Dec 01st, 2020</time>
          </p></div>
        </header>
        <section>
           <p><em>This report contains forward-looking statements regarding the companies reviewed as part of this report that are based on beliefs and assumptions and on information currently available to us during the preparation of this report. In some cases, you can identify forward-looking statements by the following words: “will,” “expect,” “would,” “intend,” “believe,” or other comparable terminology. Forward-looking statements in this document include, but are not limited to, statements about future financial performance, business plans, market opportunities and beliefs and company objectives for future operations. These statements involve risks, uncertainties, assumptions and other factors that may cause actual results or performance to be materially different. We cannot assure you that any forward-looking statements contained in this report will prove to be accurate. These forward-looking statements speak only as of the date hereof. We disclaim any obligation to update these forward-looking statements.</em></p><h2 id="email-is-just-a-wedge">Email is just a wedge</h2><p>Slack's meteoric growth won the headlines, generated case studies, and drew the admiration of venture capitalists and Wall Street investors alike.</p><p>But there's another company that—albeit growing more slowly—may have a much higher ceiling than the intra-team chat app.</p><p>Front is like Slack for your email, except instead of creating another distracting, noisy, always-on tool, Front allows users to spin up ephemeral chats within email threads themselves. </p><p>Instead of forwarding an email to a colleague or going into Slack to ask them a question that relates to a customer question or request, you can tag them into the thread and have a quick chat right in the context that's most useful.</p><p>At first, this sounds like a localized version of Slack—a niche tool. And Front was, at first, popular mostly with support teams and other teams that deal with a high volume of customer inquiries. But over time, Front has grown from being a product for a specific kind of workflow to being a tool that people use across organizations.</p><p>The fact is that most companies are still stuck in time from twenty years ago when it comes to managing how they triage, assign, and respond to all those emails. That's a big pain point, because as it turns out, a lot of the critical work that companies do takes place over email. </p><p>What Front has realized is that owning the orchestration and collaboration around email puts them in a position to “back into” $66B worth of vertical markets—CRM, project management, knowledge management, conversational marketing, and others.</p><p>To show the size of that opportunity and demonstrate the progress that Front has made towards its goal in this report, we aggregated all the public data out there on Front, then extrapolating and interpolating to fill in the gaps using backchannels to confirm our numbers.&nbsp;</p><p>We learned that Front, like Slack, has consumer-grade engagement, elite compounding revenue from their land and expand strategy, and increasingly broad adoption inside teams.</p><p>By focusing on external vs. internal communication, however, Front may also have a TAM that is several times as large as Slack's.</p><h2 id="front-s-roadmap-to--2b--4b--20b">Front's roadmap to $2B/$4B/$20B</h2><ul><li><strong>Our financial model values Front at $1.3B, with a price per share around $11.</strong> At their Series C in January, they were valued at $920M, or about $7.70~ per share.</li><li><strong>Front is currently trading on the secondary market between $7.25 and $9.00 per share.</strong> 5-year IRR for each scenario in our model ranges from 3% to 22% in the bear case, 22% to 46% in the base case, and 84% to 118% in the bull case.</li><li><strong>Front is like Slack for email</strong>. It is a multiplayer tool that lets teams better communicate—via chatting with other team members within the context of a personal or shared inbox—and coordinate—via tagging, rules, and 3rd-party integrations—how they respond to email.</li><li><strong>Front's 72% DAU/MAU ratio is on par with elite, consumer-grade apps</strong>. WhatsApp was at 70% pre-Facebook acquisition. Combined with its 148 minutes of average active daily usage (compare to Slack at 90 minutes) Front effectively has the engagement of a high-grade consumer app.</li><li><strong>Front's 137% net dollar retention demonstrates they are landing and expanding with an extremely efficient bottom-up model.</strong> Compare to 143% for Slack at IPO and 140% for Zoom at IPO.</li><li><strong>Zendesk and Intercom pose a threat because they have much deeper access to customer data. </strong>Intercom embeds itself in their customers' websites, giving them direct insight into the behavior of their customers, while Zendesk serves as a centralized hub for all things sales, support, and/or knowledge management for hundreds of thousands of companies.</li><li><strong>However, Front's high engagement platform makes them attractive to third-party developers. </strong>The more activity Front can promote on its platform, and the larger the variety of integrations their customers are using, the more adoption they'll have inside organizations and the wider their moat—based on the cost of switching away to another email product—will become.</li><li><strong>Expanding across organization opens up the opportunity to "back into" $66B worth of adjacent vertical markets </strong>. While today Front is focused on facilitating third-party integrations to tools like Hubspot, Marketo, and Salesforce, building their own versions of these products would allow them to (at minimum, and per product) 2-3x their average revenue per user—today, Zendesk's Enterprise plan costs $199 a seat, while Front's most expensive plan is just $79 per seat.</li><li><strong>Building their own vertical solutions also puts Front on a converging course with Salesforce ($226B), Microsoft ($1.63T), and Google ($1.19T).</strong> Front's endgame is essentially to recreate the Google or Office 365 suite. But Microsoft was able to overtake Slack's active user count within just two years—a company that had similar ambitions. The threat Microsoft/Google pose and their ability to freely push copycat products to a user base of millions could make it extremely challenging for Front to move upmarket and reach enterprise scale.</li><li><strong>Front's product also makes them an attractive acquisition target. </strong>Rather than attempt to build their own team email product, Microsoft and/or Google could buy Front. That said, Salesforce is the company most likely to acquire Front—both because they don't have any email tool of their own yet and because there's no risk of cannibalization or customer confusion as there would be with a Microsoft/Google acquisition.</li><li><strong>Ultimately, Front’s consumer-grade engagement and ability to achieve org-wide adoption position them well to compete on their own in the cloud productivity space</strong>. Most deep workflow products serve specific functional units (Intercom, Zendesk, Salesforce) while products that serve whole teams (Outlook, Gmail) have only superficial access to customer data. Front, on the other hand, is a workflow product and an org-wide tool all in one: a combination that could make them a formidable competitor even to the 800 lb. gorillas of B2B SaaS.
</li></ul><h2 id="valuation--front-is-worth--1-3b">Valuation: Front is worth $1.3B</h2><p>Today, based on our model, we estimate Front is worth about $1.3B, with a fair share price of $9.5 to $11.</p><p>That’s up 40% from Front’s Series C, which valued the company at about $7.7 per share or $920M post-money. At the time, Front was at $26M ARR growing 5% CMGR6 for a 35x multiple.&nbsp;</p><p>Today, we project Front is at about $38M ARR or $3.1M MRR, growing 3% CMGR6.&nbsp;</p><img src="https://images.prismic.io/sacra/731caebc-6ce9-4c26-8451-56f39d4618df_image13.png?auto=compress,format"><p><em>Applying the 35x multiple from Front’s last round to their current $38M revenue run rate gives us a valuation of $1.3B and an implicit per share price of $11. <a href="https://sacra.com/research/front-initiating-coverage-research-report/access" rel="noopener noreferrer" target="_blank">Click here</a> to get the full data set.</em></p><p>Slack, for reference, was growing at 12% CMGR6 at the same ARR. According to our model, Front hasn’t grown at more than 10% CMGR6 since the summer of 2017, with growth hanging steady around 5% CMGR between April 2019 and early 2020, then declining slightly with the onset of COVID-19 in March.&nbsp;</p>
        <div>
            <p><img src="https://images.prismic.io/sacra/898c9394-e3df-4252-9a04-11f7995f0454_image33.png?auto=compress,format"></p><div>
                <div>
                    <p>Get the full report on Front, with historical financials, appendix, and valuation framework.</p>
                    <p><a href="https://sacra.com/research/front-initiating-coverage-research-report/access" target="_blank" rel="noreferrer" content="never">Buy</a>
                </p></div>
            </div>
        </div>
    <p><em>Front today is at about $3.1M MRR, growing at 3% CMGR6. <a href="https://sacra.com/research/front-initiating-coverage-research-report/access" rel="noopener noreferrer" target="_blank">Click here</a> to get the full data set.</em></p><p>Front’s relatively slow and steady growth has been buoyed by impressive net dollar retention, though: 150% by their Series B and 137% by their Series C.&nbsp;</p><p>A large percentage of Front’s revenue comes from expansion versus bringing on new customers—based on our model, Front could grow at 2.66% monthly without any further investment in new customer acquisition.</p>
        <div>
            <p><img src="https://images.prismic.io/sacra/6b8fe508-6373-4fae-a20b-49e5ea3c01e6_image6.png?auto=compress,format"></p><div>
                <div>
                    <p>Get the full report on Front, with historical financials, appendix, and valuation framework.</p>
                    <p><a href="https://sacra.com/research/front-initiating-coverage-research-report/access" target="_blank" rel="noreferrer" content="never">Buy</a>
                </p></div>
            </div>
        </div>
    <p><em>Front’s -2.66% net monthly MRR churn creates a floor on growth. <a href="https://sacra.com/research/front-initiating-coverage-research-report/access" rel="noopener noreferrer" target="_blank">Click here</a> to get the full data set.</em></p><p>Front’s organic growth will be helped along by secular growth in the cloud-based productivity market.&nbsp;</p><p>Long-term, the total addressable market for cloud-based productivity tools is large and mostly unpenetrated, suggesting strong industry-wide growth for the next 10 to 15 years. Gartner estimates 1 billion knowledge workers worldwide. A 20% paid conversion rate with $100 - $300 contract value per year per user suggests $20 – 60 billion TAM.&nbsp;</p><p>Looking towards the future, Front’s bear, base, and bull cases hinge largely on whether the company’s growth will re-accelerate or whether it will continue to decline, and if so, how quickly it will do so:</p><ul><li>Our 5-year bull case has Front growing at 70% CAGR and reaching a $19B valuation ($600M ARR at a 30x multiple).</li><li>Our base case has them slowing to a steady 30% growth rate and being valued at a more modest $3.8B ($139M ARR on a 25x multiple).&nbsp;</li><li>In our bear case, Front’s growth slows even further, with the company reaching a …</li></ul></section></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://sacra.com/research/front-inside-the-startup-slackifying-email/?">https://sacra.com/research/front-inside-the-startup-slackifying-email/?</a></em></p>]]>
            </description>
            <link>https://sacra.com/research/front-inside-the-startup-slackifying-email/?</link>
            <guid isPermaLink="false">hacker-news-small-sites-25272533</guid>
            <pubDate>Wed, 02 Dec 2020 02:13:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[NN-SVG: Generate publication-ready NN-architecture schematics]]>
            </title>
            <description>
<![CDATA[
Score 55 | Comments 6 (<a href="https://news.ycombinator.com/item?id=25272360">thread link</a>) | @tzm
<br/>
December 1, 2020 | https://alexlenail.me/NN-SVG/AlexNet.html | <a href="https://web.archive.org/web/*/https://alexlenail.me/NN-SVG/AlexNet.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <div>
                <div>
                    
                    <div id="collapsable">
                        <div id="AlexNet" role="tabpanel">


                            <h4>Style:</h4>
                            <div id="rendererType">
                                <p><label for="rendererType">Renderer</label></p><p><label>
                                         webGL
                                    </label>
                                </p>
                                <p><label>
                                         SVG
                                    </label>
                                </p>
                                <p><small>The SVG renderer is required to download SVG, however the WebGL renderer is required to show tensor dimensions.</small>
                            </p></div>

                            
                            <p>
                                <label for="color1">Color 1</label>
                            </p>
                            <p>
                                <label for="color2">Color 2</label>
                            </p>
                            <p>
                                <label for="color3">Color 3</label>
                            </p>
                            <p><label for="rectOpacity">Tensor Opacity</label>
                                
                            </p>
                            <div>
                            <p><label for="strideOpacity">Filter Opacity</label>
                                
                            </p>
<!--                             <div>
                                <label for="borderWidth">Border Width</label>
                                <input type="range" id="borderWidth" name="" min="0.01" max="3" step="0.01" value="1" style="position: relative; top: 3px;">
                            </div> -->
                            <p><label for="betweenLayers">Spacing Between Layers</label>
                                
                            </p>

                            <hr>
                            <p>
                                <label for="logDepth">Log Feature-Map Depth Scaling</label>
                            </p>
                            <p><label for="depthScale">Depth Size Scaling</label>
                                
                                <span id="depthSpan">10</span>
                            </p>
                            <p>
                                <label for="logWidth">Log Feature-Map Width Scaling</label>
                            </p>
                            <p><label for="widthScale">Width Size Scaling</label>
                                
                                <span id="widthSpan">10</span>
                            </p>
                            <p>
                                <label for="logConvSize">Log Convolutional Filter Size Scaling</label>
                            </p>
                            <p><label for="convScale">Convolutional Filter Scaling</label>
                                
                                <span id="convSpan">1</span>
                            </p>

                            <hr>
                            <p>
                                <label for="showDims">Show Tensor Dimensions</label>
                            </p>
                            <p>
                                <label for="showConvDims">Show Conv Dimensions</label>
                            </p>

                            <hr>
                            <h4>Architecture:</h4>
                            <div id="architecture">
                                <p>Height | Width | Depth | filter Height | filter Width</p>
                                
                                
                                
                                
                                
                                
                                
                            </div>

                            <hr>
                            

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div></div>]]>
            </description>
            <link>https://alexlenail.me/NN-SVG/AlexNet.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25272360</guid>
            <pubDate>Wed, 02 Dec 2020 01:46:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to buy gifts that people actually want]]>
            </title>
            <description>
<![CDATA[
Score 306 | Comments 260 (<a href="https://news.ycombinator.com/item?id=25267847">thread link</a>) | @willpatrick
<br/>
December 1, 2020 | https://www.willpatrick.co.uk/articles/how-to-buy-gifts-that-people-actually-want | <a href="https://web.archive.org/web/*/https://www.willpatrick.co.uk/articles/how-to-buy-gifts-that-people-actually-want">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><h2>I Love It! (I Hate It.)</h2><p>There's a sound of rustling paper. You crack the wrap at the seam. You look inside, unveiling the item within. It's...</p><p>Crap. It’s crap. It’s a crap present that you don’t want.</p><p>You lift your head and, with a beaming grin, you <em>somehow</em> manage to let out a torrent of thanks and praise for what you have just received. This is wonderful! It's just what I wanted! How did you know? I love it! I'll treasure it forever!</p><p>Within a day, it's stuffed in a drawer. Within a week, it's forgotten. Within a month, it's on eBay or off to the charity shop. Worse, it just ends up in a landfill somewhere.</p><p>If you had to guess, how many times would you say this has happened to you when you've received gifts at Christmas or on birthdays?</p><p>Here comes the even worse part: now think about how many times this might have happened with gifts<em> that you have given to others.</em></p><p><strong>Think you've got a perfect record?</strong> Think again, because you really, honestly, probably don't.</p><h2>A Lot of Gifts Aren't Actually That Good</h2><p>In 1993 - to cries of 'Grinch!' - economist Joel Waldfogel published a now-infamous paper (among certain economist circles, anyway) titled '<a href="https://graphics8.nytimes.com/images/blogs/freakonomics/pdf/WaldfogelDeadweightLossXmas.pdf">The Deadweight Loss of Christmas</a>'.</p><p>In it, Waldfogel argues that huge sums of money are wasted every year on gifts that nobody really wants. More accurately, he reported that many gift recipients valued their gifts at a dollar amount much lower than was actually paid for the item.</p><p>For example, if I bought you a gift for $100 and you thought that it was actually worth about $70 it would mean that, somewhere along the line, <em>you’ve destroyed $30</em>. Pop! It's gone. You might as well have just taken your cash and burnt it.</p><p>Waldfogel found that anywhere between 10% and 33% of all Christmas gifts cause this kind of loss every year. This is stunning, especially when we extrapolate out to the entire population.</p><p>He concludes by saying that many people could do worse than simply giving cash as a gift because it would carry more value than the actual gifts they might otherwise have bought.</p><p>Unless you are absolutely convinced that you are god's gift to... well, gift-giving, then you're probably seeing the same loss of value with your own gifts. Or, to put it another way, <strong>a lot of your gifts probably suck whether you realise it or not</strong>.</p><p>You won't see this, though, because nobody is going to turn around and tell you that your gifts were 'only 70% good'. If anything, the reactions that we get with a good gift and a bad gift are remarkably similar. Nobody wants to make you feel like a bastard at Christmas, even if you did hand out some absolute clangers.</p><p>But is it so bad, really, losing a few dollars every year? In short, yes. And then some. But not just because of the money you're wasting.</p><h2>Good Gift Giving Is Incredibly Important</h2><p>Outside of bland analysis by economists that ordinary people haven’t heard of, gift-giving helps us maintain and preserve social ties at all of life’s most important occasions; birthdays, Christmas, Valentine's day, anniversaries, graduations... you name it.</p><p>In between these occasions there is usually some kind of imbalance between the gifts that we have given to one another. That is, you might knock it out of the park one year and I might give you something that’s nowhere near as good. Next time, I'm going to want to do much better. This imbalance leads, in part, to the continuation of the tradition.</p><p>Giving good gifts help to form and strengthen social bonds. It helps us show people how much we care, how much we love them. It helps us say sorry. It helps us convey meaning. It helps us have fun and take delight in generosity. A life without giving and receiving gifts would be a dull life indeed.</p><p>On the other hand, giving bad gifts can degrade the quality of those same bonds. <strong>At best, it can be annoying to be given a bad gift. At worst, it can drive people apart.</strong> If Waldfogel's research is correct, an awful lot of us are unwittingly dropping the ball every year, without really realising it.</p><p>Luckily, it's not just economists giving their miserable analysis of the situation; a handful of psychologists have waded in and they're here to tell you that you're just <em>thinking</em> <em>about it all wrong</em>.</p><h2>Why Our Gifts Don't Work</h2><p>There's a surprising amount of research literature out there that all points in a similar direction as to why gifts don't work and what we can do about it. To find a way through this gift-giving minefield, I've gone through some of the most widely-cited papers to get to the bottom of it all. (Citations can be found at the end of this article.)</p><h3>Gift-Givers and Gift-Receivers Think Differently</h3><p>Gifts don't always hit the spot because the psychology of <em>giving</em> gifts is totally different to the psychology of <em>getting</em> gifts. Although it all happens during the same event, we unwittingly think about these two things in totally different ways.</p><p>When people <em>give</em> gifts, they typically want to nail one or more of these four different things:</p><ul role="list"><li>Surprise (the wow factor)</li><li>Desirability (the clout factor)</li><li>Materiality (the price tag)</li><li>Social responsibility (that is, looking virtuous)</li></ul><p>Gift <em>receivers</em>, though? <strong>Their priorities are completely different</strong>. They want:</p><ul role="list"><li>Usefulness (can I do something with it?)</li><li>Versatility (can I do a variety of things with it?)</li><li>Quality (is it well made/going to last?)</li><li>Stuff they've asked for (did I actually say I want this?)</li></ul><p>Given the difference between these two lists, is it any wonder that some gifts simply don't hit the mark?</p><h3>We Focus too Much on The Moment of Exchange</h3><p>When we give gifts we are mostly thinking about 'the moment' in which we hand it over, seeing the reaction of our recipients. We narcissistically want the chorus of 'oohs' and 'aahs' that come with nailing a really good gift that somebody loves. Whether or not those reactions last any longer than the moment of exchange, though, is not something that gift givers really care about.</p><p>Research shows that we make greater errors with gift giving when those gifts are being opened in public - perhaps at a party - than when we give them in private - such as wedding presents.</p><p>This is because<strong> we end up optimising for the maximum showboat potential of the gifts we give</strong> because it feels good to do so well in public. Once the event is over, though, we basically forget about it all. Onto the next thing.</p><p>Not so for the gift recipient. After the party is over and everyone's gone home... they've still got the gift. It matters much more to them what comes <em>after</em> the moment of exchange.</p><p>This means that it's better to buy a gift that has greater long term appeal than just the momentary 'wow' factor, even if it doesn't feel as good to us in the moment.</p><h3>We Like to Be Given Experiences... But We Don't Like to Gift Them</h3><p>Research shows that an 'experience' gift - like a night out at the theatre or a wine tasting course - is often preferred instead of the usual variety of material gifts that get doled out every year.&nbsp;</p><p>The only problem is that gift-givers don't really like to give experiences as gifts because the moment of exchange is relatively dull. This is usually because there's some stand-in that gets handed over - a voucher or a certificate - and the response is likely to be bland at best.</p><p>The <em>real</em> excitement comes much later when they cash that voucher in. But, of course, the gift-giver can’t actually be there to see that happen. No good.</p><h3>We Care too Much About the Price</h3><p>Gift-givers tend to believe that the more generous or pricey a gift is, the better it must be. This rarely works. For recipients, the absolute quality of the gift matters much more. This is equally true for something that the giver thinks is really thoughtful, too.</p><p>This happens when we put an enormous amount of thought and money into a gift for a friend or relative, <strong>only to find that they have no interest in it.&nbsp;</strong></p><p>A good example of this might be picking up on someone's love for music and then buying them a beautiful acoustic guitar. There's little guarantee that they have any interest in playing an instrument at all, no matter how expensive it is or how much thought you put into it.</p><p>If they're not regularly playing that thing a year later, you’ve probably goofed.</p><h3>We're Too Distant</h3><p>If you're genuinely quite distant from the gift recipient, it's almost impossible to get a good gift for them that they will genuinely want. This means one of two things:</p><ol role="list"><li>You probably shouldn't bother, or</li><li>You can give them cash (or a cash equivalent)</li></ol><p>Whether or not you <em>should</em> give them cash is another question. If they're your grandchildren this is absolutely fine. If they're your grandparents, perhaps not.</p><p>In the latter instance, a good 'consumable' like a decent bottle of wine or a box of chocolates will do. But don't worry about it much more than that.</p><h3>Be Careful With Charity Gifts</h3><p>Sadly, recipients are less grateful about virtuous charitable gifts than we would hope for. While they're good for the cause, they don't score well against the ways in which we normally value gifts. They make the gift giver look good and they feel good in the moment, but they are not valued as much. </p><p>Of course, if someone tells you that they would value a charitable gift then go for it. But don't assume that anybody will actually like it as a gift unless you have discussed it in advance.</p><h2>How to Buy Gifts People Actually Want</h2><p>All hope is not lost. You <em>shall</em> buy gifts that people will actually want! Here's how.</p><h3>Be Realistic About Your Relationship With The Recipient</h3><p>In Waldfogel's 1993 study, there's a chart of gift effectiveness that more or less screams at aunts, uncles and grandparents to simply not bother with material gifts and to give cash instead:</p><figure id="w-node-9f5a4418121f-c39ae183"><p><img src="https://uploads-ssl.webflow.com/5e8b192239b9b4843e9ae18f/5fbfe9af234e056f30021f18_GTfsGCvFwKV3s1qidXi6Ls7EIYGoOQBVRr8o_3XvvwZ6IHt4QwNvAaje0p8Il8hWv-Yz1jcRU9A98nTmQMijJOrXU6E6gZC5FSi4_f_WOLuJY2XXZtR2CCIEYZsyAMvYo1P60Hr3.jpeg" alt=""></p></figure><p>Are you soulmates, together as a couple for many years? You obviously stand a much higher chance of getting the recipient something they will actually want.</p><p>If you’re anyone else, you will have a harder time and should maybe not worry so much about making sure your gift is as ‘thoughtful’ as possible and just focus on making their gift useful or buying them an experience.</p><h3>...Ask Them What They Want</h3><p>It seems obvious, …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.willpatrick.co.uk/articles/how-to-buy-gifts-that-people-actually-want">https://www.willpatrick.co.uk/articles/how-to-buy-gifts-that-people-actually-want</a></em></p>]]>
            </description>
            <link>https://www.willpatrick.co.uk/articles/how-to-buy-gifts-that-people-actually-want</link>
            <guid isPermaLink="false">hacker-news-small-sites-25267847</guid>
            <pubDate>Tue, 01 Dec 2020 18:06:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Self-Hosting Still Pays]]>
            </title>
            <description>
<![CDATA[
Score 362 | Comments 304 (<a href="https://news.ycombinator.com/item?id=25267651">thread link</a>) | @emperor_
<br/>
December 1, 2020 | https://www.servethehome.com/falling-from-the-sky-2020-self-hosting-still-pays/ | <a href="https://web.archive.org/web/*/https://www.servethehome.com/falling-from-the-sky-2020-self-hosting-still-pays/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <!-- image --><div><figure><a href="https://www.servethehome.com/wp-content/uploads/2020/11/Colo-v-AWS-2020-Cover-Image.jpg" data-caption="Colo V AWS 2020 Cover Image"><img width="696" height="392" src="https://www.servethehome.com/wp-content/uploads/2020/11/Colo-v-AWS-2020-Cover-Image-696x392.jpg" srcset="https://www.servethehome.com/wp-content/uploads/2020/11/Colo-v-AWS-2020-Cover-Image-696x392.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/11/Colo-v-AWS-2020-Cover-Image-400x225.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/11/Colo-v-AWS-2020-Cover-Image-747x420.jpg 747w, https://www.servethehome.com/wp-content/uploads/2020/11/Colo-v-AWS-2020-Cover-Image.jpg 800w" sizes="(max-width: 696px) 100vw, 696px" alt="Colo V AWS 2020 Cover Image" title="Colo V AWS 2020 Cover Image"></a><figcaption>Colo V AWS 2020 Cover Image</figcaption></figure></div>
            <!-- content --><p>Years ago, we had a big decision to make. In 2013, STH had grown to a size that would seem immeasurably small by the traffic we do today. Still, at that point, we made the decision that it made fiscal sense to leave Amazon AWS for colocation. We chronicled the reasoning in <a href="https://www.servethehome.com/falling-sky-sth-leaving-cloud-amazon-aws/">Falling From the Sky Why STH is Leaving the Cloud</a> and then the cost breakdown in&nbsp;<a href="https://www.servethehome.com/falling-sky-part-3-evaluating-amazon-ec2-vps-dedicated-colocation-options/">Falling From the Sky Part 3 – Evaluating Amazon EC2, VPS, Dedicated and Colocation Options</a>. Since 2013, we have been doing some irregular updates that largely correspond to planned upgrades of our infrastructure. Since we are taking a look at a few upgrades again, it is time to go through the exercise again.<span id="more-48850"></span></p>

<p>If you want to hear this instead of just reading, we have a YouTube video with some commentary here:</p>
<p><iframe title="Our Colocation Hosting versus AWS Costs Compared 2020 Edition" width="696" height="392" src="https://www.youtube.com/embed/RqetN_i0BnE?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
<p>Of course, we can go into a bit more detail below, but some prefer to listen rather than read so we have that option.</p>

<p>In 2018, we looked again at whether it was time to move back to the cloud. In our cost analysis, this is what we found using 1-year estimates:</p>
<figure id="attachment_26722" aria-describedby="caption-attachment-26722"><a href="https://www.servethehome.com/falling-from-the-sky-part-4-leaving-the-cloud-5-years-later/sth-2018-web-hosting-budget-v-aws/" rel="attachment wp-att-26722"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2018/03/STH-2018-Web-Hosting-Budget-v-AWS.jpg" alt="STH 2018 Web Hosting Budget V AWS" width="536" height="156" srcset="https://www.servethehome.com/wp-content/uploads/2018/03/STH-2018-Web-Hosting-Budget-v-AWS.jpg 536w, https://www.servethehome.com/wp-content/uploads/2018/03/STH-2018-Web-Hosting-Budget-v-AWS-400x116.jpg 400w, https://www.servethehome.com/wp-content/uploads/2018/03/STH-2018-Web-Hosting-Budget-v-AWS-533x156.jpg 533w, https://www.servethehome.com/wp-content/uploads/2018/03/STH-2018-Web-Hosting-Budget-v-AWS-534x156.jpg 534w" sizes="(max-width: 536px) 100vw, 536px"></a><figcaption id="caption-attachment-26722">STH 2018 Web Hosting Budget V AWS</figcaption></figure>
<p>Just to give some sense of how that March 2018 estimate has gone in the 32 months since we looked at this, we ended up using:</p>
<ul>
<li>Way more bandwidth. STH has grown a ton since 2018. We also focus more on reviews which tend to use more photos. Even with lazy loading images, our bandwidth usage is significantly higher. This did not incur an incremental cost based on how we buy bandwidth. See: <a href="https://www.servethehome.com/buyers-guide-hosting-bandwidth-data-transfer-billing/">Buyer’s Guide to Hosting: Bandwidth, Data Transfer and Billing</a></li>
<li>Several of our VMs doubled memory requirements and we added slightly more storage. We overprovisioned so this was absorbed with still enough leftover.</li>
<li>We replaced a <a href="https://www.servethehome.com/9-step-calm-and-easy-proxmox-ve-boot-drive-failure-recovery/">SSD</a>, upgraded a firewall, and added another <a href="https://www.servethehome.com/explaining-the-automatic-transfer-switching-ats-pdu/">ATS PDU</a>. We have not done long-term infrastructure upgrades.</li>
<li>We ended up using an upgraded node that we had available, as a “hot spare”. We tend to “self-warranty” hardware, and so we had an extra system/ chassis there.</li>
<li>We are going to say we used four hours of labor. This includes drive time to the primary data center. Since it is far away (18-20 minute drive), we actually did not go there for several quarters. So over 32 months, we had budgeted $640 for remote hands. We effectively either paid $160/ hr or paid less than that even rounding up to four hours.</li>
</ul>
<p>Overall, it looks like we probably over-estimated self-hosting costs again, and underestimated AWS costs with respect to how much we would spend there, even after service discounts.</p>
<h2>The Late 2020 AWS v. Colocation Update</h2>
<p>We wanted to answer the question of what the picture would look like for hosting STH now. A few quick words before we get there on assumptions.</p>
<p>First off, we completely could change the way we run the site. That is a given. Frankly, running in VMs whether on the cloud or in self-hosting is convenient. Indeed, we run containers in VMs as well. We could also overhaul the entire software stack again, but frankly, we want to spend more time creating content then doing that work. Something that we learned was that we had less reliability by increasing complexity than by keeping things as simple as possible.</p>
<p>Second, we are modeling current data transfer, and a minimal set of VMs. We actually have a lot more running, including some services that we run for some of the labs. One could argue that since they are lab services they are part of bringing you STH, but they are not focused on the web hosting aspect so we are going to remove them. Also, we have other VMs that are likely only online because we wanted to try something and had capacity. We may or may not elect to run the VMs if there was the AWS incremental cost. We could model these as on-demand or spot instances, but instead, we are just removing them entirely.</p>
<p>Third, we completely understand spot pricing. We are modeling a basic set instead of adding extras. At some point, we need databases, nginx servers, and so forth.</p>
<p>Fourth, we are going to add a mix of AMD EPYC and Intel Xeon instances roughly about what we use for our hosting. We are heavily weighting the larger instances toward the EPYC instances since that helps bring down the costs and for our workloads, there is no appreciable difference. We could go Arm, but that requires some small lift and shift work.</p>
<p>Finally, we do use some AWS services. Those services we would use regardless so we are excluding them from the analysis. We are also not modeling services such as Mailchimp which handles our weekly newsletter, Teespring that handles our online merch shop, YouTube which hosts our videos, and so forth.</p>
<h3>AWS Cost 1-Year Reserved No Upfront</h3>
<p>Here is the calculator for the absolute base setup for our hosting using 1-year reserved upfront instances:</p>
<figure id="attachment_48851" aria-describedby="caption-attachment-48851"><a href="https://www.servethehome.com/falling-from-the-sky-2020-self-hosting-still-pays/2020-aws-calculator-1-year-reserved-no-upfront/" rel="attachment wp-att-48851"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/11/2020-AWS-Calculator-1-Year-Reserved-No-Upfront.jpg" alt="2020 AWS Calculator 1 Year Reserved No Upfront" width="1114" height="222" srcset="https://www.servethehome.com/wp-content/uploads/2020/11/2020-AWS-Calculator-1-Year-Reserved-No-Upfront.jpg 1114w, https://www.servethehome.com/wp-content/uploads/2020/11/2020-AWS-Calculator-1-Year-Reserved-No-Upfront-400x80.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/11/2020-AWS-Calculator-1-Year-Reserved-No-Upfront-800x159.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/11/2020-AWS-Calculator-1-Year-Reserved-No-Upfront-696x139.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/11/2020-AWS-Calculator-1-Year-Reserved-No-Upfront-1068x213.jpg 1068w" sizes="(max-width: 1114px) 100vw, 1114px"></a><figcaption id="caption-attachment-48851">2020 AWS Calculator 1 Year Reserved No Upfront</figcaption></figure>
<p>As you can see, our hosting costs are just under $4,300 per month.</p>
<h3>AWS Cost 1-Year Reserved Partial Upfront</h3>
<p>Swapping to 1-year reserved partial up-front on the instances helps bring pricing down a bit albeit with a $19,512 up-front cost.</p>
<figure id="attachment_48853" aria-describedby="caption-attachment-48853"><a href="https://www.servethehome.com/falling-from-the-sky-2020-self-hosting-still-pays/2020-aws-calculator-1-year-partial-upfront/" rel="attachment wp-att-48853"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/11/2020-AWS-Calculator-1-Year-Partial-Upfront.jpg" alt="2020 AWS Calculator 1 Year Partial Upfront" width="1112" height="242" srcset="https://www.servethehome.com/wp-content/uploads/2020/11/2020-AWS-Calculator-1-Year-Partial-Upfront.jpg 1112w, https://www.servethehome.com/wp-content/uploads/2020/11/2020-AWS-Calculator-1-Year-Partial-Upfront-400x87.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/11/2020-AWS-Calculator-1-Year-Partial-Upfront-800x174.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/11/2020-AWS-Calculator-1-Year-Partial-Upfront-696x151.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/11/2020-AWS-Calculator-1-Year-Partial-Upfront-1068x232.jpg 1068w" sizes="(max-width: 1112px) 100vw, 1112px"></a><figcaption id="caption-attachment-48853">2020 AWS Calculator 1 Year Partial Upfront</figcaption></figure>
<p>When we factor in the up-front we get a $4,137.63 monthly cost along with a $49,651.56 total annual cost for the year. We are not discounting here using future values/ present values. There is a big issue with this. Typically, we tend to see our servers run for years. To model that, we tend to use 3-year reserved partial upfront.</p>
<h3>AWS Cost 3-Year Reserved Partial Upfront</h3>
<p>Using the 3-year reserved partial upfront on the instances gives us a much lower operating cost with a larger up-front payment.</p>
<figure id="attachment_48852" aria-describedby="caption-attachment-48852"><a href="https://www.servethehome.com/falling-from-the-sky-2020-self-hosting-still-pays/2020-aws-calculator-3-year-partial-upfront/" rel="attachment wp-att-48852"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/11/2020-AWS-Calculator-3-Year-Partial-Upfront.jpg" alt="2020 AWS Calculator 3 Year Partial Upfront" width="1117" height="247" srcset="https://www.servethehome.com/wp-content/uploads/2020/11/2020-AWS-Calculator-3-Year-Partial-Upfront.jpg 1117w, https://www.servethehome.com/wp-content/uploads/2020/11/2020-AWS-Calculator-3-Year-Partial-Upfront-400x88.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/11/2020-AWS-Calculator-3-Year-Partial-Upfront-800x177.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/11/2020-AWS-Calculator-3-Year-Partial-Upfront-696x154.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/11/2020-AWS-Calculator-3-Year-Partial-Upfront-1068x236.jpg 1068w" sizes="(max-width: 1117px) 100vw, 1117px"></a><figcaption id="caption-attachment-48852">2020 AWS Calculator 3 Year Partial Upfront</figcaption></figure>
<p>First off, the $39,020 is more than we have spent in the last three years on hosting hardware. We do not purchase machines with long warranties or high markups, so if you are buying the average Dell/ HPE/ Lenovo server and think that sounds like a single server, you are trading higher upfront costs for service contracts. Given what we have seen on hardware/ remote hands, it is not a model we are pursuing. On the operating side, we get down to $1,968.51 per month which is great.</p>
<h2>STH 2020 Hosting Budget</h2>
<p>Next year, we will likely do two small changes. First, we will upgrade database nodes and instead of using Optane SSDs, we will move to Cascade Lake and Optane PMem DIMMs into the database servers and upgrade a few older nodes to AMD EPYC 7002 “Rome” systems. We are testing the Ampere Altra 80-core server right now, and we are at the point where we might consider using Arm in the hosting cluster this year. We are going to increase our hardware budget to $10,000 this year. Although we did not use most of our hardware budget in 2019 nor 2020, we expect to in 2021.</p>
<p>Making up our monthly cost, we increased a bit for inflation. We used a $895/ mo budget in 2018. Our costs are effectively flat, but we are going to assume a bit more labor to install servers/ upgrade the hardware.</p>
<figure id="attachment_48855" aria-describedby="caption-attachment-48855"><a href="https://www.servethehome.com/falling-from-the-sky-2020-self-hosting-still-pays/2020-aws-v-self-hosting/" rel="attachment wp-att-48855"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/11/2020-AWS-v-Self-Hosting.jpg" alt="2020 AWS V Self Hosting" width="685" height="197" srcset="https://www.servethehome.com/wp-content/uploads/2020/11/2020-AWS-v-Self-Hosting.jpg 685w, https://www.servethehome.com/wp-content/uploads/2020/11/2020-AWS-v-Self-Hosting-400x115.jpg 400w" sizes="(max-width: 685px) 100vw, 685px"></a><figcaption id="caption-attachment-48855">2020 AWS V Self Hosting</figcaption></figure>
<p>We are budgeting $22,000 per year or around $1833.33 per month. This is about the same as we would need for EC2’s 3-year partial upfront reserved instance, albeit without the up-front costs.</p>
<p>The one item that skews this substantially, is that we are not replacing every node every year. We are now in a very different place than we were when we started this journey. We have existing infrastructure that is frankly fine from a performance and node count standpoint even though we have relatively under-invested over the past 32 months. We had budgeted around $1687/ month for the last two months and spent under $1000. Still, at some point, we like to replace equipment before it fails.</p>
<h2>Final Words</h2>
<p>There is clearly a lot going into this. We now have just under 8 years since this 10U colocation spot in Las Vegas was our first setup:</p>
<figure id="attachment_8644" aria-describedby="caption-attachment-8644"><a href="https://www.servethehome.com/colocation-architecture-servethehome-2013/sth-colo-10u-rear-picture-annotated-small/" rel="attachment wp-att-8644"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2013/02/STH-Colo-10U-Rear-Picture-Annotated-small.png" alt="STH Colo 10U Rear Picture - Annotated small" width="600" height="394" srcset="https://www.servethehome.com/wp-content/uploads/2013/02/STH-Colo-10U-Rear-Picture-Annotated-small.png 600w, https://www.servethehome.com/wp-content/uploads/2013/02/STH-Colo-10U-Rear-Picture-Annotated-small-300x197.png 300w, https://www.servethehome.com/wp-content/uploads/2013/02/STH-Colo-10U-Rear-Picture-Annotated-small-16x11.png 16w, https://www.servethehome.com/wp-content/uploads/2013/02/STH-Colo-10U-Rear-Picture-Annotated-small-32x21.png 32w, https://www.servethehome.com/wp-content/uploads/2013/02/STH-Colo-10U-Rear-Picture-Annotated-small-28x18.png 28w, https://www.servethehome.com/wp-content/uploads/2013/02/STH-Colo-10U-Rear-Picture-Annotated-small-56x37.png 56w, https://www.servethehome.com/wp-content/uploads/2013/02/STH-Colo-10U-Rear-Picture-Annotated-small-64x42.png 64w, https://www.servethehome.com/wp-content/uploads/2013/02/STH-Colo-10U-Rear-Picture-Annotated-small-184x120.png 184w" sizes="(max-width: 600px) 100vw, 600px"></a><figcaption id="caption-attachment-8644">STH Colo 10U Rear Picture – Annotated small</figcaption></figure>
<p>What is not reflected in our discussion is all of the lessons learned along the way. Also, as hardware has gotten faster, and memory prices have decreased, the cost of self-hosting has gone down significantly for our applications. We are also taking advantage of falling bandwidth prices. While AWS is absolutely the right choice for many applications, and indeed we use them, for our web hosting it is not what we want for a simple and inexpensive setup. This may not be the perfect analysis, but it is a little bit of how we now look at hosting at STH.</p>
        </div></div>]]>
            </description>
            <link>https://www.servethehome.com/falling-from-the-sky-2020-self-hosting-still-pays/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25267651</guid>
            <pubDate>Tue, 01 Dec 2020 17:50:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[An Update on PromQL Compatibility Across Vendors]]>
            </title>
            <description>
<![CDATA[
Score 64 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25267601">thread link</a>) | @jrv
<br/>
December 1, 2020 | https://promlabs.com/blog/2020/11/26/an-update-on-promql-compatibility-across-vendors | <a href="https://web.archive.org/web/*/https://promlabs.com/blog/2020/11/26/an-update-on-promql-compatibility-across-vendors">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>Prometheus's query language <a href="https://prometheus.io/docs/prometheus/latest/getting_started/">PromQL</a> is one of the cornerstones of the Prometheus ecosystem. Back in our August blog post, <a href="https://promlabs.com/blog/2020/08/06/comparing-promql-correctness-across-vendors">Comparing PromQL Correctness Across Vendors</a>, we looked at several external projects and monitoring vendors that claimed to offer PromQL-compatible APIs. Using an <a href="https://github.com/promlabs/promql-compliance-tester">open-source compliance checker tool</a>, we evaluated each implementation by running a set of test queries against both the native Prometheus server and the vendor implementation. As a result, we found multiple bugs in the tested projects, and mapped out in detail how each deviated from the upstream implementation.</p>
<p>Meanwhile, more vendors have entered the PromQL space, while existing projects have worked on improving their PromQL support as a result of our last blog post. Today, we are presenting an updated set of PromQL test results both for existing projects and a couple of new ones. We tested each of these implementations against the latest Prometheus version, <a href="https://github.com/prometheus/prometheus/releases/tag/v2.23.0">v2.23.0</a>.</p>
<h3 id="before-we-start-a-note-on-interpreting-test-scores"><a href="#before-we-start-a-note-on-interpreting-test-scores" aria-label="before we start a note on interpreting test scores permalink"></a>Before we start: a note on interpreting test scores</h3>
<p>When looking at individual test results, please note that the numeric scores alone paint a limited picture. They don't necessarily tell you how impactful implementation errors are, nor how many distinct behavioral differences there are. Since PromQL expressions naturally compose and build on top of each other, it is infeasible to isolate all possible query errors into fully independent test cases. Many of the test queries will contain the same constructs as other queries, in a nested way. For example: If an implementation selects data incorrectly, then this breaks not only a simple data selection test query, but also all other test query cases that try to run a function, operator, or other transformation based on selected data. The test cases also include a lot of variations of the same type of query, but with different ranges, quantile values, or other parameters. So if e.g. a function is broken in a general way, it may cause multiple test case variants to fail at the same time.</p>
<p>Another matter of more subtle interpretation are vendor extensions and extreme edge-case behavior. For example, a vendor may choose to not raise an error when executing a function with a parameter value that is illegal in native PromQL, but legal and sensical in the extended language. Or a vendor may return a different value for an unusual edge-case behavior, such as running <code>histogram_quantile()</code> with a quantile value larger than <code>1</code>.</p>
<p>We still provide the numeric test scores as a quick way to map out the vendor landscape and to motivate the ecosystem towards achieving a 100% score. But if you need to understand behavioral differences in more depth, please <a href="https://promlabs.com/promql-compliance-tests">take a look at the full test results</a> and read on for the details.</p>
<h3 id="criteria-for-including-a-vendor-in-tests"><a href="#criteria-for-including-a-vendor-in-tests" aria-label="criteria for including a vendor in tests permalink"></a>Criteria for including a vendor in tests</h3>
<p>We are always on the lookout for new PromQL implementations to include in these tests. To include a project or vendor, we look for two criteria:</p>
<ul>
<li>Someone is either advertising full or partial PromQL compatibility of their system, and/or otherwise positioning their solution as a drop-in replacement for an existing PromQL implementation.</li>
<li>For practical purposes, we need to be able to ingest test data into the system and query it back via a PromQL-style HTTP API. Otherwise, we can't run any tests.</li>
</ul>
<p>Unfortunately, some vendors failed the second criterium for now, so we couldn't include them:</p>
<ul>
<li><a href="https://sysdig.com/">Sysdig</a> <a href="https://docs.sysdig.com/en/using-promql.html">advertises PromQL support</a>, but has no <code>remote_write</code> protocol support to ingest arbitrary test data. According to contacts at Sysdig, <code>remote_write</code> may be supported at some point in the future, but we couldn't get a recent update on its availability timeline.</li>
<li><a href="https://www.vmware.com/de/company/acquisitions/wavefront.html">Wavefront</a> <a href="https://docs.wavefront.com/wavefront_prometheus.html">advertises partial PromQL support</a>, but they lack an HTTP endpoint against which to run test queries. Their PromQL support is only available within their own user interface so far, which makes it difficult to test against. However, judging by the various compatibility caveats listed in their documentation, we do not expect that they would reach a high test score if we could test them.</li>
</ul>
<p>We hope to be able to test even more vendors in the future.</p>
<p><strong>UPDATE:</strong> After publishing, we received questions about PromQL support in two more vendors:</p>
<ul>
<li><a href="https://www.influxdata.com/products/influxdb/">InfluxDB</a> once <a href="https://github.com/influxdata/promql">started implementing PromQL support</a> (coincidentally with the help of the author of this blog post), but as far as we are aware, this effort has been paused and PromQL support in InfluxDB is neither currently available nor is it being advertised.</li>
<li><a href="https://www.elastic.co/">Elastic</a> recently <a href="https://www.elastic.co/blog/elastic-metrics-7-7-0-released">advertised PromQL support in Elastic Metrics</a>. However, the announced feature is only about Elastic Metrics being able to run queries against an <em>existing</em> external PromQL endpoint (such as Prometheus) to then ingest the query result as metrics into Elasticsearch. There is no way to run PromQL on the resulting data stored in Elasticsearch itself.</li>
</ul>
<h3 id="minor-updates-to-the-test-query-set"><a href="#minor-updates-to-the-test-query-set" aria-label="minor updates to the test query set permalink"></a>Minor updates to the test query set</h3>
<p>Since the last testing round in August, we made minor changes to the test query set:</p>
<ul>
<li>For queries that looked at the absolute values of counter metrics (e.g. with no <code>rate()</code> or similar counter-related function applied), we changed the selected metrics to be gauges instead. This helps keep test cases somewhat more independent for a vendor like New Relic, which does not support storing or retrieving absolute values for counters.</li>
<li>We added a query selecting an intermittently present series to test whether <a href="https://prometheus.io/docs/prometheus/latest/querying/basics/#staleness">staleness handling</a> works.</li>
</ul>
<h3 id="lets-get-started-updated-comparisons"><a href="#lets-get-started-updated-comparisons" aria-label="lets get started updated comparisons permalink"></a>Let's get started: Updated comparisons</h3>
<p>In this round of tests, we tested the following projects and vendors, in alphabetical order:</p>
<ul>
<li><a href="https://chronosphere.io/">Chronosphere</a> - A hosted monitoring and observability platform.</li>
<li><a href="https://cortexmetrics.io/">Cortex</a> - An open-source, horizontally scalable reimplementation of Prometheus.</li>
<li><a href="https://grafana.com/products/cloud/">Grafana Cloud</a> - A hosted monitoring and observability service.</li>
<li><a href="https://m3db.io/">M3</a> - An open-source metrics engine and time series database.</li>
<li><a href="https://www.metricfire.com/">MetricFire</a> - A hosted monitoing and observability service.</li>
<li><a href="https://newrelic.com/">New Relic</a> - A hosted monitoring and observability service.</li>
<li><a href="https://thanos.io/">Thanos</a> - An open-source project to provide query aggregation for long-term storage and HA on top of Prometheus.</li>
<li><a href="https://github.com/timescale/promscale">Promscale</a> (<a href="https://www.timescale.com/">TimescaleDB</a>) - An open-source project to store Prometheus data in TimescaleDB.</li>
<li><a href="https://victoriametrics.com/">VictoriaMetrics</a> - An open-source time-series database and monitoring system.</li>
</ul>
<p>Let's look at the test results for each of these systems:</p>
<h4 id="chronosphere"><a href="#chronosphere" aria-label="chronosphere permalink"></a>Chronosphere</h4>
<p>Chronosphere does not have a self-service account creation system yet, but they helpfully provided us with a test account with <code>remote_write</code> and PromQL HTTP API support. Chronosphere is built on top of M3 (tested below), so we expected similar test results for the two. After an initial test run against an outdated test environment using an older M3 version, Chronosphere updated our test account and we achieved a test score of <strong>100%</strong> against it.</p>
<h4 id="cortex"><a href="#cortex" aria-label="cortex permalink"></a>Cortex</h4>
<p>Last time we tested Cortex we encountered two minor issues: floating-point input timestamps were <a href="https://github.com/cortexproject/cortex/issues/2932">not rounded in the same way</a> as in Prometheus, and the system did not <a href="https://github.com/cortexproject/cortex/issues/416">support executing queries without a metric name</a>. The first issue has been resolved entirely, while the second one is being addressed by a new storage mode in Cortex - the new <a href="https://cortexmetrics.io/docs/blocks-storage/">blocks storage mode</a> vs. the older <a href="https://cortexmetrics.io/docs/chunks-storage/">chunks storage mode</a>.</p>
<p>Let's look at <a href="https://github.com/cortexproject/cortex/releases/tag/v1.5.0">version 1.5.0 of Cortex</a> and see what scores each of these modes received:</p>
<h6 id="cortex-with-chunks-storage"><a href="#cortex-with-chunks-storage" aria-label="cortex with chunks storage permalink"></a>Cortex with chunks storage</h6>
<p>When testing Cortex with the old chunks storage, we can now remove the query tweak to align input timestamps, since that bug has been fixed. Other than that, we still get the same test score of <strong>99.62%</strong> due to the chunks mode not supporting queries without metric names.</p>
<h6 id="cortex-with-blocks-storage"><a href="#cortex-with-blocks-storage" aria-label="cortex with blocks storage permalink"></a>Cortex with blocks storage</h6>
<p>Cortex with blocks storage mode now also does not require any query tweaks anymore and passes with a score of <strong>100%</strong>.</p>
<h4 id="grafana-cloud"><a href="#grafana-cloud" aria-label="grafana cloud permalink"></a>Grafana Cloud</h4>
<p>Grafana Cloud is a new test candidate that <a href="https://grafana.com/docs/grafana-cloud/metrics/prometheus/">advertises full hosted Prometheus functionality</a>. Under the hood, Grafana Cloud uses Cortex to offer this service. According to representatives from Grafana Labs, they are in the process of phasing out the last (shared) chunks-based Cortex cluster, while all new Cortex clusters are already using blocks as their storage mode.</p>
<p>To be able to cache PromQL queries, Grafana Cloud aligns incoming query start and end timestamps to the query resolution step width (10 seconds in our case). This is currently not configurable on the Grafana Cloud side, so we had to apply a cross-cutting query tweak to align input timestamps to our reference Prometheus server in the same way, to get comparable results.</p>
<p>With this in mind, we tested a Grafana Cloud account via <code>remote_write</code> and their Prometheus-style HTTP query API on both the remaining legacy cluster and a new dedicated blocks-storage cluster, and we got the same <strong>99.62%</strong> and <strong>100%</strong> test scores as for Cortex itself. Since the chunks-mode cluster is being retired this month, we count that as an overall <strong>100%</strong> score for Grafana Cloud.</p>
<h4 id="m3"><a href="#m3" aria-label="m3 permalink"></a>M3</h4>
<p>M3 is also a new candidate in this group that states, "M3 can be used as Prometheus Remote Storage and has 100% PromQL compatibility", <a href="https://m3db.io/">on its homepage</a>. Its documentation also mentions <a href="https://m3db.github.io/m3/integrations/prometheus/">Prometheus and PromQL integrations</a> that include <code>remote_write</code> support and a PromQL HTTP API endpoint. Using these with M3 version v1.0.0, we ran our test suite and received a test score of <strong>100%</strong>.</p>
<p><strong>Note:</strong> For PromQL to work 100% the same as in Prometheus, we had to ensure that our test query was only hitting raw, non-aggregated data in M3 (vs. data that has been downsampled into a lower resolution). We did this by not configuring any aggregation in our test M3 database.</p>
<h4 id="metricfire"><a href="#metricfire" aria-label="metricfire permalink"></a>MetricFire</h4>
<p>MetricFire, a hosted service by the people behind <a href="https://www.hostedgraphite.com/">hostedgraphite.com</a>, is still pretty new in the Prometheus space. While MetricFire documents how to write data into the system using the <code>remote_write</code> protocol, there is no officially supported way to run external PromQL queries against the collected data using an HTTP API yet. However, MetricFire representatives kindly explained a way to do this. We won't detail it here, but we expect that there will be a documented public HTTP API soon. In our talks with MetricFire we learned that they also use Cortex to back their service, and we also …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://promlabs.com/blog/2020/11/26/an-update-on-promql-compatibility-across-vendors">https://promlabs.com/blog/2020/11/26/an-update-on-promql-compatibility-across-vendors</a></em></p>]]>
            </description>
            <link>https://promlabs.com/blog/2020/11/26/an-update-on-promql-compatibility-across-vendors</link>
            <guid isPermaLink="false">hacker-news-small-sites-25267601</guid>
            <pubDate>Tue, 01 Dec 2020 17:46:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Computer Graphics from Scratch (2017)]]>
            </title>
            <description>
<![CDATA[
Score 271 | Comments 39 (<a href="https://news.ycombinator.com/item?id=25266812">thread link</a>) | @fanf2
<br/>
December 1, 2020 | https://www.gabrielgambetta.com/computer-graphics-from-scratch/ | <a href="https://web.archive.org/web/*/https://www.gabrielgambetta.com/computer-graphics-from-scratch/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<header>

</header>
<p>
No Starch Press is publishing a book based on this website in early 2021. Stay tuned!
</p>
<p><strong>TL;DR:</strong> This book will <em>not</em> teach you how to use OpenGL or DirectX; instead, it can teach you how OpenGL and DirectX <em>work</em>. In practice you won’t write a software renderer for production use, but understanding how and why a renderer works will let you use OpenGL and DirectX more effectively.</p>
<p>Computer Graphics is a fascinating topic - how do you make <em>Toy Story</em> out of algorithms and some geometric data? Interestingly enough, it’s a mysterious topic not only for the average cinema fan, but also for world-class engineers who just haven’t been exposed to it.</p>
<p>Computer Graphics is also a frighteningly broad topic. From 3D rendering to photographic image filters, from fonts to particle systems, there’s a multitude of disciplines that can be categorized under CG. This work focuses exclusively on 3D rendering.</p>
<p><strong>Computer Graphics from scratch</strong> is my humble attempt to demystify that slice of Computer Graphics in an accessible way. It can be easily understood by high-school students, while covering the same topics of an university course. It is, in fact, based on my years of teaching the subject at my university.</p>
<p>There’s little pre-requisite knowledge, nor hardware or software dependencies. The only primitive used in the book is a method that lets us set the color of a pixel - hence <strong>“from scratch”</strong>. The algorithms are conceptually simple, and the math is straightforward. There is some high-school level trigonometry. There’s some basic Linear Algebra as well, but I’m including an appendix that can be consulted as necessary.</p>
<p>This work is divided in two main parts, <strong>Raytracing</strong> and <strong>Rasterization</strong>, which focus on the two main ways to make pretty pictures out of data. The <strong>Common concepts</strong> chapter introduces some basic knowledge necessary to understand these two parts.</p>
<p>The focus of this work is not on performance, but on clear conceptual exposition. The sample code is, well, <em>sample code</em>, written in the most <em>clear</em> way possible, which may not be the most <em>efficient</em> way to implement the algorithms. Where there are different ways to do something, I’ve chosen the easiest to understand.</p>
<p>The “end result” of this work is two complete, fully functional renderers: a raytracer and a rasterizer. Although they follow very different approaches, they produce similar results when used to render a simple scene:</p>
<figure>
<img src="https://www.gabrielgambetta.com/computer-graphics-from-scratch/images/comparison-1.png">
</figure>
<p>While their sets of features have considerable overlap, they aren’t identical, so this book covers their specific strengths:</p>
<figure>
<img src="https://www.gabrielgambetta.com/computer-graphics-from-scratch/images/comparison-2.png">
</figure>
<p>The book provides sample code throughout the text, as somewhat informal pseudocode; it also provides fully working implementations written in JavaScript that can run directly on your browser, rendering to a <code>canvas</code> element.</p>
<h2 id="why-read-this">Why read this?</h2>
<p>This work should give you all the knowledge necessary to write software renderers. Although in the age of GPUs few people have good reasons to write a pure software renderer, the experience of writing one is valuable for the following reasons:</p>
<ol type="1">
<li><p><strong>Shaders</strong>. The first GPUs had their algorithms hardcoded in hardware, but in modern ones you’re expected to write your own shaders. In other words, you’re still implementing big chunks of rendering software, except it now runs on the GPU.</p></li>
<li><p><strong>Understanding</strong>. Whether you’re using a fixed pipeline or writing your own shaders, <em>understanding</em> what’s going on behind the scenes lets you use the fixed pipeline better and write better shaders.</p></li>
<li><p><strong>Fun</strong>. Few areas of Computer Science have the kind of immediately visible results offered by Computer Graphics. The sense of accomplishment you get when your SQL query runs just right is <em>nothing</em> compared to what you feel the first time you get ray traced reflections right. I taught Computer Graphics at my university for 5 years. I often wondered why I enjoyed teaching the same thing semester after semester for so long; in the end, what made it worth it was seeing the faces of my students light up and use their first renders as desktop backgrounds.</p></li>
</ol>
<h2 id="work-in-progress">Work in progress</h2>
<p>This is a work in progress. Here’s a non-exhaustive to do list:</p>
<ul>
<li>Texture filtering</li>
<li>Normal mapping</li>
<li>Textures in the raytracer</li>
<li>Shadows in the rasterizer (stencil and shadow maps)</li>
<li>Reflection in the rasterizer</li>
<li>Expand the CSG and Refraction sections into chapters</li>
<li>Linear algebra appendix</li>
<li>Make demos interactive</li>
<li>Clean up demo code</li>
</ul>
<p>Feel free to contribute or to correct mistakes - all the text, diagrams and demos are in <a href="https://github.com/ggambetta/computer-graphics-from-scratch">Github</a>. PRs welcome!</p>

<p>I’m a senior software engineer at Google. In the past I’ve worked at <a href="http://improbable.io/">Improbable</a>, who have a good shot at building the Matrix, for real (or at the very least revolutionizing multiplayer game development), and at <a href="http://mysterystudio.com/">Mystery Studio</a>, a game development company I founded and ran for about a decade, and which released almost 20 games you probably never heard of.</p>
<p>I taught Computer Graphics for five years at university, where it was a semester-long third-year subject. I am grateful to all of my students, who served as unwitting guinea pigs for the materials that inspired this book.</p>
<p>I have other interests besides Computer Graphics, engineering-related and otherwise. See <a href="http://gabrielgambetta.com/">my website</a>, for more details and contact information.</p>


<p><span>Found an error?</span> Everything is in <a href="https://github.com/ggambetta/computer-graphics-from-scratch">Github</a>.
</p>


<hr>
</div></div>]]>
            </description>
            <link>https://www.gabrielgambetta.com/computer-graphics-from-scratch/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25266812</guid>
            <pubDate>Tue, 01 Dec 2020 16:43:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[macOS to FreeBSD migration a.k.a. why I left macOS]]>
            </title>
            <description>
<![CDATA[
Score 282 | Comments 339 (<a href="https://news.ycombinator.com/item?id=25266435">thread link</a>) | @rodrigo975
<br/>
December 1, 2020 | https://antranigv.am/weblog_en/posts/macos_to_freebsd/ | <a href="https://web.archive.org/web/*/https://antranigv.am/weblog_en/posts/macos_to_freebsd/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
        <p>I think the title tells a lot about the story I’m going to tell you.</p>
<p>This is not a technical documentation for how I migrated from macOS to FreeBSD. This is a high-level for <em>why</em> I migrated from macOS to FreeBSD.</p>
<p>Not so long ago, I was using macOS as my daily driver. The main reason why I got a macbook was the underlying BSD Unix and the nice graphics it provides. Also, I have an iPhone. But they were also the same reasons for why I <strong>left</strong> macOS.</p>
<p>I did not want to write this post right after the migration, I wanted to take my time, use FreeBSD daily, see if I will ever miss macOS.</p>
<p>Here’s a tweet of mine from 8 months ago</p>
<blockquote><div lang="en" dir="ltr"><p>Every 4 months I look at my systems (servers, laptops, desktops, embedded) to see if there's anything suspicious, if anything got hacked, etc.</p><p>man, I did not realize that macOS is that complicated. Why is there a "studentd" running? I don't even use Classrooms :/</p></div>— Antranig Vartanian (@antranigv) <a href="https://twitter.com/antranigv/status/1234753346600394752?ref_src=twsrc%5Etfw">March 3, 2020</a></blockquote>


<p>Let’s look at it this way. macOS is becoming less Unix-y every year, <code>date(1)</code> is outdated, there are 100+ Unix processes running by the time the system is booted, most of them are useless for the general user, it has no native package manager (at least MacPorts/homebrew/pkgsrc is out there) and for a power user, there is no proper documentation. Have you ever checked the FreeBSD handbook? Everything is right there!</p>
<p>Okay, the nice graphics part. Have you seen the latest and greatest Big Sur? It feels like eye-candy, it’s not made for power users at all, everything seems to be a distraction now, even the icons. I’m no UI guru, but bringing iOS to the desktop is not for everyone.</p>
<p>So I decided to move to FreeBSD. This is where many people will tell me “Okay but not everything works outside the box”, true! but which OS works outside the box these days anyway? Windows is still a nightmare, setting up macOS took me 3 days the last time, Linux takes way more if you’re building it from scratch. Setting up FreeBSD took me 3 days, however this meant that I will NOT need to change it again for a very, very, VERY long time.</p>
<p>Every time Apple pushed an updated, my <code>pf.conf</code> and <code>automount</code> configs got broken on macOS. They either got deleted or they moved somewhere. Well, the last 2 times it just got deleted.</p>
<p>On FreeBSD, I upgraded from <code>12.1-RELEASE</code> to <code>12.2-RELEASE</code> and nothing broke, and in case there were any changes, FreeBSD just asked me what to do about them.</p>
<p>Let’s come back for a second. Unix is outdated and Apple does not care about it, fancy graphics are too fancy now. Doing forensics is almost impossible. And the hardware is, well, not the best out there (have you ever disassembled a MacBook Pro? it’s takes 2 hours to change a battery while I can reassemble my Dell Latitudes and ThinkPads in 30 minutes).</p>
<p>So there was no reason to stay here anymore. I had to migrate. The question is: where?</p>
<p>Linux has systemd, not my favorite thing out there, Windows is privacy nightmare. That left me with 2 major options: Linuxes without systemd (Gentoo, in my case) or BSDs.</p>
<p>Since I run FreeBSD servers anyway, I just migrated to FreeBSD.</p>
<p>Here’s a short review about running FreeBSD on ThinkPad T480s.</p>
<ul>
<li>WiFi: works. not the fastest, but fast enough.</li>
<li>Graphics: works.</li>
<li>Touchpad: works with multiple fingers AND very configurable via <code>sysctl</code>.</li>
<li>BT does discovery and pairs, I still have to try it with non-Apple headphones.</li>
<li>COVID-19 era: Zoom, Google Hangouts, Jitsi and all other WebRTC-based video conferencing software works via web as well.</li>
<li>Thanks to <a href="https://forums.freebsd.org/threads/linuxulator-how-to-run-google-chrome-linux-binary-on-freebsd.77559/">Linuxulator</a>, I can watch Netflix as well: <a href="https://twitter.com/antranigv/status/1327422687107555329">here’s a screenshot</a>.</li>
</ul>
<p>Most importantly, it’s Free and Open Source.</p>
<p>It’s been 1 month and 1 day since I last touched my MacBook Pro, so, what do I miss?</p>
<ul>
<li>Better BT support</li>
<li>Faster WiFi</li>
</ul>
<p>That’s it, that’s all missing on a FreeBSD laptop these days. WiFi can do 48Mbps according to <code>ifconfig</code> but I usually get 10-20Mbps. BT pairs with my Apple AirPods but I wish it worked till the end.</p>
<p>Having a nice workstation/laptop is not an easy thing, using macOS means living by Apple rules, Windows is the same for Microsoft. The BSDs gave me the power to be as free as possible :)</p>
<p>During the next weeks I’ll try to blog about the actual setup.</p>
<p>P.S. dear Apple employee, in case you’re reading this, please tell your management to update their BSD Unix layer. Some of us still care, some of us are not just Docker people, some of us are not just “modern” web developers. Thanks in advance.</p>
<p>That’s all folks! :)</p>

      </div></div>]]>
            </description>
            <link>https://antranigv.am/weblog_en/posts/macos_to_freebsd/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25266435</guid>
            <pubDate>Tue, 01 Dec 2020 16:12:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Busybox-based Linux distro from scratch]]>
            </title>
            <description>
<![CDATA[
Score 172 | Comments 26 (<a href="https://news.ycombinator.com/item?id=25263398">thread link</a>) | @pfrog
<br/>
December 1, 2020 | https://re-ws.pl/2020/11/busybox-based-linux-distro-from-scratch/ | <a href="https://web.archive.org/web/*/https://re-ws.pl/2020/11/busybox-based-linux-distro-from-scratch/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1624">
	<!-- .entry-header -->

	<div>
		<p><img width="257" height="303" src="https://re-ws.pl/wp-content/uploads/2020/11/logo.gif" alt="linux logo" loading="lazy"></p><figure id="attachment_1648" aria-describedby="caption-attachment-1648"><a href="https://re-ws.pl/wp-content/uploads/2020/11/mmc16mib.jpg"><img loading="lazy" src="https://re-ws.pl/wp-content/uploads/2020/11/mmc16mib-263x300.jpg" alt="Canon SD MMC card 16 MiB" width="263" height="300" srcset="https://re-ws.pl/wp-content/uploads/2020/11/mmc16mib-263x300.jpg 263w, https://re-ws.pl/wp-content/uploads/2020/11/mmc16mib-899x1024.jpg 899w, https://re-ws.pl/wp-content/uploads/2020/11/mmc16mib-768x875.jpg 768w, https://re-ws.pl/wp-content/uploads/2020/11/mmc16mib-1348x1536.jpg 1348w, https://re-ws.pl/wp-content/uploads/2020/11/mmc16mib.jpg 1443w" sizes="(max-width: 263px) 100vw, 263px"></a><figcaption id="caption-attachment-1648">16 MiB SD/MMC card. Made in Japan in 2005</figcaption></figure>
<p>Today, I would like to show something different, than usual reverse-engineering, that appears on my blog usually. I needed to prepare a Linux distro for myself to be able to run it on my PC. But not the ordinary operating system that we download from webpage, then use fancy graphical installer to select, what we want and where. My goals were very specific. First was to have it custom-compiled. With that in mind there aren’t many choices left (maybe Gentoo?). Second was to not cross 16 MiB boundary. Why exactly that? That’s simple. I have old (15 years old to be precise) SD/MMC card made for Canon of exactly that size. Quick check showed me that this is possible. I tried buildroot and it failed to fulfill second requirement and I decided not to continue, despite the obvious optimizations on kernel modules, I could do. It’s simply too complex for such a simple task. If not buildroot, then let’s go and see how to do such thing from scratch!</p>

<p>Basically the plan is to have custom Linux distro compiled from scratch. It may sound like something incredibly complex and hard to do. But it’s not. There are just few problems one must learn on how to overcome. The most problematic constraint in my case is, obviously, 16 MiB limit. To not exceed it, I have to use busybox as my userspace. This by the way simplifies distro development significantly. Busybox works the way, that, if linked statically, requires only one, single binary to be able to work correctly. So, to sum up, on software side, we need Linux and busybox. You may wonder, how do I want to boot that system, then? Well. I said I need Linux 🙂 Maybe some people know, some does not, that Linux is itself a boot loader of some kind. At least, when using UEFI and this is what I want to use, it can be loaded directly by UEFI firmware. But that’s another thing to note – I will describe a way to prepare a distro for UEFI – it won’t be as simple as that, for legacy BIOS.</p>
<p>The whole plan will look as follows:</p>
<ol>
<li>Get compiler</li>
<li>Compile Linux kernel</li>
<li>Compile busybox (statically and stripped!)</li>
<li>Prepare initramfs with whole userspace</li>
<li>Format drive as EFI System Partition</li>
<li>Combine kernel and initramfs into single binary</li>
<li>Optionally sign the binary, in case we want Secure Boot to be enabled</li>
<li>Add entry to embedded UEFI boot manager</li>
</ol>
<p>In the meantime, I am going to show few ways to debug the system, in case of any problems.<span id="more-1624"></span></p>

<p>This is maybe not so obvious, but you need new compiler. Most likely, you could use the one that your distro provides, aliased as simply gcc. But this way, you will by the way use glibc as your standard library. For a lightweight system, glibc does not fit well, as this is most heavyweight libc, we have available. Therefore, I will use uClibc. And for that, we need a compiler. Or, to be precise, a toolchain. A toolchain, consisting of kernel headers, uClibc and gcc. Here, I could show, how to build such thing from scratch. But it’s not a tutorial about building a toolchain. This requires knowledge that can fill another tutorial. Instead, I will use the toolchain prepared by my latest project – <a href="https://github.com/v3l0c1r4pt0r/cc-factory" target="_blank" rel="noopener noreferrer">cc-factory</a>. For those, who did not read <a href="https://re-ws.pl/2020/10/meet-cc-factory-a-factory-for-cross-compilers/">my previous post</a>, it is toolchain factory running in Docker container, that provides a recipe for a toolchain that just works. If you tried compiling a toolchain from scratch in the past, then you know that this can fail, even if you use crosstool-ng. With cc-factory, it works as long as Docker can start a service and has Docker Hub working. But enough of that. In cc-factory, I am experimenting with releasing binary distributions of my toolchain. And <a href="https://github.com/v3l0c1r4pt0r/cc-factory/releases/tag/x86_64-gcc10.2.0-linux5.9.13-uclibc1.0.36-1">newest one</a> is special-made for this job. You can simply download it to you disk with:</p>
<pre>wget <span>'</span><span>https://github.com/v3l0c1r4pt0r/cc-factory/releases/download/x86_64-gcc10.2.0-linux5.9.13-uclibc1.0.36-1/x86_64-gcc10.2.0-linux5.9.13-uclibc1.0.36-1.tar.gz</span><span>'</span>
</pre>
<p>After that, you have to install it to your <code>/opt</code> directory with:</p>
<pre>tar <span>-xvf</span> x86_64-gcc10.<span>2</span>.0-linux5.<span>9</span>.13-uclibc1.<span>0</span>.36-1.tar.gz <span>-C</span> /
</pre>
<p>If you prefer another installation path, then head onto cc-factory project to see, how to build one from source. Then, you can choose whatever path, you like for this SDK.</p>
<p>Next step is to export SDK’s bin directory to you PATH for convenience:</p>
<pre><span>export</span> <span>PATH</span>=<span>"</span><span>$PATH</span><span>:/opt/x86_64-linux-uclibc/bin</span><span>"</span>
</pre>
<p>Now, it’s nice to check, if toolchain works. Let’s write one-liner C hello world program to your temp directory, compile and run:</p>
<pre><span>echo</span><span> -e </span><span>'</span><span>#include &lt;stdio.h&gt;\nint main() {printf("Hello, World!\\n");}</span><span>'</span> <span>&gt;</span>/tmp/main.c
x86_64-linux-uclibc-gcc <span>-static</span> <span>-o</span> /tmp/main /tmp/main.c
/tmp/main
</pre>
<p>And you should see the familiar text on your screen. You are ready to go!</p>

<p>That is, in my opinion, the easiest part. First, we have to download kernel image, that we want to use. For that purpose, we need to go to <a href="https://www.kernel.org/" target="_blank" rel="noopener noreferrer">Kernel Archives</a> and download latest stable tarball. Optionally, we can download PGP signature and verify its correctness. But this is outside the scope of this tutorial. Another option to get kernel is to clone its stable repo with:</p>
<pre>git clone git://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git
</pre>
<p>This is the path, I chose, because I don’t like leaving multiple copies of kernel sources on my hard drive, so I prefer to have one, central clone of repo and use for any project, I need it to.</p>
<p>In case of tarball, it now has to be unpacked with usual:</p>
<pre>tar <span>-xvf</span> linux-*.tar.gz
</pre>
<p>Then, in case of tarball, you got directory with name dependent on you kernel version, in case of git repo, it is simply linux. So we can cd into it, in any of the above cases:</p>
<pre><span>cd</span> linux*
</pre>
<p>In theory at this point, we could set the compiler, we prepared to be run by kernel buildsystem. But this is optional, as we target <code>x86_64</code> platform, that we run our host on, so default compiler should be as good as uClibc variant. I case, you want to use custom one, you have to export the following:</p>
<pre><span>export</span> <span>CROSS_COMPILE</span>=x86_64-linux-uclibc-
</pre>
<p>Now, we have to configure our kernel.</p>
<p>First step is to choose defconfig. Possible values can be listed in case of x86 with:</p>
<pre><span>ls</span> arch/x86/configs/
</pre>
<p>At the time of writing this returned the following options:</p>
<pre>i386_defconfig tiny.config x86_64_defconfig xen.config
</pre>
<p>As you can see, there are only a few. So, we do:</p>
<pre>make x86_64_defconfig
</pre>
<p>At this point, we are ready to compile. In case, you want to do some modifications, you could do:</p>
<pre>make menuconfig
</pre>
<p>And select (or deselect) some options there. If you think, you are ready, you can type:</p>
<pre>make <span>-j</span>
</pre>
<p>And wait couple of minutes (up to half an hour), depending on speed of your PC. Afterwards, you should see that <code>bzImage</code> has been made and is available at <code>arch/x86/boot/bzImage</code>. We can copy it somewhere in order to not accidentally start its recompilation:</p>
<pre>cp arch/x86/boot/bzImage ../
</pre>
<h2>Testing on hardware</h2>
<p>At this point, it is possible to run the kernel on our system. If you don’t have Secure Boot enabled, then you can try to copy the kernel to you EFI System Partition (wherever it is, I will call this path <code>ESP</code> from now on). But first create new directory for your distro:</p>
<pre><span>mkdir</span> <span>-p</span> ESP/EFI/linux
cp arch/x86/boot/bzImage ESP/EFI/linux/linuxx64.efi
</pre>
<p>I am changing the name in the meantime, as I heard that some systems does not like binaries without <code>.efi</code> extension. Now, we can try to boot.There is more than one way to do it. The one that works always is to utilize EFI firmware directly. But this one differs significantly between manufacturers, so if you prefer that one, please refer to his support pages. The other is to use one of existing tools. For sure KeyTool, that manages Secure Boot keys, is able to start any executable from ESP by browsing the filesystem. But the way I would like to show is, by using so called EFI shell. Why? Because EFI shell allows us to experiment with kernel parameters, by simply typing them, as we would start new user program. And, in fact, from EFI perspective, we simply start a new program.</p>
<p>There are many shells in the wild. I tried EDK2, that is available on Arch as <code>edk2-shell</code> package. It is then available at <code>/usr/share/edk2-shell/x64/Shell.efi</code> You can simply copy it to <code>ESP</code>, just like with kernel, then you have to add it to your EFI boot manager, or use boot manager that is able to autodetect it. You can find a bunch of resources on how to do it, even from inside Linux. But, please do not add the kernel, you copied in such way, to boot manager, as we will play with it a bit, later. Now, in EFI shell, you will be presented with a list of partitions, that the shell has detected. This might be not so obvious at first, but, somehow, you have to identify the one, that is you EFI partition. You should see a similar numbering to the one you see in Linux console, when you list with e.g. <code>lsblk</code>. You can try guessing it by typing its name, in similar way as in Windows, e.g.:</p>
<pre>FS0:
</pre>
<p>to switch to <code>FS0</code> partition. Then you can simply type ls to list its content. Once, you found the right one, it’s worth to remember it, as you might need it couple of times. How many, depends on how many problems, you would have.</p>
<p>Then go to the directory, where you copied your kernel:</p>
<pre><span>cd</span> EFI\linux
</pre>
<p>And ls to make sure, it is there. Now, we are ready to call it:</p>
<pre>linuxx64.efi
</pre>
<p>Yes. It’s as simple as that. But this will fail. We did not provide any root filesystem for our kernel, so it will gonna panic. But don’t worry, as long as reason of the panic is like that:</p>
<pre>not syncing: VFS: Unable to mount root fs on unknown-block(0,0)
</pre>
<p>then it was expected. In case of any other error, act accordingly, as this may be hardware dependent. So, probably, something has to be reconfigured in menuconfig.</p>
<h2>Testing in qemu</h2>
<p>It’s quite a nice option to be able to test your work on real hardware. However, in my opinion, it is much easier to do it in virtualized environment, that you can quickly reset at any time and where you would have latest binaries for testing, all the time, without wasting time for flashing them somewhere. Therefore I recommend to prepare qemu as such environment.</p>
<p>For that, you will need …</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://re-ws.pl/2020/11/busybox-based-linux-distro-from-scratch/">https://re-ws.pl/2020/11/busybox-based-linux-distro-from-scratch/</a></em></p>]]>
            </description>
            <link>https://re-ws.pl/2020/11/busybox-based-linux-distro-from-scratch/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25263398</guid>
            <pubDate>Tue, 01 Dec 2020 08:10:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Tiny mobile-friendly interactive fiction game]]>
            </title>
            <description>
<![CDATA[
Score 101 | Comments 19 (<a href="https://news.ycombinator.com/item?id=25262631">thread link</a>) | @memalign
<br/>
November 30, 2020 | https://memalign.github.io/m/dungeon/index.html | <a href="https://web.archive.org/web/*/https://memalign.github.io/m/dungeon/index.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://memalign.github.io/m/dungeon/index.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25262631</guid>
            <pubDate>Tue, 01 Dec 2020 05:30:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[QEMU Advent Calendar 2020]]>
            </title>
            <description>
<![CDATA[
Score 124 | Comments 27 (<a href="https://news.ycombinator.com/item?id=25262608">thread link</a>) | @todsacerdoti
<br/>
November 30, 2020 | https://www.qemu-advent-calendar.org/2020/ | <a href="https://web.archive.org/web/*/https://www.qemu-advent-calendar.org/2020/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
    


    <div id="myCarousel">
      <div>
        <div>
          <div>
            <div>
              <p><img src="https://www.qemu-advent-calendar.org/2020/images/qemu-winter.png" alt="QEMU"></p>
              <h2>Brightening your days in the winter holiday season.</h2>
              <p>
               This advent calendar is brought to you by the
               <a href="https://www.qemu.org/">QEMU community</a>.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div><!-- /.carousel -->

    <div id="day-1">
     <p>
	<img id="img-day01" src="https://www.qemu-advent-calendar.org/2020/images/closed-door.png" alt="Day 1" onclick="opendoor('day01', 'Day 1 - Tweetable bootsector game');">
     </p>
     <h2 id="title-day01">Day 1</h2>
     <div id="desc-day01">
      <p>
        This bootloader game can be generated from text that fits in a tweet.
      </p>
      <p>
       Size of download is 893 bytes.
      </p>
      
     </div>
     <p>
       <a href="https://www.qemu-advent-calendar.org/2020/download/day01.tar.gz" role="button">Download</a>
     </p>
    </div>

    <div id="day-2">
     <p>
       <img id="img-day02" src="https://www.qemu-advent-calendar.org/2020/images/closed-door.png" alt="Day 2" onclick="opendoor('day02', 'Day 2 - QEMU 5.2.0-rc4');">
     </p>
     <h2 id="title-day02">Day 2</h2>
     <div id="desc-day02">
      <p>
       No disk image today, but a new release candidate for QEMU: Version 5.2.0-rc4 has just been published yesterday – please download the package and give it a try! 
      </p>
      <p>
       Size of download is 102 MB
      </p>
      
     </div>
     <p>
       <a href="https://download.qemu.org/qemu-5.2.0-rc4.tar.xz" role="button">Download</a>
     </p>
    </div>

    <div id="day-3">
     <p>
       <img id="img-day03" src="https://www.qemu-advent-calendar.org/2020/images/closed-door.png" alt="Day 3" onclick="opendoor('day03', 'Day 3 - GW-BASIC');">
     </p>
     <h2 id="title-day03">Day 3</h2>
     <div id="desc-day03">
      <p>
	GW-BASIC is a dialect of the BASIC programming language and it came with MS-DOS. It was open-sourced on May 21st 2020 under the MIT License. The famous BASIC game DONKEY.BAS is included as a demo.
      </p>
      <p>
       Size of download is 10.2 MB
      </p>
      
     </div>
     <p>
       <a href="https://www.qemu-advent-calendar.org/2020/download/gw-basic.tar.xz" role="button">Download</a>
     </p>
    </div>

    <div id="day-4">
     <p>
       <img id="img-day04" src="https://www.qemu-advent-calendar.org/2020/images/closed-door.png" alt="Day 4" onclick="zonk('day04');">
     </p>
     <h2 id="title-day04">Day 4</h2>
     <p>
       Image will be available on December 4th.
      </p>
     
    </div>

    <div id="day-5">
     <p>
       <img id="img-day05" src="https://www.qemu-advent-calendar.org/2020/images/closed-door.png" alt="Day 5" onclick="zonk('day05');">
     </p>
     <h2 id="title-day05">Day 5</h2>
     <p>
       Image will be available on December 5th.
      </p>
     
    </div>

    <div id="day-6">
     <p>
       <img id="img-day06" src="https://www.qemu-advent-calendar.org/2020/images/closed-door.png" alt="Day 6" onclick="zonk('day06');">
     </p>
     <h2 id="title-day06">Day 6</h2>
     <p>
       Image will be available on December 6th.
      </p>
     
    </div>

    <div id="day-7">
     <p>
       <img id="img-day07" src="https://www.qemu-advent-calendar.org/2020/images/closed-door.png" alt="Day 7" onclick="zonk('day07');">
     </p>
     <h2 id="title-day07">Day 7</h2>
     <p>
       Image will be available on December 7th.
      </p>
     
    </div>

    <div id="day-8">
     <p>
       <img id="img-day08" src="https://www.qemu-advent-calendar.org/2020/images/closed-door.png" alt="Day 8" onclick="zonk('day08');">
     </p>
     <h2 id="title-day08">Day 8</h2>
     <p>
       Image will be available on December 8th.
      </p>
     
    </div>

    <div id="day-9">
     <p>
       <img id="img-day09" src="https://www.qemu-advent-calendar.org/2020/images/closed-door.png" alt="Day 9" onclick="zonk('day09');">
     </p>
     <h2 id="title-day09">Day 9</h2>
     <p>
       Image will be available on December 9th.
      </p>
     
    </div>


    <div id="day-10">
     <p>
       <img id="img-day10" src="https://www.qemu-advent-calendar.org/2020/images/closed-door.png" alt="Day 10" onclick="zonk('day10');">
     </p>
     <h2 id="title-day10">Day 10</h2>
     <p>
       Image will be available on December 10th.
      </p>
     
    </div>

    <div id="day-11">
     <p>
       <img id="img-day11" src="https://www.qemu-advent-calendar.org/2020/images/closed-door.png" alt="Day 11" onclick="zonk('day11');">
     </p>
     <h2 id="title-day11">Day 11</h2>
     <p>
       Image will be available on December 11th.
      </p>
     
    </div>

    <div id="day-12">
     <p>
       <img id="img-day12" src="https://www.qemu-advent-calendar.org/2020/images/closed-door.png" alt="Day 12" onclick="zonk('day12');">
     </p>
     <h2 id="title-day12">Day 12</h2>
     <p>
       Image will be available on December 12th.
      </p>
     
    </div>

    <div id="day-13">
     <p>
       <img id="img-day13" src="https://www.qemu-advent-calendar.org/2020/images/closed-door.png" alt="Day 13" onclick="zonk('day13');">
     </p>
     <h2 id="title-day13">Day 13</h2>
     <p>
       Image will be available on December 13th.
      </p>
     
    </div>

    <div id="day-14">
     <p>
       <img id="img-day14" src="https://www.qemu-advent-calendar.org/2020/images/closed-door.png" alt="Day 14" onclick="zonk('day14');">
     </p>
     <h2 id="title-day14">Day 14</h2>
     <p>
       Image will be available on December 14th.
      </p>
     
    </div>

    <div id="day-15">
     <p>
       <img id="img-day15" src="https://www.qemu-advent-calendar.org/2020/images/closed-door.png" alt="Day 15" onclick="zonk('day15');">
     </p>
     <h2 id="title-day15">Day 15</h2>
     <p>
       Image will be available on December 15th.
      </p>
     
    </div>

    <div id="day-16">
     <p>
       <img id="img-day16" src="https://www.qemu-advent-calendar.org/2020/images/closed-door.png" alt="Day 16" onclick="zonk('day16');">
     </p>
     <h2 id="title-day16">Day 16</h2>
     <p>
       Image will be available on December 16th.
      </p>
     
    </div>

    <div id="day-17">
     <p>
       <img id="img-day17" src="https://www.qemu-advent-calendar.org/2020/images/closed-door.png" alt="Day 17" onclick="zonk('day17');">
     </p>
     <h2 id="title-day17">Day 17</h2>
     <p>
       Image will be available on December 17th.
      </p>
     
    </div>

    <div id="day-18">
     <p>
       <img id="img-day18" src="https://www.qemu-advent-calendar.org/2020/images/closed-door.png" alt="Day 18" onclick="zonk('day18');">
     </p>
     <h2 id="title-day18">Day 18</h2>
     <p>
       Image will be available on December 18th.
      </p>
     
    </div>

    <div id="day-19">
     <p>
       <img id="img-day19" src="https://www.qemu-advent-calendar.org/2020/images/closed-door.png" alt="Day 19" onclick="zonk('day19');">
     </p>
     <h2 id="title-day19">Day 19</h2>
     <p>
       Image will be available on December 19th.
      </p>
     
    </div>

    <div id="day-20">
     <p>
       <img id="img-day20" src="https://www.qemu-advent-calendar.org/2020/images/closed-door.png" alt="Day 20" onclick="zonk('day20');">
     </p>
     <h2 id="title-day20">Day 20</h2>
     <p>
       Image will be available on December 20th.
      </p>
     
    </div>

    <div id="day-21">
     <p>
       <img id="img-day21" src="https://www.qemu-advent-calendar.org/2020/images/closed-door.png" alt="Day 21" onclick="zonk('day21');">
     </p>
     <h2 id="title-day21">Day 21</h2>
     <p>
       Image will be available on December 21th.
      </p>
     
    </div>

    <div id="day-22">
     <p>
       <img id="img-day22" src="https://www.qemu-advent-calendar.org/2020/images/closed-door.png" alt="Day 22" onclick="zonk('day22');">
     </p>
     <h2 id="title-day22">Day 22</h2>
     <p>
       Image will be available on December 22th.
      </p>
     
    </div>

    <div id="day-23">
     <p>
       <img id="img-day23" src="https://www.qemu-advent-calendar.org/2020/images/closed-door.png" alt="Day 23" onclick="zonk('day23');">
     </p>
     <h2 id="title-day23">Day 23</h2>
     <p>
       Image will be available on December 23th.
      </p>
     
    </div>

    <div id="day-24">
     <p>
       <img id="img-day24" src="https://www.qemu-advent-calendar.org/2020/images/closed-door.png" alt="Day 24" onclick="zonk('day24');">
     </p>
     <h2 id="title-day24">Day 24</h2>
     <p>
       Image will be available on December 24th.
      </p>
     
    </div>

    <hr>

    <div>

      <div id="about">
        <h2>About</h2>
        <p>
          The QEMU Advent Calendar 2020 features a QEMU disk image each day of
          December until the 24th. Each day a new package becomes available
          for download.
        </p>
        <p>
          Every download contains a little 'run' shell script that starts the
          QEMU emulator with the recommended parameters for the disk image.
          Disk images are either contained directly in the download or are
          downloaded by the 'run' script (you need to have installed 'curl' or
          'wget' in that case).
        </p>
        <p>
          The disk images contain interesting operating systems and software
          that run under the QEMU emulator. Some of them are well-known or
          not-so-well-known operating systems, old and new, others are custom
          demos and neat algorithms.
        </p>
        <p>
          The 'run' scripts (and disk images if included in the download)
          were created by volunteers from the QEMU community to showcase cool
          software that QEMU can run.
        </p>
      </div>

      

      <hr>

      

    </div><!-- /.container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    
    
  

</div>]]>
            </description>
            <link>https://www.qemu-advent-calendar.org/2020/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25262608</guid>
            <pubDate>Tue, 01 Dec 2020 05:23:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why do I care the open web is dying?]]>
            </title>
            <description>
<![CDATA[
Score 373 | Comments 328 (<a href="https://news.ycombinator.com/item?id=25261132">thread link</a>) | @archajain
<br/>
November 30, 2020 | https://insightbrowser.com/blog/open-web-dying-why-care | <a href="https://web.archive.org/web/*/https://insightbrowser.com/blog/open-web-dying-why-care">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content"><div><div><p><em>Part 1: How your user experience changes for the worse as the open web gives way to walled gardens</em></p><p>I hang out in two circles. Open web enthusiasts that are lamenting its demise, and regular users who are happy with their fast snappy apps and couldn't care less. </p><p>These groups have a hard time talking because the "open web" too often comes across as an idealistic abstract notion and most end users just don't tangibly feel the bad consequences. In fact, they're often happier with the snappy, vertically integrated experience of closed app ecosystems. </p><p>My goal here is to make it more palpable how everyday apps, searches and tools get worse when we let big centralized companies take over the web, and explore some paths for reversing it.</p><h2>What is the open web?</h2><p>Most definitions of the "open web" I've seen are either too technical to be accessible or too abstract to be usable and getting gridlocked in this debate often means watching from the sidelines while actual user welfare slowly diminishes.</p><p>Three characteristics that proponents of the open web will agree to in roughly descending order are:</p><ul><li><strong>Ease of publishing</strong>: anyone can publish to it freely or at least very cheaply, and is on the same footing with a globally accessible URL</li><li><strong>Ease of consuming</strong>: Net neutrality — ISP's dont cut deals with corporations to make some websites load faster or cheaper than others.</li><li><strong>Ease of remixing</strong>. You can see the source code. Content licenses and tools are permissive for derived works.</li></ul><h2>Detour: A framework to break down how people use the web</h2><p>I want to focus on the user experience point of view. To do this, I'm going to introduce a framework that divides up all our internet usage into two categories.</p><p><img src="https://landen.imgix.net/blog_uSsTzKptQlxlvUvQ/assets/xscGdbWOOPkGjdER.png" alt="Frame 1.png"></p><h3><strong>Unfamiliar problems</strong></h3><p>You have an unfamiliar problem and to solve it you either need to learn something new, or purchase goods or services to solve it</p><ul><li>e.g. taking out a mortgage, a health problem in the family, where to go to college, what skill to acquire next.</li><li>Unfamiliar problems are solved in large part with acquiring new knowledge, not just products or services.</li><li>These user journeys start with search engines — Google predominantly and **a lot of the time solving them is spent on web pages**.</li><li>When people are looking to solve unfamiliar problems, **revenue is typically higher-margin**, because users can't price the products and services as well.</li><li>These ultimately transition to being familiar problems.</li></ul><h3><strong>Familiar problems</strong></h3><ul><li>e.g. being entertained, keeping the dog food in stock,</li><li>These are best solved with apps like Email, Netflix, Twitter, DTC subscription boxes, etc.</li><li>Solving these needs has a very well defined user interaction journey. You open the app you're familiar with and follow its standard flow.</li><li>Revenue from people solving familiar problems is typically lower-margin and there's more competing products.
</li></ul><h3>How we're spending our time on familiar vs. unfamiliar problems</h3><p>Using time spent in apps vs mobile web on mobile is a way to proxy how we divide up our time.<strong> We spend most of our time on familiar problems but have a constant trickle of unfamiliar problems</strong>.</p><p><img src="https://landen.imgix.net/blog_uSsTzKptQlxlvUvQ/assets/cPuXkKFELALeIAkI.png" alt="Untitled (1).png"></p><h2>Unfamiliar problems are better solved with the open web</h2><p>Think about the last time you did some research, e.g. choosing a phone plan. You asked your friends, compared on forums, looked at the official sites, scribbled some notes and made a decision. Even if this journey was quick, you likely traversed a dozen services and products to do this.</p><p>Unfamiliar problems have less constraints, require creativity to solve, and thus are better suited to open solutions. Some other things that work for the open web here</p><ul><li>comparing alternatives is easier.</li><li>changing modalities (e.g. from reading to video) is easier.</li></ul><h2>Familiar problems stand to benefit more from tight vertical integration</h2><p>Take Spotify for example. It solves the very familiar problem of listening to music. Spotify just works better as an app because</p><ul><li>Controlling the user experience end to end makes for smoother flows.</li><li>Having all the user data kept with Spotify allows for better recommendation algorithms.</li><li>Spotify can easily hand off between devices.</li><li>It can run in the background</li></ul><p>Sure, the web can do a bunch of these things, but they're simply not first-class considerations in the open-read-close workflow that the browser was designed for.</p><h2>But the open web can be better for familiar problems too, especially for breaking monopolies</h2><p>Let's look at Amazon. Initially you start buying there because of their "always low prices" and the convenience of 2 day shipping. Over the years you keep shopping there, until you've forgotten that </p><ol><li>free 2 day shipping is now near universal</li><li>amazon isn't often the cheapest place</li></ol><p>On the Amazon app, you see the story around the product that best serves Amazon, not the buyer. Meanwhile, over on Insight you can use the web version and do all these things the app can't.</p><p><img src="https://landen.imgix.net/blog_uSsTzKptQlxlvUvQ/assets/ZEblynrLvBsutnlQ.png" alt="Screen Shot 2020-11-17 at 5.42.21 PM.png"></p><p>... and not just that

</p><p><img src="https://landen.imgix.net/blog_uSsTzKptQlxlvUvQ/assets/JVZoTRazmYPZXBQQ.png" alt="Screen Shot 2020-11-17 at 5.59.22 PM.png"></p><h2><strong>How solving unfamiliar problems gets harder too</strong></h2><p>Unfamiliar problems are solved in large part with acquiring new knowledge, not just products or services. The incentives to freely create knowledge that solves unfamiliar problems is lost as the web closes down.</p><ul><li>Google increasingly takes a larger percent of ad revenue as they <a href="https://sparktoro.com/blog/less-than-half-of-google-searches-now-result-in-a-click/">start extracting answers from pages and showing them on their search result pages.</a><a href="https://sparktoro.com/blog/less-than-half-of-google-searches-now-result-in-a-click/"></a></li><li><a href="https://sparktoro.com/blog/less-than-half-of-google-searches-now-result-in-a-click/"></a>Publishers have to either a) paywall their content (e.g. NYTimes) or b) subtly sell products (everyone standing a Wirecutter alternative), or c) ask for donations in order to survive.</li><li>Only a few big name publishers survive. Google and Facebook start sending them more of the traffic that's left, and since domain rank plays a big part in Google's ranking, those that survived assimilate more power and rank better.</li><li>and search engines seem more littered with SEO junk and less actually useful information year over year.</li></ul><h2>In conclusion, and where we fit in.</h2><p>And that's how your user experience slowly degrades, and that's why we stand to suffer as users if we give up the ability to remix software that the web brought us and closed apps are now taking away. </p><p>Our goal with Insight is to give the web (in particular on mobile) a fighting chance by exhibiting how it can be more powerful than a closed ecosystem and give more control to the end-user. We do this by showcasing the web's infinite extensibility and customizability for common use cases like <a href="http://insightbrowser.com/collections/search">search</a>, <a href="https://insightbrowser.com/collections/shopping">shopping</a>, <a href="https://insightbrowser.com/collections/reading">reading</a> and <a href="https://insightbrowser.com/collections/cooking">cooking</a>.</p><p>Insight's advanced features will soon only be available to Pro subscription users but for a limited time we're opening up <strong>lifetime free beta access if you download it via TestFlight below.</strong></p><h3>Coming up in part 2</h3><ul><li>What parts of the open web probably should die off?</li><li>A pragmatic path for what's left of the open web to thrive again.</li></ul><p>We'd love to hear from you, feel free to tweet at or DM us at @<a href="https://twitter.com/insightbrowser">insightbrowser</a>, and my personal Twitter is <a href="https://twitter.com/abhinavsharma">@abhinavsharma</a>.</p></div></div></div></div>]]>
            </description>
            <link>https://insightbrowser.com/blog/open-web-dying-why-care</link>
            <guid isPermaLink="false">hacker-news-small-sites-25261132</guid>
            <pubDate>Tue, 01 Dec 2020 01:16:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[H. G. Wells reviews "Metropolis" (1927)]]>
            </title>
            <description>
<![CDATA[
Score 114 | Comments 59 (<a href="https://news.ycombinator.com/item?id=25258616">thread link</a>) | @pmoriarty
<br/>
November 30, 2020 | https://erkelzaar.tsudao.com/reviews/H.G.Wells_on_Metropolis%201927.htm | <a href="https://web.archive.org/web/*/https://erkelzaar.tsudao.com/reviews/H.G.Wells_on_Metropolis%201927.htm">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <blockquote>
    <blockquote>
      <blockquote>
              <p><i><span color="#00CCFF"> <img src="https://erkelzaar.tsudao.com/reviews/metro200.jpg" width="286" height="208">H.G. 
                Wells wrote a review of the German film "Metropolis" 
                for the </span></i><span color="#00CCFF">New York Times</span><i><span color="#00CCFF"> 
                which was published on April 17, 1927. <p>
                
                Most people find the film (even in its surviving truncated versions) 
                rather brilliant, but Wells didn't like it much, perhaps because 
                he believes it was 'plagiarized' from his "When The Sleeper 
                Wakes."</p></span></i></p>
<p>I have recently seen the silliest film.  </p>
<p>I do not believe it
would be possible to make one sillier.  </p>
<p>And as this film sets out to display the
way the world is going,  </p>
<p>I think [my book] The Way the World is Going may very
well concern itself with this film.  </p>
<p>It is called Metropolis, it comes from the
great Ufa studios in Germany, and the public is given to understand that it has
been produced at enormous cost.  </p>
<p>It gives in one eddying concentration almost
every possible foolishness, cliché, platitude, and muddlement about mechanical
progress and progress in general served up with a sauce of sentimentality that
is all its own.</p>
<p><img src="https://erkelzaar.tsudao.com/reviews/metro163.jpg" width="485" height="745"></p>
<p>It is a
German film and there have been some amazingly good German films, before they
began to cultivate bad work under cover of a protective quota. And this film has
been adapted to the Anglo-Saxon taste, and quite possibly it has suffered in the
process, but even when every allowance has been made for that, there remains
enough to convince the intelligent observer that most of its silliness must be
fundamental.  </p>
<p>Possibly I dislike this soupy whirlpool none the less because I
find decaying fragments of my own juvenile work of thirty years ago, The Sleeper
Awakes, floating about in it. </p>
<p>Capek's Robots have been lifted without apology,
and that soulless mechanical monster of Mary Shelley's, who has fathered so many
German inventions, breeds once more in this confusion.  </p>
<p>Originality there is
none. Independent thought, none.  </p>
<p>Where nobody has imagined for them the authors
have simply fallen back on contemporary things.  </p>
<p>The aeroplanes that wander about above the great city show no 
advance on contemporary types, though all that stuff could have been livened up 
immensely with a few helicopters and vertical or unexpected movements. </p>
<p>The motor cars are 1926 models or earlier. I do not think there 
is a single new idea, a single instance of artistic creation or even intelligent 
anticipation, from first to last in the whole pretentious stew; I may have 
missed some point of novelty, but I doubt it; and this, though it must bore the 
intelligent man in the audience, makes the film all the more convenient as a 
gauge of the circle of ideas, the mentality, from which it has proceeded.</p>
<p>The word Metropolis, says the advertisement in English, 'is
in itself symbolic of greatness'- which only shows us how wise it is to consult
a dictionary before making assertions about the meaning of words.  </p>
<p>Probably it
was the adapter who made that shot. The German 'Neubabelsburg' was better, and
could have been rendered 'New Babel'. It is a city, we are told, of 'about one
hundred years hence.' It is represented as being enormously high; and all the
air and happiness are above and the workers live, as the servile toilers in the
blue uniform in The Sleeper Awakes lived, down, down, down below.</p>
<p>Now far away in the dear old 1897 it may have been excusable
to symbolize social relations in this way, but that was thirty years ago, and a
lot of thinking and some experience intervene.  </p>
<p>That vertical city of the future
we know now is, to put it mildly, highly improbable. Even in New York and
Chicago, where the pressure on the central sites is exceptionally great, it is
only the central office and entertainment region that soars and excavates. And
the same centripetal pressure that leads to the utmost exploitation of site
values at the centre leads also to the driving out of industrialism and labour
from the population center to cheaper areas, and of residential life to more
open and airy surroundings. That was all discussed and written about before
1900. Somewhere about 1930 the geniuses of Ufa studios will come up to a book of
Anticipations which was written more than a quarter of a century ago. The
British census returns of 1901 proved clearly that city populations were
becoming centrifugal, and that every increase in horizontal traffic facilities
produced a further distribution. This vertical social stratification is stale
old stuff. So far from being 'a hundred years hence,' Metropolis, in its forms
and shapes, is already, as a possibility, a third of a century out of date.</p>
<p>But its form is the least part of its staleness. This great
city is supposed to be evoked by a single dominating personality. The English
version calls him John Masterman, so that there may be no mistake about his
quality. Very unwisely he has called his son Eric, instead of sticking to good
hard John, and so relaxed the strain. He works with an inventor, one Rotwang,
and they make machines. There are a certain number of other people, and the
'sons of the rich' are seen disporting themselves, with underclad ladies in a
sort of joy conservatory, rather like the 'winter garden' of an enterprising
1890 hotel during an orgy. The rest of the population is in a state of abject
slavery, working in 'shifts' of ten hours in some mysteriously divided
twenty-four hours, and with no money to spend or property or freedom. The
machines make wealth. How, is not stated. We are shown rows of motor cars all
exactly alike; but the workers cannot own these, and no 'sons of the rich'
would. Even the middle classes nowadays want a car with personality. Probably
Masterman makes these cars in endless series to amuse himself.</p>
              <p><span face="Times New Roman"><img src="https://erkelzaar.tsudao.com/reviews/metro50.jpg" width="254" height="430"></span>One 
                is asked to believe that these machines are engaged quite furiously 
                in the mass production of nothing that is ever used, and that 
                Masterman grows richer and richer in the process. This is the 
                essential nonsense of it all. Unless the mass of the population 
                has the spending power there is no possibility of wealth in a 
                mechanical civilization. A vast, penniless slave population may 
                be necessary for wealth where there are no mass production machines, 
                but it is preposterous with mass production machines. You find 
                such a real proletariat in China still; it existed in the great 
                cities of the ancient world; but you do not find it in America, 
                which has gone furtherest in the direction of mechanical industry, 
                and there is no grain of reason in supposing it will exist in 
                the future. Masterman's watchword is 'Efficiency,' and you are 
                given to understand it is a very dreadful word, and the contrivers 
                of this idiotic spectacle are so hopelessly ignorant of all the 
                work that has been done upon industrial efficiency that they represent 
                him as working his machine-minders to the point of exhaustion, 
                so that they faint and machines explode and people are scalded 
                to death. You get machine-minders in torment turning levers in 
                response to signals - work that could be done far more effectively 
                by automata. Much stress is laid on the fact that the workers 
                are spiritless, hopeless drudges, working reluctantly and mechanically. 
                But a mechanical civilization has no use for mere drudges; the 
                more efficient its machinery the less need there is for the quasi-mechanical 
                minder. It is the inefficient factory that needs slaves; the ill-organized 
                mine that kills men. The hopeless drudge stage of human labour 
                lies behind us. With a sort of malignant stupidity this film contradicts 
                these facts.</p>
<p>The current tendency of economic life is to oust the mere
drudge altogether, to replace much highly skilled manual work by exquisite
machinery in skilled hands, and to increase the relative proportion of
semi-skilled, moderately versatile and fairly comfortable workers. It may indeed
create temporary masses of unemployed, and in The Sleeper Awakes there was a
mass of unemployed people under the hatches. That was written in 1897, when the
possibility of restraining the growth of large masses of population had scarcely
dawned on the world. It was reasonable then to anticipate an embarrassing
underworld of under-productive people. We did not know what to do with the
abyss. But there is no excuse for that today. And what this film anticipates is
not unemployment, but drudge employment, which is precisely what is passing
away. Its fabricators have not even realized that the machine ousts the drudge.</p>
<p>'Efficiency' means large-scale productions, machinery as
fully developed as possible, and <i>high</i> <i>wages</i>. The British
Government delegation sent to study success in America has reported unanimously
to that effect. The increasingly efficient industrialism of America has so
little need of drudges that it has set up the severest barriers against the
flooding of the United States by drudge immigration. 'Ufa' knows nothing of such
facts.</p>
<p>A young woman appears from nowhere in particular to 'help'
these drudges; she impinges upon Masterman's son Eric, and they go to the
'Catacombs,' which, in spite of the gas mains, steam mains, cables, and
drainage, have somehow contrived to get over from Rome, skeletons and all, and
burrow under this city of Metropolis. She conducts a sort of Christian worship
in these unaccountable caverns, and the drudges love and trust her. With a nice
sense of fitness she lights herself about the Catacombs with a torch instead of
the electric lamps that are now so common.</p>
<p>That reversion to torches is quite typical …</p></blockquote></blockquote></blockquote></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://erkelzaar.tsudao.com/reviews/H.G.Wells_on_Metropolis%201927.htm">https://erkelzaar.tsudao.com/reviews/H.G.Wells_on_Metropolis%201927.htm</a></em></p>]]>
            </description>
            <link>https://erkelzaar.tsudao.com/reviews/H.G.Wells_on_Metropolis%201927.htm</link>
            <guid isPermaLink="false">hacker-news-small-sites-25258616</guid>
            <pubDate>Mon, 30 Nov 2020 20:34:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Running a full desktop environment on a Kindle (2019)]]>
            </title>
            <description>
<![CDATA[
Score 194 | Comments 50 (<a href="https://news.ycombinator.com/item?id=25257772">thread link</a>) | @slondr
<br/>
November 30, 2020 | https://nns.ee/blog/2019/04/14/chroot-shenanigans-2.html | <a href="https://web.archive.org/web/*/https://nns.ee/blog/2019/04/14/chroot-shenanigans-2.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
    <p><a href="https://nns.ee/blog/2019/03/21/chroot-shenanigans.html">In my previous post</a>, I described running Arch on an OpenWRT router. Today, I’ll be taking it a step further and running Arch and a full LXDE installation natively on an Amazon Kindle, which can be interacted with directly using the touch screen. This is possible thanks to the Kindle’s operating system being Linux!
<!--description--></p>

<p>You can see the end result in action <a href="https://youtu.be/Bx386xpDqCY">here</a>. Apologies for the shaky video - it was shot using my phone and no tripod.</p>

<p>If you’re wanting to follow along, make sure you’ve <a href="https://wiki.mobileread.com/wiki/5_x_Jailbreak">rooted your Kindle</a> beforehand. This is essential – without it, it’s impossible to run custom scripts or binaries.</p>

<p>I’m testing this on an 8th generation Kindle (KT3) – it should, however, work for all recent Kindles given you’ve enough storage and are rooted. You also need to set up <a href="https://www.mobileread.com/forums/showthread.php?t=225030">USBnetwork</a> for SSH access and optionally <a href="https://www.mobileread.com/forums/showthread.php?t=203326">KUAL</a> if you want a simple way of launching the chroot.</p>

<p>First things first: We need to set up a filesystem and extract an Arch installation into it, which we can later chroot into. The filesystem will be a file which will be mounted as a loop device. The reason why we’re not extracting the Arch installation directly into a directory on the Kindle is because the Kindle’s storage filesystem is FAT32. FAT32 doesn’t support required features such as symbolic links, which would break the Arch installation. Please note that this also means that your chroot filesystem can be 4 gigabytes large, at maximum. This can be worked around by mounting the real root inside the chroot filesystem, which it’s still a hacky way to go about it. But I digress.</p>

<p>First, figure out how large your filesystem actually can be. SSH into your Kindle and see how much free space you have:</p>
<div><div><pre><code><span>$</span><span> </span>ssh root@192.168.15.244
<span>
</span><span>kindle#</span><span> </span><span>df</span> <span>-k</span> /mnt/base-us
<span>Filesystem   1K-blocks  Used    Available  Use%  Mounted on
/dev/loop/0  3188640    361856  2826784    11%   /mnt/base-us
</span></code></pre></div></div>

<p>Seems like we have around 2800000K (around 2.8G) of space available. Let’s make our filesystem 2.6G – it’s enough to host our root filesystem and some extra applications, such as LXDE. Note that I’ll be running the following commands on my PC and transferring the filesystem over later. You can also do all of this on the Kindle, but it’s simply easier and faster this way.</p>

<p>Let’s create a blank file of the wanted size. I’m using <code>dd</code>, but you can also use <code>fallocate</code> for this:</p>
<div><div><pre><code><span>$</span><span> </span><span>dd </span><span>if</span><span>=</span>/dev/zero <span>of</span><span>=</span>arch.img <span>bs</span><span>=</span>1024 <span>count</span><span>=</span>2600000
<span>2600000+0 records in
2600000+0 records out
2662400000 bytes (2.7 GB, 2.5 GiB) copied, 6.92058 s, 385 MB/s
</span></code></pre></div></div>

<p>Let’s create our filesystem on it. Since we’re doing this on the PC, we need make it 32bit and disable the <code>metadata_csum</code> and <code>huge_file</code> options on the filesystem, as the Kindle’s ext4 kernel doesn’t support them.</p>
<div><div><pre><code><span>$</span><span> </span>mkfs.ext4 <span>-O</span> ^64bit,^metadata_csum,^huge_file arch.img
<span>mke2fs 1.45.0 (6-Mar-2019)
Discarding device blocks: done                            
Creating filesystem with 650000 4k blocks and 162560 inodes
Filesystem UUID: a4e72620-368a-44b4-81bb-9e66b2903523
Superblock backups stored on blocks: 
	32768, 98304, 163840, 229376, 294912

Allocating group tables: done                            
Writing inode tables: done                            
Creating journal (16384 blocks): done
Writing superblocks and filesystem accounting information: done 
</span></code></pre></div></div>

<p>This is optional, but I’ll also disable periodic filesystem checks on it:</p>
<div><div><pre><code><span>$</span><span> </span>tune2fs <span>-c</span> 0 <span>-i</span> 0 arch.img                               
<span>tune2fs 1.45.0 (6-Mar-2019)         
Setting maximal mount count to -1
Setting interval between checks to 0 seconds
</span></code></pre></div></div>

<p>Next it’s time to mount the filesystem:</p>
<div><div><pre><code><span>$</span><span> </span><span>mkdir </span>rootfs
<span>$</span><span> </span><span>sudo </span>mount <span>-o</span> loop arch.img rootfs/
</code></pre></div></div>

<p>The Kindle I’m using has a Cortex-A9-based processor, so let’s download the ARMv7 version of Arch Linux ARM from <a href="http://os.archlinuxarm.org/os/ArchLinuxARM-armv7-latest.tar.gz">here</a>. You can download it and extract then, or simply download and extract at the same time:</p>
<div><div><pre><code><span>$</span><span> </span>curl <span>-L</span> http://os.archlinuxarm.org/os/ArchLinuxARM-armv7-latest.tar.gz | <span>sudo tar </span>xz <span>-C</span> rootfs/
</code></pre></div></div>

<p><code>sudo</code> is required to extract as it sets up a lot of files with root permissions. You can ignore the errors about <code>SCHILY.fflags</code>. Verify that the files extracted successfully with <code>ls -l rootfs/</code>.</p>

<p>Let’s prepare our Kindle for the filesystem. I opted for hosting the filesystem in <code>extensions/karch</code> as I want to use KUAL for easy launching:</p>
<div><div><pre><code><span>$</span><span> </span>ssh root@192.168.15.244
<span>
</span><span>kindle#</span><span> </span><span>mkdir</span> <span>-p</span> /mnt/base-us/extensions/karch
</code></pre></div></div>

<p>While we’re here, it’s also a good idea to stop the power daemon to prevent the Kindle from going into sleep mode while transferring the filesystem and interrupting our transfer:</p>
<div><div><pre><code><span>kindle#</span><span> </span>stop powerd
<span>powerd stop/waiting
</span></code></pre></div></div>

<p>Let’s transfer our filesystem:</p>
<div><div><pre><code><span>kindle#</span><span> </span><span>exit</span>
<span>Connection to 192.168.15.244 closed.

</span><span>$</span><span> </span>scp arch.img root@192.168.15.244:/mnt/base-us/extensions/karch/
</code></pre></div></div>

<p>This might take quite a bit of time, depending on your connection.</p>

<p>Once it’s done, let’s SSH in once again and set up our mountpoint:</p>
<div><div><pre><code><span>$</span><span> </span>ssh root@192.168.15.244
<span>
</span><span>kindle#</span><span> </span><span>cd</span> /mnt/base-us/extensions/karch/
<span>kindle#</span><span> </span><span>mkdir </span>system
</code></pre></div></div>

<p>I decided to set up my own loop device, so I can have it named, but you can ignore this and opt to use <code>/dev/loop/12</code> or similar instead. Just make sure it’s already not in use with <code>mount</code>.</p>

<p>Setting up a loop point and mounting the filesystem:</p>
<div><div><pre><code><span>kindle#</span><span> </span><span>mknod</span> <span>-m0660</span> /dev/loop/karch b 7 250
<span>kindle#</span><span> </span>mount <span>-o</span> <span>loop</span><span>=</span>/dev/loop/karch <span>-t</span> ext4 arch.img system/
</code></pre></div></div>

<p>We should also mount some system directories into it:</p>
<div><div><pre><code><span>kindle#</span><span> </span>mount <span>-o</span> <span>bind</span> /dev system/dev
<span>kindle#</span><span> </span>mount <span>-o</span> <span>bind</span> /dev/pts system/dev/pts
<span>kindle#</span><span> </span>mount <span>-o</span> <span>bind</span> /proc system/proc
<span>kindle#</span><span> </span>mount <span>-o</span> <span>bind</span> /sys system/sys
<span>kindle#</span><span> </span>mount <span>-o</span> <span>bind</span> /tmp system/tmp
<span>kindle#</span><span> </span><span>cp</span> /etc/hosts system/etc/
</code></pre></div></div>

<p>It’s time to chroot into our new system and set it up for LXDE. You can also use this opportunity to set up whatever applications you need, such as an onscreen keyboard:</p>
<div><div><pre><code><span>kindle#</span><span> </span><span>chroot </span>system/ /bin/bash
<span>chroot#</span><span> </span><span>echo</span> <span>'en_US.UTF-8 UTF-8'</span> <span>&gt;</span> /etc/locale.gen 
<span>chroot#</span><span> </span>locale-gen
<span>chroot#</span><span> </span><span>rm</span> /etc/resolv.conf 
<span>chroot#</span><span> </span><span>echo</span> <span>'nameserver 8.8.8.8'</span> <span>&gt;</span> /etc/resolv.conf
<span>chroot#</span><span> </span>pacman-key <span>--init</span> <span># this will take a while</span>
<span>chroot#</span><span> </span>pacman-key <span>--populate</span>
<span>chroot#</span><span> </span>pacman <span>-Syu</span> <span>--noconfirm</span>
<span>chroot#</span><span> </span>pacman <span>-S</span> lxde xorg-server-xephyr <span>--noconfirm</span>
</code></pre></div></div>

<p>We use Xephyr because it’s the easiest way to get our LXDE session up and running. Since the Kindle uses X11 natively, we can try using that. It’s possible to stop the native window manager using <code>stop lab126_gui</code> outside the chroot, but then the Kindle will stop updating the screen with new data, leaving it blank – forcing you to use something like <code>eips</code> to refresh the screen. The X server still works, however, and you can confirm this by using something like <code>x11vnc</code> after running your own WM in it. Xephyr spawns a new X server inside the preexisting X server, which is not as efficient but a lot easier.</p>

<p>We can however stop everything else related to the native GUI, as we need the extra memory and we can’t use it while LXDE is running anyways:</p>
<div><div><pre><code><span>chroot#</span><span> </span><span>exit</span>
<span>kindle#</span><span> </span><span>SERVICES</span><span>=</span><span>"framework pillow webreader kb contentpackd"</span>
<span>kindle#</span><span> </span><span>for </span>service <span>in</span> <span>${</span><span>SERVICES</span><span>}</span><span>;</span> <span>do </span>stop <span>${</span><span>service</span><span>}</span><span>;</span> <span>done</span>
</code></pre></div></div>

<p>While we’re here, we need to get the screen size for later:</p>
<div><div><pre><code><span>kindle#</span><span> </span>eips <span>-i</span> | <span>grep</span> <span>'xres:'</span> | <span>awk</span> <span>'{print $2"x"$4}'</span>
<span>600x800
</span></code></pre></div></div>

<p>Let’s chroot back into the system and see if we can get LXDE to run. Be sure to replace the screen size parameter if needed:</p>
<div><div><pre><code><span>kindle#</span><span> </span><span>chroot </span>system/ /bin/bash
<span>chroot#</span><span> </span><span>export </span><span>DISPLAY</span><span>=</span>:0
<span>chroot#</span><span> </span>Xephyr :1 <span>-title</span> <span>"L:A_N:application_ID:xephyr"</span> <span>-screen</span> 600x800 <span>-cc</span> 4 <span>-nocursor</span> &amp;
<span>chroot#</span><span> </span><span>export </span><span>DISPLAY</span><span>=</span>:1
<span>chroot#</span><span> </span>lxsession &amp;
<span>chroot#</span><span> </span>xrandr <span>-o</span> right
</code></pre></div></div>

<p>If everything goes well, you should have LXDE visible on your Kindle’s screen. Ta-da! Feel free to play around with it. I’ve found that the touch screen is suprisingly accurate, even though it is using an IR LED system to detect touches instead of a normal digitizer.</p>

<p>Once done in the chroot, Ctrl-C + Ctrl-D can be issued to exit the chroot. We can then restore the Kindle UI by doing:</p>
<div><div><pre><code><span>kindle#</span><span> </span><span>for </span>service <span>in</span> <span>${</span><span>SERVICES</span><span>}</span><span>;</span> <span>do </span>start <span>${</span><span>service</span><span>}</span><span>;</span> <span>done</span>
</code></pre></div></div>

<p>It might take a while for anything to display again.</p>

<p>I’ve mentioned setting up a KUAL extension to automate the entering and exiting of the chroot. You can find that <a href="https://github.com/neonsea/karch">here</a>. If you’re interested in using this, make sure you’ve set up your filesystem first and copied it over to the same directory as the extension, and that it’s named <code>arch.img</code>. Everything else is not mandatory - the extension will do it for you.</p>

  </div></div>]]>
            </description>
            <link>https://nns.ee/blog/2019/04/14/chroot-shenanigans-2.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25257772</guid>
            <pubDate>Mon, 30 Nov 2020 19:25:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[M1 Mac mini overtakes entire Japanese desktop market in less than 2 weeks]]>
            </title>
            <description>
<![CDATA[
Score 86 | Comments 64 (<a href="https://news.ycombinator.com/item?id=25257488">thread link</a>) | @gumby
<br/>
November 30, 2020 | https://appleterm.com/2020/11/30/m1-mac-mini-desktop-market-share-japan/ | <a href="https://web.archive.org/web/*/https://appleterm.com/2020/11/30/m1-mac-mini-desktop-market-share-japan/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main" itemscope="itemscope" itemtype="https://schema.org/CreativeWork">
<div data-sidebar="right" data-v-spacing="top:bottom" data-structure="default:boxed">
<section>
<article id="post-20363">
<section data-type="type-1">

</section>
<div> <figure><img onload="Wpfcll.r(this,true);" src="https://appleterm.com/wp-content/plugins/wp-fastest-cache-premium/pro/images/blank.gif" loading="lazy" width="1024" height="576" data-wpfc-original-src="https://appleterm.com/wp-content/uploads/2020/11/m1-mac-mini-market-in-japan-overtake-rect-1-1024x576.jpg" alt="m1 mac mini market in japan overtake rect 1" data-wpfc-original-srcset="https://appleterm.com/wp-content/uploads/2020/11/m1-mac-mini-market-in-japan-overtake-rect-1-1024x576.jpg 1024w, https://appleterm.com/wp-content/uploads/2020/11/m1-mac-mini-market-in-japan-overtake-rect-1-300x169.jpg 300w, https://appleterm.com/wp-content/uploads/2020/11/m1-mac-mini-market-in-japan-overtake-rect-1-768x432.jpg 768w, https://appleterm.com/wp-content/uploads/2020/11/m1-mac-mini-market-in-japan-overtake-rect-1.jpg 1200w" sizes="(max-width: 1024px) 100vw, 1024px" title="M1 Mac mini overtakes entire Japanese desktop market in less than 2 weeks 1"></figure> <p>In just under 2 weeks since launch, the <a href="https://appleterm.com/2020/11/10/apple-announces-refreshed-mac-mini-at-one-more-thing-event/">M1 powered Mac mini</a> has catapulted <a href="https://apple.com/" target="_blank" rel="noopener">Apple</a> to the top rank in the desktop market in Japan by a whopping 14.4%, according to market data by <em><a href="https://www.bcnretail.com/research/detail/20201129_201698.html" target="_blank" rel="noopener">BCN Retail</a>.</em></p> <p><a href="https://www.bcnretail.com/research/detail/20201129_201698.html" target="_blank" rel="noopener">Data</a> between August and November 3rd, a little more than a week prior to the launch of the <a href="https://www.bcnretail.com/research/detail/20201129_201698.html" target="_blank" rel="noopener">M1 Mac mini</a> shows <a href="https://apple.com/" target="_blank" rel="noopener">Apple</a> at around 15% share in the desktop market, behind Lenovo Japan. However, following the launch of the new <a href="https://appleterm.com/2020/11/10/apple-announces-refreshed-mac-mini-at-one-more-thing-event/">Mac mini on November 17th</a>, Apple charged forward to a whopping 27.1% market share, a 14.4% increase from just the start of the month.</p> <p>The <a href="https://appleterm.com/2020/11/10/apple-announces-refreshed-mac-mini-at-one-more-thing-event/">new Mac mini</a> is the first desktop computer from Apple with the new <a href="https://apple.com/mac/m1" target="_blank" rel="noopener">Apple Silicon</a>. The new chip has gotten <a href="https://appleterm.com/2020/11/17/apple-silicon-mac-reviews-exceeds-almost-every-expectation/">nothing but praise</a> for its <a href="https://appleterm.com/2020/11/28/m1-intel-tiger-lake/">incredible performance</a> and outstanding battery life on the <a href="https://appleterm.com/2020/11/10/apple-reveals-silicon-based-macbook-air/">MacBook Air</a> and <a href="https://appleterm.com/2020/11/10/apple-announces-new-macbook-pros-at-one-more-thing-event/">MacBook Pro</a>. The <a href="https://appleterm.com/2020/11/10/apple-announces-refreshed-mac-mini-at-one-more-thing-event/">Mac mini</a> is the smallest-form factor desktop that <a href="https://apple.com/" target="_blank" rel="noopener">Apple</a> offers alongside the iMac, iMac Pro, and Mac Pro.</p> <p>Apple will have fully moved its entire lineup to Apple Silicon away from Intel in 2 years <a href="https://appleterm.com/2020/06/22/live-feed-wwdc2020/">according to CEO Tim Cook</a>. That transition is already underway and more devices are expected to join the Apple Silicon family early next year, including a <a href="https://appleterm.com/2020/11/25/kuo-5g-ipad-macbook-apple-watch-redesign/">redesigned 16-inch MacBook Pro</a> and <a href="https://appleterm.com/2020/10/27/arm-based-imac-a14t-chip-in-q1-of-2021/">iMac</a>.</p></div><nav>
<a href="https://appleterm.com/2020/11/30/digitimes-periscope-lens/">
<figure><img onload="Wpfcll.r(this,true);" src="https://appleterm.com/wp-content/plugins/wp-fastest-cache-premium/pro/images/blank.gif" width="300" height="300" data-wpfc-original-src="https://appleterm.com/wp-content/uploads/2020/11/persicope-lens-for-future-iphone-digitimes-squ-300x300.jpg" alt="blank" loading="lazy" data-wpfc-original-srcset="https://appleterm.com/wp-content/uploads/2020/11/persicope-lens-for-future-iphone-digitimes-squ-300x300.jpg 300w, https://appleterm.com/wp-content/uploads/2020/11/persicope-lens-for-future-iphone-digitimes-squ-1024x1024.jpg 1024w, https://appleterm.com/wp-content/uploads/2020/11/persicope-lens-for-future-iphone-digitimes-squ-150x150.jpg 150w, https://appleterm.com/wp-content/uploads/2020/11/persicope-lens-for-future-iphone-digitimes-squ-768x768.jpg 768w, https://appleterm.com/wp-content/uploads/2020/11/persicope-lens-for-future-iphone-digitimes-squ.jpg 1080w" sizes="(max-width: 300px) 100vw, 300px" data-object-fit="~" itemprop="image"><svg width="20px" height="15px" viewBox="0 0 20 15"><polygon points="0,7.5 5.5,13 6.4,12.1 2.4,8.1 20,8.1 20,6.9 2.4,6.9 6.4,2.9 5.5,2 "></polygon></svg><span></span></figure>
<p><span> Previous <span>Post</span> </span> <span> DigiTimes: Apple looking to use periscope lens for future iPhone model </span></p></a>
<a href="https://appleterm.com/2020/11/30/apple-ditches-initiative-in-france-set-to-ensure-big-tech-companies-pay-fair-taxes/">
<p><span> Next <span>Post</span> </span> <span> Apple ditches initiative in France set to ensure big-tech companies pay fair taxes </span></p><figure><img onload="Wpfcll.r(this,true);" src="https://appleterm.com/wp-content/plugins/wp-fastest-cache-premium/pro/images/blank.gif" width="300" height="300" data-wpfc-original-src="https://appleterm.com/wp-content/uploads/2020/11/apple-program-in-france-ditch-squ-300x300.jpg" alt="blank" loading="lazy" data-wpfc-original-srcset="https://appleterm.com/wp-content/uploads/2020/11/apple-program-in-france-ditch-squ-300x300.jpg 300w, https://appleterm.com/wp-content/uploads/2020/11/apple-program-in-france-ditch-squ-1024x1024.jpg 1024w, https://appleterm.com/wp-content/uploads/2020/11/apple-program-in-france-ditch-squ-150x150.jpg 150w, https://appleterm.com/wp-content/uploads/2020/11/apple-program-in-france-ditch-squ-768x768.jpg 768w, https://appleterm.com/wp-content/uploads/2020/11/apple-program-in-france-ditch-squ.jpg 1080w" sizes="(max-width: 300px) 100vw, 300px" data-object-fit="~" itemprop="image"><svg width="20px" height="15px" viewBox="0 0 20 15"><polygon points="14.5,2 13.6,2.9 17.6,6.9 0,6.9 0,8.1 17.6,8.1 13.6,12.1 14.5,13 20,7.5 "></polygon></svg><span></span></figure> </a>
</nav>
</article>
</section>
</div></div></div>]]>
            </description>
            <link>https://appleterm.com/2020/11/30/m1-mac-mini-desktop-market-share-japan/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25257488</guid>
            <pubDate>Mon, 30 Nov 2020 19:01:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How many registers does an x86-64 CPU have?]]>
            </title>
            <description>
<![CDATA[
Score 116 | Comments 108 (<a href="https://news.ycombinator.com/item?id=25253797">thread link</a>) | @woodruffw
<br/>
November 30, 2020 | https://blog.yossarian.net/2020/11/30/How-many-registers-does-an-x86-64-cpu-have | <a href="https://web.archive.org/web/*/https://blog.yossarian.net/2020/11/30/How-many-registers-does-an-x86-64-cpu-have">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">


<h2><em>Programming, philosophy, pedaling.</em></h2>

<ul>
    <li><a href="https://blog.yossarian.net/">Home</a></li>
    <li><a href="https://blog.yossarian.net/tags">Tags</a></li>
    <li><a href="https://blog.yossarian.net/favorites">Favorites</a></li>
    <li><a href="https://blog.yossarian.net/archive">Archive</a></li>
    
      <li><a href="https://yossarian.net/">Main Site</a></li>
    
</ul>

<hr>



<h2>
  <em>Nov 30, 2020</em>
</h2>

  <p>Tags:
  
    
    <a href="https://blog.yossarian.net/tags#programming">programming</a>,
    
  
    
    <a href="https://blog.yossarian.net/tags#x86">x86</a>
    
  
  </p>


<p>x86 is back in the general programmer discourse, in part thanks to Apple’s M1 and
<a href="https://developer.apple.com/documentation/apple_silicon/about_the_rosetta_translation_environment">Rosetta 2</a>.
As such, I figured I’d do <em>yet another</em> x86-64 post.</p>

<p>Just like <a href="https://blog.yossarian.net/2020/06/13/How-x86_64-addresses-memory">the last one</a>,
I’m going to cover a facet of the x86-64 ISA that sets it apart
as unusually complex among modern ISAs: the number and diversity of registers available.</p>

<p><a href="https://stefanheule.com/blog/how-many-x86-64-instructions-are-there-anyway/">Like instruction counting</a>,
register counting on x86-64 is subject to debates over methodology. In particular, for this blog
post, I’m going to lay the following ground rules:</p>

<ul>
  <li>
    <p>I <strong>will</strong> count sub-registers (e.g., <code>EAX</code> for <code>RAX</code>) as distinct registers. My justification:
they have different instruction encodings, and both Intel and AMD optimize/pessimize
particular sub-register use patterns in their microcode.</p>
  </li>
  <li>
    <p>I <strong>will</strong> count registers that are present on x86-64 CPUs, but that can’t be used in long mode.</p>
  </li>
  <li>
    <p>I <strong>won’t</strong> count registers that are <em>only</em> present on older x86 CPUs, like the 80386 and
80486 <a href="https://en.wikipedia.org/wiki/Test_register">test registers</a>.</p>
  </li>
  <li>
    <p>I <strong>won’t</strong> count microarchitectural implementation details, like shadow registers.</p>
  </li>
  <li>
    <p>I <strong>will</strong> count registers that aren’t directly addressable, like MSRs that can only be accessed
through <code>RDMSR</code>. However, I <strong>won’t</strong> (or will try not to) double-count registers that
have multiple access mechanisms (like <code>RDMSR</code> and <code>RDTSC</code>).</p>
  </li>
  <li>
    <p>I <strong>won’t</strong> count model-specific registers that fall into these categories:</p>
    <ul>
      <li>MSRs that are only present on niche x86 vendors (Cyrix, Via)</li>
      <li>MSRs that aren’t widely available on recent-ish x86-64 CPUs
        <ul>
          <li><strong>Errata</strong>: I accidentally included AVX-512 in some of the original counts below,
  not realizing that it hadn’t been released on any AMD CPUs. The post has been updated.</li>
        </ul>
      </li>
      <li>MSRs that are <em>completely</em> undocumented (both officially and unofficially)</li>
    </ul>
  </li>
</ul>

<p>In addition to the rules above, I’m going to use the following considerations and methodology
for grouping registers together:</p>

<ul>
  <li>
    <p>Many sources, both official and unofficial, use “model-specific register” as an umbrella term
for any non-core or non-feature-set register supplied by an x86-64 CPU. Whenever possible, I’ll
try to avoid this in favor of more specific categories.</p>
  </li>
  <li>
    <p>Both Intel and AMD provide synonyms for registers (e.g. <code>CR8</code> as the “task priority register,” or
<code>TPR</code>). Whenever possible, I’ll try to use the more generic/category conforming name (like <code>CR8</code>
in the case above).</p>
  </li>
  <li>
    <p>In general, the individual cores of a multicore processor have independent register states.
Whenever this <strong>isn’t</strong> the case, I’ll make an effort to document it.</p>
  </li>
</ul>

<hr>

<h2 id="general-purpose-registers">General-purpose registers</h2>

<p>The general-purpose registers (or GPRs) are <strong>the</strong> primary registers in the x86-64 register model.
As their name implies, they are the <strong>only</strong> registers that are <em>general purpose</em>: each has a set
of conventional uses<sup id="fnref:conventional" role="doc-noteref"><a href="#fn:conventional">1</a></sup>, but programmers are generally free to ignore those conventions and use
them as they please<sup id="fnref:ignore" role="doc-noteref"><a href="#fn:ignore">2</a></sup>.</p>

<p>Because x86-64 evolved from a 32-bit ISA which in turn evolved from a 16-bit ISA, each
GPR has a set of <em>subregisters</em> that hold the lower 8, 16 and 32 bits of the full 64-bit
register.</p>

<p>As a table:</p>

<table>
  <tbody><tr>
    
    <th>64-bit</th>
    
    <th>32-bit</th>
    
    <th>16-bit</th>
    
    <th>8-bit (low)</th>
    
  </tr>
  
  <tr>
    
    <td>RAX</td>
    
    <td>EAX</td>
    
    <td>AX</td>
    
    <td>AL</td>
    
  </tr>
  
  <tr>
    
    <td>RBX</td>
    
    <td>EBX</td>
    
    <td>BX</td>
    
    <td>BL</td>
    
  </tr>
  
  <tr>
    
    <td>RCX</td>
    
    <td>ECX</td>
    
    <td>CX</td>
    
    <td>CL</td>
    
  </tr>
  
  <tr>
    
    <td>RDX</td>
    
    <td>EDX</td>
    
    <td>DX</td>
    
    <td>DL</td>
    
  </tr>
  
  <tr>
    
    <td>RSI</td>
    
    <td>ESI</td>
    
    <td>SI</td>
    
    <td>SIL</td>
    
  </tr>
  
  <tr>
    
    <td>RDI</td>
    
    <td>EDI</td>
    
    <td>DI</td>
    
    <td>DIL</td>
    
  </tr>
  
  <tr>
    
    <td>RBP</td>
    
    <td>EBP</td>
    
    <td>BP</td>
    
    <td>BPL</td>
    
  </tr>
  
  <tr>
    
    <td>RSP</td>
    
    <td>ESP</td>
    
    <td>SP</td>
    
    <td>SPL</td>
    
  </tr>
  
  <tr>
    
    <td>R8</td>
    
    <td>R8D</td>
    
    <td>R8W</td>
    
    <td>R8B</td>
    
  </tr>
  
  <tr>
    
    <td>R9</td>
    
    <td>R9D</td>
    
    <td>R9W</td>
    
    <td>R9B</td>
    
  </tr>
  
  <tr>
    
    <td>R10</td>
    
    <td>R10D</td>
    
    <td>R10W</td>
    
    <td>R10B</td>
    
  </tr>
  
  <tr>
    
    <td>R11</td>
    
    <td>R11D</td>
    
    <td>R11W</td>
    
    <td>R11B</td>
    
  </tr>
  
  <tr>
    
    <td>R12</td>
    
    <td>R12D</td>
    
    <td>R12W</td>
    
    <td>R12B</td>
    
  </tr>
  
  <tr>
    
    <td>R13</td>
    
    <td>R13D</td>
    
    <td>R13W</td>
    
    <td>R13B</td>
    
  </tr>
  
  <tr>
    
    <td>R14</td>
    
    <td>R14D</td>
    
    <td>R14W</td>
    
    <td>R14B</td>
    
  </tr>
  
  <tr>
    
    <td>R15</td>
    
    <td>R15D</td>
    
    <td>R15W</td>
    
    <td>R15B</td>
    
  </tr>
  
</tbody></table>

<p>Some of the 16-bit subregisters are also special: the original 8086 allowed the <strong>high</strong> byte
of <code>AX</code>, <code>BX</code>, <code>CX</code>, and <code>DX</code> to be accessed indepenently, so x86-64 preserves this for some
encodings:</p>

<table>
  <tbody><tr>
    
    <th>16-bit</th>
    
    <th>8-bit (high)</th>
    
  </tr>
  
  <tr>
    
    <td>AX</td>
    
    <td> AH</td>
    
  </tr>
  
  <tr>
    
    <td>BX</td>
    
    <td> BH</td>
    
  </tr>
  
  <tr>
    
    <td>CX</td>
    
    <td> CH</td>
    
  </tr>
  
  <tr>
    
    <td>DX</td>
    
    <td> DH</td>
    
  </tr>
  
</tbody></table>

<p>So that’s 16 full-width GPRs, fanning out to another 52 subregisters.</p>

<p><strong>Registers in this group: 68</strong>.</p>

<p><strong>Running total: 68</strong>.</p>

<h2 id="special-registers">Special registers</h2>

<p>This is sort of an artificial category: like every ISA, x86-64 has a few “special” registers that
keep things moving along. In particular:</p>

<ul>
  <li>
    <p>The <em>instruction pointer</em>, or <code>RIP</code>.</p>

    <p>x86-64 has 32- and 16-bit variants of <code>RIP</code> (<code>EIP</code> and <code>IP</code>), but I’m <strong>not</strong> going to count
  them as separate registers: they have identical encodings and can’t be used in the same
  CPU mode<sup id="fnref:ip" role="doc-noteref"><a href="#fn:ip">3</a></sup>.</p>
  </li>
  <li>
    <p>The <em>status register</em>, or <code>RFLAGS</code>.</p>

    <p>Just like <code>RIP</code>, <code>RFLAGS</code> has 32- and 16-bit counterparts (<code>EFLAGS</code> and <code>FLAGS</code>). Unlike
  <code>RIP</code>, these counterparts can be partially mixed: <code>PUSHF</code> and <code>PUSHFQ</code> are both valid in
  long mode, and <code>LAHF</code>/<code>SAHF</code> can operate on the bits of <code>FLAGS</code> on some x86-64 CPUs
  outside of compatiblility mode<sup id="fnref:cpuid-lahf-sahf" role="doc-noteref"><a href="#fn:cpuid-lahf-sahf">4</a></sup>. So I’m going to go ahead and count them.</p>
  </li>
</ul>

<p><strong>Registers in this group: 4</strong>.</p>

<p><strong>Running total: 72</strong>.</p>

<h2 id="segment-registers">Segment registers</h2>

<p>x86-64 has a total of 6 segment registers: <code>CS</code>, <code>SS</code>, <code>DS</code>, <code>ES</code>, <code>FS</code>, and <code>GS</code>. The operation
varies with the CPU’s mode:</p>

<ul>
  <li>
    <p>In all modes except for long mode, each segment register holds a <em>selector</em>, which indexes into
either the <a href="https://en.wikipedia.org/wiki/Global_Descriptor_Table">GDT</a> or
<a href="https://en.wikipedia.org/wiki/Global_Descriptor_Table#Local_Descriptor_Table">LDT</a>. That yields
a segment <em>descriptor</em> which, among other things, supplies the base address and extent of the
segment.</p>
  </li>
  <li>
    <p>In long mode all but <code>FS</code> and <code>GS</code> are treated as having a base address of zero and a 64-bit
extent, effectively producing a flat address space. <code>FS</code> and <code>GS</code> are retained as special cases,
but no longer use the segment descriptor tables: instead, they access base addresses that
are stored in the <code>FSBASE</code> and <code>GSBASE</code> model-specific registers<sup id="fnref:kernelgsbase" role="doc-noteref"><a href="#fn:kernelgsbase">5</a></sup>.
More on those later.</p>
  </li>
</ul>

<p><strong>Registers in this group: 6</strong>.</p>

<p><strong>Running total: 78</strong>.</p>

<h2 id="simd-and-fp-registers">SIMD and FP registers</h2>

<p>The x86 family has gone through <em>several</em> generations of SIMD and floating-point instruction
groups, each of which has introduced, extended, or re-contextualized various registers:</p>

<ul>
  <li>x87</li>
  <li>MMX</li>
  <li>SSE (SSE2, SSE3, SSE4, SSE4, …)</li>
  <li>AVX (AVX2, AVX512)</li>
</ul>

<p>Let’s do them in rough order.</p>

<h3 id="x87">x87</h3>

<p>Originally a discrete coprocessor with its own instruction set and register file, the x87
instructions have been regularly baked into x86 cores themselves since the 80486.</p>

<p>Because of its coprocessor history, x87 defines both normal registers<sup id="fnref:normal-ish" role="doc-noteref"><a href="#fn:normal-ish">6</a></sup>
(akin to GPRs) and a variety of special registers needed to control the FPU state:</p>

<ul>
  <li><code>ST0</code> through <code>ST7</code>: 8 80-bit floating-point registers</li>
  <li><code>FPSW</code>, <code>FPCW</code>, <code>FPTW</code> <sup id="fnref:mynames" role="doc-noteref"><a href="#fn:mynames">7</a></sup>: Control, status, and tag-word registers</li>
  <li>“Data operand pointer”: I don’t know what this one does, but the Intel SDM specifies it<sup id="fnref:sdm" role="doc-noteref"><a href="#fn:sdm">8</a></sup></li>
  <li>Instruction pointer: the x87 state machine apparently holds its own copy of the current
x87 instruction</li>
  <li>Last instruction opcode: this is apparently distinct from the x87 opcode, and has its
own register</li>
</ul>

<p><strong>Registers in this group: 14</strong>.</p>

<p><strong>Running total: 92</strong>.</p>

<h3 id="mmx">MMX</h3>

<p>MMX was Intel’s first attempt at consumer SIMD in their x86 chips, released back in 1997.</p>

<p>For design reasons that are a complete mystery to me, the MMX registers are actually sub-registers
of the x87 <code>STn</code> registers: each 64-bit <code>MMn</code> occupies the mantissa component of its corresponding
<code>STn</code>. Consequently, x86 (and x86-64) CPUs cannot execute MMX and x87 instructions at the same time.</p>

<p>In addition to <code>MM0</code> through <code>MM7</code>, MMX also defines a new status register (<code>MXCSR</code>) as well as
a load/store instruction pair for manipulating it (<code>LDMXCSR</code> and <code>STMXCSR</code>).</p>

<p><strong>Registers in this group: 9</strong>.</p>

<p><strong>Running total: 101</strong>.</p>

<h3 id="sse-and-avx">SSE and AVX</h3>

<p>For simplicity’s sake, I’m going to wrap SSE and AVX into a single section: they use the same
sub-register pattern as the GPRs and x87/MMX do, so they fit well into a single table:</p>

<table>
  <tbody><tr>
    
    <th>AVX-512 (512-bit)</th>
    
    <th>AVX-2 (256-bit)</th>
    
    <th>SSE (128-bit)</th>
    
  </tr>
  
  <tr>
    
    <td>ZMM0</td>
    
    <td>YMM0</td>
    
    <td>XMM0</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM1</td>
    
    <td>YMM1</td>
    
    <td>XMM1</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM2</td>
    
    <td>YMM2</td>
    
    <td>XMM2</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM3</td>
    
    <td>YMM3</td>
    
    <td>XMM3</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM4</td>
    
    <td>YMM4</td>
    
    <td>XMM4</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM5</td>
    
    <td>YMM5</td>
    
    <td>XMM5</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM6</td>
    
    <td>YMM6</td>
    
    <td>XMM6</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM7</td>
    
    <td>YMM7</td>
    
    <td>XMM7</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM8</td>
    
    <td>YMM8</td>
    
    <td>XMM8</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM9</td>
    
    <td>YMM9</td>
    
    <td>XMM9</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM10</td>
    
    <td>YMM10</td>
    
    <td>XMM10</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM11</td>
    
    <td>YMM11</td>
    
    <td>XMM11</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM12</td>
    
    <td>YMM12</td>
    
    <td>XMM12</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM13</td>
    
    <td>YMM13</td>
    
    <td>XMM13</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM14</td>
    
    <td>YMM14</td>
    
    <td>XMM14</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM15</td>
    
    <td>YMM15</td>
    
    <td>XMM15</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM16</td>
    
    <td>YMM16</td>
    
    <td>XMM16</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM17</td>
    
    <td>YMM17</td>
    
    <td>XMM17</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM18</td>
    
    <td>YMM18</td>
    
    <td>XMM18</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM19</td>
    
    <td>YMM19</td>
    
    <td>XMM19</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM20</td>
    
    <td>YMM20</td>
    
    <td>XMM20</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM21</td>
    
    <td>YMM21</td>
    
    <td>XMM21</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM22</td>
    
    <td>YMM22</td>
    
    <td>XMM22</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM23</td>
    
    <td>YMM23</td>
    
    <td>XMM23</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM24</td>
    
    <td>YMM24</td>
    
    <td>XMM24</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM25</td>
    
    <td>YMM25</td>
    
    <td>XMM25</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM26</td>
    
    <td>YMM26</td>
    
    <td>XMM26</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM27</td>
    
    <td>YMM27</td>
    
    <td>XMM27</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM28</td>
    
    <td>YMM28</td>
    
    <td>XMM28</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM29</td>
    
    <td>YMM29</td>
    
    <td>XMM29</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM30</td>
    
    <td>YMM30</td>
    
    <td>XMM30</td>
    
  </tr>
  
  <tr>
    
    <td>ZMM31</td>
    
    <td>YMM31</td>
    
    <td>XMM31</td>
    
  </tr>
  
</tbody></table>

<p>In other words: the lower half of each <code>ZMMn</code> is <code>YMMn</code>, and the lower half of each <code>YMMn</code> is
<code>XMMn</code>. There’s no direct way register access for just the upper half of <code>YMMn</code>, nor does
<code>ZMMn</code> have direct 256- or 128-bit access for the thunks of its upper half.</p>

<p>SSE also defines a new status register, <code>MXCSR</code>, that contains flags roughly parallel
to the arithmetic flags in <code>RFLAGS</code> (along with floating-point flags in the x87 status word).</p>

<p>AVX-512 <strong>also</strong> introduces eight <em>opmask</em> registers, <code>k0</code> through <code>k7</code>. <code>k0</code> is a special case
that behaves much like the “zero” register on some RISC ISAs: it can’t be stored to, and
loads from it always produce a bitmask of all ones.</p>

<p><strong>Errata</strong>: The table above includes AVX-512, which isn’t available on any AMD CPUs as of 2020.
I’ve updated the counts below to only include SSE and AVX2-introduced registers.</p>

<p><strong>Registers in this group: 33</strong>.</p>

<p><strong>Running total: 134</strong>.</p>

<h2 id="bounds-registers">Bounds registers</h2>

<p>Intel added these with <a href="https://en.wikipedia.org/wiki/Intel_MPX">MPX</a>, which was intended to
offer hardware-accelerated bounds checking. Nobody uses it, since
<a href="https://www.phoronix.com/scan.php?page=news_item&amp;px=Intel-MPX-Is-Dead">it doesn’t work very well</a>.
But x86 is eternal and slow to fix mistakes, so we’ll probably have these registers taking up space
for at least a while longer:</p>

<ul>
  <li><code>BND0</code> — <code>BND3</code>: Individual 128-bit registers, each containing a pair of addresses
for a bound.</li>
  <li><code>BNDCFG</code>: Bound configuration, kernel mode.</li>
  <li><code>BNDCFU</code>: Bound configuration, user mode.</li>
  <li><code>BNDSTATUS</code>: Bound status, after a <code>#BR</code> is raised.</li>
</ul>

<p><strong>Registers in this group: 7</strong>.</p>

<p><strong>Running total: 141</strong>.</p>

<h2 id="debug-registers">Debug registers</h2>

<p>These are what they sound like: registers that aid and accelerate software debuggers, like
<a href="https://www.gnu.org/software/gdb/">GDB</a>.</p>

<p>There are 6 debug registers of two types:</p>

<ul>
  <li>
    <p><code>DR0</code> through <code>DR3</code> contain linear addresses, each of which is associated with a breakpoint
condition.</p>
  </li>
  <li>
    <p><code>DR6</code> and <code>DR7</code> are the debug status and control registers. <code>DR6</code>’s lower bits indicate which
debug conditions were encountered (upon entering the debug exception handler), while <code>DR7</code> controls
which breakpoint addresses are enabled and their breakpoint conditions (e.g., when a particular
address is written to).</p>
  </li>
</ul>

<p>What about <code>DR4</code> and <code>DR5</code>? For reasons that are unclear to me, they don’t (and have never)
existed<sup id="fnref:guess" role="doc-noteref"><a href="#fn:guess">9</a></sup>. They <em>do</em> have encodings but are treated as <code>DR6</code> and <code>DR7</code>, respective, or produce
an <code>#UD</code> exception when <code>CR4.DE[bit 3] = 1</code>.</p>

<p><strong>Registers in this group: 6.</strong></p>

<p><strong>Running …</strong></p></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.yossarian.net/2020/11/30/How-many-registers-does-an-x86-64-cpu-have">https://blog.yossarian.net/2020/11/30/How-many-registers-does-an-x86-64-cpu-have</a></em></p>]]>
            </description>
            <link>https://blog.yossarian.net/2020/11/30/How-many-registers-does-an-x86-64-cpu-have</link>
            <guid isPermaLink="false">hacker-news-small-sites-25253797</guid>
            <pubDate>Mon, 30 Nov 2020 14:07:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I Feel Like I Have No Real Interests; My Only Interest Is Making Money]]>
            </title>
            <description>
<![CDATA[
Score 143 | Comments 202 (<a href="https://news.ycombinator.com/item?id=25253197">thread link</a>) | @_davebennett
<br/>
November 30, 2020 | https://www.bennettnotes.com/post/my-only-interest-is-making-money/ | <a href="https://web.archive.org/web/*/https://www.bennettnotes.com/post/my-only-interest-is-making-money/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<article>
<p>I have no real interests or hobbies. If I was shopping for myself I’d probably just buy another book on “growing your side hustle” or one of the many “building a startup” books.</p>
<p>Revenue, monetization, and profit are always the primary driver for my activities. Whether or not I actually care about a particular topic is sorta irrelevant. And my frustration is that depending on who I talk to, I get entirely different perspectives on whether this going to facilitate my success in life or not. For example, people who are like my business/money focused family applaud my efforts. They don’t understand how this is bad.</p>
<p>“Dave, how is spending your free time trying to make more money a bad thing? You can use that money to pursue your hobbies or interests.”</p>
<p>“Yeah uncle, but I honestly don’t know what my hobbies and interests are besides things that make more money.”</p>
<p>“Great Dave, so your passion is making money!”</p>
<p>“But I don’t want that to be my passion!”</p>
<p>But if I talk to my more passion focused friends, I’m sorta self-judging in my head.</p>
<p>“Dave, I’m working on a youth charity. It’s soo many hours of long work and stressful, but really rewarding.”</p>
<p>“Oh umm…that’s great Pam. But that’s a lot of work, and no money? Like…is it really worth it? Imagine if you turned it into some type of education business. What’s the market like for that? You could charge at least $300 per student.”</p>
<p>Ugh, this is what gives me migraines. My 25 year old anxiety is telling me that if I pick the wrong strategy then my future is forever doomed. I also have no idea where this obsession began. I didn’t grow up poor, so I can’t use that as an excuse for my obsession. I think it might have to do with imposter syndrome and feeling like I have to prove myself. Basically, if I have lots of money rolling in then I can say “fuck the system” and not be criticized. I falsely feel like people can’t judge me if I have my own business that’s making Elon Musk level income.</p>
<p>Or maybe it’s simply because I live in the United States, and that’s just our culture here. Plus with all the uncertainty, you never know when debt can hit you. Poverty, streets, homeless shelter, etc.</p>
<p>But this just all feels wrong to me. It feels like I’m digging myself into a bad hole. What if my time was used toward genuine activities and interests? I could also have a chance at financial success with those. I just don’t know what those genuine interests are. All I know is that when I chase after these money quests, I always feel cheated in the end.</p>
<p>Let’s walk inside my mind for a second.</p>
<p>So I work on coding side projects outside of work. Do I love coding and problem solving? Eh, I’m not really sure. But, I do love the idea of one day rolling in cash from some tool or app I built. Therefore, I’m going to spend my time trying to find a niche market that I can penetrate with some basic app/program that I can at least charge $100 a month for. Then I just need to spend a couple of hours everyday scouring through Google trends, Reddit, or Exploding Topics to find something people are currently into. Then maybe set up a landing page, and see if people enter in their credit card info. Or how about I search the Apple App Store and find some shitty app that people pay big bucks for and copy it? Oh wait, hold up, snack boxes are trending! Okay, so I can just set up a service for $20 a month to send people almonds, right?</p>
<p>Trust me, it gets worst.</p>
<p>I make videos on YouTube. I have a little over 200k subscribers currently. Do I like making videos? Eh…I’m not really sure. Truthfully, most days I would rather not engage in the activity. But influencer sponsorships pay a lot! Also, adsense is a really nice passive income source. So what I need to do is spend my time studying the YouTube algorithm so I can produce videos that get more views. More views equals more money!! Oh and remember when I made videos on Android? Yeah nobody cares about that niche anymore. So I’m going to use tools like TubeBuddy or VidIQ to see trending topics that people are watching. Okay people are all talking about <em>Among Us</em> right now. So if I make a video that’s at least 10 minutes long I can stick a mid-roll ad into it too! Don’t forget all the long-tail keywords. Wait, my website hardly has any ads on it right now. I’m missing out on extra income! I need at least a sidebar ad and also a footer ad.</p>
<p>Guess what? After two days I lost motivation in the Snackbox idea. As for YouTube, I made videos on the “well researched SEO friendly topics” and they performed horribly. It was like another slap in the face saying “Dave, this is what happens when you chase money without regard for interests.” But….but…all the entrepreneurs say just having interest in building a business is enough!</p>
<p>Yeah, so I don’t know what to say or how to end this. I’m just hoping that by sharing my obstacles and fears I get some helpful incite; or at least connect people who also share this struggle. I feel like it’s one of the many problems that’s not addressed adequately and leaves us just desperate for answers.</p>

</article>

</div></div>]]>
            </description>
            <link>https://www.bennettnotes.com/post/my-only-interest-is-making-money/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25253197</guid>
            <pubDate>Mon, 30 Nov 2020 12:45:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I am an 80 column purist]]>
            </title>
            <description>
<![CDATA[
Score 73 | Comments 77 (<a href="https://news.ycombinator.com/item?id=25251494">thread link</a>) | @Spiritus
<br/>
November 29, 2020 | https://daniel.haxx.se/blog/2020/11/30/i-am-an-80-column-purist/ | <a href="https://web.archive.org/web/*/https://daniel.haxx.se/blog/2020/11/30/i-am-an-80-column-purist/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>I write and prefer code that fits within 80 columns in <a href="https://curl.haxx.se/">curl</a> and other projects – and there are reasons for it. I’m a little bored by the people who respond and say that they have 400 inch monitors already and they can use them.</p>



<p>I too have multiple large high resolution screens – but writing wide code is still a bad idea! So I decided I’ll write down my reasoning once and for all!</p>



<h2>Narrower is easier to read</h2>



<p>There’s a reason newspapers and magazines have used narrow texts for centuries and in fact even books <a href="https://en.wikipedia.org/wiki/Line_length">aren’t using long lines</a>. For most humans, it is simply easier on the eyes and brain to read texts that aren’t using really long lines. This has been known for a very long time.</p>



<p>Easy-to-read code is easier to follow and understand which leads to fewer bugs and faster debugging.</p>



<h2>Side-by-side works better</h2>



<p>I <em>never</em> run windows full sized on my screens for anything except watching movies. I frequently have two or more editor windows next to each other, sometimes also with one or two extra terminal/debugger windows next to those. To make this feasible and still have the code readable, it needs to fit “wrapless” in those windows.</p>



<p>Sometimes reading a code diff is easier side-by-side and then too it is important that the two can fit next to each other nicely.</p>



<h2>Better diffs</h2>



<p>Having code grow vertically rather than horizontally is beneficial for diff, git and other tools that work on changes to files. It reduces the risk of merge conflicts and it makes the merge conflicts that still happen easier to deal with.</p>



<h2>It encourages shorter names</h2>



<p>A side effect by strictly not allowing anything beyond column 80 is that it becomes really hard to use those terribly annoying 30+ letters java-style names on functions and identifiers. A function name, and especially local ones, should be short. Having long names make them really hard to read and makes it really hard to spot the difference between the other functions with similarly long names where just a sub-word within is changed.</p>



<p>I know especially Java people object to this as they’re trained in a different culture and say that a method name should rather include a lot of details of the functionality “to help the user”, but to me that’s a weak argument as all non-trivial functions will have more functionality than what can be expressed in the name and thus the user needs to know how the function works <em>anyway.</em></p>



<p>I don’t mean 2-letter names. I mean long enough to make sense but not be ridiculous lengths. Usually within 15 letters or so.</p>



<h2>Just a few spaces per indent level</h2>



<p>To make this work, and yet allow a few indent levels, the code basically have to have small indent-levels, so I prefer to have it set to two spaces per level.</p>



<h2>Many indent levels is wrong anyway</h2>



<p>If you do a lot of indent levels it gets really hard to write code that still fits within the 80 column limit. That’s a subtle way to suggest that you should not write functions that needs or uses that many indent levels. It should then rather be split out into multiple smaller functions, where then each function won’t need that many levels!</p>



<h2>Why exactly 80?</h2>



<p>Once upon the time it was of course because terminals had that limit and these days the exact number 80 is not a must. I just happen to think that the limit has worked fine in the past and I haven’t found any compelling reason to change it since.</p>



<p>It also has to be a hard and fixed limit as if we allow a few places to go beyond the limit we end up on a slippery slope and code slowly grow wider over time – I’ve seen it happen in many projects with “soft enforcement” on code column limits.</p>



<h2>Enforced by a tool</h2>



<p>In <a href="https://curl.se/">curl</a>, we have ‘checksrc’ which will yell errors at any user trying to build code with a too long line present. This is good because then we don’t have to “waste” human efforts to point this out to contributors who offer pull requests. The tool will point out such mistakes with ruthless accuracy.</p>



<h2>Credits</h2>



<p>Image by <a href="https://pixabay.com/users/piotrarssale-15944391/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=5016297">piotr kurpaska</a> from <a href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=5016297">Pixabay</a></p>
	</div></div>]]>
            </description>
            <link>https://daniel.haxx.se/blog/2020/11/30/i-am-an-80-column-purist/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25251494</guid>
            <pubDate>Mon, 30 Nov 2020 07:31:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[And this world’s a fickle measure]]>
            </title>
            <description>
<![CDATA[
Score 71 | Comments 23 (<a href="https://news.ycombinator.com/item?id=25250968">thread link</a>) | @jseliger
<br/>
November 29, 2020 | https://quidplura.com/2020/11/29/and-this-worlds-a-fickle-measure/ | <a href="https://web.archive.org/web/*/https://quidplura.com/2020/11/29/and-this-worlds-a-fickle-measure/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-12060">
	<!-- .entry-header -->

	<div>
		
<p>They told me, “You have to watch <a href="https://www.youtube.com/watch?v=rhThso-PE_o">this interview where Mike Tyson talks about medieval history</a>,” and so I did, and there he was at the New York Public Library in 2013 being interviewed by curator Paul Holdengräber, whose German accent strikes the American ear as both effortlessly intellectual and lightly amusing, and who would seem to have nothing in common with the face-tattooed boxer.</p>



<p><img data-attachment-id="12067" data-permalink="https://quidplura.com/2020/11/29/and-this-worlds-a-fickle-measure/screen-shot-2020-11-28-at-11-57-11-pm-copy/" data-orig-file="https://quidplurablog.files.wordpress.com/2020/11/screen-shot-2020-11-28-at-11.57.11-pm-copy.jpg" data-orig-size="1816,934" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Screen Shot 2020-11-28 at 11.57.11 PM copy" data-image-description="" data-medium-file="https://quidplurablog.files.wordpress.com/2020/11/screen-shot-2020-11-28-at-11.57.11-pm-copy.jpg?w=300" data-large-file="https://quidplurablog.files.wordpress.com/2020/11/screen-shot-2020-11-28-at-11.57.11-pm-copy.jpg?w=863" src="https://quidplurablog.files.wordpress.com/2020/11/screen-shot-2020-11-28-at-11.57.11-pm-copy.jpg" alt=""></p>



<p>The two men do, in fact, find much to talk about. Their discussion is mesmerizing, because to most of us Mike Tyson is nothing but a face and fists, not a man who reflects aloud and at length about his inner life. Holdengräber prompts a reticent Tyson to narrate clips of his greatest moments in the ring, and newcomers to boxing will easily see why Tyson was such a sensation, but Iron Mike grows more animated when other matters arise.</p>



<p>Half an hour into the interview, Holdengräber says that their mutual friend, eccentric German filmmaker Werner Herzog, urged him to ask Tyson why he’s so fascinated by Clovis, the founder of the Merovingian Frankish dynasty, and Pepin the Short, the first Carolingian king of the Franks. Tyson’s answer, however halting, makes him come alive: </p>



<blockquote><p>I don’t know—it all comes from my insecurity from being poor, and not having enough—to be insecure, and being—yeah, that’s what it is: obscure. I never wanted to be obscure. I was born in obscurity and I never wanted to deal with that again, never wanted to be that. And they came from obscurity.</p></blockquote>



<p>Tyson then narrates a capsule history of the Frankish kings. He rambles, he doesn’t get all the details right, and his mispronunciation of names marks him as an autodidact, but it’s a shame to hear the audience laugh when Holdengräber asks, “Mike, how do you know all this shit?” Whether Tyson is mapping his own experiences onto medieval history or hearing echoes of the Franks in his troubled life, the credentialed, status-conscious audience is uncomfortable with his sincere interest in a past they find trivial.</p>



<p>Yet Tyson is the real deal, a book lover not because his peer group yaks about whichever author the <em>New York Times</em> has dubbed fame’s latest love child, but because he’s hungry for ideas, for meaning, for connections across time. He speaks with undisguised emotion about Cus D’Amato, the trainer and manager who turned him into a lethal boxer. Obsessed with Nietzsche and Clausewitz, D’Amato taught Tyson to see boxing as war and war as the key to decoding the world. “That is just what I do,” Tyson explains, an attentive pupil and dutiful son. “I love war. I love the act of war. I love the players in war, the philosophy of war.”</p>



<p>Tyson is searching for more than war on the pages of the past. Having grown up amid crime and chaos and founded his life on violence, he now relies on books to make moral and ethical sense of the world:</p>



<blockquote><p>Yeah—they’re our most priceless possessions, because if you think about it, you know, a room without a book is like a body without a soul. It’s the only way that we can connect the future with the past. Without that, there’s no way that we can know about the future, and know about particularly the past, or the present, you know, that when you think about history, the value of history is not necessarily scientific but moral. By liberating our minds and deepening our sympathies and fortifying our will, we can control—pretty much history allows us to control not society but ourselves, which is a much more important thing to do, you know what I mean? And it would allow us to pretty much meet the future more so than foretell it, and for that reason alone, in order to predict the future we always have to look through the past, because very rarely does time not repeat itself, and it always will repeat itself. </p><p>I’ve heard a quote before in a book that we would be fools to think historically that the past is us in funny clothes, but the past <em><span>is</span></em> us in funny clothes, and that’s truly what it is. That’s from somebody who really said a really profound statement but he misquoted what he was saying, he must have been saying it backwards, because that’s really what the past was, it’s just us in funny clothes, in different times, that’s really what it is.</p></blockquote>



<p>Of course, to hear Tyson cite <a href="http://thecampvs.com/2011/08/03/cicero-on-books-and-the-soul/">a quip inaccurately attributed to Cicero</a>, “a room without books is like a body without a soul,” is to wonder if he’s putting us on. Late in the interview, he jokes that if you quote books, you fool people into thinking you’re smart—but Tyson, for all his malapropisms and mispronunciations and odd mannerisms, <em>is</em> intelligent. He’s going round after round with big questions that  many of the ostensibly educated attendees at his book-talk don’t bother to ask.</p>



<p>When Holdengräber suggests that Tyson’s knowledge of history didn’t improve his behavior, Tyson calmly disagrees. He compares himself to the fictional Ben-Hur, a fellow athlete and celebrity who achieved glory but was doomed to be unfree until he set his priorities in order: “He may not have been famous again,” Tyson points out, “but he got his family, and that was his success.” </p>



<p>After listening to Mike Tyson—childhood criminal, devastating fighter, struggling alcoholic and recovering drug addict, convicted rapist, pop-culture eidolon—speak for an hour and a half, I still don’t quite know who he is. He may be the closest thing 21st-century America has to <a href="https://quidplura.com/2011/11/03/but-the-answers-you-seek-will-never-be-found-at-home/">a Robert E. Howard character</a>, a born barbarian who’s ignorant of social niceties but possesses earned wisdom that the civilization around him disdains. I don’t know whether he’s all in on his bookish pursuits or one slight away from again gnawing off someone’s ear. Whether he’s a good man or a bad man feels foolish to ask about a professional punch-thrower who reads Nietzsche, but Tyson looks like a <em>better</em> man, one who has perhaps searched harder for his humanity than the onlookers snickering from the safety of their library seats. What has their pride gained them? Tyson’s, by contrast, has brought him perspective, and with it the humility to admit that his story is still being written—and has been before.</p>




			</div><!-- .entry-content -->

	
	<!-- .entry-footer -->
</article></div>]]>
            </description>
            <link>https://quidplura.com/2020/11/29/and-this-worlds-a-fickle-measure/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25250968</guid>
            <pubDate>Mon, 30 Nov 2020 05:24:31 GMT</pubDate>
        </item>
    </channel>
</rss>
