<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 50]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 50. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Sun, 25 Oct 2020 08:31:29 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-50.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Sun, 25 Oct 2020 08:31:29 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Be prolific]]>
            </title>
            <description>
<![CDATA[
Score 89 | Comments 42 (<a href="https://news.ycombinator.com/item?id=24866706">thread link</a>) | @hecticjeff
<br/>
October 22, 2020 | https://www.chrismytton.com/be-prolific/? | <a href="https://web.archive.org/web/*/https://www.chrismytton.com/be-prolific/?">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
<p>There‚Äôs a story about an art teacher that split their class in half. They told one half of the students that they‚Äôd be graded based on a single piece of work, and the other half that they would be graded on the quantity of work produced.</p>

<p>The half that was being graded on quantity ended up producing higher quality pieces.</p>

<p>By iterating and learning from their mistakes they actually ended up producing better work than the students that only had to produce one piece.</p>

<p>Quantity leads to quality.</p>



<p>Sharing work helps you to think and develop. The feedback you get feeds into the next iteration.</p>

<p>If you‚Äôve enjoyed creating something then there‚Äôs a good chance that at least a handful of people in the world will enjoy seeing it or hearing about it.</p>

<p>Promoting yourself and your work can be a good way to clarify your thinking and future direction.</p>

<h2 id="get-better-by-creating-more">Get better by creating more</h2>

<p>Produce lots of stuff and share it.</p>

<p>Being prolific doesn‚Äôt mean that everything you produce has to be absolute gold. But the process of producing large quantities of work ultimately leads to a higher quality of work.</p>

    </div></div>]]>
            </description>
            <link>https://www.chrismytton.com/be-prolific/?</link>
            <guid isPermaLink="false">hacker-news-small-sites-24866706</guid>
            <pubDate>Fri, 23 Oct 2020 06:56:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[FFmpeg Drawtext Filter for Overlays, Scrolling Text, Timestamps on Videos]]>
            </title>
            <description>
<![CDATA[
Score 100 | Comments 45 (<a href="https://news.ycombinator.com/item?id=24865755">thread link</a>) | @ponderingfish
<br/>
October 22, 2020 | https://ottverse.com/ffmpeg-drawtext-filter-dynamic-overlays-timecode-scrolling-text-credits/ | <a href="https://web.archive.org/web/*/https://ottverse.com/ffmpeg-drawtext-filter-dynamic-overlays-timecode-scrolling-text-credits/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<figure>
<img src="https://i1.wp.com/ottverse.com/wp-content/uploads/2020/10/ffmpeg-drawtext-featured-image.png?resize=678%2C381&amp;ssl=1" alt="ffmpeg-drawtext-filter-dynamic-overlays-timecode-scrolling-text-credits" title="ffmpeg-drawtext-featured-image" data-src="https://i1.wp.com/ottverse.com/wp-content/uploads/2020/10/ffmpeg-drawtext-featured-image.png?resize=678%2C381&amp;ssl=1" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==">
</figure>


<p><strong>Learn FFmpeg‚Äôs drawtext filter to dynamically overlay text on video and display information such as timecode, frame resolution, watermarks, etc. Also, let‚Äôs learn how to configure the font, font-size, position, background-color, alignment, multiple lines, etc. using FFmpeg‚Äôs drawtext filter.</strong></p>




<h2 id="step-0-ensure-your-ffmpeg-is-compiled-with-libfreetype"><span id="Step_0_Ensure_your_FFmpeg_Is_Compiled_with_libfreetype"></span>Step 0: Ensure your FFmpeg Is Compiled with libfreetype<span></span></h2>



<p>In order to use&nbsp;<code>drawtext</code>, you needed to have configured FFmpeg with&nbsp;<code>--enable-libfreetype</code>. As per the documentation, you need the following options as well if you want to,</p>



<ul><li>enable default font fallback and the font option you need to configure FFmpeg with&nbsp;<code>--enable-libfontconfig</code>.</li><li>enable the text_shaping option, you need to configure FFmpeg with&nbsp;<code>--enable-libfribidi</code>.</li></ul>



<h2 id="complete-list-of-options-for-drawtext"><span id="Complete_List_of_Options_for_drawtext"></span>Complete List of Options for drawtext<span></span></h2>



<p>The complete list of options for&nbsp;<code>drawtext</code>&nbsp;filter can be accessed&nbsp;<a href="https://ffmpeg.org/ffmpeg-filters.html#Syntax" target="_blank" rel="noopener">here</a>. It is far too much for me to explain here, but, if you have any questions, that is the first place you should refer.</p>



<p>In this article, I‚Äôll walk through several common use-cases that should make the concepts easy to understand.</p>



<h2 id="display-text-on-the-video-using-drawtext-filter"><span id="Display_Text_on_the_Video_using_drawtext_filter"></span>Display Text on the Video using drawtext filter<span></span></h2>



<p>Here is the commandline and an explanation of the options</p>



<pre><code>ffmpeg -i inputClip.mp4 -vf "drawtext=text='My text starting at 640x360':x=640:y=360:fontsize=24:fontcolor=white" -c:a copy output.mp4</code></pre>



<p>Here,</p>



<ul><li><code>inputClip.mp4</code>&nbsp;is the input video on which you want to display the text; and the output (containing the text) is to be stored in&nbsp;<code>output.mp4</code></li><li>no audio re-encoding as indicated by&nbsp;<code>-c:a copy</code></li><li>we use the drawtext filter as indicated by the commands&nbsp;<code>-vf "drawtext=........"</code></li><li><code>text='My text starting at 640x360'</code>&nbsp;is the text that will be shown on the video (you could make it your name for watermarking the video, right?)</li><li>position of the text<ul><li><code>x=640:y=360</code>&nbsp;indicates that the x and y coordinates as&nbsp;<code>640px</code>&nbsp;and&nbsp;<code>360px</code>. Also, as a side note, the video‚Äôs resolution is&nbsp;<code>1280x720</code>.</li><li>font size is&nbsp;<code>24</code></li><li>font color is&nbsp;<code>white</code></li></ul></li></ul>



<p>Let‚Äôs see how the output looks, shall we?</p>



<div><figure><img data-attachment-id="90" data-permalink="https://ottverse.com/drawtext-filter-basic-example/" data-orig-file="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-filter-basic-example.png?fit=960%2C538&amp;ssl=1" data-orig-size="960,538" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="drawtext-filter-basic-example" data-image-description="" data-medium-file="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-filter-basic-example.png?fit=300%2C168&amp;ssl=1" data-large-file="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-filter-basic-example.png?fit=960%2C538&amp;ssl=1" loading="lazy" width="960" height="538" src="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-filter-basic-example.png?resize=960%2C538&amp;is-pending-load=1#038;ssl=1" alt="ffmpeg-drawtext-filter-dynamic-overlays-timecode-scrolling-text-credits" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-filter-basic-example.png?w=960&amp;ssl=1 960w, https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-filter-basic-example.png?resize=300%2C168&amp;ssl=1 300w, https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-filter-basic-example.png?resize=768%2C430&amp;ssl=1 768w" data-lazy-sizes="(max-width: 960px) 100vw, 960px" data-lazy-src="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-filter-basic-example.png?resize=960%2C538&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure></div>



<p>A better way to this is to offset the text by the length of the text that you are printing on the screen.</p>



<p>Confused?</p>



<p>If you look at the image above, you‚Äôll see that it starts at the center of the video and extends towards the right.</p>



<p><strong>If you want to center the text itself, then you can subtract the height and width of the rendered text when telling&nbsp;<code>drawtext</code>&nbsp;where to render the text.</strong></p>



<p>Here‚Äôs how. You use the command&nbsp;<code>x=(w-text_w)/2:y=(h-text_h)/2</code>&nbsp;and it will center the text. Here is our new commandline ‚Äì</p>



<pre><code>ffmpeg -i inputClip.mp4 -vf "drawtext=text='Centered Text':x=(w-text_w)/2:y=(h-text_h)/2:fontsize=24:fontcolor=white" -c:a copy output.mp4</code></pre>



<p>Now, the text looks nice and pretty üôÇ</p>



<div><figure><img data-attachment-id="78" data-permalink="https://ottverse.com/centered-text/" data-orig-file="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/centered-text.png?fit=960%2C536&amp;ssl=1" data-orig-size="960,536" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="centered-text" data-image-description="" data-medium-file="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/centered-text.png?fit=300%2C168&amp;ssl=1" data-large-file="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/centered-text.png?fit=960%2C536&amp;ssl=1" loading="lazy" width="960" height="536" src="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/centered-text.png?resize=960%2C536&amp;is-pending-load=1#038;ssl=1" alt="ffmpeg-drawtext-filter-dynamic-overlays-timecode-scrolling-text-credits" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/centered-text.png?w=960&amp;ssl=1 960w, https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/centered-text.png?resize=300%2C168&amp;ssl=1 300w, https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/centered-text.png?resize=768%2C429&amp;ssl=1 768w" data-lazy-sizes="(max-width: 960px) 100vw, 960px" data-lazy-src="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/centered-text.png?resize=960%2C536&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure></div>



<p><strong>Fantastic ‚Äì you now know how to overlay text onto a video using FFmpeg‚Äôs&nbsp;<code>drawtext</code>&nbsp;filter. Do you think you can add your own watermark or copyright? Let‚Äôs try üôÇ</strong></p>



<h2 id="adding-a-copyright-notice-or-text-watermark-using-ffmpegs-drawtext-filter"><span id="Adding_a_Copyright_notice_or_Text_Watermark_using_FFmpeg%E2%80%99s_drawtext_filter"></span>Adding a Copyright notice or Text Watermark using FFmpeg‚Äôs drawtext filter<span></span></h2>



<p>Let‚Äôs modify the command as follows to indicate my name and the copyright symbol.</p>



<pre><code>ffmpeg -i inputClip.mp4 -vf "drawtext=text='¬© Krishna':x=640:y=360:fontsize=24:fontcolor=white" -c:a copy output.mp4</code></pre>



<p>This produces an output like this ‚Äì looks good right? You can play around with the&nbsp;<code>x</code>&nbsp;and&nbsp;<code>y</code>&nbsp;coordinates to align the text the way you want to.</p>



<div><figure><img data-attachment-id="92" data-permalink="https://ottverse.com/drawtext-with-copyright/" data-orig-file="https://i1.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-with-copyright.png?fit=960%2C541&amp;ssl=1" data-orig-size="960,541" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="drawtext-with-copyright" data-image-description="" data-medium-file="https://i1.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-with-copyright.png?fit=300%2C169&amp;ssl=1" data-large-file="https://i1.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-with-copyright.png?fit=960%2C541&amp;ssl=1" loading="lazy" width="960" height="541" src="https://i1.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-with-copyright.png?resize=960%2C541&amp;is-pending-load=1#038;ssl=1" alt="ffmpeg-drawtext-filter-dynamic-overlays-timecode-scrolling-text-credits" data-recalc-dims="1" data-lazy-srcset="https://i1.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-with-copyright.png?w=960&amp;ssl=1 960w, https://i1.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-with-copyright.png?resize=300%2C169&amp;ssl=1 300w, https://i1.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-with-copyright.png?resize=768%2C433&amp;ssl=1 768w" data-lazy-sizes="(max-width: 960px) 100vw, 960px" data-lazy-src="https://i1.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-with-copyright.png?resize=960%2C541&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure></div>



<h2 id="adding-text-with-background-color-using-ffmpegs-drawtext-filter"><span id="Adding_Text_with_Background_Color_using_FFmpeg%E2%80%99s_drawtext_filter"></span>Adding Text with Background Color using FFmpeg‚Äôs drawtext filter<span></span></h2>



<p>To add a background color, we need</p>



<pre><code>ffmpeg -i inputClip.mp4 -vf "drawtext=text='¬© Krishna':x=(1100-text_w):y=(600-text_h):fontsize=32:fontcolor=black:box=1:boxcolor=white@0.5: boxborderw=5" -c:a copy output.mp4</code></pre>



<p>The new commands here are ‚Äì</p>



<ul><li><code>box</code>&nbsp;: this is either&nbsp;<code>1</code>&nbsp;(enabled) or&nbsp;<code>0</code>&nbsp;(disabled)</li><li><code>boxcolor:&nbsp;white@0.5</code>&nbsp;implies a white colored box with a 50% opacity.</li><li><code>boxborderw</code>&nbsp;is the width of the box‚Äôs border and the border color is taken from&nbsp;<code>boxcolor</code>.</li></ul>



<p>And there you have it, text with a background. In this example, I switched the color of the text to black so that it contrasts well with a light background bounding box (which in-turn contrasts well with a dark background.)</p>



<div><figure><img data-attachment-id="89" data-permalink="https://ottverse.com/drawtext-box-background/" data-orig-file="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-box-background.png?fit=960%2C538&amp;ssl=1" data-orig-size="960,538" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="drawtext-box-background" data-image-description="" data-medium-file="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-box-background.png?fit=300%2C168&amp;ssl=1" data-large-file="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-box-background.png?fit=960%2C538&amp;ssl=1" loading="lazy" width="960" height="538" src="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-box-background.png?resize=960%2C538&amp;is-pending-load=1#038;ssl=1" alt="ffmpeg-drawtext-filter-dynamic-overlays-timecode-scrolling-text-credits" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-box-background.png?w=960&amp;ssl=1 960w, https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-box-background.png?resize=300%2C168&amp;ssl=1 300w, https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-box-background.png?resize=768%2C430&amp;ssl=1 768w" data-lazy-sizes="(max-width: 960px) 100vw, 960px" data-lazy-src="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-box-background.png?resize=960%2C538&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure></div>



<h2 id="displaying-timecodes--timestamps-using--ffmpegs-drawtext-filter"><span id="Displaying_TimeCodes_/_TimeStamps_using_FFmpeg%E2%80%99s_drawtext_filter"></span>Displaying TimeCodes / TimeStamps using FFmpeg‚Äôs drawtext filter<span></span></h2>



<p>This is a very useful application of the&nbsp;<code>drawtext</code>&nbsp;filter and is used in demonstrating low-latency applications or visual quality testing so that one knows precisely what the timestamps/timecodes are at each time.</p>



<pre><code>ffmpeg -i inputClip.mp4 -vf "drawtext=text='timestamp: %{pts \: hms}': x=500: y=500: fontsize=32:fontcolor=yellow@0.9: box=1: boxcolor=black@0.6" -c:a copy output.mp4</code></pre>



<p>This uses the&nbsp;<code>timestamp</code>&nbsp;and&nbsp;<code>pts</code>&nbsp;options to display time in hour:min:sec format using the&nbsp;<code>hms</code>&nbsp;format specifier. The notations and formatting are complex in my opion! So, a lot of trial and error might be needed before you format your display correctly.</p>



<p>Here is how the video looks. Hope Vimeo shows you the video without a lot of delay üôÇ</p>



<figure><div>
<p><iframe width="600" height="338" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" data-src="https://player.vimeo.com/video/445270549" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></iframe></p>
</div></figure>



<p>And here is the same command, but using the&nbsp;<code>flt</code>&nbsp;option to provide microsecond time accuracy! Fancy üôÇ</p>



<pre><code>ffmpeg -i inputClip.mp4 -vf "drawtext=text='timestamp: %{pts \: flt}': x=500: y=500: fontsize=32:fontcolor=yellow@0.9: box=1: boxcolor=black@0.6" -c:a copy output.mp4
</code></pre>



<figure><img data-attachment-id="91" data-permalink="https://ottverse.com/drawtext-timecode-flt/" data-orig-file="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-timecode-flt.png?fit=960%2C540&amp;ssl=1" data-orig-size="960,540" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="drawtext-timecode-flt" data-image-description="" data-medium-file="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-timecode-flt.png?fit=300%2C169&amp;ssl=1" data-large-file="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-timecode-flt.png?fit=960%2C540&amp;ssl=1" loading="lazy" width="960" height="540" src="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-timecode-flt.png?resize=960%2C540&amp;is-pending-load=1#038;ssl=1" alt="ffmpeg-drawtext-filter-dynamic-overlays-timecode-scrolling-text-credits" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-timecode-flt.png?w=960&amp;ssl=1 960w, https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-timecode-flt.png?resize=300%2C169&amp;ssl=1 300w, https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-timecode-flt.png?resize=768%2C432&amp;ssl=1 768w" data-lazy-sizes="(max-width: 960px) 100vw, 960px" data-lazy-src="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/drawtext-timecode-flt.png?resize=960%2C540&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>



<h2 id="display-movie-credits-using-ffmpegs-drawtext-filter"><span id="Display_Movie_Credits_using_FFmpeg%E2%80%99s_drawtext_filter"></span>Display Movie Credits using FFmpeg‚Äôs drawtext filter<span></span></h2>



<p>Finally, let‚Äôs learn how to show a movie‚Äôs credits using the draw text filter. Here are two main concepts that you need to understand.</p>



<ul><li>providing a lot of text: you can‚Äôt do this via the commandline, so, you need to read a text file that contains the text. And you can read that using the&nbsp;<code>textfile</code>&nbsp;option.</li><li>and, specify the speed of scrolling using the&nbsp;<code>y</code>&nbsp;text position. Here, you can provide an equation instead of a constant number. You start off by telling by FFmpeg that the y-position is&nbsp;<code>h - 80*t</code>&nbsp;so that everytime the value of time increases, the value of&nbsp;<code>h - 80*t*</code>&nbsp;decreases, and the text is displayed higher. Makes sense?</li></ul>



<p><strong>Tip: change&nbsp;<code>80</code>&nbsp;to&nbsp;<code>100</code>&nbsp;or&nbsp;<code>120</code>&nbsp;and see the effect on the scrolling speed.</strong></p>



<pre><code>ffmpeg -i inputClip.mp4 -vf "drawtext=textfile=credits.txt: x=200: y=h-80*t: fontsize=36:fontcolor=yellow@0.9: box=1: boxcolor=black@0.6" -c:a copy outputCredits.mp4
</code></pre>



<p>Here is the output:</p>



<figure><div>
<p><iframe width="600" height="338" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" data-src="https://player.vimeo.com/video/445276018" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></iframe></p>
</div></figure>



<p>That‚Äôs it for this tutorial on using FFmpeg‚Äôs&nbsp;<code>drawtext</code>&nbsp;filter to produce dynamic overlays on your videos. It is a very versatile and handy tool that you can use to overlay text, timecodes, credits, copyrights notices on your videos.</p>







<hr>



<p>If you are interested in video compression, <a href="https://ottverse.com/lcevc-vs-avc-using-ffmpeg/">check out our comparison of LCEVC (MPEG5 Part 2) vs H.264/AVC</a>. Stunning results, I tell you üôÇ </p>



<figure><a href="https://ottverse.com/lcevc-vs-avc-using-ffmpeg/"><img data-attachment-id="1006" data-permalink="https://ottverse.com/lcevc-vs-avc-using-ffmpeg/lcevc-vs-avc-featured-image/" data-orig-file="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/lcevc-vs-avc-featured-image.png?fit=1920%2C1080&amp;ssl=1" data-orig-size="1920,1080" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="lcevc-vs-avc-featured-image" data-image-description="" data-medium-file="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/lcevc-vs-avc-featured-image.png?fit=300%2C169&amp;ssl=1" data-large-file="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/lcevc-vs-avc-featured-image.png?fit=1024%2C576&amp;ssl=1" loading="lazy" width="1024" height="576" src="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/lcevc-vs-avc-featured-image.png?resize=1024%2C576&amp;is-pending-load=1#038;ssl=1" alt="lcevc avc ffmeg" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/lcevc-vs-avc-featured-image.png?resize=1024%2C576&amp;ssl=1 1024w, https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/lcevc-vs-avc-featured-image.png?resize=300%2C169&amp;ssl=1 300w, https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/lcevc-vs-avc-featured-image.png?resize=768%2C432&amp;ssl=1 768w, https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/lcevc-vs-avc-featured-image.png?resize=1536%2C864&amp;ssl=1 1536w, https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/lcevc-vs-avc-featured-image.png?resize=1200%2C675&amp;ssl=1 1200w, https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/lcevc-vs-avc-featured-image.png?resize=678%2C381&amp;ssl=1 678w, https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/lcevc-vs-avc-featured-image.png?w=1920&amp;ssl=1 1920w" data-lazy-sizes="(max-width: 1000px) 100vw, 1000px" data-lazy-src="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/10/lcevc-vs-avc-featured-image.png?resize=1024%2C576&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></a></figure>
		
		
		
	</div></div>]]>
            </description>
            <link>https://ottverse.com/ffmpeg-drawtext-filter-dynamic-overlays-timecode-scrolling-text-credits/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24865755</guid>
            <pubDate>Fri, 23 Oct 2020 03:22:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[U.S. faculty job market tanks]]>
            </title>
            <description>
<![CDATA[
Score 181 | Comments 164 (<a href="https://news.ycombinator.com/item?id=24864838">thread link</a>) | @SQL2219
<br/>
October 22, 2020 | https://sci-hub.st/10.1126/science.370.6514.272 | <a href="https://web.archive.org/web/*/https://sci-hub.st/10.1126/science.370.6514.272">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://sci-hub.st/10.1126/science.370.6514.272</link>
            <guid isPermaLink="false">hacker-news-small-sites-24864838</guid>
            <pubDate>Fri, 23 Oct 2020 00:20:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[XMHell: Handling 38GB of UTF-16 XML with Rust]]>
            </title>
            <description>
<![CDATA[
Score 65 | Comments 47 (<a href="https://news.ycombinator.com/item?id=24863352">thread link</a>) | @aazaa
<br/>
October 22, 2020 | http://usethe.computer/posts/14-xmhell.html | <a href="https://web.archive.org/web/*/http://usethe.computer/posts/14-xmhell.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

        
        <h3>2020-05-11</h3>

<p>A couple weekends ago, I found myself with the desire to fetch oil and gas production data for a specific county in New Mexico from the <a href="http://www.emnrd.state.nm.us/OCD/">New Mexico Oil Conservation Division</a> (OCD).</p>
<p>Fortunately, the OCD provides access to historical well production via an FTP server. I worked out that I needed to download <code>/Public/OCD/OCD Interface v1.1/volumes/wcproduction/wcproduction.zip</code>‚Ä¶ and then my fortune ran out.</p>
<p>The first thing I noticed was the file size. The OCD doesn‚Äôt seem to provide a way to query a limited time- or area-based subset of production history data, so we‚Äôre stuck with a single zip file for ‚Äúall of New Mexico since the dawn of time‚Äù<a href="#fn1" id="fnref1"><sup>1</sup></a>. The result is a whopping 712MB ZIP file.</p>
<p>Here‚Äôs where I knew I was in trouble: the only thing inside was a single 38 GB file called <code>wcproduction.xml</code>.</p>
<h3>‚ÄúXML is like violence: when it fails, apply more‚Äù</h3>
<p>XML‚Äîthe ‚Äúextensible markup language‚Äù. Along with Java‚Äôs <code>AbstractBeanFactoryTemplateFactory</code>s, and the entirety of Geocities, XML epitomizes the excesses of the late 90s and early 2000s computing culture.</p>
<p>No two parsers can ever quite seem to agree on the details, and the verbosity quotient is such that an attempt to ‚Äúprint source‚Äù for the average ‚ÄúXHTML‚Äù web site circa 2001 would be likely to completely deforest the Amazon. The one thing that can be said in its favor is that it can indeed be used to somewhat faithfully represent a tree (the in-memory hierarchical structure, not the thing we just killed millions of).</p>
<p>Enough griping, though: the ‚ÄúXML everywhere‚Äù wave has long subsided. We‚Äôve got to figure out how to deal with what it left behind. While it‚Äôs the most common approach to parsing XML, it‚Äôs also clear that loading the entire file into memory is unlikely to work: the workstation I‚Äôm writing this on only has 32GB of RAM. Additionally, it doesn‚Äôt make sense to build a syntax tree for the entire document when we are only interested in a small subset of the data. The XML world refers to this‚Äîhere, unworkable‚Äîapproach as a ‚ÄúDOM parser‚Äù, but it‚Äôs just the common case of parsing for any formal language‚Äîwe incrementally construct an in-memory representation (that is, a syntax tree) of an entire document. It works well when we need the entire result and the in-memory representation fits comfortably within our resource budget: for instance, when compiling computer programs from source code, or rendering a web page from HTML.</p>
<p>Instead, we‚Äôll use a streaming approach (the XML folks call this ‚ÄúSAX‚Äù, for reasons I didn‚Äôt care enough to research). In this approach, we‚Äôll parse the document incrementally and receive results via an event-based API. This will let us only handle the data we care about, and minimize the amount we need to keep in memory at once.</p>
<p>For good performance on this ‚Äúhuge‚Äù data set, and to leverage an easily-accessible ecosystem of libraries which includes both streaming ZIP archive handling and high-performance streaming XML parsers, we‚Äôll write a data extraction program in the <a href="https://www.rust-lang.org/">Rust</a> programming language.</p>
<h3>(Re)Write It In Rust</h3>
<p><img alt="Rust Evangelism Strike Force logo" width="400px" src="http://usethe.computer/images/resf.png"></p>
<p>I‚Äôm not going to belabor the reasons Rust is exciting here. It‚Äôs a statically-typed, compiled language with a nice mix of performance and control, expressiveness, and safety. I find it to be a nice choice for the sorts of ‚Äúsystems programming‚Äù tasks in which I might also use C or C++, but the build tools and package management system (<a href="https://crates.io/">Cargo</a>) also make it a viable choice for these sorts of ‚Äúscript-like‚Äù programs, especially when performance may be an issue.</p>
<p>Let‚Äôs begin by creating a new Rust project using Cargo. We want a program (binary), not a library:</p>
<pre><code>$ cargo new ocd_production --bin</code></pre>
<p>That‚Äôll create a new directory <code>ocd_production</code> containing a Rust project. Inside we have a ‚Äúhello world‚Äù program in <code>src/main.rs</code> and a specification for the project in <code>Cargo.toml</code>. The directory is also a <code>git</code> repository, which is handy.</p>
<p>There‚Äôs no sense in unpacking the ZIP file when we can stream our XML file out of it using the <a href="https://crates.io/crates/zip"><code>zip</code></a> library. Let‚Äôs begin by just previewing the text of the XML file.</p>
<p>We‚Äôll add <code>zip</code> to our <code>Cargo.toml</code>:</p>
<pre><code>[package]
name = "ocd_production"
version = "0.1.0"
authors = ["Derrick W. Turk &lt;dwt@terminusdatascience.com&gt;"]
edition = "2018"

[dependencies]
zip = "0.5.5"</code></pre>
<p>A caveat before we begin: this is going to be ‚Äúscript‚Äù quality code. My goal is to process one file quickly and reliably, not to build a reusable library or produce ‚Äúproduction-ready‚Äù code. As such, this code is going to skip some ‚Äúbest practices‚Äù: everything will be in one long <code>main.rs</code> file, and error handling will be oriented toward catching error conditions and aborting the program rather than toward error recovery or human-friendly error messages.</p>
<p>With that in mind, let‚Äôs write a short program in <code>src/main.rs</code> to take a ZIP file path as a command-line argument, and stream a few KB at a time from the file contained inside:</p>
<pre id="cb3"><code><a id="cb3-1" data-line-number="1"><span>use</span> std::<span>{</span></a>
<a id="cb3-2" data-line-number="2">    env,</a>
<a id="cb3-3" data-line-number="3">    error::Error,</a>
<a id="cb3-4" data-line-number="4">    fs::File,</a>
<a id="cb3-5" data-line-number="5">    io::Read,</a>
<a id="cb3-6" data-line-number="6">    <span>str</span>,</a>
<a id="cb3-7" data-line-number="7"><span>}</span>;</a>
<a id="cb3-8" data-line-number="8"></a>
<a id="cb3-9" data-line-number="9"><span>use</span> zip::ZipArchive;</a>
<a id="cb3-10" data-line-number="10"></a>
<a id="cb3-11" data-line-number="11"><span>const</span> BUF_SIZE: <span>usize</span> = <span>4096</span>; <span>// 4kb at once</span></a>
<a id="cb3-12" data-line-number="12"></a>
<a id="cb3-13" data-line-number="13"><span>fn</span> main() -&gt; <span>Result</span>&lt;(), <span>Box</span>&lt;dyn Error&gt;&gt; <span>{</span></a>
<a id="cb3-14" data-line-number="14">    <span>let</span> path = env::args().nth(<span>1</span>).ok_or(<span>"no filename provided"</span>)?;</a>
<a id="cb3-15" data-line-number="15">    <span>let</span> zipfile = File::open(path)?;</a>
<a id="cb3-16" data-line-number="16">    <span>let</span> <span>mut</span> zip = ZipArchive::new(zipfile)?;</a>
<a id="cb3-17" data-line-number="17"></a>
<a id="cb3-18" data-line-number="18">    <span>if</span> zip.len() != <span>1</span> <span>{</span></a>
<a id="cb3-19" data-line-number="19">        <span>Err</span>(<span>"expected one file in zip archive"</span>)?;</a>
<a id="cb3-20" data-line-number="20">    <span>}</span></a>
<a id="cb3-21" data-line-number="21"></a>
<a id="cb3-22" data-line-number="22">    <span>let</span> <span>mut</span> xmlfile = zip.by_index(<span>0</span>)?;</a>
<a id="cb3-23" data-line-number="23">    <span>println!</span>(<span>"file is {}, size {} bytes"</span>, xmlfile.name(), xmlfile.size());</a>
<a id="cb3-24" data-line-number="24"></a>
<a id="cb3-25" data-line-number="25">    <span>let</span> <span>mut</span> buf = <span>[</span><span>0u8</span>; BUF_SIZE<span>]</span>;</a>
<a id="cb3-26" data-line-number="26">    <span>loop</span> <span>{</span></a>
<a id="cb3-27" data-line-number="27">        <span>if</span> xmlfile.read(&amp;<span>mut</span> buf<span>[</span>..<span>]</span>)? == <span>0</span> <span>{</span></a>
<a id="cb3-28" data-line-number="28">            <span>break</span>;</a>
<a id="cb3-29" data-line-number="29">        <span>}</span></a>
<a id="cb3-30" data-line-number="30"></a>
<a id="cb3-31" data-line-number="31">        <span>println!</span>(<span>"read chunk: {}"</span>, <span>str</span>::from_utf8(&amp;buf<span>[</span>..<span>]</span>)?);</a>
<a id="cb3-32" data-line-number="32">    <span>}</span></a>
<a id="cb3-33" data-line-number="33"></a>
<a id="cb3-34" data-line-number="34">    <span>Ok</span>(())</a>
<a id="cb3-35" data-line-number="35"><span>}</span></a></code></pre>
<p>We‚Äôll compile in ‚Äúrelease mode‚Äù (that is, with optimizations enabled) and run against the ZIP file:</p>
<pre><code>$ cargo run --release wc_production.zip</code></pre>
<blockquote>
<p><code>file is wcproduction.xml, size 38535541060 bytes</code><br>
<code>Error: Utf8Error { valid_up_to: 0, error_len: Some(1) }</code></p>
</blockquote>
<p>That‚Äôs discouraging.</p>
<h3>Only 90s Kids Will Remember This File Encoding</h3>
<p>Like many ‚Äúmodern‚Äù languages, Rust‚Äôs standard string type is a <a href="https://en.wikipedia.org/wiki/UTF-8">UTF-8</a> encoded <a href="https://home.unicode.org/">Unicode</a> string. This is the right answer for a <a href="https://utf8everywhere.org/">lot of good reasons</a>, but it‚Äôs only become popular in recent years.</p>
<p>In this case, we‚Äôve clearly encountered some text which is not encoded in UTF-8. In fact, we‚Äôve hit an invalid byte as the very first byte. Let‚Äôs look at raw bytes, rather than Rust strings, so that we can see what‚Äôs going on. We‚Äôll edit <code>src/main.rs</code>:</p>
<pre id="cb5"><code><a id="cb5-1" data-line-number="1"><span>use</span> std::<span>{</span></a>
<a id="cb5-2" data-line-number="2">    env,</a>
<a id="cb5-3" data-line-number="3">    error::Error,</a>
<a id="cb5-4" data-line-number="4">    fs::File,</a>
<a id="cb5-5" data-line-number="5">    io::Read,</a>
<a id="cb5-6" data-line-number="6">    <span>str</span>,</a>
<a id="cb5-7" data-line-number="7"><span>}</span>;</a>
<a id="cb5-8" data-line-number="8"></a>
<a id="cb5-9" data-line-number="9"><span>use</span> zip::ZipArchive;</a>
<a id="cb5-10" data-line-number="10"></a>
<a id="cb5-11" data-line-number="11"><span>const</span> BUF_SIZE: <span>usize</span> = <span>4096</span>; <span>// 4kb at once</span></a>
<a id="cb5-12" data-line-number="12"></a>
<a id="cb5-13" data-line-number="13"><span>fn</span> main() -&gt; <span>Result</span>&lt;(), <span>Box</span>&lt;dyn Error&gt;&gt; <span>{</span></a>
<a id="cb5-14" data-line-number="14">    <span>let</span> path = env::args().nth(<span>1</span>).ok_or(<span>"no filename provided"</span>)?;</a>
<a id="cb5-15" data-line-number="15">    <span>let</span> zipfile = File::open(path)?;</a>
<a id="cb5-16" data-line-number="16">    <span>let</span> <span>mut</span> zip = ZipArchive::new(zipfile)?;</a>
<a id="cb5-17" data-line-number="17"></a>
<a id="cb5-18" data-line-number="18">    <span>if</span> zip.len() != <span>1</span> <span>{</span></a>
<a id="cb5-19" data-line-number="19">        <span>Err</span>(<span>"expected one file in zip archive"</span>)?;</a>
<a id="cb5-20" data-line-number="20">    <span>}</span></a>
<a id="cb5-21" data-line-number="21"></a>
<a id="cb5-22" data-line-number="22">    <span>let</span> <span>mut</span> xmlfile = zip.by_index(<span>0</span>)?;</a>
<a id="cb5-23" data-line-number="23">    <span>println!</span>(<span>"file is {}, size {} bytes"</span>, xmlfile.name(), xmlfile.size());</a>
<a id="cb5-24" data-line-number="24"></a>
<a id="cb5-25" data-line-number="25">    <span>let</span> <span>mut</span> buf = <span>[</span><span>0u8</span>; BUF_SIZE<span>]</span>;</a>
<a id="cb5-26" data-line-number="26">    <span>loop</span> <span>{</span></a>
<a id="cb5-27" data-line-number="27">        <span>if</span> xmlfile.read(&amp;<span>mut</span> buf<span>[</span>..<span>]</span>)? == <span>0</span> <span>{</span></a>
<a id="cb5-28" data-line-number="28">            <span>break</span>;</a>
<a id="cb5-29" data-line-number="29">        <span>}</span></a>
<a id="cb5-30" data-line-number="30"></a>
<a id="cb5-31" data-line-number="31">        <span>println!</span>(<span>"read chunk: {:?}"</span>, &amp;buf<span>[</span>..<span>]</span>);</a>
<a id="cb5-32" data-line-number="32">        <span>// we'll just dump the first chunk so we can see what's going on</span></a>
<a id="cb5-33" data-line-number="33">        <span>break</span>;</a>
<a id="cb5-34" data-line-number="34">    <span>}</span></a>
<a id="cb5-35" data-line-number="35"></a>
<a id="cb5-36" data-line-number="36">    <span>Ok</span>(())</a>
<a id="cb5-37" data-line-number="37"><span>}</span></a></code></pre>
<blockquote>
<p><code>file is wcproduction.xml, size 38535541060 bytes</code><br>
<code>read chunk: [255, 254, 60, 0, 114, 0, 111, 0, 111, 0, 116, 0, 32, 0, 120, 0, 109, 0, 108, 0, 110, 0, 115, 0, 58, 0, 120, 0, 115, 0, 105, 0, 61, 0, 34, 0, 104, 0, 116, 0, 116, 0, 112, 0, 58, 0, 47, 0, 47, 0, 119, 0, 119, 0, 119, 0, 46, 0, 119, 0, 51, 0, 46, 0, 111, 0, 114, 0, 103, 0, 47, 0, 50, 0, 48, 0, 48, 0, 49, 0, 47, 0, 88, 0, 77, 0, 76, 0, 83, 0, 99, 0, 104, 0, 101, 0, 109, 0, 97, 0, 45, 0, 105, 0, 110, 0, 115, 0, 116, 0, 97, 0, 110, 0, 99, 0, 101, 0, 34, 0, 62, 0, 60, 0, 120, 0, 115, 0, 100, 0, 58, 0, 115, 0, 99, 0, 104, 0, 101, 0, 109, 0, 97, 0, 32, 0, 116, 0, 97, 0, 114, 0, 103, 0, 101, 0, 116, 0, 78, 0, 97, 0, ...</code></p>
</blockquote>
<p>At this point, recovering Windows programmers and Java programmers are wincing in sympathy. Two things immediately stand out: first, we‚Äôve got a series of bytes alternating between the printable ASCII range and zero, and second, we open with <code>0xFF 0xFE</code>‚Äîthat‚Äôs a <a href="https://en.wikipedia.org/wiki/Byte_order_mark">BOM</a>. We‚Äôre dealing with <a href="https://en.wikipedia.org/wiki/UTF-16">UTF-16</a> in <a href="https://en.wikipedia.org/wiki/Endianness">little-endian</a> byte order.</p>
<p>If you want the short version of how we got here, I suggest reading <a href="https://www.kingjamesbibleonline.org/Genesis-Chapter-11/">Chapter 11 of the Book of Genesis</a>.</p>
<p>The slightly longer version goes like this: in the late 80s, some forward-thinking folks began thinking seriously about the fact that non-Americans were using computers. In fact, some of the world‚Äôs computer users weren‚Äôt even Europeans, who could usually get away with smuggling some funny accented Latin characters into that ‚Äúunused‚Äù eighth bit of <a href="https://en.wikipedia.org/wiki/ASCII">ASCII</a>. Of course, the non-Latin alphabet folks were doing just fine on their own: they had their own character sets and encodings.</p>
<p>But wouldn‚Äôt it be nice if we could all share one universal character set? Some sort of‚Ä¶ ‚ÄúUni‚Äùversal ‚Äúcode‚Äù? Surely, they reasoned, the Chinese/Japanese/Korean (CJK) character sets, the Latin alphabet, the Cyrillic alphabet, and anything else of interest could all be encoded into a shared 16-bit range. 65,536 characters should be enough for all the world‚Äôs languages! We‚Äôd just decide that the new ‚Äúcharacter type‚Äù was a 16-bit integer instead of an 8-bit integer; strings could still be arrays of these characters, and doubling the storage required for existing ASCII text was an acceptable price to pay for global harmony. Big names committed to this new ‚ÄúUniversal Character Set‚Äù (<a href="https://en.wikipedia.org/wiki/Universal_Coded_Character_Set">UCS-2</a>): Microsoft rebuilt Windows‚Äô string handling to use strings of two-byte UCS-2 ‚Äúwide characters‚Äù, and the hot new Java programming language made the same decision.</p>
<p>As you can imagine, 65,536 characters did not turn out to be nearly enough for all the world‚Äôs languages‚Äîmuch less the wave of weird üë©‚Äçüë©‚Äçüë¶‚Äçüë¶ characters üíØ yet to üîú appear. Unicode ended up adopting a 32-bit address space, supporting over 4 billion characters. We‚Äôre unlikely to fill that any time soon, even given the breathtaking pace of emoji creation.</p>
<p>However, it also ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://usethe.computer/posts/14-xmhell.html">http://usethe.computer/posts/14-xmhell.html</a></em></p>]]>
            </description>
            <link>http://usethe.computer/posts/14-xmhell.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24863352</guid>
            <pubDate>Thu, 22 Oct 2020 21:11:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Nickel: Better Configuration for Less]]>
            </title>
            <description>
<![CDATA[
Score 58 | Comments 57 (<a href="https://news.ycombinator.com/item?id=24858456">thread link</a>) | @figomore
<br/>
October 22, 2020 | https://www.tweag.io/blog/2020-10-22-nickel-open-sourcing/ | <a href="https://web.archive.org/web/*/https://www.tweag.io/blog/2020-10-22-nickel-open-sourcing/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><p>We are making the <a href="https://www.github.com/tweag/nickel">Nickel</a> repository public. Nickel is an experimental configuration
language developed at Tweag. While this is not the time for the first
release yet, it is an occasion to talk about this project. The goal of this
post is to give a high-level overview of the project. If your curiosity is tickled
but you are left wanting to learn more, fear not, as we will publish
more blog posts on specific aspects of the language in the future. But for
now, let‚Äôs have a tour!</p>
<p>[<strong>Disclaimer</strong>: the actual syntax of Nickel being still worked on, I‚Äôm freely
using as-of-yet non-existing syntax for illustrative purposes. The underlying
features are however already supported.]</p>
<h2>The inception</h2>
<p>We, at Tweag, are avid users of the <a href="https://nixos.org/">Nix</a> package manager. As it
happens, the configuration language for Nix (also called Nix) is
a pretty good configuration language, and would be applicable to many
more things than just package management.</p>
<p>All in all, the Nix language is a lazy JSON with functions. It is
simple yet powerful. It is used to generate Nix‚Äôs package descriptions
but would be well
suited to write any kind of configuration (<a href="https://www.terraform.io/">Terraform</a>,
<a href="https://kubernetes.io/">Kubernetes</a>, etc‚Ä¶).</p>
<p>The rub is that the interpreter for Nix-the-language is tightly
coupled with Nix-the-package manager. So, as it stands, using the
Nix language for anything else than package management is a rather
painful exercise.</p>
<p>Nickel is our attempt at answering the question: what would
Nix-the-language look like if it was split from the package manager?
While taking the opportunity to improve the language a little,
building on the experience of the Nix community over the years.</p>
<h2>What‚Äôs Nickel, exactly ?</h2>
<p>Nickel is a lightweight generic configuration language. In that it can
replace YAML as your application‚Äôs configuration language. Unlike
YAML, though, it anticipates large configurations by being
programmable. Another way to use Nickel is to generate static
configuration files ‚Äî <em>e.g.</em> in JSON, YAML ‚Äî that are then fed to another system. Like
Nix, it is designed to have a simple, well-understood core: at its
heart, it is JSON with functions.</p>
<p>But past experience with Nix also brings some insights on which aspects of the
language could be improved. Whatever the initial scope of a language is, it will
almost surely be used in a way that deviates from the original plan: you create
a configuration language to describe software packages, and next thing you know,
somebody needs to implement a <a href="https://github.com/NixOS/nixpkgs/pull/11484">topological sort</a>.</p>
<p>Nickel strives to retain the simplicity of Nix, while extending it
according to this feedback.
Though, you can do perfectly fine without the new features and just write Nix-like code.</p>
<h2>Yet another configuration language</h2>
<p>At this point you‚Äôre probably wondering if this hasn‚Äôt already been done elsewhere.
It seems that more and more languages are born every day, and surely there
already exist configuration languages with a similar purpose to Nickel:
<a href="https://github.com/bazelbuild/starlark">Starlark</a>, <a href="https://jsonnet.org/">Jsonnet</a>, <a href="https://dhall-lang.org/">Dhall</a> or <a href="https://cuelang.org/">CUE</a>, to name
a few. So why Nickel?</p>
<h2>Typing</h2>
<p>Perhaps the most important difference with other configuration languages is
Nickel‚Äôs approach to typing.</p>
<p>Some languages, such as <a href="https://jsonnet.org/">Jsonnet</a> or <a href="https://github.com/bazelbuild/starlark">Starlark</a>, are not
statically typed. Indeed, static types can be seen as superflous in a configuration
language: if your program is only run once on fixed inputs, any type error will
be reported at run-time anyway. Why bother with a static type system?</p>
<p>On the other hand, more and more systems rely on complex configurations, such as
cloud infrastructure (<a href="https://www.terraform.io/">Terraform</a>, <a href="https://kubernetes.io/">Kubernetes</a> or
<a href="https://github.com/NixOS/nixops">NixOps</a>), leading the corresponding programs to become increasingly
complex, to the point where static types are beneficial. For reusable code ‚Äî
that is, library functions ‚Äî static types add structure, serve as
documentation, and eliminate bugs early.</p>
<p>Although less common, some configuration languages are statically typed,
including <a href="https://dhall-lang.org/">Dhall</a> and <a href="https://cuelang.org/">CUE</a>.</p>
<p>Dhall features a powerful type system that is able to type a wide range of
idioms. But it is complex, requiring some experience to become fluent in.</p>
<p>CUE is closer to what we are striving for. It has an optional and well-behaved
type system with strong guarantees. In exchange for which, one can‚Äôt write nor
type higher-order functions in general, even if some simple functions are
possible to encode.</p>
<h3>Gradual typing</h3>
<p>Nickel, features a <a href="https://en.wikipedia.org/wiki/Gradual_typing"><em>gradual type system</em></a>.
Gradual types are unobtrusive: they make it possible to statically
type reusable parts of your programs, but you are still free to write
configurations without any types. The
interpreter safely handles the interaction between the typed and untyped worlds.</p>
<p>Concretely, typed library code like this:</p>
<div data-language="text"><pre><code>// file: mylib.ncl
{
  numToStr : Num -&gt; Str = fun n =&gt; ...;
  makeURL : Str -&gt; Str -&gt; Num -&gt; Str = fun proto host port =&gt;
    "${proto}://${host}:${numToStr port}/";
}</code></pre></div>
<p>can coexist with untyped configuration code like this:</p>
<div data-language="text"><pre><code>// file: server.ncl
let mylib = import "mylib.ncl" in
let host = "myproject.com" in
{
  host = host;
  port = 1;
  urls = [
    mylib.makeURL "myproto" host port,
    {protocol = "proto2"; server = "sndserver.net"; port = 4242}
  ];
}</code></pre></div>
<p>In the first snippet, the body of <code>numToStr</code> and <code>makeURL</code> are statically
checked: wrongfully calling <code>numToStr proto</code> inside <code>makeURL</code> would raise an
error even if <code>makeURL</code> is never used. On the other hand, the second snippet is
not annotated, and thus not statically checked. In particular, we mix an URL
represented as a string together with one represented as a record in the same
list. The interpreter rather inserts run-time checks, or <em>contracts</em>, such
that if <code>makeURL</code> is misused then the program fails with an
appropriate error.</p>
<p>Gradual types also lets us keep the type system simple: even in
statically typed code if you want to write a component that the type
checker doesn‚Äôt know how to verify, you don‚Äôt have to type-check that
part.</p>
<h3>Contracts</h3>
<p>Complementary to the static type system, Nickel offers <em>contracts</em>. Contracts
offer precise and accurate dynamic type error reporting, even in the
presence of function types. Contracts are used internally by
Nickel‚Äôs interpreter to insert guards at the boundary between typed and untyped
chunks. Contracts are available to the programmer as well, to give them the
ability to enforce type assertions at run-time in a simple way.</p>
<p>One pleasant consequence of this design is that the exposure of the user to the
type system can be progressive:</p>
<ul>
<li>Users writing configurations can just write Nix-like code while ignoring
(almost) everything about typing, since you can seamlessly call a typed
function from untyped code.</li>
<li>Users writing consumers or verifiers of these configurations would use
contracts to model data schemas.</li>
<li>Users writing libraries would instead use the static type
system.</li>
</ul>
<p>An example of contract is given in the next section.</p>
<h2>Schemas</h2>
<p>While the basic computational blocks are functions, the basic data blocks in
Nickel are records (or objects in JSON). Nickel supports writing self-documenting
record schemas, such as:</p>
<div data-language="text"><pre><code>{
  host | type: Str
       | description: "The host name of the server."
       | default: "fallback.myserver.net"
  ;

  port | type: Num
       | description: "The port of the connection."
       | default: 4242
  ;

  url | type: Url
      | description: "The host name of the server."
  ;
}</code></pre></div>
<p>Each field can contain metadata, such as a description or default
value. These aim at being displayed in documentation, or queried by
tools.</p>
<p>The schema can then be used as a contract. Imagine that a function has
swapped two values in its output and returns:</p>
<div data-language="text"><pre><code>{
  host = "myproject.com",
  port = "myproto://myproject.com:1/",
  url = 1
}</code></pre></div>
<p>Without types, this is hard to catch. Surely, an error will eventually pop up
downstream in the pipeline, but how and when? Using the schema above
will make sure that, whenever the fields are actually evaluated, the
function will be blamed in the type error.</p>
<p>Schemas are actually part of a bigger story involving merging records
together, which, in particular, lets the schema instantiate missing
fields with their default values. It is very much inspired by the
<a href="https://nixos.org/manual/nixos/stable/index.html#sec-configuration-syntax">NixOs module system</a> and the <a href="https://cuelang.org/">CUE</a> language, but
it is a story for another time.</p>
<h2>Conclusion</h2>
<p>I hope that I gave you a sense of what Nickel is trying to achieve. I
only presented its most salient aspects: its gradual type system with
contracts, and built-in record schemas. But there is more to explore!
The language is not ready to be used in real world applications yet, but a good
share of the design presented here is implemented. If you are curious about it,
<a href="https://www.github.com/tweag/nickel">check it out</a>!</p></div></div></div></div>]]>
            </description>
            <link>https://www.tweag.io/blog/2020-10-22-nickel-open-sourcing/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24858456</guid>
            <pubDate>Thu, 22 Oct 2020 14:35:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Dutch Ethical Hacker Logs into Trump‚Äôs Twitter Account]]>
            </title>
            <description>
<![CDATA[
Score 93 | Comments 71 (<a href="https://news.ycombinator.com/item?id=24858219">thread link</a>) | @huijzer
<br/>
October 22, 2020 | https://www.volkskrant.nl/nieuws-achtergrond/dutch-ethical-hacker-logs-into-trump-s-twitter-account~badaa815/ | <a href="https://web.archive.org/web/*/https://www.volkskrant.nl/nieuws-achtergrond/dutch-ethical-hacker-logs-into-trump-s-twitter-account~badaa815/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section data-artstyle-marker="paywall"><section data-artstyle-marker="paywall"><figure data-element-id="71cde2cd-2335-4b84-b278-26460a834b90"><picture><source srcset="https://images2.persgroep.net/rcs/3L2D94DUUcqGUKV6M79IbLq4gq0/diocontent/177978718/_fitwidth/1240?appId=93a17a8fd81db0de025c8abd1cca1279&amp;quality=0.9&amp;desiredformat=webp" type="image/webp"><source srcset="https://images4.persgroep.net/rcs/YzsBRwzCgK61WPSnuHpvToefLsQ/diocontent/177978718/_fitwidth/1240?appId=93a17a8fd81db0de025c8abd1cca1279&amp;quality=0.9" type="image/jpeg"><img data-credit="Beeld Getty Images" data-height="885" data-original="https://images4.persgroep.net/rcs/YzsBRwzCgK61WPSnuHpvToefLsQ/diocontent/177978718/_fitwidth/1240?appId=93a17a8fd81db0de025c8abd1cca1279&amp;quality=0.9" data-title="U.S. President Donald Trump works on his phone during a roundtable at the State Dining Room of the White House June 18, 2020." data-width="1240" src="https://images4.persgroep.net/rcs/YzsBRwzCgK61WPSnuHpvToefLsQ/diocontent/177978718/_fitwidth/1240?appId=93a17a8fd81db0de025c8abd1cca1279&amp;quality=0.9"> </picture><figcaption><cite>U.S. President Donald Trump works on his phone during a roundtable at the State Dining Room of the White House June 18, 2020.</cite><span>Beeld Getty Images</span></figcaption></figure><p data-element-id="4aeb-3d95-850b-1e5e-3b11-54f3-9f2c-5a33">The researcher, Victor Gevers, had access to Trump‚Äôs personal messages, could post tweets in his name and change his profile. Gevers took screenshots when he had access to Trump‚Äôs account. These screenshots were shared with <i>de Volkskrant </i>by the monthly opinion magazine&nbsp;<a href="https://www.vn.nl/trump-twitter-hacked-again/" target="_blank">Vrij Nederland</a>. Dutch security experts find Gevers‚Äô claim credible.</p><p data-element-id="f7d4-df7f-98ec-67eb-d049-540f-292a-5617">The Dutchman alerted Trump and American government services to the security leak. After a few days, he was contacted by the American Secret Service in the Netherlands. This agency is also responsible for the security of the American President and took the report seriously, as evidenced by correspondence seen by de Volkskrant. Meanwhile Trump‚Äôs account has been made more secure.</p><p data-element-id="cd30-cedb-07c2-93d7-a663-5828-30a5-5d9a">This is not the first time that Dutch hackers succeeded in taking over Donald Trump‚Äôs Twitter account. The first time was four years ago, just before the 2016 elections, when three hackers jointly managed to retrieve Trump‚Äôs password and access his account. That someone has now succeeded again, is remarkable. During the previous presidential elections Russian hackers attempted to influence the elections on a large scale. Subsequently, social media have taken various steps to prevent manipulation.</p><p data-element-id="cb67-ef02-5e43-1c58-e530-8e49-5d42-7cd2">Today as well, barely three weeks before the presidential elections, attempts are being made from Russia and Iran to digitally influence the elections. Obviously, the President‚Äôs Twitter account is a target too. Twitter declines to respond on the record, stating that they never comment on security measures for individual accounts. Ronald Prins, founder of security company Hunt &amp; Hackett and one of the best-known Dutch security experts, says: ‚ÄòI‚Äôve known Victor Gevers for quite a few years. He has a reputation of devoting his life to finding vulnerabilities and always adopts a very ethical attitude in doing so. On the basis of what I know and have seen, his claim seems credible.‚Äô</p><h3 data-element-id="3cd7-0aef-c61e-659e-e0e2-9543-03a8-128f">2016 hack</h3><p data-element-id="720f-405b-63d6-f369-e9e8-6270-6c66-658a">Victor Gevers was also one of the three hackers who logged into Trump‚Äôs account in 2016. ‚ÄòThat we would succeed in doing it again so soon, was not planned‚Äô, he says about the buildup to the action. The reason for making another attempt to hack Trump‚Äôs account was the reporting in the US about Hunter Biden. A hard disk owned by presidential candidate Joe Biden‚Äôs son was supposedly stolen or hacked ‚Äì also because Hunter Biden used an easy to guess password (Hunter02). Gevers is familiar with leaked databases of old passwords and searched these for Hunter Biden‚Äôs data. After analysing these old databases, he felt that the information was incorrect. Hunter Biden used other passwords. Gevers: ‚ÄòI could tell that it wasn‚Äôt his password.‚Äô</p><p data-element-id="75db-2de2-faf8-fc31-16d0-d99f-b879-3ccd">It gives him the idea to check how good the security of verified Twitter accounts actually is. He looks at the account of Susan Rice, the former US national security adviser, and at that of Joe Biden. And also takes a look at Donald Trump, while he‚Äôs at it. ‚ÄòDoing spot checks, that‚Äôs my work: look for any leaks in security.‚Äô</p><p data-element-id="d4fd-0bc3-c406-a8b0-3268-6c9e-8769-2843">Earlier discoveries by Gevers include an enormous Chinese database with the location data of 2.7 million inhabitants of Xinjang ‚Äì China‚Äôs largest province and home to the Uyghurs. The poorly secured database contained all kinds of personal data: people‚Äôs ID number, nationality, phone number, date of birth, photos, employer, but also GPS coordinates of the places these individuals had visited. The existence of this database made it even clearer how meticulously China is monitoring the Uyghur minority in the country.</p><p data-element-id="45f1-e3ef-2f67-eaca-666a-a367-2947-c3e4">On Friday morning, almost absentmindedly, Gevers tries a number of passwords and their variations. On the fifth attempt: bingo! He tries ‚Äòmaga2020!‚Äô (short for make America great again) and suddenly finds himself in the Twitter account of the American President. He is flabbergasted. Gevers: ‚ÄòI expected to be blocked after four failed attempts. Or at least would be asked to provide additional information.‚Äô None of that.</p><p data-element-id="0a49-c680-a98e-21e9-d291-70bc-18bf-975f">On that Friday morning, Gevers has access to what is perhaps the most important Twitter account in the world and is in a position to send a message to 87 million people, the attentive world press, and government leaders. Gevers: ‚ÄòI did think: ‚ÄúHere we go again‚Äù.‚Äô</p><h3 data-element-id="5342-211d-6946-9cf2-ebf8-89fd-fcd1-b8c2">Illegal</h3><p data-element-id="2da9-1ce3-bc38-1f09-e397-5636-d20b-c1a1">After all, hacking an account is illegal. If Gevers wants to make it clear that he is acting with good intentions, he will have to proceed responsibly and document his steps. He takes screenshots. Then he sends an email to Donald Trump ‚Äì ‚ÄòI still had an old email account of his‚Äô ‚Äì and sends a copy to the American organisation for digital security. He kindly advises Trump to take extra security measures. And perhaps use a somewhat longer password. Gevers even suggests one: !IWillMakeAmericaGreatAgain2020!, and adds instructions for activating two-step verification. ‚ÄòBut I didn‚Äôt get a reply.‚Äô</p><p data-element-id="f6ea-8910-66b0-bf9a-95b6-b615-5fea-8aaf">So, he tries to warn others. Trump‚Äôs campaign team, his family. He sends messages via Twitter asking if someone will call Trump‚Äôs attention to the fact that his Twitter account is not safe. He tags the CIA, the White House, the FBI, Twitter themselves. No response.</p><p data-element-id="aac2-5921-f32c-921b-6962-09da-fe3a-ed47">Gevers: ‚ÄòThen on Saturday, I suddenly saw that two-step verification for the account had been activated.‚Äô Two days later, in the evening, he receives an email from the American Secret Service. ‚ÄòFriendly. They were interested in my information. I forwarded everything to them.‚Äô On Tuesday they speak digitally. They thank Gevers, telling him that they were unaware of the security leak. This still leaves the security researcher with a number of questions: ‚ÄòWhy is it possible for someone from a different time zone to log into such an important account? Why doesn‚Äôt Twitter demand better passwords? If I can access his account, then foreign nations can do so as well, right? Why aren‚Äôt the persons who are supposed to protect the President informed when someone reports that his account is unsafe?‚Äô</p><h3 data-element-id="6701-b1b1-7279-551d-015e-e20b-5efc-6540">Surprisingly easy</h3><p data-element-id="c0f4-6fcc-64af-62c3-2b8d-84c3-109f-6fac">Matthijs Koot, security researcher at Secura, is also astonished at how easy it was for Gevers to take over Trump‚Äôs account. ‚ÄòTo put it harshly: people who in the year 2020 still ignore basic advice on online security are a potential danger to themselves and to those around them.‚Äô</p><p data-element-id="47c2-0c2c-b48f-fc57-7b10-7e05-6d7f-065f">According to Koot, these risks also affect others. ‚ÄòToday, we are increasingly interconnected, which means that a hack of one individual‚Äôs account or computer may also undermine the privacy and security of others. After all, via Trump‚Äôs account you can also see private messages sent to him or refer others to links containing malware or to a fake login page.‚Äô This raises the question of how responsible Twitter is when it comes to additional security measures. Koot: ‚ÄòThey should either compel people to use additional authentication or, if people really don‚Äôt want this, make them use a complex password. The days of logging in with just a weak password are over.‚Äô</p><p data-element-id="364a660b-32af-4ff8-b17b-8a49a27d61d8"><span>Twitter declines to respond to questions. The question remains why Trump was using such a weak and simple password. Gevers has a possible explanation: ‚ÄòTrump is over 70 ‚Äì elderly people often switch off two-step verification because they find it too complicated. My own mother, for instance. For younger generations digital security is more self-evident.‚Äô</span></p></section></section></div>]]>
            </description>
            <link>https://www.volkskrant.nl/nieuws-achtergrond/dutch-ethical-hacker-logs-into-trump-s-twitter-account~badaa815/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24858219</guid>
            <pubDate>Thu, 22 Oct 2020 14:12:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[iPhone 12 Pro so costly in India, you can fly to Dubai to buy it and save money]]>
            </title>
            <description>
<![CDATA[
Score 227 | Comments 228 (<a href="https://news.ycombinator.com/item?id=24857646">thread link</a>) | @notRobot
<br/>
October 22, 2020 | https://www.indiatoday.in/technology/features/story/iphone-12-pro-so-expensive-in-india-that-you-can-fly-to-dubai-to-buy-it-come-back-and-still-save-money-1733722-2020-10-21 | <a href="https://web.archive.org/web/*/https://www.indiatoday.in/technology/features/story/iphone-12-pro-so-expensive-in-india-that-you-can-fly-to-dubai-to-buy-it-come-back-and-still-save-money-1733722-2020-10-21">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody"><p>Apple launched four new iPhones including the iPhone 12 Mini, iPhone 12, iPhone 12 Pro, and iPhone 12 Pro Max. Out of all the four new releases, only two will be available in India for now- the iPhone 12 and iPhone 12 Pro. Soon after the new iPhones were announced, Apple discontinued the iPhone 11 Pro and iPhone Pro Max. The company also reduced the prices of its existing iPhones including the iPhone 11, iPhone XR, and iPhone SE.</p><p>The Apple iPhone 12 is priced starts at Rs 69,900 for the base variant whereas the iPhone 12 Pro costs Rs 1,19,900 for the base variant. Well, that is not something unexpected. Considering the previous trends, the iPhone Pro models are released with an exorbitant price tag. Now to add to the woes of people looking to buy the iPhone 12 Pro, they should know that the Apple iPhone 12 Pro is more expensive in India than in any other country. Dubai for instance sells the iPhone 12 Pro for Rs 84,000.</p><p>Now this rings a bell. The iPhone 12 Pro is comparatively cheaper in Dubai. So cheap that you can actually go to Dubai, buy the phone and come back. Let us explain the math to you for a better understanding.</p><p><strong>iPhone 12 Pro Price in India for 128 GB:</strong> Rs 1,19,000</p><p><strong>iPhone 12 Pro Price in Dubai for 128GB: </strong>Rs 84,000. It costs Dh 4,199 in Dubai and if you convert the currency to INR, the price comes down to almost Rs 84,000.</p><p>So, should this mean that you can go to Dubai, buy the phone and then come back? Well, if you ask me. It is not that bad an idea. The 12 Pro will go on sale from November 6. So you book a flight for Dubai from Delhi or Kolkata for November 6 or later than that, you can get the return ticket for a little over Rs 18,000.</p><p>Below is the exact amount, you would be spending on your flight tickets to Dubai from New Delhi. However, the amount might change depending on the availability but this is what we found when tried booking a ticket to Dubai.</p><p><em>Flight ticket: Indigo Rs 17929 approx<br>iPhone 12 Pro 128GB: 84,000<br>Some other expenses: Around Rs 10,000<br>Total: Around Rs 1,11,929<br>Money saved: Around Rs 8000</em></p><div> <p><img data-src="https://akm-img-a-in.tosshub.com/indiatoday/images/bodyeditor/202010/Screenshot_2020-10-21_at_12.19-1200x742.png?EZDB1F4V_MBUFqe1VNjueddsHKGJgQ7S" src="https://akm-img-a-in.tosshub.com/indiatoday/images/bodyeditor/202010/Screenshot_2020-10-21_at_12.19-1200x742.png?EZDB1F4V_MBUFqe1VNjueddsHKGJgQ7S" alt=""></p></div><p>Now, considering that the world is battling coronavirus pandemic and the virus is in no mood to slow down, we do not encourage anyone to travel. The whole idea was to not send you to Dubai but to draw your attention towards Apple‚Äôs exorbitant pricing in India. It is no secret that the taxes and duties that are applied to imported phones are highest in India. The taxes are so high that for an important iPhone that you will end up paying an average tax of Rs 24,000 for something like an iPhone 12 or iPhone 12 Mini.</p><p>However, despite the sky-rocketing prices, iPhone still sells best in India and the buyers give whatever price Apple asks them to pay. So for a business, that is not a bad deal at all.</p><p><span>ALSO READ | </span><a href="https://www.indiatoday.in/technology/features/story/apple-iphone-12-pro-12-pro-max-launched-price-specifications-and-features-1731303-2020-10-13">Apple iPhone 12 Pro, 12 Pro Max launched: Price, specifications, and features</a></p><p><iframe allowfullscreen="" frameborder="0" height="360" src="//www.youtube.com/embed/-6m1wJTd6hs" width="640"></iframe></p></div></div>]]>
            </description>
            <link>https://www.indiatoday.in/technology/features/story/iphone-12-pro-so-expensive-in-india-that-you-can-fly-to-dubai-to-buy-it-come-back-and-still-save-money-1733722-2020-10-21</link>
            <guid isPermaLink="false">hacker-news-small-sites-24857646</guid>
            <pubDate>Thu, 22 Oct 2020 13:15:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building replacement proprietary battery packs]]>
            </title>
            <description>
<![CDATA[
Score 215 | Comments 115 (<a href="https://news.ycombinator.com/item?id=24857527">thread link</a>) | @todsacerdoti
<br/>
October 22, 2020 | https://www.hallaminventions.com/projects/minidisc-obsession | <a href="https://web.archive.org/web/*/https://www.hallaminventions.com/projects/minidisc-obsession">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div data-block-type="2" id="block-63a2566fbe2b2e25ec30"><div><p>Sony‚Äôs MiniDisc format has been a love affair since it first came out in the 90s. I purchased one as soon as I could afford it at a shop called Dixons close to where I lived in rural England. Since that first enthusiastic purchase, I‚Äôve collected a few other player/recorders over the years and a healthy collection of discs.</p><p>Back in the day, using Sony‚Äôs SonicStage software to manage my collection was a pain. It was slow at the get go, and became increasingly choppy as tracks grew into the thousands. Rights management restrictions, imposed to stop folks from pirating perfect digital copies, were a nuisance. Yet, I loved that first MiniDisc player and the amazing little discs that slotted into it.</p><p>Two and a half decades later, I‚Äôve added a few more MiniDisc devices and a lot more discs in my collection. My favorite is the Sony MZ-RH1, the last MiniDisc player/recorder Sony ever produced. It is sleek and sexy, sounds amazing, can record 34 hours of music onto a single disc, and is as much a work of art as a piece of electromechanical and electro-optical engineering can achieve. </p><p>Unfortunately, Sony doesn‚Äôt make the lithium ion batteries for this masterpiece anymore, and the one I have, which arrived with it packed in the box, no longer accepts a charge. A quick search on eBay brings up a few new ‚Äúold stock‚Äù batteries to buy, but folks want $150+. </p><p>I needed a solution that didn‚Äôt induce sticker-shock‚Ä¶</p></div></div></div></div>]]>
            </description>
            <link>https://www.hallaminventions.com/projects/minidisc-obsession</link>
            <guid isPermaLink="false">hacker-news-small-sites-24857527</guid>
            <pubDate>Thu, 22 Oct 2020 13:02:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What can a pipe wrench teach us about software engineering?]]>
            </title>
            <description>
<![CDATA[
Score 73 | Comments 34 (<a href="https://news.ycombinator.com/item?id=24857224">thread link</a>) | @ingve
<br/>
October 22, 2020 | https://mokacoding.com/blog/pipe-wrench/ | <a href="https://web.archive.org/web/*/https://mokacoding.com/blog/pipe-wrench/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>What can a pipe wrench teach us about software engineering?
A lot, according to <a href="https://en.wikipedia.org/wiki/Vannevar_Bush">Vannevar Bush</a>.</p>
<p>An electrical engineer and professor at MIT, Bush was "one of the most politically powerful inventors in America since Benjamin Franklin," as his biographer <a href="https://geni.us/liVH8">G. Pascal Zachary puts it</a>.
During WWII, he personified the United State's military research, organized the Manhattan Project, and played a crucial role in the Allied victory.
He was also a mentor to <a href="https://en.wikipedia.org/wiki/Claude_Shannon">Claude Shannon</a>, the father of the information age.</p>
<p>One anecdote of Bush's career as an instructor at MIT particularly inspired me: his pipe wrench lecture.</p>
<p>Bush would greet an auditorium filled with aspiring engineers, hold up a pipe wrench, and challenge them: "Describe this".</p>
<p><img src="https://mokacoding.s3.amazonaws.com/2020-10-21-pipe-wrench.jpg" width="70%" alt="image of a pipe wrench"></p>
<p><i>Not the actual pipe wrench showed by Bush, I found this one on Amazon.</i></p>

<p>One by one, they would try, and each time Bush would dissect the description, pointing out where it was vague.</p>
<p>Finally, he would write in precise English a patent application for the wrench:</p>
<blockquote>
<p>By turning the nut to the right or left the movable jaw may be moved either toward or away from the fixed jaw, as may be desirable.
The inner face of the movable jaw is formed at a right angle to its shank, and is also provided with a series of teeth, which pitch or rake on its fellow jaw...</p>
</blockquote>
<p>With this exercise, Bush drilled into the class the value of precision.</p>
<h2 id="precision">Precision</h2>
<p>"Given the pipe wrench, produce the words for that wrench and no other; given the words, produce the wrench.
That, Bush taught his students, was the beginning of engineering", write Soni and Goodman in <a href="https://geni.us/FqRN7P"><em>A Mind at Play</em></a>.</p>
<p>Bush MIT students were electrical engineers, but precision is something software engineers should learn, too.</p>
<p>Precision is fundamental when representing building a model for the domain of the software in code.</p>
<p>One way in which a domain representation can be vague is when it allows inconsistent state to occur.
If you work in a language with a strong type system, like Swift, you can use precise types to make your domain modeling clearer and make undesirable state unrepresentable.</p>
<p>For example, when modeling an operation that can either succeed with some data or fail with an error, you could use a type like this:</p>
<pre><code><span><span>struct</span> <span>Operation</span> </span>{
  <span>let</span> success: <span>Bool</span>
  <span>let</span> data: <span>Data?</span>
  <span>let</span> error: <span>Error?</span>
}
</code></pre>
<p>This type does the job but leaves room for errors: nothing stops you from creating an instance with <code>success</code> true but <code>data</code> nil or one with values in both <code>data</code> and <code>error</code>.</p>
<pre><code><span>let</span> inconsistentOperation = <span>Operation</span>(success: <span>false</span>, data: someData, error: .<span>none</span>)
</code></pre>
<p>Using the <a href="https://developer.apple.com/documentation/swift/result"><code>Result</code> <code>enum</code></a>, you can remove this ambiguity <em>at compile time</em>, making it impossible for both data and error to be set simultaneously.</p>
<pre><code><span><span>struct</span> <span>Operation</span> </span>{
  <span>let</span> result: <span>Result</span>&lt;<span>Data</span>, <span>Error</span>&gt;
}
</code></pre>
<p>Another useful <code>enum</code>, borrowed from the <a href="https://elm-lang.org/">Elm programming language</a>, is <a href="https://github.com/mokagio/RemoteData"><code>RemoteData</code></a>: a way to encapsulate the state of a network operation.</p>
<pre><code><span><span>enum</span> <span>RemoteData</span>&lt;<span>T</span>&gt; </span>{
  <span>case</span> notAsked
  <span>case</span> loading
  <span>case</span> loaded(<span>T</span>)
  <span>case</span> failed(<span>Error</span>)
}
</code></pre>
<p><code>enum</code>s are not the only way tool to make your domain modeling more precise.
<a href="https://github.com/pointfreeco/swift-nonempty"><code>NonEmpty</code></a> uses <a href="https://docs.swift.org/swift-book/LanguageGuide/Generics.html#ID186">type constrained generics</a> to represent <code>Collection</code>s that are not empty.</p>
<pre><code>
<span>let</span> xs = <span>NonEmpty</span>&lt;[<span>Int</span>]&gt;(<span>1</span>, <span>2</span>, <span>3</span>, <span>4</span>)
xs.first + <span>1</span> 
</code></pre>
<p>Using <code>NonEmpty</code> adds clarity to the values you define, possibly avoiding runtime crashes by making it impossible to access via subscript an empty array.</p>
<p>If you had to represent "a collection of unique positive integers where order matters and with at least one element," you could use <code>[Int]</code>, or you could combine <code>NonEmpty</code>, <a href="https://github.com/Weebly/OrderedSet"><code>OrderedSet</code></a>, and <a href="https://developer.apple.com/documentation/swift/uint"><code>UInt</code></a> in <code>NonEmpty&lt;OrderedSet&lt;UInt&gt;&gt;</code>.</p>
<p>Using <code>[Int]</code> might be simpler but leaves the door open for all sorts of inconsistent instances, like an empty array, an array with negative values, or one with more than one occurrences of the same value.
<code>NonEmpty&lt;OrderedSet&lt;UInt&gt;&gt;</code> requires more work but using it will make the compiler help you avoid inconsistent state.</p>
<hr>
<p>We like to call ourselves software <em>engineers</em>, but sometimes forget that engineering is an applied science.
It is rigorous and methodical.
When building a bridge, an integrated circuit, or a motor, precision matters.
If the parts don't fit, if the power supply is not adequate, if there isn't enough material, things won't work.</p>
<p>With software, we're blessed with having a more malleable medium than our colleagues working in the physical realm.
That shouldn't be an excuse to forget the value of precision.</p>
<p>What are your favorite ways to use the type-system to implement a precise domain model?</p>
<p>Leave a comment below or get in touch on Twitter at <a href="https://twitter.com/mokagio">@mokagio</a>.</p>
</div></div>]]>
            </description>
            <link>https://mokacoding.com/blog/pipe-wrench/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24857224</guid>
            <pubDate>Thu, 22 Oct 2020 12:23:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Step-by-Step: Programming Incrementally]]>
            </title>
            <description>
<![CDATA[
Score 72 | Comments 11 (<a href="https://news.ycombinator.com/item?id=24857049">thread link</a>) | @pmarin
<br/>
October 22, 2020 | https://ourmachinery.com/post/step-by-step-programming-incrementally/ | <a href="https://web.archive.org/web/*/https://ourmachinery.com/post/step-by-step-programming-incrementally/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
      <p>One thing that has really benefited my productivity (and also my general sanity), has been learning
how to take a big task and break it down into smaller, more manageable steps. Big tasks can be
frightening and overwhelming, but if I just keep working on the list of smaller tasks, then somehow,
as if by magic, the big task gets completed.</p>



<h2 id="adding-value">Adding value</h2>

<p>When programming, I take a very specific approach to this breakdown. I make sure that each step is
something that <em>compiles, runs, passes</em> all the tests<em>,</em> and <em>adds value</em> to the codebase<em>.</em> Exactly
what ‚Äúadds value‚Äù means is purposefully left vague, but it can be things like adding a small
feature, fixing a bug, or taking a step towards refactoring the code into better shape (i.e.,
reducing <a href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwikqYmb_6DsAhXSpZ4KHYm9BhgQFjAHegQIBxAC&amp;url=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FTechnical_debt&amp;usg=AOvVaw1ZJ1dsWoB5Jn1hXvtLGuSZ">technical
debt</a>).</p>

<p>An example of <em>not</em> adding value is adding a new feature, but also introducing ten new bugs. It‚Äôs
not clear that the value of the feature outweighs the cost of the bugs, so it might be a net loss.</p>

<p>Another example of not adding value is making the UI prettier, but also make the app run ten times
slower. Again, it‚Äôs not clear that the prettier look is worth the performance hit, so it might be a
net loss.</p>

<p>Of course, I can‚Äôt always be sure that I‚Äôm not introducing bugs, and ‚Äúvalue‚Äù is inherently
subjective (how much performance is a new feature worth). The important part is the <em>intention</em>. My
<em>intention</em> is to always add value with every single commit.</p>

<p>Basically, what I want to avoid is the ‚ÄúIt has to get worse before it gets better‚Äù-attitude. Also
known as: ‚ÄúThe new system is the modern way to do it. Sure, it has some bugs and runs kind of slow
right now, but once we‚Äôve fixed that, it‚Äôs going to be way better than what we had before.‚Äù I‚Äôve
seen too many cases where these supposed fixes never happen and the new system, which was supposed
to be better, just made things worse.</p>

<p>Plus, you know, it feels good to add value. If every day I can make a commit and that commit makes
the engine better in some way, that makes me happy.</p>

<h2 id="pushing-to-master">Pushing to master</h2>

<p>In addition to implementing changes through a series of small commits, I also <em>push every one of
those small commits back to the master branch.</em></p>

<p>Note that this is the exact opposite of a <a href="https://guides.github.com/introduction/flow/">feature
branch</a> workflow, instead, it is a form of
<a href="https://cloud.google.com/solutions/devops/devops-tech-trunk-based-development">trunk-based</a>
development:</p>

<ul>
<li><p>In a feature branch workflow developers work on new features in isolated, separate branches of the
code and don‚Äôt merge them back to master until they‚Äôre ‚Äúcomplete‚Äù: fully working, debugged,
documented, code reviewed, etc.</p></li>

<li><p>In the trunk-based approach, features are implemented as a series of small individual commits to
the master branch itself. Care must be taken so that everything works even when the features are
only ‚Äúpartially implemented‚Äù:</p></li>
</ul>


<figure>
    
        <img src="https://ourmachinery.com/images/step__trunk-based-development.png">
    
    
    <figcaption>
        <h4>Trunk-based vs feature branch development.</h4>
        
    </figcaption>
    
</figure>


<p>Proponents of the feature branch approach claim that it is a safer way to work since changes to the
feature branch don‚Äôt disrupt the master and cause bugs. Personally, I think this safety is illusory.
Bugs in the feature branch just get hidden until it‚Äôs merged back to master when we suddenly get
<em>all</em> the bugs.</p>

<p>Feature branches also go against my philosophy that every commit should add value. The whole idea
behind a feature branch is: ‚Äúwe‚Äôre going to break a bunch of shit over here, but don‚Äôt worry, we‚Äôll
fix it before we merge back to master‚Äù. Better not to break stuff in the first place.</p>

<p>Here are some other advantages I see with the trunk-based approach:</p>

<ul>
<li><p><strong>Fewer merge conflicts.</strong> With long-running feature branches, the code in the branch drifts
further and further away from the code in master, causing more and more merge conflicts. Dealing
with these is a lot of busy work for programmers and it also risks introducing bugs. Some of these
bugs won‚Äôt be seen until the branch is merged.</p></li>

<li><p><strong>Less release-day chaos.</strong> Typically, all features scheduled for a certain release have the same
deadline. This leads to all feature branches being merged just before the deadline. This means
that we get all the merge and integration bugs at the same time, just before the release date.
Getting a lot of bugs at the same time is a lot worse than having them spread out evenly. And
getting them just before a release is due is the absolute worst time to get them.</p></li>

<li><p><strong>No worry about the right time to merge.</strong> Since everybody knows that merging a feature branch
tends to cause instability, this leads to worry about the ‚Äúright time‚Äù to merge. You want to avoid
merging right before a release (unless the feature is required for the release) to avoid
introducing bugs in the release. So maybe just after the release has been made? But what if we
need a hotfix for the release? While the merge is being held, valuable programmer time is being
wasted.</p></li>

<li><p><strong>No rush to merge.</strong> When working with feature branches, I often felt a hurriedness about getting
the branches merged. Sometimes because a branch was needed for a specific release. But also often
because the developer was tired of dealing with merge conflicts, wanted to get it over with, and
move on to the next thing. Thus, the goal of only merging feature branches when they are
‚Äúcomplete‚Äù was often compromised. (And of course, nothing is ever really ‚Äúcomplete‚Äù.)</p></li>

<li><p><strong>Easier to revert.</strong> If major issues are discovered after the merge of a feature branch (which
often happens), there is often a lot of reluctance to revert the merge. Another big feature branch
might already have been merged on top of it (since lots of feature branches often get merged at
the same time, just before a release), and reverting it would cause total merge chaos. So instead
of doing a calm, sensible rollback, the team has to scramble desperately to fix the issues before
the release. With trunk-based development, any major issues would most likely have already been
discovered. The final commit that makes the new feature ‚Äúgo live‚Äù is typically a simple one-line
change that is painless to revert.</p></li>

<li><p><strong>Partial work is shared.</strong> In trunk-based development, the partial work done on a feature is seen
by all developers (in the master branch). Thus, everybody has a good idea of where the engine is
going. Bugs, design flaws, and other issues can be discovered early. And it is easier for others
to adapt their code to work with the new feature. It‚Äôs also easier to get an estimate of how much
work is needed to complete a feature when everybody can see how far it has progressed.</p></li>

<li><p><strong>Easier to pause and pick up later.</strong> Sometimes, work on a feature might have to be paused for a
variety of reasons. There might be more critical issues that need to be addressed. Or the main
developer of the feature might get sick, or have vacation coming up. This is a problem for feature
branches because they tend to ‚Äúrot‚Äù over time, as the code base drifts further and further away,
causing more and more merge conflicts with the branch. Code that is checked into master does not
‚Äúrot‚Äù in the same way.</p></li>

<li><p><strong>Easier to address other bugs/refactors at the same time.</strong> When working on a feature or a
problem, it is pretty common to find other, related problems, exposed by the work you are doing.
In the trunk-based approach, this is not an issue. You would just make one or more separate
commits to the trunk to fix those issues. With the feature branch approach, it is more tricky. I
guess the <em>right</em> thing to do would be to branch off a new separate bug fix branch from master,
fix the issue in that branch, merge <em>that</em> branch into the branch you are currently working on,
and (once it passes code review) into master (so that other people get the bug fix before your
feature branch is merged, because who knows when that will happen). But who has time for all that
shit? So instead, people just fix the problem in their feature branch, and maybe cherry-pick it
into master if they‚Äôre having a good day. So now, instead of being about a single isolated
feature, the feature branch becomes a tangled mix of different features, bug fixes, and refactors.</p></li>
</ul>

<p>The main challenge of the trunk-based approach is how to break a big task down into individual
pieces. Especially, with the requirement that each piece should compile, run, add value, and be
ready to be pushed into master. How can we push partial work without exposing users to half-baked,
not yet fully working features?</p>

<p>Let‚Äôs look at some problems and how to solve them.</p>

<h2 id="problem-1-new-features">Problem #1: New features</h2>

<p>An approach that works well for new features is to use a flag to control whether a feature is
visible to end-users or not.</p>

<p>Let‚Äôs look at an example. A feature that I recently added to the engine was a <em>Download</em> tab that
lets the users download new engine versions and sample projects from within the engine itself:</p>


<figure>
    
        <img src="https://ourmachinery.com/images/step__download-tab.png">
    
    
    <figcaption>
        <h4>Download tab.</h4>
        
    </figcaption>
    
</figure>


<p>There are lots of different ways this could be broken down into smaller steps. Here‚Äôs an example:</p>

<ul>
<li>Add the <em>Download</em> tab to the menus and show a new blank tab when it‚Äôs opened.</li>
<li>Show a (hard-coded) list of things to download (without working download buttons).</li>
<li>Download the list of files from a server instead of having it hard-coded.</li>
<li>Implement the <code>[Get]</code> button by synchronously downloading the file when it‚Äôs clicked.</li>
<li>Switch to asynchronous, background downloading.</li>
<li>Show a progress bar for the download.</li>
<li>‚Ä¶</li>
</ul>

<p>Normally, I don‚Äôt do a full breakdown like this upfront. Instead, I just kind of figure out the next
logical step as I go along. I only sit down and do a serious planning session if the task is
particularly tricky and incremental steps like this don‚Äôt come naturally.</p>

<p>To prevent end-users from seeing the tab before it‚Äôs actually working, I hide it behind a flag. This
can be as simple as:</p>

<pre><code>const bool download_tab_enabled = false;

// ...

if (download_tab_enabled) {
    add_menu_item(tabs, "Download", open_download_tab);
}
</code></pre>

<p>To get the menu option to show the <em>Download</em> tab, you have to change the <code>download_tab_enabled</code>
flag to <code>true</code> and recompile.</p>

<p>We call these flags <a href="https://en.wikipedia.org/wiki/Feature_toggle"><em>feature flags</em></a> since they
selectively enable or disable ‚Ä¶</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://ourmachinery.com/post/step-by-step-programming-incrementally/">https://ourmachinery.com/post/step-by-step-programming-incrementally/</a></em></p>]]>
            </description>
            <link>https://ourmachinery.com/post/step-by-step-programming-incrementally/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24857049</guid>
            <pubDate>Thu, 22 Oct 2020 11:55:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[AWS NLBs and the mixed up TCP connections]]>
            </title>
            <description>
<![CDATA[
Score 170 | Comments 64 (<a href="https://news.ycombinator.com/item?id=24856607">thread link</a>) | @nielsole
<br/>
October 22, 2020 | https://www.niels-ole.com/cloud/aws/linux/2020/10/18/nlb-resets.html | <a href="https://web.archive.org/web/*/https://www.niels-ole.com/cloud/aws/linux/2020/10/18/nlb-resets.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        <div>

  

  <article>
    <p>One of my services was running into timeouts, because connections were being reset by clients. 
I had assumed that it couldn‚Äôt be the <a href="https://docs.aws.amazon.com/elasticloadbalancing/latest/network/introduction.html">Network Load Balancers (NLBs)</a> fault, a battle-tested piece in the cloud stack.
The following is about NLBs, cross-zone-loadbalancing and multiple NLBs pointing to the same set of EC2 instances and how that revealed unexpected behaviour in the NLB.</p>

<p><strong>TLDR</strong>: If you don‚Äôt want timeouts or connection resets, then:</p>
<ul>
  <li>don‚Äôt use cross-zone loadbalancing</li>
  <li>don‚Äôt have multiple NLBs pointing at the same targets</li>
  <li>don‚Äôt use a public IPv4 address and an NLB for the same target</li>
</ul>

<h2 id="the-symptom-timeouts">The symptom: Timeouts</h2>

<p>My system was doing lots of requests to two NLBs over the internet.
Unfortunately in quite some cases there were timeouts in the application code.
The timeouts were quite aggressive at 1 second. Since a normal packet loss during connecting usually takes 3 seconds before a retry on linux, 
I initially explained it away as naturally occurring packet loss. 
But the number of failures grew ever higher with the link not even close to being saturated and other calls to external targets being fine.</p>

<p>When I finally got myself to take tcpdumps of the traffic, something strange emerged: TCP RST packets.</p>

<h2 id="the-setup-simplified">The Setup (simplified)</h2>

<p>The configuration in which these issues actually surfaced had multiple machines behind a NAT, talking to multiple EC2 instances behind two NLBs with cross-zone-loadbalancing enabled.</p>

<p>But that‚Äôs the messy reality, let‚Äôs keep it simple for this article. In the following let‚Äôs have 1 client, 1 NLB and 1 EC2 instance, because the issue would still be the same.
The NLB has cross-zone loadbalancing enabled.
<img src="https://www.niels-ole.com/assets/2020/nlb-basic.png" alt="An example of IPs used in the requests to an NLB"></p>

<h2 id="background">Background</h2>
<p>In TCP, connections are identified by the quadruple of source ip, source port, target ip and target port.
When you create a new TCP connection, it is made sure that no other connection with the same quadruple is in use.</p>

<h2 id="the-problem">The problem</h2>

<p>(Fast forward a couple of days of staring at tcpdump and head-scratching) 
Here is an excerpt of tcpdump as the client sees it, with all the noise removed:</p>

<div><div><pre><code>Format clientip:clientport &lt;-&gt; targetip:targetport (so a bit different than it looks in wireshark) 
... This connection has been established for some time
90.63.58.20:36230 &lt;- 34.242.162.234:443 Seq=1234 Ack=5432   [ACK]
</code></pre></div></div>

<p>EC2 instance (private IP) says through the NLB (34.242.162.234) to the client (90.63.58.20): <em>Hey, I just received your data, all is good.
This connection is healthy and sending data. Everything as expected.</em> 
Now our client wants to make a new connection and sends a SYN packet.</p>

<div><div><pre><code>90.63.58.20:36230 -&gt; 18.203.64.15:443   Seq=6951            [SYN]
</code></pre></div></div>

<p>As you notice, the source ports are identical, but this is fine, as the target IPs are different.
Next in the 3-way handshake of TCP we would expect a <code>[SYN,ACK]</code> with <code>Ack=6952</code></p>

<div><div><pre><code>90.63.58.20:36230 &lt;- 18.203.64.15:443 Seq=1234  Ack=5432    [ACK], window reduced
</code></pre></div></div>

<p>This packet has the same quadruple, but it isn‚Äôt our <code>[SYN,ACK]</code>‚Ä¶ wait a sec. Where is this coming from? Does this ack belong on the other connection that the client had with <code>34.242.162.234</code>!?
The Ack numbers match, but that can‚Äôt be, can it?</p>

<p><img src="https://www.niels-ole.com/assets/2020/whatthehell.gif" alt="I was thinking: &quot;What the hell&quot;"></p>

<div><div><pre><code>90.63.58.20:36230 -&gt; 18.203.64.15:443 Seq=5432              [RST] 
</code></pre></div></div>
<p>Well, at least the client is as confused as I am and sends an RST. It just sucks that this means our SYN will never be properly answered.</p>

<p>Is the SYN of the new connection overwriting an existing connection in the NLB‚Äôs connection table?</p>

<h2 id="the-cause">The cause</h2>

<p>Since I had so much trust in AWS NLBs I first assumed the issue to lie somewhere (anywhere) else. 
I imagined it could theoretically be a faulty switch or a misconfigured NAT gateway on the client side.
But it turned out to be neither of them. It was actually the AWS NLB mixing up the connections.
How can this happen?</p>

<h3 id="cross-az-loadbalancing">Cross AZ-loadbalancing</h3>

<p>When the traffic goes through the NLBs the target IP address get rewritten to the internal IP address of the EC2 instance.</p>

<p><img src="https://www.niels-ole.com/assets/2020/nlb-basic.png" alt="An example of IPs used in the requests to an NLB"></p>

<p>Now how would it look from the client if three connections are created in a round-robin fashion?</p>

<div><div><pre><code>90.63.58.20:20536;34.242.162.234:443
90.63.58.20:36895;18.203.64.15:443
90.63.58.20:60356;52.203.250.3:443
</code></pre></div></div>

<p>Now this looks unproblematic, nice quadruples - no RST packets.
But what happens if we have more and longer-lived connections? Could collisions happen?</p>

<div><div><pre><code>...
90.63.58.20:36230;34.242.162.234:443 let's call this connection A
...
90.63.58.20:36230;18.203.64.15:443   and this one B
...
</code></pre></div></div>

<p>As I said in the background, the kernel ensures that there are no quadruple collisions.
And this is still the case in this case. The same source port can be reused, as long as the target ip or port are different. 
As the connections go to different IPs of the NLB, this is the case‚Ä¶ but only from the view of the client.
In the NLB the addresses are translated to an internal IP.
So on the EC2 instance the quadruples look like this:</p>

<div><div><pre><code>...
90.63.58.20:36230;10.54.1.1:443 A
...
90.63.58.20:36230;10.54.1.1:443 B
...
</code></pre></div></div>

<p>Now this looks problematic. Two TCP connections share the same quadruple.
Thus the NLB cannot distinguish between them and sends the packets on either of them.</p>

<h2 id="is-this-a-bug">Is this a bug?</h2>

<p>An ordinary NAT would handle such collisions just fine. 
When a collision is detected, not only the address is translated but also the port.
This makes it possible to handle the complete port range before collisions occur.
NLBs apparently don‚Äôt act like NATs. I couldn‚Äôt find this spelled out anywhere, but apparently they always preserve the source port. 
This basically means that whenever a client makes more than <em>one</em> connection to the NLB, collisions may occur.
During my research I found out I am <a href="https://medium.com/swlh/nlb-connection-resets-109720accfc6">not the only one irritated by that</a> and that they opened a support ticket and got the confirmation that this is indeed intended behaviour.</p>

<p>In any case I don‚Äôt think anyone would derive this from <em>just</em> the docs and TCP knowledge.
There should at least be a big warning sign in <a href="https://docs.aws.amazon.com/elasticloadbalancing/latest/userguide/how-elastic-load-balancing-works.html">the documentation</a>.</p>

<h2 id="what-to-do-now">What to do now?</h2>

<p>This issue not only occurs with cross-zone-loadbalancing, but any time two external IPv4-addresses point to the same EC2 instance in AWS.
This includes multiple NLBs pointing at the same target or an instance having both a public IPv4 address and being behind an NLB.</p>

<p>What I take away from this is to never have two NLBs pointed at the same target groups as well as to turn cross-az loadbalancing off for most use-cases.
And never assume that a part of your stack is infallible.</p>

<p>Discuss on <a href="https://news.ycombinator.com/item?id=24856607">Hacker News</a> or <a href="https://www.reddit.com/r/devops/comments/jfxl9o/aws_nlbs_and_the_mixed_up_tcp_connections/">Reddit</a></p>

  </article>
  
  
</div>

      </div>
    </div></div>]]>
            </description>
            <link>https://www.niels-ole.com/cloud/aws/linux/2020/10/18/nlb-resets.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24856607</guid>
            <pubDate>Thu, 22 Oct 2020 10:37:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Citro√´n Ami and the future of urban transportation]]>
            </title>
            <description>
<![CDATA[
Score 95 | Comments 115 (<a href="https://news.ycombinator.com/item?id=24856541">thread link</a>) | @caskes
<br/>
October 22, 2020 | https://www.theturnsignalblog.com/blog/ami-and-future-of-transportation/ | <a href="https://web.archive.org/web/*/https://www.theturnsignalblog.com/blog/ami-and-future-of-transportation/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><span>When</span> I saw the Ami for the first time I instantly fell in love. Citro√´n's tiny electric 'citadine' is smart, innovative, and well-designed. Seeing the first press cars zip through the wide boulevards of Paris brought a big smile to my face. But the more I kept thinking about it, the more I started to doubt the purpose of this car. </p>

<figure>
    <span>
      <a href="https://www.theturnsignalblog.com/static/260ced86352d8a0a2392c56e7aaebcbe/040c5/amioverview.jpg" target="_blank" rel="noopener">
    <span></span>
  <img alt="The Citro√´n Ami" title="The Citro√´n Ami" src="https://www.theturnsignalblog.com/static/260ced86352d8a0a2392c56e7aaebcbe/a8fee/amioverview.jpg" srcset="https://www.theturnsignalblog.com/static/260ced86352d8a0a2392c56e7aaebcbe/35027/amioverview.jpg 180w,
https://www.theturnsignalblog.com/static/260ced86352d8a0a2392c56e7aaebcbe/627a5/amioverview.jpg 360w,
https://www.theturnsignalblog.com/static/260ced86352d8a0a2392c56e7aaebcbe/a8fee/amioverview.jpg 720w,
https://www.theturnsignalblog.com/static/260ced86352d8a0a2392c56e7aaebcbe/b2ead/amioverview.jpg 1080w,
https://www.theturnsignalblog.com/static/260ced86352d8a0a2392c56e7aaebcbe/040c5/amioverview.jpg 1200w" sizes="(max-width: 720px) 100vw, 720px" loading="lazy">
  </a>
    </span>
    <figcaption>The Citro√´n Ami</figcaption>
  </figure> 
<p>The Ami started life as the AMI ONE C Concept which was a study on new ways to overcome the challenges of designing a small, affordable city car. The two biggest challenges are how to create as much interior space as possible and how to keep the production costs low. Many of the ideas of the concept car have found their way to the Ami production model.</p>
<figure>
    <span>
      <a href="https://www.theturnsignalblog.com/static/258806b8ec0a0cc4b335ff7ec371e7a1/533d0/onec.jpg" target="_blank" rel="noopener">
    <span></span>
  <img alt="The Citro√´n AMI ONE C Concept was presented at the 2019 Geneva Motor Show" title="The Citro√´n AMI ONE C Concept was presented at the 2019 Geneva Motor Show" src="https://www.theturnsignalblog.com/static/258806b8ec0a0cc4b335ff7ec371e7a1/a8fee/onec.jpg" srcset="https://www.theturnsignalblog.com/static/258806b8ec0a0cc4b335ff7ec371e7a1/35027/onec.jpg 180w,
https://www.theturnsignalblog.com/static/258806b8ec0a0cc4b335ff7ec371e7a1/627a5/onec.jpg 360w,
https://www.theturnsignalblog.com/static/258806b8ec0a0cc4b335ff7ec371e7a1/a8fee/onec.jpg 720w,
https://www.theturnsignalblog.com/static/258806b8ec0a0cc4b335ff7ec371e7a1/b2ead/onec.jpg 1080w,
https://www.theturnsignalblog.com/static/258806b8ec0a0cc4b335ff7ec371e7a1/533d0/onec.jpg 1280w" sizes="(max-width: 720px) 100vw, 720px" loading="lazy">
  </a>
    </span>
    <figcaption>The Citro√´n AMI ONE C Concept was presented at the 2019 Geneva Motor Show</figcaption>
  </figure>
<h2>Cost Saving</h2>
<p>The 'usual' cost-saving recipe when creating affordable city cars is to share a production line with other manufacturers. The drawback is that these manufacturers are selling the same car with slightly different design details. </p>
<figure>
    <span>
      <a href="https://www.theturnsignalblog.com/static/352b9be3593cda9bb8f5f4e9fc46fd0f/0f117/similarcars.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="The Peugeot 107, Citro√´n C1, and Toyota Aygo share the same production line" title="The Peugeot 107, Citro√´n C1, and Toyota Aygo share the same production line" src="https://www.theturnsignalblog.com/static/352b9be3593cda9bb8f5f4e9fc46fd0f/b85f6/similarcars.png" srcset="https://www.theturnsignalblog.com/static/352b9be3593cda9bb8f5f4e9fc46fd0f/aaa28/similarcars.png 180w,
https://www.theturnsignalblog.com/static/352b9be3593cda9bb8f5f4e9fc46fd0f/7e1e1/similarcars.png 360w,
https://www.theturnsignalblog.com/static/352b9be3593cda9bb8f5f4e9fc46fd0f/b85f6/similarcars.png 720w,
https://www.theturnsignalblog.com/static/352b9be3593cda9bb8f5f4e9fc46fd0f/4d206/similarcars.png 1080w,
https://www.theturnsignalblog.com/static/352b9be3593cda9bb8f5f4e9fc46fd0f/91a72/similarcars.png 1440w,
https://www.theturnsignalblog.com/static/352b9be3593cda9bb8f5f4e9fc46fd0f/0f117/similarcars.png 1593w" sizes="(max-width: 720px) 100vw, 720px" loading="lazy">
  </a>
    </span>
    <figcaption>The Peugeot 107, Citro√´n C1, and Toyota Aygo share the same production line</figcaption>
  </figure>
<p>Citro√´n took a different approach. Instead of sharing a production line, they have come up with ways to create the simplest production line. This limits the variety of the design but instead of trying to hide that, the Ami highlights these limitations.
The clearest example is the exterior bodywork. As you can see from the video below, the exterior is largely made up of only three different bodywork panels.</p>
<video autoplay="" loop="" muted="" playsinline="">  
  <source src="https://www.theturnsignalblog.com/d33ec155f42d337c79d048fb5cec2610/ami.webm" type="video/webm">  
  <source src="https://www.theturnsignalblog.com/8395c6a14cb9a9fa45af5c3129d86bbf/ami.mp4" type="video/mp4">
</video> 
<p>This gives it its quirky look as from far away the car does not seem to have a clear front or backside. The doors have a similar effect. Because they are identical,  they open in opposite directions from each other. Instead of trying to hide these limitations, Citro√´n shows them off in ads and commercials, celebrating the quirkiness of the car.</p>
<figure>
    <span>
      <a href="https://www.theturnsignalblog.com/static/2bddb5921a8d1164184e7aa4ab8fa948/1ca3f/doors.jpg" target="_blank" rel="noopener">
    <span></span>
  <img alt="The doors open in opposite directions" title="The doors open in opposite directions" src="https://www.theturnsignalblog.com/static/2bddb5921a8d1164184e7aa4ab8fa948/a8fee/doors.jpg" srcset="https://www.theturnsignalblog.com/static/2bddb5921a8d1164184e7aa4ab8fa948/35027/doors.jpg 180w,
https://www.theturnsignalblog.com/static/2bddb5921a8d1164184e7aa4ab8fa948/627a5/doors.jpg 360w,
https://www.theturnsignalblog.com/static/2bddb5921a8d1164184e7aa4ab8fa948/a8fee/doors.jpg 720w,
https://www.theturnsignalblog.com/static/2bddb5921a8d1164184e7aa4ab8fa948/b2ead/doors.jpg 1080w,
https://www.theturnsignalblog.com/static/2bddb5921a8d1164184e7aa4ab8fa948/aed33/doors.jpg 1440w,
https://www.theturnsignalblog.com/static/2bddb5921a8d1164184e7aa4ab8fa948/1ca3f/doors.jpg 1920w" sizes="(max-width: 720px) 100vw, 720px" loading="lazy">
  </a>
    </span>
    <figcaption>The doors open in opposite directions</figcaption>
  </figure>
<p>Citro√´n was also inspired by the father of mass production, the Ford Model T. Like the Model T, the Ami is only available in one color. Personalization is important to many customers though. So Citro√´n came up with different sticker sets that the customer can use to personalize the car.</p>
<figure>
    <span>
      <a href="https://www.theturnsignalblog.com/static/c1d2017f6c6de2dd2f854cc36c9b2e28/2faef/stickers.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="The Ami can be personalized with sticker sets" title="The Ami can be personalized with sticker sets" src="https://www.theturnsignalblog.com/static/c1d2017f6c6de2dd2f854cc36c9b2e28/b85f6/stickers.png" srcset="https://www.theturnsignalblog.com/static/c1d2017f6c6de2dd2f854cc36c9b2e28/aaa28/stickers.png 180w,
https://www.theturnsignalblog.com/static/c1d2017f6c6de2dd2f854cc36c9b2e28/7e1e1/stickers.png 360w,
https://www.theturnsignalblog.com/static/c1d2017f6c6de2dd2f854cc36c9b2e28/b85f6/stickers.png 720w,
https://www.theturnsignalblog.com/static/c1d2017f6c6de2dd2f854cc36c9b2e28/2faef/stickers.png 1024w" sizes="(max-width: 720px) 100vw, 720px" loading="lazy">
  </a>
    </span>
    <figcaption>The Ami can be personalized with sticker sets</figcaption>
  </figure>
<p>This smart design philosophy continues in the interior. For example, the side windows are not electric but hinge outward. Citro√´n like to point out that this was inspired by the 2CV, the spiritual father of the Ami, turning it into a nostalgic feature instead of a limitation. </p>
<figure>
    <span>
      <a href="https://www.theturnsignalblog.com/static/3d16050b0642f4acfc4a20e8fa7297f0/9c8ce/window.jpg" target="_blank" rel="noopener">
    <span></span>
  <img alt="The window opens outwards like the 2CV" title="The window opens outwards like the 2CV" src="https://www.theturnsignalblog.com/static/3d16050b0642f4acfc4a20e8fa7297f0/a8fee/window.jpg" srcset="https://www.theturnsignalblog.com/static/3d16050b0642f4acfc4a20e8fa7297f0/35027/window.jpg 180w,
https://www.theturnsignalblog.com/static/3d16050b0642f4acfc4a20e8fa7297f0/627a5/window.jpg 360w,
https://www.theturnsignalblog.com/static/3d16050b0642f4acfc4a20e8fa7297f0/a8fee/window.jpg 720w,
https://www.theturnsignalblog.com/static/3d16050b0642f4acfc4a20e8fa7297f0/b2ead/window.jpg 1080w,
https://www.theturnsignalblog.com/static/3d16050b0642f4acfc4a20e8fa7297f0/9c8ce/window.jpg 1111w" sizes="(max-width: 720px) 100vw, 720px" loading="lazy">
  </a>
    </span>
    <figcaption>The window opens outwards like the 2CV</figcaption>
  </figure>
<p>It is not only for cost-saving though because the space that is normally used to house the window when it is down is now a storage compartment.</p>
<figure>
    <span>
      <a href="https://www.theturnsignalblog.com/static/98559f3d0da48c3afe32deb59b24be9d/0bd34/doorspace.jpg" target="_blank" rel="noopener">
    <span></span>
  <img alt="The storage compartment in the door" title="The storage compartment in the door" src="https://www.theturnsignalblog.com/static/98559f3d0da48c3afe32deb59b24be9d/a8fee/doorspace.jpg" srcset="https://www.theturnsignalblog.com/static/98559f3d0da48c3afe32deb59b24be9d/35027/doorspace.jpg 180w,
https://www.theturnsignalblog.com/static/98559f3d0da48c3afe32deb59b24be9d/627a5/doorspace.jpg 360w,
https://www.theturnsignalblog.com/static/98559f3d0da48c3afe32deb59b24be9d/a8fee/doorspace.jpg 720w,
https://www.theturnsignalblog.com/static/98559f3d0da48c3afe32deb59b24be9d/b2ead/doorspace.jpg 1080w,
https://www.theturnsignalblog.com/static/98559f3d0da48c3afe32deb59b24be9d/0bd34/doorspace.jpg 1417w" sizes="(max-width: 720px) 100vw, 720px" loading="lazy">
  </a>
    </span>
    <figcaption>The storage compartment in the door</figcaption>
  </figure>
<p>A big challenge for car companies today is that customers want more expensive technology to be available in the car. The adoption rate of new smartphones is high and customers expect the same level of innovation in their cars. For a cheap city car, it is impossible to provide this.
That is why the Ami does not have a center console but instead, a big smartphone mount. Like this, the Ami leverages the driver's smartphone to offer the same features as premium cars without the cost. Similarly, the car has no speakers. Instead, there is an opening in the dashboard designed to hold a Bluetooth speaker.</p>
<figure>
    <span>
      <a href="https://www.theturnsignalblog.com/static/97b454670461e9aad6fb1666b16d2179/533d0/interior.jpg" target="_blank" rel="noopener">
    <span></span>
  <img alt="The interior of the Ami" title="The interior of the Ami" src="https://www.theturnsignalblog.com/static/97b454670461e9aad6fb1666b16d2179/a8fee/interior.jpg" srcset="https://www.theturnsignalblog.com/static/97b454670461e9aad6fb1666b16d2179/35027/interior.jpg 180w,
https://www.theturnsignalblog.com/static/97b454670461e9aad6fb1666b16d2179/627a5/interior.jpg 360w,
https://www.theturnsignalblog.com/static/97b454670461e9aad6fb1666b16d2179/a8fee/interior.jpg 720w,
https://www.theturnsignalblog.com/static/97b454670461e9aad6fb1666b16d2179/b2ead/interior.jpg 1080w,
https://www.theturnsignalblog.com/static/97b454670461e9aad6fb1666b16d2179/533d0/interior.jpg 1280w" sizes="(max-width: 720px) 100vw, 720px" loading="lazy">
  </a>
    </span>
    <figcaption>The interior of the Ami</figcaption>
  </figure>
<p>The few functionalities it does have are a heater (no airconditioning), and a cheap, monochrome cluster screen that shows minimal information like speed, battery level, and time until the next charge. </p>
<figure>
    <span>
      <a href="https://www.theturnsignalblog.com/static/a404f4eda39242b24f91e46f8d16a60c/1e867/cluster.jpg" target="_blank" rel="noopener">
    <span></span>
  <img alt="The cluster is basic and monochrome" title="The cluster is basic and monochrome" src="https://www.theturnsignalblog.com/static/a404f4eda39242b24f91e46f8d16a60c/a8fee/cluster.jpg" srcset="https://www.theturnsignalblog.com/static/a404f4eda39242b24f91e46f8d16a60c/35027/cluster.jpg 180w,
https://www.theturnsignalblog.com/static/a404f4eda39242b24f91e46f8d16a60c/627a5/cluster.jpg 360w,
https://www.theturnsignalblog.com/static/a404f4eda39242b24f91e46f8d16a60c/a8fee/cluster.jpg 720w,
https://www.theturnsignalblog.com/static/a404f4eda39242b24f91e46f8d16a60c/b2ead/cluster.jpg 1080w,
https://www.theturnsignalblog.com/static/a404f4eda39242b24f91e46f8d16a60c/1e867/cluster.jpg 1268w" sizes="(max-width: 720px) 100vw, 720px" loading="lazy">
  </a>
    </span>
    <figcaption>The cluster is basic and monochrome</figcaption>
  </figure>
<h2>Interior Space</h2>
<p>Creating a lot of interior space is a huge challenge for small city cars. Thanks to Ami's electric drivetrain, the space that is otherwise used to house the engine, gearbox, and other mechanical parts can now be used for the interior. It also means that the wheels can be placed at the outer edges of the car which not only gives it a tiny turning circle, it also maximizes the interior space. </p>
<p>The many windows of the car allow for a lot of natural light to enter the cabin which helps in making the interior feel big.
Entering the vehicle for the first time feels unreal. The car is much smaller than any other vehicle on the road. With its length of 2.41m and width of 1.29m, it is significantly smaller than a Smart Fortwo (2.69m x 1.66m). But when entering the car, the interior feels so spacious that it seems bigger than the car itself!</p>
<p>Clearly, the Ami is not meant for going on vacation so it does not need to have a big amount of storage space. It does manage to have enough interior space for the things you would bring on short trips.
Due to the packaging of the car, the dashboard reaches quite far to the front of the car. In it, there are different patterns and holders for small items like a water bottle or sunglasses. </p>
<figure>
    <span>
      <a href="https://www.theturnsignalblog.com/static/8a247f22554324ceb5713c2bdad6daf1/0bd34/dashboard.jpg" target="_blank" rel="noopener">
    <span></span>
  <img alt="The storage system in the dashboard" title="The storage system in the dashboard" src="https://www.theturnsignalblog.com/static/8a247f22554324ceb5713c2bdad6daf1/a8fee/dashboard.jpg" srcset="https://www.theturnsignalblog.com/static/8a247f22554324ceb5713c2bdad6daf1/35027/dashboard.jpg 180w,
https://www.theturnsignalblog.com/static/8a247f22554324ceb5713c2bdad6daf1/627a5/dashboard.jpg 360w,
https://www.theturnsignalblog.com/static/8a247f22554324ceb5713c2bdad6daf1/a8fee/dashboard.jpg 720w,
https://www.theturnsignalblog.com/static/8a247f22554324ceb5713c2bdad6daf1/b2ead/dashboard.jpg 1080w,
https://www.theturnsignalblog.com/static/8a247f22554324ceb5713c2bdad6daf1/0bd34/dashboard.jpg 1417w" sizes="(max-width: 720px) 100vw, 720px" loading="lazy">
  </a>
    </span>
    <figcaption>The storage system in the dashboard</figcaption>
  </figure>
<p>An idea that directly comes from concept car is to place the passenger seat a bit further back than the driver's seat which creates a space for a backpack in the passenger's footwell.</p>
<figure>
    <span>
      <a href="https://www.theturnsignalblog.com/static/cf3a98bdf3a19220dbacfcaeb974563c/533d0/space.jpg" target="_blank" rel="noopener">
    <span></span>
  <img alt="There is space for a backpack in the footwell" title="There is space for a backpack in the footwell" src="https://www.theturnsignalblog.com/static/cf3a98bdf3a19220dbacfcaeb974563c/a8fee/space.jpg" srcset="https://www.theturnsignalblog.com/static/cf3a98bdf3a19220dbacfcaeb974563c/35027/space.jpg 180w,
https://www.theturnsignalblog.com/static/cf3a98bdf3a19220dbacfcaeb974563c/627a5/space.jpg 360w,
https://www.theturnsignalblog.com/static/cf3a98bdf3a19220dbacfcaeb974563c/a8fee/space.jpg 720w,
https://www.theturnsignalblog.com/static/cf3a98bdf3a19220dbacfcaeb974563c/b2ead/space.jpg 1080w,
https://www.theturnsignalblog.com/static/cf3a98bdf3a19220dbacfcaeb974563c/533d0/space.jpg 1280w" sizes="(max-width: 720px) 100vw, 720px" loading="lazy">
  </a>
    </span>
    <figcaption>There is space for a backpack in the footwell</figcaption>
  </figure>
<p>Driving the Ami around Paris, it feels more like a scooter than a car. Thanks to the many windows, you feel more exposed and connected to other road users. It is easier to make eye contact and communicate with cyclists and pedestrians so it is a much friendlier vehicle than a regular car.
Despite the cheap materials, the interior is not an unpleasant place to be. By cleverly creating space and a place for the smartphone, it provides everything you might need for a short trip. It is hard not to love it!</p>
<figure>
    <span>
      <a href="https://www.theturnsignalblog.com/static/b32be1c49fda6a0d55c8b49a5703e452/533d0/carmeet.jpg" target="_blank" rel="noopener">
    <span></span>
  <img alt="Thanks to its size and many windows, it is easy to make eye-contact with others" title="Thanks to its size and many windows, it is easy to make eye-contact with others" src="https://www.theturnsignalblog.com/static/b32be1c49fda6a0d55c8b49a5703e452/a8fee/carmeet.jpg" srcset="https://www.theturnsignalblog.com/static/b32be1c49fda6a0d55c8b49a5703e452/35027/carmeet.jpg 180w,
https://www.theturnsignalblog.com/static/b32be1c49fda6a0d55c8b49a5703e452/627a5/carmeet.jpg 360w,
https://www.theturnsignalblog.com/static/b32be1c49fda6a0d55c8b49a5703e452/a8fee/carmeet.jpg 720w,
https://www.theturnsignalblog.com/static/b32be1c49fda6a0d55c8b49a5703e452/b2ead/carmeet.jpg 1080w,
https://www.theturnsignalblog.com/static/b32be1c49fda6a0d55c8b49a5703e452/533d0/carmeet.jpg 1280w" sizes="(max-width: 720px) 100vw, 720px" loading="lazy">
  </a>
    </span>
    <figcaption>Thanks to its size and many windows, it is easy to make eye-contact with others</figcaption>
  </figure>

<p>Citro√´n has intended the Ami to be a car for the (urban) masses and is trying to give anyone a reason to use one. It is available to buy for around 6000 euros or rent for 20 euros per month after a down payment. Additionally, several car-sharing services will include the Ami in their fleet. It is not only available at Citro√´n dealerships, but also in France's big electronics retailers Fnac and Darty. </p>
<figure>
    <span>
      <a href="https://www.theturnsignalblog.com/static/ca6ffd627c19a55bbfbfc43630a2e8ca/040c5/fnac.jpg" target="_blank" rel="noopener">
    <span></span>
  <img alt="The Ami on display at a Fnac" title="The Ami on display at a Fnac" src="https://www.theturnsignalblog.com/static/ca6ffd627c19a55bbfbfc43630a2e8ca/a8fee/fnac.jpg" srcset="https://www.theturnsignalblog.com/static/ca6ffd627c19a55bbfbfc43630a2e8ca/35027/fnac.jpg 180w,
https://www.theturnsignalblog.com/static/ca6ffd627c19a55bbfbfc43630a2e8ca/627a5/fnac.jpg 360w,
https://www.theturnsignalblog.com/static/ca6ffd627c19a55bbfbfc43630a2e8ca/a8fee/fnac.jpg 720w,
https://www.theturnsignalblog.com/static/ca6ffd627c19a55bbfbfc43630a2e8ca/b2ead/fnac.jpg 1080w,
https://www.theturnsignalblog.com/static/ca6ffd627c19a55bbfbfc43630a2e8ca/040c5/fnac.jpg 1200w" sizes="(max-width: 720px) 100vw, 720px" loading="lazy">
  </a>
    </span>
    <figcaption>The Ami on display at a Fnac</figcaption>
  </figure>
<p>It has a top speed of 45km/h, it can do 75km on a full charge and it takes only 3 hours to charge it in a normal 220v household plug. It is classified as a quadricycle, not a car, so anyone over 14 can legally drive the car in France without a license. </p>
<p>Citro√´n did not design the car for a specific target audience. But the company does want to tap into the market of families. Citro√´n expects that almost half of the drivers will be younger than 18. They argue that parents will prefer to have their teenage children race around the city in a vehicle that is much safer than scooters or bicycles. The price of a monthly subscription is similar to a public transportation card or scooter subscription making it an attractive alternative.
The first signs are clearly positive as there are currently waiting lines to test drive one. </p>

<p>So far so good then. The Ami is cheap, well-designed, eco-friendly, and accessible to most of the public. What is not to love? To understand my concerns, we have to dive back in time and look at the bigger picture of city transportation.</p>
<h2>A History Lesson</h2>
<p>Before cars were the main mode of transport, city streets were a place where children played football, where neighbors would run into each other and stop for a chat. They were a place where people spent time and socialized. But at some point, something changed. Paris was one of the first cities where this happened. Between 1853 and 1870 Baron Haussman transformed much of the medieval city center of Paris into a 'healthy' city. This involved tearing down much of the narrow streets to make place for wide boulevards. </p>
<figure>
    <span>
      <a href="https://www.theturnsignalblog.com/static/32911535220a98ed7800f0667852785b/db203/oldvsnewparis.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Old streets of Paris compared to the wide boulevards" title="Old streets of Paris compared to the wide boulevards" src="https://www.theturnsignalblog.com/static/32911535220a98ed7800f0667852785b/b85f6/oldvsnewparis.png" srcset="https://www.theturnsignalblog.com/static/32911535220a98ed7800f0667852785b/aaa28/oldvsnewparis.png 180w,
https://www.theturnsignalblog.com/static/32911535220a98ed7800f0667852785b/7e1e1/oldvsnewparis.png 360w,
https://www.theturnsignalblog.com/static/32911535220a98ed7800f0667852785b/b85f6/oldvsnewparis.png 720w,
https://www.theturnsignalblog.com/static/32911535220a98ed7800f0667852785b/4d206/oldvsnewparis.png 1080w,
https://www.theturnsignalblog.com/static/32911535220a98ed7800f0667852785b/91a72/oldvsnewparis.png 1440w,
https://www.theturnsignalblog.com/static/32911535220a98ed7800f0667852785b/db203/oldvsnewparis.png 1580w" sizes="(max-width: 720px) 100vw, 720px" loading="lazy">
  </a>
    </span>
    <figcaption>Old streets of Paris compared to the wide boulevards</figcaption>
  </figure>
<p>The side effect was that it allowed horse-drawn carriages to go much faster, resulting in louder, more dangerous streets.
Before, pedestrians ruled the streets and other forms of transportation had to adjust to them. After the transformation though, the wide boulevards switched this around. Check this video from 1890 where this is clearly visible:</p>
<p><iframe src="https://www.youtube.com/embed/fo_eZuOTBNc?start=107" allowfullscreen=""></iframe></p>
<p>After the Second World War, this became even worse when cars were seen as the future of personal transportation. The modernist movement turned entire city centers into highways and parking lots. Suddenly, city streets were not a social place, they were there to get traffic from A to B as quickly and efficiently as possible. Pedestrians, despite being in the majority, were delegated to narrow sidewalks, jaywalking became an offense, and most of the public space was allocated to driving or parking. </p>
<figure>
    <span>
      <a href="https://www.theturnsignalblog.com/static/761477b1952b8121ea2c960590d34641/b2ead/carcentricillustration.jpg" target="_blank" rel="noopener">
    <span></span>
  <img alt="The effect of car centric culture on the rest of the city" title="The effect of car centric culture on the rest of the city" src="https://www.theturnsignalblog.com/static/761477b1952b8121ea2c960590d34641/a8fee/carcentricillustration.jpg" srcset="https://www.theturnsignalblog.com/static/761477b1952b8121ea2c960590d34641/35027/carcentricillustration.jpg 180w,
https://www.theturnsignalblog.com/static/761477b1952b8121ea2c960590d34641/627a5/carcentricillustration.jpg 360w,
https://www.theturnsignalblog.com/static/761477b1952b8121ea2c960590d34641/a8fee/carcentricillustration.jpg 720w,
https://www.theturnsignalblog.com/static/761477b1952b8121ea2c960590d34641/b2ead/carcentricillustration.jpg 1080w" sizes="(max-width: 720px) 100vw, 720px" loading="lazy">
  </a>
    </span>
    <figcaption>The effect of car centric culture on the rest of the city</figcaption>
  </figure>
<p>Over time we have accepted this as normal but it isn't.  In <a href="https://medium.com/@colville_andersen/the-arrogance-of-space-93a7419b0278">'The Arrogance of Space'</a> Mikael Colville-Anderson describes the unfair distribution of space with Paris as an example:  </p>
<figure>
    <span>
      <a href="https://www.theturnsignalblog.com/static/e665bfb21298c7d3cda507907cbf9586/d4e2e/arroganceofspace.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Space for pedestrians (blue) vs cars (red) in front of the Eiffel Tower" title="Space for pedestrians (blue) vs cars (red) in front of the Eiffel Tower" src="https://www.theturnsignalblog.com/static/e665bfb21298c7d3cda507907cbf9586/b85f6/arroganceofspace.png" srcset="https://www.theturnsignalblog.com/static/e665bfb21298c7d3cda507907cbf9586/aaa28/arroganceofspace.png 180w,
https://www.theturnsignalblog.com/static/e665bfb21298c7d3cda507907cbf9586/7e1e1/arroganceofspace.png 360w,
https://www.theturnsignalblog.com/static/e665bfb21298c7d3cda507907cbf9586/b85f6/arroganceofspace.png 720w,
https://www.theturnsignalblog.com/static/e665bfb21298c7d3cda507907cbf9586/4d206/arroganceofspace.png 1080w,
https://www.theturnsignalblog.com/static/e665bfb21298c7d3cda507907cbf9586/91a72/arroganceofspace.png 1440w,
https://www.theturnsignalblog.com/static/e665bfb21298c7d3cda507907cbf9586/d4e2e/arroganceofspace.png 2306w" sizes="(max-width: 720px) 100vw, 720px" loading="lazy">
  </a>
    </span>
    <figcaption>Space for pedestrians (blue) vs cars (red) in front of the Eiffel Tower</figcaption>
  </figure>
<p>With the rising importance of global climate change and more recently, the Covid crisis, cities are realizing that the current solution is unsustainable.
A country where this realization has happened a few decades ago is the Netherlands. Like other countries in the '60s, Dutch cities were moving towards car-centric infrastructure. There were plans to destroy much of the historic center of Amsterdam to make way for ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.theturnsignalblog.com/blog/ami-and-future-of-transportation/">https://www.theturnsignalblog.com/blog/ami-and-future-of-transportation/</a></em></p>]]>
            </description>
            <link>https://www.theturnsignalblog.com/blog/ami-and-future-of-transportation/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24856541</guid>
            <pubDate>Thu, 22 Oct 2020 10:24:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The programming architecture of Babbage's Analytical Engine [video]]]>
            </title>
            <description>
<![CDATA[
Score 59 | Comments 6 (<a href="https://news.ycombinator.com/item?id=24856235">thread link</a>) | @doener
<br/>
October 22, 2020 | https://media.ccc.de/v/vcfb20_-_137_-_de_-_202010101600_-_the_programming_architecture_of_babbages_analytical_engine_-_prof_dr_raul_rojas | <a href="https://web.archive.org/web/*/https://media.ccc.de/v/vcfb20_-_137_-_de_-_202010101600_-_the_programming_architecture_of_babbages_analytical_engine_-_prof_dr_raul_rojas">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">



<div>

<p>
<span></span>
<a href="https://media.ccc.de/search?p=Prof.+Dr.+Raul+Rojas">Prof. Dr. Raul Rojas</a>

</p>
<p>
Playlists:
<a href="https://media.ccc.de/v/vcfb20_-_137_-_de_-_202010101600_-_the_programming_architecture_of_babbages_analytical_engine_-_prof_dr_raul_rojas/playlist">'vcfb20' videos starting here</a>
/
<a data-method="get" href="https://media.ccc.de/v/vcfb20_-_137_-_de_-_202010101600_-_the_programming_architecture_of_babbages_analytical_engine_-_prof_dr_raul_rojas/audio">audio</a></p>
<!-- %h3 About -->
<p>The mathematician and inventor Charles Babbage wrote 26 programs between 1836 and 1841 for the unfinished "Analytical Engine" (AE). The code is embedded implicitly in tables summarizing program traces. In this talk, I present the programming architecture of Babbage‚Äôs mechanical computer based on the first code written for the machine. The AE had a processor separate from memory, and worked using a kind of dataflow approach. The stream of arithmetical operations was independent from the stream of memory addresses. Special "combinatorial" cards allowed the processor to execute FOR and WHILE loops. Combinatorial cards also allowed independent looping through the stream of memory addresses. Quite sophisticated computations were possible and illustrate why Babbage talked about the possibility of doing "algebra" with his machine. The programs I will discuss predate by several years the account published by Menabrea in 1842 and translated later by Lady Lovelace with notes of her own.</p>

<h3>Download</h3>

<!-- %h3 Embed/Share -->

<h3>Tags</h3>

</div>





</div>]]>
            </description>
            <link>https://media.ccc.de/v/vcfb20_-_137_-_de_-_202010101600_-_the_programming_architecture_of_babbages_analytical_engine_-_prof_dr_raul_rojas</link>
            <guid isPermaLink="false">hacker-news-small-sites-24856235</guid>
            <pubDate>Thu, 22 Oct 2020 09:25:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using Lidar to Add Autofocus to a Manual Focus Lens]]>
            </title>
            <description>
<![CDATA[
Score 81 | Comments 12 (<a href="https://news.ycombinator.com/item?id=24856072">thread link</a>) | @giuliomagnifico
<br/>
October 22, 2020 | http://sonyaddict.com/2020/10/20/f-0-95-autofocus-on-any-camera-with-lidar/ | <a href="https://web.archive.org/web/*/http://sonyaddict.com/2020/10/20/f-0-95-autofocus-on-any-camera-with-lidar/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-13082"> 

				

					

					<!-- .entry-meta -->
     				
					<div>
					
						<p><iframe title="RS2.  Amazing Gimbal with AUTOFOCUS for any camera. New LiDAR sensor with focus motors!" width="540" height="304" src="https://www.youtube.com/embed/Y7UEHryq7zo?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
<p>DJI has a 3D focus accessory for the <a href="https://www.bhphotovideo.com/c/product/1585352-REG/dji_cp_rn_00000094_01_rs_2_gimbal_stabilizer.html/BI/20068/KBID/13800/" target="_blank" rel="noopener noreferrer">DJI RS 2</a> that allows you to autofocus any manual lens using LiDAR using what is called time of flight technology. The technology has a few limitations like it won‚Äôt autofocus beyond 4m (22ft) because there aren‚Äôt enough photons bouncing back at that distance and the system has to be calibrated for each lens. The system also won‚Äôt work with lenses that do not have a hard stop.</p>
<p>The system is pretty basic at this time and it is dumb zone AF, but this might be improved with time. The follow focus seems to work best between 1m and 4m from testing and the calibration program, which checks two distances during calibration. The gimbal can store profiles for 3 lenses so you do not have to repeat calibration every time. AF is handled completely independently of the camera and the lens is focused via <a href="https://www.bhphotovideo.com/c/product/1078023-REG/slr_magic_slr_3595m_cine_ii_e_35mm_0_95_ii_m.html/BI/20068/KBID/13800/" target="_blank" rel="noopener noreferrer">gears</a> so it will focus even with the camera off and since it uses LiDAR it will even focus in the dark. DJI also makes an accessory to <a href="https://www.bhphotovideo.com/c/product/1447215-REG/dji_cp_rn_00000026_01_ronin_s_part_19_focus.html/BI/20068/KBID/13800/">add gears to your manual focus lenses</a>.</p>
<p>The 3D focus module isn‚Äôt available yet, but it will be in a few weeks for $169 and it requires the <a href="https://www.bhphotovideo.com/c/product/1585352-REG/dji_cp_rn_00000094_01_rs_2_gimbal_stabilizer.html/BI/20068/KBID/13800/" target="_blank" rel="noopener noreferrer">focus motors and RS2</a>, but not the Ravens Eye wireless transmitter that was used in the video. If you want the setup to track you then you will need the Ravens Eye wireless transmitter. This system also makes older cameras with poor AF relevant again, which is a nice bonus.</p>
<p><strong>DJI RS 2 and RSC 2:&nbsp;</strong><a href="https://bhpho.to/3lS3D9p" target="_blank" rel="noopener noreferrer">B&amp;H Photo</a>&nbsp;/&nbsp;<a href="http://moment.8ocm68.net/Nd17P" target="_blank" rel="noopener noreferrer">shopmoment</a>&nbsp;/&nbsp;<a href="https://amzn.to/2SVaKld" target="_blank" rel="noopener noreferrer">Amazon</a>&nbsp;/&nbsp;<a href="http://adorama.rfvk.net/LvA73" target="_blank" rel="noopener noreferrer">Adorama</a></p>


												
					</div><!-- .entry-content -->
					
					<div>

						<p><span>This entry was posted in <a href="http://sonyaddict.com/category/accessories/" rel="category tag">Accessories</a></span><span> and tagged  <a href="http://sonyaddict.com/tag/dji/" rel="tag">DJI</a>, <a href="http://sonyaddict.com/tag/dji-rs-2/" rel="tag">DJI RS 2</a>, <a href="http://sonyaddict.com/tag/dji-rsc-2/" rel="tag">DJI RSC 2</a>, <a href="http://sonyaddict.com/tag/gimbal/" rel="tag">Gimbal</a>, <a href="http://sonyaddict.com/tag/lidar/" rel="tag">LiDAR</a>, <a href="http://sonyaddict.com/tag/lidar-af/" rel="tag">LiDAR AF</a>, <a href="http://sonyaddict.com/tag/lidar-autofocus/" rel="tag">LiDAR Autofocus</a></span>. Bookmark the <a title="Permalink to f/0.95 Autofocus on Any Camera With LiDAR" href="http://sonyaddict.com/2020/10/20/f-0-95-autofocus-on-any-camera-with-lidar/">permalink</a>. Trackbacks are closed, but you can <a title="Post a comment" href="#respond">post a comment</a>.

					</p></div><!-- .entry-utility -->
					
				</div></div>]]>
            </description>
            <link>http://sonyaddict.com/2020/10/20/f-0-95-autofocus-on-any-camera-with-lidar/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24856072</guid>
            <pubDate>Thu, 22 Oct 2020 08:57:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How Google obliterated my 4 year old Chrome extension with 24k+ users (2016)]]>
            </title>
            <description>
<![CDATA[
Score 139 | Comments 121 (<a href="https://news.ycombinator.com/item?id=24855582">thread link</a>) | @Fiveplus
<br/>
October 22, 2020 | https://by.graffino.com/how-google-obliterated-my-24k-users-chrome-extension-eeb14c040a39#.13m3awp18 | <a href="https://web.archive.org/web/*/https://by.graffino.com/how-google-obliterated-my-24k-users-chrome-extension-eeb14c040a39#.13m3awp18">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><div><div><div><p>
              After 3 months of trying everything I could think of, I give up.
              I don‚Äôt think I will ever develop anything for the Google
              ecosystem again. I‚Äôm not angry, I‚Äôm not doing this out of spite.
              I just don‚Äôt think it is worth it to invest any amount of effort
              to build something on a platform that turned out to be so
              unreliable.
            </p>  <h2>Please scroll down to read the latest update.</h2>  <p>
              I started developing my first extension back in 2010, when Apple
              finally decided to implement proper extension support in Safari.
              Exciting times. I spent a weekend writing my first Safari
              Extension, an ad blocker called ‚ÄúCleaner Facebook‚Äù. I must
              confess it was ugly, and by today‚Äôs standards, very poorly
              written, but it did the job.
            </p> <p>
              After a few weeks while browsing Facebook using Chrome, the
              annoying ads popped up and I figured that it‚Äôll be worthwhile to
              port it over, so I did. I also made it available to everyone via
              <a href="http://apps.graffino.com/" target="_blank" title="App Development">Graffino‚Äôs apps playground.</a></p> <p>
              Months later the due to some policy changes in Chrome, I moved
              to the Chrome Web Store where I made it available for free under
              the name ‚ÄúCleaner Facebook‚Äù.
            </p> <p>
              What happened next was beyond my wildest expectations. It
              quickly gathered around 4.000 users and over the last year it
              surged to 24.000+ users. Whenever I pushed an update, the
              numbers would spike.
            </p> <p>
              I got quite a few offers to sell it, so others could push
              advertising through it. Thing is, I never wanted to make any
              money off it and I felt like I was betraying my users. So, I
              kept it and improved it constantly. It worked so well because I
              needed it to work well, I was using it daily and my users loved
              it. It got a 5 stars rating and over 85 reviews.
            </p> <blockquote>
              Google has been notified that some of your materials allegedly
              infringe upon the trademarks of others.
            </blockquote> <p>
              At the end of May this year, I received an email from Google
              telling me that my extension violated Facebook‚Äôs trademark and
              got taken down. There was no information how to solve the issue,
              no way to appeal. Google washed its hands clean and directed all
              inquiries to an automatically generated email address. This
              email address was a black hole that never responded to any of my
              emails.
            </p> <figure><img src="https://by.graffino.com/_nuxt/img/bcfd01f.png" alt="Google's notification that they removed Graffino's Ads removal app from the store."> <figcaption>
                The original infringement and taken down notice (shortened).
              </figcaption></figure> <p>
              I figured out that the name might be an issue although there
              were
              <a href="https://chrome.google.com/webstore/search/facebook?hl=en-US" target="_blank">a lot of other extensions</a>
              with the same name in the store. Even so, I changed the name of
              my extension to ‚ÄúCleaner ‚Äî for Facebook‚Äù and resubmitted it to
              the store where it got placed ‚ÄúIn review‚Äù.
            </p> <p>
              Over the next weeks I never received any email from the Chrome
              Store other than the initial take down notice. When I logged in
              again, I found my extension was still ‚ÄúTaken down‚Äù and the ‚ÄúIn
              review‚Äù flag gone.
            </p> <p>
              I went on to search for a Developer Support page, but after half
              an hour of searching I found out that there is none. There is no
              support whatsoever for the developer besides Google‚Äôs own
              documentation. If you encounter an issue that you can‚Äôt solve
              yourself, you‚Äôre stranded. There‚Äôs no contact info. No one to
              write to.
            </p> <p>
              After getting really frustrated that day, I vented out sending
              out a nasty email to removals@google.com. Not sure it helped.
            </p> <p>
              The next day I poked around and found a support form intended
              for Chrome Web Store users. In my desperation I figured this was
              my only option left.
            </p> <p>
              About a week later, I got my first reply from <em>Google</em>.
              Although it sounded nice, it wasn‚Äôt really helpful. Most
              probably due to the fact it was a canned response, totally
              unrelated to my issue.
            </p> <figure><img src="https://by.graffino.com/_nuxt/img/a38f41d.png" alt="Google's first email response to Graffino's complaint."> <figcaption>First canned response</figcaption></figure> <p>
              Later that day, I fired a few other emails, telling them that my
              extension was not under review and the cause for the take down
              was not flagging. I also submitted another message via the
              support form I used before. My requests got closed with a
              <em>‚ÄúThanks for your feedback.‚Äù</em> canned response.
            </p> <figure><img src="https://by.graffino.com/_nuxt/img/c1a157e.png" alt="Google's first email response to Graffino's complaint."> <figcaption>‚ÄúThank you for your feedback‚Äù response</figcaption></figure> <p>
              Meanwhile my extension‚Äôs user base was dwindling, and I could do
              absolutely nothing about it.
            </p> <figure><img src="https://by.graffino.com/_nuxt/img/ee3fd6a.png" alt="Google's first email response to Graffino's complaint."> <figcaption>
                Screenshot from the Developer Dashboard made on the 18th of
                July.
              </figcaption></figure> <p>
              After another two weeks I finally gave up and sent this final
              email. I got a reply that my case was ‚ÄúReopened‚Äù. It‚Äôs been a
              month and I didn‚Äôt hear back since, so I don‚Äôt think I will ever
              get my extension back on the store.
            </p> <figure><img src="https://by.graffino.com/_nuxt/img/3e2eaf4.png" alt="Google's first email response to Graffino's complaint."> <figcaption>Final email from my side.</figcaption></figure> <p>
              I‚Äôm not playing the victim here, and I don‚Äôt expect this post to
              solve anything for my extension. I just want you to think twice
              before creating a revenue stream based on the Chrome Web Store.
            </p> <p>
              Google has great automated tools and services, to help
              developers ramp up and deliver their apps to users quickly and
              painless. Most of the time these tools work perfectly. The
              problems arise when they don‚Äôt.
            </p> <p>
              I have never experienced such frustration, and such feelings of
              helplessness from any other major player out there. A similar
              issue with the
              <a href="https://safari-extensions.apple.com/details/?id=com.graffino.cleaner-for-facebook-86755BRK69" target="_blank">‚ÄúCleaner Facebook‚Äù Safari extension‚Äù</a>, got promptly solved by Apple in under three days.
            </p> <p>
              Google has a record of very bad user support. Basically, if your
              issue is not listed in the ‚ÄúSupport Forums‚Äù you‚Äôre screwed. If I
              would have based my business on the Chrome Web store, I would be
              out of business by now.
            </p>  <h2>Update 8.09.2016</h2> <p>
              I never imagined this would generate this amount of attention:
              featured by
              <strong>Medium, 100k+</strong> views, heated discussions on
              <a href="https://www.reddit.com/r/programming/comments/51mgix/how_google_obliterated_my_4_year_old_chrome/" target="_blank">Reddit</a>
              or
              <a href="https://news.ycombinator.com/item?id=12442048" target="_blank">Hackernews</a>. I don‚Äôt really expect this to change anything for me, but I‚Äôm
              glad people are speaking up. If Google would implement a paid
              support option like Apple does for its developers, I‚Äôm sure a
              lot of pain would be avoided.
            </p> <p>
              I try to read everything, but I don‚Äôt respond on Medium (hate
              the commenting system), but you can ping me on Twitter.
            </p> <h2>To answer the most common questions:</h2> <p>1.<em> ‚ÄúWhy don‚Äôt you change the name completely?‚Äù</em></p> <p>
              Well, because using ‚Äúfor Facebook‚Äù in the name is considered
              <a href="http://www.inta.org/TrademarkBasics/FactSheets/Pages/FairUse.aspx" target="_blank">fair use</a>. Also, when managing an app or extension with that many users,
              you don‚Äôt really want to confuse the users by renaming it to a
              completely different thing over night. It‚Äôs also an extension
              that only works on Facebook. I might also be infringing with the
              icon.
            </p> <p>
              So, you see, I really need guidelines to do this. Again, my
              problem is with the way this was handled, not the takedown
              itself.
            </p> <p>
              2.
              <em>‚ÄúThe extension was taken down because it was blocking ads.‚Äù
              </em></p> <p>
              This is simply untrue. I don't believe I was intentionally
              targeted. I was simply unlucky enough to be targeted by
              automated tools. Even the way my requests were handled weren‚Äôt
              done with malicious intent by Google. I think I‚Äôm just an edge
              case for which their support tools aren‚Äôt equipped to deal with.
            </p> <h2>Update: 9.09.2016</h2> <p>
              I received an email from Google today in which they‚Äôre
              expressing their apologies about the incident. It seems that
              they cannot do anything for the current store entry until the
              original complainant retracts his complain.
            </p> <figure><img src="https://by.graffino.com/_nuxt/img/3e2eaf4.png" alt="Google's first email response to Graffino's complaint."> <figcaption>Final email from my side.</figcaption></figure> <p>
              They offered me clear options though. We‚Äôre currently assessing
              what the best option might be. As I said in the article, this
              wasn‚Äôt an intentional targeting but a slip-up of their support
              which they‚Äôre trying to fix.
            </p> <p>
              Hopefully I will have the time to write a follow-up once all
              this is over. I didn‚Äôt expect or wanted this kind of attention,
              these have been 2 stressful days for me, trying to keep up with
              all the requests and messages, as I do have a job and my own
              company to run.
            </p> <p>
              It also happens that today is my birthday. I guess receiving a
              response from Google was my birthday present :).
            </p>  <h2>Update: 10.09.2016</h2> <p>
              You can still find the
              <a href="http://apps.graffino.com/" target="_blank">ad blocker extension</a>
              here. However, you will not be able to run it. Chrome made
              changes so that extensions cannot be side-loaded without an
              enterprise profile.
            </p> <h2>Final Update: 12.09.2016</h2> <p>
         ‚Ä¶</p></div></div></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://by.graffino.com/how-google-obliterated-my-24k-users-chrome-extension-eeb14c040a39#.13m3awp18">https://by.graffino.com/how-google-obliterated-my-24k-users-chrome-extension-eeb14c040a39#.13m3awp18</a></em></p>]]>
            </description>
            <link>https://by.graffino.com/how-google-obliterated-my-24k-users-chrome-extension-eeb14c040a39#.13m3awp18</link>
            <guid isPermaLink="false">hacker-news-small-sites-24855582</guid>
            <pubDate>Thu, 22 Oct 2020 07:10:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The virtual device farm for rendering websites on multiple devices]]>
            </title>
            <description>
<![CDATA[
Score 100 | Comments 27 (<a href="https://news.ycombinator.com/item?id=24855342">thread link</a>) | @seleniumbase
<br/>
October 21, 2020 | https://seleniumbase.io/devices/?url=news.ycombinator.com | <a href="https://web.archive.org/web/*/https://seleniumbase.io/devices/?url=news.ycombinator.com">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://seleniumbase.io/devices/?url=news.ycombinator.com</link>
            <guid isPermaLink="false">hacker-news-small-sites-24855342</guid>
            <pubDate>Thu, 22 Oct 2020 06:06:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Startup Financial Modeling: What is a Financial Model? (2016)]]>
            </title>
            <description>
<![CDATA[
Score 226 | Comments 49 (<a href="https://news.ycombinator.com/item?id=24853787">thread link</a>) | @aaronbski
<br/>
October 21, 2020 | https://www.mathventurepartners.com/blog/2016/9/15/startup-financial-modeling-part-1-what-is-a-financial-model | <a href="https://web.archive.org/web/*/https://www.mathventurepartners.com/blog/2016/9/15/startup-financial-modeling-part-1-what-is-a-financial-model">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

  
  <article id="article-57daf9aad2b857a2108683be" data-item-id="57daf9aad2b857a2108683be">

    

    <div>
      
        <div data-layout-label="Post Body" data-type="item" data-updated-on="1473969767493" id="item-57daf9aad2b857a2108683be"><div><div><div data-block-type="2" id="block-7c825fcce3d916c3aa66"><div><p><em>This article was originally published over on Startup Rocket&nbsp;</em><a href="https://www.startuprocket.com/articles/startup-financial-modeling-part-1-what-is-a-financial-model" target="_blank"><em>here</em></a><em>, and written by Will Little and Troy Henikoff.</em></p><p><em>This series is the result of a friendly debate I had recently with&nbsp;</em><a href="https://www.mathventurepartners.com/troy-henikoff" target="_blank">Troy Henikoff</a><em>&nbsp;(former Techstars Chicago Accelerator Managing Director)&nbsp;regarding the best approach for founders to take when building a financial model. More accurately, the ‚Äúdebate‚Äù was a strong adverse reaction from Troy after I shared a template I built for Prota Ventures‚Äô portfolio companies. His feedback was, essentially, to never use a template and instead build each model from scratch.</em></p><p><em>He invited me to a 90-minute lecture he gave where he overwhelmingly convinced me and the room that, indeed, founders need to take the time necessary to build their models from scratch. After I asked him where I could find his lecture material online, he suggested we co-author this article series since there weren‚Äôt many solid resources available. We sincerely hope you find this series helpful.&nbsp;</em></p><p>Our plan is to break this out into a four-part series and guide you through the components necessary for building your own financial model from scratch:</p><ul data-rte-list="default"><li><p><a href="https://www.mathventurepartners.com/blog/2016/9/15/startup-financial-modeling-part-1-what-is-a-financial-model" target="_blank">Part 1: The Why and What of Financial Modeling</a></p></li><li><p><a href="https://www.mathventurepartners.com/blog/2016/10/2/startup-financial-modeling-part-2-start-with-your-assumptions" target="_blank">Part 2: Assumptions</a></p></li><li><p><a href="https://www.mathventurepartners.com/blog/2016/10/2/startup-financial-modeling-part-3-the-income-statement-and-custom-detail-tabs" target="_blank">Part 3: Income Statement and Custom Detail Tabs</a></p></li><li><p><a href="https://www.mathventurepartners.com/blog/2016/10/7/startup-financial-modeling-part-4-the-balance-sheet-cash-flow-and-unit-economics" target="_blank">Part 4: Cash Flow, Balance Sheet and Keeping the Model Updated</a></p></li></ul><p>In short, a financial model is an abstract mathematical representation of how a company works (and more importantly, how it will work going forward). The model has inputs and outputs. The inputs are the assumptions that drive the model, things like what drives your customer acquisition cost, what your churn rates are, how much you pay people, etc. The outputs are a set of projections that show how the company will perform if the assumptions are true. One model can produce multiple sets of projections given different assumptions.</p><p>Based on a set of assumptions, a financial model is used to make smart decisions (e.g. how many sales people to hire and what to pay them). The model includes financial projections that are tied mathematically to the assumptions, which allows operators to ‚Äúplay with the variables‚Äù in order to understand how certain decisions might affect the future health of their company.</p><p><strong>Troy has an important story to share on this topic:</strong></p><p>‚ÄúWhen fundraising for SurePayroll, we had some very high level financials in the pitch deck. Inevitably, VC‚Äôs would ask where the numbers came from. I would tell them that we had a very detailed financial model that drove it, I was setting the bait‚Ä¶</p><p>They would ask to be sent a copy of the model and I would refuse. I would only share it by first sitting down with them and an associate and reviewing the model in person and after that 90 minute session, I would leave them a copy of the model to play with further.</p><blockquote><p>They would insist that they could figure it out without the meeting, but I ALWAYS held my ground. I wanted the meeting not just to save them time and frustration learning a new model, but more importantly to get more face time with them in a situation where I was going to shine.</p></blockquote><p>I knew the model inside and out since I built it; I could answer any question about any cell and look like a genius. In the end, I did eight&nbsp;of these meetings and EVERY ONE of the firms that did the 90 minute meeting with me on the financial model either made an investment in the company or made an offer to invest in the company.&nbsp;<strong>Every single one</strong>.‚Äù</p><p>While it‚Äôs easy to search around and find a template to use, those templates were built by someone with a particular business in mind. Since every business is unique, this will lead you into trouble.</p><p>While it‚Äôs often helpful to&nbsp;<em>learn&nbsp;</em>from other people‚Äôs models to ensure, for example, that you aren‚Äôt missing anything important, you should never build your model using their template. You‚Äôll end up banging your head against a wall when you need to change things, and you‚Äôll inevitably be confused about some nuance that will come back to haunt you since you don‚Äôt understand it.</p><blockquote><p>In other words, while you may think that a template will help you save time, what you are actually doing is acquiring ‚Äútechnical debt‚Äù that will end up costing you more time in the long run.</p></blockquote><p>Plus, it‚Äôs critical to understand every column, row, cell and tab in your spreadsheet for two key reasons; it will help you better manage your business, and when the time comes to explain it to an investor, you‚Äôll be able to explain exactly how it works and increase your odds of landing funding.</p><p>Since most people are using the financial model to communicate projections to investors, it is critical that you speak the investors‚Äô language. They are used to having financials in Excel, so you should build your model in Excel.</p><blockquote><p>Google sheets is convenient for making changes and having multiple people editing, but sending an investor a model in Google sheets signals that you are not financially savvy.</p></blockquote><p>Investors are also used to seeing three standard statements; an income statement, a balance sheet, and a statement of cash flow. &nbsp;Each of these is more credible if it has BOTH the past performance and the future projections in the same spreadsheet.</p><p>Your spreadsheet should contain a tab for each of these outputs along with an ‚Äúassumptions‚Äù tab and custom detail tabs needed to help calculate the main outputs. We‚Äôll walk through a specific example later in this series so you have a better understanding of what this should look like.</p><p>Because of various accounting nuances ‚Äì such as fixed asset depreciation and deferring revenue ‚Äì if you assign ten accountants to finish your books at the end of the year, you‚Äôll get ten different answers for how much profit (or loss) you had in the year. While hopefully not far off from the others, each will have a slightly different report of your ‚Äúprofit‚Äù based on their accounting opinions.</p><blockquote><p>However, the balance of your bank account is a specific number to point at; it‚Äôs a fact that your ten accountants should agree on.</p></blockquote><p>Therefore, it‚Äôs important to remember that your financial model will have your own opinions baked in regarding your profit. This means that examining your cash flow carefully as you fine-tune your business assumptions is critical.</p><p>Having a solid financial model is a significant step in communicating to investors that you are a logical thinker with a defensible plan and clearly understand your business and the levers that drive it. &nbsp;&nbsp;</p><p>Nobody expects your model to be perfect, as a matter of fact, when we present a model, we always open with the same line:</p><blockquote><p><em>‚ÄúThe only thing we know for sure about this model is that it is wrong. But, if we look critically at it we can better understand the drivers of the business and what we need to be focused on to reduce our risk.‚Äù &nbsp;</em></p></blockquote><p>Keep in mind, investors are looking for the big home runs, but they are also looking at reducing their risk. The model can help them get comfortable with the risk.</p><p>‚Äì ‚Äì ‚Äì</p><p><em>In our next post in this series, we‚Äôll dive in a step-by-step guide of how to build a financial model, starting with the assumptions tab.&nbsp;</em><a href="https://satchel.works/@wclittle/subscribe" target="_blank">Subscribe</a><em>&nbsp;to Will‚Äôs newsletter to get notified when the next articles are up. As we mentioned above, feel free to ping us on Twitter (</em><a href="https://twitter.com/wclittle" target="_blank"><em>@wclittle</em></a><em>,&nbsp;</em><a href="https://twitter.com/troyhenikoff" target="_blank"><em>@troyhenikoff</em></a><em>) with any questions.</em></p></div></div></div></div></div>
      
    </div>


    

    
      
    

    

  </article>

  

  

  
  
  

</div></div>]]>
            </description>
            <link>https://www.mathventurepartners.com/blog/2016/9/15/startup-financial-modeling-part-1-what-is-a-financial-model</link>
            <guid isPermaLink="false">hacker-news-small-sites-24853787</guid>
            <pubDate>Thu, 22 Oct 2020 00:28:21 GMT</pubDate>
        </item>
    </channel>
</rss>
