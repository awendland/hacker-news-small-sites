<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 50]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 50. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Fri, 04 Sep 2020 08:24:51 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-50.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Fri, 04 Sep 2020 08:24:51 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Lesser-known Web APIs]]>
            </title>
            <description>
<![CDATA[
Score 197 | Comments 71 (<a href="https://news.ycombinator.com/item?id=24350647">thread link</a>) | @Sandeepg33k
<br/>
September 1, 2020 | https://blog.greenroots.info/10-lesser-known-web-apis-you-may-want-to-use-ckejv75cr012y70s158n85yhn | <a href="https://web.archive.org/web/*/https://blog.greenroots.info/10-lesser-known-web-apis-you-may-want-to-use-ckejv75cr012y70s158n85yhn">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text"><p><code>API</code> is the acronym for Application Programming Interface which defines interactions between multiple software architecture layers. Programmers carry out complex tasks easily using APIs in software development. Without APIs, a programmer's life would have been miserable with no proper(security, for example) access to data,  knowing unnecessary low level details etc.</p>
<p>When it comes to Web APIs, there are extremely useful  objects, properties and functions available to perform tasks as minor as accessing DOM to as complex as managing audios, videos, graphics, etc. </p>

<p>If you are from the web development background, you are using many of them already. Here is the list of very well known web APIs.</p>
<ul>
<li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas</a></li>
<li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">Fetch</a></li>
<li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/API/History_API">History</a> </li>
<li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/API/Geolocation_API">Geolocation</a> </li>
<li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model">DOM</a></li>
<li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/API/Console_API">Console</a></li>
<li><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API">Drag &amp; Drop API</a></li>
</ul>
<p>In this article, I am going to talk about 10 more web APIs that are not so popular. Lesser popular doesn't mean, they are not useful. You can use them in various use-cases of your project. Please have a look.</p>

<p>If you would like to jump into the source code or see the demonstration immediately, here are the quick links to them:</p>
<blockquote>
<ul>
<li><a target="_blank" href="https://github.com/atapas/demolab/tree/master/code/src/demos/web-apis">Link to the Source Code @GitHub</a></li>
<li><a target="_blank" href="https://demo.greenroots.info/categories/web-apis/">Link to the Web API DemoLab</a></li>
</ul>
</blockquote>
<p>Note: Web APIs are nothing but the interfaces, functions, objects, properties written and exposed using vanilla JavaScript. However the usage of the web APIs is not limited to the vanilla JavaScript based application alone. It is very straightforward to use them with an Angular, React or Vue based applications as well.</p>
<p>All the examples I have used to demonstrate the web apis in this article are written using reactjs. You can find them in the github link mentioned above. Please feel free to fork, change and use!</p>

<p>A big (pain) point about  using a web API is, most of them are not standardized yet. It means, the support for a web API  may differ from one browser vendor to another. For example, You may find an API working with the Chrome browser but, not supported by Firefox or Edge browsers yet.</p>
<p>I would suggest a couple of ways to have a check on this,</p>


<p>Alright, time to get started knowing them. Hope you also find these useful.</p>
<h2 id="1-fullscreen-api">1. üì∫ Fullscreen API</h2>
<p>Do you have the need to show any of the DOM elements in full-screen mode? The full-screen use-case is very demanding for gaming applications, online video platforms(like, youtube) etc. </p>
<p>The <code>Fullscreen API</code> provides methods to present a specific Element (and its children) in a full-screen mode. There is a method available to exit full-screen mode once it is no longer needed. Not only that, this API can also help to perform any actions when a DOM element transition into a full-screen mode or comes out of it.</p>
<p>In the example below, my favorite Santa Claus can get into the full-screen mode and come out of it with ease.</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1598715764074/fR7trCfsA.gif?auto=format,compress&amp;gif-q=60" alt="full_screen.gif"></p>
<p>In the code below, the <code>manageFullScreen()</code> function uses  the <code>requestFullscreen()</code> API on an element which is having an id called, <code>fs_id</code>. </p>
<pre><code><span>const</span> manageFullscreen = () =&gt; {
   <span>document</span>.getElementById(<span>'fs_id'</span>).requestFullscreen();
}
</code></pre>
<p>This element with id, <code>fs_id</code> is a <code>DIV</code> with a child element, i.e, the Santa Clause image.</p>
<pre><code>&lt;div className=<span>"column"</span>&gt;
  <span><span>&lt;<span>div</span> <span>id</span>=<span>"fs_id"</span>&gt;</span>
    <span>&lt;<span>Img</span> <span>fixed</span>=<span>{imageData.image.childImageSharp.fixed}</span> <span>alt</span>=<span>"santa"</span> /&gt;</span>
   <span>&lt;/<span>div</span>&gt;</span>

    <span>&lt;<span>StyledButton</span> 
         <span>onClick</span>=<span>{manageFullscreen}</span>&gt;</span>
            Enter Fullscreen with Santa
    <span>&lt;/<span>StyledButton</span>&gt;</span>
 <span>&lt;/<span>div</span>&gt;</span></span>
</code></pre>
<p>You can check if the <code>Fullscreen API</code> is supported by the browser,</p>
<pre><code><span>if</span> (<span>document</span>.fullscreenEnabled) {
   setSupported(<span>true</span>);
} <span>else</span> {
   setSupported(<span>false</span>);
}
</code></pre>
<p>Also watch out for the useful handlers like,</p>
<ul>
<li><code>onfullscreenchange</code>: An event handler for the fullscreenchange event.</li>
<li><code>onfullscreenerror</code>: An event handler for the fullscreenerror event.</li>
</ul>
<p>Direct link to the demo: <a target="_blank" href="https://demo.greenroots.info/web-apis/web-apis-fullscreen/">https://demo.greenroots.info/web-apis/web-apis-fullscreen/</a></p>
<h2 id="2-clipboard-async-api">2. üìã Clipboard Async API</h2>
<p>What is a clipboard in comuping?</p>
<blockquote>
<p>The clipboard is a buffer that some operating systems provide for short-term storage and transfer within and between application programs.</p>
</blockquote>
<p>There are mainly three operations you can perform with the clipboard. They are, <code>copy</code>, <code>cut</code> and <code>paste</code>. The Clipboard API provides the ability to respond to these three operations. </p>
<p>Interestingly, copying content to the clipboard is open as in, there is no need of a user permission. However, for pasting the content from the clipboard to the user application, the user needs to grant permission for it. It is achieved using another web API called, <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/API/Permissions_API">Permission API</a></p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1598716493747/PwPwDDK8Y.png?auto=format&amp;q=60" alt="image.png"></p>
<p>Here is a simple example of the copy-paste operation,</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1598716547383/PoXUNZmnr.gif?auto=format,compress&amp;gif-q=60" alt="clip_board.gif"></p>
<p>This is how to check if the feature is supported by the browser,</p>
<pre><code><span>if</span> (navigator.clipboard 
     &amp;&amp; navigator.clipboard.read 
     &amp;&amp; navigator.clipboard.write) {
   setSupported(<span>true</span>);
} <span>else</span> {
   setSupported(<span>false</span>);
}
</code></pre>
<p>Here is the async API function for writing the content to the clipboard,</p>
<pre><code><span>async</span> <span><span>function</span> <span>performCopy</span>(<span>event</span>) </span>{
   event.preventDefault();
   <span>try</span> {
      <span>await</span> navigator.clipboard.writeText(copyText);
      <span>console</span>.log(<span>`<span>${copyText}</span> copied to clipboard`</span>);
   } <span>catch</span> (err) {
      <span>console</span>.error(<span>'Failed to copy: '</span>, err);
   }
}
</code></pre>
<p>The Async API function to read the content from the clipboard and do something with it,</p>
<pre><code><span>async</span> <span><span>function</span> <span>performPaste</span>(<span>event</span>) </span>{
   event.preventDefault();
   <span>try</span> {
       <span>const</span> text = <span>await</span> navigator.clipboard.readText();
       setPastetext(text);
       <span>console</span>.log(<span>'Pasted content: '</span>, text);
   } <span>catch</span> (err) {
      <span>console</span>.error(<span>'Failed to read clipboard contents: '</span>, err);
   }
}
</code></pre>
<p>Note: With the inclusion of the <code>Clipboard Async API</code>, you can get rid of the usage of <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/API/Document/execCommand">document.execCommad()</a> function as it is obsolete now.</p>
<p>Direct link to the demo: <a target="_blank" href="https://demo.greenroots.info/web-apis/web-apis-clipboard-apis/">https://demo.greenroots.info/web-apis/web-apis-clipboard-apis/</a></p>
<h2 id="3-resize-observer-api">3. üßê Resize Observer API</h2>
<p>Do you want to take some actions based on the changes to the content or border box of a DOM element? Are you thinking of writing a handler by yourself? What if I tell you, there is already one provided by the web API implementation?</p>
<p>Here is a story about a dumb button. We use a range slider to resize the button. While the button gets resized, we also want to control the text color, without letting the button know much about it. </p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1598717277220/dITL6Nog2.gif?auto=format,compress&amp;gif-q=60" alt="resizer.gif"></p>
<p>First, create a button and specify an id so that, we can access the button later using the id.</p>
<pre><code>&lt;StyledButton id=<span>"dumbBtnId"</span>&gt;
   I am a Dumb Button
&lt;<span>/StyledButton&gt;</span>
</code></pre>
<p>Now we create a slider using the <code>range</code> input type from HTML5. A <code>resize()</code> function is invoked when the slider value changes.</p>
<pre><code>&lt;div&gt;
   <span><span>&lt;<span>input</span> 
         <span>onChange</span>=<span>{(event)</span> =&gt;</span> resize(event)} 
         type="range" 
         min={minRange} 
         max={maxRange} 
         defaultValue={rangeValue} /&gt;
<span>&lt;/<span>div</span>&gt;</span></span>
</code></pre>
<p>The <code>resize()</code> function simply sets the width of the button as the slider range value so that, it can be resized dynamically.</p>
<pre><code><span>const</span> resize = event =&gt; {
   <span>const</span> value = event.target.valueAsNumber;
   setRangeValue(value);
   <span>let</span> dumbBtn = <span>document</span>.getElementById(<span>'dumbBtnId'</span>);
   dumbBtn.style.width = <span>`<span>${value}</span>px`</span>;
 }
</code></pre>
<p>So far, so good? Now for every range value change, the button gets resized. We have a <code>ResizeObserver</code> observing this change and change the color of the button text.</p>
<pre><code>useEffect(() =&gt; {
   <span>try</span> {
            <span>let</span> dumbBtn = <span>document</span>.getElementById(<span>'dumbBtnId'</span>);
            <span>var</span> resizeObserver = <span>new</span> ResizeObserver(entries =&gt; {
                <span>for</span>(<span>const</span> entry <span>of</span> entries) {
                    
                    
                   entry.target.style.color = <span>'green`;
                }
      });
      resizeObserver.observe(dumbBtn);
   } catch(e) {
            setSupported(false);
            console.log(e);      
   }
}, [rangeValue]);</span>
</code></pre>
<p>Direct link to the demo: <a target="_blank" href="https://demo.greenroots.info/web-apis/web-api-resize-observer/">https://demo.greenroots.info/web-apis/web-api-resize-observer/</a></p>
<h2 id="4-image-capture-api">4. üì∑ Image Capture API</h2>
<p>There are some cool and useful APIs around user media like, audio, video etc. I love the <code>Image Capture API</code> which helps us to capture an image or grab a frame from the video devices(like webcam). Not only that, you can also perform actions on capturing an image or grabbing a frame.</p>
<p>First, get the user media access. In this case we are getting the webcam access.</p>
<pre><code>navigator.mediaDevices.getUserMedia({video: <span>true</span>})
  .then(mediaStream =&gt; {
     <span>document</span>.querySelector(<span>'video'</span>).srcObject = mediaStream;
     <span>const</span> track = mediaStream.getVideoTracks()[<span>0</span>];
     setTrack(track);
  }).catch(error =&gt; {
     <span>console</span>.error(<span>` <span>${error}</span> is not yet supported`</span>);
     setError(error);
});
</code></pre>
<p>Just like the clipboard paste operation, a webcam media access permission has to be granted by the user.</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1598717565379/MCRNY49Tl.png?auto=format&amp;q=60" alt="image.png"></p>
<p>Now Grab a frame and do something. In this example, I am just drawing the frame on a Canvas.</p>
<pre><code><span>const</span> imageCapture = <span>new</span> ImageCapture(track);
    imageCapture.grabFrame()
      .then(imageBitmap =&gt; {
          <span>const</span> canvas = <span>document</span>.querySelector(<span>'#grabFrameCanvas'</span>);
          drawCanvas(canvas, imageBitmap);
    }).catch(error =&gt; {
          <span>console</span>.log(error);
          setError(error);
});
</code></pre>
<p>I can also take a picture and do the similar thing.</p>
<pre><code><span>const</span> imageCapture = <span>new</span> ImageCapture(track);
    imageCapture.takePhoto().then(blob =&gt; createImageBitmap(blob))
      .then(imageBitmap =&gt; {
          <span>const</span> canvas = <span>document</span>.querySelector(<span>'#takePhotoCanvas'</span>);
          drawCanvas(canvas, imageBitmap);
    }).catch(error =&gt; {
          <span>console</span>.log(error);
          setError(error);
});
</code></pre>
<p>To stop the video streaming from the webcam, just call he method <code>stop()</code> on the running video track.</p>
<pre><code><span>const</span> videoOff = () =&gt; {
   track.stop();
 }
</code></pre>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1598717833234/MPOxVZ92M.png?auto=format&amp;q=60" alt="chrome_Umvi16wUlu.png"></p>
<p>Also watch out for the methods,</p>
<ul>
<li><code>getPhotoCapabilities()</code>: To get the ranges of available configuration options.</li>
<li><code>getPhotoSettings()</code>: To get the current photo configuration settings.</li>
</ul>
<p>Direct link to the demo: <a target="_blank" href="https://demo.greenroots.info/web-apis/web-apis-image-capture/">https://demo.greenroots.info/web-apis/web-apis-image-capture/</a></p>
<h2 id="5-broadcast-channel-api">5. üì° Broadcast Channel API</h2>
<p>The <code>Broadcast Channel API</code> allows communication between browsing contexts (windows, tabs, iframes) and workers on the <strong>same origin</strong>. Think of a use-case like, once you logout from an app running in a browser tab, you want to broadcast it to the app instances opened in other tabs of the same browser.</p>
<p>Here is an example where a sender is sending a message to the receiver and the same is being ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.greenroots.info/10-lesser-known-web-apis-you-may-want-to-use-ckejv75cr012y70s158n85yhn">https://blog.greenroots.info/10-lesser-known-web-apis-you-may-want-to-use-ckejv75cr012y70s158n85yhn</a></em></p>]]>
            </description>
            <link>https://blog.greenroots.info/10-lesser-known-web-apis-you-may-want-to-use-ckejv75cr012y70s158n85yhn</link>
            <guid isPermaLink="false">hacker-news-small-sites-24350647</guid>
            <pubDate>Wed, 02 Sep 2020 06:44:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A round-up of topology-based papers at ICML 2020]]>
            </title>
            <description>
<![CDATA[
Score 74 | Comments 3 (<a href="https://news.ycombinator.com/item?id=24350436">thread link</a>) | @Topolomancer
<br/>
September 1, 2020 | https://bastian.rieck.me/blog/posts/2020/icml_topology_roundup/ | <a href="https://web.archive.org/web/*/https://bastian.rieck.me/blog/posts/2020/icml_topology_roundup/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p>With this year‚Äôs <a href="https://icml.cc/Conferences/2020">International Conference on Machine Learning&nbsp;(ICML)</a>
being over, it is time to have another instalment of this series.
Similar to <a href="http://bastian.rieck.me/blog/posts/2019/icml_tda_roundup/">last year‚Äôs post</a>, I shall cover
several papers that caught my attention because of their use of
topological concepts‚Äîhowever, <em>unlike</em> last year, I shall not
restrict the selection to papers using <a href="https://en.wikipedia.org/wiki/Topological_data_analysis">topological data analysis&nbsp;(TDA)</a>.</p>
<p><strong>Caveat lector:</strong> I might have missed some promising papers. Any
suggestions for additions are more than welcome! Please reach out
to me via <a href="https://twitter.com/Pseudomanifold">Twitter</a> or
<a href="mailto:bastian@rieck.me">e-mail</a>.</p>

<div>
<figure>
    <img src="https://bastian.rieck.me/images/icml20_chen.png" alt="Learning Flat Latent Manifolds with VAEs" width="500"> 
</figure>

</div>
<p><a href="https://arxiv.org/abs/2002.04881">Learning Flat Latent Manifolds with VAEs</a>
by <a href="https://argmax.ai/team/nutan-chen">Nutan Chen</a>, <a href="https://www.argmax.ai/team/alexej-klushyn">Alexej Klushyn</a>,
Francesco Ferroni, <a href="http://bayerj.github.io/">Justin Bayer</a>, and
<a href="https://argmax.ai/team/patrick-van-der-smagt">Patrick van der Smagt</a>
discusses an interesting modification of variational autoencoders, viz.
an extended loss term that regularises the latent space to be
<em>flat</em>&nbsp;(i.e. having no <a href="https://en.wikipedia.org/wiki/Curvature">curvature</a>).
The main idea is to ensure that the <a href="https://en.wikipedia.org/wiki/Metric_tensor">Riemannian metric tensor</a>
is the identity matrix.</p>
<p>The ingenious implication of such a latent space is that the Euclidean
distance is a good proxy for the similarity between data points, whereas
this is <em>not</em> a priori the case for other latent spaces. It is interesting
to note that there is a ‚Äòsibling‚Äô paper to this one, which was published
at ICLR 2020, namely <a href="https://openreview.net/pdf?id=S1g6xeSKDS">Mixed-curvature Variational Autoencoders</a>.
This paper presents an autoencoder whose latent space is a product of
Riemannian manifolds, whose curvature is either fixed or learnable.</p>
<p>I am glad to see that curvature is starting to attract more attention
from the machine learning community. It is such a fundamental property
of a manifold but can influence the validity of many calculations in
latent spaces. It also has some beneficial properties for <a href="https://openreview.net/pdf?id=BylEqnVFDB">graph
classification</a>, but this is
maybe a better topic for a subsequent post!</p>

<div>
<figure>
    <img src="https://bastian.rieck.me/images/icml20_hoferb.png" alt="Graph Filtration Learning" width="500"> 
</figure>

</div>
<p><a href="https://arxiv.org/abs/1905.10996">Graph Filtration Learning</a> by
<a href="https://www.researchgate.net/profile/Christoph_Hofer8">Christoph Hofer</a>,
<a href="https://www.uni-salzburg.at/index.php?id=213185&amp;L=1">Florian Graf</a>,
<a href="https://bastian.rieck.me/">Bastian Rieck</a>,
<a href="http://wwwx.cs.unc.edu/~mn/?q=content/overview">Marc Niethammer</a>, and
<a href="https://rkwitt.github.io/">Roland Kwitt</a> is arguably<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup> the first step
towards properly integrating topological features into neural networks
for graph classification! Briefly put, we developed a homological
<code>READOUT</code> function&nbsp;(to use the parlance of graph neural networks)
that gives rise to a learnable filter function‚Äîa <em>filtration</em>.</p>
<p>This concept might be unknown to some readers, but a filtration in this
context is a scalar-valued function on the vertices of a graph that
permits <em>sorting</em> it. Filtrations serve as the backbone for many
topology-based algorithms, primarily for the aforementioned <a href="https://christian.bock.ml/posts/persistent_homology/">persistent homology</a>,
which permits us to study multi-scale topological
features&nbsp;(connected components, cycles, etc.) of an object.
Prior to this paper, filtrations were pre-defined or chosen based on
some target function, such as the vertex degree function of a graph. Our
approach changes this‚Äîleading to a filtration that is learnable in an
end-to-end fashion and thus specifically designed for a classification
problem.</p>
<p>We manage to achieve this by first initialising our filter function
based on a regular graph neural network; essentially, one level of
message passing between nodes is sufficient. This provides us with
a non-trivial filter function whose performance we can subsequently
adjust by calculating the topological features induced by said filter,
and vectorising the resulting representations. Since each of these steps
is differentiable<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup>, the resulting function is also differentiable,
making it possible to adjust the filter for the best classification
results.</p>
<p>I would recommend this paper to anyone who is interested in learning
more about the benefits that a topology-based perspective brings to
certain application problems. Being able to learn the <em>right</em> topological features
to classify a set of graphs opens up exciting opportunities.</p>

<div>
<figure>
    <img src="https://bastian.rieck.me/images/icml20_hofera.png" alt="Topologically Densified Distribution" width="500"> 
</figure>

</div>
<p><a href="https://arxiv.org/abs/2002.04805">Topologically Densified Distributions</a>
by <a href="https://www.researchgate.net/profile/Christoph_Hofer8">Christoph Hofer</a>,
<a href="https://www.uni-salzburg.at/index.php?id=213185&amp;L=1">Florian Graf</a>,
<a href="http://wwwx.cs.unc.edu/~mn/?q=content/overview">Marc Niethammer</a>, and
<a href="https://rkwitt.github.io/">Roland Kwitt</a> studies regularisation properties of
over-parametrised neural networks in the context of small sample-size learning.
This is achieved by studying the properties of latent
representations&nbsp;(the paper uses the term <em>internal representation</em>,
but this is equivalent). More precisely, generalisation properties are
analysed via the <a href="https://en.wikipedia.org/wiki/Pushforward_measure">push-forward probability measure</a>
induced by the latent representation&nbsp;(or <em>encoding</em>).</p>
<p>The authors show that probability mass concentration around training
samples in the latent space is linked to the generalisation capabilities
of a model, but, even more exciting, such a concentration can be achieved by applying
topological constraints on samples from that space! In the context of
this paper, such constraints pertain to measuring the <em>connectivity</em> of
samples. This is achieved using <a href="https://christian.bock.ml/posts/persistent_homology/">persistent homology</a>, specifically,
by calculating a zero-dimensional Vietoris‚ÄìRips complex‚Äîif you are
not familiar with this term, just think of a minimum spanning tree.</p>
<p>What I particularly enjoyed about this paper is that it starts providing
solid answers to fundamental concepts in machine learning. All too often,
we remain in the realm of the empirical and just <em>observe</em> whether our
network generalises. This paper ventures into hitherto-unknown territories
and gives us a theoretical justification!</p>

<div>
<figure>
    <img src="https://bastian.rieck.me/images/icml20_moor.png" alt="Topological Autoencoders" width="250"> 
</figure>

</div>
<p><a href="https://arxiv.org/abs/1906.00722">Topological Autoencoders</a> by
<a href="https://michaelmoor.ml/">Michael Moor</a>,
<a href="https://expectationmax.github.io/">Max Horn</a>,
<a href="https://bastian.rieck.me/">Bastian Rieck</a>, and
<a href="https://bsse.ethz.ch/mlcb/karsten.html">Karsten Borgwardt</a> deals with
regularising the latent space in terms of its topology. More precisely,
we preserve the topological features of the input data in the respective
latent space&nbsp;(on the batch level, respectively). While we restrict
our experiments to connected components for now&nbsp;(so no cycles
yet, even though our method generalises to higher dimensions),
our approach makes it possible to create latent representations
that ‚Äòmimic‚Äô the topological features of the input.</p>
<p>This leads to a nice plug-and-play loss term that can be easily
integrated into most architectures, and we can demonstrate that, among
others, it considerably improves the quality of a ‚Äòvanilla‚Äô autoencoder
architecture. To achieve this goal, we had to solve all kinds of
interesting adventures, one of them being how to make everything
differentiable. Interestingly, we end up with a similar necessary
condition for differentiability than for the graph filtration learning
paper, viz. the pairwise distances between different samples of the
input batch need to be <em>unique</em>.</p>
<p>The coolest feature of our method is that it technically <em>only</em> requires
a distance metric between input samples<sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup>, nothing more‚Äîno feature
vector representation or anything. It can thus conceivably be used to
represent the topology of any object you fancy&nbsp;(including
documents, images, and graphs).</p>
<p>If you are interested in a beautifully-animated high-level introduction
to this publication, you should take the time to read Michael‚Äôs <a href="https://michaelmoor.ml/blog/topoae/main/">blog post on our paper</a>.</p>

<div>
<figure>
    <img src="https://bastian.rieck.me/images/icml20_rezende.png" alt="Normalizing Flows on Tori and Spheres" width="500"> 
</figure>

</div>
<p><a href="https://arxiv.org/abs/2002.02428">Normalizing Flows on Tori and Spheres</a> by
<a href="https://danilorezende.com/">Danilo Jimenez Rezende</a>,
<a href="https://gpapamak.github.io/">George Papamakarios</a>,
<a href="https://scholar.google.com/citations?user=o-h0vrQAAAAJ">S√©bastien Racani√®re</a>,
<a href="http://malbergo.me/">Michael S. Albergo</a>,
<a href="https://scholar.google.com/citations?user=zK77P6MAAAAJ">Gurtej Kanwar</a>,
<a href="https://web.mit.edu/physics/people/faculty/shanahan_phiala.html">Phiala E.  Shanahan</a>,
and <a href="http://theoryandpractice.org/">Kyle Cranmer</a>
present a novel method for calculating normalising flows on more complex
spaces than the usual Euclidean ones. Specifically, as the title
implies, they develop methods for calculating such flows on tori and
spheres.</p>
<p>What I enjoyed about this paper is the smart way of constructing flows
iteratively: first, flows on the circle are being constructed&nbsp;(using
different concepts for defining a <a href="https://en.wikipedia.org/wiki/Diffeomorphism">diffeomorphism</a>, the most favourite of
mine being a <a href="https://en.wikipedia.org/wiki/M%C3%B6bius_transformation">M√∂bius transformation</a>).
Since a torus can be described as the Cartesian product of circles, this
is sufficient to describe flows on tori of arbitrary dimensions! Next,
the flows are generalised to higher-dimensional spheres.</p>
<p>While I am by no means and expert in normalising flows, I liked
reading this paper a lot. The theory is well-developed and it is another
one of those publications that shows you how to go beyond the boundaries
of what is currently possible. Moreover, I enjoyed the discussion of the
implementation details‚Äîit turns out that achieving numerical stability
here is another feat that deserves some mention!</p>

<p>This year‚Äôs ICML also featured an interesting array of topology-based
papers. Not all of them fit neatly into the field of topological data
analysis&nbsp;(TDA), but I am happy to see that the community is
starting to pick up this fundamental topic. I remain convinced that
a topology-driven perspective is needed to answer certain foundational
questions in machine learning. Here‚Äôs to the future of topology!</p>
<section role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>Even if say so myself. <a href="#fnref:1" role="doc-backlink">‚Ü©Ô∏é</a></p>
</li>
<li id="fn:2" role="doc-endnote">
<p>Under mild assumptions, viz. provided that the filter function
values are unique for each vertex. This can always be achieved by
a small symbolic perturbation. <a href="#fnref:2" role="doc-backlink">‚Ü©Ô∏é</a></p>
</li>
<li id="fn:3" role="doc-endnote">
<p>Practically, it might not even require the properties of a metric,
although the mathematician in me is screaming at the horrors of this
thought. <a href="#fnref:3" role="doc-backlink">‚Ü©Ô∏é</a></p>
</li>
</ol>
</section>

      </div></div>]]>
            </description>
            <link>https://bastian.rieck.me/blog/posts/2020/icml_topology_roundup/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24350436</guid>
            <pubDate>Wed, 02 Sep 2020 06:03:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[NeoAxis Game Engine 2020.5]]>
            </title>
            <description>
<![CDATA[
Score 53 | Comments 10 (<a href="https://news.ycombinator.com/item?id=24348494">thread link</a>) | @IvanEfimov
<br/>
September 1, 2020 | https://www.neoaxis.com/news/neoaxis_engine_2020_5_released | <a href="https://web.archive.org/web/*/https://www.neoaxis.com/news/neoaxis_engine_2020_5_released">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
          <div><p>NeoAxis company releases a new version of NeoAxis Engine, an integrated development environment with built-in 3D and 2D game engine. The environment can be used to develop all kinds of 3D and 2D projects such as computer games, visual trainers, VR systems, to visualize processes and develop windowed applications.</p>
<p>In this release, the engine has been translated to .NET Core 3.1 from .NET Framework, has been added support for Visual Studio Code, Rider and other C# IDEs, the editor has been improved and optimized, in the launcher you can now create Window App projects, also examples of creating add-ons have been added to the Assets\Samples\Addons folder.</p>
<p><a href="https://www.neoaxis.com/images/2020_5/NeoAxis_2020_5_ScifiDemo.png"><img src="https://www.neoaxis.com/images/2020_5/NeoAxis_2020_5_ScifiDemo.jpg" alt="" width="900"></a></p>
<h2>.NET Core 3.1</h2>
<p>In this release, the engine was upgraded to .NET Core 3.1, previously .NET Framework 4.6 was used. This gave a performance improvement. The engine and editor are noticeably faster. Now the created application does not require .NET installation, it is included into the project. It is also now easy to update the project to newer versions of .NET such as .NET 5.</p>
<h2>Support for Visual Studio Code, Rider and other C# IDEs</h2>
<p>Project compilation is now supported using any IDE that supports C# and .NET Core 3.1.</p>
<h2>Window app creation</h2>
<p>The ability to create windowed applications has been improved. When creating a new project, you can choose a Window App template, with which you can set the initial settings. The engine includes its own GUI system and GUI designer. This allows you to create full-fledged windowed applications, however, creating of windowed applications is still a new feature of NeoAxis.</p>
<p><a href="https://www.neoaxis.com/images/2020_5/NeoAxis_2020_5_GUIEditor.png"><img src="https://www.neoaxis.com/images/2020_5/NeoAxis_2020_5_GUIEditor.png" alt="" width="600"></a></p>
<p><a href="https://www.neoaxis.com/images/2020_4/NeoAxisEngine_2020_4_Windowed_Apps.png"><img src="https://www.neoaxis.com/images/2020_4/NeoAxisEngine_2020_4_Windowed_Apps.png" alt="" width="600"></a></p>
<h2>Editor improvements</h2>
<p>The editor has improved the work with windows and the performance. In total, the editor is now a user-friendly, polished application.</p>
<p><a href="https://www.neoaxis.com/images/2020_5/NeoAxis_2020_5_StartPage.png"><img src="https://www.neoaxis.com/images/2020_5/NeoAxis_2020_5_StartPage.png" alt="" width="600"></a></p>
<h2>Changelog</h2>
<p>Full changelog:</p>
<ul>
<li>Switch to .NET Core 3.1 from .NET Framework 4.6. It works faster. Now you can easy upgrade your project to latest .NET as example to .NET 5.0.</li>
<li>Support for Visual Studio Code, Rider and other C# IDEs.</li>
<li>More polished GUI of the editor. Made very big amount of improvements and fixes.</li>
<li>Much better performance of the engine and the editor.</li>
<li>Better compilation support for built-in editor Project.csproj when run NeoAxis Player while the editor is loaded.</li>
<li>UWP build support has been simplified.</li>
<li>The examples of creation add-ons for the editor now available in Assets\Samples\Addons.</li>
<li>The template for window app creation has been added to the Launcher.</li>
<li>Component classes have been updated for better cross-platform support. System.Windows.Form.dll, System.Drawing.dll now are not used by the project DLLs (NeoAxis.CoreExtension.dll, Project.dll, add-ons).</li>
<li>NeoAxis.Core.dll now has no references to another DLLs. It made easier to manage references for libraries because need just one reference to core DLL.</li>
</ul>
<h2>More screenshots</h2>
<p><a href="https://www.neoaxis.com/images/2020_3/NeoAxis_2020_3_CharacterScene.png"><img src="https://www.neoaxis.com/images/2020_3/NeoAxis_2020_3_CharacterScene.jpg" alt="" width="900"></a></p>
<p><a href="https://www.neoaxis.com/images/2020_3/NeoAxis_2020_3_NatureDemo.png"><img src="https://www.neoaxis.com/images/2020_3/NeoAxis_2020_3_NatureDemo.jpg" alt="" width="900"></a></p>
<p><a href="https://www.neoaxis.com/images/2019_3/NeoAxisEngine_NatureDemo01.jpg"><img src="https://www.neoaxis.com/images/2019_3/NeoAxisEngine_NatureDemo01.jpg" alt="" width="900"></a></p>
<p><a href="https://www.neoaxis.com/images/2019_3/NeoAxisEngine_NatureDemo02.jpg"><img src="https://www.neoaxis.com/images/2019_3/NeoAxisEngine_NatureDemo02.jpg" alt="" width="900"></a></p>
<p><a href="https://www.neoaxis.com/images/2019_3/NeoAxisEngine_NatureDemo03.jpg"><img src="https://www.neoaxis.com/images/2019_3/NeoAxisEngine_NatureDemo03.jpg" alt="" width="900"></a></p>
<p><a href="https://www.neoaxis.com/images/2020_3/NeoAxis_2020_3_Builder3D.png"><img src="https://www.neoaxis.com/images/2020_3/NeoAxis_2020_3_Builder3D.png" alt="" width="900"></a></p>
<p><a href="https://www.neoaxis.com/images/2020_3/NeoAxis_2020_3_CSharpEditor.png"><img src="https://www.neoaxis.com/images/2020_3/NeoAxis_2020_3_CSharpEditor.png" alt="" width="900"></a></p>
<p><a href="https://www.neoaxis.com/images/2020_3/NeoAxis_2020_3_Character2D.png"><img src="https://www.neoaxis.com/images/2020_3/NeoAxis_2020_3_Character2D.png" alt="" width="900"></a></p>
<p><a href="https://www.neoaxis.com/images/2020_3/NeoAxis_2020_3_Spaceship2D.png"><img src="https://www.neoaxis.com/images/2020_3/NeoAxis_2020_3_Spaceship2D.jpg" alt="" width="900"></a></p>
<p><a href="https://www.neoaxis.com/images/2020_3/NeoAxis_2020_3_MaterialEditor.png"><img src="https://www.neoaxis.com/images/2020_3/NeoAxis_2020_3_MaterialEditor.png" alt="" width="900"></a></p>
<p><a href="https://www.neoaxis.com/images/2020_3/NeoAxis_2020_3_MaterialScript.png"><img src="https://www.neoaxis.com/images/2020_3/NeoAxis_2020_3_MaterialScript.png" alt="" width="900"></a></p>
<p><a href="https://www.neoaxis.com/images/2020_3/NeoAxis_2020_3_RenderTargetIn3D.png"><img src="https://www.neoaxis.com/images/2020_3/NeoAxis_2020_3_RenderTargetIn3D.jpg" alt="" width="900"></a></p>
<p><a href="https://www.neoaxis.com/images/2020_3/NeoAxis_2020_3_ShaderEditor.png"><img src="https://www.neoaxis.com/images/2020_3/NeoAxis_2020_3_ShaderEditor.png" alt="" width="900"></a></p>
<p><a href="https://www.neoaxis.com/images/2020_3/NeoAxis_2020_3_ScreenSpaceEffect.png"><img src="https://www.neoaxis.com/images/2020_3/NeoAxis_2020_3_ScreenSpaceEffect.png" alt="" width="900"></a></p>
<p><a href="https://www.neoaxis.com/images/2020_3/NeoAxis_2020_3_UIEditor.png"><img src="https://www.neoaxis.com/images/2020_3/NeoAxis_2020_3_UIEditor.png" alt="" width="900"></a></p>
<h2>See also</h2>
<ul>
<li><a href="https://www.neoaxis.com/neoaxis/overview">Overview of NeoAxis Engine</a></li>
<li><a href="https://www.neoaxis.com/neoaxis/downloads">Download</a></li>
<li><a href="https://www.neoaxis.com/neoaxis/roadmap">Roadmap</a></li>
<li><a href="https://www.neoaxis.com/support/changelog">Changelog</a></li>
</ul>
</div>
      </div>
</div></div>]]>
            </description>
            <link>https://www.neoaxis.com/news/neoaxis_engine_2020_5_released</link>
            <guid isPermaLink="false">hacker-news-small-sites-24348494</guid>
            <pubDate>Tue, 01 Sep 2020 23:51:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Transit Costs Project]]>
            </title>
            <description>
<![CDATA[
Score 108 | Comments 40 (<a href="https://news.ycombinator.com/item?id=24346681">thread link</a>) | @plc95
<br/>
September 1, 2020 | https://transitcosts.com/about/ | <a href="https://web.archive.org/web/*/https://transitcosts.com/about/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
		<a href="#content">Skip to content</a>

	<div id="boxed-wrapper">
		
		<div id="wrapper">
			
			
				
			<header>
				
				
			</header>
							
				
		
				
				
			
			

						<main id="main">
				<div>
<section id="content">
					<div id="post-107" class="page">
			<span>About</span><span><span><a href="https://transitcosts.com/author/admin/" title="Posts by admin" rel="author">admin</a></span></span><span>2020-09-02T11:41:52-04:00</span>
			
			<div>
				<div><div><div><div><div><p><span>Why do transit-infrastructure projects in New York cost 20 times more on a per kilometer basis than in Seoul? W</span><span>e investigate this question across hundreds of transit projects from around the world. We have created a database that spans more than 50 countries and totals more than 11,000 km of urban rail built since the late 1990s. We will also examine this question in greater detail by carrying out six in-depth case studies that take a closer look at unique considerations and variables that aren‚Äôt easily quantified, like project management, governance, and site conditions.</span></p>
<p>The goal of this work is to figure out how to deliver more high-capacity transit projects for a fraction of the cost in countries like the United States. Additionally, we hope that our site will be a useful resource for elected officials, planners, researchers, journalists, advocates, and others interested in contextualizing transit-infrastructure costs and fighting for better projects.</p>
<p><span>If you have ideas and evidence about why transit costs vary so greatly from one country to the next or you just want to connect with us, please get in touch at info@transitcosts.com or click on the ‚ÄúContact Us‚Äù tab. We are always looking for new projects, data, corrections, resources, and feedback.&nbsp;&nbsp;</span></p>
<p><span>We are a group of researchers under the umbrella of the NYU Marron Institute of Urban Management, but our team is spread across the globe.</span></p>
</div></div></div></div></div><div><div><div><div><div><div><div><img loading="lazy" width="142" height="137" src="https://transitcosts.com/wp-content/uploads/2020/08/Goldwyn_BW2.jpg" alt="Eric Goldwyn"></div></div><div><div><div><span>Eric Goldwyn</span><span>Research Scholar</span></div></div><div>Eric is a Research Scholar in the Director‚Äôs Office at the Marron Institute. He received his Ph.D. in Urban Planning from Columbia University. He teaches courses on urban planning and urban studies and his writing on cities and transportation technology has been published in academic journals and popular press outlets. Before starting this project, Eric and Alon worked together on a proposal to redesign Brooklyn‚Äôs Bus Network.</div></div></div></div></div><div><div><div><div><div><img loading="lazy" width="137" height="137" src="https://transitcosts.com/wp-content/uploads/alon_levy.jpg" alt="Alon Levy"></div></div><div><div><div><span>Alon Levy</span><span>Research Scholar</span></div></div><div>Alon Levy grew up in Tel Aviv and Singapore and has lived in the French Riviera, New York, Providence, Vancouver, and Stockholm, and is currently based in Berlin. While earning a Ph.D. in math at Columbia, Alon picked up an interest in public transportation networks, starting from the New York City Subway, and has been investigating how to apply best industry practices from a variety of cities around the world. Alon‚Äôs perspective is comparative, with interests including network design, integrated planning of transportation and development, and cost control.</div></div></div></div></div><div><div><div><div><div><img loading="lazy" width="137" height="137" src="https://transitcosts.com/wp-content/uploads/elif_ensari.jpg" alt="Elif Ensari"></div></div><div><div><div><span>Elif Ensari</span><span>Research Scholar</span></div></div><div>Elif was trained as an architect specializing in architectural design computing. She holds a master‚Äôs degree from Southern California Institute of Architecture (SciARC) and a dual Ph.D. degree from Istanbul Technical University and University of Lisbon. Her research utilizes urban analytics to support design and planning for sustainable mobility. She has taught at Istanbul Bilgi, Kadir Has and Izmir Economy Universities. Prior to joining the Marron Institute at NYU, she provided design computing, spatial analysis and visualization services as part of research collaborative Bits‚Äôn Bricks in Istanbul. </div></div></div></div></div></div></div><div><div><div><div><div><div><div><img loading="lazy" width="137" height="137" src="https://transitcosts.com/wp-content/uploads/anan_maalouf.jpg" alt="Anan Maalouf"></div></div><div><div><div><span>Anan Maalouf</span><span>Research Assistant</span></div></div><div>Anan A. Maalouf is an Urban Planner and a Ph.D. student of Urban and Public Policy at Milano School of Policy, Management, and Environment (The New School). He earned his M.Sc. of Urban and Regional Planning from the Technion IIT (2018), his thesis focused on the relationship between urban forms and technological alterations. Before moving to New York, Maalouf served as Nazareth Mayor‚Äôs Assistant (2012-2013), and as MP Ayman Odeh Chief of Staff and Senior Advisor (2015-2018). Anan works currently at The Arab Center for Alternative Planning (ACAP) and is a teaching assistant of GIS at The New School and Introduction to Urban Studies at Barnard College. </div></div></div></div></div><div><div><div><div><div><img loading="lazy" width="137" height="137" src="https://transitcosts.com/wp-content/uploads/dahir_abdirashid.jpg" alt="Abdirashid Dahir"></div></div><div><div><div><span>Abdirashid Dahir</span><span>Research Assistant</span></div></div><div>Dahir works on sustainable transport projects in Seoul, South Korea. He holds BSc in Civil Engineering, and MSc in Transportation Engineering from the University of Seoul. He has completed Master‚Äôs Thesis funded by the National Institute of International Education Development (NIIED) as part of prestigious Global Korea Scholarship (GKS).</div></div></div></div></div><div><div><div><div><div><img loading="lazy" width="137" height="137" src="https://transitcosts.com/wp-content/uploads/yinan_yao.jpg" alt="Yinan Yao"></div></div><div><div><div><span>Yinan Yao</span><span>Research Assistant</span></div></div><div>Yinan was born and raised in mainland China, a country which has witnessed vast, ongoing urban rail construction in the past few decades. She works as a research assistant for the Transit Costs Project, collecting and visualizing data from China. Yinan graduated from China Foreign Affairs University with a LL.B., and earned her MPA in Public Policy Analysis from New York University.</div></div></div></div></div></div></div>
							</div>
																													</div>
	</section>
						
					</div>  <!-- fusion-row -->
				</main>  <!-- #main -->
				
				
								
					
		 <!-- fusion-footer -->

		
					

												</div> <!-- wrapper -->
		</div> <!-- #boxed-wrapper -->
		
		
		
		<a></a>

		

			
		

</div>]]>
            </description>
            <link>https://transitcosts.com/about/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24346681</guid>
            <pubDate>Tue, 01 Sep 2020 20:30:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Best Practices for Testing in Java (2019)]]>
            </title>
            <description>
<![CDATA[
Score 92 | Comments 64 (<a href="https://news.ycombinator.com/item?id=24346195">thread link</a>) | @moks
<br/>
September 1, 2020 | https://phauer.com/2019/modern-best-practices-testing-java/ | <a href="https://web.archive.org/web/*/https://phauer.com/2019/modern-best-practices-testing-java/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
              <nav id="TableOfContents">
  <ul>
    <li><a href="#tldr">TL;DR</a></li>
    <li><a href="#general">General</a>
      <ul>
        <li><a href="#given-when-then">Given, When, Then</a></li>
        <li><a href="#use-the-prefixes-actual-and-expected">Use the Prefixes ‚Äúactual*‚Äù and ‚Äúexpected*‚Äù</a></li>
        <li><a href="#use-fixed-data-instead-of-randomized-data">Use Fixed Data Instead of Randomized Data</a></li>
      </ul>
    </li>
    <li><a href="#write-small-and-specific-tests">Write Small and Specific Tests</a>
      <ul>
        <li><a href="#heavily-use-helper-functions">Heavily Use Helper Functions</a></li>
        <li><a href="#dont-overuse-variables">Don‚Äôt Overuse Variables</a></li>
        <li><a href="#dont-extend-existing-tests-to-just-test-one-more-tiny-thing">Don‚Äôt Extend Existing Tests To ‚ÄúJust Test One More Tiny Thing‚Äù</a></li>
        <li><a href="#assert-only-what-you-want-to-test">Assert Only What You Want to Test</a></li>
      </ul>
    </li>
    <li><a href="#self-contained-tests">Self-Contained Tests</a>
      <ul>
        <li><a href="#dont-hide-the-relevant-parameters-in-helper-functions">Don‚Äôt Hide the Relevant Parameters (in Helper Functions)</a></li>
        <li><a href="#insert-test-data-right-in-the-test-method">Insert Test Data Right In The Test Method</a></li>
        <li><a href="#favor-composition-over-inheritance">Favor Composition Over Inheritance</a></li>
      </ul>
    </li>
    <li><a href="#dumb-tests-are-great-compare-the-output-with-hard-coded-values">Dumb Tests Are Great: Compare the Output with Hard-Coded Values</a>
      <ul>
        <li><a href="#dont-reuse-production-code">Don‚Äôt Reuse Production Code</a></li>
        <li><a href="#dont-rewrite-production-logic">Don‚Äôt Rewrite Production Logic</a></li>
        <li><a href="#dont-write-too-much-logic">Don‚Äôt Write Too Much Logic</a></li>
      </ul>
    </li>
    <li><a href="#test-close-to-the-reality">Test Close To The Reality</a>
      <ul>
        <li><a href="#focus-on-testing-a-complete-vertical-slide">Focus on Testing A Complete Vertical Slide</a></li>
        <li><a href="#dont-use-in-memory-databases-for-tests">Don‚Äôt Use In-Memory Databases For Tests</a></li>
      </ul>
    </li>
    <li><a href="#javajvm">Java/JVM</a>
      <ul>
        <li><a href="#use--noverify--xxtieredstopatlevel1">Use -noverify -XX:TieredStopAtLevel=1</a></li>
        <li><a href="#use-assertj">Use AssertJ</a></li>
        <li><a href="#avoid-asserttrue-and-assertfalse">Avoid assertTrue() and assertFalse()</a></li>
        <li><a href="#use-junit5">Use JUnit5</a>
          <ul>
            <li><a href="#use-parameterized-tests">Use Parameterized Tests</a></li>
            <li><a href="#group-the-tests">Group the Tests</a></li>
            <li><a href="#readable-test-names-with-displayname-or-kotlins-backticks">Readable Test Names with @DisplayName or Kotlin‚Äôs Backticks</a></li>
          </ul>
        </li>
        <li><a href="#mock-remote-service">Mock Remote Service</a></li>
        <li><a href="#use-awaitility-for-asserting-asynchronous-code">Use Awaitility for Asserting Asynchronous Code</a></li>
        <li><a href="#no-need-to-bootstrap-di-spring">No Need to Bootstrap DI (Spring)</a></li>
      </ul>
    </li>
    <li><a href="#make-the-implementation-testable">Make The Implementation Testable</a>
      <ul>
        <li><a href="#dont-use-static-access-never-ever">Don‚Äôt Use Static Access. Never. Ever.</a></li>
        <li><a href="#parameterize">Parameterize</a></li>
        <li><a href="#use-constructor-injection">Use Constructor Injection</a></li>
        <li><a href="#dont-use-instantnow-or-new-date">Don‚Äôt Use Instant.now() or new Date()</a></li>
        <li><a href="#separate-asynchronous-execution-and-actual-logic">Separate Asynchronous Execution and Actual Logic</a></li>
      </ul>
    </li>
    <li><a href="#kotlin">Kotlin</a></li>
  </ul>
</nav>


              <p>Maintainable and readable test code is crucial to establish a good test coverage which in turn enables implementing new features and performing refactorings without the fear of breaking something. This post contains many best practices that I collected over the years of writing unit tests and integration tests in Java. It involves modern technologies like JUnit5, AssertJ, Testcontainers, and Kotlin. Some recommendations might be obvious to you, but some might conflict with what you‚Äôve read in books about software development and testing.</p>

              
              <p>
                <img src="https://phauer.com/blog/2019/06-modern-best-practices-testing-java/featured-image-large.png" alt="Modern Best Practices for Testing in Java">
              </p>
              

              
              

<ul>
<li><strong>Write small and specific tests</strong> by heavily using helper functions, parameterized tests, AssertJ‚Äôs powerful assertions, not overusing variables, asserting only what‚Äôs relevant and avoiding one test for all corner cases.</li>
<li><strong>Write self-contained tests</strong> by revealing all relevant parameters, insert data right in the test and prefer composition over inheritance.</li>
<li><strong>Write dumb tests</strong> by avoiding the reuse of production code and focusing on comparing output values with hard-coded values.</li>
<li><strong>KISS &gt; DRY</strong></li>
<li><strong>Test close to production</strong> by focusing on testing a complete vertical slide and avoiding in-memory databases.</li>
<li>JUnit5 and AssertJ are a very good choice.</li>
<li>Invest in a testable implementation by avoiding static access, using constructor injection, using <code>Clocks</code> and separating business logic from asynchronous execution.</li>
</ul>

<h2 id="given-when-then">Given, When, Then</h2>
<p>A test should contain three blocks which are separated by one empty line. Each block of code should be as short as possible. Use subfunctions to shorten these blocks.</p>
<ul>
<li>Given (Input): Test preparation like creating data or configure mocks</li>
<li>When (Action): Call the method or action that you like to test</li>
<li>Then (Output): Execute assertions to verify the correct output or behavior of the action.</li>
</ul>
<div><pre><code data-lang="java"><span>// Do
</span><span></span><span>@Test</span>
<span>public</span> <span>void</span> <span>findProduct</span><span>(</span><span>)</span> <span>{</span>
    <span>insertIntoDatabase</span><span>(</span><span>new</span> <span>Product</span><span>(</span><span>100</span><span>,</span> <span>"Smartphone"</span><span>)</span><span>)</span><span>;</span>

    <span>Product</span> <span>product</span> <span>=</span> <span>dao</span><span>.</span><span>findProduct</span><span>(</span><span>100</span><span>)</span><span>;</span>

    <span>assertThat</span><span>(</span><span>product</span><span>.</span><span>getName</span><span>(</span><span>)</span><span>)</span><span>.</span><span>isEqualTo</span><span>(</span><span>"Smartphone"</span><span>)</span><span>;</span>
<span>}</span>
</code></pre></div><h2 id="use-the-prefixes-actual-and-expected">Use the Prefixes ‚Äúactual*‚Äù and ‚Äúexpected*‚Äù</h2>
<div><pre><code data-lang="java"><span>// Don't
</span><span></span><span>ProductDTO</span> <span>product1</span> <span>=</span> <span>requestProduct</span><span>(</span><span>1</span><span>)</span><span>;</span>

<span>ProductDTO</span> <span>product2</span> <span>=</span> <span>new</span> <span>ProductDTO</span><span>(</span><span>"1"</span><span>,</span> <span>List</span><span>.</span><span>of</span><span>(</span><span>State</span><span>.</span><span>ACTIVE</span><span>,</span> <span>State</span><span>.</span><span>REJECTED</span><span>)</span><span>)</span>
<span>assertThat</span><span>(</span><span>product1</span><span>)</span><span>.</span><span>isEqualTo</span><span>(</span><span>product2</span><span>)</span><span>;</span>
</code></pre></div><p>If you are going to use variables in an equals assertion, prefix the variables with ‚Äúactual‚Äù and ‚Äúexpected‚Äù. This increases the readability and clearifies the intention of the variable. Moreover, it‚Äôs harder to mix them up in the equals assertion.</p>
<div><pre><code data-lang="java"><span>// Do
</span><span></span><span>ProductDTO</span> <span>actualProduct</span> <span>=</span> <span>requestProduct</span><span>(</span><span>1</span><span>)</span><span>;</span>

<span>ProductDTO</span> <span>expectedProduct</span> <span>=</span> <span>new</span> <span>ProductDTO</span><span>(</span><span>"1"</span><span>,</span> <span>List</span><span>.</span><span>of</span><span>(</span><span>State</span><span>.</span><span>ACTIVE</span><span>,</span> <span>State</span><span>.</span><span>REJECTED</span><span>)</span><span>)</span>
<span>assertThat</span><span>(</span><span>actualProduct</span><span>)</span><span>.</span><span>isEqualTo</span><span>(</span><span>expectedProduct</span><span>)</span><span>;</span> <span>// nice and clear.
</span></code></pre></div><h2 id="use-fixed-data-instead-of-randomized-data">Use Fixed Data Instead of Randomized Data</h2>
<p>Avoid randomized data as it can lead to toggling tests which can be hard to debug and omit error messages that make tracing the error back to the code harder.</p>
<div><pre><code data-lang="java"><span>// Don't
</span><span></span><span>Instant</span> <span>ts1</span> <span>=</span> <span>Instant</span><span>.</span><span>now</span><span>(</span><span>)</span><span>;</span> <span>// 1557582788
</span><span></span><span>Instant</span> <span>ts2</span> <span>=</span> <span>ts1</span><span>.</span><span>plusSeconds</span><span>(</span><span>1</span><span>)</span><span>;</span> <span>// 1557582789
</span><span></span><span>int</span> <span>randomAmount</span> <span>=</span> <span>new</span> <span>Random</span><span>(</span><span>)</span><span>.</span><span>nextInt</span><span>(</span><span>500</span><span>)</span><span>;</span> <span>// 232
</span><span></span><span>UUID</span> <span>uuid</span> <span>=</span> <span>UUID</span><span>.</span><span>randomUUID</span><span>(</span><span>)</span><span>;</span> <span>// d5d1f61b-0a8b-42be-b05a-bd458bb563ad
</span></code></pre></div><p>Instead, use fixed values for everything. They will create highly reproducible tests, which are easy to debug and create error messages that can be easily traced back to the relevant line of code.</p>
<div><pre><code data-lang="java"><span>// Do
</span><span></span><span>Instant</span> <span>ts1</span> <span>=</span> <span>Instant</span><span>.</span><span>ofEpochSecond</span><span>(</span><span>1550000001</span><span>)</span><span>;</span>
<span>Instant</span> <span>ts2</span> <span>=</span> <span>Instant</span><span>.</span><span>ofEpochSecond</span><span>(</span><span>1550000002</span><span>)</span><span>;</span>
<span>int</span> <span>amount</span> <span>=</span> <span>50</span><span>;</span>
<span>UUID</span> <span>uuid</span> <span>=</span> <span>UUID</span><span>.</span><span>fromString</span><span>(</span><span>"00000000-000-0000-0000-000000000001"</span><span>)</span><span>;</span>
</code></pre></div><p>You can avoid the increased typing effort by <a href="#heavily-use-helper-functions">using helper functions</a>.</p>

<h2 id="heavily-use-helper-functions">Heavily Use Helper Functions</h2>
<p>Extract details or repetitive code into subfunctions and give them a descriptive name. This is a powerful mean to keep the tests short and the essentials of the test easy to grasp at first glance.</p>
<div><pre><code data-lang="java"><span>// Don't
</span><span></span><span>@Test</span>
<span>public</span> <span>void</span> <span>categoryQueryParameter</span><span>(</span><span>)</span> <span>throws</span> <span>Exception</span> <span>{</span>
    <span>List</span><span>&lt;</span><span>ProductEntity</span><span>&gt;</span> <span>products</span> <span>=</span> <span>List</span><span>.</span><span>of</span><span>(</span>
            <span>new</span> <span>ProductEntity</span><span>(</span><span>)</span><span>.</span><span>setId</span><span>(</span><span>"1"</span><span>)</span><span>.</span><span>setName</span><span>(</span><span>"Envelope"</span><span>)</span><span>.</span><span>setCategory</span><span>(</span><span>"Office"</span><span>)</span><span>.</span><span>setDescription</span><span>(</span><span>"An Envelope"</span><span>)</span><span>.</span><span>setStockAmount</span><span>(</span><span>1</span><span>)</span><span>,</span>
            <span>new</span> <span>ProductEntity</span><span>(</span><span>)</span><span>.</span><span>setId</span><span>(</span><span>"2"</span><span>)</span><span>.</span><span>setName</span><span>(</span><span>"Pen"</span><span>)</span><span>.</span><span>setCategory</span><span>(</span><span>"Office"</span><span>)</span><span>.</span><span>setDescription</span><span>(</span><span>"A Pen"</span><span>)</span><span>.</span><span>setStockAmount</span><span>(</span><span>1</span><span>)</span><span>,</span>
            <span>new</span> <span>ProductEntity</span><span>(</span><span>)</span><span>.</span><span>setId</span><span>(</span><span>"3"</span><span>)</span><span>.</span><span>setName</span><span>(</span><span>"Notebook"</span><span>)</span><span>.</span><span>setCategory</span><span>(</span><span>"Hardware"</span><span>)</span><span>.</span><span>setDescription</span><span>(</span><span>"A Notebook"</span><span>)</span><span>.</span><span>setStockAmount</span><span>(</span><span>2</span><span>)</span>
    <span>)</span><span>;</span>
    <span>for</span> <span>(</span><span>ProductEntity</span> <span>product</span> <span>:</span> <span>products</span><span>)</span> <span>{</span>
        <span>template</span><span>.</span><span>execute</span><span>(</span><span>createSqlInsertStatement</span><span>(</span><span>product</span><span>)</span><span>)</span><span>;</span>
    <span>}</span>

    <span>String</span> <span>responseJson</span> <span>=</span> <span>client</span><span>.</span><span>perform</span><span>(</span><span>get</span><span>(</span><span>"/products?category=Office"</span><span>)</span><span>)</span>
            <span>.</span><span>andExpect</span><span>(</span><span>status</span><span>(</span><span>)</span><span>.</span><span>is</span><span>(</span><span>200</span><span>)</span><span>)</span>
            <span>.</span><span>andReturn</span><span>(</span><span>)</span><span>.</span><span>getResponse</span><span>(</span><span>)</span><span>.</span><span>getContentAsString</span><span>(</span><span>)</span><span>;</span>

    <span>assertThat</span><span>(</span><span>toDTOs</span><span>(</span><span>responseJson</span><span>)</span><span>)</span>
            <span>.</span><span>extracting</span><span>(</span><span>ProductDTO</span><span>:</span><span>:</span><span>getId</span><span>)</span>
            <span>.</span><span>containsOnly</span><span>(</span><span>"1"</span><span>,</span> <span>"2"</span><span>)</span><span>;</span>
<span>}</span>
</code></pre></div><div><pre><code data-lang="java"><span>// Do
</span><span></span><span>@Test</span>
<span>public</span> <span>void</span> <span>categoryQueryParameter2</span><span>(</span><span>)</span> <span>throws</span> <span>Exception</span> <span>{</span>
    <span>insertIntoDatabase</span><span>(</span>
            <span>createProductWithCategory</span><span>(</span><span>"1"</span><span>,</span> <span>"Office"</span><span>)</span><span>,</span>
            <span>createProductWithCategory</span><span>(</span><span>"2"</span><span>,</span> <span>"Office"</span><span>)</span><span>,</span>
            <span>createProductWithCategory</span><span>(</span><span>"3"</span><span>,</span> <span>"Hardware"</span><span>)</span>
    <span>)</span><span>;</span>

    <span>String</span> <span>responseJson</span> <span>=</span> <span>requestProductsByCategory</span><span>(</span><span>"Office"</span><span>)</span><span>;</span>

    <span>assertThat</span><span>(</span><span>toDTOs</span><span>(</span><span>responseJson</span><span>)</span><span>)</span>
            <span>.</span><span>extracting</span><span>(</span><span>ProductDTO</span><span>:</span><span>:</span><span>getId</span><span>)</span>
            <span>.</span><span>containsOnly</span><span>(</span><span>"1"</span><span>,</span> <span>"2"</span><span>)</span><span>;</span>
<span>}</span>
</code></pre></div><ul>
<li>Use helper functions for creating data (objects) (<code>createProductWithCategory()</code>) and complex assertions. Only pass those parameters to the helper functions that are relevant for your tests. Use reasonable defaults for the other values. In Kotlin, this is easy by using default arguments. In Java, you have to use method chaining and overloading to simulate default arguments.</li>
<li>varargs can make your test code even more concise (<code>√¨nsertIntoDatabase()</code>).</li>
<li>Helper functions can also be used to create simple values more easily. This is even nicer in Kotlin where you can use extension functions for this.</li>
</ul>
<div><pre><code data-lang="java"><span>// Do (Java)
</span><span></span><span>Instant</span> <span>ts</span> <span>=</span> <span>toInstant</span><span>(</span><span>1</span><span>)</span><span>;</span> <span>// Instant.ofEpochSecond(1550000001)
</span><span></span><span>UUID</span> <span>id</span> <span>=</span> <span>toUUID</span><span>(</span><span>1</span><span>)</span><span>;</span> <span>// UUID.fromString("00000000-0000-0000-a000-000000000001")
</span></code></pre></div><div><pre><code data-lang="kotlin"><span>// Do (Kotlin)
</span><span></span><span>val</span> <span>ts</span> <span>=</span> <span>1.</span><span>toInstant</span><span>(</span><span>)</span>
<span>val</span> <span>id</span> <span>=</span> <span>1.</span><span>toUUID</span><span>(</span><span>)</span>
</code></pre></div><p>The helper functions could be implemented in Kotlin like this:</p>
<div><pre><code data-lang="kotlin"><span>fun</span> <span>Int</span><span>.</span><span>toInstant</span><span>(</span><span>)</span><span>:</span> <span>Instant</span> <span>=</span> <span>Instant</span><span>.</span><span>ofEpochSecond</span><span>(</span><span>this</span><span>.</span><span>toLong</span><span>(</span><span>)</span><span>)</span>

<span>fun</span> <span>Int</span><span>.</span><span>toUUID</span><span>(</span><span>)</span><span>:</span> <span>UUID</span> <span>=</span> <span>UUID</span><span>.</span><span>fromString</span><span>(</span><span>"00000000-0000-0000-a000-${this.toString().padStart(11, '0')}"</span><span>)</span>
</code></pre></div><h2 id="dont-overuse-variables">Don‚Äôt Overuse Variables</h2>
<p>A usual reflex of a developer is to extract values that are used multiple times to variables.</p>
<div><pre><code data-lang="java"><span>// Don't
</span><span></span><span>@Test</span>
<span>public</span> <span>void</span> <span>variables</span><span>(</span><span>)</span> <span>throws</span> <span>Exception</span> <span>{</span>
    <span>String</span> <span>relevantCategory</span> <span>=</span> <span>"Office"</span><span>;</span>
    <span>String</span> <span>id1</span> <span>=</span> <span>"4243"</span><span>;</span>
    <span>String</span> <span>id2</span> <span>=</span> <span>"1123"</span><span>;</span>
    <span>String</span> <span>id3</span> <span>=</span> <span>"9213"</span><span>;</span>
    <span>String</span> <span>irrelevantCategory</span> <span>=</span> <span>"Hardware"</span><span>;</span>
    <span>insertIntoDatabase</span><span>(</span>
            <span>createProductWithCategory</span><span>(</span><span>id1</span><span>,</span> <span>relevantCategory</span><span>)</span><span>,</span>
            <span>createProductWithCategory</span><span>(</span><span>id2</span><span>,</span> <span>relevantCategory</span><span>)</span><span>,</span>
            <span>createProductWithCategory</span><span>(</span><span>id3</span><span>,</span> <span>irrelevantCategory</span><span>)</span>
    <span>)</span><span>;</span>

    <span>String</span> <span>responseJson</span> <span>=</span> <span>requestProductsByCategory</span><span>(</span><span>relevantCategory</span><span>)</span><span>;</span>

    <span>assertThat</span><span>(</span><span>toDTOs</span><span>(</span><span>responseJson</span><span>)</span><span>)</span>
            <span>.</span><span>extracting</span><span>(</span><span>ProductDTO</span><span>:</span><span>:</span><span>getId</span><span>)</span>
            <span>.</span><span>containsOnly</span><span>(</span><span>id1</span><span>,</span> <span>id2</span><span>)</span><span>;</span>
<span>}</span>
</code></pre></div><p>Unfortunately, this significantly bloats the test code. Moreover, given a test failure message, it‚Äôs harder to trace the value back to the relevant line of code.</p>
<blockquote>
<p>KISS &gt; DRY</p>
</blockquote>
<div><pre><code data-lang="java"><span>// Do
</span><span></span><span>@Test</span>
<span>public</span> <span>void</span> <span>variables</span><span>(</span><span>)</span> <span>throws</span> <span>Exception</span> <span>{</span>
    <span>insertIntoDatabase</span><span>(</span>
            <span>createProductWithCategory</span><span>(</span><span>"4243"</span><span>,</span> <span>"Office"</span><span>)</span><span>,</span>
            <span>createProductWithCategory</span><span>(</span><span>"1123"</span><span>,</span> <span>"Office"</span><span>)</span><span>,</span>
            <span>createProductWithCategory</span><span>(</span><span>"9213"</span><span>,</span> <span>"Hardware"</span><span>)</span>
    <span>)</span><span>;</span>

    <span>String</span> <span>responseJson</span> <span>=</span> <span>requestProductsByCategory</span><span>(</span><span>"Office"</span><span>)</span><span>;</span>

    <span>assertThat</span><span>(</span><span>toDTOs</span><span>(</span><span>responseJson</span><span>)</span><span>)</span>
            <span>.</span><span>extracting</span><span>(</span><span>ProductDTO</span><span>:</span><span>:</span><span>getId</span><span>)</span>
            <span>.</span><span>containsOnly</span><span>(</span><span>"4243"</span><span>,</span> <span>"1123"</span><span>)</span><span>;</span>
<span>}</span>
</code></pre></div><p>If you keep the tests short (which is highly recommended anyway), it‚Äôs no problem to see where the same values are used. Plus, the method is even shorter and therefore easier to understand. And finally, failure messages are easier to trace back to the code.</p>
<h2 id="dont-extend-existing-tests-to-just-test-one-more-tiny-thing">Don‚Äôt Extend Existing Tests To ‚ÄúJust Test One More Tiny Thing‚Äù</h2>
<div><pre><code data-lang="java"><span>// Don't
</span><span></span><span>public</span> <span>class</span> <span>ProductControllerTest</span> <span>{</span>
    <span>@Test</span>
    <span>public</span> <span>void</span> <span>happyPath</span><span>(</span><span>)</span> <span>{</span>
        <span>// a lot of code comes here...
</span><span></span>    <span>}</span>
<span>}</span>
</code></pre></div><p>It‚Äôs tempting to add a corner case test to an existing (happy path) test. But this test becomes bigger and harder to understand. It becomes hard to grasp all relevant test cases that are covered by this big test. You can spot those tests by generic names like ‚Äúhappy path test‚Äù. If this test fails, it‚Äôs hard to see what exactly is broken.</p>
<div><pre><code data-lang="java"><span>// Do
</span><span></span><span>public</span> <span>class</span> <span>ProductControllerTest</span> <span>{</span>
    <span>@Test</span>
    <span>public</span> <span>void</span> <span>multipleProductsAreReturned</span><span>(</span><span>)</span> <span>{</span><span>}</span>
    <span>@Test</span>
    <span>public</span> <span>void</span> <span>allProductValuesAreReturned</span><span>(</span><span>)</span> <span>{</span><span>}</span>
    <span>@Test</span>
    <span>public</span> <span>void</span> <span>filterByCategory</span><span>(</span><span>)</span> <span>{</span><span>}</span>
    <span>@Test</span>
    <span>public</span> <span>void</span> <span>filterByDateCr‚Ä¶</span></code></pre></div></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://phauer.com/2019/modern-best-practices-testing-java/">https://phauer.com/2019/modern-best-practices-testing-java/</a></em></p>]]>
            </description>
            <link>https://phauer.com/2019/modern-best-practices-testing-java/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24346195</guid>
            <pubDate>Tue, 01 Sep 2020 19:49:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Sony ‚ÄúStar Eater‚Äù (2017)]]>
            </title>
            <description>
<![CDATA[
Score 87 | Comments 36 (<a href="https://news.ycombinator.com/item?id=24344512">thread link</a>) | @mjamm95
<br/>
September 1, 2020 | http://www.markshelley.co.uk/Astronomy/SonyA7S/sonystareater.html | <a href="https://web.archive.org/web/*/http://www.markshelley.co.uk/Astronomy/SonyA7S/sonystareater.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://www.markshelley.co.uk/Astronomy/SonyA7S/sonystareater.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24344512</guid>
            <pubDate>Tue, 01 Sep 2020 17:46:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[CERN at Home: Building a Particle Detector]]>
            </title>
            <description>
<![CDATA[
Score 138 | Comments 23 (<a href="https://news.ycombinator.com/item?id=24344382">thread link</a>) | @kasbah
<br/>
September 1, 2020 | https://clanhouse.com/cern-at-home-building-a-particle-detector | <a href="https://web.archive.org/web/*/https://clanhouse.com/cern-at-home-building-a-particle-detector">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>	
	<p><img width="2048" height="1536" src="https://clanhouse.com/wp-content/uploads/2020/09/IMG_0947.jpeg" alt="CERN DIY electron detector and connected laptop" loading="lazy" srcset="https://clanhouse.com/wp-content/uploads/2020/09/IMG_0947.jpeg 2048w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0947-1024x768.jpeg 1024w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0947-768x576.jpeg 768w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0947-1536x1152.jpeg 1536w" sizes="(max-width: 2048px) 100vw, 2048px"></p><p>What do you do when you‚Äôre stuck at home with a 16-year-old son during a pandemic lockdown? Well, the first answer is that you build a gaming PC. That was a good project with a lot of incentives to complete, but that also meant it was soon over.  So, what next? I spotted a post about an outreach project from CERN to <a rel="noreferrer noopener" href="https://github.com/ozel/DIY_particle_detector" target="_blank">build your own particle detector</a> for under ¬£30. Sounded like fun, so here‚Äôs how we got on.</p>



<p>Firstly, a bit about ourselves: I‚Äôve just retired from an IT architecture role at a major UK bank, a brave decision when you still have a child at secondary school and there‚Äôs a global pandemic looming. My son, Sam, has just completed his GCSEs and is about to enter the sixth form.  I have a degree in Physics and Sam has a keen interest in scientific things. We both suffer from hypermobility of the finger joints, meaning that we have limited fine motor skills (translation: we are both klutzes. Even klutzes can successfully build this detector.) I haven‚Äôt picked up a soldering iron in anger for a long time and Sam has only done two or three connections for a school project so we are effectively total noobs to this sort of project.</p>



<p>Anyway, here is a write-up of our experience and lessons learned rfom building the electron detector. If you‚Äôre planning on building one yourself then you may find this useful</p>



<h2>Buying the components</h2>



<p>The great thing about the CERN kit is that you can order most of the parts easily using <a rel="noreferrer noopener" href="https://kitspace.org/boards/github.com/ozel/diy_particle_detector/electron-detector/" target="_blank">kitspace</a>. Can you really build it for under ‚Ç¨30 (about ¬£27) as claimed? Well, yes and no. The exchange rates have all moved, which doesn‚Äôt help. The individual components certainly cost less than ‚Ç¨30 but you cannot just buy individual components. You have to buy 10 resistors at a time but they are dirt cheap and you‚Äôll just end up spending 30p instead of 3p for the parts you need. The biggest surprise was that you have to buy a minimum of three circuit boards, but this turned out to be a blessing in disguise. It‚Äôs handy to have a spare board if your soldering skills are questionable, plus the alpha detector variant uses the same board so you have an incentive to build that model too. All-in-all, the cost of all the electronic components same to just under ¬£40. If you were buying for a class project ‚Äì a dozen or so boards ‚Äì I think the bulk  price would be closer to ¬£33/‚Ç¨37 per board.</p>



<p>There are some optional costs too that you may want to take into account. We bought a BNC to audio jack cable for about ¬£8 on Amazon as this was quicker, easier and ultimately cheaper than building one from scratch. We also had to buy some tools that we needed but didn‚Äôt have in our existing toolbox. You may prefer to buy a metal case or project box for around ¬£6, however I would recommend using an old sweet tin or similar. We used a presentation case off a Fossil watch that my wife received one Christmas.  To mount the board in the case, you‚Äôll need some sort of metal standoff. We bought a box of M3 brass standoffs of assorted lengths with all the necessary screws and bolts for about ¬£11 on Amazon. (120 components when you need only one!) You‚Äôll also need some small lengths of connecting wire ‚Äì about 30cm in total. (Tip: Amazon Prime is well worth the cost if you need to order all these things as you go along.)</p>



<p>Finally, you are going to need some sort of radioactive source to try out the detector. We bought 100g of analytical quality <a href="https://en.wikipedia.org/wiki/Potassium-40" target="_blank" rel="noreferrer noopener">potassium chloride</a> (KCl) on Amazon for under ¬£5. This is a better price than that of the potassium-rich salt substitutes that are also on Amazon and has a higher proportion of potassium to boot.</p>



<h2>Tools that you‚Äôll need</h2>



<figure><img loading="lazy" width="2048" height="1536" src="https://clanhouse.com/wp-content/uploads/2020/09/IMG_0949.jpeg" alt="" srcset="https://clanhouse.com/wp-content/uploads/2020/09/IMG_0949.jpeg 2048w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0949-1024x768.jpeg 1024w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0949-768x576.jpeg 768w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0949-1536x1152.jpeg 1536w" sizes="(max-width: 2048px) 100vw, 2048px"></figure>



<p>Before you start, make sure that you have all the tools that you‚Äôre going to need, Here‚Äôs a list of what we found necessary:</p>



<ul><li>A soldering iron with a small tip suitable for the components and board</li><li>A de-soldering pump and braid for when you mess things up</li><li>Small cutting pliers for tidying up excess wires when you‚Äôve soldered a component</li><li>Wire strippers for the ends of the connecting wires</li><li>A small multi-meter for testing joints and checking the board</li><li>A nail punch to make holes in your old tin box</li><li>A file to file down the sharp edges on the holes that you‚Äôve just punched</li><li>Some things to hold the board and components in position while you solder them. We used an old wall tile and a hexagonal pencil.</li></ul>



<h2>Constructing the detector</h2>



<p>We spent about three elapsed hours over about 3 weeks building the board and maybe another hour building the case and mounting the board into it. Why so long? Well, this project didn‚Äôt have the same appeal to a 16 year old as does building a gaming PC. Plus, use of said gaming PC frequently took priority over this project. We decided to solder the components in groups, doing the resistors first, then the capacitors then the semiconductors. The build instructions in the wiki are pretty good and easy to follow. </p>



<p>We tested every joint as we soldered it, making sure to test from another point on the circuit board so as to prove the connection was good. My son did all the soldering on one of the PCBs. I started work on a second board partly as a backup and partly to have something that could form the basis of the alpha detector. (I discovered the hard way that the two variants begin to differ at the third component, R3!)</p>



<p>Here are some shots of the board at different stages of construction:</p>



<h3>Stage 1</h3>



<div><figure><img loading="lazy" width="2560" height="1920" src="https://clanhouse.com/wp-content/uploads/2020/09/IMG_0890-scaled.jpg" alt="" srcset="https://clanhouse.com/wp-content/uploads/2020/09/IMG_0890-scaled.jpg 2560w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0890-1024x768.jpg 1024w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0890-768x576.jpg 768w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0890-1536x1152.jpg 1536w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0890-2048x1536.jpg 2048w" sizes="(max-width: 2560px) 100vw, 2560px"><figcaption>Resisitors from the bottom</figcaption></figure></div>



<div><figure><img loading="lazy" width="2560" height="1920" src="https://clanhouse.com/wp-content/uploads/2020/09/IMG_0891-scaled.jpg" alt="" srcset="https://clanhouse.com/wp-content/uploads/2020/09/IMG_0891-scaled.jpg 2560w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0891-1024x768.jpg 1024w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0891-768x576.jpg 768w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0891-1536x1152.jpg 1536w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0891-2048x1536.jpg 2048w" sizes="(max-width: 2560px) 100vw, 2560px"><figcaption>Resistors from the top</figcaption></figure></div>



<h3>Stage 2</h3>



<figure><img loading="lazy" width="2048" height="1536" src="https://clanhouse.com/wp-content/uploads/2020/09/IMG_0899-1-rotated.jpeg" alt="" srcset="https://clanhouse.com/wp-content/uploads/2020/09/IMG_0899-1-rotated.jpeg 2048w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0899-1-1024x768.jpeg 1024w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0899-1-768x576.jpeg 768w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0899-1-1536x1152.jpeg 1536w" sizes="(max-width: 2048px) 100vw, 2048px"><figcaption>Capacitors bottom view</figcaption></figure>



<figure><img loading="lazy" width="2048" height="1536" src="https://clanhouse.com/wp-content/uploads/2020/09/IMG_0900-1-rotated.jpeg" alt="" srcset="https://clanhouse.com/wp-content/uploads/2020/09/IMG_0900-1-rotated.jpeg 2048w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0900-1-1024x768.jpeg 1024w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0900-1-768x576.jpeg 768w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0900-1-1536x1152.jpeg 1536w" sizes="(max-width: 2048px) 100vw, 2048px"><figcaption>Capacitors top view</figcaption></figure>



<h3>Stage 3</h3>



<figure><img loading="lazy" width="2560" height="1920" src="https://clanhouse.com/wp-content/uploads/2020/09/IMG_0921-scaled.jpg" alt="" srcset="https://clanhouse.com/wp-content/uploads/2020/09/IMG_0921-scaled.jpg 2560w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0921-1024x768.jpg 1024w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0921-768x576.jpg 768w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0921-1536x1152.jpg 1536w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0921-2048x1536.jpg 2048w" sizes="(max-width: 2560px) 100vw, 2560px"><figcaption>Completed board, tbottom view</figcaption></figure>



<figure><img loading="lazy" src="https://clanhouse.com/wp-content/uploads/2020/09/IMG_0920-1-scaled.jpg" alt="" width="580" height="435" srcset="https://clanhouse.com/wp-content/uploads/2020/09/IMG_0920-1-scaled.jpg 2560w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0920-1-1024x768.jpg 1024w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0920-1-768x576.jpg 768w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0920-1-1536x1152.jpg 1536w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0920-1-2048x1536.jpg 2048w" sizes="(max-width: 580px) 100vw, 580px"><figcaption>Completed board, top view</figcaption></figure>



<h3>Stage 4</h3>



<figure><img loading="lazy" width="2048" height="1536" src="https://clanhouse.com/wp-content/uploads/2020/09/IMG_0948.jpeg" alt="" srcset="https://clanhouse.com/wp-content/uploads/2020/09/IMG_0948.jpeg 2048w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0948-1024x768.jpeg 1024w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0948-768x576.jpeg 768w, https://clanhouse.com/wp-content/uploads/2020/09/IMG_0948-1536x1152.jpeg 1536w" sizes="(max-width: 2048px) 100vw, 2048px"><figcaption>The completed detector in its case with switch, battery and connector</figcaption></figure>



<h2>Testing the detector</h2>



<p>The first thing to do when testing the detector was to make sure that there were no shorts by measuring resistance across the power connectors. (Tick! A satisfactory 9.8 kilo-ohms) and make sure that power was reaching the board. Then we plugged it into a PC and switched it on. We were using the pulse detector JavaScript to check that it was working. I flicked the switch and‚Ä¶nothing. So, we examined the board. We knew we were novice constructors and some of the joints looked potentially to be dry and on one or two others we could not be 100% sure that we had an air gap between adjacent joints so we de-soldered and remade about 3 joints. Again we connected to the PC and we saw the satisfying pulses when the device was turned on and off. We also saw quite a bit of microphony being picked up when the tin was moved or when one of us spoke near it.</p>



<p>Ok, so next step was to try it with a radiation source. I weighed out roughly 10g of KCl into a plastic lid and positioned it under the diodes in the detector. We hadn‚Äôt made a radiation window in the lid of the tin and the diodes were about 1.5cm above the surface of the KCl. I switched on the detector and‚Ä¶nothing, not even the on/off pulses. The detector seemed dead.  I took the device apart and retested very connection with the multi-meter and made sure all the case connections were good and that the case was properly wired to earth. I checked that power from the battery was reaching all the necessary parts and that the battery power was good. I could find nothing wrong. </p>



<p>It quickly became apparent that there was an intermittent problem. Sometimes, the JavaScript detector would see a pulse when the device was switched on or off and sometimes ‚Äì usually ‚Äì there was nothing. Sometimes you would see noise on the web oscilloscope and sometimes not. I was scratching my head as to what the problem was. Eventually, it occurred to me to try actually listening to the audio output, a trivial thing to do under Windows. BINGO! I could hear white noise when the device was switched on and, just audible over the noise, a soft click every 20-30 seconds. Clearly the detector was working and therefore what I was facing was a software problem.</p>



<h2>The importance of sound cards, and repurposing yet again an ancient laptop</h2>



<p>I have to say that <a rel="noreferrer noopener" href="https://github.com/ozel" target="_blank">Oliver Keller</a> was an enormous help while I was trying to get the detector working and I cannot stress enough how important it is to listen to his advice about audio connections and sound cards. The problem seems to be that sound cards (or chips) in modern PCs are too clever for their own good. They are designed to optimise microphone input for Skype and Zoom and that means removing the noise and extraneous clicks that are exactly the signal that the detector puts out. </p>



<p>Modern technology was assuming the detector signal was unwanted noise so I needed some primitive technology. I have an old notebook laptop, an Asus EeePC 901. I bought this about 10 years ago and it has been the subject of several hobbyist projects over the years. I upgraded it‚Äôs memory to 2GB. I replaced it‚Äôs laughably small 4GB SSD with a 32GB one.  I upgraded it from Windows XP Home, via several versions of Ubuntu, to Windows 10 Home. You may be surprised that such a machine can run Windows 10 and MS Office but it can do so, just not well. I backed it up (virtualized it for VMWare) and installed a fresh copy of Lubuntu. I fired up the web oscilloscope under FireFox and now I have a working detector:</p>



<figure><img loading="lazy" width="1024" height="600" src="https://clanhouse.com/wp-content/uploads/2020/09/2020-09-01-105609_1024x600_scrot.png" alt="" srcset="https://clanhouse.com/wp-content/uploads/2020/09/2020-09-01-105609_1024x600_scrot.png 1024w, https://clanhouse.com/wp-content/uploads/2020/09/2020-09-01-105609_1024x600_scrot-768x450.png 768w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>You can quite clearly see a detector pulse in the screenshot. The noise sometimes peaks and can give a false reading but these are fairly easy to spot. The false pulses are one sided and lack the rebound peak of a true pulse. From around 25g of KCl, I‚Äôm seeing two or three pulses per minute in the detector</p>



<h2>So what comes next?</h2>



<p>OK, now that the detector is working, what comes next? Our first plan is to try out the python script to make sure that we can see and correctly analyze the energy spectrum from the KCl.  Step three will be to try various things to reduce the electrical noise. I have a suspicion that the tin leaks a little light into its interior but that can be remedied with black tape. Step three will be trying out various samples from my small mineral collection in the ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://clanhouse.com/cern-at-home-building-a-particle-detector">https://clanhouse.com/cern-at-home-building-a-particle-detector</a></em></p>]]>
            </description>
            <link>https://clanhouse.com/cern-at-home-building-a-particle-detector</link>
            <guid isPermaLink="false">hacker-news-small-sites-24344382</guid>
            <pubDate>Tue, 01 Sep 2020 17:36:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Daddy, did you need to buy an electric car?]]>
            </title>
            <description>
<![CDATA[
Score 53 | Comments 21 (<a href="https://news.ycombinator.com/item?id=24342495">thread link</a>) | @ZeljkoS
<br/>
September 1, 2020 | https://svedic.org/tech/daddy-did-you-really-need-electric-car | <a href="https://web.archive.org/web/*/https://svedic.org/tech/daddy-did-you-really-need-electric-car">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><em>I made a mistake: I bought an electric car. EV articles I have read on Hacker News and Reddit didn‚Äôt prepare me for a dozen EV infrastructure problems in my part of the EU. Anecdotes below explain lessons I learned the hard way.</em></p><p>When I see a cool new gadget, my rationality goes away. I tell myself, ‚ÄúDon‚Äôt buy another device that will somehow be discharged when you need it,‚Äù but to no avail. The siren call would sing, ‚ÄúIt has USB-C!‚Äù until my wallet opens wider than the Spielberg‚Äôs ‚ÄúJaws‚Äù.</p><p>This time, the siren call was a government incentive of 10,600 EUR ($12,100) for a new electric vehicle purchase. ‚ÄúGreat,‚Äù I thought, ‚ÄúI need to replace my old car.‚Äù My experience of driving electric car-shares in Oxford and Berlin was great. So, I purchased a 1.5-ton gadget, with no USB-C ports included, called <a href="https://ev-database.org/car/1204/Hyundai-Kona-Electric-64-kWh" target="_blank" rel="noopener noreferrer">Hyundai Kona EV</a>:</p><p><a href="https://svedic.org/wp-content/uploads/2020/08/EV-database-Kona-EV-small.jpg"><img title="Hyundai Kona EV, Credits: https://ev-database.org/car/1204/Hyundai-Kona-Electric-64-kWh" src="https://svedic.org/wp-content/uploads/2020/08/EV-database-Kona-EV-small-1024x540.jpg" alt="" width="584" height="308" srcset="https://svedic.org/wp-content/uploads/2020/08/EV-database-Kona-EV-small-1024x540.jpg 1024w, https://svedic.org/wp-content/uploads/2020/08/EV-database-Kona-EV-small-300x158.jpg 300w, https://svedic.org/wp-content/uploads/2020/08/EV-database-Kona-EV-small-768x405.jpg 768w, https://svedic.org/wp-content/uploads/2020/08/EV-database-Kona-EV-small-500x264.jpg 500w, https://svedic.org/wp-content/uploads/2020/08/EV-database-Kona-EV-small.jpg 1179w" sizes="(max-width: 584px) 100vw, 584px"></a></p><p>Why not a Tesla Model 3, you ask? Fun fact: <a href="https://en.wikipedia.org/wiki/Nikola_Tesla" target="_blank" rel="noopener noreferrer">Nikola Tesla</a> was a naming inspiration for both <a href="https://en.wikipedia.org/wiki/Tesla,_Inc." target="_blank" rel="noopener noreferrer">Tesla cars</a>&nbsp;and <a href="https://en.wikipedia.org/wiki/Nikola_Corporation" target="_blank" rel="noopener noreferrer">Nikola trucks</a>. Tesla was an ethnic Serbian born in present-day Croatia, but you can‚Äôt officially buy a Tesla or Nikola vehicle in Croatia (where I live) or Serbia. Elon Musk <a href="https://twitter.com/elonmusk/status/1176190550854127616?lang=en" target="_blank" rel="noopener noreferrer">tweeted his hope to open sales in the region early in 2020</a>, but as of August 2020 that didn‚Äôt happen.</p><p>First, the good parts: as soon as I picked up my car in Zagreb, Croatia, I was impressed. EVs are so quiet that EU law requires they produce a buzzing sound when going slower than 30 km/h. Acceleration is instant; torque is strong enough, even in Eco mode, to make tires scream if I pushed the ‚Äúgas‚Äù pedal too fast. There are no vibrations and no jerking when the car shifts gears. EVs use regenerative breaking, again completely silent. EV charging is currently free in Croatia, and depending on rainfall, <a href="http://mecometer.com/whats/croatia/electricity-production-by-source/" target="_blank" rel="noopener noreferrer">44% of that electricity is carbon-free</a>. I was in love with the car.</p><p>The first weekend I drove with a group of friends to a <a href="https://www.toastmasters.org/leadership-central/speech-contests" target="_blank" rel="noopener noreferrer">Toastmaster‚Äôs competition</a> in Ljubljana, Slovenia, <a href="https://goo.gl/maps/A1tH92uEFXTUHuu96" target="_blank" rel="noopener noreferrer">143 km from Zagreb</a> (83 mi). Kona EV with 64 kWh battery has a declared range of 450 km (280 mi), so even with 90% battery, I had enough for a round trip. So I thought. I soon learned the first lesson:</p><p><em>#1: EVs have <a href="https://www.autoweek.com/news/green-cars/a31898441/study-ev-winter-range-loss-averages-19/" target="_blank" rel="noopener noreferrer">20% shorter range</a> in cold weather.</em></p><p>It was November. But still, 450 x 90% x 0.8 = 324 km, round trip is 286 km, we were good. While driving 130 km/h on a highway (80mph, a legal limit), I noticed my range dropping significantly. The car specs sheet lied in the worst possible way: they were technically correct. High torque: true. Range of 450 km: true. But:</p><p><em>#2: EVs can‚Äôt deliver both performance and declared range at the same time, you need to choose one.</em></p><p>I had the wrong intuition that cars have a longer range on the highway than in the city. That is true for gas cars because gas cars are extremely inefficient in cities. All cylinders are running, swallowing gas when accelerating, and that kinetic energy is lost when braking. As EVs use only the energy needed and recuperate that energy when breaking, they really have a declared range when driving in the city. When driving fast, EV range shortens because <a href="https://www.softschools.com/formulas/physics/air_resistance_formula/85/" target="_blank" rel="noopener noreferrer">air resistance is proportional to the square of speed</a>. Gas engines are more efficient when all cylinders are firing at constant, high RPMs. As a result, gas cars have a <a href="https://www.mpgforspeed.com/" target="_blank" rel="noopener noreferrer">maximum range at speeds of 89-97 km/h (55-60 mph)</a>. EVs have a maximum range at <a href="https://cleantechnica.com/2018/07/15/tesla-range-plotted-relative-to-speed-temperature-graphs/" target="_blank" rel="noopener noreferrer">around 55 km/h (35 mph)</a>, and range falls linearly as you drive faster. For example, this is the range decrease for Tesla Model S, depending on speed and temperature:</p><p><a href="https://svedic.org/wp-content/uploads/2020/08/model_s100_range_temp_imperial_grande.png"><img title="Tesla Model S100 range vs speed vs temperature, Credits: https://cleantechnica.com/2018/07/15/tesla-range-plotted-relative-to-speed-temperature-graphs/" src="https://svedic.org/wp-content/uploads/2020/08/model_s100_range_temp_imperial_grande.png" alt="" width="600" height="450" srcset="https://svedic.org/wp-content/uploads/2020/08/model_s100_range_temp_imperial_grande.png 600w, https://svedic.org/wp-content/uploads/2020/08/model_s100_range_temp_imperial_grande-300x225.png 300w, https://svedic.org/wp-content/uploads/2020/08/model_s100_range_temp_imperial_grande-400x300.png 400w" sizes="(max-width: 600px) 100vw, 600px"></a></p><p>As I slowed down, the estimated range increased. Unfortunately, part of the highway was closed for construction, and we needed to take a detour. The round trip just got longer, so I decided to park at the EV charging place. But, it was a <a href="https://en.wikipedia.org/wiki/Type_2_connector" target="_blank" rel="noopener noreferrer">Type 2 AC charger</a>, meaning another lesson was coming:</p><p><em>#3: To charge at Type 2 AC plugs in the EU, you need to bring your cable.</em></p><p>Of course, I had none. Fast chargers I used before had attached cables, and I was wondering what was the point of <a href="https://svedic.org/wp-content/uploads/2020/08/Kona-EV-Charging-Auto-Lock.jpg" target="_blank" rel="noopener noreferrer">the cable lock button on Hyundai Kona</a>? It is there because:</p><p><em>#4: Lock your <a href="https://www.evexpert.eu/p/338/duosida-charging-cable-type2-type2-32a-3phase" target="_blank" rel="noopener noreferrer">230 EUR Type 2 cable</a> if you don‚Äôt want it stolen.</em></p><p>Between event sessions, I was Googling ‚Äúfast EV chargers in Slovenia.‚Äù Highway stops by ‚ÄúPetrol‚Äù had them, great. Around 11 PM, we left Ljubljana in high spirits. We arrived at the Petrol station and found a fast charger, with cables. Guess what happened next:</p><p><em>#5: EU fast chargers are activated via a proprietary chip card or smartphone app. Each company in each country uses a different card / app.</em></p><p>Of course, I only had a smartphone charging app for Croatia. Lessons were coming fast:</p><p><em>#5A: Petrol gas stations clerks can‚Äôt sell you a Petrol charging card, and they can‚Äôt activate an EV charging even when you want to pay for it.</em></p><p>‚ÄúDownload and register in the Petrol app,‚Äù the night clerk said. Yes, but:</p><p><em>#5B: Petrol Android app is 50 MB, so if a station is covered by a <a href="https://www.gsmarena.com/glossary.php3?term=edge#:~:text=EDGE%20(also%20known%20as%20Enhanced,order%20to%20conserve%20spectrum%20resources." target="_blank" rel="noopener noreferrer">slow EDGE signal</a>, you can‚Äôt download the app.</em></p><p>We got back to the highway, where my friend caught H+ signal and downloaded the app. At the next Petrol station, we discovered:</p><p><em>#5C: When you hit the ‚ÄúStart charging‚Äù button in the Petrol app, it redirects you to a registration form to enter payment and address.</em></p><p>No problem, I can fill the form, even on EDGE signal. But then:</p><p><em>#5D: To register in the Petrol app, needed for charging, you need a valid address in Slovenia.</em></p><p>It is good the EV charging station was 20 meters away from the gas station because I was cursing Petrol so loud a clerk would have had all rights to call the police. I should have read <a href="https://play.google.com/store/apps/details?id=si.petrol.onecharge&amp;hl=en" target="_blank" rel="noopener noreferrer">Petrol app comments</a> beforehand:</p><p><a href="https://svedic.org/wp-content/uploads/2020/08/OneCharge-app-Petrol-comments-1.png"><img title="Petrol app comments" src="https://svedic.org/wp-content/uploads/2020/08/OneCharge-app-Petrol-comments-1-1024x732.png" alt="" width="584" height="417" srcset="https://svedic.org/wp-content/uploads/2020/08/OneCharge-app-Petrol-comments-1-1024x732.png 1024w, https://svedic.org/wp-content/uploads/2020/08/OneCharge-app-Petrol-comments-1-300x214.png 300w, https://svedic.org/wp-content/uploads/2020/08/OneCharge-app-Petrol-comments-1-768x549.png 768w, https://svedic.org/wp-content/uploads/2020/08/OneCharge-app-Petrol-comments-1-420x300.png 420w, https://svedic.org/wp-content/uploads/2020/08/OneCharge-app-Petrol-comments-1.png 1105w" sizes="(max-width: 584px) 100vw, 584px"></a>It was past midnight when we got back on the highway. To extend the range, I slowed down to 75 km/h (46 mph). The limit was 130km/h, so a trailer truck started taking over us. Then I remembered a Tour de France strategy I saw on TV:</p><p><em>#6: In an emergency, you can extend the range of your EV by tailgating a&nbsp; trailer truck, a strategy called <a href="https://en.wikipedia.org/wiki/Drafting_(aerodynamics)" target="_blank" rel="noopener noreferrer">aerodynamic drafting</a>.</em></p><p>Don‚Äôt hold me responsible for traffic tickets or beating by an angry trucker. There I was, hidden behind a trailer truck, to save electricity while driving 90 km/h. The car showed it was using less power, and the range extended. When we entered Zagreb, there was 19 km left:</p><p><a href="https://svedic.org/wp-content/uploads/2020/08/Zagreb-low-battery-small.jpg"><img title="Kona EV low battery warning, Credits: Zeljko Svedic" src="https://svedic.org/wp-content/uploads/2020/08/Zagreb-low-battery-small-300x233.jpg" alt="" width="300" height="233" srcset="https://svedic.org/wp-content/uploads/2020/08/Zagreb-low-battery-small-300x233.jpg 300w, https://svedic.org/wp-content/uploads/2020/08/Zagreb-low-battery-small-387x300.jpg 387w, https://svedic.org/wp-content/uploads/2020/08/Zagreb-low-battery-small.jpg 630w" sizes="(max-width: 300px) 100vw, 300px"></a></p><p>I went to a fast-charging station I could actually activate, and I fell asleep in the car.</p><p>I made fun of Petrol for their unfriendliness towards tourists, but at least the EV chargers at Petrol stations are working. In Croatia, you can‚Äôt always count on that. In my modest opinion, that stems from the fact that charging is free. Why is free electricity a problem, you ask? There is no commercial incentive to build and maintain charging stations. Instead, most chargers are built when the EU donates money or when the government is pressed to improve EV infrastructure. Local politicians come when a charging station is finished to deliver speeches: ‚ÄúThis is an example of Croatia using EU funds wisely, for a green and sustainable future.‚Äù After the journalists leave, there is no economic interest in sustaining chargers in the future.</p><p>For example, this city-provided Type 2 charger has been broken for three months:</p><p><a href="https://svedic.org/wp-content/uploads/2020/08/Garage-broken-charger-2-small.jpg"><img title="Broken charger 1, Credits: Zeljko Svedic" src="https://svedic.org/wp-content/uploads/2020/08/Garage-broken-charger-2-small.jpg" alt="" width="641" height="873" srcset="https://svedic.org/wp-content/uploads/2020/08/Garage-broken-charger-2-small.jpg 641w, https://svedic.org/wp-content/uploads/2020/08/Garage-broken-charger-2-small-220x300.jpg 220w" sizes="(max-width: 641px) 100vw, 641px"></a></p><p>In front of the Zagreb city hall, one charging station displays an error:</p><p><a href="https://svedic.org/wp-content/uploads/2020/08/City-charger-error-1.jpg"><img title="Broken charger 2, Credits: Zeljko Svedic" src="https://svedic.org/wp-content/uploads/2020/08/City-charger-error-1.jpg" alt="" width="704" height="455" srcset="https://svedic.org/wp-content/uploads/2020/08/City-charger-error-1.jpg 704w, https://svedic.org/wp-content/uploads/2020/08/City-charger-error-1-300x194.jpg 300w, https://svedic.org/wp-content/uploads/2020/08/City-charger-error-1-464x300.jpg 464w" sizes="(max-width: 704px) 100vw, 704px"></a></p><p>While other just states it is out of order:</p><p><a href="https://svedic.org/wp-content/uploads/2020/08/City-charger-error-2.jpg"><img title="Broken charger 3, Credits: Zeljko Svedic" src="https://svedic.org/wp-content/uploads/2020/08/City-charger-error-2.jpg" alt="" width="535" height="145" srcset="https://svedic.org/wp-content/uploads/2020/08/City-charger-error-2.jpg 535w, https://svedic.org/wp-content/uploads/2020/08/City-charger-error-2-300x81.jpg 300w, https://svedic.org/wp-content/uploads/2020/08/City-charger-error-2-500x136.jpg 500w" sizes="(max-width: 535px) 100vw, 535px"></a></p><p>What I learned is:</p><p><em>#7: Free chargers are often unmaintained, and you are better with a commercial provider you can hold accountable.</em></p><p>‚ÄúBut, there is nothing to break on a charging station!‚Äù I thought. Boy, I was wrong. EV charging stations use internal computer for authorization, and for controlling the display and the charging protocol. Before charging starts, a car locks the cable with the mechanical pin and signals that back to the charger. When a car is unlocked, it signals a charger to drop the voltage to zero, so the mechanical pin holding cable can be released. Guess what?</p><p><em>#8: Some chargers are not compatible with some EVs and refuse to stop charging, resulting in the ‚ÄúHotel California effect.‚Äù You can check out in the app, but you can never leave.</em></p><p>For example, Croatian Telecom chargers. The first time their cable got stuck in my car I panicked. Their app was not working, the charger was not responding to car signals, and their charging stations don‚Äôt have the stop button:</p><p><a href="https://svedic.org/wp-content/uploads/2020/08/HT-charger-cable-locked.jpg"><img title="HT charger cable locked, Credits: Zeljko Svedic" src="https://svedic.org/wp-content/uploads/2020/08/HT-charger-cable-locked.jpg" alt="" width="899" height="585" srcset="https://svedic.org/wp-content/uploads/2020/08/HT-charger-cable-locked.jpg 899w, https://svedic.org/wp-content/uploads/2020/08/HT-charger-cable-locked-300x195.jpg 300w, https://svedic.org/wp-content/uploads/2020/08/HT-charger-cable-locked-768x500.jpg 768w, https://svedic.org/wp-content/uploads/2020/08/HT-charger-cable-locked-461x300.jpg 461w" sizes="(max-width: 899px) 100vw, 899px"></a></p><p>They have the contact phone, but it was Sunday afternoon. I called them, expecting three levels of menus and ‚Äúwe are not working on weekends‚Äù message. To my great surprise, a female voice answered after two rings. ‚ÄúI have a big problem with your EV charging station: I can‚Äôt get my car out because‚Ä¶‚Äù My explanation was stopped by ‚ÄúWhat is the serial number written on the station?‚Äù As I dictated the serial, I could hear fast typing. A few seconds later charging station stopped buzzing, display went blank for a moment, and I could unplug my car. ‚ÄúWow, that was fast, thank you very much!‚Äù I said. Although they currently don‚Äôt charge for electricity, Croatian Telekom is a commercial operation. They have a direct 24/7 support line where a representative can reset any charging station in Croatia, provided the serial number. It seems that such a solution was easier than fixing charging stations or the charging app. I now just call them and say, ‚ÄúCan you reset the station with serial X?‚Äù If you work there, let me know, I would like to buy a box of chocolates for the team.</p><p>Unfortunately, EV charges are not the only thing broken here. Our driving culture is also broken:</p><p><em>#9: It is common to find a gas car parked at the EV charging spot, the practice called <a href="https://twitter.com/ivebeeniced?lang=en" target="_blank" rel="noopener noreferrer">ICEing</a> (internal combustion engine-ing).</em></p><p>One time I urgently needed to charge, and this was the charging spot:</p><p><a href="https://svedic.org/wp-content/uploads/2020/08/EV-parking.jpg"><img title="Blocking EV parking, Credits: Zeljko Svedic" src="https://svedic.org/wp-content/uploads/2020/08/EV-parking.jpg" alt="" width="717" height="785" srcset="https://svedic.org/wp-content/uploads/2020/08/EV-parking.jpg 717w, https://svedic.org/wp-content/uploads/2020/08/EV-parking-274x300.jpg 274w" sizes="(max-width: 717px) 100vw, 717px"></a></p><p>ICEing is common around the world. Tesla <a href="https://electrek.co/2019/01/14/tesla-sollution-avoid-gas-cars-icing-superchargers/" target="_blank" rel="noopener noreferrer">implemented parking locks in China</a>. German police are <a href="https://www.driven.co.nz/news/german-police-take-drastic-action-when-truck-parks-in-ev-charging-bay/" target="_blank" rel="noopener noreferrer">lifting cars instead of giving parking tickets</a>. Croatian EV owners decided to stage a short protest, where they <a href="https://www.thedrive.com/news/31422/now-its-ev-owners-who-are-blocking-gas-pumps-in-revenge-for-being-iced" target="_blank" rel="noopener noreferrer">blocked access to a gas station with EVs</a>, for five minutes:</p><p><a href="https://svedic.org/wp-content/uploads/2020/08/what-led-croatian-ev-owners-to-plan-the-revenge-of-evs.jpg"><img title="EV owners protest, Credits: Tesla Owners Croatia" src="https://svedic.org/wp-content/uploads/2020/08/what-led-croatian-ev-owners-to-plan-the-revenge-of-evs-1024x576.jpg" alt="" width="584" height="329" srcset="https://svedic.org/wp-content/uploads/2020/08/what-led-croatian-ev-owners-to-plan-the-revenge-of-evs-1024x576.jpg 1024w, https://svedic.org/wp-content/uploads/2020/08/what-led-croatian-ev-owners-to-plan-the-revenge-of-evs-300x169.jpg 300w, https://svedic.org/wp-content/uploads/2020/08/what-led-croatian-ev-owners-to-plan-the-revenge-of-evs-768x432.jpg 768w, https://svedic.org/wp-content/uploads/2020/08/what-led-croatian-ev-owners-to-plan-the-revenge-of-evs-1536x864.jpg 1536w, https://svedic.org/wp-content/uploads/2020/08/what-led-croatian-ev-owners-to-plan-the-revenge-of-evs-500x281.jpg 500w, https://svedic.org/wp-content/uploads/2020/08/what-led-croatian-ev-owners-to-plan-the-revenge-of-evs.jpg 1920w" sizes="(max-width: 584px) 100vw, 584px"></a></p><p>Online reactions were not sympathetic:</p><p><a href="https://svedic.org/wp-content/uploads/2020/08/Protest-comments-1.png"><img title="Comments from https://www.thedrive.com/news/31422/now-its-ev-owners-who-are-blocking-gas-pumps-in-revenge-for-being-iced" src="https://svedic.org/wp-content/uploads/2020/08/Protest-comments-1.png" alt="" width="712" height="430" srcset="https://svedic.org/wp-content/uploads/2020/08/Protest-comments-1.png 712w, https://svedic.org/wp-content/uploads/2020/08/Protest-comments-1-300x181.png 300w, https://svedic.org/wp-content/uploads/2020/08/Protest-comments-1-497x300.png 497w" sizes="(max-width: 712px) 100vw, 712px"></a></p><p>I find Paul‚Äôs ‚Äúthey‚Äôre blocking poor people‚Äù comment particularly insightful. EV owners are currently perceived as rich geeks. There was a similar dilemma in the early 1900s: why ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://svedic.org/tech/daddy-did-you-really-need-electric-car">https://svedic.org/tech/daddy-did-you-really-need-electric-car</a></em></p>]]>
            </description>
            <link>https://svedic.org/tech/daddy-did-you-really-need-electric-car</link>
            <guid isPermaLink="false">hacker-news-small-sites-24342495</guid>
            <pubDate>Tue, 01 Sep 2020 15:01:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to resume a SSH encrypted and x11 forwarded session]]>
            </title>
            <description>
<![CDATA[
Score 56 | Comments 4 (<a href="https://news.ycombinator.com/item?id=24342148">thread link</a>) | @ZnZirconium
<br/>
September 1, 2020 | https://dwaves.org/2019/01/21/how-to-resume-a-ssh-encrypted-and-x11-forwarded-session/ | <a href="https://web.archive.org/web/*/https://dwaves.org/2019/01/21/how-to-resume-a-ssh-encrypted-and-x11-forwarded-session/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				
<p>‚ÄúXpra is a tool which allows you to run X programs ‚Äî usually on a remote host ‚Äî and then direct their display to your local machine, disconnect from these programs, and reconnect from<br>
the same or another machine, all without losing any state. It differs from standard X forwarding in that it allows disconnection and reconnection without disrupting the forwarded<br>
application; it differs from VNC and similar remote display technologies in that xpra is rootless: i.e., applications forwarded by xpra appear on your desktop as normal windows managed<br>
by your window manager, rather than being all ‚Äútrapped in a box together‚Äù. Xpra also uses a custom protocol that is self-tuning and relatively latency-insensitive, and thus is usable<br>
over network connections that are too slow or unreliable for standard X forwarding. Xpra can also be used to shadow an existing X11 display.‚Äù</p>
<p><a href="https://dwaves.de/wp-content/uploads/2019/11/xpra.man_-1.txt">src: manpage: xpra.man.txt</a></p>
<p>By default the Xpra server announces available sessions (username and display number) via mDNS to the local network. Use mdns=no to disable it.</p>
<p><a href="https://xpra.org/">xpra</a> developed by <a href="https://en.wikipedia.org/wiki/Xpra">Nathaniel Smith, Antoine Martin</a> as seen on <a href="https://superuser.com/questions/249391/how-to-resume-disconnected-ssh-x11-forwarded-applications">superuser.com</a>, <a href="https://xpra.org/trac/wiki/Download#Linux">https://xpra.org/trac/wiki/Download#Linux</a></p>
<p><a href="http://devloop.org.uk/">Antoine Martin http://devloop.org.uk/</a></p>
<p><a href="https://www.pobox.com/">Nathaniel Smith https://www.pobox.com/</a></p>
<p><a href="https://www.serviware.com/">Arthur Huillet https://www.serviware.com/</a></p>
<p>is a pretty cool ‚Äúrun my gui app on server but display window locally‚Äù x11 window forwarding tool.</p>
<p>tested 2018-11-21:</p>
<pre><span>hostnamectl</span>
  Operating System: CentOS Linux 7.5 (Core) (client and server)
      Architecture: x86-64

# on client and server install xpra package
# ubuntu/debian apt based
<span>apt update</span>
<span>apt install xpra</span>
# fedora/centos/redhat rpm based
<span>cd /etc/yum.repos.d/ &amp;&amp;  sudo wget https://xpra.org/repos/CentOS/xpra.repo
yum update
yum search xpra</span>

ffmpeg-xpra.x86_64 : ffmpeg libraries for xpra
ffmpeg-xpra-debuginfo.x86_64 : Debug information for package ffmpeg-xpra
libvpx-xpra.x86_64 : vpx library for xpra
libwebp-xpra.x86_64 : WebP library and conversion tools for xpra
libwebp-xpra-debuginfo.x86_64 : Debug information for package libwebp-xpra
python2-xpra.x86_64 : python2 build of xpra
python2-xpra-audio.x86_64 : python2 build of xpra audio support
python2-xpra-client.x86_64 : python2 build of xpra client
python2-xpra-server.x86_64 : python2 build of xpra server
x264-xpra.x86_64 : x264 library for xpra
x264-xpra-debuginfo.x86_64 : Debug information for package x264-xpra
xpra.x86_64 : Xpra gives you "persistent remote applications" for X.
xpra-common.noarch : Common files for xpra packages
xpra-common-client.noarch : Common files for xpra client packages
xpra-common-server.noarch : Common files for xpra server packages
xpra-debuginfo.x86_64 : Debug information for package xpra
xpra-html5.noarch : Xpra HTML5 client
ffmpeg-xpra-devel.x86_64 : Development package for ffmpeg
libvpx-xpra-devel.x86_64 : Development files for the vpx library
libwebp-xpra-devel.x86_64 : Development files for the webp library
x264-xpra-devel.x86_64 : Development files for the x264 library

<span>yum install xpra xeyes xclock

</span># restart server and client

# still on client testrun (ssh on default port 22 (can leave this out))<span>
xpra start ssh/user@server.com:22 --start-child=xeyes
</span>
<a href="https://dwaves.de/wp-content/uploads/2018/11/xpra.png"><img loading="lazy" src="https://dwaves.de/wp-content/uploads/2018/11/xpra.png" alt="" width="948" height="471" srcset="https://dwaves.de/wp-content/uploads/2018/11/xpra.png 948w, https://dwaves.de/wp-content/uploads/2018/11/xpra-300x149.png 300w, https://dwaves.de/wp-content/uploads/2018/11/xpra-768x382.png 768w" sizes="(max-width: 948px) 100vw, 948px"></a>
# now in the terminal window
# if you hit Ctrl+C (Cancel)
# it will disconnect, but leave xeyes running on the server
# to reconnect
<span>xpra attach ssh:user@server.com:22</span>

# amazing! stuff! well done :)

# <a href="https://xpra.org/trac/wiki/Clients/HTML5">html5 client</a>
<span>xpra start --bind-tcp=0.0.0.0:14500 --html=on --start=xterm</span>
# You can then point your browser to
# ‚Äãhttp://localhost:14500/
# and the xterm should appear in your browser window. 
</pre>


<p><a href="https://dwaves.de/wp-content/uploads/2019/11/xpra.man_.txt">xpra.man.txt</a></p>

<p><a href="https://dwaves.de/wp-content/uploads/2019/11/xpra_menu.png"><img loading="lazy" src="https://dwaves.de/wp-content/uploads/2019/11/xpra_menu.png" alt="" width="265" height="506" srcset="https://dwaves.de/wp-content/uploads/2019/11/xpra_menu.png 265w, https://dwaves.de/wp-content/uploads/2019/11/xpra_menu-157x300.png 157w" sizes="(max-width: 265px) 100vw, 265px"></a></p>
<p>#OMG! It even allows file upload into the user‚Äôs home directory!</p>
<p>holy cow üôÇ</p>
<p>it also tries to implement remote-print‚Ä¶ meaning: if you open a document on the server, it shall allow you to print locally. (untested)</p>
<p>‚Äú2018-11-22 14:00:32,372 Error: printing disabled:<br>
2018-11-22 14:00:32,372 No module named cups‚Äù</p>

<p>very well done statistics dialogue</p>
<p><a href="https://dwaves.de/wp-content/uploads/2019/11/xpra_graphs_statistics.png"><img loading="lazy" src="https://dwaves.de/wp-content/uploads/2019/11/xpra_graphs_statistics.png" alt="" width="734" height="453" srcset="https://dwaves.de/wp-content/uploads/2019/11/xpra_graphs_statistics.png 734w, https://dwaves.de/wp-content/uploads/2019/11/xpra_graphs_statistics-300x185.png 300w" sizes="(max-width: 734px) 100vw, 734px"></a></p>

<p><a href="https://xpra.org/trac/wiki/Usage" target="_blank" rel="noopener noreferrer">https://xpra.org/trac/wiki/Usage</a></p>
				
									<!--/aboutauthor-->
				

								
			</div></div>]]>
            </description>
            <link>https://dwaves.org/2019/01/21/how-to-resume-a-ssh-encrypted-and-x11-forwarded-session/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24342148</guid>
            <pubDate>Tue, 01 Sep 2020 14:31:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ger√§t 32620: the machine that powered numerous number stations]]>
            </title>
            <description>
<![CDATA[
Score 172 | Comments 62 (<a href="https://news.ycombinator.com/item?id=24342120">thread link</a>) | @fanf2
<br/>
September 1, 2020 | https://blog.ardy.io/2020/8/geraet-32620/ | <a href="https://web.archive.org/web/*/https://blog.ardy.io/2020/8/geraet-32620/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div class="page">
    
  
  <div>
      <div>
      
        
      
      
        <p>The machine that powered numerous Number Stations</p>
      
        <p>
          uberardy ‚Äî 2020-08-29
        </p>
      </div>
  
  <div>
    <p>A few years ago, I first stumbled over some recordings of number stations and started reading up on their history. For most of them, we have pretty good guesses who ran them and for what purpose. One example is the <a href="https://www.youtube.com/watch?v=wxlrnAC7Y7Q">Gongs and Chimes Station</a>, known for its melody that got increasingly creepy over the years, the more worn down the tape got. What always seemed mysterious to me is the kinds of devices used to actually generate the spoken messages. Were they similar to electromechanical devices used for time announcements over the telephone, <a href="https://youtu.be/4aMqKr0D-7o?t=47">with multiple play heads</a> or <a href="https://www.youtube.com/watch?v=lESMfh72RJg">complicated tape mechanisms</a>?</p>
<p>Then, I stumbled over <a href="https://www.youtube.com/watch?v=4buFLqjvTjA">this video</a>. And... It's <em>the actual voice</em> used by the <em>Gongs and Chimes</em> Station? What surprised me was how rather small, polished and complex the machine seemed. There definitely was a microcontroller in there, it had an LED display, and just in general seemed like a rather fancy device.</p>

</div>

<div>
    
    <p><img src="https://blog.ardy.io/2020/8/geraet-32620/sprach-morse-generator.jpg" alt="Grey box-shaped machine with a tilted front panel. There are a paper punch tape reader, LED display and numeric keyboard with some extra buttons on the front."> 
    </p>
    
</div>

<div>
    <p>The most important thing however was, I finally knew what to look for. Searching for "Sprach-Morse-Generator" (Speech-Morse-Generator) quickly got me to <a href="https://www.cryptomuseum.com/spy/owvl/32620/index.htm">a page about it at the crypto museum</a> which also mentions its official name: "Ger√§t 32620" (Device 32620). The page also has some great information about the history of the device and the voice behind it.</p>
<p>What exited me the most was... There are actually links to technical documentation about the Speech generator and its companion device, Ger√§t 32621, which could be used for digitizing voice recordings and writing them to EPROM cartridges to use with Ger√§t 32620.</p>

</div>

<div>
    <h3><a href="https://www.cryptomuseum.com/spy/owvl/32620/files/MfS_OTS_4061.pdf">The 32620 Guide</a></h3>
<p>I don't want to go over everything mentioned in these guides; if you speak German I'd recommend giving it a read yourself; but I do want to mention some things I found notable.</p>
<p>As input, either paper punch tapes, the keyboard, or a serial interface (RS-232) can be used. The last one is a bit unclear, it is mentioned in the beginning, but later parts of the document mention it as a possible future addition. Either way, the messages are transferred to RAM, from where they can later be transmitted. It can hold up to 3791 characters.</p>
<p>The language samples are loaded from an exchangeable cartridge which can hold up to 96 kByte, where they are stored as uncompressed <a href="https://en.wikipedia.org/wiki/Pulse-code_modulation">PCM</a> . They proudly mention the cartridges can be swapped in 10 seconds.</p>

</div>

<div>
    
    <p><img src="https://blog.ardy.io/2020/8/geraet-32620/sprachgenerator.png" alt="Table which shows which settings correspond to how many words per minute, and that the pitch can be varied up or down by 10%."> 
    </p>
    <p>The number of words per minute and pitch of the voice can be varied, which explains why some recordings of number stations with the same voice sound a bit different.</p>
</div>

<div>
    <p>Technical drawing of the display and keyboard. The display can show which message, group and digit is played right now.</p>
    <p><img src="https://blog.ardy.io/2020/8/geraet-32620/tastatur.png" alt="Technical drawing of display and keyboard: Display showing three groups of digits. Keyboard with numeric buttons, &quot;RES&quot;, &quot;STA/STP&quot;, &quot;<&quot;, &quot;>&quot;, &quot;MODE&quot;, &quot;INP&quot;, &quot;EX&quot;, &quot;OUT&quot;, &quot;CLR&quot; buttons."> 
    </p>
    
</div>

<p>What I find quite surprising: The keyboard and output of the device mostly uses English words. A bit unexpected for a device developed in eastern Germany for use in the Soviet Union; I would rather have expected Russian there.</p>

<div>
    
    <p><img src="https://blog.ardy.io/2020/8/geraet-32620/flowchart.png" alt="Chart showing which buttons to press and what will appear on the display for inputting morse code."> 
    </p>
    <p>There are some pretty charming charts in the documentation showing some interactions with the device.</p>
</div>

<div>
    <p>Bus chart of the whole system. Interestingly, it shows a second language module, although the final device only supports one language module at a time.</p>
    <p><img src="https://blog.ardy.io/2020/8/geraet-32620/bus_chart.png" alt="Bus and component chart of the system, showing how the microcontroller (z80) is connected to program memory, RAM, IO devices. like keyboard and display, a digital to analogue converter for sound output and the language module for the speech samples."> 
    </p>
    
</div>

<div>
    
    <p><img src="https://blog.ardy.io/2020/8/geraet-32620/backside.png" alt="Technical drawing of the back of the device, with power and data inputs and line output."> 
    </p>
    <p>On the back are a speaker, output to the transmitter and some status outputs and remote control inputs. These were probably used so the chimes and speech wouldn't overlap.</p>
</div>

<p>There are also pretty detailed schematic drawings and lists of component at the end of the document.</p>

<div>
    <h3><a href="https://www.cryptomuseum.com/spy/owvl/32620/files/MfS_OTS_4062b.pdf">The 32621 Guide</a></h3>
<p>This is the companion device used for digitizing voices and writing them to cartridges for the 32620. It's quite astounding how complicated this device really is: It can either record words separately or all of them in one go, it automatically recognizes the beginning and end of the words, it can duplicate cartridges and it even has a UV chamber for clearing the EEPROMS on a cartridge to reuse it.</p>
<p>What's interesting: There are no photos of this device. It's unclear how many were produced, there may just have been one or two. The only things we know about it are from this document.</p>
<p>In its architecture, it is quite similar to the 32620, it has a very similar keyboard and probably the same display.</p>

</div>

<div>
    <p>One interesting difference: It uses German labels on the keyboard. Also, all of the text it shows on the display is in German.</p>
    <p><img src="https://blog.ardy.io/2020/8/geraet-32620/tastatur2.png" alt=""> 
    </p>
    
</div>

<div>
    <p>The documentation mentions recording up to 20 words. This also came up in the 32620's documentation, although only 13 words were ever used: digits 0-9, "Achtung" (Attention), "Trennung" (Seperation) and "Ende" (End).</p>
<p>It has controls for adjusting the 0-level of the recordings and amplification. LEDs show whether it senses an audio signal and whether it's clipping. The amplification for single words can also be adjusted later, from a value of 0 to 7. It seems like this doesn't actually change the recorded samples but controls the amplification level in the digital to analogue converter. This feature is intended for making all the digits similar in volume.</p>
<p>I find this a bit surprising, all of this is something that could be done with other equipment, especially since only two different voices for these machines are known: German and Spanish.</p>
<p>In order to check the recording, either all recorded digits or just combinations of them can be played back.</p>
<p>When programming to an EPROM, it transfers the start address and amplification for each word and the samples from RAM to the ROM and checks whether the values it reads back after programming are as expected.</p>

</div>

<div>
    
    <p><img src="https://blog.ardy.io/2020/8/geraet-32620/cartridge.png" alt="Technical drawing of an EPROM cartridge with the chips numbered from left to right."> 
    </p>
    <p>Numbering of the EPROMs on the cartridge. If the read back values don't match, the operator can switch out the offending EPROM chip.</p>
</div>

<p>There is a separate mode for deleting cartridges where the time to expose them to UV can be typed in via the keyboard. If the rom cartridge is double sided, the cartridge has to be turned around to delete the chips on the other side.</p>

<div>
    <p>For all of the different modes of the 32621, flow charts for the interface are provided.</p>
    <p><img src="https://blog.ardy.io/2020/8/geraet-32620/record-flowchart.png" alt="Flow chart that shows keypresses and the displayed text for recording words."> 
    </p>
    
</div>

<div>
    
    <p><img src="https://blog.ardy.io/2020/8/geraet-32620/front.png" alt="Technical drawing of the front of the device, with keyboard, display and slots for programming and deleting cartridges."> 
    </p>
    <p>The front also features various other indicators, e.g. for the different voltages in the device.</p>
</div>

<p>This manual also includes schematics for the device.</p>

<div>
    <h3>The EPROMS</h3>
<p>The crypto museum also provides dumps of the EPROMS for both the German and Spanish cartridges.</p>
<p>Having read the manuals, decoding them is actually not that hard: The data is stored as PCM, and the 32621 Guide mentions the time between samples is 125Œºs, which adds up to a sample rate of 8000Hz.
Loading the roms into Audacity with File&gt;Import&gt;Raw Data, you can actually already listen to them!</p>
<p>[Edit: Here are the dumps as WAVs, if you're interested: <a href="https://blog.ardy.io/2020/8/geraet-32620/2620_ger.wav">german</a>, <a href="https://blog.ardy.io/2020/8/geraet-32620/2620_span.wav">spanish</a>]</p>
<h4>The Header</h4>
<p>In the very beginning of the first EPROM, there are 64 byte of header information, containing the start address for each word and its amplification factor. For 20 words, that leaves just over 3 bytes per word, although they seem to just stick to 3.</p>
<p>Decoding the rest of the header took a lot longer than anticipated. I found the 3 bits for the amplification value pretty quickly in the last byte for each word. The rest somehow had to be the start address or some offset, and possibly the length. For accessing the values in each of the 8K chips, 13 Bits for the address are needed. To select one of the up to 12 EPROMs, another 4 Bit are required. This adds up to 17 Bits, so one more than in two bytes.</p>
<p>To get around this, there are two obvious solutions: Stuff the one extra bit into the byte which holds the amplification level, or throw away the least significant bit for the start address, so just every other sample can be used as the start sample.</p>
<p>Two things made this really hard to pin down: The z80 is a <a href="https://en.wikipedia.org/wiki/Endianness">little endian machine</a>, meaning for 16 bit values, the less significant byte is stored before the more significant byte, but this doesn't mean they would <em>have</em> to store the values in this order. Also, the binary chip select value for the first EPROM isn't 0, but 2. I only stumbled upon that when looking at the schematic for the EPROM cartridge (p. 38 in the 32620 manual). There's also a really cute demultiplexer built from discrete AND and NAND gates for translating the chip address to the actual chip select lines!</p>

</div>

<div>
    <p>Isn't it gorgeous! Note how it only <em>suggests</em> the presence of the fourth address line for the chip select with that not connected NAND.</p>
    <p><img src="https://blog.ardy.io/2020/8/geraet-32620/demux.png" alt="The schematic for the demultiplexer built out of discreet components."> 
    </p>
    
</div>

<div>
    <p>My best guess to why is the case is the chip select address values 0 and 1 are already used to select some other components. But, at last, I think I found out how it works:</p>
<p>For each word, the second byte contains the 3 least significant bits for the chip select and 5 of the address bits. The first byte contains the remaining 8 address bits. The end of each word is the beginning address for the next word. That's why there are two extra bytes after the last word. This would have worked for up to twenty words, as there would still be 4 spare bytes to contain the end address of the last word. The third byte contains the remaining chip select bit, some mysterious bits, and 3 bits for the amplification level.</p>
<p>The remaining chip select bit is still a bit confusing to me: The German recordings don't use it, since they fit on just 6 EPROMs. The Spanish one has to use it for the last two words, but there's something odd happening with the values in the one before the last two words.</p>
<p>Another thing worth noting: The German words all use the default amplification level of 3, whereas the Spanish ones use lower and higher values for some words. To be <em>really</em> authentic, you'd have to take that into account when playing the samples.</p>
<p>One last thing I was interested in: The Spanish voice uses the same word for "Trennung" and "Ende"&amp;em;"final", and they sure <em>sound</em> the same. So, is ‚Ä¶</p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.ardy.io/2020/8/geraet-32620/">https://blog.ardy.io/2020/8/geraet-32620/</a></em></p>]]>
            </description>
            <link>https://blog.ardy.io/2020/8/geraet-32620/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24342120</guid>
            <pubDate>Tue, 01 Sep 2020 14:30:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Privacy Matters]]>
            </title>
            <description>
<![CDATA[
Score 250 | Comments 84 (<a href="https://news.ycombinator.com/item?id=24341079">thread link</a>) | @Clo_S
<br/>
September 1, 2020 | https://thistooshallgrow.com/blog/privacy-security-roundup | <a href="https://web.archive.org/web/*/https://thistooshallgrow.com/blog/privacy-security-roundup">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-block-type="2" id="block-0690890445953831c024"><div><p><em>Trigger warning: authoritarianism, state surveillance, the Holocaust. If you want to avoid these topics, please jump to the last paragraph of this introduction, starting with ‚ÄòEnough about the depressing stuff.‚Äô</em></p><p>Before we start, I feel like I need to give a bit of background on why I care so deeply about privacy. It‚Äôs partly historical. Being Ashkenazi, I learnt from a very young age about the importance of sensitive information, and who you give that information to. My grandfather broke the law by not going to the police station to register himself as a Jew. The Holocaust saw 76,000 Jews deported to death camps from France alone - around 1/4th of the country‚Äôs Jewish population at the time. There‚Äôs a chance that not being part of the Jewish census saved his life. Lesson: be careful who you give sensitive information to.</p><p>That grandfather and two of his brothers left Paris in the middle of the war, and took a train south with no plan, no luggage, no contact, and no destination other than, well, heading south. They were helped by strangers and survived. Their mother however, along with two other siblings, had a plan. They had a deal with a smuggler to reach unoccupied France. The smuggler informed the Nazis, and all 3 of them died in deportation. Lesson: each person who has information on you represents an additional chance for it to be leaked.</p><p>And yes, we can raise the irony of mentioning my Jewish grandpa to warn you against sharing sensitive information online. There, I just did.&nbsp;</p><p>While this happened in the 1940‚Äôs, a data point‚Äôs lifespan is drastically different today. It‚Äôs possible that you posted something online 10 years ago, and it was fine back then, but 20 years from now you will hope that no one finds it. My message is: the Internet never forgets, cultures change, and retroactive laws exist. People can get screwed over digital data. Let‚Äôs take the obvious example: China‚Äôs state surveillance has an eye on literally each and every move of its inhabitants, whether physical or digital. The state uses extensive data to allocate social scores, which can have a <a href="https://www.abc.net.au/news/2018-09-18/china-social-credit-a-model-citizen-in-a-digital-dictatorship/10200278?nw=0" target="_blank">drastic impact</a> on Chinese people‚Äôs life, including banning them from purchasing train or plane tickets, providing them with lower Internet speed, and denying them visas and loans. China also makes use of this surveillance system <a href="https://edition.cnn.com/interactive/2020/02/asia/xinjiang-china-karakax-document-intl-hnk/" target="_blank">against its Uyghur population</a>, detaining between 1 and 2 million people - the estimates vary - in concentration camps, where prisoners suffer <a href="https://en.wikipedia.org/wiki/Xinjiang_re-education_camps#Testimonies_of_treatment" target="_blank">extensively reported torture, brainwashing and forced labour</a>.&nbsp;</p><p>Apart from governmental issues, there‚Äôs also the topic of pervasive <a href="https://www.youtube.com/watch?v=iFTWM7HV2UI" target="_blank">tracking and ads</a>, championed by Facebook and Google. I‚Äôm yet to see the difference between today‚Äôs digital advertising and individually-customised mass manipulation. Maybe because there is none. Please try and change my mind if you have any conclusive elements.</p><p>Enough about the depressing stuff. I‚Äôve explained why your privacy matters, and we‚Äôre now about to dive into a few security concepts. I wrote this article with <a href="https://twitter.com/lp1eu" target="_blank">lp1</a>, as he knows much more about these concepts than I do. So here‚Äôs my first pro tip for you, unrelated to privacy or security: date people you admire. Now, let‚Äôs get into the technical aspects.</p><h2>CIA</h2><p>The CIA ‚Äòtriad‚Äô is a summary of the main concepts of information security. There are 3 aspects regarding information which are targeted by infosec:</p><ul data-rte-list="default"><li><p><strong>Confidentiality</strong>:<strong> </strong>the assurance that a piece of information can only be observed by authorised third parties.</p></li><li><p><strong>Integrity</strong>:<strong> </strong>the assurance that a piece of information is and stays accurate over time.</p></li><li><p><strong>Availability</strong>: the assurance that a piece of information can be accessed by an authorised user when they need it.</p></li></ul><h2>Encryption: Server-side vs. Client-side</h2><p>Encryption secures data and aims to maintain its confidentiality and integrity.</p><p>We differentiate server-side from client-side encryption. Server-side means that only information stored on said server is encrypted. This means that the company has the encryption key, and therefore can access your communication (yes, including your nudes). However, server-side encryption doesn‚Äôt apply to the <strong>transmission </strong>of your communication. The data you share is not necessarily encrypted, only the storage is, which is why you should favour platforms that use <a href="https://en.wikipedia.org/wiki/HTTPS" target="_blank">https</a>.</p><p>Client-side ‚Äì or end-to-end ‚Äì encryption means that the transmission of your information is encrypted, and that <strong>only your device</strong> has the key. If you log in from a different device, you won‚Äôt be able to see the exchanges. Since the company <strong>does not have the key</strong>,<strong> </strong>they cannot access your messages. As a result, even if they were to store your exchanges, said exchanges would automatically be encrypted. However, this also means that you won‚Äôt be able to recover your messages, should you lose the key.</p><p>In the case of a communication service, this means that the nudes you're sending to <strong>someone you trust</strong> are encrypted from your device to the company's server, as well as from their server to your trusted partner's device. Without encryption however, anyone on your network can see and tamper with all your communications. By 'tamper with', we mean any kind of modification by an unauthorised third-party. Examples include someone changing your password and email address on a platform to take over your account, deleting your private files on a cloud file storage service, replacing software in your online backups with malware, etc.</p></div></div><div data-block-type="2" id="block-yui_3_17_2_1_1598877921511_5282"><div><p>A recent example is the July Twitter hack, during which <a href="https://twitter.com/TwitterSupport/status/1286088135525318656" target="_blank">hackers managed to read users' messages from Twitter's admin control panel</a>. &nbsp;With end-to-end encrypted DMs, no one at Twitter would have been able to access them.</p><h2>Encryption vs. Hashing</h2><p>A distinction has to be made between two important notions: encryption and hashing. Encrypting information means that you turn it into scrambled text which can be decoded with a key. For instance, it's useful to make sure a communication between two peers cannot be read by an unauthorised person.&nbsp;</p><p>Hashing a piece of data on the other hand means that you turn it into a <strong>unique signature</strong> which <strong>cannot be reversed</strong> into its original readable state. The only way for someone to obtain the original input based on the hashing output, is to try inputs themselves until their output matches. Hashing is not intended as a cypher to decrypt, which is why encryption and hashing serve different purposes and are used in different cases. Hashing is noticeably useful to store passwords, because you avoid storing the actual easy-to-steal-and-reuse passwords. Instead, you compare the hashing output that you store to the hashing output of what a user entered while trying to log in. If you get the same hash that you‚Äôve stored, then the password is correct.</p></div></div><div data-block-type="2" id="block-yui_3_17_2_1_1598877921511_7990"><div><h2>100% secure does not exist</h2><p>Flaws and vulnerabilities can always be found. However, the sturdier your tools, the safer you'll be. And contrary to <a href="https://www.youtube.com/watch?v=djV11Xbc914" target="_blank">what A-ha used to sing</a>, it is better to be safe than sorry.</p><h2>Free vs. Open source</h2><p>Free and open source software are specific philosophies, based on specific values. Free software specifically refers to the notion of users' freedom, which isn't the case in open-source software. As <a href="https://www.gnu.org/philosophy/free-sw.en.html" target="_blank">the GNU website</a> puts it: 'To understand the concept, you should think of ‚Äúfree‚Äù as in ‚Äúfree speech,‚Äù not as in ‚Äúfree beer‚Äù'.</p><p>There are 4 criteria for software to be free:</p><ul data-rte-list="default"><li><p>Freedom 0: The freedom to run the programme as you wish, for any purpose.</p></li><li><p>Freedom 1: The freedom to study how the programme works, and change it so it does your computing as you wish. This entails having access to the source code.</p></li><li><p>Freedom 2: The freedom to redistribute copies so you can help others.</p></li><li><p>Freedom 3: The freedom to distribute copies of your modified versions to others.</p></li></ul><p>On the other hand, open-source software has a <a href="https://opensource.org/osd" target="_blank">less strict definition</a>, and a different philosophy. You can also see the source code, amongst other things.</p><p>If you want to get into the political aspect of these terminologies, <a href="https://www.gnu.org/philosophy/floss-and-foss.en.html" target="_blank">here</a>‚Äôs a good explanation.</p><h2>Credential stuffing attack</h2><p>Credential stuffing is a popular attack whose goal is to automatically test a user‚Äôs known credentials on multiple platforms on a large scale. Nowadays, it is widely used by malicious intruders because of the online accessibility of billions of credentials gathered from data leaks (<a href="https://www.troyhunt.com/dating-the-ginormous-myspace-breach/" target="_blank">MySpace</a>, <a href="https://www.bleepingcomputer.com/news/security/dailymotion-allegedly-hacked-85-million-user-accounts-stolen/" target="_blank">Dailymotion</a>, <a href="https://www.troyhunt.com/the-dropbox-hack-is-real/" target="_blank">Dropbox</a> to name some of the biggest).</p><p>And there you have it, a roundup of the main security concepts. Feel free to reach out to <a href="https://twitter.com/lp1eu" target="_blank">lp1</a> or <a href="https://twitter.com/this2shallgrow" target="_blank">me</a> on Twitter. Part 2 will be available next week, with a list of the privacy and security tools we frequently use and recommend.</p><p>If you‚Äôre looking for a UX researcher or UX designer to work in the privacy and security sphere, I‚Äôd love to have a chat with you! </p></div></div></div>]]>
            </description>
            <link>https://thistooshallgrow.com/blog/privacy-security-roundup</link>
            <guid isPermaLink="false">hacker-news-small-sites-24341079</guid>
            <pubDate>Tue, 01 Sep 2020 12:31:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[First Impressions of GitHub Codespaces]]>
            </title>
            <description>
<![CDATA[
Score 106 | Comments 92 (<a href="https://news.ycombinator.com/item?id=24339118">thread link</a>) | @legostormtroopr
<br/>
August 31, 2020 | https://www.aristotlemetadata.com/blog/2020/08/first-impressions-github-codespaces.html | <a href="https://web.archive.org/web/*/https://www.aristotlemetadata.com/blog/2020/08/first-impressions-github-codespaces.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                                <p>Github recently launched their new <a href="https://github.com/features/codespaces">Github codespaces</a> service - an online, in-browser Integrated Development Environment powered by <a href="https://code.visualstudio.com/">Visual Studio Code</a>. This environment allows someone to quickly load a virtual machine and a complete code editing interface, that is all accessible within the browser without having to install anything on the users machine. If you are familiar with products like <a href="https://aws.amazon.com/cloud9/">Amazon Web Services‚Äôs Cloud 9 IDE</a> or its predecessor C9.io this will probably feel very familiar.</p>

<p>As one of the lucky few who were given access to the GitHub Codespaces beta program I had the opportunity to test it out and offer my thoughts on behalf of the Aristotle team below.</p>

<h2 id="first-impressions">First impressions</h2>
<p>There were a few small changes that needed to be done to the <a href="https://www.aristotlemetadata.com/">Aristotle Metadata home page</a>, (including making this blogpost) and it was easy opening a Codespace to start working. Opening a code space for a project is literally as easy as GitHub says - click ‚ÄúOpen in Codespace‚Äù on a repository and it does the rest - no need to configuring or decommission a server, its all handled for you.</p>

<p><img src="https://www.aristotlemetadata.com/aristotle/images/blog/codespaces/codespaces-opening-project.png" alt="How to open Codespaces" title="How to open Codespaces"></p>

<p><a href="https://www.aristotlemetadata.com/">Our website</a> is a basic <a href="https://jekyllrb.com/">Jekyll</a> static site, and offers a great basic test of whats available in Codespaces already. Loading a fresh Codespace took less than 2 minutes, which is comparable to AWS Cloud9. As someone who used Cloud9 when it was still C9.io, Codespaces reminded me a lot of that - its a simple way to open an editor and a virtual machine for a GitHub project.</p>

<p>The <a href="https://docs.github.com/en/github/developing-online-with-codespaces/about-codespaces">documentation for Codespaces</a> is also great. What I didn‚Äôt know is that GitHub can also <a href="https://docs.github.com/en/github/developing-online-with-codespaces/personalizing-codespaces-for-your-account">load your dotfiles directly into each new Codespace</a>, so your preferences (<code>.bashrc</code> and similar files) will follow you across Codespaces.</p>

<h2 id="editing-files">Editing files</h2>
<p>Being based on Visual Studio Code, <strong>Yes, Codespaces has a Dark Mode</strong>.</p>

<p><img src="https://www.aristotlemetadata.com/aristotle/images/blog/codespaces/codespaces-dark-editor.png" alt="Default Codespaces Editor" title="Default Codespaces Editor"></p>

<p>Although if you are using different browsers to open your workspace (which I had to do for reasons below), your colour scheme preferences won‚Äôt follow you across browsers. I‚Äôm not a regular user of Visual Studio Code, but it seems to includes all the standard features you expect from a browser, such as syntax highlighting, VIm and Emac keybindings (which work very well in browser), and autosave which is enabled by default, and I promptly disabled.</p>

<p>You can also drag-and-drop files from your local machine into Codespaces filesystem, and preview and edit certain non-text files in the browser, such as images, both of which are really handy for web development.</p>

<h2 id="terminal-emulator">Terminal emulator</h2>
<p>Codespaces includes a powerful terminal editor that seems to be based on a stock Debian image. The only thing I didn‚Äôt like is that separate terminals are accessed using a dropdown instead of with tabs, but this is a minor detail.</p>

<p><strong>Big news: Docker is here</strong>, and it works well.</p>

<p><img src="https://www.aristotlemetadata.com/aristotle/images/blog/codespaces/codespaces-docker.png" alt="Docker in Codespaces" title="Docker in Codespaces"></p>

<p>One of my biggest issues with C9.io was the lack of Docker support, which was solved when AWS bought Cloud9 but comes with the extra complexity of configuring your Amazon machine. So being able to simply run Docker in the browser is great. Docker-compose isn‚Äôt installed by default, and I haven‚Äôt had a chance to see how that works.</p>

<p>The only issue I found with the terminal emulator was you can only paste with right-click into Chromium-based browsers like Chrome or Edge, <em>Firefox users beware</em>.</p>

<h2 id="serving-sites">Serving sites</h2>
<p><a href="https://docs.github.com/en/github/developing-online-with-codespaces/developing-in-a-codespace">Codepsaces does a great job of handling port forwarding for you </a>, so you can simply start you server process (on a non-Port 80 port) and if GitHub detects a <code>localhost:PORT</code> combination it makes it accessible for you by clicking on the URL, as shown below:</p>

<p><img src="https://www.aristotlemetadata.com/aristotle/images/blog/codespaces/codespaces-jekyll.png" alt="Jekyll in Codespaces" title="Jekyll in Codespaces"></p>

<p>Loading and reloading Jekyll was fast, and by the time I clicked the forwarded link or switched tabs to preview changes to the site, it was already refreshed. 
<del><strong>However, this is another Chromium-only feature the clikcable port forward links don‚Äôt work in Firefox</strong></del>  this seems to be fixed now in Firefox.</p>

<p>One other minor issue is you can‚Äôt open your site in a private window or different browser to view the server without logging into GitHub. This isn‚Äôt a huge issue, but if you are trying to view what your site looks like under different browser or when logged out it can be troublesome.</p>

<p><img src="https://www.aristotlemetadata.com/aristotle/images/blog/codespaces/codespaces-final-site.png" alt="Aristotle Home Page in Codespaces" title="Aristotle Home Page in Codespaces"></p>

<h2 id="final-thoughts">Final thoughts</h2>

<p><strong>This is amazing</strong> and may become my default IDE - as a co-founder who is spending less time as a developer, and more time in meetings, writing emails, strategy papers, letters and tenders, <em>this is just amazing</em>! Most of my daily tools are Windows based, so I‚Äôve been spending a lot of time getting Windows Subsystem for Linux working alongside the rest of my daily workflow, which comes with its own headaches. So being able to quickly checkout a branch, make changes and take some load of my local machine seems very promising.</p>

<p>There are a lot of features here to review that I haven‚Äôt had a chance to look at, including collaborative workspaces, Git integration and connecting with a local version of Visual Studio, but from a quick glance everything works smoothly.</p>

<p>Overall, it‚Äôs an extremely quick way to get started on a project, and I look forward to writing an update after I‚Äôve had a chance getting the Aristotle Metadata Registry software, with all its many dependencies, running in codespaces under Docker-compose.</p>

<p><strong>The Aristotle Metadata Registry is no stranger to cloud innovation</strong>. If you want to learn how to access a cloud-hosted metadata registry as simple as Github‚Äôs Codespaces <a href="https://www.aristotlemetadata.com/contact.html">get in contact with us</a>.</p>

<p>Discuss this post on our community forum: https://community.aristotlemetadata.com/</p>

                                                            
                            </div></div>]]>
            </description>
            <link>https://www.aristotlemetadata.com/blog/2020/08/first-impressions-github-codespaces.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24339118</guid>
            <pubDate>Tue, 01 Sep 2020 06:37:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The database I wish I had]]>
            </title>
            <description>
<![CDATA[
Score 362 | Comments 211 (<a href="https://news.ycombinator.com/item?id=24337244">thread link</a>) | @todsacerdoti
<br/>
August 31, 2020 | https://euandre.org/2020/08/31/the-database-i-wish-i-had.html | <a href="https://web.archive.org/web/*/https://euandre.org/2020/08/31/the-database-i-wish-i-had.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
  
  
    
  
  <section>
    <p>I watched the talk
‚Äú<a href="https://vimeo.com/230142234">Platform as a Reflection of Values: Joyent, Node.js and beyond</a>‚Äù
by Bryan Cantrill, and I think he was able to put into words something I already
felt for some time: if there‚Äôs no piece of software out there that reflects your
values, it‚Äôs time for you to build that software<sup id="fnref:talk-time" role="doc-noteref"><a href="#fn:talk-time">1</a></sup>.</p>

<p>I kind of agree with what he said, because this is already happening to me. I
long for a database with a certain set of values, and for a few years I was just
waiting for someone to finally write it. After watching his talk, Bryan is
saying to me: ‚Äútime to stop waiting, and start writing it yourself‚Äù.</p>

<p>So let me try to give an overview of such database, and go over its values.</p>



<p>I want a database that allows me to create decentralized client-side
applications that can sync data.</p>

<p>The best one-line description I can give right now is:</p>

<blockquote>
  <p>It‚Äôs sort of like PouchDB, Git, Datomic, SQLite and Mentat.</p>
</blockquote>

<p>A more descriptive version could be:</p>

<blockquote>
  <p>An embedded, immutable, syncable relational database.</p>
</blockquote>

<p>Let‚Äôs go over what I mean by each of those aspects one by one.</p>



<p>I think the server-side database landscape is diverse and mature enough for
my needs (even though I end up choosing SQLite most of the time), and what I‚Äôm
after is a database to be embedded on client-side applications itself, be it
desktop, browser, mobile, etc.</p>

<p>The purpose of such database is not to keep some local cache of data in case of
lost connectivity: we have good solutions for that already. It should serve as
the source of truth, and allow the application to work on top of it.</p>

<p><a href="https://sqlite.org/index.html"><strong>SQLite</strong></a> is a great example of that: it is a very powerful
relational database that runs <a href="https://sqlite.org/whentouse.html">almost anywhere</a>. What I miss
from it that SQLite doesn‚Äôt provide is the ability to run it on the browser:
even though you could compile it to WebAssembly, <del>it assumes a POSIX filesystem
that would have to be emulated</del><sup id="fnref:posix-sqlite" role="doc-noteref"><a href="#fn:posix-sqlite">2</a></sup>.</p>

<p><a href="https://pouchdb.com/"><strong>PouchDB</strong></a> is another great example: it‚Äôs a full reimplementation of
<a href="https://couchdb.apache.org/">CouchDB</a> that targets JavaScript environments, mainly the browser and
Node.js. However I want a tool that can be deployed anywhere, and not limit its
applications to places that already have a JavaScript runtime environment, or
force the developer to bundle a JavaScript runtime environment with their
application. This is true for GTK+ applications, command line programs, Android
apps, etc.</p>

<p><a href="https://github.com/mozilla/mentat"><strong>Mentat</strong></a> was an interesting project, but its reliance on SQLite
makes it inherit most of the downsides (and benefits too) of SQLite itself.</p>

<p>Having such a requirement imposes a different approach to storage: we have to
decouple the knowledge about the intricacies of storage from the usage of
storage itself, so that a module (say query processing) can access storage
through an API without needing to know about its implementation. This allows
the database to target a POSIX filesystems storage API and an IndexedDB storage
API, and make the rest of the code agnostic about storage. PouchDB has such
mechanism (called <a href="https://pouchdb.com/adapters.html">adapters</a>) and Datomic has them too (called
<a href="https://docs.datomic.com/on-prem/storage.html">storage services</a>).</p>

<p>This would allow the database to adapt to where it is embedded: when targeting
the browser the IndexedDB storage API would provide the persistence layer
that the database requires, and similarly the POSIX filesystem storage API would
provide the persistence layer when targeting POSIX systems (like desktops,
mobile, etc.).</p>

<p>But there‚Äôs also an extra restriction that comes from by being embedded: it
needs to provide and embeddable artifact, most likely a binary library object
that exposes a C compatible FFI, similar to
<a href="https://www.sqlite.org/amalgamation.html">how SQLite does</a>. Bundling a full runtime environment is
possible, but doesn‚Äôt make it a compelling solution for embedding. This rules
out most languages, and leaves us with C, Rust, Zig, and similar options that
can target POSIX systems and WebAssembly.</p>



<p>Being immutable means that only new information is added, no in-place update
ever happens, and nothing is ever deleted.</p>

<p>Having an immutable database presents us with similar trade-offs found in
persistent data structures, like lack of coordination when doing reads, caches
being always coherent, and more usage of space.</p>

<p><a href="https://www.datomic.com/"><strong>Datomic</strong></a> is the go to database example of this: it will only add
information (datoms) and allows you to query them in a multitude of ways. Stuart
Halloway calls it ‚Äúaccumulate-only‚Äù over ‚Äúappend-only‚Äù<sup id="fnref:accumulate-only" role="doc-noteref"><a href="#fn:accumulate-only">3</a></sup>:</p>

<blockquote>
  <p>It‚Äôs accumulate-only, it is not append-only. So append-only, most people when
they say that they‚Äôre implying something physical about what happens.</p>
</blockquote>

<p>Also a database can be append-only and overwrite existing information with new
information, by doing clean-ups of ‚Äústale‚Äù data. I prefer to adopt the
‚Äúaccumulate-only‚Äù naming and approach.</p>

<p><a href="https://git-scm.com/"><strong>Git</strong></a> is another example of this: new commits are always added on top
of the previous data, and it grows by adding commits instead of replacing
existing ones.</p>

<p>Git repositories can only grow in size, and that is not only an acceptable
condition, but also one of the reasons to use it.</p>

<p>All this means that no in-place updates happens on data, and the database will
be much more concerned about how compact and efficiently it stores data than how
fast it does writes to disk. Being embedded, the storage limitation is either a)
how much storage the device has or b) how much storage was designed for the
application to consume. So even though the database could theoretically operate
with hundreds of TBs, a browser page or mobile application wouldn‚Äôt have access
to this amount of storage. SQLite even <a href="https://sqlite.org/limits.html">says</a> that it does
support approximately 280 TBs of data, but those limits are untested.</p>

<p>The upside of keeping everything is that you can have historical views of your
data, which is very powerful. This also means that applications should turn this
off when not relevant<sup id="fnref:no-history" role="doc-noteref"><a href="#fn:no-history">4</a></sup>.</p>



<p>This is a frequent topic when talking about offline-first solutions. When
building applications that:</p>

<ul>
  <li>can fully work offline,</li>
  <li>stores data,</li>
  <li>propagates that data to other application instances,</li>
</ul>

<p>then you‚Äôll need a conflict resolution strategy to handle all the situations
where different application instances disagree. Those application instances
could be a desktop and a browser version of the same application, or the same
mobile app in different devices.</p>

<p>A three-way merge seems to be the best approach, on top of which you could add
application specific conflict resolution functions, like:</p>

<ul>
  <li>pick the change with higher timestamp;</li>
  <li>if one change is a delete, pick it;</li>
  <li>present the diff on the screen and allow the user to merge them.</li>
</ul>

<p>Some databases try to make this ‚Äúeasy‚Äù, by choosing a strategy for you, but I‚Äôve
found that different applications require different conflict resolution
strategies. Instead, the database should leave this up to the user to decide,
and provide tools for them to do it.</p>

<p><a href="https://en.wikipedia.org/wiki/Merge_(version_control)"><strong>Three-way merges in version control</strong></a> are the best example,
performing automatic merges when possible and asking the user to resolve
conflicts when they appear.</p>

<p>The unit of conflict for a version control system is a line of text. The
database equivalent would probably be a single attribute, not a full entity or a
full row.</p>

<p>Making all the conflict resolution logic be local should allow the database to
have encrypted remotes similar to how <a href="https://spwhitton.name/tech/code/git-remote-gcrypt/">git-remote-gcrypt</a>
adds this functionality to Git. This would enable users to sync the application
data across devices using an untrusted intermediary.</p>



<p>I want the power of relational queries on the client applications.</p>

<p>Most of the arguments against traditional table-oriented relational databases
are related to write performance, but those don‚Äôt apply here. The bottlenecks
for client applications usually aren‚Äôt write throughput. Nobody is interested in
differentiating between 1 MB/s or 10 MB/s when you‚Äôre limited to 500 MB total.</p>

<p>The relational model of the database could either be based on SQL and tables
like in SQLite, or maybe <a href="https://docs.datomic.com/on-prem/query.html">datalog</a> and <a href="https://docs.datomic.com/cloud/whatis/data-model.html#datoms">datoms</a> like in
Datomic.</p>



<p>Now let‚Äôs try to translate the aspects above into values, as suggested by Bryan
Cantrill.</p>



<p>Being able to target so many different platforms is a bold goal, and the
embedded nature of the database demands portability to be a core value.</p>



<p>When the local database becomes the source of truth of the application, it must
provide consistency guarantees that enables applications to rely on it.</p>



<p>The database should empower applications to slice and dice the data in any way
it wants to.</p>



<p>Since I can‚Äôt find any database that fits these requirements, I‚Äôve finally come
to terms with doing it myself.</p>

<p>It‚Äôs probably going to take me a few years to do it, and making it portable
between POSIX and IndexedDB will probably be the biggest challenge. I got myself
a few books on databases to start.</p>

<p>I wonder if I‚Äôll ever be able to get this done.</p>



<p>See discussions on <a href="https://www.reddit.com/r/programming/comments/ijwz5b/the_database_i_wish_i_had/">Reddit</a>, <a href="https://lobste.rs/s/m9vkg4/database_i_wish_i_had">lobsters</a>, <a href="https://news.ycombinator.com/item?id=24337244">HN</a> and
<a href="https://lists.sr.ht/~euandreh/public-inbox/%3C010101744a592b75-1dce9281-f0b8-4226-9d50-fd2c7901fa72-000000%40us-west-2.amazonses.com%3E">a lengthy email exchange</a>.</p>



  </section>
  
</article></div>]]>
            </description>
            <link>https://euandre.org/2020/08/31/the-database-i-wish-i-had.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24337244</guid>
            <pubDate>Tue, 01 Sep 2020 00:21:01 GMT</pubDate>
        </item>
    </channel>
</rss>
