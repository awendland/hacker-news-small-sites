<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 50]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 50. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Sat, 21 Nov 2020 16:35:14 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-50.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Sat, 21 Nov 2020 16:35:14 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Assassin‚Äôs Creed: Valhalla and the Unfortunate Implications]]>
            </title>
            <description>
<![CDATA[
Score 66 | Comments 14 (<a href="https://news.ycombinator.com/item?id=25157722">thread link</a>) | @parsecs
<br/>
November 19, 2020 | https://acoup.blog/2020/11/20/miscellanea-my-thoughts-on-assassins-creed-valhalla/ | <a href="https://web.archive.org/web/*/https://acoup.blog/2020/11/20/miscellanea-my-thoughts-on-assassins-creed-valhalla/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://acoup.blog/2020/11/20/miscellanea-my-thoughts-on-assassins-creed-valhalla/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25157722</guid>
            <pubDate>Fri, 20 Nov 2020 06:04:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[An Introduction to ZFS]]>
            </title>
            <description>
<![CDATA[
Score 151 | Comments 69 (<a href="https://news.ycombinator.com/item?id=25157491">thread link</a>) | @arm
<br/>
November 19, 2020 | https://www.servethehome.com/an-introduction-to-zfs-a-place-to-start/ | <a href="https://web.archive.org/web/*/https://www.servethehome.com/an-introduction-to-zfs-a-place-to-start/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <!-- image --><div><figure><a href="https://www.servethehome.com/wp-content/uploads/2020/06/truenas-homepage.png" data-caption="Truenas Homepage"><img width="696" height="496" src="https://www.servethehome.com/wp-content/uploads/2020/06/truenas-homepage-696x496.png" srcset="https://www.servethehome.com/wp-content/uploads/2020/06/truenas-homepage-696x496.png 696w, https://www.servethehome.com/wp-content/uploads/2020/06/truenas-homepage-400x285.png 400w, https://www.servethehome.com/wp-content/uploads/2020/06/truenas-homepage-800x570.png 800w, https://www.servethehome.com/wp-content/uploads/2020/06/truenas-homepage-1068x761.png 1068w, https://www.servethehome.com/wp-content/uploads/2020/06/truenas-homepage-589x420.png 589w, https://www.servethehome.com/wp-content/uploads/2020/06/truenas-homepage-100x70.png 100w, https://www.servethehome.com/wp-content/uploads/2020/06/truenas-homepage.png 1291w" sizes="(max-width: 696px) 100vw, 696px" alt="Truenas Homepage" title="Truenas Homepage"></a><figcaption>Truenas Homepage</figcaption></figure></div>
            <!-- content --><p>ZFS has become increasingly popular in recent years. ZFS on Linux (ZoL) has pushed the envelope and exposed many newcomers to the ZFS fold. iXsystems has adopted the newer codebase, now called <strong>OpenZFS, </strong>into its codebase for TrueNAS CORE. The purpose of this article is to help those of you who have heard about ZFS but have not yet had the opportunity to research it.</p>
<p>Our hope is that we leave you with a better understanding of how and why it works the way it does. Knowledge is key to the decision-making process, and we feel that ZFS is something worth considering for most organizations.<br>
<span id="more-44288"></span></p>
<h2>What is ZFS?</h2>
<p>ZFS is a <strong>filesystem</strong>, but unlike most other file systems it is also the <strong>logical volume manager</strong> or LVM. What that means is ZFS directly controls not only how the bits and blocks of your files are stored on your hard drives, but it also controls how your hard drives are logically arranged for the purposes of RAID and redundancy. ZFS is also classified as a <strong>copy-on-write</strong> or <a href="https://www.ixsystems.com/documentation/freenas/11.2/zfsprimer.html">COW filesystem</a>. This means that ZFS can do some cool things like <strong>snapshots</strong> that a normal filesystem like NTFS could not. A snapshot can be thought of like it sounds, a photograph of how something was at a point in time. How a COW filesystem works, however, has some important implications that we need to discuss.</p>
<figure id="attachment_44997" aria-describedby="caption-attachment-44997"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/07/Openzfs.svg_-322x300.png" alt="The Open ZFS Logo" width="322" height="300" srcset="https://www.servethehome.com/wp-content/uploads/2020/07/Openzfs.svg_-322x300.png 322w, https://www.servethehome.com/wp-content/uploads/2020/07/Openzfs.svg_-800x746.png 800w, https://www.servethehome.com/wp-content/uploads/2020/07/Openzfs.svg_-696x649.png 696w, https://www.servethehome.com/wp-content/uploads/2020/07/Openzfs.svg_-450x420.png 450w, https://www.servethehome.com/wp-content/uploads/2020/07/Openzfs.svg_.png 1024w" sizes="(max-width: 322px) 100vw, 322px"><figcaption id="caption-attachment-44997">The Open ZFS Logo</figcaption></figure>
<p>Hard Drives work such that the pieces of your data are stored in <strong>Logical Block Addresses</strong>, or LBAs. ZFS is aware of what LBAs a specific file is stored in. Let us say we need to write a file that is big enough to fit into 3 blocks. We are going to store that file in LBA 1000, 1001, and 1002. This is considered a sequential write, as all of these blocks are stored directly next to each other. For spinning hard drives, this is ideal, as the write head does not have to move off of the track it is on.</p>
<figure id="attachment_23424" aria-describedby="caption-attachment-23424"><a href="https://www.servethehome.com/western-digital-red-pro-10tb-nas-hdd-review/wd-red-10tb-pro-nas-top/" rel="attachment wp-att-23424"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2017/07/WD-Red-10TB-Pro-NAS-Top.jpg" alt="WD Red 10TB Pro NAS Top" width="800" height="786" srcset="https://www.servethehome.com/wp-content/uploads/2017/07/WD-Red-10TB-Pro-NAS-Top.jpg 800w, https://www.servethehome.com/wp-content/uploads/2017/07/WD-Red-10TB-Pro-NAS-Top-305x300.jpg 305w, https://www.servethehome.com/wp-content/uploads/2017/07/WD-Red-10TB-Pro-NAS-Top-696x684.jpg 696w, https://www.servethehome.com/wp-content/uploads/2017/07/WD-Red-10TB-Pro-NAS-Top-427x420.jpg 427w" sizes="(max-width: 800px) 100vw, 800px"></a><figcaption id="caption-attachment-23424">WD Red 10TB Pro NAS Top <a href="https://www.servethehome.com/wd-red-smr-vs-cmr-tested-avoid-red-smr/">Use CMR with ZFS, not SMR</a></figcaption></figure>
<p>Now, let us say we make a change to the file and the part that was stored at LBA 1001 needs to be modified. When we write that change, ZFS does not over-write the part of the file that was stored in 1001. Instead, it will write that block to LBA 2001. LBA 1001 will be kept as-is until the snapshot keeping it there expires. This allows us to have both the current version of the file, and the previous one, while <em>only storing the difference.</em> However, the next time we go to read the file back, the read head of our spinning hard drive needs to read LBA 1000, go to the track where LBA 2001 is stored, read that, and then go back to the track where LBA 1002 is stored. This phenomenon is called <strong>fragmentation.</strong></p>
<h2>A Primer on ZFS Pool Design</h2>
<p>To make ZFS pools easier to understand, we are going to focus on using small storage containers as you may have around the house or shop. Before we continue, it is worth defining some terms. A <strong>VDEV, </strong>or virtual device, is a logical grouping of one or more storage devices. A <strong>pool</strong> is then a logically defined group built from 1 or more VDEVs. ZFS is very customizable, and therefore, there are many different types of configurations for VDEVs. You can think of the construction of a ZFS pool by visualizing the following graphic:</p>
<figure id="attachment_45011" aria-describedby="caption-attachment-45011"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/07/A-Mirrored-VDEV-800x521.jpg" alt="Nested Storage Containers" width="696" height="453" srcset="https://www.servethehome.com/wp-content/uploads/2020/07/A-Mirrored-VDEV-800x521.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/07/A-Mirrored-VDEV-400x261.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/07/A-Mirrored-VDEV-1536x1001.jpg 1536w, https://www.servethehome.com/wp-content/uploads/2020/07/A-Mirrored-VDEV-2048x1334.jpg 2048w, https://www.servethehome.com/wp-content/uploads/2020/07/A-Mirrored-VDEV-696x453.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/07/A-Mirrored-VDEV-1068x696.jpg 1068w, https://www.servethehome.com/wp-content/uploads/2020/07/A-Mirrored-VDEV-645x420.jpg 645w" sizes="(max-width: 696px) 100vw, 696px"><figcaption id="caption-attachment-45011">Nested Storage Containers</figcaption></figure>
<p>Starting from the smallest container size, we have our drives. We can see that in this visualization we have two drives in each larger container. These two larger containers are our VDEVs. The single largest container, then, is our pool. In this configuration, we would have each pair of drives in a <strong>mirror. </strong>This means that one drive can fail in either (or both!) VDEV and the pool would continue to function in a <strong>degraded</strong> state.</p>
<figure id="attachment_45012" aria-describedby="caption-attachment-45012"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/07/A-Mirrored-VDEV-With-Two-Bad-Drives-800x538.jpg" alt="Two Mirrors, Each VDEV with One Bad Drive" width="696" height="468" srcset="https://www.servethehome.com/wp-content/uploads/2020/07/A-Mirrored-VDEV-With-Two-Bad-Drives-800x538.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/07/A-Mirrored-VDEV-With-Two-Bad-Drives-400x269.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/07/A-Mirrored-VDEV-With-Two-Bad-Drives-1536x1034.jpg 1536w, https://www.servethehome.com/wp-content/uploads/2020/07/A-Mirrored-VDEV-With-Two-Bad-Drives-2048x1378.jpg 2048w, https://www.servethehome.com/wp-content/uploads/2020/07/A-Mirrored-VDEV-With-Two-Bad-Drives-696x468.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/07/A-Mirrored-VDEV-With-Two-Bad-Drives-1068x719.jpg 1068w, https://www.servethehome.com/wp-content/uploads/2020/07/A-Mirrored-VDEV-With-Two-Bad-Drives-624x420.jpg 624w" sizes="(max-width: 696px) 100vw, 696px"><figcaption id="caption-attachment-45012">Two Mirrors, Each VDEV with One Bad Drive</figcaption></figure>
<p>However, if 2 drives in a <strong>single</strong> VDEV, all of the data in our entire pool is lost. There is no redundancy of the pool itself, all redundancy in ZFS is in the VDEV layer. If one <em>VDEV</em> fails, there is not enough information to rebuild the missing data.</p>
<figure id="attachment_45013" aria-describedby="caption-attachment-45013"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/07/A-Mirrored-VDEV-With-Two-Bad-Drives-failed-800x559.jpg" alt="Two Mirrors, One VDEV where Both Drives Failed" width="696" height="486" srcset="https://www.servethehome.com/wp-content/uploads/2020/07/A-Mirrored-VDEV-With-Two-Bad-Drives-failed-800x559.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/07/A-Mirrored-VDEV-With-Two-Bad-Drives-failed-400x280.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/07/A-Mirrored-VDEV-With-Two-Bad-Drives-failed-1536x1074.jpg 1536w, https://www.servethehome.com/wp-content/uploads/2020/07/A-Mirrored-VDEV-With-Two-Bad-Drives-failed-696x487.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/07/A-Mirrored-VDEV-With-Two-Bad-Drives-failed-1068x747.jpg 1068w, https://www.servethehome.com/wp-content/uploads/2020/07/A-Mirrored-VDEV-With-Two-Bad-Drives-failed-601x420.jpg 601w, https://www.servethehome.com/wp-content/uploads/2020/07/A-Mirrored-VDEV-With-Two-Bad-Drives-failed-100x70.jpg 100w, https://www.servethehome.com/wp-content/uploads/2020/07/A-Mirrored-VDEV-With-Two-Bad-Drives-failed.jpg 1991w" sizes="(max-width: 696px) 100vw, 696px"><figcaption id="caption-attachment-45013">Two Mirrors, One VDEV where Both Drives Failed</figcaption></figure>
<p>Next, we need to define what&nbsp;<strong>RAID-Z</strong> is and what the various levels of RAID-Z are. RAID-Z is a way of putting multiple drives together into a VDEV and storing <strong>parity,&nbsp;</strong>or fault tolerance. In ZFS, there is no dedicated ‚Äúparity drive‚Äù like in&nbsp;<strong>Unraid</strong>, but it instead stores parity across all of the drives in the VDEV.&nbsp; The amount of parity that is spread across the drives determines the level of RAID-Z. It is in this way more similar to traditional hardware RAID.</p>
<p>What can make RAID-Z a better approach than a mirrored configuration is that it does not matter <em>what&nbsp;</em>drive fails in a RAID-Z. Each drive is an equal partner, whereas, in a mirrored configuration, each mirrored VDEV is a separate entity. This benefit of RAID-Z comes at the cost of performance, however, and a mirrored pool will almost always be <em>faster</em>&nbsp;than RAID Z.</p>
<p><strong>RAID-Z</strong>&nbsp;is similar to a traditional&nbsp;<strong>RAID 5. </strong>In RAID-Z you have one drive worth of parity. In other words, if you lose one drive, your pool will continue to function. For RAID-Z you need a minimum of 3 drives per VDEV. You can have 3, 7, or even 12 drives in a RAID-Z VDEV. The more drives which you add, however, the longer it will take to <strong>resilver,&nbsp;</strong>or rebuild.</p>
<p>This increased time increases the risk of your data, as a second drive failure during this process would destroy your pool. ZFS will resilver while the data is still in use, it is a live recovery. The implication of this is that our disks are working harder than usual during this process, and this can increase the chances of a second drive failure. Your data is still accessible and in production, while it is reading all of the parity data from the existing members of your VDEV and then writing it to the new disk.</p>
<figure id="attachment_45014" aria-describedby="caption-attachment-45014"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/07/A-Raid-Z1--800x569.jpg" alt="A Pool with a Single 3-Disk Raid Z1 VDEV" width="696" height="495" srcset="https://www.servethehome.com/wp-content/uploads/2020/07/A-Raid-Z1--800x569.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/07/A-Raid-Z1--400x285.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/07/A-Raid-Z1--1536x1093.jpg 1536w, https://www.servethehome.com/wp-content/uploads/2020/07/A-Raid-Z1--2048x1458.jpg 2048w, https://www.servethehome.com/wp-content/uploads/2020/07/A-Raid-Z1--696x495.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/07/A-Raid-Z1--1068x760.jpg 1068w, https://www.servethehome.com/wp-content/uploads/2020/07/A-Raid-Z1--590x420.jpg 590w, https://www.servethehome.com/wp-content/uploads/2020/07/A-Raid-Z1--100x70.jpg 100w" sizes="(max-width: 696px) 100vw, 696px"><figcaption id="caption-attachment-45014">A Pool with a Single 3-Disk Raid-Z VDEV</figcaption></figure>
<p>A RAID-Z2 VDEV is more akin to a RAID 6. In this configuration, 2 drives worth of parity is stored across all of your devices. You can lose up to two drives per VDEV and your pool will still function. Adding more parity drives increases calculations required which means you need more processing performance to operate the array.</p>
<figure id="attachment_45015" aria-describedby="caption-attachment-45015"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/07/A-RAID-Z2-800x551.jpg" alt="A Pool with a Single 4-Disk Raid Z2 VDEV" width="696" height="479" srcset="https://www.servethehome.com/wp-content/uploads/2020/07/A-RAID-Z2-800x551.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/07/A-RAID-Z2-400x276.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/07/A-RAID-Z2-1536x1059.jpg 1536w, https://www.servethehome.com/wp-content/uploads/2020/07/A-RAID-Z2-2048x1412.jpg 2048w, https://www.servethehome.com/wp-content/uploads/2020/07/A-RAID-Z2-218x150.jpg 218w, https://www.servethehome.com/wp-content/uploads/2020/07/A-RAID-Z2-696x480.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/07/A-RAID-Z2-1068x736.jpg 1068w, https://www.servethehome.com/wp-content/uploads/2020/07/A-RAID-Z2-609x420.jpg 609w, https://www.servethehome.com/wp-content/uploads/2020/07/A-RAID-Z2-100x70.jpg 100w" sizes="(max-width: 696px) 100vw, 696px"><figcaption id="caption-attachment-45015">A Pool with a Single 4-Disk Raid Z2 VDEV</figcaption></figure>
<p>Finally, a RAID-Z3 VDEV provides three drives worth of parity, so you can lose up to three drives per VDEV and your pool will still function. <strong>The more drives of parity you add, however, the slower your performance ends up being</strong>. You need a minimum of four but should use at least five drives to build a RAID-Z3 VDEV.</p>
<h2>The Need for Speed</h2>
<p>There are two ways in which we measure speed or <em>fastness</em>,&nbsp;<strong>IOPS,</strong>&nbsp;and&nbsp;<strong>Throughput</strong>. In RAIDZ, more drives will give you more throughput, or the actual read and write speed you see when transferring files. However, if you have ever tried to run multiple file copies in Windows simultaneously, you may have noticed the more you do, the slower it gets. It does not always get slower at a constant rate, the more you try to do disks will get exponentially slower. This is because your disk can only do so many Input/Output Operations per Second, or IOPS.</p>
<p>RAIDZ will scale in&nbsp;<em>throughput</em>&nbsp;with the more disks you add, but it does not scale with&nbsp;<em>IOPS.</em> What that generally means is, RAIDZ is not traditionally the best choice for I/O intensive workloads, as the amount of IOPS is roughly limited to the slowest member of our VDEV if we exclude all of the caching ZFS has. Virtualization, as we are discussing here, is highly dependent on I/O.</p>
<p>Earlier, we discussed that ZFS is a COW filesystem, and because of that it suffers from data fragmentation. There are direct performance implications that stem from that fact.&nbsp;<strong>The more ‚Äúfull‚Äù your pool is, the slower it will ultimately get.&nbsp;</strong>Write speeds in ZFS are directly tied to the amount of&nbsp;<em>adjacent</em> free blocks there are to write to. As your pool fills up, and as data fragments, there are fewer and fewer blocks that are directly adjacent to one another. A single large file may span blocks scattered all over the surface of your hard drive. Even though you would expect that file to be a sequential write, it no longer can be if your drive is full.</p>
<figure id="attachment_45006" aria-describedby="caption-attachment-45006"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/07/Seagate-Mobile-HDD-Crystale-DIsk-Mark.png" alt="Seagate Mobile HDD Crystal Disk Mark Performance" width="482" height="351" srcset="https://www.servethehome.com/wp-content/uploads/2020/07/Seagate-Mobile-HDD-Crystale-DIsk-Mark.png 482w, https://www.servethehome.com/wp-content/uploads/2020/07/Seagate-Mobile-HDD-Crystale-DIsk-Mark-400x291.png 400w, https://www.servethehome.com/wp-content/uploads/2020/07/Seagate-Mobile-HDD-Crystale-DIsk-Mark-324x235.png 324w" sizes="(max-width: 482px) 100vw, 482px"><figcaption id="caption-attachment-45006">Seagate Mobile HDD Crystal Disk Mark Performance</figcaption></figure>
<p>In the above graphic, we can see a Seagate 1TB mobile drive that I tested in CrystalDiskMark. It can do about 130 MB/s of sequential read and writes. We can also see that when we start doing random 4k I/O, the speed falls about <strong>100x</strong>. This is meant to illustrate the performance impact of data fragmentation. Additionally, we can see that the latency for these lookups can take about&nbsp;<strong>half of a second, </strong>and we are limited to about 350 IOPS. In order to be fast, virtualization workloads on traditional hard drives need to have many disks in order to compensate for this slowness. It would not be uncommon to see a pool constructed of 10 or more VDEVs of mirrored drives.</p>
<p>Additionally, there is some wisdom we can <a href="https://www.ixsystems.com/community/threads/the-path-to-success-for-block-storage.81165">borrow from the ZFS community</a>. As your pool fills up, and sequential writes become increasingly difficult to accomplish due to fragmentation, it will slow down in a non-linear way. As a general rule of thumb, at about 50% capacity your pool will be noticeably slower than it was when it was 10% capacity. At about 80%-96% capacity, your pool starts to become very slow, and ZFS will actually change its write algorithm to ensure data integrity, further slowing you down.</p>
<p>This is where SSDs come in. They radically change the game because they work very differently at the physical layer. They do not have read and write heads that are flying around a spinning disk back and forth trying to find your data. With the physical limitations of disk-based drives out of the way, SSDs can read and write non-sequential data <em>much&nbsp;</em>faster. They do not suffer the penalties of these rules nearly as severely, fragmentation does not hurt their performance to the same degree.</p>
<figure><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/05/970-EVO-Plus-250GB-Front.jpg" alt="A Samsung 970 EVO Plus SSD" width="1500" height="997"></figure>
<p>A Samsung 970 EVO Plus SSD</p>
<p>Hard drives have increased in capacity by leaps-and-bounds over the past couple of decades. We have seen hard drives grow from a single gigabyte in capacity and just last year <a href="https://www.servethehome.com/western-digital-volume-production-of-18tb-and-20tb-drives-in-2020/">Western Digital announced</a> that 18 and 20 ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.servethehome.com/an-introduction-to-zfs-a-place-to-start/">https://www.servethehome.com/an-introduction-to-zfs-a-place-to-start/</a></em></p>]]>
            </description>
            <link>https://www.servethehome.com/an-introduction-to-zfs-a-place-to-start/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25157491</guid>
            <pubDate>Fri, 20 Nov 2020 05:12:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Windows Subsystem for Linux: The lost potential]]>
            </title>
            <description>
<![CDATA[
Score 297 | Comments 190 (<a href="https://news.ycombinator.com/item?id=25154300">thread link</a>) | @r0sk
<br/>
November 19, 2020 | https://jmmv.dev/2020/11/wsl-lost-potential.html | <a href="https://web.archive.org/web/*/https://jmmv.dev/2020/11/wsl-lost-potential.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <div>
              
              <article><p>If you have followed Windows 10 at all during the last few years, you know that the <strong>Windows Subsystem for Linux</strong>, or <strong>WSL</strong> for short, is <em>the</em> hot topic among developers. You can finally run your Linux tooling on Windows as a first class citizen, which means you no longer have to learn PowerShell or, god forbid, suffer through the ancient <code>CMD.EXE</code> console.</p>
<p>Unfortunately, not everything is as rosy as it sounds. I now have to do development <em>on</em> Windows <em>for</em> Windows as part of my new role within Azure‚Ä¶ and the fact that WSL continues to be separate from the native Windows environment shows. Even though I was quite hopeful, I cannot use WSL as my daily driver because I need to interact with ‚Äúnative‚Äù Windows tooling.</p>
<p>I believe things needn‚Äôt be this way, but with the recent push for WSL 2, I think that the potential of an alternate world is now gone. But what do I mean with this? For that, we must first understand the differences between WSL 1 and WSL 2 and how the push for WSL 2 may shut some interesting paths.</p>
<p><strong>DISCLAIMER:</strong> I have zero insight on what‚Äôs going on within the WSL team or what their future plans are. This is purely my personal opinion based on what I have experienced as a user.</p>

<p>Let‚Äôs first take a look at WSL 1, and for that, we must look at what‚Äôs in the awkward name. Why was this feature named Windows subsystem‚Ä¶ <em>for</em> Linux? Isn‚Äôt that backwards? This is not a subsystem in Linux to do anything Windows-related; it‚Äôs the other way around!</p>
<p>Well‚Ä¶ you see, the name is technically correct when considering the design of the Windows NT kernel. From the <a href="https://en.wikipedia.org/wiki/Architecture_of_Windows_NT">Architecture of Windows NT</a> page in the Wikipedia, we find (emphasis mine):</p>
<blockquote>
<p>User mode in Windows NT is made of subsystems capable of passing I/O requests to the appropriate kernel mode device drivers by using the I/O manager. <strong>The user mode layer of Windows NT is made up of the ‚ÄúEnvironment subsystems‚Äù, which run applications written for many different types of operating systems</strong>, and the ‚ÄúIntegral subsystem‚Äù, which operates system-specific functions on behalf of environment subsystems. The kernel mode stops user mode services and applications from accessing critical areas of the operating system that they should not have access to.</p>
</blockquote>
<p>Windows NT was designed from the ground up to support running processes from a multitude of operating systems, and Win32 was ‚Äújust‚Äù one of those environment subsystems. With these solid foundations, WSL 1 supplies a new environment subsystem, the Linux subsystem, to run Linux binaries atop the Windows NT kernel. Both the Win32 and Linux environment subsystems share the common integral subsystem.</p>
<p>Mumble jumbo. What does any of that actually mean?</p>
<p>Different system call ‚Äúfront-ends‚Äù‚Äîthat‚Äôs what it means. A user-space process is a collection of binary instructions that the processor executes uninterruptedly (leaving interrupts aside). The operating system‚Äôs kernel is unaware of what the process is doing until the process issues a system call: at that point, the kernel regains control to perform an operation on behalf of the user, which can be something like reading a file or pausing for a few seconds.</p>
<p>The way a process issues system calls, and the semantics of those system calls, are specific to the operating system. For example, on old x86: opening a file on Win32 is system call number <code>17h</code> invoked via <code>INT 2Eh</code> whereas opening a file on Linux is system call number <code>5h</code> invoked via <code>INT 80h</code>.</p>
<p>But‚Ä¶ conceptually, opening a file is opening a file, right? The fact that the system call numbers or the software interrupt numbers are different among them is not particularly interesting. And hereby lies the key design aspect of WSL 1: the Linux subsystem in the NT kernel is, simply put, an implementation of Linux‚Äôs system call layer in front of the NT kernel. These system calls later delegate to NT primitives, <em>not</em> Win32 calls. Which is important to repeat: there is no translation from Linux to Win32 system calls.</p>
<p>This is a feat of engineering considering how generally good support for Linux apps got to be under WSL 1 and the many ways in which NT internally differs from Unix, <code>fork+exec</code> being the eternal archenemy.</p>
<p>The true beauty of this design is that there is a single kernel running on the machine, and this kernel has a holistic view of all the processes beneath it. The kernel knows everything about the Win32 <em>and</em> Linux processes. And these processes all interact with unified resources, such a single networking stack, a single memory manager, and a single process scheduler.</p>

<p>If WSL 1 is so cool, then why does WSL 2 exist? Two reasons:</p>
<ul>
<li>WSL 1 has to, essentially, implement all of Linux‚Äôs kernel ABI, ‚Äúbit by bit‚Äù. If there is a bug in that interface, the WSL 1 has to replicate it. And if there is a feature that is difficult to represent within the NT kernel, either the feature cannot be implemented or it needs extra kernel logic (and thus becomes slower).</li>
<li>Linux subsystem in WSL 1 has to abide by any ‚Äúlimitations‚Äù and inherent differences that exist between the NT kernel and the traditional Unix design. The most obvious one is the NTFS file system and its semantics, and how these differences harm performance of Linux binaries. Poor file system performance seems to be a common complaint in WSL 1.</li>
</ul>
<p>WSL 2 ‚Äúthrows away‚Äù all of the Linux subsystem parts of the name and replaces everything with a full-blown (but very well-hidden and fast) virtual machine. The virtual machine then runs a proper Linux kernel, a proper Linux file system, and a proper Linux networking stack within it.</p>
<p>What this means is that the beauty of the WSL 1 design is gone: the Windows NT kernel doesn‚Äôt get to see anything that happens within the Linux world any more. All it knows is that there is a big black box that does ‚Äústuff‚Äù inside, and all it gets to see are the <code>VMENTER</code> and <code>VMEXIT</code> hook points for virtual machines and block-level read/write requests on a virtual disk. The NT kernel is now unaware of Linux processes and file accesses. Similarly, the Linux kernel is unaware of anything in NT land.</p>
<p>You can read about some more differences in the <a href="https://docs.microsoft.com/en-us/windows/wsl/compare-versions">official documentation</a>.</p>

<p>From the user‚Äôs point of view, WSL 2 feels strictly better: Linux apps now run much, much faster because they are not subject to awkward Linux system call ‚Äúemulation‚Äù within the NT kernel. If using NTFS with Linux semantics is difficult, that‚Äôs no problem because the Linux environment now uses ext4 on a virtual disk. And support for Linux apps can be much more complete, because, well, WSL 2 <em>is</em> Linux: if you want FUSE, to name something, you got it.</p>
<p>But this comes at the cost <em>of what WSL could have been</em>:</p>
<ul>
<li>Can you imagine how cool it would be if you could type <code>ps</code> or <code>top</code> within a WSL session and see Linux <em>and</em> Windows processes side-by-side, able to mutate their state with <code>kill</code>?</li>
<li>Can you imagine how cool it would be to manipulate Windows services from the WSL session?</li>
<li>Can you imagine how cool it would be if you could use <code>ifconfig</code> (wait, is that <code>ip</code>? üôÑ) within a WSL session to inspect and modify the machine‚Äôs network interfaces?</li>
<li>Essentially, can you imagine doing all of your Windows system administration tasks from within WSL?</li>
</ul>
<p>Although this never existed, I can well imagine such a world‚Ä¶ and it‚Äôs one that <em>only the WSL 1 design can provide</em>. And the reason I can imagine this is because macOS gives you this model (albeit cheating because macOS is essentially Unix).</p>
<p>Which is what brings me to my frustration: even though I could install WSL on my development machine for Azure, there is nothing I can use it for. I still have to interact with the system via <code>CMD.EXE</code> because I have to deal with Windows-native processes and resources, and because the tooling I have to deal with is Windows-only.</p>
<p>The FAQ for WSL 2 claims that <a href="https://docs.microsoft.com/en-us/windows/wsl/wsl2-faq#what-will-happen-to-wsl-1-will-it-be-abandoned">WSL 1 will not be abandoned</a>, and if we abide by Microsoft‚Äôs backwards-compatibility guarantee, that may be true. But keeping WSL 1 running is a monumental effort due to the need to keep up with Linux changes. Regardless, I hope that this is the case and that WSL 1 continues to exist. Who knows, maybe the reason WSL 1 stays behind is to pursue this magical world I‚Äôm describing? ü§î</p>

<p>I can‚Äôt finish this post without talking about the various BSDs. The BSDs, always trailing behind Linux and other commercial operating systems, have had binary-level compatibility for ages. The earliest I can find is Linux compatibility in the NetBSD kernel back in 1995. That‚Äôs 25 years ago, and 21 before WSL 1‚Äôs first debut.</p>
<p>And, heck, this isn‚Äôt limited to Linux. NetBSD has had support to emulate <em>various</em> different operating systems throughout the years. SVR4 support appeared in 1994 and, for a brief stint, <a href="https://man.netbsd.org/NetBSD-5.0/compat_pecoff.8">NetBSD even had support for‚Ä¶ ü•Å‚Ä¶ PE/COFF binaries</a>‚Äîthat‚Äôs right, Win32 binaries. So, in a way, NetBSD implemented the WSL 1 model in reverse: it let you run Win32 binaries atop the NetBSD kernel back in 2002.</p>
</article>
            </div>
          </div><div>
            <div>
              <p><b>Want more posts like this one? Take a moment to subscribe!</b></p>
            </div>
            <div>
              
              <p>
                  <a href="https://twitter.com/intent/follow?original_referer=https%3A%2F%2Fjmmv.dev%2F&amp;screen_name=jmmv">
                    <img src="https://jmmv.dev/images/badges/Twitter_logo_blue_32.png" alt="Follow @jmmv on Twitter">
                  </a>
                </p>
              <p><a href="https://jmmv.dev/feed.xml"><img src="https://jmmv.dev/images/badges/feed-icon-28x28.png" alt="RSS feed"></a></p>
            </div>
          </div><div>
            <div>
              <p><b>Enjoyed this article? Spread the word or join the ongoing discussion!</b></p>
            </div>
            
          </div></div>]]>
            </description>
            <link>https://jmmv.dev/2020/11/wsl-lost-potential.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25154300</guid>
            <pubDate>Thu, 19 Nov 2020 21:00:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Writing a Postgres Foreign Data Wrapper for Clickhouse in Go]]>
            </title>
            <description>
<![CDATA[
Score 101 | Comments 24 (<a href="https://news.ycombinator.com/item?id=25153782">thread link</a>) | @arunk-s
<br/>
November 19, 2020 | https://arunsori.me/posts/postgres-clickhouse-fdw-in-go/ | <a href="https://web.archive.org/web/*/https://arunsori.me/posts/postgres-clickhouse-fdw-in-go/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				

<p><a href="https://www.postgresql.org/">Postgres</a>(hereinafter mentioned as PG) is a pretty cool database with lots of nice features, one of them little known ones is the ability of having Foreign data wrappers <a href="https://wiki.postgresql.org/wiki/Foreign_data_wrappers">(hereinafter mentioned as FDWs)</a>.</p>

<p><a href="https://clickhouse.tech/">Clickhouse</a>(hereinafter mentioned as CH) is another amazing database with an altogether different set of features targeted for OLAP use cases.</p>

<h2 id="what-are-foreign-data-wrappers-fdws-then">What are Foreign Data Wrappers (FDWs) then?</h2>

<p>Well unlike so many names in tech, we can actually infer some idea from the name itself in this case.
So FDWs in essence, allows to access <em>foreign</em> <em>data</em> sources inside Postgres(PG) via a set of <a href="https://www.postgresql.org/docs/current/fdwhandler.html">wrapper APIs</a>.</p>

<p>That is, you can access data sitting in a Mysql/SQlite/Clickhouse(<em>any other data source</em>) table inside PG as you would do for a normal PG table. Isn‚Äôt that amazing!</p>

<p>There are already numerous such FDWs. A list is available <a href="https://wiki.postgresql.org/wiki/Foreign_data_wrappers">here</a>.</p>

<p>One caveat is that the extent of features you can expect from a FDW is dependent on the particular implementation.
We can expect normal read support but other niceties like push-down filters, aggregations or joins, or write support can be missing.</p>

<h2 id="accessing-clickhouse-ch-via-postgres-pg">Accessing Clickhouse(CH) via Postgres(PG)</h2>

<p>Given the existence of so many possibilities of accessing other datastores, wouldn‚Äôt it be fun if we could access Clickhouse from inside Postgres.</p>

<p>Why would you want to do it! you may ask.</p>

<p>Well one reason could be of course, for <em>fun</em>.</p>

<p>But more realistically, one of the ambitious use cases at <a href="https://messagebird.com/">MessageBird</a>(my employer) was the ability to connect Clickhouse to <a href="https://looker.com/">Looker</a> as no direct integration existed at that time.
It was a bit of a moonshot but we decided to give it a try to see if it would work :)</p>

<p>MessageBird has generously made the full source for our experiment open source! The repository is available <a href="https://github.com/messagebird/clickhouse-postgres-fdw">here</a>.
So you can reference the ideas mentioned in the blog post directly in the code as well :)</p>

<h3 id="now-on-to-writing-one-fdw">Now on to writing one FDW!</h3>

<p>There are already <a href="https://www.postgresql.org/docs/current/fdwhandler.html">documentations</a> on how we should approach this and some simple examples are also available on Github. Most of the full fledged FDWs have their code in open so we can consult them as well.
Note that most of them are written in C becauses the FDW API of PG is in C, which makes sense.
I should highlight one particular <a href="https://github.com/pgspider/sqlite_fdw">FDW</a> that is made for SQLite and has a solid feature set, which helped me a lot while writing the one for Clickhouse.</p>

<p>But what if we want to be adventurous and write one in Go? Well, it should be possible given the existence of <a href="https://golang.org/cmd/cgo/">CGo</a>.</p>

<p>We can expect that it will not be at all trivial. ;)
There are already attempts on making Postgres Extensions in <a href="https://github.com/liztio/k8s-fdw">Go</a>, which gives a very valuable insight.</p>

<h4 id="setting-up-the-build-process-and-interaction-between-go-and-postgres-c-api">Setting up the build process and interaction between Go and Postgres C API</h4>

<p>First we should familiarize ourselves with the <a href="https://www.postgresql.org/docs/13/extend-pgxs.html">PG Extension Build Infrastructure/PGXS</a> and how to write <a href="https://www.postgresql.org/docs/current/xfunc-c.html#DFUNC">C code</a> for PG.
These are crucial as we would want to integrate the C code with Go, and knowing how the build process works should help us in understanding where our code will fit.</p>

<p>For writing a FDW we have to provide an entry point in form of a <code>struct</code> containing function pointers to the implemented callback functions.
Since we want to write those callback in Go, we can consult documentation for <a href="https://golang.org/cmd/cgo/#hdr-C_references_to_Go">accessing Go functions in C</a>, which says there are specific annotations that should allow us to export go functions outside to the C code.
All the important work is done in these callbacks only.<br>
Now it should be possible to add functions that PG FDW API expects via Go.</p>

<p>But, how will the C code find the callback functions written in Go land ? <a href="https://golang.org/cmd/go/#hdr-Build_modes">Go build modes</a> is the answer.
Directly referencing from the documentation, the <code>-buildmode=c-archive</code> allows us to:</p>

<pre><code>Build the listed main package, plus all packages it imports,
into a C archive file. The only callable symbols will be those
functions exported using a cgo //export comment. Requires
exactly one main package to be listed.
</code></pre>

<p>Perfect! Now, the exported Go functions are available in the <a href="https://linux.die.net/man/1/ar">archive file</a>.
The only remaining thing is to link the archive with C code during build.
Thankfully, <a href="https://www.postgresql.org/docs/13/extend-pgxs.html">PGXS</a> provides a <code>Make</code> variable <code>SHLIB_LINK</code> that can be used to set the shared library used. So we‚Äôll use that flag to provide the archive build from Go source files.</p>

<p>You can see it in action <a href="https://github.com/messagebird/clickhouse-postgres-fdw/blob/main/Makefile">here</a>.</p>

<!-- * how linking go code to c via statically linked libraries works ? .a files linking with Go. -->

<!-- And we want a library of sorts which should be callable inside C code. For this we can use go build mode (c-archive), this will create a statically linked archive(see difference btwn shared objects and statically linked libraries and how to build them) -->

<h4 id="understanding-inner-working-of-the-fdw-api-and-their-relation-with-different-query-stages">Understanding inner working of the FDW API and their relation with different Query Stages</h4>

<!-- * Figuring out which stages do what, what do you want and where to look for them -->

<p>To actually write a working FDW, we need to familiarize with the different stages a query goes through in PG and how the API functions play them out.
Postgres has an excellent documentation and moreover since all the <a href="https://github.com/messagebird/clickhouse-postgres-fdw/">source code</a> is open, we can just navigate through the code as well!</p>

<p>It would take more space than a blog post to explain the full internals of Query planner in Postgres and I probably can‚Äôt describe it well enough.
So, I suggest to go through <a href="https://www.postgresql.org/docs/current/fdw-callbacks.html">the official documentation</a> which is quite excellent and there are many other excellent references on the web.</p>

<p>I‚Äôll try to briefly explain the flow of the API functions for the context of this post.
A very basic plan looks like this:</p>

<pre><code>+-------------------------+
|                         |
|                         |
|    GetForeignRelSize    |
|                         |
|                         |
+------------+------------+
             |
             |
             |
+------------v------------+
|                         |
|                         |
|     GetForeignPaths     |
|                         |
|                         |
+------------+------------+
             |
             |
             |
+------------v------------+
|                         |
|                         |
|     GetForeignPlan      |
|                         |
|                         |
+------------+------------+
             |
             |
             |
+------------v------------+
|                         |
|                         |
|     BeginForeignScan    |
|                         |
|                         |
+------------+------------+
             |
             |
             |
+------------v------------+
|                         |
|                         |
|    IterateForeignScan   |
|                         |
|                         |
+-------------------------+
             |
             |
             |
+------------v------------+
|                         |
|                         |
|     EndForeignScan      |
|                         |
|                         |
+-------------------------+

</code></pre>

<p>There are other functions in the FDW API that I‚Äôve omitted here (like <code>ReScanForeignScan</code>, <code>AnalyzeForeignTable</code>, <code>GetForeignUpperPaths</code>) but a basic FDW can be done with these.
Also note that this path is only concerned with the read queries. To enable writing on the foreign database, there are separate functions that need to be implemented.
You can see how the read path is implemented for our clickhouse FDW <a href="https://github.com/messagebird/clickhouse-postgres-fdw/blob/main/ch_fdw.c">here</a>.</p>

<p>Important ones to take note of to properly implement the read path of a query are:</p>

<ul>
<li><p>GetForeignRelSize: It should be used to determine the estimated number of rows to be scanned on the foreign server. However, it is also used to extract the restriction clauses present in the query presented by PG and to pass them to the foreign server if it can support them.
See this <a href="https://github.com/messagebird/clickhouse-postgres-fdw/blob/a938204f1a5645cd71dd473b5d0e5f56d2a6f831/ch_fdw.go#L180">example</a>.</p></li>

<li><p>GetForeignPlan: It should return the planner node(a data structure that contains the query plan). However, it is also used to extract the target columns that can be fetched from remote/foreign servers and pass that info along with restriction clauses, table names to the next stage.
See this <a href="https://github.com/messagebird/clickhouse-postgres-fdw/blob/a938204f1a5645cd71dd473b5d0e5f56d2a6f831/ch_fdw.go#L275">example</a>.</p></li>

<li><p>BeginForeignScan: It should perform the initalization that is needed to perform the scan on the foreign server, for example: initialize the foreign DB connection, formalize the query running on foreign server and init the state with row iterator to be used in the next stage.
See this <a href="https://github.com/messagebird/clickhouse-postgres-fdw/blob/a938204f1a5645cd71dd473b5d0e5f56d2a6f831/ch_fdw.go#L508">example</a>.</p></li>

<li><p>IterateForeignScan: It should return a row from the foreign server converted to the PG specific structure. This function should convert the foreign server specific data types to PG column data types.
See this <a href="https://github.com/messagebird/clickhouse-postgres-fdw/blob/a938204f1a5645cd71dd473b5d0e5f56d2a6f831/ch_fdw.go#L620">example</a>.</p></li>

<li><p>EndForeignScan: It should clean the state being stored for the query, like row iterators, db connections should be closed.
See this <a href="https://github.com/messagebird/clickhouse-postgres-fdw/blob/a938204f1a5645cd71dd473b5d0e5f56d2a6f831/ch_fdw.go#L760">example</a>.</p></li>
</ul>

<p>This is a very dense overview of the functionality of a <em>basic</em> FDW. It usually helps to look around the other FDWs that are open source to look for ideas of a sample implementation. But it can differ since the foreign server can be of various types.
Usually, if we take databases that support some dialect of SQL then the hardest things are usually figuring out if the restriction clauses are remote safe, which can involve parsing the full expression clauses and then converting them to remote variants.
Converting the foreign server datatypes to PG types is comparatively easy but is very toiling.</p>

<p>You can look into how <a href="https://github.com/messagebird/clickhouse-postgres-fdw/blob/a938204f1a5645cd71dd473b5d0e5f56d2a6f831/ch_fdw.go">clickhouse FDW</a> does this to get an idea, but beware that it could be bug prone, since it hasn‚Äôt been tested thoroughly.</p>

<p>I‚Äôll also suggest getting an idea of commonly used PG datatypes and conventions like <code>OID</code>, <code>Tuple</code>, <code>RelOptInfo</code> or just going over <a href="https://doxygen.postgresql.org/relation_8h.html"><code>relation.h</code></a> reference from PG source code.</p>

<h3 id="few-tips-and-tricks">Few Tips and Tricks</h3>

<p>These are some ideas that I‚Äôve seen are fairly used while developing a FDW. Some can help in easy interop between Go and C, whether it is a good idea or not, is up for debate ;)</p>

<h4 id="interfacing-c-macros-within-go">Interfacing C macros within Go</h4>

<p>There are a lot of internal macros in PG source which makes it easier to access system cache, lists, heap tuples etc. which aren‚Äôt directly callable from Go‚Äôs userland.<br>
This is because CGo doesn‚Äôt quite allow directly calling C <code>#define</code> macros.<br>
You can try to simulate the same behaviour using underlying constructs but that can get hairy and cumbersome. Instead one <em>easy</em> idea is to define simple C wrapper functions like</p>

<pre><code>void *wrapper_access_list(void *list, int index){
	return access_list(list, index);
}
</code></pre>

<p>This can now be used directly on Go side. But make sure you cast the results to proper types.</p>

<h4 id="moving-out-c-code">Moving out C code</h4>

<p>There can be a point where writing C code directly in Go source files is not feasible ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://arunsori.me/posts/postgres-clickhouse-fdw-in-go/">https://arunsori.me/posts/postgres-clickhouse-fdw-in-go/</a></em></p>]]>
            </description>
            <link>https://arunsori.me/posts/postgres-clickhouse-fdw-in-go/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25153782</guid>
            <pubDate>Thu, 19 Nov 2020 20:09:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My First Kernel Module: A Debugging Nightmare]]>
            </title>
            <description>
<![CDATA[
Score 123 | Comments 54 (<a href="https://news.ycombinator.com/item?id=25153388">thread link</a>) | @ksml
<br/>
November 19, 2020 | https://reberhardt.com/blog/2020/11/18/my-first-kernel-module.html | <a href="https://web.archive.org/web/*/https://reberhardt.com/blog/2020/11/18/my-first-kernel-module.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <div>
                <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>This is the story of the time I wrote some code, deployed it to production, and
ended up bricking the server it was running on by frying the kernel.</p>

<figure>
    <a href="https://reberhardt.com/blog//images/my-first-kernel-module/frying-pan.jpg">
        <img src="https://reberhardt.com/blog//images/my-first-kernel-module/frying-pan.jpg" alt="Beautiful rendition of me frying the kernel">
    </a>
    
    <figcaption>Beautiful rendition of me frying the kernel</figcaption>
    
</figure>

<p>This post is about perils of concurrency and race conditions.  My code was
nearly correct, but ultimately, there were two major synchronization bugs that
killed it.</p>

<!--more-->

<p>This is a really long post that gets into the weeds at times, but I have tried
to write it so that you can jump into any section and hopefully learn something
from it:</p>

<ul>
  <li><a href="#a-nightmare-begins">A nightmare begins</a>: How I discovered this issue and
initially triaged it</li>
  <li><a href="#context-c-playground-visual-debugger">Context: C Playground visual
debugger</a>: How Linux <code>/proc</code> files
work, and how Linux stores process and open file information. I drew some
spiffy diagrams so you can visualize how this works!</li>
  <li><a href="#the-debugging-process">The debugging process</a>: How I attempted to track
down the bug(s)
    <ul>
      <li><a href="#finding-a-footing">Finding a footing</a></li>
      <li><a href="#red-herrings">Red herrings</a></li>
      <li><a href="#the-processes-smell-fishy">The processes smell fishy</a></li>
      <li><a href="#desperation-and-the-start-of-progress">Desperation, and the start of progress</a></li>
      <li><strong><a href="#rcu-read-copy-update">RCU: Read, Copy, Update</a>: The cause of (and fix for) my first bug</strong></li>
      <li><a href="#fix-1-dont-block-in-critical-sections">Fix #1: Don‚Äôt block in critical sections</a></li>
      <li><a href="#the-emotional-rollercoaster-continues">The emotional rollercoaster continues</a></li>
      <li><a href="#fix-2-rebuilding-the-kernel">Fix #2: Rebuilding the kernel</a></li>
    </ul>
  </li>
  <li><a href="#conclusion">Conclusion</a>: Takeaways and lessons learned</li>
</ul>

<p><strong>Looking for a quick read?</strong> Skip to the <a href="#rcu-read-copy-update">RCU: Read, Copy,
Update</a> section for spoilers.</p>

<p>In this post, I assume you have some understanding of how files and concurrency
work on Unix systems. I will try to explain everything else!</p>

<h2 id="a-nightmare-begins">A nightmare begins</h2>

<p>I have been working on building a <a href="https://reberhardt.com/blog/2019/12/12/generating-diagrams-for-teaching-multiprocessing.html">graphical debugger for C Playground</a> for
some time, allowing users to run code in the browser and visualize how their
program is being executed. As part of this work, I had to implement a kernel
module. (I‚Äôll explain more about this project in the next section.) After
testing the code locally for a few months, I pushed it to production.</p>

<p>The next morning, I woke up to a text from my roommate: <em>‚ÄúI think the server
crashed.‚Äù</em> Uh oh, that‚Äôs not supposed to happen. I quickly pulled out my laptop
and tried to SSH into the server to pull the logs, but to my surprise, I
couldn‚Äôt reach the server:</p>

<div><div><pre><code>ssh: connect to ... port 22: Operation timed out
</code></pre></div></div>

<p>Something wasn‚Äôt right. I logged into DigitalOcean to restart the machine, but
while I was doing that, I noticed a spike in the server‚Äôs CPU usage graph
around the time my roommate texted me. The CPU was cleanly pegged at 100%.
Normally, if a process running on the machine is hogging the CPU, we should
expect to see slight fluctuations around 100%, but that was not the case here
‚Äì it was a clean, horizontal line.</p>

<figure>
    <a href="https://reberhardt.com/blog//images/my-first-kernel-module/digitalocean-cpu-usage.png">
        <img src="https://reberhardt.com/blog//images/my-first-kernel-module/digitalocean-cpu-usage.png" alt="">
    </a>
    
</figure>

<p>After force-restarting the server via DigitalOcean and rolling back the
debugging feature, I started going through logs to get a sense for what
happened. My kernel module has print statements, and these get saved to the
kernel‚Äôs log in <code>/var/log/kern.log</code>. I scanned through this file, hoping to
find some clues, but this only confused me even more; there was <em>nothing</em> in
the kernel logs from any time near when the server locked up. It seemed to
suggest my kernel module wasn‚Äôt even running at that time. But I felt it <em>had</em>
to be a problem with my kernel module: nothing in user space could cause a
computer to lock up the way it did, completely unresponsive and pegged at 100%
CPU.</p>

<p>I kept digging. If the kernel logs didn‚Äôt give me anything helpful, maybe there
might be some application-side records that would indicate what happened.
However, when I checked the C Playground log file, I felt things only getting
worse:</p>

<div><div><pre><code>[2020-03-25T14:47:00-0400] [INFO]   [p5wDiTxoeX4hdYwDAAEm] Websocket connection received from &lt;redacted&gt;
[2020-03-25T14:47:00-0400] [LOG]    [p5wDiTxoeX4hdYwDAAEm] Program is at alias lion-eland-echidna
[2020-03-25T14:47:00-0400] [LOG]    [p5wDiTxoeX4hdYwDAAEm] Run logged with ID 55229
[2020-03-25T14:47:00-0400] [LOG]    [p5wDiTxoeX4hdYwDAAEm] Saving code to /srv/cplayground/data/dfb5e628-595f-464d-a4dd-1559db7b78d8
[2020-03-25T14:47:00-0400] [LOG]    [p5wDiTxoeX4hdYwDAAEm] Successfully created gdb socket at /srv/cplayground/data/dfb5e628-595f-464d-a4dd-1559db7b78d8-gdb.sock
[2020-03-25T14:47:00-0400] [LOG]    [p5wDiTxoeX4hdYwDAAEm] Starting container: docker run -it --name dfb5e628-595f-464d-a4dd-1559db7b78d8 --read-only --tmpfs /cplayground:mode=0777,size=32m,exec -v /srv/cplayground/data/dfb5e628-595f-464d-a4dd-1559db7b78d8:/cplayground/code.cpp:ro -v /srv/cplayground/data/dfb5e628-595f-464d-a4dd-1559db7b78d8-include.zip:/cplayground/include.zip:ro -e COMPILER=g++ -e CFLAGS=-g -std=c++17 -O0 -Wall -no-pie -lm -pthread -e SRCPATH=/cplayground/code.cpp --cap-drop=all --memory 96mb --memory-swap 128mb --memory-reservation 32mb --cpu-shares 512 --pids-limit 16 --ulimit cpu=10:11 --ulimit nofile=64 --network none -v /srv/cplayground/data/dfb5e628-595f-464d-a4dd-1559db7b78d8-gdb.sock:/gdb.sock --cap-add=SYS_PTRACE -e CPLAYGROUND_DEBUG=1 cplayground /run.py
[2020-03-25T14:47:00-0400] [LOG]    [p5wDiTxoeX4hdYwDAAEm] Initial terminal size 80x24
[2020-03-25T14:47:01-0400] [LOG]    [p5wDiTxoeX4hdYwDAAEm] Resize info received: 17x74
[2020-03-25T14:47:01-0400] [LOG]    [p5wDiTxoeX4hdYwDAAEm] Resize info received: 17x75
^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@
^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@
^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@
^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@
^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@
^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@
^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@
^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@
^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@
^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@
^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@
^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@
^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@
^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@
^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@
^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@
^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@
^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@
^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@
^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@
^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@
^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@
&lt;truncated for brevity&gt;
</code></pre></div></div>

<p>What on earth is <em>that</em>???</p>

<p>After some Googling, I figured out that <code>^@</code> is how <code>less</code> displays null bytes.
So, my log file is filled with null bytes. Why would that be?</p>

<p>Then it occurred to me: Filesystem writes aren‚Äôt synchronous. When a program
writes to a file, the data is usually not immediately written to disk. Instead,
to improve performance, the data is written to a buffer in memory. Normally,
the kernel flushes this buffer to disk periodically, so that the data is
persisted. But if the kernel is incapacitated, there is no way the data can
reach the disk, and when the machine force-restarts, it is lost forever. From
the above output, I could see that parts of the logs made it to disk, but later
parts of the logs were not so lucky, appearing as scrambled null bytes instead.</p>

<p>I started to feel a sense of dread creeping in. This was reminding me of the
extremely late nights and brain-frying debugging sessions from that time I took
an operating systems class. Except this might be even worse: This problem is
<em>only</em> happening in production, and I can‚Äôt reproduce it, and I can‚Äôt get any
logs to explain what‚Äôs wrong.</p>

<p>In the next section, I‚Äôll explain what my kernel module was doing, so that you
can follow along with my debugging process. Then, in the last section, I‚Äôll
talk you through the long, long process I went through to identify the <em>two</em>
bugs that caused this problem. (Spoiler alert: there were two race conditions
that caused two use-after-frees, in which I attempted to use memory after it
had already been freed.)</p>

<h2 id="context-c-playground-visual-debugger">Context: C Playground Visual Debugger</h2>

<p>I have been working on <a href="https://cplayground.com/">C Playground</a> for some time,
which is an online sandbox for quickly testing out C and C++ code. It is
specifically designed for learning systems programming, and I have been working
on features that generate diagrams to illustrate what is happening under the
hood when you run code on a computer.</p>

<p>Most recently, I was working on generating diagrams of the data structures that
the kernel uses to keep track of a program‚Äôs open files. The context and
motivation for this are described in much more detail in <a href="https://reberhardt.com/blog/2019/12/12/generating-diagrams-for-teaching-multiprocessing.html">this blog
post</a>.
As a very brief summary, this feature aims to help students understand system
calls such as <code>open</code>, <code>close</code>, <code>dup2</code>, <code>fork</code>, <code>pipe</code>, and others. Using these
system calls requires an understanding of what they are doing on your behalf.
Usually, we explain these system calls in terms of the <em>vnode table</em>, which
caches information about files on the system, the <em>open file table</em>, which
stores <em>session</em> information (e.g. program X has file Y open for reading, and
has read 100 bytes so far), and the <em>file descriptor table</em>, which stores
pointers into the open file table indicating which sessions a process has open.</p>

<p>When teaching these concepts, we typically draw a lot of diagrams by hand. C
Playground aims to generate diagrams automatically, helping students to build
up and confirm their intuitions without needing access to a TA. The platform
allows students to set breakpoints and step through ‚Ä¶</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://reberhardt.com/blog/2020/11/18/my-first-kernel-module.html">https://reberhardt.com/blog/2020/11/18/my-first-kernel-module.html</a></em></p>]]>
            </description>
            <link>https://reberhardt.com/blog/2020/11/18/my-first-kernel-module.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25153388</guid>
            <pubDate>Thu, 19 Nov 2020 19:30:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Jackie Chan's Best Advice]]>
            </title>
            <description>
<![CDATA[
Score 81 | Comments 53 (<a href="https://news.ycombinator.com/item?id=25151667">thread link</a>) | @oDot
<br/>
November 19, 2020 | https://www.weedonandscott.com/blog/post/jackie-chan-best-advice/ | <a href="https://web.archive.org/web/*/https://www.weedonandscott.com/blog/post/jackie-chan-best-advice/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
    <article>
      
    
<p>
  <iframe src="https://www.youtube.com/embed/TqM1oX7Ckfc" allowfullscreen="" title="YouTube Video"></iframe>
</p>

<blockquote>
<p>Whatever you do, do the best you can, because the film live forever. ‚ÄúNo, because, you know, that day raining and the actor don‚Äôt have time‚Äù. I said ‚ÄúWould you go to every theater to tell the audience?‚Äù No! The audience sit in the theater ‚Äì ‚Äúgood movie‚Äù, ‚Äúbad movie‚Äù. That‚Äôs all.</p>
</blockquote>
<p>I try to follow it with everything I do. With professional work ‚Äì the software I create, the screenplays I write and the films I produce. With my personal life ‚Äì how I talk to people, the things I buy and the cleanliness of my house.</p>
<p>To function, it must be implemented at every level. To do the best we can in software work, we must do the best we can with every line of code, email to a client and commit message. We will not clean our house the best we can unless we take care to pull out a toothbrush when needed, and even research the right toothbrush to have in our cleaning kit (don‚Äôt worry, any will do).</p>
<p>I can hear you already, ‚Äúit‚Äôs too mentally tasking to do‚Äù. That line of thought is exactly what Jackie Chan advises us against. Even when the reservation is true, even when it‚Äôs raining and the actor doesn‚Äôt have time, we should ask ourselves ‚Äúhow can this be done despite the trouble‚Äù. Same thing goes for the advice itself. Instead of dismissing it on the account of mental load, one should ask ‚ÄúHow can I apply this in my life anyway?‚Äù</p>
<p>Do no conflate ‚Äúthe best you can‚Äù with ‚Äúperfect‚Äù. They are different things. ‚ÄúThe best you can‚Äù refers to achieving goals. Goals usually combine all considerations, rather than the focus on an isolated metric of quality. The goal to have good breakfast will not be achieved the best you can if you eternally postpone it trying to perfect a french omelette.</p>
<p>Not any goal will do. Goals must adhere to high standards. That is why it can take Jackie Chan a year to film a movie. He takes the time needed to do the best he can, and still, he says, can see the imperfections when watching his own work. We should balance.</p>
<p>Yet it is true. Even though it‚Äôs somewhat of an ‚Äúobvious‚Äù insight, it is very hard to put into practice. Around every corner hides a legitimate reason to do less.</p>
<p>We must remember that having reasons does not turn a failure to success. End results are completely unaffected by rationalization as to why they should or shouldn‚Äôt be the way they are.</p>
<p>An end result is just is.</p>



      
    </article>
    
    
      
      
</div></div>]]>
            </description>
            <link>https://www.weedonandscott.com/blog/post/jackie-chan-best-advice/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25151667</guid>
            <pubDate>Thu, 19 Nov 2020 17:13:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Curious Moon]]>
            </title>
            <description>
<![CDATA[
Score 54 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25149803">thread link</a>) | @Tomte
<br/>
November 19, 2020 | https://bigmachine.io/products/a-curious-moon/ | <a href="https://web.archive.org/web/*/https://bigmachine.io/products/a-curious-moon/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="tcb_landing_page">
<div>
<div id="tve_flt"><div id="tve_editor" data-post-id="161773"><div data-inherit-lp-settings="1" data-css="tve-u-16cdc668863">

<div data-css="tve-u-16cdc61feee"><div data-aspect-ratio="16:9" data-float-visibility="mobile" data-overlay="0" data-type="vimeo" data-float="false" data-aspect-ratio-default="0" data-url="https://vimeo.com/247734637" data-float-width-m="300px" data-float-padding1-m="25px" data-float-padding2-m="25px" data-float-position="top-left" data-float-width-d="300px" data-float-padding1-d="25px" data-float-padding2-d="25px" data-css="tve-u-171ae0f3dad">
<div>
<div><iframe data-code="247734637" data-provider="vimeo" src="https://player.vimeo.com/video/247734637?portrait=1&amp;title=1&amp;color=fff&amp;byline=1&amp;autopause=0" data-src="https://player.vimeo.com/video/247734637?portrait=1&amp;title=1&amp;color=fff&amp;byline=1&amp;autopause=0" frameborder="0" allowfullscreen=""></iframe></div>
</div>
</div><div data-css="tve-u-1685be6002c">

<div><div data-css="tve-u-1685bea876e"><div data-css="tve-u-1685bea84b7"><div data-css="tve-u-1685beca9a6"><div data-css="tve-u-16cdd2b7da4"><p data-css="tve-u-1719fb93a47">Dive into &nbsp;<strong>raw data from the Cassini mission</strong> - straight from JPL, in the search for possible alien life. Oh yeah - <strong>and learn about PostgreSQL.</strong></p></div></div></div></div></div>
</div></div>
</div><div data-css="tve-u-16cd8a48aaa">

<div data-css="tve-u-16cd8a48ab5"><div data-css="tve-u-170e2ff2527">

<div><p data-tag="h2" data-css="tve-u-168603256ce"><h2 data-css="tve-u-16cdc6d1c80">You've found yourself in charge of a PostgreSQL database... <em>what now</em>?</h2></p><p data-css="tve-u-171a4c58cd8"><strong>Data is a powerful drug</strong> - it's the life blood of your business. How do you ensure that it's <strong>correct and tells the right story</strong>? PostgreSQL can help, but there's a lot more to this game.</p><div data-css="tve-u-1685c0e6c3b"><div data-css="tve-u-1685c0e6834"><div data-css="tve-u-16cdd398a82"><div data-css="tve-u-1685c14ddde"><div data-css="tve-u-16cdd2d3630"><p>Starting an application is simple enough, whether you use migrations, a model-synchronizer or good old-fashioned hand-rolled SQL. A year from now, however, when your app has grown and you're trying to measure what's happened... the story can quickly change when <strong>data is overwhelming you </strong>and you need to <strong>make sense</strong> of what's been accumulating.&nbsp;</p><p>Learning how PostgreSQL works is&nbsp;<em>just one aspect</em> of working with data. PostgreSQL is there to enable, enhance and extend what you do as a developer/DBA. And just like any tool in your toolbox, <strong>it can help you create crap, slice off some fingers, or help you be the superstar that you are</strong>.</p><p>That's the perspective of&nbsp;<em>A Curious Moon</em> - data is the truth, data is your friend, data is your business. The tools you use (namely PostgreSQL) are simply there to safeguard your treasure and help you understand what it's telling you.</p></div></div></div><div data-css="tve-u-16cdd398b63"><div data-css="tve-u-1685c1512d6"><div data-css="tve-u-1685c127b2d"><p>But <strong>what does it mean to be "data-minded"? </strong>How do you even get started? These are good questions and ones I struggled with when outlining this book. I quickly realized that the only way you could truly understand the power and necessity of solid databsae design was to <strong>live the life of a new DBA... thrown into the fire</strong> like we all were at some point...</p><p>Meet Dee Yan, our fictional intern at Red:4 Aerospace. She's just been handed the keys to <strong>a massive set of data, straight from Saturn</strong>, and she has to load it up, evaluate it and then analyze it for a critical project. She knows that PostgreSQL exists... but that's about it.</p><p>Much more than a tutorial, this book has a narrative element to it a bit like&nbsp;<em>The Martian</em>, where you get to know Dee and the problems she faces as a new developer/DBA... and how she solves them.</p><p>The truth is in the data...</p></div></div></div></div></div></div>
</div></div>
</div><div data-css="tve-u-168604cedc5" data-inherit-lp-settings="1">

<div data-css="tve-u-1685c8a1093"><p data-tag="h2" data-css="tve-u-1685c0e8154"><h2 data-css="tve-u-1685c8db5fd"><em>A Curious Moon</em>: Exploring Cassini's Data with PostgreSQL</h2></p><div data-css="tve-u-1685c40e6db">

<div data-css="tve-u-1685c3f3ad3"><div><div><div><div><p><span><img alt="" data-id="357" width="330" data-init-width="550" height="530" data-init-height="883" title="cover_v3" loading="lazy" src="https://bigmachine.io/wp-content/uploads/2018/05/cover_v3.jpg" data-css="tve-u-171a8e23a1a" data-width="330" data-height="530" srcset="https://i1.wp.com/bigmachine.io/wp-content/uploads/2018/05/cover_v3.jpg?w=550&amp;ssl=1 550w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2018/05/cover_v3.jpg?resize=187%2C300&amp;ssl=1 187w" sizes="(max-width: 330px) 100vw, 330px"></span></p></div></div><div><div><div data-css="tve-u-171a9ed79f5"><p data-css="tve-u-171a8e37403">Follow along with Dee Yan, our fictional data science intern, as she assumes the job of interim database administrator at the fictional aerospace startup, Red:4. She‚Äôll&nbsp;<strong>learn PostgreSQL</strong>&nbsp;like we all do:&nbsp;<em>on the job and under pressure</em>.</p><p>You‚Äôll start out with the basics: creating tables and importing data. Soon, however, you‚Äôll be awash in glorious SQL and data from space (<strong>the NASA/JPL archives of the Cassini mission</strong>), creating functions, common table expressions and calculating aggregates using window functions all in the name of science while trying to&nbsp;<strong>figure out if there‚Äôs life under the ice of a very curious little moon.</strong></p></div></div></div></div></div></div>
</div></div>
</div><div data-css="tve-u-16cd8a366f5" data-inherit-lp-settings="1">

<div data-css="tve-u-16cd8a36703"><div data-css="tve-u-171a8e493b9" tcb-template-name="Quote 15" tcb-template-id="41894" tcb-template-pack="137" data-keep-css_id="1"><div data-css="tve-u-171a8e493ba">

<div data-css="tve-u-171a8e493bc"><div data-css="tve-u-171a8e493bd"><div data-css="tve-u-171a8e493be"><div data-css="tve-u-171a8e493bf"><div data-css="tve-u-171a8e493c0"><p><span><img alt="" width="208" height="202" title="loren_stewart_200x" data-id="362" src="https://bigmachine.io/wp-content/uploads/2018/05/loren_stewart_200x.png" data-init-width="200" data-init-height="194" loading="lazy" data-css="tve-u-171a8e587bf" data-width="208" data-height="202" srcset="https://i1.wp.com/bigmachine.io/wp-content/uploads/2018/05/loren_stewart_200x.png?w=200&amp;ssl=1 200w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2018/05/loren_stewart_200x.png?resize=180%2C175&amp;ssl=1 180w" sizes="(max-width: 208px) 100vw, 208px"></span></p><p>&nbsp;<strong>Loren Steward</strong></p></div></div><div data-css="tve-u-171a8e493c3"><div data-css="tve-u-171a8e493c4"><p><span><img loading="lazy" alt="" width="217" height="170" title="Quotation_marks_image_03" data-id="41605" src="https://bigmachine.io/wp-content/uploads/tcb_content_templates/contentblock/images/Quotation_marks_image_03.png" data-css="tve-u-171a8e62de6" data-width="217" data-height="170" data-init-width="175" data-init-height="137"></span></p><p data-css="tve-u-171a8e67921"><em><strong>A Treasure Trove</strong></em></p><p data-css="tve-u-171a8e55e4f">"I‚Äôve found the book to be a treasure trove of Postgres features. CTEs are blowing my mind right now. I‚Äôm a backend engineer, and I‚Äôve been sharing what I‚Äôve learned with my coworker who is a DBA. She is picking &nbsp;up some tips through me now! I haven‚Äôt found a good, engaging tutorial for these intermediate/advanced Postgres tricks, and "A Curious Moon" fills this gap. As a bonus, I‚Äôm also picking up some bash tips from the book."</p></div></div></div></div></div>
</div></div></div>
</div><div data-css="tve-u-168602fef0f" data-inherit-lp-settings="1">

<div data-css="tve-u-1686030115d"><p data-tag="h3" data-css="tve-u-168603280cf"><h3 data-css="tve-u-1686030ea3f">You'll dig in to some of the most amazing data of our lifetime...</h3></p><p data-css="tve-u-16860558abc">I won't waste your time with sleep-inducing demos and examples - we're going to <strong>hit the ground running</strong> by <strong>importing millions of records</strong> into PostgreSQL right from the command line and then we're going to interrogate it for correctness. From there we <strong>put our detective hats on</strong> and get to work.</p><div data-css="tve-u-171a8f8117e" tcb-template-name="Resource List 06" tcb-template-id="41686" tcb-template-pack="137" data-keep-css_id="1"><div data-css="tve-u-171a8f8117f">

<div data-css="tve-u-171a8f81180"><div data-css="tve-u-171a8fba418" tcb-template-name="Team 10" tcb-template-id="41907" data-keep-css_id="1"><div data-css="tve-u-171a8fba419">

<div data-css="tve-u-171a8fba41a"><div data-css="tve-u-171a8fba41c">

<div data-css="tve-u-171a8fba41d"><div data-css="tve-u-171a8fba41e"><div data-css="tve-u-171a8fba41f"><div><div data-css="tve-u-171a8fba420"><div data-css="tve-u-171a8fba421">

<div data-css="tve-u-171a8fba423"><div data-css="tve-u-171a9010f1a">

<div><p><span><img alt="" data-id="161826" width="800" data-init-width="800" height="575" data-init-height="575" title="14 copy" loading="lazy" src="https://bigmachine.io/wp-content/uploads/2020/04/14-copy.png" srcset="https://i0.wp.com/bigmachine.io/wp-content/uploads/2020/04/14-copy.png?w=800&amp;ssl=1 800w, https://i0.wp.com/bigmachine.io/wp-content/uploads/2020/04/14-copy.png?resize=300%2C216&amp;ssl=1 300w, https://i0.wp.com/bigmachine.io/wp-content/uploads/2020/04/14-copy.png?resize=768%2C552&amp;ssl=1 768w, https://i0.wp.com/bigmachine.io/wp-content/uploads/2020/04/14-copy.png?resize=247%2C178&amp;ssl=1 247w, https://i0.wp.com/bigmachine.io/wp-content/uploads/2020/04/14-copy.png?resize=510%2C367&amp;ssl=1 510w" sizes="(max-width: 800px) 100vw, 800px"></span></p><p data-css="tve-u-171a900da73"><h3 data-css="tve-u-171a8fd31ac">Working with the PostgreSQL CLI</h3></p><p data-css="tve-u-16d9dc501ff"><strong>We don't have time for fluffy tooling!</strong> Yes there are GUIs and visual tools out there, but SQL with PostgreSQL is simple and easy to use when describing the precise table and index set that you want.</p></div>
</div></div>
</div></div></div><div><div data-css="tve-u-171a8fba432"><div data-css="tve-u-171a9ee5b8c">

<div><p><span><img alt="" data-id="161840" width="309" data-init-width="800" height="222" data-init-height="575" title="00-csvs" loading="lazy" src="https://bigmachine.io/wp-content/uploads/2020/04/00-csvs.png" mt-d="-1" data-css="tve-u-171a905f8cb" data-width="309" data-height="222" srcset="https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/00-csvs.png?w=800&amp;ssl=1 800w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/00-csvs.png?resize=300%2C216&amp;ssl=1 300w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/00-csvs.png?resize=768%2C552&amp;ssl=1 768w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/00-csvs.png?resize=247%2C178&amp;ssl=1 247w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/00-csvs.png?resize=510%2C367&amp;ssl=1 510w" sizes="(max-width: 309px) 100vw, 309px"></span></p><p data-css="tve-u-171a9018c8d"><h3 data-css="tve-u-171a9018c8e">importing data from massive csv files</h3></p><p data-css="tve-u-171a906570f"><strong>You'll import data like a pro, using the command line and a Makefile.</strong> There are GUIs you could use, but here at Red:4 we believe in keeping things simple and powerful..</p></div>
</div></div></div><div><div><div data-css="tve-u-171a9ee473f">

<div><p><span><img alt="" data-id="161842" width="309" data-init-width="889" height="222" data-init-height="575" title="leapyear" loading="lazy" src="https://bigmachine.io/wp-content/uploads/2020/04/leapyear.png" mt-d="-1" data-css="tve-u-171a9078bd8" data-width="309" data-height="222" srcset="https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/leapyear.png?zoom=2&amp;resize=309%2C222&amp;ssl=1 618w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/leapyear.png?zoom=3&amp;resize=309%2C222&amp;ssl=1 927w" sizes="(max-width: 309px) 100vw, 309px"></span></p><p data-css="tve-u-171a9078bd9"><h3 data-css="tve-u-171a9078bda">WEEDING OUT THE INEVITABLE CRAP DATA</h3></p><p data-css="tve-u-171a9081ff7"><strong>You will become "data minded".</strong>You'll go through a basic audit process from real, raw data from JPL. It doesn't matter where the data is from, it will&nbsp;<em>always have errors</em>.</p></div>
</div></div></div></div></div></div>
</div></div>
</div></div></div>
</div><div data-css="tve-u-171a8f8117f">

<div data-css="tve-u-171a8f81180"><div data-css="tve-u-171a90bbfa7" tcb-template-name="Team 10" tcb-template-id="41907" data-keep-css_id="1"><div data-css="tve-u-171a8fba419">

<div data-css="tve-u-171a8fba41a"><div data-css="tve-u-171a8fba41c">

<div data-css="tve-u-171a8fba41d"><div data-css="tve-u-171a8fba41e"><div data-css="tve-u-171a8fba41f"><div><div data-css="tve-u-171a8fba420"><div data-css="tve-u-171a8fba421">

<div data-css="tve-u-171a8fba423"><div data-css="tve-u-171a9010f1a">

<div><p><span><img alt="" data-id="161844" width="1368" data-init-width="1368" height="916" data-init-height="916" title="shot_186" loading="lazy" src="https://bigmachine.io/wp-content/uploads/2020/04/shot_186.jpg" srcset="https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/shot_186.jpg?w=1368&amp;ssl=1 1368w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/shot_186.jpg?resize=300%2C201&amp;ssl=1 300w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/shot_186.jpg?resize=1024%2C686&amp;ssl=1 1024w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/shot_186.jpg?resize=768%2C514&amp;ssl=1 768w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/shot_186.jpg?resize=247%2C165&amp;ssl=1 247w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/shot_186.jpg?resize=510%2C341&amp;ssl=1 510w" sizes="(max-width: 1368px) 100vw, 1368px"></span></p><p data-css="tve-u-171a900da73"><h3 data-css="tve-u-171a8fd31ac">TRIAGING AND SIZING UP WHAT THE DATA MEANS</h3></p><p data-css="tve-u-171a90c3a39"><span data-css="tve-u-1634af88282"><strong>You'll sleuth through raw Cassini data using basic queries</strong>. Pulling data in is only part of the process ‚Äì looking for clues and understanding what you're seeing is the next step. To do this you'll use <strong>Common Table Expressions</strong>, <strong>Full Text Search</strong> indexing and <strong>Windowing Functions</strong>.</span></p></div>
</div></div>
</div></div></div><div><div data-css="tve-u-171a8fba432"><div data-css="tve-u-171a9018c8b">

<div><p><span><img alt="" data-id="161845" width="370" data-init-width="544" height="212" data-init-height="312" title="shot_187" loading="lazy" src="https://bigmachine.io/wp-content/uploads/2020/04/shot_187.jpg" mt-d="0" data-css="tve-u-171a915ce14" data-width="370" data-height="212" ml-d="-4" srcset="https://i2.wp.com/bigmachine.io/wp-content/uploads/2020/04/shot_187.jpg?w=544&amp;ssl=1 544w, https://i2.wp.com/bigmachine.io/wp-content/uploads/2020/04/shot_187.jpg?resize=300%2C172&amp;ssl=1 300w, https://i2.wp.com/bigmachine.io/wp-content/uploads/2020/04/shot_187.jpg?resize=247%2C142&amp;ssl=1 247w, https://i2.wp.com/bigmachine.io/wp-content/uploads/2020/04/shot_187.jpg?resize=510%2C293&amp;ssl=1 510w" sizes="(max-width: 370px) 100vw, 370px"></span></p><p data-css="tve-u-171a911509f"><h3 data-css="tve-u-171a9018c8e">OPTIMIZING QUERIES</h3></p><p data-css="tve-u-171a906570f"><strong>You'll speed up slow queries with built-in analysis tools</strong> and objects. The Cassini data dump is gigantic, and sifting through the analysis records can be time consuming! You'll use EXPLAIN and ANALYZE to figure out where to put your indexes and when it makes sense to build a materialized view, which is data cached on disk.</p></div>
</div></div></div><div><div><div data-css="tve-u-171a9078bd5">

<div><p><span><img alt="" data-id="161858" width="309" data-init-width="1058" height="233" data-init-height="798" title="shot_188" loading="lazy" src="https://bigmachine.io/wp-content/uploads/2020/04/shot_188.jpg" mt-d="-4" data-css="tve-u-171a9154582" data-width="309" data-height="233" ml-d="0" srcset="https://i0.wp.com/bigmachine.io/wp-content/uploads/2020/04/shot_188.jpg?w=1058&amp;ssl=1 1058w, https://i0.wp.com/bigmachine.io/wp-content/uploads/2020/04/shot_188.jpg?resize=300%2C226&amp;ssl=1 300w, https://i0.wp.com/bigmachine.io/wp-content/uploads/2020/04/shot_188.jpg?resize=1024%2C772&amp;ssl=1 1024w, https://i0.wp.com/bigmachine.io/wp-content/uploads/2020/04/shot_188.jpg?resize=768%2C579&amp;ssl=1 768w, https://i0.wp.com/bigmachine.io/wp-content/uploads/2020/04/shot_188.jpg?resize=247%2C186&amp;ssl=1 247w, https://i0.wp.com/bigmachine.io/wp-content/uploads/2020/04/shot_188.jpg?resize=510%2C385&amp;ssl=1 510w" sizes="(max-width: 309px) 100vw, 309px"></span></p><p data-css="tve-u-171a9078bd9"><h3 data-css="tve-u-171a9078bda">verifying what we have using sql</h3></p><p data-css="tve-u-171a9081ff7">NASA is a very thorough organization, but it's staffed by humans and humans like spreadsheets and <strong>spreadsheets destroy data</strong>. You'll use mathematical analysis to verify <strong>flyby altitudes and speeds</strong> using data from the INMS during the 22 close encounters with Enceladus.</p></div>
</div></div></div></div></div></div>
</div></div>
</div><div data-css="tve-u-171a91d3d1c" tcb-template-name="Call to Action 06" tcb-template-id="41514" data-keep-css_id="1"><div data-css="tve-u-171a91d3d1d">

<div><div data-css="tve-u-171a91d3d1e">

<div data-css="tve-u-171a91d3d20"><div data-css="tve-u-171a91d3d21"><div data-css="tve-u-171a91d3d22"><div data-css="tve-u-171a91d3d23"><div><p><span><img alt="" width="232" height="180" title="Image10017" data-id="161853" src="https://bigmachine.io/wp-content/uploads/2020/04/Image10017.png" data-init-width="946" data-init-height="733" loading="lazy" data-css="tve-u-171a91e5bbd" data-width="232" data-height="180" srcset="https://i2.wp.com/bigmachine.io/wp-content/uploads/2020/04/Image10017.png?w=946&amp;ssl=1 946w, https://i2.wp.com/bigmachine.io/wp-content/uploads/2020/04/Image10017.png?resize=300%2C232&amp;ssl=1 300w, https://i2.wp.com/bigmachine.io/wp-content/uploads/2020/04/Image10017.png?resize=768%2C595&amp;ssl=1 768w, https://i2.wp.com/bigmachine.io/wp-content/uploads/2020/04/Image10017.png?resize=247%2C191&amp;ssl=1 247w, https://i2.wp.com/bigmachine.io/wp-content/uploads/2020/04/Image10017.png?resize=510%2C395&amp;ssl=1 510w" sizes="(max-width: 232px) 100vw, 232px"></span></p></div></div><div data-css="tve-u-171a91d3d25"><div data-css="tve-u-171a91d3d26"><p data-css="tve-u-171a91d3d27"><h3 data-css="tve-u-171a9206468">You'll run queries looking for the presence of life under this amazing moon.</h3></p><div data-css="tve-u-171a91d3d29"><p data-css="tve-u-171a91e4ce5"><span data-css="tve-u-1634af8827d"><strong>You'll finally perform the ultimate analysis on very real scientific data:&nbsp;<em>Is There Life Under the Ice of Enceladus?</em>&nbsp;&nbsp;</strong></span></p><p data-css="tve-u-171a91e4ce5"><span data-css="tve-u-1634af8827d"><strong></strong>You will have all the data you need to support this claim: thermal, chemical and mineralogical results from two of the most sensitive instruments humans have ever created. You'll run the query and see the results for yourself!</span></p></div></div></div></div></div></div>
</div></div>
</div></div></div></div>
</div></div></div>
</div><div data-css="tve-u-168604d64ed">

<div data-css="tve-u-168604e56fa"><p data-tag="h3" data-css="tve-u-1687a2f0c50"><h3>Working with data can be the most fun you've ever had at work.</h3></p><p>It's a discovery that most DBAs don't want "app devs" to know:&nbsp;<strong><em>working with data is intoxicating</em></strong>. Learning the skills you need to effectively work with data can be one of the <span data-css="tve-u-171a925f9eb">best investements in your career</span>... just ask these people...</p><div data-css="tve-u-1602b1ebd26" data-ct-name="Resume Clients" data-ct="testimonial-7342" data-element-name="Testimonial">

<div data-css="tve-u-16cdcc0fe5a"><div data-css="tve-u-16860547721"><div data-css="tve-u-16870ae36ee"><div><div data-css="tve-u-168605c3908"><div data-css="tve-u-1688010799d">

<div><div data-css="tve-u-16afdd5028d">

<div><div data-css="tve-u-16afdd58015"><div data-css="tve-u-16afdd0b596" data-float="1">

<div data-css="tve-u-1686061b5f0"><p><span><img alt="" width="400" height="400" title="tompkins" data-id="389" src="https://bigmachine.io/wp-content/uploads/2018/05/tompkins.jpg" data-init-width="400" data-init-height="400" loading="lazy" srcset="https://i2.wp.com/bigmachine.io/wp-content/uploads/2018/05/tompkins.jpg?w=400&amp;ssl=1 400w, https://i2.wp.com/bigmachine.io/wp-content/uploads/2018/05/tompkins.jpg?resize=280%2C280&amp;ssl=1 280w, https://i2.wp.com/bigmachine.io/wp-content/uploads/2018/05/tompkins.jpg?resize=300%2C300&amp;ssl=1 300w, https://i2.wp.com/bigmachine.io/wp-content/uploads/2018/05/tompkins.jpg?resize=100%2C100&amp;ssl=1 100w, https://i2.wp.com/bigmachine.io/wp-content/uploads/2018/05/tompkins.jpg?resize=150%2C150&amp;ssl=1 150w" sizes="(max-width: 400px) 100vw, 400px"></span></p></div>
</div></div></div>
</div><div data-css="tve-u-168800e7098">

<div data-css="tve-u-16afd6a6c48"><p data-css="tve-u-168605f9847"><strong><strong><strong>Compulsively readable. Recommended.</strong></strong></strong></p><p data-css="tve-u-1686119f5bd">"Reading through&nbsp;<em>A Curious Moon</em>... It's like reading&nbsp;<em>The Martian</em>, only instead of trying to survive in the hostile environment of another planet, it's about trying to survive in the hostile environment of snarky DBAs. Compulsively readable. Recommended."</p></div>
</div></div>
</div></div></div><div><div data-css="tve-u-1687b353150"><div data-css="tve-u-1687091a411">

<div><div data-css="tve-u-16afdd5028d">

<div><div data-css="tve-u-16afdd58015"><div data-css="tve-u-16afdd0b596" data-float="1">

<div data-css="tve-u-1686061b5f0"><p><span><img alt="" width="400" height="400" title="meggan" data-id="386" src="https://bigmachine.io/wp-content/uploads/2018/05/meggan.jpg" data-init-width="400" data-init-height="400" loading="lazy" srcset="https://i1.wp.com/bigmachine.io/wp-content/uploads/2018/05/meggan.jpg?w=400&amp;ssl=1 400w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2018/05/meggan.jpg?resize=280%2C280&amp;ssl=1 280w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2018/05/meggan.jpg?resize=300%2C300&amp;ssl=1 300w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2018/05/meggan.jpg?resize=100%2C100&amp;ssl=1 100w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2018/05/meggan.jpg?resize=150%2C150&amp;ssl=1 150w" sizes="(max-width: 400px) 100vw, 400px"></span></p></div>
</div></div></div>
</div><div data-css="tve-u-168800e8e1f">

<div data-css="tve-u-16afd6a80ba"><p data-css="tve-u-168605f9847"><strong><strong>I am&nbsp;<em>loving</em>&nbsp;the book!</strong></strong></p><p data-css="tve-u-17493010a6a">I am loving the book! The narrative format is like no other programming book I've ever read, and it's really keeping me engaged and interested. I've struggled in the past to keep pushing through programming books that are dry &amp; stock standard, but the characters in A Curious Moon make the book relatable and it makes me want to learn.</p></div>
</div></div>
</div></div></div><div data-css="tve-u-1749300e95c"><div data-css="tve-u-168605c5931"><div data-css="tve-u-1687b4daac8">

<div><div data-css="tve-u-16afdd5028d">

<div><div data-css="tve-u-16afdd58015"><div data-css="tve-u-16afdd0b596" data-float="1">

<div data-css="tve-u-1686061b5f0"><p><span><img alt="" width="210" height="210" title="george" data-id="402" src="https://bigmachine.io/wp-content/uploads/2018/05/george.jpg" data-init-width="210" data-init-height="210" loading="lazy" srcset="https://i2.wp.com/bigmachine.io/wp-content/uploads/2018/05/george.jpg?w=210&amp;ssl=1 210w, https://i2.wp.com/bigmachine.io/wp-content/uploads/2018/05/george.jpg?resize=180%2C180&amp;ssl=1 180w, https://i2.wp.com/bigmachine.io/wp-content/uploads/2018/05/george.jpg?resize=100%2C100&amp;ssl=1 100w, https://i2.wp.com/bigmachine.io/wp-content/uploads/2018/05/george.jpg?resize=150%2C150&amp;ssl=1 150w" sizes="(max-width: 210px) 100vw, 210px"></span></p></div>
</div></div></div>
</div><div data-css="tve-u-1688037c1e9">

<div data-css="tve-u-16afd6a933b"><p data-css="tve-u-168605f9847"><strong>One of the best technical books I've ever read.</strong></p><p data-css="tve-u-1686119f5bd">"I really am enjoying this book! It is one of the best technical books I've ever read, and I read more than 40 books per year (technical and non-technical). What I like most about this book is that you mixed a sci-fi story with technical writing. It is like a novel for geeks!"<em></em></p></div>
</div></div>
</div></div></div></div></div></div>
</div></div>
</div><div>

<div data-css="tve-u-171a9df25e6"><div data-css="tve-u-171a9f9c219">

<div><p data-tag="h3" data-css="tve-u-16860dbc5e4"><h3 data-css="tve-u-171a9be5c3f">Wait are you serious? Enceladus? Possible life under its icy shell?</h3></p><p data-css="tve-u-168709e7e48">Yes, absolutely. Back in 2005 Cassini did a routine flyby of Enceladus, a moon that's about the size of Great Britain (313 mi in diameter). It's the most reflective body in the solar system, covered with smooth ice... except for its south pole...</p><div><div data-css="tve-u-171aa0692ac"><div><div><p><span><img alt="" data-id="161850" width="677" data-init-width="1000" height="694" data-init-height="1025" title="Image8807" loading="lazy" src="https://bigmachine.io/wp-content/uploads/2020/04/Image8807.jpg" data-css="tve-u-171a9c34e97" data-width="677" data-height="694" srcset="https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/Image8807.jpg?w=1000&amp;ssl=1 1000w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/Image8807.jpg?resize=293%2C300&amp;ssl=1 293w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/Image8807.jpg?resize=768%2C787&amp;ssl=1 768w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/Image8807.jpg?resize=247%2C253&amp;ssl=1 247w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/Image8807.jpg?resize=510%2C523&amp;ssl=1 510w" sizes="(max-width: 677px) 100vw, 677px"></span></p></div></div><div><div><p data-css="tve-u-171a9ca6462">A Great Cosmic Mystery</p><div data-css="tve-u-171a9ca8f87"><p data-css="tve-u-171a9c7c9dd">Turns out this little moon gets squeezed between Jupiter and Titan and the <strong>gravitational pull grinds out some heat</strong> within its core. Heat that produces <strong>temperatures up <em>90 C</em></strong> in some spots, which look suspiciously like the deep water plumes we see here on Earth.</p><p data-css="tve-u-171a9c3f5d6">Oh, but it gets weirder...</p></div></div></div></div></div><p data-css="tve-u-171a9cb2eb5">The Bioreactor</p><div><div><div><div><div data-css="tve-u-171a9c3dd3f"><p data-css="tve-u-171a9c3f5d6">That heated water produces plumes at the moon's south pole which jet material into space. We didn't know what was in that material until 2007, when <strong>Cassini flew right through them</strong> at ridiculously high speeds and low elevation.</p><p data-css="tve-u-171a9c3f5d6">The onboard mass spectrometers scooped it up and... wouldn't ya know... it's <strong>sea water</strong>. <strong>There's a salty ocean under the ice</strong>&nbsp; and it containes <strong>methane</strong> and <strong>hydrocarbons</strong> that mirror the deep sea "chimneys" that we have here on Earth. This has led scientists to speculate that Enceladus is a <em>bioreactor</em>, capable of producing life in extraordinary circumstances.&nbsp;</p></div></div></div><div><div><p><span><img alt="" data-id="161849" width="677" data-init-width="627" height="694" data-init-height="531" title="Image8791" loading="lazy" src="https://bigmachine.io/wp-content/uploads/2020/04/Image8791.jpg" data-css="tve-u-171a9c34e97" data-width="677" data-height="694" srcset="https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/Image8791.jpg?zoom=2&amp;resize=677%2C694&amp;ssl=1 1354w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/Image8791.jpg?zoom=3&amp;resize=677%2C694&amp;ssl=1 2031w" sizes="(max-width: 677px) 100vw, 677px"></span></p></div></div></div></div><p><span><img alt="" data-id="161852" width="1317" data-init-width="1317" height="548" data-init-height="548" title="09" loading="lazy" src="https://bigmachine.io/wp-content/uploads/2020/04/09.jpg" srcset="https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/09.jpg?w=1317&amp;ssl=1 1317w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/09.jpg?resize=300%2C125&amp;ssl=1 300w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/09.jpg?resize=1024%2C426&amp;ssl=1 1024w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/09.jpg?resize=768%2C320&amp;ssl=1 768w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/09.jpg?resize=247%2C103&amp;ssl=1 247w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/09.jpg?resize=510%2C212&amp;ssl=1 510w" sizes="(max-width: 1317px) 100vw, 1317px"></span></p><div data-css="tve-u-171a9e37e81"><p>This little moon is quite small, about <strong>the size of Texas</strong>, yet it jets water out continuously into space. Some of it rains back down as fine ice particles, covering the surface and making it the most reflective body in the solar system. Some of it gets sucked back into Saturn itself, making Enceladus the only moon we know of that contributes matter back to its host planet.</p><p>And <strong>some of it goes into orbit, creating the "E ring" </strong>of Saturn which you see above. That ghostly blue glow, the second largest planetary ring in the solar system, was created entirely from the icy jets of Enceladus... which is <strong>way too small to contribute that much material</strong>.</p></div></div>
</div></div>
</div><div data-css="tve-u-171a9fdfad8">

<div data-css="tve-u-171a9d26e2f"><p data-css="tve-u-171a9d37687">What the hell is going on up there?</p><div data-css="tve-u-171a9f0fd95"><p>I don't know...&nbsp;<strong><em>you tell me</em>.</strong> We can speculate all day about aliens, sunken UFOs and Thor's hidden palace but you know what would be even better? Letting the data tell us what's going on.</p><p>That's what we do as data people: <strong>let the data tell us the story</strong>. It's all in there, and with Cassini's mission data we have <strong>a gigantic amount that we get to sift through for answers</strong>.</p><p>That&nbsp;<em>you get to sift through</em>. <strong>Buckle up</strong>! PostgreSQL is fun and all, but it's the data behind this story that's the fun part. When you're done with this story, you'll be able to run (and understand) one hell of an amazing database query. These results were dubbed a "<strong>smoking gun for life</strong> in the waters of Enceladus" by <em>NASA itself</em>.</p></div><p><span><img alt="" data-id="161876" width="1200" data-init-width="1200" height="718" data-init-height="718" title="Image12632 copy" loading="lazy" src="https://bigmachine.io/wp-content/uploads/2020/04/Image12632-copy.png" srcset="https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/Image12632-copy.png?w=1200&amp;ssl=1 1200w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/Image12632-copy.png?resize=300%2C180&amp;ssl=1 300w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/Image12632-copy.png?resize=1024%2C613&amp;ssl=1 1024w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/Image12632-copy.png?resize=768%2C460&amp;ssl=1 768w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/Image12632-copy.png?resize=247%2C148&amp;ssl=1 247w, https://i1.wp.com/bigmachine.io/wp-content/uploads/2020/04/Image12632-copy.png?resize=510%2C305&amp;ssl=1 510w" sizes="(max-width: 1200px) 100vw, 1200px"></span></p><div data-css="tve-u-171a9e9683d" tcb-template-name="Call to Action 12" tcb-template-id="41889" data-keep-css_id="1"><div data-css="tve-u-171a9e9683e">

<div><div data-css="tve-u-171a9e96840"><div data-css="tve-u-171a9e96841"><div data-css="tve-u-171a9e96842"><div data-css="tve-u-171a9e96843"><p><span><img alt="" data-id="368" width="316" data-init-width="750" height="189" data-init-height="448" title="curious_slide" loading="lazy" src="https://bigmachine.io/wp-content/uploads/2018/05/curious_slide.jpg" data-width="316" data-height="189" srcset="https://i0.wp.com/bigmachine.io/wp-content/uploads/2018/05/curious_slide.jpg?w=750&amp;ssl=1 750w, https://i0.wp.com/bigmachine.io/wp-content/uploads/2018/05/curious_slide.jpg?resize=280%2C167&amp;ssl=1 280w, https://i0.wp.com/bigmachine.io/wp-content/uploads/2018/05/curious_slide.jpg?resize=550%2C329&amp;ssl=1 550w, https://i0.wp.com/bigmachine.io/wp-content/uploads/2018/05/curious_slide.jpg?resize=300%2C179&amp;ssl=1 300w" sizes="(max-width: 316px) 100vw, 316px"></span></p></div></div><div data-css="tve-u-171a9e96845"><div data-css="tve-u-171a9e96846"><p data-css="tve-u-171a9e96847"><h3 data-css="tve-u-171a9f14274">The most fun you'll have learning something new.</h3></p><p>Spend the weekend with Dee and the gang at Red:4, digging in to the planetary mystery of Enceladus.</p></div></div></div></div></div>
</div></div></div>
</div><div data-inherit-lp-settings="1" data-css="tve-u-16cdd4acc71">

<div data-css="tve-u-16cdd4acc80"><p data-tag="h2" data-css="tve-u-16899a6ae75"><h2>Frequently Asked Questions
</h2></p><div data-css="tve-u-16898db49ac"><div data-css="tve-u-16898db468a"><div><div data-css="tve-u-16899be2e7e"><div data-hover-color="var(--tcb-color-1)" data-css="tve-u-16899be7319" data-tcb_hover_state_parent="" data-text-hover-color="var(--tcb-color-14)">
<div>
<div>
<div><h4 data-css="tve-u-16899bd402a"><strong>Is this a print or digital book?</strong>
</h4>
</div>

</div>
</div>
</div><div data-hover-color="var(--tcb-color-1)" data-css="tve-u-16899be4c12" data-tcb_hover_state_parent="" data-text-hover-color="var(--tcb-color-14)">
<div>
<div>
<div><h4 data-css="tve-u-16899bd673c"><strong>Do I get any and all updates?&nbsp;</strong>
</h4>
</div>

</div>
</div>
</div></div></div><div><div><div data-hover-color="var(--tcb-color-1)" data-css="tve-u-16899bf19eb" data-tcb_hover_state_parent="" data-text-hover-color="var(--tcb-color-14)">
<div>
<div>
<div><h4 data-css="tve-u-16899bd4f6a"><strong>Is this for real? You must have made some of this up?</strong></h4>
</div>

</div>
</div>
</div><div data-hover-color="var(--tcb-color-1)" data-css="tve-u-16899bef9ab" data-tcb_hover_state_parent="" data-text-hover-color="var(--tcb-color-14)">
<div>
<div>
<div><h4 data-css="tve-u-16899bd7ef4">How can I get ‚Ä¶</h4></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://bigmachine.io/products/a-curious-moon/">https://bigmachine.io/products/a-curious-moon/</a></em></p>]]>
            </description>
            <link>https://bigmachine.io/products/a-curious-moon/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25149803</guid>
            <pubDate>Thu, 19 Nov 2020 14:29:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Vim Koans]]>
            </title>
            <description>
<![CDATA[
Score 56 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25149640">thread link</a>) | @manjana
<br/>
November 19, 2020 | https://sanctum.geek.nz/arabesque/vim-koans/ | <a href="https://web.archive.org/web/*/https://sanctum.geek.nz/arabesque/vim-koans/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p><em>These koans have been independently translated into <a href="https://web-beta.archive.org/web/20160313124308/http://ranmocy.me/translation/vim-koans/">Chinese</a>,
thanks to Wanzhang Sheng, and into <a href="http://silly-bytes.blogspot.com/2016/05/vim-koans-espanol.html">Spanish</a>, thanks to Daniel Campoverde Carri√≥n.</em></p>

<p><em>See also: <a href="https://blog.samwhited.com/2015/04/the-dharma-of-vi/">The Dharma of Vi</a>, <a href="https://sanctum.geek.nz/etc/emperor-sh-and-the-traveller.txt">Emperor Sh and the Traveller</a></em></p>

<h2>Master Wq and the Windows developer</h2>

<p>Master Wq was addressing some Vim novices. After his lecture on the many
virtues of Vim, he asked if there were any questions. A young man raised his
hand.</p>

<p>‚ÄúMaster, by what means might one filter for the second column of a plaintext
table for all rows that contain the string ‚Äòtcp‚Äô?‚Äù</p>

<p>Master Wq said nothing, turned to the whiteboard behind him, and wrote:</p>

<pre><code>:%!awk '/tcp/{print $2}'
</code></pre>

<p>There was a murmur of approval from the other students.</p>

<p>‚ÄúBut I develop on Windows ‚Ä¶ ‚Äù the student stammered.</p>

<p>Master Wq turned again, erased the command, and wrote:</p>

<pre><code>:v/tcp/d
:v/^\s*\S\+\s\+\(\S\+\).*/d
:%s//\1/
</code></pre>

<p>‚ÄúWhat! That is far too complex for such a simple task!‚Äù cried the student.</p>

<p>Master Wq turned again, erased the command, and wrote:</p>

<pre><code>Microsoft Excel
</code></pre>

<p>At once, the student was enlightened.</p>

<hr>

<h2>No ultimate difference</h2>

<p>One day a monk visited Master Wq, and inquired, ‚ÄúMaster, how will my code be
different when I have mastered Vim?‚Äù</p>

<p>Master Wq answered, ‚ÄúBefore Vim: declare, define, process, print. After Vim:
declare, define, process, print.‚Äù</p>

<hr>

<h2>Master Wq and the Markdown acolyte</h2>

<p>A Markdown acolyte came to Master Wq to demonstrate his Vim plugin.</p>

<p>‚ÄúSee, master,‚Äù he said, ‚ÄúI have nearly finished the Vim macros that translate
Markdown into HTML. My functions interweave, my parser is a paragon of
efficiency, and the results nearly flawless. I daresay I have mastered
Vimscript, and my work will validate Vim as a modern editor for the enlightened
developer! Have I done rightly?‚Äù</p>

<p>Master Wq read the acolyte‚Äôs code for several minutes without saying anything.
Then he opened a Markdown document, and typed:</p>

<pre><code>:%!markdown
</code></pre>

<p>HTML filled the buffer instantly. The acolyte began to cry.</p>

<hr>

<h2>Master Wq and the Unix master</h2>

<p>An old Unix master came to Master Wq. ‚ÄúI am troubled, Wq. You teach the way of
Vim. vi is holy but Vim is not; its code sprawls, its features crowd memory;
its binaries are vast, its behavior inconsistent. This is not the way of Unix.
I fear you mislead your students. What can be done?‚Äù</p>

<p>Master Wq nodded. ‚ÄúYou are right,‚Äù he said. ‚ÄúVim is broken. Let us fix it.
Shall we begin?‚Äù</p>

<p>The old Unix master agreed, and opened a shell. He typed:</p>

<pre><code>$ vi vim.c
</code></pre>

<p>He began to code. Master Wq watched for a while and then asked him, ‚ÄúWhich
implementation of vi are you using? Nvi? Vim? Elvis?‚Äù</p>

<p>‚ÄúI don‚Äôt know,‚Äù said the Unix master. ‚ÄúIt doesn‚Äôt matter.‚Äù</p>

<p>Master Wq nodded. The Unix master sat stunned for a moment and closed his
document unsaved.</p>

<hr>

<h2>No greatest tool</h2>

<p>One night there was a storm, and Master Wq‚Äôs house collapsed. The next morning
he began to build it again using his old tools. His novice came to help him,
and they built for a while and were making good progress. As they worked, the
novice began to tell Master Wq of his latest accomplishments.</p>

<p>‚ÄúMaster, I have developed a wonderful Vim script to give all sorts of useful
information about a document. It counts the words, the sentences, the
paragraphs, and even tells you what kind of document it is using the syntax
highlighting rules. I use it in my pipelines all the time. It is a thing of
beauty, and I am very proud. Truly, Vim is the greatest tool!‚Äù</p>

<p>Master Wq did not reply. Thinking he had unwittingly angered his master, the
novice fell silent and continued his work.</p>

<p>The novice finished aligning two beams and had positioned a nail ready for
beating into the wood, but found the hammer was out of reach.</p>

<p>‚ÄúWould you pass me the hammer, master?‚Äù</p>

<p>Master Wq handed the novice a saw.</p>

<p>At once, the novice was enlightened.</p>

<hr>

<h2>Master Pope‚Äôs dream</h2>

<p><a href="https://github.com/tpope">Master Pope</a> once dreamt he was an Emacs user. When he awoke, he exclaimed:</p>

<p>‚ÄúI do not know if I am Tim Pope dreaming I am an Emacs user, or an Emacs
user dreaming I am Tim Pope!‚Äù</p>

<hr>

<h2>The superior editor</h2>

<p><a href="http://vimcasts.org/">Master Neil</a> and <a href="http://derekwyatt.org/">Master Wyatt</a> were famous for their instruction in the
ways of Vim, and travelled around the country teaching.</p>

<p>One day a student asked them, ‚ÄúMaster Neil speaks calmly and evenly, his accent
carefully lilting over his words, as though planned down to the syllable. But
Master Wyatt is full of enthusiasm, he starts and stops, his speech is rapid
and energetic, and his soul flows into his lectures. Which is the superior way
of teaching Vim?‚Äù</p>

<p>Masters Neil and Wyatt answered in unison, ‚ÄúWhich is the superior editor: vi or
ex?‚Äù</p>

<p>At once, several students were enlightened.</p>

<hr>

<h2>The slow student‚Äôs despair</h2>

<p>Master Wq was eating his luncheon when a student burst into his room and knelt
at his feet. Tears were in his eyes and he seemed profoundly frustrated. Master
Wq put down his bowl and asked, ‚ÄúWhat upsets you so, young man?‚Äù</p>

<p>‚ÄúMaster,‚Äù he said. ‚ÄúI give up. I will never attain mastery of Vim! I will never
learn the ways of the great patriarchs! I will never attain the brutal
simplicity, the divine emptiness of perfectly efficient Vim usage!‚Äù</p>

<p>‚ÄúWhy do you say this?‚Äù</p>

<p>‚ÄúI am your worst student, by far. When I am struggling with writing a simple
macro, my fellow students are writing recursive macros with ease. When I am
trying to remember the regular expression for white space characters, my fellow
students are writing cyclomatic complexity tests in Vimscript. I am too slow,
and I am ashamed, and I am afraid I have failed.‚Äù</p>

<p>Master Wq stood up. ‚ÄúCome with me to the window,‚Äù he said.</p>

<p>The student got up and followed Master Wq to the window, and looked across the
street to Master Wq‚Äôs neighbour‚Äôs house. Through the window, the two could see
a young man in suit and tie, working on a document.</p>

<p>‚ÄúWhat do you see?‚Äù asked Master Wq. The student watched for a while.</p>

<p>‚ÄúThat young man is using Microsoft Excel to generate a spreadsheet. He is
updating every single cell by hand. He doesn‚Äôt even know how to use formulas.
He makes capital letters by pressing Caps Lock, and then pressing it again when
he is done. He is so slow! I do not understand. How can he be so content?‚Äù</p>

<p>‚ÄúSeeing this young man, how can you not be?‚Äù returned Master Wq.</p>

<p>The student was immediately enlightened. His name was Qa, and he later became
one of the great masters.</p>

<hr>

<h2>Mastery of Vimscript</h2>

<p>A student enquired of Master Wq, ‚ÄúWhen will I know I have mastered Vimscript?‚Äù</p>

<p>Master Wq answered, ‚ÄúWhen you never use it.‚Äù</p>

<hr>

<h2>The Vim poet</h2>

<p>A young man begged an audience with Master Wq to read him his latest work, an
ode to the glories of Vim. With tearful eyes he read out his heartfelt words,
pouring his soul into his veneration for his text editor.</p>

<p>The master sat and listened to the poet for a while. After the tenth verse, he
held up his hand. ‚ÄúPlease, no more. Your poem is awful.‚Äù</p>

<p>The young man was very angry.</p>

<p>‚ÄúMaster Wq, surely you of all people can best appreciate the poem, you who know
the great beauty of the editor. How can you be so terse, so dismissive? I even
wrote this poem in Vim!‚Äù</p>

<p>‚ÄúYou wrote it in Vim,‚Äù said the Master. ‚ÄúBut your meter is uneven, your rhyming
pattern inconsistent, your metaphors mixed. You have written a very bad poem
using a very good tool. You are not a poet, and Vim will not make you one; many
of my students are not programmers, and Vim will not help them either.‚Äù</p>

<p>‚ÄúVim is eternally beautiful,‚Äù protested the poet. ‚ÄúIt is a worthy subject for
an ode.‚Äù</p>

<p>‚ÄúVim is not permanent. nvi is not permanent. vi itself is not permanent, only
vi-nature. Emacs has vi-nature, nano has vi-nature, even Notepad has vi-nature.
You narrow your sights, you grow attached, and hence you do not grasp the true
value of your poem‚Äôs subject. You must leave. Come back when you have mastered
Emacs.‚Äù</p>

<p>The poet left, deeply ashamed. He never returned.</p>

<hr>

<h2>Master Wq‚Äôs missing name</h2>

<p><em>Contributed by Rafael Beraldo.</em></p>

<p>One afternoon, Master Wq was meditating under a pine tree. He contemplated how
easily the wind moves through leaves and trunks, both moving them and having
its course altered by their presence. A student approached and nervously stood
by. Having finally mustered all the courage she could, the student said:</p>

<p>‚ÄúMaster Wq, I am troubled by what I have seen.‚Äù</p>

<p>The Master looked at her face, and she continued:</p>

<p>‚ÄúI have mastered movement, I have understood macros, I am familiar with the
source and have not touched vimscript. I have followed your every advice,
ruminated on every teaching. Yet, there is something I cannot understand.
Nowhere in Vim have I found your name. Never has anybody thanked you in the
help pages. How can that be? The greatest of all Vim masters, unknown to all?
In a desperate last try, I ran :Wq and the terminal screamed at me:</p>

<pre><code>E492: Not an editor command: Wq.
</code></pre>

<p>My heart is drowned in doubt, and I am ashamed to admit that.‚Äù</p>

<p>Master Wq looked away. After a few moments, he said:</p>

<p>‚ÄúYou think you have committed a great sin. However, the breeze still follows
its path, the leaves make their usual sound and the sky is no greyer.‚Äù</p>

<p>As the great master spoke this, with a sharp pebble he wrote in the dirt:</p>

<pre><code>command! Wq wq
</code></pre>
			</div></div>]]>
            </description>
            <link>https://sanctum.geek.nz/arabesque/vim-koans/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25149640</guid>
            <pubDate>Thu, 19 Nov 2020 14:15:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[You don't need no service mesh]]>
            </title>
            <description>
<![CDATA[
Score 82 | Comments 35 (<a href="https://news.ycombinator.com/item?id=25148642">thread link</a>) | @SerCe
<br/>
November 19, 2020 | https://serce.me/posts/23-07-2020-you-dont-need-no-service-mesh/ | <a href="https://web.archive.org/web/*/https://serce.me/posts/23-07-2020-you-dont-need-no-service-mesh/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>Hi!</p>
<p>Service meshes have attracted an enormous amount of hype around them. With at least a few talks about service meshes during each tech conference, one can easily be convinced that having a service mesh in their infrastructure is a must. However, hype isn‚Äôt a good indicator of whether the new shiny tech is the right solution for your problems. So below, I‚Äôll try to express an anti-hype opinion on service meshes to hopefully make it less confusing when you want to decide whether you may or may not need one.</p>
<p><span><img src="https://serce.me/img/servicemesh/rick.png" alt="rick"></span></p>
<div>
<blockquote>
<p>There‚Äôs a lesson here, and I‚Äôm not going to be the one to figure it out.</p>
</blockquote>
<p>
‚Äî Rick Sanchez
</p>
</div>
<div>
<h3 id="_the_invention">The invention</h3>
<p>Let‚Äôs take a step back in history and take a look at one of the <a href="https://eng.lyft.com/envoy-7-months-later-41986c2fd443">early articles</a> about introducing Envoy at Lyft.</p>
<div>
<blockquote>
<p>As it turns out, almost every company with a moderately-sized service oriented architecture is having the same problems that Lyft did prior to the development and deployment of Envoy:</p>
<div>
<ul>
<li>
<p>An architecture composed of a variety of languages, each containing a half-baked RPC library, including partial (or zero) implementations of rate limiting, circuit breaking, timeouts, retries, etc.</p>
</li>
<li>
<p>Differing or partial implementations of stats, logging, and ‚Ä¶.</p>
</li>
</ul>
</div>
</blockquote>
</div>
<p>While Envoy is not a service mesh by itself, the outlined problems describe the exact reason why service meshes were invented. They add ‚Äúrate limiting, circuit breaking, ‚Ä¶‚Äù and other reliability, observability, and security features to the services by enforcing the communication to go through the service mesh proxies, a data plane. Additionally, they require a separate component, a control plane, to control the configuration.</p>
<p>However, at this point, a lot of people miss the context in which service meshes were introduced. Service meshes are able to solve the problem not because it‚Äôs impossible to solve them in any other way. There are many battle-proof RPC libraries that take on the challenges of a separate data plane layer, <a href="https://github.com/twitter/finagle">Finagle</a>, <a href="https://github.com/grpc">gRPC</a>, <a href="https://github.com/line/armeria">Armeria</a>, <a href="https://github.com/apple/servicetalk">Servicetalk</a>, to name a few. After all, the very first service mesh - Linkerd 1.0 <a href="https://github.com/linkerd/linkerd">is powered by Finagle</a>. The RPC libraries will need a component which provides service discovery and configuration management to make it a true mesh. For instance, Zookeeper, or Consul, a component that service meshes call a control plane.</p>
<p>Why introduce a new concept to solve the problems that have been solved before? The service mesh concept wasn‚Äôt introduced to address problems that hadn‚Äôt been addressed before but rather address them in a way that doesn‚Äôt require any modifications to the application code, which is incredibly convenient when it‚Äôs hard to introduce an RPC layer into an existing heterogeneous microservice environment.</p>
<p>When you hear service mesh, Istio with Envoy might be the first thing that comes to mind, but it wasn‚Äôt the first service mesh to enter the market. Linkerd authors who pioneered the space, described exactly this situation in the <a href="https://linkerd.io/2017/04/25/whats-a-service-mesh-and-why-do-i-need-one/#why-is-the-service-mesh-necessary">"why is the service mesh necessary"</a>. Interestingly, in many hype-y articles on the Internet this context is often forgotten, or omitted.</p>
<p>Solving a problem well, even if it‚Äôs a problem that a lot of people have, doesn‚Äôt magically provide the tech with a lot of hype. There is always a sponsor behind it. I don‚Äôt know who the sponsor was here, and I‚Äôm going to speculate, but it‚Äôs hard to sell an RPC library in the world where open source is a fundamental requirement. There is no clear business model there, that‚Äôs why most of the mature RPC libraries were open-sourced by large tech companies for which it‚Äôs not a part of the core business model. A library is just code, not a piece of infrastructure. Service meshes are a different story. It‚Äôs an isolated non-trivial piece of infrastructure. As a vendor, not only can you provide consultancy around the configuration and deployment, but you can also sell complete hosted solutions around it.</p>
</div>
<div>
<h3 id="_disillusionments">Disillusionments</h3>
<p>Now that we‚Äôve established the problems, the solution, and most importantly, the context in which the solution was made, let‚Äôs take a look at the alternatives. The most obvious one, in the spirit of KISS, is to use an RPC library for your preferred language. Here is where the context is crucial: if you have a large fleet of services, each written in its own language/ecosystem, and the only language that they share is HTTP then having a single shared RPC library is going to be hard. Perhaps, you‚Äôve got a fabric of deployed and running services, but everyone is afraid of touching them, no one knows how they work, and each redeploy is an adventure. A service mesh is here to help you, because at least you‚Äôll be able to roll out new infrastructure features to the mesh regularly.</p>
<p>On the other hand, if you have a fleet of healthy services written in a single application stack, then it‚Äôs a good idea to think twice before introducing a service mesh. By simply introducing or evolving a shared RPC library, you‚Äôll get the exact same benefits and avoid dealing with the downsides of maintaining service meshes. By studying the service mesh limitations thoroughly, you can avoid finding yourself in the trough of disillusionment.</p>
<p><span><img src="https://serce.me/img/servicemesh/curve.png" alt="Hype Cycle"></span></p>
<div>
<h4 id="_different_ecosystem">Different ecosystem</h4>
<p>The ecosystem of the service mesh of your choice will likely be different from the ecosystem of your services. Beautiful websites always make you believe that the solution is plug‚Äôn‚Äôplay, always works and never goes down. In reality, sooner or later problems, bugs, quirks in behaviour will reveal themselves, as they always do. At that point, you‚Äôll need to have engineers who work on the service-mesh‚Äôs ecosystem which when it‚Äôs different from the main app, effectively limits the set of people who can introduce changes or fix problems. This is likely to reintroduce silos, which is against the whole DevOps spirit. Yes, having a DevOps team of engineers who are doing DevOps-y things <a href="https://continuousdelivery.com/2012/10/theres-no-such-thing-as-a-devops-team/">is against DevOps</a>.</p>
</div>
<div>
<h4 id="_unnecessary_overhead">Unnecessary overhead</h4>
<p>Not only having a proxy in front of each service adds overhead (often significant, talking about <a href="https://istio.io/latest/docs/ops/deployment/performance-and-scalability/">90pt</a> rather than 99pt in the performance summary <a href="https://www.infoq.com/presentations/latency-response-time/">doesn‚Äôt make software run faster</a>) and consumes resources, but you also requires time (or rather a team of people) to manage them. Yes, it can help to make some of the tasks potentially easier - yay, you can now add canary deployments with a few lines of YAML to simple applications now. However, you still need to manage canary deployments of the proxies themselves which don‚Äôt have a proxy in front of them. The problems just get pushed up the stack.</p>
</div>
<div>
<h4 id="_limiting_your_architecture_to_what_the_proxy_supports">Limiting your architecture to what The Proxy supports.</h4>
<p>As you‚Äôre reading this paragraph, HTTP/3 is slowly being rolled out to the Internet. It uses UDP as transport. Why use UDP rather than create a completely new protocol you ask? That‚Äôs because anything but TCP and UDP is simply ‚Äúblocked‚Äù by the boxes, various proxies on the internet - routers, gateways, etc. This phenomenon got named <a href="https://http3-explained.haxx.se/en/why-quic/why-ossification">ossification</a>. So, only TCP or UDP are left is the practical chose, and even UDP is partially blocked by various corporate proxies which slows down the adoption.</p>
<p>Even though your microservice environment is probably much smaller compared to the Internet, you can draw parallels with service meshes. Proxies can ossify your application architecture by limiting how your services talk to each other, and there is not much benefit in having proxies if you can bypass them. Suppose you want to build a reactive application which is using RSocket over pure tcp? Or perhaps a message-driven application using an actor model? Or maybe push the performance boundaries with Aeron? Not going to happen until the box in the middle becomes aware of the protocol.</p>
</div>
</div>
<div>
<h3 id="_do_i_need_one">Do I need one?</h3>
<p>What does it all mean for you as an engineer? The answer to whether you need to adopt the service mesh approach comes down to the state of the microservice environment you‚Äôre trying to improve. As we have established, compared to an RPC framework, service meshes allow you to:</p>
<div>
<ol>
<li>
<p>Deploy the infra changes more often than deploying your services.</p>
</li>
<li>
<p>Introduce infra changes without touching the service code.</p>
</li>
</ol>
</div>
<p>The point 1. is important when for whatever reason you can‚Äôt redeploy your services very often, e.g. maybe no one remembers how it‚Äôs done anymore, or maybe there are other restrictions. The point 2. is important when your stack is heterogeneous, e.g. some services are built in Go, some in Java, some in Haskell, etc. Where are you on the interval from a huge set of heterogeneous services with unknown deployment schedules to a set of homogenous regularly deployed services defines whether a service mesh is the best solution for you.</p>
</div>
<div>
<h3 id="_conclusion">Conclusion</h3>
<p>Service meshes have a lot of hype around them, and way too much in my opinion. However, before committing to a piece of technology, it‚Äôs crucial to understand the problems it solves, and the context in which the solution was made. A service mesh is not an ultimate ‚Äúgood practice‚Äù but simply one of the patterns to solve a set of issues, and it‚Äôs quite a heavy one.</p>
<p>Rather than jumping on board, look carefully - the last thing you want is to find out that you have invested in a solution for a problem that you don‚Äôt have. Service meshes are an amazing piece of tech solving a whole lot of problems. Not in every case, it is the best solution.</p>
</div>
<div>
<h3 id="_thank_you_to">Thank you to</h3>
<div>
<ul>
<li>
<p>You for reading this article.</p>
</li>
<li>
<p><a href="https://twitter.com/ptuls">Paul Tune</a> for reviewing the article.</p>
</li>
</ul>
</div>
</div>
<div>

<hr>
<blockquote><p lang="en" dir="ltr">"You don't need no Service Mesh". Just published a new blog post with an anti-hype opinion on the over-hyped topic. <a href="https://t.co/SVXS3nWKzj">https://t.co/SVXS3nWKzj</a></p>‚Äî Sergey Tselovalnikov (@SerCeMan) <a href="https://twitter.com/SerCeMan/status/1286242507664191488?ref_src=twsrc%5Etfw">July 23, 2020</a></blockquote> 
</div>

</div></div>]]>
            </description>
            <link>https://serce.me/posts/23-07-2020-you-dont-need-no-service-mesh/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25148642</guid>
            <pubDate>Thu, 19 Nov 2020 12:00:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My Beef with RuboCop]]>
            </title>
            <description>
<![CDATA[
Score 103 | Comments 83 (<a href="https://news.ycombinator.com/item?id=25147990">thread link</a>) | @todsacerdoti
<br/>
November 19, 2020 | https://www.rubypigeon.com/posts/my-beef-with-rubocop/ | <a href="https://web.archive.org/web/*/https://www.rubypigeon.com/posts/my-beef-with-rubocop/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p>Consider a hypothetical class that filters out unsafe HTML elements:</p>

<div><div><pre><code><span>class</span> <span>SanitizingFilter</span> <span>&lt;</span> <span>HTMLFilter</span>
  <span>def</span> <span>render_element</span><span>(</span><span>name</span><span>,</span> <span>attrs</span><span>,</span> <span>content</span><span>)</span>
    <span>if</span> <span>safe?</span><span>(</span><span>name</span><span>,</span> <span>attrs</span><span>)</span>
      <span>super</span>
    <span>else</span>
      <span>nil</span>
    <span>end</span>
  <span>end</span>
<span>end</span>
</code></pre></div></div>

<p>The default RuboCop settings would have us change it to this:</p>

<div><div><pre><code><span>class</span> <span>SanitizingFilter</span> <span>&lt;</span> <span>HTMLFilter</span>
  <span>def</span> <span>render_element</span><span>(</span><span>name</span><span>,</span> <span>attrs</span><span>,</span> <span>content</span><span>)</span>
    <span>super</span> <span>if</span> <span>safe?</span><span>(</span><span>name</span><span>,</span> <span>attrs</span><span>)</span>
  <span>end</span>
<span>end</span>
</code></pre></div></div>

<p>Let us feast on a three-course meal of opinion about why this is
worse.</p>

<h2 id="that-nil-was-written-for-a-purpose">That <code>nil</code> Was Written For A Purpose</h2>

<p>My first beef ‚Äî the hors d‚Äôoeuvre, if you will ‚Äî is that
<code>Style/EmptyElse</code> wants us to change from an <em>explicit</em> <code>nil</code> return
value to an <em>implicit</em> one. It says there is a ‚Äúredundant
else-clause‚Äù. I‚Äôll tell you what‚Äôs redundant: the <code>Style/EmptyElse</code>
cop.</p>

<p>This cop would prefer that the <code>else</code> clause did not exist, like this:</p>

<div><div><pre><code><span>class</span> <span>SanitizingFilter</span> <span>&lt;</span> <span>HTMLFilter</span>
  <span>def</span> <span>render_element</span><span>(</span><span>name</span><span>,</span> <span>attrs</span><span>,</span> <span>content</span><span>)</span>
    <span>if</span> <span>safe?</span><span>(</span><span>name</span><span>,</span> <span>attrs</span><span>)</span>
      <span>super</span>
    <span>end</span>
  <span>end</span>
<span>end</span>
</code></pre></div></div>

<p>In terms of behaviour at runtime, this is exactly the same. In terms
of readability, it is not.</p>

<p>The explicit <code>nil</code> in the original implementation implies that the
method is being called for its return value ‚Äî that it‚Äôs probably
functional, with inconsequential side effects.</p>

<p>Making the <code>nil</code> implicit says that <em>the return value is not
important</em>. This method now reads like it‚Äôs implemented by avoiding
side effects within <code>super</code>.</p>

<p>So which one is it? Is the filter supposed to work by returning <code>nil</code>,
or does it work by avoiding the side effects in the <code>super</code> call?
These are very different behaviours, and RuboCop just changed the
human interpretation from the correct one to the wrong one.</p>

<p>Bad cop. No doughnut.</p>

<h2 id="its-not-a-guard-clause">It‚Äôs Not A Guard Clause</h2>

<p>My other beef (the main course) is with <code>Style/GuardClause</code>. This cop
takes conditionals and turns one of the branches into a guard clause
‚Äî something like this:</p>

<div><div><pre><code><span>class</span> <span>SanitizingFilter</span> <span>&lt;</span> <span>HTMLFilter</span>
  <span>def</span> <span>render_element</span><span>(</span><span>name</span><span>,</span> <span>attrs</span><span>,</span> <span>content</span><span>)</span>
    <span>return</span> <span>nil</span> <span>unless</span> <span>safe?</span><span>(</span><span>name</span><span>,</span> <span>attrs</span><span>)</span>

    <span>super</span>
  <span>end</span>
<span>end</span>
</code></pre></div></div>

<p>Again, the runtime behaviour is identical, but the cop makes it less
readable.</p>

<p>Guard clauses are for bailing out early when you know that it‚Äôs not
necessary to run the rest of the method. They are usually trivial in
comparison to the <em>real</em> work done by the rest of the method. For
example, if we were implementing a sorting algorithm, then we could
have a guard clause for inputs with one element or less ‚Äî there is
no need to run a sorting algorithm when there is nothing to sort.</p>

<p>Except in this case, we‚Äôre not ‚Äúguarding‚Äù the rest of the method from
being run. That conditional is the <em>entire raison d‚Äô√™tre of the
class</em>. It‚Äôs the most important part. The whole purpose of a filter is
to decide what elements stay in, and what elements get filtered out.</p>

<p>RuboCop has taken the most important part of the class and turned it
into a trivial-looking guard clause.</p>

<p>Bad cop. No doughnut.</p>

<h2 id="branching-should-look-like-branching">Branching Should Look Like Branching</h2>

<p>My final qualm (is there such a thing as dessert beef?) is with
<code>Style/GuardClause</code> removing the obvious indenting of the two
branches, making it look like straight-line procedural code.</p>

<p>Most of the time, developers don‚Äôt so much <em>read</em> code as they do
<em>scan</em> code. We don‚Äôt read from left to right, top to bottom, as if
the codebase were the world‚Äôs most boring novel. We skim over code,
navigating by the colours of syntax highlighting and the shapes
made by indentation.</p>

<p>So when we‚Äôre skimming over the original code, trying to find the
conditional ‚Äî which we‚Äôve already established as being the most
important part of the class ‚Äî we will find two landmarks: a line
that starts with a brightly coloured <code>if</code> keyword, and indentation
that suggests a conditional.</p>

<p>But skimming over the guard-clause-enhanced code we see neither of
these landmarks. Instead, we find indentation that suggests
<em>procedural</em> code: a series of statements that run from top to bottom.
RuboCop has taken an obvious conditional and reshaped it to look like
there is no conditional.</p>

<p>The <code>Style/GuardClause</code> cop is double bad, and misses out on two
doughnuts.</p>

<h2 id="disclaimerconclusion">Disclaimer/Conclusion</h2>

<p>I don‚Äôt dislike RuboCop. It‚Äôs well made, and a useful tool.</p>

<p>The problem starts when it is viewed not as a tool, but as a set of
divine commandments. Thou shalt not make implicit <code>nil</code>s explicit.
Thou shalt not write long-form conditionals. Thus saith the RuboCop.</p>

<p>This is not necessarily a problem with RuboCop itself ‚Äî it‚Äôs a
problem with how people sometimes use RuboCop. One could argue that
the defaults aren‚Äôt great, but they are not a problem until someone
hooks them up to CI.</p>

<p>My only aim here is to disabuse readers of the notion that RuboCop can
only make code better. It‚Äôs a tool, and whether it helps or hurts
depends on how it‚Äôs used. Don‚Äôt be afraid to disable cops if you can‚Äôt
see how they benefit the team.</p>



        

      </div></div>]]>
            </description>
            <link>https://www.rubypigeon.com/posts/my-beef-with-rubocop/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25147990</guid>
            <pubDate>Thu, 19 Nov 2020 10:19:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Changes to the pip dependency resolver in 20.3]]>
            </title>
            <description>
<![CDATA[
Score 76 | Comments 28 (<a href="https://news.ycombinator.com/item?id=25145396">thread link</a>) | @di
<br/>
November 18, 2020 | https://pip.pypa.io/en/latest/user_guide/#changes-to-the-pip-dependency-resolver-in-20-2-2020 | <a href="https://web.archive.org/web/*/https://pip.pypa.io/en/latest/user_guide/#changes-to-the-pip-dependency-resolver-in-20-2-2020">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="user-guide">

<div id="running-pip">
<h2>Running pip<a href="#running-pip" title="Permalink to this headline">¬∂</a></h2>
<p>pip is a command line program. When you install pip, a <code><span>pip</span></code> command is added
to your system, which can be run from the command prompt as follows:</p>
<div>
<p><label for="tab-set--0-input--1">Unix/macOS</label></p><div>
<div><div><pre><span></span>python -m pip &lt;pip arguments&gt;
</pre></div>
</div>
<p><code><span>python</span> <span>-m</span> <span>pip</span></code> executes pip using the Python interpreter you
specified as python. So <code><span>/usr/bin/python3.7</span> <span>-m</span> <span>pip</span></code> means
you are executing pip for your interpreter located at /usr/bin/python3.7.</p>
</div>
<p><label for="tab-set--0-input--2">Windows</label></p><div>
<div><div><pre><span></span>py -m pip &lt;pip arguments&gt;
</pre></div>
</div>
<p><code><span>py</span> <span>-m</span> <span>pip</span></code> executes pip using the latest Python interpreter you
have installed. For more details, read the <a href="https://docs.python.org/3/using/windows.html#launcher">Python Windows launcher</a> docs.</p>
</div>
</div>
</div>
<div id="installing-packages">
<h2>Installing Packages<a href="#installing-packages" title="Permalink to this headline">¬∂</a></h2>
<p>pip supports installing from <a href="https://pypi.org/">PyPI</a>, version control, local projects, and
directly from distribution files.</p>
<p>The most common scenario is to install from <a href="https://pypi.org/">PyPI</a> using <a href="https://pip.pypa.io/en/latest/reference/pip_install/#requirement-specifiers"><span>Requirement Specifiers</span></a></p>
<div>
<p><label for="tab-set--1-input--1">Unix/macOS</label></p><div>
<div><div><pre><span></span>python -m pip install SomePackage            <span># latest version</span>
python -m pip install <span>SomePackage</span><span>==</span><span>1</span>.0.4     <span># specific version</span>
python -m pip install <span>'SomePackage&gt;=1.0.4'</span>     <span># minimum version</span>
</pre></div>
</div>
</div>
<p><label for="tab-set--1-input--2">Windows</label></p><div>
<div><div><pre><span></span>py -m pip install SomePackage            <span># latest version</span>
py -m pip install <span>SomePackage</span><span>==</span><span>1</span>.0.4     <span># specific version</span>
py -m pip install <span>'SomePackage&gt;=1.0.4'</span>     <span># minimum version</span>
</pre></div>
</div>
</div>
</div>
<p>For more information and examples, see the <a href="https://pip.pypa.io/en/latest/reference/pip_install/#pip-install"><span>pip install</span></a> reference.</p>
</div>
<div id="basic-authentication-credentials">
<h2>Basic Authentication Credentials<a href="#basic-authentication-credentials" title="Permalink to this headline">¬∂</a></h2>
<p>pip supports basic authentication credentials. Basically, in the URL there is
a username and password separated by <code><span>:</span></code>.</p>
<p><code><span>https://[username[:password]@]pypi.company.com/simple</span></code></p>
<p>Certain special characters are not valid in the authentication part of URLs.
If the user or password part of your login credentials contain any of the
special characters
<a href="https://en.wikipedia.org/wiki/Percent-encoding#Percent-encoding_reserved_characters">here</a>
then they must be percent-encoded. For example, for a
user with username ‚Äúuser‚Äù and password ‚Äúhe//o‚Äù accessing a repository at
pypi.company.com, the index URL with credentials would look like:</p>
<p><code><span>https://user:he%2F%2Fo@pypi.company.com</span></code></p>
<p>Support for percent-encoded authentication in index URLs was added in pip 10.0.0
(in <a href="https://github.com/pypa/pip/issues/3236">#3236</a>). Users that must use authentication
for their Python repository on systems with older pip versions should make the latest
get-pip.py available in their environment to bootstrap pip to a recent-enough version.</p>
<p>For indexes that only require single-part authentication tokens, provide the token
as the ‚Äúusername‚Äù and do not provide a password, for example -</p>
<p><code><span>https://0123456789abcdef@pypi.company.com</span></code></p>
<div id="netrc-support">
<h3>netrc Support<a href="#netrc-support" title="Permalink to this headline">¬∂</a></h3>
<p>If no credentials are part of the URL, pip will attempt to get authentication credentials
for the URL‚Äôs hostname from the user‚Äôs .netrc file. This behaviour comes from the underlying
use of <a href="https://requests.readthedocs.io/en/master/user/authentication/#netrc-authentication">requests</a> which in turn delegates it to the <a href="https://docs.python.org/3/library/netrc.html">Python standard library</a>.</p>
<p>The .netrc file contains login and initialization information used by the auto-login process.
It resides in the user‚Äôs home directory. The .netrc file format is simple. You specify lines
with a machine name and follow that with lines for the login and password that are
associated with that machine. Machine name is the hostname in your URL.</p>
<p>An example .netrc for the host example.com with a user named ‚Äòdaniel‚Äô, using the password
‚Äòqwerty‚Äô would look like:</p>
<div><div><pre><span></span>machine example.com
login daniel
password qwerty
</pre></div>
</div>
<p>As mentioned in the <a href="https://docs.python.org/3/library/netrc.html">standard library docs</a>,
only ASCII characters are allowed. Whitespace and non-printable characters are not allowed in passwords.</p>
</div>
<div id="keyring-support">
<h3>Keyring Support<a href="#keyring-support" title="Permalink to this headline">¬∂</a></h3>
<p>pip also supports credentials stored in your keyring using the <a href="https://pypi.org/project/keyring/">keyring</a>
library. Note that <code><span>keyring</span></code> will need to be installed separately, as pip
does not come with it included.</p>
<div><div><pre><span></span>pip install keyring
<span>echo</span> your-password <span>|</span> keyring <span>set</span> pypi.company.com your-username
pip install your-package --extra-index-url https://pypi.company.com/
</pre></div>
</div>
</div>
</div>
<div id="using-a-proxy-server">
<h2>Using a Proxy Server<a href="#using-a-proxy-server" title="Permalink to this headline">¬∂</a></h2>
<p>When installing packages from <a href="https://pypi.org/">PyPI</a>, pip requires internet access, which
in many corporate environments requires an outbound HTTP proxy server.</p>
<p>pip can be configured to connect through a proxy server in various ways:</p>
<ul>
<li><p>using the <code><span>--proxy</span></code> command-line option to specify a proxy in the form
<code><span>[user:passwd@]proxy.server:port</span></code></p></li>
<li><p>using <code><span>proxy</span></code> in a <a href="#config-file"><span>Config file</span></a></p></li>
<li><p>by setting the standard environment-variables <code><span>http_proxy</span></code>, <code><span>https_proxy</span></code>
and <code><span>no_proxy</span></code>.</p></li>
<li><p>using the environment variable <code><span>PIP_USER_AGENT_USER_DATA</span></code> to include
a JSON-encoded string in the user-agent variable used in pip‚Äôs requests.</p></li>
</ul>
</div>
<div id="requirements-files">
<h2>Requirements Files<a href="#requirements-files" title="Permalink to this headline">¬∂</a></h2>
<p>‚ÄúRequirements files‚Äù are files containing a list of items to be
installed using <a href="https://pip.pypa.io/en/latest/reference/pip_install/#pip-install"><span>pip install</span></a> like so:</p>
<div>
<p><label for="tab-set--2-input--1">Unix/macOS</label></p><div>
<div><div><pre><span></span>python -m pip install -r requirements.txt
</pre></div>
</div>
</div>
<p><label for="tab-set--2-input--2">Windows</label></p><div>
<div><div><pre><span></span>py -m pip install -r requirements.txt
</pre></div>
</div>
</div>
</div>
<p>Details on the format of the files are here: <a href="https://pip.pypa.io/en/latest/reference/pip_install/#requirements-file-format"><span>Requirements File Format</span></a>.</p>
<p>Logically, a Requirements file is just a list of <a href="https://pip.pypa.io/en/latest/reference/pip_install/#pip-install"><span>pip install</span></a> arguments
placed in a file. Note that you should not rely on the items in the file being
installed by pip in any particular order.</p>
<p>In practice, there are 4 common uses of Requirements files:</p>
<ol>
<li><p>Requirements files are used to hold the result from <a href="https://pip.pypa.io/en/latest/reference/pip_freeze/#pip-freeze"><span>pip freeze</span></a> for the
purpose of achieving <a href="#repeatability"><span>repeatable installations</span></a>.  In
this case, your requirement file contains a pinned version of everything that
was installed when <code><span>pip</span> <span>freeze</span></code> was run.</p>
<div>
<p><label for="tab-set--3-input--1">Unix/macOS</label></p><div>
<div><div><pre><span></span>python -m pip freeze &gt; requirements.txt
python -m pip install -r requirements.txt
</pre></div>
</div>
</div>
<p><label for="tab-set--3-input--2">Windows</label></p><div>
<div><div><pre><span></span>py -m pip freeze &gt; requirements.txt
py -m pip install -r requirements.txt
</pre></div>
</div>
</div>
</div>
</li>
<li><p>Requirements files are used to force pip to properly resolve dependencies.
pip 20.2 and earlier <a href="https://github.com/pypa/pip/issues/988">doesn‚Äôt have true dependency resolution</a>, but instead simply uses the first
specification it finds for a project. E.g. if <code><span>pkg1</span></code> requires
<code><span>pkg3&gt;=1.0</span></code> and <code><span>pkg2</span></code> requires <code><span>pkg3&gt;=1.0,&lt;=2.0</span></code>, and if <code><span>pkg1</span></code> is
resolved first, pip will only use <code><span>pkg3&gt;=1.0</span></code>, and could easily end up
installing a version of <code><span>pkg3</span></code> that conflicts with the needs of <code><span>pkg2</span></code>.
To solve this problem, you can place <code><span>pkg3&gt;=1.0,&lt;=2.0</span></code> (i.e. the correct
specification) into your requirements file directly along with the other top
level requirements. Like so:</p>
<div><div><pre><span></span><span>pkg1</span>
<span>pkg2</span>
<span>pkg3</span><span>&gt;=</span><span>1.0</span><span>,</span><span>&lt;=</span><span>2.0</span>
</pre></div>
</div>
</li>
<li><p>Requirements files are used to force pip to install an alternate version of a
sub-dependency.  For example, suppose <code><span>ProjectA</span></code> in your requirements file
requires <code><span>ProjectB</span></code>, but the latest version (v1.3) has a bug, you can force
pip to accept earlier versions like so:</p>

</li>
<li><p>Requirements files are used to override a dependency with a local patch that
lives in version control.  For example, suppose a dependency
<code><span>SomeDependency</span></code> from PyPI has a bug, and you can‚Äôt wait for an upstream
fix.
You could clone/copy the src, make the fix, and place it in VCS with the tag
<code><span>sometag</span></code>.  You‚Äôd reference it in your requirements file with a line like
so:</p>
<div><div><pre><span></span><span>git</span><span>+</span><span>https</span><span>:</span><span>//</span><span>myvcs</span><span>.</span><span>com</span><span>/</span><span>some_dependency</span><span>@sometag</span><span>#egg=SomeDependency</span>
</pre></div>
</div>
<p>If <code><span>SomeDependency</span></code> was previously a top-level requirement in your
requirements file, then <strong>replace</strong> that line with the new line. If
<code><span>SomeDependency</span></code> is a sub-dependency, then <strong>add</strong> the new line.</p>
</li>
</ol>
<p>It‚Äôs important to be clear that pip determines package dependencies using
<a href="https://setuptools.readthedocs.io/en/latest/setuptools.html#declaring-dependencies">install_requires metadata</a>,
not by discovering <code><span>requirements.txt</span></code> files embedded in projects.</p>
<p>See also:</p>
<ul>
<li><p><a href="https://pip.pypa.io/en/latest/reference/pip_install/#requirements-file-format"><span>Requirements File Format</span></a></p></li>
<li><p><a href="https://pip.pypa.io/en/latest/reference/pip_freeze/#pip-freeze"><span>pip freeze</span></a></p></li>
<li><p><a href="https://caremad.io/2013/07/setup-vs-requirement/">‚Äúsetup.py vs requirements.txt‚Äù (an article by Donald Stufft)</a></p></li>
</ul>
</div>
<div id="constraints-files">
<h2>Constraints Files<a href="#constraints-files" title="Permalink to this headline">¬∂</a></h2>
<p>Constraints files are requirements files that only control which version of a
requirement is installed, not whether it is installed or not. Their syntax and
contents is nearly identical to <a href="#requirements-files"><span>Requirements Files</span></a>. There is one key
difference: Including a package in a constraints file does not trigger
installation of the package.</p>
<p>Use a constraints file like so:</p>
<div>
<p><label for="tab-set--4-input--1">Unix/macOS</label></p><div>
<div><div><pre><span></span>python -m pip install -c constraints.txt
</pre></div>
</div>
</div>
<p><label for="tab-set--4-input--2">Windows</label></p><div>
<div><div><pre><span></span>py -m pip install -c constraints.txt
</pre></div>
</div>
</div>
</div>
<p>Constraints files are used for exactly the same reason as requirements files
when you don‚Äôt know exactly what things you want to install. For instance, say
that the ‚Äúhelloworld‚Äù package doesn‚Äôt work in your environment, so you have a
local patched version. Some things you install depend on ‚Äúhelloworld‚Äù, and some
don‚Äôt.</p>
<p>One way to ensure that the patched version is used consistently is to
manually audit the dependencies of everything you install, and if ‚Äúhelloworld‚Äù
is present, write a requirements file to use when installing that thing.</p>
<p>Constraints files offer a better way: write a single constraints file for your
organisation and use that everywhere. If the thing being installed requires
‚Äúhelloworld‚Äù to be installed, your fixed version specified in your constraints
file will be used.</p>
<p>Constraints file support was added in pip 7.1. In <a href="#resolver-changes-2020"><span>Changes to the pip dependency resolver in 20.3 (2020)</span></a> we did a fairly comprehensive overhaul, removing several
undocumented and unsupported quirks from the previous implementation,
and stripped constraints files down to being purely a way to specify
global (version) limits for packages.</p>
</div>
<div id="installing-from-wheels">
<h2>Installing from Wheels<a href="#installing-from-wheels" title="Permalink to this headline">¬∂</a></h2>
<p>‚ÄúWheel‚Äù is a built, archive format that can greatly speed installation compared
to building and installing from source archives. For more information, see the
<a href="https://wheel.readthedocs.io/">Wheel docs</a> , <span id="index-0"></span><a href="https://www.python.org/dev/peps/pep-0427"><strong>PEP 427</strong></a>, and <span id="index-1"></span><a href="https://www.python.org/dev/peps/pep-0425"><strong>PEP 425</strong></a>.</p>
<p>pip prefers Wheels where they are available. To disable this, use the
<a href="https://pip.pypa.io/en/latest/reference/pip_install/#install-no-binary"><span>--no-binary</span></a> flag for <a href="https://pip.pypa.io/en/latest/reference/pip_install/#pip-install"><span>pip install</span></a>.</p>
<p>If no satisfactory wheels are found, pip will default to finding source
archives.</p>
<p>To install directly from a wheel archive:</p>
<div>
<p><label for="tab-set--5-input--1">Unix/macOS</label></p><div>
<div><div><pre><span></span>python -m pip install SomePackage-1.0-py2.py3-none-any.whl
</pre></div>
</div>
</div>
<p><label for="tab-set--5-input--2">Windows</label></p><div>
<div><div><pre><span></span>py -m pip install SomePackage-1.0-py2.py3-none-any.whl
</pre></div>
</div>
</div>
</div>
<p>For the cases where wheels are not available, pip offers <a href="https://pip.pypa.io/en/latest/reference/pip_wheel/#pip-wheel"><span>pip wheel</span></a> as a
convenience, to build wheels for all your requirements and dependencies.</p>
<p><a href="https://pip.pypa.io/en/latest/reference/pip_wheel/#pip-wheel"><span>pip wheel</span></a> requires the <a href="https://pypi.org/project/wheel/">wheel package</a> to be installed, which provides the
‚Äúbdist_wheel‚Äù setuptools extension that it uses.</p>
<p>To build wheels for your requirements and all their dependencies to a local
directory:</p>
<div>
<p><label for="tab-set--6-input--1">Unix/macOS</label></p><div>
<div><div><pre><span></span>python -m pip install wheel
python -m pip wheel --wheel-dir<span>=</span>/local/wheels -r requirements.txt
</pre></div>
</div>
</div>
<p><label for="tab-set--6-input--2">Windows</label></p><div>
<div><div><pre><span></span>py -m pip install wheel
py -m pip wheel --wheel-dir<span>=</span>/local/wheels -r requirements.txt
</pre></div>
</div>
</div>
</div>
<p>And <em>then</em> to install those requirements just using your local directory of
wheels (and not from PyPI):</p>
<div>
<p><label for="tab-set--7-input--1">Unix/macOS</label></p><div>
<div><div><pre><span></span>python -m pip install --no-index --find-links<span>=</span>/local/wheels -r requirements.txt
</pre></div>
</div>
</div>
<p><label for="tab-set--7-input--2">Windows</label></p><div>
<div><div><pre><span></span>py -m pip install --no-index --find-links<span>=</span>‚Ä¶</pre></div></div></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pip.pypa.io/en/latest/user_guide/#changes-to-the-pip-dependency-resolver-in-20-2-2020">https://pip.pypa.io/en/latest/user_guide/#changes-to-the-pip-dependency-resolver-in-20-2-2020</a></em></p>]]>
            </description>
            <link>https://pip.pypa.io/en/latest/user_guide/#changes-to-the-pip-dependency-resolver-in-20-2-2020</link>
            <guid isPermaLink="false">hacker-news-small-sites-25145396</guid>
            <pubDate>Thu, 19 Nov 2020 02:03:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Chrome ‚ÄòBug‚Äô Exempts Google Cookies from Data Privacy Settings]]>
            </title>
            <description>
<![CDATA[
Score 173 | Comments 28 (<a href="https://news.ycombinator.com/item?id=25143814">thread link</a>) | @betaman0
<br/>
November 18, 2020 | https://hfet.org/chrome-bug-exempts-google-cookies-from-data-privacy-settings/ | <a href="https://web.archive.org/web/*/https://hfet.org/chrome-bug-exempts-google-cookies-from-data-privacy-settings/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

			
	<main id="main" role="main">

		
<article id="post-342">

	<!-- .entry-header -->

	
		<figure>
			<img width="1080" height="540" src="https://hfet.org/wp-content/uploads/2020/11/pexels-deepanker-verma-1482061-1080x540.jpg" alt="" loading="lazy">		</figure>

		
	
<div>

	<h4>A programmer named <a href="https://lapcatsoftware.com/articles/chrome-google.html" target="_blank" rel="noopener noreferrer">Jeff Johnson</a> recently discovered that enabling the ‚ÄúClear cookies and site data when you quit Chrome‚Äù meant Google Search and YouTube cookies were not deleted, and exempt from this rule.</h4>
<p>He found that the only way to include Google and YouTube cookies for clearing is to specifically add <code>google.com</code> and <code>youtube.com</code> to <em>sites that can never use cookies</em> ‚Äì it is not made obvious to the user that Google‚Äôs own services are exempt from the cookie clearing rule by default. <em>(<a href="https://lapcatsoftware.com/articles/chrome-google.html" target="_blank" rel="noopener noreferrer">source</a>)</em></p>
<p>Furthermore, <a href="https://www.independent.co.uk/life-style/gadgets-and-tech/google-privacy-chrome-youtube-search-bug-b1180705.html" target="_blank" rel="noopener noreferrer"><em>The Independent</em></a> investigated this issue and found similar results.</p>
<p>Google was made aware of this issue, and a Google spokesperson issued the following statement:</p>
<blockquote><p>‚ÄúWe are aware of a bug in Chrome that is impacting how cookies are cleared on some first-party Google websites. We are investigating the issue, and plan to roll out a fix in the coming days.‚Äù (<a href="https://www.theregister.com/2020/10/19/google_cookie_wipe/" target="_blank" rel="noopener noreferrer">source</a>)<em><br>
</em></p></blockquote>
<hr>
<p><em><strong>Author‚Äôs Note:</strong> Google has a <a href="https://en.wikipedia.org/wiki/Privacy_concerns_regarding_Google" target="_blank" rel="noopener noreferrer">long history of privacy violations</a>, which is one of the primary reasons I recommend finding ways to become less reliant on their services. A good first step would be to replace Chrome with <a href="https://www.mozilla.org/en-US/firefox/new/?redirect_source=firefox-com" target="_blank" rel="noopener noreferrer">Firefox</a>, and from there, looking to replace Google Search with <a href="https://duckduckgo.com/" target="_blank" rel="noopener noreferrer">DuckDuckGo</a> or <a href="https://startpage.com/" target="_blank" rel="noopener noreferrer">Startpage</a>.</em></p>
<p><a href="https://hfet.org/feed/"><img src="https://hfet.org/wp-content/uploads/2020/11/rss_button_hfet-1.png" alt="" width="219" height="30"></a><a href="https://hfet.org/support/"><img src="https://hfet.org/wp-content/uploads/2020/11/support_button_hfet.png" alt="" width="165" height="30"></a></p>
    <div itemtype="http://schema.org/Person" itemscope="" itemprop="author"><p><img width="100" height="100" src="https://hfet.org/wp-content/uploads/2020/11/karl-swanepoel-150x150.jpg" alt="" loading="lazy" srcset="https://hfet.org/wp-content/uploads/2020/11/karl-swanepoel-150x150.jpg 150w, https://hfet.org/wp-content/uploads/2020/11/karl-swanepoel-300x300.jpg 300w, https://hfet.org/wp-content/uploads/2020/11/karl-swanepoel-20x20.jpg 20w, https://hfet.org/wp-content/uploads/2020/11/karl-swanepoel-36x36.jpg 36w, https://hfet.org/wp-content/uploads/2020/11/karl-swanepoel-48x48.jpg 48w, https://hfet.org/wp-content/uploads/2020/11/karl-swanepoel-24x24.jpg 24w, https://hfet.org/wp-content/uploads/2020/11/karl-swanepoel-96x96.jpg 96w, https://hfet.org/wp-content/uploads/2020/11/karl-swanepoel.jpg 640w" sizes="(max-width: 100px) 100vw, 100px"></p><div><p>I‚Äôm an AI &amp; Robotics Student interested in FOSS, Tech Sustainability and Data Rights. I‚Äôm also the founder of Humans For Ethical Technology.</p></div></div>	
</div><!-- .entry-content -->


</article>

	</main><!-- #main -->

	


	</div></div>]]>
            </description>
            <link>https://hfet.org/chrome-bug-exempts-google-cookies-from-data-privacy-settings/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25143814</guid>
            <pubDate>Wed, 18 Nov 2020 23:02:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Apple's 15% Deflection Tactic]]>
            </title>
            <description>
<![CDATA[
Score 584 | Comments 454 (<a href="https://news.ycombinator.com/item?id=25143303">thread link</a>) | @lux
<br/>
November 18, 2020 | https://www.johnluxford.com/blog/apples-15-percent-deflection-tactic/ | <a href="https://web.archive.org/web/*/https://www.johnluxford.com/blog/apples-15-percent-deflection-tactic/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-server-rendered="true" id="app" data-v-8769139c=""><div data-v-8769139c=""><div data-v-8769139c=""><div data-v-8769139c=""><blockquote>
<p>This post is in response to <a href="https://www.apple.com/newsroom/2020/11/apple-announces-app-store-small-business-program/" target="_blank" rel="nofollow noopener noreferrer">Apple‚Äôs App Store Small Business Program announcement</a>.</p>
</blockquote>
<p>For decades, developers were able to create and distribute their software, whether free or for a fee, to anyone with a PC or laptop. There was no gatekeeper deciding who was in or out, and there was no requirement that they hand over a significant percentage of their revenue to the device maker.</p>
<p>Video game consoles were the obvious exception to this, with the claim that they were specialized devices and, therefore, closed ecosystems. But personal computing was open, and that was an important catalyst for innovation for a long time.</p>
<p>That changed with the introduction of Apple's app store on iOS. Developers had to be approved by Apple, and had to agree to use Apple as their sole payment processor, to the tune of $99/year and 30% of their revenue. For contrast, payment processors at the time were charging around 2.9% and $0.30/transaction. That's a massive difference in and of itself.</p>
<blockquote>
<p>The 30% number was based on what video game consoles were charging developers.</p>
</blockquote>
<h2 id="apples-original-rationale">Apple's original rationale</h2>
<p>Apple's argument for the iPhone being a closed ecosystem was that a phone is a specialized device because its primary function is to make phone calls, and that primary function must be protected against rogue software that may disrupt its ability to make those calls.</p>
<p>Apple's argument that the 30% fee was fair was that it takes manpower to review and approve apps to be listed on their store.</p>
<h2 id="ripples-into-other-app-stores">Ripples into other app stores</h2>
<p>The issue grew bigger as Google implemented similar requirements and fee structures on the Android app store, and pretty much every app store from Steam to Samsung Galaxy followed suit.</p>
<p>Now that Microsoft and Apple have introduced app stores on Windows and macOS, they plan to slowly erode our freedom on PCs too so that they can reap the same financial benefits on our labour on all computing platforms (save for open source operating systems like Linux). Apple has since added warning messages discouraging users not to install third party software that hasn't paid for Apple's signature of approval. These warnings are getting more and more alarming with each OS upgrade, causing users to fear installing third party software through other, traditional means.</p>
<p>This needs to be stopped now because device makers are making the case that future devices like VR and AR headsets are also specialized devices and so they too should be subject to the same closed ecosystem and payment processing restrictions, which is simply untrue.</p>
<p>If an AR device replaces your PC, it's a generalized computing device, plain and simple.</p>
<h2 id="phones-are-not-specialized-computing-devices">Phones are not specialized computing devices</h2>
<p>Making phone calls was the sole function of a telephone, but a mobile phone is a powerful computer that can perform a wide range of functions. The new iPhone 12 Pro has built-in Lidar, a total of 4 cameras, GPS, and many other features that extend far being making phone calls.</p>
<p>What was once a primary feature is now just one of thousands, and potentially one of its least important features as we have dozens or more options for voice, video, and text-based messaging available to us. Many young people would probably be just fine on an iPod Touch that doesn't make calls at all, and many probably wouldn't know the difference.</p>
<p>Phones are general computing devices, and as such, should not be maintained as closed ecosystems. This doesn't benefit users, many of whom are also developers themselves, because it limits our freedom on both sides of the equation. General computing platforms should be protected from such predatory practices by manufacturers through strong government regulations.</p>
<h2 id="the-fee-isnt-the-issue-the-requirement-to-pay-is">The fee isn't the issue, the requirement to pay is</h2>
<p>Tying your right distribute an app that you developed independently of the hardware maker to the requirement to use their payment processor is anti-competitive because it means that every developer benefits the hardware maker while the hardware maker provides little more than a gatekeeper function and a small amount of file storage for their release builds.</p>
<p>How can any indie developer hope to compete with the likes of Apple or Google or Microsoft when every sale they make gives 15% of their profits over to their competition? And if they make more than $1m, it goes back up to 30%. That's a huge disparity that serves to protect the interests of the hardware maker at the expense of businesses everywhere.</p>
<p>If there was a hard cost for Apple and others to review and approve apps, then that should be charged up-front and not as a percentage of profit. Developers should be free to choose the payment processing service that best serves their needs, whether that's Stripe or Paypal or Apple's built-in offering. Apple's payment processor should be chosen because it's better, not because you have no other choice.</p>
<h2 id="disproportionate-profits">Disproportionate profits</h2>
<p>Since the cost of the review process and hosting are the justification for the payment processing fees, a good way to tell if they're in line with each other is to look at Apple's profits on the app store. In 2019, Apple generated about <a href="https://www.cnbc.com/2020/01/07/apple-app-store-had-estimated-gross-sales-of-50-billion-in-2019.html" target="_blank" rel="nofollow noopener noreferrer">$50bn in sales on the iOS app store</a>, with their take being about <strong>$15bn in profit</strong>.</p>
<p>Does it really cost Apple anywhere close to $15bn/year to maintain the app store's review process and hosting infrastructure?</p>
<h2 id="this-makes-some-business-models-unfeasible">This makes some business models unfeasible</h2>
<p>Some business models, like establishing a marketplace for content creators to share their work with each other, become unfeasible when 15-30% off the top goes straight to the device maker. Many businesses operate with profit margins well under 30% or even 15%. Amazon is widely known for maintaining a 1% profit margin across their entire business as a strategic advantage to be able to undercut everyone else.</p>
<p>Other payment processors are essentially locked out of these ecosystems entirely, which is unfair and anti-competitive against them. I bet Stripe would love to be able to provide a better mobile payment option ‚Äì their core business ‚Äì without Apple being such a significant portion of the sale, thereby negating any benefit that Stripe on its own can differentiate itself with.</p>
<h2 id="this-is-not-just-a-problem-for-developers">This is not just a "problem for developers"</h2>
<p>I've seen many comments on sites like Hacker News and MacRumours that this isn't a problem users should care about and that developers should essentially stop whining or take their software elsewhere. But this also limits the choices users have, and it limits the types of apps they get to benefit from. This limitation won't be felt directly, because you don't feel the absence of something you never knew you could have. <em>You don't know what you don't know.</em></p>
<p>Stifling innovation isn't good for anyone, and as more and more people become software developers, this really just hurts the small guys. The indies who are more similar in size and need to average consumers than the likes of tech giants like Apple or Google. Indie developers need protection from monopolistic and anti-competitive practices from larger players in the market through strong government regulation, not a discount on their first $1m in sales.</p>
<h2 id="this-model-is-being-replicated-in-vr-and-ar">This model is being replicated in VR and AR</h2>
<p>It's no secret that I work in Virtual Reality. In fact, writing this gives me some anxiety because my company could be targeted and harmed for me saying things that don't benefit the VR headset makers. <em>But this needs to be said.</em> In fact, I'd say this is one of the most important fights in the software industry today because it will determine whether future platforms are open or closed.</p>
<p>VR headsets have already been set up to be <a href="https://searchsecurity.techtarget.com/definition/walled-garden" target="_blank" rel="nofollow noopener noreferrer">walled gardens</a>, and although Oculus has turned a blind eye for the time being to third party app stores like <a href="https://sidequestvr.com/" target="_blank" rel="nofollow noopener noreferrer">SideQuest</a>, they could still decide to cut it off at any point in the future with little or no recourse.</p>
<p>Whether third party app stores are the solution also remains to be seen, but gauging by how difficult device makers make it for average users to install them, and what little percentage market share they have on each respective platform, I'd say they don't go far enough to solve this problem.</p>
<p>The ability to easily <a href="https://en.wikipedia.org/wiki/Sideloading" target="_blank" rel="nofollow noopener noreferrer">sideload</a>, aka install software directly onto a device that you own and not through any given app store, is paramount to maintaining free access to today's as well as tomorrow's computing platforms. And we should have the ability to do so without navigating a maze of warnings discouraging the average user from doing so.</p>
<h2 id="pcs-will-become-headsets-which-are-general-computing-devices">PCs will become headsets, which are general computing devices</h2>
<p>Augmented Reality is still in its infancy and isn't a general computing platform yet, not because it's specialized but because the technology isn't of sufficient quality yet. But it's improving rapidly, and one day it will be good enough to overtake both PCs and phones as the dominant computing platform of the future.</p>
<p>When it does, it will be critical to indie developers everywhere that we maintain the same level of freedom on these future platforms that we enjoy today on PCs, and stop the current erosion of those freedoms by big tech companies. Failure to do so will close off all software that isn't blessed by device makers, which will further increase the financial divide between indie developers and the companies who will control the platforms of the future, whether that's Apple, Google, Microsoft, or Facebook. <em>We can't let that happen.</em></p>
<h2 id="whats-the-solution">What's the solution?</h2>
<p>The solution is simple and threefold:</p>
<ol>
<li>Mobile phones and headset-based computing devices should be classified as general computing platforms in the eyes of the law.</li>
<li>General computing platforms should have the legal requirement that developers can distribute their software however they see fit, so long as it doesn't harm users (malware, spyware, etc.).</li>
<li>Choice of payment processors should not be forced on developers in exchange for the ability to distribute software on any general computing platform.</li>
</ol>
<p>Only when the above rights have been won in the eyes of the law will our fight be over on this front, but there will always be other ‚Ä¶</p></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.johnluxford.com/blog/apples-15-percent-deflection-tactic/">https://www.johnluxford.com/blog/apples-15-percent-deflection-tactic/</a></em></p>]]>
            </description>
            <link>https://www.johnluxford.com/blog/apples-15-percent-deflection-tactic/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25143303</guid>
            <pubDate>Wed, 18 Nov 2020 22:23:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Open Letter from Facebook Content Moderators]]>
            </title>
            <description>
<![CDATA[
Score 358 | Comments 202 (<a href="https://news.ycombinator.com/item?id=25142657">thread link</a>) | @ynac
<br/>
November 18, 2020 | https://www.foxglove.org.uk/news/open-letter-from-content-moderators-re-pandemic | <a href="https://web.archive.org/web/*/https://www.foxglove.org.uk/news/open-letter-from-content-moderators-re-pandemic">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-layout-label="Post Body" data-type="item" data-updated-on="1605716470576" id="item-5fb548adc77fc917bd132369"><div><div><div data-block-type="2" id="block-5e3e902ee21503131a93"><div><p><em>Foxglove is supporting social media content moderators in their fights for fair treatment from the platforms they work for, and for safe working conditions during the pandemic. Here is the full text of an open letter which over 200 Facebook content moderators from across the world have just addressed to Facebook‚Äôs leaders:</em></p><p><strong>November 2020</strong></p><p><strong>Mark Zuckerberg <br>Sheryl Sandberg <br>Anne Heraty (CEO, CPL/Covalen) <br>Julie Sweet (CEO, Accenture) <p>Via email and posting on Facebook‚Äôs Workplace channels </p></strong></p><div><p><strong>Open letter from content moderators re: pandemic <br></strong><br>Dear Mr. Zuckerberg, Ms. Sandberg, Ms. Heraty, Ms. Sweet </p><p>We, the undersigned Facebook content moderators and Facebook employees, write to express our dismay at your decision to risk our lives‚Äîand the lives of our colleagues and loved ones‚Äîto maintain Facebook‚Äôs profits during the pandemic. </p></div><p>After months of allowing content moderators to work from home, faced with intense pressure to keep Facebook free of hate and disinformation, you have forced us back to the office. Moderators who secure a doctors‚Äô note about a personal COVID risk have been excused from attending in person.[1] Moderators with vulnerable relatives, who might die were they to contract COVID from us, have not. </p><p>The pandemic has been good for Facebook. More than 3 billion people have now joined Facebook services, creating more demand for our work than ever.[2] Mr. Zuckerberg nearly doubled his fortune during the crisis.[3] He is now worth well over $100 billion. It has been good for Facebook‚Äôs contractors, too: CPL, one of the main European contractors, is due to be sold for ‚Ç¨318m.[4] </p><p>Despite vast sums flowing to each of you as corporate executives, you have refused moderators hazard pay. A content moderator at Accenture‚Äôs office in Austin, Texas generally earns $18/hour[5]. </p><p>Before the pandemic, content moderation was easily Facebook‚Äôs most brutal job. We waded through violence and child abuse for hours on end. Moderators working on child abuse content had targets increased during the pandemic, with no additional support. </p><p>Now, on top of work that is psychologically toxic, holding onto the job means walking into a hot zone. In several offices, multiple COVID cases have occurred on the floor.[6] Workers have asked Facebook leadership, and the leadership of your outsourcing firms like Accenture and CPL, to take urgent steps to protect us and value our work. You refused. We are publishing this letter because we are left with no choice. </p><p>Stop Needlessly Risking Moderators‚Äô Lives </p><p>It is important to explain that the reason you have chosen to risk our lives is that this year Facebook tried using ‚ÄòAI‚Äô to moderate content‚Äîand failed.[7] </p><p>At the start of the pandemic, both full-time Facebook staff and content moderators worked from home. To cover the pressing need to moderate the masses of violence, hate, terrorism, child abuse, and other horrors that we fight for you every day, you sought to substitute our work with the work of a machine. </p><p>Without informing the public, Facebook undertook a massive live experiment in heavily automated content moderation. Management told moderators that we should no longer see certain varieties of toxic content coming up in the review tool from which we work‚Äî such as graphic violence or child abuse, for example. </p><p>The AI wasn‚Äôt up to the job. Important speech got swept into the maw of the Facebook filter‚Äîand risky content, like self-harm, stayed up. </p><p>The lesson is clear. Facebook‚Äôs algorithms are years away from achieving the necessary level of sophistication to moderate content automatically. They may never get there. </p><p>This raises a stark question. If our work is so core to Facebook‚Äôs business that you will ask us to risk our lives in the name of Facebook‚Äôs community‚Äîand profit‚Äîare we not, in fact, the heart of your company? </p><p>Without our work, Facebook is unusable. Its empire collapses. Your algorithms cannot spot satire. They cannot sift journalism from disinformation. They cannot respond quickly enough to self-harm or child abuse. We can. </p><p>Facebook needs us. It is time that you acknowledged this and valued our work. To sacrifice our health and safety for profit is immoral. </p><p>These are our demands. </p><p>1. Keep moderators and their families safe. At the moment, only individual content moderators with a doctors‚Äô note indicating that they are high risk are excused from working in the office. Even this is not offered in some workplaces. Those who live with an at-risk person ‚Äì who have, for example, a child with epilepsy ‚Äì have been forced to come in. All content moderators who are high risk or who live with someone who is high risk for Covid should be permitted to work from home indefinitely. </p><p>2. Maximize at-home working. Work that can be done from home should continue to be done from home. You have previously said content moderation cannot be performed remotely for security reasons. If that is so, it is time to fundamentally change the way that the work is organized. There is a pervasive and needlessly secretive culture at Facebook. Some content, such as content that is criminal, may need to be moderated in Facebook offices. The rest should be done at home. </p><p>3. Offer hazard pay. If you want moderators to risk their lives to maintain ‚Äòcommunity‚Äô and profit, you should pay. Moderators who are working in the office on high-risk material (eg, child abuse) should be paid hazard pay of 1.5x their usual wage. </p><p>4. End outsourcing. There is, if anything, more clamor than ever for aggressive content moderation at Facebook. This requires our work. Facebook should bring the content moderation workforce in house, giving us the same rights and benefits as full Facebook staff. </p><p>5. Offer real healthcare and psychiatric care. Facebook employees enjoy various benefits, including private health insurance and visits to psychiatrists. Content moderators, who bear the brunt of the mental health trauma associated with Facebook‚Äôs toxic content, are offered 45 minutes a week with a ‚Äòwellness coach‚Äô. These ‚Äòcoaches‚Äô are generally not psychologists or psychiatrists and are contractually forbidden from diagnosis or treatment. And they generally cannot build a relationship of trust with moderators, since workers know that Facebook management (and Accenture/CPL management) ask ‚Äòcoaches‚Äô to reveal confidential details of counselling sessions. Moderators deserve at least as much mental and physical health support as full Facebook staff. </p><p>The current crisis highlights that at the core of Facebook‚Äôs business lies a deep hypocrisy. By outsourcing our jobs, Facebook implies that the 35,000 of us who work in moderation are somehow peripheral to social media. Yet we are so integral to Facebook‚Äôs viability that we must risk our lives to come into work. </p><p>It is time to reorganize Facebook‚Äôs moderation work on the basis of equality and justice. We are the core of Facebook‚Äôs business. We deserve the rights and benefits of full Facebook staff. We look forward to your public response. </p><p>Very sincerely yours, </p><ul data-rte-list="default"><li><p>Andrea</p></li><li><p>Angela De Hoyos Hart</p></li><li><p>Ani Niow</p></li><li><p>Audrey Martin</p></li><li><p>Aune Mitchell</p></li><li><p>Azer Gueco</p></li><li><p>Baris Aytan</p></li><li><p>Brady Bennett</p></li><li><p>Cam Herringshaw</p></li><li><p>Carlin Scrudato</p></li><li><p>Carlos Ancira</p></li><li><p>Charles Maxwell</p></li><li><p>Chris Chan</p></li><li><p>Christopher Glenn</p></li><li><p>Claire Sexton</p></li><li><p>Crystal Chan</p></li><li><p>Danica Michaels</p></li><li><p>Daniel Baxley</p></li><li><p>Daniel Finlayson</p></li><li><p>Daniel Rezende Fuser</p></li><li><p>Danille Sindac</p></li><li><p>Diego Ramirez</p></li><li><p>Dominick Martinez</p></li><li><p>Douglas Hart</p></li><li><p>Erin Donohue</p></li><li><p>Fletcher West</p></li><li><p>Hua Hoai Nam</p></li><li><p>James J. Morrow</p></li><li><p>Jeremy Calvert</p></li><li><p>Jess L</p></li><li><p>Jessica den Boer</p></li><li><p>John Reese</p></li><li><p>John Royales McTurk</p></li><li><p>Jonathan Daniel</p></li><li><p>Jonathan de la Rosa</p></li><li><p>Joseph Pouttu</p></li><li><p>Joseph Sarhan</p></li><li><p>Joshua Sklar</p></li><li><p>Katie Adamsky</p></li><li><p>Kelly Lambert</p></li><li><p>Kevin Fei</p></li><li><p>Kevin Liao</p></li><li><p>Kiara Gaytan</p></li><li><p>Lucy Yang</p></li><li><p>Marcus Rodriguez</p></li><li><p>Maria Sam</p></li><li><p>Mark Reitblatt</p></li><li><p>Mayra Ota Coffey</p></li><li><p>Michael Thot</p></li><li><p>Mike Vitousek</p></li><li><p>Naomi Shiffman</p></li><li><p>Nathan Tokala</p></li><li><p>Niccolo Coluccio</p></li><li><p>Nicholas O'Brien</p></li><li><p>Nick Azcarate</p></li><li><p>Nick Martens</p></li><li><p>Noah Korotzer</p></li><li><p>Nuno Picareta</p></li><li><p>Palina Andrayuk </p></li><li><p>Phil Wills</p></li><li><p>Phillip Shih</p></li><li><p>Phong Vu</p></li><li><p>Purnam Jantrania</p></li><li><p>Raimonds Gabalis</p></li><li><p>Ramazan Sahin</p></li><li><p>Rena</p></li><li><p>Robert Boyce</p></li><li><p>Ryan Hoyt</p></li><li><p>Sam Ringel</p></li><li><p>Sara Valderrama</p></li><li><p>Sarah Dunn</p></li><li><p>Shom Mazumder</p></li><li><p>Steffan Voges</p></li><li><p>Stephanie Marina</p></li><li><p>Stuart Millican</p></li><li><p>Tariq Yusuf</p></li><li><p>Thi Cat Tuong Trinh</p></li><li><p>Tina Wall</p></li><li><p>Tom G</p></li><li><p>Tristam MacDonald</p></li><li><p>Vahid Liaghat</p></li><li><p>Vitor Cordeiro Pileggi</p></li><li><p>Zoya Waliany</p></li><li><p><em>(and a further  248 content moderators who‚Äôve signed anonymously)</em></p></li></ul><p><br>[1] <a href="https://www.vice.com/en/article/z3vvv9/leaked-audio-facebook-moderators-terrifiedto-return-to-office-during-covid-outbreak">https://www.vice.com/en/article/z3vvv9/leaked-audio-facebook-moderators-terrifiedto-return-to-office-during-covid-outbreak </a><br>[2] <a href="https://www.vox.com/2020/4/29/21241601/facebook-coronavirus-pandemic-usersadvertising-growth-making-losing-money-users-q1-2020-earnings">https://www.vox.com/2020/4/29/21241601/facebook-coronavirus-pandemic-usersadvertising-growth-making-losing-money-users-q1-2020-earnings </a><br>[3] <a href="https://www.theguardian.com/business/2020/sep/17/wealth-of-us-billionaires-rises-bynearly-a-third-during-pandemic">https://www.theguardian.com/business/2020/sep/17/wealth-of-us-billionaires-rises-bynearly-a-third-during-pandemic </a><br>[4] <a href="https://www.irishtimes.com/business/retail-and-services/cpl-agrees-318m-takeover-byjapan-s-outsourcing-inc-1.4399832">https://www.irishtimes.com/business/retail-and-services/cpl-agrees-318m-takeover-byjapan-s-outsourcing-inc-1.4399832</a> <br>[5] <a href="https://www.glassdoor.co.uk/Salaries/austin-content-moderator-salarySRCH_IL.0,6_IM60_KO7,24.htm">https://www.glassdoor.co.uk/Salaries/austin-content-moderator-salarySRCH_IL.0,6_IM60_KO7,24.htm </a><br>[6]<a href="https://theintercept.com/2020/10/20/facebook-coronavuris-content-moderatoraccenture/"> https://theintercept.com/2020/10/20/facebook-coronavuris-content-moderatoraccenture/ </a><br>[7] <a href="https://www.politico.eu/article/facebook-content-moderation-automation">https://www.politico.eu/article/facebook-content-moderation-automation</a></p></div></div></div></div></div></div>]]>
            </description>
            <link>https://www.foxglove.org.uk/news/open-letter-from-content-moderators-re-pandemic</link>
            <guid isPermaLink="false">hacker-news-small-sites-25142657</guid>
            <pubDate>Wed, 18 Nov 2020 21:27:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Vue vs React: Best Choice for Startups]]>
            </title>
            <description>
<![CDATA[
Score 61 | Comments 72 (<a href="https://news.ycombinator.com/item?id=25141661">thread link</a>) | @morchen
<br/>
November 18, 2020 | https://swimm.io/blog/vue-vs-react-best-choice-for-startups/ | <a href="https://web.archive.org/web/*/https://swimm.io/blog/vue-vs-react-best-choice-for-startups/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section data-v-f94c7cca=""> <!----> <div data-v-0cf44990="" data-v-f94c7cca=""><div><p>A former front-end student of mine (Zoe*) recently emailed me, and honestly wanted to understand why is it that I chose to code <a href="http://swimm.io/">Swimm</a>, with Vue.Js and not React:</p>
<blockquote>
<p>‚ÄúI just have one question for you: Why Vue?[...] I hope you're not rolling your eyes thinking - ‚Äúah no, another question about Vue‚Äù. Although knowing you and your passion, I'm sure you have a pretty strong opinion that could swallow me into becoming a Vue fan without even knowing it.‚Äù</p>
</blockquote>
<p>Vue.js gained a reputation in recent years as an edgy must-know framework, but developers often question what the hype is about, how it relates to them and what web framework they should choose for their product.</p>
<p>While there might be some over-hype around the expected <a href="https://madewithvuejs.com/blog/vue-3-roundup#:~:text=Vue%203%20release%20date,2020%2C%20according%20to%20the%20roadmap.">Vue 3 release due in Q3 2020</a>, Vue has been gaining traction for a few years now, and it was just a matter of time for <a href="https://www.netguru.com/blog/13-top-companies-that-have-trusted-vue.js-examples-of-applications">bigger companies</a> like Netflix, Behance, Grammarly, Alibibaba, GitLab and others, to pick it up. Yet according to <a href="https://insights.stackoverflow.com/survey/2020#technology-most-loved-dreaded-and-wanted-web-frameworks-wanted2">Stackoverflow‚Äôs 2020 developer</a> React.js is still the most wanted web framework (Vue.js coming in second).</p>
<h3>Vue.js vs React In a Nutshell</h3>
<p>I first used Vue at <a href="https://www.imcreator.com/">IM Creator</a>, a product I co-built originally with JQuery, and Vue was a breath of crisp air in my face. It was user friendly and progressive as it enabled me to use the framework for specific parts each time, without huge migrations. I could then for example create a menu in Vue, while the rest remained in legacy JQuery. What‚Äôs there not to like?</p>
<p>With Swimm (a new dev tool product) it wasn't even a question. I started our PoC with Vue.js and continued since then to our Beta self-served version. Several benefits should speak volumes to Startups these days especially compared to React:</p>
<ul>
<li><strong>Vue is Lightweight and Flexible</strong>. It means it's a framework that feels more like a library than a framework at all. You can try it out first in small use cases in your app before going all-in.</li>
<li><strong>Vue is less intrusive than React</strong> and much easier to onboard. Project components and structure in Vue are similar whie projects in React each vary in architecture and implementation. I find that you can recognize Vue structures easily which is what speeds up onboarding time for any developer learning a new codebase. Vue becomes easier to maintain. This is especially true for smaller products.</li>
<li><strong>Readability is key</strong> - Vue is based on the most basic principles of the Web and is more readable than React. The html/css and JS are separate while in React everything is in JS.</li>
<li><strong>Indie at its core</strong>. While it‚Äôs my personal opinion, many developers appreciate tools that are not backed by tech giants (for example React backed by Facebook, and Angular by Google), but rather grows from a community and that is why it is highly oriented to developer needs.</li>
</ul>
<h3>When does React Trump Vue.js:</h3>
<ul>
<li><strong>React is still most wanted by the industry</strong>. That can be a problem for new coders. From my recent experience recruiting for Swimm‚Äôs growing dev team, Vue is still harder to recruit for because of React‚Äôs persistent popularity. <strong>By the same token</strong>, even if many of the larger companies are picking it up, it‚Äôs still part of side projects and not the main product. This is why for the <a href="https://www.itc.tech/">ITC.tech</a> web-dev Bootcamp, I created a React-based curriculum.</li>
<li><strong>Flexibility in some aspects</strong>. React still has the ability to split between the visibility of a component and maintenance of the component - and still provides more flexibility.</li>
<li><strong>Docs are light years ahead</strong>. The features Release in React is fast paced and as React docs are extensive and elaborate. [Try skimming through all of the 500 pages of questions on React on Stackoverflow].</li>
</ul>
<h3><strong>To Sum it Up: A Note to Zoe</strong></h3>
<blockquote>
<p>‚Äú Hi Zo√´,</p>
<p>I chose Vue for many reasons.</p>
<p>It is easy to integrate into existing projects (That was my need the first time I used Vue)</p>
<p>It is has a more readable syntax</p>
<p>It's really reactive (no need to explicitly call the set function)</p>
<p>It is not maintained by a big company (Facebook / Google)[...]</p>
<p>Give it a try :)‚Äù</p>
</blockquote>
<p>Of course there is always a trade-off. These lessons learned reflect my personal views, insight gained from working in various startups and alongside numerous tech clients. As always, <a href="https://www.mindk.com/blog/react-vs-vue/">in depth research</a> is required to make sure which framework best suits your business case. But if you‚Äôre looking for a flexible  non-enterprise solution, Vue has proved easy to learn, scalable, user-friendly backed by a solid community that caters to other developers.</p>
<p>...</p>
<p>* Thanks for the inquisitive question, <a href="https://www.linkedin.com/in/zo%C3%ABcohen/">Zoe Cohen</a>.</p>
<p><strong>About Author:</strong></p>
<p><a href="https://www.linkedin.com/in/gilad-navot/">Gilad Navot</a> is Co-Founder and CPO at Swimm. Previously VP R&amp;D at <a href="https://www.imcreator.com/">IM Creator</a>, and was part of the founding <a href="https://www.itc.tech/">ITC.tech</a> team teaching front-end development to hundreds of students around the world.</p>
</div></div> </section></div>]]>
            </description>
            <link>https://swimm.io/blog/vue-vs-react-best-choice-for-startups/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25141661</guid>
            <pubDate>Wed, 18 Nov 2020 19:57:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Scratch.js ‚Äì Interactive JavaScript Scratchpad]]>
            </title>
            <description>
<![CDATA[
Score 164 | Comments 65 (<a href="https://news.ycombinator.com/item?id=25138872">thread link</a>) | @kahole
<br/>
November 18, 2020 | https://hole.dev/scratch/ | <a href="https://web.archive.org/web/*/https://hole.dev/scratch/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://hole.dev/scratch/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25138872</guid>
            <pubDate>Wed, 18 Nov 2020 16:39:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Writing a technical book: from idea to print]]>
            </title>
            <description>
<![CDATA[
Score 177 | Comments 34 (<a href="https://news.ycombinator.com/item?id=25138216">thread link</a>) | @sararob
<br/>
November 18, 2020 | https://sararobinson.dev/2020/11/17/writing-a-technical-book.html | <a href="https://web.archive.org/web/*/https://sararobinson.dev/2020/11/17/writing-a-technical-book.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	  <p><strong>tl;dr</strong> - I co-authored an O‚ÄôReilly book with my colleagues <a href="https://twitter.com/lak_gcp" target="_blank">Lak</a> and <a href="https://www.linkedin.com/in/munnm/" target="_blank">Mike</a>! You can <a href="https://www.oreilly.com/library/view/machine-learning-design/9781098115777/" target="_blank">order it here</a> and 100% of the royalties go to <a href="https://girlswhocode.com/" target="_blank">Girls Who Code</a>. This post is about the writing process.</p>

<h3 id="deciding-to-write">Deciding to write</h3>

<p>Back in January of this year, Lak graciously reached out to me asking if I was interested in co-writing an O‚ÄôReilly book on machine learning. As I read the email, my reaction was almost an immediate no because:</p>

<ul>
  <li>It sounded like something that would take a lot of time.</li>
  <li>With a quickly evolving field like ML, wouldn‚Äôt a book be obsolete before it hit the shelves?</li>
</ul>

<p>I let Lak‚Äôs request sit in my inbox for a few days even though I was sure I had made up my mind, because saying no to projects is much harder than saying yes. A few days later on a long car ride with my fianc√©, I mentioned the book offer in passing.</p>

<blockquote>
  <p>‚ÄúYou have an opportunity to write a book and you‚Äôre saying <em>no</em>?‚Äù he said, nearly pulling off the road.</p>
</blockquote>

<p>I suppose I had considered this offer as more of a <strong>burden</strong>, but from his perspective it was an <strong>opportunity</strong>. Ok, he wouldn‚Äôt be the one writing it, but he has <a href="https://www.amazon.com/Building-Embedded-Linux-Systems-Techniques-dp-0596529686/dp/0596529686" target="_blank">written</a> an O‚ÄôReilly book before!</p>

<p>It would no doubt be hard, but it also provided a chance to learn a lot along the way and have a book at the end of it. With his advice in mind, I decided to learn more about the book before saying no. The plan for the book was to catalog a series of patterns, each of which would outline a common challenge in ML and provide some approaches for solving it. I was intrigued, but some doubts started to creep in as I read through the pattern ideas:</p>

<ul>
  <li>
    <p>I was very familiar with some, but much less so with others. Didn‚Äôt I need to have all this knowledge in my head before writing for this to work?</p>
  </li>
  <li>
    <p>Why me? Why was I qualified to do this? Objectively, I have created a lot of ML content over the years to educate app developers, data scientists, and customers. I‚Äôd like to think I‚Äôm a decent writer, but a book? That seemed like a different beast, and I wasn‚Äôt sure I was the best person for the job.</p>
  </li>
</ul>

<p>There can always be a million reasons not to do something, but I ultimately decided to ignore them all and give it a try.</p>

<h3 id="starting-with-an-idea">Starting with an idea</h3>

<p>This happened before I joined the project, so I asked Lak what he did before reaching out to O‚ÄôReilly with the idea for the book. Publishers get cold proposals all the time, so it helps if you can clearly communicate what the book will be about and show that you know what you will be writing about.</p>

<p>In our case, Lak wrote a couple of blog posts on machine learning design patterns (<a href="https://medium.com/swlh/ml-design-pattern-1-transform-9e82ccbc3209">Transform</a> and <a href="https://towardsdatascience.com/ml-design-pattern-2-checkpoints-e6ca25a4c5fe">Checkpoints</a>) to gauge whether readers were interested in this idea. They were, but he realized that readers‚Äô interest was very much in how to implement, adapt, and extend these patterns. He also did a talk on the topic at a couple of conferences and discovered that conference attendees were a bit different ‚Äì they needed a clear explanation of the reason to use the pattern and a prescriptive approach to addressing the problem. In other words, readers who knew the pattern beforehand wanted a technical manual, while conference attendees (who were being introduced to the pattern for the first time) wanted to know why the pattern matters. This helped him write the next set of blog posts, where he started with a crisp problem statement, a canonical solution, and a couple of variations.</p>

<p>Once he had a good idea of how to communicate ML design patterns, Lak reached out to an O‚ÄôReilly editor with a short message:</p>

<blockquote>
  <p>I have a <a href="https://link.medium.com/7BSgxXdts1">list</a> of about 20 machine learning design patterns that I want to write about. Do you think they would do well as a book? If so, I can see about finding a co-author who would be interested in expanding on these‚Ä¶</p>
</blockquote>

<p>The editor replied that since O‚ÄôReilly has a solid franchise in design patterns, he was very interested. He was assigned an acquisitions editor who would work with us to craft the actual proposal. And that‚Äôs when Lak reached out to me to see if I was interested in co-authoring.</p>

<h3 id="building-an-outline">Building an outline</h3>

<p>I knew nothing about writing a book going into this, and my first question was: how will we split up the work? Will we alternate paragraphs, sections, chapters, words? I‚Äôm sure this varies for every book with multiple authors. We decided to split work by sections. In our case, each section was a design pattern and each chapter had 3-6 patterns. We started by making an outline, with an initial list of 20 patterns.</p>

<p>Chapters in our book are organized by different phases in a typical machine learning workflow. We first determined the topic for each chapter, and then came up with the patterns we wanted to be included in it. In the outline, each pattern had a 1-2 sentence description. It took a few iterations of adding and removing patterns and moving some between chapters before we had something we were happy with. We finished this process with a total of 30 patterns split across 6 chapters, with 2 additional chapters for an intro and conclusion. This brought us to the end of February.</p>

<h3 id="submitting-a-book-proposal">Submitting a book proposal</h3>

<p>The first step in the publishing process for many books is writing a proposal and submitting it to an acquisitions editor. Acquisitions editors are in charge of reviewing proposals, providing feedback, and deciding whether a proposal will move to the next stage in the approval process. They also work on overall content strategy, deciding which topics they want to cover. Sometimes people reach out to them cold, and other times these editors may proactively reach out to prospective authors.</p>

<p>The proposal (which includes the outline, but also comparisons with existing titles, and who the intended audience is) went through a few rounds of feedback (which is where I joined the process), including detailed technical feedback, before getting approved. The acquisitions editor focuses on acquiring new content, so once ours got approved we moved to the next step in the process which was working with a development editor. This person was our main point of contact throughout the writing process ‚Äì more on that in the next section.</p>

<p>I recently had a great conversation with our acquisitions editor, where I learned a lot more about the publishing industry and how this all works. One thing from this conversation especially stood out: she mentioned she <em>rarely</em> receives a cold book proposal from a woman, and she gets many cold proposals each day. I‚Äôm sharing this data (with her permission) in hopes that it encourages more women with book ideas to just go for it. Reach out! You‚Äôve got nothing to lose. If your proposal gets rejected, you‚Äôll likely still get some feedback in the process.</p>

<h3 id="writing-time">Writing time</h3>

<p>I assumed we‚Äôd begin at the beginning, but we started by writing Chapter 2. Chapter 1 didn‚Äôt have any patterns ‚Äì it was meant to be an overview of the entire book, explain our goals, and set the stage for the intended audience. Without anything written yet this would be hard to write, so we got right into patterns by starting with Chapter 2. Before sitting down to write this chapter, we took our short Chapter 2 outline and worked together to expand it. This is something we did before every chapter, with the goals of:</p>

<ul>
  <li>Ensuring the three of us had the same understanding of each pattern</li>
  <li>Agreeing on what should and shouldn‚Äôt be covered</li>
  <li>Splitting up the writing by pattern</li>
</ul>

<p>Early on in the outline process, we had decided each pattern should follow the same structure. If you‚Äôre reading the book, you‚Äôll notice that every pattern is split into the following:</p>

<ul>
  <li><strong>Problem</strong>: describes the ML challenge a pattern addresses</li>
  <li><strong>Solution</strong>: describes one approach to solving the problem, including code snippets and recommended tooling for solving the problem</li>
  <li><strong>Tradeoffs and Alternatives</strong>: extended discussion on the pattern, including tools not covered in the Solution section, potential gotchas, and related solutions</li>
</ul>

<p>Having a structure for each section was extremely useful in ensuring consistency throughout the book.</p>

<p>After outlining Chapter 2 in detail, I had two patterns assigned to me and it was finally time to write. I wish I could tell you this is the part where I sat down at my desk, closed the door, and let the insights flow onto the page. This is how I‚Äôd always imagined book writing went. For better or worse (and maybe because the outside world went into chaos while this was happening), my process went more like this:</p>

<blockquote><div lang="en" dir="ltr"><p>My writing process:</p><p>* Write 2 sentences<br>* My glasses are splotchy, where are the lens wipes?<br>* Edit the last sentence I wrote<br>* Research the latest keyboards<br>* Write another 2 sentences<br>* Refill water, clean the counter<br>* Stare at my now perfect paragraph<br>* Open Twitter</p></div>‚Äî Sara Robinson (@SRobTweets) <a href="https://twitter.com/SRobTweets/status/1244312122613473281?ref_src=twsrc%5Etfw">March 29, 2020</a></blockquote>


<p>It wasn‚Äôt a very efficient way to start, but it got the job done and over time my process improved. I also quickly debunked my initial question:</p>

<p><em>Didn‚Äôt I need to have all this knowledge in my head before writing for this to work?</em></p>

<p>Even if I did have experience implementing a particular pattern, I couldn‚Äôt write only what I already knew. I had to do a considerable amount of research before I started writing the bulk of each pattern to find out:</p>

<ul>
  <li>What writing on this topic already existed?</li>
  <li>Are there any important research papers that cover this?</li>
  <li>What tools are available for solving this pattern?</li>
</ul>

<p>With all this research I started to have some doubts. If I was just collating information from various sources, was I providing anything useful? Then I thought about some of my favorite non-fiction books and realized most of them work by:</p>

<p><em>Presenting existing, relevant information + adding a unique angle</em></p>

<p>I‚Äôve met with a lot of customers and seen production use of ML, and I‚Äôve also built demos to help developers understand how to use different ML tools. Turns out I did have a unique angle! Before writing I did a lot of reading to make sure I fully understood the ins and outs of the pattern. Then I had enough information to write. I still wouldn‚Äôt say the words flowed at this point, but I did slowly get ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://sararobinson.dev/2020/11/17/writing-a-technical-book.html">https://sararobinson.dev/2020/11/17/writing-a-technical-book.html</a></em></p>]]>
            </description>
            <link>https://sararobinson.dev/2020/11/17/writing-a-technical-book.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25138216</guid>
            <pubDate>Wed, 18 Nov 2020 15:56:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Have a Difficult Conversation]]>
            </title>
            <description>
<![CDATA[
Score 95 | Comments 18 (<a href="https://news.ycombinator.com/item?id=25136200">thread link</a>) | @MurizS
<br/>
November 18, 2020 | https://psyche.co/guides/use-mediation-techniques-to-overcome-the-muck-of-blame-and-anger | <a href="https://web.archive.org/web/*/https://psyche.co/guides/use-mediation-techniques-to-overcome-the-muck-of-blame-and-anger">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><div><h2 data-guide-section-number="1"><span>Need to know</span></h2><div><p>I√¢‚Ç¨‚Ñ¢m in a Zoom meeting, speaking to a screen full of black squares, trying to coax voices out of the void. The other callers are all members of an executive board, and they√¢‚Ç¨‚Ñ¢re in turmoil over the strategic direction of their company. Several of them are no longer on speaking terms, and employees and shareholders have not been shielded from the drama. On a good day, these calls are tense, but more often than not they√¢‚Ç¨‚Ñ¢re explosive. Only my camera is turned on, and I watch myself try to look optimistic.</p>
<p>I√¢‚Ç¨‚Ñ¢m a mediator. I have helped people have difficult conversations for more than 20 years: in conflict zones and in living rooms, with leaders of corporations and foundations, and people in my own community. If you√¢‚Ç¨‚Ñ¢ve ever avoided or postponed a difficult conversation, you√¢‚Ç¨‚Ñ¢re not alone. Conflict avoidance is everywhere. At home and at work, we steer around conflict as prodigiously as we create it.</p>
<p>And yet conflict isn√¢‚Ç¨‚Ñ¢t inherently bad. It offers us information about how we could work with others more effectively, improve our relationships, and grow as individuals. It√¢‚Ç¨‚Ñ¢s far worse to try to avoid it, because you just end up creating new conflict √¢‚Ç¨‚Äú which ends up being more insidious and costly than the original issue.</p>
<p>When I help people have difficult conversations, we√¢‚Ç¨‚Ñ¢re always aiming for one of three outcomes: a solution, a plan or an understanding. A solution is a grand bargain, a resounding win, a comprehensive resolution expected to withstand the pressures of all unknown future challenges. With a mediator this can happen, but it√¢‚Ç¨‚Ñ¢s ambitious. We all have a tendency to hope for a dramatic and permanent solution, but this usually causes new problems by overburdening an already stressed relationship. A plan is more realistic, and is like a map for finding a solution. It leaves the precise terms of the resolution open-ended but provides a path forward. A plan reorganises the relationship with new boundaries, revised norms, and sets up shared expectations for how the trickiest parts will be navigated.</p>
<p>But the <em>most</em> realistic outcome, especially at the beginning, is to focus on reaching an understanding. An understanding is a new awareness of what the other person has experienced in the conflict; it√¢‚Ç¨‚Ñ¢s a mutual appreciation for one another√¢‚Ç¨‚Ñ¢s needs, fears and hopes. Reaching an understanding is feasible, provides great relief, and can lay a foundation for a plan, a solution and a new relationship.</p>
<p>For example, I recently helped a family to reach an understanding when the COVID-19 pandemic forced a college student to move back in with his parents. They were having difficulties renegotiating their relationships once they were suddenly living together again. Their renewed understanding led to a plan for new expectations and boundaries, which they√¢‚Ç¨‚Ñ¢re currently using to navigate the uncertainties and discomfort of this period. I expect they√¢‚Ç¨‚Ñ¢ll find their solution soon.</p>
<p>In my work as a mediator, I√¢‚Ç¨‚Ñ¢ve learnt that successful conversations always involve what I call a √¢‚Ç¨Àúgem statement√¢‚Ç¨‚Ñ¢. When two parties have listened long and hard to each other √¢‚Ç¨‚Äú have made the heroic effort to listen curiously and empathically even when they disagree strenuously √¢‚Ç¨‚Äú someone eventually unearths a glowing, priceless gem. It usually takes the form of a short, powerful statement, such as these two I√¢‚Ç¨‚Ñ¢ve heard recently:</p>
<blockquote>We√¢‚Ç¨‚Ñ¢ve kept on fighting in part because neither of us is willing to walk away from this friendship. That√¢‚Ç¨‚Ñ¢s something.</blockquote>
<blockquote>Even when we can√¢‚Ç¨‚Ñ¢t agree on Dad√¢‚Ç¨‚Ñ¢s medical care, I√¢‚Ç¨‚Ñ¢ve never doubted your good intentions. I know you want the best for him.</blockquote>
<p>It happens almost every time. From the muck of blame and anger, someone lifts out a beacon. I then seize the opportunity and hold up the gleaming gem for all parties to see. It lights the way toward a new conversation revolving around compromise, solutions and goodwill.</p>
<p>In addition to gratitude for the person who dug out the gem, I have also felt impatience. I√¢‚Ç¨‚Ñ¢ve wondered, <em>Why can√¢‚Ç¨‚Ñ¢t they say something like this earlier in the process? Or better yet, at the beginning?</em> Does the conversation need to naturally find its way to such a moment, or could we engineer it to happen much sooner? It seemed worthwhile to find out, so I developed a process to reduce the amount of time people spend digging in the muck. And I√¢‚Ç¨‚Ñ¢ve found it works: when people find a gem earlier on, they experience less pain and more benefit from having their difficult conversation.</p>
<p>This Guide is to help you do this √¢‚Ç¨‚Äú without a mediator. Mediators can be helpful during challenging times, but we don√¢‚Ç¨‚Ñ¢t actually resolve peoples√¢‚Ç¨‚Ñ¢ conflicts. We create the conditions in which people feel heard and acknowledged, increasing the quality of their communication and problem-solving. When you√¢‚Ç¨‚Ñ¢re facing a tough conversation, it√¢‚Ç¨‚Ñ¢s not really the mediator you need √¢‚Ç¨‚Äú it√¢‚Ç¨‚Ñ¢s the conditions we√¢‚Ç¨‚Ñ¢re good at creating and maintaining.</p>
<p>If you don√¢‚Ç¨‚Ñ¢t feel safe or if your situation involves illegal activity or any type of abuse, this Guide isn√¢‚Ç¨‚Ñ¢t right for you. In those instances, get help from a professional right away. There are also some situations that don√¢‚Ç¨‚Ñ¢t call for further conversation √¢‚Ç¨‚Äú some relationships or difficulties are better left in the past, and you should trust your instinct about whether a conversation is the right step for you. But if you think talking could do some good, then this resource can help get you started.</p>
<p>Maybe you feel misunderstood or unappreciated at work. Or maybe you√¢‚Ç¨‚Ñ¢re caught in a recurring family pattern that causes pain and drives you <a href="https://psyche.co/guides/a-family-rift-is-locked-on-the-past-heres-how-to-move-forward" rel="noopener">away</a> from the people you love. If you feel hurt or angry when thinking of a difficult conversation you need to have, there is a good chance that the relationship is important to you. Whether it√¢‚Ç¨‚Ñ¢s a relationship within your family, at work or in your community, it√¢‚Ç¨‚Ñ¢s become this challenging because you have a vested interest, you care deeply or your future is somehow intertwined with the person you need to talk with.</p>
<p>If you feel the situation could improve if someone <em>really heard</em> what you have to say, there√¢‚Ç¨‚Ñ¢s hope. If you feel ready to make an earnest effort to <em>really hear</em> someone in return, there√¢‚Ç¨‚Ñ¢s even more than hope. Remember that your goal here is not to find a quick solution or plan straight away √¢‚Ç¨‚Äú that√¢‚Ç¨‚Ñ¢s tempting but unrealistic, and might backfire. Your goal is to understand each other.</p></div></div></section><section><div><h2 data-guide-section-number="2"><span>What to do</span></h2><div><p><strong>1. Prepare for the conversation</strong></p>
<p>The first step is a thought experiment: think about the person with whom you need to talk, and allow yourself to imagine that you just finished having the best possible conversation with them. You were heard fully. Each of your concerns was addressed to your satisfaction. If an apology was appropriate, you received an excellent one. <em>Stay with this √¢‚Ç¨‚Äú just imagine it!</em> You√¢‚Ç¨‚Ñ¢ve reached an understanding that gives you confidence in the future of the relationship. <em>This is a challenging thought experiment, but you√¢‚Ç¨‚Ñ¢re almost there√¢‚Ç¨¬¶</em> You are relieved, you feel lighter, and even grateful to the person you√¢‚Ç¨‚Ñ¢ve been in conflict with.</p>
<p><strong>2. Dig out a gem</strong></p>
<p>What would you say to them in this moment? (Remember, in this exercise you√¢‚Ç¨‚Ñ¢ve been heard, you√¢‚Ç¨‚Ñ¢ve received an apology, and it went exceedingly well.) What would you say to your counterpart if all of that happened? What√¢‚Ç¨‚Ñ¢s √¢‚Ç¨Àúunderneath√¢‚Ç¨‚Ñ¢ the conflict? What√¢‚Ç¨‚Ñ¢s true when you√¢‚Ç¨‚Ñ¢re not consumed with negative feelings? Write down the first gem statement you think of. You can write others too, but usually the first one is the real deal.</p>
<p>Your statement should be an authentic expression of how you√¢‚Ç¨‚Ñ¢re feeling, but should also have significant meaning and positive impact for the other person. For example, two more gem statements I heard recently were: √¢‚Ç¨ÀúI can tell you care a lot about reaching our team√¢‚Ç¨‚Ñ¢s goals, and I have a lot of respect for you<em>.</em>√¢‚Ç¨‚Ñ¢ You can tell it√¢‚Ç¨‚Ñ¢s a gem when you√¢‚Ç¨‚Ñ¢re terribly tempted to tack on a grievance to the end of it. Like this: <em>I can tell you care a lot about reaching our team√¢‚Ç¨‚Ñ¢s goals, </em><em><strong>but the way you go about it is causing great difficulty to everyone around you.</strong></em> If you find yourself doing this, leave out the second part. You√¢‚Ç¨‚Ñ¢ll get to say it, just not here.</p>
<p><strong>3. Ask yourself if you√¢‚Ç¨‚Ñ¢re ready</strong></p>
<p>Are you willing to say the statement to them? We recoil from being generous and kind when we feel our counterpart doesn√¢‚Ç¨‚Ñ¢t deserve it. Moreover, making such statements can put us in an even more vulnerable position. If that√¢‚Ç¨‚Ñ¢s the case, it might help to think of this another way. Uttering your gem statement is a temporary discomfort; the benefits you√¢‚Ç¨‚Ñ¢ll experience will be lasting and profound.</p>
<p>At this point, you should share this Guide with the other person. Even if you don√¢‚Ç¨‚Ñ¢t follow these steps closely or have the conversation right away, it will be helpful simply to both read the Guide and give thought to it. If you do proceed with a conversation, having this Guide in advance means that they will have undertaken this same process and unearthed a gem statement for you, which will likely mitigate your vulnerability and discomfort.</p>
<p><strong>4. Phone a friend</strong></p>
<p>Tell a friend who isn√¢‚Ç¨‚Ñ¢t involved in the conversation what you√¢‚Ç¨‚Ñ¢re going to do. The purpose is not to craft the gem statement together, and it isn√¢‚Ç¨‚Ñ¢t even to get their advice. Instead, say the four sentences below to your friend:</p><ul>
<li>The biggest emotion that I√¢‚Ç¨‚Ñ¢m feeling toward the person I need to have a difficult conversation with is√¢‚Ç¨¬¶</li>
<li>The biggest emotion that I expect the person is feeling toward me is√¢‚Ç¨¬¶</li>
<li>The gem statement I will make to them is√¢‚Ç¨¬¶</li>
<li>My hope for the conversation is√¢‚Ç¨¬¶</li>
</ul><p>The fourth sentence √¢‚Ç¨‚Äú identifying your hope for the conversation √¢‚Ç¨‚Äú is a critical piece of your planning. Remember that the best initial outcome is achieving a new, shared understanding, rather than a comprehensive solution or a detailed plan. New understanding can bring you relief and allow space for forward movement, without expecting a miraculous resolution of all tension and ‚Ä¶</p></div></div></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://psyche.co/guides/use-mediation-techniques-to-overcome-the-muck-of-blame-and-anger">https://psyche.co/guides/use-mediation-techniques-to-overcome-the-muck-of-blame-and-anger</a></em></p>]]>
            </description>
            <link>https://psyche.co/guides/use-mediation-techniques-to-overcome-the-muck-of-blame-and-anger</link>
            <guid isPermaLink="false">hacker-news-small-sites-25136200</guid>
            <pubDate>Wed, 18 Nov 2020 12:55:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pfizer and BioNTech Conclude Phase 3 Study of Covid-19 Vaccine Candidate]]>
            </title>
            <description>
<![CDATA[
Score 262 | Comments 171 (<a href="https://news.ycombinator.com/item?id=25135984">thread link</a>) | @doener
<br/>
November 18, 2020 | https://investors.biontech.de/news-releases/news-release-details/pfizer-and-biontech-conclude-phase-3-study-covid-19-vaccine | <a href="https://web.archive.org/web/*/https://investors.biontech.de/news-releases/news-release-details/pfizer-and-biontech-conclude-phase-3-study-covid-19-vaccine">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="block-nir-pid3469-content">
  
    
      <h2>

</h2>





<article role="article">

  <div>
                <ul><li><em>Primary efficacy analysis demonstrates BNT162b2 to be 95% effective against COVID-19 beginning 28 days after the first dose; 170 confirmed cases of COVID-19 were evaluated, with 162 observed in the placebo group versus 8 in the vaccine group</em></li><li><em>Efficacy was consistent across age, gender, race and ethnicity demographics; observed efficacy in adults over 65 years of age was over 94%</em></li><li><em>Safety data milestone required by U.S. Food and Drug Administration (FDA) for Emergency Use Authorization (EUA) has been achieved</em></li><li><em>Data demonstrates vaccine was well tolerated across all populations with over 43,000 participants enrolled; no serious safety concerns observed; the only Grade 3 adverse event greater than 2% in frequency was fatigue at 3.8% and headache at 2.0%</em></li><li><em>Companies plan to submit within days to the FDA for EUA and share data with other regulatory agencies around the globe</em></li><li><em>The companies expect to produce globally up to 50 million vaccine doses in 2020 and up to 1.3 billion doses by the end of 2021</em></li></ul><p><strong>NEW YORK and MAINZ, GERMANY, November 18, 2020</strong> ‚Äî <a href="https://www.globenewswire.com/Tracker?data=Yli2d5nvthuV5tgeZIpzfNa66X9aMWyRcb2c3eYCC7LVUbfEPTAS5qEjoWW9lex6gtFcZvarKhgdJF9WTS1yog==" rel="nofollow" target="_blank"><u>Pfizer Inc.</u></a> (NYSE: PFE) and <a href="https://www.globenewswire.com/Tracker?data=hDf010SOKY9ImJTMfLoYkeqr7USo3RbkSJXZNMRX8mlCKyHr1c2F9DT9mjo9LMT6ewFhRCEzViCxu4yA2e7l7g==" rel="nofollow" target="_blank"><u>BioNTech SE</u></a> (Nasdaq: BNTX) today announced that, after conducting the final efficacy analysis in their ongoing Phase 3 study, their mRNA-based COVID-19 vaccine candidate, BNT162b2, met all of the study‚Äôs primary efficacy endpoints. Analysis of the data indicates a vaccine efficacy rate of 95% (p&lt;0.0001) in participants without prior SARS-CoV-2 infection (first primary objective) and also in participants with and without prior SARS-CoV-2 infection (second primary objective), in each case measured from 28 days after the first dose, 7 days after the second dose. The first primary objective analysis is based on 170 cases of COVID-19, as specified in the study protocol, of which 162 cases of COVID-19 were observed in the placebo group versus 8 cases in the BNT162b2 group. Efficacy was consistent across age, gender, race and ethnicity demographics. The observed efficacy in adults over 65 years of age was over 94%.</p>  <p>There were 10 severe cases of COVID-19 observed in the trial, with nine of the cases occurring in the placebo group and one in the BNT162b2 vaccinated group. To date, the Data Monitoring Committee for the study has not reported any serious safety concerns related to the vaccine. A review of unblinded reactogenicity data from the final analysis which consisted of a randomized subset of at least 8,000 participants 18 years and older in the Phase 2/3 study demonstrates that the vaccine was well tolerated, with most solicited adverse events resolving shortly after vaccination. The only Grade 3 (severe) solicited adverse events greater than or equal to 2% in frequency after the first or second dose were fatigue at 3.8% and headache at 2.0% following dose 2. Consistent with earlier shared results, older adults tended to report fewer and milder solicited adverse events following vaccination. </p>  <p>In addition, the companies announced that the safety milestone required by the U.S. Food and Drug Administration (FDA) for Emergency Use Authorization (EUA) has been achieved. Pfizer and BioNTech plan to submit a request within days to the FDA for an EUA based on the totality of safety and efficacy data collected to date, as well as manufacturing data relating to the quality and consistency of the vaccine. These data also will be submitted to other regulatory agencies around the world.</p>  <p>‚ÄúThe study results mark an important step in this historic eight-month journey to bring forward a vaccine capable of helping to end this devastating pandemic. We continue to move at the speed of science to compile all the data collected thus far and share with regulators around the world,‚Äù said <strong>Dr. Albert Bourla, Pfizer Chairman and CEO</strong>. ‚ÄúWith hundreds of thousands of people around the globe infected every day, we urgently need to get a safe and effective vaccine to the world.‚Äù </p>  <p>‚ÄúWe are grateful that the first global trial to reach the final efficacy analysis mark indicates that a high rate of protection against COVID-19 can be achieved very fast after the first 30 ¬µg dose, underscoring the potential of BNT162 to provide early protection,‚Äù said <strong>Ugur Sahin, M.D., CEO and Co-founder of BioNTech</strong>. ‚ÄúThese achievements highlight the potential of mRNA as a new drug class. Our goal from the very beginning was to design and develop a vaccine that would generate rapid and potent protection against COVID-19 with a benign tolerability profile across all ages. We believe we have&nbsp;successfully accomplished this with our vaccine candidate BNT162b2 in all age groups studied so far and look forward to sharing further details with the regulatory authorities. I want to thank all the devoted women and men who contributed to this historically unprecedented achievement. We will continue to work with our partners and governments around the world to prepare for global distribution in 2020 and beyond.‚Äù</p>  <p>The Phase 3 clinical trial of BNT162b2 began on July 27 and has enrolled 43,661 participants to date, 41,135 of whom have received a second dose of the vaccine candidate as of November 13, 2020. Approximately 42% of global participants and 30% of U.S. participants have racially and ethnically diverse backgrounds, and 41% of global and 45% of U.S. participants are 56-85 years of age. A breakdown of the diversity of clinical trial participants can be found <a href="https://www.globenewswire.com/Tracker?data=ad78-V3TIZpaI0hRxmiSbgkEJUyAXaiiyEL-ARI3BmSe5nBb577HWGg9iwQLkpFDr5Zut3MDUXtDp4gcUuk1TJMOdJQMV0I0rP8L9ghyxUs=" rel="nofollow" target="_blank"><u>here</u></a><u>&nbsp;</u>from approximately 150 clinical trials sites in United States, Germany, Turkey, South Africa, Brazil and Argentina. The trial will continue to collect efficacy and safety data in participants for an additional two years. </p>  <p>Based on current projections, the companies expect to produce globally up to 50 million vaccine doses in 2020 and up to 1.3 billion doses&nbsp;by the end of 2021. Four of Pfizer‚Äôs facilities are part of the manufacturing and supply chain; St. Louis, MO; Andover, MA; and Kalamazoo, MI in the U.S.; and Puurs in Belgium. BioNTech‚Äôs German sites will also be leveraged for global supply.</p>  <p>Pfizer is confident in its vast experience, expertise and existing cold-chain infrastructure to distribute the vaccine around the world. The companies have developed specially designed, temperature-controlled thermal shippers utilizing dry ice to maintain temperature conditions of -70¬∞C¬±10¬∞C. They can be used be as temporary storage units for 15 days by refilling with dry ice. Each shipper contains a GPS-enabled thermal sensor to track the location and temperature of each vaccine shipment across their pre-set routes leveraging Pfizer‚Äôs broad distribution network.</p>  <p>Pfizer and BioNTech plan to submit the efficacy and safety data from the study for peer-review in a scientific journal once analysis of the data is completed.</p>  <p><strong>About Pfizer: Breakthroughs That Change Patients‚Äô Lives</strong><br>At Pfizer, we apply science and our global resources to bring therapies to people that extend and significantly improve their lives. We strive to set the standard for quality, safety and value in the discovery, development and manufacture of health care products, including innovative medicines and vaccines. Every day, Pfizer colleagues work across developed and emerging markets to advance wellness, prevention, treatments and cures that challenge the most feared diseases of our time. Consistent with our responsibility as one of the world's premier innovative biopharmaceutical companies, we collaborate with health care providers, governments and local communities to support and expand access to reliable, affordable health care around the world. For more than 150 years, we have worked to make a difference for all who rely on us. We routinely post information that may be important to investors on our website at <a href="https://www.globenewswire.com/Tracker?data=efkBESitL-YYL3Z0laTvow2llGFscFffkJd5BwOiTNGOtjFDXsnDOMTTrrWjwIHkGrKr7l170Vr-Cf0IOcmK5A==" rel="nofollow" target="_blank"><u>www.Pfizer.com</u></a>. In addition, to learn more, please visit us on <a href="https://www.globenewswire.com/Tracker?data=efkBESitL-YYL3Z0laTvo2zbdJuTNF9-WfK2D7Q6C5GUvy5ow-iKwQsyx4ZETtqc0zENUzOZqpNT5axWduuvIg==" rel="nofollow" target="_blank"><u>www.Pfizer.com</u></a> and follow us on Twitter at <a href="https://www.globenewswire.com/Tracker?data=_G7bMvP0UnHgRNdBi7C58Y5yD_vt1MwKM6uavr4WH8J9GONODA3QgMnza1EVMOxj60PNXXgeMmkscyRk7kz9qg==" rel="nofollow" target="_blank"><u>@Pfizer</u></a> and <a href="https://www.globenewswire.com/Tracker?data=_G7bMvP0UnHgRNdBi7C58aDSWJrj99jYJyKkvw72mTcupprjbYWTE_o_8oUmeQOe0zPfz4E2RmC-oF4TaVBRlXH8iP_6Bix5Xu9JnlN_J7M=" rel="nofollow" target="_blank"><u>@Pfizer News</u></a>, <a href="https://www.globenewswire.com/Tracker?data=33yxYtC2I0K4tZPfGski5s3o4ZHP3agvfitL54fVKSjNuaz9dJMbcS2fs_yowRkoI0H6GkHJ-V8eJS481Br7O_HudP6nCQCn8GgLiQR8_ao=" rel="nofollow" target="_blank"><u>LinkedIn</u></a>, <a href="https://www.globenewswire.com/Tracker?data=wDqRtJtHVFLrdnoY4rjV_QUVojDDDSL9NIZNQLhPL9rquT_S_TQq6AO4do7dxb91mS86msyzNiDLUOTenvwXSw==" rel="nofollow" target="_blank"><u>YouTube</u></a> and like us on Facebook at <a href="https://www.globenewswire.com/Tracker?data=dksh0JnhdKBurO_iVOmXvoO4yOIddjXTCsCPmWuYLjSsFuZnBZqF1BL6C2m7YnFEj37K3VlD2qyWE_dSx5HscHETzEHDKFBMIAuvMoaa-uE=" rel="nofollow" target="_blank"><u>Facebook.com/Pfizer</u></a>.</p>  <p><strong>Pfizer Disclosure Notice</strong><br>The information contained in this release is as of November 18, 2020. Pfizer assumes no obligation to update forward-looking statements contained in this release as the result of new information or future events or developments.</p>  <p>This release contains forward-looking information about Pfizer‚Äôs efforts to combat COVID-19, the collaboration between BioNTech and Pfizer to develop a potential COVID-19 vaccine, the BNT162 mRNA vaccine program, and modRNA candidate BNT162b2 (including qualitative assessments of available data, potential benefits, expectations for clinical trials, anticipated timing of regulatory submissions and anticipated manufacturing, distribution and supply), that involves substantial risks and uncertainties that could cause actual results to differ materially from those expressed or implied by such statements. Risks and uncertainties include, among other things, the uncertainties inherent in research and development, including the ability to meet anticipated clinical endpoints, commencement and/or completion dates for clinical trials, regulatory submission dates, regulatory approval dates and/or launch dates, as well as risks associated with clinical data (including the Phase 3 data that is the subject of this release), including the possibility of unfavorable new preclinical or clinical trial data and further analyses of existing preclinical or clinical trial data; the ability to produce comparable clinical or other results, including the rate of vaccine effectiveness and safety and tolerability profile observed to date, in additional analyses of the Phase 3 trial or in larger, more diverse populations upon commercialization; the risk that clinical trial data are subject to differing interpretations and assessments, including during the peer review/publication process, in the scientific community generally, and by regulatory authorities; whether and when data from the BNT162 mRNA vaccine program will be published in scientific journal publications and, if so, when and with what modifications; whether ‚Ä¶</p></div></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://investors.biontech.de/news-releases/news-release-details/pfizer-and-biontech-conclude-phase-3-study-covid-19-vaccine">https://investors.biontech.de/news-releases/news-release-details/pfizer-and-biontech-conclude-phase-3-study-covid-19-vaccine</a></em></p>]]>
            </description>
            <link>https://investors.biontech.de/news-releases/news-release-details/pfizer-and-biontech-conclude-phase-3-study-covid-19-vaccine</link>
            <guid isPermaLink="false">hacker-news-small-sites-25135984</guid>
            <pubDate>Wed, 18 Nov 2020 12:24:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Six Months of Tiny Projects]]>
            </title>
            <description>
<![CDATA[
Score 854 | Comments 142 (<a href="https://news.ycombinator.com/item?id=25135752">thread link</a>) | @tinyprojects
<br/>
November 18, 2020 | https://tinyprojects.dev/posts/six_months_of_tiny_projects | <a href="https://web.archive.org/web/*/https://tinyprojects.dev/posts/six_months_of_tiny_projects">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
	
	<nav>
		<a href="https://tinyprojects.dev/">Home</a>
		<a href="https://tinyprojects.dev/projects">Projects</a>
		<a href="https://tinyprojects.dev/guides">Guides</a>
		<a href="https://tinyprojects.dev/blog">Blog</a>
	</nav>
	
	<p><i>November 18th 2020</i></p>

	<p>Six months ago, I set myself the goal of creating one tiny project each week.</p> 

	<p>My main aim was to get better at testing out all the ideas I had written down in my phone, but not actually done anything with.</p>

	<p>26 weeks later, and a quick glance of this website, you'll notice I've launched 6 things.</p>

	<p>Although I'm 20 projects short, it's not all bad. My projects are generating some passive income, I've gone from no online following, to a few hundred twitter followers, and I've had a great time building weird and wonderful internet things.</p>

	<p>In this post I'll give an update on how these projects are performing, and the pros and cons of launching micro-businesses.</p>

	<p>Let's rewind.</p>

	<h3>üí° <a href="https://tinyprojects.dev/projects/tiny_website" target="_blank">Tiny Website</a></h3>
	<ul>
		<li><i>Page views: <b>129,000</b></i></li>
		<li><i>Unique users: <b>58,000</b></i></li>
		<li><i>HN Upvotes: <b>348</b></i></li>
		<li><i>Cost: <b>¬£10.00</b></i></li>
	</ul>

	<p>Tiny Projects was born the day after my 25th birthday. Project #1 is this bare-bones tiny website that you're reading right now.</p>

	<p>When it launched, the only content on this website was a blog post, a guide on making tiny websites, and an update about my goals.</p>

	<p>Randomly, I decided to submit my blog post "Tiny websites are great" onto Hacker News. Over the next 24 hours it hit the top of the front page, bringing 25k users to this site in its first day. It was absolutely thrilling.</p>

	<p>As a double whammy, the guide I'd produced also hit the top of the learn programming sub-reddit with 1.3k upvotes.</p>

	<p>Somehow, I'd managed to hit a homerun with no idea what I was doing. Pageviews, followers and emails were flying in fast. Anyone who has produced a bit of viral content on the internet will know, the dopamine rush is insane.</p> 

	<h3>üåê <a href="https://tinyprojects.dev/projects/silicon_valley_domain_names" target="_blank">Silicon Valley Domain names</a></h3>
	<ul>
		<li><i>Page views: <b>28,500</b></i></li>
		<li><i>Unique users: <b>25,500</b></i></li>
		<li><i>HN Upvotes: <b>410</b></i></li>
		<li><i>Cost: <b>¬£76.25</b></i></li>
	</ul>

	<p>Funnily enough, my second Tiny Project was the only one I actually completed in a week. Spurred on by the previous project, I was keen to replicate my success.</p>

	<p>I wanted to investigate domain names. Specifically, was it possible to buy a google.x domain name? It was an investigative piece with a bit of coding sprinkled in.</p>

	<p>Completing this project in a week was gruelling. My day-job was neglected, and I pulled some very long hours. However, 7 days later, I hit publish on my second blog post: "I bought netflix.soy".</p>

	<p>Again, I posted it on Hacker News. It became the most viral thing I've written.</p>

	<p>The Tiny Projects website received 28k page views, and the post got 410 upvotes. Hundreds of followers and emails again poured in.</p>

	<p>Writing two viral pieces back-to-back made me question what I was really doing. Somehow I'd  stumbled into writing click-baity blog posts for Hacker News instead of building tiny projects.</p>

	<p>6 months on, I still own all the domains I purchased for this project except the Facebook one. Damn you Zuck.</p>

	<h3>‚öîÔ∏è <a href="https://tinyprojects.dev/projects/battle_royale" target="_blank">8-bit Battle Royale</a></h3>
	<ul>
		<li><i>Downloads: <b>25</b></i></li>
		<li><i>HN Upvotes: <b>3</b></i></li>
		<li><i>Revenue: <b>¬£0.00</b></i></li>
		<li><i>Cost: <b>¬£36.71</b></i></li>
	</ul>

	<p>For my third tiny project, I decided I wanted to make an online game.</p>

	<p>With minimal knowledge of Unity, I cobbled together a tiny battle royale game called "Wee Royale" in 2 weeks and launched it on Android.</p>

	<p>Posting this project write up on Hacker News got zero attention. I expected this, as it didn't really fit the usual HN content, but I was still disappointed. My brain had been jaded by the massive numbers of the first two posts.</p>

	<p>Wee Royale currently has 25 downloads on the Google Play Store. I'm actually not sure if the game still works though.</p>

	<p>Overall, Wee Royale was a flop, but it was hilarious to play it with my friends.</p>

	<h3>üõçÔ∏è <a href="https://tinyprojects.dev/projects/one_item_store" target="_blank">One Item Store</a></h3>
	<ul>
		<li><i>Page views: <b>1,500</b></i></li>
		<li><i>Stores: <b>1,400</b></i></li>
		<li><i>PH Upvotes: <b>83</b></i></li>
		<li><i>Revenue: <b>¬£1.63</b></i></li>
		<li><i>Cost: <b>¬£41.00</b></i></li>
	</ul>

	<p>With a minimalist design, and the tag line "just sell your stuff", One Item Store lets anyone create an online shop in minutes to sell their goods.</p>

	<p>After two weeks of building my micro e-commerce platform, I launched it on Product Hunt. At the end of the day I finished on the homepage with 83 upvotes.</p>

	<p>Today, people have created over 1400 stores, selling everything from t-shirts, to human beings. I've seen some very strange things.</p>

	<p>In total, ¬£163.09 has flowed through One Item Store checkouts, mainly from a car dealership in Australia offering deals throughout the pandemic. I take a small 1% fee on every transaction, netting me a small fortune of ¬£1.63.</p>

	<p>Although its not a significant amount, this was my first Tiny Projects internet money! The best thing is, One Item Store makes money without me having to do anything.</p>

	<p>One Item Store is a Tiny Project I'd like to continue building. My next step would be to add some better checkout designs, and make the website look a bit more legit.</p>

	<h3>üìó <a href="https://tinyprojects.dev/projects/snormal" target="_blank">Snormal</a></h3>
	<ul>
		<li><i>Page views: <b>2,000</b></i></li>
		<li><i>Users: <b>200</b></i></li>
		<li><i>PH Upvotes: <b>59</b></i></li>
		<li><i>Revenue: <b>¬£0.00</b></i></li>
		<li><i>Cost: <b>¬£10.00</b></i></li>
	</ul>

	<p>Snormal is a social network for everything that doesn't make it onto your Instagram highlight reel. A typical post on Snormal is something like: "Dude, I just ate a whole baguette in bed".</p>

	<p>I launched Snormal with zero intentions of making any money. It was a bit of a social experiment to see if people were becoming as jaded with social media as me.</p>

	<p>After 1 month of building, and an accidental Product Hunt launch, Snormal has gone on to gain 200 registered users, who have scrolled 4432 times on the discover feed.</p>

	<p>Its incredibly fun running a micro-social network.</p>

	<p>Two weeks after Snormal launched, I hadn't implemented comments on posts. When I finally added them, it felt godlike letting people finally talk to each other.</p>

	<p>Growth on Snormal slowly increasing. For some strange reason it has become popular in Portugal. Have a scroll now, and you'll see loads of statuses in Portugese.</p>

	<h3>üí∏ <a href="https://tinyprojects.dev/projects/earlyname" target="_blank">Earlyname</a></h3>
	<ul>
		<li><i>Page views: <b>10,000</b></i></li>
		<li><i>Subscribers: <b>1,500</b></i></li>
		<li><i>PH Upvotes: <b>274</b></i></li>
		<li><i>MRR: <b>$200.00</b></i></li>
		<li><i>Cost: <b>$108.20</b></i></li>
	</ul>

	<p>Earlyname helps you claim rare usernames (like @ben or @alice) on new, emerging social platforms. Currently it is generating $200/month.</p>

	<p>Running Earlyname is so much fun. I get to talk with founders, try out new products, do a bit of web scraping/automation, and find rare usernames for people.</p>

	<p>The only downside is that it requires my input every month to produce a new email. I'm anxious for the month I can't find any new social platforms.</p>

	<p>At present, Earlyname has 1500 subscribers on its email list, a number which thankfully seems to be growing naturally.</p>

	<p>Although its currently only at $200/mo, its cool to think Earlyname is generating $2k/year. My plan is to keep plugging away launching monthly newsletters and see how high that monthly revenue number can get.</p>

	<h3>üëç Positives of Tiny Projects</h3>

	<p>I believe there's a big advantage to this "micro-bet" approach of launching many tiny businesses, and then sticking with the ones that become successful.</p>

	<p>Firstly, it drastically reduces the risk of putting too much time into an idea that doesn't quite work. Even if you stumbled across a decent idea that did work, what if there's an amazing one just around the corner? It keeps you on your toes.</p>

	<p>Creating lots of tiny businesses also keeps things fun and interesting. This is probably the most important factor for me.</p>

	<p>Feeling obligued to keep building something that you've sunk hundreds of hours into but no longer enjoy sounds like my personal hell.</p>

	<p>With tiny projects, the stakes are so low, I can kill a project with no guilt and build something else, or just bounce between the projects I want to work on.</p>

	<h3>üëé Negatives of Tiny Projects</h3>

	<p>My original plan was to launch one tiny project each week, however I've realised this is an insane schedule. You can't build or document anything meaningful in this time.</p>

	<p>This schedule might be possible if I treated Tiny Projects full-time like a YouTuber. But, I don't think going all in on Micro-SaaS businesses would be very fun with the revenue they're currently generating.</p>

	<p>1-2 months is a more reasonable tiny project timeframe. It gives you enough time to build something with substance, and test the idea thoroughly.</p>

	<p>One major downside of launching lots of things is that you become way too happy to give up on a project when it doesn't show instant success.</p>

	<p>Perhaps if I spent more time on marketing, or slightly pivoted a project, I could see more success. Currently, I'm more inclined to just start something new.</p>

	<p>Maintaining lots of software can also become a bit of a burden. Once the domain name renewal date comes around, I'll have to make some decisions as to whether a project lives on for another year or not.</p>

	<h3>üîÆ Conclusions &amp; The Future</h3>

	<p>I feel like I'm trying to learn the skill of generating better ideas, and rapidly building and launching them into a business.</p>

	<p>I try to think about this process like going for a run. The more runs I do, the faster and fitter I'll be. The more projects I launch, the better and more profitable they'll be.</p>

	<p>How often does someone build &amp; launch a business in their lifetime? I'm hoping that by doing this process over and over again, I'll discover some really interesting things.</p>
	
	<p>My main goal for the next six months of Tiny Projects is to learn how to get better at making money on the internet from my projects.</p>

	<p>A Product Hunt launch can easily get you a spike in traffic, but afterwards I really don't know what I'm doing. There's this whole other level afterwards called "sales &amp; marketing" that I want to master.</p>

	<p>Another goal is to also be more consistent with my writing. Hopefully, this ultimately means you'll be hearing a lot more things from me!</p>

	<p>It was nice to catch up.</p>

	
	
	
	
	
	

</div>]]>
            </description>
            <link>https://tinyprojects.dev/posts/six_months_of_tiny_projects</link>
            <guid isPermaLink="false">hacker-news-small-sites-25135752</guid>
            <pubDate>Wed, 18 Nov 2020 11:48:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[UI design for software developers. Part 1, Colors]]>
            </title>
            <description>
<![CDATA[
Score 226 | Comments 90 (<a href="https://news.ycombinator.com/item?id=25135215">thread link</a>) | @Igor_Wiwi
<br/>
November 18, 2020 | http://amortizedcost.net/ui-desing-for-software-developer-part-1/ | <a href="https://web.archive.org/web/*/http://amortizedcost.net/ui-desing-for-software-developer-part-1/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
				<!--kg-card-begin: markdown--><p>In this series of articles, I will show full process of creating a UI design for <a href="https://play.google.com/store/apps/details?id=net.amortizedcost.batchimageshrinker">Batch Image Shrinker</a> (<a href="market://details?id=net.amortizedcost.batchimageshrinker">Google play link</a>) mobile application which I did by myself. As a software developer always I've been thinking that UI design is not for me, that it's complex and requires some art skill or something.</p>
<p>It's a myth and I will try to debunk it.</p>
<p>I will show you that UI design is for everyone, you just need to know some basic technics and a couple of tricks.</p>
<p>It's not going to be easy, but I promise you it will be very interesting.</p>
<h2 id="dominatingcolor">Dominating color</h2>
<p>With the dominating presence of dark-mode, I noticed that for me it was easier to work with darker colors as baseline colors than with brighter ones, and since  I almost always use dark-mode of the applications, so I wanted to have something similar in my application. I was certain that I didn't want to use <a href="https://colornames.org/color/3b5998">Facebook blue</a> color and it's successors, so I had to find something more futuristic and brave than that. My choice fell on <code>#464d77</code> which is a very intense dark blue, almost purple color.</p>
<p><img src="http://amortizedcost.net/content/images/2020/11/Screenshot-2020-11-17-at-20.10.09.png" alt="Screenshot-2020-11-17-at-20.10.09"></p>
<p>Common advice here will be not to use pure black or white colors, which, as perfectly described in <a href="https://ianstormtaylor.com/design-tip-never-use-black/">the article</a>, hardly present in the real-world color pallet. <em>What a coincidence, I found <a href="https://lawsofux.com/aesthetic-usability-effect.html">a website</a> with a perfect example of dark background color and great content to read.</em></p>
<h2 id="colorpalette">Color palette</h2>
<p>Of cause, just one baseline color will not be enough to build a feature-rich application. You will need a couple of colors for different types of components like buttons, checkboxes, radio buttons, etc. Another one or two colors will be needed for the text itself. Also,  some gradients for several states of a component, such as "active", "disabled", "pressed". So before creating an actual UI, we will need to have a rich pallet of colors to work with. In my case, I ended up with 6 colors in total which was more than enough to create a simple yet interesting UI.</p>
<p>This step is much easier than the previous one, because here we will be either reusing or generating new color pallets using the baseline color from the previous part.</p>
<p>The generator which I was using is <a href="https://coolors.co/palettes/popular/f9db6d">this</a>. Here you could either put the color hex into a search bar or simply choose the pallet from the <a href="https://coolors.co/a1e8af-94c595-747c92-372772-3a2449">hundreds</a> of pre-generated ones. If the color range is not enough for you, try to extend it with <a href="https://learnui.design/tools/data-color-picker.html#palette">another</a> good palette generator. Put on the left side the baseline color and select how many colors you will need.</p>
<p>Pro-tip, you can combine those tools to get even more combinations. As you can see here, I was using a baseline color on the right side and colors from <a href="https://coolors.co/464d77-36827f-f9db6d-f4eded-877666">the palette</a> as values for the right side of the generator:</p>
<p><img src="http://amortizedcost.net/content/images/2020/11/Screenshot-2020-11-16-at-23.50.31.png" alt="Screenshot-2020-11-16-at-23.50.31"><br>
<img src="http://amortizedcost.net/content/images/2020/11/Screenshot-2020-11-16-at-23.51.04.png" alt="Screenshot-2020-11-16-at-23.51.04"></p>
<p>If you are not satisfied with the results try to get back to choosing the baseline color and repeat the whole process again. Since we are learning it's ok to do multiple roundtrips until your gut feelings tell you that that is it.</p>
<p>Once we are done with the color schema we are good to go to we move to the next step - choosing fonts, which will be covered next time.</p>
<!--kg-card-end: markdown-->
			</section><section>
				<p>Get the latest posts delivered right to your inbox.</p>
        


      </section></div>]]>
            </description>
            <link>http://amortizedcost.net/ui-desing-for-software-developer-part-1/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25135215</guid>
            <pubDate>Wed, 18 Nov 2020 10:33:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Frontpage: The Good, Bad and Ugly]]>
            </title>
            <description>
<![CDATA[
Score 74 | Comments 21 (<a href="https://news.ycombinator.com/item?id=25135058">thread link</a>) | @jandeboevrie
<br/>
November 18, 2020 | https://invisibleup.com//articles/33/ | <a href="https://web.archive.org/web/*/https://invisibleup.com//articles/33/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
	
	
	<img src="https://invisibleup.com/articles/33/thumb.png" alt="FrontPage: The Good, The Bad, and The Ugly thumbnail">
	
	

	<p>PLEASE don't use FrontPage for modern web development! It's filled with security vulnerabilities and obsolete standards. The goal of this is not to convince you otherwise. The newest version came out almost two decades ago!</p>

<p>Microsoft FrontPage. The mere mention of that name is making most (if not all) of you seasoned web devs groan. "FrontPage was utter rubbish from dark ages of GeoCities" you say. "Everything it touched was ruined with horrific output and proprietary nonsense!" And yes, it was.</p>
<p>But... FrontPage as a concept. As a dream of what could have been, and a window into what <em>was</em>. Letting the typical home user at the time create websites, express creativity, and conquer the world by storm, all without being forced to learn HTML or CSS or JavaScript... In that regard, FrontPage couldn't be beat.</p>
<p>Let's talk about why Microsoft FrontPage was for a brief period of time the ultimate content creation tool of the Internet, and why it later fell from grace.</p>
<h2>History</h2>
<p>Before we can talk about goodness and ugliness, we need to talk about carphones and business meetings. Because this was 1994, when the Internet was still really new. At that point in time most internet chatter occured on Usenet groups (think something like Reddit) or BBS systems (think something like <a href="https://invisibleup.com//articles/5/">old AOL</a>; example pictured below). If you needed buisness stuff, like stocks or the such, you had to log onto the BBS of whoever had what you needed. This was kind of a pain.</p>
<p><img alt="A picture of a BBS (tilde.town) as of today" src="https://invisibleup.com//articles/33/BBS.png"></p>
<p>Enter Randy Forgaard and Charles H. Ferguson. Ferguson, renowned computer industry consultant, contacted MIT graduate Forgaard (over carphone, in case you were wondering) to discuss starting a new, internet-based company.</p>
<p>His idea was that many corporations such as the Dow Jones, Bloomberg, Apple, etc. were sinking millions into building their own, completely incompatible dial-in Internet services. Therefore, they should create a standardized, completely open server/client combo to replace all the independent efforts. This hopefully would reduce the cost of development for those corporations, and provide a market for growth by making buisnesses <em>want</em> to have an Interent presence.</p>
<p>The two decided to found their own company, Vermeer Technologies, Inc. A month later, still in the planning stages, they caught wind of the brand new World Wide Web out of CERN. It was decentralized, open, and even more robust than they were planning. It was just about perfect. The only issue was that it was rather a pain to make websites if you were just some lowly advertising manager or whoever. The web needed an authoring tool for websites.</p>
<p><img alt="FrontPage 1.0a, taken from WinWorldPC.com" src="https://invisibleup.com//articles/33/FP-1.0.png"></p>
<p>So, somehow, they managed to hire many professional coders for no salary whatsoever to work on FrontPage. (Early start-up culture, perhaps?) Evidently it worked, as FrontPage was released (only!) a week behind schedule on October of 1995. By then the World Wide Web was exploding, with a 20% increase in sites <em>per month</em>. FrontPage also managed to explode, receiving many awards and positive reviews. In fact, it was so good that Microsoft ended up buying them out. According to them, not only did it feel like a native Office application, it was perfect for their ongoing plan to become more internet centric.</p>
<p><img alt="FrontPage 97, taken from WinWorldPC.com" src="https://invisibleup.com//articles/33/FP-97.png"></p>
<p>FrontPage over the years got integrated into the Office suite and made a flagship product for Microsoft productivity products. By Office 2000, FrontPage had more Office integration than you should shake a stick at; nailing down the Office user interface and allowing imports and exports across the whole suite. There's... other stuff as well, but let's stay positive for now.</p>
<p>I'll be covering FrontPage 2002, as that's the version I own, and the one I have the most experience with.</p>
<h2>The Good</h2>
<p>The interface... is (in my opinion) one of the best interfaces for any program ever. No hyperbole. I think only the other Microsoft applications of the era like PowerPoint and Visio can top it. I can <em>see</em> why it won awards.</p>
<p><img alt="FrontPage's start screen with no webs open" src="https://invisibleup.com//articles/33/FP-Start.png"></p>
<p>Like any other Microsoft Office XP program, there's the sidebar on the right with common tasks. What you'll probably want to do is, of course, make a new site.</p>
<p>FrontPage's equivalent to "projects" are called "Webs". These Webs contain the files (all your HTML, CSS, images, etc.) and preferences (such as which web server to sync up with or what compatibility settings to use) for that website.</p>
<p><img alt="FrontPage's template selector" src="https://invisibleup.com//articles/33/FP-NewWeb.png"></p>
<p>Start by selecting a new "Empty Web". Up pops a bunch of templates, including the "Empty Web" template. A bit odd, but sure.</p>
<p><img alt="The &quot;Personal Homepage&quot; template in action" src="https://invisibleup.com//articles/33/FP-Template.png"></p>
<p>If you <em>were</em> to choose a template, it would give you a pre-populated fill-in-the-blanks site ready for your words and pictures. It takes some of the layout work and design originality out of it, but that <em>is</em> the purpose of a template after all. (Although, as a word of advice, <em>don't use these.</em> They're rather awfully designed from a web standards point of view. You can see it barely fitting in my window there. Imagine that on a smartphone.)</p>
<p><img src="https://invisibleup.com//articles/33/FP-BlankWeb.png" alt="FrontPage open to a new blank web. Folder list and Views bar are visible."></p>
<p>Anyways, once you open your blank web, you get... nothing! (That's what you asked for, isn't it?) No worries. Really, if you think about it, it would be rather silly to start making a page off the bat. You see, FrontPage takes a <em>project oriented</em> approach to things. While you easily <em>could</em> just sit down and start banging stuff out, that's really not the way FrontPage wants you to go.</p>
<p><img alt="FrontPage Navigation editor with some pages created and linked up." src="https://invisibleup.com//articles/33/FP-NavView.png"></p>
<p>Here's probably my favorite FrontPage feature: the Navigation editor. Here you create blank pages and link them together in a logical hierarchy. This closely resembles the process you'd usually take on paper when designing a website.</p>
<p><img alt="Navigation bar settings dialog" src="https://invisibleup.com//articles/33/FP-Navbar.png"></p>
<p>With this hierarchy, you can automatically create a navigation bar in all your pages that are properly linked. If you decide to make a new top-level page, for instance, every page on your site will be updated to feature that page. (To replicate that feature on this site, I had to use some pretty tricky template scripting with my custom Flask server. I'd vastly prefer something like this.)</p>
<p>This feature is also nice because it forces you to <em>think about your site</em>. You can't just sit down like it's Microsoft Word and bang out some pages. You need a coherent plan. Before you can even start, you need to sit down with your client/team/self and ask "What do you want on your website?" To most people it's obvious that you need a website. Everybody has a website. What's significantly less obvious is <em>what</em> needs to be on the website. And FrontPage's web editor allows you to play around with hierarchies and layouts before commiting to anything.</p>
<p><img alt="PowerPoint Slide Sorter mode&quot;" src="https://invisibleup.com//articles/33/PPT-SlideSorter.png"></p>
<p>One thing that's intersting is that Word, PowerPoint and Access all (vaguely) follow a similar model. Word has the Outline editor, PowerPoint has the Slide Sorter mode (pictured above, showing an interactive game I made when I was 11), and Access, being a typical database program, requires you to declare your tables before you can work on them.</p>
<p>What's even more interesting is that, with the exception of Access (which not many people used, mostly due to its cost and relative rarity), you were never <em>required</em> to have a plan before starting. Most people I've seen use Word just do straight typing, or perhaps work off another document with an outline. But the option was there! One could do their outline <em>in their document</em> and flesh out around that. Likewise with PowerPoint, as well.</p>
<p><img alt="Highlighted template include code" src="https://invisibleup.com//articles/33/FP-TemplateInclude.png"></p>
<p>Another common task in web design is defining a "template" page where you fill all your content into. For example, every page on this site you're reading on now has the same header and footer, and every article has the same sort of thumbnail image at the top. That was all scripted using template features.</p>
<p>FrontPage, being an Office product, supports templates. The implementation admittedly is <em>super</em> janky, but it's there. You can include pages within other pages just fine, it's just a little tricky to set up. (FYI, Word, Excel, and PowerPoint do templates too. It's one of their lesser-known features, IMHO.)</p>
<p><img alt="Report view window" src="https://invisibleup.com//articles/33/FP-Reports.png"></p>
<p>Another really neat feature: reports. Like a compiler in an IDE, FrontPage produces warnings, errors, and statistics for your site. At a glance I can view all broken links, orphaned pages, oversized images, etc. This is a <em>fantastic</em> feature, something that modern web dev software just <em>doesn't</em> have.</p>
<p><img alt="Hyperlinks view window" src="https://invisibleup.com//articles/33/FP-Links.png"></p>
<p>In the same vein as the Reports, you can see at a glance what links to what. It's a lot like the call chart in a software development IDE. I can see quickly every site linked from any page (shown here is <a href="https://invisibleup.com//articles/24/">the Sonic R color fix article</a>) and any subpages.</p>
<p><img alt="Tasks view, showing a task labeled &quot;Write FrontPage article&quot;" src="https://invisibleup.com//articles/33/FP-Tasks.png"></p>
<p>Last feature, although this isn't nearly as useful in the year 2020. In the tasks view, you can put up a list of tasks that needs to be accomplished. Already that seems rather nice for keeping track of what you need to do. It's a lot like GitHub or GitLab's issue tracker, in a sense.</p>
<p>However, if you connect to a server with FrontPage Web Extensions (I'll get to that...), you can share this task list with other people. You can (again, like an issue tracker) put up a task to be done by someone else and work on a task that somebody else put up. It's a <em>very</em> nice feature for web development, but nowadays this is normally handled by source control providers like GitHub or GitLab.</p>
<p><img alt="FrontPage editing the Sonic R color mod article" src="https://invisibleup.com//articles/33/FP-Editor.png"></p>
<p>And, of course, there's the webpage editor. This works almost exactly like Microsoft Word, with some web-flavored spice. You type words and they appear in the page. You make those words blue, they're blue. <em>That said</em>, when you edit elements like that, it inserts an HTML 3.2 style <code>&lt;FONT&gt;</code> tag instead of trying to match it to a CSS rule. There's ways around this, but you have to be very diligent in doing so. This is mostly just due to FrontPage being a product of its time, though.</p>
<p>FrontPage is a program about planning, executing, and reviewing. Take the Navigation editor. You plan out the content of your site. You sketch up the layout. Then you reflect on if your layout matches your requirements. Or the Reports. Create content, check reports. Or the Tasks. Plan out what you need to do, do that, and then check if the task is complete. That, right ‚Ä¶</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://invisibleup.com//articles/33/">https://invisibleup.com//articles/33/</a></em></p>]]>
            </description>
            <link>https://invisibleup.com//articles/33/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25135058</guid>
            <pubDate>Wed, 18 Nov 2020 10:08:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I/Q Data for Dummies]]>
            </title>
            <description>
<![CDATA[
Score 96 | Comments 41 (<a href="https://news.ycombinator.com/item?id=25134698">thread link</a>) | @pabo
<br/>
November 18, 2020 | http://whiteboard.ping.se/SDR/IQ | <a href="https://web.archive.org/web/*/http://whiteboard.ping.se/SDR/IQ">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wikitext">
<p>This is a description of using I/Q Data (aka "analytic signal") representing a signal. Since the topic may be quite confusing, I've described the same thing here from different point of views. If you find the information somewhat redundant, it is because it is. Different views may appeal to different readers, and if something seems unclear, keep on reading and it may be more comprehensible later - hopefully.
</p>
<h2>Why I/Q Data?</h2>
<p>I/Q Data is a signal representation much more precise than just using a series of samples of the momentary amplitude of the signal. Have a look at the following signal below.
</p>
<p><img src="http://whiteboard.ping.se/uploads/SDR/cosample.png" alt="Plain signal" title="Plain signal"></p>
<p>This is what you may be used to work with. So why I/Q Data - isn't this good enough?
</p>
<p>Not really. We have a few problems here.
</p>
<ul><li>First, it is impossible to determine the frequency of this signal. Sure, it looks simple enough, just look at the period length? True, but you have no clue if it's a positive or negative frequency since they both generate the same curve. I.e. cos(x) = cos(-x). This becomes a problem working with the signal. Mixing (multiplying) two signals and it'll cause multiple solutions due to the uncertainty of the sign: f1 √¢≈†‚Äî f2 equals f1 + f2 as well as f1 - f2.
</li><li>Second, it's hard to determine the power (peak amplitude, envelope) of the signal. Basically you can only see the peak amplitude here at 0√Ç¬∞, 180√Ç¬∞, 360√Ç¬∞ etc, and how do you know the power is the same everywhere else as well? And did you sample the signal exactly at its peak? You really don't know.
</li></ul><p>I/Q Data solves this. Instead of looking at the signal as a flat curve as above, look at it as a corkscrew (helix, spiral, coil spring) in three dimensions.
</p>
<p><img src="http://whiteboard.ping.se/uploads/SDR/corkscrew.png" alt="Complex signal" title="Complex signal"></p>
<hr>
<p>Now if you look at this curve from the side, you'll actually get the same graph as the first one above. Your "real" signal actually is this 2D projection of this corkscrew signal. This is your "I" in I/Q data.
</p>
<p><img src="http://whiteboard.ping.se/uploads/SDR/corkI.png" alt="Side view" title="Side view"></p>
<hr>
<p>Now have a look at the corkscrew from above. This looks quite similar, but as you see, it is out of phase 90√Ç¬∞  starting at zero, not at one as the other. This this the Q part of your I/Q data.
</p>
<p><img src="http://whiteboard.ping.se/uploads/SDR/corkQ.png" alt="Top view" title="Top view"></p>
<hr>
<p>Now looking at the corkscrew down the time axis you'll see it winds counter-clockwise. This means we know the frequency is positive. It could have wound clockwise as well, still generating the same I-signal (projection) but different Q-signal, representing a negative frequency.
</p>
<p>You also see that the radius of the corkscrew is constant at every sample, if small in I large in Q and vice versa. The radius is the peak amplitude of your signal. 
</p>
<p>The axes are of course 90√Ç¬∞, so the radius must be equal to (I√Ç¬≤+Q√Ç¬≤)<sup>1/2</sup>. This is the peak amplitude of your signal, and as you can see you know this for each and every sample.
</p>
<p><img src="http://whiteboard.ping.se/uploads/SDR/corkT.png" alt="Viewed down time axis" title="Viewed down time axis"></p>
<h2>What is I/Q Data?</h2>
<p>AS you now understand, the I/Q Data Sample is the coordinates of your signal as seen down the time axis of the corkscrew.
</p>
<p><img src="http://whiteboard.ping.se/uploads/SDR/onesample.png" alt="" title=""></p>
<p>You might object that your signal isn't a pure cosine function as the one we have shown here, and it might be very true. Still, every single sample of your signal can be described as such, i.e. with a peak amplitude times cosine of some phase angle.
</p>
<p>Every single point of your signal can be described as the function A√¢‚Äπ‚Ä¶cos(√è‚Ä¢)
</p>
<p>Since you may freely chose any amplitude A and angle √è‚Ä¢ this must of course be true (as long as the signal is continuous). The value of A√¢‚Äπ‚Ä¶cos(√è‚Ä¢) is the <strong>I</strong> component of the I/Q signal, i.e. your real signal. Note that this only describes your signal in one single point, i.e. one sample. Next sample gives you a new I and Q very likely resulting in another amplitude and/or phase angle, reflecting the modulation of the signal.
</p>
<h2>One sample I/Q Data</h2>
<p>Ok, lets take one sample of I/Q Data and see what it represents. This is also called a phase vector, or phasor.
</p>
<pre>I = 0.69
Q = 0.40
</pre>
<p>Lets draw this in the complex plane.
</p>
<p><img src="http://whiteboard.ping.se/uploads/SDR/iqdraw1.png" alt="" title=""></p>
<p>Lets see what this tells us about our data point.
</p>
<ul><li>The momentary amplitude of our real signal is by definition <strong>I</strong>, i.e. 0.69
</li><li>Pythagoras tells us the amplitude A of the cosine wave is <code>(0.69√Ç¬≤+0.40√Ç¬≤)<sup>1/2</sup> = 0.8</code>
</li><li>Trigonometry tells us our angle is +30√Ç¬∞ into our cosine wave.
</li></ul><p>- <em>Hold it</em>, you say, <em>what cosine wave?</em>
</p>
<p>Well, I/Q actually assumes your real signal (<strong>I</strong>, that is) can be described as the
function <strong>I</strong> = A√¢‚Äπ‚Ä¶cos(√è‚Ä¢)
</p>
<p>Since you are free to chose A and √è‚Ä¢ this must of course be true, as long the function is continuous. Remember we are looking at one single sample now, i.e. one point in time.
</p>
<p>So by using IQ Data we not only get the momentary values of our signal, but the function generating it as well. If we put above together we get:
</p>
<p>The real signal I = 0.8√¢‚Äπ‚Ä¶cos(30√Ç¬∞)
</p>
<hr>
<ul><li>I/Q Data is the representation (data type) of this cosine function.
</li></ul><p>I/Q Data is the rectangular representation of the polar notation we used above. There is a unique transformation between the two, and the different notations have different properties calculating with them. The rectangular form of I/Q Data is chosen due to the ease of hardware implementations of the most common operations.
</p>
<p>I/Q Data consists of I and Q represented as two separate variables, a vector of length two, or more often, the complex number  I + Q<em>i</em>  (yes, I is the real part).
</p>
<p><img src="http://whiteboard.ping.se/uploads/SDR/polrep.png" alt="" title=""></p>
<p>Note that the Amplitude above is the waves peak amplitude, not the momentary amplitude.
</p>
<ul><li>I is the current momentary amplitude of the signal (i.e. the Real signal)
</li><li>Q is the momentary amplitude of the signal phase shifted -90√Ç¬∞.
</li></ul><p>For a simple function such as sine, the phase shift is what the signal was earlier in time, but for a signal with more than one sine component, Q reflects a -90√Ç¬∞ shift of the individual components, and not the composite signal as such. To convert a Real Signal to a I/Q Data Signal, discrete Fourier transformation is required (Hilberts transform).
</p>
<h2>Different ways of representing the same I/Q Data Sample</h2>
<p>There are at least three common ways to represent the I/Q Data Sample. Different representations gives you different pros and cons. Some are more easy to add, other are more easy to multiply etc. This may be important in the implementation, resulting in less complex hardware/software using the best representation.
</p>
<h3>The rectangular form</h3>
<p>The I/Q Data on the form Q and I is called "rectangular" (or "Cartesian") form as it can be viewed as positions in a coordinate system. I and Q are the x and y axis respectively. This is the most common representation you are used to. This form is most common due the ease of modulating/demodulating it in hardware. More about that later.
</p>
<ul><li>As a complex number: I + Q<em>i</em>
</li><li>As a vector [I,Q]
</li><li>Or just the two plain variables I and Q
</li></ul><h3>The polar form</h3>
<ul><li>Amplitude and angle
</li></ul><p>I = Amplitude√¢‚Äπ‚Ä¶cos(angle) <br>Q = Amplitude√¢‚Äπ‚Ä¶sin(angle)
</p>
<p>The Amplitude is the peak amplitude of the cos (and sin) function, and the angle is how far into the period from zero to 360√Ç¬∞ you are (or 0 to 2√è‚Ç¨ if you prefers radians).
</p>
<h3>Eulers form</h3>
<p>Since cos(√è‚Ä¢) + i√¢‚Äπ‚Ä¶sin(√è‚Ä¢) = e<sup>i√è‚Ä¢</sup> we can write our IQ sample as
</p>
<p><span> Ae<sup>i√è‚Ä¢</sup> </span>
</p>
<p>This might (not?) be the most intuitive representation of the sample. √è‚Ä¢ rotates the angle as seen in the polar representation, and A is of course the amplitude. Realizing this, Eulers identity becomes obvious. Because √è‚Ä¢ is the rotation of the vector in the complex plane, rotating it half a turn, 180√Ç¬∞ or √è‚Ç¨ radians, results in a real part of -1 and no imaginary part, hence:
</p>
<p><span> e<sup>√è‚Ç¨i</sup>+1 = 0 </span>
</p>
<p><em>"The student should find this to be immediately obvious,</em> <br><em>otherwise he'll never be a first rate mathematician"</em>
</p>
<p><em>-- Carl Friedrich Gauss </em>
</p>
<h2>Positive versus negative frequency</h2>
<p>It is now easy to see that using I/Q we can represent the signal frequency either as positive or negative. Have a look at the two I/Q signals red and blue below to the left and compare them with their corresponding real projections. It is as obvious they differ in signs in I/Q, as it's impossible to determine the signs using only the real signal component (neither the I nor the Q projection separately).
</p>
<p><img src="http://whiteboard.ping.se/uploads/SDR/freqsign.gif" alt="Positive versus negative frequencies" title="Positive versus negative frequencies"></p>
<p><span>(sidenote: I've put them slightly out of phase compared to each other since else they wouldn't be possible to distinguish at all in the real representation to the right. Also, please note I'm here, quiet unconventional, using the x axis in the phasor for the imaginary <strong>Q</strong>)</span>
</p>
<p>The same signal (well, more or less) in a 3D representation.
</p>
<p>The <strong>I</strong> components (side view):
</p><p><img src="http://whiteboard.ping.se/uploads/SDR/sign-i.png" alt="" title=""></p>
<p>The <strong>Q</strong> components (top view):
</p><p><img src="http://whiteboard.ping.se/uploads/SDR/sign-q.png" alt="" title=""></p>
<p>The I/Q signals in 3D:
</p><p><img src="http://whiteboard.ping.se/uploads/SDR/sign-3d.png" alt="" title=""></p>
<p><a name="twopriceone" id="twopriceone"></a>
As the Nyquist√¢‚Ç¨‚ÄúShannon sampling theorem states you can only represent
frequencies up to <code>f/2</code> using a samplings rate of <code>f</code>. This is still true
using IQ Data, but since you now can represent negative frequencies
the signal spans <code>[-f/2..+f/2]</code> compared to <code>[0..+f/2]</code> using a √¢‚ÄûÔøΩeal signal,
hence the range is in effect doubled. Using a
sampling rate of <code>f</code> and you now can represent a signal range of <code>f</code> as well.
Two to the price of one!
</p>
<h2>Mixing and multiplying signals</h2>
<p>Using real signals or IQ Signals gives different results when you multiply them. This is because using only the real component it's not possible to uniquely determine the phase angle of the signal, hence impossible to distinguish a positive frequency from a negative.
</p>
<p><span><img src="http://whiteboard.ping.se/uploads/SDR/mix-real.png" alt="Mixing 10 kHz with 3 kHz using real" title="Mixing 10 kHz with 3 kHz using real"></span></p>
<p>Multiplying two signals f1 and f2 in the real domain:
</p>
<p><span> √Ç¬±f1 √¢≈†‚Äî √Ç¬±f2 = (√Ç¬±)f1 √Ç¬± f2 </span>
</p>
<p><span><img src="http://whiteboard.ping.se/uploads/SDR/mix-iq.png" alt="Mixing 10 kHz with 3 kHz using I/Q" title="Mixing 10 kHz with 3 kHz using I/Q"></span></p>
<p>Using IQ Data the signs are now given, and the result is unambiguous:
</p>
<p><span> f1 √¢≈†‚Äî f2 = f1 + f2 </span>
</p>
<p><br>
A frequency spectrum in the real domain usually never show the negative side, since it always must be symmetric around zero due to the uncertainty of the sign of the frequency of the real signal -- hence the parentheses around the sign of <code>f1</code> in the first formula mixing the real signals. I've included the negative side here for illustrative purposes, despite of its redundancy.
</p>
<p>Multiplying two complex number is easiest understood in the polar representation. The amplitude is multiplied and the angle added.
</p>
<p><span> A<sub>1</sub>√¢‚Äπ‚Ä¶e<sup>i√è‚Ä¢<sub>1</sub></sup>√¢‚Äπ‚Ä¶A<sub>2</sub> e<sup>i√è‚Ä¢<sub>2</sub></sup> = A<sub>1</sub>A<sub>2</sub> e<sup>i(√è‚Ä¢<sub>1</sub>+√è‚Ä¢<sub>2</sub>)</sup> </span>
</p>
<p>Realizing the angle is added under multiplication makes it obvious that the frequencies are added as well.
</p>
<h3>And in time domain ...</h3>
<p>Now let us have a look at this in time domain. To make it easier (doable!) to calculate the DFT in our ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://whiteboard.ping.se/SDR/IQ">http://whiteboard.ping.se/SDR/IQ</a></em></p>]]>
            </description>
            <link>http://whiteboard.ping.se/SDR/IQ</link>
            <guid isPermaLink="false">hacker-news-small-sites-25134698</guid>
            <pubDate>Wed, 18 Nov 2020 09:15:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Games released before PS4 are no longer appearing in search on PlayStation.com]]>
            </title>
            <description>
<![CDATA[
Score 197 | Comments 142 (<a href="https://news.ycombinator.com/item?id=25134263">thread link</a>) | @petepete
<br/>
November 18, 2020 | https://delistedgames.com/sony-basically-removed-25-years-of-history-from-playstation-com/ | <a href="https://web.archive.org/web/*/https://delistedgames.com/sony-basically-removed-25-years-of-history-from-playstation-com/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <!-- .entry-header -->


            <div>
                
<p>The heartbreak continues for those of us that relied on Sony‚Äôs websites to find and buy games or to research what was available. After <a href="https://delistedgames.com/sony-makes-it-official-playstation-3-psp-vita-removed-from-psn-website-between-october-21-and-26/">cutting out</a> older PlayStation content from the PlayStation Store over the past month, Sony‚Äôs eye has seemingly fallen on PlayStation.com and I find myself feeling gutted this morning. For those who didn‚Äôt use it regularly, PlayStation.com housed a gargantuan history of pages for North American PlayStation releases going all the way back to the original console from 1995. Up until this week you could easily find titles using the search box on the site but now anything before the PlayStation 4 returns a disappointing ‚Äú<em>0 results found</em>‚Äú.</p>



<p>The older pages weren‚Äôt overflowing with info but they did offer some product details that I couldn‚Äôt easily find elsewhere. For newer games these pages also frequently retained links to the PlayStation Store which helped in my research. Even when they <em>were</em> on sale some games were just hard to find on the PlayStation Store while their PlayStation.com pages linked directly to them. Sometimes these pages were among the scant bits of evidence that I could find to confirm these games even existed digitally. Now, like with the changes to the PlayStation Store, all that‚Äôs gone too. Well, mostly gone.</p>



<p>Thankfully, like our ‚Äú<a href="https://delistedgames.com/get-the-old-playstation-store-back-for-now/">old PS Store</a>‚Äù workaround, there‚Äôs still a way to search PlayStation.com but it might also eventually go away. Google‚Äôs ‚Äúsearch within a site‚Äù function has been around for nearly a decade at this point but I‚Äôm sure lots of people don‚Äôt even know it exists. For our purposes just head to <em>the Google</em>, type ‚Äòsite:playstation.com‚Äô and then whatever game you‚Äôre looking for. You can use Google‚Äôs other search operators to refine the results as well. Put it all together and it looks something like this: <strong>site:playstation.com ‚Äúage of booty‚Äù</strong></p>



<p>You‚Äôll get search results across the playstation.com domain including PlayStation Blog posts and PlayStation Store pages but look for the ones that specifically state ‚Äòwww.playstation.com‚Äô. In the case of Age of Booty the page gives us a description and even some screenshots as well as a ‚ÄòBuy Download‚Äô link. Of course, the download page has been hidden by Sony‚Äôs recent changes to their sites but the URL remains accessible so you can check other territories or check it out using the ‚Äú<a href="https://delistedgames.com/get-the-old-playstation-store-back-for-now/">old</a>‚Äù method. Yes, <a href="https://delistedgames.com/age-of-booty/">Age of Booty</a> is still delisted on PlayStation 3.</p>



<p>Maybe it was just a feature that only <strong><em>I</em></strong> benefited from but it‚Äôs really sad to see Sony ostensibly kill 25 years of PlayStation content on the web. It makes the nostalgia trip of Astro‚Äôs Playroom feel a little more hollow.</p>

                            </div>
            <!-- .entry-content -->



                    </div></div>]]>
            </description>
            <link>https://delistedgames.com/sony-basically-removed-25-years-of-history-from-playstation-com/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25134263</guid>
            <pubDate>Wed, 18 Nov 2020 08:10:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA["Equal pay for equal work" in remote jobs]]>
            </title>
            <description>
<![CDATA[
Score 230 | Comments 587 (<a href="https://news.ycombinator.com/item?id=25134220">thread link</a>) | @nityeshaga
<br/>
November 18, 2020 | https://www.nityesh.com/equal-pay-for-equal-work-at-a-remote-company/ | <a href="https://web.archive.org/web/*/https://www.nityesh.com/equal-pay-for-equal-work-at-a-remote-company/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wrapper">
        <main id="main">
            <div>

                

                
<section>

    <header>
        <span>June 24, 2020</span>
        
            <p>Tough questions to ask your remote employer who gives you Cost Of Living based compensation and some thoughts on how remote compensation will work in the future</p>
    </header>

    <!--<div class="image main"><img src="/content/images/2020/06/micheile-henderson-03NMNUqHPdE-unsplash.jpg" alt="You should expect &quot;equal pay for equal work&quot; at your new remote job" /></div>-->

    <div>
        <figure><img src="https://www.nityesh.com/content/images/2020/06/micheile-henderson-03NMNUqHPdE-unsplash--1-.jpg" alt=""></figure><blockquote>Your star designer out in the sticks is just as valuable (maybe more so) to the team as those working from the big-city home office. Make sure she feels that way. <p>By the same token, as a remote worker, you shouldn‚Äôt let employers get away with paying you less just because you live in a cheaper city. ‚ÄúEqual pay for equal work‚Äù might be a dusty slogan, but it works for a reason. If with regard to compensation you accept being treated as a second-class worker based on location, you‚Äôre opening the door to being treated poorly on other matters as well.</p><p>- <a href="https://www.nityesh.com/books-read/#remote-office-not-required-by-david-heinemeier-hanson">Remote</a> by David Heinemeir Hanson and Jason Fried</p></blockquote><p>Almost all the knowledge jobs have become work-from-home in this sudden pandemic. Societies, companies, employees and job-seekers - all have been caught in this sudden shift in the way of working.</p><p>I am writing this for the new job-seekers. It's a tough market out there but you should still expect "equal pay for equal work" at whatever remote company you work for in the future. Most of us will probably not get it anytime soon but I believe that there's value in setting expectations.</p><h2 id="tough-questions-against-cost-of-living-col-based-adjustments">Tough questions against Cost Of Living (COL) based adjustments</h2><p>Big companies like Twitter, Shopify and Facebook have announced that they are adopting remote work for good. It's inevitable that this will pave the path for other companies to follow suit. </p><p>But along with this they might also make location based compensation the norm.</p><figure><blockquote><p lang="en" dir="ltr">Wait what? Facebook is seriously going to dunk someone's salary if they move? That's barbaric. <a href="https://t.co/xoV5XpstH3">https://t.co/xoV5XpstH3</a></p>‚Äî DHH (@dhh) <a href="https://twitter.com/dhh/status/1263544194359947264?ref_src=twsrc%5Etfw">May 21, 2020</a></blockquote>

</figure><p>Below I present some tough questions that you can ask your employer who has adopted this practice.</p><h3 id="-1-opening-the-doors-to-discrimination-at-work">#1. Opening the doors to discrimination at work</h3><p>If you don't live in the highest wage city of the world, you might have a peer at the company who lives in a more expensive city than you. Are you ready to be treated as a second-class employee just because of the geography that you live in?</p><p><em>How will you know that all the lousy work doesn't get passed on to you because it is justified in terms of 'returns on investment'?</em></p><p>When your manager has the final say, isn't it possible that they distribute work so that a low-risk, low-impact project is assigned to you while your "more expensive" peers get assigned the high-risk, high impact one?</p><p><strong>HR at your COL company</strong><em>: "We have a policy that says we won't discriminate based on the employee's location."</em></p><p>That's all well and good but what about the silent bias.</p><p><em>How can you be sure that your extremely well-meaning manager wasn't thinking about it when they assign you a project that you don't like? Wouldn't they be making a wise decision that is justified in terms of returns of investment? Can you be sure that they won't?</em></p><h3 id="-2-differences-in-government-spending-across-countries">#2. Differences in Government spending across countries</h3><p>Public spending enables governments to produce and purchase goods and services, in order to fulfil their objectives ‚Äì such as the provision of public goods or the redistribution of resources - like social protection, education and healthcare.</p><p>Recent data on public spending reveals substantial cross-country heterogeneity. Relative to low-income countries, government expenditure in high-income countries tends to be much larger (both in per capita terms, and as share of GDP), and it also tends to be more focused on social protection.</p><figure><blockquote data-width="550"><p lang="en" dir="ltr">Yes! In Spain families with more than 2 children also get benefits from the government, but they have nothing to do with your employer.</p>‚Äî Rosa (@rosapolis) <a href="https://twitter.com/rosapolis/status/1264238728123465728?ref_src=twsrc%5Etfw">May 23, 2020</a></blockquote>

</figure><p>In India, the government spent about 1,700 US dollars per head (adjusted based on Purchasing Power Parity) in the year 2015; while in countries such as Norway, that figure was over 30,000 US dollars (adjusted based on PPP) and in USA it was over 21,000 USD.</p><!--kg-card-begin: html--><!--kg-card-end: html--><p>Source: <a href="https://ourworldindata.org/government-spending">https://ourworldindata.org/government-spending</a></p><p>This lack of government spending is ultimately passed on to the citizens who need to pay for these benefits with their own money, thus reflecting it in their costs of living.</p><p>An impotent public schooling system means that employees need to send their children to expensive private schools. A broken public hospital infracture means that people need to avail the expensive private hospitals for their healthcare. And a lot of these private enterprises are not above profiteering in times of crises.</p><p><em>How does cost of living based compensation take into account the differences in government spending accross countries? Shouldn't the employees be compensated for this difference?</em></p><h3 id="-3-relocations-get-complicated-at-best-and-outright-unfair-at-worst">#3. Relocations get complicated, at best and outright unfair, at worst</h3><p><em>What happens if I relocate to a lower paid region? Will I be compensated differently?</em></p><p>Companies like GitLab are pretty transparent about this. <a href="https://about.gitlab.com/handbook/total-rewards/compensation/#relocating">"Yes, you take a pay cut."</a></p><p><em>But what happens if I was living in a cheap city and decide to move to a more expensive one?</em></p><p>I asked the CEO of Gitlab. Here's what he replied -</p><figure><blockquote><p lang="en" dir="ltr">I don‚Äôt remember ever declining such a request.</p>‚Äî Sid Sijbrandij (@sytses) <a href="https://twitter.com/sytses/status/1264219857609912320?ref_src=twsrc%5Etfw">May 23, 2020</a></blockquote>

</figure><p>Coming from India, I know for a fact that a lot of people in lower-income countries will jump at this opportunity.</p><p><em>What happens if I choose to be a digital nomad changing cities every couple of months?</em></p><p><em>What if I choose to get an official address in some expensive city while I actually live in the suburbs?</em></p><h3 id="-4-loose-definition-of-cost-of-living">#4: Loose definition of "Cost of Living"</h3><p>The most common arguement against "equal pay for equal work" for remote employees is the difference in housing prices across cities/countries.</p><figure><blockquote><p lang="en" dir="ltr">But those COL adjustments are meant to reflect the local reality no (the house I live in here in SF will a lot cheaper in the middle of nowhere )? Assuming you have the same pool of money to pay people, how do you make sure people have the same experience regardless of place?</p>‚Äî Sriram Krishnan (@sriramk) <a href="https://twitter.com/sriramk/status/1263541004289753088?ref_src=twsrc%5Etfw">May 21, 2020</a></blockquote>

</figure><p>So, how do you define the "Cost of Living"?</p><p>Is it just the housing prices? And groceries? Restaurant bills, maybe?</p><p>That seems incomplete. It is only a small percentage of a lot of people's actual costs of living.</p><p>What about living with an elderly parent?</p><p>What about living a single life vs. being married? For that matter, how about having a stay-at-home spouse vs. having a spouse in a high-paying job?</p><p>What about the number of kids one has?</p><p>Number of dogs? Cats?</p><p><em>What's included in "Cost of Living"? </em></p><p><em>More importantly, who defines it? Should it be the employee who is actually incurring these costs? Or should it be the employer who is paying the employee?</em></p><figure><blockquote><div lang="en" dir="ltr"><p>If you‚Äôre going to pay people differentially based on where they choose to live, why not pay them differentially based on whether they have kids, too?</p><p>These little monsters are expensive, after all. I‚Äôve got costs!</p></div>‚Äî Blair Reeves (@BlairReeves) <a href="https://twitter.com/BlairReeves/status/1263527961371738112?ref_src=twsrc%5Etfw">May 21, 2020</a></blockquote>

</figure><h3 id="other-tough-questions">Other tough questions</h3><ul><li><em>Who dictates the proportion in which I should be spending my money?</em></li></ul><p>Electronic devices from big brands are priced the same regardless of whether they are sold in the USA or Brazil. A Macbook would cost you the same every city of the world (except for the import duties that people outside the USA probably need to bear).</p><p>So, what if I choose to spend just 10% of my income on housing expenses and 30% surrounding myself with the latest tech gadgets from the world? And maybe another 40% investing in NASDAQ stocks?</p><p>It sure doesn't make sense to have a 100% of my salary reduced based on just 10% of my expenses.</p><ul><li><em>Where does the leadership in the company live? </em></li></ul><p>Leadership in companies that offer COL based compensation, often live and work in high-wage markets but they might feel differently if they were subject to lower pay for the same work.</p><ul><li><em>How do you account for the costs of reduced opportunities that employees, who don't live in primary talent markets, incur?</em></li></ul><p>People who don't live in the tech hubs of the world might have to bear costs in terms of reduced networking advantages and lesser alternate job opportunities.</p><hr><p>Unless a company is ready to give satisfactory answers to all such questions, it should default to equal pay for equal work.</p><figure><blockquote><div lang="en" dir="ltr"><p>Where you live is a consumption choice. We all make different choices based on what we like, and those are okay!</p><p>Just don‚Äôt penalize my compensation for your choices. Give me that bread! I‚Äôve got a mortgage and a dog</p></div>‚Äî Blair Reeves (@BlairReeves) <a href="https://twitter.com/BlairReeves/status/1263285240098951168?ref_src=twsrc%5Etfw">May 21, 2020</a></blockquote>

</figure><p><em>People doing the same jobs and providing the same value should be paid the same.</em></p><p>It is simple. It is fair.</p><p><strong>A COL employer</strong>: <em>"But it's unreal!"</em></p><p>Actually, no. A lot of remote companies are doing this already:</p><figure><blockquote><p lang="en" dir="ltr">Adding <a href="https://twitter.com/podia?ref_src=twsrc%5Etfw">@podia</a>, <a href="https://twitter.com/ConvertKit?ref_src=twsrc%5Etfw">@ConvertKit</a>, <a href="https://twitter.com/MeetEdgar?ref_src=twsrc%5Etfw">@MeetEdgar</a>, <a href="https://twitter.com/WhimsicalPowers?ref_src=twsrc%5Etfw">@WhimsicalPowers</a>, <a href="https://twitter.com/boundless_HQ?ref_src=twsrc%5Etfw">@boundless_HQ</a>, <a href="https://twitter.com/honeycombio?ref_src=twsrc%5Etfw">@honeycombio</a>, <a href="https://twitter.com/upstream_tech?ref_src=twsrc%5Etfw">@upstream_tech</a>, <a href="https://twitter.com/timeular?ref_src=twsrc%5Etfw">@timeular</a> to this list. Pumped to see that <a href="https://twitter.com/automattic?ref_src=twsrc%5Etfw">@automattic</a> and <a href="https://twitter.com/photomatt?ref_src=twsrc%5Etfw">@photomatt</a> are doing equal pay for equal work as well, which I wasn't aware of! üôå <a href="https://t.co/YKW3SekIZU">https://t.co/YKW3SekIZU</a></p>‚Äî Nick Francis (@nickfrancis) <a href="https://twitter.com/nickfrancis/status/1262837601762869248?ref_src=twsrc%5Etfw">May 19, 2020</a></blockquote>

</figure><h2 id="tough-questions-against-equal-pay-for-equal-work-and-my-answers-to-them">Tough questions against "equal pay for equal work" and my answers to them</h2><p>There are some really tough questions on the other side as well. I have been thinking about them for a while now. I'll take a stab at composing a reply to them.</p><h3 id="isn-t-it-against-market-economics-to-pay-people-living-in-different-cities-of-the-world-the-same-money">"Isn't it against market economics to pay people, living in different cities of the world, the same money?"</h3><p>No, it is not. </p><p>On the contrary, I believe that equal pay for equal work is the default market state. </p><p>I say this because we already see it in a lot of places -</p><ul><li>Freelancers have been living this way for a long time now. Create a name for yourself and work for clients in the US from a beach in Bali.</li><li>When you start a company, your customers pay you money regardless of where you live (unless your product's value is market-specific).</li><li>Writing a book, teaching an online course, paid newsletters and other forms of passive income don't earn the creator a subsidised income based on the city that she lives in. </li></ul><p>This is because we, as consumers, pay for the value that we get ‚Ä¶</p></div></section></div></main></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.nityesh.com/equal-pay-for-equal-work-at-a-remote-company/">https://www.nityesh.com/equal-pay-for-equal-work-at-a-remote-company/</a></em></p>]]>
            </description>
            <link>https://www.nityesh.com/equal-pay-for-equal-work-at-a-remote-company/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25134220</guid>
            <pubDate>Wed, 18 Nov 2020 08:03:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[40 millisecond bug]]>
            </title>
            <description>
<![CDATA[
Score 118 | Comments 25 (<a href="https://news.ycombinator.com/item?id=25133127">thread link</a>) | @sshroot
<br/>
November 17, 2020 | https://vorner.github.io/2020/11/06/40-ms-bug.html | <a href="https://web.archive.org/web/*/https://vorner.github.io/2020/11/06/40-ms-bug.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main_content_wrap">
      <section id="main_content">
        

<p>This is a small story about tracking down a production bug in a Rust
application. I don‚Äôt know if there‚Äôs any take away from this one for the reader,
but it felt interesting so I‚Äôm sharing it.</p>

<h2 id="a-bit-of-backstory">A bit of backstory</h2>

<p>In Avast, we have a Rust application called <a href="https://vorner.github.io/2019/05/19/rust-in-avast.html">urlite</a>. It serves as a backend to
some other applications, provides them a HTTP API. It‚Äôs in Rust because it is
latency critical. Latencies of most requests are under a millisecond.</p>

<p>It was written with <a href="https://docs.rs/tokio/0.1.*"><code>tokio-0.1</code></a> and <a href="https://docs.rs/hyper/0.12.*"><code>hyper-0.12</code></a> to deal with the HTTP. We
were quite late to update to newer versions, in part because it worked fine and
the amount of <code>async</code> code was single quite short function, so we didn‚Äôt have
much motivation. And in part because we use the <a href="https://crates.io/crates/spirit"><code>spirit</code></a> libraries for
configuration. It‚Äôs a library to take configuration and set up the internal
state of the program for it ‚Äí configuration contains the ports to listen to,
etc, and it manages spawning the HTTP server objects inside the program and can
even migrate from one set of ports to other at runtime.</p>

<p>But migrating <a href="https://crates.io/crates/spirit"><code>spirit</code></a> to newer <code>tokio</code> and <code>hyper</code> was a big task (because
the API surface is quite large, the library does a bit unusual things compared
to all the usual applications and the change between old and new <code>tokio</code> was
quite large).</p>

<p>Anyway, eventually I got permission to work on the migration of <a href="https://crates.io/crates/spirit"><code>spirit</code></a> as
part of my job. It took about a week to migrate both <a href="https://crates.io/crates/spirit"><code>spirit</code></a> and <a href="https://vorner.github.io/2019/05/19/rust-in-avast.html">urlite</a>. It
went through review, went through the automatic tests and we put it to the
staging environment for a while, watching the logs and graphs. Everything seemed
fine, so after few days of everything looking fine, we pushed the button and put
it to production.</p>

<h2 id="the-increased-latencies">The increased latencies</h2>

<p>As it goes in these kinds of stories, by now you‚Äôre expecting to see what went
wrong.</p>

<p>The thing is, our own metrics and graphs were fine. But the latency on the
downstream service querying us increased by 40ms. The deployment got reverted,
and we started to dig into where these latencies come from.</p>

<h2 id="it-was-acting-really-weird">It was acting really weird</h2>

<p>There were several very suspicious things about that.</p>

<ul>
  <li>Our own ‚Äûinternal‚Äú latencies stayed the same. Our CPU usage also stayed the
same.</li>
  <li>The latency graph on the downstream side was flat 40ms <em>constant</em>.</li>
</ul>

<p>Now, if we introduced some performance regression in the query handling, we
would expect our CPU consumption to rise. We would also expect the latency graph
to be a bit spiky, not completely flat 40ms constant. It almost looked like
there was a 40ms <code>sleep</code> somewhere. But why would anyone put a 40ms sleep
anywhere?</p>

<p>I‚Äôve looked through documentation and didn‚Äôt see anything obvious. I‚Äôve tried
searching both our code and code of the dependencies for <code>40</code>, asked on Slack if
that <code>40ms</code> value was familiar to anyone. Nothing.</p>

<p>The working theory we started with was that there could be some kind of back-off
sleep on some kind of failure. Maybe <code>hyper</code> would be closing inactive
connections in the new version, forcing the application to reconnect (the graph
was for 99th percentile, so if we happened to close each 100th connection and
reconnection took this long‚Ä¶) and maybe try IPv6 first and we would be listening
on IPv4 only or‚Ä¶ (in other words, we didn‚Äôt have a clear clue).</p>

<h2 id="the-benchmarks">The benchmarks</h2>

<p>My colleague started to investigate in a more thorough way than just throwing
ideas around on Slack. He run a <code>wrk</code> benchmark against the service. On his
machine, the latencies were fine. So he commandeered one of the stage nodes to
play with it and run the benchmark there. And every request had 40ms latency on
that machine. The previous version of <code>urlite</code> was fine, with under one
millisecond.</p>

<p><em>Something</em> was probably sleeping somewhere on the production servers, but not
on the development machine. There probably was some difference in the OS
settings, but definitely difference in the kernel version. The servers are
running some well-tried Linux distribution, so they have a lot older version,
while a developer is likely to run something much more on the edge.</p>

<h2 id="configuration-options">Configuration options</h2>

<p>The selling point of <a href="https://crates.io/crates/spirit"><code>spirit</code></a> is that most of the thing one can set in the
builders of various libraries and types now can be just put into a config file
without any recompilation. If we did configuration by hand, we would expose only
the things we thought would be useful, but with spirit, there‚Äôs everything. So,
naturally, tweaking some of the config knobs was the next step (because it was
easy to do).</p>

<p>It was discovered that turning the <code>http1-writev</code> option <em>off</em>, which
corresponds to
<a href="https://docs.rs/hyper/0.13.8/hyper/server/struct.Builder.html#method.http1_writev">this method</a>
in <code>hyper</code>, made the latencies go away.</p>

<p>We now had a solution, but I wasn‚Äôt happy about not understanding <em>why</em> that
helped, so I went to dig the rabbit hole and find the root cause. Turns out
there were several little things in just the constellation to make the problem
manifest.</p>

<h2 id="overriding-the-defaults-of-http1_writev">Overriding the defaults of <code>http1_writev</code></h2>

<p>The method controls the strategy in which way data are pushed into the socket.
With vectored writes enabled, it sends two separate buffers (one with headers,
the other with the body if it‚Äôs small enough) through a single <a href="https://linux.die.net/man/2/writev"><code>writev</code></a>
syscall.  If they are disabled, <code>hyper</code> copies all the bytes into a single
buffer and sends that as a whole.</p>

<p>It turns out that the method takes a <code>bool</code>, but there are actually 3 states.
The third (auto) is signalled by <em>not</em> calling the method and <code>spirit-hyper</code> was
calling it always, with the default to turn the <a href="https://linux.die.net/man/2/writev"><code>writev</code></a> on. I don‚Äôt know if
leaving it on auto would make the bug go away, but I‚Äôve fixed the problem in the
library anyway.</p>

<h2 id="splitting-vectored-writes">Splitting vectored writes</h2>

<p>Spirit wants to support a bit of configuration on top of what the underlying
libraries provide on their own. One of such things is limiting the number of
concurrently accepted connections on a single listening socket. Users don‚Äôt have
to take advantage of that (the types for the configuration can be composed
together to either contain that bit or not and the administrator may leave the
values for the limits unset in the configuration and then they won‚Äôt be
enforced).</p>

<p>Anyway, in case the support for the limits is opted in through using the type
with the configuration fields, the connections themselves are wrapped in a
<a href="https://docs.rs/spirit-tokio/0.7.*/spirit_tokio/net/limits/struct.Tracked.html"><code>Tracked</code></a>
type. The type tries to be mostly transparent for use and can be used inside
<code>hyper</code> (which is what the default configuration type alias in <code>spirit-hyper</code>
does), but tracks how many connections there are, to not accept more if it runs
out of the limit.</p>

<p>When implementing the bunch of traits for the wrapper, I‚Äôve overlooked the
<a href="https://docs.rs/tokio/0.2.*/tokio/io/trait.AsyncWrite.html#method.poll_write_buf"><code>AsyncWrite::poll_write_buff</code></a>.
It is a provided method, which means it has a default implementation. It is the
one that abstracts the OS-level <code>writev</code>, it can write multiple buffers (the
<a href="https://docs.rs/bytes/0.5.*/bytes/buf/trait.Buf.html"><code>Buf</code></a> represents a
segmented buffer).</p>

<p>The default implementation simply delegates to multiple calls to the ordinary
write. Therefore, this omission combined with the default of enabling vectored
writes results in calling into the kernel twice, each time with a small buffer,
instead of once with two small buffers or once with a big buffer.</p>

<p>That was definitely something to get fixed, because if nothing else, syscalls
are expensive and calling more of them is not great. But I‚Äôve finally felt like
I‚Äôm on the right path, because:</p>

<h2 id="nagles-algorithm">Nagle‚Äôs algorithm</h2>

<p>You probably know that TCP stream is built from packets going there and back.
Optimizing how to split the stream into the packets and when to send them is a
hard problem and the research in that area is still ongoing, because there are
many conflicting requirements. One wants to deliver the data with low latency,
utilize the whole bandwidth, but not overflow the capacity of the link (in which
case the latencies would go up or packets would get lost and would have to be
retransmitted), leave some bandwidth to other connections, etc.</p>

<p>The <a href="https://en.wikipedia.org/wiki/Nagle%27s_algorithm">Nagle‚Äôs algorithm</a> is
one of the older tricks up in TCP‚Äôs sleeve. The network doesn‚Äôt like small
packets.  It is better to send as large packets as the link allows, because each
packet has certain overhead ‚Äí the headers that take some space, but also routers
spend computation power mostly based on number of packets and less on their
size. If you start sending a lot of tiny packets, the performance will suffer.
While the links are limited by the number of bytes that can pass through them,
routers are more limited by the number of packets. If a router declares to be
able to handle a gigabit connection, it actually means a gigabit <em>if you use
full-sized packets</em>, but will get to few megabits if you split the data into
tiny packets.</p>

<p>So it would be better to wait until the send buffer contains a packetfull of
data before sending anything. But we can‚Äôt do that, because we don‚Äôt <em>know</em>
there‚Äôll ever be a full packet of data, or generating more data might wait for
the other side to answer. We would never send anything and wait forever and the
Internet would not work.</p>

<p>Instead, the algorithm is willing to send <em>one</em> undersized packet and then it
waits for an <code>ACK</code> from the other side until sending another undersized one. If
it gets a packetfull of data to send in the meantime, that‚Äôs great and it sends
it (it won‚Äôt get better by waiting longer), but it won‚Äôt ever have two
undersized ones somewhere in flight, therefore won‚Äôt kill the network‚Äôs
performance by them.</p>

<p>This works, it‚Äôll make progress eventually because once the <code>ACK</code> comes and
all the data that accumulated until then is sent.</p>

<p>But it also slows things down. Like in our case. What happens if we do it using
single syscall, the whole HTTP response forms a single undersized packet (we
have really small answers) and gets sent, no matter if it‚Äôs submitted to the
kernel by one big or two small buffers.</p>

<p>On the other hand, if we split the submission into two syscalls, this is what
happens:</p>

<ul>
  <li>We write the first part (headers). The kernel sends them out as an undersized
packet.</li>
  <li>We write the second part (the body). But the kernel shelves them into the send
buffer and waits for sending them until it sees the <code>ACK</code>, because there‚Äôs one
undersized packet ‚Ä¶</li></ul></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://vorner.github.io/2020/11/06/40-ms-bug.html">https://vorner.github.io/2020/11/06/40-ms-bug.html</a></em></p>]]>
            </description>
            <link>https://vorner.github.io/2020/11/06/40-ms-bug.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25133127</guid>
            <pubDate>Wed, 18 Nov 2020 04:09:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Math of Password Hashing Algorithms and Entropy (2019)]]>
            </title>
            <description>
<![CDATA[
Score 77 | Comments 10 (<a href="https://news.ycombinator.com/item?id=25133061">thread link</a>) | @mooreds
<br/>
November 17, 2020 | https://fusionauth.io/learn/expert-advice/security/math-of-password-hashing-algorithms-entropy/ | <a href="https://web.archive.org/web/*/https://fusionauth.io/learn/expert-advice/security/math-of-password-hashing-algorithms-entropy/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            
              <p>Here‚Äôs the reality, billions of credentials have been leaked or stolen and are now easily downloaded online by anyone. Many of these databases of identities include passwords in plain text, while others are one-way hashed. One-way hashing is better (we‚Äôll get to why in a second), but it is only as secure as is mathematically feasible. Let‚Äôs take a look at one-way hashing algorithms and how computers handle them.</p>

<h2 id="hashing">Hashing</h2>

<p>A hash by definition is a function that can map data of an arbitrary size to data of a fixed size. SHA2 is a hashing algorithm that uses various bit-wise operations on any number of bytes to produce a fixed sized hash. For example, the SHA-256 algorithm produces a 256 bit result. The algorithm was designed specifically so that going from a hash back to the original bytes is infeasible. Developers use an SHA2 hash so that instead of storing a plain text password, they instead only store the hash. When a user is authenticated, the plain text password they type into the login form is hashed, and because the algorithm will always produce the same hash result given the same input, comparing this hash to the hash in the database tells us the password is correct.</p>

<h2 id="cracking-passwords">Cracking Passwords</h2>

<p>While one-way hashing means we aren‚Äôt storing plain text passwords, it is still possible to determine the original plain text password from a hash. Next, we‚Äôll outline the two most common approaches of reversing a hash.</p>

<h3 id="lookup-tables">Lookup Tables</h3>

<p>The first is called a lookup table, or sometimes referred to as a rainbow table. This method builds a massive lookup table that maps hashes to plain text passwords. The table is built by simply hashing every possible password combination and storing it in some type of database or data-structure that allows for quick lookups.</p>

<p>Here‚Äôs an example of a lookup table for SHA2 hashed passwords:</p>

<div><div><pre><code><span>sha2_hash                                                          password</span>
<span>-----------------------------------------------------------------------------------------</span>
<span>e150a1ec81e8e93e1eae2c3a77e66ec6dbd6a3b460f89c1d08aecf422ee401a0   </span><span>123456</span>
<span>e5d316bfd85b606e728017e9b6532e400f5f03e49a61bc9ef59ec2233e41015a   broncosfan123</span>
<span>561acac680e997e22634a224df2c0931cf80b9f7c60102a4e12e059f87558232   Letmein</span>
<span>bdc511ea9b88c90b75c3ebeeb990e4e7c813ee0d5716ab0431aa94e9d2b018d6   newenglandclamchowder</span>
<span>9515e65f46cb737cd8c191db2fd80bbd05686e5992b241e8ad7727510b7142e6   opensesame</span>
<span>6b3a55e0261b0304143f805a24924d0c1c44524821305f31d9277843b8a10f4e   password</span>
<span>c194ead20ad91d30c927a34e8c800cb9a13a7e445a3ffc77fed14176edc3c08f   xboxjunkie42</span>
</code></pre></div></div>

<p>Using a lookup table, all the attacker needs to know is the SHA2 hash of the password and they can see if it exists in the table. For example, let‚Äôs assume for a moment that Netflix stores your password using an SHA2 hash. If Netflix is breached, their user database is likely now available to anyone with a good internet connection and a torrent client. Even a mediocre hacker now only needs to lookup the SHA2 hash associated with your Netflix account to see if it exists in their lookup table. This will reveal nearly instantly what your plain text password is for Netflix. Now, this hacker can log in to your Netflix account and binge watch all four seasons of Fuller House (‚Äúhow rude!‚Äù). And he can also try this password on Hulu and HBO Go to see if you used the same email address and password for those accounts as well.</p>

<p><img src="https://fusionauth.io/assets/img/blogs/salt.png" alt="Salt"></p>

<p>The best way to protect against this type of attack is to use what is called a <strong>salt</strong>. A salt is simply a bunch of random characters that you prepend to the password before it is hashed. Each password should have a different salt, which means that a lookup table is unlikely to have an entry for the combination of the salt and the password. This makes salts an ideal defense against lookup tables.</p>

<p>Here‚Äôs an example of a salt and the resulting combination of the password and the salt which is then hashed:</p>

<div><div><pre><code><span>// Bad, no salt. Very bland.</span>
<span>sha2</span><span>(</span><span>"password"</span><span>)</span> <span>// 6b3a55e0261b0304143f805a24924d0c1c44524821305f31d9277843b8a10f4e</span>

<span>// Better, add a salt.</span>
<span>salt</span> <span>=</span> <span>";L'-2!;+=#/5B)40/o-okOw8//3a"</span>
<span>toHash</span> <span>=</span> <span>";L'-2!;+=#/5B)40/o-okOw8//3apassword"</span>
<span>sha2</span><span>(</span><span>toHash</span><span>)</span> <span>// f534e6bf84a638112e07e69861927ab624c0217c0655e4d3be07659bcf6c1c07</span>
</code></pre></div></div>

<p>Now that we have added the salt, the ‚Äúpassword‚Äù that we actually generated the hash from was the String <code>;L'-2!;+=#/5B)40/o-okOw8//3apassword</code>. This String is long, complex and contains a lot of random characters. Therefore, it is nearly impossible that the hacker that created the lookup table would have generated the hash for the String <code>;L'-2!;+=#/5B)40/o-okOw8//3apassword</code>.</p>

<h3 id="brute-force">Brute Force</h3>

<p><img src="https://fusionauth.io/assets/img/blogs/hulk.png" alt="Brute Force"></p>

<p>The second method that attackers use to crack passwords is called brute force cracking. This means that the attacker writes a computer program that can generate all possible combinations of characters that can be used for a password and then computes the hash for each combination. This program can also take a salt if the password was hashed with a salt. The attacker then runs the program until it generates a hash that is the same as the hash from the database. Here‚Äôs a simple Java program for cracking passwords. We left out some detail to keep the code short (such as all the possible password characters), but you get the idea.</p>



<div><div><pre><code><span>import</span> <span>org.apache.commons.codec.digest.DigestUtils</span><span>;</span>

<span>public</span> <span>class</span> <span>PasswordCrack</span> <span>{</span>
  <span>public</span> <span>static</span> <span>final</span> <span>char</span><span>[]</span> <span>PASSWORD_CHARACTERS</span> <span>=</span> <span>new</span> <span>char</span><span>[]</span> <span>{</span><span>'a'</span><span>,</span> <span>'b'</span><span>,</span> <span>'c'</span><span>,</span> <span>'d'</span><span>};</span>

  <span>public</span> <span>static</span> <span>void</span> <span>main</span><span>(</span><span>String</span><span>...</span> <span>args</span><span>)</span> <span>{</span>
    <span>String</span> <span>salt</span> <span>=</span> <span>args</span><span>[</span><span>0</span><span>];</span>
    <span>String</span> <span>hashFromDatabase</span> <span>=</span> <span>args</span><span>[</span><span>1</span><span>].</span><span>toUpperCase</span><span>();</span>

    <span>for</span> <span>(</span><span>int</span> <span>i</span> <span>=</span> <span>6</span><span>;</span> <span>i</span> <span>&lt;=</span> <span>8</span><span>;</span> <span>i</span><span>++)</span> <span>{</span>
      <span>char</span><span>[]</span> <span>ca</span> <span>=</span> <span>new</span> <span>char</span><span>[</span><span>i</span><span>];</span>

      <span>fillArrayHashAndCheck</span><span>(</span><span>ca</span><span>,</span> <span>0</span><span>,</span> <span>salt</span><span>,</span> <span>hashFromDatabase</span><span>);</span>
    <span>}</span>
  <span>}</span>

  <span>private</span> <span>static</span> <span>void</span> <span>fillArrayHashAndCheck</span><span>(</span><span>char</span><span>[]</span> <span>ca</span><span>,</span> <span>int</span> <span>index</span><span>,</span> <span>String</span> <span>salt</span><span>,</span> <span>String</span> <span>hashFromDatabase</span><span>)</span> <span>{</span>
    <span>for</span> <span>(</span><span>int</span> <span>i</span> <span>=</span> <span>0</span><span>;</span> <span>i</span> <span>&lt;</span> <span>PASSWORD_CHARACTERS</span><span>.</span><span>length</span><span>;</span> <span>i</span><span>++)</span> <span>{</span>
      <span>ca</span><span>[</span><span>index</span><span>]</span> <span>=</span> <span>PASSWORD_CHARACTERS</span><span>[</span><span>i</span><span>];</span>

      <span>if</span> <span>(</span><span>index</span> <span>&lt;</span> <span>ca</span><span>.</span><span>length</span> <span>-</span> <span>1</span><span>)</span> <span>{</span>
        <span>fillArrayHashAndCheck</span><span>(</span><span>ca</span><span>,</span> <span>index</span> <span>+</span> <span>1</span><span>,</span> <span>salt</span><span>,</span> <span>hashFromDatabase</span><span>);</span>
      <span>}</span> <span>else</span> <span>{</span>
        <span>String</span> <span>password</span> <span>=</span> <span>salt</span> <span>+</span> <span>new</span> <span>String</span><span>(</span><span>ca</span><span>);</span>
        <span>String</span> <span>sha2Hex</span> <span>=</span> <span>DigestUtils</span><span>.</span><span>sha2Hex</span><span>(</span><span>password</span><span>).</span><span>toUpperCase</span><span>();</span>
        <span>if</span> <span>(</span><span>sha2Hex</span><span>.</span><span>equals</span><span>(</span><span>hashFromDatabase</span><span>))</span> <span>{</span>
          <span>System</span><span>.</span><span>out</span><span>.</span><span>println</span><span>(</span><span>"plain text password is ["</span> <span>+</span> <span>password</span> <span>+</span> <span>"]"</span><span>);</span>
          <span>System</span><span>.</span><span>exit</span><span>(</span><span>0</span><span>);</span>
        <span>}</span>
      <span>}</span>
    <span>}</span>
  <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>This program will generate all the possible passwords with lengths between 6 and 8 characters and then hash each one until it finds a match. This type of brute-force hacking takes time because of the number of possible combinations.</p>

<h2 id="password-complexity-vs-computational-power">Password complexity vs. computational power</h2>

<p>Let‚Äôs bust out our TI-85 calculators and see if we can figure out how long this program will take to run. For this example we will assume the passwords can only contain ASCII characters (uppercase, lowercase, digits, punctuation). This set is roughly 100 characters (this is rounded up to make the math easier to read). If we know that there are at least 6 characters and at most 8 characters in a password, then all the possible combinations can be represented by this expression:</p>

<div><div><pre><code>possiblePasswords = 100^8 + 100^7 + 100^6
</code></pre></div></div>

<p>The result of this expression is equal to <code>10,101,000,000,000,000</code>. This is quite a large number, North of 10 quadrillion to be a little more precise, but what does it actually mean when it comes to our cracking program? This depends on the speed of the computer the cracking program is running on and how long it takes the computer to execute the SHA2 algorithm. The algorithm is the key component here because the rest of the program is extremely fast at creating the passwords.</p>

<p>Here‚Äôs where things get dicey. If you run a quick Google search for <a href="http://lmgtfy.com/?q=fastest+bitcoin+rig">‚Äúfastest bitcoin rig‚Äù</a> you‚Äôll see that these machines are rated in terms of the number of hashes they can perform per second. The bigger ones can be rated as high as <code>44 TH/s</code>. That means it can generate 44 tera-hashes per second or <code>44,000,000,000,000</code>.</p>

<p>Now, if we divide the total number of passwords by the number of hashes we can generate per second, we are left with the total time it takes a Bitcoin rig to generate the hashes for all possible passwords. In our example above, this equates to:</p>

<div><div><pre><code>bitcoinRig = 4.4e13
possiblePasswords = 100^8 + 100^7 + 100^6 = 1.0101e16

numberOfSeconds = possiblePasswords / bitcoinRig = ~230
numberOfMinutes = numberOfSeconds / 60 = ~4
</code></pre></div></div>

<p>This means that using this example Bitcoin rig, we could generate all the hashes for a password between 6 and 8 characters in length in roughly 4 minutes. Feeling nervous yet? Let‚Äôs add one additional character and see long it takes to hash all possible passwords between 6 and 9 characters.</p>

<div><div><pre><code>bitcoinRig = 4.4e13
possiblePasswords = 100^9 + 100^8 + 100^7 + 100^6 = 1.010101E18

numberOfSeconds = possiblePasswords / bitcoinRig = 22,956
numberOfMinutes = numberOfSeconds / 60 = ~383
numberOfHours = numberOfMinutes / 60 = ~6
</code></pre></div></div>

<p>By adding one additional character to the potential length of the password we increased the total compute time from 4 minutes to 6 hours. This is nearing a 100x increase in computational time to use the brute force strategy. You probably can see where this is going. To defeat the brute force strategy, you simply need to make it improbable to calculate all possible password combinations.</p>

<p>Let‚Äôs get crazy and make a jump to 16 characters:</p>

<div><div><pre><code>bitcoinRig = 4.4e13
possiblePasswords = 100^16 + 100^15 ... 100^7 + 100^6 = 1e32

numberOfSeconds = possiblePasswords / bitcoinRig = 2.27e18
numberOfMinutes = numberOfSeconds / 60 = 3.78e16
numberOfHours = numberOfMinutes / 60 = 630,000,000,000,000 or 630 trillion
numberOfDays = numberOfHours / 24 = 26,250,000,000,000 or 26.25 trillion days
numberOfYears = numberOfDays / 365 = 71,917,808,219 or 71.9 billion years
</code></pre></div></div>

<p>To boil down our results, if we take these expressions and simplify them, we can build an equation that solves for any length password.</p>

<div><div><pre><code>numberOfSeconds = 100^lengthOfPassword / computeSpeed
</code></pre></div></div>

<p>This equation shows that as the password length increases, ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://fusionauth.io/learn/expert-advice/security/math-of-password-hashing-algorithms-entropy/">https://fusionauth.io/learn/expert-advice/security/math-of-password-hashing-algorithms-entropy/</a></em></p>]]>
            </description>
            <link>https://fusionauth.io/learn/expert-advice/security/math-of-password-hashing-algorithms-entropy/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25133061</guid>
            <pubDate>Wed, 18 Nov 2020 04:00:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Write Code Like You Write a Recipe]]>
            </title>
            <description>
<![CDATA[
Score 106 | Comments 84 (<a href="https://news.ycombinator.com/item?id=25133041">thread link</a>) | @ahungry
<br/>
November 17, 2020 | https://ahungry.com/blog/2020-11-17-Write-Code-Like-You-Write-a-Recipe.html | <a href="https://web.archive.org/web/*/https://ahungry.com/blog/2020-11-17-Write-Code-Like-You-Write-a-Recipe.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="text-orgdb8398b">
<p>
As it tends to do, time continues to move on.  The project and code in
it eventually becomes legacy code (aka, someone else's problem to
maintain).
</p>

<p>
One day, the business drudges up that old automated cookie creation
idea and requests that it handles a new task - "instead of just cooking
peanut butter cookies, it'd be great if the cookie system could handle
oatmeal raisin as well!".
</p>

<p>
Hah!  You remember that old system, but you're onto newer and better
things.  This is a perfect task for the intern to sink their teeth
into - afterall, it's legacy and not high profile, it's been stable,
and it was so simple to implement the first time around.
</p>

<p>
The new set of requirements/recipe the intern works off of looks very
similar to the initial ones:
</p>

<ul>
<li>Step 1: Preheat oven to 325F, grease cookie sheet</li>
<li>Step 2: In bowl, stir oats, pumpkin puree and sugar until smooth.</li>
<li>Step 3: Beat in one egg white, then stir in baking soda, salt, and cinnamon.</li>
<li>Step 4: Roll dough into 1 inch balls and place 2 inches apart on the sheet.</li>
<li>Step 5: Bake for 8 minutes, cool for 5, enjoy!</li>
</ul>

<p>
He eagerly begins to expand the original code to handle the new case:
</p>

<div>
<pre><span>function</span> <span>makeCookies</span> <span>(</span><span>type</span> = <span>'peanut-butter'</span><span>)</span> <span>{</span>
  <span>if</span> <span>(</span>type === <span>'peanut-butter'</span><span>)</span> <span>{</span>
    oven.setTemperature<span>(</span>350<span>)</span>
  <span>}</span>

  <span>if</span> <span>(</span>type === <span>'oatmeal-raisin'</span><span>)</span> <span>{</span>
    oven.setTemperature<span>(</span>325<span>)</span>
  <span>}</span>

  sheet.grease<span>()</span>

  <span>if</span> <span>(</span>type === <span>'peanut-butter'</span><span>)</span> <span>{</span>
    bowl.add<span>(</span>peanutButter<span>)</span>
    bowl.add<span>(</span>sugar<span>)</span>
  <span>}</span>

  <span>if</span> <span>(</span>type === <span>'oatmeal-raisin'</span><span>)</span> <span>{</span>
    bowl.add<span>(</span>oats<span>)</span>
    bowl.add<span>(</span>pumpkinPuree<span>)</span>
    bowl.add<span>(</span>sugar<span>)</span>
  <span>}</span>

  bowl.stir<span>()</span>

  <span>if</span> <span>(</span>type === <span>'peanut-butter'</span><span>)</span> <span>{</span>
    bowl.beat<span>(</span>egg<span>)</span>
    bowl.beat<span>(</span>egg<span>)</span>
    bowl.stirIn<span>(</span><span>[</span>bakingSoda, salt, vanilla<span>]</span><span>)</span>
  <span>}</span>

  <span>if</span> <span>(</span>type === <span>'oatmeal-raisin'</span><span>)</span> <span>{</span>
    bowl.beat<span>(</span>eggWhite<span>)</span>
    bowl.stirIn<span>(</span><span>[</span>bakingSoda, salt, cinnamon<span>]</span><span>)</span>
  <span>}</span>

  <span>const</span> <span>dough</span> = bowl.makeDough<span>()</span>
  sheet.add<span>(</span>dough.balls<span>()</span><span>)</span>
  oven.add<span>(</span>sheet<span>)</span>

  <span>if</span> <span>(</span>type === <span>'peanut-butter'</span><span>)</span> <span>{</span>
    oven.setTimer<span>(</span>10<span>)</span>
  <span>}</span>

  <span>if</span> <span>(</span>type === <span>'oatmeal-raisin'</span><span>)</span> <span>{</span>
    oven.setTimer<span>(</span>8<span>)</span>
  <span>}</span>

  <span>const</span> <span>cookies</span> = oven.remove<span>(</span>sheet<span>)</span>
  sheet.cool<span>(</span>5<span>)</span>

  <span>return</span> cookies
<span>}</span>
</pre>
</div>

<p>
The code comes in, the peer reviews pass it as it meets the
requirements and nothing is obviously wrong.  Still, it has become a
bit harder to understand and you're left with a nagging feeling.
</p>
</div></div>]]>
            </description>
            <link>https://ahungry.com/blog/2020-11-17-Write-Code-Like-You-Write-a-Recipe.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25133041</guid>
            <pubDate>Wed, 18 Nov 2020 03:56:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Run x86 Apps (including homebrew) in the Terminal on Apple Silicon]]>
            </title>
            <description>
<![CDATA[
Score 220 | Comments 134 (<a href="https://news.ycombinator.com/item?id=25132217">thread link</a>) | @JoshuaMulliken
<br/>
November 17, 2020 | https://www.notion.so/Run-x86-Apps-including-homebrew-in-the-Terminal-on-Apple-Silicon-8350b43d97de4ce690f283277e958602 | <a href="https://web.archive.org/web/*/https://www.notion.so/Run-x86-Apps-including-homebrew-in-the-Terminal-on-Apple-Silicon-8350b43d97de4ce690f283277e958602">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.notion.so/Run-x86-Apps-including-homebrew-in-the-Terminal-on-Apple-Silicon-8350b43d97de4ce690f283277e958602</link>
            <guid isPermaLink="false">hacker-news-small-sites-25132217</guid>
            <pubDate>Wed, 18 Nov 2020 01:41:41 GMT</pubDate>
        </item>
    </channel>
</rss>
