<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 50]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 50. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Wed, 30 Sep 2020 16:29:27 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-50.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Wed, 30 Sep 2020 16:29:27 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[OpenBSD on the Desktop (Part I)]]>
            </title>
            <description>
<![CDATA[
Score 61 | Comments 33 (<a href="https://news.ycombinator.com/item?id=24622788">thread link</a>) | @upofadown
<br/>
September 28, 2020 | https://paedubucher.ch/articles/2020-09-05-openbsd-on-the-desktop-part-i.html | <a href="https://web.archive.org/web/*/https://paedubucher.ch/articles/2020-09-05-openbsd-on-the-desktop-part-i.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Let's install OpenBSD on a Lenovo Thinkpad X270. I used this computer for my
computer science studies. It has both Arch Linux and Windows 10 installed as
dual boot. Now that I'm no longer required to run Windows, I can ditch the dual
boot and install an operating system of my choice.</p>

<p>First, I grab my work Thinkpad running Arch Linux and some USB dongle big enough
for the <a href="https://cdn.openbsd.org/pub/OpenBSD/6.7/amd64/miniroot67.fs">amd64 miniroot
image</a> (roughly
five megabytes, that is). This small image does not include the file sets, which
will be downloaded during installation instead. I also download the <a href="https://mirror.ungleich.ch/pub/OpenBSD/6.7/amd64/SHA256">SHA256
checksums</a> from the
Swiss mirror, and verify the downloaded image, before I copy it on my dongle:</p>
<pre><code>$ sha256sum -c --ignore-missing SHA256 
miniroot67.fs: OK
$ sudo dd if=miniroot67.fs of=/dev/sda bs=1M
</code></pre>

<p>The Thinkpad X270 is connected to my network through Ethernet. The WiFi firmware
usually needs to be installed separately, so only Ethernet will work out of the
box. The BIOS has UEFI activated. OpenBSD and UEFI has issues on older hardware
(at least on a 2014 Dell laptop I have), but let's try it on this laptop,
anyway.</p>
<p>I plug in the dongle prepared before, and start the computer. I interrupt
the regular boot with Enter and pick an alternative boot method by pressing F12.
Now I pick my USB dongle. After roughly a minute, the installer has been
started. Now I follow these steps:</p>
<ul>
<li>I choose the option <code>I</code> to install OpenBSD.</li>
<li>For the keyboard layout, I pick <code>sg</code>, for Swiss German.</li>
<li>As a hostname, I simply pick <code>x270</code>, because it's a Thinkpad X270, and I'm not
  very creative when it comes to naming things.</li>
<li>From the available network options (<code>iwm0</code>: WiFi, <code>em0</code>: Ethernet, and
  <code>vlan0</code>: Virtual LAN), I pick <code>em0</code>.</li>
<li>I try to get an IPv4 address over DHCP, which seems to work very quickly.</li>
<li>Next, I type in my very secret root password twice.</li>
<li>I do <em>not</em> start <code>sshd</code> by default, because I don't need to connect to this
  machine through SSH. It's supposed to be a workstation, not a server.</li>
<li>The X Window System should not be started by <code>xnodm(1)</code>, so I leave it to
  <code>no</code>.</li>
<li>Neither do I want to change the default to <code>com0</code>.</li>
<li>I set up my user <code>patrick</code> with my proper name <code>Patrick Bucher</code>, and a decent
  password.</li>
<li>The time zone has been detected properly as <code>Europe/Zurich</code>, which I just
  leave the way it is.</li>
<li>The installer detected two disks: <code>sd0</code> and <code>sd1</code>. Since <code>sd0</code> is the detected
  SSD in my laptop, the UEFI issue from my Dell laptop doesn't exist on this
  computer. I pick <code>sd0</code> for the root disk, since <code>sd1</code> is my USB dongle.</li>
<li>I choose to use the whole disk with a GPT partitioning schema, because it's
  2020.</li>
<li>An auto-allocated layout for <code>sd0</code> is presented. It looks decent to me, so I
  just go with that auto layout.</li>
<li>I don't want to initialize another disk, so I just press Enter (<code>done</code>).</li>
<li>Since the miniroot image does not come with the file sets, I pick <code>http</code> as
  the location for the sets.</li>
<li>I don't use a proxy, and use the mirror <code>mirrog.ungleich.ch</code> and the server
  directory <code>pub/OpenBSD/6.7/amd64</code> as proposed.</li>
<li>Next, I unselect the game sets by entering <code>-game*</code>. (I heard that they're not
  much fun to play.) I leave all the other sets activated, including the <code>x</code>
  sets, which will be required for the GUI later on.</li>
<li>After those sets are installed, I press Enter (<code>done</code>). Now the installer
  performs various tasks, after which I choose to <code>halt</code> the computer. This
  gives me time to remove the USB dongle.</li>
</ul>

<p>I now restart my laptop, and OpenBSD boots. This takes more time than booting
Arch Linux, which uses <code>systemd</code>, whereas OpenBSD uses <code>rc</code>, which performs the
startup tasks sequentially.</p>
<p>There's a message showing up that various firmware (<code>intel-firmware</code>,
<code>iwm-firmware</code>, <code>inteldrm-firmware</code>, <code>uvideo-firmware</code>, and <code>vmm-firmware</code>) has
been installed automatically. Very nice, indeed.</p>
<h2>WiFi Connection</h2>
<p>Now that the <code>iwm-firmware</code> has been installed, I can connect right away to my
WiFi network <code>frzbxpdb5</code>. I create a file called <code>/etc/hostname.iwm0</code>, wich
<code>hostname</code> being a literal string, and <code>iwm0</code> being the WiFi network card. The
connection to my WiFi network consists of a single line:</p>
<pre><code>dhcp nwid frzbxpdb5 wpakey [my-wpakey]
</code></pre>
<p>Whereas <code>frzbxpdb5</code> is my WiFi network's ESSID, and <code>[my-wpakey]</code> needs to be
replaced by the actual WPA key.</p>
<p>Then the networking can be restarted for that device:</p>
<pre><code># sh /etc/netstart iwm0
</code></pre>
<p>This script is kind enough to set the file permissions of <code>/etc/hostname.iwm0</code>
to <code>640</code>, and then connects to my WiFi network.</p>
<p>I unplug the Ethernet cable and <code>ping openbsd.org</code>, which works fine, even after
a restart.</p>

<p>My GUI on Unix-like systems is based on the Dynamic Window Manager (<code>dwm</code>) and a
couple of other tools, such as <code>dmenu</code>, <code>st</code>, <code>slstatus</code>, <code>slock</code>, all created and
maintained by the <a href="http://suckless.org/">Suckless</a> community.</p>
<p>This software doesn't come with configuration facilities, but needs to be
configured in the respective C header file <code>config.h</code>, and then re-compiled.
Even though OpenBSD offers <code>dwm</code> as a package, customizing and configuring that
window manager requires to build it from source.</p>
<h2>Building <code>dwm</code> and Friends</h2>
<p>First, I need to install <code>git</code> to fetch the source code:</p>
<pre><code># pkg_add git
</code></pre>
<p>Then I fetch the source code for <code>dwm</code>, <code>dmenu</code>, <code>st</code>, and <code>slstatus</code> from <a href="http://suckless.org/">Suckless</a>:</p>
<pre><code>$ git clone https://git.suckless.org/dwm
$ git clone https://git.suckless.org/dmenu
$ git clone https://git.suckless.org/st
$ git clone https://git.suckless.org/slstatus
</code></pre>
<h3>Building <code>dwm</code></h3>
<p>Next, I try to build <code>dwm</code>:</p>
<pre><code>$ cd dwm
$ make
</code></pre>
<p>This fails with an error message (<code>'ft2build.h' file not found</code>), which reminds
me of building <code>dwm</code> on FreeBSD roughly a month before. Since I can finde the
header file at another location:</p>
<pre><code># find / -type f -name ft2build.h
/usr/X11R6/include/freetype2/ft2build.h
</code></pre>
<p>I simply can modify the <code>config.mk</code> accordingly by changing</p>
<pre><code>FREETYPEINC = /usr/include/freetype2
</code></pre>
<p>to</p>
<pre><code>FREETYPEINC = $(X11INC}/freetype2
</code></pre>
<p>Actually, I only need to comment the above line, and uncomment the line below</p>
<pre><code># OpenBSD (uncomment)
</code></pre>
<p>The Suckless folks obviously are friendly towards OpenBSD, which is also
noticable in other places (more evidence to be shown further below).</p>
<p>The next compilation attempt succeeds:</p>
<pre><code>$ make
</code></pre>
<p>So let's install <code>dwm</code>, too:</p>
<pre><code># make install
</code></pre>
<p>By default, and as to be seen in <code>config.h</code>, the keyboard combination
<code>[Alt]+[Shift]+[Enter]</code> (deeply engraved into the muscle memories of many <code>dwm</code>
users) starts the <code>st</code> terminal. This will be built in a while. However, I
prefer to use the <em>Super</em> or <em>Windows</em> key instead of <code>Alt</code>, since the former
is of no use in OpenBSD, and the latter still comes in handy when working with
the emacs readline mode. Therefore, I change the <code>MODKEY</code> from</p>
<pre><code>#define MODKEY Mod1Mask
</code></pre>
<p>to</p>
<pre><code>#define MODKEY Mod4Mask
</code></pre>
<p>Then I rebuild and reinstall <code>dwm</code>:</p>
<pre><code># make install
</code></pre>
<h3>Building <code>st</code></h3>
<p>Let's switch over to the <code>st</code> source directory and just try to compile it:</p>
<pre><code>$ cd ../st
$ make
</code></pre>
<p>Here, we get a warning that the function <code>pledge</code> (an OpenBSD mitigation, which
is built into the <code>master</code> branch, but surrounded by an <code>ifdef</code> preprocessor
statement, so that it will only be compiled for OpenBSD) is imported implicitly.
Let's just ignore this warning for now.</p>
<p>What's worse, the compilation fails with the error message:</p>
<pre><code>ld: error: unable to find library -lrt
</code></pre>
<p>Here, the FAQ comes in handy, stating that</p>
<pre><code>If you want to compile st for OpenBSD you have to remove -lrt from
config.mk, ...
</code></pre>
<p>Having done so in <code>config.mk</code>, <code>st</code> compiles without any further issues, and,
thus, can be rebuilt and installed:</p>
<pre><code># make install
</code></pre>
<h3>Building <code>dmenu</code></h3>
<p>Even OpenBSD users with Suckless tools have to open another GUI application than
a terminal emulator once in a while. For this purpose, Suckless offers <code>dmenu</code>.
Let's switch over to it and compile it:</p>
<pre><code>$ cd ../dmenu
$ make
</code></pre>
<p>Again, we have the issue with <code>ft2build.h</code>, which can be resolved as above with
<code>dwm</code>: by using the proper path for <code>FREETYPEINC</code> in <code>config.mk</code>. Afterwards,
the build succeeds, and <code>dmenu</code> can be installed:</p>
<pre><code># make install
</code></pre>
<h3>Building <code>slstatus</code></h3>
<p><code>dwm</code> has a status bar on the top right, which can be used to show various
information. I used to write some shell commands in <code>.xinitrc</code> to compose such a
status line, and then set it by <code>xset -b</code> once every five seconds or so. This
approach generates a multitude of processes every couple of seconds.</p>
<p><code>slstatus</code> is a C programm that is capable of showing various kinds of more or
less useful information. Let's switch over to <code>slstatus</code> and see, what is
available in <code>config.def.h</code>:</p>
<pre><code>$ cd ../slstatus
$ less config.def.h
</code></pre>
<p>The comments section lists different functions (<code>battery_perc</code> for the battery
percentage, <code>datetime</code> for date and time information, <code>temp</code> for thermal
information, etc.). I usually display the CPU load, the battery percentage, the
memory usage, the current keyboard layout, and the current date and time.</p>
<p>Before configuring those, let's try to compile <code>slstatus</code>:</p>
<pre><code>$ make
</code></pre>
<p>This worked fine, so let's configure the information to be displayed in
<code>config.h</code>:</p>
<pre><code>static const struct arg args[] = {
    /* function    format    argument */
    { datetime,    "%s",     "%F %T" },
};
</code></pre>
<p>This renders the current date as follows:</p>
<pre><code>$ date +"%F %T"
2020-09-05 19:26:38
</code></pre>
<p>I also like to have the weekday included, but not the seconds, so I define a
different argument string:</p>
<pre><code>$ date +"%a %Y-%m-%d %H:%M"
Sat 2020-09-05 19:27
</code></pre>
<p>That's better, so let's use it in <code>config.h</code> (surrounded with some spaces in the
format string):</p>
<pre><code>static const struct arg args[] = {
    /* function    format    argument */
    { datetime,    " %s ",   "%a %Y-%m-%d %H:%M" },
};
</code></pre>
<p>The other settings I like to have do not require any arguments, at least not on
OpenBSD, so I only need to define a decent format string (with <code>|</code> as a
seperator) for those:</p>
<pre><code>static const struct arg args[] = {
    /* function    format           argument */
    { cpu_perc,     " cpu: %s%% |", NULL },
    { battery_perc, " bat: %s%% |", NULL },
    { ram_used,     " mem: %s |",   NULL },
    { keymap,       " %s |"         NULL },
    { datetime,     " %s ",         "%a %Y-%m-%d %H:%M" },
};
</code></pre>
<p>This actually compiles, so let's install it:</p>
<pre><code># make install
</code></pre>
<h2>Configuring X Startup</h2>
<p>Now that all software is compiled and installed, let's run X. To do so, a file
<code>.xinitrc</code> in the user's directory is …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://paedubucher.ch/articles/2020-09-05-openbsd-on-the-desktop-part-i.html">https://paedubucher.ch/articles/2020-09-05-openbsd-on-the-desktop-part-i.html</a></em></p>]]>
            </description>
            <link>https://paedubucher.ch/articles/2020-09-05-openbsd-on-the-desktop-part-i.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24622788</guid>
            <pubDate>Tue, 29 Sep 2020 00:23:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Field Guide to Genetic Programming (2008) [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 73 | Comments 33 (<a href="https://news.ycombinator.com/item?id=24620614">thread link</a>) | @optimalsolver
<br/>
September 28, 2020 | http://libros.metabiblioteca.org:8080/bitstream/001/184/4/978-1-4092-0073-4.pdf | <a href="https://web.archive.org/web/*/http://libros.metabiblioteca.org:8080/bitstream/001/184/4/978-1-4092-0073-4.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://libros.metabiblioteca.org:8080/bitstream/001/184/4/978-1-4092-0073-4.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-24620614</guid>
            <pubDate>Mon, 28 Sep 2020 19:53:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[All DuckDuckGo bang operators on one page]]>
            </title>
            <description>
<![CDATA[
Score 341 | Comments 116 (<a href="https://news.ycombinator.com/item?id=24618447">thread link</a>) | @MichaelMoser123
<br/>
September 28, 2020 | https://mosermichael.github.io/duckduckbang/html/main.html | <a href="https://web.archive.org/web/*/https://mosermichael.github.io/duckduckbang/html/main.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://mosermichael.github.io/duckduckbang/html/main.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24618447</guid>
            <pubDate>Mon, 28 Sep 2020 16:34:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Repurposing my old Chromebook to a low power home server]]>
            </title>
            <description>
<![CDATA[
Score 102 | Comments 78 (<a href="https://news.ycombinator.com/item?id=24617661">thread link</a>) | @boros2me
<br/>
September 28, 2020 | https://tamas.dev/repurpose/asus/c300/chromebook/home/server/chromeos/linux/docker/containers/2020/09/28/repurpose-chromebook-low-power-home-server.html | <a href="https://web.archive.org/web/*/https://tamas.dev/repurpose/asus/c300/chromebook/home/server/chromeos/linux/docker/containers/2020/09/28/repurpose-chromebook-low-power-home-server.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <h2 id="cant-sell-it-repurpose-it">Can’t sell it? Repurpose it!</h2>
<p>It was around 4 years ago when I bought a used, slightly beat up Asus C300 Chromebook from a friend of mine for £50. It served me well, I installed Linux on it and used it to work on some side projects while commuting. However as time passed by, I slowly forgot about it and it ended up in a box, being put away. I always thought it’s a shame to just let it sit there, but I don’t wanted to sell it for pennies and neither I wanted to throw it out as it is a perfectly fine machine for some lightweight tasks. I always had the idea to convert it to a home server (yes, with a 7W TDP Celeron N2830 CPU), but couldn’t really find a guide online that explains how to do it and neither I had the urge to do the experimenting myself, up until now.</p>

<h2 id="the-setup">The setup</h2>

<p><a href="https://tamas.dev/static/2020-09-28/chromebook.jpg" target="_blank"><img src="https://tamas.dev/static/2020-09-28/chromebook.jpg" alt="Chromebook home server"></a></p>

<ul>
  <li>1x Asus C300 Chromebook</li>
  <li>1x 128GB USB drive</li>
  <li>1x vertical stand</li>
  <li>1x GalliumOS installed</li>
</ul>

<p>In order to run a generic home server, I knew ChromeOS will just not cut it, it has to be proper Linux. The distribution didn’t really matter as I was going to use Docker anyways (and docker-compose) to run all server applications in containers. Fortunately I already had experience installing GalliumOS, therefore it became my distribution of choice. GalliumOS is an Ubuntu based distro, specifically created to be running on ChromeOS devices. I had to update the firmware on my Chromebook (it’s a very simple, less than 10 steps process) then install the OS using a tool called chrx (another 2-3 steps). Once done, I was able to dual boot my Chromebook and got a fully operational Linux laptop.</p>

<h2 id="software-configuration">Software configuration</h2>

<p>Once I had the OS up and running, I wanted to configure it so I can use it in closed-display (clamshell) mode as leaving it running with the display open wouldn’t be too practical. I knew MacBooks had these option, but I also knew you had to have an external display and keyboard/mouse connected to it in order to make it work. Luckily with Linux, the only limit is your imagination (and your coding/Google-ing skills)! Since GalliumOS is Ubuntu based as mentioned before, I was certain there are people using Ubuntu who want their system to stay awake even after they shut the display. And I was not wrong. Simply editing <code>logind.conf</code> and turning off all power savings and auto-sleep functions through the GUI did the job.</p>

<p>The next thing I had to install was sshd, but thanks to this Reddit post I found out it was as simple as <code>apt install</code>-ing it (again, it’s basically a skinny version of Ubuntu). Left all settings to default, then I SSH-ed from another box. All went smooth, I logged in from the remote machine, started <code>htop</code> and closed the lid to see that the configuration actually works! I left the connection open for about an hour, just to be 100% sure no sleep mode will kick in, then I considered the project a success. Was much smoother than I anticipated.</p>

<h2 id="servers-n-containers">Servers ‘n containers</h2>

<p>Although I would <strong><em>not recommend</em></strong> running any production workload on a <em>Chromebook</em> via <em>Wifi</em> connection, it’ll serve perfectly fine as my home cron/CI server, especially knowing it can run on batteries for 10 hours (allegedly), without having a UPS. Following the documentation I installed Docker with no problem whatsoever and docker-compose as well. I also plugged in a tiny 128GB USB thumb drive I found laying around on my desk, as the built in eMMC is not the most spacious storage ever made. I re-formatted the drive to ext4, then mounted and finally updated Docker to use the partition on the USB device for data storage, which includes all containers, volumes, etc.
In case you’re curious, please see the list of the containerised servers I used with some explanation to the whys below.</p>

<h3 id="portainer">Portainer</h3>

<p>Website: <a href="https://www.portainer.io/">https://www.portainer.io/</a></p>

<p>Portainer provides a very user-friendly way to manage containers on remote boxes. Via a web interface, it provides information about resource utilisation, logs, etc. for each container.</p>

<h3 id="grafana--influxdb--telegraph">Grafana + InfluxDB + Telegraph</h3>
<p>Grafana website: <a href="https://grafana.com/">https://grafana.com/</a></p>

<p>InfluxDB website: <a href="https://www.influxdata.com/">https://www.influxdata.com/</a></p>

<p>Telegraf website: <a href="https://www.influxdata.com/time-series-platform/telegraf/">https://www.influxdata.com/time-series-platform/telegraf/</a></p>

<p>I use this combo to monitor average packet loss, ping, DNS query time, CPU temperature and CPU/Memory/Disk utilisation.</p>

<h3 id="jenkins-ci">Jenkins CI</h3>
<p>Website: <a href="https://www.jenkins.io/">https://www.jenkins.io/</a></p>

<p>I use Jenkins for all the cron/CI jobs I have, to build/deploy and run automated tests on some of my side projects.</p>

<h3 id="sonatype-nexus">Sonatype Nexus</h3>
<p>Website: <a href="https://www.sonatype.com/nexus/repository-oss">https://www.sonatype.com/nexus/repository-oss</a></p>

<p>To cut back on network utilisation, I’ve set Nexus up as well as a local docker/npm/pypi cache.</p>

<h3 id="future-improvements">Future improvements</h3>
<p>I’ll stop at this point as I reached my goal with this project (as always, the journey was more important than the result itself), this little device has loads of potential with it’s 2x USB ports, a full size HDMI port and even an audio jack. At the end of the day, I feel much better to put this neat little tech in use, and convinced myself I don’t need to buy <em>yet another</em> RaspberryPI for a future project that’ll never come.</p>

<hr>

<p>Resources used:</p>

<p><a href="https://uk.store.asus.com/asus-chromebook-c300ma-13-3-light-weight-laptop-intel-dual-core-2gb-32gb-emmc.html">ASUS Chromebook C300</a></p>

<p><a href="https://ark.intel.com/content/www/us/en/ark/products/81071/intel-celeron-processor-n2830-1m-cache-up-to-2-41-ghz.html">Intel Celeron N2830</a></p>

<p><a href="https://galliumos.org/">GalliumOS</a></p>

<p><a href="https://wiki.galliumos.org/Installing">Installing GalliumOS</a></p>

<p><a href="https://chrx.org/">chrx</a></p>

<p><a href="https://askubuntu.com/a/372616">How can I tell Ubuntu to do nothing when I close my laptop lid?</a></p>

<p><a href="https://www.reddit.com/r/GalliumOS/comments/5b7vwi/does_galliumos_not_come_with_ssh_abilities/d9mx0ie/?utm_source=reddit&amp;utm_medium=web2x&amp;context=3">Does GalliumOS not come with ssh abilities installed?</a></p>

<p><a href="https://stackoverflow.com/a/52018760">How to change the default location for “docker create volume” command?</a></p>


  </div>
</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://tamas.dev/repurpose/asus/c300/chromebook/home/server/chromeos/linux/docker/containers/2020/09/28/repurpose-chromebook-low-power-home-server.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24617661</guid>
            <pubDate>Mon, 28 Sep 2020 15:28:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Is Y Combinator worth it?]]>
            </title>
            <description>
<![CDATA[
Score 202 | Comments 119 (<a href="https://news.ycombinator.com/item?id=24616649">thread link</a>) | @gk1
<br/>
September 28, 2020 | https://drodio.com/our-ycombinator-experience/ | <a href="https://web.archive.org/web/*/https://drodio.com/our-ycombinator-experience/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://drodio.com/content/images/size/w300/2020/09/IMG_1431.jpg 300w,
                            https://drodio.com/content/images/size/w600/2020/09/IMG_1431.jpg 600w,
                            https://drodio.com/content/images/size/w1000/2020/09/IMG_1431.jpg 1000w,
                            https://drodio.com/content/images/size/w2000/2020/09/IMG_1431.jpg 2000w" sizes="(max-width: 800px) 400px,
                            (max-width: 1170px) 700px,
                            1400px" src="https://drodio.com/content/images/size/w2000/2020/09/IMG_1431.jpg" alt="Is Y Combinator worth it?">
            </figure>

            <section>
                <div>
                    <p>Back in late 2016, I started <a href="http://www.armory.io/">Armory </a>in my garage (pictured above) with my two co-founders. We also applied to Y Combinator. I often have founders ask me if YC is worth it right around now, during YC application season. </p><p>The short answer is <code>Yes, you should at least apply to see if you get in.</code> The longer answer is <code>It depends a lot more on <em>you </em>than YC (kind of like asking "is exercise worth it?").</code> Armory participated in the Winter 2017 batch, as well as the Fall 2019 Growth program.</p><p>YC is not just one thing. It's a series of people, experiences and resources that scale with your company as it grows. Here's a detailed look into what's been valuable, and what you can do to get full value from YC:</p><h2 id="optimizing-our-initial-w17-yc-batch-experience-">Optimizing our initial W17 YC &nbsp;batch experience:</h2><ul><li>YC's biggest initial benefit is that it creates intense focus in a short period of time, and at the end of the program, YC has nailed product-market-fit to help you pick up a good sized initial investment via Demo Day. If you hit it hard, you won't have any problem raising money. That alone is very valuable in the early stages of a startup's life, and it's a self-reinforcing cycle: The more initial traction you have, the more investment you can quickly pick up (and vice versa).</li><li>We secured several million dollars in SAFE notes in the span of a couple of days after demo day – and we could have picked up more if we'd wanted to. More on that below. It helps to be organized because you'll have to prioritize and manage a lot of investor interest in a short period of time. </li></ul><blockquote>I'd recommend using a Trello board like the one below to manage investor interest (you can <strong><a href="https://trello.com/b/jsHJLVMB/ycombinator-demo-day/drodio/recommend">make a copy of it here</a></strong>). This board is also valuable for future rounds; I used a variation of it for Armory's Series A and B as well <em>(that's a whole other blog post; LMK if you'd like me to write it).</em></blockquote><!--kg-card-begin: html--><p><img src="https://p-qkfvwn.b3.n0.cdn.getcloudapp.com/items/xQuL5Bz9/Screen%20Recording%202020-09-11%20at%2003.41.17%20PM.mp4" width="800"></p><!--kg-card-end: html--><ul><li>If you decide to apply to YC, the #1 piece of advice I can provide is <code>Show, Don't Tell.</code> The more you can show YC that you've already got early traction, the more likely it is that your application will be accepted for an interview, and that you'll get in (or at least invited back for a 2nd interview.) And it's good practice to focus on getting early, external validation, because that's what you'll be doing non-stop once you get into YC. Nicolae has <a href="https://medium.com/@nicolaerusan/modeling-what-startup-growth-actually-looks-like-73cc4720230e">a good breakdown here</a> of the 5% to 6% <em>weekly</em> growth that you should be targeting. The YC batch experience is an intense experience where you identify your top growth metric, focus on optimizing it, measure your results, and then do <em>whatever it takes </em>to unblock that growth. Rinse and repeat each week with all the founders around you doing the same thing. &nbsp;</li><li>You're more likely to be accepted if you are not a solo founder. I personally like the "hacker and hustler" combo for the fastest growth iterations &amp; unblocking. If you're afraid of getting strong external signals of validation for an MVP product, you won't do well in YC. One of my favorite sayings is <code>perfectionists are <em>imperfect </em>with their time.</code> And time is in short supply, with the Demo Day clock looming from the very first day of the program. A few other very appropriate sayings: <code>Build the right thing fast, instead of the wrong thing right,</code> and <code>There's <em>always </em>one more thing you can do [to increase growth]. And after that, there's <em>one more thing</em>.</code> I find that often, people are their own enemies when it comes to the headspace you need to be in to be a successful YC founder. Don't doubt yourself. Believe in your ability to create value. And don't be shy about being relentless in pursuing that external validation to prove it.</li></ul><p>Below is Armory's Demo Day video from 2017. I've blurred out some of our early customer names, but other than that, it's the full video. This is the first time it's been shown publicly. We spent the YC batch program getting our first customers to sign contracts (the "hustler" piece) while we built out the first version of Armory's platform (the "hacker" piece), which is built using an open source continuous software delivery project called <a href="http://www.spinnaker.io/">Spinnaker</a>. By the time Demo Day rolled around, we had multiple paid customer commitments and could articulate a long-term vision for Armory<em> (which has remained largely unchanged since our early days in the garage – that's also a whole other blog post!).</em> I've heard people say there's $100 Billion worth of VC funds in the room for YC Demo Day. I can believe that, and I wouldn't be surprised if it's well over that. </p><figure><iframe width="612" height="344" src="https://www.youtube.com/embed/IvZjbN2kil0?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></figure><ul><li><strong>Other things we did well: </strong>YC has guest speakers come speak once weekly at dinner during the program, and there are really valuable nuggets of wisdom shared during those dinners. For example, Lyle Fong, the founding CEO of Lithium, gave a talk at a dinner about how he had to educate CMOs on the kind of social media platform Lithium was, so he made a maturity model diagram. That sparked Armory's creation of this "<a href="http://go.armory.io/stages">Stages of Software Delivery</a>" diagram, which we've used extensively to help Global 2,000 enterprises understand what their future pain points will be as they adopt the cloud, as well as the benefits they can expect to garner.</li><li><strong>Things we could have done better: </strong>We've never utilized YC Office Hours as effectively as we could have. There are YC partners and domain experts that make themselves available to talk through challenges a business is having. I recommend leaning into that more than we did.</li></ul><h2 id="optimizing-yc-s-growth-program-ycg-f19-">Optimizing YC's Growth Program (YCG F19):</h2><figure><img src="https://drodio.com/content/images/2020/09/0CC9DBF0-5451-4BDD-8F7F-2F1BEDA3D330.jpeg" alt="" srcset="https://drodio.com/content/images/size/w600/2020/09/0CC9DBF0-5451-4BDD-8F7F-2F1BEDA3D330.jpeg 600w, https://drodio.com/content/images/size/w1000/2020/09/0CC9DBF0-5451-4BDD-8F7F-2F1BEDA3D330.jpeg 1000w, https://drodio.com/content/images/size/w1600/2020/09/0CC9DBF0-5451-4BDD-8F7F-2F1BEDA3D330.jpeg 1600w, https://drodio.com/content/images/2020/09/0CC9DBF0-5451-4BDD-8F7F-2F1BEDA3D330.jpeg 2388w" sizes="(min-width: 720px) 720px"></figure><p>In the fall of 2019, I participated in the "graduate" YC program, for YC companies that are scaling. I consider this program to be even more valuable than the initial YC batch experience. It's more intimate – our group was about 15 CEOs – and everyone is dealing with (or has just dealt with) the same types of issues. If the first YC batch experience is about figuring how to drive relentless early traction and growth, the YC growth program is about figuring out how to scale that growth, in every sense of the word – how to scale your functions, your executives, your culture, your size, your<em>self</em>. And the vibe is entirely different: In the early YC batch days, you're just trying to make your startup <em>become relevant and survive.</em> But in the Growth program, it's clear that all the startups who have made it this far are solving a real problem for the world, and have a lot of growth in front of them. And the problems are much more abstract – more about how to align <em>people and processes </em>to scale the magic that's made the business get this far. I've made some incredible, true friendships from this group, and we continue to help each other via WhatsApp and meet on a regular basis. </p><ul><li>My #1 tip is to capture as much of the content as you can to share in permissioned ways with your executive team and managers. By the time you participate in this program, your company will have grown well beyond just the founders. Many of the great tips you'll hear will come from the dinners you attend, as well as how your fellow CEOs have managed similar issues. I highly recommend <a href="http://go.armory.io/Otter">installing Otter.ai on your phone</a> so you can ask the person sharing pro-tips if you can record it and make an auto-transcript to share with your execs. I did this a bunch during the program <em>(Oleg, I'm looking at you, buddy!).</em></li></ul><p>If you have the chance to do the YC Growth program, you should absolutely do it. <em>(I'll invite the CEOs from our batch to leave more thoughts in the comments below).</em></p><h2 id="the-big-thing-to-understand-about-yc-before-you-join-">The big thing to understand about YC <em>before </em>you join:</h2><p>So yes, YC is very much worthwhile. What you get out of YC will very much be dependent on what you put into it. I haven't even mentioned the internal YC forum (cheekily called "BookFace") where several thousand YC alums serve as a resource for each other, as well as YC's <a href="https://www.workatastartup.com/">Work at a Startup</a> recruiting tool, the private VC resource rating directory, YC's <a href="https://blog.ycombinator.com/ycs-series-a-guide/">Series A program</a>, and other similar resources. &nbsp;</p><p>Here's the main thing you need to understand before you apply: YC has <a href="https://www.ycombinator.com/deal/">a "standard deal"</a> where they take a 7% stake in your company. YC also gets pro-rata rights in future funding rounds. If your company is really successful, you may find yourself in a position where you need to negotiate some of those pro-rata rights in order to make the round work (i.e., make enough room to accomodate new new investor demand). While YC will do its best to work with you based on your specific situation, you need to understand that you're signing up for a standard deal up-front, and that early seed-stage commitment may upset other investors. Other angel/seed/Series A investors can become unhappy when having to live on a cap table alongside YC.</p><p>Hope that helps! Feel free to ask any questions in the comments – and if you're also a YC alum, please share your pro-tips as well!</p>
                </div>
            </section>


            

            


        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://drodio.com/our-ycombinator-experience/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24616649</guid>
            <pubDate>Mon, 28 Sep 2020 13:59:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Zig's New Relationship with LLVM]]>
            </title>
            <description>
<![CDATA[
Score 430 | Comments 262 (<a href="https://news.ycombinator.com/item?id=24615916">thread link</a>) | @todsacerdoti
<br/>
September 28, 2020 | https://kristoff.it/blog/zig-new-relationship-llvm/ | <a href="https://web.archive.org/web/*/https://kristoff.it/blog/zig-new-relationship-llvm/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>While not yet at version 1.0, Zig is about to reach a new level of maturity and stability.</p><div><p>In the early days, Zig was but a thin frontend in front of LLVM. This was instrumental for getting started quickly and filling in gaps of Andrew’s knowledge as a compiler developer. Now, the training wheels of the bicycle are coming off, and LLVM is transitioning into an optional component.</p>
<p><span>
      <a href="https://kristoff.it/static/2cc08c37498f0cec888734c477d5f358/98017/protty1.png" target="_blank" rel="noopener">
    <span></span>
  <picture>
        <source srcset="https://kristoff.it/static/2cc08c37498f0cec888734c477d5f358/f5e3c/protty1.webp 100w,
https://kristoff.it/static/2cc08c37498f0cec888734c477d5f358/f2fbe/protty1.webp 200w,
https://kristoff.it/static/2cc08c37498f0cec888734c477d5f358/e227a/protty1.webp 400w,
https://kristoff.it/static/2cc08c37498f0cec888734c477d5f358/efddf/protty1.webp 441w" sizes="(max-width: 400px) 100vw, 400px" type="image/webp">
        <source srcset="https://kristoff.it/static/2cc08c37498f0cec888734c477d5f358/c0399/protty1.png 100w,
https://kristoff.it/static/2cc08c37498f0cec888734c477d5f358/9ec3c/protty1.png 200w,
https://kristoff.it/static/2cc08c37498f0cec888734c477d5f358/c7805/protty1.png 400w,
https://kristoff.it/static/2cc08c37498f0cec888734c477d5f358/98017/protty1.png 441w" sizes="(max-width: 400px) 100vw, 400px" type="image/png">
        <img src="https://kristoff.it/static/2cc08c37498f0cec888734c477d5f358/c7805/protty1.png" alt="protty1" title="protty1">
      </picture>
  </a>
    </span></p>
<p>The work to replace the current C++ compiler implementation with a new pure Zig version has begun. Moving to a self-hosted implementation is usually considered a step towards maturity, with most benefits being felt by developers of the language itself. As an example, <a href="https://www.youtube.com/watch?v=cF1zJYkBW4A" target="_blank" rel="nofollow noopener noreferrer">Go lost</a> some speed of compilation by switching to the self-hosted compiler but, in exchange, it streamlined the toolchain, removed dependencies, and improved the whole development experience.</p>
<p>The move to a self-hosted compiler for Zig has similar advantages for the core contributors, but it also <strong>makes LLVM an optional dependency</strong>, <strong>increases compilation speed</strong> (instead of losing it), and adds an amazing feature for debug builds of your code: <strong>incremental compilation with in-place binary patching</strong>, <a href="https://kristoff.it/blog/what-is-zig-comptime/">another</a> <a href="https://kristoff.it/blog/zig-colorblind-async-await/">unique</a> Zig feature.</p>
<h2 id="speeding-up-compilation"><a href="#speeding-up-compilation" aria-label="speeding up compilation permalink"></a>Speeding up compilation</h2>
<p>Most languages offer some form of caching to speed up compilation, starting from C’s compilation units, up to modules, packages, and other comparable boundaries in more modern languages.</p>
<p>Zig also implements a caching system that comes particularly handy when building a project that mixes C and Zig source code, or when using Zig as a C compiler with the <code>zig cc</code> command. Zig keeps track of all the files involved in the compilation, so it can very easily know when an object file can be reused, and this is <a href="https://andrewkelley.me/post/zig-cc-powerful-drop-in-replacement-gcc-clang.html" target="_blank" rel="nofollow noopener noreferrer">only one of the advantages</a> of using Zig to compile C code.</p>
<p>Zig sources always get bundled into a single compilation unit, so the caching system in its current form doesn’t provide any speedup when editing and recompiling a pure Zig project. The upside is that, not only compiling Zig code is very fast, but also that incremental compilation will provide smart caching for Zig code, more than making up for what we can’t get from simple caching.</p>
<h2 id="incremental-compilation"><a href="#incremental-compilation" aria-label="incremental compilation permalink"></a>Incremental compilation</h2>
<p>Incremental compilation is a form of caching that acts at a higher granularity level than normal “compilation unit”-level caching. The Rust blog has a <a href="https://blog.rust-lang.org/2016/09/08/incremental.html" target="_blank" rel="nofollow noopener noreferrer">great post</a> that explains how it works.</p>
<figure>
    <span>
      <a href="https://kristoff.it/static/c8f09130b97cf9ec0fd60c85eb21418e/d4d70/rust.png" target="_blank" rel="noopener">
    <span></span>
  <picture>
        <source srcset="https://kristoff.it/static/c8f09130b97cf9ec0fd60c85eb21418e/f5e3c/rust.webp 100w,
https://kristoff.it/static/c8f09130b97cf9ec0fd60c85eb21418e/f2fbe/rust.webp 200w,
https://kristoff.it/static/c8f09130b97cf9ec0fd60c85eb21418e/e227a/rust.webp 400w,
https://kristoff.it/static/c8f09130b97cf9ec0fd60c85eb21418e/965c5/rust.webp 600w,
https://kristoff.it/static/c8f09130b97cf9ec0fd60c85eb21418e/0cbce/rust.webp 800w,
https://kristoff.it/static/c8f09130b97cf9ec0fd60c85eb21418e/16e88/rust.webp 964w" sizes="(max-width: 400px) 100vw, 400px" type="image/webp">
        <source srcset="https://kristoff.it/static/c8f09130b97cf9ec0fd60c85eb21418e/c0399/rust.png 100w,
https://kristoff.it/static/c8f09130b97cf9ec0fd60c85eb21418e/9ec3c/rust.png 200w,
https://kristoff.it/static/c8f09130b97cf9ec0fd60c85eb21418e/c7805/rust.png 400w,
https://kristoff.it/static/c8f09130b97cf9ec0fd60c85eb21418e/34e8a/rust.png 600w,
https://kristoff.it/static/c8f09130b97cf9ec0fd60c85eb21418e/8ff1e/rust.png 800w,
https://kristoff.it/static/c8f09130b97cf9ec0fd60c85eb21418e/d4d70/rust.png 964w" sizes="(max-width: 400px) 100vw, 400px" type="image/png">
        <img src="https://kristoff.it/static/c8f09130b97cf9ec0fd60c85eb21418e/c7805/rust.png" alt="rust" title="Taken from the Rust blog post linked above.">
      </picture>
  </a>
    </span>
    <figcaption>Taken from the Rust blog post linked above.</figcaption>
  </figure>
<p>In the case of Rust, the compiler builds a dependency graph at the AST level and then saves it to disk alongside the cached intermediate results (object files). When a new compilation is requested, the compiler will be able to easily notice which parts of the AST have changed and thus invalidate all the intermediate results that depend on it.</p>
<p>One important detail about this graph is the fact that the right-most box is always invalidated. In other words, the final executable is always re-linked from scratch starting from a mix of old and newly generated object files. It’s clear that this has to be the case, since the final executable depends on everything else and so any meaningful change to the code will invalidate it, but this is where the Zig self-hosted compiler brings a new ingenious idea to the table.</p>
<h2 id="in-place-binary-patching"><a href="#in-place-binary-patching" aria-label="in place binary patching permalink"></a>In-Place Binary Patching</h2>
<p>As of Zig version 0.6.0, regardless of the type of release (debug, release-safe, release-fast), there is always a final step delegated to <strong>LLVM, which takes at least 70% of the total compilation time</strong> including when compiling a debug build, where optimizations aren’t even enabled.</p>
<p><strong>The self-hosted compiler will not depend on LLVM for debug builds</strong> and will be able to cut compilation time considerably, <strong>basically reducing that 70% to almost zero</strong>, just by virtue of being a simpler piece of software compared to LLVM. </p>
<p>On top of that, since the compiler will have full control over the whole process, it will generate machine code using an ad-hoc strategy optimized for incremental compilation, allowing the compiler to patch the final executable in-place with the new changes. </p>
<p>In-place binary patching is based on a granularity of top-level declarations. Each global variable and function can be independently patched because the final binary is structured as a sequence of loosely coupled blocks. Another important characteristic is that all this information is kept in memory, so the compiler will stay open between compilations.</p>
<p> If you want to see the self-hosted compiler in action, here’s a 5 minute demo by Andrew:</p>

          <p>
            <iframe src="https://www.youtube-nocookie.com/embed/R5FKgi9BYyU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
          </p>
          
<h2 id="designing-machine-code-for-incremental-compilation"><a href="#designing-machine-code-for-incremental-compilation" aria-label="designing machine code for incremental compilation permalink"></a>Designing machine code for incremental compilation</h2>
<p>Efficient in-place binary patching is something that can only be accomplished by tightly coupling the compiler frontend and backend. Part of the reason this feature is so rarely seen in the wild is that it goes against our better sense of abstraction and clean code organization. But we must never forget: abstraction is just a tool to reach a practical outcome, and not always the most appropriate one.</p>
<p>In order to perform in-place binary patching, we need code to be <a href="https://en.wikipedia.org/wiki/Position-independent_code" target="_blank" rel="nofollow noopener noreferrer">position independent</a>. This allows us to move it around in virtual memory when a function grows outside its allocated boundary. We also need to be able to reference virtual addresses indirectly, so that N callsites do not need to be updated when a function is moved to a new virtual address.</p>
<p>To accomplish this Zig uses a Global Offset Table for all function calls.</p>
<p>However, that only solves functions. There are more components to consider here, such as debug information. When we add new lines to a function, that modifies the debug information, which is used to print stack traces! Solving this involves creatively organizing an allocation scheme for debug line information, and figuring out how to do NOPs. Andrew’s journey here involved creating a <a href="http://dwarfstd.org/ShowIssue.php?issue=200803.1" target="_blank" rel="nofollow noopener noreferrer">proposal for a new DWARF line number opcode</a>.</p>
<p>This problem must be solved repeatedly for each kind of linking backend - ELF, DWARF, PE, PDB, MachO, and WebAssembly. Special thanks for the contributors who have stepped up and taken on the added challenge of supporting in-place binary patching: <a href="https://github.com/alexnask" target="_blank" rel="nofollow noopener noreferrer">Alexandros Naskos</a>, <a href="http://www.jakubkonka.com/" target="_blank" rel="nofollow noopener noreferrer">Jakub Konka</a>, and <a href="https://ifreund.xyz/" target="_blank" rel="nofollow noopener noreferrer">Isaac Freund</a>.</p>
<p>Be on the lookout for a more technical post on <a href="https://andrewkelley.me/" target="_blank" rel="nofollow noopener noreferrer">Andrew’s blog</a>, where he’ll dive into some of these fascinating details — <strong>including how this design gets us 90% of the way to hot code swapping!</strong></p>
<h2 id="when-is-it-going-to-be-ready"><a href="#when-is-it-going-to-be-ready" aria-label="when is it going to be ready permalink"></a>When is it going to be ready?</h2>
<p>The self-hosted backend is <a href="https://github.com/ziglang/zig/projects/2" target="_blank" rel="nofollow noopener noreferrer">still a work in progress</a>, but all the functionalities presented in this post have been designed and prototyped to the point where it’s just a matter of doing the methodical part of the work.</p>
<p>The self-hosted backend will ship in Zig 0.7.0 behind a flag, supporting only a subset of the Zig language. In the meantime, the core development team and a few other contributors are sprinting forward with more language support and additional targets. The current aim is to fully replace the C++ implementation with the self-hosted backend for Zig 0.8.0, roughly 7 months from now.</p>
<p>If you like where Zig is going, there’s no better time <a href="https://github.com/ziglang/zig/wiki/Community" target="_blank" rel="nofollow noopener noreferrer">to join the Zig community</a> than now, and if you want to help speed the development up, please <a href="https://ziglang.org/zsf/" target="_blank" rel="nofollow noopener noreferrer">consider donating to the Zig Software Foundation</a> to allow core developers to spend more time working on Zig.</p>
<figure>
    <span>
      <a href="https://kristoff.it/static/2ec6c0ef555e8f1383c4cb5d7b3edba2/8eeed/protty2.png" target="_blank" rel="noopener">
    <span></span>
  <picture>
        <source srcset="https://kristoff.it/static/2ec6c0ef555e8f1383c4cb5d7b3edba2/f5e3c/protty2.webp 100w,
https://kristoff.it/static/2ec6c0ef555e8f1383c4cb5d7b3edba2/f2fbe/protty2.webp 200w,
https://kristoff.it/static/2ec6c0ef555e8f1383c4cb5d7b3edba2/e227a/protty2.webp 400w,
https://kristoff.it/static/2ec6c0ef555e8f1383c4cb5d7b3edba2/44d87/protty2.webp 407w" sizes="(max-width: 400px) 100vw, 400px" type="image/webp">
        <source srcset="https://kristoff.it/static/2ec6c0ef555e8f1383c4cb5d7b3edba2/c0399/protty2.png 100w,
https://kristoff.it/static/2ec6c0ef555e8f1383c4cb5d7b3edba2/9ec3c/protty2.png 200w,
https://kristoff.it/static/2ec6c0ef555e8f1383c4cb5d7b3edba2/c7805/protty2.png 400w,
https://kristoff.it/static/2ec6c0ef555e8f1383c4cb5d7b3edba2/8eeed/protty2.png 407w" sizes="(max-width: 400px) 100vw, 400px" type="image/png">
        <img src="https://kristoff.it/static/2ec6c0ef555e8f1383c4cb5d7b3edba2/c7805/protty2.png" alt="protty2" title="Thanks to kprotty for the cute doodles!">
      </picture>
  </a>
    </span>
    <figcaption>Thanks to kprotty for the cute doodles!</figcaption>
  </figure></div></div>]]>
            </description>
            <link>https://kristoff.it/blog/zig-new-relationship-llvm/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24615916</guid>
            <pubDate>Mon, 28 Sep 2020 12:32:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Alar: The making of an open-source dictionary]]>
            </title>
            <description>
<![CDATA[
Score 101 | Comments 9 (<a href="https://news.ycombinator.com/item?id=24615530">thread link</a>) | @ronakjain90
<br/>
September 28, 2020 | https://zerodha.tech/blog/alar-the-making-of-an-open-source-dictionary/ | <a href="https://web.archive.org/web/*/https://zerodha.tech/blog/alar-the-making-of-an-open-source-dictionary/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>ನಮಸ್ಕಾರ (Namaskāra)! This is not a post on fintech, or even technology for that matter. This is the story of a product of tenacity, selflessness, and passion; a product that will transcend and outlive most technology we know of. This is the story of a massive dictionary that will become the window to a language spoken by tens of millions of people for generations to come, a resource its author has donated to posterity. This is the story of V. Krishna, <a href="https://alar.ink/"><em>Alar</em></a>, his Kannada-English dictionary, and its accidental discovery and open sourcing at an unlikely place, a stock brokerage, Zerodha. This post is also a personal note, something I have not attempted in a long time.</p><h3 id="prologue">Prologue</h3><p>I have been running <a href="https://olam.in/">Olam</a>, an English-Malayalam and Malayalam-Malayalam dictionary, since 2010. It was built out of the frustration of not having an easily accessible online Malayalam dictionary, of the frustration at dictionary websites that insulted the reader’s intelligence with poor usability, terrible ad-ridden spamminess, and no respect for language. Olam’s website has stayed exactly the same for 10 years. It has an input box that responds to dictionary lookups in under ~50ms, exactly as it did in 2010. It is actively used by millions of Malayalam speakers.</p><p>The first version of the Olam corpus was seeded with unattributed word lists I scraped together from random parts of the web, and several thousand entries I entered myself. Since then, the English-Malayalam dictionary has been expanding slowly with crowdsourced entries.</p><p>The entire Olam corpus is <a href="https://olam.in/open">open source</a> (licensed under <a href="https://opendatacommons.org/licenses/odbl/summary/">OdBL</a>), or open data, rather. While the English-Malayalam corpus is crowdsourced, the Malayalam-Malayalam corpus (now known as the <em>Datuk Corpus</em>) was created out of the mammoth digitisation project the late <a href="https://www.asianetnews.com/pravasam/datuk-kj-joseph-passes-away-pm1xdr">“Datuk” K. J. Joseph</a> undertook in the late 90s, when he single-handledly digitised an out-of-copyright Malayalam-Malayalam dictionary along with many other books and posted them online at the expense of copious amounts of time out of his retirement. He was a Malayali settled in Malaysia, a prominent active social worker and educator. The Malaysian government conferred the title “Datuk” upon him in recognition of his exemplary services in the country, which then ended up being his nickname too. I do not know of the origin of the dictionary Datuk digtised, but it is poignant to think that the original author’s work lives on after a century.</p><p>I discovered the RTF file Datuk had posted a decade prior on an inactive Yahoo groups page around the time I was working on Olam. Needless to say, I was stumped by the scope of this project, and immediately started working on integrating it into Olam. It took more than two years of on and off work to convert the text from the original ASCII input to Unicode, and to clean, structure, and correct close to 200,000 entries. The dataset was named <em>Datuk Corpus</em>, and was published on Olam in 2013. I wrote to the Swathanthra Malayalam Computing (SMC) mailing list <a href="http://lists.smc.org.in/pipermail/discuss-smc.org.in/2013-May/015592.html">announcing it</a>, and we launched it with some fanfare at the SMC conference held in Thrissur, Kerala, that year. Datuk’s story was covered by the press, and his work was now open and available to everyone.</p><p>Shortly thereafter, I was connected to Datuk by an old friend of his I had met at the conference, and we spoke briefly on the phone. He had seen the news clip of the dictionary’s release, and was thrilled to know that his work was now accessible as he had originally intended. Open data lives on. He found it amusing that a random stranger had somehow unearthed a relic he had lost to the annals of internet history. Life is absurd like that, shaped in infinite ways by tiny, random events.</p><p>Datuk <a href="https://www.facebook.com/amma.org.my/posts/tribute-to-the-late-datuk-k-j-josephthe-late-datuk-k-j-joseph-was-a-prominent-ed/2157527197640248/">passed away in January 2019</a>. He was 89 years old. RIP Datuk. Your work’s utility will span generations. The data you created will proliferate and continue to be useful to humanity in ways we never imagined. Such is the beauty of open data. I consider it a privilege to have been able to speak to you just that one time.</p><h3 id="open-data">Open data</h3><blockquote><p><a href="https://en.wikipedia.org/wiki/Open_data">Open data</a> is the idea that some data should be freely available to everyone to use and republish as they wish, without restrictions from copyright, patents or other mechanisms of control.</p></blockquote><p>I shudder to think of a world without Wikipedia. The open data movement shares strong parallels with the Free and Open Source Software (FOSS) movement. The gist is that certain knowledge should be freely available to everyone with no restrictions and with one goal—collective advancement of humanity.</p><p>I consider dictionaries to be on top of that list. The stepping stone to language, the underpinning of civilisation. Dictionaries should be open, free, and easily accessible to everyone, everywhere. If we cannot share something as fundamental as language without motives of profit, we ought to do some serious introspection as members of an advanced civilisation.</p><p>An open data dictionary for every Indian language, the largest collection of open source dictionaries in the world, would be an immense resource for not only India but for humanity in general. Ideally, this is the kind of project governments should do. State governments could very easily partner with local universities and undertake the creation and maintenance of open data dictionaries.</p><p>That said, at Zerodha, we would be happy to fund projects to create high quality open data dictionaries if there are scholars out there working on them.</p><h3 id="a-kannada-dictionary">A Kannada dictionary</h3><p>I moved from Kerala to Bengaluru in early 2012 to get access to fast internet. Bengaluru is a melting pot of people from all over India, and English is the glue that holds the “IT sector” together. I can comprehend Kannada speech reasonably well and speak rather poorly, but cannot read the script, thanks to the lack of opportunities to learn over the many years spent between home, where we speak Malayalam, and work, an English speaking environment. With the guilt of not being able to learn Kannada, and the great satisfaction of having Olam as an open data corpus, I had been looking for ways to build a Kannada dictionary right after I had moved to Bengaluru.</p><p>Sometime in 2016, I presented the idea of having an open source Kannada dictionary created from scratch to Nithin. He was immediately on board to commission the project. A perk I enjoy, the privilege of having a resourceful backer who believes in public good. Not knowing where to start, I asked around a few places but nothing materialised for the next two years, and as always, I continued to bring up this conversation once in a while.</p><p>Then, sometime in October 2018, I randomly brought up the conversation again, and Srihari, who had just joined the tech team, happened to overhear it. He vaguely remembered that someone in his family had been associated with a dictionary for a long time. This would be one of those minuscule, random events that would significantly change the timeline; the <a href="https://en.wikipedia.org/wiki/Butterfly_effect">Butterfly effect</a> in action. I crossed my fingers and he soon setup a meeting with V. Krishna, the relative of his. Shortly thereafter, Srihari, Sharath (also from the tech team), and I went to <a href="http://www.kagapa.in/">KaGaPa’s</a> office to meet V. Krishna and to find out what exactly it was that Srihari remembered about him and a dictionary. KaGaPa (Kannada Ganaka Parishat) created the popular Nudi font and input method for Kannada, an important early innovation for digital Kannada, and V. Krishna had worked with them on several projects.</p><p>V. Krishna and Narasimhamurthy, KaGaPa’s proprietor, spoke passionately about Kannada literature and digitisation projects in the quaint little office room, surrounded by stacks of old Kannada books and literature. It was the perfect setting. Then, the extremely soft-spoken and mild-mannered V. Krishna fired up a computer and showed us his lifelong side project, his Kannada-English dictionary. Researched and written over a period of more than 40 years, 150,000+ Kannada words and 240,000+ English definitions, all neatly typed up in a Word document, complete with parts of speech tags and phonetic notations with diacritics for Kannada words. The ambition of the project, its scholarly quality, the depth of the data, the culmination of one man’s passion, perseverance, and tenacity over a lifetime, all lying in obscurity, stumbled upon by sheer coincidence. Absolutely mind blowing.</p><h3 id="v-krishna">V. Krishna</h3><figure><img src="https://zerodha.tech/static/images/vkrishna-alar.png" alt="V. Krishna's photo" height="150"></figure><p>V. Krishna was born in 1950 in the Malanayakana Halli village in Mysore district in Karnataka. He studied in a Kannada medium school, followed by a year at a pre-university college that he was forced to drop out of before moving to Bengaluru with his family in 1968.</p><p>He found a job at the Indian Agricultural Research Institute (IARI) in 1970. At IARI, around this time, noticing him struggle with the English language, his boss casually suggested that he procure a dictionary to learn English. This conversation would turn out to be pivotal, and would set V. Krishna on a lifelong journey of language research and scholarship, an amazing case of autodidacticism.</p><p>So, he took his boss’s advice and got himself an English dictionary and started studying it. Then he got himself another dictionary, and another, until he had five of them. At the same time, he took an interest in Kannada literature and started studying Kannada and English together. To help with this, he started jotting down notes, and at some point, began structuring them. A dictionary was being born. In the meanwhile, he took evening classes and obtained a commerce degree in 1976 from MES college, Malleshwaram.</p><p>Around 1980, <a href="https://en.wikipedia.org/wiki/Kannada_Sahitya_Parishat">Kannada Sahitya Parishattu</a> published a Kannada - English dictionary, and unsurprisingly, V. Krishna got himself a copy. He was surprised by the sheer number of errors he spotted—more than 200 in the first 50 pages. He wrote to the editor with his findings, and impressed by it, the editor met him in person in Bengaluru, where V. Krishna presented his manuscripts to him. Surprised by its quality, he suggested that V. Krishna continue his work and turn it into a full-fledged dictionary. This was the …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://zerodha.tech/blog/alar-the-making-of-an-open-source-dictionary/">https://zerodha.tech/blog/alar-the-making-of-an-open-source-dictionary/</a></em></p>]]>
            </description>
            <link>https://zerodha.tech/blog/alar-the-making-of-an-open-source-dictionary/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24615530</guid>
            <pubDate>Mon, 28 Sep 2020 11:37:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Scorpion Transforming Computer Chair]]>
            </title>
            <description>
<![CDATA[
Score 102 | Comments 101 (<a href="https://news.ycombinator.com/item?id=24615351">thread link</a>) | @jacquesm
<br/>
September 28, 2020 | https://www.cluvens.net/news/this-villainous-scorpion-can-transform | <a href="https://web.archive.org/web/*/https://www.cluvens.net/news/this-villainous-scorpion-can-transform">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.cluvens.net/news/this-villainous-scorpion-can-transform</link>
            <guid isPermaLink="false">hacker-news-small-sites-24615351</guid>
            <pubDate>Mon, 28 Sep 2020 11:07:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Durability: NVMe Disks]]>
            </title>
            <description>
<![CDATA[
Score 117 | Comments 44 (<a href="https://news.ycombinator.com/item?id=24614893">thread link</a>) | @ingve
<br/>
September 28, 2020 | https://www.evanjones.ca/durability-nvme.html | <a href="https://web.archive.org/web/*/https://www.evanjones.ca/durability-nvme.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<h3>[ 2020-September-27 10:26 ]</h3>
<p>Durability is the guarantee that data can be accessed after a failure. It seems like this should be very simple: either your system provides durable data storage, or it does not. However, durability is not a binary yes/no property, and instead should be defined as the <em>kinds</em> of failures you want your data to survive. Since there is usually some performance penalty for durability, many systems provide a way for only "important" writes to be durable, while "normal" writes will eventually be durable, with no specific guarantee about when. Finally, durability is rarely tested, since <em>really</em> testing it involves cutting the power to computer systems, which is disruptive and hard to automate. Production environments are designed to avoid these failures, so bugs are rarely triggered and hard to reproduce.</p>

<p>I've recently been investigating the durability guarantees in cloud platforms. I decided to start at the beginning: what guarantees are provided by the disks we connect to computers? To find out, I read the relevant sections of the Non-Volatile Memory Express (NVMe) specification (version 1.4a), since it is the newest standard for high-performance SSDs. It also has an <a href="https://nvmexpress.org/developers/nvme-specification/">easy to find, freely available specification</a>, unlike the older SATA or SCSI standards that were originally designed for magnetic disks. In the rest of this article, I will attempt to summarize the durability NVMe devices provide. I believe that most of this should also apply to SATA and SCSI. NVMe was designed as a higher performance replacement for those protocols, so the semantics can't be too different.</p>


<h2>Ordering and atomicity</h2>

<p>Before we can discuss durability, we should discuss some basic semantics of NVMe writes. Commands are submitted to devices using a set of queues. At some time later, the device acknowledges that the commands have completed. There is no ordering guaranteed between commands. From Section 6.3: "each command is processed as an independent entity without reference to other commands [...]. If there are ordering requirements between these commands, host software or the associated application is required to enforce that ordering". This means if the order matters, the software needs to wait for commands to complete before issuing the next commands. However, read commands are guaranteed to return the most completed write (Section 6.4.2.1), although they may also return data from uncompleted writes that have been queued.</p>

<p>A related issue with concurrent updates is atomicity. If there are concurrent writes to overlapping ranges, what are the permitted results? The answer is there are no guarantees. Specifically, "After execution of command A and command B, there may be an arbitrary mix of data from command A and command B in the LBA [logical block address] range specified" (Section 6.4.2). This seems to permit literally any result in the case of concurrent writes, such as alternating bytes from command A and command B.</p>

<p>NVMe includes <em>optional</em> support for atomic writes, with different values for "normal operation" and after power failure. The couple of NVMe devices I looked at don't support atomic writes, but apparently some higher-end devices do. The device exposes the size of atomic writes so software can configure itself to use it. For example, <a href="https://mariadb.com/kb/en/atomic-write-support/">see the MariaDB documentation about atomic writes</a>. This can replace MySQL's "doublewrite buffer," which is a mechanism that provides atomic writes on devices that don't natively support them (nearly all disks).</p>

<p>Basically, NVMe provides "weak" semantics similar to shared memory in multi-threaded programs. There are no guarantees if there are concurrent operations. This means if the order of writes matters, the software needs to submit the commands and wait for them to complete, and never have concurrent writes to overlapping ranges.</p>


<h2>The Flush command</h2>

<p>Without special commands, NVMe provides no guarantees about what data will survive a power failure (Section 5.15.2.2, Figure 249 in the documentation about the Atomic Write Unit Power Fail (AWUPF) field and Section 6.4.2.1). My reading of this means devices are permitted to return an error for all ranges where writes were "in flight" at the time of failure. If you want to be completely safe, you should avoid overwriting critical data by using write-ahead logging. This matches the semantics I found during <a href="https://www.evanjones.ca/intel-ssd-durability.html">power fail testing of SATA magnetic hard drives and SSDs in 2010</a>.</p>

<p>The first NVMe mechanism that can be used to ensure data is durably written is the Flush command (Section 6.8). It writes everything in the write cache to non-volatile memory. More specifically, "The flush applies to all commands [...] completed by the controller prior to the submission of the Flush command" (Section 6.8). This means if you want a durable write, you need to submit the write, wait for it to complete, submit the flush, and wait for that to complete. If you submit writes after submitting the flush, but before it completes, they might also be flushed ("The controller may also flush additional data and/or metadata", section 6.8). Most importantly, if you issue a flush, and it fails in the middle, there is no guarantee about what writes might exist on disk. The disk could have any of the writes, with no relation to the order they were submitted or completed. It could also choose to return an error for all the ranges.</p>


<h2>Force Unit Access (FUA)</h2>

<p>The second mechanism to ensure durability is to set the Force Unit Access option on Write commands. This means that "the controller shall write that data and metadata, if any, to non-volatile media before indicating command completion" (Section 6.15 Figure 404). In other words, data written with a FUA write should survive power failures, and the write will not complete until that is true. Interestingly, you can also specify FUA on a Read command, which is a bit surprising. It forces the referenced data to be flushed to non-volatile media, before reading it (Section 6.9, Figure 374). This mean you can do a set of normal writes, then selectively flush a small portion of it by executing a FUA read of the data you want committed.</p>


<h2>Disabling write caching</h2>

<p>The last mechanism that may ensure durability is to explicitly disable the write cache. If an NVMe device has a volatile write cache, it must be controllable. This means you can disable it (Section 5.21.1.6). It appears to me that if the cache is disabled, then every write must not complete until it is written to non-volatile media, which should be equivalent to setting the FUA bit on every write. However, this is not clearly described in the specification, and I suspect this is rarely used.</p>


<h2>Devices with power loss protection</h2>

<p>Finally, it is worth pointing out that some disks provide "power loss protection." This means the device has been designed to complete any in-flight writes when power is lost. This can be implemented by providing backup power with a supercapacitor or battery that is used to flush the cache. In theory, these devices should show that they do not have volatile write cache, so software could detect that and just use normal writes. However, these devices should ideally also treat FUA writes the same as non-FUA writes, and ignore cache flushes. As a result, I think it is best to design software for disks that have caches, since it can then work with any storage device. If you are using a device with power loss protection, you should still get better performance and some additional protection from failures.</p>

</div></div>]]>
            </description>
            <link>https://www.evanjones.ca/durability-nvme.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24614893</guid>
            <pubDate>Mon, 28 Sep 2020 09:52:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Type Systems Explained with Examples]]>
            </title>
            <description>
<![CDATA[
Score 101 | Comments 17 (<a href="https://news.ycombinator.com/item?id=24614788">thread link</a>) | @thanato0s
<br/>
September 28, 2020 | https://thevaluable.dev/type-system-explained/ | <a href="https://web.archive.org/web/*/https://thevaluable.dev/type-system-explained/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
    <article>
        

        <section>
            
                <picture>
                    
                        <source srcset="https://thevaluable.dev/images/2020/type_system/type_psycho.webp" type="image/webp">
                    
                    <img src="https://thevaluable.dev/images/2020/type_system/type_psycho.jpg" alt="The Joker is just a type of psychopath">
                </picture>
            

            <p>“My language is better because it has a strong type system!” screams Dave, your colleague developer, trying to push the programming language Cobol for the next micro-service of your company.</p>
<p>Among developers, discussions about programming languages and their type systems can get quickly emotional. During these discussions, we often hear the words “type systems”, “data type”, “type inference”, “static typing”, “weak typing”, “coercion”, and more.</p>
<p>The goal of this article is to see the meaning of all these words with examples, for you to have good foundations and understand the type system of your favorite programming language. More precisely, we’ll see:</p>
<ul>
<li>What are types and why we need them.</li>
<li>When type checking occurs.</li>
<li>What are primitive types, composite types, and Abstract Data Types (ADT).</li>
<li>Type declaration and changing types can be implicit or explicit.</li>
<li>Types and functions.</li>
<li>What is type strength.</li>
<li>What is type safety.</li>
</ul>
<p>I’ll use two different languages to illustrate the ideas, Golang and PHP. If you don’t know them, don’t worry! The examples are straightforward and easy to understand.</p>
<p>I encourage you to use some <a href="https://repl.it/languages/php_cli" target="_blank" rel="noopener">PHP interpreter online</a> and the <a href="https://play.golang.org/" target="_blank" rel="noopener">Go playground</a> while reading, to play and experiment by yourself. This will help you understand the different concepts.</p>
<p>I won’t go into the gory details here. As you’ll see, it’s difficult to generalize something which is specific to a programming language. Yet, this article will give you a good overview of the usual properties of most type systems.</p>
<p>We’ll go progressively from clear waters to the muddy ideas, so take your rubber boots, get ready for the swamp, and let’s go!</p>
<h2 id="whats-a-type">What’s a Type?</h2>

<picture>
    <source srcset="https://thevaluable.dev/images/2020/type_system/state_not_type.webp" type="image/webp">
    <img src="https://thevaluable.dev/images/2020/type_system/state_not_type.jpg" alt="State and types are different">
</picture>



<p>A type system is made of types. I know, it’s mind-blowing. These types are also called <em>data types</em>. What are they?</p>
<h3 id="syntax-and-semantics">Syntax and Semantics</h3>
<p>First, let’s clarify the difference between the <em>syntax</em> and the <em>semantics</em> of a programming language.</p>
<p>For example. the syntax of your mother tongue is the set of rules dictating the structure of the sentences. For many spoken languages, you’ll need a subject and a verb for your sentence to be correct. Programming languages have instead different constructs like <em>expressions</em>, <em>control structures</em>, or <em>statements</em>.</p>
<p>For example, for a <em>if</em> statement to be syntactically correct in PHP, you’ll need:</p>
<ul>
<li>A condition.</li>
<li>Some parenthesis.</li>
<li>Some curly brackets.</li>
</ul>
<p>Something like that: <code>if (1 == 1) { echo "I knew it!"; }</code>.</p>
<p>The semantics, on the other hand, is the meaning behind the constructs. For example, the semantics of an <em>if</em> statement can be explained as follows:</p>
<ol>
<li>The condition is executed.</li>
<li>If the condition is true, the body of the statement is executed.</li>
<li>If the condition is false, the body of the statement is not executed.</li>
<li>The execution continues.</li>
</ol>
<p>Why do we need syntax and semantics? It’s meant to communicate with two different kinds of entities:</p>
<ul>
<li>Your colleagues developers need to understand what the heck you did.</li>
<li>The computer needs to “understand” the instructions to execute them.</li>
</ul>
<h3 id="definition-of-a-type">Definition of a Type</h3>
<p>To come back to our subject, a type can attach semantics to data. For example, in PHP:</p>
<div><pre><code data-lang="php"><span>&lt;?php</span>
<span>$integer</span><span>;</span>

<span>echo</span> <span>gettype</span><span>(</span><span>65</span><span>)</span> <span>.</span> <span>"</span><span>\n</span><span>"</span><span>;</span>
<span>// =&gt; integer
</span><span></span>
<span>$integer</span> <span>=</span> <span>65</span><span>;</span>
<span>echo</span> <span>gettype</span><span>(</span><span>$integer</span><span>)</span> <span>.</span> <span>"</span><span>\n</span><span>"</span><span>;</span>
<span>// =&gt; integer
</span></code></pre></div><p>In Mathematics, 65 is part of the set of integers, so PHP consider the value 65 as type integer. Your variable <code>$integer</code> has the value 65 too, so it’s an integer, too.</p>
<p>When you assign 65 to the variable <code>$integer</code>, you give it a semantics it didn’t have when we declared it, on the second line. This semantics will let you know what you can do with the variable.</p>
<p>We can conclude that:</p>
<ul>
<li>A type gives semantics to a piece of data.</li>
<li>A type is a set of value. For the type integer, it will be a range of decimals. For the type string, it will be a range of possible strings.</li>
</ul>
<h2 id="why-do-we-need-types">Why Do We Need Types?</h2>
<h3 id="representation-and-semantics">Representation and Semantics</h3>
<p>When you declare a variable and assign it a value, the memory hold this value in <em>binary</em>. Our counting system is <em>decimal</em>, which means that the numbers we know and use everyday are very different in binary:</p>
<div><pre><code data-lang="php"><span>&lt;?php</span>

<span>$integer</span> <span>=</span> <span>65</span><span>;</span> <span>// Decimal notation
</span><span></span>
<span>printf</span><span>(</span><span>"Binary notation of %d: %b </span><span>\n</span><span>"</span><span>,</span> <span>$integer</span><span>,</span> <span>$integer</span><span>);</span>
<span>// =&gt; Binary notation of 65: 1000001 
</span></code></pre></div><p>Binary is just another way to represent numbers, <em>and only numbers</em>.</p>
<p>Dave, your colleague developer, is full of questions while reading these lines. “How does a character, such as ‘A’, is saved in memory?”, he wonders. “It’s not a number! It can’t be represented in binary!”.</p>
<p>Dave is right. The character has to be converted first into a decimal number, following the <a href="https://en.wikipedia.org/wiki/ASCII" target="_blank" rel="noopener">ASCII standards</a>. Then, this <em>ASCII code</em> is saved in memory.</p>
<p>Now, let’s try this:</p>
<div><pre><code data-lang="php"><span>&lt;?php</span>

<span>$integer</span> <span>=</span> <span>65</span><span>;</span>
<span>printf</span><span>(</span><span>"Binary representation: %b </span><span>\n</span><span>"</span><span>,</span> <span>$integer</span><span>);</span>
<span>// =&gt; Binary representation: 1000001
</span><span></span>
<span>$character</span> <span>=</span> <span>'A'</span><span>;</span>
<span>$ascii</span> <span>=</span> <span>ord</span><span>(</span><span>'A'</span><span>);</span> <span>// Ascii code of 'A'.
</span><span></span><span>printf</span><span>(</span><span>"Ascii code: %d </span><span>\n</span><span>"</span><span>,</span> <span>$ascii</span><span>);</span>
<span>// =&gt; Ascii code: 65
</span><span></span>
<span>printf</span><span>(</span><span>"Binary representation: %b </span><span>\n</span><span>"</span><span>,</span> <span>$ascii</span><span>);</span>
<span>// =&gt; Binary representation: 1000001 
</span></code></pre></div><p>The integer 65 and the string ‘A’ have the same binary representation in memory!</p>
<p>Dave is confused. In despair, he asks the sky: “How the hell our program knows that <code>$integer</code> is equal to 65, and <code>$character</code> is equal to <code>'A</code>’? How?”. Indeed, in memory, the two values of <code>$character</code> and <code>$integer</code> are exactly the same: <code>1000001</code>. When we use these two variables in our code, the type system of our language will <em>interpret</em> the two values in memory, and it will decide what is a character and what is an integer.</p>
<p>This is important to understand, since this interpretation is not always accurate for some types, like floating point numbers.</p>
<p>A type will determine as well how you store a value in memory. For a character and an integer, we saw that they are stored the same way. The way to store floating point numbers, for example, is quite different.</p>
<p>The memory storage is nicely abstracted by the type system for us, developers, not to think about these confusing 0 and 1. You can then focus on more important problems, at least when the abstraction doesn’t leak. If you’re not sure what’s an abstraction, I wrote <a href="https://thevaluable.dev/abstraction-software-development/">a detailed article about it</a>.</p>
<h3 id="a-set-of-rules">A Set of Rules</h3>
<p>A type system is as well a set of rule, more or less strict. You can’t do everything you want with some types.</p>
<p>Let’s take another example:</p>
<div><pre><code data-lang="php"><span>&lt;?php</span>

<span>printf</span><span>((</span><span>3</span> <span>+</span> <span>"Hello World!"</span><span>)</span> <span>.</span> <span>"</span><span>\n</span><span>"</span><span>);</span>
<span>// =&gt; PHP Warning:  A non-numeric value encountered in /home/myusername/phpgoodies/test.php on line 3
</span><span>// =&gt; 3
</span><span></span>
<span>printf</span><span>(</span><span>"The execution continue!"</span><span>);</span>
<span>// =&gt; The execution continue!
</span></code></pre></div><p>This code makes little sense. I try to reinvent Mathematics by adding the integer 3 to a string. PHP will throw a warning, but it will still give a result, <code>3</code>. When you violate the rules of a type system, the outcome can range between these two extremes:</p>
<ol>
<li>The interpreter or compiler will silently try to fix the problem and continue.</li>
<li>The interpreter or compiler will throw an error and stop.</li>
</ol>
<p>In the case of our example, PHP will throw a warning, but the execution will still continue. You can even get rid of the warning in the infamous <code>php.ini</code>.</p>
<p>To compare with another language, let’s take the exact same thing in Golang:</p>
<div><pre><code data-lang="golang"><span>package</span> <span>main</span>

<span>import</span> <span>(</span>
	<span>"fmt"</span>
<span>)</span>

<span>func</span> <span>main</span><span>()</span> <span>{</span>
    <span>fmt</span><span>.</span><span>Println</span><span>(</span><span>3</span> <span>+</span> <span>"Hello World"</span><span>)</span>
    <span>// =&gt; invalid operation: 3 + "Hello World" (mismatched types untyped int and untyped string)
</span><span></span>    <span>fmt</span><span>.</span><span>Println</span><span>(</span><span>"The execution continue!"</span><span>)</span>
<span>}</span>
</code></pre></div><p><em><a href="https://play.golang.org/p/2JEY0GmHnYF" target="_blank" rel="noopener">Playground</a></em></p>
<p>The compiler will grant you with an error and your program won’t even be compiled.</p>
<h2 id="built-in-types-vs-our-own-abstractions">Built-in Types vs Our Own Abstractions</h2>
<p>Programming languages, more often than not, have a whole set of types you can use, out of the box. These types are called <em>primitive types</em>. For example: <code>integer</code>, <code>boolean</code>, <code>float</code>, and more.</p>
<p>Often, you’ll be able to use as well <em>composite types</em>, a type containing multiple values, and possibly multiple primitive types. It’s what we call more commonly <em>data structures</em>.</p>
<p>For example, an array is a composite type:</p>
<div><pre><code data-lang="php"><span>&lt;?php</span>

<span>$integerArray</span> <span>=</span> <span>[</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>];</span>
<span>$multipleTypeArray</span> <span>=</span> <span>[</span><span>1</span><span>,</span> <span>"two"</span><span>,</span> <span>5.4</span><span>];</span>

</code></pre></div><p>The rules attached to these data types are imposed by the compiler (or the interpreter) of your language of choice.</p>
<p>Since the raise of the <a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.136.3043&amp;rep=rep1&amp;type=pdf" target="_blank" rel="noopener">Abstract Data Types</a> (ADT), you have the power, in high level programming languages, to create your own types. For example, in PHP:</p>
<div><pre><code data-lang="php"><span>&lt;?php</span>

<span>class</span> <span>Shipment</span>
<span>{</span>
    <span>public</span> <span>function</span> <span>send</span><span>()</span>
    <span>{</span>
        <span>echo</span> <span>"Send powerful shipment!"</span><span>;</span>
    <span>}</span>
<span>}</span>

<span>$shipment</span> <span>=</span> <span>new</span> <span>Shipment</span><span>();</span>
<span>$shipment</span><span>-&gt;</span><span>send</span><span>();</span>
</code></pre></div><p>When you write <code>$shipment = new Shipment()</code>, you create an instance of the class <code>Shipment</code>. The object <code>$shipment</code> can be considered as well of type <code>Shipment</code>.</p>
<p>When you think about it, a type can be seen as a set of possible values, a category, or a group. A class has the <a href="https://www.merriam-webster.com/dictionary/class" target="_blank" rel="noopener">same definition (see entry 3)</a>.</p>
<p>We can say as well that the object <code>$shipment</code> is an abstraction of its class, and its interface (the way you interact with the abstraction) is the method <code>send()</code>.</p>
<p>We created some rules for our new type:</p>
<ul>
<li>The only interface available is the method <code>send()</code>.</li>
<li>The method <code>send()</code> return a string, not an integer.</li>
</ul>
<p>In Golang, you don’t have classes, but you can create custom types, too:</p>
<div><pre><code data-lang="golang"><span>package</span> <span>main</span>

<span>import</span> <span>(</span>
	<span>"fmt"</span>
<span>)</span>

<span>type</span> <span>minute</span> <span>int</span>

<span>func</span> <span>(</span><span>m</span> <span>minute</span><span>)</span> <span>second</span><span>()</span> <span>int</span>  <span>{</span>
    <span>return</span> <span>int</span><span>(</span><span>m</span><span>)</span> <span>*</span> <span>60</span>
<span>}</span>

<span>func</span> <span>main</span><span>()</span> <span>{</span>
	<span>var</span> <span>min</span> <span>minute</span>
	<span>min</span> <span>=</span> <span>2</span>
	<span>fmt</span><span>.</span><span>Printf</span><span>(</span><span>"%d minutes are %d seconds"</span><span>,</span> <span>min</span><span>,</span> <span>min</span><span>.</span><span>second</span><span>())</span>
    <span>// 2 minutes are 120 seconds
</span><span></span><span>}</span>
</code></pre></div><p><em><a href="https://play.golang.org/p/rm1aRW2vZip" target="_blank" rel="noopener">Playground</a></em></p>
<p>In that case, the new type <code>minute</code> gets the same set of rules as the type <code>int</code>. Then, you can attach methods to this new type <code>minute</code>, like the method <code>second()</code>.</p>
<h2 id="type-checking">Type Checking</h2>

<picture>
    <source srcset="https://thevaluable.dev/images/2020/type_system/type_wizard.webp" type="image/webp">
    <img src="https://thevaluable.dev/images/2020/type_system/type_wizard.jpg" alt="Some types are obvious">
</picture>



<p>If types push us to respect some rules, a programming language need an algorithm to check if we respect them. This is called <em>type checking</em>.</p>
<p>Even if type systems can be very similar or very different, depending on the programming language, we are humans, so we need to group these disparate things in categories to understand them.</p>
<p>There are two important categories of type checking: <em>static type …</em></p></section></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://thevaluable.dev/type-system-explained/">https://thevaluable.dev/type-system-explained/</a></em></p>]]>
            </description>
            <link>https://thevaluable.dev/type-system-explained/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24614788</guid>
            <pubDate>Mon, 28 Sep 2020 09:38:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[In Defense of XML]]>
            </title>
            <description>
<![CDATA[
Score 69 | Comments 115 (<a href="https://news.ycombinator.com/item?id=24614404">thread link</a>) | @tannhaeuser
<br/>
September 28, 2020 | https://blog.frankel.ch/defense-xml/ | <a href="https://web.archive.org/web/*/https://blog.frankel.ch/defense-xml/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main"> <div> <article itemscope="" itemtype="http://schema.org/BlogPosting"> <meta itemprop="mainEntityOfPage" content="//defense-xml/"> <meta itemprop="description" content="">  <figure itemscope="" itemprop="image" itemtype="http://schema.org/ImageObject"> <meta itemprop="url" content="https://blog.frankel.ch/assets/resources/defense-xml/XML_icon.svg"> </figure> <section> <div itemprop="articleBody"> <p>When I started my career, XML was ubiquitous. The meta-information in a Java JAR file - the manifest - follows a proprietary format. But Java EE designers built it from the ground up on XML: meta-information of all artifacts is in XML format <em>e.g.</em> <code>web.xml</code>, <code>ejb-jar.xml</code>, <code>application.xml</code>, etc.</p> <p>Java EE is one example I experienced personally. But XML was everywhere in the enterprise world at the time. Its prevalence manifested itself in two areas: configuration and data transfer.</p> <p>Ever since then, it would be an euphemism to say XML has been losing in popularity. Other formats, such as JSON and YAML, have replaced it in the hearts of developers. In this post, I’d like to:</p> <ul><li><span>Explore some of the reasons why the mighty XML has fallen</span></li><li><span>Raise some downsides of the popular alternatives</span></li><li><span>And describe how XML already solved those problems</span></li></ul> <div> <h2 id="the-downfall-of-xml">The downfall of XML</h2> <div> <p>I think there are several reasons that led to the downfall of XML. It’s not a single one, but the conjunction of them that led to the current state.</p> <div> <h3 id="associated-with-enterprise">Associated with "Enterprise"</h3> <p>I’m afraid the worst flaw of XML is its close association with the enterprise world. As everybody knows, Enterprise is notoriously bad - by definition: bloated, heavy, not nimble, etc. And yes, that’s sarcasm if you wondered.</p> <p>In general, perception trumps truth. Developers are no different in that regard. In the end, that’s how Hype-Driven Developers - and most developers, perceive XML nowadays.</p> </div> <div> <h3 id="lack-of-integration-with-front-end">Lack of integration with front-end</h3> <p>One of the main usages of XML was in the realm <a href="https://en.wikipedia.org/wiki/SOAP" target="_blank" rel="noopener">SOAP web services</a>. Let’s be frank about it: the ease of consuming those web services from JavaScript and/or the browser is not spectacular.</p> <p>It' no wonder that JavaScript Object Notation, <em>aka</em> JSON became a <em>de facto</em> standard. JSON brought <a href="https://en.wikipedia.org/wiki/Representational_state_transfer" target="_blank" rel="noopener">REST</a> along with it. As its name implies, JSON is JavaScript native, while XML is not.</p> </div> <div> <h3 id="steep-first-steps">Steep first steps</h3> <p>JSON is quite easy to start with, YAML even more so. Even with bare XML, one has the concept of namespaces, which are not beginner-friendly. XML allows one document to use elements from different namespaces. On the flip side, it makes designing simple documents more complicated.</p> <p>XML has a lot of powerful features, but all this power can be confusing to beginners. I willingly admit that they make easy things more complex than they should.</p> </div> <div> <h3 id="performance">Performance</h3> <p>I’ve stumbled upon the performance "argument" a couple of time. This is usually "proven" by using a sample describing the same in XML, JSON and YAML. Because of its opening <strong>and</strong> closing tags, the writer shows that XML is quite noisy compared to the other two.</p> <p>IMHO, this argument is shallow, as all 3 formats are text-based. Thus, you can - and should - compress files. Parsing might be a bit slower, but it depends a lot on the exact parser (and the associated technology stack). In the end, the overhead of transmitting and parsing in XML - if any - is negligible compared to the total time in the whole use-case.</p> <p>People who favor YAML over JSON use the same reasoning: less characters.</p> </div> <div> <h3 id="abuse">Abuse</h3> <p>The above reasons are more or less congruent with XML. Yet, I’m more than willing to admit architects have been abusing XML. I’ve personally seen SOAP webservices with payload in the order of several megabytes. At that time, you might imagine the performance of such design was not stellar.</p> </div> </div> </div> <div> <h2 id="failings-of-alternatives">Failings of alternatives</h2> <div> <p>JSON, YAML &amp; al. all have their own failings. Here’s a sample of them:</p> <ul><li><span>JSON has no comments. The most usual fallback is to use the <code>"_comment"</code> property.</span><div> <div> <pre><code data-lang="json"><span>{</span><span>
  </span><span>"foo"</span><span>:</span><span> </span><span>{</span><span>
    </span><span>"_comment"</span><span> </span><span>:</span><span> </span><span>"My important comment"</span><span>,</span><span>
    </span><span>"bar"</span><span>:</span><span> </span><span>true</span><span>
  </span><span>}</span><span>
</span><span>}</span></code></pre> </div> </div></li><li><span>YAML has no governing body. Individuals manage the specification.</span></li><li><span>YAML has <strong>22 ways to write booleans</strong> - no less!</span></li></ul> <div> <div> <div> <blockquote> <p>Anyone who uses YAML long enough will eventually get burned when attempting to abbreviate Norway.</p> </blockquote>  </div> </div> </div> <div> <div><blockquote><div lang="en" dir="ltr"><p>YAML is to config syntaxes what Python is to programming languages. Seriously, significant whitespaces?</p><p>Have fun with a 500 lines of YAML to configure your Kubernetes deployment, and come back to explain why *you* hate it.</p></div>— Nicolas Frankel (@Home for a long time I believe) (@nicolas_frankel) <a href="https://twitter.com/nicolas_frankel/status/1273888063463325697?ref_src=twsrc%5Etfw">June 19, 2020</a></blockquote>  </div> </div> <p>To cope with the above, other formats have poped-up:</p> <ul><li><span><a href="https://github.com/toml-lang/toml" target="_blank" rel="noopener"><abbr title="Tom’s Obvious, Minimal Language">TOML</abbr></a> draws its inspiration from the <a href="https://en.wikipedia.org/wiki/INI_file" target="_blank" rel="noopener"><code>.ini</code></a> format. It allows nested hierarchies of properties</span></li><li><span>Lightbend pushes the <abbr title="Human-Optimized Config Object Notation">HOCON</abbr> format:</span></li></ul> <div> <div> <div> <blockquote> <p>This is an informal spec, but hopefully it’s clear.</p> </blockquote>  </div> <p>This one statement doesn’t fill me confidence.</p> </div> </div> </div> </div> <div> <h2 id="the-original-sin-the-lack-of-grammar">The original sin: the lack of grammar</h2> <div> <p>Whatever the format, regardless of their own specific downsides, one of the most important issue is for clients to decide if the read data is <em>correct</em> or not.</p> <p>When using JSON and YAML, the different clients need to provide <em>ad hoc</em> validation. Issues arise when the provider changes the data format:</p> <ol><li><span>How to make clients aware that the format changed?</span></li><li><span>What information to communicate to the client about the format change?</span></li><li><span>How to keep validation synchronized across clients?</span></li></ol> <p>XML has this issue solved since the beginning by providing a <strong>grammar</strong>. A grammar plays the same role for a XML document as constraints and types in a SQL database. The most important difference is that you can externalize the grammar.</p> <p>Several XML grammar implementations are available: <a href="https://www.w3.org/XML/1998/06/xmlspec-report-19980910.htm" target="_blank" rel="noopener">Document Type Definition</a>, <a href="https://www.w3.org/XML/Schema" target="_blank" rel="noopener">XML Schema</a>, <a href="https://relaxng.org/" target="_blank" rel="noopener">Relax NG</a>, etc. The most widespread one is XML Schema. Since a XML Schema is also written in XML format, a web server can host it. Then you can reference it by a publicly-accessible URL.</p> <p>This approach solves the above issues: when a client receives an XML document, the former looks at the XML Schema URL. It can then fetch it, and check that the data conforms to the schema.</p> <p>Changing the data format is as simple as versioning the XML Schema file, and publishing it under a new URL.</p> </div> </div> <div> <h2 id="other-benefits-of-xml">Other benefits of XML</h2> <div> <p>In this section, I’d like to list a couple of benefits of using XML.</p> <div> <dl> <dt>Public open stewardship</dt> <dd> <p>XML is not under the stewardship of a single person or a company, but of a <abbr title="Non-Governmental Organization">NGO</abbr>, namely the <a href="https://www.w3.org/" target="_blank" rel="noopener">W3C</a>. A W3C specification has a <a href="https://www.w3.org/2019/Process-20190301/" target="_blank" rel="noopener">publicly documented process and defined lifecycle</a>.</p> </dd> <dt>Battle-proven</dt> <dd> <p>XML is not hype, but benefits from plenty of documentation, blog posts, and <a href="https://stackoverflow.com/questions/tagged/xml" target="_blank" rel="noopener">FAQs</a> available</p> </dd> <dt>Composable</dt> <dd> <p>While XML doesn’t strictly enforces namespaces, it’s considered a good practice. This way, similarly-named entities defined in different namespaces can co-exist in the same document without confusion about semantics.</p> </dd> <dt>Different flavors</dt> <dd> <p>XML parsing comes into two flavors:</p> <ol><li><span>Tree-based parsing <em>i.e.</em> <a href="https://dom.spec.whatwg.org/" target="_blank" rel="noopener">Document Object Model</a>. It loads the whole document in memory</span></li><li><span>Event-based parsing <em>i.e.</em> <a href="http://www.saxproject.org/" target="_blank" rel="noopener">Simple API for XML</a>. It makes possible the parsing of large documents. Note that SAX is <strong>not</strong> a W3C specification.</span></li></ol> </dd> <dt>Implementation in different languages</dt> <dd> <p>Every commonly-used language in the industry offers at least one XML parsing implementation. This is either baked in the standard library that comes along the language, or available in a third-party one. Here are a couple of them:</p> </dd> </dl> </div>  <div> <dl> <dt>Document transformation</dt> <dd> <p><abbr title="eXtensible Stylesheet Language Transformation">XSLT</abbr> is <a href="https://www.w3.org/TR/1999/REC-xslt-19991116" target="_blank" rel="noopener">a W3C specification</a>. It allows to transform one XML document into another document in a declarative way. Target documents can be either XML themselves, or not.</p> </dd> <dt>Document querying</dt> <dd> <p><abbr title="XML Path Language">XPath</abbr> is <a href="https://www.w3.org/TR/2017/REC-xpath-31-20170321/" target="_blank" rel="noopener">another W3C specification</a>. It defines how to query XML documents, similar to CSS selectors.</p> </dd> </dl> </div> </div> </div> <div> <h2 id="conclusion">Conclusion</h2> <div> <p>XML has a lot of advantages compared to other more alternative technologies. In addition to what I described above, it benefits from a <a href="https://www.w3.org/standards/xml/" target="_blank" rel="noopener">rich ecosystem</a>.</p> <p>It’s not considered hype by a lot of young (and not so young) developers. I believe would be beneficial if our industry would value more battle-proven technologies than new shiny ones.</p> </div> </div>    </div> </section>   </article> </div> </div></div>]]>
            </description>
            <link>https://blog.frankel.ch/defense-xml/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24614404</guid>
            <pubDate>Mon, 28 Sep 2020 08:40:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Stupid solutions: Live server push without JS]]>
            </title>
            <description>
<![CDATA[
Score 121 | Comments 23 (<a href="https://news.ycombinator.com/item?id=24613610">thread link</a>) | @lawik
<br/>
September 27, 2020 | https://underjord.io/live-server-push-without-js.html | <a href="https://web.archive.org/web/*/https://underjord.io/live-server-push-without-js.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<small>2020-09-25</small><!-- RSS:2020-09-25T17:00:00Z -->
<p>
    So in my post <a href="https://underjord.io/is-this-evil.html">Is this evil?</a> I covered a way of tracking users with CSS. While
    thinking about those weird ways of using the web I also started thinking about pushing live data to clients
    without JS. Or at least maintaining a connection.
    So WebSockets requires JS. WebRTC requires JS. Even HLS (video streaming), which would otherwise
    be super cool, with captions for accessibility. But no. Or rather, maybe on Apple platforms. Eh. Not good enough.
</p>
<p>And then it hit me. From some old Nerves projects I'd seen, that there is a standard for just sending a stream of
    JPEG frames as a video. MJPEG. Did you know about MJPEG? Lots of people don't. It is used by lots of webcams and
    security cameras. Common option for Raspberry Pi hacks as well. MJPEG is super simple which is its big advantage.
</p>
<p>But video is what we expect. I was going for something else. So this could be used for a CI status light, showing
    any amount of visual status information. I use it for this:</p>
<p><img alt="live visual readership indicator" loading="lazy" src="https://count.underjord.io/"></p>
<p>That's live. Or dead if my server falls over.</p>
<p>So how does MJPEG work. Well, you take an <code>&lt;img&gt;</code> tag and you shove an MJPEG URL into it. Done.</p>
<p>Okay, that's how you use it. Not how it works. I implemented it in Elixir, Elixir is quite good at keeping state and
    serving updates. Links are below. But basically the browser opens the connection, receives some headers and some
    chunks of data and then realizes it is dealing with MJPEG. It wil then just expect the chunks to keep coming.
    Indefinitely. Because this is live video. Frame by frame of JPEG.</p>
<p>The basic code for the MJPEG headers and chunking was lifted from a pi camera repo made by the Nerves team. It had a
    lot of Frank Hunleth and Connor Rigby in it so kudos to those guys as always. This is what I did with it: <a href="https://github.com/lawik/mjpeg/blob/master/lib/mjpeg.ex">lawik/mjpeg</a></p>
<p>My server implementation is here and uses the above code: <a href="https://github.com/lawik/mjpeg_example/blob/master/lib/mjpeg_example.ex">lawik/mjpeg_example</a></p>
<p>So I receive the connection and then that calls my MjpegExample GenServer to persist the connection and keep track of
    how to notify that connection about new data. It also triggers an update to notify everyone already connected.</p>
<p>This is not polished, it is hammered together and I'm curious to see if it falls over the next time I get a decent
    amount of traffic.</p>
<p>I really like this approach because it is a fun hack that simply happens to work across browsers and quite well at
    that. I like how it is just an img element and no frills. I added lazy loading because that works more nicely with
    things like Google Lighthouse scores and the loading experience (your browser doesn't spend a few seconds thinking
    about loading the image).</p>
<p>Unfortunately it is absolutely a poor choice to actually use aside from fun and hacky stuff. There is no good way of
    doing accessibility with it. You can update the pixels and that is it. Unless you can chunk-stream a txt-file in an
    iframe.
    Haven't tried that yet...</p>
<p>So, don't use it. But isn't it pretty neat?</p>
<p>Of course, much like the CSS tracking, this can be used for evilish things. You can absolutely keep track of how long
    someone keeps receiving your frames and use that for your analytics. I also find it neat that it lets me know
    concurrent users. I just log the number along with sending it out because I want to know at what number it breaks
    and out of curiosity but you can probably do some mildly untoward things with this. Oh.. Wait. You could serve
    rotating ads with this. You know what the last frame you sent was so if you get a click on it you can direct that
    particular user to the right thing. New title: Ad placement entirely without JS, ugh, no thanks. Moving on.</p>
<p>If you know how to make this more dirty, hacky and fun or even more useful or accessible feel free to get in touch at
    <a href="mailto:lars@underjord.io">lars@underjord.io</a> or on
    Twitter where I'm <a href="https://twitter.com/lawik">@lawik</a>.</p><p><img alt="live visual readership indicator" loading="lazy" src="https://count.underjord.io/"></p>

</div></div>]]>
            </description>
            <link>https://underjord.io/live-server-push-without-js.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24613610</guid>
            <pubDate>Mon, 28 Sep 2020 06:36:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Compiling to Assembly from Scratch: the book, released]]>
            </title>
            <description>
<![CDATA[
Score 79 | Comments 10 (<a href="https://news.ycombinator.com/item?id=24609774">thread link</a>) | @halst
<br/>
September 27, 2020 | https://keleshev.com/cas | <a href="https://web.archive.org/web/*/https://keleshev.com/cas">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://keleshev.com/cas</link>
            <guid isPermaLink="false">hacker-news-small-sites-24609774</guid>
            <pubDate>Sun, 27 Sep 2020 20:09:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Apple’s use of Swift and SwiftUI in iOS 14]]>
            </title>
            <description>
<![CDATA[
Score 183 | Comments 129 (<a href="https://news.ycombinator.com/item?id=24609096">thread link</a>) | @Timac
<br/>
September 27, 2020 | https://blog.timac.org/2020/0927-state-of-swift-ios14/ | <a href="https://web.archive.org/web/*/https://blog.timac.org/2020/0927-state-of-swift-ios14/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wrapper">
            

            <div id="container">


<div>
    <article>
        

        <div>
    <p>Swift was introduced a couple of years ago at Apple's 2014 WWDC. Over the years I analyzed iOS to measure how many built-in applications were using Swift. iOS 9 released in 2015 included a single application written with Swift: Calculator. Since then this number has grown with each iOS release: <a href="https://blog.timac.org/2016/1101-apples-use-of-swift-in-ios-10-1-and-macos-10-12/">iOS 10.1</a>, <a href="https://blog.timac.org/2017/1115-state-of-swift-ios11-1-macos10-13/">iOS 11.1</a>, <a href="https://blog.timac.org/2018/0924-state-of-swift-ios12/">iOS 12.0</a> and finally <a href="https://blog.timac.org/2019/0926-state-of-swift-ios13/">iOS 13.1</a>.</p>
<p>iOS 14 is now available so let's check how this number evolved since iOS 13. Apple announced SwiftUI during WWDC 2019, a year ago. In this article I will also try to measure which built-in apps are using this new UI framework.</p>

<p>The methodology and tools used for this article have been detailed in the previous posts. If you are interested, please refer to <a href="https://blog.timac.org/2016/1101-apples-use-of-swift-in-ios-10-1-and-macos-10-12/">Apple’s use of Swift in iOS 10.1 and macOS 10.12</a>.</p>
<p>Later in this article, I describe how I adjusted the tools to detect SwiftUI.</p>

<p>iOS 14.0 contains 351 binaries and frameworks using Swift. Note that these binaries might contain a single line of Swift code and are not necessarily entirely written in Swift. This list has been built using iOS 14.0 (18A373) for iPhone 11 Pro Max:</p>
<pre><code>/Applications/ActivityMessagesApp.app/PlugIns/ActivityMessagesExtension.appex/ActivityMessagesExtension
/Applications/AppStore.app/AppStore
/Applications/AppStore.app/PlugIns/ProductPageExtension.appex/ProductPageExtension
/Applications/AppStore.app/PlugIns/SubscribePageExtension.appex/SubscribePageExtension
/Applications/BusinessExtensionsWrapper.app/PlugIns/Business.appex/Business
/Applications/Diagnostics.app/Diagnostics
/Applications/FindMy.app/FindMy
/Applications/FindMy.app/PlugIns/FindMyNotificationsContent.appex/FindMyNotificationsContent
/Applications/FindMy.app/PlugIns/FindMyNotificationsService.appex/FindMyNotificationsService
/Applications/FindMy.app/PlugIns/FindMySiriIntents.appex/FindMySiriIntents
/Applications/FTMInternal-4.app/FTMInternal-4
/Applications/GameCenterUIService.app/PlugIns/GameCenterMessageExtension.appex/GameCenterMessageExtension
/Applications/Health.app/Health
/Applications/HealthENBuddy.app/HealthENBuddy
/Applications/HealthENLauncher.app/HealthENLauncher
/Applications/InCallService.app/InCallService
/Applications/Magnifier.app/Magnifier
/Applications/MobilePhone.app/MobilePhone
/Applications/MobileSlideShow.app/PlugIns/PhotosReliveWidget.appex/PhotosReliveWidget
/Applications/MobileTimer.app/PlugIns/WorldClockWidget.appex/WorldClockWidget
/Applications/SharingViewService.app/SharingViewService
/Applications/Sidecar.app/PlugIns/ContinuityCamera.appex/ContinuityCamera
/Applications/Sidecar.app/PlugIns/ContinuityDisplay.appex/ContinuityDisplay
/Applications/Sidecar.app/PlugIns/ContinuityMarkup.appex/ContinuityMarkup
/Applications/Sidecar.app/PlugIns/ContinuitySignature.appex/ContinuitySignature
/Applications/Sidecar.app/PlugIns/ContinuitySketch.appex/ContinuitySketch
/Applications/Sidecar.app/Sidecar
/Applications/SleepLockScreen.app/SleepLockScreen
/private/var/staged_system_apps/AppleTV.app/PlugIns/TVWidgetExtension.appex/TVWidgetExtension
/private/var/staged_system_apps/Books.app/Books
/private/var/staged_system_apps/Books.app/Frameworks/BookCore.framework/BookCore
/private/var/staged_system_apps/Books.app/Frameworks/JSApp.framework/JSApp
/private/var/staged_system_apps/Calculator.app/Calculator
/private/var/staged_system_apps/Files.app/Files
/private/var/staged_system_apps/Fitness.app/Fitness
/private/var/staged_system_apps/Fitness.app/PlugIns/FitnessWidget.appex/FitnessWidget
/private/var/staged_system_apps/Maps.app/PlugIns/GeneralMapsWidget.appex/GeneralMapsWidget
/private/var/staged_system_apps/Measure.app/Measure
/private/var/staged_system_apps/MobileCal.app/PlugIns/CalendarWidgetExtension.appex/CalendarWidgetExtension
/private/var/staged_system_apps/MobileNotes.app/MobileNotes
/private/var/staged_system_apps/MobileNotes.app/PlugIns/com.apple.mobilenotes.SharingExtension.appex/com.apple.mobilenotes.SharingExtension
/private/var/staged_system_apps/MobileNotes.app/PlugIns/com.apple.mobilenotes.WidgetExtension.appex/com.apple.mobilenotes.WidgetExtension
/private/var/staged_system_apps/Music.app/Frameworks/MusicApplication.framework/MusicApplication
/private/var/staged_system_apps/Music.app/Frameworks/MusicApplication.framework/XPCServices/MusicScriptUpdateService.xpc/MusicScriptUpdateService
/private/var/staged_system_apps/Music.app/Music
/private/var/staged_system_apps/Music.app/PlugIns/MediaPicker.appex/MediaPicker
/private/var/staged_system_apps/Music.app/PlugIns/MusicMessagesApp.appex/MusicMessagesApp
/private/var/staged_system_apps/Music.app/PlugIns/MusicNotificationContentExtension.appex/MusicNotificationContentExtension
/private/var/staged_system_apps/Music.app/PlugIns/MusicWidgets.appex/MusicWidgets
/private/var/staged_system_apps/Music.app/PlugIns/PlaybackIntent.appex/PlaybackIntent
/private/var/staged_system_apps/News.app/PlugIns/NewsAudioExtension.appex/NewsAudioExtension
/private/var/staged_system_apps/News.app/PlugIns/NewsTag.appex/NewsTag
/private/var/staged_system_apps/News.app/PlugIns/NewsToday2.appex/NewsToday2
/private/var/staged_system_apps/News.app/PlugIns/NewsTodayIntents.appex/NewsTodayIntents
/private/var/staged_system_apps/Podcasts.app/Frameworks/AppStoreKit.framework/AppStoreKit
/private/var/staged_system_apps/Podcasts.app/Frameworks/NowPlayingUI.framework/NowPlayingUI
/private/var/staged_system_apps/Podcasts.app/Frameworks/PodcastsStoreUI.framework/PodcastsStoreUI
/private/var/staged_system_apps/Podcasts.app/PlugIns/PodcastsClassKitExtension.appex/PodcastsClassKitExtension
/private/var/staged_system_apps/Podcasts.app/PlugIns/PodcastsWidget.appex/PodcastsWidget
/private/var/staged_system_apps/Podcasts.app/Podcasts
/private/var/staged_system_apps/Reminders.app/PlugIns/RemindersIntentsExtension.appex/RemindersIntentsExtension
/private/var/staged_system_apps/Reminders.app/PlugIns/RemindersIntentsUIExtension.appex/RemindersIntentsUIExtension
/private/var/staged_system_apps/Reminders.app/PlugIns/RemindersSharingExtension.appex/RemindersSharingExtension
/private/var/staged_system_apps/Reminders.app/PlugIns/RemindersSpotlightIndexExtension.appex/RemindersSpotlightIndexExtension
/private/var/staged_system_apps/Reminders.app/PlugIns/RemindersWidgetExtension.appex/RemindersWidgetExtension
/private/var/staged_system_apps/Reminders.app/Reminders
/private/var/staged_system_apps/SequoiaTranslator.app/PlugIns/CacheDeleteExtension.appex/CacheDeleteExtension
/private/var/staged_system_apps/SequoiaTranslator.app/SequoiaTranslator
/private/var/staged_system_apps/Shortcuts.app/Shortcuts
/private/var/staged_system_apps/Stocks.app/PlugIns/StocksDetailIntents.appex/StocksDetailIntents
/private/var/staged_system_apps/Stocks.app/PlugIns/StocksWidget.appex/StocksWidget
/private/var/staged_system_apps/Stocks.app/Stocks
/private/var/staged_system_apps/Tips.app/PlugIns/TipsSwift.appex/TipsSwift
/private/var/staged_system_apps/Weather.app/PlugIns/WeatherWidget.appex/WeatherWidget
[...]
</code></pre>
<p>You can get the full list here: <a href="https://blog.timac.org/2020/0927-state-of-swift-ios14/BinariesUsingSwift.txt">BinariesUsingSwift.txt</a></p>

<p>SwiftUI, announced at WWDC 2019, is a new framework to build user interfaces with Swift. As a consequence a binary using SwiftUI will use Swift. Can we get the list of built-in apps using SwiftUI?</p>
<p>When I worked on the iOS 14 widgets for <a href="https://apps.apple.com/app/clatters/id1480930237">Clatters 3.0</a>, I noted that the widgets were linking against <code>/System/Library/Frameworks/SwiftUI.framework/Versions/A/SwiftUI</code>.</p>
<p><em>( <a href="https://apps.apple.com/app/clatters/id1480930237">Clatters</a> lets you easily monitor in one place your brand, product or any other keyword on your favorite social networks - Twitter, Reddit, HackerNews and even comments on the iOS App Store. You should check it out at <a href="https://apps.apple.com/app/clatters/id1480930237">https://apps.apple.com/app/clatters/id1480930237</a>! 😜 )</em></p>
<p>The script detecting Swift could easily be adjusted to detect SwiftUI by using this line:</p>
<pre><code>otool -L $1 2&gt;/dev/null | grep -o /System/Library/Frameworks/SwiftUI.framework/SwiftUI | wc -l
</code></pre>

<p>Until now I did not publish the list of apps using SwiftUI in iOS. To have a first reference, I built the list for iOS 13.7. With no surprise, iOS 13.7 only contained a handful of binaries relying on SwiftUI:</p>
<pre><code>/Applications/SharingViewService.app/SharingViewService
/System/Library/Frameworks/SwiftUI.framework/SwiftUI
/System/Library/PrivateFrameworks/Settings/LegalAndRegulatorySettingsPrivate.framework/LegalAndRegulatorySettingsPrivate
/System/Library/PrivateFrameworks/Settings/SettingsUIKitPrivate.framework/SettingsUIKitPrivate
/System/Library/PrivateFrameworks/Settings/WallpaperSettings.framework/WallpaperSettings
/System/Library/PrivateFrameworks/VideosUI.framework/VideosUI
</code></pre>

<p>iOS 14.0 contains a lot more binaries using SwiftUI. The primary reason is without a doubt WidgetKit, the first public SwiftUI-only framework.
Each widget available in iOS 14 appears in this list. Another shiny new iOS 14 feature is the Translate app  which appears to be built with SwiftUI.</p>
<pre><code>/Applications/MobilePhone.app/MobilePhone
/Applications/MobileSlideShow.app/PlugIns/PhotosReliveWidget.appex/PhotosReliveWidget
/Applications/MobileTimer.app/PlugIns/WorldClockWidget.appex/WorldClockWidget
/Applications/SharingViewService.app/SharingViewService
/Applications/SleepLockScreen.app/SleepLockScreen
/private/var/staged_system_apps/AppleTV.app/PlugIns/TVWidgetExtension.appex/TVWidgetExtension
/private/var/staged_system_apps/Fitness.app/PlugIns/FitnessWidget.appex/FitnessWidget
/private/var/staged_system_apps/Maps.app/PlugIns/GeneralMapsWidget.appex/GeneralMapsWidget
/private/var/staged_system_apps/MobileCal.app/PlugIns/CalendarWidgetExtension.appex/CalendarWidgetExtension
/private/var/staged_system_apps/MobileNotes.app/PlugIns/com.apple.mobilenotes.WidgetExtension.appex/com.apple.mobilenotes.WidgetExtension
/private/var/staged_system_apps/Music.app/PlugIns/MusicWidgets.appex/MusicWidgets
/private/var/staged_system_apps/News.app/PlugIns/NewsTag.appex/NewsTag
/private/var/staged_system_apps/News.app/PlugIns/NewsToday2.appex/NewsToday2
/private/var/staged_system_apps/Podcasts.app/PlugIns/PodcastsWidget.appex/PodcastsWidget</code></pre></div></article></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.timac.org/2020/0927-state-of-swift-ios14/">https://blog.timac.org/2020/0927-state-of-swift-ios14/</a></em></p>]]>
            </description>
            <link>https://blog.timac.org/2020/0927-state-of-swift-ios14/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24609096</guid>
            <pubDate>Sun, 27 Sep 2020 18:43:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Picat 3.0 released (logic-based multi-paradigm programming language)]]>
            </title>
            <description>
<![CDATA[
Score 137 | Comments 17 (<a href="https://news.ycombinator.com/item?id=24608997">thread link</a>) | @callmekit
<br/>
September 27, 2020 | http://picat-lang.org/updates.txt | <a href="https://web.archive.org/web/*/http://picat-lang.org/updates.txt">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://picat-lang.org/updates.txt</link>
            <guid isPermaLink="false">hacker-news-small-sites-24608997</guid>
            <pubDate>Sun, 27 Sep 2020 18:32:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Automatic layout algorithms compute layouts for diagrams]]>
            </title>
            <description>
<![CDATA[
Score 124 | Comments 15 (<a href="https://news.ycombinator.com/item?id=24607054">thread link</a>) | @wiradikusuma
<br/>
September 27, 2020 | https://rtsys.informatik.uni-kiel.de/elklive/ | <a href="https://web.archive.org/web/*/https://rtsys.informatik.uni-kiel.de/elklive/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <div>
            <div>
                <p><img src="https://rtsys.informatik.uni-kiel.de/elklive/img/elk.svg" width="150" alt=""></p>
                <p>
                    Automatic layout algorithms compute layouts for diagrams.
                    Never tried them?
                    Well, here's your chance.
                    Choose one of the thingies below and start playing!
                </p>
            </div>
        </div>

        <div>
            <div>
                <div>
                    <div>
                        <h3><a href="https://rtsys.informatik.uni-kiel.de/elklive/elkgraph.html">Interactive Editor</a></h3>
                        <p>
                            Interactively edit a textual description of a graph
                            while a corresponding diagram is generated on-the-fly.
                            Basically,
                            build your own graphs
                            and see what automatic layout does with them.
                            You can choose out of the following two formats,
                            both supporting content&nbsp;assist (<code>Ctrl+Space</code>) and formatting (<code>Shift+Alt+F</code>):
                        </p>
                        
                    </div>
                </div>
            </div>
            <div>
                <div>
                    <div>
                        <h3><a href="https://rtsys.informatik.uni-kiel.de/elklive/examples.html">Examples</a></h3>
                        <p>
                            An annotated collection of example graphs.
                            Their main purpose is to illustrate
                            various configuration possibilities,
                            in particular those that are often-used.
                        </p>
                        <p>
                            The source of the examples can be found in ELK's
                            <a href="https://github.com/eclipse/elk-models">models repository</a>.
                            Pull-requests with concise and new examples are very welcome.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div>
                <div>
                    <div>
                        <div>
                            <h3><a href="https://rtsys.informatik.uni-kiel.de/elklive/models.html">Model Browser</a></h3>
                            <p>
                                An interactive browser
                                for the Eclipse Layout Kernel's
                                <a href="https://github.com/eclipse/elk-models">repository of test models</a>.
                                See what automatic layout does to diagrams
                                that we have created for you
                                (well, mainly for us, but you may look at them, too).
                            </p>
                            <p>
                                Layout is performed within your browser using elkjs (latest).
                            </p>
                        </div>
                    </div>
                </div>
            <div>
                <div>
                    <div>
                        <h3><a href="https://rtsys.informatik.uni-kiel.de/elklive/conversion.html">Graph Format Conversion</a></h3>
                        <p>
                            A side-by-side view of two graph formats.
                            Allows to interactively convert one graph format into another.
                            It's possible to invoke the conversion programmatically,
                            see the site for details.
                        </p>
                        <p>
                            Supports ELK's Xtext-based <code>elkt</code>, <code>json</code>, and <code>elkg</code> (XMI) formats.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div><div>
            
            <div>
                <div>
                    <p><strong>Used Technologies</strong></p>
                    <dl>
                        <dt>
                            <a href="https://www.eclipse.org/elk/">Eclipse Layout Kernel (ELK)</a>
                        </dt>
                        <dd>
                            Java-based implementations of automatic layout algorithms.
                            This is what computes layouts for the diagrams so you don't have to.
                        </dd>
                        <dt>
                            <a href="https://github.com/kieler/elkjs/">elkjs</a>
                        </dt>
                        <dd>
                            JavaScript-based version of ELK, automatically transpiled from the Java sources.
                        </dd>
                        <dt>
                            <a href="https://github.com/eclipse/sprotty">Sprotty</a>
                        </dt>
                        <dd>
                            A next-gen web-based graphics framework.
                            This is what shows the diagrams.
                        </dd>
                        <dt>
                            <a href="https://microsoft.github.io/monaco-editor/">Monaco Editor</a>
                        </dt>
                        <dd>
                            The code editor that powers <a href="https://github.com/Microsoft/vscode">Visual Studio Code</a>.
                            The thing that lets you specify your graphs.
                        </dd>
                        <dt>
                            <a href="https://github.com/eclipse/lsp4j">LSP4J</a>
                        </dt>
                        <dd>
                            A Java binding for the <a href="https://github.com/Microsoft/language-server-protocol">Language Server Protocol</a>.
                            This adds code completion and error markers to the editor.
                        </dd>
                        <dt>
                            <a href="http://xtext.org/">Xtext</a>
                        </dt>
                        <dd>
                            A framework for development of programming languages and domain-specific languages.
                            Our textual languages were built with this.
                        </dd>
                    </dl>
                </div>
            </div>
        </div></div>
    </div></div>]]>
            </description>
            <link>https://rtsys.informatik.uni-kiel.de/elklive/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24607054</guid>
            <pubDate>Sun, 27 Sep 2020 14:51:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hal Finney’s proposal for optimizing Bitcoin to be enabled in Bitcoin Core]]>
            </title>
            <description>
<![CDATA[
Score 171 | Comments 162 (<a href="https://news.ycombinator.com/item?id=24605568">thread link</a>) | @syck
<br/>
September 27, 2020 | https://www.btctimes.com/news/hal-finneys-proposal-for-optimizing-bitcoin-to-be-enabled-in-bitcoin-core | <a href="https://web.archive.org/web/*/https://www.btctimes.com/news/hal-finneys-proposal-for-optimizing-bitcoin-to-be-enabled-in-bitcoin-core">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><a itemprop="keywords" title="category page" href="https://www.btctimes.com/news/tag/bitcoin">Bitcoin</a><a itemprop="keywords" title="category page" href="https://www.btctimes.com/news/tag/technology">Technology</a></p><!----><h2 itemprop="headline"> Hal Finney’s Proposal for Optimizing Bitcoin to Be Enabled in Bitcoin Core </h2><!----><!----><!----><p dir="ltr">Today, a <a href="https://patents.google.com/patent/US7110538B2/en" target="_blank">patent involving the acceleration of cryptographic operations on elliptic curves</a> has expired. Invented by Gallant, Lambert, and Vanstone, this technique is commonly referred to as GLV Endomorphism and can now be activated in Bitcoin Core in order to improve the speed and efficiency of Bitcoin’s signature verification.</p><h2 dir="ltr">Hal Finney, GLV Endomorphism, and Patents</h2><p dir="ltr">The use of GLV Endomorphism was first explored by Hal Finney, one of Bitcoin’s earliest contributors and the <a href="https://bitcointalk.org/index.php?topic=155054.0" target="_blank">first person to receive a Bitcoin transaction from Satoshi Nakamoto</a>.</p><p dir="ltr">In his <a href="https://bitcointalk.org/index.php?topic=3238.msg45565#msg45565" target="_blank">bitcointalk.org post</a> on February 8th, 2011, Finney shared that he had been inspired to experiment with this technique after reading the <a href="https://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.394.3037&amp;rep=rep1&amp;type=pdf" target="_blank">Guide to Elliptic Curve Cryptography, by Hankerson, Menezes and Vanstone</a> - the same Vanstone who submitted the patent. His initial tests were promising, revealing an estimated 25% increase in the optimization of signature verification.</p><p dir="ltr">Since then, the feature has been implemented in Bitcoin Core but has yet to be enabled due to the existing patent around the cryptography that was filed on December 23rd, 1999.&nbsp;</p><p dir="ltr">“Implementing it was one of the original motivations in developing the libsecp256k1 library, which has since replaced all cryptographic use of OpenSSL in Bitcoin Core,” shared Andrew Poelstra of <a href="https://blockstream.com/" target="_blank">Blockstream</a> with the BTC Times. “(But) it was disabled by default to avoid patent concerns and has never been enabled in Bitcoin Core.”</p><p dir="ltr">With the patent expiring, Bitcoin developers will now move quickly to enable GLV Endomorphism: the feature had actually been rigorously tested throughout the development of the libsecp256k1 library, making the optimization just as well-tested and mature as any other part of the library.</p><p dir="ltr">Once activated, nodes should expect to see a significant drop in ongoing resource usage as Bitcoin Core will now utilize the new signature verification method for freshly received transactions and blocks.</p><p dir="ltr">“Once you've caught up to the tip, nodes need to verify every new transaction and block that comes in. All of that will see a direct reduction in CPU usage,” <a href="https://twitter.com/pwuille" target="_blank">Pieter Wuille</a> of <a href="https://chaincode.com/" target="_blank">Chaincode Labs</a> told the BTC Times.&nbsp;</p><p dir="ltr"><a href="https://twitter.com/adam3us" target="_blank">Dr. Adam Back</a> of Blockstream commented, “this performance improvement was first drawn attention to for use in Bitcoin by Hal Finney. Even though he’s no longer with us, his contributions can still be felt.”</p><p dir="ltr">The use of GLV Endomorphism is expected to be activated in Bitcoin Core with the next Core release.</p><!----><div><div><p><img src="https://image.btctimes.com/fit-in/200x200/e299a519b673472199379a1e21e051db.png"></p><p>69</p><p><span>+ 1</span></p></div></div><div><div itemprop="about"><p><a href="https://www.btctimes.com/author/andrew-yang"><img itemprop="image" src="https://image.btctimes.com/fit-in/400x200/4c95a781454f486088a15c0976d544ba.jpg"></a></p></div><p> Andrew Yang is a researcher obsessed with Bitcoin and the Lightning Network. </p></div><!----></div></div>]]>
            </description>
            <link>https://www.btctimes.com/news/hal-finneys-proposal-for-optimizing-bitcoin-to-be-enabled-in-bitcoin-core</link>
            <guid isPermaLink="false">hacker-news-small-sites-24605568</guid>
            <pubDate>Sun, 27 Sep 2020 10:14:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[SimulIDE 0.4.13]]>
            </title>
            <description>
<![CDATA[
Score 63 | Comments 8 (<a href="https://news.ycombinator.com/item?id=24605357">thread link</a>) | @app4soft
<br/>
September 27, 2020 | https://www.simulide.com/2020/09/simulide0413-released.html | <a href="https://web.archive.org/web/*/https://www.simulide.com/2020/09/simulide0413-released.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-body-3720224599007737153">
<p>&nbsp;Hi guys SimulIDE 0.4.13 is available in the download section: https://www.simulide.com/p/downloads.html</p><h3>List of changes since 0.3.12:</h3><div><p><b>Changes:</b><br>&nbsp; RC1:<br>&nbsp;&nbsp;&nbsp; - Dissapear support for toggleSwitch.<br>&nbsp;&nbsp;&nbsp; - Full Adder carry pins at bottom.<br>&nbsp;&nbsp;&nbsp; - Led shape to original, but displaced to Cathode.<br>&nbsp;&nbsp;&nbsp; - Subcircuit default to Logic Symbol.</p><p>&nbsp;&nbsp; &nbsp;&nbsp; RC2:<br>&nbsp;&nbsp;&nbsp; - 100 MHz max. circuit speed.<br>&nbsp;&nbsp;&nbsp; - Editor: Move "Control Circuit" from Editor to Debugger Properties.</p><p>&nbsp;&nbsp; &nbsp;&nbsp; SR5:<br>&nbsp;&nbsp;&nbsp; - Delete key working again to remove Components.</p></div><div><p>&nbsp;&nbsp; &nbsp;<b>New Features:</b><br>&nbsp; RC1:<br>&nbsp;&nbsp;&nbsp; - Text Component opacity.<br>&nbsp;&nbsp;&nbsp; - Text Componext double-click to edit text.<br>&nbsp;&nbsp;&nbsp; - Allow positioning at 1/2 grid.<br>&nbsp;&nbsp;&nbsp; - Even smaller gates.<br>&nbsp;&nbsp;&nbsp; - New Buses: smaller footprint, connectable at both sides, nº Bit.<br>&nbsp;&nbsp;&nbsp; - 16 bit Encoder/Decoder<br>&nbsp;&nbsp;&nbsp; - Easier Auto-Connect pins.<br>&nbsp;&nbsp;&nbsp; - Drag and drop circuit files and open it.</p><p>&nbsp;&nbsp; &nbsp;&nbsp; RC2:<br>&nbsp;&nbsp;&nbsp; - Labels in switches buttons, keyboard accesible.</p><p>&nbsp;&nbsp; &nbsp;&nbsp; RC3:<br>&nbsp;&nbsp;&nbsp; - Multypole Push Switch.<br>&nbsp;&nbsp;&nbsp; - Circuit Zoom with key sequence: Ctrl+ Ctrl-<br>&nbsp;&nbsp;&nbsp; - AVR remote debugging.<br>&nbsp;&nbsp;&nbsp; - Serial Terminal: "Clear" and "CR" buttons.<br>&nbsp;&nbsp;&nbsp; - Make new Subcircuit pin naming compatible with old circuits.<br>&nbsp;&nbsp;&nbsp; - New Dialog: create and edit Package Pins<br>&nbsp;&nbsp;&nbsp; - Create Subcircuit and Package files in one shot.<br>&nbsp;&nbsp;&nbsp; - Inverted Pin Labels rendered with overline.<br>&nbsp;&nbsp;&nbsp; - WaveGen: Random waveform.</p><p>&nbsp;&nbsp; &nbsp;&nbsp; RC4:<br>&nbsp;&nbsp;&nbsp; - Serial Monitor: Choose Usart to use.<br>&nbsp;&nbsp;&nbsp; - I2C module: Master Mode implemented.<br>&nbsp;&nbsp;&nbsp; - AVR Hardware I2C finally working!!<br>&nbsp;&nbsp;&nbsp; - Editor: Document reload.</p><p>&nbsp;&nbsp; &nbsp;&nbsp; RC5:<br>&nbsp;&nbsp;&nbsp; - RAM/ROM load-save binary files.<br>&nbsp;&nbsp;&nbsp; - Buzzer option in Audio Out Component.<br>&nbsp;&nbsp;&nbsp; - Mcu: auto-load firmware at circuit power on (optional).</p><p>&nbsp;&nbsp; &nbsp;&nbsp; RC6:<br>&nbsp;&nbsp;&nbsp; - Move Settings file to user folder: accessible to Win OS.<br>&nbsp;&nbsp;&nbsp; - Add Compile date to About Dialog.<br>&nbsp;&nbsp;&nbsp; - Select Mcu Uart in Serial Port.<br>&nbsp;&nbsp;&nbsp; - Open several Serial Ports at once.<br>&nbsp;&nbsp;&nbsp; - PcLink: Auto-Connect Mcu to Serial Port<br>&nbsp;&nbsp;&nbsp; - Simulation Pause Button.<br>&nbsp;&nbsp;&nbsp; - SSD1306: Addressing completed, invert Display, Disp. Fully On.<br>&nbsp;&nbsp;&nbsp; - Relay Impedance and release current properties.</p><p>&nbsp;&nbsp; &nbsp;&nbsp; Final:<br>&nbsp;&nbsp;&nbsp; - Open several Serial Monitors at once.<br>&nbsp;&nbsp;&nbsp; - Bipolar Stepper Motor.<br>&nbsp;&nbsp;&nbsp; - Probe: Ternary Logic indicator.<br>&nbsp;&nbsp;&nbsp; - Probe: Threshold property.<br>&nbsp;&nbsp;&nbsp; - SSD1306: Basic Hardware Horizontal Scrolling.<br>&nbsp;&nbsp;&nbsp; - Help files: Russian translation ( Sergey Roenko ).<br>&nbsp;&nbsp;&nbsp; - Help files: Spanish translation ( Kike_Gl ).<br>&nbsp;&nbsp;&nbsp; - Help files: Spanish help for 74 Series ( Kike_Gl ).<br>&nbsp;&nbsp;&nbsp; - PcLink Feature deleted.<br>&nbsp;&nbsp;&nbsp; - Serial Port: Auto Open property.</p><p>&nbsp;&nbsp; &nbsp;&nbsp; SR1:<br>&nbsp;&nbsp;&nbsp; - Mcu Logic Symbol enabled.<br>&nbsp;&nbsp;&nbsp; - Some AVR Logic Symbols (Sergey Roenko)<br>&nbsp;&nbsp;&nbsp; - Mcu Help Files enabled.<br>&nbsp;&nbsp;&nbsp; - Some AVR Help files (Sergey Roenko)<br>&nbsp;&nbsp;&nbsp; - Gui French translation (Pascal Cotret)<br>&nbsp;&nbsp;&nbsp; - Change Language: Circuit-&gt;Properties.</p><p>&nbsp; &nbsp; SR3:<br>&nbsp;&nbsp;&nbsp; - Gui Brazilian Portuguese Translation ( Maico Smaniotto ).</p><p>&nbsp;&nbsp; &nbsp;&nbsp; SR4:<br>&nbsp;&nbsp;&nbsp; - Several AVR Logic Symbol Packages (Sergey Roenko).<br>&nbsp;&nbsp;&nbsp; - Several AVR help files (Sergey Roenko).</p></div><div><p>&nbsp;&nbsp; &nbsp;<b>Bug Fixes:</b><br>&nbsp; RC1:<br>&nbsp;&nbsp;&nbsp; - Crash hovering some external object over circuit canvas.<br>&nbsp;&nbsp;&nbsp; - Circuit not updating properly when animated( 0.3.12-SR1 ).<br>&nbsp;&nbsp;&nbsp; - Changes in Logic Devices properties while simulation running not updated.<br>&nbsp;&nbsp;&nbsp; - Load Circuit: avoid connect to already connected pins.<br>&nbsp;&nbsp;&nbsp; - Make 74HC and 74XX interchangeable.<br>&nbsp;&nbsp;&nbsp; - BJT animation not updated.<br>&nbsp;&nbsp;&nbsp; - BJT not working in vco example (0.3.12-RC2).<br>&nbsp;&nbsp;&nbsp; - Fix some memory leaks.<br>&nbsp;&nbsp;&nbsp; - Plotterwidget wrong scale in some cases.<br>&nbsp;&nbsp;&nbsp; - 74HC4022 Logic Symbol not working.</p><p>&nbsp;&nbsp; &nbsp;&nbsp; RC2:<br>&nbsp;&nbsp;&nbsp; - Pic asm Compiler: gpasm does not find includes in project folder.<br>&nbsp;&nbsp;&nbsp; - Time widget scrollBars shown in some systems.</p><p>&nbsp;&nbsp; &nbsp;&nbsp; RC3:<br>&nbsp;&nbsp;&nbsp; - Executable detected as shared lib in some builds.<br>&nbsp;&nbsp;&nbsp; - Push Switch broken (0.4.13-RC2).<br>&nbsp;&nbsp;&nbsp; - Keypad broken (0.4.13-RC2).<br>&nbsp;&nbsp;&nbsp; - debugger broken (0.4.13-RC2).<br>&nbsp;&nbsp;&nbsp; - AVR timer mode 14: Fast PWM, Top=ICR1, doesn't update in OCRX changes.<br>&nbsp;&nbsp;&nbsp; - Capacitor and Inductor not ok at simulation &gt; 1MHz (0.4.13-RC2).<br>&nbsp;&nbsp;&nbsp; - Send Text in Serial monitor limited to 50 characters.<br>&nbsp;&nbsp;&nbsp; - ATtinyX4 wrong Pin assignation in Timer0,1.<br>&nbsp;&nbsp;&nbsp; - ATtinyX4 wrong ADC definition.<br>&nbsp;&nbsp;&nbsp; - Package not initialized if Logic Symbol file not found.<br>&nbsp;&nbsp;&nbsp; - Package should save file relative path, not absolute.<br>&nbsp;&nbsp;&nbsp; - Create Subcircuit taking Component Circuit Id instead of unique Id.<br>&nbsp;&nbsp;&nbsp; - Avoid dash "-" in Subcircuits Pin Ids.<br>&nbsp;&nbsp;&nbsp; - Avoid save Backup in read only filesystems.<br>&nbsp;&nbsp;&nbsp; - SR04 not OK at simulation &gt; 1MHz (0.4.13-RC2).<br>&nbsp;&nbsp;&nbsp; - Clock and WaveGen not OK at simulation &gt; 1MHz (0.4.13-RC2).<br>&nbsp;&nbsp;&nbsp; - Servo Motor not OK at simulation &gt; 1MHz (0.4.13-RC2).<br>&nbsp;&nbsp;&nbsp; - Subcircuits fixed (thanks to Sergey Roenko):<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 74HC42, 74HC74, 74HC75, 74HC151, 74HC155, 74HC192, 74HC93<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 74HC393, 74HC592, 74HC4017, 74HC4026, 74HC4033</p><p>&nbsp;&nbsp; &nbsp;&nbsp; RC4:<br>&nbsp;&nbsp;&nbsp; - I2C module: wrong output impedance when transmiting.<br>&nbsp;&nbsp;&nbsp; - Editor: closing unsaved doc + cancel not working.<br>&nbsp;&nbsp;&nbsp; - Editor: close unsaved doc whith no focus, editor takes the focused one.<br>&nbsp;&nbsp;&nbsp; - PIC with OSCCAL Reg. not working if call 0x3FF is made.<br>&nbsp;&nbsp;&nbsp; - Crash: Debug session + Close doc. + RamTable-&gt;LoadVAriables.<br>&nbsp;&nbsp;&nbsp; - Debugger: some operations taking too long in some cases.<br>&nbsp;&nbsp;&nbsp; - Serial Monitor: some characters missing randomly.<br>&nbsp;&nbsp;&nbsp; - AVR SPI: MOSI pin should be high when idle.<br>&nbsp;&nbsp;&nbsp; - Wrong extension Creating subcircuits in some cases.<br>&nbsp;&nbsp;&nbsp; - Ground not working in Subcircuits.<br>&nbsp;&nbsp;&nbsp; - Crash creating Subcircuit with 2 Package Pins connected together.<br>&nbsp;&nbsp;&nbsp; - Subcircuits fixed (Sergey Roenko strikes again)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 74HC73, 74HC76, 74HC107, 74HC109, 74HC112,74HC113, 74HC173<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 74HC175, 74HC259, 74HC279, 74HC373, 74HC374, 74HC375, 74HC377</p><p>&nbsp;&nbsp; &nbsp;&nbsp; RC5:<br>&nbsp;&nbsp;&nbsp; - Crash closing file with debugger when no mcu ( 0.4.13-RC4 ).<br>&nbsp;&nbsp;&nbsp; - Program hangs removing components in some cases.<br>&nbsp;&nbsp;&nbsp; - Debugger: Simulation keeps running after Stop when not driving Circuit( 0.4.13-RC4 ).<br>&nbsp;&nbsp;&nbsp; - PIC: if PIC goes to sleep fail to exit sleep afther reset.<br>&nbsp;&nbsp;&nbsp; - Crash setting MCU to logic Symbol (No LS available for MCU yet).<br>&nbsp;&nbsp;&nbsp; - Subcircuit: place inversion sign only after the symbol «!» <br>&nbsp;&nbsp;&nbsp; - Crash on some actions while creating connector.<br>&nbsp;&nbsp;&nbsp; - Audio Out wrong at simulation speed &gt; 1e6 (0.4.13-RC2).<br>&nbsp;&nbsp;&nbsp; - Audio Out latency too high.<br>&nbsp;&nbsp;&nbsp; - LatchD randomly not properly initialized.<br>&nbsp;&nbsp;&nbsp; - Drop simu file to canvas should not save state.</p><p>&nbsp; RC6:<br>&nbsp;&nbsp;&nbsp; - Editor: Sintax highlight error parsing some rules.<br>&nbsp;&nbsp;&nbsp; - MCU: Auto-Load not working in Arduino Boards.<br>&nbsp;&nbsp;&nbsp; - Crash: Mcu in circuit + Run + delete Mcu + Run;<br>&nbsp;&nbsp;&nbsp; - Oscope not updating when signal dissapears.<br>&nbsp;&nbsp;&nbsp; - Relays not working randomly.<br>&nbsp;&nbsp;&nbsp; - Fixed 74HC194_LS.package (Sergey Roenko)</p><p>&nbsp;&nbsp; &nbsp;&nbsp; Final:<br>&nbsp;&nbsp;&nbsp; - Stepper: bounding box overlaping pins.<br>&nbsp;&nbsp;&nbsp; - Stepper not updating after change steps number.<br>&nbsp;&nbsp;&nbsp; - Arduino 1.8.10 issue solved.<br>&nbsp;&nbsp;&nbsp; - AppImage tries to backup in Readonly FS.<br>&nbsp;&nbsp;&nbsp; - Some Help Files not Found.<br>&nbsp;&nbsp;&nbsp; - Help files for each subcircuit not possible.<br>&nbsp;&nbsp;&nbsp; - Some wrong error strings higlighted in Arduino Compile.<br>&nbsp;&nbsp;&nbsp; - Memory: Error saving data in read only FS.<br>&nbsp;&nbsp;&nbsp; - Ram/Rom: Error saving and loading binary files.<br>&nbsp;&nbsp;&nbsp; - Text Encoding errors.<br>&nbsp;&nbsp;&nbsp; - Missing file extension filters in Ram/Rom.<br>&nbsp;&nbsp;&nbsp; - Missing file extension filters in Editor-&gt;SaveAs.<br>&nbsp;&nbsp;&nbsp; - Bad Led visualisation when cpu can not keep speed.<br>&nbsp;&nbsp;&nbsp; - Atmega 1280,1281, 2560, wrong package file.<br>&nbsp;&nbsp;&nbsp; - Crash if mcu can't be created + new circuit.<br>&nbsp;&nbsp;&nbsp; - Pic18F4420 missing data file.<br>&nbsp;&nbsp;&nbsp; - Servo: Redraw probrems.</p><p>&nbsp;&nbsp; &nbsp;&nbsp; SR1:<br>&nbsp;&nbsp;&nbsp; - Mosfet animation not updating after Power-Off.<br>&nbsp;&nbsp;&nbsp; - Editor: SaveAs should take current file instead of last file.<br>&nbsp;&nbsp;&nbsp; - Editor: SaveAs+Modify+Compile takes old fileName.<br>&nbsp;&nbsp;&nbsp; - Crash Setting values &lt; 1 pico <br>&nbsp;&nbsp;&nbsp; - Passive Components: should not accept value = 0.<br>&nbsp;&nbsp;&nbsp; - Atmega32u4: Pwm not working.<br>&nbsp;&nbsp;&nbsp; - Atmega32u4: Duplicated Pin D4. (Sergey Roenko)<br>&nbsp;&nbsp;&nbsp; - Atmega64: Wrong Pin20, should be reset. (Sergey Roenko)<br>&nbsp;&nbsp;&nbsp; - Mcu eeprom: error loading data files.<br>&nbsp;&nbsp;&nbsp; - Pic mcu: error reading opencollector pins as input.</p><p>&nbsp;&nbsp; &nbsp;&nbsp; SR2:<br>&nbsp;&nbsp;&nbsp; - Atmega32u4: Fast PWM on pin OC1C doesn't work for timer 1.<br>&nbsp;&nbsp;&nbsp; - Audio Output: cracking sounds.<br>&nbsp;&nbsp;&nbsp; - Volt. Regulator not working in some cases.<br>&nbsp;&nbsp;&nbsp; - PIC16F505 wrong package.<br>&nbsp;&nbsp;&nbsp; - Counter not working in Subcircuits.<br>&nbsp;&nbsp;&nbsp; - Crash deleting a subcircuit that fails to load .subcircuit file.<br>&nbsp;&nbsp;&nbsp; - Gates sometimes fail to restart after power-off (inverter oscillator example).<br>&nbsp;&nbsp;&nbsp; - SubPackage-&gt;LoadPackage fails to set proper default path in some cases.<br>&nbsp;&nbsp;&nbsp; - Logic Devices: Input HighV &amp; LowV not working in Subcircuits.<br>&nbsp;&nbsp;&nbsp; - Windows can only reach 80% simulation speed.<br>&nbsp;&nbsp;&nbsp; - Windows cancel wire by right-click shows context menu.<br>&nbsp;&nbsp;&nbsp; - Drag &amp; drop files not workingin windows.<br>&nbsp;&nbsp;&nbsp; - Editor: some grammatical errors.<br>&nbsp;&nbsp;&nbsp; - Frequencimeter: Wrong value at Circuit speed &gt; 1 MHz.<br>&nbsp;&nbsp;&nbsp; - Plotter not showing small signals properly ( &lt; 0.1 V ).<br>&nbsp;&nbsp;&nbsp; - Mcu: Setting Pin direction can miss previous Pin state.<br>&nbsp;&nbsp;&nbsp; - Mcu: Pullups not working depending on Pin direction set order.<br>&nbsp;&nbsp;&nbsp; - BcdToDec not working in subcircuits.<br>&nbsp;&nbsp;&nbsp; - Editor: asm type not recognized after modify and save.</p><p>&nbsp;&nbsp; &nbsp;&nbsp; SR3:<br>&nbsp;&nbsp;&nbsp; - Clock &amp; WaveGen: Wrong frequency after circuit speed change &gt; 1 MHz while running.<br>&nbsp;&nbsp;&nbsp; - New Circuit when Simulation is paused = Power button dissabled.<br>&nbsp;&nbsp;&nbsp; - Serial Monitor not properly deleted.<br>&nbsp;&nbsp;&nbsp; - Remove waveGen max frequency limit.<br>&nbsp;&nbsp;&nbsp; - AVR Adc not working for channels &gt; 8.<br>&nbsp;&nbsp;&nbsp; - Avr asm Copmiler: error in mega16 &amp; mega 32 .inc files.<br>&nbsp;&nbsp;&nbsp; - Arduino Uno should have a buffer lo drive builtin led.<br>&nbsp;&nbsp;&nbsp; - Locale variants not working (eg. pt_BR).<br>&nbsp;&nbsp;&nbsp; - AVR i2c not working properly.</p><p>&nbsp;&nbsp; &nbsp;&nbsp; SR4:<br>&nbsp;&nbsp;&nbsp; - Drag&amp;Drop files not working as it should (item created at Drag enter).<br>&nbsp;&nbsp;&nbsp; - Crash: Arduino Uno led buffer not properly removed (0.4.13-SR3).<br>&nbsp;&nbsp;&nbsp; - LedMatrix not cleanly removed.<br>&nbsp;&nbsp;&nbsp; - Serial Monitor Windows always on top.<br>&nbsp;&nbsp;&nbsp; - Missing files: TC4560, TC4561 (Sergey Roenko).<br>&nbsp;&nbsp;&nbsp; - 74HC148 not working properly (Sergey Roenko).<br>&nbsp;&nbsp;&nbsp; - Fix Windows version number.</p><p>&nbsp;&nbsp; &nbsp;&nbsp; SR5:<br>&nbsp;&nbsp;&nbsp; - Text Component: Delete Key not working.<br>&nbsp;&nbsp;&nbsp; - PIC Comparator: Output Vref to Pin doesn't work.<br>&nbsp;&nbsp;&nbsp; - Image Component: Animated Gifs not working.<br>&nbsp;&nbsp;&nbsp; - RamTable: Load varset brokes RamTable (addr = 0).<br>&nbsp;&nbsp;&nbsp; - Pic Uart sends extra character after reset (0.4.13.SR2).<br>&nbsp;&nbsp;&nbsp; - Serial Monitor doesn't keep on top of main window …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.simulide.com/2020/09/simulide0413-released.html">https://www.simulide.com/2020/09/simulide0413-released.html</a></em></p>]]>
            </description>
            <link>https://www.simulide.com/2020/09/simulide0413-released.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24605357</guid>
            <pubDate>Sun, 27 Sep 2020 09:24:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Something funny is about to happen to some prices]]>
            </title>
            <description>
<![CDATA[
Score 105 | Comments 97 (<a href="https://news.ycombinator.com/item?id=24605191">thread link</a>) | @solresol
<br/>
September 27, 2020 | http://blog.ifost.org.au/2020/09/something-funny-is-about-to-happen-to.html | <a href="https://web.archive.org/web/*/http://blog.ifost.org.au/2020/09/something-funny-is-about-to-happen-to.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-body-4681556334331762709" itemprop="description articleBody">
<p>Landfill is an interesting product. The price fluctuates far enough that it can fluctuate from positive to negative and back again. If someone is building a tunnel, you can probably get paid to <i>take</i> landfill. If someone is building an island, you can probably get paid for <i>supplying</i> landfill. There are projects that can only go ahead at certain times: the Hornsby quarry remediation project was only viable because the north connex was being built.</p><p>That's slightly obscure, and there's not much you can do with landfill other than, well, fill land. But we are about to hit a very unusual combination of circumstances which will create some head-scratching economics.</p><p>Solar panels are getting cheaper. The learning rate for solar energy is (probably) the steepest of any energy technology yet deployed. So we can be pretty much assured that within the next decade we'll have enough solar power to power anything we want (as long as it is day time). We'll overprovision our houses and factories (and offices if they still exist) with generation capacity so that in the morning or evening when the sun is hitting at an oblique angle, we still have enough for our needs.</p><p>That means that at peak times, we'll have <i>more</i> than enough solar energy. What do we do with that surplus energy?</p><p>Actually, it's slightly worse than that, because there are some (non-renewable) power plants that can't fully idle. A nuclear reactor can't fully turn off for a few minutes in the middle of the day. Neither can a coal power plant. So they will be running at a time when nobody has a need for power. That may be OK -- if you make a lot of money generating power overnight, you might be prepared to pay some small penalties during the day for overproduction if that's what it takes to keep the system running.</p><p>Which means that someone, somewhere is going to get paid to create a dummy electrical load. We've never (as far as I can tell) seen "grid stability" <i>payments</i> <i>for</i> <i>using</i>&nbsp;electricity before. But it's the inevitable conclusion of where we are the moment: discounted rates for consumers who can change their requirements to help with grid stability exist already; there's no reason that this wouldn't still be necessary when the price of electricity hits zero.</p><p>Therfore, there will be times of the day (in certain weather conditions) when some companies will get <i>paid</i> to use electricity.</p><p>The kinds of consumers that will get paid are likely to be doing something that is energy inefficient (obviously), and not particularly capital intensive (since their equipment will be idle a lot of the time), and making something that can be stored indefinitely (because you definitely can't do just-in-time manufacturing if you are waiting for times when the price for electricity goes negative). But quite a lot of products could be made to fit that.</p><p>A possible product that I think is likely to play out this way is water desalination. Desalinated water is very expensive because of the embedded energy cost: it's often described as "bottled electricity". Currently we tend to use reverse osmosis because it's more energy efficient; but if you don't have to worry about energy costs, you might choose instead to boil water and distil it: since the capital costs are cheaper.</p><p>Now things get even weirder. Let's say you are getting paid 0.5c per kWH (a not unreasonable price) that you use. You might find that you can sell the water for -0.01c per kL. Yes, you can make a profit: not just giving it away, but you could still be profitable while paying someone to consume it.</p><p>If this all plays out, we might have water and electricity (at times) having a negative price. These are common inputs to other processes, so it doesn't end there: there might be a business that requires water and electricity occasionally, but the input costs normally make the business unviable. They in turn might be able to make some money selling the end product at a negative price if their inputs have a negative price.</p><p>If this sounds all a bit unbelievable, remember that up until very recently, many economists thought that it was impossible to have negative interest rates... right up until the moment when they started happening. We already have examples of products that oscillate between positive and negative prices, it's just that they were never fundamental inputs to other processes. My prediction is that by 2030 we will have a small part of the economy ticking away profitably making negative price products.</p><p>(Post scriptum: now for the completely weird: how do negative price products interact with negative interest rates?)</p>

</div></div>]]>
            </description>
            <link>http://blog.ifost.org.au/2020/09/something-funny-is-about-to-happen-to.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24605191</guid>
            <pubDate>Sun, 27 Sep 2020 08:46:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Parametric lamp design using circle packings]]>
            </title>
            <description>
<![CDATA[
Score 200 | Comments 30 (<a href="https://news.ycombinator.com/item?id=24604746">thread link</a>) | @stuffmatic
<br/>
September 26, 2020 | https://stuffmatic.com/blog/parametric-lamp-design-using-circle-packings/ | <a href="https://web.archive.org/web/*/https://stuffmatic.com/blog/parametric-lamp-design-using-circle-packings/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <div>
    <div>
      
      <div>
  
    <p><img src="https://stuffmatic.com/assets/posts/circle_packing_lamp/cover_2.jpg" alt="">
    </p>
    
  
</div>
      
      <p>If you like circles, spheres and shapes that fit nicely together, you’ll probably like spherical circle packings. In this post, I’ll describe how I turned one into a lamp.</p>

<!--more-->

<p>A circle packing is an arrangement of circles that fit tightly together, so that no circle can be enlarged without causing overlaps. Circle packing is a nice mathematical rabbit hole<sup id="fnref:circle_packing" role="doc-noteref"><a href="#fn:circle_packing">1</a></sup>, but this post focuses on Steiner chains, which is the type of packing I used for building the lamp (more pictures of which can be found <a href="https://stuffmatic.com/projects/circle-lamp">here</a>).</p>

<h2 id="steiner-chains">Steiner chains</h2>

<p>A Steiner chain<sup id="fnref:steiner_chain" role="doc-noteref"><a href="#fn:steiner_chain">2</a></sup> is constructed by surrounding a circle with a ring of additional circles that are all also tangent to a larger circle. In other words, a Steiner chain consists of circles packed in a circle (a concept I’ve previously explored in <a href="https://stuffmatic.com/projects/copper-circles">this project</a>).</p>

<div>
  
    <p><img src="https://stuffmatic.com/assets/posts/circle_packing_lamp/steiner.png" alt="A simple Steiner chain.">
    </p>
    
  
  <p>A simple Steiner chain with a center circle surrounded by a ring of 9 smaller circles, all tangent to the bounding circle (dashed).</p>
  
</div>

<p>The fact that a Steiner chain fits tightly in a circle can be used to construct nested packings by repeatedly replacing the center circle with a smaller Steiner chain. Here’s an animation illustrating the idea.</p>

<div>
  
    <p><img src="https://stuffmatic.com/assets/posts/circle_packing_lamp/steiner.gif" alt="Nesting Steiner chains">
    </p>
    
  
  <p>Nesting Steiner chains.</p>
  
</div>

<p>The lamp is built from a total of 13 circles, forming a nested Steiner chain with two rings, each containing 6 circles.</p>

<h2 id="deforming-a-circle-packing">Deforming a circle packing</h2>

<p>It’s intuitively clear that a circle packing can’t be arbitrarily deformed without “ruining” it. For example, stretching a packing in one direction turns the circles into ellipses. Luckily, there is a class of circle preserving planar deformations, so called Möbius transformations<sup id="fnref:mobius_transformation" role="doc-noteref"><a href="#fn:mobius_transformation">3</a></sup>, that can be used to parametrically control the shape of a circle packing. This is really useful for parametric design purposes.</p>

<div>
  
    <p><img src="https://stuffmatic.com/assets/posts/circle_packing_lamp/mobius.gif" alt="Möbius transformations applied to a circle packing.">
    </p>
    
  
  <p>Möbius transformations applied to a circle packing.</p>
  
</div>

<h2 id="going-spherical">Going spherical</h2>

<p>The Möbius transformations described in the previous section turn out to be the only options for transforming a circle packing in the plane. However, if we venture into three dimensional space, there is another option: <em>inverse stereographic projection</em><sup id="fnref:stereographic" role="doc-noteref"><a href="#fn:stereographic">4</a></sup>. Loosely speaking, this transformation can be used to wrap a circle packing around a sphere.</p>

<p>For this project, I put together a parametric design tool to explore interesting spherical circle packings. This tool generates packings in three steps:</p>

<ol>
  <li>Create a nested Steiner chain</li>
  <li>Apply a Möbius transformation</li>
  <li>Wrap the packing around a sphere using inverse stereographic projection</li>
</ol>

<p>Here’s an animation showing the tool in action.</p>

<div>
  
    <p><img src="https://stuffmatic.com/assets/posts/circle_packing_lamp/spherical_packing.gif" alt="Parametric exploration of spherical circle packings">
    </p>
    
  
  <p>Parametric exploration of spherical circle packings. The red dot indicates the circle packing's center of mass.</p>
  
</div>

<h2 id="generating-the-blueprint">Generating the blueprint</h2>

<p>The previous sections outline a method for creating nice spherical circle packings. In order to create physical objects from these packings, I wrote some code for procedural generation of laser cutter blueprints. One cruical thing to keep in mind when making a pendant lamp is the center of mass. To ensure the lamp is hanging properly, the center of mass and the wire hole need to lie on the same vertical line. The center of mass calculation is simplified by the fact that it only has to deal with circles (the contribution from the joints is negligible).</p>

<div>
  
    <p><img src="https://stuffmatic.com/assets/posts/circle_packing_lamp/parametric_blueprint.gif" alt="Circle packing blueprint">
    </p>
    
  
  <p>An example of how changes in circle packing parameters affect the blueprint. Note how the wire hole (contained in a green rectangle) moves as the packing's center of mass changes.</p>
  
</div>

<div>
  
    <p><img src="https://stuffmatic.com/assets/posts/circle_packing_lamp/prototype.jpg" alt="A simple prototype">
    </p>
    
  
  <p>A simple prototype for testing the strength of the joints and verifying the center of mass calculation.</p>
  
</div>

<h2 id="building-the-lamp">Building the lamp</h2>

<p>Once I had generated a blueprint and manufactured the parts, assembling the lamp went pretty smoothly. All circles, joints and joint holes were numbered so I would not have to think too much during assembly.</p>

<div>
  
    <p><img src="https://stuffmatic.com/assets/posts/circle_packing_lamp/parts.jpg" alt="The laser cut parts">
    </p>
    
  
  <p>The laser cut MDF parts. No two parts are interchangeable, so they are all numbered to ensure smooth assembly.</p>
  
</div>

<div>
  
    <p><img src="https://stuffmatic.com/assets/posts/circle_packing_lamp/painting.jpg" alt="Spray painting the outward facing parts">
    </p>
    
  
  <p>Spray painting the outward facing parts.</p>
  
</div>

<div>
  
    <p><img src="https://stuffmatic.com/assets/posts/circle_packing_lamp/assembly.jpg" alt="Assembling">
    </p>
    
  
  <p>Assembling.</p>
  
</div>

<div>
  
    <p><img src="https://stuffmatic.com/assets/posts/circle_packing_lamp/cover.jpg" alt="The final result">
    </p>
    
  
  <p>The final result seen from below.</p>
  
</div>

<p>Some more pictures of the lamp can be found <a href="https://stuffmatic.com/projects/circle-lamp">here</a>.</p>

<h2 id="links">Links</h2>



    </div>
  </div>
</div></div>]]>
            </description>
            <link>https://stuffmatic.com/blog/parametric-lamp-design-using-circle-packings/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24604746</guid>
            <pubDate>Sun, 27 Sep 2020 06:50:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pac-Man Maze Generation]]>
            </title>
            <description>
<![CDATA[
Score 105 | Comments 6 (<a href="https://news.ycombinator.com/item?id=24603618">thread link</a>) | @kanamekun
<br/>
September 26, 2020 | https://shaunlebron.github.io/pacman-mazegen/ | <a href="https://web.archive.org/web/*/https://shaunlebron.github.io/pacman-mazegen/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="container">

<p>
by <a href="http://twitter.com/shaunlebron">Shaun LeBron</a>.
(<a href="https://github.com/shaunlebron/pacman-mazegen">code on GitHub</a>)
</p>


<canvas id="canvas"></canvas>

<h2><span>Work in Progress</span></h2>
<p>
<i>
Generating random Pac-Man mazes is a deceptively difficult problem that I spent some months working on.  It is not easy to describe clearly.  I hope you are patient.  This page is an effort to begin communicating how the algorithm works.  It will slowly be refined (your feedback appreciated) until it is all stated as clearly as possible.
</i>
</p>

<h2>Contraints</h2>
<p>
The mazes are built carefully to closely match design patterns deduced from the original maps found in Pac-Man and Ms. Pac-Man:
</p>

<ul>
<li>Map is 28x31 tiles.</li>
<li>Paths are only 1 tile thick</li>
<li>No sharp turns (i.e. intersections are separated by atleast 2 tiles).</li>
<li>There are 1 or 2 tunnels</li>
<li>No dead-ends.</li>
<li>Only I, L, T, or + wall shapes are allowed, including the occasional rectangular wall.</li>
<li>Any non-rectangular wall pieces must only be 2 tiles thick.</li>
</ul>

<h2>It's like Tetris</h2>

<p>
We start by stacking tetris pieces on a 5x9 grid. Gravity pulls the pieces in the left direction rather than down.  The edges of the resulting tetris pieces correspond to walkable paths in the maze.  This grid is then mirrored across the left vertical axis to create a symmetric map, then scaled by 3 to form an original-size 28x31 map.
</p>

<h2>Definitions</h2>

<p>
For clarity, I call the squares in the initial 5x9 grid, <b>cells</b>, and the squares in the final 28x31 grid, <b>tiles</b>.  So, this algorithm first creates the <b>cells</b> and transforms them into <b>tiles</b>
</p>

<h2>Simple Model</h2>

<p>
Shown in the above diagram titled "Simple Model" is the 5x9 grid of tetris pieces.  The pieces are created one cell at a time using some algorithm to limit the type of pieces at certain locations (they are numbered to show the order of creation).
</p>

<p>
The ghost pen and the edge between rows 7 and 8 at column 1 are present in every map, since the starting location of Pac-Man and the ghost pen location are constant.
</p>

<h2>Height and Width Adjustments</h2>

<p>
Cells are directly transformed into a 3x3 group of tiles. Unfortunately, this creates a resulting map that is too short by 1 tile and too wide by 1 tile.  So, we increase the height of one cell for every column, and decrease the width of one cell for every row, allowing the generated map to fit in the exact dimensions of the original game.
</p>

<p>
Shown in the above diagrams titled "Height Adjustments" and "Width Adjustments", the highlighted cells are the candidate cells whose size can be changed without creating ugly walls (i.e. walls that have non-uniform thickness).
</p>

<p>
Arrows occupy cells which have been chosen for size adjustment.  Care is taken to prevent discontinuities in the edges as a result of the shifting of cells from the size change.
</p>

<h2>Border Cells and Tunnels</h2>

<p>
I won't explain too much about this right now.  But the above diagram titled "Border Cells and Tunnels" has arrows to indicate the tunnel candidates.  The highlighted cells show the type of tunnel candidates by color.  Some cell edges are erased to create some variation in how walls connect with the boundary of the map (shown in green).  The tunnel creation algorithm is sophisticated in how it chooses different types of tunnels.
</p>

<h2>Final Paths</h2>

<p>
When the cells are finally transformed into tiles, what you are left with is shown in the diagram above titled "Final Paths".  Here you can directly map a cell to a 3x3 group of tiles.  You can even pick out the cells whose height are width have been adjusted by 1 tile in this map.
</p>

<h2>Final Tiles</h2>

<p>
See how the above diagram titled "Final Tiles" differs from "Final Paths".  The paths are shifted from the tile <em>edges</em> toward the tile <em>centers</em>.  Each tile with a path going through its center is turned into a path tile.  Finally, any tile that touches a path tile becomes a wall tile.  The map structure is now complete.
</p>

<h2>Results</h2>

<p>
<a href="https://shaunlebron.github.io/pacman-mazegen/tetris/many.htm">Click here to see many generated Pac-Man mazes together.</a>
</p>

<h2>Appendix</h2>

<h3>Original Maps</h3>
<p><img src="https://shaunlebron.github.io/pacman-mazegen/img/origmaps_2x.png" width="100%"></p><h3>Original Maps (plain)</h3>
<p><img src="https://shaunlebron.github.io/pacman-mazegen/img/origmaps_2x_print.png" width="100%"></p><h3>Original Maps (paths)</h3>
<p><img src="https://shaunlebron.github.io/pacman-mazegen/img/origmaps_path.png" width="100%">

</p></div></div>]]>
            </description>
            <link>https://shaunlebron.github.io/pacman-mazegen/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24603618</guid>
            <pubDate>Sun, 27 Sep 2020 02:01:25 GMT</pubDate>
        </item>
    </channel>
</rss>
