<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 1]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 1. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Fri, 19 Feb 2021 04:34:34 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-1.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Fri, 19 Feb 2021 04:34:34 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Lessons learned from a 27 years old Unix book]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26164604">thread link</a>) | @nanxiao
<br/>
February 17, 2021 | https://www.linux.it/~ema/posts/porsche-book/ | <a href="https://web.archive.org/web/*/https://www.linux.it/~ema/posts/porsche-book/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>One of the Amazon reviewers of "Sun Performance and Tuning: Java and the
Internet" gave it 3/5 stars. While still a nice introduction, the book by
Adrian Cockcroft has become dated‚Äâ‚Äî‚Äâclaimed Roland in 2003, which believe it
or not was 18 years ago. The book Roland reviewed was published in 1998, and it
is a second edition. The first edition (1994) has a significantly different
title: "<a href="https://archive.org/details/sunperformancetu00cock_0">Sparc &amp; Solaris</a>",
is the focus instead of "Java and the Internet". Other than reflecting a major
shift in Sun‚Äôs focus happened between '94, and '98, the two editions also have
a different price tag. "Java and the Internet" costs 15.97 EUR, while one can
get "Sparc &amp; Solaris" used in allegedly <strong>Very Good</strong> conditions for 1.94.  If
I‚Äôm buying an outdated book I‚Äôm gonna get the most outdated version possible, I
figured, plus imagine the embarrassment if someone would find a book about Java
in my bookshelf. Shipping is 3 bucks, for a grand total of 4.94 EUR the book is
in my hands 15 days after placing the order.</p>
<div>
<p><img src="https://images-na.ssl-images-amazon.com/images/I/51PSF9CDRYL.jpg" alt="51PSF9CDRYL">
</p>
</div>
<p>"The Porsche Book" is quick to explain the analogy between UNIX and the Porsche
911 featured on the cover: both were created in the '60s, in a form similar to
the current one. Both represent the latest and greatest of products still around
in 1994, and indeed 2021, despite their quirks.</p>
<p>A valid question at this point clearly is: why do you care about a book
published 30 years ago when there‚Äôs so much recent and surely more useful
material? One reason is that I find the history of Sun Microsystems
particularly interesting.  I‚Äôve read and very much enjoyed
<a href="https://archive.org/details/highnoon00kare">High Noon</a> as well as
<a href="https://archive.org/details/sunburstascentof00hall">Sunburst</a>‚Äâ‚Äî‚Äâdealing with
recent history there‚Äôs the privilege of having plenty of primary sources
readily available, which is great. When it comes to the Porsche book, I find it
fascinating to read about the most common usage scenarios of Sun servers in the
'90s, and I can‚Äôt help but feel sorry for the admin who didn‚Äôt know that for
SunOS 4, only filenames up to 14 characters long are cached in the Directory
Name Lookup Cache (DNLC). In this article, however, I want to focus on the
information contained in the book which is still valid today.  In a world that
moves as quickly as the world of computing, you could argue that all books are
outdated to begin with. If some of the information in "Sun Performance and
Tuning" was valid in 1994 and is still valid in 2021, there‚Äôs a good chance
that it will still be valid 30 years from now.</p>
<p>It seems to me that we can categorize tech knowledge as follows: theoretical
knowledge, generic practical information, and implementation details. Of the
three, theoretical knowledge is the most likely to stay relevant with time,
followed by generic practical information which might still apply some years
later, and finally implementation details which are very likely to become
irrelevant as time goes by. Those details are far from being useless however:
in fact they provide the distinction between novice and experienced
practitioner. To give an example: the chapter about Networks opens with a
description of the built-in <strong>le</strong> network interface, pointing out that it shared
its DMA connection with the SCSI interface. Crucially, the network interface had
higher priority: heavy network activity was likely to reduce disk throughput. In
1994 you would have needed to see multiple workstations with bad disk
performance before concluding that network traffic had anything to do with it‚Äâ‚Äî‚Äâor read the book.</p>
<p>But what is the content that stood the test of time?</p>
<div>
<h2 id="_configuration_factors_and_levels">Configuration Factors and Levels</h2>
<div>
<p>When performing a set of tests, there are multiple settings and knobs one can
work with, each having various options to choose from. Which filesystem are we
using?  What‚Äôs the version of the application we‚Äôre testing? Kernel buffer
size?</p>
<table>
<tbody><tr><td><b>Factor</b></td><td><b>Level</b></td></tr>
<tr><td>Filesystem type</td><td>ext4, xfs, btrfs,...</td></tr>
<tr><td>OS version</td><td>5.10.16, 5.11, ...</td></tr>
<tr><td>vm.dirty_ratio kernel setting</td><td>20, 40, 60, ...</td></tr>
</tbody></table>
<p>To measure every combination of 6 different factors with 4 levels each would
take 4^6 = 4096 measurements, which clearly is madness. By reducing the levels
we consider to 2, still evaluating all 6 different factors in all possible
combination, we get down to 2^6 = 64 measurements instead.</p>
</div>
</div>
<div>
<h2 id="_throughput_response_time_utilization">Throughput, Response Time, Utilization</h2>
<div>
<p><strong>Throughput</strong>‚Äâ‚Äî‚Äâthe amount of work performed in a given amount of time‚Äâ‚Äî‚Äâwas a
thing in the '60s, it‚Äôs the same thing today, and it will still be <strong>work/time</strong>
in 2050. Your web server might have a maximum throughput of 10000 requests per
second (rps), that‚Äôs something you can use to compare it with another one.
<strong>Response time</strong> (latency) is defined as the amount of time the user has to
wait.  For example, how long did a given database transaction take.
<strong>Utilization</strong> is how much of the computer‚Äôs resources were used to do the work.
The values reported by <code>sar</code> and <code>iostat</code>, two tools very much still in use
today, are an example of Utilization measures.</p>
<p>The author suggests taking multiple <code>sar</code> Utilization measurements at various
load levels and combine them with <code>awk</code> to get an overview of how the system
behaves. We do have <a href="https://prometheus.io/">Prometheus</a>,
<a href="https://grafana.com/">Grafana</a>, and friends nowadays, but the <code>sar | awk</code> idea
is a useful reminder that quick, simple measurements can go a long way too!</p>
</div>
</div>
<div>
<h2 id="_vmstat_sar_and_iostat_rules">vmstat, sar and iostat Rules</h2>
<div>
<p><code>vmstat</code> and <code>sar</code> are described in detail, with a focus on runnable queue,
blocked queue, swap usage, and so forth. The Linux versions of <code>vmstat</code> and
<code>sar</code> from <a href="https://gitlab.com/procps-ng/procps">procps</a> and
<a href="http://sebastien.godard.pagesperso-orange.fr/">sysstat</a> are a bit different than
the Solaris ones, but the main ideas still apply.</p>
<p>The three commands are also used in the <strong>Rules and Tunables Quick Reference
Tables</strong> section. For each subsystem (Disk, Network, Memory, CPU), the author
specified a list of Rules involving the commands and the action to take if the
rule applies. Rules consist in the name of the command with any options, then a
"." followed by the name of the variable to take into account. For example, the
following indicates a disk bottleneck: <code>35%  &lt; iostat-D30.util &lt; 65%</code>. The
action to take is to try balance the I/O load on other disks too, or get more
disks.</p>
<p>A contemporary version of those rules for Linux would be great to have.</p>
</div>
</div>
<div>
<h2 id="_interrupt_distribution_tuning">Interrupt Distribution Tuning</h2>
<div>
<p>Interrupts in Solaris 2.2 were load-balanced among all available CPUs. The
drawback was that, in case of heavy interrupt load from a given device, cache
hit rate would suffer: the OS allowed to statically assign IRQs to CPUs as an
improvement instead.</p>
<p>Nowadays a very similar problem occurs with the <code>irqbalance</code> daemon on Linux,
which on systems doing lots of network activity should not be used. SMP
affinity should instead be configured to ensure the interrupts of multiqueue
network cards are statically mapped among CPUs.</p>
<p>There‚Äôs more information in "Sun Performance and Tuning" that can still provide
valuable lessons today, as well as some true historical gems for those into
such things. Go <a href="https://archive.org/details/sunperformancetu00cock_0">check it
out</a> on the Internet Archive if you‚Äôre interested!</p>
</div>
</div>


</div></div>]]>
            </description>
            <link>https://www.linux.it/~ema/posts/porsche-book/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26164604</guid>
            <pubDate>Wed, 17 Feb 2021 09:49:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[OpenNebula launches a Call for Translations for the upcoming major version 6.0]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26164383">thread link</a>) | @amarti
<br/>
February 17, 2021 | https://opennebula.io/opennebula-6-0-call-for-translations/ | <a href="https://web.archive.org/web/*/https://opennebula.io/opennebula-6-0-call-for-translations/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main">
			    <!-- .entry-header -->

				
					
<article id="post-30064">

    <!-- .entry-header -->

    <div>

		<p>The wait is almost over!<strong> OpenNebula 6.0</strong> is around the corner, and as we prepare for the release of this (truly ground-breaking) new version, we are now reaching out to all of you<span><span>‚Äîesteemed members of the OpenNebula Community and </span></span>adventurous explorers of the Cloud Universe<span><span>‚Äî</span></span>to announce a new ‚Äú<strong>Call for Translations</strong>‚Äú! <span>üì£</span></p>
<p>This is one of the areas where we look to all of you for concrete contributions to the OpenNebula project, and this is something really simple to do. Here we are asking you to help translate both OpenNebula‚Äôs <strong>Graphical User Interface</strong><span>‚Äî</span><em>Sunstone</em><span>‚Äî</span>and its <strong>new automatic provisioning tool</strong><span>‚Äî<em>FireEdge</em></span><span>‚Äî</span>for any language that you can. And you have the flexibility to translate ‚Äúone string at a time‚Äù. Piece of cake! <span>ü§ì</span></p>
<figure><a href="https://www.transifex.com/opennebula/" target="_blank" rel="noopener"><img loading="lazy" width="510" height="106" src="https://opennebula.io/wp-content/uploads/2020/05/transifex.png" alt="" srcset="https://opennebula.io/wp-content/uploads/2020/05/transifex.png 510w, https://opennebula.io/wp-content/uploads/2020/05/transifex-300x62.png 300w" sizes="(max-width: 510px) 100vw, 510px" title="OpenNebula 6.0 - Call for Translations! 4"></a></figure>
<p>Existing translations can be updated and new translations submitted through our project site at <strong>Transifex</strong>: <a href="https://www.transifex.com/opennebula/" target="_blank" rel="noopener">https://www.transifex.com/opennebula/</a> Never used it before? Don‚Äôt worry! Here you have a step-by-step <a href="https://docs.transifex.com/getting-started-1/translators" target="_blank" rel="noopener">introductory guide</a> to this collaborative platform.</p>
<p>This ‚ÄúCall for Translations‚Äù will end on <strong>Wednesday, March 3 EOD</strong>. Translated languages reaching a good level of completion will be included in the stable release of OpenNebula 6.0! <span>üöÄ</span></p>
<p>Thank you all for your contributions! <span>üññ</span></p>



		
		


        <div>
            <p><img alt="" src="https://secure.gravatar.com/avatar/7bc2911f4ae58287da05140e43efc2f6?s=96&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/7bc2911f4ae58287da05140e43efc2f6?s=192&amp;d=mm&amp;r=g 2x" height="96" width="96" loading="lazy">            </p>
            <div>
                <p><span id="autorblog">Alberto P. Mart√≠</span></p><p>Open Source Community Manager at OpenNebula</p>
            </div>
        </div>
	</div><!-- .entry-content -->

</article><!-- #post-## -->

					
<!-- #comments -->

				
			</div></div>]]>
            </description>
            <link>https://opennebula.io/opennebula-6-0-call-for-translations/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26164383</guid>
            <pubDate>Wed, 17 Feb 2021 09:17:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Personality assessment AI tricked by clothes, background]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26164360">thread link</a>) | @Pyramus
<br/>
February 17, 2021 | https://web.br.de/interaktiv/ki-bewerbung/en/ | <a href="https://web.archive.org/web/*/https://web.br.de/interaktiv/ki-bewerbung/en/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://web.br.de/interaktiv/ki-bewerbung/en/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26164360</guid>
            <pubDate>Wed, 17 Feb 2021 09:14:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Artificial general intelligence is risky by default]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26164332">thread link</a>) | @paraschopra
<br/>
February 17, 2021 | https://invertedpassion.com/artificial-general-intelligence-is-risky-by-default/ | <a href="https://web.archive.org/web/*/https://invertedpassion.com/artificial-general-intelligence-is-risky-by-default/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1531">
		<!-- .entry-header -->
	<div>
		
		
<p>Should we worry about AI?</p>

<p><a href="https://twitter.com/NPCollapse">Connor Leahy</a> is an AI researcher at <a href="https://eleuther.ai/">EleutherAI</a>, a grass-roots collection of open-source AI researchers. Their current ambitious project is GPT-Neo, where they‚Äôre replicating currently closed-access GPT-3 to make it available to everyone.</p>

<p>Connor is deeply interested in the dangers posed by AI systems that don‚Äôt share human values and goals. I talked to Connor about <strong>AI misalignment and why it poses a potential existential risk for humanity</strong>.</p>

<figure>
<p>
<iframe title="#5 Connor Leahy - Artificial general intelligence is risky by default" width="780" height="439" src="https://www.youtube.com/embed/Pi8oYdg1wC0?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</p>
</figure>

<h3>What we talk about</h3>

<p><strong>00:05</strong> ‚Äì Introductions<br><strong>2:55</strong> ‚Äì AI risk is obvious once you understand it<br><strong>3:40</strong> ‚Äì AI risk as a principal-agent problem<br><strong>4:33</strong> ‚Äì Intelligence is a double-edged sword<br><strong>7:52</strong> ‚Äì How would you define the alignment problem of AI?<br><strong>9:10</strong> ‚Äì Orthogonality of intelligence and values<br><strong>10:15</strong> ‚Äì Human values are complex<br><strong>11:15</strong> ‚Äì AI alignment problem<br><strong>11:30</strong> ‚Äì Alignment problem: how do you control a strong system using a weak system<br><strong>12:42</strong> ‚Äì Corporations are proto-AGI<br><strong>14:32</strong> ‚Äì Collateral benefits of AI safety research<br><strong>16:25</strong> ‚Äì Why is solving this problem urgent?<br><strong>21:32</strong> ‚Äì We‚Äôre exponentially increasing AI model capacity<br><strong>23:55</strong> ‚Äì Superintelligent AI as the LEAST surprising outcome<br><strong>25:20</strong> ‚Äì Who will fund to build a superintelligence<br><strong>26:28</strong> ‚Äì Goodhart‚Äôs law<br><strong>29:19</strong> ‚Äì Definition of intelligence<br><strong>33:00</strong> ‚Äì Unsolvable problems and superintelligence<br><strong>34:35</strong> ‚Äì Upper limit of damage caused by superintelligence<br><strong>38:25</strong> ‚Äì What if superintelligence has already arrived<br><strong>41:40</strong> ‚Äì Why can‚Äôt we power off superintelligence if it gets out of hand<br><strong>45:25</strong> ‚Äì Industry and academia is doing a terrible job at AI safety<br><strong>51:25</strong> ‚Äì Should govt be regulating AI research?<br><strong>55:55</strong> ‚Äì Should we shut down or slow AI research?<br><strong>57:10</strong> ‚Äì Solutions for AGI safety<br><strong>1:05:10</strong> ‚Äì The best case scenario<br><strong>1:06:55</strong> ‚Äì Practical implementations of AI safety<br><strong>1:12:00</strong> ‚Äì We can‚Äôt agree with each other on values, how will AGI agree with us?<br><strong>1:14:00</strong> ‚Äì What is EleutherAI?</p>

<h3>Notes and insights</h3>

<p>1/ Researchers who think about existential risks to humanity believe that artificial general intelligence (AGI) is the most potent threat facing us and the <strong>damage done by a superintelligence can dwarf anything else we‚Äôve seen or imagined so far</strong>.</p>

<p>This is a view shared by <a href="https://twitter.com/fhioxford?lang=en">Nick Bostrom</a> and <a href="https://twitter.com/chai_berkeley">Stuart Russel</a> among others.</p>

<p>2/ <em>Prima facie</em>, this sounds odd. Why would AGI ‚Äì a mere software ‚Äì pose a bigger threat than other deadly technologies such as nuclear weapons?</p>

<p>3/ To answer that question, you have to first define what artificial general intelligence is? </p>

<p>Perhaps a good starting point to that question is defining intelligence.</p>

<p>4/ Different people define intelligence differently and you can do endless debates on which definition best captures our intuitions.</p>

<p>However, I love the way Connor defined intelligence. To him, <strong>intelligence is simply the ability to win.</strong></p>

<p>5/ More generally, you can think of <strong>intelligence as a process to choose your actions such that you make your preferred future more likely than </strong>not. </p>

<p>6/ Say you love ice-cream, but all you have is lemonade. Intelligence, then, is your ability to persuade someone with ice-cream to give you some in exchange for your lemonade. </p>

<p>7/ <strong>Most types of biological intelligences are <em>specific</em></strong>. If a human is locked in a dark cave and <a href="https://invertedpassion.com/jobs-to-be-done/">wants</a> to get out, it‚Äôll struggle and hence its intelligence isn‚Äôt particularly useful in that context. However, a bat, thanks to echolocation, will have no issue in finding its way out.</p>

<p>8/ That was a contrived example and I know that humans exhibit more types of intelligence in various contexts.</p>

<p>But <strong>there‚Äôs no reason to believe humans exhibit maximally general intelligence</strong>. We fail at difficult projects all the time, so there‚Äôs a limit to our intelligence.</p>

<p>9/ Imagine that we are able to make an AI that‚Äôs 10x, 100x, or 1000x more capable than a human to figure out how to win. </p>

<p>You give it a task and it figures out of achieving that task in ways you could have never thought of by yourself.</p>

<p>We don‚Äôt yet know how to build such a superintelligent system, but it‚Äôs possible in near future we‚Äôd be able to build one.</p>

<p>10/ And that‚Äôs where the risk is.</p>

<p><strong>A sufficiently intelligent entity may even wipe out humanity if it determines that humanity stands in its way to achieve the given goal.</strong></p>

<p>Sounds outlandish?</p>

<p>It isn‚Äôt.</p>

<p>11/ The reason it isn‚Äôt outlandish is because <strong>dumb machines cause harm to humans all the time. Think of bridge collapses, train wrecks, airplane malfunctions or accidents like the </strong>Chernobyl disaster.</p>

<p>Machines cause harm because they‚Äôre nothing but blind order following systems. A train doesn‚Äôt even realize what it is doing when it derails. It‚Äôs simply following the mechanism we humans built into it.</p>

<p>12/ Machines are dumb and that‚Äôs why they‚Äôre dangerous.</p>

<p>But AGI is riskier because it‚Äôs super-intelligent and <strong>intelligence doesn‚Äôt automatically imply alignment to human values</strong>. A self-guided intercontinental ballistic missile that finds its target is intelligent but it‚Äôll blindly kill thousands.</p>

<p>13/ In fact, the idea that AGI can be supremely dangerous can be understood by reflecting that <strong>humans who don‚Äôt share your moral values can be supremely dangerous as well.</strong></p>

<p>Think of terrorists who blew up the Twin Towers on 9/11. Their intelligence was what made them more dangerous than dumb terrorists who easily get caught.</p>

<p>14/ An AGI, by definition, will be so intelligent that it can wreck unimaginable harm to achieve what it is programmed to achieve.</p>

<p>It will follow orders blindly but follow them so cleverly that it becomes literally unstoppable.</p>

<p>15/ Perhaps the most famous example of cleverness gone bad is the <a href="https://en.wikipedia.org/wiki/Instrumental_convergence#Paperclip_maximizer">paperclip maximizer</a>. This is an AI tasked by a factory owner to find ways to maximize the number of paperclips. It figures out that the best way to do that is to convert the entire Iron core of Earth into paperclips. </p>

<p>(Of course, humanity decimates when the Earth crust blows off).</p>

<p>15/ This may still sound alarmist and several first-order objections come to the mind.</p>

<p>Let‚Äôs tackle them one by one.</p>

<p>16/ WHY CAN‚ÄôT WE ASK AGI TO AVOID HARM?</p>

<p>What is harm? </p>

<p>Is eating ice-cream harmful? No. Is eating too much ice-cream harmful? Yes. </p>

<p>Is killing humans bad? Yes. Is killing a suicide bomber who‚Äôs about to blow himself bad? No.</p>

<p>17/ We can go on and on. The point is: <strong>defining good and bad, harm and benefit is difficult because these are nebulous concepts.</strong> </p>

<p>If we learn anything from philosophical debates about ethics, it is that even we collectively can‚Äôt agree on what our values should be. </p>

<p><strong>And if we don‚Äôt know our values, how should we code them in the AI?</strong></p>

<p>17/ WHY CAN‚ÄôT WE ANTICIPATE WHAT AGI IS GOING TO DO AND PREVENT IT FROM DOING THAT?</p>

<p>No, we can‚Äôt do that because by definition it is super-intelligent. If we knew what it is going to do, we‚Äôd be as intelligent as it. </p>

<p>Just like with <a href="https://en.wikipedia.org/wiki/AlphaGo_Zero">AlphaGo Zero</a> (AI Chess or Go engine by Deepmind), <strong>what we know for sure is that it is going to win, but we don‚Äôt know what‚Äôs the next move it is going to make</strong>.</p>

<p>17/ WHY CAN‚ÄôT WE SWITCH IT OFF WHEN THINGS GO BAD?</p>

<p>If we can think of this, an AGI would likely think of this as well. There are several ways it can prevent from getting switched off:</p>

<ul>
<li>It can distribute its copies across the Internet.</li>
<li>It can bribe / incentivize people to not switch it off</li>
<li>It can pretend to have learned its lesson and promise not do harm in future</li>
</ul>

<p>Remember: there are dumb things ‚Äì like <a href="https://invertedpassion.com/bitcoin-is-mother-of-all-network-effects/">bitcoin</a> ‚Äì right now which are so distributed that they‚Äôre literally impossible to kill (even if we wanted to).</p>

<p>18/ WHAT IF THERE ARE LIMITS TO INTELLIGENCE AND HENCE LIMITS TO HARM AGI CAN CAUSE?</p>

<p>This is a sensible objection. There are problems that are practically unsolvable because they require more computation power than possibly available in the universe.</p>

<p>Examples of such problems include breaking encryption or predicting long-range weather or stock market trends.</p>

<p>19/ It‚Äôs true that for such unbreakable problems, AGI will be powerless but the important point to remember is that an <strong>AGI doesn‚Äôt have to be infinitely more intelligent to cause a lot of harm. </strong></p>

<p>It simply has to be more intelligent than humans or collectives of humans. </p>

<p>20/ That amount of intelligence (which surpasses humans) is certainly within the realm of possibility.</p>

<p><strong>Human brains are limited by our biological constraints. No such constraints may apply to AGI.</strong> In theory, we may be capable of building an AGI with more computation and inter-connectedness than a human brain.</p>

<p>21/ So, in nutshell, even if an AGI can‚Äôt break encryption to launch a nuclear weapon, it can very well convince a human with encryption keys to launch the weapon.</p>

<p>When it comes to security, humans are generally the weakest link.</p>

<p>22/ IF IT IS SO DANGEROUS, SHOULD WE STOP OR BAN AI RESEARCH?</p>

<p><strong>Banning AI research is like banning computers. It won‚Äôt work</strong>. You can‚Äôt possibly monitor all software progress to figure out which one is AGI and which one, say, is simply a new web browser. </p>

<p>Even if you have some <a href="https://invertedpassion.com/professional-success-and-personal-success-two-independent-dimensions/">success</a> with this, since AGI promises power and riches, different nations will have incentives to continue researching and making progress.</p>

<p>23/ IF THINGS GOES BAD, WOULDN‚ÄôT GOVERNMENT DO SOMETHING?</p>

<p>If history teaches us something, the answer to this question is negative. <strong>Governments have a terrible track record when it comes to tackling the consequences of technology.</strong> </p>

<p>Governments have failed so far to make any substantial nudge towards preventing climate catastrophe. What gives us confidence that it can prevent humanity from the AGI risk?</p>

<p>24/ AGI WILL TAKE TIME SO WE WILL HAVE PLENTY OF TIME TO WORRY.</p>

<p>Two trends indicate that we won‚Äôt have plenty of time:</p>

<ul>
<li>Computing power has been increasing exponentially</li>
<li>AI models we have currently seem to <a href="https://arxiv.org/abs/2001.08361">scale their intelligence</a> exponentially with available data and model size</li>
</ul>

<p>25/ <strong>If you know anything about exponential curves (hello covid!), you‚Äôd be worried.</strong> GPT-3 was not just better than GPT-2. It was exponentially better.</p>

<p>Similarly, newer AI models will be exponentially better than current ones.</p>

<p>26/ Connor believes that the popular Hollywood ‚Ä¶</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://invertedpassion.com/artificial-general-intelligence-is-risky-by-default/">https://invertedpassion.com/artificial-general-intelligence-is-risky-by-default/</a></em></p>]]>
            </description>
            <link>https://invertedpassion.com/artificial-general-intelligence-is-risky-by-default/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26164332</guid>
            <pubDate>Wed, 17 Feb 2021 09:11:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Easy Forth: Learn forth with REPL in the browser]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26164275">thread link</a>) | @guerrilla
<br/>
February 17, 2021 | https://skilldrick.github.io/easyforth | <a href="https://web.archive.org/web/*/https://skilldrick.github.io/easyforth">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>

        

<h2 id="introduction">Introduction</h2>

<p>This small ebook is here to teach you a programming language called Forth. Forth is a
language unlike most others. It‚Äôs not functional <em>or</em> object oriented, it doesn‚Äôt
have type-checking, and it basically has zero syntax. It was written in the 70s, but
is still used today for
<a href="http://www.forth.com/resources/apps/more-applications.html">certain applications</a>.</p>

<p>Why would you want to learn such an odd language? Every new programming
language you learn helps you think about problems in new ways. Forth is very
easy to learn, but it requires you to think in a different way than you‚Äôre used
to. That makes it a perfect language to broaden your coding horizons.</p>

<p>This book includes a simple implementation of Forth I wrote in JavaScript. It‚Äôs by
no means perfect, and is missing a lot of the functionality you‚Äôd expect in a real
Forth system. It‚Äôs just here to give you an easy way to try out the examples. (If
you‚Äôre a Forth expert, please
<a href="https://github.com/skilldrick/easyforth">contribute here</a> and make it better!)</p>

<p>I‚Äôm going to assume that you know at least one other programming language, and have
a basic idea of how stacks work as a data structure.</p>

<h2 id="adding-some-numbers">Adding Some Numbers</h2>

<p>The thing that separates Forth from most other languages is its use of the
stack. In Forth, everything revolves around the stack. Any time you type a
number, it gets pushed onto the stack. If you want to add two numbers together,
typing <code>+</code> takes the top two numbers off the stack, adds them, and puts
the result back on the stack.</p>

<p>Let‚Äôs take a look at an example. Type (don‚Äôt copy-paste) the following into the
interpreter, typing <code>Enter</code> after each line.</p>

<pre><code>1
2
3
</code></pre>



<p>Every time you type a line followed by the <code>Enter</code> key, the Forth interpreter
executes that line, and appends the string <code>ok</code> to let you know there were no
errors. You should also notice that as you execute each line, the area at the
top fills up with numbers. That area is our visualization of the stack. It
should look like this:</p>

<p>1 2 3 &lt;- Top</p>

<p>Now, into the same interpreter, type a single <code>+</code> followed by the <code>Enter</code> key. The top two
elements on the stack, <code>2</code> and <code>3</code>, have been replaced by <code>5</code>.</p>

<p>1 5 &lt;- Top</p>

<p>At this point, your editor window should look like this:</p>

<p>1  <span>ok</span>
2  <span>ok</span>
3  <span>ok</span>
+  <span>ok</span>
</p>

<p>Type <code>+</code> again and press <code>Enter</code>, and the top two elements will be replaced by 6. If
you type <code>+</code> one more time, Forth will try to pop the top two elements off the
stack, even though there‚Äôs only <em>one</em> element on the stack! This results in a
<code>Stack underflow</code> error:</p>

<p>1  <span>ok</span>
2  <span>ok</span>
3  <span>ok</span>
+  <span>ok</span>
+  <span>ok</span>
+  <span>Stack underflow</span>
</p>

<p>Forth doesn‚Äôt force you to type every token as a separate line. Type the
following into the next editor, followed by the <code>Enter</code> key:</p>

<pre><code>123 456 +
</code></pre>



<p>The stack should now look like this:</p>

<p>579 &lt;- Top</p>

<p>This style, where the operator appears after the operands, is known as
<a href="https://en.wikipedia.org/wiki/Reverse_Polish_notation">Reverse-Polish
notation</a>. Let‚Äôs try
something a bit more complicated, and calculate <code>10 * (5 + 2)</code>. Type the
following into the interpreter:</p>

<pre><code>5 2 + 10 *
</code></pre>



<p>One of the nice things about Forth is that the order of operations is
completely based on their order in the program. For example, when executing <code>5
2 + 10 *</code>, the interpreter pushes 5 to the stack, then 2, then adds them and
pushes the resulting 7, then pushes 10 to the stack, then multiplies 7 and 10.
Because of this, there‚Äôs no need for parentheses to group operators with lower
precedence.</p>

<h3 id="stack-effects">Stack Effects</h3>

<p>Most Forth words affect the stack in some way. Some take values off the stack,
some leave new values on the stack, and some do a mixture of both. These ‚Äústack
effects‚Äù are commonly represented using comments of the form <code>( before -- after
)</code>. For example, <code>+</code> is <code>( n1 n2 -- sum )</code> - <code>n1</code> and <code>n2</code> are the top two numbers
on the stack, and <code>sum</code> is the value left on the stack.</p>

<h2 id="defining-words">Defining Words</h2>

<p>The syntax of Forth is extremely straightforward. Forth code is interpreted as
a series of space-delimited words. Almost all non-whitespace characters are valid
in words. When the Forth interpreter reads a word, it checks to see if a
definition exists in an internal structure known as the Dictionary. If it is
found, that definition is executed. Otherwise, the word is assumed to be a
number, and it is pushed onto the stack. If the word cannot be converted to a
number, an error occurs.</p>

<p>You can try that out yourself below. Type <code>foo</code> (an unrecognized word)
and press enter.</p>



<p>You should see something like this:</p>

<p>foo  <span>foo ?</span></p>

<p><code>foo ?</code> means that Forth was unable to find a definition for <code>foo</code>, and it
wasn‚Äôt a valid number.</p>

<p>We can create our own definition of <code>foo</code> using two special words called <code>:</code>
(colon) and <code>;</code> (semicolon).  <code>:</code> is our way of telling Forth we want to create
a definition. The first word after the <code>:</code> becomes the definition name, and the
rest of the words (until the <code>;</code>) make up the body of the definition. It‚Äôs
conventional to include two spaces between the name and the body of the
definition. Try entering the following:</p>

<pre><code>: foo  100 + ;
1000 foo
foo foo foo
</code></pre>

<p><strong>Warning:</strong> A common mistake is to miss out the space before the <code>;</code> word. Because Forth
words are space delimited and can contain most characters, <code>+;</code> is a perfectly
valid word and is not parsed as two separate words.</p>



<p>As you‚Äôve hopefully figured out, our <code>foo</code> word simply adds 100 to the value on
top of the stack. It‚Äôs not very interesting, but it should give you an idea of
how simple definitions work.</p>

<h2 id="stack-manipulation">Stack Manipulation</h2>

<p>Now we can start taking a look at some of Forth‚Äôs predefined words. First,
let‚Äôs look at some words for manipulating the elements at the top of the stack.</p>

<h3 id="dup--n----n-n-"><code>dup ( n -- n n )</code></h3>

<p><code>dup</code> is short for ‚Äúduplicate‚Äù ‚Äì it duplicates the top element of the stack. For example,
try this out:</p>

<pre><code>1 2 3 dup
</code></pre>



<p>You should end up with the following stack:</p>

<p>1 2 3 3 &lt;- Top</p>

<h3 id="drop--n----"><code>drop ( n -- )</code></h3>

<p><code>drop</code> simply drops the top element of the stack. Running:</p>

<pre><code>1 2 3 drop
</code></pre>

<p>gives you a stack of:</p>

<p>1 2 &lt;- Top</p>



<h3 id="swap--n1-n2----n2-n1-"><code>swap ( n1 n2 -- n2 n1 )</code></h3>

<p><code>swap</code>, as you may have guessed, swaps the top two elements of the stack. For example:</p>

<pre><code>1 2 3 4 swap
</code></pre>

<p>will give you:</p>

<p>1 2 4 3 &lt;- Top</p>



<h3 id="over--n1-n2----n1-n2-n1-"><code>over ( n1 n2 -- n1 n2 n1 )</code></h3>

<p><code>over</code> is a bit less obvious: it takes the second element from the top of the
stack and duplicates it to the top of the stack. Running this:</p>

<pre><code>1 2 3 over
</code></pre>

<p>will result in this:</p>

<p>1 2 3 2 &lt;- Top</p>



<h3 id="rot--n1-n2-n3----n2-n3-n1-"><code>rot ( n1 n2 n3 -- n2 n3 n1 )</code></h3>

<p>Finally, <code>rot</code> ‚Äúrotates‚Äù the top <em>three</em> elements of the stack. The third
element from the top of the stack gets moved to the top of the stack, pushing
the other two elements down.</p>

<pre><code>1 2 3 rot
</code></pre>

<p>gives you:</p>

<p>2 3 1 &lt;- Top</p>



<h2 id="generating-output">Generating Output</h2>

<p>Next, let‚Äôs look at some words for outputting text to the console.</p>

<h3 id="n-----period"><code>. ( n -- )</code> (period)</h3>

<p>The simplest output word in Forth is <code>.</code>. You can use <code>.</code> to output the top of
the stack in the output of the current line. For example, try running this
(make sure to include all the spaces!):</p>

<pre><code>1 . 2 . 3 . 4 5 6 . . .
</code></pre>



<p>You should see this:</p>

<p>1 . 2 . 3 . 4 5 6 . . . <span>1 2 3 6 5 4  ok</span></p>

<p>Going through this in order, we push <code>1</code>, then pop it off and output it. Then
we do the same with <code>2</code> and <code>3</code>. Next we push <code>4</code>, <code>5</code>, and <code>6</code> onto the stack.
We then pop them off and output them one-by-one. That‚Äôs why the last three
numbers in the output are reversed: the stack is last in, first out.</p>

<h3 id="emit--c----"><code>emit ( c -- )</code></h3>

<p><code>emit</code> can be used to output numbers as ascii characters. Just like <code>.</code> outputs
the number at the top of the stack, <code>emit</code> outputs that number as an ascii
character. For example:</p>

<pre><code> 33 119 111 87 emit emit emit emit
</code></pre>



<p>I won‚Äôt give the output here so as to not ruin the surprise. This could also be
written as:</p>

<pre><code>87 emit 111 emit 119 emit 33 emit
</code></pre>

<p>Unlike <code>.</code>, <code>emit</code> doesn‚Äôt output any space after each character, enabling you
to build up arbitrary strings of output.</p>

<h3 id="cr-----"><code>cr ( -- )</code></h3>

<p><code>cr</code> is short for carriage return ‚Äì it simply outputs a newline:</p>

<pre><code>cr 100 . cr 200 . cr 300 .
</code></pre>



<p>This will output:</p>

<p>cr 100 . cr 200 . cr 300 .<span>
100
200
300  ok</span></p>

<h3 id="section"><code>." ( -- )</code></h3>

<p>Finally we have <code>."</code> ‚Äì a special word for outputting strings. The <code>."</code> word works
differently inside definitions to interactive mode. <code>."</code> marks the beginning of
a string to output, and the end of the string is marked by <code>"</code>. The closing <code>"</code>
isn‚Äôt a word, and so doesn‚Äôt need to be space-delimited. Here‚Äôs an example:</p>

<pre><code>: say-hello  ." Hello there!" ;
say-hello
</code></pre>



<p>You should see the following output</p>

<p>say-hello <span>Hello there! ok</span></p>

<p>We can combine <code>."</code>, <code>.</code>, <code>cr</code>, and <code>emit</code> to build up more complex output:</p>

<pre><code>: print-stack-top  cr dup ." The top of the stack is " .
  cr ." which looks like '" dup emit ." ' in ascii  " ;
48 print-stack-top
</code></pre>



<p>Running this should give you the following output:</p>

<p>48 print-stack-top <span>
The top of the stack is 48
which looks like '0' in ascii   ok</span></p>

<h2 id="conditionals-and-loops">Conditionals and Loops</h2>

<p>Now onto the fun stuff! Forth, like most other languages, has conditionals and
loops for controlling the flow of your program. To understand how they work,
however, first we need to understand booleans in Forth.</p>

<h3 id="booleans">Booleans</h3>

<p>There‚Äôs actually no boolean type in Forth. The number <code>0</code> is treated as false,
and any other number is true, although the canonical true value is <code>-1</code> (all
boolean operators return <code>0</code> or <code>-1</code>).</p>

<p>To test if two numbers are equal, you can use <code>=</code>:</p>

<pre><code>3 4 = .
5 5 = .
</code></pre>

<p>This should output:</p>

<p>3 4 = . <span>0  ok</span>
5 5 = . <span>-1  ok</span></p>



<p>You can use <code>&lt;</code> and <code>&gt;</code> for less than and greater than. <code>&lt;</code> checks to see if the
second item from the top of the stack is less than the top item of the stack, and
vice versa for <code>&gt;</code>:</p>

<pre><code>3 4 &lt; .
3 4 &gt; .
</code></pre>

<p>3 4 &lt; . <span>-1  ok</span>
3 4 &gt; . <span>0  ok</span></p>



<p>The boolean operators And, Or, and Not are available as <code>and</code>, <code>or</code>, and <code>invert</code>:</p>

<pre><code>3 4 &lt; 20 30 &lt; and .
3 4 &lt; 20 30 &gt; or .
3 4 &lt; invert .
</code></pre>

<p>The first line is the equivalent of <code>3 &lt; 4 &amp; 20 &lt; 30</code> in a C-based language.
The second line is the equivalent of <code>3 &lt; 4 | 20 &gt; 30</code>. The third line is the
equivalent of <code>!(3 &lt; 4)</code>.</p>

<p><code>and</code>, <code>or</code>, and <code>invert</code> are all bitwise operations. For well-formed flags
(<code>0</code> and <code>-1</code>) they‚Äôll work as expected, but they‚Äôll give incorrect results for
arbitrary numbers.</p>



<h3 id="if-then"><code>if then</code></h3>

<p>Now we can finally get onto conditionals. Conditionals in Forth can only be
used inside definitions. The simplest conditional statement in Forth is <code>if
then</code>, which is equivalent to a standard <code>if</code> statement in most languages.
Here‚Äôs an example of a definition using ‚Ä¶</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://skilldrick.github.io/easyforth">https://skilldrick.github.io/easyforth</a></em></p>]]>
            </description>
            <link>https://skilldrick.github.io/easyforth</link>
            <guid isPermaLink="false">hacker-news-small-sites-26164275</guid>
            <pubDate>Wed, 17 Feb 2021 09:03:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Onyx Platform‚ÄìBiofoundry on your benchtop]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26164089">thread link</a>) | @Cieplak
<br/>
February 17, 2021 | https://www.inscripta.com/products | <a href="https://web.archive.org/web/*/https://www.inscripta.com/products">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="block-textImageSplit-37">
        <div>
        <div>
            <div>
                <div>
                    <p>
                        <h3>Biofoundry on your benchtop.</h3>
                    </p>
                                            <div>
                            <p>Full-scale genome engineering that lets you design, engineer, evaluate and track results on your own benchtop is here and it‚Äôs push-button easy. Unleash your lab‚Äôs full potential through a single integrated platform that includes the instrument, software, and custom reagents and consumables:</p>
<ul><li>The world‚Äôs first benchtop platform for scalable Digital Genome Engineering with push-button simplicity.</li><li>Software for design, library quality control and downstream analysis.</li></ul>
                        </div>
                                                        </div>
            </div>
        </div>
                    <div>
                                <a href="https://inscripta.wistia.com/medias/m6ierf271s">                    
                </a>                                    <p><span>Onyx Genome Engineering Platform Introduction<br></span>
                            </p></div>
            </div>
        
</div></div>]]>
            </description>
            <link>https://www.inscripta.com/products</link>
            <guid isPermaLink="false">hacker-news-small-sites-26164089</guid>
            <pubDate>Wed, 17 Feb 2021 08:34:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[CTO Headaches: Top cloud-to-cloud migration woes (and how to solve them)]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26163970">thread link</a>) | @llarsson
<br/>
February 17, 2021 | https://www.cncf.io/blog/2021/02/15/cto-headaches-top-5-cloud-to-cloud-migration-woes-and-how-to-solve-them/ | <a href="https://web.archive.org/web/*/https://www.cncf.io/blog/2021/02/15/cto-headaches-top-5-cloud-to-cloud-migration-woes-and-how-to-solve-them/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			
<p><em>Guest post originally published on <a href="https://elastisys.com/top-5-cloud-to-cloud-migration-woes-and-how-to-solve-them/">Elastisys‚Äôs blog</a> by Lars Larsson, Senior Cloud Architect and Branch Manager</em> at <em>Elastisys</em></p>



<p>All companies that use cloud services do so for a reason. But those reasons may change. Whether motivated by the need for a multi-cloud strategy, expenditure minimization, legislative or regulatory demands, or simply to get closer to end users, many organizations find themselves migrating from one cloud to another. Cloud-to-cloud migration for a non-trivial application contains a lot of unknown unknowns. This causes stress and uncertainty for a CTO. To help shed some light based on years of experience in the field, we have asked senior cloud architect Lars Larsson at Elastisys, to list some of these issues.</p>



<h2>Executive summary</h2>



<ul><li>Cloud providers offer a wide range of services, each with their own associated costs. Make sure to fully understand the situation as you make your calculations.</li><li>Providers tend to lock in customers via well-integrated services. These may make migration more difficult.</li><li>Make clear inventory of features and functionality your application requires of a managed service. These may or may not match what other cloud providers offer.</li><li>Also make an inventory of the tools and services supporting your organizational processes.</li><li>Take all these inventories into account to calculate your total cost of ownership for any cloud-to-cloud migration.</li><li>Use cloud native technologies to decouple your application and organization from the services offered by a particular cloud provider. This makes migration easier in the future.</li></ul>



<h2>1. Pricing models vary wildly</h2>



<p>Most companies have been hit by that one cloud bill that surprised them. Some services or features wound up costing far more than originally anticipated.&nbsp;</p>



<p>Are you considering a cloud-to-cloud migration to reduce operational costs? If so, please take a long and hard look at the various costs in each of the clouds. Because each service has a different cost model, making it very difficult to compare accurately. You really need to get to the bottom of it.</p>



<p>Compute and storage costs are often easy enough to compare, because those are the most obvious two. But what about other services? How much are you spending on, e.g., log handling or monitoring? Good services such as AWS CloudWatch come at a cost, especially if you use it for log handling too (AWS CloudWatch Logs). Are you heavily using a managed database service? A queueing or pub/sub service?</p>



<p>Avoid feeling like that one time the surprise cloud bill hit you in the face by doing your homework this time. You are wiser from the experience, after all.</p>



<p>Network transfers in and out of the cloud can also vary by quite a large amount. The three major providers will give you incoming network traffic for free, but charge you for the outgoing traffic. Smaller, regional, cloud providers will often have higher compute and storage costs, but not charge you for network traffic. Or include a much larger amount of it in a free tier offering.</p>



<p>Overwhelming? I get it. It sure looks that way at first glance! But it doesn‚Äôt have to be. My trick is to look at your past few detailed billing statements, and map those costs to your new cloud provider options.</p>



<ul><li><em>Key takeaway: Deeply take all aspects of your current cloud billing into account. Find the differences between offerings, and make a more informed decision.</em></li></ul>



<h2>2. Cloud vendor-specific integrations</h2>



<p>Tell me, did you adopt Kubernetes to make yourself less dependent on cloud providers? Reduce vendor lock-in? Are you now surprised at finding out that you are still locked in, but on a different level?</p>



<p>What I‚Äôve seen is that most organizations will make sure they have highly portable application definitions. By relying on Kubernetes, the application definitions work across cloud providers.&nbsp;</p>



<p>But what I‚Äôve also seen is that if you are using a managed Kubernetes service, your users and permissions handling is perhaps tied not to Kubernetes role-based access control (RBAC) features, but rather, to cloud-specific offerings. Like AWS Identity and Access Management (IAM). Great service, but ties you to the AWS platform.</p>



<p>Fully-managed Kubernetes services, if offered by cloud vendors themselves, serve to offer a highly integrated experience. The cost of that integration is that migration to another cloud provider becomes just that certain amount more difficult.</p>



<p>As a community, we‚Äôve tried to fix this. But as a community of engineers, those fixes are technical. Kubernetes dictates standards for certain components or aspects. Networking has to work according to the Container Network Interface (CNI) standard. Storage according to Container Storage Interface (CSI). And so on. Great. But the business people have put in much more clever ways of locking you to the platform. This means that other less obvious aspects are more difficult to freely migrate from one cloud to another.</p>



<p>So what is the option? Do you have to manage Kubernetes yourself? No. Of course not. But it may make sense to investigate managed Kubernetes offerings that are not tied to a particular cloud provider to reduce the risk of vendor lock-in. Without having to take on the task of day-to-day operations on your own, of course.</p>



<ul><li><em>Key takeaway: Investigate the ways in which cloud providers make migration more difficult due to incompatible integrations. Choose third-party vendors that are not tied to any particular cloud provider, and can offer their services on top of other cloud providers if need be.</em></li></ul>



<h2>3. The devil is in the (technical) details</h2>



<p>Almost all organizations I‚Äôve talked to say the same thing. They went to the cloud because they wanted to get infrastructure or platform functionality on an as-a-Service basis. That is the whole point of the cloud, is it not?</p>



<p>So, of course, all cloud providers will offer certain services. It used to be just infrastructure as a service (virtual machines, network, and storage) but we are starting to also take, e.g., object storage and queuing services for granted. Many such services will claim to offer an ‚ÄúS3 compatible API‚Äù or similar. And that is a great starting point! But beware, because what does such a compatibility claim really mean?&nbsp;</p>



<p>AWS S3, for example, was, until December 2020, merely eventually consistent. Since&nbsp;<a href="https://www.infoq.com/news/2020/12/aws-s3-strong-consistency/">their announcement</a>, it is read-after-write consistent (strong consistency). Which level of consistency would a service that is ‚ÄúS3 compatible‚Äù have? The old one? Or the new one? And do you have aspects of your applications that depend on that answer being one or the other? Would you know off-hand?</p>



<p>If you don‚Äôt, by the way, you‚Äôre in excellent company. Most people‚Äôs eyes gloss over when consistency guarantees are discussed. But then again, you don‚Äôt want to get bitten by a bug caused by wrongful assumptions, so somebody has to stay awake to figure this stuff out. Hopefully not past midnight!</p>



<p>Ready for another unexciting example? Queuing services, such as AWS SQS, offer certain delivery guarantees. SQS standard queues offer ‚Äúat least once‚Äù guarantees. That means that a message can be delivered to your application more than once, and must have logic in place for dealing with duplicates. An application that is not prepared for this will start showing strange behavior. Especially under heavy load, because that is when the risk for multiple deliveries is higher. This is because high load means there is less time to do housekeeping for the queuing service. (Note that while SQS offers FIFO queues that have ‚Äúexactly once‚Äù&nbsp;<strong>processing</strong>&nbsp;guarantees, however, that&nbsp;<a href="https://www.ably.io/blog/sqs-fifo-queues-message-ordering-and-exactly-once-processing-guaranteed">does not imply exactly once delivery</a>.) So confusing for an application that was coded with assumptions of RabbitMQ‚Äôs ‚Äúat most once‚Äù delivery guarantees!</p>



<figure><div>
<blockquote data-width="500" data-dnt="true"><div lang="en" dir="ltr"><p>Most people's eyes gloss over when consistency guarantees are discussed</p><p>Read the whole article "CTO Headaches: Top 5 cloud-to-cloud migration woes" for more<a href="https://t.co/exLGZu5SZG">https://t.co/exLGZu5SZG</a></p></div>‚Äî elastisys (@elastisys) <a href="https://twitter.com/elastisys/status/1358795732132769794?ref_src=twsrc%5Etfw">February 8, 2021</a></blockquote>
</div></figure>



<p>The point I am making here is that you must make an inventory of all the cloud services you use, and what features in these are key to your applications working the way they are intended. Because&nbsp;<strong>your</strong>&nbsp;use case is the one that matters.</p>



<p>Cloud providers offer services that make certain trade-offs to ensure the scalability and availability&nbsp;<em>of their service</em>. From the perspective of individual customers and applications, the ideal trade-off choice might have been different. If you use a software such as RabbitMQ, you can configure it perfectly for your use case and requirements. Not the ones of the cloud providers. There are companies that offer managed services in a cloud-agnostic way. Especially on top of Kubernetes, which deserve your consideration.</p>



<ul><li><em>Key takeaway: Make a clear inventory of all cloud services you use, along with the required features of each for your use case. To make a cloud-to-cloud migration easier, start depending on software not tied to any particular provider.</em></li></ul>



<h2>4. Tools supporting your processes (may) change</h2>



<p>Industry wisdom and rule of thumb says that&nbsp;<a href="https://www.econnectivity.se/app-maintenance-cost-can-be-three-times-higher-than-development-cost/">about 70% of software costs</a>&nbsp;are in maintenance. Not development. Just keeping the thing running as intended. How do you address that? My take on it is to rely on smart tools and automation as much as possible. The less your staff has to work on rote menial tasks, the better. Everything they do is a process. So let‚Äôs talk about those processes.</p>



<p>Operating your mission-critical cloud application? A bunch of processes. And most, if not all, of these are supported by tools. Continuous integration and deployment, monitoring, notifications and alerting. These are the tools your operations staff is using to analyze and optimize your application deployment.</p>



<p>Great tools like AWS CloudWatch offer insight into monitoring, logging (CloudWatch Logs), and containerized workloads (CloudWatch Container Insights). Your team probably depends on them. But they are specific to a particular cloud vendor.</p>



<p>If you ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.cncf.io/blog/2021/02/15/cto-headaches-top-5-cloud-to-cloud-migration-woes-and-how-to-solve-them/">https://www.cncf.io/blog/2021/02/15/cto-headaches-top-5-cloud-to-cloud-migration-woes-and-how-to-solve-them/</a></em></p>]]>
            </description>
            <link>https://www.cncf.io/blog/2021/02/15/cto-headaches-top-5-cloud-to-cloud-migration-woes-and-how-to-solve-them/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26163970</guid>
            <pubDate>Wed, 17 Feb 2021 08:20:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Kill the Alarm Clock (2017)]]>
            </title>
            <description>
<![CDATA[
Score 39 | Comments 72 (<a href="https://news.ycombinator.com/item?id=26163691">thread link</a>) | @aminozuur
<br/>
February 16, 2021 | https://supermemo.guru/wiki/Kill_the_alarm_clock | <a href="https://web.archive.org/web/*/https://supermemo.guru/wiki/Kill_the_alarm_clock">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="mw-content-text" lang="en" dir="ltr"><p><small>This text is part of: "<i><a href="https://supermemo.guru/wiki/Science_of_sleep" title="Science of sleep">Science of sleep</a></i>" by <a href="https://supermemo.guru/wiki/Piotr_Wozniak" title="Piotr Wozniak">Piotr Wozniak</a> (2017)</small>
</p>


<h2><span id="Kill_the_alarm_clock.21">Kill the alarm clock!</span></h2>
<h3><span id="Alarm_clock_epidemic">Alarm clock epidemic</span></h3>
<p>Few upwardly mobile people in the modern rat-race society can live without an alarm clock. With a shot of strong coffee and round-the-clock stress, most people learn to live and survive with an alarm clock. Half of the population wakes up with an alarm, 9% are woken by a partner, 4% by pets, 3% by children, etc. That leaves a minority that wake up naturally. Increasingly, time becomes the most precious commodity in society where achievement is often associated with speed and perfect time-management. However, alarm clocks introduce harmful side effects: stress, sleep debt, and worst of all, disruption of the natural physiological sleep function. At worst, those factors will result in physical damage to the brain (e.g. such sensitive structures as the hippocampus, your memory switchboard, may literally <a href="https://supermemo.guru/wiki/If_you_do_not_sleep,_you_die!" title="If you do not sleep, you die!">lose neurons as a result of disrupted sleep</a>).
</p><p>The art of time-management makes it possible to live at a high speed with an alarm clock at your side, and still be free from <a href="https://supermemo.guru/wiki/Factors_that_affect_sleep#Stress" title="Factors that affect sleep">stress</a>. However, the societal damage inflicted by alarm clocks and <a href="https://supermemo.guru/wiki/Sleep_deprivation" title="Sleep deprivation">sleep deprivation</a> is unforgivable. An alarm clock that interrupts your sleep damages your memories, your ability to learn, your creativity, your mood and temper, your relationships with other people, your ability to focus, and your overall intellectual performance!
</p><p>Dr Robert Stickgold has shown that people who learn a skill during the day do not show significant improvement until they get 7-8 hours of good sleep<sup id="cite_ref-stickgold-2005_1-0"><a href="#cite_note-stickgold-2005-1">[1]</a></sup>. There was a noticeable correlation between the degree of improvement and the quality of sleep received. My own work with <a href="https://supermemo.guru/wiki/Sleep_habits#SleepChart_in_SuperMemo" title="Sleep habits">SleepChart</a> also shows that the <a href="https://supermemo.guru/wiki/Sleep_and_learning#Alarm_clock_vs._learning" title="Sleep and learning">use of alarm clocks can dramatically reduce memory recall and consolidation</a>. Forgetting is so painless that we rarely notice its effects. In a natural way, forgetting will proceed even if you get as much sleep as you need, and it is difficult to point to specific memories lost as a result of not sleeping enough. Moreover, <a href="https://supermemo.guru/wiki/Memory_optimization_in_sleep#Neural_optimization_in_sleep" title="Memory optimization in sleep">sleep deprivation may leave your memories intact while their storage will be sub-optimum</a>. The difference may be impossible to spot without measurement. We are more likely to notice sleepiness, reduced mental agility, or bad mood.
</p><p>Disrespect for sleep has reached biblical proportions. This is most noticeable in the US and other highly industrialized nations. <i>Men's Health's</i> Dan Vergano writing for <i>ABC News</i> in <i>"No More Rude Awakenings"</i> suggests a seven-day system for fighting sleepiness: <i>"The secret is to fuel that arousal system so it can <b>beat the pants off the sleep system</b>. By creating the kind of feel-good expectations that trigger hormones to wake the brain, you‚Äôll override the need to sleep and be able to jump out of bed like a man on fire"</i>. The article suggests a "fresh" mind method that capitalizes on the fact that stress hormones help keep you alert. However, the only rational remedy for <i>"rude awakenings"</i> is simple: get enough sleep! Jumping <i>like a man on fire</i> is not likely to have a positive effect on your creative potential!
</p><p>You may often notice that waking up with an alarm clock gives you a jumpstart for the day. You may then come to believe that using the alarm clock might help you stay alert later in the day. This is not the case. The alarm signal simply scares your brain into wakefulness, disrupting the carefully planned process of <a href="https://supermemo.guru/wiki/Memory_optimization_in_sleep#Neural_optimization_in_sleep" title="Memory optimization in sleep">neural optimization</a> that occurs in sleep. As a result, you get an immediate injection of <a href="http://en.wikipedia.org/wiki/Adrenaline">adrenaline</a> and your levels of <a href="http://en.wikipedia.org/wiki/ACTH">ACTH</a> and <a href="http://en.wikipedia.org/wiki/Cortisol">cortisol</a> also increase. This is cortisol that peaks at awakening in natural sleeping rhythm that provides you with the fresh-mind impression. With passing time, this cheaply gained alertness will wear thin unless you continue abusing your physiology with more "remedies". You may use more scare tactics for keeping yourself alert, abuse caffeine, or even get a more profound effect with <a href="http://en.wikipedia.org/wiki/Modafinil">modafinil</a>, <a href="http://en.wikipedia.org/wiki/Cocaine">cocaine</a>, or <a href="http://en.wikipedia.org/wiki/Amphetamines">amphetamines</a>. Alertness should be achieved with the help of sufficient sleep, not despite the lack of sleep! Apart from your reduced ability to learn new things, all unnatural anti-drowsiness methods will produce a great deal of side effects that can be pretty damaging to your health in the long run.
</p><p>All efforts to overcome sleepiness by means other than sleep itself can be likened to a chase of the first high in the use of psychoactive substances. If you drink buckets of coffee, do pushups, pour cold water over your head, or slap your face, you only dip into the last reserves of your alertness hormones that only worsen the effects of deprivation after the effects of the stimulation wear off, which is usually a matter of minutes. Rarely can you get a boost lasting more than an hour, and the more you perk up, the lower you fall in the aftermath.
</p>
<h3><span id="Insomnia_trap">Insomnia trap</span></h3>
<p>If your life without an alarm clock may seem like an impossibility, you will probably need to use all methods in the book to be sure you get enough sleep and minimize the damage. If you need to wake up early at the cost of your brain, avoid the <b><a href="https://supermemo.guru/wiki/Insomnia" title="Insomnia">insomnia trap</a></b>! Insomnia trap is a vicious circle of:
</p>
<ol><li> going to sleep too early to get more sleep,</li>
<li> failing to fall asleep in time (or worse, waking up prematurely),</li>
<li> feeling even more tired on the next day, and</li>
<li> going to sleep even earlier on the next day to catch up with the lost sleep.</li></ol>
<p>It is better to go to sleep at a natural hour (i.e. a bit later), wake up early, suffer a degree of sleep deprivation, and hope for a phase reset that will make it possible to continue on the <a href="http://www.stevepavlina.com/blog/2005/05/how-to-become-an-early-riser/">designer schedule</a>. For a solution to the insomnia trap see: <a href="https://supermemo.guru/wiki/Curing_DSPS_and_insomnia" title="Curing DSPS and insomnia">Curing DSPS and insomnia</a>.
</p><p>If you cannot reset your phase and still feel tired when getting up early on a regular basis, consider choosing a job that is acceptable for your body, not the other way around. Your long-term health and well-being is at stake. If you absolutely cannot live without an alarm clock, you can at least start from changing your mindset about the importance of sleep and ensure you do not impose wrong habits on your children. Perhaps the young ones will be lucky enough to work in a flex-time system that will make it possible to get sufficient amount of undisturbed sleep. At least, do not set a bad example!
</p>
<h3><span id="Wake_up_the_President">Wake up the President</span></h3>
<p>President Bill Clinton was woken up twice by telephone during the night of April 22, 2000 before the infamous I.N.S. raid on the home of Miami relatives of the young Cuban exile Elian Gonzales. He was probably the most often disrupted and sleep deprived president in history. Only after a heart surgery did Clinton take diet, sleep and (real) exercise seriously. Those interrupted nights would definitely influence his performance and the quality of his decisions! Has anybody thought of a rule: <i>Do not wake up the president?</i> A rule that could only be revoked in a true national emergency? President G. W. Bush (b. 1946) was woken up when an American spy plane landed in China in 2001. He was also woken up after a suicide bombing in Jerusalem in 2002. George H. W. Bush (b. 1924) and Hilary Clinton made "waking up in the middle of the night" part of their presidential campaign and prowess. It seems that only Ronald Reagan had pretty strong rules for protecting his own sleep. He also famously napped during some cabinet meetings. He slept through a couple of international events without an apparent negative impact on his somewhat delayed decision-making. Critics would say he slept through the entire <a href="http://en.wikipedia.org/wiki/Iran%E2%80%93Contra_affair">Iran-Contra affair</a>. Was Reagan so protective of sleep because he understood the role of sleep better, or perhaps he was just a bit lazier than other presidents? I don't know. However, he sure set a good example.
</p>
<h3><span id="Alarm_clock_monsters">Alarm clock monsters</span></h3>
<p>Andrea K. wrote to me with skepticism: 
</p>
<blockquote><p><i>"Take the alarm clock away from a typical person and they won't just wake up on their own at their desired time and they will miss work, school, or whatever. An alarm clock can't be that bad for you because of the simple fact that most people use it and I never noticed any problem with them&nbsp;:) Everyone in my family has been using one since they were children, and no one suddenly went crazy or began to mutate into a monster (yet)!"</i></p></blockquote> 
<p>When you use an alarm early in the morning in order to get to work or to school, you cut off the later stages of sleep. If the intrusion into natural sleep is not large (e.g. from minutes to an hour), the damage may be limited and hard to notice. Alarm clock will do far more damage if it cuts deep into the middle of the night sleep. You can compare the use of alarm clocks to smoking or eating hot dogs. The harm is not great enough to be instantly noticeable. It took the public many years to largely accept that "smoking is bad" or "fast food is bad". It is hard to quantify the degree of damage. However, as we move to knowledge society where our intellectual performance becomes increasingly important, the effects of <a href="https://supermemo.guru/wiki/Sleep_deprivation" title="Sleep deprivation">sleep deprivation</a> will come under closer scrutiny and alarm clocks are bound to gradually fall out of favor. Unlike hot dogs, they are already universally hated by their users. Most people are able to somewhat adapt their sleep to their schedules if their routines are regular enough. When those people need to resort to the use of the alarm clock, they cut less of their sleep and the damage is proportionally smaller. Nevertheless, we should always strive at eliminating alarm clocks altogether. Most of all, we should protect our kids from suffering interrupted sleep!
</p>
<h2><span id="References">References</span></h2>
<ol>
<li id="cite_note-stickgold-2005-1"><span><a href="#cite_ref-stickgold-2005_1-0">‚Üë</a></span> <span>Stickgold R., "<a href="http://www.nature.com/nature/journal/v437/n7063/full/nature04286.html">Sleep-dependent memory consolidation</a>," Nature / Volume 437 (October 27, 2005): 1272-1278</span>
</li>
</ol>

<!-- 
NewPP limit report
Cached time: 20210218073047
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.030 seconds
Real time usage: 0.055 seconds
Preprocessor visited node count: 56/1000000
Preprocessor generated node count: 158/1000000
Post‚Äêexpand include size: 1541/2097152 bytes
Template argument size: 438/2097152 bytes
Highest expansion depth: 4/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   36.199      1 - -total
 64.84%   23.472      1 - ArticleSleep
 11.30%    4.092      1 - Template:Excerpt
-->

<!-- Saved in parser cache with key supermem_kool_kids:pcache:idhash:1062-0!*!0!!en!*!* and timestamp 20210218073047 and revision id 14432
 -->
</div></div>]]>
            </description>
            <link>https://supermemo.guru/wiki/Kill_the_alarm_clock</link>
            <guid isPermaLink="false">hacker-news-small-sites-26163691</guid>
            <pubDate>Wed, 17 Feb 2021 07:28:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A guide to small satellite GPS antennas and GNSS systems]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26163670">thread link</a>) | @kartikkumar
<br/>
February 16, 2021 | https://blog.satsearch.co/2021-02-16-smallsat-and-cubesat-gps-antennas-and-gnss-systems | <a href="https://web.archive.org/web/*/https://blog.satsearch.co/2021-02-16-smallsat-and-cubesat-gps-antennas-and-gnss-systems">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><a><svg xmlns="http://www.w3.org/2000/svg" width="16.802" height="16.802" viewBox="0 0 16.802 16.802"><g transform="translate(-5 -5)"><path data-name="Path 889" d="M6.18,50.268h7.908a1.182,1.182,0,0,0,1.18-1.18V47.935h-.933v1.154a.247.247,0,0,1-.246.246H6.18a.246.246,0,0,1-.246-.246V41.18a.246.246,0,0,1,.246-.246H7.334V40H6.18A1.181,1.181,0,0,0,5,41.18v7.908a1.181,1.181,0,0,0,1.18,1.18Z" transform="translate(0 -28.466)" fill="#252525"></path><path data-name="Path 890" d="M50.269,14.088V6.18A1.181,1.181,0,0,0,49.089,5H41.181A1.181,1.181,0,0,0,40,6.18v7.908a1.181,1.181,0,0,0,1.18,1.18h7.908a1.181,1.181,0,0,0,1.18-1.18Z" transform="translate(-28.466)" fill="#252525"></path><path data-name="Path 891" d="M32.768,31.588V30.435h-.933v1.154a.247.247,0,0,1-.246.246H23.68a.246.246,0,0,1-.246-.246V23.68a.247.247,0,0,1,.246-.246h1.154V22.5H23.68a1.181,1.181,0,0,0-1.18,1.18v7.908a1.18,1.18,0,0,0,1.18,1.18h7.908A1.181,1.181,0,0,0,32.768,31.588Z" transform="translate(-14.233 -14.233)" fill="#252525"></path></g></svg><span>Roundups</span></a><div><p>Hywel on <time datetime="2021-02-16T12:57:59.000Z" itemprop="datePublished">Feb 16, 2021</time></p><p>Last updated &nbsp;<time datetime="2021-02-18T09:08:01.000Z" itemprop="dateModified">Feb 18, 2021</time></p></div></div><div><p><span>Hywel Curtis on Feb 16, 2021</span></p><p><span>Last updated Feb 18, 2021</span></p></div></div></div><div><div><div itemprop="articleBody">
<p><em>CubeSat GPS antennas and GNSS systems are important for effective navigation, coordination, and payload operation. This article gives an overview of antennas that have been developed for nanosatellites, CubeSats and other small satellite form factors that are available on the global space marketplace.</em></p>



<p><em>The article begins with a brief introduction to GNSS systems and technology, but if  you would like to skip straight to the product listings, <a href="#products">please click here</a>.</em></p>



<hr>



<h2>Introduction</h2>



<p>As the range of applications that small satellites can carry out grows, and the systems themselves get smaller thanks to electronic miniaturization, it is increasingly important for operators to be able to access accurate information on their position while in orbit.</p>



<p>Effective attitude control systems enable responsive position fixes in orbit, while communications systems (operating in the <a href="https://blog.satsearch.co/2020-02-27-an-overview-of-satellite-x-band-transmitters-available-on-the-global-marketplace">X-</a>, <a href="https://blog.satsearch.co/2020-05-19-s-band-antennas-on-the-global-marketplace-for-space">S-</a>, or <a href="https://blog.satsearch.co/2020-12-16-satellite-uhf-and-vhf-transceivers-and-transmitters">UHF band</a> for example) that connect to the ground also allow satellite operators to take more active, manual control by sending commands to the relevant actuators.</p>



<p>Another option is for a small satellite to make use of the regionally or globally available satellite positioning systems that were primarily developed for navigation on Earth.</p>



<p>The general term for such networks is Global Navigation Satellite System (GNSS) with the Global Positioning System (GPS) being the most well-known.</p>



<hr>



<h2>How satellite GNSS networks operate</h2>



<p>GNSS networks are constellations of large satellites in higher Earth orbits; typically Medium Earth Orbit (MEO), at altitudes of approximately 2,000 ‚Äì 35,000 km, or Geosynchronous Orbit (GSO) at an altitude of 35,786 km.</p>



<p>These constellations produce global signals, across a range of frequency bands, which are picked up by terrestrial GNSS receivers in order to give accurate position information on the ground.</p>



<p>These are the signals used by your car‚Äôs satnav, your fitness tracking app when out for a run, or that give live location information on an expected parcel‚Äôs delivery.</p>



<div><figure><img loading="lazy" src="https://blog-admin.satsearch.com/wp-content/uploads/210216_satsearch_cubesat_gps_antennas_car_satnav-1024x683.jpg" alt="CubeSat GPS antennas on the global market - car satnav" width="536" height="357" srcset="https://blog-admin.satsearch.com/wp-content/uploads/210216_satsearch_cubesat_gps_antennas_car_satnav-1024x683.jpg 1024w, https://blog-admin.satsearch.com/wp-content/uploads/210216_satsearch_cubesat_gps_antennas_car_satnav-300x200.jpg 300w, https://blog-admin.satsearch.com/wp-content/uploads/210216_satsearch_cubesat_gps_antennas_car_satnav-768x512.jpg 768w, https://blog-admin.satsearch.com/wp-content/uploads/210216_satsearch_cubesat_gps_antennas_car_satnav.jpg 1350w" sizes="(max-width: 536px) 100vw, 536px"></figure></div>



<p>By adapting ground-based equipment, or by basing new designs for space on them, sub-system manufacturers have developed <a href="https://blog.satsearch.co/2019-11-12-an-overview-of-gps-receivers-for-small-satellites" target="_blank" rel="noreferrer noopener">GNSS receiver systems for satellites</a> that enable navigation information and positing activities on a CubeSat or other small satellite.</p>



<p>There are various structural differences between terrestrial and space-based GNSS equipment.</p>



<p>For example, on Earth such devices are usually built from low-cost, widely-available, commercial-off-the-shelf (COTS) parts. To operate effectively in space such components may need to be adapted to meet the huge thermal and mechanical stresses of launch, radiation-hardened, and made suitable for operating in a vacuum.</p>



<p>CubeSat GPS antennas and GNSS antennas play an important role in the acquisition and translation of the GNSS signal originating at one or more of the existing networks.</p>



<hr>



<h2>GNSS networks</h2>



<p>There are several GNSS networks giving coverage across one or more countries and territories. Such networks have been launched by sovereign nations, international organizations, and even private companies.</p>



<p>Global satellite-based navigational systems play a fundamental role in many aspects of industrial activity, military operations, and in consumer products.</p>



<p>Satellite GNSS equipment will often have the ability to connect to multiple networks as needed, in order to extend coverage spatially, and to provide redundancy in the case of one signal being unreachable.</p>



<p>This list below gives an overview of the different networks that a small satellite antenna may be able to interact with: </p>



<hr>



<p><strong>GPS</strong></p>



<p>The <em>Global Positioning System (GPS)</em> is the most common GNSS around the world. It is owned by the United States government and plays a major role in a wide variety of industrial processes, consumer products, defence applications, and intelligence services.</p>



<p>Note that GPS is often used synonymously with GNSS, but in fact <em>GPS is simply a type of GNSS</em>, in the same way that a <a href="https://blog.satsearch.co/2019-07-25-reaction-wheels-an-overview-of-attitude-control-systems-available-on-the-global-marketplace-for-space">reaction wheel</a> is a type of attitude control system.</p>



<p>The GPS is operated and maintained by the U.S. Air Force and more in-depth information is available at <a href="https://www.gps.gov/" target="_blank" rel="noreferrer noopener">GPS.gov</a>, a website maintained by the National Coordination Office for Space-Based Positioning, Navigation, and Timing.</p>



<p>CubeSat GPS antennas enable systems to connect to the primary GPS frequency in the L-Band, between 1 and 2 GHz. </p>



<div><figure><img loading="lazy" src="https://blog-admin.satsearch.com/wp-content/uploads/210216_satsearch_cubesat_gps_antennas_nasa_gps_satellite.jpg" alt="CubeSat GPS antennas on the global market - nasa gps satellite" width="535" height="428" srcset="https://blog-admin.satsearch.com/wp-content/uploads/210216_satsearch_cubesat_gps_antennas_nasa_gps_satellite.jpg 1006w, https://blog-admin.satsearch.com/wp-content/uploads/210216_satsearch_cubesat_gps_antennas_nasa_gps_satellite-300x240.jpg 300w, https://blog-admin.satsearch.com/wp-content/uploads/210216_satsearch_cubesat_gps_antennas_nasa_gps_satellite-768x615.jpg 768w" sizes="(max-width: 535px) 100vw, 535px"></figure></div>



<hr>



<p><strong>GLONASS</strong></p>



<p>The <em>Globalnaya Navigazionnaya Sputnikovaya Sistema</em>, or <em>Global Navigation Satellite System</em>, is typically referred to as <em>GLONASS</em>. Initially covering the former Soviet Union, GLONASS now has worldwide coverage and enables satellite navigation systems to use it alongside GPS for faster, more accurate position fixing.</p>



<p>GLONASS is a major part of the Russian space agency Roscosmos‚Äô operations and operates <a href="https://www.everythingrf.com/community/glonass-frequency-bands" target="_blank" rel="noreferrer noopener">in the following bands</a>:</p>



<ul><li><strong>G1 Band</strong>: 1589.0625 MHz to 1605.375 MHz</li><li><strong>G2 Band</strong>: 1242.9375 MHz to 1248.625 MHz</li><li><strong>G3 Band</strong>: 1201 MHz</li></ul>



<hr>



<p><strong>Galileo</strong></p>



<p>A GNSS created by the European Union (EU) through the European Space Agency (ESA) and now operated by <a href="https://www.gsc-europa.eu/" target="_blank" rel="noreferrer noopener">the European GNSS Agency (GSA)</a>.</p>



<p><em>Galileo</em> was created to enable Europeans to access a global positioning system independent of GPS or GLONASS, and is freely available worldwide to an accuracy of 1 meter, which can be increased to 1 centimeter in an encrypted form for commercial customers, in the High Accuracy Service (HAS).</p>



<p>Galileo operates in the 1.1 to 1.6 GHz band; a frequency range that is well-suited to mobile navigation and communication services.</p>



<p>Each Galileo satellite is designed to broadcast 10 different navigation signals making it possible for Galileo to offer open (OS), safety-of-life (SOL), commercial (CS) and public regulated services (PRS).</p>



<hr>



<p><strong>BeiDou</strong></p>



<p>The <em>BeiDou Navigation Satellite System</em> is generally referred to as <em>BeiDou</em>, or simply <em>BDS</em>, and is a worldwide GNSS created and run by the People‚Äôs Republic of China. The system was formerly called Compass and began its life by offering regional coverage in China before branching out globally.</p>



<p>Now in its third phase of development, the BeiDou system provides connectivity in <a href="https://en.wikipedia.org/wiki/BeiDou" target="_blank" rel="noreferrer noopener">the following open service channels</a>:</p>



<ul><li><strong>B1I</strong>: 1561.098 MHz</li><li><strong>B1C</strong>: 1575.42 MHz</li><li><strong>B2I</strong>: 1207.14 MHz</li><li><strong>B2a</strong>: 1176.45 MHz</li><li><strong>B2b</strong>: 1207.14 MHz</li><li><strong>B3I</strong>: 1268.52 MHz</li></ul>



<div><figure><img loading="lazy" width="512" height="410" src="https://blog-admin.satsearch.com/wp-content/uploads/210216_satsearch_cubesat_gps_antennas_beidou.jpg" alt="CubeSat GPS antennas on the global market - beidou" srcset="https://blog-admin.satsearch.com/wp-content/uploads/210216_satsearch_cubesat_gps_antennas_beidou.jpg 512w, https://blog-admin.satsearch.com/wp-content/uploads/210216_satsearch_cubesat_gps_antennas_beidou-300x240.jpg 300w" sizes="(max-width: 512px) 100vw, 512px"><figcaption>Image credit: beidou.gov.cn.</figcaption></figure></div>



<hr>



<p><strong>IRNSS</strong></p>



<p>The<em> Indian Regional Navigation Satellite System (IRNSS)</em> is a regional GNSS owned and operated by the Government of India via the Indian Space Research Organisation (ISRO). It also has the operational name <em>Navigation with Indian Constellation (NavIC)</em>.</p>



<p>NavIC satellites use dual frequency bands that provide signals in the L5-band and S-band. The system is designed to provide accurate position information in a primary service area that covers India and a region extending up to 1,500 km from the country‚Äôs borders.</p>



<p>It also offers a level of coverage in an extended service area that lies between the primary service area and area enclosed by a rectangle from Latitude 30 deg South to 50 deg North, Longitude 30 deg East to 130 deg East. You can find out more about the system <a href="https://www.isro.gov.in/irnss-programme" target="_blank" rel="noreferrer noopener">on the ISRO site</a>.</p>



<hr>



<p><strong>QZSS</strong></p>



<p>The <em>Quasi-Zenith Satellite System (QZSS)</em> is also a regional GNSS, in this case owned by the Government of Japan and operated by QZS System Service Inc. (QSS).</p>



<p>It is designed to complement GPS coverage in Oceania and East Asia and is sometimes referred to as <em>the Japanese GPS</em>. The constellation provides the following signals:</p>



<ul><li><strong>L1C/A</strong>, <strong>L1C</strong>, <strong>L1S</strong>, and <strong>L1Sb</strong> with a center frequency of 1575.42 MHz</li><li><strong>L2C</strong> with a center frequency of 1227.60 MHz</li><li><strong>L5</strong> and <strong>L5S</strong> with a center frequency of 1176.45 MHz</li><li><strong>L6</strong> with a center frequency of 1278.75 MHz</li><li><strong>S-band</strong> operating in the 2 GHz band</li></ul>



<p><a href="https://qzss.go.jp/en/" target="_blank" rel="noreferrer noopener">Find out more about the QZSS at the official website here</a>.</p>



<p>More information on each of these GNSS networks is available on the operators‚Äô websites and <a href="https://blog.bliley.com/the-differences-between-the-5-gnss-satellite-network-constellations" target="_blank" rel="noreferrer noopener">in this excellent article by Bliley Technologies</a>.</p>



<p>Now that you have been introduced to the use cases for GNSS and GPS connectivity in small satellites, and gained an understanding of the major GNSS constellations which they may access ‚Äì let‚Äôs next take a look at what you may want to consider when selecting a small satellite GNSS or CubeSat GPS antenna for your individual needs.</p>



<hr>



<h2>Understanding your requirements</h2>



<p>We recommend a simple four-step approach for the preliminary selection of any new piece of hardware or software for a satellite or other space system.</p>



<p>Note that this is just a basic guide based on what we‚Äôve learned helping hundreds of buyers select products within our marketplace and get rapid responses from suppliers.</p>



<p>It is just meant to help engineers make an initial assessment and shouldn‚Äôt replace formalised systems engineering approaches such as the <a href="https://www.incose.org/incose-member-resources/working-groups/Application/space-systems" target="_blank" rel="noreferrer noopener">INCOSE Model-Based Systems Engineering (MBSE) CubeSat frameworks</a>.</p>



<ol><li>Specify your currently known mission parameters,</li><li>Record all currently known overall design specifications of the system,</li><li>Consider the range of technology that will be used in the satellite and in ancillary sub-systems, and</li><li>Take into account the key performance criteria of the kind of product you wish to procure.</li></ol>



<p>These criteria are explained in more detail below.</p>



<hr>



<h3>Mission parameters</h3>



<p>The first step is to fully understand the currently known mission parameters, including both the critical applications and desirable, but not necessarily essential, objectives.</p>



<p>Typically the more precise mission parameters will only be established later in the process ‚Äì usually iterated upon in a number of loops by considering the ‚Äúsystem of systems.‚Äù</p>



<p>But having an idea of what functions your selected technology is likely to need to perform, and on what schedule and duration, will make selecting the most suitable model mch easier.</p>



<p>Also consider the launch stresses, testing processes and regulatory compliance that the product will need to go through in order to make it ‚Ä¶</p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.satsearch.co/2021-02-16-smallsat-and-cubesat-gps-antennas-and-gnss-systems">https://blog.satsearch.co/2021-02-16-smallsat-and-cubesat-gps-antennas-and-gnss-systems</a></em></p>]]>
            </description>
            <link>https://blog.satsearch.co/2021-02-16-smallsat-and-cubesat-gps-antennas-and-gnss-systems</link>
            <guid isPermaLink="false">hacker-news-small-sites-26163670</guid>
            <pubDate>Wed, 17 Feb 2021 07:24:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Maximally optimizing image loading for the web in 2021]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26163520">thread link</a>) | @chovybizzass
<br/>
February 16, 2021 | https://www.industrialempathy.com/posts/image-optimizations/ | <a href="https://web.archive.org/web/*/https://www.industrialempathy.com/posts/image-optimizations/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>In this post I'll outline 8 image loading optimization techniques to minimize both the bandwidth used for loading images on the web and the CPU usage for image display. I'll present them in the form of an annotated HTML example to make it easy for folks to reproduce the results. Some of these techniques are more established, while others are somewhat novel. Ideally, your favorite mechanism for publishing web documents (like a CMS, static site generator, or web application framework) implements all of these out-of-the-box. I'll keep a <a href="#tools">list updated at the end of this posts</a> with technologies that provide <em>all</em> of the optimizations outlined here.</p><p>Together the techniques optimize all elements of <a href="https://web.dev/vitals/">Google's Core Web Vitals</a> by</p><ul><li>Minimizing the <a href="https://web.dev/lcp/">Largest Contentful Paint (LCP)</a> through reducing bytes, caching, and lazy loading.</li><li>Keeping <a href="https://web.dev/cls/">Cumulative Layout Shift (CLS)</a> to zero.</li><li>Reducing <a href="https://web.dev/fid/">First Input Delay(FID)</a> through reduced (main-thread) CPU usage.</li></ul><p>View the source of this sample image to see all the techniques in action:</p><p><picture><source type="image/avif" srcset="https://www.industrialempathy.com/img/remote/ZiClJf-1920w.avif 1920w, https://www.industrialempathy.com/img/remote/ZiClJf-1280w.avif 1280w, https://www.industrialempathy.com/img/remote/ZiClJf-640w.avif 640w, https://www.industrialempathy.com/img/remote/ZiClJf-320w.avif 320w" sizes="(max-width: 608px) 100vw, 608px"><source type="image/webp" srcset="https://www.industrialempathy.com/img/remote/ZiClJf-1920w.webp 1920w, https://www.industrialempathy.com/img/remote/ZiClJf-1280w.webp 1280w, https://www.industrialempathy.com/img/remote/ZiClJf-640w.webp 640w, https://www.industrialempathy.com/img/remote/ZiClJf-320w.webp 320w" sizes="(max-width: 608px) 100vw, 608px"><source type="image/jpeg" srcset="https://www.industrialempathy.com/img/remote/ZiClJf-1920w.jpg 1920w, https://www.industrialempathy.com/img/remote/ZiClJf-1280w.jpg 1280w, https://www.industrialempathy.com/img/remote/ZiClJf-640w.jpg 640w, https://www.industrialempathy.com/img/remote/ZiClJf-320w.jpg 320w" sizes="(max-width: 608px) 100vw, 608px"><img loading="lazy" decoding="async" width="4032" src="https://www.industrialempathy.com/img/remote/ZiClJf.jpg" height="2268" alt="Sample image illustrating the techniques outlined in this post."></picture></p><h2 id="responsive-layout">Responsive layout <a href="#responsive-layout">#</a></h2><p>This is a well understood technique to make an image use the available horizontal space up until its maximum size while retaining the aspect ratio. New in 2020 is that web browsers will reserve the correct vertical space for the image before it loads if the <code>width</code> and <code>height</code> attributes are provided for the <code>img</code> element. This avoids <a href="https://web.dev/cls/">Cumulative Layout Shift (CLS)</a>.</p><pre><code><span><span><span>&lt;</span>style</span><span>&gt;</span></span><span><span><br>  <span>img</span> <span>{</span><br>    <span>max-width</span><span>:</span> 100%<span>;</span><br>    <span>height</span><span>:</span> auto<span>;</span><br>  <span>}</span><br></span></span><span><span><span>&lt;/</span>style</span><span>&gt;</span></span><br><br><span><span><span>&lt;</span>img</span> <span>height</span><span><span>=</span><span>"</span>853<span>"</span></span> <span>width</span><span><span>=</span><span>"</span>1280<span>"</span></span> <span>‚Ä¶</span> <span>/&gt;</span></span></code></pre><h2 id="lazy-rendering">Lazy rendering <a href="#lazy-rendering">#</a></h2><p>The second technique is more cutting edge. The new CSS attribute <code>content-visibility: auto</code> instructs the browser to not bother layouting the image until it gets near the screen. This has all kinds of benefits, but the most important one might be that the browser will not bother decoding our blurry placeholder image or the image itself unless it has to, saving CPU.</p><h3 id="update-01%2F27%2F2021-contain-intrinsic-size-no-longer-needed">Update 01/27/2021 contain-intrinsic-size no longer needed <a href="#update-01%2F27%2F2021-contain-intrinsic-size-no-longer-needed">#</a></h3><p>An earlier version of this post explained how to use <code>contain-intrinsic-size</code> to avoid CLS impact of <code>content-visibility: auto</code> but as of Chromium 88 this is no longer needed for images that provide <code>width</code> and <code>height</code> as explained above. Other browser engines do <a href="https://caniuse.com/?search=content-visibility">not yet (01/27/2021) implement <code>content-visibility: auto</code></a> and would presumably follow Chromium's lead on this special case. So, yaihh, this is much simpler now!</p><pre><code><span><span><span>&lt;</span>style</span><span>&gt;</span></span><span><span><br>  <br>  <span>main img</span> <span>{</span><br>    <br>    <span>content-visibility</span><span>:</span> auto<span>;</span><br>  <span>}</span><br></span></span><span><span><span>&lt;/</span>style</span><span>&gt;</span></span></code></pre><h2 id="avif">AVIF <a href="#avif">#</a></h2><p><a href="https://jakearchibald.com/2020/avif-has-landed/">AVIF</a> is the most recent image format that has gained adoption in web browsers. It is currently supported in Chromium browsers, and available behind a flag in Firefox. Safari support isn't available yet, but given that Apple is a member of the <a href="http://aomedia.org/">group</a> that is behind the format, we can expect future support.</p><p>AVIF is notable because it very consistently outperforms JPEG in a very significant way. This is different from WebP which doesn't always produce smaller images than JPEG and may actually be a net-loss due to lack of support for progressive loading.</p><p>To implement progressive enhancement for AVIF, use the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture"><code>picture</code> element</a>.</p><p>The actual <code>img</code> element is nested in the <code>picture</code>. This can be quite confusing, because the <code>img</code> is sometimes described as fallback for browsers without picture support but basically the <code>picture</code> element only helps with <code>src</code> selection but has no layout itself. The element that is drawn (and which you style) is the <code>img</code> element.</p><p>Until very recently it was relatively difficult to actually encode AVIF images on the server-side, but with the latest version of libraries like <a href="https://github.com/lovell/sharp">sharp</a> it is now trivial.</p><pre><code><span><span><span>&lt;</span>picture</span><span>&gt;</span></span><br>  <span><span><span>&lt;</span>source</span><br>    <span>sizes</span><span><span>=</span><span>"</span>(max-width: 608px) 100vw, 608px<span>"</span></span><br>    <span>srcset</span><span><span>=</span><span>"</span><br>      /img/Z1s3TKV-1920w.avif 1920w,<br>      /img/Z1s3TKV-1280w.avif 1280w,<br>      /img/Z1s3TKV-640w.avif   640w,<br>      /img/Z1s3TKV-320w.avif   320w<br>    <span>"</span></span><br>    <span>type</span><span><span>=</span><span>"</span>image/avif<span>"</span></span><br>  <span>/&gt;</span></span><br>  <br>  <span><span><span>&lt;</span>img</span> <span>/&gt;</span></span><br><span><span><span>&lt;/</span>picture</span><span>&gt;</span></span></code></pre><h2 id="load-the-right-number-of-pixels">Load the right number of pixels <a href="#load-the-right-number-of-pixels">#</a></h2><p>You might have noticed the <code>srcset</code> and <code>sizes</code> attributes in the snippet above. Using the <code>w</code> selector it tells the browser which URL to use based on the physical pixels that would be used if the image was drawn to the user's device given the width calculated from the <code>sizes</code> attribute (which is a media query expression).</p><p>With this the browser will always download the smallest possible image that provides the best image quality for the user. Or it may select a smaller image if, for example, the user has opted into some kind of data-saving mode.</p><h3 id="fallbacks">Fallbacks <a href="#fallbacks">#</a></h3><p>Provide more source elements with <code>srcset</code>s for browsers that only support legacy image formats.</p><pre><code><span><span><span>&lt;</span>source</span><br>  <span>sizes</span><span><span>=</span><span>"</span>(max-width: 608px) 100vw, 608px<span>"</span></span><br>  <span>srcset</span><span><span>=</span><span>"</span><br>    /img/Z1s3TKV-1920w.webp 1920w,<br>    /img/Z1s3TKV-1280w.webp 1280w,<br>    /img/Z1s3TKV-640w.webp   640w,<br>    /img/Z1s3TKV-320w.webp   320w<br>  <span>"</span></span><br>  <span>type</span><span><span>=</span><span>"</span>image/webp<span>"</span></span><br><span>/&gt;</span></span><br><span><span><span>&lt;</span>source</span><br>  <span>sizes</span><span><span>=</span><span>"</span>(max-width: 608px) 100vw, 608px<span>"</span></span><br>  <span>srcset</span><span><span>=</span><span>"</span><br>    /img/Z1s3TKV-1920w.jpg 1920w,<br>    /img/Z1s3TKV-1280w.jpg 1280w,<br>    /img/Z1s3TKV-640w.jpg   640w,<br>    /img/Z1s3TKV-320w.jpg   320w<br>  <span>"</span></span><br>  <span>type</span><span><span>=</span><span>"</span>image/jpeg<span>"</span></span><br><span>/&gt;</span></span></code></pre><h2 id="caching-%2F-immutable-urls">Caching / Immutable URLs <a href="#caching-%2F-immutable-urls">#</a></h2><p>Embed a hash of the bytes in the image in the URL of the image. In the examples above I'm doing that with the <code>Z1s3TKV</code> in the image URLs. That way the URL will change if the image changes and respectively you can apply infinite cache expiration for your images. You want your caching headers to look something like this <code>cache-control: public,max-age=31536000,immutable</code>.</p><p><code>immutable</code> is the semantically correct <code>cache-control</code> value, but unfortunately it isn't widely supported in browsers (I'm looking at you, Chrome). <code>max-age=31536000</code> is the fallback to cache for a year. <code>public</code> is important to allow your CDN to cache the image and deliver it from the edge. But only use that if it is appropriate from a privacy perspective.</p><h2 id="lazy-loading">Lazy loading <a href="#lazy-loading">#</a></h2><p>Adding <code>loading="lazy"</code> to the <code>img</code> instructs the browser to only start fetching the image as it gets closer to the screen and is likely to actually be rendered.</p><pre><code><span><span><span>&lt;</span>img</span> <span>loading</span><span><span>=</span><span>"</span>lazy<span>"</span></span> <span>‚Ä¶</span> <span>/&gt;</span></span></code></pre><h2 id="asynchronous-decoding">Asynchronous decoding <a href="#asynchronous-decoding">#</a></h2><p>Adding <code>decoding="async"</code> to the <code>img</code> gives the browser permission to decode the image off the main thread avoiding user impact of the CPU-time used to decode the image. This should have no discernible downside except that it cannot always be the default for legacy reasons.</p><pre><code><span><span><span>&lt;</span>img</span> <span>decoding</span><span><span>=</span><span>"</span>async<span>"</span></span> <span>‚Ä¶</span> <span>/&gt;</span></span></code></pre><h2 id="blurry-placeholder">Blurry placeholder <a href="#blurry-placeholder">#</a></h2><p>A blurry placeholder is an inline image that provides the user some notion of the image that will load eventually without requiring fetching bytes from the network.</p><p><img width="1280" src="https://www.industrialempathy.com/img/blurry.svg" height="853" alt="Sample blurry placeholder"></p><p>Some notes on the implementation provided here:</p><ul><li>It inlines the blurry placeholder as a <code>background-image</code> of the image. This avoids using a second HTML element and it naturally hides the placeholder when the image loads, so that no JavaScript is needed to implement this.</li><li>It wraps the data URI of the actual image in a data URI of a SVG image. That is done because the blurring of the image is done at the SVG level instead of through a CSS filter. The result is that the blurring is only performed once per image when the SVG is rasterized, instead of on every layout saving CPU.</li></ul><pre><code><span><span><span>&lt;</span>img</span><span><span><br>  <span>style</span></span><span>="</span><br><span>      ‚Ä¶</span><br><span>      <span>background-size</span><span>:</span> cover<span>;</span></span><br><span>      <span>background-image</span><span>:</span> </span><br><span>        <span>url</span><span>(</span>'<span>data</span><span>:</span>image/svg+xml<span>;</span>charset=utf-8<span>,</span>%3Csvg xmlns=\'http%3A//www.w3.org/2000/svg\'</span><br><span>        xmlns%3Axlink=\'http%3A//www.w3.org/1999/xlink\' viewBox=\'0 0 1280 853\'%3E%3Cfilter id=\'b\' color-interpolation-filters=\'sRGB\'%3E%3CfeGaussianBlur stdDeviation=\'.5\'%3E%3C/feGaussianBlur%3E%3CfeComponentTransfer%3E%3CfeFuncA type=\'discrete\' tableValues=\'1 1\'%3E%3C/feFuncA%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Cimage filter=\'<span><span>url</span><span>(</span>%23b<span>)</span></span>\' x=\'0\' y=\'0\' height=\'100%25\' width=\'100%25\' </span><br><span>        xlink%3Ahref=\<span>'data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAGCAIAAACepSOSAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAs0lEQVQI1wGoAFf/AImSoJSer5yjs52ktp2luJuluKOpuJefsoCNowB+kKaOm66grL+krsCnsMGrt8m1u8mzt8OVoLIAhJqzjZ2tnLLLnLHJp7fNmpyjqbPCqLrRjqO7AIeUn5ultaWtt56msaSnroZyY4mBgLq7wY6TmwCRfk2Pf1uzm2WulV+xmV6rmGyQfFm3nWSBcEIAfm46jX1FkH5Djn5AmodGo49MopBLlIRBfG8yj/dfjF5frTUAAAAASUVORK5CYII=\'%3E%3C/image%3E%3C/svg%3E'</span><span>)</span><span>;</span></span><br><span>    </span><span>"</span></span><br>  <span>‚Ä¶</span><br><span>/&gt;</span></span></code></pre><h3 id="(optional-ish)-javascript-optimization">(Optional-ish) JavaScript optimization <a href="#(optional-ish)-javascript-optimization">#</a></h3><p>Browsers may feel obliged to rasterize the blurry placeholder even if the image is already loaded. By removing it on image load, we solve that problem. Also, if your images contain transparency, then this is actually <em>not</em> optional as otherwise the placeholder would shine through.</p><pre><code><span><span><span>&lt;</span>script</span><span>&gt;</span></span><span><span><br>  document<span>.</span>body<span>.</span><span>addEventListener</span><span>(</span><br>    <span>"load"</span><span>,</span><br>    <span>(</span><span>e</span><span>)</span> <span>=&gt;</span> <span>{</span><br>      <span>if</span> <span>(</span>e<span>.</span>target<span>.</span>tagName <span>!=</span> <span>"IMG"</span><span>)</span> <span>{</span><br>        <span>return</span><span>;</span><br>      <span>}</span><br>      <br>      e<span>.</span>target<span>.</span>style<span>.</span>backgroundImage <span>=</span> <span>"none"</span><span>;</span><br>    <span>}</span><span>,</span><br>     <span>true</span><br>  <span>)</span><span>;</span><br></span></span><span><span><span>&lt;/</span>script</span><span>&gt;</span></span></code></pre><p>This is a list of known technologies and tools implementing all of these optimizations:</p><ul><li><a href="https://github.com/google/eleventy-high-performance-blog">eleventy-high-performance-blog</a></li></ul><p>If you know of a technology (can be a combination of multiple "modules" or similar if they work well together) that should be on this list, please <a href="https://twitter.com/cramforce">ping me</a>.</p></div></div>]]>
            </description>
            <link>https://www.industrialempathy.com/posts/image-optimizations/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26163520</guid>
            <pubDate>Wed, 17 Feb 2021 07:00:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bringing a Poster to Life with CSS Grid and GSAP]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26163505">thread link</a>) | @molebox
<br/>
February 16, 2021 | https://richardhaines.dev/bringing-poster-to-life-with-css-grid-and-gsap/ | <a href="https://web.archive.org/web/*/https://richardhaines.dev/bringing-poster-to-life-with-css-grid-and-gsap/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>Often times when im looking for layout inspiration I find myself checking out old graphic design books I have laying around the house or old movie posters, which I used to collect. I find that with posters the creator has to be clever with their use of space and this leads to some wonderful shapes and arrangements.</p><p>There is a website by the artist Mike Joyce called <span><a target="_blank" rel="noopener noreferrer" href="https://www.swissted.com/">swissted.com</a></span> that has a plethora of amazing posters with intricate and exciting layouts. I highly recommend checking it out if you want to get inspiration or just have a layout you want to practice.</p><hr><p>This tutorial will cover the re-creation of a poster with straight up <code>HTML</code>, <code>CSS</code> and <code>JavaScript</code>. We'll use <code>[GSAP](https://greensock.com/)</code> to animate elements of our poster and also learn how to load a custom font. The poster in question can be seen below, it is created by Mike Joyce and taken from their <span><a target="_blank" rel="noopener noreferrer" href="https://www.swissted.com/products/pixies-at-the-rat-1986">site</a></span>.</p><p>The finished project can be view here: <span><a target="_blank" rel="noopener noreferrer" href="https://css-grid-and-gsap-poster-layout.netlify.app/">css-grid-and-gsap-poster-layout.netlify.app</a></span>.</p><p>The source code can be viewed here: <span><a target="_blank" rel="noopener noreferrer" href="https://github.com/molebox/css-grid-and-gsap-poster-layout">github.com/molebox/css-grid-and-gsap-poster-layout</a></span></p><p>We are not going to need to install anything, open vscode (or your choice of IDE) and create the following:</p><ul role="list"><li>A <code>font</code> folder</li><li>A <code>styles</code> folder. Inside here create an index.scss file</li><li>An index.html file</li><li>An index.js file</li></ul><p>We'll be making use of an extension called <span><a target="_blank" rel="noopener noreferrer" href="https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer">live server</a></span>, I suggest installing that as a vscode extension. It will enable you to check on your progress with live updates on every file save.</p><p>Html</p><p>Let's begin by scaffolding out our <code>html</code> page.</p><pre><div><pre><p><span>&lt;!DOCTYPE html&gt;</span><span></span></p><p><span></span><span>&lt;</span><span>html</span><span> </span><span>lang</span><span>=</span><span>"</span><span>en</span><span>"</span><span>&gt;</span><span></span></p><p><span></span><span>&lt;</span><span>head</span><span>&gt;</span><span></span></p><p><span>    </span><span>&lt;</span><span>meta</span><span> </span><span>charset</span><span>=</span><span>"</span><span>UTF-8</span><span>"</span><span>&gt;</span><span></span></p><p><span>    </span><span>&lt;</span><span>meta</span><span> </span><span>name</span><span>=</span><span>"</span><span>viewport</span><span>"</span><span> </span><span>content</span><span>=</span><span>"</span><span>width=device-width, initial-scale=1.0</span><span>"</span><span>&gt;</span><span></span></p><p><span>    </span><span>&lt;</span><span>title</span><span>&gt;</span><span>Bring a poster to life with CSS grid and GSAP</span><span>&lt;/</span><span>t</span><span></span></p><p><span></span><span>itle</span><span>&gt;</span><span></span></p><p><span>    </span><span>&lt;</span><span>link</span><span> </span><span>rel</span><span>=</span><span>"</span><span>stylesheet</span><span>"</span><span> </span><span>href</span><span>=</span><span>"</span><span>./styles/index.css</span><span>"</span><span>&gt;</span><span></span></p><p><span></span><span>&lt;/</span><span>head</span><span>&gt;</span><span></span></p><p><span></span><span>&lt;</span><span>body</span><span>&gt;</span><span></span></p><p><span>    </span><span>&lt;</span><span>div</span><span> </span><span>class</span><span>=</span><span>"</span><span>outer-container</span><span>"</span><span>&gt;</span><span></span></p><p><span>        </span><span>&lt;</span><span>main</span><span> </span><span>class</span><span>=</span><span>"</span><span>main-grid</span><span>"</span><span>&gt;</span><span></span></p><p><span>            </span><span>&lt;</span><span>section</span><span> </span><span>class</span><span>=</span><span>"</span><span>info-section</span><span>"</span><span>&gt;</span><span></span></p><p><span>                </span><span>&lt;</span><span>section</span><span> </span><span>class</span><span>=</span><span>"</span><span>section-left</span><span>"</span><span>&gt;</span><span></span></p><p><span>                </span><span>&lt;/</span><span>section</span><span>&gt;</span><span></span></p><p><span>                </span><span>&lt;</span><span>section</span><span> </span><span>class</span><span>=</span><span>"</span><span>section-right</span><span>"</span><span>&gt;</span><span></span></p><p><span>                </span><span>&lt;/</span><span>section</span><span>&gt;</span><span></span></p><p><span>            </span><span>&lt;/</span><span>section</span><span>&gt;</span><span></span></p><p><span>            </span><span>&lt;</span><span>section</span><span> </span><span>class</span><span>=</span><span>"</span><span>title-section</span><span>"</span><span>&gt;</span><span></span></p><p><span>                </span><span>&lt;</span><span>h1</span><span> </span><span>class</span><span>=</span><span>"</span><span>title</span><span>"</span><span>&gt;</span><span>pixies</span><span>&lt;/</span><span>h1</span><span>&gt;</span><span></span></p><p><span>                </span><span>&lt;</span><span>section</span><span> </span><span>class</span><span>=</span><span>"</span><span>subtitle</span><span>"</span><span>&gt;</span><span></span></p><p><span>                </span><span>&lt;/</span><span>section</span><span>&gt;</span><span></span></p><p><span>            </span><span>&lt;/</span><span>section</span><span>&gt;</span><span></span></p><p><span>            </span><span>&lt;</span><span>section</span><span> </span><span>class</span><span>=</span><span>"</span><span>circles-grid</span><span>"</span><span>&gt;</span><span></span></p><p><span>            </span><span>&lt;/</span><span>section</span><span>&gt;</span><span></span></p><p><span>        </span><span>&lt;/</span><span>main</span><span>&gt;</span><span></span></p><p><span>    </span><span>&lt;/</span><span>div</span><span>&gt;</span><span></span></p><p><span>    </span><span>&lt;</span><span>script</span><span> </span><span>src</span><span>=</span><span>"</span><span>index.js</span><span>"</span><span>&gt;</span><span></span><span>&lt;/</span><span>script</span><span>&gt;</span><span></span></p><p><span></span><span>&lt;/</span><span>body</span><span>&gt;</span><span></span></p><p><span></span><span>&lt;/</span><span>html</span><span>&gt;</span></p></pre></div></pre><p>We begin by linking our <code>index.css</code>file in the header and doing the same with our <code>index.js</code> at the bottom of the body tag. We have given our <code>html</code>a basic structure of how we want the poster to be laid out.</p><p>Styling</p><p>Before we start implementing our classes to define how our poster will look we can do a global reset of the margin, padding and box size. We'll also add our posters colours as css variables so that we can access them within our file in different places without having to repeat ourselves.</p><pre><div><pre><p><span></span><span>*</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>margin</span><span>:</span><span> </span><span>0</span><span>;</span><span></span></p><p><span>  </span><span>padding</span><span>:</span><span> </span><span>0</span><span>;</span><span></span></p><p><span>  </span><span>box-sizing</span><span>:</span><span> border-box</span><span>;</span><span></span></p><p><span></span><span>}</span><span></span></p><p><span></span><span>:root</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>--white-color</span><span>:</span><span> </span><span>#dee2d5</span><span>;</span><span></span></p><p><span>  </span><span>--green-color</span><span>:</span><span> </span><span>#5ebd44</span><span>;</span><span></span></p><p><span></span><span>}</span></p></pre></div></pre><p>Thinking about our poster we will want it to have the shape of a poster, that means that it wont take up the whole width of our viewport. The <code>outer-container</code> class will take care of sizing our poster.</p><p>outer-container</p><pre><div><pre><p><span></span><span>.outer-container</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>max-width</span><span>:</span><span> </span><span>21</span><span>cm</span><span>;</span><span></span></p><p><span>  </span><span>height</span><span>:</span><span> </span><span>100</span><span>vh</span><span>;</span><span></span></p><p><span>  </span><span>margin</span><span>:</span><span> </span><span>0</span><span> auto</span><span>;</span><span></span></p><p><span>  </span><span>background-color</span><span>:</span><span> </span><span>var</span><span>(</span><span>--green-color</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>overflow</span><span>:</span><span> hidden</span><span>;</span><span></span></p><p><span></span><span>}</span></p></pre></div></pre><p>After a little googling I found that the size of an A4 sheet of paper is roughly 21cm so we set that to the width of our poster. We want it to be the height of the viewport and the margin centers our content. We have set the overflow to hidden as we will be doing some positioning later on and this will hide some of the overflowing elements.</p><p>main-grid</p><p>Looking at the poster we could go for a flexbox layout and use a direction of column, stacking all the elements vertically. That would be a viable solution, but to have a little more control over the size of each column and its placement we can instead use the grid. We are setting an explicit height on the top section and the title section then saying the rest (which is made up of the circles) should take up the rest of the available space, or 1 fractional unit.</p><pre><div><pre><p><span>.main-grid</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>display</span><span>:</span><span> grid</span><span>;</span><span></span></p><p><span>  </span><span>grid-template-rows</span><span>:</span><span> </span><span>50</span><span>px</span><span> </span><span>200</span><span>px</span><span> </span><span>1</span><span>fr</span><span>;</span><span></span></p><p><span></span><span>}</span></p></pre></div></pre><p>info-section</p><p>The top section of the poster, with the two paragraphs of text will also utilize the grid. Flexbox would indeed be a good solution here, we could have used <code>justify-content: space-between</code> and then a padding on the horizontal of each text section to push them to the edges of the pages but with some padding from the actual edge. In keeping with using grid however, we can use a nifty feature of the <code>auto</code>cloumn size to set a defined width on the elements on the edges but an auto size in between, pushing the outer elements apart. The left and right section of text use flexbox with a direction of column.</p><pre><div><pre><p><span>.info-section</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>grid-row</span><span>:</span><span> </span><span>1</span><span>;</span><span></span></p><p><span>  </span><span>display</span><span>:</span><span> grid</span><span>;</span><span></span></p><p><span>  </span><span>grid-template-columns</span><span>:</span><span> </span><span>300</span><span>px</span><span> auto </span><span>300</span><span>px</span><span>;</span><span></span></p><p><span>  </span><span>padding</span><span>:</span><span> </span><span>1</span><span>em</span><span>;</span></p><p><span>  p</span><span> </span><span>{</span><span></span></p><p><span>    </span><span>font-size</span><span>:</span><span> </span><span>0.8</span><span>em</span><span>;</span><span></span></p><p><span>  </span><span>}</span><span></span></p><p><span>  </span><span>.section-left</span><span> </span><span>{</span><span></span></p><p><span>    </span><span>grid-column</span><span>:</span><span> </span><span>1</span><span>;</span><span></span></p><p><span>    </span><span>display</span><span>:</span><span> flex</span><span>;</span><span></span></p><p><span>    </span><span>flex-direction</span><span>:</span><span> column</span><span>;</span><span></span></p><p><span>    </span><span>padding</span><span>:</span><span> </span><span>1</span><span>em</span><span>;</span><span></span></p><p><span>  </span><span>}</span><span></span></p><p><span>  </span><span>.section-right</span><span> </span><span>{</span><span></span></p><p><span>    </span><span>grid-column</span><span>:</span><span> </span><span>3</span><span>;</span><span></span></p><p><span>    </span><span>display</span><span>:</span><span> flex</span><span>;</span><span></span></p><p><span>    </span><span>flex-direction</span><span>:</span><span> column</span><span>;</span><span></span></p><p><span>    </span><span>padding</span><span>:</span><span> </span><span>1</span><span>em</span><span>;</span><span></span></p><p><span>  </span><span>}</span><span></span></p><p><span></span><span>}</span></p></pre></div></pre><p>title-section</p><p>We are on a roll with grid! Let's use another one. Here we will be defining the width of each text section whilst also setting the rows height to that of the given second section in the <code>main-grid</code> class. The subtitle, that is, the text on the right which is split into three rows, was a little more fiddly to get right. Our final result is ok but it's not 100% accurate.</p><p>Due to the size of the title text on the left we use a cheeky <code>margin-top</code> to push the three rows down a tad, this gives our eyes the impression that these three rows are centered to the big text on the left. That's not actually true due to the dots on the <code>i</code> raising the height of the title text.</p><pre><div><pre><p><span>.title-section</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>grid-row</span><span>:</span><span> </span><span>2</span><span>;</span><span></span></p><p><span>  </span><span>display</span><span>:</span><span> grid</span><span>;</span><span></span></p><p><span>  </span><span>grid-template-columns</span><span>:</span><span> </span><span>400</span><span>px</span><span> auto </span><span>300</span><span>px</span><span>;</span><span></span></p><p><span>  </span><span>grid-template-rows</span><span>:</span><span> </span><span>200</span><span>px</span><span>;</span><span></span></p><p><span>  </span><span>align-items</span><span>:</span><span> center</span><span>;</span><span></span></p><p><span>  </span><span>padding</span><span>:</span><span> </span><span>1</span><span>em</span><span>;</span><span></span></p><p><span>  </span><span>height</span><span>:</span><span> </span><span>100</span><span>%</span><span>;</span></p><p><span>  </span><span>.title</span><span> </span><span>{</span><span></span></p><p><span>    </span><span>grid-column</span><span>:</span><span> </span><span>1</span><span>;</span><span></span></p><p><span>    </span><span>font-size</span><span>:</span><span> </span><span>10</span><span>em</span><span>;</span><span></span></p><p><span>    </span><span>font-weight</span><span>:</span><span> </span><span>500</span><span>;</span><span></span></p><p><span>    </span><span>letter-spacing</span><span>:</span><span> </span><span>3</span><span>px</span><span>;</span><span></span></p><p><span>  </span><span>}</span><span></span></p><p><span>  </span><span>.subtitle</span><span> </span><span>{</span><span></span></p><p><span>    </span><span>grid-column</span><span>:</span><span> </span><span>3</span><span>;</span><span></span></p><p><span>    </span><span>color</span><span>:</span><span> </span><span>var</span><span>(</span><span>--white-color</span><span>)</span><span>;</span><span></span></p><p><span>    </span><span>display</span><span>:</span><span> flex</span><span>;</span><span></span></p><p><span>    </span><span>flex-direction</span><span>:</span><span> column</span><span>;</span><span></span></p><p><span>    </span><span>padding</span><span>:</span><span> </span><span>1</span><span>em</span><span>;</span><span></span></p><p><span>    </span><span>font-size</span><span>:</span><span> </span><span>1.3</span><span>em</span><span>;</span><span></span></p><p><span>    </span><span>font-weight</span><span>:</span><span> </span><span>100</span><span>;</span><span></span></p><p><span>    </span><span>justify-content</span><span>:</span><span> space-evenly</span><span>;</span><span></span></p><p><span>    </span><span>height</span><span>:</span><span> </span><span>150</span><span>px</span><span>;</span><span></span></p><p><span>    </span><span>margin-top</span><span>:</span><span> </span><span>1</span><span>em</span><span>;</span><span></span></p><p><span>  </span><span>}</span><span></span></p><p><span></span><span>}</span></p></pre></div></pre><p>circles-grid</p><p>Our final class is the most "complicated". If we take a look at the original poster we can count how many circles we see, it's an 11x11 grid. The <code>repeat()</code> function allows us to set a repeating pattern of sizes in one short statement. For the columns we are saying that there should be 11 columns, each taking up the available space until they reach each end of the parent container. We do the same for the rows except that we explicitly state the height of the rows so that the child elements sizing more closely resemble that of the original poster.</p><p>Remember we set the <code>overflow: hidden</code> on the <code>outer-cointainer</code>? Here we can see why. When looking at the original poster we can see the circles on the horizontal edges are cut off, they are semi-circles. Now, rather than creating some special semi-circle shapes we set the width of this section (this grid) to be slightly larger than the parent container, and by hiding the overflow we give the illusion that the circles are semi-circles contained within our bounderies.</p><p>We use another little trick with the before pseudo element to give the illusion that the top of the grid is cut off and thus the circles look like semi-circles. The pseudo element here is creating a 20px high block which has the same colour as the poster. It's got an absolute position and lays on top of the <code>circles-grid</code>.</p><p>The nested <code>circle</code> class is the base circle that will be used to generate a circle dynamically using JavaScript. The <code>white-circle</code> will be used as an override to colour the white circles on the poster.</p><pre><div><pre><p><span>.circles-grid</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>grid-row</span><span>:</span><span> </span><span>3</span><span>;</span><span></span></p><p><span>  </span><span>display</span><span>:</span><span> grid</span><span>;</span><span></span></p><p><span>  </span><span>grid-template-columns</span><span>:</span><span> </span><span>repeat</span><span>(</span><span>11</span><span>,</span><span> </span><span>1</span><span>fr</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>grid-template-rows</span><span>:</span><span> </span><span>repeat</span><span>(</span><span>11</span><span>,</span><span> </span><span>65</span><span>px</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>place-items</span><span>:</span><span> center</span><span>;</span><span></span></p><p><span>  </span><span>background-color</span><span>:</span><span> black</span><span>;</span><span></span></p><p><span>  </span><span>min-width</span><span>:</span><span> </span><span>23.5</span><span>cm</span><span>;</span><span></span></p><p><span>  </span><span>position</span><span>:</span><span> relative</span><span>;</span><span></span></p><p><span>  </span><span>left</span><span>:</span><span> </span><span>-5.25</span><span>%</span><span>;</span></p><p><span>  // add a pseudo element to cut off the top of the grid</span></p><p><span>  &amp;</span><span>:before</span><span> </span><span>{</span><span></span></p><p><span>    </span><span>content</span><span>:</span><span> </span><span>""</span><span>;</span><span></span></p><p><span>    </span><span>width</span><span>:</span><span> </span><span>100</span><span>%</span><span>;</span><span></span></p><p><span>    </span><span>height</span><span>:</span><span> </span><span>20</span><span>px</span><span>;</span><span></span></p><p><span>    </span><span>background-color</span><span>:</span><span> </span><span>var</span><span>(</span><span>--green-color</span><span>)</span><span>;</span><span></span></p><p><span>    </span><span>position</span><span>:</span><span> absolute</span><span>;</span><span></span></p><p><span>    </span><span>top</span><span>:</span><span> </span><span>0</span><span>;</span><span></span></p><p><span>  </span><span>}</span><span></span></p><p><span>  </span><span>.circle</span><span> </span><span>{</span><span></span></p><p><span>    </span><span>border-radius</span><span>:</span><span> </span><span>50</span><span>%</span><span>;</span><span></span></p><p><span>    </span><span>width</span><span>:</span><span> </span><span>60</span><span>px</span><span>;</span><span></span></p><p><span>    </span><span>height</span><span>:</span><span> </span><span>60</span><span>px</span><span>;</span><span></span></p><p><span>    </span><span>background-color</span><span>:</span><span> </span><span>var</span><span>(</span><span>--green-color</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>}</span><span></span></p><p><span>  </span><span>.white-circle</span><span> </span><span>{</span><span></span></p><p><span>    </span><span>background-color</span><span>:</span><span> </span><span>var</span><span>(</span><span>--white-color</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>}</span><span></span></p><p><span></span><span>}</span></p></pre></div></pre><p>Adding the text to the Html</p><p>We can now add the text we see on the poster to our sections on the html page.</p><pre><div><pre><p><span></span><span>&lt;</span><span>section</span><span> </span><span>class</span><span>=</span><span>"</span><span>info-section</span><span>"</span><span>&gt;</span><span></span></p><p><span>  </span><span>&lt;</span><span>section</span><span> </span><span>class</span><span>=</span><span>"</span><span>section-left</span><span>"</span><span>&gt;</span><span></span></p><p><span>    </span><span>&lt;</span><span>p</span><span>&gt;</span><span>saturday</span><span>&lt;/</span><span>p</span><span>&gt;</span><span></span></p><p><span>    </span><span>&lt;</span><span>p</span><span>&gt;</span><span>december 13 1986</span><span>&lt;/</span><span>p</span><span>&gt;</span><span></span></p><p><span>    </span><span>&lt;</span><span>p</span><span>&gt;</span><span>9 pm over 21</span><span>&lt;/</span><span>p</span><span>&gt;</span><span></span></p><p><span>  </span><span>&lt;/</span><span>section</span><span>&gt;</span><span></span></p><p><span>  </span><span>&lt;</span><span>section</span><span> </span><span>class</span><span>=</span><span>"</span><span>section-right</span><span>"</span><span>&gt;</span><span></span></p><p><span>    </span><span>&lt;</span><span>p</span><span>&gt;</span><span>at the rat</span><span>&lt;/</span><span>p</span><span>&gt;</span><span></span></p><p><span>    </span><span>&lt;</span><span>p</span><span>&gt;</span><span>528 commonwealth</span><span>&lt;/</span><span>p</span><span>&gt;</span><span></span></p><p><span>    </span><span>&lt;</span><span>p</span><span>&gt;</span><span>boston, mass.</span><span>&lt;/</span><span>p</span><span>&gt;</span><span></span></p><p><span>  </span><span>&lt;/</span><span>section</span><span>&gt;</span><span></span></p><p><span></span><span>&lt;/</span><span>section</span><span>&gt;</span><span></span></p><p><span></span><span>&lt;</span><span>section</span><span> </span><span>class</span><span>=</span><span>"</span><span>title-section</span><span>"</span><span>&gt;</span><span></span></p><p><span>  </span><span>&lt;</span><span>h1</span><span> </span><span>class</span><span>=</span><span>"</span><span>title</span><span>"</span><span>&gt;</span><span>pixies</span><span>&lt;/</span><span>h1</span><span>&gt;</span><span></span></p><p><span>  </span><span>&lt;</span><span>section</span><span> </span><span>class</span><span>=</span><span>"</span><span>subtitle</span><span>"</span><span>&gt;</span><span></span></p><p><span>    </span><span>&lt;</span><span>p</span><span>&gt;</span><span>with</span><span>&lt;/</span><span>p</span><span>&gt;</span><span></span></p><p><span>    </span><span>&lt;</span><span>p</span><span>&gt;</span><span>throwing muses</span><span>&lt;/</span><span>p</span><span>&gt;</span><span></span></p><p><span>    </span><span>&lt;</span><span>p</span><span>&gt;</span><span>big dipper</span><span>&lt;/</span><span>p</span><span>&gt;</span><span></span></p><p><span>  </span><span>&lt;/</span><span>section</span><span>&gt;</span><span></span></p><p><span></span><span>&lt;/</span><span>section</span><span>&gt;</span></p></pre></div></pre><p>Bringing it all together</p><p>If you havent already, start the live server by clicking the <code>go live</code> that sits on the bottom of vscode. You will see that we have our top two section but no circles are displayed yet. That is because we are going to create then dynamically and have them whizz onto the poster using some gsap magic.</p><p>But before we go ahead and do that, let's add out custom font. If we check the swissed site we can read that Mike Joyce uses the same font for all the posters, <code>Berthold Akzidenz-Grotesk</code>. The font can be downloaded from here: <span><a target="_blank" rel="noopener noreferrer" href="https://www.azfonts.net/load_font/berthold-akzidenz-grotesk-be-medium.html">www.azfonts.net/load_font/berthold-akzidenz-grotesk-be-medium.html</a></span>. This will give you the font in <code>ttf</code> format. We will want to convert that to <code>woff</code> (see <span><a target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/questions/11002820/why-should-we-include-ttf-eot-woff-svg-in-a-font-face">here</a></span> and <span><a target="_blank" rel="noopener noreferrer" href="https://css-tricks.com/understanding-web-fonts-getting/#:~:text=TTF%20can%20be%20useful%20for,supported%20by%20all%20modern%20browsers.">here</a></span>) We can do the conversion online via <span><a target="_blank" rel="noopener noreferrer" href="https://www.fontsquirrel.com/tools/webfont-generator">fontsquirrel.com/tools/webfont-generator</a></span>.</p><p>Now that we have our font in woff format we can drag both the woff and woff2 fonts to our <code>font</code> folder. Then inside the <code>index.scss</code> folder we can load the font using <code>@font-face</code>. We can then add the ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://richardhaines.dev/bringing-poster-to-life-with-css-grid-and-gsap/">https://richardhaines.dev/bringing-poster-to-life-with-css-grid-and-gsap/</a></em></p>]]>
            </description>
            <link>https://richardhaines.dev/bringing-poster-to-life-with-css-grid-and-gsap/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26163505</guid>
            <pubDate>Wed, 17 Feb 2021 06:56:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Introduction to ARM Semihosting]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26163374">thread link</a>) | @parsecs
<br/>
February 16, 2021 | https://interrupt.memfault.com/blog/arm-semihosting | <a href="https://web.archive.org/web/*/https://interrupt.memfault.com/blog/arm-semihosting">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

        <p>Firmware developers are generally accustomed to using logging for execution
information. On microcontrollers, this is usually done through a serial
interface attached to a terminal on the host.</p>

<p>But one might need more advanced features from the host! I was in this position
not long ago ü§®.</p>

<p>When working on camera firmware, and particularly on the image processing
algorithm, I constantly needed to transfer images from the camera to my host
machine to make sure everything was working fine. So I started using
semi-hosting! It has greatly facilitated not only my development but also the
debugging of my embedded software.</p>

<p><strong>Semihosting</strong> is one of the many interesting features available on ARM Cortex
microcontrollers. It allows an embedded program to take advantage of the
capabilities of an attached computer when the debugger is running.</p>

<!-- excerpt start -->
<p>This post introduces semihosting and shows how to use it and integrate it into
your own embedded projects.
<!-- excerpt end --></p>



<h2 id="what-is-semihosting">What Is Semihosting</h2>

<p>According to ARM documentation<sup id="fnref:1"><a href="#fn:1">1</a></sup>, <strong>semihosting</strong> is <em>a mechanism that enables
code running on an ARM target to communicate and use the Input/Output facilities
on a host computer that is running a debugger</em>.</p>

<p>In other words, an ARM based MCU can run C library functions, such as
<code>printf()</code>, <code>scanf</code>, or even <code>fopen</code>, and have these interact directly with the
host computer attached to the device. By doing so, it can benefit from the
screen, the keyboard, or the disk of the host.</p>

<p>
  <img width="600" src="https://interrupt.memfault.com/blog/img/semihosting/semihosting_overview.png">
</p>

<h2 id="how-it-works">How It Works</h2>

<p>This is done by halting the CPU target by the debugger agent, either by running
into a breakpoint instruction (<code>BKPT 0xAB</code>  for ARMv6-M or ARMv7-M) or by
sending a supervisor call instruction (<code>SVC 0xAB</code> or <code>SVC 0x123456</code>) depending
on the target architecture or processor.</p>

<p>This indicates to the host that the target is requesting a semihosting
operation.</p>

<p>The debugger agent then figures out the operation requested by the target by
reading the content of <code>r0</code>, and, if necessary, accesses all other function
parameters pointed by <code>r1</code>.</p>

<p>While the CPU is still halted, the host will execute the requested operation and
return the result in <code>r0</code> before allowing the processor to continue running its
program.</p>

<p>The following is a list of the semihosting operations defined by ARM<sup id="fnref:2"><a href="#fn:2">2</a></sup>:</p>

<div><div><pre><code><span>/* File operations */</span>
<span>SYS_OPEN</span>        <span>EQU</span> <span>0x01</span> <span>//Open a file or stream on the host system.</span>
<span>SYS_ISTTY</span>       <span>EQU</span> <span>0x09</span> <span>//Check whether a file handle is associated with a file or a stream/terminal such as stdout.</span>
<span>SYS_WRITE</span>       <span>EQU</span> <span>0x05</span> <span>//Write to a file or stream.</span>
<span>SYS_READ</span>        <span>EQU</span> <span>0x06</span> <span>//Read from a file at the current cursor position.</span>
<span>SYS_CLOSE</span>       <span>EQU</span> <span>0x02</span> <span>//Closes a file on the host which has been opened by SYS_OPEN.</span>
<span>SYS_FLEN</span>        <span>EQU</span> <span>0x0C</span> <span>//Get the length of a file.</span>
<span>SYS_SEEK</span>        <span>EQU</span> <span>0x0A</span> <span>//Set the file cursor to a given position in a file.</span>
<span>SYS_TMPNAM</span>      <span>EQU</span> <span>0x0D</span> <span>//Get a temporary absolute file path to create a temporary file.</span>
<span>SYS_REMOVE</span>      <span>EQU</span> <span>0x0E</span> <span>//Remove a file on the host system. Possibly insecure!</span>
<span>SYS_RENAME</span>      <span>EQU</span> <span>0x0F</span> <span>//Rename a file on the host system. Possibly insecure!</span>

<span>/* Terminal I/O operations */</span>
<span>SYS_WRITEC</span>      <span>EQU</span> <span>0x03</span> <span>//Write one character to the debug terminal.</span>
<span>SYS_WRITE0</span>      <span>EQU</span> <span>0x04</span> <span>//Write a 0-terminated string to the debug terminal.</span>
<span>SYS_READC</span>       <span>EQU</span> <span>0x07</span> <span>//Read one character from the debug terminal.</span>

<span>/* Time operations */</span>
<span>SYS_CLOCK</span>       <span>EQU</span> <span>0x10</span>
<span>SYS_ELAPSED</span>     <span>EQU</span> <span>0x30</span>
<span>SYS_TICKFREQ</span>    <span>EQU</span> <span>0x31</span>
<span>SYS_TIME</span>        <span>EQU</span> <span>0x11</span>

<span>/* System/Misc. operations */</span>
<span>SYS_ERRNO</span>       <span>EQU</span> <span>0x13</span> <span>//Returns the value of the C library errno variable that is associated with the semihosting implementation.</span>
<span>SYS_GET_CMDLINE</span> <span>EQU</span> <span>0x15</span> <span>//Get commandline parameters for the application to run with (argc and argv for main())</span>
<span>SYS_HEAPINFO</span>    <span>EQU</span> <span>0x16</span>
<span>SYS_ISERROR</span>     <span>EQU</span> <span>0x08</span>
<span>SYS_SYSTEM</span>      <span>EQU</span> <span>0x12</span>
</code></pre></div></div>

<h2 id="how-to-use-it">How to Use It</h2>

<p>In this example, I run the program on an STM32 and use the <code>arm-none-eabi</code>
toolchain along with <strong>openOCD</strong> <code>gdbserver</code>. Other tools may be used instead
depending on your hardware, for more details on which debug interface to use, it
would be wise to read <a href="https://interrupt.memfault.com/blog/a-deep-dive-into-arm-cortex-m-debug-interfaces">this article</a>.</p>

<p>Once you are all set, we can start coding.</p>

<p>First, to enable semihosting, you need to link:</p>
<ul>
  <li>
<code>libc.a</code>, the standard C library (<em>newlib</em><sup id="fnref:3"><a href="#fn:3">3</a></sup> for <code>arm-none-eabi-gcc</code>),</li>
  <li>and <code>librdimon.a</code>, a part of the <em>libgloss</em><sup id="fnref:4"><a href="#fn:4">4</a></sup> library (for platform-specific
code) to your project.</li>
</ul>

<p>This is done by adding a few options to the ARM linker:</p>
<ul>
  <li>removing <code>-nostartfiles</code> flag to allow linking standards libraries,</li>
  <li>adding <code>-lc -lrdimon</code> flags,</li>
  <li>and changing the <em>spec strings</em> file<sup id="fnref:5"><a href="#fn:5">5</a></sup> to <code>--specs=rdimon.specs</code> to use the
semihosted version of the <em>syscalls</em>.</li>
</ul>

<p>The last point essentially means that the system calls can be used when a
debugger is attached (note that the CPU may crash if a debugger is not present).</p>

<p>Now on the C code side, you need to call <code>initialise_monitor_handles()</code> before
starting a semihosting operation.</p>

<div><div><pre><code><span>#ifdef SEMIHOSTING
</span><span>extern</span> <span>void</span> <span>initialise_monitor_handles</span><span>(</span><span>void</span><span>);</span>
<span>#endif
</span>
<span>int</span> <span>main</span><span>(</span><span>void</span><span>)</span> <span>{</span>
<span>#ifdef SEMIHOSTING
</span>  	<span>initialise_monitor_handles</span><span>();</span>
<span>#endif
</span>
  	<span>// other tasks ...</span>

<span>#ifdef SEMIHOSTING
</span>    <span>printf</span><span>(</span><span>"hello world!</span><span>\n</span><span>"</span><span>);</span>
    <span>printf</span><span>(</span><span>"hello world!</span><span>\n</span><span>"</span><span>);</span>
<span>#endif
</span>
    <span>// other tasks ...</span>

  	<span>return</span> <span>0</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>If you are using <code>crt0</code> initialization function, <code>initialise_monitor_handles()</code>
has already been called for you before <code>main()</code>.</p>

<p>Once you have done this, you can compile and program your microcontroller as
usual, however, once the microcontroller flashed it should be halted and not run
yet.</p>

<p>In my case, I launch <em>OpenOCD</em> <code>gdbserver</code> in one terminal, to flash, reset and
halt the CPU. And run <code>gdb</code> from another terminal to connect to the server, and
enable the semihosting in the server side<sup id="fnref:6"><a href="#fn:6">6</a></sup>.</p>

<div><div><pre><code><span>$ </span>arm-none-eabi-gdb <span>-ex</span> <span>"target extended-remote localhost:3333"</span> <span>-ex</span> <span>"monitor reset halt"</span> <span>-ex</span> <span>"monitor arm semihosting enable"</span>
</code></pre></div></div>

<blockquote>
  <p>If <code>initialise_monitor_handles()</code> is called before enabling the semihosting in
the server, a <code>HardFault</code> may occur due to an unexpected debug event.</p>
</blockquote>

<p>Once semihosting is enabled, you can run your program from <code>gdb</code>, and the
semihosting operation will be handled by the <code>gdbserver</code>.</p>

<p>Isn‚Äôt it great? üòã</p>

<h2 id="conclusion">Conclusion</h2>

<p>I hope it was fun reading this post, semihosting is not commonly used in
embedded development because it slows down the execution speed, but
nevertheless, it can be very handy in some cases.</p>

<p>I look forward to your remarks, tips, and comments.</p>

<!-- Interrupt Keep START -->
<p>Like Interrupt? <a href="https://go.memfault.com/interrupt-subscribe" target="_blank">Subscribe</a> to get our latest posts straight to your mailbox.</p>

<p>See anything you'd like to change? Submit a pull request or open an issue at <a href="https://github.com/memfault/interrupt" target="_blank">GitHub</a></p>

<!-- Interrupt Keep END -->

<h2 id="useful-links">Useful links</h2>

<!-- prettier-ignore-start -->
<!-- prettier-ignore-end -->



    </div><p><img src="https://interrupt.memfault.com/blog/img/author/ael-mess.jpg">
            
            <span>
                <a href="https://interrupt.memfault.com/blog/authors/ael-mess">Amine El Messaoudi</a> is an embedded software and firmware engineer, passionate about low-level programming.<br>
                
<span>
    
    
    <a href="https://www.linkedin.com/in/ael-mess/" target="_blank"><svg><use xlink:href="/blog/img/social-icons.svg#linkedin"></use></svg></a>
    
    
    <a href="https://github.com/ael-mess" target="_blank"><svg><use xlink:href="/blog/img/social-icons.svg#github"></use></svg></a>
    
</span>

            </span>

        </p></div>]]>
            </description>
            <link>https://interrupt.memfault.com/blog/arm-semihosting</link>
            <guid isPermaLink="false">hacker-news-small-sites-26163374</guid>
            <pubDate>Wed, 17 Feb 2021 06:30:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Homeownership in California]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26163303">thread link</a>) | @nehagudi
<br/>
February 16, 2021 | https://wiki.purplpkg.com/share/37e72dcc-10d2-43e4-bbf9-f341f426cbb8 | <a href="https://web.archive.org/web/*/https://wiki.purplpkg.com/share/37e72dcc-10d2-43e4-bbf9-f341f426cbb8">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://wiki.purplpkg.com/share/37e72dcc-10d2-43e4-bbf9-f341f426cbb8</link>
            <guid isPermaLink="false">hacker-news-small-sites-26163303</guid>
            <pubDate>Wed, 17 Feb 2021 06:16:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Evolution of File Descriptor Monitoring in Linux]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26163167">thread link</a>) | @joseluisq
<br/>
February 16, 2021 | http://blog.vmsplice.net/2021/02/video-and-slides-available-for.html?m=1 | <a href="https://web.archive.org/web/*/http://blog.vmsplice.net/2021/02/video-and-slides-available-for.html?m=1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-body-7878178506909278718" itemprop="articleBody">
<p>My FOSDEM 2021 talk "The Evolution of File Descriptor Monitoring in Linux: From select(2) to io_uring" is now available:</p>
<ul>
  <li>Video (webm): <a href="https://video.fosdem.org/2021/M.misc/file_descriptor_monitoring.webm">https://video.fosdem.org/2021/M.misc/file_descriptor_monitoring.webm</a></li>
  <li>Slides (PDF): <a href="https://vmsplice.net/~stefan/stefanha-fosdem-2021.pdf">https://vmsplice.net/~stefan/stefanha-fosdem-2021.pdf</a></li>
  <li>Benchmark code: <a href="https://github.com/stefanha/fdmonbench">https://github.com/stefanha/fdmonbench</a></li>
</ul>
<p>The talk compares the file descriptor monitoring system calls available in Linux and discusses their design. Benchmark results show how well they scale when there are many file descriptors. I hope this is a useful overview to this important kernel feature that GUI applications, network services, and many other programs rely on.</p>
<p>If you are interested in API design and performance, this talk highlights how different approaches like stateless vs stateful APIs can affect performance and how to minimize the number of API calls through careful design.</p>
<p>Enjoy!</p>

</div></div>]]>
            </description>
            <link>http://blog.vmsplice.net/2021/02/video-and-slides-available-for.html?m=1</link>
            <guid isPermaLink="false">hacker-news-small-sites-26163167</guid>
            <pubDate>Wed, 17 Feb 2021 05:50:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Philosophy of Science: Suggested Core Readings and Background Texts [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 3 (<a href="https://news.ycombinator.com/item?id=26162929">thread link</a>) | @ms337
<br/>
February 16, 2021 | https://www.uwo.ca/philosophy/pdf/graddocs/Sci%20Reading%20List%20-%2020111.pdf | <a href="https://web.archive.org/web/*/https://www.uwo.ca/philosophy/pdf/graddocs/Sci%20Reading%20List%20-%2020111.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.uwo.ca/philosophy/pdf/graddocs/Sci%20Reading%20List%20-%2020111.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-26162929</guid>
            <pubDate>Wed, 17 Feb 2021 05:05:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Uniswap Crosses $100B Cumulative Volume Threshold ‚Äì BeInCrypto]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26162912">thread link</a>) | @chovybizzass
<br/>
February 16, 2021 | https://briskreader.com/link/Kt1vAlqy2TA | <a href="https://web.archive.org/web/*/https://briskreader.com/link/Kt1vAlqy2TA">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><img src="https://s32659.pcdn.co/wp-content/uploads/2020/09/BIC_uniswap_uni_token.jpg.webp" alt="Uniswap Crosses $100 Billion Cumulative Volume Threshold - BeInCrypto"></p>
  <p>Added 3 days ago</p>
  <p><strong>Summary:</strong>
      The Uniswap decentralized exchange (DEX) hit a new milestone yesterday, hitting $100 billion in cumulative volume since its launch in 2020.</p>
  
  
  <p>1 minute read</p>
  <p>487 people have read this</p>
  
  
  
  
  <hr></div><article><div id="readability-page-1" class="page"><div>
              <p>The Uniswap decentralized exchange (DEX) hit a new milestone yesterday, hitting $100 billion in cumulative volume since its launch in 2020.</p>


<p>Uniswap has become the first DEX to cross this $100 billion volume milestone, a feat that founder Haydn Adams <a rel="noreferrer noopener" href="https://twitter.com/haydenzadams/status/1361356927226310668" target="_blank">celebrated on Twitter</a> on Feb 15. </p>



<p>The value counts all processed transactions since Uniswap‚Äôs launch in August 2020.</p>







<p>The statistic is just another reminder of Uniswap‚Äôs dominance over the DEX market. It‚Äôs the market‚Äôs most popular DEX by far, beating out SushiSwap and Curve Finance by a handsome margin. The latter two processed roughly $2.9 billion and $1 billion respectively in the last seven days, while Uniswap processed a staggering $7.3 billion.</p>



<h2 id="h-uniswap-on-a-tear">Uniswap on a Tear</h2>



<p>Uniswap continued its record-setting behavior from January 2020, which <a rel="noreferrer noopener" href="https://beincrypto.com/uniswap-hits-new-milestones-amid-growing-prices-and-social-media-attention/" target="_blank">saw growth</a> in numerous areas. This includes an approximate 25% increase in liquidity to $3.6 billion.</p>



<p>The popularity gives Uniswap a 54% share of the DEX market. However, despite its dominance, there is still heavy <a rel="noreferrer noopener" href="https://beincrypto.com/sushiswap-positioned-itself-formidable-uniswap-rival/" target="_blank">competition from Sushiswap</a> and the like. </p>



<figure><div>
<amp-twitter width="600" height="480" layout="responsive" data-tweetid="1228403478285967361" data-width="500" data-dnt="true" i-amphtml-layout="responsive"><i-amphtml-sizer></i-amphtml-sizer><blockquote data-width="500" data-dnt="true" placeholder=""><div lang="en" dir="ltr"><p>2019: Uniswap V1 proved AMMs can compete with traditional exchanges</p><p>2020: Uniswap V2 will prove AMMs can do things traditional exchanges cannot</p><p>2021: Uniswap V3 will face slippage and capital efficiency head on to prove AMMs can outcompete traditional exchanges on all fronts</p></div>‚Äî Hayden Adams <amp-img src="https://s.w.org/images/core/emoji/13.0.0/72x72/1f984.png" alt="ü¶Ñ" width="72" height="72" noloading="" layout="intrinsic" data-amp-original-style="height: 1em; max-height: 1em;" i-amphtml-layout="intrinsic"><img src="https://s.w.org/images/core/emoji/13.0.0/72x72/1f984.png" alt="ü¶Ñ" width="72" height="72" data-amp-original-style="height: 1em; max-height: 1em;" data-old-src="//beincrypto.comdata:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzcyJyB3aWR0aD0nNzInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></amp-img> (@haydenzadams) <a href="https://twitter.com/haydenzadams/status/1228403478285967361?ref_src=twsrc%5Etfw">February 14, 2020</a></blockquote></amp-twitter>
</div></figure>



<p>Uniswap is expected to release a new version of its platform, Uniswap v3, in the months to come. This should attract even more users ‚Äî though it‚Äôs impossible to when <a href="https://beincrypto.com/learn/ethereum-decentralized-finance-revolution/" target="_blank">DeFi</a> markets will peak. By all accounts, it doesn‚Äôt look like the momentum is stopping any time soon.</p>



<figure><div>
<amp-twitter width="600" height="480" layout="responsive" data-tweetid="1306385710434451461" data-width="500" data-dnt="true" i-amphtml-layout="responsive"><i-amphtml-sizer></i-amphtml-sizer><blockquote data-width="500" data-dnt="true" placeholder=""><div lang="en" dir="ltr"><p>We‚Äôre thrilled to announce that UNI, the Uniswap Protocol governance token, is live now on <a href="https://beincrypto.com/price/ethereum/" target="_blank">Ethereum</a> mainet! </p><p>Read more:<a href="https://t.co/RD3mwEUyHn">https://t.co/RD3mwEUyHn</a></p><p>Ethereum Address:  0x1f9840a85d5af5bf1d1762f925bdaddc4201f984</p></div>‚Äî Uniswap Protocol <amp-img src="https://s.w.org/images/core/emoji/13.0.0/72x72/1f984.png" alt="ü¶Ñ" width="72" height="72" noloading="" layout="intrinsic" data-amp-original-style="height: 1em; max-height: 1em;" i-amphtml-layout="intrinsic"><img src="https://s.w.org/images/core/emoji/13.0.0/72x72/1f984.png" alt="ü¶Ñ" width="72" height="72" data-amp-original-style="height: 1em; max-height: 1em;" data-old-src="//beincrypto.comdata:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzcyJyB3aWR0aD0nNzInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></amp-img> (@Uniswap) <a href="https://twitter.com/Uniswap/status/1306385710434451461?ref_src=twsrc%5Etfw">September 17, 2020</a></blockquote></amp-twitter>
</div></figure>



<p>The UNI token has also fostered much discussion. Uniswap users were airdropped 400 UNI tokens in September 2020. The token now stands at a price of approximately $20 ‚Äî a 10x increase since its all-time low.</p>



<h2 id="h-dex-growth-going-up-gas-fees-follow">DEX Growth Going Up ‚Äî Gas Fees Follow</h2>



<p>Alongside the <a href="https://beincrypto.com/learn/ethereum-decentralized-finance-revolution/" target="_blank">DeFi</a> industry, DEXs have taken much of the spotlight since mid-2020. They are the hubs for yield farming and liquidity provision, but the growth of Ethereum-based services has come at a literal cost. Gas fees have<a rel="noreferrer noopener" href="https://beincrypto.com/uniswap-liquidity-surges-3-billion-gas-price-crisis/" target="_blank"> been painfully high</a> in recent weeks, with simple transactions occasionally costing over $100.</p>



<p><a rel="noreferrer noopener" href="https://beincrypto.com/layer-2-uniswap-port-launched-to-quell-rising-gas-costs/" target="_blank">Layer-2 (L2)-based solutions</a> like <a href="https://beincrypto.com/price/loopring/" target="_blank">Loopring</a> provide an alternative to the problem, though investors are still flocking to the likes of Uniswap and SushiSwap. These L2 exchanges conduct transactions at a significantly cheaper rate.</p>



<p>However, the much-hyped Ethereum 2.0, which would bring about sharding and other features to the protocol, also aims to fix these problems. ETH 2.0 will be released in phases, and traders are hoping that gas prices will go down as scaling solutions are deployed.</p><div><h3>Disclaimer</h3><p>
All the information contained on our website is published in good faith and for general information purposes only. Any action the reader takes upon the information found on our website is strictly at their own risk.</p></div>            </div></div></article></div>]]>
            </description>
            <link>https://briskreader.com/link/Kt1vAlqy2TA</link>
            <guid isPermaLink="false">hacker-news-small-sites-26162912</guid>
            <pubDate>Wed, 17 Feb 2021 05:03:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What Your Data Team Is Using]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26162697">thread link</a>) | @awaxman11
<br/>
February 16, 2021 | https://technically.dev/posts/what-your-data-team-is-using | <a href="https://web.archive.org/web/*/https://technically.dev/posts/what-your-data-team-is-using">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><img src="https://technically.dev/images/analytics/all_logos_no_padding.svg"></p><p>Not many people know this, but before Tolstoy released <em>War and Peace</em> in its entirety in 1869, he <a href="https://www.youtube.com/watch?v=qqS1Ty79mOE">originally titled it</a>: <em>Analytics: what is it good for</em>. And here at Technically, we often wonder the same thing. Since Snowflake broke the internet with a <em>checks notes</em> <a href="https://www.google.com/search?q=%24snow&amp;oq=%24snow&amp;aqs=chrome.0.0i433i457j0j46i175i199j0l3j0i395l4.3372j1j7&amp;sourceid=chrome&amp;ie=UTF-8">$80B market cap</a>, everyone ‚Äì in tech, finance, and misc. industries alike ‚Äì have been paying closer attention to the analytics stack. And they have questions:</p>
<ul>
<li>What are these data analysts using? </li>
<li>What is this ‚Äúanalytics engineer‚Äù title that keeps popping up?</li>
<li>Why would you use Snowflake over BigQuery or Redshift?</li>
<li>What does Segment do? And what is Fivetran?</li>
<li>What happened to Looker, and what‚Äôs dbt?</li>
</ul>
<p>Fear not - while I may not have learned much during my Data Science major, a few years working on analytics teams has given me the requisite knowledge to illuminate this thick darkness of harmful jargon. </p>
<h2>Some disclaimers</h2>
<p>As always, a few notes in advance so that I won‚Äôt have to deal with angry comments:</p>
<p><strong>‚Üí Analytics stacks are highly company dependent</strong></p>
<p>I‚Äôve worked with data at 5+ different companies, all with very different analytics stacks. The infrastructure you choose depends <strong>highly</strong> on your budget, technical history, stakeholder needs, and types of people on staff. It is <strong>not</strong> one size fits all. </p>
<p><strong>‚Üí Analytics stacks are very different from Data Science stacks</strong></p>
<p>Data <em>Science</em> ‚Äì or in my personal definition, the practice of creating and utilizing predictive models to drive business value ‚Äì is distinct from analytics, and that distinction is beyond the scope of this post. Suffice it to say that Machine Learning is its own beast with its own tools, and I won‚Äôt be covering those tools here. But, having said that, Machine Learning stacks will usually <strong>overlap</strong> with analytics stacks, and rely on some of the same tools (e.g. data warehouses). </p>
<p><strong>‚Üí The universe is constantly changing - don‚Äôt read this in the future</strong></p>
<p>In my few, scant years in the workforce, tooling for analytics has undergone drastic change. Hell, the entire analytics practice ‚Äì especially team organization and roles ‚Äì is completely different than it was when I graduated undergrad. I believe it was Yogi Berra who said that ‚Äúchange is the only constant,‚Äù and his wisdom extends to this domain as well. </p>
<p><strong>‚Üí This content is not exhaustive</strong></p>
<p>There are thousands of available tools in the data ecosystem, and it‚Äôs impossible to cover them all. I have also not used them all, and am not aware of them all. So if you think I missed something, just <a href="mailto:justin@technically.dev">get in touch</a>!</p>
<h2>The analytics stack - 10K feet up</h2>
<p>The goal of any analytics stack is to be able to <strong>answer questions about the business with data</strong>. Those questions can be simple:</p>
<ul>
<li>How many active users do we have?</li>
<li>What was our recurring revenue last month?</li>
<li>Did we hit our goal for sales leads this quarter?</li>
</ul>
<p>But they can also be complex and bespoke:</p>
<ul>
<li>What behavior in a user‚Äôs first day indicates they‚Äôre likely to sign up for a paid plan?</li>
<li>What‚Äôs our net dollar retention for customers with more than 50 employees?</li>
<li>Which paid marketing channel has been most effective over the past 7 days?</li>
</ul>
<p>Answering these questions requires a whole stack of tools and instrumentation to make sure the right data is in place. You can think of the <strong>end product</strong> of a great analytics stack as a nicely formatted, useful data warehouse full of tables like ‚Äúuser_acquisition_facts‚Äù that make answering the above questions as simple as a basic SQL query.  \</p>
<p>But the road to getting there is unpaved and treacherous. The actual data you need is <strong>all over the place</strong>, siloed in different tools with different interfaces. It‚Äôs <strong>dirty</strong>, and needs reformatting and cleaning. It‚Äôs <strong>constantly changing</strong>, and needs maintenance, care, and thoughtful monitoring. The analytics stack and its associated work is all about getting that data in the format and location you need it.</p>
<p>The basics:</p>
<ol>
<li><strong>Where data comes from</strong>: production data stores, instrumentation, SaaS tools, and public data</li>
<li><strong>Where data goes</strong>: managed data warehouses and homegrown storage</li>
<li><strong>How data moves around</strong>: ETL tools, SaaS connectors, and streaming</li>
<li><strong>How data gets ready</strong>: modeling, testing, and documentation</li>
<li><strong>How data gets used</strong>: charting, SQL clients, sharing</li>
</ol>
<p>For each section, we‚Äôll note a few sample tools that are popular for getting the job done.</p>
<h2>Where the data comes from</h2>
<p>All of that nice, formatted, joined data in the data warehouse ‚Äì the data that makes up the dashboards, the models, and the slide decks ‚Äì has to originate from somewhere. And it usually comes from one of four places:</p>
<h5>1. Production data stores</h5>
<p><img src="https://technically.dev/images/analytics/logos_1.svg"></p><p>Pretty much every app is backed by a database, a series of databases, a stream; just data of some sort. If you‚Äôre using an app that lets you log in, there‚Äôs a database to store user information. Your emails in Gmail are stored in a database. Your tweets are stored in a database. In many cases, this data is actually pretty useful for analytics. You may be able to answer ‚Äúhow many active users do we have?‚Äù from the users database, and so on and so forth. </p>
<p>In terms of tools, there are literally thousands of databases on the market, from relational ones (Postgres, MySQL, MSSQL, etc.) to NoSQL ones (MongoDB, Firebase, DynamoDB) to streaming ones (Kafka, although apparently <a href="https://materialize.com/kafka-is-not-a-database/">Kafka is not a database</a>). </p>
<h5>2. Instrumentation</h5>
<p><img src="https://technically.dev/images/analytics/logos_2.svg"></p><p>Much more in vogue these days is <strong>instrumenting</strong> your product, or firing little ‚Äúevents‚Äù every time a user does something in the product. Those events go into a database, and can be used to answer questions down the road. If a user clicks on the ‚Äúsettings‚Äù tab in your app, you might automatically fire an event like this:</p>
<pre><code>{
  name: ‚Äúsettings_tab_clicked‚Äù,
  user_id: ‚Äúe2uirh2837yrfh4ur3f34‚Äù,
  user_email: ‚Äújustin@technically.dev‚Äù,
  created_at: ‚Äú2021-01-01‚Äù,
} 
</code></pre>
<p>Now, if I‚Äôm curious how often users click on the ‚Äúsettings‚Äù tab, I can just aggregate these events with basic SQL. The move towards getting information out of events instead of production databases is getting called <em>Event Driven Analytics</em> and it‚Äôs <a href="https://www.littlemissdata.com/blog/givemedata">picking up steam</a>. </p>
<p>Instrumentation is mostly done in code, and teams will often (usually?) do it manually. But <a href="https://technically.substack.com/p/what-does-segment-do">Segment</a> also provides a library and infrastructure for firing and managing these events, and it‚Äôs getting quite popular. </p>
<h5>3. SaaS tools</h5>
<p><img src="https://technically.dev/images/analytics/logos_3.svg"></p><p>Businesses run operations on tools like Salesforce, Hubspot, and Stripe, and those tools output valuable data that‚Äôs essential to answering key business questions. If you‚Äôre running your billing through Stripe, <em>that‚Äôs</em> where your revenue data is going to come from. Salesforce has interesting information on how your deals pass through the sales process, demographic data on your leads, etc.</p>
<p>The hard part is getting data <strong>out</strong> of these Saas tools and <strong>into</strong> a place where you can analyze it along with all of your other data, i.e. the warehouse. More on that in a later section.</p>
<h5>4. Public places / demographic data</h5>
<p>It‚Äôs less common, but teams will sometimes source data from public sources or use enrichment providers like Clearbit to get information on their customers or site visitors. We‚Äôre also starting to see domain-specific providers like <a href="https://docs.askiggy.com/docs">Iggy</a> that provide high quality data as a service. </p>
<h2>Where the data goes to</h2>
<p>Common knowledge today is that for analytics, you want a <strong>data warehouse</strong> with all of the data you need centralized in <strong>one location</strong>, and optimized for <strong>large queries</strong> to <strong>run fast </strong>(for more on why you can‚Äôt just query what already exists, <a href="https://technically.substack.com/p/whats-a-data-warehouse">read up here</a>).</p>
<p>Generally, building and maintaining warehouses was pretty annoying, and required specialized infrastructure and expertise. But today (thankfully) we‚Äôre in a golden age of managed data warehouses, where you can pay Snowflake or BigQuery to manage that tedium for you (for a hefty price, of course).</p>
<h5>1. <strong>Managed data warehouses</strong></h5>
<p><img src="https://technically.dev/images/analytics/logos_4.svg"></p><p>The three big players in the space are <a href="https://www.snowflake.com/">Snowflake</a>, <a href="https://cloud.google.com/bigquery">BigQuery</a> (from Google), and <a href="https://aws.amazon.com/redshift/?whats-new-cards.sort-by=item.additionalFields.postDateTime&amp;whats-new-cards.sort-order=desc">Redshift</a> (from Amazon), with a new entrant (<a href="https://www.firebolt.io/">Firebolt</a>) getting some press. These solutions are expensive, but they make the analytics stack <strong>a lot </strong>simpler by obviating the need to manage servers and infrastructure. </p>
<p>I often get asked why teams choose Snowflake over BigQuery, and to analyze the respective merits of these different products. I‚Äôve personally used all 3 of the big ones, and performance varied, but that was mostly based on architecture and data types. There is <strong>no one size fits all answer</strong> to this question: companies generally evaluate solutions based on cost, feature set, integrations, and portability (e.g. Snowflake is multi-cloud, sort of). </p>
<h5>2. Home rolled stuff</h5>
<p><img src="https://technically.dev/images/analytics/logos_5.svg"></p><p>If you want to build your own data warehouse ‚Äì because of cost, security, or feature considerations ‚Äì there‚Äôs a bunch of open source software out there to use. A popular stack is <a href="https://hive.apache.org/">Hive</a> on top of <a href="https://hadoop.apache.org/docs/r1.2.1/hdfs_design.html">HDFS</a>, which are both part of the Hadoop ecosystem. I‚Äôve also seen <a href="https://prestodb.io/">Presto</a> used here as a query engine, running on top of something like <a href="http://mesos.apache.org/">Mesos</a> for compute management. </p>
<h2>How the data moves around</h2>
<p>Once you‚Äôve got a clean handle on where your data comes from and what warehouse it‚Äôs going to go to, you need to start thinking about how to move it from place to place. The goal of this part of the stack is to get data <strong>out of siloed systems</strong> and <strong>into your centralized warehouse</strong>, where you can query it as you place.</p>
<h5>1. Workflow orchestrators</h5>
<p><img src="https://technically.dev/images/analytics/logos_6.svg"></p><p>Getting data out of your source systems and into your warehouse isn‚Äôt usually a simple ‚Äúpick it up and move it‚Äù kind of operation ‚Äì there are usually <a href="https://technically.substack.com/p/whats-etl">a bunch of things you‚Äôll want to do to that data while it‚Äôs on the way</a>, like transform it and clean it (see next section). For larger companies with complex datasets, you might see pipelines that rely on 20+ different source tables just to build one little piece of the warehouse. Pipelines like that usually get represented with diagrams like this:</p>
<p><img src="https://technically.dev/images/analytics/airflow_dag.png"></p>
<p>Workflow orchestrators help teams build these complex pipelines, make sure they run on time, and alert you when things go wrong. The most popular open source tool in the space is <a href="https://airflow.apache.org/">Airflow</a>, with <a href="https://github.com/spotify/luigi">Luigi</a> still hanging on and up and comers <a href="https://www.prefect.io/">Prefect</a> and <a href="https://dagster.io/">Dagster</a> making some waves.</p>
<blockquote>
<p>üñá <strong>Workplace Example</strong> üñá</p>
<p>At DigitalOcean, we used Airflow ‚Ä¶</p></blockquote></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://technically.dev/posts/what-your-data-team-is-using">https://technically.dev/posts/what-your-data-team-is-using</a></em></p>]]>
            </description>
            <link>https://technically.dev/posts/what-your-data-team-is-using</link>
            <guid isPermaLink="false">hacker-news-small-sites-26162697</guid>
            <pubDate>Wed, 17 Feb 2021 04:29:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Wave Power Generation from Bicycle Parts]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26162688">thread link</a>) | @gitgud
<br/>
February 16, 2021 | https://blog.benwinding.com/wave-power-generation-from-bicycle-parts/ | <a href="https://web.archive.org/web/*/https://blog.benwinding.com/wave-power-generation-from-bicycle-parts/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
      
        <p>In 2006 [1] Stefan Nystr√∂m invented the [2] <strong>WaveReaper</strong> and released his plans online in 2008. This invention used parts of a bicycle to <em>reap</em> energy from the ocean waves. It surprised me that not much has happened since then (and the website is [4] no longer up), so I thought I‚Äôd write a little about it.</p>
<p>Electricity generation is one of humanities greatest indirect requirements. It‚Äôs used for literally everything:</p>
<ul>
<li>Farming</li>
<li>Hospitals</li>
<li>Refining Fuel</li>
<li>Lights</li>
</ul>
<p>In developing nations, electricity is not generally available, especially in rural areas. Cheap, easy to produce and sustainable energy is something most of the world still needs.</p>
<p>The WaveReaper is an invention that generates electricity from the motion of the waves on a coastline. It uses barrels which float on the water and produce electricity back on the shore. </p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.imgur.com/wqdmZkL.gif" alt="Simplistic animation of the WaveReaper system"></p><p>This system is broken down into 5 main parts which; when combined provide a cheap solution, utilising resources easily obtainable in developing parts of the world.</p>
<h2 id="1-Buoys"><a href="#1-Buoys" title="1. Buoys"></a>1. Buoys</h2><p>The systems reach begins in the water. Buoys are used in the water to provide the force to generate power. Barrels are intended, but actually anything buoyant could be used, as long as it‚Äôs buoyant and durable.</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.imgur.com/0ZNnHuS.gif" alt="Buoy dynamics"></p><h2 id="2-Buoy-Lines"><a href="#2-Buoy-Lines" title="2. Buoy Lines"></a>2. Buoy Lines</h2><p>The buoy‚Äôs are connected to <strong>buoy-lines</strong> which run back to shore. These lines are intended to be strong wires, but non-stretch rope could also be used.</p>
<h2 id="3-Sea-Pully"><a href="#3-Sea-Pully" title="3. Sea Pully"></a>3. Sea Pully</h2><p>For the system to get the maximum force from the vertical motion of the waves, the pully needs to be located underwater. This means the buoy‚Äôs will pull the <strong>buoy-lines</strong> upward against the pully below. The pully is attached to something heavy in the water and is made from rust resistant materials.</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.imgur.com/pdpMngb.gif" alt="Sea-pully "></p><h2 id="4-Fly-Wheel-Generator"><a href="#4-Fly-Wheel-Generator" title="4. Fly Wheel Generator"></a>4. Fly Wheel Generator</h2><p>This is the most complex part of the system and is a axel based generate with a fly wheel to even out the power output. As a buoy floats up and down, it pulls on a <em>one-way bearing</em> which turns the fly wheel for the motor. </p>
<h2 id="5-Slack-Weights"><a href="#5-Slack-Weights" title="5. Slack Weights"></a>5. Slack Weights</h2><p>The <strong>slack-weights</strong> are used to recover slack in the <strong>buoy-lines</strong> when the buoys are sinking in the bottom of waves. Then the buoys can pull up on a wave as the line the <em>one-way bearings</em> allow the <strong>slack-weights</strong> to pull freely in one-direction and the <strong>fly-wheel generator</strong> to recover pulls in other direction.</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.imgur.com/Uy2X7q0.gif" alt="Buoy dynamics"></p><p>The brilliance of this invention is that all parts can be source from common household items and some old machinery.</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Scavenge</th>
</tr>
</thead>
<tbody><tr>
<td><strong>1. Buoys</strong></td>
<td>Anything with buoyancy, bottles, containers</td>
</tr>
<tr>
<td><strong>2. Buoy Lines</strong></td>
<td>Rope or greased wire</td>
</tr>
<tr>
<td><strong>3.1 Sea Pully</strong></td>
<td>Constructed from wheel barrow wheels</td>
</tr>
<tr>
<td><strong>3.2 Sea Anchor</strong></td>
<td>A concrete block or barrel filled with rocks</td>
</tr>
<tr>
<td><strong>4.1 Fly Wheel</strong></td>
<td>A heavy wheel, can be source from car wheels</td>
</tr>
<tr>
<td><strong>4.2 Electrical Generator</strong></td>
<td>Can be sourced from many machiens including; washing machine, vaccum cleaner</td>
</tr>
<tr>
<td><strong>5. Slack Weights</strong></td>
<td>Heavy bits of metal</td>
</tr>
</tbody></table>
<p>There‚Äôs many parts of the world, which could utilise wave energy. But wave power has been measured and is on average most effective further away from the equator.</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://i.imgur.com/CisdiXf.png" alt="Wave Power Locations"></p><p>[3] Wave Energy Visualized</p>
<p>There are many advantages of using this invention to generate electricity:</p>
<ul>
<li>Wave energy doesn‚Äôt directly depend on sunlight/wind. Therefore it can potentially generate electricity 24/7</li>
<li>It‚Äôs simple design, allows easier procurement and maintenance.</li>
<li>The one-way bearings can be sourced on any bicycle.</li>
<li>The spindle-driven generator can easily be extracted from many existing electrical machines like a vacuum cleaner.</li>
<li>Can incrementally increase power, by adding more buoys. </li>
</ul>
<p>There are a few disadvantages which should also be considered:</p>
<ul>
<li>Having an exposed oscillating line heading out into the waves could be problematic.</li>
<li>There may be negative environmental effects on having this in the water.</li>
<li>Rust and corrosion is an ongoing problem</li>
<li>Steady power is not guaranteed.</li>
</ul>
<p>Personally, I think this is a great invention. It solves the problem effectively and components are easily sourced, making it an ideal way to generate power in developing countries. </p>
<p>What are your thoughts on the invention?</p>
<p>[1] Article:WaveReaper and Stefan Nystrom, <a href="https://peswiki.com/article:wavereaper-and-stefan-nystrom" target="_blank" rel="noopener">https://peswiki.com/article:wavereaper-and-stefan-nystrom</a></p>
<p>[2] Directory:WaveReaper, <a href="https://peswiki.com/directory:wavereaper" target="_blank" rel="noopener">https://peswiki.com/directory:wavereaper</a></p>
<p>[3] Boehlert, G., Gregory R. McMurray and C. E. Tortorici. ‚ÄúEcological effects of wave energy development in the Pacific Northwest : a scientific workshop, October 11-12, 2007.‚Äù (2008).</p>
<p>[4] Original Wave Reaper Website, <a href="https://web.archive.org/web/20200220070700/http://circuminvent.com:80/wavereaper/" target="_blank" rel="noopener">https://web.archive.org/web/20200220070700/http://circuminvent.com:80/wavereaper/</a></p>

      
    </div></div>]]>
            </description>
            <link>https://blog.benwinding.com/wave-power-generation-from-bicycle-parts/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26162688</guid>
            <pubDate>Wed, 17 Feb 2021 04:27:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Can Email Not Suck?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26162158">thread link</a>) | @ThatGeoGuy
<br/>
February 16, 2021 | https://thatgeoguy.ca/blog/2021/02/16/can-email-not-suck/ | <a href="https://web.archive.org/web/*/https://thatgeoguy.ca/blog/2021/02/16/can-email-not-suck/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            
<p>On <em>2021-02-16</em> by <em>ThatGeoGuy</em></p>

<p>The (current) extended public health crisis has given me a gratuitous amount of
free time. At least, comparatively to before the public health crisis. This
past weekend, bored out of my mind, I came across a <a href="https://k9mail.app/2021/02/14/K-9-Mail-is-looking-for-funding">post from the K-9
developers</a> on
Hacker News. This got me thinking a lot more about email and how my use has
changed over time.</p>

<p>I use K-9 on Android, and if you do too, you should definitely help fund the
app. It‚Äôs one of the few choices on Android for email that doesn‚Äôt suck.
However, this isn‚Äôt really about K-9 or their funding. This article kind of got
me thinking about email and how I use it, and with an idle mind that had no
other immediate priorities I started re-evaluating how I use &amp; interact with
email.</p>

<p>I‚Äôm writing this mostly because my blog is a blank canvas for my thoughts, and
because I can.</p>



<p>In recent years I‚Äôve been taking this attitude more and more. Email certainly
is the universal platform (everyone has at least one email address), but I
don‚Äôt send an awful amount of email myself. Back when I was in grad school
email was literally the only way you could talk to some people. I met
professors, other students, and faculty from all branches of the university
that would put almost their entire lives into email. Nowadays, I suppose this
is more likely to happen over Slack, or even <a href="https://element.io/">Element</a>?</p>

<p>I send a lot less email than I used to. I also receive a lot fewer emails than
I used to, or at least, it feels like I do <sup id="reference-1"><a href="#footnote-1">[1]</a></sup>. All my work communication is handled through
Slack, and most of my personal communication will be over Signal or Element.
Despite this, email is still pretty good at a number of things, and its not
like I could see myself getting rid of it. Ignoring ‚Äúyou need an email address
to sign up for X service,‚Äù email is still king at:</p>

<ul>
  <li>Availability &amp; compatibility. Everyone has an email, everyone can probably
receive an email, and everyone can communicate via email. Okay, that last one
is a bit of a stretch, but I‚Äôll leave a caveat here that learning to
communicate effectively via email is significantly easier than e.g. Twitter.
So it‚Äôs got that going for it at least.</li>
  <li>Asynchronous communication. <em>Sure, instant messaging is asynchronous</em>, but is
it really? I feel completely comfortable not replying to an email anywhere
from an hour up to and including never. I can‚Äôt say the same about small
Slack notifications.</li>
</ul>

<p>There‚Äôs good reason to think email isn‚Äôt going away anytime soon, so I‚Äôm fairly
confident that lots of people do care about email, and will continue to do so.</p>

<h2 id="hey-product-cares-about-email">Hey (product) cares about email</h2>

<p>Thinking about email and how I still use it, I was reminded that
<a href="https://hey.com/">Hey</a> exists. Hey is a subscription email service (think,
paying for Gmail) that aims to do email radically differently than everyone
else. There is a limited amount you can change about email from the get-go, but
I went back and watched an entire <a href="https://www.youtube.com/watch?v=UCeYTysLyGI">37-minute
video</a> of their CEO explaining how
Hey is different than regular email.</p>

<p>The video is long, and touches on a lot of features. I don‚Äôt personally see
myself ponying up ~$99 USD a year for email, but I think there‚Äôs both some good
and bad ideas in there. Some of that probably depends on the volume of email
you receive, and like I said, I don‚Äôt receive lots. Nonetheless, Hey looks to
me more like they changed the frontend for a web-email client more than they
changed anything about email itself. This is completely fine, and is not really
to detract from their product (a lot of the choices are good!), but don‚Äôt go in
expecting the behaviour of the protocol to vastly change.</p>

<p>Hey gets a lot of things right. I really like the idea of ‚Äúsurfacing‚Äù
attachments and details from emails (i.e. displaying them as a separate
category and making them much more searchable). If I ever go neck deep into
using email to manage my life, this is something that would be a game changer.</p>

<p>The idea behind ‚Äúthe feed‚Äù is also really good. I‚Äôve signed up for a few
substack lists as well as some great columns like Matt Levine‚Äôs <a href="https://www.bloomberg.com/account/newsletters/money-stuff">Money
Stuff</a>. The video
demo that Hey shows is a bit wrong, as I don‚Äôt expect that most people would
want to use the feed for marketing and advertisements, but maybe the way I use
email is weird. Nonetheless, the concept of having a folder / dedicated filter
for feed items seems both plausible and pragmatic to me. This also made me feel
a little dumb because I had always separated all feed items / mailing lists
into separate folders. For open-source mailing lists I still do this (don‚Äôt
cross your <a href="https://lists.nongnu.org/archive/html/chicken-users/">chickens</a>
with your <a href="https://lists.gnu.org/archive/html/guile-user/">guile users</a>, you
don‚Äôt want anyone getting salmonella!); however most of the ‚Äúfeed‚Äù columns I
subscribe to don‚Äôt post nearly often enough to make my feeds folder explode.
And to the point Hey makes, you shouldn‚Äôt have to stress out about this folder
or care.</p>

<p>Similar logic applies to their concept of a ‚Äúpaper trail,‚Äù but I‚Äôm also
convinced that‚Äôs something that has to be mostly curated manually since
automatic filters for sorting receipts &amp; invoices are‚Ä¶ ripe for error on that
one.</p>

<p>Lastly, the idea of being able to permanently ignore threads is üíØ (the best).
There are so many instances of people not knowing the difference between
‚ÄúReply‚Äù and ‚ÄúReply All‚Äù that I can veritably say that the lack of this feature
in every other email client has driven someone mad and / or driven someone to
death.  Hard to quantify, but the probability seems high enough at scale.
Anyone on the Thunderbird team willing to integrate this without having to make
thread-specific filters? Anyone on the Dovecot team willing to make this a
plugin?</p>



<p>Probably? Email obviously isn‚Äôt a secure communication medium, and the
protocols are pretty old school.
<a href="https://en.wikipedia.org/wiki/JSON_Meta_Application_Protocol">JMAP</a> seems like
it has it‚Äôs heart set in the right place, but I am skeptical of most of the
internet moving in that direction for‚Ä¶ oh the next 25 years maybe? Years may
be a bad prediction metric, so maybe we say instead that Google will have
launched and killed at least 10 more chat applications by that time?</p>

<p>I think something more interesting surrounds the fact that most people suck at
email. I cringe whenever I see an unread count in the tens of thousands. Some
people believe that to be a badge of honour, but I‚Äôm fairly certain that just
describes you as someone who doesn‚Äôt care, and I generally take the position
that it‚Äôs not a virtue to be proud of how much I don‚Äôt care about things.</p>

<p>For a lot of people who are hopeless with email, an offering like Hey might be
good. On the other hand, I think if people grew up learning even the base level
of email skills (etiquette?) then a significant part of the world would be a
lot better off.</p>

<p>Knowing how to use email effectively is probably a superpower for some folks in
some organizations.</p>



<p>These are just some of my tips, but they certainly helped me get more
proficient at email over time.</p>

<h2 id="use-an-actual-email-client-not-a-web-client">Use an actual email client (not a web client)</h2>

<p>Upfront: Maybe this isn‚Äôt the most universal advice. I got a lot farther with
email when I started leaning heavily into using Thunderbird rather than trying
to keep up with every change to the Gmail interface. What makes a good client
is somewhat subjective, but I‚Äôd say that working with web clients has overall
been a poor experience for me.</p>

<p>For every feature a web client has, it also has a million ways to be
distracting or use 90% of your CPU in a single tab of your browser. ‚ÄúHey‚Äù might
be different in some regards here, as their UI seems quite intuitive at a
glance, but you‚Äôll pry my desktop native (read: not Electron) client from my
cold, dead hands.</p>

<h2 id="dont-send-html-emails">Don‚Äôt send HTML emails</h2>

<p>This is just good writing advice but: focus on content over form. The number of
random business emails I get with fancy HTML signatures, tons of markup, etc.
are ridiculous. Stop wasting yours and everyone else‚Äôs time, please, and just
write the email. If your email requires more formatting to be readable, then
you‚Äôve already failed on the content front.</p>

<p>Being polite is a skill unto itself, but your email is (usually) not a
thinkpiece. Just write the text and focus on the message. The people writing
fancy substack newsletters and such obviously don‚Äôt need to follow this advice,
but most people seem to think that plain text emails are somehow‚Ä¶ bad?</p>

<h2 id="use-message-filters-to-organize-things">Use message filters to organize things</h2>

<p>This goes back to the idea of ‚Äúfeeds‚Äù or a ‚Äúpaper trail.‚Äù Message filters and
folders are a great way to get unimportant stuff out of your inbox. It‚Äôs not
even something that should take you a full afternoon to learn.</p>

<p>The biggest downfall of this is that message filters can‚Äôt be easily translated
from one client to another. Likewise, server-side options with LMTP / Sieve or
whatever are still complex as all hell to set up, and then you <em>still</em> need to
understand how to write the scripts to do the email filtering. This is more a
complaint for someone who has their own mail server and uses multiple clients
(K-9 on Android, Thunderbird on Linux, Geary on Phosh-based distros).</p>

<p>Most people who want to set up filters in Gmail should absolutely just go do
that via the web interface, since that will happen before mail reaches your
local client. The filters you choose to set up or how you organize also doesn‚Äôt
matter. I think the feeds and paper trail ideas have some merit, but the main
point is <strong>stop pretending your inbox is the only folder that can ever exist</strong>.</p>

<p>And on that note: please for the love of god filter and silence automated
emails (think: a CI pipeline), or at least funnel them to a different folder.
Your inbox is not a notification bar, and on pretty much every mobile client
ever you can have alerts get sent to you either 1) not through email or 2) with
a filter that weeds out noise. So many people hate email for this reason alone!</p>

<h2 id="stop-using-your-email-as-a-todo-list">Stop using your email as a TODO list</h2>

<p>I mean, this speaks for itself. Use Org mode, use one of literally hundreds of
TODO apps, use a paper and pencil! But don‚Äôt use email <sup id="reference-2"><a href="#footnote-2">[2]</a></sup>.</p>

<h2 id="dont-be-afraid-of-archiving-or-marking-email-as-read">Don‚Äôt be afraid of archiving or marking email as read</h2>

<p>People ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://thatgeoguy.ca/blog/2021/02/16/can-email-not-suck/">https://thatgeoguy.ca/blog/2021/02/16/can-email-not-suck/</a></em></p>]]>
            </description>
            <link>https://thatgeoguy.ca/blog/2021/02/16/can-email-not-suck/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26162158</guid>
            <pubDate>Wed, 17 Feb 2021 03:05:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why DoorDash Cannot Deliver Your Order Properly]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26162127">thread link</a>) | @advpetc
<br/>
February 16, 2021 | https://blog.peterchen.xyz/posts/why-doordash-cannot-deliver-your-order-properly/ | <a href="https://web.archive.org/web/*/https://blog.peterchen.xyz/posts/why-doordash-cannot-deliver-your-order-properly/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>So I have requested a food delivery from DoorDash, and it happened that my food still hadn‚Äôt been picked up yet. I opened my DoorDash app at 12:30 pm today, and it‚Äôs still being prepared until now at 7:50 pm. During the approximately 8 hours waiting, I have tried to reach out to them three times, and each agent responded to me with a predefined message: ‚ÄúWe are sorry for the delay ‚Ä¶ We will assign a new dasher for you ‚Ä¶ We will refund you the money amount XXX‚Äù, etc. Just out of curiosity, I did some google search about how these custom-faced companies deal with this type of situation, and here is what I found:</p><ol><li>Show your attitude that you are truly sorry.</li><li>Validate your customer‚Äôs <strong>feeling</strong>.</li><li>Explain what happened.</li></ol><p>I copied these bullet points from <a href="https://www.helpscout.com/helpu/how-to-apologize/">HelpScout</a>, which is a SaaS company that has powered a lot of tech companies such as GrubHub, PostMark, etc.</p><p>In the past, for example, for some smartphone companies (well, Apple had indeed done a great job) ‚Äì it‚Äôs very hard to get an apology from them because their phone has somehow defected, or it generally took a long process to get your device replaced.</p><p>So why people change to be more ‚Äúfriendly‚Äù? I guess it‚Äôs simply because these companies now care more about their reputations than in the past. Imagine the era without Facebook and Twitter, people from the U.S. don‚Äôt care about what had happened in China, and they never heard about <a href="https://en.wikipedia.org/wiki/Xinjiang_internment_camps">Xinjiang internment camps</a>. However, when you first talk about Xinjiang in the U.S. today, you probably will encounter the conversation on Twitter about the camps. Isn‚Äôt it an issue back in 2000? Maybe, but people don‚Äôt have a chance to talk about it, so why would China defend itself on that?</p><blockquote><p lang="en" dir="ltr">BREAKING: BBC has been banned in China. The report said the BBC was responsible for a 'slew of falsified reporting' on issues including Xinjiang and China's handling of coronavirus. It went on to say that 'fake news' is not tolerated in China</p>‚Äî Yalda Hakim (@BBCYaldaHakim) <a href="https://twitter.com/BBCYaldaHakim/status/1359905060570996740?ref_src=twsrc%5Etfw">February 11, 2021</a></blockquote><blockquote><p>this is the first tweet I encountered after I searched ‚ÄúXinjiang‚Äù on Twitter</p></blockquote><p>Company is like another type of ‚Äúcountry‚Äù that needs to preserve its public face ‚Äì for various reasons. If your public image is damaged, your stock will likely go down, your competitors might fight against you harshly, on and on‚Ä¶ I am very happy to see what had changed here, but it also had drawbacks. Some big tech firms had a very good public image, and as a result, they become very wealthy. To become popular so that they can attract more customers, these companies decide to invest more money on maintaining their public images, then you know how the money circulated. Does it provide a lifeline for those smaller companies who used to be a specialist in certain areas? Or will it just promote another <a href="https://en.wikipedia.org/wiki/United_States_v._Microsoft_Corp.">United States v. Microsoft</a> to live? It certainly didn‚Äôt block the whole aisle, but it definitely narrows the bridge ahead.</p><p>Now back to my food delivery from DoorDash. They had just issued me a full-price refund plus a small amount of credit for a future order, and I was told to hold and keep waiting. What can I do now? I guess I have to follow what they told me to do.</p></div></div>]]>
            </description>
            <link>https://blog.peterchen.xyz/posts/why-doordash-cannot-deliver-your-order-properly/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26162127</guid>
            <pubDate>Wed, 17 Feb 2021 02:58:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Slack Standups Aren't Standups]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26161468">thread link</a>) | @CritterM72800
<br/>
February 16, 2021 | https://critter.blog/2021/02/16/slack-standups-arent-standups/ | <a href="https://web.archive.org/web/*/https://critter.blog/2021/02/16/slack-standups-arent-standups/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page">
	<p><a href="#content">Skip to content</a></p><!-- #masthead -->

	
	<div id="content">

	<div id="primary">
		<main id="main">

		

<article id="post-7452">
	<!-- .entry-header -->

	<div>
		
<p>I get the temptation to make standup asynchronous. ‚ÄúStop forcing a daily meeting on everyone! Take back those <a href="https://critter.blog/2020/10/14/parkinsons-law-and-friends/">15 minutes</a>!‚Äù It sounds great, and I‚Äôm usually a fan of <a href="https://critter.blog/2020/12/15/good-teams-are-noisy/">writing as a way to collaborate</a>. </p>



<p>But <a href="https://critter.blog/2021/02/09/say-things-that-can-be-wrong/">asynchronous standups are not standups</a>. They‚Äôre a way for teams to <a href="https://critter.blog/2020/09/24/declare-bankruptcy-and-dont-be-ashamed-of-it/">kill standups</a> without feeling guilty about it. </p>



<p>Why? Two reasons:</p>



<p><strong>Reason 1: Standups are not status updates. </strong>I like Scrum‚Äôs definition of a standup, even for teams not doing Scrum:</p>



<blockquote><p>The purpose of the Daily Scrum is to inspect progress toward the Sprint Goal and adapt the Sprint Backlog as necessary, adjusting the upcoming planned work.</p><cite><a href="https://www.scrumguides.org/scrum-guide.html#daily-scrum">Scrum Guide</a></cite></blockquote>



<p>See that? In a good standup, you‚Äôre <strong>re-<a href="https://critter.blog/2020/08/20/plan-the-sprint-not-the-project/">planning the sprint</a> every day</strong>. That can‚Äôt happen if you rattle off a quick ‚Äúlast 24 I did X, next 24 I‚Äôll do Y, no blockers‚Äù and move on with your day.</p>



<p><strong>Reason 2: <a href="https://critter.blog/2020/12/01/never-underestimate-peoples-ability-to-not-hear-you/">Nobody‚Äôs reading</a> all those updates.</strong> At best, the manager reads them and one or two other people skim them. That‚Äôs not collaboration. That‚Äôs reporting up the chain, which is not what standups are for.</p>



<p>If your <a href="https://critter.blog/2020/06/10/spotting-broken-processes/">standups are so useless</a> that you don‚Äôt miss anything by taking it to Slack, <a href="https://critter.blog/2020/08/17/zombie-standups-try-walking-the-board/">try fixing them</a> instead of <a href="https://critter.blog/2020/11/24/intense-intervention-or-acceptance-pick-one/">giving up</a>. </p>




	</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article><!-- #post-7452 -->
			<!-- .post-nav-wrapper -->
		
		</main><!-- #main -->
	</div><!-- #primary -->


<!-- #secondary -->

	</div><!-- #content -->

	
	<!-- #colophon -->
</div></div>]]>
            </description>
            <link>https://critter.blog/2021/02/16/slack-standups-arent-standups/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26161468</guid>
            <pubDate>Wed, 17 Feb 2021 01:30:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[One should use AT&T syntax ever, for any reason, under any circumstances]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26160689">thread link</a>) | @davegauer
<br/>
February 16, 2021 | https://elronnd.net/writ/2021-02-13_att-asm.html | <a href="https://web.archive.org/web/*/https://elronnd.net/writ/2021-02-13_att-asm.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">

<em>2021-02-13</em><br>

<h2 id="baggins">Background</h2>

<p>
In the beginning, the CPU was created.
This has made a lot of people very angry and has been widely regarded as a bad move.

</p><p>
Though computers have only gained in popularity, in our interactions with them we have increasingly attempted to interact less with the CPU; and more and more with the abstractions that simply <i>happen</i> to be implemented atop CPUs.
One of the earliest such abstractions was the <b>instruction set architecture</b> (ISA).
The idea was this: instead of writing code for a specific CPU, you would design an abstract specification for one; a language, if you will, that could be spoken by multiple different CPUs.
You would then write code according to that instruction set, in that language, and it could be interpreted by any CPU implementing that instruction set.
This was desirable partly because it allowed code to be written once and run multiple places√¢‚Ç¨‚Äùthe first inklings of portability, rising!√¢‚Ç¨‚Äùbut mostly because it allowed you to think only of the specification while you wrote your code, and perhaps even forget for a moment that there was a CPU underlying it all.

</p><p>Ahhh, the power of abstraction in the morning...

</p><p>
Another such abstraction was the <b>mnemonic assembler</b>.
Before the assembler was created, CPUs and ISAs were instructed using numbers which had special meaning to the ISA in question.
For example, consider the following number<sup id="b0"><a href="#f0">0</a></sup> (in octal form, for no particular reason):

</p><pre>030514</pre>

<p>
In the context of the ISA implemented by the CRAY-1<sup id="b1"><a href="#f1">1</a></sup>, that number is understand to mean √¢‚Ç¨Àúadd the contents of registers A1 and A4, and store the result in register A5√¢‚Ç¨‚Ñ¢.
The association between this numeric form and its meaning under the ISA is completely arbitrary, and serves only to remind our poor programmers that they are serving a CPU, whose native language is written with arbitrary numbers.
Wouldn√¢‚Ç¨‚Ñ¢t it be nice if, instead of meaningless <span>030514</span>, our CPU could understand a form like this one?

</p><pre>A5	A1+A4
</pre>

<p>
(This latter form, while no less arbitrary than the other, is arbitrary in a way which matches preexisting human arbitrarinesses.
 This makes humans feel warm and fuzzy inside, like they√¢‚Ç¨‚Ñ¢ve conquered a part of the machine kingdom with their superior human intellect, and is called a √¢‚Ç¨Àúmnemonic√¢‚Ç¨‚Ñ¢.)

</p><p>
Unfortunately, while CPUs are equally capable of parsing numbers like <span>030514</span> and strings of words like <span>A5	A1+A4</span>, they are much slower at the second.
Thus, a compromise was borne: a mnemonic assembler would be a program (like all programs, it would run on a CPU implementing an ISA), and it would translate mnemonic forms like <span>A5	A1+A4</span> into machine forms like <span>030514</span>.
This allows humans to <i>pretend</i> that the CPUs understand their own native language, while still allowing the CPUs themselves to run at tolerable speeds.

</p><p>
At this point, it is worth making a couple of things devastatingly clear.

</p><p>
First, an assembler that runs on a given ISA may produce machine code for that ISA, or machine code for a completely different ISA.<!--(An assembler that produces code for a different ISA than that on which is runs is sometimes called a √¢‚Ç¨Àúcross assembler√¢‚Ç¨‚Ñ¢, √É¬† la √¢‚Ç¨Àúcross compiler√¢‚Ç¨‚Ñ¢.)-->
</p><p>
Second, there is almost always a 1:1 correspondence between the mnemonics inhaled by a given assembler and the instructions it spits out.  (Where there is not, the situation is generally close enough to 1:1 as to make no ends.)
</p><p>
Third, mnemonics were not standardised the same way that ISAs were.  A given set of mnemonics only works on one ISA, but there might be any number of other mnemonic-sets that also work on that ISA.  (Despite this, a number of tropes tend emerge which are shared by all mnemonic-sets targeting a given ISA.)

</p><p>
At this point, we are ready to attack the problem at hand.
</p><p>
There is a popular group of ISAs variably known as:
</p><ul>
<li>x86
 <ul><li>x86-64?
  <ul><li>EM64T?
   <ul><li>x64??
    <ul><li>AMD64???</li>
    </ul></li>
   </ul></li>
  </ul></li>
 </ul></li>
<li>IA-32
 <ul><li>IA-32<b>e</b>???</li></ul></li>
</ul>
(The question marks have been added for comedic effect.
 In point of fact, they are about as funny as the overproliferation of names that this ISA seems to accumulate in much the same way that a pile of cow dung accumulates flies or that this sentence accumulates words.
 Unlike a pile of cow dung, however, no clarity emerges when you swat it; only more confusion.
 Which being said, you should still clean your CPU at least annually; use soap, warm water, and a soft rag to get the gunk out of the transistors.)

<p>
This ill-fated ISA, which has almost as many addressing forms as names and is so immensely complicated that a you need to read a 5000-page tome<sup id="b2"><a href="#f2">2</a></sup> plus an additional 400 or so pages of unofficial reference before you can even begin to be qualified to understand the consequences of a single of its instructions, will henceforth be referred to as √¢‚Ç¨Àú√¢‚Ç¨≈ìSIB√¢‚Ç¨ÔøΩ√¢‚Ç¨‚Ñ¢.
I give it that name not so much to deliberately sow confusion (though that is definitely a contributing factor) as because that√¢‚Ç¨‚Ñ¢s the only name that everybody seems to agree is associated with it.
(This is also the reason its name is quoted: it√¢‚Ç¨‚Ñ¢s the only word, indeed the only idea in this missive I didn√¢‚Ç¨‚Ñ¢t make up from whole cloth, ripped cloth, cheese cloth, pins, pinheads, camembert<sup id="b3"><a href="#f3">3</a></sup>, angels, and heads of √£ÔøΩ¬Æ√£ÔøΩ¬£√£ÔøΩ¬∫√£‚Äö‚Ä∞√£ÔøΩ¬º√£ÔøΩ‚Ä†.)

</p><p>
Because √¢‚Ç¨ÀúSIB√¢‚Ç¨‚Ñ¢ is, inexplicably, enduringly popular, a lot of assemblers have been made for it.
As I mentioned, though different assemblers are not always compatible with each other, tropes and commonalities tend to emerge.
In fact, there are two incompatible sets of tropes; they are generally called √¢‚Ç¨ÀúAT&amp;T syntax√¢‚Ç¨‚Ñ¢ and √¢‚Ç¨ÀúIntel syntax√¢‚Ç¨‚Ñ¢, and you can read about the differences <a href="https://en.wikipedia.org/wiki/X86_assembly_language#Syntax">here</a>.

</p><p>
...but you knew all of this already.
If I√¢‚Ç¨‚Ñ¢ve done my due diligence, you were incited by the title but are still looking for something to disagree (or agree) with strongly.
Patience!

</p><p>
I contend that the AT&amp;T syntax is harmful and bad, and should never be used, for any reason, under any circumstances, by anyone.
Here√¢‚Ç¨‚Ñ¢s why:


</p><h2 id="the-real-biggy">AT&amp;T syntax is broken</h2>

<p>
This is the single greatest sin perpetrated by the AT&amp;T syntax.
If not for this, it would be sufficient to say that Intel syntax were superior.
If not for this, the use of AT&amp;T syntax would be at least be acceptable, at least be moral<sup id="b4"><a href="#f4">4</a></sup>, even if still in supremely poor taste.
If not for this, it would be <i>possible</i> to write correct programs using the AT&amp;T syntax.

</p><p>
Now, to be clear, I don√¢‚Ç¨‚Ñ¢t expect advanced safety features from an assembler.
I don√¢‚Ç¨‚Ñ¢t expect dependent types, or linear types, or even any types at all.
<i>But I would pretty damn well appreciate it if my assembler didn√¢‚Ç¨‚Ñ¢t <b>actively</b> try to sabotage me!</i>


</p><p>
Let me show you an example.
Here√¢‚Ç¨‚Ñ¢s an annotated snippet of Intel-style √¢‚Ç¨ÀúSIB√¢‚Ç¨‚Ñ¢ assembly:

</p><pre>mov	eax, 28            ; (1) store the immediate value 28 in the EAX register
mov	eax, dword [28]    ; (2) load one √¢‚Ç¨Àúdword√¢‚Ç¨‚Ñ¢ (4 bytes) from memory location 28 and store it in the EAX register <!--;     (on some assemblers, √¢‚Ç¨Àúdword√¢‚Ç¨‚Ñ¢ should be replaced with √¢‚Ç¨Àúdword ptr√¢‚Ç¨‚Ñ¢, or just elided entirely)-->
</pre>

<p>
Here√¢‚Ç¨‚Ñ¢s another snippet, AT&amp;T syntax this time:

</p><pre>movl	$28, %eax          ; (1) store the immediate value 28 in the EAX register
movl	(28), %eax         ; (2) load one √¢‚Ç¨Àú(l)ong√¢‚Ç¨‚Ñ¢ (4 bytes) from memory location 28 and store it in the EAX register <!--;     (on some assemblers, the √¢‚Ç¨Àúl√¢‚Ç¨‚Ñ¢ can be elided)-->
</pre>

<p>
Good so far?
Reasonable?
Good.

</p><p>
I present to you two more candidates, again in AT&amp;T syntax:

</p><pre>movl	28, %eax           ; (3) ???
movl	($28), %eax        ; (4) ???
</pre>

<p>
Before you continue reading, I want you to imagine what it would make <i>sense</i> for those instructions to mean.
Should they even be correct?
If you happen to already know, try to forget (pray for oblivion from the horror...)

</p><p>
If you don√¢‚Ç¨‚Ñ¢t know, make your best guess.

</p><p>
Ready?
Here they are again, with annotations this time:

</p><pre>movl	28, %eax           ; (3) same as (2)
movl	($28), %eax        ; (4) load one long from the memory location indicated by global symbol √¢‚Ç¨Àú$28√¢‚Ç¨‚Ñ¢ and store it in the EAX register
</pre>

<p>
Wait, what?

</p><p>
Go back and read that again and tell me in what world that could possibly be okay.
Tell me in what world an assembler that silently accepts the above forms, that is almost certainly corrupting your meaning in a way you don√¢‚Ç¨‚Ñ¢t intend, could <i>possibly</i> produce correct code.
Tell me you would <i>never</i> forget to put a <span>$</span> in front of an immediate, and that you would never accidentally put one in a displacement.

</p><p>
This doesn√¢‚Ç¨‚Ñ¢t even have anything to do with Intel syntax.
This isn√¢‚Ç¨‚Ñ¢t a win for Intel over AT&amp;T.
This is just AT&amp;T syntax being straight-up batshit fucking bonkers for no very good reason.

</p><p>
All it would take to redeem AT&amp;T syntax√¢‚Ç¨‚Äùokay, maybe not redeem, but at least elevate from <i>Cocytus</i> to <i>Phlegyas</i>√¢‚Ç¨‚Äùwould be to make syntaxes (3) and (4) illegal.
That√¢‚Ç¨‚Ñ¢s it.
Want to help?
Send a patch to your local AT&amp;T-style assembler to make it warn for both of those forms.
Give it a command-line flag to err instead of warning.


</p><h2>AT&amp;T is backwards</h2>

<p>
Having eaten the proverbial elephant, it is time to start addressing the smaller fry.<br>
Smaller fry: you have done an admirable job of being a thorn in my side.<br>
Reader: following are reasons why the AT&amp;T operand order is backwards.

</p><p>
I√¢‚Ç¨‚Ñ¢m sure you√¢‚Ç¨‚Ñ¢re familiar with the issue, but here√¢‚Ç¨‚Ñ¢s a quick refresher.
Intel first:

</p><pre>mov	eax, ebx           ; (1) load one dword from the EBX register and store it in the EAX register
add	eax, ebx           ; (2) load a dword each from the EAX and EBX registers, add them together, and store the result (truncated to a dword) in the EAX register
</pre>

<p>
AT&amp;T:

</p><pre>mov	%ebx, %eax         ; (1) load one dword from the EBX register and store it in the EAX register
add	%ebx, %eax         ; (2) load a dword each from the EAX and EBX registers, add them together, and store the result (truncated to a dword) in the EAX register
</pre>

<p>
In general, Intel instruction mnemonics take the form √¢‚Ç¨Àú&lt;op&gt; &lt;destination&gt;, &lt;source&gt;√¢‚Ç¨‚Ñ¢, where AT&amp;T uses √¢‚Ç¨Àú&lt;op&gt; &lt;source&gt;, &lt;destination&gt;√¢‚Ç¨‚Ñ¢.

</p><p>
Before continuing, I want to establish a couple of things.

</p><p>
First, the consistency argument is bunk.
The consistency argument in favour of Intel syntax is illustrated by the following example:

</p><blockquote>Putting the destination first is more consistent with other, higher-level languages like C.
<span>mov eax, ebx</span> is analogous to <span>eax = ebc</span>, and <span>add eax, ebx</span> to <span>eax += ebx</span>; in general, <span>op x, y</span> is analogous to <span>x op= y</span>.</blockquote>
This is ‚Ä¶</div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://elronnd.net/writ/2021-02-13_att-asm.html">https://elronnd.net/writ/2021-02-13_att-asm.html</a></em></p>]]>
            </description>
            <link>https://elronnd.net/writ/2021-02-13_att-asm.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26160689</guid>
            <pubDate>Wed, 17 Feb 2021 00:07:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[JTAG Explained (Finally)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26160626">thread link</a>) | @Koshkin
<br/>
February 16, 2021 | https://blog.senr.io/blog/jtag-explained | <a href="https://web.archive.org/web/*/https://blog.senr.io/blog/jtag-explained">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				<p>Imagine you are handed this device and asked to get root on it as quickly as possible. No further information is given. Where would you begin? &nbsp;<em>(If you just want to see the router get rooted, jump down to "Mounting an Attack: Rooting a Home Router" ;-)</em></p>    <p><em>Our target: A <strong>VERY</strong> common/popular consumer Access Point.</em></p>  <p>Since you have the device in your hands, you might try directly attacking the hardware. However, if you've never done any kind of hardware hacking, getting started can be intimidating. In this post, we are going to talk about the fundamental information you need to know to use JTAG for hacking hardware. We'll also go over a quick example to illustrate the power of direct hardware access. ‚Äã</p>  <h2><u><span size="5" color="#3f3f3f"><strong>Why Do Manufacturers Use JTAG?</strong></span></u></h2>  <p><span></span><span><a href="https://blog.senr.io/uploads/2/4/4/8/24485815/boundary-scan-history_orig.png" rel="lightbox" onclick="if (!lightboxLoaded) return false"><img src="https://blog.senr.io/uploads/2/4/4/8/24485815/boundary-scan-history.png?241" alt="Picture"></a><span></span></span></p><p>‚ÄãJTAG is a common hardware interface that provides your computer with a way to communicate directly with the chips on a board. It was originally developed by a consortium, the Joint (European) Test Access Group, in the mid-80s to address the increasing difficulty of testing printed circuit boards (PCBs). JTAG&nbsp;has been in widespread use ever since it was included in the Intel 80486 processor in 1990 and codified as IEEE 1491 that same year.&nbsp;Today JTAG is used for debugging, programming and testing on virtually ALL embedded devices.&nbsp;<br></p> <hr>    <p><span></span><span><a href="https://blog.senr.io/uploads/2/4/4/8/24485815/dfx-dft-ictdi-img01_orig.gif" rel="lightbox" onclick="if (!lightboxLoaded) return false"><img src="https://blog.senr.io/uploads/2/4/4/8/24485815/dfx-dft-ictdi-img01.gif?264" alt="Picture"></a><span></span></span></p><p><strong>Boundary Scanning</strong><br>With the invention of integrated circuits came the need to test physical interconnects. That is: test whether "Point A" on a circuit board correctly connects to "Point C". As industry drove toward higher density interconnects and finer pitch (i.e. smaller) components, a standardized way of testing integrated circuits (or "chips") was needed. By embedding the test logic within the IC itself and limiting the physical interface to just a few signals, JTAG/boundary-scan presented an elegant solution to testing, debugging, and diagnosing modern electronic systems.&nbsp;Simply stated, boundary Scanning allows you to read and write individual bits, on individual pins, of the individual chips on a board. This ability to read and write 1's and 0's directly onto the pins is extremely powerful, but widely misunderstood.&nbsp;</p> <hr>  <div><div><div> 	<table> 		<tbody> 			<tr> 				<td> 					 						  <p>‚ÄãThe JTAG interface gives manufacturers a way to test the physical connections between pins on a chip. When electrical engineers talk about using JTAG to "debug" a chip, they are talking about something very different than traditional software debugging. They are talking about making sure pin A on chip A is physically connected to pin B on chip B, and that all those pins are functioning correctly. Since JTAG gives you direct hardware access to a device, it's also a fantastic tool for security research.</p>   					 				</td>				<td> 					 						  <div><div> <p><a href="https://blog.senr.io/uploads/2/4/4/8/24485815/connectiontest_orig.gif" rel="lightbox" onclick="if (!lightboxLoaded) return false"> <img src="https://blog.senr.io/uploads/2/4/4/8/24485815/connectiontest.gif?158" alt="Picture"> </a></p> </div></div>   					 				</td>			</tr> 		</tbody> 	</table> </div></div></div>  <h2><u><span size="5" color="#3f3f3f"><span><strong>JTAG Fundamentals</strong></span></span></u></h2>  <p><span></span><span><a href="https://blog.senr.io/uploads/2/4/4/8/24485815/654px-jtag-chain-svg_orig.png" rel="lightbox" onclick="if (!lightboxLoaded) return false"><img src="https://blog.senr.io/uploads/2/4/4/8/24485815/654px-jtag-chain-svg.png" alt="Picture"></a><span></span></span></p><div><p>Before we go into using JTAG to actually hack something, let's review the JTAG fundamentals.</p><p><strong>4 Pins, Plus 1</strong><br>The official JTAG standard requires 4 standard pins (or signals), and defines an optional 5th. These signals, and the small bit of silicon logic that connects and controls them, are collectively referred to as the Test Access Port, or TAP controller.</p></div> <hr>  <p><strong>The JTAG "Tower of Babel"</strong></p>  <div><p>One of the most confusing thing about learning to get hands-on with JTAG is how much partial and disinformation there is about it. Manufacturers' websites tell you the "theory" of how it works, but leave you longing for more information about "how to get started". To further confuse things there are other factors:</p><ul><li><strong>Buzzword</strong>:&nbsp;It is a infosec buzzword, everyone talks about it but few really share actionable info</li><li><strong>Loaded Word: </strong>JTAG has come to mean many things to many people. For example,&nbsp;in the gamer community "JTAG" means a hardware modification&nbsp;for a console that allows playing pirated games or loading homebrew content (i.e. "a <a href="http://hackaday.com/2009/10/20/freeboot-gives-the-xbox-360-jtag-hack-new-life/" target="_blank">jtagged&nbsp;XBox</a>"). This makes it difficult to search for useful information.</li><li><strong>Vernacular Overlap:</strong> As mentioned above, when an Electrical Engineer says "debug" he means: <em>"Are the pins in the right place?&nbsp;Is there enough power?&nbsp;Is the logic of the circuit correct?"</em> When a Software Engineer says "debug" he thinks of GDB or WinDBG. JTAG is designed for the former, not the latter.&nbsp;</li><li><strong>Misunderstanding: </strong>As software developers the closest similarity&nbsp;to JTAG is maybe Kernel debugging via a debug cable (USB, Parallel, or Serial). But this is a dangerous comparison, because even on the "debugee" (in that scenario) there is software code executing on the remote system&nbsp;handling the translation of commands arriving on the debug cable. The JTAG state machine implemented&nbsp;entirely in hardware on the target.</li></ul></div>  <p><strong>What JTAG <u>ISN'T!</u></strong></p>  <div><p>In an effort to dispel disinformation (which is so rampant) here is what JTAG isn't.</p><ul><li><strong>The name of a specific device</strong> for debugging firmware or hardware</li><li><strong>The name of a piece of software</strong> used for debugging software code running on an embedded device.</li><li><strong>The name of a protocol:&nbsp;</strong>The JTAG specification doesnt even define the protocol for how data is passed between debugger and debugee (i.e. there is no .h file you can reference defining a "JTAG packet" to be passed over a serial, parallel, or USB cable to a target)</li><li><strong>The name of a kind of connector: </strong>Unlike a specification like USB or Ethernet, the&nbsp;JTAG specification doesn't even define what connectors should look like. This&nbsp;leads to a VERY confusing diversity of "JTAG" connectors. This is often a huge source of confusion&nbsp;to a software person. Imagine if every USB cable was different!</li></ul></div>  <div><div> <p><a href="https://blog.senr.io/uploads/2/4/4/8/24485815/screen-shot-2016-09-21-at-12-18-21-am_orig.png" rel="lightbox" onclick="if (!lightboxLoaded) return false"> <img src="https://blog.senr.io/uploads/2/4/4/8/24485815/screen-shot-2016-09-21-at-12-18-21-am_orig.png" alt="Picture"> </a></p><p>All of the connectors above can be referred to as "JTAG" connectors. </p> </div></div>  <div><div><div> 	<table> 		<tbody> 			<tr> 				<td> 					 						  <div><div> <p><a href="https://blog.senr.io/uploads/2/4/4/8/24485815/screen-shot-2016-09-21-at-1-33-15-am_orig.png" rel="lightbox" onclick="if (!lightboxLoaded) return false"> <img src="https://blog.senr.io/uploads/2/4/4/8/24485815/screen-shot-2016-09-21-at-1-33-15-am.png?329" alt="Picture"> </a></p><p>JTAG connector for a DD WRT router</p> </div></div>   					 				</td>				<td> 					 						  <div><div> <p><a> <img src="https://blog.senr.io/uploads/2/4/4/8/24485815/screen-shot-2016-09-21-at-1-33-08-am_orig.png" alt="Picture"> </a></p><p>JTAG connector for a Point-Of-Sale device</p> </div></div>   					 				</td>			</tr> 		</tbody> 	</table> </div></div></div>  <p>All of the connectors above are "JTAG" connectors. Why do they look so different? &nbsp;Where is the standardization? In practice, you can find hundreds or thousands of different looking "JTAG" connectors in devices. <strong>Why?</strong> Before we explain why, let's not talk about what it isn't and talk about what it is (according to the specification).</p>  <p><strong>What JTAG <u>IS</u>: The Five required JTAG Pins (or "Signals")&nbsp;</strong></p>  <div><p>Here is what JTAG is. In it's most fundamental. The JTAG specification 1149.1 requires these five signals:</p><ul><li><u><strong><span size="5">TCK</span></strong></u>: <strong>T</strong>est <strong>C</strong>loc<strong>k</strong><ul><li>The drummer, or metronome that dictates the speed of the TAP controller. Voltage on this pin simply pulses up and down in a rhythmic, steady beat. On every ‚Äúbeat‚Äù of the clock, the TAP controller takes a single action. The actual clock speed is not specified in the JTAG standard. The TAP controller accepts its speed from the outside device controlling JTAG.</li></ul></li></ul><ul><li><u><strong><span size="5">TMS</span></strong></u>: <strong>T</strong>est <strong>M</strong>ode <strong>S</strong>elect<ul><li>Voltages on the Mode Select pin control what action JTAG takes. By manipulating the voltage on this pin, you tell JTAG what you want it to do.</li></ul></li><li><u><strong><span size="5">TDI</span></strong></u>: <strong>T</strong>est <strong>D</strong>ata-<strong>I</strong>n<ul><li>The pin that feeds data into the chip. The JTAG standard does not define protocols for communication over this pin. That is left up to the manufacturer. As far as JTAG is concerned, this pin is simply an ingress method for 1s and 0s to get into the chip. What the chip does with them is irrelevant to JTAG.</li></ul></li><li><u><strong><span size="5">TDO</span></strong></u>: <strong>T</strong>est <strong>D</strong>ata-<strong>O</strong>ut<ul><li>The pin for data coming out of the chip. Like the Data-In pin, communication protocols are not defined by JTAG.</li></ul></li><li><u><strong><span size="5">TRST</span></strong></u>: &nbsp;<strong>T</strong>est <strong>R</strong>e<strong>s</strong>e<strong>t&nbsp;</strong><span>(Optional)</span><ul><li>This optional signal is used to reset JTAG to a known good state, we'll explain why this is optional in a few paragraphs.</li></ul></li></ul></div>  <p>Now that we know what pins/signals are really defined as "JTAG" let's take a second look at the sample of connectors from above:</p>  <div><div> <p><a href="https://blog.senr.io/uploads/2/4/4/8/24485815/screen-shot-2016-09-21-at-12-18-26-am_orig.png" rel="lightbox" onclick="if (!lightboxLoaded) return false"> <img src="https://blog.senr.io/uploads/2/4/4/8/24485815/screen-shot-2016-09-21-at-12-18-26-am_orig.png" alt="Picture"> </a></p><p>Ah hah! We now see that each of these connectors have JTAG related signals!</p> </div></div>  <p><span>We now see that what <strong>makes these connectors "JTAG" is not their pin configurations,</strong> but rather the mere presence of these JTAG signals. It is with these signals that we can manipulate and communicate with the State Machine of a target device via it's "Test Access Port" (or TAP) controller embedded in its silicon.</span></p>  <blockquote>...the JTAG State Machine is so simple that you can <a href="http://hackaday.com/2013/08/31/learn-jtag-by-writing-a-bit-banging-programmer/" target="_blank">write Arduino code to "bit-bang" interface with it...</a></blockquote>  <p>‚Äã<strong>The JTAG State Machine</strong><br>The JTAG specification IEEE 1149.1 specifies not only the signals but how the "State Machine" embedded in the TAP Controller of a device must behave. The State controller diagram is in the upper left of the video below. By manipulating the voltage on the TMS pin of the TAP controller and the TCK pin, you control the way the State Machine changes state. On each beat of the clock, the JTAG TAP controller in your targeted device checks if there is voltage on the TMS pin, and interprets that as either a 1 (voltage) or a 0 (no voltage). This series of 1‚Äôs and 0‚Äôs moves JTAG through a relatively simple State Machine. This state machine is so simple that you can <a href="http://hackaday.com/2013/08/31/learn-jtag-by-writing-a-bit-banging-programmer/" target="_blank">even write Arduino code to manipulate it</a>. The value of the TMS pin needed to change state is denoted with a tiny "1" or "0" in the state machine diagram. You can see the operation of the state machine in the animation below</p>    <p><em><span size="2">The JTAG State Machine in operation. (A very simplified representation.) In reality, the signal sampling is slightly different (sampling of signals happening on the rising or the falling edge, differently). Also the "clock signal" visualization above is slightly buggy in that there is <strong>only</strong> one State Machine operation per clock cycle. Sampling happens with each Clock cycle.)</span></em></p>  <div><div><div> 	<table> 		<tbody> 			<tr> 				<td> 					 						  <div><p>Note that data is read into and out of the TDI and TDO pins while the state machine is in the Shift-IR or Shift-DR states. &nbsp;The specific differences between these states, and the registers they utilize are beyond the scope of this article. Suffice to say that IR (Instruction Register) and DR (Data Register) are like function calls. The value in IR is the "function" and the value in DR is the "argument". The JTAG specification doesn't define what the "functions" should be, that's up to the manufacturer.</p></div>   					 				</td>				<td> 					 						    <p>Animation of the JTAG TAP controller "Train Station". The TAP controller's state routes the TDI/TDO tracks to the register "platforms".</p>   					 				</td>			</tr> 		</tbody> 	</table> </div></div></div>  <div><p><span>It‚Äôs also interesting to note that, from anywhere in the state machine, if TMS is held at a 1 for five clock cycles ‚Ä¶</span></p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.senr.io/blog/jtag-explained">https://blog.senr.io/blog/jtag-explained</a></em></p>]]>
            </description>
            <link>https://blog.senr.io/blog/jtag-explained</link>
            <guid isPermaLink="false">hacker-news-small-sites-26160626</guid>
            <pubDate>Wed, 17 Feb 2021 00:02:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Nothing Inherently Exists]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26160593">thread link</a>) | @goodlifeodyssey
<br/>
February 16, 2021 | https://goodlifeodyssey.com/nothing-inherently-exists | <a href="https://web.archive.org/web/*/https://goodlifeodyssey.com/nothing-inherently-exists">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
      
      <p><span>Eurus:</span> In our group discussion, you demonstrated that the concept of a bee is not fundamental; individual bees may be similar, but there is no inherent bee-essence. One may say, ‚Äúbee-essence is the ability to reproduce bees.‚Äù However, you showed how gradual evolutionary change refutes this argument. ‚ÄúConsider an ancient bee that, if alive, could reproduce with a modern bee. Now consider an even more ancient bee that can reproduce with the ancient bee but not with the modern bee. Does the ancient bee have two essences, one to reproduce with the modern bee and another to reproduce with the more ancient bee?‚Äù</p>

<p>Your conceptual deconstructions remind me of ≈õ≈´nyatƒÅ, or emptiness, a tenet of the Madhyamaka Buddhist tradition. ≈ö≈´nyatƒÅ says that nothing has svabhƒÅva‚Äîessence, inherent existence, or true identity.</p>

<p><span>Dijon:</span> Thanks for sharing. I‚Äôd like to learn more about ≈õ≈´nyatƒÅ because it seems to me that there must be some fundamental things, perhaps particles, that inherently exist. If this weren‚Äôt the case, then how could anything exist? Said another way, although I think our minds project the <em>concept of a bee</em> onto an external reality, I still think there are aggregates of fundamentally existing things which we call bees.</p>

<p><span>Eurus:</span> Before I continue, I should point out that I‚Äôm not especially well-acquainted with Madhyamaka thought, so my comments may not be precisely correct.</p>

<p><span>Dijon:</span> I appreciate that you are willing to engage with me on these essential questions, even if you aren‚Äôt entirely sure of your own beliefs. Please continue!</p>

<p><span>Eurus:</span> ≈ö≈´nyatƒÅ doesn‚Äôt say that nothing exists, but only that nothing has svabhƒÅva‚Äîessence, inherent existence, or true identity. ≈ö≈´nyatƒÅ is closely related to dependent origination, or pratƒ´tyasamutpƒÅda. According to this doctrine, all phenomena arise in dependence upon other phenomena, which themselves arise in dependence upon other phenomena. Dependent origination leads to ≈õ≈´nyatƒÅ because phenomena can‚Äôt exist independently. Things do exist <em>conventionally</em>, similar to how Theseus‚Äôs ship exists conventionally. The error is to think that anything exists in-and-of-itself.</p>

<p>NƒÅgƒÅrjuna, who founded the Madhyamaka Buddhist school, summarizes this in a famous verse of his <em>M≈´lamadhyamakakƒÅrikƒÅ</em>:</p>

<blockquote>
<p>Whatever is dependently co-arisen</p>
<p>That is explained to be emptiness.</p>
<p>That, being a dependent designation</p>
<p>Is itself the middle way.</p>

<p>Something that is not dependently arisen,</p>
<p>Such a thing does not exist.</p>
<p>Therefore a thing with svabhƒÅva</p>
<p>Does not exist.</p>
</blockquote>

<p>You say that particles exist in-and-of-themselves. While we can come up with a scientific theory with constructs like particles or wave functions at the bottom, I do not believe that science itself supposes these constructs have svabhƒÅva. This would be true even if we found the correct theory of everything. For example, it seems tenuous to claim that wave functions fundamentally exist. To the physicist, a wave function is a mathematical tool that describes our observations. To say more is to go beyond what empirical science can support.</p>

<p><span>Dijon:</span> I think I‚Äôm using the term <em>fundamentally exist</em> differently than you‚Äôre using <em>svabhƒÅva</em>. When I say something fundamentally exists, I mean it influences reality, and it can‚Äôt be broken into smaller pieces. Accordingly, if a wave function completely describes the behaviors we observe and can‚Äôt be replaced by a simpler construct, then I would say it fundamentally exists.</p>

<p><span>Eurus:</span> What does it mean to say something ‚Äúinfluences reality‚Äù or that something ‚Äúcan‚Äôt be broken into smaller pieces‚Äù? Our discussion reminds me of a passage in <em>The Feynman Lectures</em> about the philosophical implications of quantum mechanics that may be helpful. I‚Äôll read it:</p>

<blockquote>
<p>Another thing that people have emphasized since quantum mechanics was developed is the idea that we should not speak about those things which we cannot measure. Unless a thing can be defined by measurement, it has no place in a theory. And since an accurate value of the momentum of a localized particle cannot be defined by measurement it therefore has no place in the theory.</p>
<p>The idea that this is what was the matter with classical theory is a false position. It is a careless analysis of the situation. Just because we cannot measure position and momentum precisely does not a priori mean that we cannot talk about them. It only means that we need not talk about them. The situation in the sciences is this: A concept or an idea which cannot be measured or cannot be referred directly to experiment may or may not be useful. It need not exist in a theory. In other words, suppose we compare the classical theory of the world with the quantum theory of the world, and suppose that it is true experimentally that we can measure position and momentum only imprecisely. The question is whether the ideas of the exact position of a particle and the exact momentum of a particle are valid or not. The classical theory admits the ideas; the quantum theory does not. This does not in itself mean that classical physics is wrong.</p>
<p>When the new quantum mechanics was discovered, the classical people‚Äîwhich included everybody except Heisenberg, Schr√∂dinger, and Born‚Äîsaid: ‚ÄúLook, your theory is not any good because you cannot answer certain questions like: what is the exact position of a particle?, which hole does it go through?, and some others.‚Äù Heisenberg‚Äôs answer was: ‚ÄúI do not need to answer such questions because you cannot ask such a question experimentally.‚Äù It is that we do not have to. Consider two theories (a) and (b); (a) contains an idea that cannot be checked directly but which is used in the analysis, and the other, (b), does not contain the idea. If they disagree in their predictions, one could not claim that (b) is false because it cannot explain this idea that is in (a), because that idea is one of the things that cannot be checked directly.</p>
<p>It is always good to know which ideas cannot be checked directly, but it is not necessary to remove them all. It is not true that we can pursue science completely by using only those concepts which are directly subject to experiment.</p>
</blockquote>

<p><span>Dijon:</span> The ideas in this passage can indeed improve my definition: Let‚Äôs say something <em>fundamentally exists</em> if it is an irreducible construct in a theory that explains all our empirical observations.</p>

<p><span>Eurus:</span> Your second definition is better, but what does it mean to be ‚Äúirreducible‚Äù? Quantum mechanics can be formulated in several different ways. Are constructs that are only present in some formulation irreducible? Could such a construct, especially if it can‚Äôt be directly measured, be said to exist in any normal sense of the word? They seem more like mathematical machinery to me.</p>

<p><span>Dijon:</span> Such constructs do <em>feel</em> like mathematical machinery. But how could it be otherwise? If the universe consists of small and simple particles and eyes are large and complex aggregates of particles, then eyes would necessarily not be able to see particles. If we also assume that the universe is ordered, then particles would follow mathematical laws and would be indirectly-known mathematical machinery.</p>

<p><span>Eurus:</span> Are you sure an eye <em>necessarily</em> couldn‚Äôt see a single particle? In our universe, human eyes can detect individual photons.</p>

<p><span>Dijon:</span> It can, in special circumstances. However, given that the eye and the brain require an immense number of particles to detect a single photon, they couldn‚Äôt operate at the scale of the particles. It would be too much information.</p>

<p><span>Eurus:</span> Couldn‚Äôt an eye see a focus down on a small number of particles? I‚Äôm not sure I see your point.</p>

<p><span>Dijon:</span> It‚Äôs not clear to me either, so I‚Äôll give another example: Imagine a universe consisting of mind as well as particles. Sight is a fundamental property of mind, thus mind can see particles directly. It would be as if our vision was pixelated, and the laws of physics appeared to operate on pixels. Even in this universe, how would minds know they were seeing the things-in-themselves? How could they know they hit bottom?</p>

<p>Perhaps the mathematical machinery is the thing-in-itself. The existence of multiple formulations doesn‚Äôt seem to disprove this; information can always be represented in several ways‚Äîcertainly, a grid of pixels can be.</p>

<p>The physicist studying the laws of nature is in the same situation as the programmer reverse-engineering a software libraries‚Äô interface without access to the implementation. If the implementation acts in a consistent way, then with enough effort, we may be able to perfectly understand and describe the interface. We could predict how it would work in future situations. However, we would have no way of knowing anything about the software library besides its observable behavior. We could hypothesize about how it is implemented‚Äîwhat the particles are in-and-of-themselves‚Äîbut we would have no way of validating the hypotheses.</p>

<p>Therefore, I agree empirical science can‚Äôt say anything about the thing-in-itself. However, if to have svabhƒÅva means something different than to fundamentally exist, then by definition, it is a property of the thing-in-itself that is beyond the reach of science.</p>

<p>This doesn‚Äôt mean there <em>aren‚Äôt</em> things-in-themselves below the mathematical machinery or that svabhƒÅva is a meaningless term. If we spoke about the sensation of blue to a citizen of a blueless universe, they wouldn‚Äôt know what we mean‚Äîbut that doesn‚Äôt mean blue isn‚Äôt a valid concept. But it does mean we would require divine revelation to know whether anything has svabhƒÅva. In our software analogy, divine revelation is like the library‚Äôs author telling us unobservable implementation details.</p>

<p><span>Eurus:</span> You make some interesting points. You‚Äôve defined <em>fundamentally exist</em> to ensure that empirical science can verify it. I agree, according to this definition, that wave functions fundamentally exist. I don‚Äôt think it follows, however, that wave functions have svabhƒÅva.</p>

<p>How is svabhƒÅva different than your term <em>fundamentally exist</em>? The most important ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://goodlifeodyssey.com/nothing-inherently-exists">https://goodlifeodyssey.com/nothing-inherently-exists</a></em></p>]]>
            </description>
            <link>https://goodlifeodyssey.com/nothing-inherently-exists</link>
            <guid isPermaLink="false">hacker-news-small-sites-26160593</guid>
            <pubDate>Wed, 17 Feb 2021 00:00:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: LeadCanvas ‚Äì A free tool for quickly filling out Lean Canvas boards]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26160384">thread link</a>) | @ncallaway
<br/>
February 16, 2021 | https://leadcanvas.app/ckkps0ys2000009l413745azb | <a href="https://web.archive.org/web/*/https://leadcanvas.app/ckkps0ys2000009l413745azb">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><small><p>Your privacy is important to us. We collect no personally-identifiable data. The only cookies we set are required for this application to function. All information saved to your boards belongs to you: we are neither responsible nor liable for your content.</p></small></p></div></div>]]>
            </description>
            <link>https://leadcanvas.app/ckkps0ys2000009l413745azb</link>
            <guid isPermaLink="false">hacker-news-small-sites-26160384</guid>
            <pubDate>Tue, 16 Feb 2021 23:43:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Free Publishing]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26160374">thread link</a>) | @ingve
<br/>
February 16, 2021 | https://julesh.com/2021/02/16/free-publishing/ | <a href="https://web.archive.org/web/*/https://julesh.com/2021/02/16/free-publishing/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1839">
		<!-- .entry-header -->

	<div>
		
<p>This post is a manifesto for a very simple idea: <strong>the phrase ‚Äúopen access‚Äù should be replaced with ‚Äúfree publishing‚Äù</strong>. I am asking you, the reader, to make this change. The rest of this post will try to explain why.</p>



<p>The fundamental reason is that <strong>the phrase ‚Äúopen access‚Äù has already been compromised</strong> through contact with corporate interests that are not in the interest of science. The fact that extra adjectives such as <a href="https://en.wikipedia.org/wiki/Open_access#Diamond/platinum_OA">diamond </a><a href="https://en.wikipedia.org/wiki/Open_access#Colour_naming_system">open access, platinum open access</a> and <a href="https://www.fairopenaccess.org/faq/#Fair">fair open access</a> are required shows that the words ‚Äúopen access‚Äù have lost their useful meaning. The pledge that I am a signatory of, <a href="https://nofreeviewnoreview.org/faq">No Free View? No Review!</a>, does not consider gold open access and other hybrid models to count as true open access.</p>



<p>Open access is named by analogy with open source software. (At least I assume it is ‚Äì I haven‚Äôt found any actual evidence for that claim.) <a href="https://en.wikipedia.org/wiki/Open_source#Origins">Open source software was born</a> as a wing of the older <a href="https://en.wikipedia.org/wiki/Free_software_movement">free software movement</a>, which was strongly associated with a relatively extreme philosophy of people like Richard Stallman. Free software is codified as the <a href="https://en.wikipedia.org/wiki/The_Free_Software_Definition#The_Four_Essential_Freedoms_of_Free_Software">four essential freedoms</a>. The double meaning of the English word ‚Äúfree‚Äù is intentional, but free software is more fundamentally about free-as-in-libre than free-as-in-beer (see <a href="https://en.wikipedia.org/wiki/Gratis_versus_libre">gratis vs libre</a>).</p>



<p>Open source software was both a re-branding of free software and a philosophically different approach to it, both with the goal of making it more palatable to businesses. This was a spectacularly successful move, and open source software is now a major part of the strategy of many businesses big and small.</p>



<p>My proposal is that we equally deliberately take the opposite step: from open access publishing to free publishing, and for the opposite reason: to make academic publishing as unappealing as possible to businesses.</p>



<p>Open access is, fundamentally, about making articles free to read, and in this it has been a complete success. There are two distinct reasons for wanting to make articles free to read: reducing the <a href="https://en.wikipedia.org/wiki/The_Cost_of_Knowledge">spiralling cost to run an academic library</a>, and to make the research available to independent scholars and the general public. (This second reason is particularly important in medical science, but also applies to every subject to a lesser extent.)</p>



<p>If research is free to read, where does an academic publisher make their money? The answer is <a href="https://en.wikipedia.org/wiki/Article_processing_charge">article processing charges</a> (APCs), or ‚Äúpay to publish‚Äù. <a href="https://www.nature.com/ncomms/">Nature Communications</a>, for example, is an open access journal with a cost to publish of <a href="https://www.nature.com/ncomms/about/article-processing-charges">US$ 5560 plus VAT</a> per paper. This is unusually high, with US$ 3000 per paper being more typical.</p>



<p>Of course academics usually don‚Äôt pay the APC themselves ‚Äì their institution covers the cost. This is just moving money around, since previously the institution was paying the cost to read. And similarly for independent scholars, they now have to pay to publish instead of pay to read. In either case, I imagine that APCs have been set by publishers in order to keep their income roughly similar (or increase it, if I‚Äôm being <s>cynical</s> realistic), so the actual cost to institutions and independent scholars would not significantly change.</p>



<p>Of course I am not naive, and I know that publishing costs money. Tim Gowers, who founded the free journal <a href="https://advances-in-combinatorics.scholasticahq.com/">Advances in Combinatorics</a>, wrote in <a href="https://gowers.wordpress.com/2018/06/04/a-new-journal-in-combinatorics/">this great blog post</a> (one that I come back to repeatedly) that ‚Äúthe total cost of running a new journal that isn‚Äôt too large is of the order of <strong>a few hundred dollars per year</strong>, as long as nobody is paid for what they do‚Äù. This money typically comes from grants and philanthropists.</p>



<p>A shining example of a free journal is <a href="http://www.tac.mta.ca/tac/">Theory and Applications of Categories</a>, which has been both free to read and free to publish since 1995. <a href="https://compositionality-journal.org/">Compositionality</a>, a new free journal that I‚Äôm on the editorial board of, is funded by a philanthropist, with Gowers‚Äô estimate being the right order of magnitude for its costs. It is clear that a free journal must be very lean indeed, but there are multiple examples showing that it is very much possible.</p>



<p>I have not yet said clearly what the definition of ‚Äúfree publishing‚Äù should even be. This is because I‚Äôd rather let the community decide. The baseline minimum is that to qualify as free publishing it must be both free to read and free to publish, both for the reader/author and for their institution. So free publishing may be defined to be the same thing as diamond open access.</p>



<p>Perhaps free publishing should be stricter still. One possibility is to require the use of a license such as <a href="https://creativecommons.org/licenses/by-nd/2.0/">CC BY-ND</a>, where the author grants certain permissions to others such as the right to host copies of the paper. Notably the <a href="https://arxiv.org/licenses/nonexclusive-distrib/1.0/license.html">arXiv default license</a> would not qualify for this. Another possibility would be an ‚Äúindependence‚Äù condition where the journal may not share an owner with a non-free journal. The <a href="https://www.fairopenaccess.org/faq/#Fair">fair open access</a> movement require community ownership of journals, strictly ruling out for-profit publishers.</p>



<p>Personally my view is that these more restrictive conditions would have more marginal benefits, and would risk dividing opinion and distracting attention from the most important issues. Thus while free software considers free-as-in-freedom to be more important than free-as-in-beer, free publishing would be the other way round. This is not unreasonable, since the nature of software and publications are very different. There is definitely a reasonable debate to be had here, though.</p>



<p>All of these are details. My central point remains: the phrase ‚Äúopen access‚Äù is no longer useful and should be avoided. The phrase ‚Äúfree publishing‚Äù, which is surely harder to corrupt into a different meaning, should be preferred and protected from a similar fate.</p>
			</div><!-- .entry-content -->

	<!-- .entry-footer -->

		<!-- .entry-auhtor -->
</article></div>]]>
            </description>
            <link>https://julesh.com/2021/02/16/free-publishing/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26160374</guid>
            <pubDate>Tue, 16 Feb 2021 23:42:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Database Inside Your Codebase]]>
            </title>
            <description>
<![CDATA[
Score 91 | Comments 60 (<a href="https://news.ycombinator.com/item?id=26160186">thread link</a>) | @todsacerdoti
<br/>
February 16, 2021 | https://feifan.blog/posts/the-database-inside-your-codebase | <a href="https://web.archive.org/web/*/https://feifan.blog/posts/the-database-inside-your-codebase">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
<div>
  <article>
    
      <p><img src="https://files.tanagram.app/file/tanagram-data/prod-feifans-blog/joshua-sortino-LqKhnDzSF-8-unsplash.jpg">
      </p>
<p>
Navigating codebases of any meaningful size is difficult. Most of a programmer‚Äôs time is spent jumping through the codebase, reading or skimming to build a mental model of the constructs and conventions within it. These constructs ‚Äî among them: the DSLs, interfaces, and taxonomy of types that exist ‚Äî are arguably the most important precursor to understanding where and how to make changes. But these constructs only exist in programmers‚Äô heads. It‚Äôs difficult or impossible to navigate most codebases through the lens of those constructs; programmers lack ‚Äúcode browsers‚Äù that present the underlying code independently of files and the filesystem hierarchy. Yet code browsers that can do so ‚Äî and we‚Äôll look at some examples below ‚Äî would be incredibly useful. This is because instances of these constructs can be thought of as records in a database, albeit an ad-hoc, poorly-specified database that can only be queried through carefully-crafted regexes<a href="#fn:1" id="fnref:1" title="see footnote">1</a>.</p>
<p>
In simple cases, some constructs manifest as naming conventions: prefixes in a name may be a rudimentary way to namespace classes<a href="#fn:2" id="fnref:2" title="see footnote">2</a>, while suffixes may be a rudimentary way to group classes or identify their type<a href="#fn:3" id="fnref:3" title="see footnote">3</a>. But these are easy examples; many patterns are much more subtle.</p>
<h2>
‚ÄúWhere is this used?‚Äù</h2>
<p>
Imagine figuring out ‚Äúwhere is this used?‚Äù, for various types of ‚Äúthis‚Äù:</p>
<p>
Most code editors (perhaps paired with a <a href="https://microsoft.github.io/language-server-protocol/">language server</a>) can show you where local variables are used. This usually also works for finding where methods are invoked ‚Äî although perhaps less reliably in dynamic-dispatch languages, or languages without types.</p>
<p>
What if you want to find where instances of a particular model get created? There may be multiple ways to create a model, so this isn‚Äôt super simple. In Rails, for example, there‚Äôs two built-in ways to create a model: you can either call <code>.new</code> to create a new instance in memory followed by <code>.save</code> to persist it to the database, or call <code>.create</code> to automatically do both. Your particular codebase might have additional wrappers for doing this that you‚Äôre supposed to use. Even worse, imagine that sometimes you create a <code>.new</code> instance, then set some properties on it over the next few lines, then finally call <code>.save</code>. Something like this:</p>
<pre><code>user = User.new
user.email = '<a href="https://feifan.blog/cdn-cgi/l/email-protection" data-cfemail="bed6dbd2d2d1fedbc6dfd3ced2db90ddd1d3">[email&nbsp;protected]</a>' unless self.anonymous?
user.save</code></pre>
<p>
Conceptually, that‚Äôs still code that creates an instance of a particular model. But with the intervening syntax, this would be a difficult case to find with <code>grep</code>.</p>
<h2>
Static config</h2>
<p>
At <a href="https://stripe.com/">Stripe</a>, where I work, we have a lot of code for jobs that need to run at certain times each day. For example, we might need to move funds from one financial partner to another at noon UTC each day. Each of these jobs has configuration code describing when and how it should be run, implemented as a <a href="https://www.jetbrains.com/mps/concepts/domain-specific-languages/">DSL</a>. This config might look something like this:</p>
<pre><code>run_config RunConfig.new(
  job_name: 'partner-daily-funding',
  env_vars: self.config_env,
  cron: RunConfig::Cron.new(
    schedule: { hour: 12, minute: 0 }
  ),
  owning_team: Company::Team::Liquidity
)</code></pre>
<p>
In our codebase, we have hundreds of these jobs, each with their own <code>run_config</code>. If you look at this codebase as a database, you can imagine these jobs being rows in a <code>jobs</code> table, where the fields on each row correspond to the parameters provided to the <code>RunConfig</code> class. </p>
<p>
Wouldn‚Äôt it be great to be able to browse all these jobs in a table? Maybe you could perform some basic operations on this data: searching for specific jobs by name or owning team; sorting by the time-of-day they‚Äôre scheduled to run; filtering for jobs owned by your team that have errored in the past week. Maybe you could edit the <code>run_config</code> from that interface (like you might edit a spreadsheet) and have it automatically make the corresponding change in the source code (or open a PR). Maybe you could even compute some aggregations on this data ‚Äî for example, if you‚Äôre introducing a new job that requires some expensive computation, maybe you‚Äôd like to know which hours have the fewest other jobs scheduled. And of course, this job browser should be bidirectional with respect to the codebase ‚Äî there should be a button beside each entry that shows the code for the job inline or opens the corresponding code in your editor.</p>
<h2>
Diffused concepts</h2>
<p>
Codebases typically contain logical concepts that are implemented across multiple pieces of code. This is often the case when you need to create multiple files to implement a particular feature.</p>
<p>
For example, in Rails, a ‚Äúresource‚Äù is collectively implemented across a line in the router, a model file, a controller file, and a bunch of view files. Rails even ships with a code generator to <a href="https://github.com/rails/rails/blob/5f3ff60084ab5d5921ca3499814e4697f8350ee7/railties/lib/rails/generators/rails/resource/USAGE">create some of these files</a> for you. But despite resources being a core concept when working with Rails, there‚Äôs no good way to browse the resources in your codebase<a href="#fn:4" id="fnref:4" title="see footnote">4</a>. There‚Äôs no good way to filter or query your codebase either ‚Äî you can‚Äôt, for example, see which resources support JSON vs XML params. </p>
<p>
For another example, consider pubsub (aka emitter-consumer) pipelines. In web services, when you have processing that can happen ‚Äúin the background‚Äù, one service will publish an event; another service subscribes to that event and will do the background processing on its own when it receives the event. Often, these will form event ‚Äúpipelines‚Äù or trees where an event consumer will emit additional events that are consumed by yet other services. These pipelines are concepts that developers talk about (as in, the ‚Äúaccount creation pipeline‚Äù or ‚Äúfunding reconciliation pipeline‚Äù), but in most codebases the pipeline itself isn‚Äôt declared or reified anywhere in the code.</p>
<p>
If you‚Äôre looking at code that emits an event, how do you find the consumers? If you‚Äôre lucky, the event has a unique, literal name and the consumer uses that name literally as well. But maybe some subscribers are using wildcard event names, or names generated by string concatenation, and that becomes a lot harder to grep for. Likewise, if you‚Äôre looking at a consumer of an event, how do you find the locations in the codebase that could emit that event<a href="#fn:5" id="fnref:5" title="see footnote">5</a>?</p>
<p>
Wouldn‚Äôt it be great to be able to browse those pipelines in a table or perhaps a directed graph<a href="#fn:6" id="fnref:6" title="see footnote">6</a>? Maybe that graph would support some basic operations on this data: searching for specific publishers or subscribers by class name or event name; filtering for pipelines that have run into errors; maybe even showing the flow of a particular event given an event ID<a href="#fn:7" id="fnref:7" title="see footnote">7</a>. And of course, this pipeline browser should be bidirectional with respect to the codebase ‚Äî there should be a button beside each graph node that shows the code for the publisher or subscriber inline or opens the corresponding code in your editor.</p>
<p>
For a final example, consider code that has functionality inherited from elsewhere. Some environments let you see a <a href="https://www.jetbrains.com/help/idea/viewing-structure-of-a-source-file.html">list of inherited properties</a> or methods, but this isn‚Äôt possible for more specialized cases. At Stripe, we have code that implements shell scripts that can take command-line arguments and flags. These arguments are defined via a DSL in the implementing code, but these commands can be subclassed, and there‚Äôs no way to see what the available arguments are while working in the subclass.</p>
<h2>
Philosophy</h2>
<p>
I think it‚Äôs important to consider these problems not as disparate cases in need of bespoke tooling, but as a <em>class</em> of problems characterized by a lack of access to the data structures embedded within codebases. Just like SQL databases and spreadsheets provide a singular querying abstraction and a set of visualization primitives that can be applied to any kind of data, programming environments need a singular querying abstraction and set of visualization primitives that can be applied to the concepts lurking in codebases. Getting there does <em>not</em> mean using proprietary drag-and-drop visual programming interfaces where the introspection capabilities are limited to whatever the programming environment happens to have implemented. Just the opposite ‚Äî you should still be able to do whatever you want with your code (including treating it as plain-text files), <em>and also</em> have access to more advanced introspection tools that can query and slice your code ‚Äî tools that let you easily understand and navigate complex codebases to reduce the <em>incidental complexity</em> of building software.</p>
<h2>
Solutions</h2>
<p>
I don‚Äôt have a solution to sell you here (at least, not yet!). But <a href="https://twitter.com/hirday_g/status/1356657607381946369">by popular demand</a> I think it‚Äôs worthwhile to at least discuss principles that solutions should embody and directionally-related prior art. </p>
<p>
To start with a simple example, see <a href="https://ihp.digitallyinduced.com/">IHP</a>, a full-stack web framework similar to Rails. It comes with a web interface for manipulating your project‚Äôs codebase and database schema. <a href="https://youtu.be/UbDtS_mUMpI?t=102">One point in the introduction video</a> showed changes being made in the visual schema editor being automatically reflected in the SQL code that describes the database schema ‚Äî and changes being made to the SQL code being bidirectionally reflected in the visual schema editor. </p>
<p>
For a more in-depth example, consider <a href="https://pharo.org/">Pharo</a>, a Smalltalk environment. ‚ÄúEnvironment‚Äù in this case means that it feels like you‚Äôre using a custom OS (including global menus, idioms, and keyboard and mouse conventions) designed specifically for browsing, writing, and debugging programs in the Smalltalk programming language<a href="#fn:8" id="fnref:8" title="see footnote">8</a>. The holistic integration of these tools is important. Unlike the programming environments we cobble for ourselves today ‚Äî where the editor is agnostic of the language and runtime and other tools like debuggers, inspectors, and code browsers are tacked on (if they exist at all) ‚Äî it‚Äôs worth thinking about what an entire computing experience <em>for</em> writing and building custom tools might look like<a href="#fn:9" id="fnref:9" title="see footnote">9</a>.</p>
<p>
Pharo is also interesting because of its Class Browser, which looks like this:</p>
<p>
  <img src="https://files.tanagram.app/file/tanagram-data/prod-feifans-blog/database-codebase-pharo-browser.png" alt="Pharo class browser">
</p>
<p>
This browser breaks free from the source code <em>file</em> as the atomic unit of browsing; instead, it allows the user to browse one method at a time. Making the ‚Äúunit of browsing‚Äù ‚Ä¶</p></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://feifan.blog/posts/the-database-inside-your-codebase">https://feifan.blog/posts/the-database-inside-your-codebase</a></em></p>]]>
            </description>
            <link>https://feifan.blog/posts/the-database-inside-your-codebase</link>
            <guid isPermaLink="false">hacker-news-small-sites-26160186</guid>
            <pubDate>Tue, 16 Feb 2021 23:27:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Uber loses (another) $6.8b [is not viable; will never turn a profit]]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26160076">thread link</a>) | @samizdis
<br/>
February 16, 2021 | https://pluralistic.net/2021/02/16/ring-ring-lapd-calling/#uber-unter | <a href="https://web.archive.org/web/*/https://pluralistic.net/2021/02/16/ring-ring-lapd-calling/#uber-unter">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1884">
	<!-- .entry-header -->

	
	
	<div>
		<p><!--
Tags:
uber, bezzle, prop22, doordash, softbank, lapd, blacklivesmatter, public private partnerships, surveillance, blm, la, sf, los angeles, san francisco, protest,

Summary:
Uber loses (another) $6.8b; Ring helped LAPD spy on BLM protests

URL:
https://pluralistic.net/2021/02/16/ring-ring-lapd-calling/

Title:
Pluralistic: 16 Feb 2021 ring-ring-lapd-calling

Bullet:
üëéüèº

Separator:
_,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,_

Top Sources:
None

--><br>
<a href="https://pluralistic.net/2021/02/16/ring-ring-lapd-calling/"><img src="https://i2.wp.com/craphound.com/images/16Feb2021.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/craphound.com/images/16Feb2021.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></a></p>

<ul>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/02/16/ring-ring-lapd-calling/#uber-unter">Uber loses (another) $6.8b</a>: The market can stay predatory longer than you can stay angry.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/02/16/ring-ring-lapd-calling/#ring">Ring helped LAPD spy on BLM protests</a>: The public-private surveillance partnership from hell.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/02/16/ring-ring-lapd-calling/#retro">This day in history</a>: 2001, 2006, 2011, 2016
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/02/16/ring-ring-lapd-calling/#bragsheet">Colophon</a>: Recent publications, upcoming/recent appearances, current writing projects, current reading
</li>
</ul>

<hr>
<p><a name="uber-unter"></a><br>
<img src="https://i1.wp.com/craphound.com/images/La_Brea_Tar_Pits_Elephant_Statues_1990_right-2.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/La_Brea_Tar_Pits_Elephant_Statues_1990_right-2.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>In late 2020, a coalition of predatory, money-losing, private-equity backed companies ran a $200m disinformation campaign that resulted in the passage of California's Prop 22, legalizing worker misclassification and mass-scale labor law violations.</p>
<p><a href="https://pluralistic.net/2020/10/14/final_ver2/#prop-22">https://pluralistic.net/2020/10/14/final_ver2/#prop-22</a></p>
<p>Almost immediately, the passage of Prop 22 led to the loss of unionized jobs paying a living wage and offering basic worker protections, especially for people of color ‚Äì only to have them replaced by "gig work" that lacked any of the above.</p>
<p><a href="https://pluralistic.net/2021/01/05/manorialism-feudalism-cycle/#prop22">https://pluralistic.net/2021/01/05/manorialism-feudalism-cycle/#prop22</a></p>
<p>One of the primary funders ‚Äì and beneficiaries ‚Äì of Prop 22 was Uber, which pioneered worker misclassification. Uber is now pushing the EU to "harmonize" its regulations in a game of transatlantic pingpong where each volley makes things worse.</p>
<p><a href="https://www.cnbc.com/2021/02/15/uber-proposes-california-style-gig-work-reforms-in-europe.html">https://www.cnbc.com/2021/02/15/uber-proposes-california-style-gig-work-reforms-in-europe.html</a></p>
<p>The irony? Uber is a "bezzle" ‚Äì JK Galbraith's name for "the magic interval when a confidence trickster knows he has the money he has appropriated but the victim does not yet understand that he has lost it." Uber is a scam and it will never be profitable.</p>
<p>Uber is a product of Softbank, the Saudi-backed Japanese investment fund that has $100b to spend on helping the Saudi royals find a revenue stream to replace oil. Softbank is a pioneer of accounting frauds that make stupid businesses look profitable.</p>
<p><a href="https://pluralistic.net/2020/05/19/larval-pegasi/#long-con">https://pluralistic.net/2020/05/19/larval-pegasi/#long-con</a></p>
<p>From Wework to Uber to Doordash and beyond, Softbank makes two kinds of bets: first, that they can achieve a monopoly by doing illegal or quasi-illegal things so quickly that they become faits accompli before they get shut down.</p>
<p>And second, that the companies that fail to achieve a monopoly can be unloaded on suckers ("investors") who assume that a money-losing company that has been around for a decade or more must have a path to profitability ("a pile of shit this big <em>must</em> have a pony under it!").</p>
<p>Uber will never, ever be profitable. The company admitted as much on its S1 IPO filing, where it said that profitability depended on every public transit system in the world being replaced with Uber. The company lost <em>$4b</em> in the first half of 2020,</p>
<p><a href="https://pluralistic.net/2020/08/10/folksy-monopolists/#bezzled">https://pluralistic.net/2020/08/10/folksy-monopolists/#bezzled</a></p>
<p>If you think the first half of 2020 was bad, you should see the second half of 2020: <em>Uber lost $6.8b more!</em> As usual, transportation analyst Hubert Horan has the absolute best context on the company's haemorrhagic losses.</p>
<p><a href="https://www.nakedcapitalism.com/2021/02/hubert-horan-can-uber-ever-deliver-part-twenty-four-uber-loses-another-6-8-billion.html">https://www.nakedcapitalism.com/2021/02/hubert-horan-can-uber-ever-deliver-part-twenty-four-uber-loses-another-6-8-billion.html</a></p>
<p>He points out that things are even worse than they seem for Uber. For many years, the pony-under-all-this-shit show required that Uber spend billions on the doomed pretense that they would someday replace drivers with autonomous vehicles.</p>
<p>$2.5B later, Uber's "self-driving" cars could go a whopping <em>0.25 miles</em> before crashing. They had to <em>pay</em> someone $400m to take the division off their hands. Even so, ditching the business-unit produced a gain for Uber's H2-2020 balance-sheet.</p>
<p><a href="https://pluralistic.net/2020/12/08/required-reading/#goober">https://pluralistic.net/2020/12/08/required-reading/#goober</a></p>
<p>Now, Uber <em>did</em> experience massive growth in H2-2020, in their food delivery division. However, that growth led to massive losses for them, because every delivery loses the company money, by design (more expensive pony-under-the-pile theatrics):</p>
<p><a href="https://pluralistic.net/2020/05/18/code-is-speech/#schadenpizza">https://pluralistic.net/2020/05/18/code-is-speech/#schadenpizza</a></p>
<p>But Uber's food delivery long con doesn't just victimize its investors: the primary harms accrue to the restaurants the company nonconsensually opts into its delivery services (with help from Google), draining them until they collapse.</p>
<p><a href="https://pluralistic.net/2020/09/19/we-are-beautiful/#man-in-the-middle">https://pluralistic.net/2020/09/19/we-are-beautiful/#man-in-the-middle</a></p>
<p>Uber claims that it is just consuming every beloved restaurant in the world in order to attain liftoff for "ghost kitchens" ‚Äì literally shipping containers stuffed with precarious chefs <em>paying</em> to cook in unsafe working conditions.</p>
<p>This is what we mean when we talk about "financialization." Uber is a finance shell-game, one that can only be sustained by the destruction of all public transit, all restaurants, basic worker protections and the minimum wage.</p>
<p>And once it has taken that brutal toll on workers and the real economy, once it has fleeced the last investor lured into paying to excavate a little more of the pile of shit, it will collapse.</p>
<p>You can't lost $10b/year forever. $10b here, $10b there, pretty soon you're talking real money.</p>
<p>(<i>Image: <a href="https://en.wikipedia.org/wiki/File:La_Brea_Tar_Pits_Elephant_Statues_1990_right.jpg">Tarcil</a>, <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.en">CC BY-SA</a>, modified</i>)</p>
<hr>
<p><a name="ring"></a><br>
<img src="https://i0.wp.com/craphound.com/images/2020-10-04_-_hughs_art_in_williams_2.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/2020-10-04_-_hughs_art_in_williams_2.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>Ring ‚Äì Amazon's surveillance doorbell division ‚Äì has 4,000 "partnerships" with US police ("public safety") orgs. The company has lied about how these work for years, but the basic deal is that they give cops free stuff to buzz-market their products.</p>
<p><a href="https://www.vice.com/en/article/j5wyjy/amazon-told-police-it-has-partnered-with-200-law-enforcement-agencies">https://www.vice.com/en/article/j5wyjy/amazon-told-police-it-has-partnered-with-200-law-enforcement-agencies</a></p>
<p>Ring tells its customers that they get to choose whether to share the footage from their street-facing cameras with cops, but that's a lie, too. If you say no, the cops still get to look through your camera.</p>
<p><a href="https://www.vice.com/en/article/43kga3/amazon-is-coaching-cops-on-how-to-obtain-surveillance-footage-without-a-warrant">https://www.vice.com/en/article/43kga3/amazon-is-coaching-cops-on-how-to-obtain-surveillance-footage-without-a-warrant</a></p>
<p>That's why cops debase themselves to serve as buzz-marketers for Ring ‚Äì in exchange, they get an off-the-books, free-to-use, warrantless, city-scale, video surveillance grid.</p>
<p>It's an investment that pays off. Back in July, EFF documented how the San Francisco Police Department was able to commandeer 200 Avigilon cameras to produce surveillance data on BLM protesters:</p>
<p><a href="https://www.eff.org/deeplinks/2020/07/san-francisco-police-accessed-business-district-camera-network-spy-protestors">https://www.eff.org/deeplinks/2020/07/san-francisco-police-accessed-business-district-camera-network-spy-protestors</a></p>
<p>And in a new blockbuster report, EFF's Dave Maass and Matthew Guariglia document how the LAPD did the same thing, fraudulently using "unusual occurance" protocols to gain access to last summer's BLM protests.</p>
<p><a href="https://www.eff.org/deeplinks/2021/02/lapd-requested-ring-footage-black-lives-matter-protests">https://www.eff.org/deeplinks/2021/02/lapd-requested-ring-footage-black-lives-matter-protests</a></p>
<p>Ring has a terrible track record, kicking off its marketing by sending out deceptive news-bulletins to convince people that they lived in high-crime areas and needed its products:</p>
<p><a href="https://www.theatlantic.com/ideas/archive/2019/05/amazon-owned-ring-wants-report-crime-news/588394/">https://www.theatlantic.com/ideas/archive/2019/05/amazon-owned-ring-wants-report-crime-news/588394/</a></p>
<p>They lied about their facial recognition program:</p>
<p><a href="https://www.buzzfeednews.com/article/nicolenguyen/amazon-ring-facial-recognition-ukraine">https://www.buzzfeednews.com/article/nicolenguyen/amazon-ring-facial-recognition-ukraine</a></p>
<p>A program that included a plan to make "watch lists" of people who'd be tracked from camera to camera:</p>
<p><a href="https://theintercept.com/2019/11/26/amazon-ring-home-security-facial-recognition/">https://theintercept.com/2019/11/26/amazon-ring-home-security-facial-recognition/</a></p>
<p>Far from keeping its customers safe, Ring exposed them to real harm, leaking their home addresses:</p>
<p><a href="https://gizmodo.com/ring-s-hidden-data-let-us-map-amazons-sprawling-home-su-1840312279">https://gizmodo.com/ring-s-hidden-data-let-us-map-amazons-sprawling-home-su-1840312279</a></p>
<p>Allowing third parties to hack their cameras, spy on them, and scream abuse at them:</p>
<p><a href="https://www.vice.com/en/article/z3bbq4/podcast-livestreams-hacked-ring-cameras-nulledcast">https://www.vice.com/en/article/z3bbq4/podcast-livestreams-hacked-ring-cameras-nulledcast</a></p>
<p>Not just hackers, either! Multiple Ring employees got caught spying on Ring owners and their families, including their children:</p>
<p><a href="https://www.vice.com/en/article/y3mdvk/ring-fired-employees-abusing-video-data">https://www.vice.com/en/article/y3mdvk/ring-fired-employees-abusing-video-data</a></p>
<p>As Maass and Guariglia point out, Ring made some improvements to user privacy over the past year, adding end-to-end encryption. But at the same time, Ring has cemented its relationship with American police forces, leading to far more police requests for Ring owners' footage.</p>
<p>These "requests" start to feel a lot more like coercion, and, as with other coercive law-enforcement requests, "like police 'asking' to search your phone during a traffic stop," they should be bound by strict limits.</p>
<p>EFF proposes four rules for coercive electronic searches:</p>
<p>I. Requests must be specific, targeting a particular time and place where there is reasonable suspicion that crime has happened (rather than general requests)</p>
<p>II. Police must collect and publish statistics about their consent searches of electronic devices, to deter and detect racial profiling</p>
<p>III. Police and reviewing courts must narrowly construe the scope of a person‚Äôs consent to search their device.</p>
<p>IV. Before an officer attempts to acquire footage from a person‚Äôs Ring camera, the officer must notify the person of their legal right to refuse.</p>
<p>The public-private surveillance partnership between Ring and the cops epitomizes the paradox of the American privacy debate.</p>
<p>When I talk to military, intelligence and government audiences about surveillance, they say, "Look, Uncle Sam already knows everything about me, but those scumbags in Silicon Valley would sell their mothers for a nickel."</p>
<p>And when I talk to tech audiences, they say, "Google just wants to show me better ads, big deal. But cops and spooks? They're the thickwitted sociopaths who were too stupid to get a job at a tech company. No <em>way</em> I want them spying on me."</p>
<p>But the reason companies like Ring are allowed to conduct such indiscriminate surveillance (a one mile walk in DC puts you under the gaze of 13 Ring cameras!) is that governments are wholly dependent on requisitioning their footage.</p>
<p>Rather than warning people about the dangers of Ring cameras ‚Äì or agitating for ordinances banning them ‚Äì cops served as street-teams marketing Ring's products. Private surveillance depends on government complicity, and spying governments depend on private surveillance.</p>
<hr>
<p><a name="retro"></a><br>
<img src="https://i0.wp.com/craphound.com/images/wayback-machine-hed-796x416.png?resize=796%2C416&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/wayback-machine-hed-796x416.png?resize=796%2C416&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>#20yrsago  P2P Goes in Search of 'Doogle' <a href="https://web.archive.org/web/20021019060759/https://www.wired.com/news/technology/0,1282,41850,00.html">https://web.archive.org/web/20021019060759/https://www.wired.com/news/technology/0,1282,41850,00.html</a></p>
<p>#15yrsago Tech ‚Ä¶</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pluralistic.net/2021/02/16/ring-ring-lapd-calling/#uber-unter">https://pluralistic.net/2021/02/16/ring-ring-lapd-calling/#uber-unter</a></em></p>]]>
            </description>
            <link>https://pluralistic.net/2021/02/16/ring-ring-lapd-calling/#uber-unter</link>
            <guid isPermaLink="false">hacker-news-small-sites-26160076</guid>
            <pubDate>Tue, 16 Feb 2021 23:17:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[An interesting issue around using is with a literal in Python]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26159559">thread link</a>) | @rbanffy
<br/>
February 16, 2021 | https://utcc.utoronto.ca/~cks/space/blog/python/PythonIsWithLiteral | <a href="https://web.archive.org/web/*/https://utcc.utoronto.ca/~cks/space/blog/python/PythonIsWithLiteral">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2>An interesting issue around using <code>is</code> with a literal in Python</h2>

	<p><small>February 12, 2021</small></p>
</div><div><p>For reasons outside of the scope of this entry, I recently installed
Ubuntu's package (for Ubuntu 20.04) of the Python <a href="https://github.com/drkjam/netaddr/">netaddr</a> on a system of ours. When I did,
I got an interesting Python warning that I hadn't seen before:</p>


<blockquote><pre>SyntaxWarning: "is not" with a literal. Did you mean "!="?
</pre>
</blockquote>

<p>I was curious enough to look up the code in question, which boils
down to something that looked like this:</p>

<blockquote><pre>def int_to_bits(int_val, word_size, num_words, word_sep=''):
    [...]
    if word_sep is not '':
        [...]
</pre>
</blockquote>

<p>(<a href="https://github.com/netaddr/netaddr/blob/master/netaddr/strategy/__init__.py#L163">The current code</a>
replaces this with a '<code>!=</code>' comparison, which is what the other
similar code in that file uses. Ubuntu being Ubuntu, they will
probably never update or fix the 20.04 'python3-netaddr' package.)</p>

<p>The intention of this code is clear; it wants to check if you supplied
your own word_sep argument. On the one hand, using '<code>is not</code>'
here is not the correct thing to do. When you use '<code>is not</code>' this way
you need to have a sentinel object, not a sentinel value, and this
code uses the value <code>''</code>, the empty string. On the other hand, this
code actually works, for at least three reasons. One of them might be
slightly surprising.</p>

<p>The first reason the code works is mechanical, because I left out
the body of the <code>if</code> and the rest of the code that actually uses
word_sep. Here is the almost full code:</p>

<blockquote><pre>if word_sep is not '':
   if not _is_str(word_sep):
       raise ValueError(...)

return word_sep.join(bit_words)
</pre>
</blockquote>

<p>So the only thing the code does differently if it thinks that it has a
non-default word_sep is check that it really is a string.  Since the
empty string passes that check, everything is fine. Given this, the <code>if</code>
isn't all that necessary; you could just as well always check to see
that word_sep is a string. However this first reason is specific
to the code itself.</p>

<p>The second and third reasons are general, and would happen regardless
of what use the code made of word_sep and what it did in the <code>if</code>.
I'll start by presenting the second reason in illustrated form:</p>

<blockquote><pre>&gt;&gt;&gt; def a(b=''):
...   return b is not ''
...
&lt;stdin&gt;:2: SyntaxWarning: "is not" with a literal. Did you mean "!="?
&gt;&gt;&gt; a()
False
&gt;&gt;&gt; a(b='')
False
</pre>
</blockquote>

<p>In CPython, a number of specific strings and other (immutable)
values are what is called <a href="https://en.wikipedia.org/wiki/String_interning">interned</a>. Regardless of
how many times they're used in different places all over your Python
code, there's only ever one instance of these values. For instance,
there is only one instance of an empty tuple, '<code>()</code>', and only one
instance of many small integers. Integers are especially useful to
illustrate this vividly, because you can manipulate current ones
to create new values:</p>

<blockquote><pre>&gt;&gt;&gt; a = 10
&gt;&gt;&gt; b = 5
&gt;&gt;&gt; c = 4
&gt;&gt;&gt; (b+c+1) is a
True
</pre>
</blockquote>

<p>If you change <code>a</code> to be 300 and <code>b</code> to be 295, this will be <code>False</code>
(as of Python 3.8.7).</p>

<p>The empty string, <code>''</code>, is one of those interned (string) values. All
copies of the empty string are the same objects, regardless of where
they come from. Because they're the same object, you can use '<code>is not</code>'
(and '<code>is</code>') to compare values to them and it will always work. This is
of course not guaranteed by the language specification or by CPython,
but it's such a fundamental optimization that it would be very unusual
if it ever stopped being the case. Still, you should use '<code>!=</code>' and not
be so tricky.</p>

<p>The third reason is best presented in illustrated form again:</p>

<blockquote><pre>&gt;&gt;&gt; def a(b=3000):
...    return b is 3000
[...]
&gt;&gt;&gt; a()
True
&gt;&gt;&gt; a(b=3000)
False
</pre>
</blockquote>

<p>This is another CPython optimization, but it's an optimization
within a single function. When CPython is generating the bytecode
for a function it's smart enough to only keep one copy of every
constant value, and this merging of constants includes the default
arguments. So within the <code>a</code> function, the integer '3000' of the
<code>b</code> default value and the integer literal '3000' from the code are
the same object and '<code>is</code>' will tell you this. However, an integer
of '3000' that comes from the outside is a different object (since
3000 is a large enough integer that Python doesn't intern it).</p>

<p>This optimization is probably going to stay in CPython, but I would
strongly suggest that you not take advantage of it in your code. Just do
as the warning says and don't use '<code>is</code>' or '<code>is not</code>' on literals. The
very slight performance improvement you might get from exploiting this
isn't worth the confusion you're going to create.</p>
</div></div>]]>
            </description>
            <link>https://utcc.utoronto.ca/~cks/space/blog/python/PythonIsWithLiteral</link>
            <guid isPermaLink="false">hacker-news-small-sites-26159559</guid>
            <pubDate>Tue, 16 Feb 2021 22:27:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Celebrating Black History: 15 Black Leaders in Tech]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26159458">thread link</a>) | @loz17smc
<br/>
February 16, 2021 | https://www.purpose.jobs/blog/celebrating-black-history-black-leaders-in-tech | <a href="https://web.archive.org/web/*/https://www.purpose.jobs/blog/celebrating-black-history-black-leaders-in-tech">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p>There are many ways to celebrate Black History Month. Learning about amazing Black figures in American history. <a href="https://www.purpose.jobs/blog/lessons-virtual-panel-diversity-inclusion?utm_source=blog&amp;utm_medium=web&amp;utm_campaign=community" rel="noopener" target="_blank"><span>Discussing solutions to problems in diversity, equity and inclusion at the office</span></a>. Reading stories written by great Black authors. The list goes on.&nbsp;</p>
<!--more-->
<p>One thing we wanted to do at Purpose Jobs was highlight the contributions Black folks have made in the tech industry. We all know the story of Steve Jobs and Bill Gates. You might know the story of Katherine Johnson if you saw the movie <em>Hidden Figures. </em>But do you know the story of Valerie Thomas? Or Mark Dean?&nbsp;</p>
<div><p>In honor of Black History Month, we‚Äôre highlighting some of the most influential Black leaders in tech from history‚Äîand a few from today. Did we miss someone? Let us know! We love learning more about tech and the people that have made the industry what it is today.&nbsp;</p></div>
<h2>15 Black Leaders in Tech You Should Know</h2>
<h3>1. Granville Woods (1856 - 1910)</h3>
<p>Born in Columbus, Ohio, Granville Woods was a great inventor, specifically known for his 15 different appliances for the electric railways. He was most known for inventing the <a href="https://www.biography.com/inventor/granville-t-woods" rel="noopener" target="_blank"><span>multiplex ‚Äúinduction telegraph,‚Äù</span></a> which allowed for voice communication through telegraph wires. The device ended up preventing many train accidents. He became known as ‚ÄúBlack Edison‚Äù because Thomas Edison tried to sue Woods after he invented the multiplex telegraph. The lawsuit failed, so Edison tried to make Woods a partner, but he refused. Woods held nearly 60 patents at the time of his death.</p>

<h3>2. Katherine Johnson (1918 - 2020)</h3>
<div><p>The accomplishments of Katherine Johnson were highlighted in the film <em>Hidden Figures</em>, but for those who don‚Äôt know, she was a pioneering Black woman in tech. She entered college when she was just 15, and at the time of graduation, her only employment options were teaching or nursing. So she worked as a teacher before she applied for a job at the Langley Research Center (which would later become part of NASA). In 1953, Johnson began working as a <span>‚Äú</span><a href="http://blackwomenincomputing.org/who-we-are/" rel="noopener" target="_blank"><span>human computer</span></a><span>‚Äù</span> and calculated the flight path for the first NASA mission to space. Her calculations were essential to the success of many early missions, like Project Mercury and Apollo 11. She also helped confirm the accuracy when machine computers were brought in. In 2015, she was awarded the Presidential Medal of Freedom by President Obama.</p></div>

<h3><br>3. Otis Boykin (1920-1982)</h3>
<p><a href="https://lemelson.mit.edu/resources/otis-boykin" rel="noopener" target="_blank"><span>Otis Boykin</span></a> was another prolific inventor, eventually holding 26 patents. After graduating from Fisk College in 1941, he began working with the Majestic Radio and TV Corporation and eventually P.J. Nilsen Research Laboratories. Among his inventions were a wire precision resistor used in televisions, radios, IBM computers, and even in military missiles. He also invented a control unit for the pacemaker. Boykin helped improve and make everyday electronics more efficient and affordable.</p>

<h3>4. Evelyn Boyd Granville (1924 - Present)</h3>
<p>In 1949, <a href="https://www.energy.gov/articles/five-fast-facts-about-evelyn-boyd-granville" rel="noopener" target="_blank"><span>Evelyn Boyd Granville</span></a> became the second African-American woman ever to earn a Ph.D. in mathematics (hers was from Yale). After working in D.C. using math to help develop missile fuses, Granville took on a role at IBM in 1956. This launched her career at NASA, since IBM was a contractor to NASA at the time. She was an instrumental part of the Project Mercury missions, designing computer software that helped analyze satellite orbits. She also worked on the Apollo program in 1962 before returning to IBM as a senior mathematician. She has had a passion for education, teaching in higher ed, elementary schools, and advocating for STEM education.</p>

<h3>5. Melba Roy Mouton (1929 - 1990)</h3>
<p>Like Katherine Johnson, Melba Roy Mouton was another great Black leader in tech for her important work as a ‚Äú<a href="http://blackwomenincomputing.org/who-we-are/" rel="noopener" target="_blank"><span>human computer</span></a>‚Äù at NASA. She eventually made her way to being Head of Computer Programming at NASA, and then took on a role as Program Production Section Chief at Goddard Space Flight Center. Her work helped produce the orbital element timetables which allowed millions to see the satellite from Earth as it passed overhead. She received an Apollo Achievement Award and an Exceptional Performance Award while at NASA.</p>
<p><img src="https://www.purpose.jobs/hs-fs/hubfs/mouton.png?width=321&amp;name=mouton.png" alt="mouton" width="321" srcset="https://www.purpose.jobs/hs-fs/hubfs/mouton.png?width=161&amp;name=mouton.png 161w, https://www.purpose.jobs/hs-fs/hubfs/mouton.png?width=321&amp;name=mouton.png 321w, https://www.purpose.jobs/hs-fs/hubfs/mouton.png?width=482&amp;name=mouton.png 482w, https://www.purpose.jobs/hs-fs/hubfs/mouton.png?width=642&amp;name=mouton.png 642w, https://www.purpose.jobs/hs-fs/hubfs/mouton.png?width=803&amp;name=mouton.png 803w, https://www.purpose.jobs/hs-fs/hubfs/mouton.png?width=963&amp;name=mouton.png 963w" sizes="(max-width: 321px) 100vw, 321px"></p>
<h3>6. Roy Clay Sr. (1929 - present)</h3>
<p>Roy Clay Sr. is often referred to as the <span>‚Äú</span><a href="https://ontechstreet.com/2015/02/roy-clay-sr-godfather-silicon-valley/" rel="noopener" target="_blank"><span>Godfather of Silicon Valley</span></a><span>.‚Äù</span> After graduating from Saint Louis University (where he was one of the first Black men to attend), he started working in computer programming. This was back in the ‚Äò50s, when computers took up an entire room. He worked on writing software that demonstrated the spread of radiation after an atomic explosion. In the ‚Äò70s, Clay worked as a computer consultant in Silicon Valley and became a key figure in the development of HP‚Äôs computer divisions. He would eventually lead the team that engineered HP‚Äôs entrance into the computer market. In 2003, he was inducted into the <a href="https://www.svec.org/hall-of-fame" rel="noopener" target="_blank"><span>Silicon Valley Engineering Council‚Äôs Hall of Fame</span></a>.&nbsp;</p>

<h3>7. Annie J Easley (1933 - 2011)</h3>
<p>Annie J Easley was another Black NASA scientist and important Black leader in tech. When she began her career, she was only one of four Black employees (out of 2,500) at the National Advisory Committee for Aeronautics (NACA), which was the precursor to NASA. She started as a human computer, but when the real machine computers came out, she dove into learning assembly language and FORTRAN. She became a computer programmer, working on a variety of projects. But her most famous work was on the <a href="https://massivesci.com/articles/annie-easley-facts-stem-mathematician-nasa-scientist-discrimination/" rel="noopener" target="_blank"><span>Centaur rocket</span></a>, a first-of-its-kind rocket that used a unique fuel system. Its legacy still endures today. She had a long career with NASA, working on extremely advanced technology while overcoming Jim Crow laws and <a href="https://massivesci.com/articles/annie-easley-facts-stem-mathematician-nasa-scientist-discrimination/" rel="noopener" target="_blank"><span>discrimination</span></a>.&nbsp;</p>

<h3>8. Frank Greene (1938-2009)</h3>
<p><a href="https://www.scu.edu/engineering/stories/celebrating-black-history-month-spotlight-on-frank-s-greene-phd-70-1938-2009.html" rel="noopener" target="_blank">Frank Greene</a> is often hailed as one of the ‚Äúfirst Black technologists.‚Äù He developed high-speed semiconductor computer-memory systems in the 1960s at Fairchild Semiconductor R&amp;D Labs. He would later go on to start two technology companies of his own. He also founded a VC firm called NewVista Capital, which focused on minority and female-led companies. His legacy as a technologist and an investor lives on today, and he‚Äôs also among 63 inductees in the Silicon Valley Engineering Council‚Äôs Hall of Fame<span>.</span></p>

<h3>9. Valerie Thomas (1943 - Present)</h3>
<div><p>Valerie Thomas had a strong interest in technology early on but didn‚Äôt receive support for it until she attended Morgan State University. She was one of only two women in her class to major in physics. She excelled at school and landed a job as a mathematical/data analyst for NASA. She worked at NASA from 1964 to 1995, conducting large-scale experiments, developing computer data systems, and most notably, spearheading the development of the first satellite to send images from space, ‚Äú<a href="https://lemelson.mit.edu/resources/valerie-thomas" rel="noopener" target="_blank"><span>Landsat</span></a>.‚Äù The technology she developed is still used by NASA today.</p></div>


<h3>10. Clarence ‚ÄúSkip‚Äù Ellis (1943 - 2014)</h3>
<p>A native of Chicago, <a href="https://cs.illinois.edu/news/memory-clarence-skip-ellis-1943-2014" rel="noopener" target="_blank"><span>Clarence ‚ÄúSkip‚Äù Ellis</span></a> was the first African-American to earn a Ph.D. in computer science (he earned this degree from University of Illinois at Urbana-Champaign in 1969). While studying, Ellis worked on hardware, software, and the development of ILLIAC IV supercomputer. He had a long career at major tech companies like Bell Telephone Laboratories, IBM, Xerox, and more. At the Palo Alto Research Center where he worked from 1976 to 1984, Ellis spearheaded a group that invented Officetalk. It was the first office system to use icons and ethernet to allow people to collaborate from a distance. Ellis was a real pioneer in this field of operational transformation (examining the functionality in collaborative systems), which is found in computer applications today like Google Docs. Does that make him the grandfather (maybe great grandfather) of remote work? Perhaps. But either way, Ellis has had a hand in shaping the technology we use today.&nbsp;</p>

<h3>11. John W. Thompson (1949 - Present)</h3>
<p>John W. Thompson has had an impressive career in tech. He began as a salesperson at IBM and climbed up in the company to become the general manager of IBM Americas. He has also served as the CEO of Virtual Instruments, CEO of Symantec, and today he serves as the <a href="https://news.microsoft.com/exec/john-w-thompson/" rel="noopener" target="_blank"><span>Chairman of Microsoft</span></a> (since 2014). He‚Äôs also made significant contributions to <a href="https://lsvp.com/team/john-w-thompson/" rel="noopener" target="_blank"><span>investing</span></a> in the next generation of tech.</p>

<h3>12. Marc Regis Hannah (1956 - present)</h3>
<p>For the graphics in <em>Jurassic Park</em>, <em>Aladdin</em>, <em>Beauty and the Beast</em>, and more, we have Chicago native <a href="https://www.thehistorymakers.org/biography/marc-hannah-41" rel="noopener" target="_blank"><span>Marc Regis Hannah</span></a> to thank. He was an electrical engineer and computer graphics designer in the ‚Äò80s and ‚Äò90s. In 1982 he co-founded Silicon Graphics, Inc., eventually becoming the company‚Äôs principal scientist. His computer graphics technology has been used in major motion films as well as commercials, the intro for Monday Night Football, and by George Lucas‚Äôs visual effects studio, Industrial Light &amp; Magic.</p>

<h3>13. Dr. Mark Dean (1957 - Present)</h3>
<p>Mark Dean is an influential Black tech leader and prominent figure in computer science. Early on he had an interest‚Äîand a gift‚Äîin technology, building his own computer, radio and amplifier when he was in high school. He began working at IBM in 1980, where he was an essential leader in developing the personal computer. He holds <a href="https://www.black-inventor.com/dr-mark-dean" rel="noopener" target="_blank"><span>3 of IBM's original 9 patents</span></a> for the PC. Beyond that, he holds a total of 20 patents. Throughout his career he has made significant contributions to IBM‚Äôs research and development. More recently, he led the team that produced the 1-Gigahertz chip. He is the first African-American to become an IBM Fellow, which represents the highest level of technical excellence.</p>



<h3>14. John Henry Thompson (1959 - Present)</h3>
<p><a href="https://www.black-inventor.com/john-thompson" rel="noopener" target="_blank"><span>John Henry Thompson</span></a> has used his background in computer science and visual arts to help bridge the early gap between technology and art. He is the inventor of Lingo, a scripting language that renders visuals in computer programs. Many programs that use graphics, animation, sound, and video for interactive simulations still use Lingo to this day. It‚Äôs also been used to create the programs that are now used in video games, web design, animation and graphics.&nbsp;</p>

<h3>15. Kimberly Bryant (1967 - Present)</h3>
<p>Kimberly ‚Ä¶</p></span></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.purpose.jobs/blog/celebrating-black-history-black-leaders-in-tech">https://www.purpose.jobs/blog/celebrating-black-history-black-leaders-in-tech</a></em></p>]]>
            </description>
            <link>https://www.purpose.jobs/blog/celebrating-black-history-black-leaders-in-tech</link>
            <guid isPermaLink="false">hacker-news-small-sites-26159458</guid>
            <pubDate>Tue, 16 Feb 2021 22:17:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Clubhouse Bio Generator]]>
            </title>
            <description>
<![CDATA[
Score 191 | Comments 70 (<a href="https://news.ycombinator.com/item?id=26159405">thread link</a>) | @ChrisArchitect
<br/>
February 16, 2021 | https://perchance.org/owh9gelu4t | <a href="https://web.archive.org/web/*/https://perchance.org/owh9gelu4t">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://perchance.org/owh9gelu4t</link>
            <guid isPermaLink="false">hacker-news-small-sites-26159405</guid>
            <pubDate>Tue, 16 Feb 2021 22:11:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My Dev Environment Setup on Apple Silicon]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26159391">thread link</a>) | @thesephist
<br/>
February 16, 2021 | https://zouhir.org/blog/my-dev-env-setup-on-apple-silicon/ | <a href="https://web.archive.org/web/*/https://zouhir.org/blog/my-dev-env-setup-on-apple-silicon/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
<p>My personal computer was a 4 year old MacBook Pro with a permanent battery service warning, a butterfly keyboard (AKA Apple‚Äôs greatest hardware design mistake), and a high chassis temperature issue when I use the <a href="https://twitter.com/_zouhir/status/1292878918677139464">left USB-C to charge it</a>, which throttled its Intel i7 CPU and spun the fan so much that it was quite noticeable ‚Äî I guess what I am trying to say here is, my personal computer was due for a replacement.</p>
<p>After weeks of research, I ended up purchasing a Mac Mini with Apple‚Äôs M1 chip and 16 GB of memory. It arrived on Dec 9th and I have been using it for about 2 months now as my daily driver and primary web development machine. In this post I will be sharing my experience migrating away from my Intel-based Mac and how I set up a clean and productive web development environment on the new Apple silicon based Macs.</p>
<p>I will start out by highlighting some of the research I did around the M1 SoC and explain a little on how Apple has managed to achieve great results emulating stronger memory models on their ARM processor, before I walk you through my web development environment setup with Homebrew, Go, Node.js, and Docker.</p>
<h2 id="researching-apple-silicon"><a href="#researching-apple-silicon">Researching Apple Silicon </a></h2><p>Apple‚Äôs ‚ÄúOne more thing‚Ä¶'' event in November brought us their M1 SoC and a handful of numbers: up to 3.5x faster CPU performance, up to 6x faster graphics, up to 2x battery life, and faster than 98 percent of PC laptops.</p>
<p>Although some people were <a href="https://www.pcworld.com/article/3596814/new-macbook-air-is-not-faster-than-98-percent-of-pc-laptops.html">skeptical about Apple‚Äôs claims</a>, there was enough third-party data soon after the announcement that confirmed Apple‚Äôs M1 chip does provide a substantial <a href="https://browser.geekbench.com/mac-benchmarks#single-core">performance increase</a>.</p>
<p>In hindsight, the performance and energy efficiency of the M1 chip should have not really been that surprising. Over two years ago, the reputable tech reviews magazine Anandtech ran the <a href="https://www.anandtech.com/show/13392/the-iphone-xs-xs-max-review-unveiling-the-silicon-secrets/4">SPEC2006 industry standard benchmark on Apple‚Äôs A12 chip</a>, and we learned that the A12 chips Apple used in their iPhone XS are capable of handling desktop workloads. They were capable of outperforming a moderately-clocked Skylake CPU in single-threaded tasks while having better energy efficiency than all Android SoCs.</p>
<p>As it became quickly evident that those who bought an M1 Mac would enjoy great responsiveness and blazing fast startup times, I shifted my attention to the main concern: <strong>the ARM architecture</strong>. I wanted to understand which Intel-based executables Rosetta 2 would <em>not</em> be able to translate? And how stable and performant were Rosetta 2 translated binaries?.</p>
<h3 id="understanding-rosetta-2-behavior-and-performance"><a href="#understanding-rosetta-2-behavior-and-performance">Understanding Rosetta 2 Behavior and Performance </a></h3><p>On the surface, nothing about Rosetta 2‚Äôs behaviour is out of the ordinary. It takes <code>x86_64</code> instructions and translates them to <code>arm64</code> instructions ahead-of-time. Once the translation process is finished, the translated <code>arm64</code> code blocks are cached so the subsequent executable launches do not need to repeat this process.</p>
<p>To get some insight on how Rosetta 2 translated executables perform compared to native <code>arm64</code> ones, Anandtech ran <a href="https://www.anandtech.com/show/16252/mac-mini-apple-m1-tested/6">various SPEC benchmarks on the M1 chip in both formats</a>. The results showed that memory-intensive <code>x86_64</code> workloads translated by Rosetta 2 consistently achieved more than 90% of the native <code>arm64</code> speed and CPU-intensive workloads performed at 70-80% of its native counterparts. Overall, these results are simply outstanding. Combined with the raw power of the M1 chip, people should, in theory, barely notice any difference using translated macOS <code>x86_64</code> applications.</p>
<p>So, we now know that Rosetta 2 translated executables performance is great in general, and specifically for memory-intensive workloads, the question becomes: <em>how is this possible</em>?</p>
<h3 id="m1s-approach-to-emulating-strongly-ordered-memory-models-on-arm"><a href="#m1s-approach-to-emulating-strongly-ordered-memory-models-on-arm">M1‚Äôs Approach To Emulating Strongly Ordered Memory Models on ARM </a></h3><p>At a fundamental level, a multi-core processor requires reads and writes to memory to be communicated between its cores in a consistent manner. Each processor architecture defines the semantics of this communication as a part of its memory consistency model (often referred to as just memory model). The ARM architecture used by the M1 SoC provides <a href="https://developer.arm.com/documentation/100941/0100/">weaker memory ordering semantics</a> than the <a href="https://software.intel.com/content/www/us/en/develop/download/intel-64-and-ia-32-architectures-sdm-volume-3a-system-programming-guide-part-1.html">x86 architecture</a> used by Intel processors. To understand the difference between the two, let‚Äôs look at the four basic types of memory reads &amp; writes orderings:</p>
<ul>
<li>Write ‚Üí Read: write must complete before subsequent read</li>
<li>Read ‚Üí Read: read must complete before subsequent read</li>
<li>Read ‚Üí Write: read must complete before subsequent write</li>
<li>Write ‚Üí Write: write must complete before subsequent write</li>
</ul>
<p>Strongest memory model (known as Sequential consistency) maintains all orderings above, and ensures any change is communicated before the next instruction is run. This intuitive, sequential execution of instruction is bad for performance, and defeats the purpose of having multiple cores that can run things on parallel. Weaker consistency models allow some orderings to be violated, enabling the processors to overlap memory access with other operations. The table below captures which reoderings ARM‚Äôs ‚Äúweaker‚Äù memory model and the ‚Äústronger‚Äù X86 one allow.</p>
<div>
<table>
<thead>
<tr>
<th>Type</th>
<th>ARM</th>
<th>X86</th>
</tr>
</thead>
<tbody>
<tr>
<td>Writes can be reordered after reads</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>Reads can be reordered after reads</td>
<td>Yes</td>
<td>-</td>
</tr>
<tr>
<td>Reads can be reordered after writes</td>
<td>Yes</td>
<td>-</td>
</tr>
<tr>
<td>Writes can be reordered after writes</td>
<td>Yes</td>
<td>-</td>
</tr>
</tbody>
</table>
<p>
source <a href="https://en.wikipedia.org/wiki/Memory_ordering#Runtime_memory_ordering" target="_blank">Wikipedia</a>
</p>
</div>
<p>As you can see, ARM chose to adopt a memory model that allows any of the four basic memory operations to be reordered as a way to beat sequential consistency and make a wide range of hardware optimizations possible. x86 on the other hand chose to preserve orderings for the most parts, and adopt an on-core <a href="https://en.wikipedia.org/wiki/Write_buffer"><em>write buffers</em></a> as a way to beat sequential consistency and hide memory writes latency. x86‚Äôs behavior is often referred to as <em>Total Store Ordering</em> (or TSO) where write operations are placed on the local write buffer, and subsequent read instructions can be executed before that write changes are communicated.</p>
<p>When compiling binaries for ARM or x86 architectures, we are basically informing our software what are all the reorderings allowed by the target architecture that it needs to account for to ensure correctness.</p>
<p>Typically, this makes it extremely difficult to emulate x86 correctly on ARM without introducing a significant performance disadvantage caused by the ARM processor trying to explicitly guarantee the orderings x86 executables expect. While there aren‚Äôt any official details available publicly on how Apple has managed to overcome this hurdle, a plausible explanation is that it‚Äôs been solved at the hardware level, and the M1 chip is capable of switching between ARM‚Äôs memory model and the x86 TSO.</p>
<p>Further readings on the topic:</p>
<ul>
<li><a href="https://patents.google.com/patent/WO2012101538A1/en">Emulation of strongly ordered memory models on Google Patents</a></li>
<li><a href="https://github.com/saagarjha/TSOEnabler">Kernel extension that enables TSO for Apple silicon processes on GitHub</a></li>
<li>Social media summaries: <a href="https://www.reddit.com/r/hardware/comments/i0mido/apple_silicon_has_a_runtime_toggle_for_tso_to/">Reddit</a>, <a href="https://news.ycombinator.com/item?id=14318877">HN</a> and <a href="https://twitter.com/jckarter/status/1332045390057639939">Twitter</a></li>
</ul>
<h3 id="what-are-rosettas-limitations"><a href="#what-are-rosettas-limitations">What are Rosetta‚Äôs limitations? </a></h3><p>In an <a href="https://developer.apple.com/documentation/apple_silicon/about_the_rosetta_translation_environment">official documentation page</a>, Apple stated that Rosetta 2 can translate most Intel-based apps, including the ones that contain just-in-time (JIT) compilers. The two exception are:</p>
<ul>
<li>Kernel extensions</li>
<li>Virtual Machine apps that virtualize x86_64 computer platforms</li>
</ul>
<p>Catalina is the last version of macOS that supports third-party kernel extensions. Without these, developers are now limited to the collection of APIs and frameworks that macOS officially provides and supports. In turn, this means that Mac developers‚Äô freedom and creativity are limited with BigSur ‚Äì but that‚Äôs a topic for another day.</p>
<p>The lack of support for virtual machines was a big concern. It meant I wouldn‚Äôt be able to run <code>x86_64</code> Docker because it runs virtual machines under the hood. Luckily there was a path forward, as Docker was able to shift to Apple‚Äôs new hypervisor framework and provide <code>arm64</code> binaries. Today, <a href="https://docs.docker.com/docker-for-mac/apple-m1/">Docker supports M1 chips natively</a>.</p>
<h3 id="decision-day"><a href="#decision-day">Decision Day </a></h3><p>Fascinated and feeling good about the M1‚Äôs performance and Rosetta 2 efficiency, I decided it was safe to buy a M1 Mac Mini and give it my own series of real-world tests. And I figured that if it did not meet my expectations or needs, I could take advantage of Apple‚Äôs return policy, or hang onto it as a secondary computer or as a media server. (Spoiler: It‚Äôs neither!)</p>
<h2 id="installing-rosetta-2"><a href="#installing-rosetta-2">Installing Rosetta 2 </a></h2><p>To make the process of setting up a new Mac less cumbersome and repetitive, I -like many others- have a shell script to configure new installations of macOS, copy my dotfiles and install some of the necessary tools via Homebrew.</p>
<p>If this ‚Äúsetup my new macOS‚Äù shell script is being executed on an Apple silicon based Mac, one of the first things we need to do is to check for an existing installation of Rosetta 2, and if one was not found, we should go ahead and install it.</p>
<h3 id="detecting-the-processors-architecture"><a href="#detecting-the-processors-architecture">Detecting the processor‚Äôs architecture </a></h3><p>We can use the <code>uname</code> utility to get details about the processor‚Äôs architecture (e.g. arm, i386, i686, arm, etc), the machine‚Äôs hardware class (e.g. arm64, x86_64, etc) as well as various other characteristics of our system.</p>
<div><pre><code data-lang="shell"><span>#!/bin/bash
</span><span></span>
<span>PROC_ARCH</span><span>=</span><span>"</span><span>$(</span>uname -m<span>)</span><span>"</span>

<span>if</span> <span>[</span> <span>"</span><span>${</span><span>PROC_ARCH</span><span>}</span><span>"</span> <span>=</span> <span>"x86_64"</span> <span>]</span><span>;</span> <span>then</span>
  <span>echo</span> <span>"Intel-based mac with x86_64 architecture or Rosetta2 translated process"</span>
<span>elif</span> <span>[</span> <span>"</span><span>${</span><span>PROC_ARCH</span><span>}</span><span>"</span> <span>=</span> <span>"arm64"</span> <span>]</span><span>;</span> <span>then</span>
  <span>echo</span> <span>"Apple silicon mac with arm64 architecture"</span>
<span>else</span>
  <span>echo</span> <span>"Unknown architecture: </span><span>${</span><span>PROC_ARCH</span><span>}</span><span>"</span>
<span>fi</span>
</code></pre></div><h3 id="perform-a-non-interactive-installation-of-rosetta-2"><a href="#perform-a-non-interactive-installation-of-rosetta-2">Perform a non-interactive installation of Rosetta 2 </a></h3><p>If the processor‚Äôs architecture was <code>arm64</code> and no existing installation of Rosetta2 has already been found, the setup script should install Rosetta2 non-interactively.</p>
<div><pre><code data-lang="shell"><span>#!/bin/bash
</span><span></span>
<span># credit: https://github.com/rtrouton/rtrouton_scripts/blob/master/rtrouton_scripts/install_rosetta_on_apple_silicon/install_rosetta_on_apple_silicon.sh</span>

<span>PROC_ARCH</span><span>=</span><span>"</span><span>$(</span>uname -m<span>)</span><span>"</span>

<span>if</span> <span>[</span> <span>"</span><span>${</span><span>PROC_ARCH</span><span>}</span><span>"</span> <span>=</span> <span>"arm64"</span> <span>]</span><span>;</span> <span>then</span>
  <span># Check Rosetta LaunchDaemon. If it was not found</span>
  <span># perform a non-interactive installation of Rosetta.</span>
  <span>if</span> <span>[[</span> ! -f <span>"/Library/Apple/System/Library/LaunchDaemons/com.apple.oahd.plist"</span> <span>]]</span><span>;</span> <span>then</span>
    /usr/sbin/softwareupdate --install-rosetta --agree-to-license
    <span>if</span> <span>[[</span> <span>$?</span> -eq <span>0</span> <span>]]</span><span>;</span> <span>then</span>
      <span>echo</span> <span>"Rosetta2 has been successfully installed."</span>
    <span>else</span>
      <span>echo</span> <span>"Rosetta2 installation failed!"</span>
    <span>fi</span>
  <span>else</span>
    <span>echo</span> <span>"Rosetta2 is already ‚Ä¶</span></code></pre></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://zouhir.org/blog/my-dev-env-setup-on-apple-silicon/">https://zouhir.org/blog/my-dev-env-setup-on-apple-silicon/</a></em></p>]]>
            </description>
            <link>https://zouhir.org/blog/my-dev-env-setup-on-apple-silicon/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26159391</guid>
            <pubDate>Tue, 16 Feb 2021 22:10:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[‚ÄúI Was Addicted to Meth When I Was Diagnosed with ADHD‚Äù]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26159208">thread link</a>) | @shankarro
<br/>
February 16, 2021 | https://adhdrollercoaster.org/essays/i-was-addicted-to-meth-when-i-was-diagnosed-with-adhd/ | <a href="https://web.archive.org/web/*/https://adhdrollercoaster.org/essays/i-was-addicted-to-meth-when-i-was-diagnosed-with-adhd/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-5005" itemtype="https://schema.org/CreativeWork" itemscope="itemscope">

	<!-- Google Tag Manager (noscript) -->

<!-- End Google Tag Manager (noscript) -->
	
<div>

	
	<!-- .entry-header -->

	
	<div itemprop="text">

		
		<p><img src="https://adhdrollercoaster.org/wp-content/uploads/2015/07/Its-so-sad-to-me-that-there-is-such-a2.png" alt="ADHD and meth" width="634" height="360" srcset="https://adhdrollercoaster.org/wp-content/uploads/2015/07/Its-so-sad-to-me-that-there-is-such-a2.png 634w, https://adhdrollercoaster.org/wp-content/uploads/2015/07/Its-so-sad-to-me-that-there-is-such-a2-150x85.png 150w, https://adhdrollercoaster.org/wp-content/uploads/2015/07/Its-so-sad-to-me-that-there-is-such-a2-442x251.png 442w" sizes="(max-width: 634px) 100vw, 634px" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20634%20360'%3E%3C/svg%3E" data-lazy-srcset="https://adhdrollercoaster.org/wp-content/uploads/2015/07/Its-so-sad-to-me-that-there-is-such-a2.png 634w, https://adhdrollercoaster.org/wp-content/uploads/2015/07/Its-so-sad-to-me-that-there-is-such-a2-150x85.png 150w, https://adhdrollercoaster.org/wp-content/uploads/2015/07/Its-so-sad-to-me-that-there-is-such-a2-442x251.png 442w" data-lazy-src="https://adhdrollercoaster.org/wp-content/uploads/2015/07/Its-so-sad-to-me-that-there-is-such-a2.png"></p>

<p>A woman I‚Äôd met at a conference wrote to me: ‚ÄúI was addicted to meth for 5 years until I was diagnosed with ADHD.‚Äù</p>
<p>Katherine did not set out to abuse a street drug. Like many others with unrecognized or poorly managed ADHD and other psychiatric conditions, she faced a ‚ÄúPerfect Storm‚Äù of circumstances‚Äîand made a ‚Äúreally bad choice.‚Äù</p>
<p>She continues with her story, below. First, consider research: <a href="https://health.ucdavis.edu/health-news/newsroom/mind-institute-researchers-study-adhd-and-methamphetamine-addiction/2012/09" target="_blank" rel="noopener noreferrer">MIND Institute researchers study ADHD and methamphetamine addiction. </a>MIND Institute research Catherine Fassbender explains:</p>
<p>‚ÄúMethamphetamine abusers with ADHD often say that abusing methamphetamine helps calm them down and helps them to maintain focus.</p>
<p>This may be a reinforcing factor in their continuing to abuse meth. Of course, there is a very big difference between taking prescription medication and substance abuse.‚Äù</p>
<p>Let‚Äôs continue with Katherine‚Äôs real-life experience.</p>
<h2><span data-reactid=".td.$mid=11434138433742=2b3d26f0dd58430fe53.2:0.0.0.0.0"><span data-reactid=".td.$mid=11434138433742=2b3d26f0dd58430fe53.2:0.0.0.0.0.0">‚ÄúI Was a Mess of a Drug Addict‚Äù</span></span></h2>
<p><span data-reactid=".td.$mid=11434138433742=2b3d26f0dd58430fe53.2:0.0.0.0.0"><span data-reactid=".td.$mid=11434138433742=2b3d26f0dd58430fe53.2:0.0.0.0.0.0">First off, I had already been a fan of yours for a few years and after reading your first blog post about <a href="https://adhdrollercoaster.org/the-basics/adhd-dna-and-predicting-medication-response-introduction/" target="_blank" rel="noopener noreferrer">DNA and ADHD meds</a>, I‚Äôm an even bigger fan. </span></span></p>
<p><span data-reactid=".td.$mid=11434138433742=2b3d26f0dd58430fe53.2:0.0.0.0.0"><span data-reactid=".td.$mid=11434138433742=2b3d26f0dd58430fe53.2:0.0.0.0.0.0">I‚Äôm not sure if you remember me but I met you at the CHADD convention in DC in 2013. </span></span></p>
<p><span data-reactid=".td.$mid=11434138433742=2b3d26f0dd58430fe53.2:0.0.0.0.0"><span data-reactid=".td.$mid=11434138433742=2b3d26f0dd58430fe53.2:0.0.0.0.0.0">I was the mess of a drug addict who walked in 45 minutes late, in tears, and I was desperate for help. You were one of the people who helped me that day, and I‚Äôm grateful for you taking the time to speak to me. </span></span></p>
<p><span data-reactid=".td.$mid=11434138433742=2b3d26f0dd58430fe53.2:0.0.0.0.0"><span data-reactid=".td.$mid=11434138433742=2b3d26f0dd58430fe53.2:0.0.0.0.0.0">I was addicted to meth for 5 years until 2009, when I was diagnosed with ADHD and my psychiatrist put me on Vyvanse. I easily stayed sober for 4.5 years and built a successful career in real estate. At some point before I relapsed, the Vyvanse stopped working. I had no idea until it was too late. </span></span></p>
<p><span data-reactid=".td.$mid=11434138433742=2b3d26f0dd58430fe53.2:0.0.0.0.0"><span data-reactid=".td.$mid=11434138433742=2b3d26f0dd58430fe53.2:0.0.0.0.0.0">My guess is it lost its effectiveness during the last half of 2012. </span></span></p>
<p><span data-reactid=".td.$mid=11434138433742=2b3d26f0dd58430fe53.2:0.0.0.0.0"><span data-reactid=".td.$mid=11434138433742=2b3d26f0dd58430fe53.2:0.0.0.0.0.0">I wasn‚Äôt able to focus at work. My relationships were more messed up than before. My apartment was a wreck. And my whole world felt like a bottomless pit. March 2013 I was hanging out with someone I shouldn‚Äôt have. Meth was in front of me and I made a really bad choice when I did it. </span></span></p>
<p><span data-reactid=".td.$mid=11434138433742=2b3d26f0dd58430fe53.2:0.0.0.0.0"><span data-reactid=".td.$mid=11434138433742=2b3d26f0dd58430fe53.2:0.0.0.0.0.0">It was a perfect storm for me to relapse, and I stayed addicted until I finally went to rehab on Nov 15th, 2014 until Jan 12th. </span></span></p>
<p><span data-reactid=".td.$mid=11434138433742=2b3d26f0dd58430fe53.2:0.0.0.0.0"><span data-reactid=".td.$mid=11434138433742=2b3d26f0dd58430fe53.2:0.0.0.0.0.0">My psychologist there told me that my case opened her eyes to the huge impact ADHD has on addiction and she encouraged me to use my experience to help others. She wants to collaborate with me on a plan to do so.</span></span></p>
<p><img src="https://adhdrollercoaster.org/wp-content/uploads/2015/07/addict.png" alt="" width="500" height="300" srcset="https://adhdrollercoaster.org/wp-content/uploads/2015/07/addict.png 500w, https://adhdrollercoaster.org/wp-content/uploads/2015/07/addict-266x160.png 266w" sizes="(max-width: 500px) 100vw, 500px" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20500%20300'%3E%3C/svg%3E" data-lazy-srcset="https://adhdrollercoaster.org/wp-content/uploads/2015/07/addict.png 500w, https://adhdrollercoaster.org/wp-content/uploads/2015/07/addict-266x160.png 266w" data-lazy-src="https://adhdrollercoaster.org/wp-content/uploads/2015/07/addict.png"></p>
<h2>‚ÄúEach Week I Make More and More Progress‚Äù</h2>
<p><span data-reactid=".td.$mid=11434138433742=2b3d26f0dd58430fe53.2:0.0.0.0.0"><span data-reactid=".td.$mid=11434138433742=2b3d26f0dd58430fe53.2:0.0.0.0.0.0">I‚Äôm still working on getting my career back to the level it was before my relapse. Each week I make more and more progress. I‚Äôve even gotten to the point where I‚Äôve shared my truth with a few people who I thought I‚Äôd never be able to tell due to our business relationship. The response I‚Äôve gotten from all of them has been supportive and understanding. </span></span></p>
<p><span data-reactid=".td.$mid=11434138433742=2b3d26f0dd58430fe53.2:0.0.0.0.0"><span data-reactid=".td.$mid=11434138433742=2b3d26f0dd58430fe53.2:0.0.0.0.0.0">It‚Äôs so sad to me that there is such a huge disconnect between addiction treatment and mental health, specifically ADHD.&nbsp; It‚Äôs even more disheartening that people are living their whole lives in misery not knowing it really can be better. </span></span></p>
<p><span data-reactid=".td.$mid=11434138433742=2b3d26f0dd58430fe53.2:0.0.0.0.0"><span data-reactid=".td.$mid=11434138433742=2b3d26f0dd58430fe53.2:0.0.0.0.0.0">I plan to attend the CHADD convention in New Orleans in November and I‚Äôm curious, will you be there?</span></span></p>
<p><em>‚ÄîKatherine (posted with permission)</em></p>
<p><strong>Dear Katherine,</strong></p>
<p><strong>Of course, I remember you and am so pleased to know that I was helpful‚Äîand that you continue to make progress.</strong></p>
<p><strong>Yes, I will be speaking at the CHADD conference in New Orleans. On Saturday at 10:30 am.&nbsp; I hope to see you there!</strong></p>
<p><strong>Gina</strong></p>


		
		
			</div><!-- .entry-content .clear -->
</div>

	
</article></div>]]>
            </description>
            <link>https://adhdrollercoaster.org/essays/i-was-addicted-to-meth-when-i-was-diagnosed-with-adhd/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26159208</guid>
            <pubDate>Tue, 16 Feb 2021 21:47:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why does this site look so crappy?]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26158951">thread link</a>) | @tweetle_beetle
<br/>
February 16, 2021 | http://keyhut.com/crappy.htm | <a href="https://web.archive.org/web/*/http://keyhut.com/crappy.htm">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div width="700"><tbody><tr><td>


Lately I have been getting several emails and there have been postings around the web about the quality / coolness of this site. Mostly comments like, "His POS software is really good, just try to ignore the way his site looks.", "Once you get past the '90's look of his site...", "Just disregard the way the site looks, this is really functional software.", "If your site looks that bad your software must really suck."  And there have been several offers to take the maintenance of this site out of my pathetic hands by folks who like the software but think I have the site design skills of a mushroom.<p>
Piles of thanks for the feedback.</p><p>
So why does this site look like this?</p><hr>
<b>Answer #1</b><p>
Well, I like it.</p><hr>
<b>Answer #2</b><p>
It makes everyone else's site look so much better in comparison. Think of this site as a public service.</p><hr>
<b>Answer #3</b><p>
It isn't that bad, most of the words are spelled correctly. (How many sites can say that?)</p><hr>
<b>Answer #4</b><p>
This is an eye test to see if I can make you go blind.
</p><hr>
<b>Answer #5</b><p>
The real reason. Folks, I am doing the best I can.</p><p>
First realize that I am old. When I was in grade school / high school there were NO COMPUTERS IN THE SCHOOL because outside of main frame computers that cost millions of dollars, computers did not exist. Even pocket calculators did not exist. This made computer classes sort of problematical. (However I used to be a wizard with a slide rule.) So while you have had the advantages of computer classes in school and a bunch of friends to trade computer tips with, I have not. Half of my friends cannot even use a computer which makes them sort of useless when it comes to having a nice chat about HTML or Java. Needless to say I have no teachers, instructors, or professors to help guide my hand to learn this stuff.</p><p>
When I need a new talent (such as HTML) I have to research it on the net, get some books, and then shove myself into a cave until I get the concept, barely. Although if the idea of "learning through your mistakes" is correct then I should know everything because not only do I have the capability of screwing up every possible feature but I can also screw up each feature in every possible way.</p><hr>
So why do I not just stick with it until I actually learn it completely?<br>
 Well unlike some out there who get Christmas, spring, and summer vacations and weekends off, and can study this stuff during class, I have a 6 day a week job, 50 weeks a year. I have a family that I occasionally like to see. I am also writing the software, updating the manual, doing my incompetent best to update the site, and I sometimes sleep. At last count there was still only one of me. So since my computer time is limited I have two choices, either learn more about website design or add more features to the software. My guess is that adding more to the software would be a better use of my time for everyone.<hr>
So why not hire a professional service to maintain the website?<br>
Let me once again explain the concept of "FREE." Free means that you do not pay anything for my software. This means that there is no money coming in to pay for a professional service to maintain the website. I imagine that I could pay for a service out of my pocket for this but that is insane. Free is bad enough but I am not going to pay to provide folks with my software for nothing.<hr>
But if I have a slick site wouldn't that lead to more downloads of my software?<br>
Well, yes, but so what? Remember that FREE thing? An additional billion downloads would not put a dime in my pocket. As of 1-19-17 I have had 800,000 downloads of the POS program from just my site. How many more do I need? Just more people to complain about the website.<hr>
So how about having one of those volunteers do the site.<br>
Well there are two reasons. First I would lose control of the site. Sure, it would look great but I would not understand the code needed to create the site. If I needed to make a change in the site (which happens about weekly) I would have to dig up the volunteer to make the changes. For the volunteer this could quickly become a pain in the neck. Sure it would be fun to redesign this site and show off what you can do but then to have to update it every damn week would rapidly become a chore.<p>
So the volunteer quits, now what? I need to update the website for a new version of the program and I can't even change a period to a comma in this mess. Time to revert to my code that I at least can understand. I may as well just leave it as it is.</p><p>
Sorry.</p><p>

But if you have a better idea or just want to be the next person to bitch about this site <a href="mailto:daleharris@prodigy.net">daleharris@prodigy.net</a>

</p><hr>
Here is another comment from <a href="http://smallbusinessonlinecommunity.bankofamerica.com/message/71459"> http://smallbusinessonlinecommunity.bankofamerica.com/message/71459 </a><p>
If you want a totally free POS system that is very easy to use, accepts bar code scanners, various printers and does nearly everything and very easy to set up and use, then try Cash Register By Dale Harris. <span color="red">I looked at the website and thought it looked a piece of junk being a small program and the tacky look of the website, but the free software works excellently and so easy to use.</span> Its not Excel is the only problem I see for you. It actually runs in Msdos , but will run from your windows main screen. Take a look it, it costs nothing though he does offer a donation if the person likes it, but you don‚Äôt have to pay anything. I tried many free POS programs which had too many features for a small retail business, but this is so easy even the sales girl.
only took 30 minutes to understand it.

</p><hr>
This email was received from Daniel K. on Sun, 23 Aug 2009...<p>

<span color="red">"Also, Did you know your website Sucks?"</span></p><p>

Ah yes, another appreciative fan.
</p><hr>
From <a href="http://www.technibble.com/forums/showthread.php?p=82311#post82311"> http://www.technibble.com/forums/showthread.php?p=82311#post82311</a><p>

I've been using the first one in that list for the last few years. DHPOS doesn't do customer tracking, but its a reasonable system. There's good support for it via forums and online chat, and it is regularly updated with bug fixes and new features. <span color="red">Don't get turned off by the ugly website or the DOS interface, it works well.</span>

</p><hr>
From <a href="http://www.ukbusinessforums.co.uk/forums/showthread.php?t=94741"> http://www.ukbusinessforums.co.uk/forums/showthread.php?t=94741</a><p>
<span color="red">dhpos dot com . It's free and actually rather good despite the terrible website.</span>

</p><hr>
Now they are even picking on the program itself. I have a "form" on my page that asks folks how they found my software and here is one I just received, "Google search pos system free download in Malaysia..do u have any
<span color="red">pos system interface more nicer?</span>






</td></tr></tbody></div></div>]]>
            </description>
            <link>http://keyhut.com/crappy.htm</link>
            <guid isPermaLink="false">hacker-news-small-sites-26158951</guid>
            <pubDate>Tue, 16 Feb 2021 21:21:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Bug on Aurora PostgreSQL 12 causes Autovacuum to hang forever]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26158808">thread link</a>) | @craigkerstiens
<br/>
February 16, 2021 | https://www.migops.com/blog/2021/02/15/a-bug-on-aurora-postgresql-12-causes-autovacuum-to-hang-forever/ | <a href="https://web.archive.org/web/*/https://www.migops.com/blog/2021/02/15/a-bug-on-aurora-postgresql-12-causes-autovacuum-to-hang-forever/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.migops.com/blog/2021/02/15/a-bug-on-aurora-postgresql-12-causes-autovacuum-to-hang-forever/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26158808</guid>
            <pubDate>Tue, 16 Feb 2021 21:05:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Lessons learned from a 27 years old Unix book]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26158607">thread link</a>) | @todsacerdoti
<br/>
February 16, 2021 | https://www.linux.it/~ema/posts/porsche-book/ | <a href="https://web.archive.org/web/*/https://www.linux.it/~ema/posts/porsche-book/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>One of the Amazon reviewers of "Sun Performance and Tuning: Java and the
Internet" gave it 3/5 stars. While still a nice introduction, the book by
Adrian Cockcroft has become dated‚Äâ‚Äî‚Äâclaimed Roland in 2003, which believe it
or not was 18 years ago. The book Roland reviewed was published in 1998, and it
is a second edition. The first edition (1994) has a significantly different
title: "<a href="https://archive.org/details/sunperformancetu00cock_0">Sparc &amp; Solaris</a>",
is the focus instead of "Java and the Internet". Other than reflecting a major
shift in Sun‚Äôs focus happened between '94, and '98, the two editions also have
a different price tag. "Java and the Internet" costs 15.97 EUR, while one can
get "Sparc &amp; Solaris" used in allegedly <strong>Very Good</strong> conditions for 1.94.  If
I‚Äôm buying an outdated book I‚Äôm gonna get the most outdated version possible, I
figured, plus imagine the embarrassment if someone would find a book about Java
in my bookshelf. Shipping is 3 bucks, for a grand total of 4.94 EUR the book is
in my hands 15 days after placing the order.</p>
<div>
<p><img src="https://images-na.ssl-images-amazon.com/images/I/51PSF9CDRYL.jpg" alt="51PSF9CDRYL">
</p>
</div>
<p>"The Porsche Book" is quick to explain the analogy between UNIX and the Porsche
911 featured on the cover: both were created in the '60s, in a form similar to
the current one. Both represent the latest and greatest of products still around
in 1994, and indeed 2021, despite their quirks.</p>
<p>A valid question at this point clearly is: why do you care about a book
published 30 years ago when there‚Äôs so much recent and surely more useful
material? One reason is that I find the history of Sun Microsystems
particularly interesting.  I‚Äôve read and very much enjoyed
<a href="https://archive.org/details/highnoon00kare">High Noon</a> as well as
<a href="https://archive.org/details/sunburstascentof00hall">Sunburst</a>‚Äâ‚Äî‚Äâdealing with
recent history there‚Äôs the privilege of having plenty of primary sources
readily available, which is great. When it comes to the Porsche book, I find it
fascinating to read about the most common usage scenarios of Sun servers in the
'90s, and I can‚Äôt help but feel sorry for the admin who didn‚Äôt know that for
SunOS 4, only filenames up to 14 characters long are cached in the Directory
Name Lookup Cache (DNLC). In this article, however, I want to focus on the
information contained in the book which is still valid today.  In a world that
moves as quickly as the world of computing, you could argue that all books are
outdated to begin with. If some of the information in "Sun Performance and
Tuning" was valid in 1994 and is still valid in 2021, there‚Äôs a good chance
that it will still be valid 30 years from now.</p>
<p>It seems to me that we can categorize tech knowledge as follows: theoretical
knowledge, generic practical information, and implementation details. Of the
three, theoretical knowledge is the most likely to stay relevant with time,
followed by generic practical information which might still apply some years
later, and finally implementation details which are very likely to become
irrelevant as time goes by. Those details are far from being useless however:
in fact they provide the distinction between novice and experienced
practitioner. To give an example: the chapter about Networks opens with a
description of the built-in <strong>le</strong> network interface, pointing out that it shared
its DMA connection with the SCSI interface. Crucially, the network interface had
higher priority: heavy network activity was likely to reduce disk throughput. In
1994 you would have needed to see multiple workstations with bad disk
performance before concluding that network traffic had anything to do with it‚Äâ‚Äî‚Äâor read the book.</p>
<p>But what is the content that stood the test of time?</p>
<div>
<h2 id="_configuration_factors_and_levels">Configuration Factors and Levels</h2>
<div>
<p>When performing a set of tests, there are multiple settings and knobs one can
work with, each having various options to choose from. Which filesystem are we
using?  What‚Äôs the version of the application we‚Äôre testing? Kernel buffer
size?</p>
<table>
<tbody><tr><td><b>Factor</b></td><td><b>Level</b></td></tr>
<tr><td>Filesystem type</td><td>ext4, xfs, btrfs,...</td></tr>
<tr><td>OS version</td><td>5.10.16, 5.11, ...</td></tr>
<tr><td>vm.dirty_ratio kernel setting</td><td>20, 40, 60, ...</td></tr>
</tbody></table>
<p>To measure every combination of 6 different factors with 4 levels each would
take 4^6 = 4096 measurements, which clearly is madness. By reducing the levels
we consider to 2, still evaluating all 6 different factors in all possible
combination, we get down to 2^6 = 64 measurements instead.</p>
</div>
</div>
<div>
<h2 id="_throughput_response_time_utilization">Throughput, Response Time, Utilization</h2>
<div>
<p><strong>Throughput</strong>‚Äâ‚Äî‚Äâthe amount of work performed in a given amount of time‚Äâ‚Äî‚Äâwas a
thing in the '60s, it‚Äôs the same thing today, and it will still be <strong>work/time</strong>
in 2050. Your web server might have a maximum throughput of 10000 requests per
second (rps), that‚Äôs something you can use to compare it with another one.
<strong>Response time</strong> (latency) is defined as the amount of time the user has to
wait.  For example, how long did a given database transaction take.
<strong>Utilization</strong> is how much of the computer‚Äôs resources were used to do the work.
The values reported by <code>sar</code> and <code>iostat</code>, two tools very much still in use
today, are an example of Utilization measures.</p>
<p>The author suggests taking multiple <code>sar</code> Utilization measurements at various
load levels and combine them with <code>awk</code> to get an overview of how the system
behaves. We do have <a href="https://prometheus.io/">Prometheus</a>,
<a href="https://grafana.com/">Grafana</a>, and friends nowadays, but the <code>sar | awk</code> idea
is a useful reminder that quick, simple measurements can go a long way too!</p>
</div>
</div>
<div>
<h2 id="_vmstat_sar_and_iostat_rules">vmstat, sar and iostat Rules</h2>
<div>
<p><code>vmstat</code> and <code>sar</code> are described in detail, with a focus on runnable queue,
blocked queue, swap usage, and so forth. The Linux versions of <code>vmstat</code> and
<code>sar</code> from <a href="https://gitlab.com/procps-ng/procps">procps</a> and
<a href="http://sebastien.godard.pagesperso-orange.fr/">sysstat</a> are a bit different than
the Solaris ones, but the main ideas still apply.</p>
<p>The three commands are also used in the <strong>Rules and Tunables Quick Reference
Tables</strong> section. For each subsystem (Disk, Network, Memory, CPU), the author
specified a list of Rules involving the commands and the action to take if the
rule applies. Rules consist in the name of the command with any options, then a
"." followed by the name of the variable to take into account. For example, the
following indicates a disk bottleneck: <code>35%  &lt; iostat-D30.util &lt; 65%</code>. The
action to take is to try balance the I/O load on other disks too, or get more
disks.</p>
<p>A contemporary version of those rules for Linux would be great to have.</p>
</div>
</div>
<div>
<h2 id="_interrupt_distribution_tuning">Interrupt Distribution Tuning</h2>
<div>
<p>Interrupts in Solaris 2.2 were load-balanced among all available CPUs. The
drawback was that, in case of heavy interrupt load from a given device, cache
hit rate would suffer: the OS allowed to statically assign IRQs to CPUs as an
improvement instead.</p>
<p>Nowadays a very similar problem occurs with the <code>irqbalance</code> daemon on Linux,
which on systems doing lots of network activity should not be used. SMP
affinity should instead be configured to ensure the interrupts of multiqueue
network cards are statically mapped among CPUs.</p>
<p>There‚Äôs more information in "Sun Performance and Tuning" that can still provide
valuable lessons today, as well as some true historical gems for those into
such things. Go <a href="https://archive.org/details/sunperformancetu00cock_0">check it
out</a> on the Internet Archive if you‚Äôre interested!</p>
</div>
</div>


</div></div>]]>
            </description>
            <link>https://www.linux.it/~ema/posts/porsche-book/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26158607</guid>
            <pubDate>Tue, 16 Feb 2021 20:47:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[tru.ID announce ¬£3M seed round to reimagine mobile authentication]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26158402">thread link</a>) | @leggetter
<br/>
February 16, 2021 | https://tru.id/blog/announcing-our-seed-round | <a href="https://web.archive.org/web/*/https://tru.id/blog/announcing-our-seed-round">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><article><div><div><div><p><time itemprop="datePublished" datetime="2/16/2021" title="Tue, Feb 16, 2021">Tue, Feb 16, 2021<!-- --> (<!-- -->2 days ago<!-- -->)</time></p><div><ul><li><div><ul><li><span title="Paul McGuire"><p>PM</p></span></li><li><div><p>Paul McGuire</p><p>Co-founder, CEO at tru.ID</p></div></li></ul></div></li></ul></div></div></div></div><p><span><p>Most of us spend the majority of our professional lives (perhaps all of our lives) struggling to learn, grow, and support our families, without really making much of a difference to the world. But very occasionally, an opportunity comes along that can change everything; that can improve people‚Äôs quality of life, unlock economic potential, solve issues of social inclusion, strengthen privacy ‚Äì an opportunity to really change the world. </p><p>We believe that tru.ID has that potential. Our technology can finally replace passwords, provide the foundation for a digital identity for billions of people, solve the growing issues around online fraud and personal data leakage, and increase economic efficiency on a truly global scale.</p><p>We raised our <a href="https://f.hubspotusercontent20.net/hubfs/8403675/PDF/tru.ID%20-%20Funding%20PR%20-%20(2021-02-16).pdf" title="¬£3m seed round in mid-2020">¬£3m seed round in mid-2020</a> from investors who shared this vision. We are delighted to announce that the round was led by <strong>Episode 1</strong> together with <strong>MMC Ventures</strong> and <strong>NHN Ventures</strong>, and supported by <strong>Tony Jamous</strong>, <strong>Trevor Healy</strong>, <strong>Chris Mairs</strong> and <strong>Brightway Futures LP</strong>. </p><p>As a founding team, we have experienced the growth of the mobile industry, having founded mBlox, Boku and Nexmo ‚Äì leading companies in the space ‚Äì and have helped to deliver billions of SMS messages.  But we have also learned first-hand the drawbacks and inefficiencies of trying to use legacy authentication solutions in an increasingly mobile world.  It is time for the next evolution and we believe tru.ID is uniquely qualified to make it happen. We aim to help the industry take a leap into the 21st century by delivering the mobile-first identity solution that the world really needs.</p><p>We are excited to be starting out on this journey.  We are thankful for our team, early adopters, and investors for the help and support on the journey so far.  We look forward to bringing you along on this journey with us!</p><p>Paul and Eric</p><h2>Try us, follow us, join us</h2><ul><li>If you‚Äôd like to see our products in action, <p>schedule a demo now</p> or <p>sign up</p> to start testing and integrating our APIs</li><li>If you‚Äôre interested in finding out more, follow us on <a href="https://www.linkedin.com/company/tru-id-hq">LinkedIn</a> and <a href="https://twitter.com/_tru_id">Twitter</a></li><li>And if you‚Äôd like to <a href="https://tru.id/careers">join the team</a>, we‚Äôd love to hear from you.</li></ul></span></p></article></div></div></div>]]>
            </description>
            <link>https://tru.id/blog/announcing-our-seed-round</link>
            <guid isPermaLink="false">hacker-news-small-sites-26158402</guid>
            <pubDate>Tue, 16 Feb 2021 20:29:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Big Dummy's Guide to the Internet Edition 1.1 (1993)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26158366">thread link</a>) | @nickt
<br/>
February 16, 2021 | http://www.lysator.liu.se/etexts/iguide/ | <a href="https://web.archive.org/web/*/http://www.lysator.liu.se/etexts/iguide/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://www.lysator.liu.se/etexts/iguide/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26158366</guid>
            <pubDate>Tue, 16 Feb 2021 20:26:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ghostwriter: A cross-platform Markdown editor (using QT5)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26157767">thread link</a>) | @ducktective
<br/>
February 16, 2021 | https://wereturtle.github.io/ghostwriter/ | <a href="https://web.archive.org/web/*/https://wereturtle.github.io/ghostwriter/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p><img width="50%" height="50%" src="https://wereturtle.github.io/ghostwriter/images/logo.png" alt="ghostwriter"></p>
        
        <p>Stylish. Open source. Free.</p>
      </div><div>
          <div>
            <h2>Live HTML Preview</h2>
            <p>Preview your Markdown document in HTML.  With the live preview, you can copy the HTML to paste into your blog, or export to another format.  You can even set your own custom style sheet to see how your document will appear once it is posted on your website.</p>
            <p>The live preview is optimized for large documents, so you can work carefree without worrying about the application freezing while you type.</p>
          </div>
          <p><a href="https://wereturtle.github.io/ghostwriter/images/html-preview.png">
              <img data-holder-rendered="true" src="https://wereturtle.github.io/ghostwriter/images/html-preview-thumbnail.png">
            </a>
          </p>
        </div><div>
          <div>
            <h2>Export to Multiple Formats</h2>
            <p>Use the built-in processor, Sundown, to export to HTML.  Alternatively, install any of the following to export to multiple formats in your preferred Markdown flavor:</p>

            <ul>
              <li>Pandoc</li>
              <li>MultiMarkdown</li>
              <li>cmark</li>
            </ul>

            <p><i>ghostwriter</i> will automatically detect their installation, allowing you to export to HTML, Word, ODT, PDF, and more!</p>
          </div>
          <p><a href="https://wereturtle.github.io/ghostwriter/images/export.png">
              <img data-holder-rendered="true" src="https://wereturtle.github.io/ghostwriter/images/export-thumbnail.png">
            </a>
          </p>
        </div></div>]]>
            </description>
            <link>https://wereturtle.github.io/ghostwriter/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26157767</guid>
            <pubDate>Tue, 16 Feb 2021 19:32:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rogramming rules to develop secure applications with Rust. Anssi Guidelines [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26157652">thread link</a>) | @based2
<br/>
February 16, 2021 | https://www.ssi.gouv.fr/uploads/2020/06/anssi-guide-programming_rules_to_develop_secure_applications_with_rust-v1.0.pdf | <a href="https://web.archive.org/web/*/https://www.ssi.gouv.fr/uploads/2020/06/anssi-guide-programming_rules_to_develop_secure_applications_with_rust-v1.0.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.ssi.gouv.fr/uploads/2020/06/anssi-guide-programming_rules_to_develop_secure_applications_with_rust-v1.0.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-26157652</guid>
            <pubDate>Tue, 16 Feb 2021 19:19:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Embed a JavaScript website inside a binary with Go 1.16]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26157483">thread link</a>) | @lawrjone
<br/>
February 16, 2021 | https://blog.lawrencejones.dev/golang-embed/ | <a href="https://web.archive.org/web/*/https://blog.lawrencejones.dev/golang-embed/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
    <p>Amongst all the news- both positive and grumbling- around the <a href="https://news.ycombinator.com/item?id=26093778">Golang generics
proposal</a>, you may have missed
the announcement of <a href="https://github.com/golang/go/issues/41191">native file
embedding</a> coming in Go 1.16
(February 2021).</p>

<p>Go programs have always been easy to distribute, with great cross-platform
compilation and default static binaries. But if you had files you wanted to
bundle with your app, well, things get a bit harder.</p>

<p>With the new <code>embed</code> directive, including files becomes easy. And it opens the
door for some really great UX improvements!</p>



<p>I have a long-running side-project called
<a href="https://github.com/lawrencejones/pgsink">pgsink</a> which aims to be a lightweight
alternative to tools like <a href="https://debezium.io/">debezium</a>. In short, you
connect pgsink to a Postgres database and tell it to sync various tables into
the configured sink (at release, this will be Google BigQuery).</p>

<p>Aiming for ease-of-use, I wanted to provide a lightweight UI to expose table
sync status and allow toggling each table. This meant applying my shockingly
out-of-date Javascript knowledge to a modern toolchain (üò±), but more crucially,
it makes app distribution harder.</p>

<figure>
  <img src="https://blog.lawrencejones.dev/assets/images/golang-embed-screen-capture.gif" alt="Screen capture of the pgsink web UI">
  <figcaption>
    pgsink web UI, accessed by port-forwarding to the binary
  </figcaption>
</figure>

<p>Now we have web assets, we need to ship them with our app. We could put
everything in a Dockerfile, but not everyone runs docker- and any standalone
binaries won‚Äôt have a working website. pgsink is meant to be super easy-to-use,
so adding an install step that configures web assets was also‚Ä¶ yuck.</p>

<p>Screw this, I want to keep my single binary. Let‚Äôs see how <code>embed</code> makes this
possible.</p>



<p>First, project structure: pgsink has a Golang app at root, with
<code>cmd/pgsink/main.go</code> as the binary entrypoint (what you‚Äôll pass to <code>go build
cmd/pgsink/main.go</code>). The Javascript app (created using create-react-app) live
in <code>web</code>, and will generate build assets into <code>web/build</code>.</p>

<p>Shown as a tree, it looks like this:</p>

<div><div><pre><code>pgsink
‚îú‚îÄ‚îÄ cmd
‚îÇ   ‚îî‚îÄ‚îÄ pgsink
‚îÇ       ‚îî‚îÄ‚îÄ cmd        &lt;&lt; Golang binary entrypoint
‚îî‚îÄ‚îÄ web
    ‚îú‚îÄ‚îÄ build          &lt;&lt; production Javascript assets
    ‚îÇ   ‚îî‚îÄ‚îÄ static
    ‚îÇ       ‚îú‚îÄ‚îÄ css
    ‚îÇ       ‚îî‚îÄ‚îÄ js
    ‚îú‚îÄ‚îÄ public
    ‚îî‚îÄ‚îÄ src
        ‚îî‚îÄ‚îÄ components
</code></pre></div></div>



<p>First, we need to embed the assets. Remember this will work only work with Go &gt;= 1.16,
which isn‚Äôt released yet. I‚Äôm using the release candidate for now: run <code>go get
golang.org/dl/go1.16beta1</code> if you want to follow along.</p>

<p>We‚Äôll create a Golang file for the sole purpose of loading our build assets in
<code>web/build.go</code>:</p>

<div><div><pre><code><span>// web/build.go</span>
<span>package</span> <span>web</span>

<span>import</span> <span>(</span>
  <span>"embed"</span>
<span>)</span>

<span>//go:embed build/*</span>
<span>var</span> <span>Assets</span> <span>embed</span><span>.</span><span>FS</span>
</code></pre></div></div>

<p>That‚Äôs all we need to embed the assets into the binary.</p>

<p>Simple, right? To explain: <code>embed</code> is a new package coming in Go 1.16 which
helps you work with embedded content. You can find the full documentation at
<a href="https://tip.golang.org/pkg/embed/">pkg/embed</a>, but as a brief explanation:</p>

<ul>
  <li>The <code>go:embed</code> directive asks to load all files within the build directory
(relative to the Go source file) into <code>Assets</code></li>
  <li>An <code>embed.FS</code> is a read-only collection of files, providing methods that
emulate a real filesystem</li>
  <li>It implements the <code>fs.FS</code> interface, which allows you to use <code>embed.FS</code>
alongside other stdlib constructs that are adapted for the upcoming filesystem
consolidation (see <a href="https://go.googlesource.com/proposal/+/master/design/draft-iofs.md">File System Interfaces for
Go</a>)</li>
</ul>



<p>Now we have the website stored in <code>web.Assets</code>, we need to write a
<code>http.Handler</code> that can serve them.</p>

<p>The handler needs to:</p>

<ul>
  <li>Accept requests at <code>/web/file/name</code> and return the contents of
<code>web/build/file/name</code></li>
  <li>As the Javascript app handles routing, requests to non-website assets should
be served the root <code>index.html</code> (allowing the JS to take over)</li>
</ul>

<p>In code, this looks like:</p>

<div><div><pre><code><span>// web/build.go</span>
<span>// Continuing from previous example...</span>

<span>// fsFunc is short-hand for constructing a http.FileSystem</span>
<span>// implementation</span>
<span>type</span> <span>fsFunc</span> <span>func</span><span>(</span><span>name</span> <span>string</span><span>)</span> <span>(</span><span>fs</span><span>.</span><span>File</span><span>,</span> <span>error</span><span>)</span>

<span>func</span> <span>(</span><span>f</span> <span>fsFunc</span><span>)</span> <span>Open</span><span>(</span><span>name</span> <span>string</span><span>)</span> <span>(</span><span>fs</span><span>.</span><span>File</span><span>,</span> <span>error</span><span>)</span> <span>{</span>
        <span>return</span> <span>f</span><span>(</span><span>name</span><span>)</span>
<span>}</span>

<span>// AssetHandler returns an http.Handler that will serve files from</span>
<span>// the Assets embed.FS.  When locating a file, it will strip the given</span>
<span>// prefix from the request and prepend the root to the filesystem</span>
<span>// lookup: typical prefix might be /web/, and root would be build.</span>
<span>func</span> <span>AssetHandler</span><span>(</span><span>prefix</span><span>,</span> <span>root</span> <span>string</span><span>)</span> <span>http</span><span>.</span><span>Handler</span> <span>{</span>
        <span>handler</span> <span>:=</span> <span>fsFunc</span><span>(</span><span>func</span><span>(</span><span>name</span> <span>string</span><span>)</span> <span>(</span><span>fs</span><span>.</span><span>File</span><span>,</span> <span>error</span><span>)</span> <span>{</span>
                <span>assetPath</span> <span>:=</span> <span>path</span><span>.</span><span>Join</span><span>(</span><span>root</span><span>,</span> <span>name</span><span>)</span>

                <span>// If we can't find the asset, return the default index.html</span>
                <span>// content</span>
                <span>f</span><span>,</span> <span>err</span> <span>:=</span> <span>Assets</span><span>.</span><span>Open</span><span>(</span><span>assetPath</span><span>)</span>
                <span>if</span> <span>os</span><span>.</span><span>IsNotExist</span><span>(</span><span>err</span><span>)</span> <span>{</span>
                        <span>return</span> <span>Assets</span><span>.</span><span>Open</span><span>(</span><span>"build/index.html"</span><span>)</span>
                <span>}</span>

                <span>// Otherwise assume this is a legitimate request routed</span>
                <span>// correctly</span>
                <span>return</span> <span>f</span><span>,</span> <span>err</span>
        <span>})</span>

        <span>return</span> <span>http</span><span>.</span><span>StripPrefix</span><span>(</span><span>prefix</span><span>,</span> <span>http</span><span>.</span><span>FileServer</span><span>(</span><span>http</span><span>.</span><span>FS</span><span>(</span><span>handler</span><span>)))</span>
<span>}</span>
</code></pre></div></div>

<p>Picking this apart:</p>

<ul>
  <li>We wrap the embedded filesystem so that requests to open file <code>name</code> are
prefixed with our root, which is the <code>build</code> directory</li>
  <li>Not-found errors suggest we‚Äôre seeing a request for a Javascript internal
route, so serve the <code>index.html</code></li>
  <li>Wrap the <code>http.Handler</code> to strip the <code>/web/</code> prefix from our file reads</li>
</ul>

<p>To serve requests from this handler, we can add it to whatever <code>mux</code> is routing
our server:</p>

<div><div><pre><code><span>// Strip /web/ and prepend build, so that a file `a/b.js` would be</span>
<span>// found in web/build/a/b.js, but served from localhost:8080/web/a/b.js.</span>
<span>handler</span> <span>:=</span> <span>web</span><span>.</span><span>AssetHandler</span><span>(</span><span>"/web/"</span><span>,</span> <span>"build"</span><span>)</span>

<span>mux</span><span>.</span><span>Handle</span><span>(</span><span>"GET"</span><span>,</span> <span>"/web/"</span><span>,</span> <span>handler</span><span>.</span><span>ServeHTTP</span><span>)</span>
<span>mux</span><span>.</span><span>Handle</span><span>(</span><span>"GET"</span><span>,</span> <span>"/web/*filepath"</span><span>,</span> <span>handler</span><span>.</span><span>ServeHTTP</span><span>)</span>
</code></pre></div></div>

<p>The compiled binary can now serve the site without touching the filesystem:</p>

<div><div><pre><code>$ pgsink serve
...
component=http event=listen address=localhost:8080
component=http request_id=D6ZD7V1f event=http_request http_method=GET
    http_path=/web/ http_status=200 http_bytes=2992 http_duration=0.005253945
component=http request_id=h3Imq0Dl event=http_request http_method=GET
    http_path=/web/static/css/2.8938a2ac.chunk.css http_status=200 http_bytes=154146 http_duration=0.000736358
component=http request_id=WczI7yhi event=http_request http_method=GET
    http_path=/web/static/css/main.44817166.chunk.css http_status=200 http_bytes=141 http_duration=2.8524e-05
</code></pre></div></div>



<p>For fast CI builds, you want to separate the building of Javascript assets from
your Golang toolchain. Producing a release binary will need to combine the two,
so we need to adjust our CI pipeline to account for this.</p>

<p>This project uses CircleCI, and separates the build into many different stages.
Relevant to us is <code>web-build</code>, which builds the web assets, and the <code>release</code>
step which compiles the final binary and creates a Github release.</p>

<p>Assuming familiarity with the CircleCI config file, we adjust <code>web-build</code> to
pass assets into the <code>release</code> step, and make <code>web-build</code> an input to release:</p>

<div><div><pre><code><span># .circleci/config.yml</span>
<span>---</span>
<span>workflows</span><span>:</span>
  <span>version</span><span>:</span> <span>2</span>
  <span>build-integration</span><span>:</span>
    <span>jobs</span><span>:</span>
      <span>-</span> <span>unit-integration</span>
      <span>-</span> <span>web-build</span>
      <span>-</span> <span>release</span><span>:</span>                    <span># create a Github release</span>
          <span>requires</span><span>:</span>
            <span>-</span> <span>unit-integration</span>      <span># require passing tests</span>
            <span>-</span> <span>web-build</span>             <span># require web assets to build</span>
          <span>filters</span><span>:</span>
            <span>branches</span><span>:</span> <span>{</span><span>only</span><span>:</span> <span>master</span><span>}</span>

<span>jobs</span><span>:</span>
  <span>web-build</span><span>:</span>
    <span>docker</span><span>:</span>
      <span>-</span> <span>*docker_javascript</span>
    <span>working_directory</span><span>:</span> <span>/app</span>
    <span>steps</span><span>:</span>
      <span>-</span> <span>checkout</span>
      <span>-</span> <span>run</span><span>:</span> <span>'</span><span>cd</span><span> </span><span>web</span><span> </span><span>&amp;&amp;</span><span> </span><span>yarn</span><span> </span><span>build'</span>
      <span># Provide the build assets for later pipeline steps</span>
      <span>-</span> <span>persist_to_workspace</span><span>:</span>
          <span>root</span><span>:</span> <span>.</span>
          <span>paths</span><span>:</span>
            <span>-</span> <span>web/build</span>
  <span>release</span><span>:</span>
    <span>docker</span><span>:</span>
      <span>-</span> <span>*docker_golang</span>
    <span>working_directory</span><span>:</span> <span>/app</span>
    <span>steps</span><span>:</span>
      <span>-</span> <span>checkout</span>
      <span># Attach web assets back into web/build</span>
      <span>-</span> <span>attach_workspace</span><span>:</span>
          <span>at</span><span>:</span> <span>.</span>
      <span>-</span> <span>run</span><span>:</span>
          <span>name</span><span>:</span> <span>Release</span>
          <span>command</span><span>:</span> <span>goreleaser</span>
</code></pre></div></div>

<p>This configuration allows <code>release</code> to use what <code>web-build</code> produces, without
bundling the Javascript toolchain alongside the Golang docker image.</p>

<figure>
  <img src="https://blog.lawrencejones.dev/assets/images/golang-embed-circleci-pipeline.png" alt="Build that produced https://github.com/lawrencejones/pgsink/releases/tag/v0.6.0">
  <figcaption>
    Build that produced <a href="https://github.com/lawrencejones/pgsink/releases/tag/v0.6.0">https://github.com/lawrencejones/pgsink/releases/tag/v0.6.0</a>
  </figcaption>
</figure>



<p>This is just one way the <code>embed</code> directive can really improve the experience
around distributing Golang apps. It won‚Äôt always be a good idea- bundling a
500MB Javascript app would have different trade-offs!- but it‚Äôs awesome that Go
gives you the choice.</p>

<p>See the PR that introduced this functionality at
<a href="https://github.com/lawrencejones/pgsink/pull/185">pgsink/pull/185</a>. The PR has
a few details I excluded from the post snippets for clarity, such as checking
the build assets are around before producing a release.</p>

<p>I‚Äôm excited to see how people use <code>embed</code> to improve their apps. If you have any
cool ideas, I‚Äôd love to hear them! <a href="https://twitter.com/lawrjones">@lawrjones</a></p>


    
    <p>
      <em>
        Discuss this post on
        <a target="_blank" href="https://news.ycombinator.com/item?id=26157483">Hackernews</a>.
      </em>
    </p>
    
  </section></div>]]>
            </description>
            <link>https://blog.lawrencejones.dev/golang-embed/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26157483</guid>
            <pubDate>Tue, 16 Feb 2021 19:04:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Simtel.net MS-DOS Collection]]>
            </title>
            <description>
<![CDATA[
Score 119 | Comments 36 (<a href="https://news.ycombinator.com/item?id=26157165">thread link</a>) | @todsacerdoti
<br/>
February 16, 2021 | http://www.lanet.lv/simtel.net/msdos/index-msdos.html | <a href="https://web.archive.org/web/*/http://www.lanet.lv/simtel.net/msdos/index-msdos.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p><table>
<tbody><tr><th></th><th><a name="0"> - 0 - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/00_info.html">00_info</a></b></td><td>Simtel.Net MS-DOS documentation, indexes</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/00_start.html">00_start</a></b></td><td>Essential info and utilities for beginners</td></tr>
<tr><th></th><th><a name="4"> - 4 - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/4dos.html">4dos</a></b></td><td>4DOS shell - replacement for COMMAND.COM</td></tr>
<tr><th></th><th><a name="A"> - A - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/ada.html">ada</a></b></td><td>Ada programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/ai.html">ai</a></b></td><td>Artificial Intelligence programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/animate.html">animate</a></b></td><td>Animation programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/apl.html">apl</a></b></td><td>The APL mathematics programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/arcers.html">arcers</a></b></td><td>Archiving and compressing programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/arcutils.html">arcutils</a></b></td><td>Utilities for using archives</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/asm_mag.html">asm_mag</a></b></td><td>The Assembly Language 'magazine'</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/asmutl.html">asmutl</a></b></td><td>Assembly language utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/astronmy.html">astronmy</a></b></td><td>Astronomical programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/autocad.html">autocad</a></b></td><td>Programs for Auto-CAD</td></tr>
<tr><th></th><th><a name="B"> - B - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/basic.html">basic</a></b></td><td>BASIC programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/batchutl.html">batchutl</a></b></td><td>Batch utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/bbs.html">bbs</a></b></td><td>BBS systems and support programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/bbsdoors.html">bbsdoors</a></b></td><td>BBS 'door' interfaces</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/bbslists.html">bbslists</a></b></td><td>BBS lists</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/bible.html">bible</a></b></td><td>Bible and searching tools</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/binaryed.html">binaryed</a></b></td><td>Binary file editors</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/biology.html">biology</a></b></td><td>Biology programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/bootutil.html">bootutil</a></b></td><td>Controlling the booting process</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/borland.html">borland</a></b></td><td>Borland product support</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/business.html">business</a></b></td><td>Business-related Programs</td></tr>
<tr><th></th><th><a name="C"> - C - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/c.html">c</a></b></td><td>C programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/cad.html">cad</a></b></td><td>Computer Aided Design</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/calculte.html">calculte</a></b></td><td>Calculators for math, finance, etc.</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/catalog.html">catalog</a></b></td><td>Disk catalog utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/cdrom.html">cdrom</a></b></td><td>CD-ROM utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/chemstry.html">chemstry</a></b></td><td>Chemistry programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/clipper.html">clipper</a></b></td><td>Clipper programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/clocks.html">clocks</a></b></td><td>Computer time utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/commprog.html">commprog</a></b></td><td>Terminal and file transfer programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/compress.html">compress</a></b></td><td>Compression utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/cpluspls.html">cpluspls</a></b></td><td>C++ programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/crossasm.html">crossasm</a></b></td><td>Cross-Assemblers</td></tr>
<tr><th></th><th><a name="D"> - D - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/database.html">database</a></b></td><td>Databases and programs to create them</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/dayo.html">dayo</a></b></td><td>DAYO business and accounting software</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/decode.html">decode</a></b></td><td>Encode/decode binary files to/from text</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/deskaces.html">deskaces</a></b></td><td>Handy Desk-Top utilities and programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/deskpub.html">deskpub</a></b></td><td>Desktop publishing</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/desqview.html">desqview</a></b></td><td>DESQview utilities and programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/dirutl.html">dirutl</a></b></td><td>Directory utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/disasm.html">disasm</a></b></td><td>Disassemblers: Convert executables to ASM</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/diskutil.html">diskutil</a></b></td><td>Disk utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/dv_x.html">dv_x</a></b></td><td>Programs and utilities for DESQview-X</td></tr>
<tr><th></th><th><a name="E"> - E - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/editor.html">editor</a></b></td><td>Text editors</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/educate.html">educate</a></b></td><td>Programs for education</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/eel.html">eel</a></b></td><td>Epsilon editor EEL extensions</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/electrcl.html">electrcl</a></b></td><td>Electrical engineering programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/emulate.html">emulate</a></b></td><td>Emulators</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/engin.html">engin</a></b></td><td>Engineering Programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/envutil.html">envutil</a></b></td><td>Manipulating environment variables</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/execomp.html">execomp</a></b></td><td>Compress EXE and COM files to save disk space</td></tr>
<tr><th></th><th><a name="F"> - F - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/fileutil.html">fileutil</a></b></td><td>File management and conversion utils</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/finance.html">finance</a></b></td><td>Financial software</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/flowchrt.html">flowchrt</a></b></td><td>Flowchart Generators</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/foods.html">foods</a></b></td><td>Food recipes</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/forms.html">forms</a></b></td><td>Form Generators and Forms Entry Programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/forth.html">forth</a></b></td><td>Forth programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/fortran.html">fortran</a></b></td><td>FORTRAN programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/fossil.html">fossil</a></b></td><td>FOSSIL drivers and utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/freemacs.html">freemacs</a></b></td><td>Emacs-like editor (small)</td></tr>
<tr><th></th><th><a name="G"> - G - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/genealgy.html">genealgy</a></b></td><td>Genealogy programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/geogrphy.html">geogrphy</a></b></td><td>Geography programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/geology.html">geology</a></b></td><td>Geology programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/gif.html">gif</a></b></td><td>Programs to make/view/print/convert GIF files</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/graph.html">graph</a></b></td><td>Graphing programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/graphics.html">graphics</a></b></td><td>Graphics programs</td></tr>
<tr><th></th><th><a name="H"> - H - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/hamradio.html">hamradio</a></b></td><td>Ham Radio programs and information</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/handicap.html">handicap</a></b></td><td>Programs for the handicapped</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/health.html">health</a></b></td><td>Health, Fitness, and Medical</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/html.html">html</a></b></td><td>HTML Tools</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/hypertxt.html">hypertxt</a></b></td><td>Hyper-Text files and programs</td></tr>
<tr><th></th><th><a name="I"> - I - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/imail.html">imail</a></b></td><td>IMAIL FidoNet echomail processor</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/info.html">info</a></b></td><td>Information and documentation files</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/install.html">install</a></b></td><td>Program installation utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/internet.html">internet</a></b></td><td>Programs and utils for use on the Internet</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/io_utils.html">io_utils</a></b></td><td>I/O Utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/irit.html">irit</a></b></td><td>Polygonal solid modeler &amp; C++ source</td></tr>
<tr><th></th><th><a name="K"> - K - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/keyboard.html">keyboard</a></b></td><td>Keyboard utilities</td></tr>
<tr><th></th><th><a name="L"> - L - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/lan.html">lan</a></b></td><td>Programs for use on Local Area Networks</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/langtutr.html">langtutr</a></b></td><td>Tutorials on foreign languages</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/laser.html">laser</a></b></td><td>Laser printer utilities and fonts</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/legal.html">legal</a></b></td><td>Law-related programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/lingstcs.html">lingstcs</a></b></td><td>Linguistics</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/literatr.html">literatr</a></b></td><td>Teach/learn literature</td></tr>
<tr><th></th><th><a name="M"> - M - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/mailnews.html">mailnews</a></b></td><td>E-mail and Usenet News programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/mapping.html">mapping</a></b></td><td>Map programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/math.html">math</a></b></td><td>Mathematics programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/mcintosh.html">mcintosh</a></b></td><td>Convert Macintosh files to DOS format</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/memutil.html">memutil</a></b></td><td>Computer memory info and management utils</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/menu.html">menu</a></b></td><td>Creating and using menus</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/microsft.html">microsft</a></b></td><td>Microsoft product support</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/misclang.html">misclang</a></b></td><td>Misc. program languages</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/mmedia.html">mmedia</a></b></td><td>Multimedia Programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/mormon.html">mormon</a></b></td><td>The Book of Mormon</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/mouse.html">mouse</a></b></td><td>Utilities for the mouse</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/music.html">music</a></b></td><td>Programs for writing and playing music</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/muslum.html">muslum</a></b></td><td>The Holy Book of Muslum</td></tr>
<tr><th></th><th><a name="N"> - N - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/naplps.html">naplps</a></b></td><td>NAPLPS drawing program</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/ncsatlnt.html">ncsatlnt</a></b></td><td>NCSA Telnet TCP/IP package</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/nettamer.html">nettamer</a></b></td><td>Net-Tamer DOS PPP dial up access program</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/network.html">network</a></b></td><td>Utilities for computer networks</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/neurlnet.html">neurlnet</a></b></td><td>Neural Networks</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/nfs.html">nfs</a></b></td><td>Network File System utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/notabene.html">notabene</a></b></td><td>Notabene word processor utils</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/novell.html">novell</a></b></td><td>Novell LAN utilities</td></tr>
<tr><th></th><th><a name="P"> - P - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/packet.html">packet</a></b></td><td>Programs for Packet Radio</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/pascal.html">pascal</a></b></td><td>Pascal programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/pcboard.html">pcboard</a></b></td><td>PC Board BBS software</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/pcmag.html">pcmag</a></b></td><td>'PC Magazine' listings and utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/pctech.html">pctech</a></b></td><td>'PC Tech Journal' listings and utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/perl.html">perl</a></b></td><td>Perl programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/pgmtips.html">pgmtips</a></b></td><td>Programming Tips &amp; Tricks Magazine</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/pgmutl.html">pgmutl</a></b></td><td>Programming utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/pktdrvr.html">pktdrvr</a></b></td><td>TCP/IP/IPX/ODI packet drivers</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/plot.html">plot</a></b></td><td>Programs for plotters</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/postscrp.html">postscrp</a></b></td><td>PostScript view/print utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/printer.html">printer</a></b></td><td>Printer utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/progjorn.html">progjorn</a></b></td><td>Programmers Journal</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/projmgmt.html">projmgmt</a></b></td><td>Project Management programs</td></tr>
<tr><th></th><th><a name="Q"> - Q - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/qbasic.html">qbasic</a></b></td><td>Quick BASIC and QBasic programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/qmodem.html">qmodem</a></b></td><td>Qmodem comm program &amp; utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/qtrdeck.html">qtrdeck</a></b></td><td>Quarterdeck utilities and technical notes</td></tr>
<tr><th></th><th><a name="R"> - R - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/ramdisk.html">ramdisk</a></b></td><td>Memory resident disks</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/rbbs.html">rbbs</a></b></td><td>RBBS-PC BBS and support utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/recreatn.html">recreatn</a></b></td><td>Recreation and passtime-related programs</td></tr>
<tr><th></th><th><a name="S"> - S - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/satelite.html">satelite</a></b></td><td>Communication satellite programs and listings</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/schedule.html">schedule</a></b></td><td>Schedule automatic program runs (like cron)</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/science.html">science</a></b></td><td>Miscellaneous science related material</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/screen.html">screen</a></b></td><td>Video screen utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/security.html">security</a></b></td><td>Improve computer security</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/semware.html">semware</a></b></td><td>SemWare editors, utilities and support files</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/simulatn.html">simulatn</a></b></td><td>Simulation programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/sound.html">sound</a></b></td><td>Computer sound programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/sports.html">sports</a></b></td><td>Sports programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/spredsht.html">spredsht</a></b></td><td>Spreadsheet programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/statstcs.html">statstcs</a></b></td><td>Statistics programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/surfmodl.html">surfmodl</a></b></td><td>Surface modeling programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/swap.html">swap</a></b></td><td>Free working memory by swaping to high mem</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/sysinfo.html">sysinfo</a></b></td><td>Computer system information display programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/sysutl.html">sysutl</a></b></td><td>System utilities</td></tr>
<tr><th></th><th><a name="T"> - T - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/tcpip.html">tcpip</a></b></td><td>TCP/IP programs (ka9q, etc.)</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/teaching.html">teaching</a></b></td><td>Programs to assist teachers</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/telegard.html">telegard</a></b></td><td>Telegard BBS program &amp; utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/telix.html">telix</a></b></td><td>Telix communications program</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/termnate.html">termnate</a></b></td><td>Terminate Terminal/Communications program</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/tex.html">tex</a></b></td><td>TeX type setting program</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/tiff.html">tiff</a></b></td><td>TIFF graphics format programs and information</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/torah.html">torah</a></b></td><td>Torah-related programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/travel.html">travel</a></b></td><td>Travel planning and information</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/tsrutil.html">tsrutil</a></b></td><td>Terminate and stay resident utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/turbo_c.html">turbo_c</a></b></td><td>Borland Turbo C programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/turbobas.html">turbobas</a></b></td><td>Borland's Turbo Basic programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/turbopas.html">turbopas</a></b></td><td>Borland Turbo Pascal programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/turbovis.html">turbovis</a></b></td><td>Turbo Vision programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/txtutl.html">txtutl</a></b></td><td>Text utilities</td></tr>
<tr><th></th><th><a name="U"> - U - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/ubasic.html">ubasic</a></b></td><td>UBASIC: Ultra high-precision BASIC for math</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/uemacs.html">uemacs</a></b></td><td>MicroEmacs text editor</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/uucp.html">uucp</a></b></td><td>Unix to Unix Copy for MS-DOS</td></tr>
<tr><th></th><th><a name="V"> - V - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/vga.html">vga</a></b></td><td>VGA monitor utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/virus.html">virus</a></b></td><td>Virus detection and removal programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/visbasic.html">visbasic</a></b></td><td>Visual Basic programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/viscii.html">viscii</a></b></td><td>Vietnamese character programs</td></tr>
<tr><th></th><th><a name="W"> - W - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/waffle.html">waffle</a></b></td><td>Waffle bulletin board system</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/weather.html">weather</a></b></td><td>Weather forecasting</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/wordperf.html">wordperf</a></b></td><td>WordPerfect word processing</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/worldmap.html">worldmap</a></b></td><td>A digitized map of the world</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/wwiv.html">wwiv</a></b></td><td>WWIV BBS</td></tr>
<tr><th></th><th><a name="X"> - X - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/x_10.html">x_10</a></b></td><td>X-10 Powerhouse computer programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/xwindows.html">xwindows</a></b></td><td>X Windows Server and Support Programs</td></tr>
<tr><th></th><th><a name="Z"> - Z - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/zmodem.html">zmodem</a></b></td><td>Zmodem file transfer protocol</td></tr>
</tbody></table></p></div>]]>
            </description>
            <link>http://www.lanet.lv/simtel.net/msdos/index-msdos.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26157165</guid>
            <pubDate>Tue, 16 Feb 2021 18:36:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[NY Court holds that Citibank is not entitled to its money back]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26156916">thread link</a>) | @jacksonkmarley
<br/>
February 16, 2021 | https://assets.bwbx.io/documents/users/iqjWHBFdfxIU/rrBrQQPB7_i8/v0 | <a href="https://web.archive.org/web/*/https://assets.bwbx.io/documents/users/iqjWHBFdfxIU/rrBrQQPB7_i8/v0">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://assets.bwbx.io/documents/users/iqjWHBFdfxIU/rrBrQQPB7_i8/v0</link>
            <guid isPermaLink="false">hacker-news-small-sites-26156916</guid>
            <pubDate>Tue, 16 Feb 2021 18:14:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Unix is not an acceptable Unix (2015)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26156886">thread link</a>) | @maple3142
<br/>
February 16, 2021 | http://mkremins.github.io/blog/unix-not-acceptable-unix/ | <a href="https://web.archive.org/web/*/http://mkremins.github.io/blog/unix-not-acceptable-unix/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <article>
        
        <div><p>The Unix command line is full of surprises. For instance: did you know that the OS X version of the <code>ls</code> tool, most frequently used to get a list of the files in the current working directory, recognizes no fewer than <a href="https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man1/ls.1.html">38 different flags</a>?</p>

<p>I didn‚Äôt, so I <a href="https://twitter.com/maxkreminski/status/585843964260941824">tweeted</a> about it. I got a couple of replies, <a href="https://twitter.com/rtraschke/status/585933203183165441">one of which</a> got me wondering: was Unix itself really to blame?</p>

<blockquote lang="en"><p lang="en" dir="ltr"><a href="https://twitter.com/msimoni">@msimoni</a> <a href="https://twitter.com/maxkreminski">@maxkreminski</a> Unfortunately, the lineage is _not_ Unix -&gt; Linux. It is Unix -&gt; Plan 9. Linux doesn't follow Unix philosophy :-(</p>‚Äî Robby Raschke (@rtraschke) <a href="https://twitter.com/rtraschke/status/585933203183165441">April 8, 2015</a></blockquote>


<p>As far as I know, neither Linux nor OS X was designed with close adherence to the <a href="http://en.wikipedia.org/wiki/Unix_philosophy">Unix philosophy</a> in mind. It‚Äôd be disingenuous of me to base a criticism of ‚ÄúUnix‚Äù exclusively on those derivatives of Unix that are still with us today.</p>

<p>What follows, then, is my attempt to show that many of the problems with the command-line interfaces provided by modern descendants of Unix go all the way to the roots of Unix itself. In particular, I‚Äôm going to try to explain my skepticism at the idea that the Unix command-line environment could <em>ever</em> have supported an ecosystem of programs that each did one thing well.</p>

<p>But I‚Äôm getting a little ahead of myself. Before I start into any of that, let‚Äôs take a closer look at <code>ls</code> and see if we can figure out what exactly it‚Äôs doing wrong.</p>

<h3 id="many-things-poorly">Many things poorly</h3>

<p>Different versions of <code>ls</code> understand different sets of flags, but these flags can in general be classified into a few broad categories. <code>ls</code> users make use of flags to:</p>

<ul>
  <li><strong>Specify the output format</strong>. <code>-C</code> arranges entries in a neat grid; <code>-m</code> prints a comma-separated ‚Äústream‚Äù of entries; <code>-1</code> prints each entry on its own line; <code>-q</code> replaces nonprintable characters in file names with question marks.</li>
  <li><strong>Display extra information about each file</strong>. <code>-F</code> adds trailing sigil characters to the names of directories (<code>/</code>), executables (<code>*</code>), symlinks (<code>@</code>), and files of other ‚Äúspecial‚Äù types; <code>-s</code> prints the size of each file alongside its name.</li>
  <li><strong>Reorder the list of files</strong>. <code>-r</code> reverses the default order; <code>-t</code> orders files by how recently they‚Äôve been modified.</li>
  <li><strong>Include and exclude certain files</strong>. <code>-a</code> includes files that are hidden by default; <code>-R</code> recursively lists files in subdirectories of the working directory.</li>
</ul>

<p>Disregarding the first category for now, there‚Äôs something interesting going on with the other three. Functional programmers in particular might find something about them strangely familiar.</p>

<p>That‚Äôs right ‚Äì each of these three categories corresponds roughly to a single generic higher-order function that operates on sequences!</p>

<ul>
  <li>Flags that <em>display extra information about each file</em> can be expressed in terms of <code>map</code>, which applies a given transformation to each item in a sequence independently of the others.</li>
  <li>Flags that <em>reorder the list of files</em> can be expressed in terms of <code>sort</code>, which uses a given comparator to compare items pairwise and reorder them accordingly.</li>
  <li>Flags that <em>include and exclude certain files</em> can be expressed in terms of <code>filter</code>, which tests each item against a given predicate and rejects those that are found unworthy.</li>
</ul>

<p><code>ls</code> seems bloated because it <em>is</em> bloated. A handful of higher-order functions could subsume the vast majority of the functionality that‚Äôs currently baked into <code>ls</code> itself in the form of flags.</p>

<h3 id="what-went-wrong">What went wrong?</h3>

<p>By no means is it novel to assert that each program should constitute a self-contained unit of functionality. For decades, Unix proponents have been extolling the virtues of pipelines: ‚Äúprograms‚Äù created on the fly by gluing small, composable <a href="http://en.wikipedia.org/wiki/Filter_(software)#Unix">filters</a> together end-to-end. How, then, is it possible to explain the evolution of such a conceptually simple tool as <code>ls</code> towards ever-greater complexity?</p>

<p>The extreme terseness of the Unix command line hints at one possible explanation. When Unix was invented, 80 characters was about as wide as you could expect a screen to go, and using a computer was synonymous with sitting at a terminal and typing out commands. In such an environment, it made sense to trade legibility and composability for the ability to fit more information into as few characters as possible.</p>

<p>During this era, the developers of heavily used utilities were strongly incentivized to build in shortcuts wherever they could. <code>ls</code> is called <code>ls</code> for the very same reason that its flags are cryptic single-character runes rather than meaningful words or, god forbid, entire phrases: it was developed by and for a small group of highly specialized experts in an environment where every keystroke, every character displayed on the screen, came at a real and meaningful cost.</p>

<p>Likewise, the flags themselves are shortcuts for common real-world use cases. Why waste time adding a filtering step to the pipeline to drop the hidden files when 90% of the time no one wants to see the hidden files anyway? Why display all the available information about each file when 90% of the time the user only cares about filenames?</p>

<p>This mindset ‚Äì that keypresses are expensive, and that there should be a shortcut for everything ‚Äì is responsible for many of the problems with <code>ls</code>, and with the Unix command-line environment as a whole.</p>

<h3 id="the-universal-interface">The ‚Äúuniversal interface‚Äù</h3>

<p>But <a href="https://www.google.com/search?q=%22why%20not%20just%22">why not just</a> write a simpler alternative to <code>ls</code> ‚Äì a function that takes an optional directory, or the working directory by default, and returns a list of the files inside, disregarding flags entirely? Unix is, after all, nothing if not hackable: if you don‚Äôt like <code>ls</code>, you‚Äôre free to replace it.</p>

<p>I‚Äôll answer that question with a hypothetical. Imagine, if you will, a programming language in which every function takes exactly one argument (a string) and returns exactly one result (another string).</p>

<p>Oh, look at that ‚Äì it exists, and it‚Äôs called the shell.</p>

<p>Unix permits programs to communicate with one another, and with the user, exclusively through character streams. You can‚Äôt  write a function that returns a list of files because the shell doesn‚Äôt know what a ‚Äúlist‚Äù is, doesn‚Äôt know what ‚Äúfiles‚Äù are, and couldn‚Äôt tell you the difference between a ‚Äúfunction‚Äù and a ‚Äúprogram‚Äù if its life depended on it. Programs don‚Äôt ‚Äútake arguments‚Äù and ‚Äúreturn values‚Äù, they read characters from <code>stdin</code> and print characters to <code>stdout</code>!</p>

<blockquote>
  <p>Write programs to handle text streams, because that is a universal interface.</p>

  
</blockquote>

<p>The original designers of Unix viewed the ‚Äúsimplicity‚Äù of text streams as an advantage. Consequently, they declined to impose any structure on the data that was to pass between programs. This decision, intended to banish inessential complexity, instead managed only to push essential complexity further downstream.</p>

<p>Remember that first category of <code>ls</code> flags, the flags we couldn‚Äôt explain away as shortcuts for generic sequence transformations? Turns out they‚Äôre just shortcuts for informally encoding notional <em>lists of files</em> as strings that certain other programs (or, in some cases, human beings) know how to parse.</p>

<p>The system fails to provide the abstractions its users need. Users respond by <a href="http://en.wikipedia.org/wiki/Greenspun%27s_tenth_rule">reinventing them</a>, poorly and inconsistently and in all the wrong places. It‚Äôs a distressingly common pattern.</p>

<h3 id="not-an-acceptable-unix">Not an acceptable Unix</h3>

<p>Awareness of the history of computing, and of the constraints under which our current mental models were developed, bestows a kind of superpower: the ability to notice when changing circumstances have rendered once-necessary tradeoffs nonsensical or obsolete.</p>

<p>Many of the usability issues raised by Don Norman in his 1981 <a href="http://www.ceri.memphis.edu/people/smalley/ESCI7205F2009/misc_files/The_truth_about_Unix_cleaned.pdf">criticism of Unix</a> have gone largely unaddressed for three and a half decades. Granted, we‚Äôve developed graphical user interfaces that keep ‚Äúordinary users‚Äù away from the command line, but we still expect ‚Äúserious developers‚Äù to drop down into a demonstrably inhumane environment to get anything meaningful done.</p>

<p>Rather than re-evaluating the Unix command line with an eye towards improving its usability under the greatly relaxed technological constraints of modern hardware, we‚Äôve written <a href="http://www.secretgeometry.com/apps/cathode/">terminal emulators</a> that faithfully reproduce the constraints of the mid-1970s. We demand <a href="http://unix.stackexchange.com/questions/145522/what-does-it-mean-to-be-sh-compatible"><code>sh</code> compatibility</a> from new alternative shells and take it for granted that the <a href="https://www.usenix.org/legacy/event/hotos09/tech/full_papers/seltzer/seltzer.pdf">hierarchical filesystem</a> is the optimal way to organize information.</p>

<p>What are the odds that we somehow stumbled upon the best possible interface for interacting with the computer 40 years ago? What are the odds, in other words, that what we‚Äôre doing still makes sense today?</p>

<p>Even the earliest version of Unix was ultimately only a particular, flawed implementation of the Unix philosophy. If we want to encourage more widespread acceptance of the <em>philosophy</em>, we should not try to defend the <em>implementation</em> by downplaying its flaws. Instead, we should confront these flaws head-on and work to build systems that address them while also adhering to the spirit ‚Äì if not the letter ‚Äì of the principles on which Unix was built.</p>



</div>
      </article>
    </div></div>]]>
            </description>
            <link>http://mkremins.github.io/blog/unix-not-acceptable-unix/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26156886</guid>
            <pubDate>Tue, 16 Feb 2021 18:11:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[AirPods as a Platform]]>
            </title>
            <description>
<![CDATA[
Score 121 | Comments 127 (<a href="https://news.ycombinator.com/item?id=26156881">thread link</a>) | @sc90
<br/>
February 16, 2021 | https://julian.digital/2020/04/19/airpods-as-a-platform/ | <a href="https://web.archive.org/web/*/https://julian.digital/2020/04/19/airpods-as-a-platform/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
 		
<p><span>01</span> Intro</p>



<p>One of the favorite activities of tech analysts, VCs and similar Twitter armchair experts is to predict what the next big technology platform might be.</p>



<p>The usual suspects that come up in these conversations are VR/AR, crypto, smart speakers and similar IoT devices. A new contestant that I‚Äôve <a href="https://twitter.com/BrianNorgard/status/1108755070642880512">seen</a> <a href="https://www.aboveavalon.com/notes/2019/11/19/airpods-are-becoming-a-platform">come up</a> <a href="https://twitter.com/chrismessina/status/1177619897884368904">more</a> <a href="https://twitter.com/HarryStebbings/status/1215425809944543240">frequently</a> in these debates recently are Apple‚Äôs AirPods.</p>



<p>Calling AirPods ‚Äúthe next big platform‚Äù is interesting because at the moment, they are not even a small platform. They are no platform at all. They are just a piece of hardware. </p>



<p>But that doesn‚Äôt mean they can‚Äôt become platform.</p>



<p><img src="https://julian.digital/wp-content/uploads/2020/04/platform.png"></p><p><span>02</span> What is a platform?</p>



<p>Let‚Äôs first take a look at what a platform actually is.</p>



<p>At its core, a platform is something that others can build on top of. A classic example would be an operating system like iOS: By providing a set of APIs, Apple created a playground for developers to build and run applications on. In fact, new input capabilities such as the touch interface, gyroscope sensor and camera allowed developers to create unique applications that weren‚Äôt possible before. </p>



<p>Platforms are subject to network effects: More applications attract more users to the platform, while more users in turn attract more developers who build more apps. </p>



<p><img src="https://julian.digital/wp-content/uploads/2020/04/flywheel.png"></p><p>It‚Äôs a classic flywheel effect that creates powerful winner-takes-all dynamics. This explains why there are only two (meaningful) mobile operating systems ‚Äì iOS and Android. </p>



<p>It also explains why everyone is so interested in upcoming platforms ‚Äì and why Apple might be interested in making AirPods a platform.</p>



<p><span>03</span> Why AirPods aren‚Äôt a platform</p>



<p>In their current form, AirPods are not a platform. They don‚Äôt provide any unique input or output functionalities that developers could leverage. Active Noise Cancellation and Transparency Mode are neat but not new or Airpods-exclusive features ‚Äì other headphones offer exactly the same. In either case, developers don‚Äôt have any control over them and thus can‚Äôt build applications that use these functionalities.</p>



<p>Some say that AirPods will give rise to more audio apps because they are ‚Äúalways in‚Äù which in turn will lead to more (and perhaps new forms of) audio content. That might be true ‚Äì content providers are always looking for <a href="http://julian.digital/2020/01/26/newsletters-and-alternative-trade-routes/">alternative routes</a> to get consumers‚Äô attention ‚Äì but, again, it does not make AirPods a platform. You can use any other pair of headphones to use these audio apps as well.</p>



<p>If Apple wants to make AirPods a platform, it needs to open up some part of the AirPods experience to developers so that they can build new things on top of it.</p>



<p><span>04</span> On Siri &amp; Voice Platforms</p>



<p>The most obvious choice here is Siri, which is already integrated into every pair of AirPods.</p>



<p>In contrast to other voice assistants like Alexa and Google Assistant, Apple has never really opened up Siri for 3rd-party developers. If they did, it would create a new platform that could have its own ecosystem of apps and developers.</p>



<p>But I‚Äôm not convinced that this is Apple‚Äôs best option.<br>Let me explain why.</p>



<p>Opening up Siri wouldn‚Äôt make AirPods a platform, it would make Siri a platform. This might sound like a technicality, but I think it‚Äôs an important difference. As <a href="https://twitter.com/einkoenig">Jan K√∂nig</a> <a href="https://context-first.com/alexa-please-send-this-to-my-screen-6f4839eb415a">brilliantly summarized in this article</a>, voice isn‚Äôt an interface for <em>one</em> device ‚Äì it‚Äôs an interface <em>across</em> devices. It‚Äôs more of a meta-layer that should tie different products together to enable multi-device experiences.</p>



<p>This means Apple has little interest in making Siri an AirPods-exclusive. Voice-based computing works best when it‚Äôs everywhere. It‚Äôs about reach, not exclusivity. This is part of the reason why Google and Amazon excel at it.</p>



<p>At the moment, Siri‚Äôs capabilities are considerably behind those of Google Assistant and Alexa. Again, this isn‚Äôt overly surprising: Google‚Äôs and Amazon‚Äôs main job is finding the right answers to users‚Äô questions. The required ML capabilities for a smart assistant are among the core competencies of these two companies.</p>



<p>But even Amazon and Google haven‚Äôt really figured out the platform part yet, as indicated by the lack of breakout 3rd-party voice applications. It seems like the two platforms are still looking for their product-market-fit beyond being just cheap speakers that you can also control with your voice.</p>



<p>This is partly because the above-mentioned use case of voice as a cross-device layer isn‚Äôt something developers can build with the current set of APIs. </p>



<p><img src="https://julian.digital/wp-content/uploads/2020/04/voiceonlyinterfaces-3.png"></p><p>The other big reason I see is that people are mistaking voice as a replacement for other interfaces. Movies like <a href="https://www.youtube.com/watch?v=ne6p6MfLBxc">Her</a> paint a future where human-computer-interaction primarily occurs via voice-powered smart assistants, but in reality, voice isn‚Äôt great as a primary or stand-alone interface. It works best as an *additional* input/output channel that augments whatever else you are doing.</p>



<p>Let me give you an example: Saying ‚ÄúHey Google, turn up the volume‚Äù takes 10x longer than simply pressing the volume-up button on your phone. It only makes sense when your hands are busy doing other things (kitchen work, for example).</p>



<p>The most convincing voice app I have seen to date was at a hackathon where a team <a href="https://upsidelab.io/blog/design-voice-user-interface-starcraft/">used the StarCraft API to build voice-enabled game commands</a>. Not to replace your mouse and keyboard but to give you an additional input mechanism. Actual multitasking.</p>



<p><span>05</span> What Apple Should Build</p>



<p>I‚Äôm not against Apple opening Siri for developers. On the contrary, given that AirPods are meant to be worn all the time, a voice interface for situations that require multitasking is actually a very good idea. But voice input should remain the exceptional case. And it shouldn‚Äôt be what makes AirPods a platform.</p>



<p>Instead of voice, I‚Äôd love to see other input mechanisms that allow developers to build new ways for users to interact with the audio content they consume.</p>



<p>Most headsets currently on the market offer the following actions with one (or multiple) clicks of a physical button:</p>



<p><img src="https://julian.digital/wp-content/uploads/2020/04/earpodsremote-1.png"></p><p>These inputs were invented a long time ago and there has been almost zero innovation since. <strong>Why has no one thought about additional buttons or click mechanisms that allow users to interact with the actual content?</strong></p>



<p>For example, when listening to podcasts I often find myself wanting to bookmark things that are being talked about. It would be amazing if I could simply tap a button on my headphones which would add a timestamp to a bookmarks section of my podcast app. <span>(Or better even, a transcript of the ~15 seconds of content before I pressed the button, which are then also automatically added to my notes app via an Apple Shortcut.)</span></p>



<p>Yes, you could build the same with voice as the input mechanism, but as we discussed earlier, saying <em>‚ÄúHey Siri, please bookmark this!‚Äù</em> just doesn‚Äôt seem very convenient.</p>



<p>While podcast apps might use the additional button as a bookmarking feature, Spotify could make it a Like button to quickly add songs to your Favorites playlist. Other developers could build completely new applications: Think about interactive audiobooks or similar two-way audio experiences, for example. </p>



<p>This is the beauty of platforms: You just provide developers with a set of tools and they will come up with use cases you hadn‚Äôt even thought about. Crowdsourced value creation.</p>



<p><span>06</span> Closing Thoughts</p>



<p>(1) The input mechanism I describe doesn‚Äôt have to be a physical button. In fact, gesture-based inputs might be even more convenient. If AirPods had built-in accelerometers, users could interact with audio content by nodding or shaking their heads. Radar-based sensors like Google‚Äôs Motion Sense could also create an interesting new interaction language for audio content.</p>



<p>(2) You could also think about the Apple Watch as the main input device. In contrast to the AirPods, Apple opened the Watch for developers from the start, but it hasn‚Äôt really seen much success as a platform. Perhaps a combination of Watch and AirPods has a better chance of creating an ecosystem with its own unique applications?</p>



<p>(3) One thing to keep in mind is that Apple doesn‚Äôt really have an interest in making AirPods a standalone platform. The iPhone (or rather iOS) will always be the core platform that Apple cares about. Instead of separate iPhone, Watch and AirPods ecosystems, think about Apple‚Äôs strategy as more of a multi-platform bundle. Even as a platform, AirPods will remain more of an accessory that adds stickiness to the existing iPhone ecosystem.</p>



<p><img src="https://julian.digital/wp-content/uploads/2020/04/fullcycle.png"></p>



<p>Do you have thoughts or feedback on this post?<br>If so, <a href="https://twitter.com/lehrjulian/status/1251919017721421827">I‚Äôd love to hear it</a>!</p>



<p><span><i>Thanks to <a href="https://twitter.com/einkoenig">Jan K√∂nig</a> for reading drafts of this post.</i></span>
 	</p></div></div>]]>
            </description>
            <link>https://julian.digital/2020/04/19/airpods-as-a-platform/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26156881</guid>
            <pubDate>Tue, 16 Feb 2021 18:11:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Letter from Griddy about the storm and prices]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26156874">thread link</a>) | @doener
<br/>
February 16, 2021 | https://www.griddy.com/post/letter-from-griddy-about-the-storm-and-prices | <a href="https://web.archive.org/web/*/https://www.griddy.com/post/letter-from-griddy-about-the-storm-and-prices">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>President Biden approved a Disaster Declaration in Texas on Monday. The entire state is under a winter storm warning that is bringing the coldest temperatures experienced in the state in decades. With freezing temperatures, the ERCOT electricity market is currently experiencing extremely high pricing ‚Äì and outages ‚Äì due to increased heating demand and ERCOT&nbsp;energy production failures. New data is showing a good part of this week is likely to be even worse. Here‚Äôs what you need to know: </p><h2>What‚Äôs currently going on </h2><p>There are rolling blackouts throughout Texas due to the polar vortex and surging electricity demand. ERCOT, the Texas grid operator, issued an Energy Emergency Alert (EEA) 3, which means rotating outages across the state in order to preserve long-term reliability on the grid. </p><p>If you experience a power outage as a Griddy member, please contact your electric utility immediately. <strong>Unfortunately, Griddy cannot provide assistance with outages. Find your utility‚Äôs info here: </strong><a href="https://www.griddy.com/outages" target="_blank"><strong>https://www.griddy.com/outages</strong></a><strong>. &nbsp;</strong> </p><h2><strong>How did we get here</strong> </h2><p>We‚Äôve been tracking the prices and the storm since late last week. But on Thursday, we knew things were shaping up to be much worse. &nbsp;ERCOT under-forecasted system load on Thursday by nearly 20%, caused largely by a weather forecast failure in Houston. ERCOT had forecasted temperatures in Houston to remain in the high 50s through most of the day on Thursday. In reality, temperatures hovered around 40 through most of the day. This forecast failure meant that ERCOT had an insufficient generation plan for Thursday, which caused them to rely on fast-responding, expensive replacement generation to meet the higher actual system load caused by the cold temperatures. Real-time prices started spiking around 9am and the elevated pricing persisted through the day. Freezing temperatures also locked up wind turbine towers and spiked energy demand across Texas, according to the state grid operator. </p><p>As soon as we could see that this storm, coupled with ERCOT‚Äôs forecast errors, were going to wreak havoc and result in record-breaking price surges, we knew that many of our members wouldn‚Äôt be able to reduce their energy consumption sufficiently ‚Ä¶ particularly when Texas homes are not built for below-freezing temperatures. &nbsp;</p><h2><strong>We‚Äôre here for you</strong> </h2><p>We pushed out an email as quickly as we could, suggesting that our members switch to another provider with a fixed rate. While we value our members, we want what is best for their wallet and family even more, even if that means helping them switch away to our competitors. Their well being is more important than our bottom line. </p><p>Unfortunately, it looks like other providers are no longer excepting switches until later in the week. For those that did not switch over, we will still be here for you in any way we can help and continue to send you daily market updates. We also have recommendations of helpful ways to reduce your energy usage: <a href="https://www.griddy.com/post/how-to-save-during-a-price-a-spike-winter-edition" target="_blank">https://www.griddy.com/post/how-to-save-during-a-price-a-spike-winter-edition</a> &nbsp;</p><p>While prices continue to remain very high throughout the week, we will not be shutting off power for anyone. If you lose power, it is from a rolling blackout in your area. &nbsp;Elevated pricing is likely to persist into this coming weekend, likely not at the extreme levels of the last 2 and next 2 days, but still pretty unpleasant. </p><p>Please remember that Griddy doesn‚Äôt control the wholesale price of electricity. We simply pass through the cost of wholesale electricity to our customers and only make money from our $9.99/month membership rate, no matter the price of electricity that we pass through from ERCOT. Wholesale prices are always changing based on market conditions like the weather, available supply of energy, and how much energy is demanded at any given time. Rare occasions like the one we are in right now can affect the ERCOT energy market and create unusually high prices.‚ÄØ </p><p>It is ‚Äúall-hands on deck‚Äù right now and we are here to help in any way. &nbsp;</p><h2>A quick shout out </h2><p>We have 1000s of die hard Griddy members who love our vision and product and have been with us since the beginning. We had a rough 4 days in August of 2019, and many of them knew how to master energy efficiency to minimize energy costs during the price surges. As this polar vortex as ascended upon us, we have received a flood of support and inspiring messages from these same members. They‚Äôre bundling up, optimizing their homes, and riding this storm out together with us. To all of you, thank you ‚Äì we love you guys! </p><p>Be safe, be warm! </p><p>The Griddy Team </p><p>‚Äç</p></div></div></div>]]>
            </description>
            <link>https://www.griddy.com/post/letter-from-griddy-about-the-storm-and-prices</link>
            <guid isPermaLink="false">hacker-news-small-sites-26156874</guid>
            <pubDate>Tue, 16 Feb 2021 18:10:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[‚ÄúYou‚Äôll never work in this town again‚Äù]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26156758">thread link</a>) | @stevenwadejr
<br/>
February 16, 2021 | https://stevenwadejr.com/2021/02/16/youll-never-work-in-this-town-again/ | <a href="https://web.archive.org/web/*/https://stevenwadejr.com/2021/02/16/youll-never-work-in-this-town-again/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
						<p>Feb 16, 2021</p>
			<p><span>
				
<p>You‚Äôve probably heard that phrase in TV and movies, in fact, it‚Äôs become quite clich√© in my opinion. I recently watched an <a rel="noreferrer noopener" href="https://www.youtube.com/watch?v=Vc9TDjhaYg8" data-type="URL" data-id="https://www.youtube.com/watch?v=Vc9TDjhaYg8" target="_blank">interview with Paul Bettany and Elizabeth Olsen</a> from 2018 where Paul discusses how he got the role of Vision in Avengers: Age of Ultron. In the interview, he says he had a meeting with a producer that told him he was done in Hollywood, and immediately following that meeting he [Bettany] received a phone call from Joss Whedon offering him the part of Vision. This story reminded me of the time that I was told I would ‚Äúnever work in this town again‚Äù.</p>



<p>Years ago, while living and working in Greenville, South Carolina, I was unhappy with my job and I was trying to break out of it. I was looking for another position in local marketing agencies as a web developer. At the time, I had zero connections to the <a href="https://stevenwadejr.com/2016/03/03/starting-a-user-group/" data-type="URL" data-id="https://stevenwadejr.com/2016/03/03/starting-a-user-group/" target="_blank" rel="noreferrer noopener">local community</a> and did all of my job searching with Google: ‚Äúphp developer greenville sc‚Äù. Despite the no networking abilities, no connections, and poor job search skills, I found a local shop that was more web development than marketing, and they were hiring. Their website‚Äôs job description included a link to an online application with the usual resume upload and personal info, but it also included a questionnaire wanting more specifics on experience, programming style, and various bits and bobs. So, I started filling out the application. That‚Äôs when I received a phone call.</p>



<p>A local recruiter, who shall not be named, from a local recruiting agency, that too will remain nameless, phoned me up. They had seen my profile on LinkedIn and had an opportunity for me. They told me all about the company and the position and it all sounded great. I was excited about the possibility of interviewing there, so the recruiter agreed to send them my information. At the end of the call, he revealed the name of the company he was hiring for. It was the same company I had tracked down myself and was in the middle of applying for.</p>



<p>After the phone call, I went back to my browser and looked at my half completed application. The direct application was asking many more questions than the recruiter asked me, so in my inexperienced and young mind, I thought ‚Äúhey, I‚Äôll just finish filling this out and when they get my resume from the recruiter, they‚Äôll have a little extra info on me for the interview‚Äù. I didn‚Äôt see anything wrong with my thinking. I thought it would help my chances. I was wrong.</p>



<p>The next day I got a call from the recruiter. Excited and thinking it was to schedule an interview, I answered the phone. I was immediately berated with accusations of ‚Äúdouble submittal‚Äù and trying to ‚Äúscrew‚Äù the recruiter. I was in shock. I casually explained that I had already been in the middle of an application and decided to finish it as the company was asking more specific questions than the recruiter did. I also explained that since the recruiter was sending my info over, I didn‚Äôt see how it was a ‚Äúdouble submittal‚Äù. The recruiter wasn‚Äôt having any of it, and then he hit me with ‚ÄúI‚Äôll make sure you never work in this town again‚Äù.</p>



<p>I couldn‚Äôt believe what I had just heard. I was nervous and scared. Could this person really prevent me from getting another job in my city? Logically I knew he couldn‚Äôt, but emotions are quicker to the brain than logic. Years later I would become friends with the owners of the company that I had attempted to interview with and they remembered the incident. They told me the same recruiter threatened to blackball their company if they hired me.</p>



<p>Needless to say, I did not get the interview. A few months after the incident, I received a cold call from a local business owner about a different opportunity in town that was a bigger step up than the one I had attempted to get earlier. I took the job which eventually led to other possibilities and eventually to where I am now, a full-time remote Software Engineer working for an international company. So I guess that recruiter was right, I never did work in that town again.</p>
			</span>
		</p></div></div>]]>
            </description>
            <link>https://stevenwadejr.com/2021/02/16/youll-never-work-in-this-town-again/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26156758</guid>
            <pubDate>Tue, 16 Feb 2021 18:00:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why you should stop using CSS shorthand]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26156744">thread link</a>) | @gotbahn
<br/>
February 16, 2021 | https://gotbahn.com/stop-use-css-shorthand | <a href="https://web.archive.org/web/*/https://gotbahn.com/stop-use-css-shorthand">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="___gatsby"><div tabindex="-1" id="gatsby-focus-wrapper"><div><div><article itemscope="" itemtype="http://schema.org/Article"><header></header><section itemprop="articleBody"><p>Forbid something you cannot validate is a dead frost, especially when it's a built-in language feature. But year after year, reviewing code and dealing with regressions and repeatable side-effects, I see how shorthands reducing code quality, making it less readable and error-prone. So let's talk about this.</p>
<p><span>
      <span></span>
  <img alt="Box Shadow longhand" title="Box Shadow longhand" src="https://gotbahn.com/static/39965d4ab0b20bfcb74b9a1de65f6af6/7491f/index.png" srcset="https://gotbahn.com/static/39965d4ab0b20bfcb74b9a1de65f6af6/b8d62/index.png 150w,
https://gotbahn.com/static/39965d4ab0b20bfcb74b9a1de65f6af6/eed55/index.png 300w,
https://gotbahn.com/static/39965d4ab0b20bfcb74b9a1de65f6af6/7491f/index.png 600w,
https://gotbahn.com/static/39965d4ab0b20bfcb74b9a1de65f6af6/385f2/index.png 900w,
https://gotbahn.com/static/39965d4ab0b20bfcb74b9a1de65f6af6/8537d/index.png 1200w,
https://gotbahn.com/static/39965d4ab0b20bfcb74b9a1de65f6af6/7e622/index.png 2735w" sizes="(max-width: 600px) 100vw, 600px" loading="lazy">
    </span></p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Shorthand_properties" target="_blank" rel="nofollow noopener noreferrer">CSS shorthand syntax</a> lets you set the values of multiple other CSS properties simultaneously.</p>
<p>You can write</p>
<div data-language="css"><pre><code><span>background</span><span>:</span> #000 <span><span>url</span><span>(</span>image.png<span>)</span></span> no-repeat left top<span>;</span></code></pre></div>
<p>instead of</p>
<div data-language="css"><pre><code><span>background-image</span><span>:</span> <span><span>url</span><span>(</span>images/bg.gif<span>)</span></span><span>;</span>
<span>background-position-x</span><span>:</span> left<span>;</span>
<span>background-position-y</span><span>:</span> top<span>;</span>
<span>background-repeat-x</span><span>:</span> no-repeat<span>;</span>
<span>background-repeat-y</span><span>:</span> no-repeat<span>;</span>
<span>background-color</span><span>:</span> #000<span>;</span></code></pre></div>
<p>and happily switch to another line of code waiting for you, but... here comes the issues.</p>
<h2 id="shorthand-issues"><a href="#shorthand-issues" aria-label="shorthand issues permalink"></a>Shorthand issues</h2>
<h3 id="hard-to-remember"><a href="#hard-to-remember" aria-label="hard to remember permalink"></a>Hard to remember</h3>
<p>For around a decade as a frontend engineer, I'm writing and reviewing styles on a daily basis, and still, I can't remember all the shorthands. I was often struggling to understand what my teammate or past me wrote and use MDN as a cheat sheet repeatedly.</p>
<p>The same applies to many others, especially to juniors who are overwhelmed with the amount of information memorized.</p>
<p>It's better to invest in the learning of properties and their values than their specific order.</p>
<h3 id="error-prone"><a href="#error-prone" aria-label="error prone permalink"></a>Error-prone</h3>
<p>Shorthands are very error-prone, lemme give you mistake that happens all the time. Developer A wrote component styles:</p>
<div data-language="css"><pre><code><span>.component</span> <span>{</span>
  <span>margint-top</span><span>:</span> 1em<span>;</span>
<span>}</span></code></pre></div>
<p>Then developer B extended this component with centered styles:</p>
<div data-language="css"><pre><code><span>.component</span> <span>{</span>
  <span>margin-top</span><span>:</span> 1em<span>;</span>
  <span>margin</span><span>:</span> 0 auto<span>;</span>
<span>}</span></code></pre></div>
<p>Can you spot the issue? Right, the top margin was overwritten, and unwanted sticking to the previous sibling node was introduced.</p>
<p>Surely you can catch it by your eye, and even lint it with <a href="https://stylelint.io/user-guide/rules/declaration-block-no-shorthand-property-overrides" target="_blank" rel="nofollow noopener noreferrer">no-shorthand-property-overrides</a> as we did for <a href="https://github.com/zattoo/stylelint-config/pull/122" target="_blank" rel="nofollow noopener noreferrer">@zattoo/stylelint-config</a>. But in real-world you unlikely will see these overrides together, and lint won't help you:</p>
<div data-language="css"><pre><code><span>.component</span> <span>{</span>
  <span>margin-top</span><span>:</span> 1em<span>;</span>
<span>}</span>

<span>.component__centred</span> <span>{</span>
  <span>margin</span><span>:</span> 0 auto<span>;</span>
<span>}</span></code></pre></div>
<p>The same happens with background, border, transform, and many other shorthands.</p>
<h3 id="conflicts"><a href="#conflicts" aria-label="conflicts permalink"></a>Conflicts</h3>
<p>Single-lined shorthand has much more chance to conflict when multiple developers modifying its properties.</p>
<div data-language="css"><pre><code><span>.component</span> <span>{</span>
&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
  <span>padding</span><span>:</span> 1em 0.5em 3em<span>;</span>
=======
  <span>padding</span><span>:</span> 2em 0.5em 1em<span>;</span>
&gt;&gt;&gt;&gt;&gt;&gt;&gt; my-branch
<span>}</span></code></pre></div>
<h2 id="without-shorthands"><a href="#without-shorthands" aria-label="without shorthands permalink"></a>Without shorthands</h2>
<p>There can be no good without evil</p>
<h3 id="size"><a href="#size" aria-label="size permalink"></a>Size</h3>
<p>Does size really matter? Yes, but you don't have to manually care for it. Leave it to minification tools like <a href="https://webpack.js.org/plugins/mini-css-extract-plugin" target="_blank" rel="nofollow noopener noreferrer">MiniCSSExtractPlugin</a>, and gzip.</p>
<h3 id="speed"><a href="#speed" aria-label="speed permalink"></a>Speed</h3>
<p>Shorthand is much faster to write. But as was said, not to read.</p>
<p>If you want to be more productive, look at <a href="https://docs.emmet.io/css-abbreviations" target="_blank" rel="nofollow noopener noreferrer">Emmet</a>, most IDEs support it out from the box or have a plugin that can help you speed up typing a lot.</p>
<h2 id="conclusion"><a href="#conclusion" aria-label="conclusion permalink"></a>Conclusion</h2>
<p>Sometimes we are using shorthand without even knowing about it. It's beneficial to check how shorthand unwraps in a debugger get a clue.</p>
<p>Some CSS properties even don't have longhand props like transform functions (until recent times).</p>
<p>We can't get rid of them fully or even forbid its usage, but I encourage you to use them as little as possible.</p>
<h2 id="references"><a href="#references" aria-label="references permalink"></a>References</h2>
<ul>
<li><a href="https://csswizardry.com/2016/12/css-shorthand-syntax-considered-an-anti-pattern/" target="_blank" rel="nofollow noopener noreferrer">CSS Shorthand Syntax Considered an Anti-Pattern</a></li>
<li><a href="https://www.hongkiat.com/blog/css-shorthand-longhand-notations/" target="_blank" rel="nofollow noopener noreferrer">CSS Shorthand vs. Longhand ‚Äì Which to Use</a></li>
<li><a href="https://meiert.com/en/blog/css-shorthands/" target="_blank" rel="nofollow noopener noreferrer">CSS Shorthand Syntax Considered Important</a></li>
</ul></section></article></div></div></div></div></div>]]>
            </description>
            <link>https://gotbahn.com/stop-use-css-shorthand</link>
            <guid isPermaLink="false">hacker-news-small-sites-26156744</guid>
            <pubDate>Tue, 16 Feb 2021 17:59:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Temporal Filters: Enabling Windowed Queries in Materialize]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26156567">thread link</a>) | @andrioni
<br/>
February 16, 2021 | https://materialize.com/temporal-filters/ | <a href="https://web.archive.org/web/*/https://materialize.com/temporal-filters/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><a href="https://materialize.com/">Materialize</a> provides a SQL interface to work with continually changing data. You write SQL queries as if against static data, and then as your data change we keep the results of your queries automatically up to date, in milliseconds.</p>
<p>Materialize leans hard into the ideal that SQL is what you know best, and what you want to use to look at streaming data. At the same time, there are several tantalizing concepts that native stream processors provide that aren‚Äôt obviously possible with standard SQL.</p>
<p>Today we‚Äôll look at how to perform time-windowed computation over temporal data.</p>
<h2>Temporal Data</h2>
<p>Temporal databases are a pretty neat thing, and we aren‚Äôt going to go deep on that today. Instead, let‚Äôs just start with a relation that has a pretty simple schema, and which includes some times.</p>
<pre><code>-- Making a new data source.
CREATE TABLE events (
    content text,
    insert_ts numeric,
    delete_ts numeric
);
</code></pre>
<p>We have some content, clearly you could fluff that up to something more interesting, and two additional columns. The <code>insert_ts</code> and <code>delete_ts</code> columns will play the role of timestamps, indicating when an event should first appear and when it should be removed.</p>
<p>Of course, this is all just data right now. These are fields, and you could put whatever you want in them. They don‚Äôt have any specific meaning yet. You could make <code>delete_ts</code> be smaller than <code>insert_ts</code>, if you are that sort of person.</p>
<h2>Time-Windowed Queries</h2>
<p>The question is now what do you do with these data?</p>
<p>In Materialize, you can ask questions that grab the ‚Äúlogical time‚Äù for your query (roughly: the wall clock when you run the query) and then use that in your query‚Äôs logic. For example, this query counts up <code>content</code> based on events that start by and end after the current logical timestamp.</p>
<pre><code>-- Reduce down to counts within a time interval.
SELECT content, count(*)
FROM events
WHERE mz_logical_timestamp() &gt;= insert_ts
  AND mz_logical_timestamp()  &lt; delete_ts
GROUP BY content;
</code></pre>
<p>This query will change its results over time. Not just because you might add to and remove from <code>events</code>, but because <code>mz_logical_timestamp()</code> advances as you stare at your screen. Each time you issue the query you may get a different result.</p>
<p>This looks like a great query! What‚Äôs not to like?</p>
<p>The main issue really is that it is <em>just a query</em>. You can ask this question over and over, but you can also ask the same thing with an arbitrary timestamp in place of <code>mz_logical_timestamp()</code>. To support that, Materialize has to keep the entire collection of data around. Your <code>events</code> table will grow and grow and grow, and the time to answer the query will grow as well.</p>
<h2>Time-Windowed Computation</h2>
<p>Materialize specializes at <em>maintaining</em> computations like the above, both because that can make it faster to get your answers out, but also because by specifying what you actually need Materialize can run much more lean. We‚Äôll see that now with the query above!</p>
<p>Until recently, if you tried to create a materialized view of the query above, Materialize would tell you to take a hike. The subject of this post is that you can now do it. Moreover, comparing parts of your data to <code>mz_logical_timestamp()</code> in views (rather than just in queries) introduces powerful new idioms, ones that we‚Äôll explore in this post.</p>
<pre><code>-- Maintained collection of only valid results.
CREATE MATERIALIZED VIEW valid_events AS
SELECT content, count(*)
FROM events
WHERE mz_logical_timestamp() &gt;= insert_ts
  AND mz_logical_timestamp()  &lt; delete_ts
GROUP BY content;
</code></pre>
<p>What‚Äôs all this then?</p>
<p>Presumably <code>valid_events</code> has the property that if you <code>SELECT</code> from it you should see the same results as for the time-windowed <code>SELECT</code> in the previous section. That is 100% true.</p>
<p>What is also true is that <code>valid_events</code> has enough information from you, in the form of the query itself, to maintain only enough historical detail to answer these <code>SELECT</code> queries from now onward. Once Materialize‚Äôs <code>mz_logical_timestamp()</code> passes a record‚Äôs <code>delete_ts</code> it cannot be seen (at least not through this view), and Materialize can dispose of the event. The in-memory footprint of <code>valid_events</code> stays bounded by the number of records in the system that could still satisfy this constraint (those records that are currently valid, or who may yet become valid in the future).</p>
<p>While you add to <code>events</code>, Materialize collects up the events that are no longer visible, automatically. Of course, you can also <em>change</em> the records in <code>events</code>, in case you want to remove some events early, or draw out the <code>delete_ts</code> of any record, or replace one event with its next stage (and new <code>insert_ts</code> and <code>delete_ts</code>). If you happen to adjust any fields that interact with <code>mz_logical_timestamp()</code> Materialize will update the views appropriately.</p>
<h2>A Brief Example</h2>
<p>Let‚Äôs do some testing with our table and maintained view. Tables have the nice property that we can interactively update them from within Materialize, rather than spinning up a Kafka cluster.</p>
<p>Let‚Äôs start with something simple: we‚Äôll just look at the records currently present in our <code>valid_events</code> view. Let‚Äôs define a different view to do that, though, without the aggregation so you can see the raw data:</p>
<pre><code>-- Maintained collection of only valid results.
CREATE MATERIALIZED VIEW valid AS
SELECT content, insert_ts, delete_ts
FROM events
WHERE mz_logical_timestamp() &gt;= insert_ts
  AND mz_logical_timestamp()  &lt; delete_ts
</code></pre>
<p>We‚Äôll print out the things in our view, along with the current logical timestamp. It is initially empty, because we haven‚Äôt put any data in. But, these are the columns we‚Äôll be looking at.</p>
<pre><code>materialize=&gt; SELECT *, mz_logical_timestamp() FROM valid;
 content | insert_ts | delete_ts | mz_logical_timestamp
---------+-----------+-----------+----------------------
(0 rows)

materialize=&gt;
</code></pre>
<p>Now let‚Äôs put some data in there. I‚Äôm going to just take advantage of the fact that <code>INSERT</code> statements can also use <code>mz_logical_timestamp()</code> to populate the data with some records that we will make last five seconds.</p>
<pre><code>materialize=&gt; insert into events VALUES (
    'hello',
    mz_logical_timestamp(),
    mz_logical_timestamp() + 5000
);
materialize=&gt; insert into events VALUES (
    'hello',
    mz_logical_timestamp(),
    mz_logical_timestamp() + 5000
);
materialize=&gt; insert into events VALUES (
    'hello',
    mz_logical_timestamp(),
    mz_logical_timestamp() + 5000
);
</code></pre>
<p>Each of these were executed by me, a human, and so almost certainly got different <code>insert_ts</code> and <code>delete_ts</code> timestamps. We‚Äôll see them in just a moment!</p>
<p>Next, I typed <em>incredibly fast</em> to see the output for the query; what was previously empty just up above:</p>
<pre><code>materialize=&gt; SELECT *, mz_logical_timestamp() FROM valid;
 content |   insert_ts   |   delete_ts   | mz_logical_timestamp
---------+---------------+---------------+----------------------
 hello   | 1613084609890 | 1613084614890 |        1613084613168
 hello   | 1613084611459 | 1613084616459 |        1613084613168
 hello   | 1613084610799 | 1613084615799 |        1613084613168
(3 rows)
</code></pre>
<p>We can see that the <code>insert_ts</code> and <code>delete_ts</code> values are indeed <code>5000</code> apart, and for each of the outputs the <code>mz_logical_timestamp</code> lies between the two. What happens if we type the query again, very quickly?</p>
<pre><code>materialize=&gt; SELECT *, mz_logical_timestamp() FROM valid;
 content |   insert_ts   |   delete_ts   | mz_logical_timestamp
---------+---------------+---------------+----------------------
 hello   | 1613084609890 | 1613084614890 |        1613084613988
 hello   | 1613084611459 | 1613084616459 |        1613084613988
 hello   | 1613084610799 | 1613084615799 |        1613084613988
(3 rows)
</code></pre>
<p>The <code>mz_logical_timestamp</code> values have increased. We still see all of the record, as the timestamp hasn‚Äôt increased enough to fall outside the five second bound yet. We type again ..</p>
<pre><code>materialize=&gt; SELECT *, mz_logical_timestamp() FROM valid;
 content |   insert_ts   |   delete_ts   | mz_logical_timestamp
---------+---------------+---------------+----------------------
 hello   | 1613084609890 | 1613084614890 |        1613084614843
 hello   | 1613084611459 | 1613084616459 |        1613084614843
 hello   | 1613084610799 | 1613084615799 |        1613084614843
(3 rows)
</code></pre>
<p>.. and the timestamp increases again ..</p>
<pre><code>materialize=&gt; SELECT *, mz_logical_timestamp() FROM valid;
 content |   insert_ts   |   delete_ts   | mz_logical_timestamp
---------+---------------+---------------+----------------------
 hello   | 1613084611459 | 1613084616459 |        1613084615628
 hello   | 1613084610799 | 1613084615799 |        1613084615628
(2 rows)
</code></pre>
<p>.. and we lost one! Now that <code>mz_logical_timestamp()</code> has reached <code>1613084614890</code> that record no longer satisfies the predicate, and is no longer present in the view.</p>
<pre><code>materialize=&gt; SELECT *, mz_logical_timestamp() FROM valid;
 content |   insert_ts   |   delete_ts   | mz_logical_timestamp
---------+---------------+---------------+----------------------
 hello   | 1613084611459 | 1613084616459 |        1613084616392
(1 row)
</code></pre>
<p>One more has dropped out.</p>
<pre><code>materialize=&gt; SELECT *, mz_logical_timestamp() FROM valid;
 content | insert_ts | delete_ts | mz_logical_timestamp
---------+-----------+-----------+----------------------
(0 rows)
</code></pre>
<p>Ah, they are all gone. My fingers can rest now.</p>
<p>Although this looks rather similar to re-typing the <code>SELECT</code> query that explicitly filters against <code>mz_logical_timestamp()</code>, the difference here is that everything is dataflow with updates flowing through it. If we were to <code>TAIL</code> the view, we would see exactly the moments at which the collection changes, without polling the system repeatedly.</p>
<p>And of course, we can handle a substantially higher volume of updates than if we were continually re-scanning the entire collection.</p>
<h2>Windows: Sliding and Tumbling</h2>
<p>The pattern we saw above was actually very powerful: records could state both their insertion and deletion times. If a record wants to be around for 10s it can do that, if it wants to stay for a year or forever, it could do that too (note: please read further before choosing to do that).</p>
<p>But, let‚Äôs check out some other idioms.</p>
<p><strong>Sliding windows</strong>‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://materialize.com/temporal-filters/">https://materialize.com/temporal-filters/</a></em></p>]]>
            </description>
            <link>https://materialize.com/temporal-filters/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26156567</guid>
            <pubDate>Tue, 16 Feb 2021 17:46:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Book on Teaching Elixir to Pythonistas? Will It Fly?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26156233">thread link</a>) | @Brajeshwar
<br/>
February 16, 2021 | https://preslav.me/2021/02/16/elixir-for-python-developers-book/ | <a href="https://web.archive.org/web/*/https://preslav.me/2021/02/16/elixir-for-python-developers-book/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>
<main>
<article>

<div>
<p>My <a href="https://leanpub.com/generative-art-in-golang">recent foray</a> into writing and self-publishing a technical book showed me that teaching people what I've learned is what drives me forward. That's especially true for offering the audience a different perspective (like <a href="https://leanpub.com/generative-art-in-golang">teaching Go developers how to make art with code</a>).</p><p>Naturally, I started looking for a way to introduce the beauty of the <a href="https://elixir-lang.org/">Elixir language</a> to another programming community. I want to do that by addressing well-known pain points and how they can get solved by Elixir and OTP. And while the language divide between Go and Elixir might be a little too wide for me to present a strong case, Python can be a great candidate because it was Python that prompted me to start searching for alternatives.</p><p>See, I still love the language and its ecosystem, but over the past few years, it has become an unmanageable blob of options and alternatives for doing the same things. And new <a href="https://www.python.org/dev/peps/">PEPs</a> (Python Enhancement Proposals) are coming all the time. For instance, you can't just use good old classes and objects; there are dicts (which pretty much everyone ends up using), named tuples, data classes, and lately, typed dicts. That is, excluding the myriad of third-party libraries that try to solve the problem of introspecting data in one way or another. The same applies to concurrency - one can choose between OS processes, OS threads (which are synchronized when it comes to CPU-bound ops), green threads, and as of a few years, async functions (which only work with IO that supports async). And yeah, structural <a href="https://www.python.org/dev/peps/pep-0622/">pattern matching</a> is probably coming too. It's all quite confusing.</p><p>And yet, Python lives on and moves forward. Its ecosystem is massive, offering libraries for solving pretty much any problem one can imagine. The language has deep ties to both the industry and academia. It also has the native interface, which, similar to the NIFs, has allowed Python developers to execute code at native speed since the beginning. Which, of course, was the reason that Python became the de-facto king of ML.</p><p>My motivation to write this book is two-fold. On the one side, it's the aspect of teaching Elixir/OTP by analogy. On the other, it's about revisiting stuff from Python, which I might have missed, and, in a way, rediscovering it again.</p><p>Do you think that the book will be worth reading? Drop me a line and let me know what you think. Your feedback is more than welcome.</p>
<section>
<h2>Enjoying these posts? Subscribe for more</h2>

<br>

</section>
</div>

</article> 
</main>
</div>
</div></div>]]>
            </description>
            <link>https://preslav.me/2021/02/16/elixir-for-python-developers-book/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26156233</guid>
            <pubDate>Tue, 16 Feb 2021 17:20:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Top purchasing power parity JavaScript courses]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 3 (<a href="https://news.ycombinator.com/item?id=26156110">thread link</a>) | @julesmaregiano
<br/>
February 16, 2021 | https://www.exportator.com/blog/7-excellent-javascript-courses-with-purchasing-power-parity-adapted-prices | <a href="https://web.archive.org/web/*/https://www.exportator.com/blog/7-excellent-javascript-courses-with-purchasing-power-parity-adapted-prices">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <p>If the history of Life on Earth has taught us one thing, it's that sometimes it takes a very particular set of conditions for something to happen. Purchasing Power Dis-Parity was forgotten by the Internet at first, but the JS teaching community has recently sparked it by combining the following characteristics:</p><ul>
<li>
<strong>Digital product.</strong> And to make another copy of an existing course is virtually free. So making an extra sell, even at a discount, will make more money than not selling at full price.</li>
<li>
<strong>Global community.</strong> JS devs are all around the world. Courses are in English. But only a quarter of the world's English speakers live in "rich" Western countries.</li>
<li>
<strong>Technical skills.</strong> It requires technical skill to set up purchasing power parity. Especially if you add security and analytics features like with exportator. JS dev teachers have the skill to build it.</li>
</ul><p>Here are 10 Javascript courses offering purchasing-power-adapted prices in YOUR country, now.</p><p>If you want to find out about more apps, courses, games, and ebooks on #PPP, subscribe to our newsletter.</p><h2>1. Epic React</h2><p><a href="https://epicreact.dev/?ref=exportator">Website</a> - Level: Intermediate/Advanced - Tech: React - Twitter - PPP: Active</p><p>Throughout 19h of video courses, Kent Dodds will take you from the fundamentals of React to a walkthrough of advanced React apps. Kent is an experienced dev and teacher who's making you work hard to become truly good. And that's what we want.</p><p>Kent's English is easy to understand, even for non-native English speakers, and the videos are top-notch quality. The course offers pricing based on the #PPP index, all over the world, without exception.</p><h2>2. Opinionated React</h2><p><a href="https://opinionatedreact.com/?ref=exportator">Website</a> - Level: Intermediate - Tech: React - <a href="https://twitter.com/NikkitaFTW">Twitter</a> - PPP: Active</p><p>Remember when you hadn't done your homework and tried to borrow someone's cheat sheet? Sara's eBook is like that perfect 200 pages cheat sheet that will give you all the keys, structure, vocab, and concepts to navigate the React world.</p><p>Sara made it clear that this is her take on React. But as a friend said about Ruby on Rails' DHH, when someone much more intelligent than you thought about a topic for much longer than you, it's probably best to listen to their opinions. Duh!</p><h2>3. ES6 by Wes Bos</h2><p><a href="https://es6.io/?ref=exportator">Website</a> - Level: All - Tech: All - <a href="https://twitter.com/wesbos">Twitter</a> - PPP: Active</p><p>ES6 totally changed the JS ecosystem for sure, but the whole web too. Whether you're on Ruby on Rails, PHP, or Python, you'll have to write JS at some point. Wes Bos' ES6 course will take you through the </p><p>Wes Bos is one of the best JS teachers on the Web right now and a huge advocate of purchasing power parity. One of the great strengths of Wes is his ability to explain hard concepts without jargon, and making them crystal clear to any listener. He offers a bunch of other courses with purchasing power prices around JavaScript.</p><h2>4. Learn Node &amp; React for Beginners by Wes Bos</h2><p><a href="https://learnnode.com/?ref=exportator">Node</a> - <a href="https://reactforbeginners.com/?ref=exportator">React</a> - Level: All - Tech: React + Node - <a href="https://twitter.com/wesbos">Twitter</a> - PPP: Active</p><p>Beginners, here are two top-notch courses to get started with your JS framework of choice. Wes covers all the concepts that you need to start building web applications. From setting up your computer for the framework, creating user accounts, routing, database, sending emails, handling errors, creating your API, to deploying your app. Wes' got you covered.</p><p>If you're looking for more <a href="https://advancedreact.com/?ref=exportator">advanced</a> content, other courses on these frameworks are available. All are working with #PPP pricing too.</p><h2>5. Node CLI</h2><p><a href="https://nodecli.com/">Website</a> - Level: Intermediate - Tech: Node CLI - <a href="https://twitter.com/MrAhmadAwais/">Twitter</a> - PPP: Active</p><p>How do you build your own npm package and publish it on the Internet? Awais answers this question in extreme detail over the course of 10 hours of short, easy-to-watch videos.</p><p>Awais a lot of fun. It's not given to everyone to make CLIs a rivetting topic, but he nails it. Content quality is all you can expect from a modern online course. Awais has a slight accent but you get used to it surprisingly fast and after the courses' 10h you'll miss it :)</p><h2>6. Vue School</h2><p><a href="https://vueschool.io/?ref=exportator">Website</a> - Level: Intermediate - Tech: Node CLI - <a href="https://twitter.com/vueschool_io">Twitter</a> - PPP: Active</p><p>Vue School offers Vue JS courses for all levels, on all Vue-related topics. Whether you're a beginner or an advanced developer, you'll find something to learn. </p><p>Vue School is well aware of the potential of providing adapted prices but they go one step further by offering subtitles on some of their video courses. For the moment available in Spanish, we hope to see more languages supported.</p><h2>7. Vanilla JS Academy</h2><p><a href="https://vanillajsacademy.com/?ref=exportator">Website</a> - Level: Intermediate - Tech: Node CLI - <a href="https://twitter.com/vueschool_io">Twitter</a> - PPP: Active</p><p>Sure, sure, Vanilla JS is not the latest sexy JS framework. We wouldn't recommend it for starting a project in 2021, but developers working freelance might need a crash course in Vanilla JS, and the Vanilla JS Academy will give you the full tour.</p><p>We love that Chris has strong opinions about Vanilla JS, and makes a point of showing how simple and resilient it is. </p><hr><h2>Want to find more purchasing power prices' courses?</h2><p>Subscribe to our PPP apps newsletter!</p><h2>How can you provide #PPP too?</h2><p>Exportator purpose is to help you provide purchasing power promo codes for your app or course in seconds. Protected from proxies/VPNs, we help you pick the best price and increase your sales. </p><p>Try us out.</p><h2>Purchasing Power should be the norm on the Web.</h2><p>We strongly believe the price of digital goods should be #PPP by default on the Internet. Help us ignite the move by following exportator on Twitter, Facebook, and sharing this article with your friends.</p>
</div></div>]]>
            </description>
            <link>https://www.exportator.com/blog/7-excellent-javascript-courses-with-purchasing-power-parity-adapted-prices</link>
            <guid isPermaLink="false">hacker-news-small-sites-26156110</guid>
            <pubDate>Tue, 16 Feb 2021 17:10:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[One Simple Chart: online learning platforms, a year into the pandemic]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26156088">thread link</a>) | @thedataexchange
<br/>
February 16, 2021 | https://gradientflow.com/one-simple-chart-online-learning-platforms-a-year-into-the-pandemic/ | <a href="https://web.archive.org/web/*/https://gradientflow.com/one-simple-chart-online-learning-platforms-a-year-into-the-pandemic/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<section id="primary">
		<main id="main">

			
<article id="post-12039">

	

	
			<figure>
				<img width="1568" height="819" src="https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?fit=1568%2C819&amp;ssl=1&amp;is-pending-load=1" alt="" loading="lazy" data-attachment-id="12045" data-permalink="https://gradientflow.com/gradientflow-learning-platforms2/" data-orig-file="https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?fit=1896%2C990&amp;ssl=1" data-orig-size="1896,990" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="gradientflow-learning-platforms2" data-image-description="" data-medium-file="https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?fit=300%2C157&amp;ssl=1" data-large-file="https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?fit=750%2C392&amp;ssl=1" data-lazy-srcset="https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?w=1896&amp;ssl=1 1896w, https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?resize=300%2C157&amp;ssl=1 300w, https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?resize=1024%2C535&amp;ssl=1 1024w, https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?resize=768%2C401&amp;ssl=1 768w, https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?resize=1536%2C802&amp;ssl=1 1536w, https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?resize=1200%2C627&amp;ssl=1 1200w, https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?resize=1568%2C819&amp;ssl=1 1568w" data-lazy-sizes="(max-width: 1568px) 100vw, 1568px" data-lazy-src="https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?fit=1568%2C819&amp;ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">			</figure><!-- .post-thumbnail -->

		
	<div>
		<p><em><a href="https://gradientflow.com/2020nlpsurvey/?utm_source=gradientflow&amp;utm_medium=post&amp;utm_campaign=nlpsurvey"><strong>Download the 2020 NLP Survey Report</strong></a> and learn how companies are using and implementing natural language technologies.</em></p>
<p>Last year <a href="https://gradientflow.com/one-simple-chart-online-learning-platforms/">I examined usage of a few online learning platforms</a> and found that a month into the pandemic, many of them were growing rapidly. Now that we have data to compare pre and post pandemic usage, let‚Äôs revisit the same group of online learning providers:</p>
<p><img data-attachment-id="12045" data-permalink="https://gradientflow.com/gradientflow-learning-platforms2/" data-orig-file="https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?fit=1896%2C990&amp;ssl=1" data-orig-size="1896,990" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="gradientflow-learning-platforms2" data-image-description="" data-medium-file="https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?fit=300%2C157&amp;ssl=1" data-large-file="https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?fit=750%2C392&amp;ssl=1" loading="lazy" src="https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?resize=750%2C392&amp;ssl=1" alt="" width="750" height="392" srcset="https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?resize=1024%2C535&amp;ssl=1 1024w, https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?resize=300%2C157&amp;ssl=1 300w, https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?resize=768%2C401&amp;ssl=1 768w, https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?resize=1536%2C802&amp;ssl=1 1536w, https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?resize=1200%2C627&amp;ssl=1 1200w, https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?resize=1568%2C819&amp;ssl=1 1568w, https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?w=1896&amp;ssl=1 1896w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?resize=1024%2C535&amp;ssl=1 1024w, https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?resize=300%2C157&amp;ssl=1 300w, https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?resize=768%2C401&amp;ssl=1 768w, https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?resize=1536%2C802&amp;ssl=1 1536w, https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?resize=1200%2C627&amp;ssl=1 1200w, https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?resize=1568%2C819&amp;ssl=1 1568w, https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?w=1896&amp;ssl=1 1896w" data-lazy-src="https://i0.wp.com/gradientflow.com/wp-content/uploads/2021/02/gradientflow-learning-platforms2.jpg?resize=750%2C392&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>At least in the West, the impact of the pandemic as far as restrictions and shelter-at-home orders didn‚Äôt kick in until March/2020 (late February in a few places). So the chart above is the first comparison of usage <strong>before</strong> and <strong>after</strong> the effects of the pandemic. Data indicates that major online learning platforms enjoyed a banner year. Many of them grew by double digits year-over-year: Udemy, Coursera, edX, Skillshare, and Pluralsight all grew by more 10%. Traffic to Coursera jumped 75%!</p>
<p>A major reason behind this growth is the increasing popularity of <em>micro-credentials</em> ‚éº series of courses that let students demonstrate competence in specific areas. With micro-credentials, students typically get badges or certificates upon completion, and depending on the program, they are able to <em>combine and stack</em> different micro-credentials towards a more comprehensive qualification. I have spoken to several people who have started micro-credential programs over the last year and I get the sense that they are representative of what‚Äôs happening in online learning. With many people sheltering in place, micro-credential programs are booming.</p>
<p>All of the major online learning platforms offer micro-credentials in many different disciplines and subjects, here are a few examples:</p>
<ul>
<li>edX offers more than sixty <a href="https://www.edx.org/micromasters">MicroMasters¬Æ</a> degrees.</li>
<li>Coursera offers <a href="https://www.coursera.org/browse">Specializations, Certificates, and Degree Programs</a>.</li>
<li>Linkedin Learning offers 150 different <a href="https://www.linkedin.com/learning/topics/business?entityType=LEARNING_PATH">Learning Paths</a>.</li>
<li>Traditional Universities are beginning to acknowledge demand for micro-credentials and some well-known public institutions in the U.S. are rolling out offerings: <a href="https://gradpathways.ucdavis.edu/micro-credentials">UC Davis</a>, <a href="https://system.suny.edu/academic-affairs/microcredentials/">SUNY</a>, <a href="https://www.unh.edu/continuingeducation/micro-credentials/about">UNH</a> ‚Äì just to name a few.</li>
</ul>
<p>A few trends make me think that&nbsp;online learning platforms will be able to maintain at least some of the growth we‚Äôre seeing once the world returns to normal. First of all digital transformation is fueling demand for skilled workers across all industries and traditional educational institutions alone cannot meet demand. Secondly employees realize that they increasingly need to keep their skills up to date, and online learning platforms are just so much more cost-effective and convenient.</p>
<p>Finally, the pandemic has caused many to question the cost of higher education. This is particularly true in the U.S. where there‚Äôs already a looming <a href="https://www.cnbc.com/2020/06/12/how-student-debt-became-a-1point6-trillion-crisis.html">crisis in student loans</a>. While I think the <strong><em>top</em></strong> private and public Colleges and Universities have enough brand power to hold off more affordable alternatives, many academic institutions will have difficulty countering lower cost and more convenient alternatives. It‚Äôs hard to fault people who want to continue to study from the comfort of their home, while focusing only on the topics they are most passionate about!</p>

<center><strong>FREE Report</strong>:</center><p><a href="https://gradientflow.com/2021trendsreport/"><img data-attachment-id="11155" data-permalink="https://gradientflow.com/clipboard-gf-logo/attachment/trends-report/" data-orig-file="https://i1.wp.com/gradientflow.com/wp-content/uploads/2030/05/trends-report.jpg?fit=1562%2C1156&amp;ssl=1" data-orig-size="1562,1156" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="trends-report" data-image-description="" data-medium-file="https://i1.wp.com/gradientflow.com/wp-content/uploads/2030/05/trends-report.jpg?fit=300%2C222&amp;ssl=1" data-large-file="https://i1.wp.com/gradientflow.com/wp-content/uploads/2030/05/trends-report.jpg?fit=750%2C555&amp;ssl=1" loading="lazy" src="https://i1.wp.com/gradientflow.com/wp-content/uploads/2030/05/trends-report.jpg?resize=450%2C333&amp;ssl=1" alt="" width="450" height="333" srcset="https://i1.wp.com/gradientflow.com/wp-content/uploads/2030/05/trends-report.jpg?resize=300%2C222&amp;ssl=1 300w, https://i1.wp.com/gradientflow.com/wp-content/uploads/2030/05/trends-report.jpg?resize=1024%2C758&amp;ssl=1 1024w, https://i1.wp.com/gradientflow.com/wp-content/uploads/2030/05/trends-report.jpg?resize=768%2C568&amp;ssl=1 768w, https://i1.wp.com/gradientflow.com/wp-content/uploads/2030/05/trends-report.jpg?resize=1536%2C1137&amp;ssl=1 1536w, https://i1.wp.com/gradientflow.com/wp-content/uploads/2030/05/trends-report.jpg?resize=1200%2C888&amp;ssl=1 1200w, https://i1.wp.com/gradientflow.com/wp-content/uploads/2030/05/trends-report.jpg?w=1562&amp;ssl=1 1562w" sizes="(max-width: 450px) 100vw, 450px" data-recalc-dims="1" data-lazy-srcset="https://i1.wp.com/gradientflow.com/wp-content/uploads/2030/05/trends-report.jpg?resize=300%2C222&amp;ssl=1 300w, https://i1.wp.com/gradientflow.com/wp-content/uploads/2030/05/trends-report.jpg?resize=1024%2C758&amp;ssl=1 1024w, https://i1.wp.com/gradientflow.com/wp-content/uploads/2030/05/trends-report.jpg?resize=768%2C568&amp;ssl=1 768w, https://i1.wp.com/gradientflow.com/wp-content/uploads/2030/05/trends-report.jpg?resize=1536%2C1137&amp;ssl=1 1536w, https://i1.wp.com/gradientflow.com/wp-content/uploads/2030/05/trends-report.jpg?resize=1200%2C888&amp;ssl=1 1200w, https://i1.wp.com/gradientflow.com/wp-content/uploads/2030/05/trends-report.jpg?w=1562&amp;ssl=1 1562w" data-lazy-src="https://i1.wp.com/gradientflow.com/wp-content/uploads/2030/05/trends-report.jpg?resize=450%2C333&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></a></p><center><a href="https://gradientflow.com/2021trendsreport/">Download</a></center>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

				
</article><!-- #post-${ID} -->

	<nav role="navigation" aria-label="Posts">
		<h2>Post navigation</h2>
		
	</nav>
		</main><!-- #main -->
	</section><!-- #primary -->


	</div></div>]]>
            </description>
            <link>https://gradientflow.com/one-simple-chart-online-learning-platforms-a-year-into-the-pandemic/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26156088</guid>
            <pubDate>Tue, 16 Feb 2021 17:08:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Wallet Lost in Antarctica 53 Years Ago Returned to Owner]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26156004">thread link</a>) | @CapitalistCartr
<br/>
February 16, 2021 | https://adventureblog.net/2021/02/wallet-lost-in-antarctica-53-years-ago-returned-to-owner.html | <a href="https://web.archive.org/web/*/https://adventureblog.net/2021/02/wallet-lost-in-antarctica-53-years-ago-returned-to-owner.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text">


<p>If you‚Äôve ever lost your wallet, only to have it returned to you through the kindness of strangers, you‚Äôve probably come to understand what true gratitude is. After all, our wallets not only carry our cash‚Äîsomething that is increasingly rare these days‚Äîbut also important items such as our drivers license, credit/debit cards, voter registration documents, and more. Having to replace all of that stuff can be costly, time consuming, and frustrating.</p>
<p>Now imagine if you lost your wallet in Antarctica. Chances are you‚Äôd probably figure that it was one for good, never to be seen again. Most of the time you‚Äôd probably be right, as the frozen continent is one of the most remote and demanding environments on the planet. But a California man was <a href="https://www.abc.net.au/news/2021-02-06/wallet-lost-1960-antarctica-returned-california-man-paul-grisham/13128946" target="_blank" rel="noopener">recently reunited with his missing wallet</a>, which he misplaced in the Antarctic more than 53 years ago, creating one of the more unique and interesting stories that I‚Äôve seen in some time.</p>
<figure><img loading="lazy" width="800" height="500" src="https://adventureblog.net/wp-content/uploads/2019/12/wendy-searle-antarctica.jpeg" alt="wendy searle antarctica" srcset="https://adventureblog.net/wp-content/uploads/2019/12/wendy-searle-antarctica.jpeg 800w, https://adventureblog.net/wp-content/uploads/2019/12/wendy-searle-antarctica-300x188.jpeg 300w, https://adventureblog.net/wp-content/uploads/2019/12/wendy-searle-antarctica-768x480.jpeg 768w" sizes="(max-width: 800px) 100vw, 800px"><figcaption>Photo Credit: Wendy Searle</figcaption></figure>
<h2>13-Month Tour of Duty in the Antarctic</h2>
<p>Paul Grisham was a career Navy man, enlisting in 1947 and serving as a weather technician and forecaster for 30 years. In 1967 he drew the unenviable duty of being sent to the Antarctic as part of a team that supported a civilian research project there. He would end up spending 13 months at the bottom of the world, assisting with data collection for a study on the Antarctic environment there. </p>
<p>While there, Grisham managed to lose his wallet, which contained a number of documents that you would expect, along with some unique items as well. For instance, in addition to his military ID and drivers license, the wallet contained a tax withholding statement, receipts for money orders sent to his wife and two young kids back home, and a punch card that tracked his rations of beer. As a sign of the times, the wallet also had a reference card for what do in case of a nuclear, chemical, or biological weapons attack. </p>
<p>Although Grisham was frustrated with his carelessness, he says that he soon forgot about the wallet, rarely ever thinking about it again. Imagine his surprise then when he was recently reunited with said wallet after more than five decades had passed. </p>
<figure><img loading="lazy" width="800" height="325" src="https://adventureblog.net/wp-content/uploads/2021/02/McMurdo_Station.jpg" alt="McMurdo Station" srcset="https://adventureblog.net/wp-content/uploads/2021/02/McMurdo_Station.jpg 800w, https://adventureblog.net/wp-content/uploads/2021/02/McMurdo_Station-300x122.jpg 300w, https://adventureblog.net/wp-content/uploads/2021/02/McMurdo_Station-768x312.jpg 768w" sizes="(max-width: 800px) 100vw, 800px"><figcaption>Photo Credit: Gaelen Marsden via WikiMedia</figcaption></figure>
<h2>A Curious Find</h2>
<p>The wallet was discovered in 2014 at <a href="https://www.nsf.gov/geo/opp/support/mcmurdo.jsp" target="_blank" rel="noopener">McMurdo Station</a>, located on Ross Island in the Antarctic. But even though it contained the identification of the man who had lost it, tracking down Grisham‚Äîwho is now 91‚Äîproved more challenging than expected. After all, at the time it had been more than 45 years since he‚Äôd even been there. </p>
<p>it took a group of dedicated amateur internet investigators to find Grisham, using emails, Facebook, handwritten letters, and a variety of other tools to locate the wallets rightful owner. The group, which is formed by a man named Stephen Decato, had undertaken similar projects in the past to reunite individuals with missing property.</p>
<p>A friend of Decato who had heard about the wallet‚Äîalong with another that had also been found in the Antarctic‚Äîasked for assistance. The group of sleuths then sprang into action, searching for clues as to whether or not Grisham was still alive and where he might reside today. </p>
<p>Eventually the Decato and his group were able to find the long-lost Navy weatherman and send his wallet back to him. When he received it, Grisham said that he was ‚Äúblown away.‚Äù</p>
<figure><p>
<iframe title="How McMurdo Station Is Run On The Least Habitable Continent | 360 VR Video | The New York Times" width="825" height="464" src="https://www.youtube.com/embed/nZr5MJuNcXU?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</p></figure>
<h2>A Different Era in the Antarctic</h2>
<p>In sharing his thoughts on the discovery of the missing wallet, Grisham has also offered insights into what it was like in the Antarctic back in the last 1960s. He was there as part of a program known as Operation Deep Freeze, which kept him away from home for more than a year. And while McMurdo was about as remote as it could get, the Naval meteorologist did enjoy a daily post-work martini while staying at the base.</p>
<p>Grisham also says that one of the few luxuries he had was being able to call his wife Wilma via shortwave radio once a week. The two‚Äîalong with their childrenexchanged messages while waiting for his return. Wilma passed away in 2000 and Paul has since remarried. </p>
<p>That‚Äôs a far cry from what life is like at McMurdo these days, which is now equipped with state of the art satellite communications systems and relatively quick internet. While the base does remain remote and isolated, it is no longer cut off from the rest of the world in terms of daily interactions. </p>
<p>That said, it still isn‚Äôt a place where you‚Äôd want to lose your wallet. Chances are, you probably wouldn‚Äôt be as lucky as Paul and have it returned to you, although it would make for an equally great story. </p>
<div><ul> <li><a href="#abh_about">Author</a></li> <li><a href="#abh_posts">Recent Posts</a></li></ul><div><section itemscope="" itemprop="author" itemtype="http://schema.org/Person"><p><a href="https://adventureblog.net/author/admin" title="Kraig Becker"> <img alt="4e9abde09edfeee17524989d90df8796?s=250&amp;d=mm&amp;r=g" src="https://secure.gravatar.com/avatar/4e9abde09edfeee17524989d90df8796?s=250&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4e9abde09edfeee17524989d90df8796?s=500&amp;d=mm&amp;r=g 2x" height="250" width="250" loading="lazy"></a> </p><div><p>Kraig is an outdoor and adventure travel writer based in Nashville, TN. Over the course of his career, he has contributed to numerous online and print outlets, including Popular Mechanics, Gear Junkie, Outside Online, National Geographic, Digital Trends, Business Insider, TripSavvy, about.com, and of course The Adventure Blog.</p></div> </section><section><p><a href="https://adventureblog.net/author/admin" title="Kraig Becker"><img alt="4e9abde09edfeee17524989d90df8796?s=250&amp;d=mm&amp;r=g" src="https://secure.gravatar.com/avatar/4e9abde09edfeee17524989d90df8796?s=250&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4e9abde09edfeee17524989d90df8796?s=500&amp;d=mm&amp;r=g 2x" height="250" width="250" loading="lazy"></a></p><div><p>Latest posts by Kraig Becker <span>(<a href="https://adventureblog.net/author/admin">see all</a>)</span></p></div> </section></div> </div> </div></div>]]>
            </description>
            <link>https://adventureblog.net/2021/02/wallet-lost-in-antarctica-53-years-ago-returned-to-owner.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26156004</guid>
            <pubDate>Tue, 16 Feb 2021 17:01:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Launch.io ‚Äì Simple, Fast, Time Traveling React State Management]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 3 (<a href="https://news.ycombinator.com/item?id=26155982">thread link</a>) | @jbillmann
<br/>
February 16, 2021 | https://www.jbillmann.com/introducing-launch-io | <a href="https://web.archive.org/web/*/https://www.jbillmann.com/introducing-launch-io">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="skip-nav"><p><time>15 Feb 2021</time> ‚Äî <a href="https://www.jbillmann.com/tags/launch-io">launch.io</a>, <a href="https://www.jbillmann.com/tags/javascript">javascript</a>, <a href="https://www.jbillmann.com/tags/react">react</a>, <a href="https://www.jbillmann.com/tags/hooks">hooks</a>, <a href="https://www.jbillmann.com/tags/design">design</a>, <a href="https://www.jbillmann.com/tags/state-management">state management</a> ‚Äî <span>2<!-- --> min read</span></p><section><p><span>
      <span></span>
  <img alt="Launch.IO Logo" title="Launch.IO Logo" src="https://www.jbillmann.com/static/0d2f136d029ac730a87a535ec53629bf/46af1/launch-io-logo.png" srcset="https://www.jbillmann.com/static/0d2f136d029ac730a87a535ec53629bf/5243c/launch-io-logo.png 240w,https://www.jbillmann.com/static/0d2f136d029ac730a87a535ec53629bf/46af1/launch-io-logo.png 358w" sizes="(max-width: 358px) 100vw, 358px" loading="lazy">
    </span></p><p>At some point, rather recently, I began to rethink part of my approach to software developent. <a href="https://www.joelonsoftware.com/">Joel Spolsky's</a> <a href="https://www.joelonsoftware.com/2001/04/21/dont-let-architecture-astronauts-scare-you/"><em>Architecture Astronauts</em> post</a>, of decades ago, has been weighing on me.</p><p>I began to grow tired of unnecessary complexity, over-abstractions, library bloat, feature bloat, and the subsequent documentation bloat. Not to mention, dependency bloat. I know, I should probably write a blog post about software bloat in general.</p><p>Specifically, and with that in mind, I think that state management with React should not be hard; it should not be bloated or over-abstracted. After all, we are really just talking about writing and/or fetching values stored in some variables that an application has access to.</p><p>The barrier to entry, especially with React state management, should not be hard assuming that you know how to React.</p><p>(The irony of my aforementioned statements along with <a href="https://reactjs.org/docs/hooks-intro.html">React Hooks</a>, and what I am about to share, is not lost on me in all of this.)</p><p>So, that is why I, with help and ideas from <a href="https://www.dev.to/droopytersen">Andrew Petersen</a>, created <a href="https://www.launchio.dev/">Launch.IO</a>; an ultra hip, simple, smart, and fast, React state management library. I think that great libraries should be fun and rewarding to developers, and so I added <a href="https://en.wikipedia.org/wiki/Time_travel_debugging">time travel debugging</a>.</p><p>I am not going to get into <code>code</code> in this blog post, so feel free to pause for one minute, and grok the <a href="https://www.launchio.dev/">Launch.IO website</a> or go straight to the <a href="https://codesandbox.io/s/launchio-demo-yqo2n">CodeSandbox Demo</a>. The website is one simple page and it covers install, setup, and basic use cases. If you are enjoying what you are reading, you can take an extra 5 minutes and read <em>all</em> of the <a href="https://github.com/launch-io/launch.io/blob/master/docs/api/index.md">Launch.IO API documentation</a>.</p><p>Launch.IO provides the means to easily and consistently define your application state into as many different domain services as you see fit. Services require a name (for access), initial state, and a set of actions that should be pure functions that return the new service state. The actions within these services, since they are pure, will predictably update their service state and this subsquently allows for the time travel debugging.</p><p>Launch.IO provides a React Hook to allow components to pass selector functions which return the state and/or actions, from the defined services, that your components need to leverage or launch (invoke). No special setup or component integration is required and you can rewind or fast-forward time as needed.</p><p>The core of Launch.IO is actually entirely independent of React. The glue that binds the two is the React Hook, <code>useLaunch</code>, that comes with the library. If I were feeling extra motivated, Launch.IO could be ported to Angular, Vue, or <!-- -->[insert your UI library]<!-- -->, but I am not feeling motiviated... yet.</p><p>I have spent a lot of time working with various React state management libraries. Many of them I still love, and I even used patterns (obviously) from some of them in Launch.IO. Compared to those libraries, however, Launch.IO aims to scale back the abstractions, boilerplate, features, and other bloat that is probably not required to be successful when managing React state.</p><p>You probably don't need the overhead and extended features of other React state management libraries. You just need Launch.IO and some good vanilla ice cream.</p></section></div></div>]]>
            </description>
            <link>https://www.jbillmann.com/introducing-launch-io</link>
            <guid isPermaLink="false">hacker-news-small-sites-26155982</guid>
            <pubDate>Tue, 16 Feb 2021 16:59:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ripple's C++ Team Cut Rippled's Memory Footprint Down to Size]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26155767">thread link</a>) | @monk_the_dog
<br/>
February 16, 2021 | https://blog.ripplex.io/how-ripples-c-team-cut-rippleds-memory-footprint-down-to-size/ | <a href="https://web.archive.org/web/*/https://blog.ripplex.io/how-ripples-c-team-cut-rippleds-memory-footprint-down-to-size/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
            <section>

                <div>
                    <div data-clipboard="Copy link to clipboard."><p>One of the best ways to make software more accessible is to reduce the hardware resources needed to run it. Blockchain software is no exception. The XRP Ledger is already <a href="https://xrpl.org/carbon-calculator.html">one of the greenest blockchains</a> due to its pioneering consensus protocol, but its ecosystem can still benefit from more efficient resource usage. Reduced inefficiencies benefit businesses, developers, and enthusiasts alike.</p><p>So how much can we really improve?</p><p>The C++ team at Ripple spent a significant amount of time in 2020 focusing on how to make better use of available system resources. We're proud to report that, compared to previous versions, the improvements we've contributed to version 1.7.0 of <code>rippled</code>, our reference implementation of the XRP Ledger server, cut its memory usage to <em>less than half</em>.</p><p>That's not a typo and these aren't theoretical numbers. These are <em>real-world</em> improvements of more than 50% in servers running <code>rippled</code> on the XRP Ledger mainnet. The operator of <a href="https://alloy.ee/">alloy.ee</a> calls it "sheer voodoo":</p><figure><blockquote><p lang="en" dir="ltr">1.7b9 is sheer voodoo - The higher one is 1.6.0 <a href="https://t.co/NOlqAmpvBU">pic.twitter.com/NOlqAmpvBU</a></p>‚Äî Alloy Networks (@alloynetworks) <a href="https://twitter.com/alloynetworks/status/1341495806893973506?ref_src=twsrc%5Etfw">December 22, 2020</a></blockquote>

<figcaption>"Sheer voodoo"</figcaption></figure><p>Keep reading to learn the technical details that made this engineering work possible.</p><p>Alongside our other experiments, we set out to measure and understand how <code>rippled</code> uses resources and how to improve it.</p><p>As a result of these measurements, we contributed support for link compression in <a href="https://xrpl.org/blog/2020/rippled-1.6.0.html">version 1.6.0</a>, which reduces the amount of bandwidth used by servers, benefiting operators of single servers and large clusters alike.</p><p>We're also working on optimizing how messages are propagated or routed throughout the XRP Ledger network so that every server receives everything it needs to know without getting redundant copies of info.</p><p>However, the primary pain-point for many operators of the software is RAM usage. Memory is a critical and scarce resource. Reducing the amount required by the server could have an outsized impact on the performance of individual servers, and potentially, the network as a whole.</p><p>To get the best return on our effort, we focused on identifying what parts of the server used the most RAM and experimented with what we could do about them.</p><h2 id="understanding-shamap"><strong>Understanding SHAMap</strong></h2><p>In <code>rippled</code>, one of the largest targets was the SHAMap and its constituent parts‚Äîspecifically, the nodes within the SHAMap's tree-like structure.</p><p>This data structure holds the state of <a href="https://xrpl.org/ledgers.html">the ledger itself</a>‚Äîall the accounts, balances, settings, exchange orders, and everything else the XRP Ledger tracks. On the mainnet, the SHAMap consists of millions of nodes, which means that even small savings in the size of individual nodes can result in large savings overall.</p><p>More precisely, the SHAMap is a combination of a <a href="https://medium.com/@theblockchaincafe/what-is-merkle-tree-complete-guide-for-beginners-9bcf4631bb19">Merkle tree</a> and a <a href="https://medium.com/basecs/compressing-radix-trees-without-too-many-tears-a2e658adb9a0">Radix tree</a> with a branching factor of 16. This branching factor is especially relevant in this instance. It means that the <em>inner nodes</em> in the tree (the nodes other than the "leaves") can have <em>up to</em> 16 children. For example, consider this simple tree:</p><figure><img src="https://blog.ripplex.io/content/images/2021/02/Tree-01.png" alt="" srcset="https://blog.ripplex.io/content/images/size/w600/2021/02/Tree-01.png 600w, https://blog.ripplex.io/content/images/size/w1000/2021/02/Tree-01.png 1000w, https://blog.ripplex.io/content/images/size/w1600/2021/02/Tree-01.png 1600w, https://blog.ripplex.io/content/images/size/w2400/2021/02/Tree-01.png 2400w" sizes="(min-width: 1200px) 1200px"></figure><p>Each node has 16 children, whether they point to something or not. And that was the key insight: just because nodes can have <em>up to</em> 16 children doesn't mean that they actually do in practice.</p><p>The question then became, how many children does a "typical" inner node have? We gathered data from Ripple-operated servers, which resulted in the following distribution:</p><figure><img src="https://blog.ripplex.io/content/images/2021/02/Histogram.png" alt="" srcset="https://blog.ripplex.io/content/images/size/w600/2021/02/Histogram.png 600w, https://blog.ripplex.io/content/images/size/w1000/2021/02/Histogram.png 1000w, https://blog.ripplex.io/content/images/size/w1600/2021/02/Histogram.png 1600w, https://blog.ripplex.io/content/images/size/w2400/2021/02/Histogram.png 2400w" sizes="(min-width: 1200px) 1200px"></figure><p>The data we collected shows that most inner nodes only have a handful of children. With that in mind, we examined if the nodes of the tree could be adjusted, at runtime, to accommodate only as many children as they needed.</p><p>In other words, what if we changed the tree to look more like this?</p><figure><img src="https://blog.ripplex.io/content/images/2021/02/Tree-02.png" alt="" srcset="https://blog.ripplex.io/content/images/size/w600/2021/02/Tree-02.png 600w, https://blog.ripplex.io/content/images/size/w1000/2021/02/Tree-02.png 1000w, https://blog.ripplex.io/content/images/size/w1600/2021/02/Tree-02.png 1600w, https://blog.ripplex.io/content/images/size/w2400/2021/02/Tree-02.png 2400w" sizes="(min-width: 1200px) 1200px"></figure><h3 id="the-naive-shamap-design"><strong>The Naive SHAMap Design</strong></h3><p>The SHAMap is a tree-like data structure where keys are 256-bit hashes, and a node in the tree (other than the leaves), can have up to 16 children. Children are always stored as a 256-bit hash value that can be used to retrieve the child node from a database. Children are also sometimes cached directly in a node for quick traversal.</p><p>The original implementation of the non-leaf nodes had a C++ class that looked a bit like this:</p><pre><code>struct SHAMapInnerNode {
    std::bitset&lt;16&gt; isBranch_;
    SHAMapHash hashes_[16];
    std::shared_ptr&lt;SHAMapTreeNode&gt; cachedChildren_[16];
}</code></pre><p>To traverse the tree, the code looks at the 256-bit key four bits at a time. These 4-bit numbers represent which of the sixteen children to transition to next. This means the children are ordered, and it's possible that some branches (such as 2, 5, and 7) are occupied while the rest are empty.</p><p>The <code>isBranch_</code><em> </em>variable tracks which branches have children and which are empty, but the <code>hashes_[16]</code> array always leaves space for sixteen 256-bit identifiers anyway.</p><h3 id="sparse-shamap"><strong>Sparse SHAMap</strong></h3><p>Instead of always storing sixteen children, we want to use a space-saving sparse representation when there are only a few children and only switch to the dense representation when there are more children.</p><p>Such a representation could look like this:</p><pre><code>struct SHAMapInnerNode {
    std::bitset&lt;16&gt; isBranch_;
    SHAMapHash* hashes_;
    std::shared_ptr&lt;SHAMapTreeNode&gt;* cachedChildren_;
    std::uint8_t arraySize_;
}
</code></pre><p>A sparse representation would store <code>hashes_</code> and <code>cachedChildren_</code> without gaps. For example, if branches 2, 5, and 7 are occupied while the rest are empty, then <code>hashes_</code> would store these values at indexes 0, 1, and 2. To look up a child in a sparse array, count how many non-empty branches come before it.</p><p>For example, if branches 2, 5, and 7 are occupied, and you want to find the child in branch 5, there's 1 branch with an index less than 5, so you'd look at array index 1 of the <code>hashes_</code> array.</p><p>How much memory does this save? Each hash is 256 bits‚Äîthat's 32 bytes‚Äîand each shared pointer is 16 bytes. That means that every time the sparse representation doesn't leave empty space for a nonexistent child that the naive, dense implementation would have, you save 48 bytes.</p><p>With the data we had collected on how many children the nodes in the SHAMap really had when used in production, we could calculate how much memory could be saved by using a sparse representation.</p><p>The following Python code demonstrates how to perform such a calculation:</p><pre><code>def savings(child_hist, arg_indexes):
"""
Given a histogram of the number of children, and the array size boundaries,
calculate the ratio of memory used for a sparse representation/memory used
for a dense representation
"""
if not arg_indexes:
	return 1.0
# add one (and copy so we don't modify original list)
indexes = [a+1 for a in arg_indexes]
	if indexes[0] != 0:
indexes.insert(0, 0)
	if indexes[-1] != 17:
indexes.append(17)
per_child_bytes = 48.0 # 32 for the hash 16 for the shared_ptr
dense_bytes = 16.0 * per_child_bytes * sum(child_hist)
sparse_bytes = 0.0
	for i in range(1, len(indexes)):
		sparse_bytes += ((indexes[i]-1) *
				per_child_bytes *
				sum(child_hist[indexes[i-1]:indexes[i]])
				)
return (sparse_bytes/dense_bytes)</code></pre><h2 id="how-sparse-to-go"><strong>How Sparse to Go?</strong></h2><p>It was clear that a sparse representation could save a substantial amount of memory, but the next challenge was to determine how sparse to go.</p><p>If we used 16 different sparse array sizes, one for every possible number of children, then no space would be wasted at all. But doing that brings in other costs. For example, when you have a size-10 array and you need to add an 11th child, you need to allocate space for a size-11 array and copy all 10 existing entries into the new array.</p><p>Another approach is to have just two sizes of arrays. For example, you might use a sparse array with room for up to 5 children, and a dense array when you need to hold 6 to 16.</p><p>This approach still wastes some space (i.e. when the sparse array has just 1 of its 5 spots occupied, or when the dense array uses only 6 or 7 of its 16 spots, it's simpler and faster than constantly changing the size of the array). Alternatively, we could have different 3 sizes or more (i.e. 3, 6, 16).</p><p>To decide between all the possibilities, we had to consider the trade-offs of different numbers of sparse array sizes. This kind of analysis is common in engineering and even in other disciplines; it's kind of like deciding how many different sizes of jeans you want to manufacture to make the most profit.</p><p>In our case, we considered all of the following in deciding how to approach the problem:</p><ol><li>Costs of moving data when the sparse array changes representations. If you need to add a child and the current sparse array is full, you need to allocate a new array and move the data into it.</li><li>Costs of inserting and removing data in the sparse array. Since the sparse arrays are sorted, you have to move elements around whenever you add or remove children from them. Keeping the sparse arrays small reduces the amount of data movement necessary.</li><li>Space savings. The more sparse array sizes, the greater the savings. However, we expected diminishing returns from each additional size option.</li><li>Implementation considerations. A tagged pointer (described below) can be used to store a small number of bits without using additional space. Keeping the number of array sizes below this number results in additional savings.</li></ol><p>Fortunately, we didn't have to make these decisions based on pure intuition and generalizations. Using our histogram data, we could calculate the actual space savings of various numbers and sizes of sparse arrays, which helped us figure out where the diminishing returns actually kicked in.</p><p>The following code helps compute this.</p><pre><code>def savings_dim(dim=1):
	if dim == 0:
		s = savings(collected_child_histogram, [])
		return ([s], [()], 0)
	args = [arg for arg in itertools.combinations(range(17),dim)]
	r = [savings(collected_child_histogram, arg) for arg in args]
	return (r, args, numpy.argmin(r))

def doit():
	result = []
	for dim in range(17):
		r, args, arg_min = savings_dim(dim)
		result.append([r[arg_min], args[arg_min]])
	return result

</code></pre><p>This gives the following result:</p><pre><code>[[1.000, ()],
[0.384, (5,)],
[0.293, (3, 6)],
[0.259, (2, 4, 6)],
[0.246, (2, 3, 5, ‚Ä¶</code></pre></div></div></section></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.ripplex.io/how-ripples-c-team-cut-rippleds-memory-footprint-down-to-size/">https://blog.ripplex.io/how-ripples-c-team-cut-rippleds-memory-footprint-down-to-size/</a></em></p>]]>
            </description>
            <link>https://blog.ripplex.io/how-ripples-c-team-cut-rippleds-memory-footprint-down-to-size/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26155767</guid>
            <pubDate>Tue, 16 Feb 2021 16:42:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Voyager-1 single dish detection at Allen Telescope Array]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26155722">thread link</a>) | @parsecs
<br/>
February 16, 2021 | https://destevez.net/2021/02/voyager-1-single-dish-detection-at-allen-telescope-array/ | <a href="https://web.archive.org/web/*/https://destevez.net/2021/02/voyager-1-single-dish-detection-at-allen-telescope-array/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-9622">

	

	<div>
		
<p>This post has been delayed by several months, as some other things (like <a href="https://destevez.net/tag/ce5/">Chang‚Äôe 5</a>) kept getting in the way. As part of the <a href="https://www.gnuradio.org/">GNU Radio</a> activities in <a href="https://www.seti.org/ata">Allen Telescope Array</a>, on 14 November 2020 we tried to detect the X-band signal of <a href="https://voyager.jpl.nasa.gov/">Voyager-1</a>, which at that time was at a distance of 151.72 au (22697 millions of km) from Earth. After analysing the recorded IQ data to carefully correct for Doppler and stack up all the signal power, I <a href="https://twitter.com/ea4gpz/status/1330617930229436416">published in Twitter</a> the news that the signal could clearly be seen in some of the recordings.</p>



<p>Since then, I have been intending to write a post explaining in detail the signal processing and publishing the recorded data. I must add that detecting Voyager-1 with ATA was a significant feat. Since November, we have attempted to detect Voyager-1 again on another occasion, using the same signal processing pipeline, without any luck. Since in the optimal conditions the signal is already very weak, it has to be ensured that all the equipment is working properly. Problems are difficult to debug, because any issue will typically impede successful detection, without giving an indication of what went wrong.</p>



<p>I have published the IQ recordings of this observation in the following datasets in <a href="https://zenodo.org/">Zenodo</a>:</p>



<ul><li><a href="https://zenodo.org/record/4521217">Voyager-1 recording with Allen Telescope Array on 2020-11-14: scan 1/4</a></li><li><a href="https://zenodo.org/record/4522166">Voyager-1 recording with Allen Telescope Array on 2020-11-14: scan 2/4</a></li><li><a href="https://zenodo.org/record/4524683">Voyager-1 recording with Allen Telescope Array on 2020-11-14: scan 3/4</a></li><li><a href="https://zenodo.org/record/4527040">Voyager-1 recording with Allen Telescope Array on 2020-11-14: scan 4/4</a></li></ul>



<h4>Observation set up</h4>



<p>The observation was done between 18:30 and 21:30 UTC on 2020-11-14, when Voyager-1 was between 40 and 60 degrees elevation. Antennas 1a and 4g were used. These are two antennas having the older feeds described in <a href="https://arxiv.org/abs/0904.0762">this paper</a>, which have lower performance at X-band than the newer feeds donated by Franklin Antonio, which are described <a href="https://arxiv.org/abs/1702.02252">here</a>. The reason for choosing antennas with older feeds was to have two antennas having the same feed type, as that might simplify calibration for beamforming (which would become necessary if the signal was too weak to be detected with a single dish). At that time we only had access to antenna 4g with one of the USRPs used by the GNU Radio team, so we chose a matching older feed antenna to use with the other USRP.</p>



<p>The dual polarization signals from the antennas were taken to LO d in the RF converter board, which converted 8419.7 MHz down to an IF of 512 MHz. The IF was received and digitised with a <a href="https://www.ettus.com/all-products/usrp-n321/">USRP N321</a> and a <a href="https://www.ettus.com/all-products/usrp-n320/">USRP N320</a>. The two X and Y polarizations of antenna 1a were routed to the two channels of the USRP N321, and the two polarizations of antenna 4g were received with the USRP N320. The LO of the first channel of the USRP N321 was <a href="https://kb.ettus.com/USRP_N320/N321_LO_Distribution#N321_.2B_N320_Cabling_Diagram">exported and shared to all the other channels</a>. GNU Radio was used to record synchronized baseband IQ data from the two USRPs at a sample rate of 960 ksps using <code>int16</code> format.</p>



<p>In order to make beamforming possible later on with the recordings, interferometric observations of the compact calibrator 1733-130 were done. This source appears in the list of <a href="https://science.nrao.edu/facilities/vla/observing/callist">VLA calibrators</a>, and it was near the position of Voyager-1 on the sky. These observations would allow us to calibrate the phase offsets between the two antennas if needed for beamforming.</p>



<p>The observation was organized as four 30 minute scans of Voyager-1 interleaved with 5 minute scans of the calibrator. Longer scans of the calibrator were done before and after the four scans of Voyager-1.</p>



<h4>Signal processing</h4>



<p>The signal processing of the IQ recordings is done in this <a href="https://github.com/daniestevez/ata_notebooks/blob/main/Voyager-1/Voyager-1%202020-11-14.ipynb">Jupyter notebook</a>, which can be found in my <a href="https://github.com/daniestevez/ata_notebooks">ata_notebooks</a> Github repository.</p>



<p>The first step is to fetch the ephemeris data from <a href="https://ssd.jpl.nasa.gov/horizons.cgi">JPL HORIZONS</a> using <a href="https://astroquery.readthedocs.io/en/latest/">Astroquery</a>. I learned this library from <a href="https://twitter.com/bistromath/">Nick Foster</a>, who has a similar <a href="https://github.com/bistromath/voyager/blob/master/voyager.ipynb">Jupyter notebook</a> to process Voyager-1 recordings done with ATA on 2010. We need the range-rate from the ephemerides in order to compute and correct for the downlink Doppler, which is shown below.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2021/02/voyager1_downlink_doppler.png"><img width="644" height="336" src="https://destevez.net/wp-content/uploads/2021/02/voyager1_downlink_doppler-644x336.png" alt="" srcset="https://destevez.net/wp-content/uploads/2021/02/voyager1_downlink_doppler-644x336.png 644w, https://destevez.net/wp-content/uploads/2021/02/voyager1_downlink_doppler-300x156.png 300w, https://destevez.net/wp-content/uploads/2021/02/voyager1_downlink_doppler.png 662w" sizes="(max-width: 644px) 100vw, 644px"></a></figure>



<p>The a priori estimate for the spacecraft‚Äôs transmit frequency was 8420.432097 MHz. In order to take the downlink Doppler into account, the recording was centred at 8419.7 MHz, as mentioned above. The residual Doppler that should appear in the baseband data is as follows.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2021/02/voyager1_residual_doppler.png"><img width="644" height="345" src="https://destevez.net/wp-content/uploads/2021/02/voyager1_residual_doppler.png" alt="" srcset="https://destevez.net/wp-content/uploads/2021/02/voyager1_residual_doppler.png 644w, https://destevez.net/wp-content/uploads/2021/02/voyager1_residual_doppler-300x161.png 300w" sizes="(max-width: 644px) 100vw, 644px"></a></figure>



<p>The signal will be detected in a sub-Hz FFT resolution bandwidth, so we want our Doppler correction calculations to have precision of mHz. Therefore, the range-rate data is fetched from Horizons in steps of approximately 8.6 seconds and linearly interpolated to a grid with 10 ms spacing. The carrier phase corresponding to the integrated Doppler is computed over this 10 ms grid.</p>



<p><a href="https://dask.org/">Dask</a> is used for parallel computation and on demand loading of the IQ data by chunks. Each of the 30 minute scans is processed separately. The first step in the signal processing chain amounts to removing the DC spike. This is done by grouping the samples in segments of approximately 0.5 seconds and subtracting from each segment its average.</p>



<p>Next, the average power per channel over all the 30 minute scan is computed. Each channel is divided by its average power in order to normalize the power, since each channel has different amplitude gains. Then, LHCP and RHCP polarizations are synthesised from the linear X and Y polarizations. To do so, the phase offset between the X and Y channels of each antenna is needed. These phase offsets were measured by receiving the RHCP X-band signal from Tianwen-1 at 8431 MHz earlier that day. The phase offsets are assumed to be the same at the receive frequency for Voyager-1.</p>



<p>The phase for Doppler correction is linearly interpolated from its 10 ms grid to each sample and applied in order to correct for Doppler. Finally, an FFT with a bin size of 458 mHz, rectangular window and no overlaps is applied to the data and average power spectral densities are computed per antenna, polarization and scan.</p>



<h4>Results</h4>



<p>A preliminary step to assess the quality of the IQ recordings is to plot the power of each channel versus time. Since the signal is tiny in the 960 kHz bandwidth, this gives basically the power of the noise floor, which can change due to changes in gain, noise figure, interference, etc. Plotting the power can help us spot any obvious problems such as the sudden increases in the noise floor that we are <a href="https://destevez.net/2020/12/change-5-observations-from-ata-on-december-19-and-20/">seeing with some of the Chang‚Äôe 5 recordings</a>.</p>



<p>Since each of the channels has a different gain, we normalize the power in each channel by dividing by the average power of that channel computed over all the four scans. This makes the power be centred about one, and gives the figure below. We see that the power variation is only of a few percent, so everything seems alright.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2021/02/power_per_channel.png"><img width="644" height="302" src="https://destevez.net/wp-content/uploads/2021/02/power_per_channel-644x302.png" alt="" srcset="https://destevez.net/wp-content/uploads/2021/02/power_per_channel-644x302.png 644w, https://destevez.net/wp-content/uploads/2021/02/power_per_channel-300x141.png 300w, https://destevez.net/wp-content/uploads/2021/02/power_per_channel-768x360.png 768w, https://destevez.net/wp-content/uploads/2021/02/power_per_channel.png 851w" sizes="(max-width: 644px) 100vw, 644px"></a></figure>



<p>The first step in processing the Doppler corrected spectra is to perform a bandpass calibration to flatten out the bandpass frequency response. This is done by fitting a degree four polynomial to the average spectra of each antenna and polarization (ignoring the steep skirts at the edges). The figure below shows the uncorrected spectra and the estimated bandpass shape. The peak of the Voyager-1 signal can already be seen clearly in the LHCP signal from antenna 4g, and also in antenna 1a, albeit a bit weaker.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2021/02/bandpass_calibration.png"><img width="644" height="376" src="https://destevez.net/wp-content/uploads/2021/02/bandpass_calibration-644x376.png" alt="" srcset="https://destevez.net/wp-content/uploads/2021/02/bandpass_calibration-644x376.png 644w, https://destevez.net/wp-content/uploads/2021/02/bandpass_calibration-300x175.png 300w, https://destevez.net/wp-content/uploads/2021/02/bandpass_calibration.png 722w" sizes="(max-width: 644px) 100vw, 644px"></a></figure>



<p>The bandpass calibrated spectra are show below.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2021/02/bandpass_calibration_done.png"><img width="644" height="381" src="https://destevez.net/wp-content/uploads/2021/02/bandpass_calibration_done-644x381.png" alt="" srcset="https://destevez.net/wp-content/uploads/2021/02/bandpass_calibration_done-644x381.png 644w, https://destevez.net/wp-content/uploads/2021/02/bandpass_calibration_done-300x178.png 300w, https://destevez.net/wp-content/uploads/2021/02/bandpass_calibration_done.png 713w" sizes="(max-width: 644px) 100vw, 644px"></a></figure>



<p>The average power spectral density for the LHCP polarizations between both antennas is computed and transformed to significance level (units of sigmas) by subtracting one, which is the average noise power, and dividing by the standard deviation. We get the figure below, which shows a detection at a level of 13.2 sigmas at a transmit frequency of 8420430170.7 Hz. This frequency is close to the a priori expected transmit frequency, so we are confident that this detection is in fact the Voyager-1 carrier. Moreover, if the Doppler correction is disabled, the detection peak disappears completely.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2021/02/voyager1_detection.png"><img src="https://destevez.net/wp-content/uploads/2021/02/voyager1_detection-644x306.png" alt=""></a></figure>



<p>The next figure shows the power spectra in each of the antennas and polarizations per scan. We see that there is a clear peak in the first two scans, the peak is weaker in the third one, and disappears in the last scan. The reason why the SNR decreases throughout the observation is not known.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2021/02/voyager1_detection_per_scan.png"><img width="644" height="375" src="https://destevez.net/wp-content/uploads/2021/02/voyager1_detection_per_scan-644x375.png" alt="" srcset="https://destevez.net/wp-content/uploads/2021/02/voyager1_detection_per_scan-644x375.png 644w, https://destevez.net/wp-content/uploads/2021/02/voyager1_detection_per_scan-300x175.png 300w, https://destevez.net/wp-content/uploads/2021/02/voyager1_detection_per_scan-768x447.png 768w, https://destevez.net/wp-content/uploads/2021/02/voyager1_detection_per_scan.png 936w" sizes="(max-width: 644px) 100vw, 644px"></a></figure>



<p>The estimates of C/N0 for the first two scans are given in the table below. These should be taken carefully. They are coarse estimates, since the signal is weak. The C/N0‚Äôs for the last two scans are not given, since the signal is already too weak.</p>



<figure><table><tbody><tr><td></td><td><strong>Antenna 1a</strong></td><td><strong>Antenna 4g</strong></td></tr><tr><td><strong>First scan</strong></td><td>-8.5 dB¬∑Hz</td><td>-6.4 dB¬∑Hz</td></tr><tr><td><strong>Second Scan</strong></td><td>-8.8 dB¬∑Hz</td><td>-6.7 dB¬∑Hz</td></tr></tbody></table><figcaption>C/N0 estimates for the first two scans</figcaption></figure>



<p>There seems to be a difference in performance of 2.1 dB between antennas 1a and 4g that needs to be investigated further.</p>



<h4>Conclusions</h4>



<p>Doing a link budget for Voyager-1 is not so easy, since we don‚Äôt have an accurate estimate of its transmit power. Perhaps, it‚Äôs better to work with the estimated received power shown in <a href="https://eyes.nasa.gov/dsn/dsn.html">NASA DSN Now</a>, which is around -156 dBm for a 70 m antenna (under bad weather conditions, the signal may drop to -161 dBm, as shown by <a href="https://twitter.com/nascom1">Richard Stephenson</a> in <a href="https://twitter.com/nascom1/status/1358617187641028609">this tweet</a>). Assuming the same efficiency, one of the ATA 6.1 m antennas should receive a power of -177.2 dBm. At a system noise temperature of 60 K (which is taken from <a href="https://arxiv.org/abs/0904.0762">this paper</a> but perhaps too optimistic), the noise floor is at -181 dBm/Hz, so we should find the carrier at a CN0 of 3.8 dB.</p>



<p>It seems that the CN0 we measured is 10 dB below this estimate, so either there is something wrong with the estimate or there is room for improvement with the receive chain at ATA. This is something that we‚Äôll need to look into in the future, by measuring the performance of the system in terms of noise figure, gain, etc.</p>



<p>Nevertheless, we have shown that it‚Äôs possible to detect with the current equipment the Voyager-1 carrier at a CN0 of around -7 dB¬∑Hz. If the power spectrum is normalized so that the noise has unity power spectral density, and we use an FFT bin size of 500 mHz, the carrier will have a power of ‚Ä¶</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://destevez.net/2021/02/voyager-1-single-dish-detection-at-allen-telescope-array/">https://destevez.net/2021/02/voyager-1-single-dish-detection-at-allen-telescope-array/</a></em></p>]]>
            </description>
            <link>https://destevez.net/2021/02/voyager-1-single-dish-detection-at-allen-telescope-array/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26155722</guid>
            <pubDate>Tue, 16 Feb 2021 16:40:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Peer-to-Peer Machine Learning]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 4 (<a href="https://news.ycombinator.com/item?id=26155257">thread link</a>) | @YumaRao
<br/>
February 16, 2021 | https://www.bittensor.com/metagraph | <a href="https://web.archive.org/web/*/https://www.bittensor.com/metagraph">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.bittensor.com/metagraph</link>
            <guid isPermaLink="false">hacker-news-small-sites-26155257</guid>
            <pubDate>Tue, 16 Feb 2021 16:11:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Several million without power in Texas as temperatures plunge as low as -20 C]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26155176">thread link</a>) | @heyheyheysome
<br/>
February 16, 2021 | https://www.cbc.ca/news/world/texas-winter-storm-power-outages-1.5914371 | <a href="https://web.archive.org/web/*/https://www.cbc.ca/news/world/texas-winter-storm-power-outages-1.5914371">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>A rare deep freeze in Texas that raised demand for power forced the U.S. state's electric grid operator on Monday to impose rotating blackouts that left nearly three&nbsp;million customers without electricity.</p><div><figure><div><p><img loading="lazy" alt="" srcset="" sizes="" src="https://i.cbc.ca/1.5915054.1613444284!/fileImage/httpImage/image.jpg_gen/derivatives/16x9_780/winter-weather-texas.jpg"></p></div><figcaption>A young boy wears a winter coat inside after the apartment his family lives in lost power following an overnight snowfall Monday, Feb. 15, 2021 in Houston. <!-- --> <!-- -->(Brett Coomer/Houston Chronicle via The Associated Press)</figcaption></figure><p><span><p>A rare deep freeze in Texas that raised demand for power forced the U.S. state's electric grid operator on Monday to impose rotating blackouts that left nearly three&nbsp;million customers without electricity.</p>  <p>The cold snap sweeping Texas reached the northern part of neighbouring Mexico as well, where authorities said 4.7 million users lost power early on Monday.&nbsp; Around midday, service had been restored to almost 2.6 million of them.</p>  <p>The PowerOutage.us website, which tracks power outages, said 2,820,764 Texas customers were experiencing outages around 2 p.m. CT</p>  <p>U.S. President Joe Biden approved the state's emergency declaration, unlocking federal assistance to tackle the rare deep freeze, where temperatures ranged from - 2 to&nbsp;-22 C.</p>  <p><em><strong>WATCH | Winter storm hits Texas:</strong></em></p>  <p><span><span><div><div title="Winter storm hits parts of Texas, wind chill warnings issued" role="button" tabindex="0"><div><div aria-labelledby="1861291075941-metadata-" title="Winter storm hits parts of Texas, wind chill warnings issued"><div><p><img src="https://thumbnails.cbc.ca/maven_legacy/thumbnails/474/507/RAW_TEXAS_SNOW_7000kbps_1280x720_1861300803624.jpg" alt="" loading="lazy"></p></div></div></div></div></div><span>With Texas under a disaster declaration, a winter storm blanketed much of the state in snow and wind chill warnings were issued, possibly for the first time ever in some parts.<!-- --> <!-- -->0:58</span></span></span></p>  <p>Apart from Texas, much of the United States from the Pacific Northwest through the Great Plains and into the mid-Atlantic states has been in the grip of bone-chilling weather over the weekend, featuring snow, sleet and freezing rain.</p>  <p>"The Texas power grid has not been compromised. The ability of some companies that generate the power has been frozen," Texas Gov. Greg Abbott wrote on Twitter on Monday. "They are working to get generation back on line."</p>  <p><span><blockquote lang="en"><p>ERCOT calls for rotating outages as extreme winter weather forces generating units offline. ‚ÄúEvery grid operator and every electric company is fighting to restore power right now,‚Äù said ERCOT President and CEO Bill Magness. &lt;a href="https://t.co/rKoWcBZSew"&gt;https://t.co/rKoWcBZSew&lt;/a&gt;</p>&amp;mdash;<a href="https://twitter.com/ERCOT_ISO/status/1361265260217446402">@ERCOT_ISO</a></blockquote></span></p>  <p>The Electric Reliability Council of Texas (ERCOT) sought to cut power use in response to a winter record of 69,150 megawatts (MW) on Sunday evening, more than 3,200 MW higher than the previous winter peak in January 2018.</p>  <p>About 10,500 MW of customer load was shed at the highest point, enough power to serve approximately two million homes, it said, adding that extreme weather caused many generating units across fuel types to trip offline and become unavailable.</p>  <p>"Controlled outages will continue through today and into early tomorrow, possibly all of tomorrow," Dan Woodfin, director of systems operations at ERCOT, said at a Monday briefing.</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5914995.1613436308!/fileImage/httpImage/image.jpg_gen/derivatives/original_300/winter-weather-texas.jpg 300w,https://i.cbc.ca/1.5914995.1613436308!/fileImage/httpImage/image.jpg_gen/derivatives/original_460/winter-weather-texas.jpg 460w,https://i.cbc.ca/1.5914995.1613436308!/fileImage/httpImage/image.jpg_gen/derivatives/original_620/winter-weather-texas.jpg 620w,https://i.cbc.ca/1.5914995.1613436308!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/winter-weather-texas.jpg 780w,https://i.cbc.ca/1.5914995.1613436308!/fileImage/httpImage/image.jpg_gen/derivatives/original_1180/winter-weather-texas.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5914995.1613436308!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/winter-weather-texas.jpg"></p></div><figcaption>Heavy snow blanketed highways in Austin, Texas, Feb 15.  <!-- --> <!-- -->(Jay Janner/Austin American-Statesman via The Associated Press)</figcaption></figure></span></p>  <p>The freeze also took a toll on the energy industry in Texas, by far the country's largest crude producer, shutting oil refineries and forcing restrictions from natural gas pipeline operators.</p>  <p>The National Weather Service said that an Arctic air mass had spread southwards, well beyond areas accustomed to freezing weather, with winter storm warnings posted for most of the Gulf Coast region, Oklahoma and Missouri.</p>  <p>The storms knocked out nearly half the wind power generation capacity of Texas on Sunday.</p>  <p>Of the 25,000-plus megawatts of wind power capacity normally available in Texas, 12,000 megawatts was out of service on Sunday morning, an ERCOT spokesperson&nbsp;said.</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5914993.1613436272!/fileImage/httpImage/image.jpg_gen/derivatives/original_300/winter-weather-texas.jpg 300w,https://i.cbc.ca/1.5914993.1613436272!/fileImage/httpImage/image.jpg_gen/derivatives/original_460/winter-weather-texas.jpg 460w,https://i.cbc.ca/1.5914993.1613436272!/fileImage/httpImage/image.jpg_gen/derivatives/original_620/winter-weather-texas.jpg 620w,https://i.cbc.ca/1.5914993.1613436272!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/winter-weather-texas.jpg 780w,https://i.cbc.ca/1.5914993.1613436272!/fileImage/httpImage/image.jpg_gen/derivatives/original_1180/winter-weather-texas.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5914993.1613436272!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/winter-weather-texas.jpg"></p></div><figcaption>A young girl creates a snow angel in Austin, Texas, on Monday, Feb. 15, 2021. Much of the state was experiencing snow and freezing temperatures over the Presidents Day weekend. <!-- --> <!-- -->(Bronte Wittpenn /Austin American-Statesman via The Associated Press)</figcaption></figure></span></p>  <p>The spot price of electricity on the Texas power grid spiked more than 10,000 per cent&nbsp;on Monday, according to data on the grid operator's website.</p>  <p>Real-time market prices on the power grid operated by the ERCOT&nbsp;have climbed as high as $11,000 Cdn per megawatt hour. A typical price on the grid, which supplies most of the electricity for Texas, is less than $100 per megawatt hour.</p></span></p></div></div>]]>
            </description>
            <link>https://www.cbc.ca/news/world/texas-winter-storm-power-outages-1.5914371</link>
            <guid isPermaLink="false">hacker-news-small-sites-26155176</guid>
            <pubDate>Tue, 16 Feb 2021 16:06:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bitcoin‚Äôs Overnight Collapse Probability Is About 50%]]>
            </title>
            <description>
<![CDATA[
Score 101 | Comments 209 (<a href="https://news.ycombinator.com/item?id=26155158">thread link</a>) | @dgellow
<br/>
February 16, 2021 | http://www.tr0lly.com/bitcoin/bitcoins-overnight-collapse-probability-is-about-50/ | <a href="https://web.archive.org/web/*/http://www.tr0lly.com/bitcoin/bitcoins-overnight-collapse-probability-is-about-50/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<section id="primary">
		<main id="main">

			
<article id="post-1154">
	
	<div>
		
<p>If you ever had a look at <a href="https://www.cmegroup.com/trading/equity-index/us-index/bitcoin_quotes_globex.html">CME‚Äôs Bitcoin futures</a>, you might have noticed that there are multiple contracts ‚Äì one for each month, and that they have different prices. Systematically, the futures contracts for months that are further away, are more expensive than those with closer expiration, and also cheaper than spot. When this happens for a commodity like oil, we‚Äôre talking about contango.</p>



<p>This is usually due to the fact that there‚Äôs a risk premium on the uncertainty of the future, and it costs a little bit to be sure of the price that you‚Äôll pay for something three months from now. But for futures on financial products, it‚Äôs very rare. Currently, the premium for Bitcoin is a whopping 2% per month, and it‚Äôs a red warning sign.</p>



<h3>Term structure of Bitcoin futures</h3>



<p>The reason contango for commodities like oil is normal, is that you can‚Äôt arbitrage it. The way to arbitrage contango is to buy spot, short the future, wait till expiry, and collect the premium. But you can‚Äôt simply ‚Äúwait‚Äù when you buy thousands of barrels of oil ‚Äì you have to store those barrels somewhere, and it will cost you an arm and a leg. The storage costs will eat up your contango premium, plus some.</p>



<p>There were occurrences in the past where traders were able to arbitrage this premium, but the contango needed to be absolutely off-the-charts (‚Äúsuper-contango‚Äù). For instance, after the 2008 financial panic, the spread between spot and futures in the oil market was so big, <a href="https://doc.rero.ch/record/323428/files/TDIBM_Loris_Beltramello.pdf">traders would literally rent tankers and use them as storage facilities</a> for oil, waiting for their futures leg to mature.</p>



<p>The reason contango for financial products isn‚Äôt normal, is that you can arbitrage it very easily, as you don‚Äôt have storage costs. You buy Bitcoin spot, sell an April future for 4% more than spot, and simply wait two months.</p>



<figure><img src="http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-16-at-13.42.35.png" alt="" srcset="http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-16-at-13.42.35.png 952w, http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-16-at-13.42.35-300x79.png 300w, http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-16-at-13.42.35-768x203.png 768w" sizes="(max-width: 952px) 100vw, 952px"></figure>



<p>At expiry, you‚Äôll sell your Bitcoin at a certain price, while the future will settle at the exact same price, and you‚Äôll collect the premium. Your only cost is the carry, i.e. the interest you have forfeited on the cash you used to buy Bitcoin, but this is virtually zero today.</p>



<p>Why the premium, then? Why don‚Äôt hedge funds with hundreds of billions of dollars to spare don‚Äôt arbitrage the Bitcoin contango down to zero?</p>



<h3>Credit risk?</h3>



<p>One quick answer would be that you aren‚Äôt guaranteed to close your trade because of counterparty risk. This is what happened when Lehman went bust ‚Äì all the hedge funds that had OTC derivatives positions with Lehman as one leg of a trade, suddenly saw the ‚ÄúLehman leg‚Äù disappear, while the other leg was still there. Lehman going bust single handedly destroyed the convertible bonds market, as hedge funds who had bought convertible bonds and hedged their risks (credit, volatility, equity risks ‚Äì you name it) with Lehman, suddenly were out of hedges, and had to sell their cash position (their convertible bonds) at literally any price.</p>



<p>But there is no counterparty risk here. You can‚Äôt lose your Bitcoins ‚Äì you just keep them on chain, and no exchange going bust will affect your position. CME can‚Äôt go bust ‚Äì it has margin calls, initial margin deposits, has a guarantee fund, and is almost explicitly guaranteed by the Fed because of its critical importance to financial markets.</p>



<p>So, again, why is nobody picking those hundred dollar bills lying on the street?</p>



<h3>Systemic risk</h3>



<p>There is one risk that you can‚Äôt edge ‚Äì that of the world collapsing overnight, when there‚Äôs nobody left to pay you even if you win your bet. Imagine shorting USDT on Binance. What happens if you‚Äôre right and USDT goes to zero? Do you really think Binance will still be around to pay you?</p>



<p>You can always say, ‚Äúbah, I‚Äôll see it coming, the moment shit starts to hit the fan, I‚Äôll close my positions‚Äù. But what if you don‚Äôt have the time to do so? What if a black swan event happens overnight?</p>



<p>This is the risk with Bitcoin. A whim from regulators, like passing the STABLE act, and all USDT exchanges go bust. What will happen to Bitcoin futures then? CME uses the ‚Äú<a href="https://www.cmegroup.com/trading/cryptocurrency-indices.html">Bitcoin Reference Rate</a>‚Äù (BRR) to calculate the spot for its Bitcoin futures, which is a weighted average of the spots taken from multiple crypto exchanges, the list of which changes over time. What happens if the Bitcoin ecosystem collapses, the prices of Bitcoin on half of those exchanges go to 100,000 on paper because those exchanges become insolvent and people rush for the exits by buying Bitcoin to try and send it to their own wallets (as happened with MtGox)? Futures skyrocket because of a technicality, CME is slow to react, and you get wiped out on your ‚Äúshort futures‚Äù leg ‚Äì while you can‚Äôt really sell the ‚Äúlong Bitcoin‚Äù leg either, because every exchange is on fire and nobody processes redemption requests.</p>



<h3>Implied probability of default</h3>



<p>This risk is rewarded handsomely ‚Äì a big fat 2% per month. With interest rates at zero, we can borrow a formula from the Credit Default Swaps market to calculate the <a href="https://quant.stackexchange.com/questions/15986/how-to-compute-the-implied-probability-of-default-from-a-cds-spread#:~:text=Risk%2Dneutral%20default%20probability%20implied,R%20is%20the%20recovery%20rate.&amp;text=Hulls%20equation%20is%20a%20gross,works%20for%20all%20tenor%20points.">implied probability of default</a>, which we‚Äôll <a href="http://nzz-files-prod.s3-website-eu-west-1.amazonaws.com/files/4/1/2/cds+deutsche+bank+161214_1.18446412.pdf">simplify to the extreme</a>:</p>



<p><strong>p = S/(1-R)</strong></p>



<p>Where p is the probability of default, S the annual ‚Äúswap rate‚Äù that compensates for that probability, and R the recovery rate, i.e. how much you can expect to recoup from your investment if a default occurs.</p>



<p>In our case, S = 24% (12 months in a year, at 2% for each month), and R ‚âà 50% based on what happened after MtGox collapsed. This means that we assume you‚Äôll be able to cash out in the event of an apocalypse with an average 50% loss. Remember, this is assuming that you are hedged!</p>



<p>This gives us an implied probability of default p ‚âà 50% over the next year. Again, that‚Äôs the probability of the whole Bitcoin ecosystem collapsing overnight, not giving you the time to close your positions, cutting you off from exchanges, and where CME futures no longer trade.</p>



<p>This is the risk as it‚Äôs being priced by the market, on relatively liquid financial instruments. So the next time someone tries to explain to you that ‚ÄúBitcoin is a store of value‚Äù, when the chances of it getting utterly destroyed overnight before the year is over are around 50/50, try not to shoot coffee through your nose laughing.</p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

			
</article><!-- #post-${ID} -->

	<nav role="navigation">
		<h2>Post navigation</h2>
		
	</nav>
<!-- #comments -->

		</main><!-- #main -->
	</section><!-- #primary -->


	</div></div>]]>
            </description>
            <link>http://www.tr0lly.com/bitcoin/bitcoins-overnight-collapse-probability-is-about-50/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26155158</guid>
            <pubDate>Tue, 16 Feb 2021 16:04:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Haskell Database Implementation ‚Äì Part 1, Growing a Tree]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26154917">thread link</a>) | @gbrown_
<br/>
February 16, 2021 | https://dfithian.github.io/2021/02/15/database-implementation-part-1.html | <a href="https://web.archive.org/web/*/https://dfithian.github.io/2021/02/15/database-implementation-part-1.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p><span>This site uses third party cookies and scripts to improve the functionality of this website.</span><a id="cookie-notice-accept">Approve</a></p><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>Having started my career as a software developer in 2013 with an undergraduate degree in Mathematics, I never got the
chance to take some of the higher-level courses on subjects like compilers, programming languages, or databases. In 2020
I set out to correct some of the gaps in my knowledge, and one of the ways I did so was by writing my own database, in
Haskell, from scratch. This series of posts chronicles the decisions I made along the way.</p>

<p>If you‚Äôd like to skip ahead and read the code, it‚Äôs <a href="https://github.com/dfithian/dfdb">here</a>.</p>

<h2 id="what-i-was-interested-in">What I was interested in</h2>

<p>In starting this project, I was most interested in (a) how the data was stored, (b) transactionality, and (c) how
indexes work.</p>

<p>I found out pretty quickly that data is stored in a B-tree (see below) in most circumstances. Since there are many
how-tos out there already I decided I was more interested in index creation and management. Nevertheless, in order to
index my data I‚Äôd still need a tree representation, and I hadn‚Äôt written one in a while, so I made a halfhearted
attempt.</p>

<h2 id="efficient-searches-use-trees">Efficient searches use trees</h2>

<p>In any most implementations you‚Äôd probably want to use a <a href="https://en.wikipedia.org/wiki/B-tree">B Tree</a> as the
underlying data structure. The TL;DR is that B-trees are good at managing access to files while keeping only small
chunks of those files in memory at any time.</p>

<p>I ended up settling on using a <a href="https://en.wikipedia.org/wiki/Red%E2%80%93black_tree">Red Black Tree</a>. It has many of
the same properties as the B Tree (self balancing, efficient), and is simpler since it doesn‚Äôt need access to a file
system. Since this was mostly a project for my own learning, I figured I could just write the tree to disk whenever I
wished.</p>

<h3 id="tree-definition">Tree definition</h3>

<p>I won‚Äôt go into the implementation specifics, since the algorithm is copied from the Wikipedia article, but I‚Äôll quickly
go over the data declaration so that later discussion makes sense.</p>

<div><div><pre><code><span>data</span> <span>Color</span> <span>=</span> <span>Red</span> <span>|</span> <span>Black</span>
  <span>deriving</span> <span>(</span><span>Eq</span><span>,</span> <span>Ord</span><span>,</span> <span>Generic</span><span>)</span>

<span>data</span> <span>TreeMap</span> <span>a</span> <span>b</span> <span>=</span> <span>Node</span> <span>!</span><span>a</span> <span>!</span><span>b</span> <span>Color</span> <span>!</span><span>(</span><span>TreeMap</span> <span>a</span> <span>b</span><span>)</span> <span>!</span><span>(</span><span>TreeMap</span> <span>a</span> <span>b</span><span>)</span> <span>|</span> <span>Nil</span>
  <span>deriving</span> <span>(</span><span>Eq</span><span>,</span> <span>Ord</span><span>,</span> <span>Generic</span><span>)</span>

<span>type</span> <span>Tree</span> <span>a</span> <span>=</span> <span>TreeMap</span> <span>a</span> <span>()</span>
</code></pre></div></div>

<p>A <code>TreeMap a b</code> node either contains a key <code>a</code>, a value <code>b</code>, a color, and left/right branches, or is a leaf node (<code>Nil</code>).</p>

<p>For testing purposes, define the <code>Tree</code> type to be unitary values, since we really care about finding and inserting keys
efficiently, and we don‚Äôt really care about the data (other than that it‚Äôs there).</p>

<h3 id="property-testing">Property testing</h3>

<h4 id="definitions">Definitions</h4>

<p>Any recursive code always needs a good set of property tests. Luckily for us, Red Black Trees already have a list of
laws (source: <a href="https://en.wikipedia.org/wiki/Red%E2%80%93black_tree#Properties">Wikipedia</a>):</p>

<blockquote>
  <p>In addition to the requirements imposed on a binary search tree the following must be satisfied by a red‚Äìblack tree:</p>
  <ol>
    <li>Each node is either red or black.</li>
    <li>The root is black. This rule is sometimes omitted. Since the root can always be changed from red to black, but not
necessarily vice versa, this rule has little effect on analysis.</li>
    <li>All leaves (NIL) are black.</li>
    <li>If a node is red, then both its children are black.</li>
    <li>Every path from a given node to any of its descendant NIL nodes goes through the same number of black nodes.</li>
  </ol>
</blockquote>

<h4 id="laws">Laws</h4>

<p>Right out the gate, the first three properties listed above are either correct by construction or trivial to test. We
defined a <code>Color</code> type, with only two constructors, so nodes of the tree can only inhabit one of those two colors.
Testing whether the root node is black isn‚Äôt very interesting, since it‚Äôs easy to set it to black after any operation.
Finally, by omitting a color in the definition of a leaf node we can ensure that its color is black.</p>

<h5 id="binary-search-law">Binary Search Law</h5>

<p>Our first property test is to ensure that any tree we generate adheres to the binary search property.</p>

<div><div><pre><code><span>checkBinary</span> <span>::</span> <span>(</span><span>HasCallStack</span><span>,</span> <span>Ord</span> <span>a</span><span>)</span> <span>=&gt;</span> <span>Tree</span> <span>a</span> <span>-&gt;</span> <span>Bool</span>
<span>checkBinary</span> <span>=</span> <span>\</span> <span>case</span>
  <span>Tree</span><span>.</span><span>Nil</span> <span>-&gt;</span> <span>True</span>
  <span>Tree</span><span>.</span><span>Node</span> <span>x</span> <span>_</span> <span>_</span> <span>tl</span> <span>tr</span> <span>-&gt;</span> <span>all</span> <span>(</span><span>\</span> <span>l</span> <span>-&gt;</span> <span>l</span> <span>&lt;</span> <span>x</span><span>)</span> <span>(</span><span>Tree</span><span>.</span><span>setToList</span> <span>tl</span><span>)</span> <span>&amp;&amp;</span> <span>all</span> <span>(</span><span>\</span> <span>r</span> <span>-&gt;</span> <span>r</span> <span>&gt;</span> <span>x</span><span>)</span> <span>(</span><span>Tree</span><span>.</span><span>setToList</span> <span>tr</span><span>)</span>
</code></pre></div></div>

<p>Here, we check that every element on the left side of the root is less than the root, and vice-versa for the right side.
Since we will be running this test for hundreds of test cases, we don‚Äôt care that we‚Äôre only checking the root node, as
we‚Äôll be generating many different depths.</p>

<h5 id="children-of-red-nodes">Children of Red Nodes</h5>

<p>Our second property test is to ensure that children of a red node are black.</p>

<div><div><pre><code><span>checkColor</span> <span>::</span> <span>HasCallStack</span> <span>=&gt;</span> <span>Tree</span> <span>a</span> <span>-&gt;</span> <span>Bool</span>
<span>checkColor</span> <span>=</span> <span>\</span> <span>case</span>
  <span>Tree</span><span>.</span><span>Nil</span> <span>-&gt;</span> <span>True</span>
  <span>Tree</span><span>.</span><span>Node</span> <span>_</span> <span>_</span> <span>Tree</span><span>.</span><span>Red</span> <span>(</span><span>Tree</span><span>.</span><span>Node</span> <span>_</span> <span>_</span> <span>Tree</span><span>.</span><span>Red</span> <span>_</span> <span>_</span><span>)</span> <span>_</span> <span>-&gt;</span> <span>False</span>
  <span>Tree</span><span>.</span><span>Node</span> <span>_</span> <span>_</span> <span>Tree</span><span>.</span><span>Red</span> <span>_</span> <span>(</span><span>Tree</span><span>.</span><span>Node</span> <span>_</span> <span>_</span> <span>Tree</span><span>.</span><span>Red</span> <span>_</span> <span>_</span><span>)</span> <span>-&gt;</span> <span>False</span>
  <span>Tree</span><span>.</span><span>Node</span> <span>_</span> <span>_</span> <span>_</span> <span>tl</span> <span>tr</span> <span>-&gt;</span> <span>checkColor</span> <span>tl</span> <span>&amp;&amp;</span> <span>checkColor</span> <span>tr</span>
</code></pre></div></div>

<p>Pretty straighforward; if we unpack a red node, and it has a red child, fail the test case.</p>

<h5 id="path-counting">Path Counting</h5>

<p>Finally, we want to test that the distance from the root to all leaves passes through the same number of black nodes.</p>

<div><div><pre><code><span>checkPathCount</span> <span>::</span> <span>HasCallStack</span> <span>=&gt;</span> <span>Tree</span> <span>a</span> <span>-&gt;</span> <span>Bool</span>
<span>checkPathCount</span> <span>t</span> <span>=</span>
  <span>let</span> <span>go</span> <span>=</span> <span>\</span> <span>case</span>
        <span>Tree</span><span>.</span><span>Nil</span> <span>-&gt;</span> <span>(</span><span>0</span> <span>::</span> <span>Int</span><span>,</span> <span>True</span><span>)</span>
        <span>Tree</span><span>.</span><span>Node</span> <span>_</span> <span>_</span> <span>c</span> <span>tl</span> <span>tr</span> <span>-&gt;</span>
          <span>let</span> <span>(</span><span>il</span><span>,</span> <span>bl</span><span>)</span> <span>=</span> <span>go</span> <span>tl</span>
              <span>(</span><span>ir</span><span>,</span> <span>br</span><span>)</span> <span>=</span> <span>go</span> <span>tr</span>
              <span>j</span> <span>=</span> <span>if</span> <span>c</span> <span>==</span> <span>Tree</span><span>.</span><span>Black</span> <span>then</span> <span>1</span> <span>+</span> <span>il</span> <span>else</span> <span>il</span>
          <span>in</span> <span>(</span><span>j</span><span>,</span> <span>bl</span> <span>&amp;&amp;</span> <span>br</span> <span>&amp;&amp;</span> <span>il</span> <span>==</span> <span>ir</span><span>)</span>
  <span>in</span> <span>snd</span> <span>$</span> <span>go</span> <span>t</span>
</code></pre></div></div>

<p>Pass a counter through a traversal of the tree. For each subtree, verify that its subtrees satisfy the predicate, and
increment the counter if the root node of that subtree is black. Warning, you may have to squint.</p>

<h4 id="writing-tests">Writing tests</h4>

<p>We want to ensure that any mutation we apply to a tree results in a tree that satisfies the laws we set out above. For
simplicity, I have outlined only tree creation and element insertion here, but we would want to property test each
operation.</p>

<div><div><pre><code><span>genTree</span> <span>::</span> <span>Ord</span> <span>a</span> <span>=&gt;</span> <span>Gen</span> <span>a</span> <span>-&gt;</span> <span>Gen</span> <span>(</span><span>Tree</span> <span>a</span><span>)</span>
<span>genTree</span> <span>gen</span> <span>=</span> <span>Tree</span><span>.</span><span>setFromList</span> <span>&lt;$&gt;</span> <span>listOf</span> <span>gen</span>

<span>genIntTree</span> <span>::</span> <span>Gen</span> <span>(</span><span>Tree</span> <span>Int</span><span>)</span>
<span>genIntTree</span> <span>=</span> <span>genTree</span> <span>arbitrary</span>

<span>runTests</span> <span>::</span> <span>(</span><span>HasCallStack</span><span>,</span> <span>Ord</span> <span>a</span><span>,</span> <span>Show</span> <span>b</span><span>)</span> <span>=&gt;</span> <span>String</span> <span>-&gt;</span> <span>Gen</span> <span>b</span> <span>-&gt;</span> <span>(</span><span>b</span> <span>-&gt;</span> <span>Tree</span> <span>a</span><span>)</span> <span>-&gt;</span> <span>Spec</span>
<span>runTests</span> <span>d</span> <span>gen</span> <span>f</span> <span>=</span> <span>do</span>
  <span>prop</span> <span>(</span><span>d</span> <span>&lt;&gt;</span> <span>": binary"</span><span>)</span> <span>$</span> <span>forAll</span> <span>gen</span> <span>$</span> <span>checkBinary</span> <span>.</span> <span>f</span>
  <span>prop</span> <span>(</span><span>d</span> <span>&lt;&gt;</span> <span>": color"</span><span>)</span> <span>$</span> <span>forAll</span> <span>gen</span> <span>$</span> <span>checkColor</span> <span>.</span> <span>f</span>
  <span>prop</span> <span>(</span><span>d</span> <span>&lt;&gt;</span> <span>": path count"</span><span>)</span> <span>$</span> <span>forAll</span> <span>gen</span> <span>$</span> <span>checkPathCount</span> <span>.</span> <span>f</span>

<span>spec</span> <span>::</span> <span>Spec</span>
<span>spec</span> <span>=</span> <span>describe</span> <span>"Tree"</span> <span>$</span> <span>do</span>
  <span>runTests</span> <span>"generation"</span> <span>genIntTree</span> <span>id</span>
  <span>runTests</span> <span>"insertion"</span> <span>((,)</span> <span>&lt;$&gt;</span> <span>arbitrary</span> <span>&lt;*&gt;</span> <span>genIntTree</span><span>)</span> <span>$</span> <span>uncurry</span> <span>Tree</span><span>.</span><span>insertSet</span>
</code></pre></div></div>

<p>And that‚Äôs it!</p>

<h2 id="to-be-continued">To be continued</h2>

<p>Thanks for reading! Part 2, on the DSL and transactions, is <a href="https://dfithian.github.io/2021/02/18/database-implementation-part-2.html">here</a>.</p>

<p>As always, I‚Äôd love to hear anything I‚Äôve mixed up, especially in this case from database experts. Find me on fpchat
(<code>@dfithian</code>) or reddit (<code>/u/dfith</code>).</p>

  </div>
</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://dfithian.github.io/2021/02/15/database-implementation-part-1.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26154917</guid>
            <pubDate>Tue, 16 Feb 2021 15:43:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bank of Italy has measured Italian inflation expectations using Twitter]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26154915">thread link</a>) | @giuliomagnifico
<br/>
February 16, 2021 | https://www.bancaditalia.it/pubblicazioni/temi-discussione/2021/2021-1318/index.html?com.dotmarketing.htmlpage.language=1 | <a href="https://web.archive.org/web/*/https://www.bancaditalia.it/pubblicazioni/temi-discussione/2021/2021-1318/index.html?com.dotmarketing.htmlpage.language=1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>The paper suggests new daily indicators of consumers' inflation expectations built using machine learning techniques and textual analysis drawn from the microblogging and social networking service, Twitter. Trends in these indicators are compared both with monthly inflation expectations based on the Istat surveys and with those obtained daily from the market prices of derivative contracts on inflation (inflation swaps), which measure the expectations only indirectly, because they include unobservable risk premia.</p>
<p>Adopting the most recent specific algorithms for dealing with big and voluminous data (Big Data Analytics), the paper shows that the Twitter-based indicators are significantly correlated with the other existing measures of inflation expectations. Furthermore, these indicators have a superior forecasting power for survey-based monthly inflation expectations than all the other available sources. Therefore, they represent an additional source of information available in real time.</p></div></div>]]>
            </description>
            <link>https://www.bancaditalia.it/pubblicazioni/temi-discussione/2021/2021-1318/index.html?com.dotmarketing.htmlpage.language=1</link>
            <guid isPermaLink="false">hacker-news-small-sites-26154915</guid>
            <pubDate>Tue, 16 Feb 2021 15:43:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Web Application Security Checklist]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26154812">thread link</a>) | @selteo
<br/>
February 16, 2021 | https://www.appsecmonkey.com/blog/web-application-security-checklist/ | <a href="https://web.archive.org/web/*/https://www.appsecmonkey.com/blog/web-application-security-checklist/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2 id="overview"><a href="#overview">Overview</a></h2><p>It's scary out there for developers! One mistake in the code, one vulnerability in a dependency, one compromised developer workstation, and your database is in Pastebin and you're on the news.</p><p>So where to look for guidance? <a href="https://owasp.org/www-project-top-ten/" target="_blank">OWASP's top 10 list</a> is just too short and focuses more on listing vulnerabilities than defenses. Whereas the <a href="https://owasp.org/www-project-application-security-verification-standard/" target="_blank">ASVS</a> list is rather cryptic and vague for practical purposes.</p><p>This article is an attempt at the golden mean. We'll go through some practical steps that you can take to secure your web application from all angles. Let's begin!</p><ul><li><a href="#defending-threats-on-the-browser-side">Defending Threats On The Browser Side</a><ul><li><a href="#-use-https-and-only-https-to-protect-your-users-from-network-attacks">Use HTTPS and only HTTPS to protect your users from network attacks</a></li><li><a href="#-use-hsts-and-preloading-to-protect-your-users-from-ssl-stripping-attacks">Use HSTS and preloading to protect your users from SSL stripping attacks</a></li><li><a href="#-serve-cookies-with-the-secure-attribute-to-protect-your-user-from-network-attacks">Serve cookies with the 'Secure' attribute to protect your user from network attacks</a></li><li><a href="#-generate-html-safely-to-avoid-xss-vulnerabilities">Generate HTML safely to avoid XSS vulnerabilities</a></li><li><a href="#-use-javascript-safely-to-avoid-xss-vulnerabilities">Use JavaScript safely to avoid XSS vulnerabilities</a></li><li><a href="#-sanitize-and-sandbox-untrusted-content-to-avoid-xss-vulnerabilities">Sanitize and sandbox untrusted content to avoid XSS vulnerabilities</a></li><li><a href="#-implement-an-effective-content-security-policy-to-protect-your-users-from-xss-and-other-vulnerabilities">Implement an effective Content Security Policy to protect your users from XSS and other vulnerabilities</a></li><li><a href="#-serve-cookies-with-the-httponly-attribute-to-protect-them-from-xss-attacks">Serve cookies with the HttpOnly attribute to protect them from XSS attacks</a></li><li><a href="#-serve-downloads-with-a-proper-content-disposition-header-to-avoid-xss-vulnerabilities">Serve downloads with a proper Content-Disposition header to avoid XSS vulnerabilities</a></li><li><a href="#-serve-api-responses-with-a-proper-content-disposition-header-to-avoid-reflected-download-vulnerabilities">Serve API responses with a proper Content-Disposition header to avoid reflected download vulnerabilities</a></li><li><a href="#-use-your-platforms-anti-csrf-mechanism-to-avoid-csrf-vulnerabilities">Use your platform's anti-CSRF mechanism to avoid CSRF vulnerabilities</a></li><li><a href="#-validate-the-oauthoidc-state-parameter-to-avoid-csrf-vulnerabilities">Validate the OAuth/OIDC state parameter to avoid CSRF vulnerabilities</a></li><li><a href="#-use-http-verbs-properly-to-avoid-csrf-vulnerabilities">Use HTTP verbs properly to avoid CSRF vulnerabilities</a></li><li><a href="#-serve-cookies-with-the-samesite-attribute-to-protect-your-users-from-csrf-vulnerabilities-and-optionally-defend-xss-as-well">Serve cookies with the SameSite attribute to protect your users from CSRF vulnerabilities and optionally defend XSS as well</a></li><li><a href="#-create-a-fresh-session-id-on-login-to-protect-against-session-fixation-attacks">Create a fresh session ID on login to protect against session fixation attacks</a></li><li><a href="#-name-your-cookies-right-to-protect-against-session-fixation-attacks">Name your cookies right to protect against session fixation attacks</a></li><li><a href="#-serve-proper-cache-control-headers-to-protect-your-users-data-from-subsequent-computer-users">Serve proper Cache-Control headers to protect your user's data from subsequent computer users</a></li><li><a href="#--serve-a-clear-site-data-header-upon-log-out-to-protect-your-users-data-from-subsequent-computer-users">Serve a Clear-Site-Data header upon log out to protect your user's data from subsequent computer users</a></li><li><a href="#-log-your-users-out-properly-to-protect-their-data-from-subsequent-computer-users">Log your users out properly to protect their data from subsequent computer users</a></li><li><a href="#-use-sessionstorage-for-javascript-secrets-to-protect-your-users-data-from-subsequent-computer-users">Use SessionStorage for JavaScript secrets to protect your user's data from subsequent computer users</a></li><li><a href="#-dont-transmit-sensitive-data-in-the-url-because-urls-are-not-designed-to-be-secret">Don't transmit sensitive data in the URL because URLs are not designed to be secret</a></li><li><a href="#--use-a-referrer-policy-to-prevent-url-addresses-from-leaking-to-other-websites">Use a referrer policy to prevent URL addresses from leaking to other websites</a></li><li><a href="#-use-a-unique-domain-name-for-your-application-to-protect-it-from-other-applications-under-the-same-origin-and-vice-versa">Use a unique domain name for your application to protect it from other applications under the same origin (and vice versa)</a></li><li><a href="#-dont-use-cors-unless-you-have-to-and-if-you-have-to-be-careful-with-it">Don't use CORS unless you have to, and if you have to, be careful with it</a></li><li><a href="#-use-websockets-properly-to-avoid-csrf-and-other-vulnerabilities">Use WebSockets properly to avoid CSRF and other vulnerabilities</a></li><li><a href="#-use-u2f-tokens-or-client-certificates-to-protect-your-critical-users-from-phishing-attacks">Use U2F tokens or client certificates to protect your critical users from phishing attacks</a></li></ul></li><li><a href="#defending-threats-on-server-side---application">Defending Threats On Server Side - Application</a><ul><li><a href="#-validate-input-properly-to-protect-your-application-from-so-many-vulnerabilities">Validate input properly to protect your application from... so many vulnerabilities</a></li><li><a href="#-catch-exceptions-gracefully-to-avoid-leaking-technical-details">Catch exceptions gracefully to avoid leaking technical details</a></li><li><a href="#-dont-do-authentication-yourself">Don't do authentication yourself</a></li><li><a href="#-authenticate-everything-to-reduce-the-attack-surface">Authenticate everything to reduce the attack surface</a></li><li><a href="#-use-mfa-in-your-application-to-break-the-trust-relationship-to-the-identity-provider">Use MFA in your application to break the trust relationship to the identity provider</a></li><li><a href="#-use-strict-access-controls-to-prevent-unauthorized-access-to-data-or-functionality">Use strict access controls to prevent unauthorized access to data or functionality</a></li><li><a href="#-use-proper-tools-and-techniques-to-avoid-injection-vulnerabilities">Use proper tools and techniques to avoid injection vulnerabilities</a></li><li><a href="#-construct-database-queries-safely-to-avoid-sql-injection-vulnerabilities">Construct database queries safely to avoid SQL injection vulnerabilities</a></li><li><a href="#-if-you-must-run-os-commands-do-it-right-to-avoid-command-injection-and-related-vulnerabilities">If you must run OS commands, do it right to avoid command injection and related vulnerabilities</a></li><li><a href="#-avoid-xml-vulnerabilities-by-configuring-your-parsers-properly">Avoid XML vulnerabilities by configuring your parsers properly</a></li><li><a href="#-avoid-url-injection-vulnerabilities-by-using-proper-class-for-url-construction">Avoid URL injection vulnerabilities by using proper class for URL construction</a></li><li><a href="#-avoid-path-traversal-vulnerabilities-by-using-a-proper-class-to-construct-the-paths">Avoid path traversal vulnerabilities by using a proper class to construct the paths</a></li><li><a href="#-dont-use-the-filesystem-for-untrusted-content-eg-uploads-if-you-can-avoid-it">Don't use the filesystem for untrusted content (e.g. uploads) if you can avoid it</a></li><li><a href="#-dont-execute-dynamic-code-to-avoid-remote-code-execution-vulnerabilities">Don't execute dynamic code to avoid remote code execution vulnerabilities</a></li><li><a href="#-use-serialization-carefully-to-avoid-deserialization-vulnerabilities">Use serialization carefully to avoid deserialization vulnerabilities</a></li></ul></li><li><a href="#defending-threats-on-server-side---infrastructure">Defending Threats On Server Side - Infrastructure</a><ul><li><a href="#-use-a-waf">Use a WAF</a></li><li><a href="#-configure-your-web-server-carefully-to-avoid-http-desync-attacks">Configure your web server carefully to avoid HTTP desync attacks</a></li><li><a href="#-use-containers">Use containers</a></li><li><a href="#-use-selinuxapparmor">Use SELinux/AppArmor</a></li><li><a href="#-use-service-accounts-with-minimum-privileges">Use service accounts with minimum privileges</a></li><li><a href="#-restrict-egress-network-connections">Restrict egress network connections</a></li><li><a href="#-keep-track-of-your-dns-records-to-prevent-subdomain-takeovers">Keep track of your DNS records to prevent subdomain takeovers</a></li></ul></li><li><a href="#defending-threats-on-server-side---architecture">Defending Threats On Server Side - Architecture</a><ul><li><a href="#-create-an-internal-api-for-accessing-data-sources-to-get-rid-of-dangerous-trust-boundaries">Create an internal API for accessing data sources to get rid of dangerous trust boundaries</a></li><li><a href="#-encrypt-and-authenticate-all-connections">Encrypt and authenticate all connections</a></li><li><a href="#-manage-secrets-centrally">Manage secrets centrally</a></li></ul></li><li><a href="#defending-threats-on-server-side---monitoring">Defending Threats On Server Side - Monitoring</a><ul><li><a href="#-collect-analyze-alert">Collect, analyze, alert</a></li><li><a href="#-collect-application-security-events">Collect application security events</a></li><li><a href="#-collect-runtime-security-logs">Collect runtime security logs</a></li><li><a href="#-collect-selinuxapparmor-logs">Collect SELinux/AppArmor logs</a></li><li><a href="#-collect-webserver-events">Collect webserver events</a></li><li><a href="#-collect-waf-logs">Collect WAF logs</a></li></ul></li><li><a href="#defending-threats-on-server-side---incident-response">Defending Threats On Server Side - Incident Response</a><ul><li><a href="#-have-a-plan">Have a plan</a></li></ul></li><li><a href="#secure-development-considerations">Secure Development Considerations</a><ul><li><a href="#-threat-model">Threat model</a></li><li><a href="#-force-peer-review-in-source-control">Force peer review in source control</a></li><li><a href="#-automate-the-ci-pipeline-and-restrict-mere-mortal-access-to-it">Automate the CI pipeline and restrict mere mortal access to it</a></li><li><a href="#-sign-the-build-artifacts">Sign the build artifacts</a></li><li><a href="#-run-a-static-application-security-scanner-as-part-of-the-ci-pipeline">Run a static application security scanner as part of the CI pipeline</a></li><li><a href="#-verify-dependencies-on-build-and-keep-them-at-a-minimum">Verify dependencies on build and keep them at a minimum</a></li><li><a href="#-run-a-dependency-security-scanner-as-part-of-the-ci-pipeline">Run a dependency security scanner as part of the CI pipeline</a></li><li><a href="#-run-a-container-image-security-scanner-as-part-of-the-ci-pipeline">Run a container image security scanner as part of the CI pipeline</a></li><li><a href="#-automate-deployments-and-validate-signatures">Automate deployments and validate signatures</a></li><li><a href="#-have-a-security-champion">Have a security champion</a></li></ul></li><li><a href="#conclusion">Conclusion</a></li></ul><h2 id="defending-threats-on-the-browser-side"><a href="#defending-threats-on-the-browser-side">Defending Threats On The Browser Side</a></h2><p>There are a couple of threats on the end user's side that you as a developer can help mitigate. They include: </p><ul><li>Attacks through malicious websites/links in the user's browser.</li><li>Attacks on the user's local network.</li><li>Attacks where someone accesses a shared web browser before or after the user (for example if sensitive information is left in the browser cache then subsequent computer users will be able to retrieve it even if the previous user has logged out).</li></ul><h3 id="-use-https-and-only-https-to-protect-your-users-from-network-attacks"><a href="#-use-https-and-only-https-to-protect-your-users-from-network-attacks"><i></i> Use HTTPS and only HTTPS to protect your users from network attacks</a></h3><p><img alt="https" src="https://www.appsecmonkey.com/img/web-application-security-checklist/https.png"></p><p>This one you probably already knew. Encrypt <strong>all</strong> connections between your user's web browser and your web server. Doesn't hurt to also disable some of the older cipher suites and protocols.</p><p>It is <strong>not</strong> enough to encrypt the "sensitive" portions of a website. A single unencrypted HTTP request anywhere under the <em>domain</em> can be intercepted by an attacker on the network, who can then forge a response from the server with malicious content in it.</p><p>Luckily HTTPS is easy these days, you can get both the certificate (LetsEncrypt) and tools for automatic certificate creation/management (CertBot) free of charge.</p><blockquote><p><i></i> Further reading</p><ul><li><a href="https://www.ssl.com/guide/ssl-best-practices/" target="_blank">SSL/TLS Best Practices for 2021</a></li><li><a href="https://letsencrypt.org/" target="_blank">LetsEncrypt</a></li><li><a href="https://certbot.eff.org/" target="_blank">CertBot</a></li></ul></blockquote><h3 id="-use-hsts-and-preloading-to-protect-your-users-from-ssl-stripping-attacks"><a href="#-use-hsts-and-preloading-to-protect-your-users-from-ssl-stripping-attacks"><i></i> Use HSTS and preloading to protect your users from SSL stripping attacks</a></h3><p>HSTS or <code>Strict-Transport-Security</code> is a header that can be used to tell web browsers that <em>from here on always use an encrypted connection (HTTPS) when connecting to this domain</em>.</p><p>This will prevent so-called <em>SSL stripping</em> attacks where an attacker on the network intercepts the very first HTTP request made by a browser (which is often unencrypted), and forges a reply to that unencrypted HTTP request right away, pretending to be the server and downgrading the connection to intercepted plaintext HTTP from then on.</p><p>One caveat is that HSTS will only protect an application if the user has already successfully visited it before. To overcome this limitation you should submit your site to <a href="https://hstspreload.org/" target="_blank">https://hstspreload.org</a> so browser vendors can hard code your domain to the HSTS list.</p><h4 id="example">Example</h4><pre><code><span>Strict-Transport-Security</span><span>:</span> max<span>-</span>age=63072000; includeSubDomains; preload</code></pre><blockquote><h4 id="-warning"><i></i> Warning</h4><p>Be mindful when implementing HSTS. It <em>will</em> force encrypted traffic to your website and if you still have plain text your website could break. So start with a small <code>max-age</code> and ramp it up once you're confident that everything still functions properly. And leave preloading as the last step because it's painful to cancel.</p></blockquote><blockquote><p><i></i> Further reading</p><ul><li><a href="https://hstspreload.org/" target="_blank">hstspreload.org</a></li><li><a href="https://tools.kali.org/information-gathering/sslstrip" target="_blank">sslstrip</a></li></ul></blockquote><h3 id="-serve-cookies-with-the--secure--attribute-to-protect-your-user-from-network-attacks"><a href="#-serve-cookies-with-the--secure--attribute-to-protect-your-user-from-network-attacks"><i></i> Serve cookies with the 'Secure' attribute to protect your user from network attacks</a></h3><p>Configure your cookies with the <code>Secure</code> attribute. This will prevent them from being leaked over an (accidental or forced) unencrypted connection.</p><pre><code><span>Set-Cookie</span><span>:</span> foo=bar; <span>...</span>other options<span>...</span> Secure</code></pre><blockquote><p><i></i> Further reading</p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies#restrict_access_to_cookies" target="_blank">Secure Cookies</a></li></ul></blockquote><h3 id="-generate-html-safely-to-avoid-xss-vulnerabilities"><a href="#-generate-html-safely-to-avoid-xss-vulnerabilities"><i></i> Generate HTML safely to avoid XSS vulnerabilities</a></h3><p>To avoid XSS (Cross-Site Scripting) vulnerabilities, use one of the following: </p><ol><li>Completely static websites (e.g. JavaScript SPA + backend API). The most effective way to avoid problems with generating HTML is not to generate HTML at all.</li><li>A template engine. If you have a traditional web application where HTML is generated and parameterized on the backend server, <strong>do not</strong> craft HTML through string concatenation. Instead use a template engine such as <code>Twig</code> for PHP, <code>Thymeleaf</code> for Java, <code>Jinja2</code> for Python, and so on.</li></ol><p>If you use a template engine, ensure it's configured correctly to automatically encode parameters properly, and don't use any "insecure" functions that bypass the automatic encoding.</p><blockquote><p><i></i> Further reading</p><ul><li><a href="https://www.appsecmonkey.com/blog/xss-attack-and-prevention/" target="_blank">XSS Attacks &amp; Prevention</a></li><li><a href="https://github.com/twigphp/Twig" target="_blank">Twig</a></li><li><a href="https://www.thymeleaf.org/" target="_blank">Thymeleaf</a></li><li><a href="https://jinja2docs.readthedocs.io/en/stable/" target="_blank">Jinja2</a></li></ul></blockquote><h3 id="-use-javascript-safely-to-avoid-xss-vulnerabilities"><a href="#-use-javascript-safely-to-avoid-xss-vulnerabilities"><i></i> Use JavaScript safely to avoid XSS vulnerabilities</a></h3><p>To avoid XSS (Cross-Site Scripting) vulnerabilities on the JavaScript side, don't pass any untrusted data into functions or properties that could end up executing code. You have to use common sense here but some of the usual suspects are: </p><ul><li><code>eval</code>, <code>setTimeout</code>, <code>setInterval</code>, etc.</li><li><code>innerHTML</code>, React's <code>dangerouslySetInnerHTML</code>, etc.</li><li><code>onClick</code>, <code>onMouseEnter</code>, <code>onError</code>, etc.</li><li><code>href</code>, <code>src</code>, etc.</li><li><code>location</code>, <code>location.href</code>, etc.</li></ul><blockquote><p><i></i> Further reading</p><ul><li><a href="https://www.appsecmonkey.com/blog/xss-attack-and-prevention/" target="_blank">XSS Attacks &amp; Prevention</a></li><li><a href="https://portswigger.net/web-security/cross-site-scripting/dom-based" target="_blank">DOM-based XSS</a></li></ul></blockquote><h3 id="-sanitize-and-sandbox-untrusted-content-to-avoid-xss-vulnerabilities"><a href="#-sanitize-and-sandbox-untrusted-content-to-avoid-xss-vulnerabilities"><i></i> Sanitize and sandbox untrusted content to avoid XSS vulnerabilities</a></h3><p>It's best to just avoid untrusted content. But sometimes you have to retrieve raw HTML from e.g. a remote source and then render it on your website. Or maybe you have to allow your users to write posts with a WYSIWYG editor. There are many use cases.</p><p>To avoid XSS (Cross-Site Scripting) vulnerabilities in these scenarios, sanitize the content first with <code>DOMPurify</code> and then render it inside a sandboxed frame.</p><p>Even if your WYSIWYG library claims to remove evilness from the HTML, you can break this trust relationship <em>"I trust my WYSIWYG library to sanitize the content"</em> by re-purifying and sandboxing the content nevertheless. The more trust relationships you break the more secure your application gets.</p><blockquote><p><i></i> Further reading</p><ul><li><a href="https://www.appsecmonkey.com/blog/xss-attack-and-prevention/" target="_blank">XSS Attacks &amp;‚Ä¶</a></li></ul></blockquote></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.appsecmonkey.com/blog/web-application-security-checklist/">https://www.appsecmonkey.com/blog/web-application-security-checklist/</a></em></p>]]>
            </description>
            <link>https://www.appsecmonkey.com/blog/web-application-security-checklist/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26154812</guid>
            <pubDate>Tue, 16 Feb 2021 15:34:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Computers Aren't Fun Anymore (2020)]]>
            </title>
            <description>
<![CDATA[
Score 72 | Comments 71 (<a href="https://news.ycombinator.com/item?id=26154754">thread link</a>) | @hacksilver
<br/>
February 16, 2021 | https://feifan.blog/posts/computers-arent-fun-anymore | <a href="https://web.archive.org/web/*/https://feifan.blog/posts/computers-arent-fun-anymore">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
<div>
  <article>
    
      <p><img src="https://files.tanagram.app/file/tanagram-data/prod-feifans-blog/penny-farthing.jpeg">
      </p>
<p>
Throughout <a href="https://www.amazon.com/Dream-Machine-M-Mitchell-Waldrop/dp/1732265119"><em>The Dream Machine</em></a>, a history of the early days of computing, tinkering and having fun was a recurring theme throughout the decades. I wasn‚Äôt around to experience the early days of computers myself, but they seemed to be genuinely exciting and rewarding. In the words of MIT sociologist Sherry Turkle: computers empowered their users, making them feel smart[er], ‚Äúin control‚Äù, and ‚Äúmore fully participant in the future‚Äù. </p>
<p>
Those feel like odd descriptions for the modern computing experience. Using computers today doesn‚Äôt feel likeÔøº an empowering experienceÔøº. Sometimes it‚Äôs mindless and distracting. Sometimes, when a redesign rolls out, or laptop doesn‚Äôt wake from sleep mode,Ôøº it‚Äôs downright hostile. The experience of using a computer in 2020 is a concoction of data silos, dinging notifications and reinvented wheels, presented in gratuitously bubble-wrapped UIs hyper-optimized by persnickety product managers and soulless A/B tests. </p>
<p>
For most people, the computing experience is <a href="https://feifan.blog/2020/06/22/no-one-cares-about-software-quality/">clicking around a lot</a>, typing into disparate apps in which your data is trapped except through narrowly-defined, bespoke integrations, and struggling to find <em>that thing you were just reading a few days ago</em> among all the silos. This doesn‚Äôt make anyone feel smarter or more in control. It‚Äôs simply frustrating.</p>
<p>
Software <em>development</em> is stuck in the doldrums too. A massive amount of cumulative engineering effort is spent rebuilding the same primitives<a href="#fn:1" id="fnref:1" title="see footnote">1</a> because the software engineering industry hasn‚Äôt convincingly developed platforms at higher levels of abstraction<a href="#fn:2" id="fnref:2" title="see footnote">2</a>. A significant portion of development effort goes to placating not-invented-here-ness, where companies feel the need to build their own version of every feature, each slightly different (user familiarity be damned). A lot of software is little more than looking up API documentation and plugging one into another. There‚Äôs a dearth of creativity, of joy and discovery, of inventing something interesting and new. </p>
<p>
To be fair, computers ‚Äî both the desktop kind and various mobile kinds ‚Äî enable<a href="#fn:3" id="fnref:3" title="see footnote">3</a> seemingly-impossible<a href="#fn:4" id="fnref:4" title="see footnote">4</a> things<a href="#fn:5" id="fnref:5" title="see footnote">5</a>. But it feels frustrating to see the pioneering spirit that originally led to the development of modern computers giving way to uninspired flat interfaces<a href="#fn:6" id="fnref:6" title="see footnote">6</a> and <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete">CRUD</a> SaaS apps. The things you can do are limited to bespokely-implemented features, dribbled out only as fast as a small team of designers and developers can think of and build them. Of course you have an extensive list of things you <em>wish</em> your phone/computer/most-used apps could do; everyone does. You know the majority of it will remain a wishlist; there‚Äôs almost no hope of the feature you really want being implemented<a href="#fn:7" id="fnref:7" title="see footnote">7</a>. This isn‚Äôt empowering. What‚Äôs more, new features tend to be one-off improvements and ungainly new ways for you to do more work<a href="#fn:8" id="fnref:8" title="see footnote">8</a> rather than adding or improving functionality in a generalized way so you can remix functionality and do things faster.</p>
<p>
For the people who‚Äôve figured out the right incantations to type and buttons-buried-in-submenus to click, computers can automate administrivia, surface information, and make them feel ‚Äúmore fully participant in the future‚Äù. But getting there is an arduous journey, and many people get in a place where computers just make things harder. The experience of using computers is, in various ways, awkward and frustrating (and maybe even dangerous<a href="#fn:9" id="fnref:9" title="see footnote">9</a>) for everyone. Computers were supposed to be bicycles for the mind. So far we only have penny-farthings.</p>

  </article>
</div>
    </div></div>]]>
            </description>
            <link>https://feifan.blog/posts/computers-arent-fun-anymore</link>
            <guid isPermaLink="false">hacker-news-small-sites-26154754</guid>
            <pubDate>Tue, 16 Feb 2021 15:30:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Database Inside Your Codebase]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26154666">thread link</a>) | @hacksilver
<br/>
February 16, 2021 | https://feifan.blog/posts/the-database-inside-your-codebase | <a href="https://web.archive.org/web/*/https://feifan.blog/posts/the-database-inside-your-codebase">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
<div>
  <article>
    
      <p><img src="https://files.tanagram.app/file/tanagram-data/prod-feifans-blog/joshua-sortino-LqKhnDzSF-8-unsplash.jpg">
      </p>
<p>
Navigating codebases of any meaningful size is difficult. Most of a programmer‚Äôs time is spent jumping through the codebase, reading or skimming to build a mental model of the constructs and conventions within it. These constructs ‚Äî among them: the DSLs, interfaces, and taxonomy of types that exist ‚Äî are arguably the most important precursor to understanding where and how to make changes. But these constructs only exist in programmers‚Äô heads. It‚Äôs difficult or impossible to navigate most codebases through the lens of those constructs; programmers lack ‚Äúcode browsers‚Äù that present the underlying code independently of files and the filesystem hierarchy. Yet code browsers that can do so ‚Äî and we‚Äôll look at some examples below ‚Äî would be incredibly useful. This is because instances of these constructs can be thought of as records in a database, albeit an ad-hoc, poorly-specified database that can only be queried through carefully-crafted regexes<a href="#fn:1" id="fnref:1" title="see footnote">1</a>.</p>
<p>
In simple cases, some constructs manifest as naming conventions: prefixes in a name may be a rudimentary way to namespace classes<a href="#fn:2" id="fnref:2" title="see footnote">2</a>, while suffixes may be a rudimentary way to group classes or identify their type<a href="#fn:3" id="fnref:3" title="see footnote">3</a>. But these are easy examples; many patterns are much more subtle.</p>
<h2>
‚ÄúWhere is this used?‚Äù</h2>
<p>
Imagine figuring out ‚Äúwhere is this used?‚Äù, for various types of ‚Äúthis‚Äù:</p>
<p>
Most code editors (perhaps paired with a <a href="https://microsoft.github.io/language-server-protocol/">language server</a>) can show you where local variables are used. This usually also works for finding where methods are invoked ‚Äî although perhaps less reliably in dynamic-dispatch languages, or languages without types.</p>
<p>
What if you want to find where instances of a particular model get created? There may be multiple ways to create a model, so this isn‚Äôt super simple. In Rails, for example, there‚Äôs two built-in ways to create a model: you can either call <code>.new</code> to create a new instance in memory followed by <code>.save</code> to persist it to the database, or call <code>.create</code> to automatically do both. Your particular codebase might have additional wrappers for doing this that you‚Äôre supposed to use. Even worse, imagine that sometimes you create a <code>.new</code> instance, then set some properties on it over the next few lines, then finally call <code>.save</code>. Something like this:</p>
<pre><code>user = User.new
user.email = '<a href="https://feifan.blog/cdn-cgi/l/email-protection" data-cfemail="bed6dbd2d2d1fedbc6dfd3ced2db90ddd1d3">[email&nbsp;protected]</a>' unless self.anonymous?
user.save</code></pre>
<p>
Conceptually, that‚Äôs still code that creates an instance of a particular model. But with the intervening syntax, this would be a difficult case to find with <code>grep</code>.</p>
<h2>
Static config</h2>
<p>
At <a href="https://stripe.com/">Stripe</a>, where I work, we have a lot of code for jobs that need to run at certain times each day. For example, we might need to move funds from one financial partner to another at noon UTC each day. Each of these jobs has configuration code describing when and how it should be run, implemented as a <a href="https://www.jetbrains.com/mps/concepts/domain-specific-languages/">DSL</a>. This config might look something like this:</p>
<pre><code>run_config RunConfig.new(
  job_name: 'partner-daily-funding',
  env_vars: self.config_env,
  cron: RunConfig::Cron.new(
    schedule: { hour: 12, minute: 0 }
  ),
  owning_team: Company::Team::Liquidity
)</code></pre>
<p>
In our codebase, we have hundreds of these jobs, each with their own <code>run_config</code>. If you look at this codebase as a database, you can imagine these jobs being rows in a <code>jobs</code> table, where the fields on each row correspond to the parameters provided to the <code>RunConfig</code> class. </p>
<p>
Wouldn‚Äôt it be great to be able to browse all these jobs in a table? Maybe you could perform some basic operations on this data: searching for specific jobs by name or owning team; sorting by the time-of-day they‚Äôre scheduled to run; filtering for jobs owned by your team that have errored in the past week. Maybe you could edit the <code>run_config</code> from that interface (like you might edit a spreadsheet) and have it automatically make the corresponding change in the source code (or open a PR). Maybe you could even compute some aggregations on this data ‚Äî for example, if you‚Äôre introducing a new job that requires some expensive computation, maybe you‚Äôd like to know which hours have the fewest other jobs scheduled. And of course, this job browser should be bidirectional with respect to the codebase ‚Äî there should be a button beside each entry that shows the code for the job inline or opens the corresponding code in your editor.</p>
<h2>
Diffused concepts</h2>
<p>
Codebases typically contain logical concepts that are implemented across multiple pieces of code. This is often the case when you need to create multiple files to implement a particular feature.</p>
<p>
For example, in Rails, a ‚Äúresource‚Äù is collectively implemented across a line in the router, a model file, a controller file, and a bunch of view files. Rails even ships with a code generator to <a href="https://github.com/rails/rails/blob/5f3ff60084ab5d5921ca3499814e4697f8350ee7/railties/lib/rails/generators/rails/resource/USAGE">create some of these files</a> for you. But despite resources being a core concept when working with Rails, there‚Äôs no good way to browse the resources in your codebase<a href="#fn:4" id="fnref:4" title="see footnote">4</a>. There‚Äôs no good way to filter or query your codebase either ‚Äî you can‚Äôt, for example, see which resources support JSON vs XML params. </p>
<p>
For another example, consider pubsub (aka emitter-consumer) pipelines. In web services, when you have processing that can happen ‚Äúin the background‚Äù, one service will publish an event; another service subscribes to that event and will do the background processing on its own when it receives the event. Often, these will form event ‚Äúpipelines‚Äù or trees where an event consumer will emit additional events that are consumed by yet other services. These pipelines are concepts that developers talk about (as in, the ‚Äúaccount creation pipeline‚Äù or ‚Äúfunding reconciliation pipeline‚Äù), but in most codebases the pipeline itself isn‚Äôt declared or reified anywhere in the code.</p>
<p>
If you‚Äôre looking at code that emits an event, how do you find the consumers? If you‚Äôre lucky, the event has a unique, literal name and the consumer uses that name literally as well. But maybe some subscribers are using wildcard event names, or names generated by string concatenation, and that becomes a lot harder to grep for. Likewise, if you‚Äôre looking at a consumer of an event, how do you find the locations in the codebase that could emit that event<a href="#fn:5" id="fnref:5" title="see footnote">5</a>?</p>
<p>
Wouldn‚Äôt it be great to be able to browse those pipelines in a table or perhaps a directed graph<a href="#fn:6" id="fnref:6" title="see footnote">6</a>? Maybe that graph would support some basic operations on this data: searching for specific publishers or subscribers by class name or event name; filtering for pipelines that have run into errors; maybe even showing the flow of a particular event given an event ID<a href="#fn:7" id="fnref:7" title="see footnote">7</a>. And of course, this pipeline browser should be bidirectional with respect to the codebase ‚Äî there should be a button beside each graph node that shows the code for the publisher or subscriber inline or opens the corresponding code in your editor.</p>
<p>
For a final example, consider code that has functionality inherited from elsewhere. Some environments let you see a <a href="https://www.jetbrains.com/help/idea/viewing-structure-of-a-source-file.html">list of inherited properties</a> or methods, but this isn‚Äôt possible for more specialized cases. At Stripe, we have code that implements shell scripts that can take command-line arguments and flags. These arguments are defined via a DSL in the implementing code, but these commands can be subclassed, and there‚Äôs no way to see what the available arguments are while working in the subclass.</p>
<h2>
Philosophy</h2>
<p>
I think it‚Äôs important to consider these problems not as disparate cases in need of bespoke tooling, but as a <em>class</em> of problems characterized by a lack of access to the data structures embedded within codebases. Just like SQL databases and spreadsheets provide a singular querying abstraction and a set of visualization primitives that can be applied to any kind of data, programming environments need a singular querying abstraction and set of visualization primitives that can be applied to the concepts lurking in codebases. Getting there does <em>not</em> mean using proprietary drag-and-drop visual programming interfaces where the introspection capabilities are limited to whatever the programming environment happens to have implemented. Just the opposite ‚Äî you should still be able to do whatever you want with your code (including treating it as plain-text files), <em>and also</em> have access to more advanced introspection tools that can query and slice your code ‚Äî tools that let you easily understand and navigate complex codebases to reduce the <em>incidental complexity</em> of building software.</p>
<h2>
Solutions</h2>
<p>
I don‚Äôt have a solution to sell you here (at least, not yet!). But <a href="https://twitter.com/hirday_g/status/1356657607381946369">by popular demand</a> I think it‚Äôs worthwhile to at least discuss principles that solutions should embody and directionally-related prior art. </p>
<p>
To start with a simple example, see <a href="https://ihp.digitallyinduced.com/">IHP</a>, a full-stack web framework similar to Rails. It comes with a web interface for manipulating your project‚Äôs codebase and database schema. <a href="https://youtu.be/UbDtS_mUMpI?t=102">One point in the introduction video</a> showed changes being made in the visual schema editor being automatically reflected in the SQL code that describes the database schema ‚Äî and changes being made to the SQL code being bidirectionally reflected in the visual schema editor. </p>
<p>
For a more in-depth example, consider <a href="https://pharo.org/">Pharo</a>, a Smalltalk environment. ‚ÄúEnvironment‚Äù in this case means that it feels like you‚Äôre using a custom OS (including global menus, idioms, and keyboard and mouse conventions) designed specifically for browsing, writing, and debugging programs in the Smalltalk programming language<a href="#fn:8" id="fnref:8" title="see footnote">8</a>. The holistic integration of these tools is important. Unlike the programming environments we cobble for ourselves today ‚Äî where the editor is agnostic of the language and runtime and other tools like debuggers, inspectors, and code browsers are tacked on (if they exist at all) ‚Äî it‚Äôs worth thinking about what an entire computing experience <em>for</em> writing and building custom tools might look like<a href="#fn:9" id="fnref:9" title="see footnote">9</a>.</p>
<p>
Pharo is also interesting because of its Class Browser, which looks like this:</p>
<p>
  <img src="https://files.tanagram.app/file/tanagram-data/prod-feifans-blog/database-codebase-pharo-browser.png" alt="Pharo class browser">
</p>
<p>
This browser breaks free from the source code <em>file</em> as the atomic unit of browsing; instead, it allows the user to browse one method at a time. Making the ‚Äúunit of browsing‚Äù ‚Ä¶</p></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://feifan.blog/posts/the-database-inside-your-codebase">https://feifan.blog/posts/the-database-inside-your-codebase</a></em></p>]]>
            </description>
            <link>https://feifan.blog/posts/the-database-inside-your-codebase</link>
            <guid isPermaLink="false">hacker-news-small-sites-26154666</guid>
            <pubDate>Tue, 16 Feb 2021 15:22:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Is Esbuild Fast?]]>
            </title>
            <description>
<![CDATA[
Score 294 | Comments 150 (<a href="https://news.ycombinator.com/item?id=26154509">thread link</a>) | @mef
<br/>
February 16, 2021 | https://esbuild.github.io/faq/#why-is-esbuild-fast | <a href="https://web.archive.org/web/*/https://esbuild.github.io/faq/#why-is-esbuild-fast">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
      <p>This is a collection of common questions about esbuild. You can also ask questions on the <a href="https://github.com/evanw/esbuild/issues">GitHub issue tracker</a>.</p>
      <ul>
        <li><a href="#why-is-esbuild-fast">Why is esbuild fast?</a></li>
        <li><a href="#benchmark-details">Benchmark details</a></li>
        <li><a href="#upcoming-roadmap">Upcoming roadmap</a></li>
        <li><a href="#production-readiness">Production readiness</a></li>
      </ul>
      <h2 id="why-is-esbuild-fast">
        <a href="#why-is-esbuild-fast">#</a>
        Why is esbuild fast?
      </h2>
      <p>Several reasons:</p>
      <ul><li><p> It's written in <a href="https://golang.org/">Go</a> and compiles to native code. </p> <p> Most other bundlers are written in JavaScript, but a command-line application is a worst-case performance situation for a JIT-compiled language. Every time you run your bundler, the JavaScript VM is seeing your bundler's code for the first time without any optimization hints. While esbuild is busy parsing your JavaScript, node is busy parsing your bundler's JavaScript. By the time node has finished parsing your bundler's code, esbuild might have already exited and your bundler hasn't even started bundling yet. </p> <p> In addition, Go is designed from the core for parallelism while JavaScript is not. Go has shared memory between threads while JavaScript has to serialize data between threads. Both Go and JavaScript have parallel garbage collectors, but Go's heap is shared between all threads while JavaScript has a separate heap per JavaScript thread. This seems to cut the amount of parallelism that's possible with JavaScript worker threads in half <a href="https://github.com/evanw/esbuild/issues/111#issuecomment-719910381">according to my testing</a>, presumably since half of your CPU cores are busy collecting garbage for the other half. </p></li><li><p> Parallelism is used heavily. </p> <p> The algorithms inside esbuild are carefully designed to fully saturate all available CPU cores when possible. There are roughly three phases: parsing, linking, and code generation. Parsing and code generation are most of the work and are fully parallelizable (linking is an inherently serial task for the most part). Since all threads share memory, work can easily be shared when bundling different entry points that import the same JavaScript libraries. Most modern computers have many cores so parallelism is a big win. </p></li><li><p> Everything in esbuild is written from scratch. </p> <p> There are a lot of performance benefits with writing everything yourself instead of using 3rd-party libraries. You can have performance in mind from the beginning, you can make sure everything uses consistent data structures to avoid expensive conversions, and you can make wide architectural changes whenever necessary. The drawback is of course that it's a lot of work. </p> <p> For example, many bundlers use the official TypeScript compiler as a parser. But it was built to serve the goals of the TypeScript compiler team and they do not have performance as a top priority. Their code makes pretty heavy use of <a href="https://mrale.ph/blog/2015/01/11/whats-up-with-monomorphism.html">megamorphic object shapes</a> and unnecessary <a href="https://github.com/microsoft/TypeScript/issues/39247">dynamic property accesses</a> (both well-known JavaScript speed bumps). And the TypeScript parser appears to still run the type checker even when type checking is disabled. None of these are an issue with esbuild's custom TypeScript parser. </p></li><li><p> Memory is used efficiently. </p> <p> Compilers are ideally mostly O(n) complexity in the length of the input. So if you are processing a lot of data, memory access speed is likely going to heavily affect performance. The fewer passes you have to make over your data (and also the fewer different representations you need to transform your data into), the faster your compiler will go. </p> <p> For example, esbuild only touches the whole JavaScript AST three times: </p> <ol> <li>A pass for lexing, parsing, scope setup, and declaring symbols</li> <li>A pass for binding symbols, minifying syntax, JSX/TS to JS, and ESNext-to-ES2015</li> <li>A pass for minifying identifiers, minifying whitespace, generating code, and generating source maps</li> </ol> <p> This maximizes reuse of AST data while it's still hot in the CPU cache. Other bundlers do these steps in separate passes instead of interleaving them. They may also convert between data representations to glue multiple libraries together (e.g. string‚ÜíTS‚ÜíJS‚Üístring, then string‚ÜíJS‚Üíolder JS‚Üístring, then string‚ÜíJS‚Üíminified JS‚Üístring) which uses more memory and slows things down. </p> <p> Another benefit of Go is that it can store things as compactly in memory, which enables it to use less memory and fit more in the CPU cache. All object fields have types and fields are packed tightly together so e.g. several boolean flags only take one byte each. Go also has value semantics and can embed one object directly in another so it comes "for free" without another allocation. JavaScript doesn't have these features and also has other drawbacks such as JIT overhead (e.g. hidden class slots) and inefficient representations (e.g. non-integer numbers are heap-allocated with pointers). </p></li></ul>
      <p>Each one of these factors is only a somewhat significant speedup, but together they can result in a bundler that is multiple orders of magnitude faster than other bundlers commonly in use today.</p>
      <h2 id="benchmark-details">
        <a href="#benchmark-details">#</a>
        Benchmark details
      </h2>
      <p>Here are the details about each benchmark:</p>
      <figcaption>JavaScript benchmark</figcaption>
      <figure>
        <div>
          
          
          
          
          
          
          
          
          <p>0.37s</p>
          
          
          
          <p>1.54s</p>
          
          
          
          <p>36.00s</p>
          
          
          
          <p>41.91s</p>
          
          
          
          <p>54.50s</p>
          
          
          
          <p>56.71s</p>
          
          
          
          <p>118.51s</p>
          <p>0s</p>
          <p>30s</p>
          <p>60s</p>
          <p>90s</p>
          <p>120s</p>
        </div>
      </figure>
      <p>This benchmark approximates a large JavaScript codebase by duplicating the <a href="https://github.com/mrdoob/three.js">three.js</a> library 10 times and building a single bundle from scratch, without any caches. The benchmark can be run with <code>make bench-three</code> in the <a href="https://github.com/evanw/esbuild">esbuild repo</a>.</p>
      <table>
      <thead>
      <tr>
      <th>Bundler</th>
      <th>Time</th>
      <th>Relative slowdown</th>
      <th>Absolute speed</th>
      <th>Output size</th>
      </tr>
      </thead>
      <tbody>
      <tr>
      <td>esbuild</td>
      <td>0.37s</td>
      <td>1x</td>
      <td>1479.6 kloc/s</td>
      <td>5.80mb</td>
      </tr>
      <tr>
      <td>esbuild (1 thread)</td>
      <td>1.54s</td>
      <td>4x</td>
      <td>355.5 kloc/s</td>
      <td>5.80mb</td>
      </tr>
      <tr>
      <td>rollup + terser</td>
      <td>36.00s</td>
      <td>97x</td>
      <td>15.2 kloc/s</td>
      <td>5.81mb</td>
      </tr>
      <tr>
      <td>webpack 4</td>
      <td>41.91s</td>
      <td>113x</td>
      <td>13.1 kloc/s</td>
      <td>5.97mb</td>
      </tr>
      <tr>
      <td>webpack 5</td>
      <td>54.50s</td>
      <td>147x</td>
      <td>10.0 kloc/s</td>
      <td>5.84mb</td>
      </tr>
      <tr>
      <td>parcel 2</td>
      <td>56.71s</td>
      <td>153x</td>
      <td>9.7 kloc/s</td>
      <td>5.92mb</td>
      </tr>
      <tr>
      <td>parcel 1</td>
      <td>118.51s</td>
      <td>320x</td>
      <td>4.6 kloc/s</td>
      <td>5.89mb</td>
      </tr>
      </tbody>
      </table>
      <p>Each time reported is the best of three runs. I'm running esbuild with <code>--bundle <wbr>--minify <wbr>--sourcemap</code> (the single-threaded version uses <code>GOMAXPROCS=1</code>). I used the <code>rollup-<wbr>plugin-<wbr>terser</code> plugin because Rollup itself doesn't support minification. Webpack uses <code>--mode=<wbr>production <wbr>--devtool=<wbr>sourcemap</code>. Parcel uses the default options. Absolute speed is based on the total line count including comments and blank lines, which is currently 547,441. The tests were done on a 6-core 2019 MacBook Pro with 16gb of RAM.</p>
      <p>Caveats:</p>
      <ul><li>Parcel 1: The bundle crashes at run time with <code>TypeError: <wbr>Cannot <wbr>redefine <wbr>property: <wbr>dynamic</code></li></ul>
      <figcaption>TypeScript benchmark</figcaption>
      <figure>
        <div>
          
          
          
          
          
          
          
          
          <p>0.09s</p>
          
          
          
          <p>0.37s</p>
          
          
          
          <p>18.38s</p>
          
          
          
          <p>18.76s</p>
          
          
          
          <p>25.12s</p>
          
          
          
          <p>42.32s</p>
          <p>0s</p>
          <p>10s</p>
          <p>20s</p>
          <p>30s</p>
          <p>40s</p>
        </div>
      </figure>
      <p>This benchmark uses the <a href="https://github.com/facebookexperimental/rome">Rome</a> build tool to approximate a large TypeScript codebase. All code must be combined into a single minified bundle with source maps and the resulting bundle must work correctly. The benchmark can be run with <code>make bench-rome</code> in the <a href="https://github.com/evanw/esbuild">esbuild repo</a>.</p>
      <table>
      <thead>
      <tr>
      <th>Bundler</th>
      <th>Time</th>
      <th>Relative slowdown</th>
      <th>Absolute speed</th>
      <th>Output size</th>
      </tr>
      </thead>
      <tbody>
      <tr>
      <td>esbuild</td>
      <td>0.09s</td>
      <td>1x</td>
      <td>1464.8 kloc/s</td>
      <td>0.97mb</td>
      </tr>
      <tr>
      <td>esbuild (1 thread)</td>
      <td>0.37s</td>
      <td>4x</td>
      <td>356.3 kloc/s</td>
      <td>0.97mb</td>
      </tr>
      <tr>
      <td>webpack 4</td>
      <td>18.38s</td>
      <td>204x</td>
      <td>7.2 kloc/s</td>
      <td>1.26mb</td>
      </tr>
      <tr>
      <td>parcel 1</td>
      <td>18.76s</td>
      <td>208x</td>
      <td>7.0 kloc/s</td>
      <td>1.56mb</td>
      </tr>
      <tr>
      <td>webpack 5</td>
      <td>24.57s</td>
      <td>273x</td>
      <td>5.4 kloc/s</td>
      <td>1.26mb</td>
      </tr>
      <tr>
      <td>parcel 2</td>
      <td>42.32s</td>
      <td>470x</td>
      <td>3.1 kloc/s</td>
      <td>1.68mb</td>
      </tr>
      </tbody>
      </table>
      <p>Each time reported is the best of three runs. I'm running esbuild with <code>--bundle <wbr>--minify <wbr>--sourcemap <wbr>--platform=<wbr>node</code> (the single-threaded version uses <code>GOMAXPROCS=1</code>). Webpack uses <code>ts-loader</code> with <code>transpileOnly: <wbr>true</code> and <code>--mode=<wbr>production <wbr>--devtool=<wbr>sourcemap</code>. Parcel 1 uses <code>--target <wbr>node --bundle-<wbr>node-<wbr>modules</code>. Parcel 2 uses <code>"engines": <wbr>"node"</code> in <code>package.json</code> and needs the <code>@parcel/<wbr>transformer-<wbr>typescript-<wbr>tsc</code> transformer to be able to handle the TypeScript code used in the benchmark. Absolute speed is based on the total line count including comments and blank lines, which is currently 131,836. The tests were done on a 6-core 2019 MacBook Pro with 16gb of RAM.</p>
      <p>The results don't include Rollup because I couldn't get it to work. I tried <code>rollup-<wbr>plugin-<wbr>typescript</code>, <code>@rollup/<wbr>plugin-<wbr>typescript</code>, and <code>@rollup/<wbr>plugin-<wbr>sucrase</code> and they all didn't work for different reasons relating to TypeScript compilation.</p>
      <h2 id="upcoming-roadmap">
        <a href="#upcoming-roadmap">#</a>
        Upcoming roadmap
      </h2>
      <p>These features are already in progress and are first priority:</p>
      <ul><li>Code splitting (<a href="https://github.com/evanw/esbuild/issues/16">#16</a>, <a href="https://esbuild.github.io/api/#splitting">docs</a>)</li><li>CSS content type (<a href="https://github.com/evanw/esbuild/issues/20">#20</a>, <a href="https://esbuild.github.io/content-types/#css">docs</a>)</li><li>Plugin API (<a href="https://github.com/evanw/esbuild/issues/111">#111</a>)</li></ul>
      <p>These are potential future features but may not happen or may happen to a more limited extent:</p>
      <ul><li>HTML content type (<a href="https://github.com/evanw/esbuild/issues/31">#31</a>)</li><li>Lowering to ES5 (<a href="https://github.com/evanw/esbuild/issues/297">#297</a>)</li><li>Bundling top-level await (<a href="https://github.com/evanw/esbuild/issues/253">#253</a>)</li></ul>
      <p>After that point, I will consider esbuild to be relatively complete. I'm planning for esbuild to reach a mostly stable state and then stop accumulating more features. This will involve saying "no" to requests for adding major features to esbuild itself. I don't think esbuild should become an all-in-one solution for all frontend needs. In particular, I want to avoid the pain and problems of the "webpack config" model where the underlying tool is too flexible and usability suffers.</p>
      <p>For example, I am <em>not</em> planning to include these features in esbuild's core itself:</p>
      <ul><li>Support for other frontend languages (e.g. <a href="https://elm-lang.org/">Elm</a>, <a href="https://svelte.dev/">Svelte</a>, <a href="https://vuejs.org/">Vue</a>, <a href="https://angular.io/">Angular</a>)</li><li>TypeScript type checking (just run <code>tsc</code> separately)</li><li>An API for custom AST manipulation</li><li>Hot-module reloading</li><li>Module federation</li></ul>
      <p>I hope that the extensibility points I'm adding to esbuild (<a href="https://esbuild.github.io/plugins/">plugins</a> and the <a href="https://esbuild.github.io/api/">API</a>) will make esbuild useful to include as part of more customized build workflows, but I'm not intending or expecting these extensibility points to cover all use cases. If you have very custom requirements then you should be using ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://esbuild.github.io/faq/#why-is-esbuild-fast">https://esbuild.github.io/faq/#why-is-esbuild-fast</a></em></p>]]>
            </description>
            <link>https://esbuild.github.io/faq/#why-is-esbuild-fast</link>
            <guid isPermaLink="false">hacker-news-small-sites-26154509</guid>
            <pubDate>Tue, 16 Feb 2021 15:07:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to instrument JVM bytecode for fuzzing (open-source)]]>
            </title>
            <description>
<![CDATA[
Score 14 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26154490">thread link</a>) | @fhenneke
<br/>
February 16, 2021 | https://blog.code-intelligence.com/engineering-jazzer | <a href="https://web.archive.org/web/*/https://blog.code-intelligence.com/engineering-jazzer">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
      
      <div>
        <div>
          <p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><article id="grip-content">
<p>Jazzer is a coverage-guided fuzzer for the Java Virtual Machine (JVM). It works on the bytecode level and can thus not only be applied directly to compiled Java applications, but also to targets in other JVM-based languages such as Kotlin or Scala.</p>
<!--more-->
<p>Jazzer consists of two main components:</p>
<ul>
<li>The <strong>Jazzer driver</strong> is a native binary that links in <a href="https://llvm.org/docs/LibFuzzer.html" rel="nofollow">libFuzzer</a> and runs a Java fuzz target through the Java Native Interface (JNI).</li>
<li>The <strong>Jazzer agent</strong> is a <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/instrument/package-summary.html" rel="nofollow">Java agent</a> that runs in the same JVM as the fuzz target and applies instrumentation at runtime. The information obtained through this instrumentation is fed back to libFuzzer <span>just as it would be for a compile-time instrumented native binary.&nbsp;</span></li>
</ul>
<p>Taken together, the driver and the agent make it seem to libFuzzer as if it were fuzzing an ordinary native binary. Our goal is to make all of libFuzzer's features work with Jazzer <span>out of the box</span>. In the following, we want to highlight some of the most interesting aspects of the engineering effort required to achieve this goal.</p>
<h2>Instrumenting JVM bytecode for fuzzing</h2>
<p>The JVM bytecode of a compiled Java class is much more higher-level than the machine code of an equivalent C/C++ binary. This makes it possible to instrument a JVM application at runtime rather than at build-time, which means that neither the code nor the build script requires any changes. The Jazzer agent, which is written in Kotlin, instruments the classes right as <span>they are being loaded</span> by the JVM.</p>
<p>To obtain coverage information from the JVM fuzz target, the Jazzer agent inserts bytecode instructions together with a unique ID at the beginning of every basic block. When we enter a block, the previous basic block‚Äôs shifted ID is XORed with the current ID to obtain an identifier for the control flow edge between the two blocks.&nbsp;This idea to obtain edge-level coverage information from basic block instrumentation originated in <a href="https://lcamtuf.coredump.cx/afl/technical_details.txt" rel="nofollow">AFL</a> and has already featured in the early AFL-based Java fuzzer <a href="https://github.com/isstac/kelinci">Kelinci</a>. By relying on memory shared directly between the JVM and the Jazzer driver through a <a href="https://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html" rel="nofollow">direct <code>ByteBuffer</code></a> as well as implementing a branch-free saturating counter increment, we found this approach to coverage instrumentation to be very efficient in practice (take a look at <a href="https://github.com/CodeIntelligenceTesting/jazzer/blob/v0.9/agent/src/main/java/com/code_intelligence/jazzer/instrumentor/AFLCoverageMapInstrumentor.kt">AFLCoverageMapInstrumentor.kt</a> if you want to know how this is done).</p>
<p>Since coverage is not the only type of information that is used by libFuzzer to guide its exploration of the fuzz target, Jazzer also instruments other JVM constructs (see <a href="https://github.com/CodeIntelligenceTesting/jazzer/blob/v0.9/agent/src/main/java/com/code_intelligence/jazzer/instrumentor/TraceDataFlowInstrumentor.kt">TraceDataFlowInstrumentor.kt</a>):</p>
<ul>
<li>bytecode-level compares, such as the <span><code>lcmp</code></span>, <span><code>if_*</code></span>, and <span><code>if*</code></span> opcodes</li>
<li>higher-level method-based compares, such as <span><code>String#equal</code></span> or <span><code>Arrays#compare</code></span></li>
<li><code><span>switch</span></code> statements (corresponding to the <span><code>lookupswitch</code></span> and <span><code>tableswitch</code></span> opcodes)</li>
<li>integer divisions (corresponding to the <span><code>idiv</code></span> and <span><code>ldiv</code></span> opcodes and the <span><code>divideUnsigned</code></span> methods)</li>
<li>constant array indices (corresponding to the <span><code>*aload</code></span> opcodes and <span><code>get*</code></span> methods on array-like objects)</li>
</ul>
<p>In all these cases, interesting observed values are forwarded to libFuzzer callbacks such as <span><code>__sanitizer_cov_trace_cmp4</code></span> (for comparisons of 32-bit integral types) and <span><code>__sanitizer_weak_hook_strcmp</code></span> (for string comparisons). The values populate libFuzzer's table of recent compares and will be incorporated into the fuzzer input bytes via random mutations.</p>
<h2>Value profile support</h2>
<p>The table of recent compares is usually quite effective at letting the fuzzer progress through simple compares in which the required input can be obtained directly by inserting bytes reported via the compare hooks. But real-world fuzz targets are rarely that simple. For example, a function might encode the input into Base64 or apply a simple, non-cryptographic checksum function, followed by a comparison. In these cases, the relation between the input required to explore the fuzz target further and the bytes reported via callbacks is highly non-trivial.</p>
<p>libFuzzer's <a href="https://llvm.org/docs/LibFuzzer.html#id33" rel="nofollow">value profile</a>, which can be enabled with the runtime flag <span><code>-use_value_profile=1</code></span>, can be very helpful in this situation. In this mode, for every comparison between two values<span></span>, an extra set of coverage counters will be incremented for every matching bit position in <span><code>A</code></span> and <code><span>B</span></code>. This allows the fuzzer to track its partial progress in getting <span><code>A</code></span> and <span><code>B</code></span> to match, thereby simplifying the problem from brute force (exponential time) to a linear search (linear time).</p>
<p>Since Jazzer builds on libFuzzer and reports string comparisons using <span><code>__sanitizer_weak_hook_strcmp</code></span>, basic value profile support is automatic.&nbsp;Allowing the value profile to track comparisons between integral types is a more difficult task as the relevant fuzzer hooks such as <span><code>__sanitizer_cov_trace_cmp4</code></span> do not take the address of the compare instruction as an argument. Instead, these hooks retrieve the return address from the stack via the <span><code>__builtin_return_address</code></span> compiler intrinsic.</p>
<p>While this is a very natural approach for instrumented native binaries, our calls to the callbacks all go through the JNI and will thus have the same native return address somewhere in the JNI dispatcher. This would mean that the fuzzer would not be able to distinguish between different compare instructions, which would render the value profile <span>largely useless for non-string types</span>. We initially considered submitting a patch to LLVM that would add variants of the compare callbacks that take a call site address as an additional argument, but then found a way to provide full value profile support even without upstream changes.</p>
<p>A small piece of inline assembly in the Jazzer driver implements a "trampoline" that can invoke any of the libFuzzer callbacks with an arbitray fake return address <span><code>addr</code></span>, e.g., a unique ID assigned to a bytecode instruction (see <a href="https://github.com/CodeIntelligenceTesting/jazzer/blob/v0.9/driver/sanitizer_hooks_with_pc.cpp">sanitizer_hooks_with_pc.cpp</a> for the implementation). The trampoline first pushes an address pointing to the <span><code>addr &amp; 0xFFF</code></span>-th entry in a "sled" of <span><code>0xFFF + 1=4096</code></span>&nbsp;ASM <span><code>ret</code> </span>instructions to the (native) stack and then performs a direct jump (also called a "tail call") to the sanitizer callback.&nbsp;The callback will see the address of the <code>ret</code> corresponding to the lower 12 bits of the synthetic address <span><code>addr</code> </span>as the return address via <span><code>__builtin_return_address</code> </span>and associate the bit-wise progress made in the comparison with it in the value profile map.&nbsp;Since libFuzzer only uses the lower 12 bits of an address for the purpose of the value profile, this allows for fast and complete value profile support also for integral types.</p>
<h2>FuzzedDataProvider</h2>
<p>Both libFuzzer and Google‚Äôs Python fuzzer <a href="https://github.com/google/atheris" rel="noopener">Atheris</a> provide convenience functions that transform the raw byte input received from the fuzzer into useful primitive types, such as strings, integers, and arrays. While working on Jazzer's analogue of such a <span><code>FuzzedDataProvider</code></span>, we found the two prior implementations to differ in <span>quite a few relevant ways</span>. Adding our own experience with building fuzzers to the mix, we arrived at the following design decisions:</p>
<ul>
<li>Jazzer's <span><code>FuzzedDataProvider</code> </span>turns raw fuzzer input bytes into valid JVM strings by carefully applying the least number of bit changes required to turn the input bytes into valid UTF-8. This differs from the approach taken by Atheris, which randomly chooses between ASCII, UTF-16 and UTF-32. We found the fuzzing to be more stable if a consistent, ASCII-compatible encoding is used throughout the <span><code>FuzzedDataProvider</code> </span>and the libFuzzer callbacks. This however comes at the cost of added complexity in the implementation of the string generation functions: The JNI internally uses an encoding that historically predates UTF-8 and is best described as "UTF-16 code points encoded using UTF-8, with special handling of zero bytes". <span>We found this additional complexity</span> to be worth it based on the increased fuzzing efficiency.</li>
<li>The provider distinguishes between "data byte" and "choice bytes". More complex data which is likely to be parsed by the fuzz target, such as strings or arrays of primitive types, is consumed from the beginning of the fuzzer input. Small primitive types such as single integers, floats, and booleans, which are more likely to guide control-flow, are consumed from the end of the fuzzer input. This idea goes back to libFuzzer's <span><code>FuzzedDataProvider</code> </span>and has two key benefits: It makes the consumed fuzzed data more stable under the typical mutations applied by libFuzzer<span>and also ensures</span> that corpus entries preserve the structure of valid input files (e.g., JSON, PDF, or JPEG files) as much as possible.</li>
<li>Reproducing crashes in fuzz targets using a <span><code>FuzzedDataProvider</code></span> would be challenging if it always required running the crashing input through the driver. For this reason Jazzer, in addition to the crashing input dumped by libFuzzer, creates a Java-only reproducer for every crash. This reproducer contains all values consumed from the <span><code>FuzzedDataProvider</code> </span>in serialized form and can be run like any other Java program without any native dependencies.</li>
</ul>
<h2>Custom method hooks</h2>
<p><a href="https://alexgaynor.net/2020/may/27/science-on-memory-unsafety-and-security/" rel="nofollow">Experience shows</a> that roughly 65% of all serious security bugs found in projects using languages without memory-safety guarantees stem from incorrect memory handling. For the most part this high percentage is likely explained by how difficult memory handling can get if memory-safety is not built into the language from the ground up. However, there is another part to this story: With the likes of AddressSanitizer, MemorySanitizer, and UndefinedBehaviorSanitizer, there is excellent tooling available to detect such bugs with fuzzing.</p>
<p>While there is no need to detect violations of memory-safety for Java applications (at least those without native libraries), <span>other vulnerabilities </span>such as SQL injections, path traversals, or infinite loops occur in JVM-based languages just as often as they do in C/C++. One of the core ideas behind Jazzer is that the higher-level structure of JVM bytecode compared to native binaries coupled with suitable "sanitizers" should make these bugs detectable via fuzzing. For this purpose, Jazzer includes a flexible <a href="https://codeintelligencetesting.github.io/jazzer-api/com/code_intelligence/jazzer/api/MethodHook.html" rel="nofollow">annotation-based mechanism to hook methods</a>, regardless of ‚Ä¶</p></article></span></p></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.code-intelligence.com/engineering-jazzer">https://blog.code-intelligence.com/engineering-jazzer</a></em></p>]]>
            </description>
            <link>https://blog.code-intelligence.com/engineering-jazzer</link>
            <guid isPermaLink="false">hacker-news-small-sites-26154490</guid>
            <pubDate>Tue, 16 Feb 2021 15:06:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What Makes Building Safe AI So Hard?]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26154312">thread link</a>) | @dh00608000
<br/>
February 16, 2021 | https://david-haber.github.io/posts/ai-challenges/ | <a href="https://web.archive.org/web/*/https://david-haber.github.io/posts/ai-challenges/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

    

    
      

    

    <p>Creating a traditional computer program involves a fixed sequence of steps. First, we need to understand the problem and translate it into formal logic. Then, we implement that in code. Often surprisingly, the implementation of a program‚Äôs logic is comparatively easy. The challenging part is understanding and translating the problem.</p>
<p>The more complex systems become, the more brainpower we spend to understand them. It becomes necessary to distill the problem and its logic into components, which are easier to work with. Given an input to a component, we know which output to expect. Even before writing a single line of code, we formalize these expectations in <em>contracts</em>. These contracts describe how various components interact with each other. And ultimately, how the overall system interacts with the real world. Once the software is written, we can ensure that the contracts hold. This process makes the concept of failure transparent and clearly defined.</p>
<p>This way, we have managed to build <em>extremely</em> safe software systems that can operate in real-world environments. For example, software autopilots for airplanes, which have been in use for half a century<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup>, don‚Äôt fail even once in a billion flight hours. To put this in perspective, think about flying a Boeing 747 around Earth 22 million times<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup>. We don‚Äôt expect it to fail once in that time! Flying is the safest mode of transport<sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup> for a good reason. It is designed with failure in mind.</p>
<h2 id="the-new-era-of-machine-learning">The New Era of Machine Learning</h2>
<p>But things have changed over the past decade. More recently, the idea of letting a computer learn program behavior with data has heralded a new era of <em>machine learning</em>. It is now one of the most powerful tools of our age.</p>
<p>Machine learning can leverage statistical dependencies in data to learn complex input-output mappings. The program behavior is deduced from data. Therefore, we no longer need to distill the logic and implement it in code. Instead, the computer does so from data. We no longer have to translate the problem into formal logic. Instead, the computer does so from data. To some extent, we don‚Äôt even have to understand the problem anymore ‚Äì or at least we are fooled into believing that we don‚Äôt.</p>
<p>Through machine learning, a computer can learn behaviors that are much more complex than anything humans can describe with hand-written rules. On well-designed datasets, or sometimes even in well-controlled environments, we can now do things that we couldn‚Äôt even imagine with traditional software.</p>
<figure>
    <img src="https://david-haber.github.io/images/aisafetyreqs.png" alt="AI systems have all of the developmental and operational problems of traditional code, plus a vast additional set of AI-specific issues. AI software typically operates with more uncertainty, and it is challenging to demonstrate its safety and compliance."> <figcaption>
            <p>AI systems have all of the developmental and operational problems of traditional code, plus a vast additional set of AI-specific issues. AI software typically operates with more uncertainty, and it is challenging to demonstrate its safety and compliance.</p>
        </figcaption>
</figure>

<p>Traditionally, we left the difficult parts ‚Äì like understanding and translating the problem ‚Äì to humans. We explicitly defined the behavior of traditional programs. Now machine learning solves this for us. It automatically distills the problem and its assumptions into a model. As a result, we can learn much more complicated program behaviors. But, at the same time, the understanding and behavioral guarantees of traditional software are lost. The contracts, which we previously relied on, no longer exist. This makes it much more difficult to analyze AI behavior, let alone to demonstrate its safety.</p>
<h2 id="a-new-mindset-for-ai-development">A New Mindset for AI Development</h2>
<p>AI systems have the same developmental and operational problems as traditional software, plus a vast set of AI-specific issues. As a result, <a href="https://david-haber.github.io/posts/ai-discipline/" target="_blank">companies can create impressive demos but fail to translate them into real products</a>. Or even worse, they operate AI software with a lot more uncertainty. This has already led to catastrophic consequences.</p>
<p>Regulatory organizations, industry-specific working groups, and researchers are investigating how existing safety standards can be extended to cover the additional challenges of AI software. With decades of experience certifying traditional software, they know that safety <em>follows</em> from adopting a system-level view. Moreover, it requires a mindset that holds all stages of the development process accountable, from requirements collection to end-user interaction.</p>
<p>AI development teams must adopt a similar top-down approach. Crucially, this means a development workflow that looks beyond the model. We need to systematically combine the best practices from traditional software with the tools specific to AI. Only then can we reestablish the contracts that traditional software relies on, reduce the uncertainty around AI applications, and achieve the failure rates that mission-critical applications require.</p>
<p>With quickly evolving regulatory standards and improving machine learning tools, we now have a chance to get this right. Both sides of the table, regulators and industry, need to work together to create frameworks that support innovation, not stifle it.</p>
<p><em>Thanks to <a href="https://www.linkedin.com/in/matthias-kraft-5b1229a1/" target="_blank">Matthias</a>, <a href="https://www.linkedin.com/in/mateor/" target="_blank">Mateo</a>, <a href="https://ruieduardo.com/" target="_blank">Rui</a>, <a href="https://www.linkedin.com/in/annalipkina10/" target="_blank">Anna</a>, <a href="https://www.linkedin.com/in/alex-garcia-01/" target="_blank">Alex</a> and Ina for reading and commenting on drafts of this article.</em></p>
<section role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p><a target="_blank" href="https://ntrs.nasa.gov/api/citations/19960016374/downloads/19960016374.pdf">Human-Centered Aviation
Automation: Principles and Guidelines (Charles E. Billings, February 1996)</a> <a href="#fnref:1" role="doc-backlink">‚Ü©Ô∏é</a></p>
</li>
<li id="fn:2" role="doc-endnote">
<p>Assuming that planet Earth has a circumference of roughly 40km, and a Boeing 747 has a cruise speed of around 900km/h, it takes us 45 hours to get around once, and so we need to repeat that roughly 22 million times to be airborne for a billion hours. <a href="#fnref:2" role="doc-backlink">‚Ü©Ô∏é</a></p>
</li>
<li id="fn:3" role="doc-endnote">
<p><a target="_blank" href="https://www.iata.org/en/iata-repository/publications/economic-reports/flying-is-by-far-the-safest-form-of-transport/">IATA Economics' Chart of the Week (IATA, 23 February 2018)</a> <a href="#fnref:3" role="doc-backlink">‚Ü©Ô∏é</a></p>
</li>
</ol>
</section>


</article></div>]]>
            </description>
            <link>https://david-haber.github.io/posts/ai-challenges/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26154312</guid>
            <pubDate>Tue, 16 Feb 2021 14:50:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The simple guide to writing an effective technical resume for software engineers]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26154161">thread link</a>) | @mcenedella
<br/>
February 16, 2021 | https://leetresumes.com/blog/the-simple-guide-to-writing-an-effective-technical-resume-for-software-engineers | <a href="https://web.archive.org/web/*/https://leetresumes.com/blog/the-simple-guide-to-writing-an-effective-technical-resume-for-software-engineers">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content"><div><div><p>At Leet Resumes, where we write <a href="https://leetresumes.com/">great technical resumes for free</a>, (tips gratefully accepted), we've learned a lot about <a href="https://leetresumes.com/blog/leet-resumes-technical-resume-documentation">writing technical resumes</a>. We've taken an open source model to sharing those learnings, figuring that you can do it yourself, or have us do it for you. Either way, the cost is the same!</p><p>A great technical resume helps <a href="https://leetresumes.com/blog/what-a-great-technical-resume-can-do-for-you">get you ahead in your career</a>. Company hiring practices can seem mysterious and cryptic, but it‚Äôs not too complicated in reality. Companies have processes for how they hire, and just like any system, if you know the rules it‚Äôs easy to reverse engineer what you need to do.</p><p>To help a hiring manager make technology hires, a company typically has HR staff, and sometimes a recruiter, review resumes of applicants and professionals they've invited to interview. The software they use to track interviews or job applicants is called an Applicant Tracking System (ATS).  Technical resumes should be written so they work well with an ATS, and that they are persuasive and effective at getting you interviews with engineering managers and HR people.</p><p>Here's a simple guide to doing that well.</p><h3>Professional headline </h3><p>The professional headline summarizes your role and level. For easy comprehension, it sums up your professional standing in a few words - a short phrase that serves as shorthand for your career. Great professional headlines include: </p><ul><li>‚ÄúPassionate Open Source Engineer‚Äù,</li><li>‚ÄúTop-performing BI Analyst‚Äù,</li><li>‚ÄúInnovative Machine Learning Expert‚Äù,</li><li>‚ÄúSuccessful Front-end Engineer‚Äù, or </li><li>‚ÄúDedicated DevOps Professional‚Äù</li></ul><p>In the case of Stephanie's fictional resume below, "Accomplished Lead Engineer" is what she's gone with. A clear professional headline helps you get seen by managers looking to hire professionals like you.</p><p><img src="https://landen.imgix.net/blog_PkawPzsWgabHObNz/assets/exevIYbERKmdnlRg.png" alt="Software Engineering Resume example"></p><h3>Four job titles you‚Äôd accept</h3><p>Often missed on resumes, it helps to declare explicitly which job titles you are willing to accept. After your professional headline, include these three to four job titles as a means for the recruiter or hiring manager to know what roles they ought to consider you for. These are not necessarily past roles or job titles you‚Äôve already had. Instead, these are  job titles your readers should consider you for in your next job. This may seem really obvious to you, but it‚Äôs not obvious to the HR staff or your future boss ‚Äì help them out by documenting very clearly your intended path forward.</p><h3>Professional summary</h3><p>The next three lines of your professional summary describe your most important, most relevant attributes. (If you have less than 10 years of experience, you ought to reduce this professional summary section to two lines.)</p><p>The second line of the professional summary is capabilities, skills, talents. These are your top 4 most differentiated skills in the market.  Highlight skills that indicate <strong>you‚Äôre ready for the 4 job titles</strong> listed above. </p><p>The third line covers performance. What types of achievements in your work history prove that you have the skills and capabilities listed above? What specific factual details can you summarize here? (You‚Äôll explain them in detail in the <a href="https://leetresumes.com/blog/how-to-write-bullet-points-for-a-technical-resume">bullet points</a> below.)</p><p>The fourth line covers career highlights - awards, promotions, truly distinguishing achievements or industry recognitions. It's always helpful to include your promotion track record on this line: "Promoted early" or "6x Promoted"</p><p>Again, please note, if you have less than 8 years of experience, we‚Äôll typically advise collapsing the professional summary from 4 lines into just 2.</p><h3>Work experience </h3><p>The most common mistake engineers make in their work experience section is copying and pasting their job description. The readers of your resume already know the duties and responsibilities of a ‚Äòsoftware engineer‚Äô or a ‚Äòfull-stack engineer‚Äô. So a copy-pasta job here doesn‚Äôt help you. </p><p>Instead, please focus on providing the <strong>details</strong> about what you actually did achieve on the job.  Answer for your reader the questions she or he has in their head about you. Did you contribute in concrete numbers and real results to your past employers? Why was your previous employer better because you were there? Did you reduce latency? Increase throughput? Shave seconds off loading time? Build a system that could handle more capacity, concurrency, or continents? </p><p>For technologists, this is an area where resumes actually favor your strong suit: numbers, not words. It‚Äôs always better to show your expertise by <a href="https://leetresumes.com/blog/software-engineering-resumes-need-numbers-here-s-how-to-do-i">sharing the numbers</a>. Numbers are objective, they are facts, and they help readers understand precisely what you did. For each role on your resume, share the numbers that detail your success.</p><p>Examples of good numbers to share:</p><ul><li>Load time reduced by xx ms</li><li>Site engagement increased by xx%</li><li>Bug fix time reduced by xx days</li><li>Data usage reduced by xx %</li><li>Revenue increased by xx %</li><li>etc.</li></ul><p>Anything where you can quantify the specific improvements that happened because you were the engineer on the job.</p><h3>Technologies</h3><p>Finally, list the technologies you‚Äôve used at the end. For more experienced engineers, your particular technology stack may matter less than your overall track record. While for more junior engineers, the placement on the first (and only) page means this important data is at the fingertips of hiring managers and recruiters.</p><p>We typically expect to see 8 - 10 technologies for engineers with two to four years of experience.  That grows to 15 - 20 by the time you're at ten years' experience. Commonly, being proficient in 25 or so technologies by fifteen years is the sign that you've transcended the bounds of programming languages in specificity, and that you're able to learn enough about any particular language to contribute productively at a higher level.</p><p>I hope this overview has been helpful. For more detail, see our <a href="https://leetresumes.com/blog/leet-resumes-technical-resume-documentation">technical resume documentation</a>. Leet Resumes helps experienced technologists get ahead in their careers by <a href="https://leetresumes.com/">writing great technical resumes for free</a>.  (Tips accepted). We‚Äôd love for you to sign up.</p></div></div></div></div>]]>
            </description>
            <link>https://leetresumes.com/blog/the-simple-guide-to-writing-an-effective-technical-resume-for-software-engineers</link>
            <guid isPermaLink="false">hacker-news-small-sites-26154161</guid>
            <pubDate>Tue, 16 Feb 2021 14:32:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[SpatiaLite]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26154120">thread link</a>) | @thinkingemote
<br/>
February 16, 2021 | https://www.gaia-gis.it/fossil/libspatialite/index | <a href="https://web.archive.org/web/*/https://www.gaia-gis.it/fossil/libspatialite/index">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><tbody><tr>
<td>
<p>SpatiaLite is an <b>open source</b> library intended to extend the <a href="http://www.sqlite.org/">SQLite</a> core to support fully fledged Spatial SQL capabilities.<br>
SQLite is intrinsically simple and lightweight:</p><ul>
<li>a single lightweight library implementing the full SQL engine</li>
<li>standard SQL implementation: almost complete SQL-92</li>
<li>no complex client/server architecture</li>
<li>a whole database simply corresponds to a single monolithic file (no size limits)</li>
<li>any DB-file can be safely exchanged across different platforms, because the internal architecture is universally portable</li>
<li>no installation, no configuration</li></ul>

<p>SpatiaLite is smoothly integrated into SQLite to provide a complete and powerful Spatial DBMS (mostly OGC-SFS compliant).<br>
Using SQLite + SpatiaLite you can effectively deploy an alternative <i>open source</i> Spatial DBMS roughly equivalent to <a href="http://www.postgresql.org/">PostgreSQL</a> + <a href="http://postgis.refractions.net/">PostGIS</a>. 

</p><p>SpatiaLite is licensed under the <a href="http://www.mozilla.org/MPL/boilerplate-1.1/mpl-tri-license-html">MPL tri-license</a> terms; you are free to choose the best-fit license between:</p><ul>
<li>the <a href="http://www.mozilla.org/MPL/MPL-1.1.html">MPL 1.1</a></li>
<li>the <a href="http://www.gnu.org/licenses/gpl-2.0.html#TOC1">GPL v2.0</a> or any subsequent version</li>
<li>the <a href="http://www.gnu.org/licenses/lgpl-2.1.html">LGPL v2.1</a> or any subsequent version</li></ul>
</td>
<td>
</td>
</tr></tbody></div></div>]]>
            </description>
            <link>https://www.gaia-gis.it/fossil/libspatialite/index</link>
            <guid isPermaLink="false">hacker-news-small-sites-26154120</guid>
            <pubDate>Tue, 16 Feb 2021 14:27:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[JavaScript date libraries in 2021 ‚Äì Skypack Blog]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26154069">thread link</a>) | @shekhardesigner
<br/>
February 16, 2021 | https://www.skypack.dev/blog/2021/02/the-best-javascript-date-libraries/ | <a href="https://web.archive.org/web/*/https://www.skypack.dev/blog/2021/02/the-best-javascript-date-libraries/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-72">
	

	<div>
		<div>
			
<figure><img loading="lazy" width="1024" height="576" src="https://www.skypack.dev/blog/wp-content/uploads/2021/02/Best-javascript-date-libraries-2048x1152-1-1024x576.png" alt="" srcset="https://www.skypack.dev/blog/wp-content/uploads/2021/02/Best-javascript-date-libraries-2048x1152-1-1024x576.png 1024w, https://www.skypack.dev/blog/wp-content/uploads/2021/02/Best-javascript-date-libraries-2048x1152-1-300x169.png 300w, https://www.skypack.dev/blog/wp-content/uploads/2021/02/Best-javascript-date-libraries-2048x1152-1-768x432.png 768w, https://www.skypack.dev/blog/wp-content/uploads/2021/02/Best-javascript-date-libraries-2048x1152-1-1536x864.png 1536w, https://www.skypack.dev/blog/wp-content/uploads/2021/02/Best-javascript-date-libraries-2048x1152-1-150x84.png 150w, https://www.skypack.dev/blog/wp-content/uploads/2021/02/Best-javascript-date-libraries-2048x1152-1.png 2048w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>


<p>Wrangling dates and times in JavaScript can be a headache. JavaScript date libraries provide user-friendly APIs and useful utilities that alleviate some of that pain. But with so many options how do you pick the best one? In this post we delve into the world of JavaScript date libraries to help you choose. Our top pick, <strong>date-fns</strong>, delivers the best feature set combined with an elegant modular architecture.</p>
<h2 id="our-picks">Our picks</h2>
<h3 id="best-overall-date-fns">Best overall: <a href="https://www.skypack.dev/view/date-fns">date-fns</a></h3>
<p><strong>date-fns</strong> offers great documentation, functional architecture, and utilities that handle almost any task you can think of. If dates are a critical concern for your JavaScript application, use <strong>date-fns.</strong>&nbsp;Each feature has clear documentation written in ESM (ES Modules) for the browser. Logical and consistent function names encourage readable code. A modular architecture allows build tools to trim away unused code for a slimmer final build.</p>
<h3 id="best-for-time-zones-luxon">Best for time zones: <a href="https://www.skypack.dev/view/luxon">Luxon</a></h3>
<p>If time zones or localization are your primary concern, we recommend <strong>Luxon</strong>. <strong>Luxon</strong> leverages JavaScript‚Äôs <code>Intl</code> for speed and slimness while providing what <code>Intl</code> doesn‚Äôt: an immutable user-friendly API. Concise, well-written documentation eases the learning curve for getting started.&nbsp;</p>
<h3 id="best-minimalist-option-dayjs">Best minimalist option: <a href="https://www.skypack.dev/view/dayjs">Day.js</a></h3>
<p>For basic handling of dates, <strong>Day.js</strong> is a minimalist library that offers an excellent API without much overhead. While <strong>Day.js</strong> has fewer features than <strong>Luxon</strong> or <strong>date-fns</strong>, it‚Äôs much smaller in size.&nbsp;</p>

<h2 id="when-to-use-a-datetime-package">When to use a JavaScript date library</h2>
<p>Why not just use JavaScript‚Äôs built-in <strong>Date</strong> object? A good JavaScript date library provides a clear advantage over JavaScript‚Äôs <strong>Date</strong> in several ways: immutability, parsing, and time zones. In addition, JavaScript date libraries offer useful utilities for date manipulation and formatting, which can save developers time and energy.</p>

<p>JavaScript‚Äôs <strong>Date</strong> is mutable, which can lead to unintentional bugs. Let‚Äôs say you create a <strong>Date</strong> object named <code>currentTime</code>. You display it on top of the website. Another developer comes in and wants to create a widget that displays next weeks events. They use <code>currentTime.setDate(currentTime.getDate() + 7)</code> at the top to the widget to display next week‚Äôs date. However it also changes the date in the header! Oops. With an immutable date library, adding a week would create a new instance so the original would not change.</p>
<p>While <strong>Date</strong> has a <code>parse</code> method, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/Date">MDN documentation for <strong>Date</strong>‚Äòs <code>dateString</code> notes</a> that usage is ‚Äústrongly discouraged.‚Äù An excellent answer in the Stack Exchange question <a href="https://stackoverflow.com/a/20463521">Why does Date.parse give incorrect results?</a> describes in detail differences in formatting standards and browsers lead to inconsistent and unreliable results. If you need to parse, a date library is a must.</p>

<p>Time zones are another major frustration. <strong>Date</strong> in the browser always represents the local system date stored as milliseconds since January 1st, 1970 in UTC. A <strong>Date</strong> can rendered as a <code>string</code> in a different time zone using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl"><strong>Intl</strong></a>, but the <strong>Date</strong> itself is always the local system time.</p>
<p><strong>Date</strong> also lacks utilities for common tasks like creating human-readable relative dates. Using library utilities for such tasks can save a lot of time.</p>

<p>In the meantime, be aware of the limitations of <strong>Date</strong> and use a library when you need one.</p>
<h2 id="our-previous-pick-momentjs">Our previous pick: Moment.js</h2>
<p>For a long time <strong>Moment.js</strong> was king of the JavaScript date libraries, but in 2020 <strong>Moment.js</strong>‚Äòs maintainers published a <a href="https://momentjs.com/docs/#/-project-status">Project Status</a> announcing they consider Moment.js a legacy project.&nbsp;</p>
<p>The maintainers argued that there was no way to refactor <strong>Moment.js</strong> to meet the demands of modern JavaScript development such as immutability and tree shaking. Lighthouse (Chrome‚Äôs built-in auditing tool) warns against using Moment because of its large size (329 kb).</p>
<p>For these reasons, we do not include it as one of our recommended picks. If you are looking for a replacement to <strong>Moment.js</strong> that closely matches its API, try <strong>Day.js</strong>.</p>
<h2 id="how-we-picked">How we picked</h2>
<p>We looked at data from <a href="https://www.skypack.dev/">Skypack</a> and <a href="https://www.npmtrends.com/">NPM trends</a> to identity the most popular and trending libraries and evaluated them against these core criteria:</p>
<ul>
<li><strong>Browser-friendly</strong>: We evaluated JavaScript date libraries for use directly by the browser rather than the Node.js backend.</li>
<li><strong>Great documentation</strong>: Users look to this to implement the library correctly. We looked at the parts the facilitate this process: organization, search, examples, and the individual pages relating to the methods we tested.</li>
<li><strong>Modularity + Tree shaking</strong>: Modular architecture allows you to shrink your library size by ‚Äútree-shaking‚Äù out any library code you‚Äôre not using. Common build tools capable of tree-shaking include <a href="https://webpack.js.org/">Webpack</a>, <a href="https://snowpack.dev/">Snowpack</a> and <a href="https://rollupjs.org/">Rollup</a>.</li>
<li><strong>Features</strong>: Feature-richness was just one factor. We also considered whether a library was especially good at certain tasks.</li>
<li><strong>Performance</strong>: Measuring performance gives us a clue at how fast each library performs common operations. This usually isn‚Äôt noticeable but in large, complex apps can cause lag.</li>
<li><strong>Size</strong>: One of the biggest problems people had with <strong>Moment.js</strong> was size. A large library can substantially increase page load times.</li>
<li><strong>Anti-bug features</strong>: Immutability, readability, and informative error messages can help prevent bugs. When code is readable, you can learn a lot about what it does by reading it. Format, syntax, and naming conventions can make all the difference in readability.</li>
</ul>
<h3 id="how-we-tested">How we tested</h3>
<p>When evaluating each library we made a CodePen using Skypack. We attempted to pick out common use cases that illustrate differences between libraries:</p>
<ul>
<li>Rendering the current date &amp; time</li>
<li>Rendering the current date using a custom format</li>
<li>Modifying a date to add/remove time</li>
<li>Working with timezones</li>
<li>Parsing arbitrary date strings</li>
</ul>
<p>First we implemented these cases using JavaScript‚Äôs <strong>Date:</strong></p>
<p data-height="300" data-theme-id="15606" data-default-tab="js,result" data-user="melissamcewen" data-slug-hash="NWRMoLm" data-preview="true" data-pen-title="datetime example">See the Pen <a href="https://codepen.io/melissamcewen/pen/NWRMoLm"> datetime example</a> by melissa (<a href="https://codepen.io/melissamcewen">@melissamcewen</a>) on <a href="https://codepen.io/">CodePen</a>.</p>

<p>We wrote up examples for performance testing on <a href="https://perf.link/">perf.link</a> and all of the tests and code are available in the <a href="https://github.com/melissamcewen/date-time-perf-examples/">Date/time performance examples GitHub repository</a>. If you have a specific use-case, you can modify one of the provided examples. JavaScript date libraries contain hundreds of methods and features that we couldn‚Äôt test them all. Instead, we opted to test the same methods demonstrated in our Codepens.</p>
<figure id="attachment_79" aria-describedby="caption-attachment-79"><img loading="lazy" src="https://www.skypack.dev/blog/wp-content/uploads/2021/02/testing-performance-perf-link-skypack-javascript-date-library-1024x559.jpg" alt="A code block imports all the tested libraries via Skypack, then there are four blocks showing code for adding a week to a date using each JavaScript date library. The results are 1,990 ops/s Luxon, 25,495 ops/s Day.js, 817,780 ops/s JavaScript native date, 217,296 ops/s date-fns" width="1024" height="559" srcset="https://www.skypack.dev/blog/wp-content/uploads/2021/02/testing-performance-perf-link-skypack-javascript-date-library-1024x559.jpg 1024w, https://www.skypack.dev/blog/wp-content/uploads/2021/02/testing-performance-perf-link-skypack-javascript-date-library-300x164.jpg 300w, https://www.skypack.dev/blog/wp-content/uploads/2021/02/testing-performance-perf-link-skypack-javascript-date-library-768x419.jpg 768w, https://www.skypack.dev/blog/wp-content/uploads/2021/02/testing-performance-perf-link-skypack-javascript-date-library-1536x838.jpg 1536w, https://www.skypack.dev/blog/wp-content/uploads/2021/02/testing-performance-perf-link-skypack-javascript-date-library-2048x1117.jpg 2048w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption id="caption-attachment-79">Testing JavaScript date library performance at perf.link</figcaption></figure>
<p><a href="https://codepen.io/melissamcewen/pen/YzGMyyd">A chart of the performance data is also available on CodePen</a>. The data&nbsp; doesn‚Äôt indicate a clear advantage for any one library. Each JavaScript date library implements different features differently, so that‚Äôs not surprising.</p>

<p>The sizes listed on each review are based on loading via the Skypack CDN. If you‚Äôre using a build tool to tree-shake and the library is tree-shakable (like <strong>date-fns</strong>), the size will depend on what parts you use. For evaluating libraries with tree-shaking we recommend <a href="https://bundlephobia.com/">Bundlephobia.</a></p>
<p>A caveat to our testing is we did not consider back-end <code>Node.js</code> use. Many JavaScript date libraries rely on browser APIs so may not work correctly on the back-end.</p>
<h4 id="other-cases-to-test">Other cases to test</h4>
<p>Depending on your needs there are lots of other tests you could do. If you‚Äôd like to test other features not covered here, you can make changes to any of the examples in our embedded Codepens or <a href="https://codepen.io/collection/DKYbjR">CodePen date collection</a>.</p>
<p>For example:</p>
<ul>
<li>Does it let us know if we have an invalid date when we pass in invalid items? For example moment(undefined) behaves like moment() and doesn‚Äôt output an error, which could lead to bugs.</li>
<li>How well does it handle different languages and locales?</li>
<li>Can it render relative dates (like ‚Äú4 days ago‚Äù)? Can it do this in different languages?</li>
<li>Does it work in older browsers?</li>
</ul>
<h2 id="our-picks-in-detail">Our picks in detail</h2>
<h3 id="date-fns"><a href="https://www.skypack.dev/view/date-fns">Date-fns</a></h3>
<p>Size: 58.9 kb (tree-shakable)</p>

<p data-height="300" data-theme-id="15606" data-default-tab="js,result" data-user="melissamcewen" data-slug-hash="bGwjaGV" data-preview="true" data-pen-title="datetime example: date-fns">See the Pen <a href="https://codepen.io/melissamcewen/pen/bGwjaGV"> datetime example: date-fns</a> by melissa (<a href="https://codepen.io/melissamcewen">@melissamcewen</a>) on <a href="https://codepen.io/">CodePen</a>.</p>

<p><strong>date-fns</strong> is a pleasure to use, offering all the benefits of a modular architecture and covering almost any date use case. Our example shows the power of good naming and syntax in conveying information. Code like <code>add(now, {days: 7})</code> is straightforward to understand even if you‚Äôre unfamiliar with <strong>date-fns</strong>.</p>
<p>To get the most out of <strong>date-fns‚Äô</strong>s modular architecture, use a tree-shaking build tool (see our criteria section) and import only the features you need:</p>
<pre><code>import { format, add, getHours, parse } from "https://cdn.skypack.dev/date-fns@2.16.1";
</code></pre>
<p>In the example above, a tree-shaking build tool would remove all code from <strong>date-fns</strong> that‚Äôs not used in <code>format</code>, <code>add</code>, <code>getHours</code>, or <code>parse</code>. The final build would be much slimmer. Still at 58.9kb for the whole package, it‚Äôs not giant in the first place.</p>
<p><strong>date-fns</strong> doesn‚Äôt package a browser build for NPM (<a href="https://github.com/date-fns/date-fns/issues/1780">see the related GitHub issue</a>) and therefore only works on CDNs that transform for the browser like <a href="https://www.skypack.dev/">Skypack</a> and <a href="https://www.jsdelivr.com/esm">ESM.run</a>. However, documentation has examples labeled for the browser as both ESM(ES Modules) and ES2015. This ensures developers don‚Äôt get confused trying to run <code>Node.js</code> backend code in the browser.</p>
<h4 id="limitations">Limitations</h4>
<p>Although we liked almost everything about <strong>date-fns</strong>, it is not for everyone. For starters, <strong>date-fns</strong> seems geared towards experienced developers working with a professional tool chain. Working without a build tool, the tree-shaking advantage disappears.</p>
<p>Note that our CodePen example starts with a <code>const now = new Date()</code>, which is the default JavaScript <strong>Date</strong> object. As noted in our <strong>Date</strong> section a <strong>Date</strong> is always the current system‚Äôs time zone. <strong>date-fns</strong> has a separate library for working with time zones using helper functions. We found the documentation and examples for these helper functions less consistent than the main <strong>date-fns</strong>. Our resulting code is less readable than the rest of the examples. Our time-zone example for <strong>date-fns</strong> is 4 lines of code, compared to 1 for <strong>Luxon</strong>.</p>
<p>Another quirk we encountered was if you Google ‚Äúdate-fns parse‚Äù the top results take you to the <a href="https://date-fns.org/v2.0.0-alpha.9/docs/parse">v2.0.0-alpha docs for parse</a>, which no longer work (the current version is 2.16). We found ourselves using Google because the documentation‚Äôs built-in search seems to search only title and descriptions of sub-pages. The information architecture of the menu could also use improvement, as we would it overwhelmingly ‚Ä¶</p></div></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.skypack.dev/blog/2021/02/the-best-javascript-date-libraries/">https://www.skypack.dev/blog/2021/02/the-best-javascript-date-libraries/</a></em></p>]]>
            </description>
            <link>https://www.skypack.dev/blog/2021/02/the-best-javascript-date-libraries/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26154069</guid>
            <pubDate>Tue, 16 Feb 2021 14:21:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Most Valuable Question When Interviewing Managers]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26153942">thread link</a>) | @thekenwheeler
<br/>
February 16, 2021 | https://staysaasy.com/recruiting/2021/02/15/Top-Question-Interviewing-Managers.html | <a href="https://web.archive.org/web/*/https://staysaasy.com/recruiting/2021/02/15/Top-Question-Interviewing-Managers.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>Interviewing managers is difficult.</p>

<p>For starters, the role has high volatility. Managers can elevate a team well past what was thought possible. On the flip side, they can blow up a high-functioning team, destroying it‚Äôs magic in unrecoverable ways.</p>

<p>Second, it‚Äôs hard to fire mediocre managers. When a mediocre individual contributor leaves the company, usually they have a mediocre volume of things to transition. When a mediocre manager leaves the company, they‚Äôll often have a bunch of plates spinning in various states of wobble. Someone has to keep those plates spinning, it‚Äôs likely going to be you, and you hired this person  because you didn‚Äôt have the time to do that well.</p>

<p>So, you want to hire a great manager. To do that you need to evaluate them on a large number of competencies - people management, process management, subject matter expertise, communication, and more. That‚Äôs a lot of ground to cover. However, my favorite question can get you a reasonable read in under 15 minutes.</p>



<p>The three most important decisions in management are hiring, firing, and promoting. Asking prospective managers how many times they‚Äôve done each, and asking follow-up questions about their responses, gets to the heart of a manager‚Äôs competency faster than any other question I‚Äôve tried.</p>

<h2 id="how-many-people-have-you-hired">How many people have you hired?</h2>

<p>Great managers are great recruiters. Asking someone how many people they‚Äôve hired gets you critical information, fast. If they‚Äôve only hired a couple people, you can‚Äôt count on this person to come in and revamp your hiring process on day 1. If they‚Äôve hired a bunch, ask some quick followups to understand how they did it:</p>
<ul>
  <li>What‚Äôs your offer acceptance rate? Where do you want it to be?</li>
  <li>What‚Äôs your top source for top-of-funnel pipeline?</li>
  <li>How do you make sure you‚Äôre counteracting bias in the hiring process?</li>
</ul>

<p>The biggest red flag for this question is if someone acts like hiring is easy. That‚Äôs a sure-fire way to know that they have no idea how to hire top talent.</p>

<h2 id="how-many-people-have-you-fired">How many people have you fired?</h2>

<p>Firing is a gut-wrenching, stressful, angst-inducing, and essential function of a manager.</p>

<p>Anecdotally, most effective managers have fired around 1 out of every 7-10 people they‚Äôve ever managed. Proportions much lower than that start to raise concerns that this candidate has had issues effectively performance managing. Ask follow-ups to understand anomalous report:firing ratios.</p>

<p>Furthermore, if a candidate has only managed a few people and never had to fire someone, then you‚Äôve gotten the signal that it‚Äôs something you‚Äôll need to help them with if and when the time comes. You can also avoid accidentally giving a manager with no firing experience a report with material performance issues.</p>

<p>The biggest red flag for this question is anyone is if someone acts like firing is anything besides a life-changing event that requires the utmost seriousness and attention.</p>



<p>Growing your team is an essential manager function. Promotions are also a rough proxy for the effectiveness of your team. Great managers should have promoted a significant proportion of their team and have clear examples of how they helped their team advance their career. For someone in a role for more than a couple years, a good quick response to this question is ‚Äúmost of the team‚Äù.</p>

<p>The biggest red flag for this question is multi-year management stints with very low promotion counts. Dive into that signal to uncover if it was happenstance, a faulty reward mechanism, or a failure in team execution.</p>

<h2 id="conclusion">Conclusion</h2>

<p>You should be able to get through this three-part question in under 15 minutes. By the end of it you‚Äôll have a quick but useful read on the candidate‚Äôs ability to hire, fire, and promote effectively. A nice benefit of this rapid-fire discovery is that it explores the candidate‚Äôs ability to communicate effectively when concise information is needed.</p>



    

    




  </div></div>]]>
            </description>
            <link>https://staysaasy.com/recruiting/2021/02/15/Top-Question-Interviewing-Managers.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26153942</guid>
            <pubDate>Tue, 16 Feb 2021 14:06:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[That XOR Trick]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26153909">thread link</a>) | @wheresvic4
<br/>
February 16, 2021 | https://florian.github.io//xor-trick/ | <a href="https://web.archive.org/web/*/https://florian.github.io//xor-trick/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    <p>There are a whole bunch of popular interview questions that can be solved in one of two ways:
Either using common data structures and algorithms in a sensible manner, or by using some properties of XOR in a seemingly hard to understand way.</p>

<p>While it seems unreasonable to expect the XOR solutions in interviews, it is quite fun to figure out how they work.
As it turns out, they are all based on the same fundamental trick, which we will derive in a bottom-up way in this post.
Afterwards we will look at a bunch of applications of <em>that XOR trick</em> ‚Ñ¢, such as solving this popular interview question:</p>

<blockquote>
  <p>You are given an array of n - 1 integers which are in the range between 1 and n. All numbers appear exactly once, except one number, which is missing. Find this missing number.</p>
</blockquote>

<p>Of course, there are a number of straightforward ways to solve this problem, but there is also a perhaps surprising one using XOR.</p>

<h3 id="xor">XOR</h3>

<p>XOR is a logical operator that works on bits.
Let‚Äôs denote it by <code>^</code>.
If the two bits it takes as input are the same, the result is <code>0</code>, otherwise it is <code>1</code>.
This implements an <em>exclusive or</em> operation, i.e. exactly one argument has to be <code>1</code> for the final result to be <code>1</code>.
We can show this using a truth table:</p>

<table>
  <thead>
    <tr>
      <th><code>x</code></th>
      <th><code>y</code></th>
      <th><code>x ^ y</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <td>0</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <td>1</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
  </tbody>
</table>

<p>Most programming languages implement <code>^</code> as a bitwise operator, meaning XOR is individually applied to each bit in a string of bits (e.g. a byte).</p>

<p>For example:</p>



<p>since</p>
<div><div><pre><code>0 ^ 0 = 0
0 ^ 1 = 1
1 ^ 0 = 1
1 ^ 1 = 0
</code></pre></div></div>

<p>Because of this, we can apply XOR to anything, not just booleans.</p>

<h3 id="deducing-some-useful-properties">Deducing Some Useful Properties</h3>

<p>We can derive a bunch of properties from the previous definition.
Let‚Äôs go through them one by one, and then compose them to solve the interview questions previously mentioned.</p>

<h4 id="xor-and-0-x--0--x">XOR and 0: <code>x ^ 0 = x</code></h4>

<p>If one of the two arguments to XOR is <code>0</code>, then the remaining argument is the result.
This directly follows from the truth table by checking the rows where <code>y = 0</code>, namely the first and third row.</p>

<table>
  <thead>
    <tr>
      <th><code>x</code></th>
      <th><code>y</code></th>
      <th><code>x ^ y</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>0</strong></td>
      <td><strong>0</strong></td>
      <td><strong>0</strong></td>
    </tr>
    <tr>
      <td>0</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <td><strong>1</strong></td>
      <td><strong>0</strong></td>
      <td><strong>1</strong></td>
    </tr>
    <tr>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
  </tbody>
</table>

<h4 id="xor-on-the-same-argument-x--x--0">XOR on the same argument: <code>x ^ x = 0</code></h4>

<p>If the two arguments are the same, the result is always <code>0</code>.
Again, we can convince ourselves that this is true by inspecting the truth table.
This time we have to check the rows where <code>x = y</code>, i.e. the first and last row.</p>

<table>
  <thead>
    <tr>
      <th><code>x</code></th>
      <th><code>y</code></th>
      <th><code>x ^ y</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>0</strong></td>
      <td><strong>0</strong></td>
      <td><strong>0</strong></td>
    </tr>
    <tr>
      <td>0</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <td>1</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <td><strong>1</strong></td>
      <td><strong>1</strong></td>
      <td><strong>0</strong></td>
    </tr>
  </tbody>
</table>

<p>Intuitively, this means that if we apply XOR to the same arguments, they cancel each other out.</p>

<h4 id="commutativity-x--y--y--x">Commutativity: <code>x ^ y = y ^ x</code></h4>

<p>XOR is commutative, meaning we can change the order in which we apply XOR.
To prove this, we can check the truth table for both <code>x ^ y</code> and <code>y ^ x</code>:</p>

<table>
  <thead>
    <tr>
      <th><code>x</code></th>
      <th><code>y</code></th>
      <th><code>x ^ y</code></th>
      <th><code>y ^ x</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>

<p>As we can see, <code>x ^ y</code> and <code>y ^ x</code> always end up with the same value.</p>

<h4 id="sequences-of-xor-operations">Sequences of XOR operations</h4>

<p>By combining all of this, we can deduce the central insight behind everything that is about to follow:</p>

<blockquote>
  <p><strong>The XOR trick</strong>: If we have a sequence of XOR operations <code>a ^ b ^ c ^ ...</code>, then we can remove all pairs of duplicated values without affecting the result.</p>
</blockquote>

<p>Commutativity allows us to re-order the applications of XOR so that the duplicated elements are next to each other.
Since <code>x ^ x = 0</code> and <code>a ^ 0 = a</code>, each pair of duplicated values has no effect on the outcome.</p>

<p>Let‚Äôs go through an example of this:</p>
<div><div><pre><code>  a ^ b ^ c ^ a ^ b     # Commutativity
= a ^ a ^ b ^ b ^ c     # Using x ^ x = 0
= 0 ^ 0 ^ c             # Using x ^ 0 = x (and commutativity)
= c
</code></pre></div></div>

<p>Because <code>^</code> is a bitwise operator, this will work regardless of what kind of values <code>a</code>, <code>b</code> and <code>c</code> are.
This idea is really at the heart of how XOR can be used seemingly magically in many situations.</p>

<h3 id="application-1-in-place-swapping">Application 1: In-Place Swapping</h3>

<p>Before we solve the problem of finding the missing number, let‚Äôs start with this simpler <a href="https://www.geeksforgeeks.org/swap-two-numbers-without-using-temporary-variable/">problem</a>:</p>

<blockquote>
  <p>Swap two values x and y in-place, i.e. without using any helper variables.</p>
</blockquote>

<p>It turns out that one can easily solve this problem using the following three XOR instructions:</p>



<p>That seems a bit mysterious.
Why do we end up swapping <code>x</code>, <code>y</code> if we do this?</p>

<p>To see how it works, let‚Äôs go through this step by step.
The comment after each instruction shows the current values of <code>(x, y)</code>:</p>

<div><div><pre><code>x ^= y # =&gt;                      (x ^ y, y)
y ^= x # =&gt; (x ^ y, y ^ x ^ y) = (x ^ y, x)
x ^= y # =&gt; (x ^ y ^ x, x)     = (y, x)
</code></pre></div></div>

<p>We can see that this is really just using the properties derived earlier.</p>

<p>The fundamental insight here is that having <code>x ^ y</code> in one register and <code>x</code> in the other, allows us to perfectly reconstruct <code>y</code>.
Once <code>x ^ y</code> is stored (instruction 1), we can just put <code>x</code> into the other register (instruction 2), and then use it to change <code>x ^ y</code> to just <code>y</code> (instruction 3).</p>

<h3 id="application-2-finding-the-missing-number">Application 2: Finding the Missing Number</h3>

<p>Let‚Äôs finally solve the problem posed in the beginning of this post:</p>

<blockquote>
  <p>You are given an array <code>A</code> of n - 1 integers which are in the range between 1 and n. All numbers appear exactly once, except one number, which is missing. Find this missing number.</p>
</blockquote>

<p>Of course, there are many straightforward ways of solving this, but we did set out to do it using XOR.</p>

<p>From the XOR trick we know that having a sequence of XOR statements means we can remove all duplicated arguments.
If we just XOR all values in the given list, however, we cannot apply this trick because there are no duplicates:</p>

<div><div><pre><code>A[0] ^ A[1] ^ ... ^ A[n - 2]
</code></pre></div></div>

<p>Note that <code>A[n - 2]</code> is the last index of a list of <code>n - 1</code> elements.</p>

<p>What we can do additionally is to also XOR all values between 1 and n:</p>
<div><div><pre><code>1 ^ 2 ^ ... ^ n ^ A[0] ^ A[1] ^ ... ^ A[n - 2]
</code></pre></div></div>

<p>This will give us a sequence of XOR statements where elements appear as follows:</p>
<ul>
  <li>All values in the given list now appear twice:
    <ul>
      <li>once from taking all the values between 1 and n</li>
      <li>once because they were in the original list</li>
    </ul>
  </li>
  <li>The missing value appears exactly once:
    <ul>
      <li>once from taking all the values between 1 and n</li>
    </ul>
  </li>
</ul>

<p>If we XOR all of this, we essentially remove all values that appear twice, thanks to the XOR trick.
This means that we are left with the missing value, which happens to be exactly what we were looking for in the first place.</p>

<p>Coded up, it looks something like this:</p>
<div><div><pre><code><span>def</span> <span>find_missing</span><span>(</span><span>A</span><span>,</span> <span>n</span><span>):</span>
  <span>result</span> <span>=</span> <span>0</span>

  <span># XOR of all the values from 1 to n
</span>  <span>for</span> <span>value</span> <span>in</span> <span>range</span><span>(</span><span>1</span><span>,</span> <span>n</span> <span>+</span> <span>1</span><span>):</span>
    <span>result</span> <span>^=</span> <span>value</span>

  <span># XOR of all values in the given array
</span>  <span>for</span> <span>value</span> <span>in</span> <span>A</span><span>:</span>
    <span>result</span> <span>^=</span> <span>value</span>

  <span>return</span> <span>result</span>
</code></pre></div></div>

<p>Just looking at the code, this seems to be a difficult to understand algorithm.
When knowing how the XOR trick works, however, it becomes fairly trivial.
I think that also shows why it is unreasonable to expect this solution in an interview: It requires knowledge of a very specific trick but not much algorithmic thinking beyond that.</p>

<p>Before we move on to the next application, let me follow up with two remarks.</p>

<h4 id="generalizing-this-beyond-integers">Generalizing this beyond integers</h4>

<p>While we worked on integers from 1 to n so far, this is not required.
In fact, the previous algorithm works in any situation where there is (1) some set of potential elements and (2) a set of elements actually appearing.
The sets may only differ in the one missing element.
This worked out nicely for integers because the set of potential elements just corresponds to the elements from 1 to n.</p>

<p>One could imagine applications where the elements are not integers from 1 to n:</p>
<ul>
  <li>The set of potential elements are <code>Person</code> objects and we ought to find the <code>Person</code> missing from a list of values</li>
  <li>The set of potential elements are all nodes in a graph and we are looking for a missing node</li>
  <li>The set of potential elements are integers in general (not necessarily from 1 to n) and we want to find a missing integer</li>
</ul>

<h4 id="arithmetic-operators-instead-of-xor">Arithmetic operators instead of XOR</h4>

<p>If the algorithm still seems a bit magical ‚Äì which I hope it does not ‚Äì it might help to think about how one could achieve the same result using arithmetic operators.
This is actually fairly straightforward:</p>
<div><div><pre><code><span>def</span> <span>find_missing</span><span>(</span><span>A</span><span>,</span> <span>n</span><span>):</span>
  <span>result</span> <span>=</span> <span>0</span>

  <span># Add all the values from 1 to n
</span>  <span>for</span> <span>value</span> <span>in</span> <span>range</span><span>(</span><span>1</span><span>,</span> <span>n</span> <span>+</span> <span>1</span><span>):</span>
    <span>result</span> <span>+=</span> <span>value</span>

  <span># Subtract all values in the given array
</span>  <span>for</span> <span>value</span> <span>in</span> <span>A</span><span>:</span>
    <span>result</span> <span>-=</span> <span>value</span>

  <span>return</span> <span>result</span>
</code></pre></div></div>

<p>We add all potential integers and then subtract the ones actually appearing.
The solution is not as nice because one would need to handle overflows and because it requires the type of the elements to support <code>+</code>, <code>-</code> with certain properties.
It, however, has the same logic of elements canceling each other out because they appear a certain number of times (once positive, once negative).</p>

<h3 id="application-3-finding-the-duplicate-number">Application 3: Finding the Duplicate Number</h3>

<p>Here‚Äôs where it gets fun: We can apply the <em>exact</em> same solution to a similar interview question:</p>

<blockquote>
  <p>You are given an array <code>A</code> of <strong>n + 1</strong> integers which are in the range between 1 and n. All numbers appear exactly once, except one number, which is <strong>duplicated</strong>. Find this duplicated number.</p>
</blockquote>

<p>Let‚Äôs think about what happens if we just apply the exact same algorithm as in the previous solution.
We would get a sequence of XOR statements where elements appear as follows:</p>
<ul>
  <li>The duplicated value appears three times:
    <ul>
      <li>once from taking all the values between 1 and n</li>
      <li>twice because it was duplicated in the original list</li>
    </ul>
  </li>
  <li>All other values in the given list appear twice:
    <ul>
      <li>once from taking all the values between 1 and n</li>
      <li>once because they were unique in the original list</li>
    </ul>
  </li>
</ul>

<p>As previously, all the duplicated elements cancel each other out.
This means we are left with exactly what we are looking for: the element that was duplicated in the original array.
This element appearing three times, combined with XOR, reduces to that very element:</p>


<p>All other elements cancel each other out because they appear exactly twice.</p>

<h3 id="application-4-finding-two-missingduplicate-numbers">Application 4: Finding Two Missing/Duplicate Numbers</h3>

<p>It turns out we can take this even further.
Consider the following, slightly more difficult, problem:</p>

<blockquote>
  <p>You are given an array <code>A</code> of <strong>n - 2</strong> integers which are in the range between 1 and n. All numbers appear exactly once, except <strong>two</strong> numbers, which are missing. Find these two missing numbers.</p>
</blockquote>

<p>As before, the problem is completely equivalent when looking for two <em>duplicated</em> numbers, instead of two <em>missing</em> numbers.</p>

<p>And I am sure you guessed it, but we will stick with what worked before and start exactly the ‚Ä¶</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://florian.github.io//xor-trick/">https://florian.github.io//xor-trick/</a></em></p>]]>
            </description>
            <link>https://florian.github.io//xor-trick/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26153909</guid>
            <pubDate>Tue, 16 Feb 2021 14:01:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why we are hiring open source devs to contribute to ClickHouse full-time]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26153876">thread link</a>) | @xoelop
<br/>
February 16, 2021 | https://blog.tinybird.co/2021/02/16/tinybird-clickhouse/ | <a href="https://web.archive.org/web/*/https://blog.tinybird.co/2021/02/16/tinybird-clickhouse/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content"> <div> <article itemscope="" itemtype="http://schema.org/BlogPosting">  <div id="post-content" itemprop="articleBody"> <figure> <img src="https://blog.tinybird.co/images/clickhouse.png" alt="Tinybird uses Clickhouse"> <figcaption>Tinybird uses Clickhouse</figcaption> </figure> <p>There are two extremes in the open source world: companies creating open-source and the ones that just use it. And in between, some companies contribute from time to time.</p> <p>Let‚Äôs use Linux kernel development as an example: if you look at the contributor list you‚Äôll see Redhat, IBM, Facebook, and many more. But those companies don‚Äôt control the project in this case, there is a foundation behind it. This is the ideal situation, when there is no company behind the project. Of course, each company pushes in their direction, but no one can change the project license.</p> <p>On the other hand you have Mongo or Elastic, they created the project and control it. Their business model depends on the project, so to protect it they‚Äôll do whatever is needed. There are plenty of examples of companies changing license terms to limit what other companies -basically large cloud services providers- can offer. Mongo, Elastic, Redis, Mapbox are recent examples.</p> <p>We truly believe in open source. Ideally following the foundation way, but any piece of code that enables others to do things is welcome in our book. Open source is one of the things that make the world a better place: COVID vaccine scientists used spark for its development, Wikipedia uses Kafka (and runs entirely on open source software), OpenStreetMap uses Postgres and PostGIS.</p> <p>In our previous companies, we based most of our products on open source technology but we often felt we weren‚Äôt contributing enough. Not just because you should feel the pressure to contribute if you are making money out of it; also because if you are contributing to it, it probably means you really understand how it works and therefore your product will be better.</p> <p>Our service relies heavily on Clickhouse, the database Yandex published as open source a few years ago. It‚Äôs one of the best pieces of technology I‚Äôve seen, the kind of software you get when you put the best minds to solve one hard problem.</p> <p>We have been contributing to the database with some pull requests, but not as many as we would like. And even though we understand Clickhouse inside and out now, we feel that‚Äôs not enough. That‚Äôs why we have decided to hire developers to work on the open-source project full-time.</p> <p>For a company of our size this means a long-term effort but we are pretty sure it will pay off in the short and medium-term. And not just for us but for everybody facing the same problems we are trying to solve.</p> <p>If you are a C++ developer and like working on high-performance projects you‚Äôll feel at home at Tinybird. Please take a look at the <a href="https://www.tinybird.co/jobs/clickhouse-developer">Clickhouse Developer job offer</a> and consider applying.</p> </div>  </article>  </div> </div></div>]]>
            </description>
            <link>https://blog.tinybird.co/2021/02/16/tinybird-clickhouse/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26153876</guid>
            <pubDate>Tue, 16 Feb 2021 13:57:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Django changelog comparison tool ‚Äì see what changed between releases]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26153863">thread link</a>) | @rikatee
<br/>
February 16, 2021 | https://django.doctor/compare-django-release-notes/3.0.0/3.1.6 | <a href="https://web.archive.org/web/*/https://django.doctor/compare-django-release-notes/3.0.0/3.1.6">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="root"><div><div><div><div><div><p>Django Doctor helps you build world-class websites, release faster, and reduce development costs by automatically finding and fixing security, performance, and maintainability problems in your Django codebase.</p></div><div><picture><source media="(max-width: 600px)" sizes="1px" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 1w"><img alt="Spotting bugs" src="https://django.doctor/spotting-bugs.svg" width="100%"></picture></div></div></div><div><div><div><div><h2>Protect every code change automatically</h2><p>Django Doctor reviews every new code change to prevent adding new <a href="#security">vulernabilities</a>, <a href="#performance">performance</a>, or <a href="#maintainability">maintainability</a> problems to your code. Enforce best practices without changing how your team works.</p></div></div></div></div><div><div id="security"><div id="features"><div><h2>Enhance your security</h2><p><span>Protect your business and users against common vulnerabilities including <a href="https://django.doctor/compare-django-release-notes/3.0.0/3.1.6">missing Django fixes</a>, XSS, Cross Site Request Forgery, clickjacking, session cookie hijacking, </span><a href="https://django.doctor/advice/security">and more</a>.</p></div></div><div><h2 font-size="4">Our security checks</h2><div><div><li><details open=""><summary display="flex" title="Click to collapse"><div><div><h2 font-size="3">Django version is no longer supported</h2><p><span><span>security</span><span>high</span></span></p></div></div></summary><div><div><p>Django version is not recieving bug fixes, and security fixes, and data-loss fixes.</p><p><a href="https://django.doctor/advice/C1001">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Django bugfixes and additional features available</h2><p><span><span>security</span><span>medium</span></span></p></div></div></summary><div><div><p>New version of Django is available, including bug fixes and new features.</p><p><a href="https://django.doctor/advice/C1002">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Security middleware not activated</h2><p><span><span>security</span><span>high</span></span></p></div></div></summary><div><div><p>Your website is vulnerable to a number of common hacker attacks because <code>MIDDLEWARE</code> setting is missing <code>django.middleware.security.SecurityMiddleware</code>.</p><p><a href="https://django.doctor/advice/C4007">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Clickjacking protection not activated</h2><p><span><span>security</span><span>high</span></span></p></div></div></summary><div><div><p>Your website is vulnerable to clickjack attack because the <code>MIDDLEWARE</code> setting is missing <code>django.middleware.clickjacking.XFrameOptionsMiddleware</code> - so users can be tricked into interacting with your website without realising.</p><p><a href="https://django.doctor/advice/C4008">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Cross Site Request Forgery protection not activated</h2><p><span><span>security</span><span>high</span></span></p></div></div></summary><div><div><p>Your website is vulnerable to CSRF attacks because the <code>MIDDLEWARE</code> setting is missing <code>CsrfViewMiddleware</code> - so a hacker can fool your website into thinking a request is coming from a logged in user.</p><p><a href="https://django.doctor/advice/C4009">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Cross Site Request Forgery protection weak to packet sniffing</h2><p><span><span>security</span><span>high</span></span></p></div></div></summary><div><div><p>Your website is vulnerable because the <code>CSRF_COOKIE_SECURE</code> setting is not set - so hackers have an easier time stealing your CSRF cookies on HTTP connections, allowing them to circumvent your CSRF protection.</p><p><a href="https://django.doctor/advice/C4016">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">HTTP Strict Transport Security protection not activated</h2><p><span><span>security</span><span>high</span></span></p></div></div></summary><div><div><p>Your website is vulnerable to Man In The Middle attacks because the <code>SECURE_HSTS_SECONDS</code> setting is missing - so a hacker can intercept and change requests performed over HTTP.</p><p><a href="https://django.doctor/advice/C4010">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Subdomains not protected by HSTS</h2><p><span><span>security</span><span>high</span></span></p></div></div></summary><div><div><p>Your website is vulnerable to Man In The Middle attacks on subdomains because the <code>SECURE_HSTS_INCLUDE_SUBDOMAINS</code> setting is missing - so a hacker can intercept and change requests performed over HTTP.</p><p><a href="https://django.doctor/advice/C4011">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">HSTS browser preload list not activated</h2><p><span><span>security</span><span>low</span></span></p></div></div></summary><div><div><p>Your website must set <code>SECURE_HSTS_PRELOAD</code> in order to be submitted to Chrome's list of sites that are hardcoded as being HTTPS only.</p><p><a href="https://django.doctor/advice/C4017">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Browser can be tricked into executing uploaded malicious code</h2><p><span><span>security</span><span>high</span></span></p></div></div></summary><div><div><p>Your website is vulnerable to being tricked into executing uploaded malcious code because the <code>SECURE_CONTENT_TYPE_NOSNIFF</code> setting is not set.</p><p><a href="https://django.doctor/advice/C4012">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Website can be served with insecure HTTP</h2><p><span><span>security</span><span>high</span></span></p></div></div></summary><div><div><p>Your website is vulnerable because the <code>SECURE_SSL_REDIRECT</code> setting is not set - so a hacker can read, intercept, and change requests performed over HTTP.</p><p><a href="https://django.doctor/advice/C4013">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Session cookie is vulnerable to packet sniffing attack</h2><p><span><span>security</span><span>high</span></span></p></div></div></summary><div><div><p>Your website is vulnerable because the <code>SESSION_COOKIE_SECURE</code> setting is not set - so hackers have an easier time stealing your users' session cookies on HTTP connections.</p><p><a href="https://django.doctor/advice/C4014">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Session cookie is vulnerable to XSS attack</h2><p><span><span>security</span><span>high</span></span></p></div></div></summary><div><div><p>Your website is vulnerable because the <code>SESSION_COOKIE_HTTPONLY</code> setting is not set - so hackers have an easier time stealing your users' session cookies using an XSS attack.</p><p><a href="https://django.doctor/advice/C4015">Read more</a></p></div></div></details></li></div></div></div></div><div id="performance"><div><div><h2>Improve your website's speed</h2><p><span>Over half of Django websites are slowed by unoptimized code. Website speed has a direct impact on the success of your organization. </span><span>Protect against unoptimized code that at best lose you customers and at worse bring your website down. </span><a href="https://django.doctor/advice/performance">Read more</a>.</p></div></div><div><h2 font-size="4">Our performance checks</h2><div><div><li><details open=""><summary display="flex" title="Click to collapse"><div><div><h2 font-size="3">Using len(queryset) instead of queryset.count()</h2><p><span><span>performance</span><span>medium</span></span></p></div></div></summary><div><div><p><code>len(queryset)</code> performs the count at application level. That is much less efficient than doing <code>queryset.count()</code>, which does the calculation at database level and just returns the count.</p><p><a href="https://django.doctor/advice/C9000">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Not using foreign keys directly</h2><p><span><span>performance</span><span>medium</span></span></p></div></div></summary><div><div><p>When working with foreign keys, accessing <code>hound.farm.id</code> will result in a database read when <code>farm.id</code> is evaluated. That can be eliminated by doing <code>hound.farm_id</code>, which is the foreign key value that Django has already cached on the object to make this scenario more efficient.</p><p><a href="https://django.doctor/advice/C9001">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Comparing queryset.count() instead of checking queryset.exists()</h2><p><span><span>performance</span><span>medium</span></span></p></div></div></summary><div><div><p>Comparing <code>queryset.count()</code> is less efficient than checking <code>queryset.exists()</code>, so use <code>querySet.count()</code> if you only want the count, and use <code>queryset.exists()</code> if you only want to find out if at least one result exists.</p><p><a href="https://django.doctor/advice/C9002">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Checking queryset truthiness instead of checking queryset.exists()</h2><p><span><span>performance</span><span>medium</span></span></p></div></div></summary><div><div><p>This can load every row in the database table into memory because the queryset is evaluated. Checking if a queryset is truthy/falsey is much less efficient than checking <code>queryset.exists()</code>.</p><p><a href="https://django.doctor/advice/C9003">Read more</a></p></div></div></details></li></div></div></div></div><div id="maintainability"><div><div><h2>Reduce your development costs</h2><p><span>Automatically find and fix over 40 issues, so your team can focus on adding value. Reduce costs by preventing tech debt including hidden 404s, migrations blocking production rollback, hard-coded urls, </span><a href="https://django.doctor/advice/maintainability">and more</a>.</p></div></div><div><h2 font-size="4">Our maintainability checks</h2><div><div><li><details open=""><summary display="flex" title="Click to collapse"><div><div><h2 font-size="3">Importing models.py into migrations</h2><p><span><span>maintainability</span><span>high</span></span></p></div></div></summary><div><div><p>It's better to use <a href="https://docs.djangoproject.com/en/3.1/ref/applications/#django.apps.apps.get_model" rel="noopener noreferrer" target="_blank"><code>apps.get_model</code></a>, which guarantees the Model's fields will reflect the fields in the database even if <code>models.py</code> is vastly out of step with the database.</p><p><a href="https://django.doctor/advice/C8000">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Missing reverse migration</h2><p><span><span>maintainability</span><span>high</span></span></p></div></div></summary><div><div><p>It's good to, as a minimum, specify <code>noop</code> in <code>RunPython</code> so the migration can be skipped when going backwards, and even better to specify a function that <a href="https://docs.djangoproject.com/en/3.1/topics/migrations/#reversing-migrations" rel="noopener noreferrer" target="_blank">undoes the migration</a>.</p><p><a href="https://django.doctor/advice/C8001">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Hard-coded static asset URL in template</h2><p><span><span>maintainability</span><span>medium</span></span></p></div></div></summary><div><div><div><p>Hard-coding static asset urls is brittle because the place the files are stored depends on the `STATICFILES_STORAGE` used - so if in prod the storage backend uploads to S3 or even renames the file then this hard-coded URL will break.</p><p>Using "{% static ... %}" solves that as it knows exactly where the files are stored.</p></div><p><a href="https://django.doctor/advice/C7001">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Middleware order</h2><p><span><span>maintainability</span><span>high</span></span></p></div></div></summary><div><div><div><p>The order of middleware affections the outcome.</p><p>Some middleware are dependant on the functionality of other middlware. For example a middleware that requires usage of request.session should come after the SessionMiddleware.</p></div><p><a href="https://django.doctor/advice/C4000">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">URL name not unique</h2><p><span><span>maintainability</span><span>high</span></span></p></div></div></summary><div><div><p>URL names must be unique otherwise <code>reverse('url_name')</code> and <code>{% url 'url_name' %}</code> will link to the "wrong" page half of the time.</p><p><a href="https://django.doctor/advice/C6001">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Using reverse_lazy where reverse would be better</h2><p><span><span>maintainability</span><span>low</span></span></p></div></div></summary><div><div><p>Using <code>reverse(...)</code> is better than using <code>reverse_lazy(...)</code> when the url is being reversed after <code>URLConf</code> has been loaded.</p><p><a href="https://django.doctor/advice/C6002">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Middleware should be near the end</h2><p><span><span>maintainability</span><span>high</span></span></p></div></div></summary><div><div><p>Incorrectly ordered middleware can stop the middleware working as intended.</p><p><a href="https://django.doctor/advice/C4003">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Middleware should be near the top</h2><p><span><span>maintainability</span><span>high</span></span></p></div></div></summary><div><div><p>Incorrectly ordered middleware can stop the middleware working as intended.</p><p><a href="https://django.doctor/advice/C4004">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Hard-coded URL in template</h2><p><span><span>maintainability</span><span>medium</span></span></p></div></div></summary><div><div><p>Hard-coding urls makes changing URLs harder, and makes linking to the wrong page easier - so harms maintainability.</p><p><a href="https://django.doctor/advice/C7000">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Brittle unique_for</h2><p><span><span>maintainability</span><span>medium</span></span></p></div></div></summary><div><div><p><code>unique_for_date/month/year</code> is very brittle and over time will likely be a source for unexpected behaviour.</p><p><a href="https://django.doctor/advice/C2004">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Importing setting file directly</h2><p><span><span>maintainability</span><span>medium</span></span></p></div></div></summary><div><div><p>Using <code>from django.conf import settings</code> simplifies the code and makes it more maintainable.</p><p><a href="https://django.doctor/advice/C4006">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">CharField with huge max_length</h2><p><span><span>maintainability</span><span>low</span></span></p></div></div></summary><div><div><p>Using <code>TextField</code> for very long string fields would simplify the code and make is easier to maintain.</p><p><a href="https://django.doctor/advice/C2006">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Deprecated NullBooleanField</h2><p><span><span>maintainability</span><span>medium</span></span></p></div></div></summary><div><div><p><code>NullBooleanField</code> is deprecated and will be removed a future version of Django.</p><p><a href="https://django.doctor/advice/C2008">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Redundant default arguments</h2><p><span><span>maintainability</span><span>low</span></span></p></div></div></summary><div><div><p>Stating defaults add complexity when reading the code but does not change Django's behaviour.</p><p><a href="https://django.doctor/advice/C2002">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Redundant setting</h2><p><span><span>maintainability</span><span>low</span></span></p></div></div></summary><div><div><p>Stating defaults add complexity when reading the code but does not change Django's behaviour.</p><p><a href="https://django.doctor/advice/C4005">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Field allows null but not blank</h2><p><span><span>maintainability</span><span>low</span></span></p></div></div></summary><div><div><p>If null is <code>True</code> and blank is <code>False</code> then validation becomes more complex.</p><p><a href="https://django.doctor/advice/C2003">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Non-unique primary_key</h2><p><span><span>maintainability</span><span>high</span></span></p></div></div></summary><div><div><p>A non-unique primary key allows the same value to be used for multiple records thus multiple results could be returned for <code>Model.objects.get(pk=1)</code>.</p><p><a href="https://django.doctor/advice/C2011">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Relative path in TEMPLATES setting</h2><p><span><span>maintainability</span><span>high</span></span></p></div></div></summary><div><div><div><p>The TEMPLATE setting is a list of the template engines used when finding template files and rendering them.</p><p>The DIRS key within the TEMPLATE list denotes the directories where the engine should look for template source files.</p><p>DIRS must be absolute paths. Relative paths will not work.</p></div><p><a href="https://django.doctor/advice/C4001">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Back slashes in TEMPLATES settings</h2><p><span><span>maintainability</span><span>high</span></span></p></div></div></summary><div><div><div><p>The TEMPLATE setting is a list of the template engines used when finding template files and rendering them.</p><p>The DIRS key within the TEMPLATE list denotes the directories where the engine should look for template source files.</p><p>DIRS must be forward slashes, even in Windows. Forward slashes do not need escaping, and they are cross Operating System compatible.</p></div><p><a href="https://django.doctor/advice/C4002">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Nullable string field</h2><p><span><span>maintainability</span><span>low</span></span></p></div></div></summary><div><div><p>ORM queries and Python code are more complex because values will sometimes be <code>None</code> and other times <code>str</code>.</p><p><a href="https://django.doctor/advice/C2000">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">ForeignKey missing related_name</h2><p><span><span>maintainability</span><span>low</span></span></p></div></div></summary><div><div><p>ORM queries are more readable and relationships more explicit when <code>related_name</code> is specified.</p><p><a href="https://django.doctor/advice/C2005">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Model method order</h2><p><span><span>maintainability</span><span>low</span></span></p></div></div></summary><div><div><p>Increasing standardisation and predictability of your code style helps other developers read your code.</p><p><a href="https://django.doctor/advice/C3002">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Admin class not in admin.py</h2><p><span><span>maintainability</span><span>medium</span></span></p></div></div></summary><div><div><div><p>Predictable project structure and following common patterns simplifies maintenance of a codebase.</p><p>Django developers come to expect Admin-related objects to be in admin.py. Failure to do this will result in more time spent looking for where code lives.</p></div><p><a href="https://django.doctor/advice/C5000">Read more</a></p></div></div></details></li><li><details><summary display="flex" title="Click to open"><div><div><h2 font-size="3">Tall Model</h2><p><span><span>maintai‚Ä¶</span></span></p></div></div></summary></details></li></div></div></div></div></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://django.doctor/compare-django-release-notes/3.0.0/3.1.6">https://django.doctor/compare-django-release-notes/3.0.0/3.1.6</a></em></p>]]>
            </description>
            <link>https://django.doctor/compare-django-release-notes/3.0.0/3.1.6</link>
            <guid isPermaLink="false">hacker-news-small-sites-26153863</guid>
            <pubDate>Tue, 16 Feb 2021 13:55:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[FreeBSD and I2C]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26153811">thread link</a>) | @todsacerdoti
<br/>
February 16, 2021 | https://blog.tyk.nu/blog/freebsd-and-i2c/ | <a href="https://web.archive.org/web/*/https://blog.tyk.nu/blog/freebsd-and-i2c/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                    

                    <!-- Author -->
                    <p>
                        by <a href="https://blog.tyk.nu/about/">Tykling</a>
                    </p>
                    <hr>
                    
                    <!-- Date/Time -->
                    <p><span></span> 06. feb 2021 15:54 UTC</p>

                    <hr>

                    <!-- Post Content -->
                    <p><code>I2C</code> is a communication protocol which was originally designed and used for inter-board communications between peripherals, like the processor talking to an EEPROM in a system. These days it is also used for short distance communication with sensors - not what it was designed for, but it works anyway. Wikipedia has this to say about <code>I2C</code>:</p>

<p><i>I2C (Inter-Integrated Circuit), pronounced I-squared-C, is a synchronous, multi-master, multi-slave, packet switched, single-ended, serial communication bus invented in 1982 by Philips Semiconductor (now NXP Semiconductors). It is widely used for attaching lower-speed peripheral ICs to processors and microcontrollers in short-distance, intra-board communication. Alternatively, I2C is spelled I2C (pronounced I-two-C) or IIC (pronounced I-I-C).</i> (thanks <a href="https://en.wikipedia.org/wiki/I%C2%B2C">Wikipedia</a>!)</p>


<p>I've been playing around with some <code>I2C</code> based sensors from SparkFun. They have <a href="https://www.sparkfun.com/qwiic">QWIIC</a> connectors making it easy to speak to them from SparkFuns <a href="https://www.sparkfun.com/products/16832">OpenLog Artemis</a>. The OpenLog Artemis can log sensor data to SD card and also presents itself as a serial device where it streams data from the sensors in a CSV-like format. It works great and I can highly recommend the whole <code>QWIIC</code> ecosystem.</p>

<p>Occationally I need to use one of the <code>QWIIC</code> sensors from some FreeBSD based system, without the <code>OpenLog Artemis</code>. In this case I am using a <code>Raspberry PI Zero</code> with FreeBSD a 13-CURRENT from December. This is easy because the <code>QWIIC</code> system is just plain <code>I2C</code> underneath, so it is easy to hook a sensor up directly to the <code>GPIO</code> pins of the RPI with <a href="https://www.sparkfun.com/products/14988">one of these</a>.</p>

<p>In FreeBSD land we have <a href="https://www.freebsd.org/cgi/man.cgi?query=i2c&amp;sektion=8">i2c(8)</a> which is a userspace utility for reading and writing to <code>I2C</code> devices. I will start by going over basic usage before diving deeper into the actual sensors I am playing with in this learning session.</p>

<p>My test rig for this blogpost looks like this:</p>

<p><a href="https://people.bornhack.org/tyk/i2c/IMG_20210206_201331.jpg"><img src="https://people.bornhack.org/tyk/i2c/IMG_20210206_201331.jpg" width="500"></a></p>

<h3>Basic I2C on FreeBSD</h3>
<p>First things first, I need some hardware with an <code>I2C</code> bus which is exposed to FreeBSD. I am using a <code>Raspberry PI Zero</code> and the <code>I2C</code> bus looks like this in <code>dmesg</code>:</p>

<pre>[root@pizero1 ~]# grep I2C /var/run/dmesg.boot 
iicbus0: &lt;OFW I2C bus&gt; on iichb0
iic0: &lt;I2C generic I/O&gt; on iicbus0
[root@pizero1 ~]# 
</pre>

<p>The first sensor I've hooked up is a SparkFun <code>TMP117</code> temperature sensor. According to the <a href="https://learn.sparkfun.com/tutorials/qwiic-tmp117-high-precision-digital-temperature-sensor-hookup-guide">hookup guide</a> the default <code>I2C</code> address of this sensor is <code>0x48</code> which matches what I am seeing after hooking up the hardware and running <code>i2c(8)</code> with the <code>-s</code> flag to make it scan the <code>I2C</code> bus for devices:</p>

<pre>[root@pizero1 ~]# i2c -s
Hardware may not support START/STOP scanning; trying less-reliable read method.
Scanning I2C devices on /dev/iic0: 48 
[root@pizero1 ~]# 
</pre>

<p>After connecting an additional sensor which has a default <code>I2C</code> address of <code>0x60</code> the bus scan can see that device too:</p>

<pre>[root@pizero1 ~]# i2c -sv
dev: /dev/iic0, addr: 0x0, r/w: r, offset: 0x00, width: 8, count: 1
Hardware may not support START/STOP scanning; trying less-reliable read method.
Scanning I2C devices on /dev/iic0: 48 60 
[root@pizero1 ~]# 
</pre>

<h3>Reading From I2C Devices</h3>
<p>Reading from the sensor is straightforward. I specify that I want to read with <code>-d r</code> (meaning <code>read</code>), the length of data to get with <code>-c 2</code> (meaning 2 bytes) and the address of the device to read from with <code>-a 48</code>:</p>

<pre>[root@pizero1 ~]# i2c -a 48 -d r -c 2 -m tr
0d 67 
[root@pizero1 ~]# while true; do date; i2c -a 48 -d r -c 2 -m tr; sleep 1; done
Sun Dec 20 00:51:45 UTC 2020
0d 67 
Sun Dec 20 00:51:46 UTC 2020
0d 67 
Sun Dec 20 00:51:48 UTC 2020
0d 66 
Sun Dec 20 00:51:49 UTC 2020
0d 66 
^C
[root@pizero1 ~]# 
</pre>

<p>After some trial and error I also add <code>-m tr</code> to set the <code>addressing mode</code> to <code>complete-transfer</code> which is needed on this I2C bus to make everything work.</p>

<p>The reading shown is a hex value, exactly two bytes as requested with <code>-c 2</code>.</p>

<p>When reading temperature from this sensor I don't need to add <code>-o</code> to the <code>i2c(8)</code> command to specify an offset, since the temperature is stored in the first register in the device. If I wanted to read from the next register (which for the <code>TMP117</code> is where the configuration is stored) I would use <code>-o 1</code>:

</p><pre>[root@pizero1 ~]# i2c -a 48 -d r -c 2 -m tr -o 1
22 20 
[root@pizero1 ~]# 
</pre>

<p>All the registers in the <code>TMP117</code> are 16 bits (or two bytes), but the <code>I2C</code> command can read or write any number of bytes, just specify the width with <code>-c</code>.</p>

<p>Trying to read more data than the register size just results in FF bytes being returned:</p>

<pre>[root@pizero1 ~]# i2c -a 48 -d r -c 2 -m tr
0c bc 
[root@pizero1 ~]# i2c -a 48 -d r -c 4 -m tr
0c bc ff ff 
[root@pizero1 ~]# i2c -a 48 -d r -c 40 -m tr
0c bd ff ff ff ff ff ff ff ff ff ff ff ff ff ff 
ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff 
ff ff ff ff ff ff ff ff 
[root@pizero1 ~]# 
</pre>


<h3>Writing To I2C Devices</h3>
<p>The <code>i2c(8)</code> utility also makes it easy to write values back to the device. The <code>TMP117</code> sensor has a programmable low and high thresholds in registers 2 and 3. The first one defaults to <code>0x6000</code> and changing it is much like reading, except we want the bytes to be written on <code>stdin</code>:</p>

<pre>[root@pizero1 ~]# i2c -a 48 -d r -c 2 -m tr -o 2
60 00 
[root@pizero1 ~]# echo -en "\x60\x01" | i2c -a 48 -d w -c 2 -m tr -o 2
[root@pizero1 ~]# i2c -a 48 -d r -c 2 -m tr -o 2
60 01 
[root@pizero1 ~]# echo -en "\x60\x00" | i2c -a 48 -d w -c 2 -m tr -o 2
[root@pizero1 ~]# i2c -a 48 -d r -c 2 -m tr -o 2
60 00 
[root@pizero1 ~]# 
</pre>


<h3>Understanding Readings From the TMP117 Sensor</h3>
<p>Reading the <a href="https://cdn.sparkfun.com/assets/9/e/5/1/8/tmp117.pdf">datasheet</a> for the <code>TMP117</code> sensor I learned that the temperature readings are stored in the first register, as a 16-bit value, which means I use <code>-c 2</code> for <code>i2c(8)</code> so it reads two bytes (16 bits) from the sensor.</p>

<p>The datasheet for the <code>TMP117</code> has this to say about the register where the temperature is stored: <code>The data in the result register is in two's complement format, has a data width of 16 bits and a resolution of 7.8125m ¬∞C.</code>.</p>


<h3>Two's Complement Format</h3>
<p><a href="https://en.wikipedia.org/wiki/Two%27s_complement">Two's complement</a> is a widely used and convenient way to work with signed (negative) numbers in binary. Basically the most significant bit is used to indicate if what follows is a positive or a negative binary number.</p>

<p>The following table is from the <code>TMP117</code> datasheet, it shows some sample temperatures in celcius and what those readings translate to in decimal, two's complement binary, and hex:</p>

<table>
<caption>TMP117 Two's Complement Example Readings</caption>
<thead>
<tr>
<th rowspan="2">Temperature (¬∞C decimal)</th>
<th colspan="3">Sensor register value (0.0078125¬∞C resolution)</th>
</tr>
<tr>
<th>Decimal</th>
<th>Binary</th>
<th>Hex</th>
</tr>
</thead>

<tbody>
<tr><td>‚Äì256</td><td>-32768</td><td>1000000000000000</td><td>8000</td></tr>
<tr><td>-25</td><td>-3200</td><td>1111001110000000</td><td>F380</td></tr>
<tr><td>‚Äì0.125</td><td>-16</td><td>1111111111110000</td><td>FFF0</td></tr>
<tr><td>‚Äì0.0078125</td><td>-1</td><td>1111111111111111</td><td>FFFF</td></tr>
<tr><td>0</td><td>0</td><td>0000000000000000</td><td>0000</td></tr>
<tr><td>0.0078125</td><td>1</td><td>0000000000000001</td><td>0001</td></tr>
<tr><td>0.125</td><td>16</td><td>0000000000010000</td><td>0010</td></tr>
<tr><td>1</td><td>128</td><td>0000000010000000</td><td>0080</td></tr>
<tr><td>25</td><td>3200</td><td>0000110010000000</td><td>0C80</td></tr>
<tr><td>100</td><td>12800</td><td>0011001000000000</td><td>3200</td></tr>
<tr><td>255.9921</td><td>32767</td><td>0111111111111111</td><td>7FFF</td></tr>
</tbody>
</table>

<p>I haven't worked much with <a href="https://en.wikipedia.org/wiki/Two%27s_complement">two's complement format</a>, so I started out by familiarising myself with it in Python. I borrowed the following function from <a href="https://stackoverflow.com/questions/1604464/twos-complement-in-python/37075643#37075643">SO</a> and started out by reproducing the values in the above table:</p>

<pre>[root@pizero1 ~]# cat twos.py 
#!/usr/bin/env python3
import sys

def twos(binary_str, bytecount):
    integer = int(binary_str, bytecount)
    bytes = integer.to_bytes(bytecount, byteorder="big", signed=False)
    return int.from_bytes(bytes, byteorder="big", signed=True)

print(twos(sys.argv[1], int(sys.argv[2])))
[root@pizero1 ~]#
</pre>

<p>Trying it out with the values from the table:</p>
<pre>[root@pizero1 ~]# echo "$(python twos.py 1000000000000000 2) * 0.0078125" | bc
-256.0000000
[root@pizero1 ~]# echo "$(python twos.py 1111001110000000 2) * 0.0078125" | bc
-25.0000000
[root@pizero1 ~]# echo "$(python twos.py 1111111111110000 2) * 0.0078125" | bc
-.1250000
[root@pizero1 ~]# echo "$(python twos.py 1111111111111111 2) * 0.0078125" | bc
-.0078125
[root@pizero1 ~]# echo "$(python twos.py 0000000000000000 2) * 0.0078125" | bc
0
[root@pizero1 ~]# echo "$(python twos.py 0000000000000001 2) * 0.0078125" | bc
.0078125
[root@pizero1 ~]# echo "$(python twos.py 0000000000010000 2) * 0.0078125" | bc
.1250000
[root@pizero1 ~]# echo "$(python twos.py 0000000010000000 2) * 0.0078125" | bc
1.0000000
[root@pizero1 ~]# echo "$(python twos.py 0000110010000000 2) * 0.0078125" | bc
25.0000000
[root@pizero1 ~]# echo "$(python twos.py 0011001000000000 2) * 0.0078125" | bc
100.0000000
[root@pizero1 ~]# echo "$(python twos.py 0111111111111111 2) * 0.0078125" | bc
255.9921875
[root@pizero1 ~]# 
</pre>

<p>Looks like it works perfectly. Going from a reading to celcius is also easy, I tested with the values from the table again:</p>

<pre>[root@pizero1 ~]# python -c 'print(round(int.from_bytes(bytearray.fromhex("8000"), byteorder="big", signed=True) * 0.0078125, 8))'
-256.0
[root@pizero1 ~]# python -c 'print(round(int.from_bytes(bytearray.fromhex("F380"), byteorder="big", signed=True) * 0.0078125, 8))'
-25.0
[root@pizero1 ~]# python -c 'print(round(int.from_bytes(bytearray.fromhex("FFF0"), byteorder="big", signed=True) * 0.0078125, 8))'
-0.125
[root@pizero1 ~]# python -c 'print(round(int.from_bytes(bytearray.fromhex("FFFF"), byteorder="big", signed=True) * 0.0078125, 8))'
-0.0078125
[root@pizero1 ~]# python -c 'print(round(int.from_bytes(bytearray.fromhex("0000"), byteorder="big", signed=True) * 0.0078125, 8))'
0.0
[root@pizero1 ~]# python -c 'print(round(int.from_bytes(bytearray.fromhex("0001"), byteorder="big", signed=True) * 0.0078125, 8))'
0.0078125
[root@pizero1 ~]# python -c 'print(round(int.from_bytes(bytearray.fromhex("0010"), byteorder="big", signed=True) * 0.0078125, 8))'
0.125
[root@pizero1 ~]# python -c 'print(round(int.from_bytes(bytearray.fromhex("0080"), byteorder="big", signed=True) * 0.0078125, 8))'
1.0
[root@pizero1 ~]# python -c 'print(round(int.from_bytes(bytearray.fromhex("0C80"), byteorder="big", signed=True) * 0.0078125, 8))'
25.0
[root@pizero1 ~]# python -c 'print(round(int.from_bytes(bytearray.fromhex("3200"), byteorder="big", signed=True) * ‚Ä¶</pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.tyk.nu/blog/freebsd-and-i2c/">https://blog.tyk.nu/blog/freebsd-and-i2c/</a></em></p>]]>
            </description>
            <link>https://blog.tyk.nu/blog/freebsd-and-i2c/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26153811</guid>
            <pubDate>Tue, 16 Feb 2021 13:46:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[War stories from a female 1974 Computer Science grad]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26153464">thread link</a>) | @FactolSarin
<br/>
February 16, 2021 | https://blog.jonschneider.com/2021/02/interview-amanda-schneider-milne.html | <a href="https://web.archive.org/web/*/https://blog.jonschneider.com/2021/02/interview-amanda-schneider-milne.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-body-5519151293662582018">
<p dir="ltr" id="docs-internal-guid-c57517e3-7fff-7dc7-5bfe-84839fb3df5f"><span><span>I‚Äôm super proud of my mom, Amanda Milne! She was among the first to earn a degree in Computer Science from the University of Michigan, has worked in the field of software development her entire career, and worked her way up to become president of her own custom software development company here in Michigan, and later on, a Senior Vice President of a Fortune 500 company.<br></span></span></p><p><span><span><span><span><img height="400" src="https://lh4.googleusercontent.com/I_JBY1MgrnV3vaSDYSKCmbpPcdBqZgHi3_BHf75JmS1hqsBnafdWNLk0FXO_znQO7STWS7LDumylUgns2hWV2RzUXClodbjRT04DPAvs8RRt0l_G7b8z9c7-nQRB5d2N5szEdbnT" width="400"></span></span></span></span></p><p dir="ltr"><span><span><span>This is an interview with Amanda about her early years in software development, back in the 1970s and 1980s, and about one project in particular that I remembered her doing from my days as a grade school kid.</span></span></span></p><p dir="ltr"><span><span><span><span>You were among the first Computer Science graduates at the University of Michigan, right?</span></span></span></span></p><p dir="ltr"><span><span><span>I was! I graduated from Michigan with a Computer Science Degree in 1974. The Computer Science degree program was fairly new back then. We had no textbooks, just mimeographed handouts (which I wish I‚Äôd kept!).&nbsp;</span></span></span></p><p dir="ltr"><span><span><span>Nearly all of our work was done on an IBM System/360 Mainframe Computer, primarily by submitting our code on punched cards via a remote card reader. I took one class on a DEC PDP-8 Mini Computer, and I learned to build logic boards by soldering chips in an elective Electrical Engineering course. The programming languages were primarily Fortran and Assembler.&nbsp;</span></span></span></p><p dir="ltr"><span><span><span>Only 43 of us graduated with a Computer Science degree from U of M in ‚Äò74. Fun Fact: I graduated without ever actually seeing the IBM System/360 Computer!</span></span></span></p><p dir="ltr"><span><span><span><span>What did you do after graduation?</span></span></span></span></p><p dir="ltr"><span><span><span>I worked as a Programmer for various companies (and customer accounts).&nbsp;</span></span></span></p><p dir="ltr"><span><span><span>My first assignment was to single-handedly write the real time process control code to run a custom carburetor test stand for Oldsmobile.&nbsp; The computer was a16-bit Modcomp mini computer with 16K of memory, and no disk! When I started that project, I knew nothing about Modcomp computers, their operating system, their language -- or what a carburetor was!&nbsp;</span></span></span></p><p dir="ltr"><span><span><span>I wrote the code in an Assembler level language, and loaded my compiled code into the machine via paper tape.&nbsp; When I found a bug in my code, I wrote the fix, de-compiled it by hand, converted it to hexadecimal, and keyed the fix into memory using 16 binary switches.&nbsp;</span></span></span></p><p dir="ltr"><span><span><span>Writing process control code was fun because I could actually see my code working as it opened and closed mechanical valves, and turned stepping motors. I was only 21, but I did successfully complete the project.</span></span></span></p><p dir="ltr"><span><span><span><span>That‚Äôs pretty amazing! As a developer these days, there are so many layers of indirection between code we write, and what‚Äôs actually happening at the hardware level.&nbsp; You actually got to add instructions to memory directly, with no steps in between! (And without Google or StackOverflow to help you know what to do!)</span></span></span></span></p><p dir="ltr"><span><span><span><span>After that, you worked at a startup called Custom Software Services, right? What was your role there?</span></span></span></span></p><p dir="ltr"><span><span><span>In 1981, Custom Software Services, a programming consultancy startup in the Detroit area, hired me to work part-time on a two-month project. I only had 3 years of programming experience at the time, because I took a 4-year break when you and Jeremy were born. My assignment was to single-handedly develop a daily Profit and Loss system for a local restaurant chain on an IBM Series/1 Computer (a 16-bit mini computer with the EDX Operating System), using a low level language called EDL. At the time, CSS had only one employee. After the project was completed, I stayed on to work on other projects. After 4 years, I went full time as a programmer.&nbsp;</span></span></span></p><p dir="ltr"><span><span><span><span>Highland Superstores was a big appliance sales company back in the 1980s, right? What was the project that you did for them?</span></span></span></span></p><p dir="ltr"><span><span><span>Highland Superstores was a national chain of 100 appliance stores selling TVs, electronics, washers, dryers and refrigerators. In 1987, the Internet did not yet exist. Highland Superstores wanted a networked Point of Sale (POS) system in all of their stores, and headquarters. The system would track their inventory, daily sales, gross margins, commissions, and so forth.</span></span></span></p><p dir="ltr"><span><span><span>Highland Superstores wanted a system to enable the salespeople on the floor to negotiate pricing, view how a lowered price negatively affected their own commission, check accurate up-to-date store inventories, sell the items, and schedule delivery.&nbsp;</span></span></span></p><p dir="ltr"><span><span><span>Before this system, a salesperson had to leave the customer (or make a phone call) to check inventory in the back of the store. Salespeople had no idea if the next closest store had the item in stock that his customer desired. It was important to Highland to have up-to-date inventories of ALL of their stores available in each store. With this feature, a salesperson would be able to sell the item, and send the customer to the next closest store to pick it up.&nbsp;&nbsp;</span></span></span></p><p dir="ltr"><span><span><span>The POS system in each store had to communicate and update the headquarters computer every 15 minutes. It also had to download inventory updates from the other stores every 15 minutes.</span></span></span></p><p dir="ltr"><span><span><span><span>How did IBM get involved in this project?</span><span>&nbsp;</span></span></span></span></p><p dir="ltr"><span><span><span>Highland Superstores had spent 2 years working with another local software company to develop the POS system using PC LANs, but it wasn‚Äôt working and Highland was getting frustrated.&nbsp;</span></span></span></p><p dir="ltr"><span><span><span>Rick Teague, Highland‚Äôs IBM Salesperson, told them that putting an IBM System/36 in each store, all communicating with an IBM System/38 at their headquarters, would work.&nbsp; The hardware was up to the job.</span></span></span></p><p dir="ltr"><span><span><span><span>With no Internet, how did this kind of communication work? Dial-up modems?</span></span></span></span></p><p dir="ltr"><span><span><span>Yes, dial-up modems. The POS system had to dial the headquarters IBM System/38 every 15 minutes, establish a connection, upload the local store inventory, and download updated inventories from the other 99 stores.</span></span></span></p><p dir="ltr"><span><span><span><span>You mentioned Highland was getting frustrated? What was the issue with the other company‚Äôs in-progress implementation?</span></span></span></span></p><p dir="ltr"><span><span><span>Well, they couldn‚Äôt get their PC LAN system to work. If I remember correctly, their software could perform&nbsp; the in-store functionality, but it had a great deal of trouble getting the communications with headquarters to work properly and quickly.</span></span></span></p><p dir="ltr"><span><span><span><span>So how did you, and CSS, get involved in this project?</span><span>&nbsp;</span></span></span></span></p><p dir="ltr"><span><span><span>The IBM System/36 hardware solution was a good idea, but there was no POS software to run on that platform. Since Highland Superstores had been paying another software company, they weren‚Äôt willing to fund another software development project on a different platform.</span></span></span></p><p dir="ltr"><span><span><span>Rick said, ‚ÄúIf I can get your POS system up and running in one of your stores on an IBM System/36, will you buy 100 System/36s?‚Äù Highland Superstores said maybe, provided they didn‚Äôt have to spend any money for the trial, and that the system would be up and running in the pilot store in 90 days!&nbsp;</span></span></span></p><p dir="ltr"><span><span><span>Highland Superstores also made it clear they were keeping their focus and money on the PC LAN-based solution. The new IBM System/36-based solution would have to out-perform a solution that had a two-year head start!&nbsp;</span></span></span></p><p dir="ltr"><span><span><span>IBM approached several software companies in the Detroit area, and asked if they would be willing to develop the POS system for free, demonstrate that it worked, and then hope to get paid afterwards. They all said ‚ÄúNo‚Äù... except my boss, Don George, who owned Custom Software Services.</span></span></span></p><p dir="ltr"><span><span><span>Our company had about 15 employees at the time, business was slow, and we were in danger of going under.&nbsp; Don was an ex-IBM Systems Engineer, so he knew the guys in the local IBM office. He sat down and had some serious discussions with them about the project, and then he decided to take on the risk and tackle the project. I got involved when my boss asked me to manage the project.</span></span></span></p><p dir="ltr"><span><span><span><span>That does sound like quite a risk! What was it like working on a project, and leading a team, that would have a zero payout for everyone involved if it wasn‚Äôt successful?&nbsp;</span></span></span></span></p><p dir="ltr"><span><span><span>It was extremely challenging. We couldn‚Äôt afford to pay a team of developers to write the software, so Don came up with a creative idea to share the risk. He offered several local developers a double-or-nothing deal. If they signed on with our project, we‚Äôd track all of their hours, and then pay them double their going hourly rate at the end -- if it was successful and Highland Superstores purchased it. If not, they‚Äôd get zero.&nbsp;</span></span></span></p><p dir="ltr"><span><span><span>Surprisingly, he found 7 developers who were willing to take his offer, but they all had to keep their day jobs. So, they worked on our POS project nights and weekends.&nbsp;</span></span></span></p><p dir="ltr"><span><span><span><span>And you were in charge of managing this? How did you approach that?</span><span>&nbsp;</span></span></span></span></p><p dir="ltr"><span><span><span>I was 34 years old, and this was my very first project management assignment. The first thing I did was to read 3 books on project management. I knew that the project would be very difficult, and that I‚Äôd have to use every bit of education, new knowledge, guts, and perseverance I had!&nbsp;</span></span></span></p><p dir="ltr"><span><span><span>As it turned out, it was even more stressful, and challenging that I‚Äôd first thought. The project lasted 5 months, not 3. At the 90 day mark, we had accomplished enough that we earned another month or two as a grace period.&nbsp;</span></span></span></p><p dir="ltr"><span><span><span>The developers and I were all working 2 shifts, 7 days a week. Over that summer, none of us had any family time, or vacation time. There were many days when I came home late at night, dropped my clothes on the floor and fell into bed. Then, the next morning, I showered, grabbed clean clothes and was gone again. We worked 2 shifts, 7 days a week. The good news is that as the project progressed, everyone had more skin in the game. The developers saw their potential earnings mount, and became more and more unwilling to walk away.&nbsp;</span></span></span></p><p dir="ltr"><span><span><span>When we had the code (in the RPG language) running on a remote IBM System/36, IBM installed a System/36 in one of the Highland Superstores (for a free trial), and we spent about a month troubleshooting and debugging the software in a live store environment.</span></span></span></p><p dir="ltr"><span><span><span><span>That must have been exhausting! How about the flip side? Was there a best part about the project?</span></span></span></span></p><p dir="ltr"><span><span><span>Yes! No scope creep! This was the only software development project I‚Äôve ever worked on with zero scope creep.&nbsp;</span></span></span></p><p dir="ltr"><span><span><span>We didn‚Äôt realize at first, how important this would be, but it was one of the biggest contributors to the project‚Äôs success. There was no scope creep because Highland Superstores had already invested 2 years in hammering out the functionality of the system. All we had to ‚Ä¶</span></span></span></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.jonschneider.com/2021/02/interview-amanda-schneider-milne.html">https://blog.jonschneider.com/2021/02/interview-amanda-schneider-milne.html</a></em></p>]]>
            </description>
            <link>https://blog.jonschneider.com/2021/02/interview-amanda-schneider-milne.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26153464</guid>
            <pubDate>Tue, 16 Feb 2021 13:05:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Yori: CMD reimagined (for Windows NT 3.1 or newer)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26153405">thread link</a>) | @networked
<br/>
February 16, 2021 | http://www.malsmith.net/yori/ | <a href="https://web.archive.org/web/*/http://www.malsmith.net/yori/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                <h2>Ctrl+Click to select values</h2>
            </div></div>]]>
            </description>
            <link>http://www.malsmith.net/yori/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26153405</guid>
            <pubDate>Tue, 16 Feb 2021 12:55:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Behold z, the unsung jewel that rethinks shell navigation]]>
            </title>
            <description>
<![CDATA[
Score 116 | Comments 47 (<a href="https://news.ycombinator.com/item?id=26153401">thread link</a>) | @aymericbeaumet
<br/>
February 16, 2021 | https://aymericbeaumet.com/behold-z-the-unsung-jewel-that-rethinks-shell-navigation | <a href="https://web.archive.org/web/*/https://aymericbeaumet.com/behold-z-the-unsung-jewel-that-rethinks-shell-navigation">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
<div>
<article itemscope="" itemtype="http://schema.org/BlogPosting">

<div itemprop="articleBody">
<p>I spend a fair amount of time wandering around in the terminal. The chances
are that you are too since you dared to open this story. My daily activities
led me to contribute to various kinds of projects (professional, personal and
open-source). For my sanity, I tend to follow strict rules to organize my
workspace, which helps me keep things tidied up and easily reachable. Or so I
thought.</p>
<p>I decided to arrange my projects by following the <a href="https://golang.org/doc/code.html#Workspaces">Go
philosophy</a>: make the
arborescence mirrors the urls where they are reachable. e.g.,
<code>~/Workspace/src/github.com/aymericbeaumet/dotfiles</code> would contain the
project <a href="https://github.com/aymericbeaumet/dotfiles">dotfiles</a> owned by
<a href="https://github.com/aymericbeaumet">@aymericbeaumet</a> and accessible at
<a href="https://github.com/">github.com</a>. That‚Äôs great, but I am now facing a complex
directory structure tedious to navigate quickly. Making it, in the end,
harder to access the resources I need.</p>
<div><div><pre><code><span>$ </span><span>pwd</span>
/Users/aymericbeaumet/Workspace/src/github.com/brigad/back-end
</code></pre></div></div>
<p><em>Nobody wants to manually deal with this.</em></p>
<p>Remembering and typing the location of each project (even while leveraging
autocomplete) is time-consuming. Creating shell aliases is not scalable.
Instead, I would like to rely on the pseudo-unicity of each project name to
find it among all the directories on my computer.</p>
<h2 id="z">z?</h2>
<p>Several tools exist to tackle this problem. My favorite is
<a href="https://github.com/rupa/z"><em>z</em></a>. It follows the Unix philosophy by being
small, focused and interoperable. <em>z</em> allows jumping around swiftly,
automatically learning from your habits. The entries are ranked based on the
<a href="https://en.wikipedia.org/wiki/Frecency">frecency</a> at which you access the
directories.</p>
<p>Let‚Äôs walk through the basics of this tool. Below is how I advise to install
it for Zsh on macOS (the install process should be similar for other shells
and operating systems):</p>
<div><div><pre><code><span>$ </span>brew <span>install </span>z
<span>$ </span><span>echo</span> <span>"source '</span><span>$(</span>brew <span>--prefix</span> z<span>)</span><span>/etc/profile.d/z.sh'"</span> <span>&gt;&gt;</span> ~/.zshenv
</code></pre></div></div>
<p><em>Install z for Zsh on macOS.</em></p>
<p>Note how installing <em>z</em> is not enough to start using it. You have to source
<code>z.sh</code> at the beginning of each shell session to activate it. The <code>~/.zshenv</code>
configuration file is appropriate as Zsh <a href="http://zsh.sourceforge.net/Intro/intro_3.html">loads it in most
circumstances</a>, making the
tool accessible in a wide-variety of contexts (terminals, editors, IDEs,
scripts, etc.).</p>
<h2 id="lets-play">Let‚Äôs play</h2>
<p>Once the install and setup are complete: start a new shell session, <code>cd</code>
through some folders and execute <code>z</code> to confirm it has been accurately
tracking your activity:</p>
<div><div><pre><code><span>$ </span>z | <span>sort</span> <span>-rn</span> | <span>head</span> <span>-3</span>
5331.72    /Users/aymericbeaumet/Workspace/src/github.com/brigad/back-end
637.255    /Users/aymericbeaumet/Workspace/src/github.com/brigad/ops
386.198 /Users/aymericbeaumet/.config/dotfiles
</code></pre></div></div>
<p><em>Top 3 directories based on frecency.</em></p>
<p>As shown above, I spend quite some time navigating through
<a href="https://github.com/brigad">Brigad</a> projects, but it seems I also often
access my <a href="https://github.com/aymericbeaumet/dotfiles">dotfiles</a> to tweak
some configuration. The ranking score is volatile, and one could observe
significant changes in a brief amount of time.</p>
<p>Now that <em>z</em> has accumulated some knowledge try it by navigating to one of
the tracked folders. Navigating is as simple as executing the <code>z</code> command
followed by the directory name:</p>
<div><div><pre><code><span>$ </span>z dotfiles
<span>$ </span><span>pwd</span>
/Users/aymericbeaumet/.config/dotfiles
</code></pre></div></div>
<p><em>Navigating by matching with a whole directory name.</em></p>
<p>As a matter of facts, I do prefer to leverage partial matching (imagine <code>**</code>
surrounding your search pattern) to type fewer characters. Hence, <code>z dot</code> is
valid and should produce a similar behavior as <code>z dotfiles</code> (modulo possible
name collisions, but you get the idea). This works because <em>z</em> relies on
regular expressions. For example, the snippet below will navigate to the
directory ending with the letters ‚Äútmp‚Äù (with the highest score):</p>
<div><div><pre><code><span>$ </span>z tmp<span>$</span>
<span>$ </span><span>pwd</span>
/private/tmp
</code></pre></div></div>
<p><em>Navigating by matching with a regular expression.</em></p>
<p>Neat right? I guess you start seeing the possibilities of this tool. And we
have only scratched the surface of its capabilities. I suggest you dive in
its <a href="https://github.com/rupa/z/blob/master/README">documentation</a> to get an
idea of its full potential. Features such as autocomplete, subdirectories
matching, consecutive matching, etc. are a game changer.</p>
<h2 id="conclusion">Conclusion</h2>
<p><em>z</em> is tremendous. This tool saves me a non-trivial amount of time every
single day. When one starts relying on it, there is no going back. And I hope
it‚Äôs going to fit your workflow as well as mine.</p>
<p>I would be grateful to hear any of your time-saving tricks. Feel free to
share your experiences!</p>
</div>


</article>
</div>
</div></div>]]>
            </description>
            <link>https://aymericbeaumet.com/behold-z-the-unsung-jewel-that-rethinks-shell-navigation</link>
            <guid isPermaLink="false">hacker-news-small-sites-26153401</guid>
            <pubDate>Tue, 16 Feb 2021 12:54:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Children and the Internet: Learning, in the Times to Come]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26153400">thread link</a>) | @lpernille
<br/>
February 16, 2021 | https://jl4d.org/index.php/ejl4d/article/view/445/515 | <a href="https://web.archive.org/web/*/https://jl4d.org/index.php/ejl4d/article/view/445/515">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://jl4d.org/index.php/ejl4d/article/view/445/515</link>
            <guid isPermaLink="false">hacker-news-small-sites-26153400</guid>
            <pubDate>Tue, 16 Feb 2021 12:54:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How Corporations Harvest Data]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 3 (<a href="https://news.ycombinator.com/item?id=26153055">thread link</a>) | @dkzlv
<br/>
February 16, 2021 | https://dkzlv.com/en/how-they-harvest-data | <a href="https://web.archive.org/web/*/https://dkzlv.com/en/how-they-harvest-data">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> <p>It's hard to be in IT, cause your friends have no idea what you do. Engineer, product manager, QA ‚Äî how does it all differ from fixing a printer in the office? (tip: you don't get $150k/year for fixing printers).</p> <p>You also can't really talk to normal people about IT, because they use this industry, but they don't get it. But there's a topic you can raise with any mortal, that will get their attention: data privacy.</p> <p> <a href="https://dkzlv.com/static/img/posts/en_privacy1/intro.png" target="_blank"> <img alt="Typical privacy talk" src="https://dkzlv.com/static/img/posts/en_privacy1/intro.png" height="335" width="600"> </a> </p> <blockquote> <p>Disclaimer:</p> <ul> <li>this one is a biggie. I tried to add some pics and jokes so I don't mess with my readers' clip culture;</li> <li>if you're from IT ‚Äî well, it would be like learning the alphabet once again. Probably you won't find anything new; if you do, that is a bad sign for your employer.</li> </ul> </blockquote> <p>How do they gather data about us? Will VPN and incognito mode save us? Maybe we should all just pack our stuff and go into the woods and make friends with wolves and bears?</p> <a href="https://dkzlv.com/en/how-they-harvest-data#part-1-classification" id="part-1-classification">  </a><p>Right to privacy in some sense consolidates all other rights as well: to vote, freedom of expression, equal opportunities, and so on. Once you lose your right to privacy you're screwed. Most of the people can easily be caught in a mind trap <em>"I have nothing to hide, why would I care?"</em>. Common mistake. You shouldn't worry about stuff you wanna hide, you should worry about what is in plain sight.</p> <p>This topic is so broad I was forced to come up with a categorization of a sort. I thought of it for no less than 3 minutes and this is the result: the most important thing is how obvious it is for an end user who stores the data, what the data really is and how it is manipulated. So, 3 variables: actor, data, and manipulation. A simple 3-dimensional matrix ‚Äî you remember I wrote even a dumbass will understand the article? you don't remember? Me neither. Apparently, I didn't write it.</p> <p>Actor:</p> <ol> <li><strong>immediate receiver</strong>. When you give your phone number to get a new discount card the store gets your phone number. Yes, it's the first incredible insight from the article, thanks, Dan ‚Äî you're welcome, my fellow reader.</li> <li><strong>shadow receiver</strong>. Is it obvious though that in that case your phone number will be sold to anyone else? Would you like it if Google and Facebook found out you are a regular customer of a brothel called "Tight flower bud"? Have no doubt, <a href="https://www.nytimes.com/2013/03/26/technology/facebook-expands-targeted-advertising-through-outside-data-sources.html" target="_blank" rel="noopener noreferrer">they will buy that shit</a>. You're only starting to type "Epstein didn‚Ä¶" and the FBI already checks what toilet paper you use to threaten your ass using Braille writing system ‚Äî all thanks to your Walmart discount card, ffs.</li> </ol> <p>Data:</p> <ol> <li><strong>stuff you give away consciously</strong>. You open another app that turns you into a cutie doggie. It asks for access to your photo gallery and camera, and you obviously allow it. What can go wrong?</li> <li><strong>stuff you didn't mean to give away</strong>. Mmm, 3896 photos you took over the last 3 years. These photos also contain <a href="https://ru.wikipedia.org/wiki/EXIF" target="_blank" rel="noopener noreferrer">meta-tags</a> with geo-coordinates of the place the photo was taken. So it means it is a very <a href="https://github.com/KrauseFx/detect.location" target="_blank" rel="noopener noreferrer">accurate history of your moving</a>. Who would have thought the app gets programmatic access to all the photos and not just the one you choose.</li> </ol> <p>Manipulation:</p> <ol> <li><strong>storing</strong>. Let's get back to the photos. If you choose a photo to add a doggie face, this photo can be stored on the servers of this service for god knows how long. Nothing strange.</li> <li><strong>calculation</strong>. But, as I said, the app also gets access to the whole gallery. Is it that obvious that the app can get a pretty accurate guess on what is your home and work addresses are based on the time and geo-location of each photo? Or that it can run every image against <a href="https://yahooeng.tumblr.com/post/151148689421/open-sourcing-a-deep-learning-solution-for" target="_blank" rel="noopener noreferrer">an ML algorithm that finds NSFW images</a> and securely upload it to the servers? I hope your fucking doggie face was worth it.</li> <li><strong>selling</strong>. <em>If you don't pay for the product, you are the product</em>. What a clich√©. Instagram is free because every single person on Earth can buy ads for a very specific audience. Those who travel to beaches, who loves certain food or have a high income. Instagram calculates all of this from the enormous data set they have, and the advertiser can combine these segments however they want. Of course, once you click an ad the advertiser knows exactly what segment you are in. <a href="https://dkzlv.com/static/img/posts/en_privacy1/targeting.png" target="_blank"> <img alt="Targeting accuracy" src="https://dkzlv.com/static/img/posts/en_privacy1/targeting.png" height="543" width="600"> </a> </li> <li><strong>hacks or leaks</strong>. Oh, guys and gals, when we get to this I'll turn your camera on to capture how surprised you'd be. For now, just believe me: <em>all the companies</em> lose the data from time to time, from a small garage startup to Google, from a small accounting firm to Revenue Service of an entire country. I get chills from some of the most notorious cases, really.</li> </ol> <p>Some of the bullets require some explanation (and we'll get to that!) because laymen for some reason think Big Corporations are not that bad and want good for humanity. Well, if you also think that your frustration will be very painful.</p> <a href="https://dkzlv.com/en/how-they-harvest-data#part-2-actors" id="part-2-actors">  </a><p>Let's go top to bottom. Cumplucters are connected with a huge Great Internet-Network and they talk to each other using Magic Requests.</p> <p><em>(all of it are eligible terms, I'm a pro, believe me)</em></p> <p>When you visit someone's blog your computer makes a request to another computer and gets some response. But the response does not go directly to the server, it has a few stops on the way. Each stop has its own dangers. </p> <p> <a href="https://dkzlv.com/static/img/posts/en_privacy1/request_flow.png" target="_blank"> <img alt="Request flow on the internet" src="https://dkzlv.com/static/img/posts/en_privacy1/request_flow.png" height="293" width="600"> </a> </p> <blockquote> <p>The outline is super simple, its accuracy is around 60%, but according to British scientists <a href="https://www.getscience.com/biology-explained/how-genetically-related-are-we-bananas" target="_blank" rel="noopener noreferrer">you are a 60% banana</a>, so if you're very interested go check out <a href="https://github.com/alex/what-happens-when" target="_blank" rel="noopener noreferrer">the whole story of the request</a>.</p> </blockquote> <a href="https://dkzlv.com/en/how-they-harvest-data#device-dns" id="device-dns"> <h2>Device ‚Üí DNS</h2> </a><p>Machines identify each other using ip-addresses ‚Äî those look like 4 numbers split out with dots, like <code>127.0.0.1</code>. People are not that good with numbers, we're used to strings, like <a href="https://dkzlv.com/" target="_blank" rel="noopener noreferrer">dkzlv.com</a>. We call it "domain".</p> <p><em>God save you if you'll come telling me about ipv6.</em></p> <p>But the computers still work ‚Äî all thanks to a thing called DNS (Domain Name Server, clear, isn't it?). Think of it as a huge table in Excel that translates a domain into an ip-address.</p> <p>DNS will be the first leak. The problem is that the founding fathers of the internet didn't foresee this informational revolution and they made the information exchange with the DNS completely unencrypted. Later we'll talk about transport layer security, but the idea is simple: your internet provider will always know what sites you visit. Sometimes it can even modify the answer from the original DNS if the site owner does not implement <a href="https://en.wikipedia.org/wiki/Domain_Name_System_Security_Extensions" target="_blank" rel="noopener noreferrer">DNSSEC</a>.</p> <p>Answering your question: yes, your provider knows you visit <em>the site</em>, which makes you sweat like a dog.</p> <p><strong>Solution</strong>: we have a few. You can use <a href="https://en.wikipedia.org/wiki/DNS_over_HTTPS" target="_blank" rel="noopener noreferrer">DNS-over-HTTPS (DoH)</a> or <a href="https://en.wikipedia.org/wiki/DNS_over_TLS" target="_blank" rel="noopener noreferrer">DNS-over-TLS (DoT)</a>. There's some difference that smart people get (I really don't), but you shouldn't dive into these details.</p> <p>You remember those tech guys who came to your house that set up the internet? They should have given you a piece of paper and said "don't lose this". You immediately threw it in the garbage after that, AND YOU DID RIGHT. It had your provider's DNS there, and that tech guy set up your router to use it. "It helps you with speed" ‚Äî they said. "Insecure shit" ‚Äî we understand. They do not support DoT and unlikely they will ever support it, because why would they.</p> <p>Try to use independent DNS-servers. I recommend using Cloudflare DNS with a cool ip-address: <strong>1.1.1.1</strong>. It's free, fast and they promise a zero-logs policy, so they don't save anything about your dirty little secrets. They have <a href="https://1.1.1.1/" target="_blank" rel="noopener noreferrer">apps for smartphones</a>, that setup everything magically, so use them, otherwise it's kind of difficult to setup.</p> <p>It gets trickier for desktops. First, you need to setup a DNS <a href="https://developers.cloudflare.com/1.1.1.1/setting-up-1.1.1.1/" target="_blank" rel="noopener noreferrer">on the OS level</a>, and then turn on <a href="https://www.zdnet.com/article/dns-over-https-will-eventually-roll-out-in-all-major-browsers-despite-isp-opposition/" target="_blank" rel="noopener noreferrer">an experimental DoH support in the browser</a>.</p> <a href="https://dkzlv.com/en/how-they-harvest-data#device-provider-datacenter-server" id="device-provider-datacenter-server"> <h2>Device ‚Üí Provider ‚Üí Datacenter ‚Üí server</h2> </a><p>There are two types of connections: secure and not secure. You'll get a notification about an insecure connection from the browser if it's not an old piece of mammoth shit. If it's not an old piece of black rhino's shit, <a href="https://en.wikipedia.org/wiki/Black_rhinoceros" target="_blank" rel="noopener noreferrer">which got extinct in 2013</a>, it will even ask you to think carefully if you should use this site at all.</p> <p>If you see a notification about an insecure connection, you'd be safer to just close this site and do nothing there. Believe me, this site may be as bad as having unprotected sex with a partner that has radial red stripes spreading from their genitalia.</p> <p> <a href="https://dkzlv.com/static/img/posts/en_privacy1/secure_channel.png" target="_blank"> <img alt="Most secure connection of all" src="https://dkzlv.com/static/img/posts/en_privacy1/secure_channel.png" height="720" width="600"> </a> </p> <p>Insecure connections have no real vulnerabilities, except a small one: every single intermediary has complete control over stuff you send and receive ‚Äî so it means a complete lack of any security at all. Some mobile operators, for example, <a href="https://tjournal.ru/tech/62611-pochemu-megafon-bessovestno-pokazyvaet-reklamu-na-chuzhih-saytah" target="_blank" rel="noopener noreferrer">embed their fullscreen ads</a> on insecure sites without asking any permission from site owner.</p> <p>So let's talk about secure connections. I'll give you a small lecture about cryptography (no, it has near to no connection to cryptocurrencies) and how the network works so you can impress your grandma.</p> <p>If you're not a Ph.D. in cryptography and haven't launched an ICO from school's canteen, it good enough to know there are two types of encryption: symmetric and asymmetric. Symmetric is the one that has a single key for both encryption and decryption. Asymmetric one is where you use one key to encrypt stuff (it's called <strong>public key</strong>) and another key to decrypt it (it's called <strong>private key</strong>).</p> <p>Nobody really knows how the math works (like nobody really knows how so heavy-looking planes manage to fly the sky), but <a href="https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange" target="_blank" rel="noopener noreferrer">Diffie-Hellman key exchange protocol</a> that powers all this voodoo-shenanigan is safe enough for you to send sacred cat photos to your family.</p> <p>So, we use both types of encryption. It's rather boring to read, so I wrote a play that illustrates the whole process.</p> <blockquote> <p><strong>Characters</strong>:</p> <p><strong>Jimmie</strong>: young Alamaba fella having troubles with girls for some strange reasons.</p> <p><strong>Hannah</strong>: just a girl I added here to make a full picture.</p> <p><strong>Jimmie's phone</strong>: the device that sends messages.</p> <p><strong>Pinder</strong>: an app. <em>(any similarities to reality are entirely coincidental)</em></p> <p><strong>Pinder's server</strong>: the server that receives messages.</p> <p><strong>Act 1</strong></p> <p><em>Jimmie types a message to Hannah in Pinder</em></p> <p><strong>Jimmie's phone</strong> (talks to Pinder's server_): Hi there, good fellow. My guy wants to write yet another message (<em>signs</em>). Let's do this quickly and securely. I know HTTPS.</p> <p><strong>Pinder's server</strong>: Hi there, pal. Yeah, I get it. I know HTTPS as well. Here's the plan: first, I'll send you my public key, ‚Ä¶</p></blockquote></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://dkzlv.com/en/how-they-harvest-data">https://dkzlv.com/en/how-they-harvest-data</a></em></p>]]>
            </description>
            <link>https://dkzlv.com/en/how-they-harvest-data</link>
            <guid isPermaLink="false">hacker-news-small-sites-26153055</guid>
            <pubDate>Tue, 16 Feb 2021 11:48:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Can you ever (safely) include credentials in a URL?]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 4 (<a href="https://news.ycombinator.com/item?id=26152893">thread link</a>) | @fagnerbrack
<br/>
February 16, 2021 | https://neilmadden.blog/2019/01/16/can-you-ever-safely-include-credentials-in-a-url/ | <a href="https://web.archive.org/web/*/https://neilmadden.blog/2019/01/16/can-you-ever-safely-include-credentials-in-a-url/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-3375">
	<!-- .entry-header -->

	
	
	<div>
		<p><em>Update: an updated version of the ideas in this blog post appears in <a href="https://manning.com/books/api-security-in-action">chapter 9 of my book</a>. </em></p>
<p>URLs are a cornerstone of the web, and are the basic means by which content and resources are shared and disseminated. People copy and paste URLs into Slack or WhatsApp to share interesting links. Google crawls the web, discovering and indexing such links. But what happens when the page you want to link is not public and requires credentials in order to view or interact with it? Suddenly a URL is no longer sufficient, unless the recipient happens to already have credentials. Sometimes they do, and everything is fine, but often they do not. If we really do want to give them access, the problem becomes how to securely pass along some credentials with the URL so that they can access the page we have linked.</p>
<p>A commonly desired approach to this problem is to encode the credentials into the URL itself. While convenient, this solution is fraught with dangers and frequently results in credentials being exposed in insecure contexts. In this article, we‚Äôll look at various ways to accomplish this, the ways that things can go wrong, and conclude with a set of guidelines for cases where this can be made secure, and actually improve security overall.</p>

<h2>What kind of credentials?</h2>
<p>The most usual kind of credential to grant access to a protected resource would be a username and password. Way back in the prehistory of the web there was a standard way to encode a username and password into a URL using the following syntax:</p>
<pre>http://bob:sekret@example.invalid/some/path</pre>
<p>Here ‚Äúbob‚Äù is the username and ‚Äúsekret‚Äù is the password. The way this was supposed to work is that when you clicked on that link, the web browser would automatically submit the username and password using <a href="https://en.wikipedia.org/wiki/Basic_access_authentication">HTTP Basic</a> authentication (or possibly <a href="https://en.wikipedia.org/wiki/Digest_access_authentication">Digest authentication</a>, but we should never talk of that). This turned out to be a terrible idea for many reasons:</p>
<ol>
<li>Firstly, putting your username and password in plaintext into a URL that can then be copied far and wide is a really quick way to account compromise. Giving your username and password to somebody else just so they can look at one of your cat photos is not the best idea in the world.</li>
<li>Basic authentication just Base64-encodes the credentials, so unless you were using SSL then the password would be recoverable to anybody observing the network traffic. While sites sometimes put SSL on the login page, they often didn‚Äôt bother for other parts of the site (relying on time-limited session cookies instead), so sending a username and password to a random URL was quite risky. This is much better now with the widespread adoption of HTTPS.</li>
<li>Due to the way Basic authentication works, after you have logged into one page with it, your browser will helpfully and <a href="https://tools.ietf.org/html/rfc7617#section-2.2">proactively send the username and password to every other page on the site</a> under the same path. This can leak credentials to unrelated pages.</li>
<li>It was soon realised that using a URL like <code><a href="http://www.google.com:search@example.com/" rel="nofollow">http://www.google.com:search@example.com</a></code> was a really easy way to create convincing-looking phishing links.</li>
<li>If the target of the URL is a login endpoint, then the attacker can attempt to get you to click on the link to perform a <a href="https://support.detectify.com/customer/portal/articles/1969819-login-csrf">Login CSRF</a> attack. In this case the honest user ends up with a session cookie for an account under the control of the attacker.</li>
</ol>
<p>For all these reasons, this specific form of URL was deprecated back in 2005, and now support within browsers is patchy: Safari for instance will just silently ignore any username:password component when following such a link. Other browsers will tolerate them in some cases, but this varies considerably by browser and often by version to version. Some versions of Chrome refuse to follow such links and instead display a large red phishing warning page.</p>
<p>So if not a username and password, then what kind of credentials could we put in a URL? Ideally you‚Äôd want a limited-scope credential that provides only permission to access that one specific URL in just the ways that the sharer of the link intends (e.g., read-only access). This is known as the <a href="https://en.wikipedia.org/wiki/Principle_of_least_privilege">principle of least authority</a> (POLA). Typically this is done by creating an unguessable <em>bearer token</em> that grants limited access to anybody that holds the token (the token bearer). There are two basic approaches to this:</p>
<ul>
<li>The token on its own is sufficient to grant access. This is known as <a href="https://en.wikipedia.org/wiki/Capability-based_security">capability-based security</a>. This is similar to how keys work in the physical world, with the token here acting as the key. Just as with a real key, you can have different keys (capabilities) for different doors (URLs) so that one key does not grant access to everything.</li>
<li>The token grants some subset of the permissions of the person/agent who authorised it. Access is granted based on the permissions granted by the token as well as the identity of the user that approved it (the <em>resource owner</em>). This is the model used by <a href="https://en.wikipedia.org/wiki/OAuth">OAuth</a>&nbsp;and <a href="https://kantarainitiative.org/confluence/display/uma/Home">UMA</a>, and a real-world analogy would be a signed note from a teacher granting a child permission to go and fetch something from a store cupboard at school. The teacher‚Äôs signature and identity grant the authority here, and the note describes the scope of the permission being granted.</li>
</ul>
<p>We will refer to both methods as <em>capability URLs</em> in this article, although strictly speaking that term only applies to the first option.</p>
<h2>Why put tokens in URLs at all?</h2>
<p>The OAuth approach is pretty popular these days as a way of granting limited access to third parties without giving away your username and password. The capability approach is less common, but has some <a href="http://wiki.erights.org/wiki/Walnut/Secure_Distributed_Computing#Capabilities">attractive security properties</a>. In both cases, if we want to follow POLA then we will end up with many fine-grained tokens that grant access to specific resources. We then have to make sure that we use the right token with the right URL, otherwise we might be denied access and also leak security tokens to unauthorized parties.</p>
<p>If we instead use broad-scope tokens and reuse them for many URLs then we run the risk of <a href="https://en.wikipedia.org/wiki/Confused_deputy_problem">confused deputy</a> attacks, where an attacker tricks us into adding our token to a request of their choosing. This is the basis of&nbsp;<a href="https://en.wikipedia.org/wiki/Cross-site_request_forgery">CSRF attacks</a> against session tokens, and the same thing can happen with OAuth tokens if the code that adds access tokens to requests is not carefully written. Often UI code is written to add an access token to every request transparently, as a convenience for the developer. If an attacker can influence any of the requests you make, such as by manipulating URL parameters or the URL fragment, then they may still be able to trick your UI code into adding its token to a request of the attacker‚Äôs choosing.</p>
<p>Capability-based systems avoid confused deputy attacks because they fundamentally combine <em>permission to act on something </em>with the <em>ability to name that thing</em>. You can‚Äôt name an object you don‚Äôt have access to, and you can‚Äôt just add a permission token to any request to any resource. In an <a href="https://en.m.wikipedia.org/wiki/Object-capability_model">object-capability</a> programming language, capabilities are references to objects; if you hold a reference to an object you can call the methods on it, and you can‚Äôt just create a reference out of nowhere. On the web, we can achieve some of the same advantages by combining unforgeable tokens with URLs. CSRF attacks become impossible as the attacker cannot construct a valid URL in the first place (think of this as a bit like anti-CSRF tokens directly in the URL itself). Phishing becomes pointless as there are no credentials to phish independent of the links they are part of. In certain cases, even XSS attacks become less effective, as we shall see later.</p>
<h2>How to do it safely</h2>
<p>Many security professionals reading this will baulk at the very idea of putting security tokens into URLs, and with good reason. A <em>lot</em> can go wrong. Let‚Äôs look at some ways to add credentials to URLs and how they can go wrong. Firstly, there are some issues that are common to all methods of putting credentials in URLs:</p>
<ul>
<li>URLs may be saved in the history of a browser, making them potentially accessible to the next user of a public terminal. Most browsers support private browsing modes that can be used on public browsers to prevent this, but use of a public terminal is always a risk. If somebody gains access to your computer or phone, then this may also be a threat even on your own device. Using time-limited tokens in URLs can help mitigate against these threats.</li>
<li>URLs within page content may be cached by the browser and by web proxies. Use of TLS and proper <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control">Cache-Control</a> headers can reduce this risk.</li>
<li>URLs in the content of a HTML page may be sniffed by other scripts running in the page. Sandboxing untrusted 3rd-party scripts in iframes can help, but a more general technique is to avoid links directly in HTML, as we shall see later.</li>
</ul>
<h3>Tokens in the path or in query parameters</h3>
<pre>https://example.com/users/<span>Kay2xVuid_tiWxJ5NI0NWmGxQ7Y</span>‚Ä©https://example.com/users/bob?key=<span>Kay2xVuid_tiWxJ5NI0NWmGxQ7Y</span></pre>
<p>An obvious place to put a token in a URL is either into the path (perhaps using random names for resources) or into the query parameters. This is nice and simple, but suffers from some drawbacks.</p>
<p>Firstly, such URLs might inadvertently leak in the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer">Referer header</a> when loading resources from other sites. This can also happen via the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/referrer">document.referrer</a> field available in Javascript when a third-party resource is loaded in an iframe (ironically, often done to isolate the 3rd-party code). These days the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referrer-Policy">Referrer-Policy</a> header can be used to prevent these kinds of leaks, but browser support is not yet 100%.</p>
<p>A second drawback is that URL path elements and query parameters are often logged in access logs of any servers that the request passes through, making tokens vulnerable to anybody who has access to those logs. The more widespread deployment of HTTPS has reduced this risk, but it still common to terminate TLS at a load balancer or reverse proxy (or even <a href="https://support.cloudflare.com/hc/en-us/articles/204144518-SSL-FAQ">in the cloud</a> before it ever reaches your own servers). The request may then pass through several other gateways and services before being processed (even more ‚Ä¶</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://neilmadden.blog/2019/01/16/can-you-ever-safely-include-credentials-in-a-url/">https://neilmadden.blog/2019/01/16/can-you-ever-safely-include-credentials-in-a-url/</a></em></p>]]>
            </description>
            <link>https://neilmadden.blog/2019/01/16/can-you-ever-safely-include-credentials-in-a-url/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26152893</guid>
            <pubDate>Tue, 16 Feb 2021 11:18:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Design for Developers ‚Äì A practical guide to improve your design skills as a dev]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26152891">thread link</a>) | @fagnerbrack
<br/>
February 16, 2021 | https://roland.imprint.to/post/design-for-developers | <a href="https://web.archive.org/web/*/https://roland.imprint.to/post/design-for-developers">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><strong>Intro</strong></p><p>I‚Äôm a believer that anyone can build anything, given that they stay resourceful. Development, design, product all require similar veins of thinking. You need to think from the user‚Äôs perspective, continuously iterate, and collaborate cross functionally. Generalists who are able to do a bit of everything, or at least understand the tools of other trades have a great advantage in the industry.</p><p>Back in 2016, I was building my first few iOS apps, but didn‚Äôt know anything about design. That design bit held me back from working on more ambitious projects. I was afraid to start a new project until I had carefully produced mockups, and a clear understanding of what to build. This mindset held me back from doing the most important thing ‚Äî&nbsp;building.</p><p>Taking the leap is really important. It means recognizing that you might not immediately have all the skills necessary to do something, but that you‚Äôll give it a try anyway. When it comes to a developer learning how to design, taking that first leap is critical. After all, design skills don‚Äôt come through books or videos, but through application and reflection.</p><p>It‚Äôs definitely intimidating to dive into a field you‚Äôve never explored before, but there are ways to make that transition easier. In this next section, I‚Äôll talk a bit about some small things that have helped me be more resourceful and soak in knowledge from unexpected places.</p><h2>Being resourceful</h2><p><strong>1. Question your friends a lot</strong></p><ul><li>It‚Äôs easy to fall in the trap of the <a href="https://en.wikipedia.org/wiki/False_consensus_effect" rel="nofollow noopener" target="_blank"><u>false consensus effect</u></a>, where we believe everyone sees things the same way we do. But the fact is, those around us, even those closest to us, probably perceive things very differently. That‚Äôs something people should exploit; it‚Äôs a free resource that‚Äôs incredibly accessible to us.</li><li>When unsure about how you‚Äôd approach a problem or novel idea, ask a friend. They don‚Äôt need to be an expert in that field ‚Äî&nbsp;in fact, I think it‚Äôs better if they weren‚Äôt an expert. Get their opinion on how they would design a search box, then make adjustments as you see fit. Others‚Äô unbiased approaches to a problem, or their years of expertise can teach you a whole lot.</li></ul><p><strong>2. Question seemingly inconsequential things in your daily life.</strong></p><p>This is a big one! Every time you use a mobile app or visit a landing page, don‚Äôt just mindlessly scroll through. It‚Äôs pretty crazy, but most of the times everything is meticulously crafted, with elements placed in certain locations for very specific reasons. Put yourself in the shoes of the person who designed that product, and think about a few things:</p><ul><li>Why choose this color for their buttons?</li><li>Why use certain fonts?</li><li>Why use this style of wording?</li><li>Why this graphic style?</li></ul><p><strong>3. Get good at searching for answers</strong></p><p>Here, I pretty much mean get really good at digging through Google, Reddit, and relevant forums. There are countless blog posts, videos, and threads that go really deep into even the most obscure things. If you look hard enough, you‚Äôll find an answer, or at least another direction to look in. Searching for help instead of thinking through already solved problems and reinventing the wheel is a much better use of time.</p><p><strong>4. Get connected</strong></p><p>Follow blogs, newsletters, YouTube channels, Twitter accounts, whatever pertains to what you‚Äôre trying to learn. Become a daily follower of a few channels. r/design and UX Collective on Medium are always great sources for learning from other designers. I also tend to scroll through ProductHunt every morning, paying special attention to what makes successful products so usable/beautiful, and what problems plague less successful products.</p><p>For developers looking to learn design, here are a few resources I found super helpful.</p><ul><li><a href="https://mobbin.design/" rel="nofollow noopener" target="_blank">Mobbin.design</a>: mobile design inspiration</li><li><a href="https://pttrns.com/" rel="nofollow noopener" target="_blank">Pttrns.com</a>: mobile design inspiration</li><li><a href="https://dribbble.com/" rel="nofollow noopener" target="_blank">Dribbble</a>: general design inspiration</li><li><a href="https://muz.li/" rel="nofollow noopener" target="_blank">Muzli</a>: general design inspiration</li><li><a href="https://lapa.ninja/" rel="nofollow noopener" target="_blank">Lapa.ninja</a>: landing page inspiration</li></ul><h2>A few rules of thumb</h2><p>If you're a developer and are looking to improve your design skills, here are a few rules I followed that quickly improved my usability and aesthetics.</p><p><strong>1. Establish a design system early on</strong></p><p>Investing some initial time to develop a design system saves a boatload of time down the road. Here‚Äôs an example of a basic design system. It consists of setting up font sizes/styles/colors, spacing rules, and a color palette. As you add to this system, you can build out reusable components like modals, buttons, and call to action blocks.</p><figure><img src="https://cosmonaut-storage.s3.amazonaws.com/690495724046078_5fb7b92b5574cd223a09ade8_Screenshot%202020-11-20%20at%208.png"></figure><p>Or, if you don‚Äôt want to build a design system from scratch, use a framework like <a href="https://tailwindcss.com/" rel="nofollow noopener" target="_blank"><u>Tailwind CSS</u></a> or <a href="http://getbootstrap.com/" rel="nofollow noopener" target="_blank"><u>Bootstrap</u></a> which gives you a set of components out of the box.</p><p>Want more options? Run with a prebuilt design system like <a href="https://github.com/palantir/blueprint" rel="nofollow noopener" target="_blank"><u>Blueprint</u></a> by Palantir or <a href="https://evergreen.segment.com/" rel="nofollow noopener" target="_blank"><u>Evergreen</u></a> by Segment.</p><p>Make sure to reference this system constantly as you start developing! It keeps your design clean and consistent.</p><p><strong>2. Hierarchy</strong></p><p>This one‚Äôs super important! Not all elements on the page should be treated as equal. Bump up the font size and weight for the elements that users should care more about. Typically, section titles, important statistics, or names take precedence over body text, descriptions, and metadata.</p><p>Another tip from Steve Schoger from Refactoring UI (highly recommended read): you can establish hierarchy not just from increasing the font sizes, but primarily through font weight as well. Sometimes, keeping elements scaled down with larger weights helps a lot with balancing the aesthetics of a page.</p><figure><img src="https://cosmonaut-storage.s3.amazonaws.com/737743796539109_5fb7b92b879c176278a4bd9b_Screenshot%202020-11-20%20at%208.png"></figure><p><a href="https://twitter.com/steveschoger/status/910162010754748416" rel="nofollow noopener" target="_blank">Source</a></p><p><strong>3. Use white space</strong></p><p>White space is a powerful tool. It can be used to draw attention where you want, increase legibility, and add a sense of additional organization and hierarchy to the page.</p><p>White space in Google‚Äôs homepage here removes distractions and draws your attention to what matters ‚Äî search.</p><figure><img src="https://cosmonaut-storage.s3.amazonaws.com/761519906735794_5fb7b9293fa55b1b89e756ed_Screenshot%202020-11-20%20at%208.png"></figure><p>Adding some white space in the form of increasing the line height for this block of body text also makes a huge difference in readability. Notice how spacing out the title and the body text helps establish that information hierarchy too.</p><figure><img src="https://cosmonaut-storage.s3.amazonaws.com/184238091170962_5fb7b92baa1448248ebee17b_Screenshot%202020-11-20%20at%208.png"></figure><p>White space is a powerful tool, just remember to be consistent! Follow that design system and play with different spacing, but based on those spacing levels defined earlier. That way, the entire app or website feels coherent.</p><p><strong>4. Utility over design</strong></p><ol><li>We learned a few tips to freshen up your UI design, but the most important thing to keep in your mind is to always prioritize utility over design. Something beautiful that people don‚Äôt understand just isn‚Äôt useful to anybody.</li><li>Choose a traditional font for your body text. I love Inter, Helvetica, PT Serif if you want a sans serif font. They‚Äôre clear and legible.</li><li>Make sure there‚Äôs enough foreground and background contrast. Make sure text is clearly visible, and think about accessibility when it comes to people who might have some form of colorblindness. Here‚Äôs a pretty great tool to see if your colors have enough contrast: <a href="https://webaim.org/resources/contrastchecker/" rel="nofollow noopener" target="_blank">https://webaim.org/resources/contrastchecker/</a></li></ol></div></div>]]>
            </description>
            <link>https://roland.imprint.to/post/design-for-developers</link>
            <guid isPermaLink="false">hacker-news-small-sites-26152891</guid>
            <pubDate>Tue, 16 Feb 2021 11:18:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Build2: Complete C++20 Modules Support with GCC]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26152880">thread link</a>) | @boris
<br/>
February 16, 2021 | https://build2.org/blog/build2-cxx20-modules-gcc.xhtml | <a href="https://web.archive.org/web/*/https://build2.org/blog/build2-cxx20-modules-gcc.xhtml">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
  

  <p><i>Posted on <code>16 Feb 2021</code> by
  <code>Boris Kolpackov</code> with comments on <a href="https://redd.it/ll1l6z"><code>r/cpp/</code></a></i></p>

  <p><b>TL;DR</b>: <code>build2</code> now provides conforming and scalable
  support for all the major C++20 Modules features when used with GCC. This
  includes named modules, module partitions (both interface and
  implementation), header unit importation, and include translation. All of
  these features are also supported in libraries, including consumption of
  installed libraries with information about modules and importable headers
  conveyed in <code>pkg-config</code> files. As part of this effort we have
  also created a collection of <a href="https://github.com/build2/cxx20-modules-examples/">examples</a> that
  demonstrate C++20 Modules features that impact the build process.</p>

  <p>Before going into detail on each of these features, let's clarify what we
  mean by <i>conforming</i> and <i>scalable</i>. With GCC (and soon with
  Clang), <code>build2</code> uses the module mapper mechanism to discover
  module and header unit dependencies and communicate their mapping to the
  compiler. As a result, <code>build2</code> does not place any restrictions
  on the structure of translation units or module features used. In other
  words, it is able to handle any conforming C++ module or header unit.</p>

  <p>Similarly, <code>build2</code> does not place on the user any modules
  support burden that would not scale to general, real-world projects and
  use-cases. Specifically, it does not expect the user to manually specify and
  maintain module name to file name mapping, their dependency information, or
  arrange pre-building of any modules or header units, including of system
  headers. In particular, <code>build2</code> will automatically build header
  units if and when imported or include-translated.</p>

  <div>
  <p>While <code>build2</code> support for modules is complete and reasonably
  reliable, at the time of writing the same cannot be said about GCC. As a
  result, until the situation improves, the implementation is meant more for
  early experimentation rather than production use. See <a href="#try">How to
  Try</a> for details.</p>

  <p>One <code>build2</code> feature that is not yet handled by the module
  mapper is support for auto-generated headers. However, this support has
  already been successfully prototyped during the early modules development in
  GCC and we hope to revive and complete it in the near future (see <a href="https://wg21.link/P1842">P1842</a> for details).</p>
  </div>

  <table>
    <tbody><tr><th>1</th><td><a href="#named-modules">Named Modules</a></td></tr>
    <tr><th>2</th><td><a href="#module-partitions">Module
Partitions</a></td></tr>
    <tr><th>3</th><td><a href="#header-units">Header Units</a></td></tr>
    <tr><th>4</th><td><a href="#include-translation">Include
Translation</a></td></tr>
    <tr><th>5</th><td><a href="#libraries">Modules and Libraries</a></td></tr>
    <tr><th>6</th><td><a href="#try">How to Try</a></td></tr>
  </tbody></table>

  

  <p>See <a href="https://github.com/build2/cxx20-modules-examples/tree/master/hello-module"><code>cxx20-modules-examples/hello-module</code></a>
  for the complete example.</p>

  

  <p>Building named modules with <code>build2</code> is fairly
  straightforward. Here is a minimal example consisting of three files,
  <code>hello.mxx</code>, <code>main.cxx</code>, and
  <code>buildfile</code>:</p>

  <pre>// hello.mxx

export module hello;

import &lt;string_view&gt;;
import &lt;iostream&gt;;

export namespace hello
{
  void
  say_hello (const std::string_view&amp; name)
  {
    std::cout &lt;&lt; "Hello, " &lt;&lt; name &lt;&lt; '!' &lt;&lt; std::endl;
  }
}</pre>

  <pre>// main.cxx

import hello;

int
main ()
{
  hello::say_hello ("World");
}</pre>

  <pre># buildfile

cxx.std = experimental
cxx.features.modules = true

using cxx

assert $cxx.features.modules "no modules support for $cxx.signature"

mxx{*}: extension = mxx
cxx{*}: extension = cxx

exe{hello}: {cxx mxx}{*}</pre>

  <p>If you place all three files into some directory, you should be able to
  build it like this (see <a href="#try">How to Try</a> for details):</p>

  <pre>$ b config.cxx=g++-11
c++ .../include/c++/11.0.0/h{string_view}
c++ .../include/c++/11.0.0/h{iostream}
c++ mxx{hello}
c++ cxx{main}
ld exe{hello}

$ ./hello
Hello, World!</pre>

  <p>As you might have noticed, we used a different extension
  (<code>.mxx</code>) for our module interface (<code>hello.mxx</code>)
  compared to other source files (for example, <code>main.cxx</code>). We
  recommend that you follow this practice (using the <code>.mpp</code>
  extension if your source files use <code>.cpp</code>). If, however, you
  would like to use the same extension for all translation units, you can, you
  will just have to sort them out in your <code>buildfiles</code>, for example
  (after renaming <code>hello.mxx</code> to <code>hello.cxx</code>):</p>

  <pre>mxx{*}: extension = cxx
cxx{*}: extension = cxx

exe{hello}: mxx{hello} cxx{main}</pre>

  <p>If you compare the above three files to the <a href="https://github.com/build2/cxx20-modules-examples/tree/master/hello-module"><code>hello-module</code></a>
  example, you will notice that the latter has quite a few more files and some
  internal structure. The reason is that <code>hello-module</code> is a
  package with a structure more suitable for real-world projects. In contrast,
  the above three files are a simple build system-only project more suitable
  for quick tests and prototypes.</p>

  <div>
  <p>Because modules support in GCC is currently experimental and incomplete,
  we have to explicitly force this feature either with the following in our
  <code>buildfile</code>:</p>

  <pre>cxx.std = experimental
cxx.features.modules = true</pre>

  <p>Or by overriding on the command line:</p>

  <pre>$ b config.cxx.std=experimental config.cxx.features.modules=true ...</pre>
  </div>

  

  <p>See <a href="https://github.com/build2/cxx20-modules-examples/tree/master/hello-partition"><code>cxx20-modules-examples/hello-partition</code></a>
  for the complete example.</p>

  <p>There is not much difference in dealing with module partitions compared
  to primary module interfaces: both interface and implementation partitions
  should use the same extension as module interfaces (or otherwise be
  explicitly listed as <code>mxx{}</code> targets, as shown above). See the <a href="https://github.com/build2/cxx20-modules-examples/tree/master/hello-partition"><code>hello-partition</code></a>
  example which shows the use of both interface and implementation
  partitions.</p>

  

  <p>See <a href="https://github.com/build2/cxx20-modules-examples/tree/master/hello-header-import"><code>cxx20-modules-examples/hello-header-import</code></a>
  for the complete example.</p>

  <p>Importing header units is straightforward: simply replace
  <code>#include</code> directives with <code>import</code> declarations and
  hope the compiler can handle it. In fact, we've already used header units in
  our named module example above. Here is another example:</p>

  <pre>// main.cxx

import &lt;iostream&gt;;

int
main ()
{
  std::cout &lt;&lt; "Hello, World!" &lt;&lt; std::endl;
}</pre>

  <pre># buildfile

cxx.std = experimental
cxx.features.modules = true

using cxx

assert $cxx.features.modules "no modules support for $cxx.signature"

cxx{*}: extension = cxx

exe{hello}: cxx{*}</pre>

  <pre>$ b config.cxx=g++-11
c++ .../include/c++/11.0.0/h{iostream}
c++ cxx{main}
ld exe{hello}</pre>

  <p>Naturally, importation is not limited to standard library headers and we
  can also import our project's own headers as demonstrated in the <a href="https://github.com/build2/cxx20-modules-examples/tree/master/hello-header-import"><code>hello-header-import</code></a>
  example.</p>

  

  <p>See <a href="https://github.com/build2/cxx20-modules-examples/tree/master/hello-header-translate"><code>cxx20-modules-examples/hello-header-translate</code></a>
  for the complete example.</p>

  <p>Instead of manually replacing <code>#include</code> directives with
  <code>import</code> declarations in our source code we can translate them on
  the fly. To control which headers are translated we use the
  <code>config.cxx.translate_include</code> configuration variable. For
  example, we can try to translate all the importable headers:</p>

  <pre>$ b config.cxx=g++-11 config.cxx.translate_include=all-importable</pre>

  <p>Since include translation is non-intrusive, you can try it on any project
  that uses <code>build2</code> by forcing modules support and enabling
  include translation, for example:</p>

  <pre>$ b config.cxx=g++-11 \
  config.cxx.std=experimental \
  config.cxx.features.modules=true \
  config.cxx.translate_include=all-importable</pre>

  <p>Which headers are importable? The C++20 standard specifies that all the
  C++ standard library headers (but not the C library wrappers) are
  importable. For example, this is how we can translate only importable
  standard library headers:</p>

  <pre>config.cxx.translate_include=std-importable</pre>

  <p>We can also mark our own headers as importable with the
  <code>cxx.importable</code> variable, for example:</p>

  <pre># buildfile

...

# Assume headers are importable unless stated otherwise.
#
hxx{*}: cxx.importable = true</pre>

  <p>There could also be third-party headers that are not explicitly marked as
  importable. To handle this, we can request the translation of specific
  headers or header wildcard patterns, for example:</p>

  <pre>config.cxx.translate_include='&lt;iostream&gt; "&lt;boost/container/*.hpp&gt;"'</pre>

  <p>We can also disable the translation of specific headers or header groups,
  for example:</p>

  <pre>config.cxx.translate_include='all-importable std-importable@false'
config.cxx.translate_include='std-importable &lt;iostream&gt;@false'</pre>

  <p>You can also attempt to translate all headers by specifying the
  <code>all</code> header group. This is primarily useful for experimentation,
  for example, to discover which headers would break the build if
  translated.</p>

  <p>Finally, if we need to adjust or disable include translation for our
  project or for specific translation units in our project, we use the
  <code>cxx.translate_include</code> variable, for example:</p>

  <pre># buildfile

cxx.translate_include += &lt;iostream&gt;@false

obj{main}: cxx.translate_include = # Don't translate anything.</pre>

  

  <p>See <a href="https://github.com/build2/cxx20-modules-examples/tree/master/hello-library-module"><code>cxx20-modules-examples/hello-library-module</code></a>
  and <a href="https://github.com/build2/cxx20-modules-examples/tree/master/hello-library-header"><code>cxx20-modules-examples/hello-library-header</code></a>
  for the complete examples.</p>

  <p>Building modules as part of a library does not pose any additional
  complications. Here is how we can convert our example from the <a href="#named-modules">Named Modules</a> section to build a library:</p>

  <pre># buildfile

...

exe{hello}: cxx{main} lib{hello}
lib{hello}: {cxx mxx}{* -main}</pre>

  <p>However, installing libraries with modules and then consuming the result
  in other projects (and potentially with other build systems) requires
  additional mechanisms. Specifically, the installation needs to convey which
  modules are provided by the library and the location of their module
  interface source files (the consuming build system also needs to arrange for
  the compilation of these interfaces on the side).</p>

  <p>Instead of inventing yet another file format, we choose to reuse the
  <code>pkg-config</code> files that <code>build2</code> automatically
  produces for every library it installs. Specifically, the
  <code>pkg-config</code> format supports free variables which is what we use
  to convey the modules information. For example, this is the relevant
  fragment from the <code>libhello.pc</code> file in the <a href="https://github.com/build2/cxx20-modules-examples/tree/master/hello-library-module"><code>hello-library-module</code></a>
  example (<code>..</code> in <code>hello..check</code> encodes the
  <code>:</code> module partition separator):</p>

  <pre>cxx_modules = \
  hello..check=/usr/include/libhello/check.mxx \
  hello=/usr/include/libhello/hello.mxx</pre>

  <p>Naturally, the same mechanism is used to convey which library headers are
  importable (from the <a href="https://github.com/build2/cxx20-modules-examples/tree/master/hello-library-header"><code>hello-library-header</code></a>
  example):</p>

  <pre>cxx_importable_headers = \
  /usr/include/libhello/check.hxx \
  /usr/include/libhello/hello.hxx</pre>

  <p>What happens to a header-only library in a ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://build2.org/blog/build2-cxx20-modules-gcc.xhtml">https://build2.org/blog/build2-cxx20-modules-gcc.xhtml</a></em></p>]]>
            </description>
            <link>https://build2.org/blog/build2-cxx20-modules-gcc.xhtml</link>
            <guid isPermaLink="false">hacker-news-small-sites-26152880</guid>
            <pubDate>Tue, 16 Feb 2021 11:15:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[CMU: Discrete Differential Geometry]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26152748">thread link</a>) | @jonas_kgomo
<br/>
February 16, 2021 | https://brickisland.net/DDGSpring2021/ | <a href="https://web.archive.org/web/*/https://brickisland.net/DDGSpring2021/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<div id="primary">
		<main id="main" role="main">

		
			
			
<article id="post-3188">
	<!-- .entry-header -->

	
	
	<div>
		<p><a href="https://drive.google.com/file/d/1Dg1Ql7etsIT0xpVvmnE3b0e_VSOLeDUW/view?usp=sharing"><img loading="lazy" src="http://brickisland.net/DDGSpring2021/wp-content/uploads/2021/02/recitation_thumbnail-300x169.png" alt="" width="406" height="228" srcset="https://brickisland.net/DDGSpring2021/wp-content/uploads/2021/02/recitation_thumbnail-300x169.png 300w, https://brickisland.net/DDGSpring2021/wp-content/uploads/2021/02/recitation_thumbnail-1024x576.png 1024w, https://brickisland.net/DDGSpring2021/wp-content/uploads/2021/02/recitation_thumbnail-768x432.png 768w, https://brickisland.net/DDGSpring2021/wp-content/uploads/2021/02/recitation_thumbnail-1536x864.png 1536w, https://brickisland.net/DDGSpring2021/wp-content/uploads/2021/02/recitation_thumbnail-2048x1152.png 2048w, https://brickisland.net/DDGSpring2021/wp-content/uploads/2021/02/recitation_thumbnail-1200x675.png 1200w" sizes="(max-width: 406px) 85vw, 406px"></a></p>
<p>This is a short video recitation from the TAs reviewing how the halfedge data structure, sparse matrices, and solving linear systems will be used in the course assignments. We‚Äôve also included information on how to get started with both the Javascript and C++ versions of the coding assignments.</p>
<p>You can find the full video below (or watch just a portion), as well as the slides.</p>
<ul>
<li><a href="https://drive.google.com/file/d/1Dg1Ql7etsIT0xpVvmnE3b0e_VSOLeDUW/view?usp=sharing">Full video</a>
<ul>
<li><a href="https://drive.google.com/file/d/1WSKlTq3-HgCvAwNlicaYwcrvRyCoKoTL/view?usp=sharing">Concept review</a> (0:00 ‚Äì 16:58)</li>
<li><a href="https://drive.google.com/file/d/1u1tnBziJY7t-hYnTop_Hkv2_VY4hs-oK/view?usp=sharing">Intro to ddg-exercises-js</a> (16:58 ‚Äì 23:22)</li>
<li><a href="https://drive.google.com/file/d/1tXluBL5Di-bSHuzO9MnJ6Y0uQacz5gTN/view?usp=sharing">Intro to ddg-exercises (C++)</a> (23:22 ‚Äì 31:41)</li>
</ul>
</li>
<li><a href="http://brickisland.net/DDGSpring2021/wp-content/uploads/2021/02/recitation.pdf">Slides</a></li>
</ul>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-1529">
	<!-- .entry-header -->

	
	
	<div>
		<p><a href="https://youtu.be/paEKgbiCyPk"><img loading="lazy" src="http://brickisland.net/DDGSpring2021/wp-content/uploads/2021/02/03_ExteriorAlgebra.png" width="480" height="270"></a></p>
<p>Our next lecture will cover one of the basic tools we‚Äôll use throughout the rest of the course: <em>exterior algebra</em>. The basic idea is to add a couple new operations to our usual list of vector operations (dot product, cross product, etc.) that make it easy to talk about <em>volumes</em> rather than just vectors. If you felt ok working with things like the <a href="https://en.wikipedia.org/wiki/Cross_product">cross product</a> and the <a href="https://en.wikipedia.org/wiki/Determinant">determinant</a> in your linear algebra/vector calculus courses, this shouldn‚Äôt be too big of a leap. (If not, could be a good moment for a <a href="http://brickisland.net/DDGFall2017/2017/09/03/linear-algebra-and-vector-calculus-review/">review</a>!)</p>
<ul>
<li><a href="https://youtu.be/paEKgbiCyPk">Video</a></li>
<li><a href="http://brickisland.net/DDGSpring2021/wp-content/uploads/2021/02/03_ExteriorAlgebra.pdf">Slides</a></li>
</ul>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-3174">
	<!-- .entry-header -->

	
	
	<div>
		<p><img loading="lazy" src="http://brickisland.net/DDGSpring2021/wp-content/uploads/2021/02/DDG_02B_Manifolds.png" width="480" height="270"></p>
<p>In tomorrow‚Äôs lecture we will catch a first glimpse of the idea of <em>manifolds</em>, which are pretty central to differential geometry.  Rather than giving a formal definition in the smooth case, we‚Äôll introduce a notion of <em>discrete manifolds</em> that capture the most important ideas.  These discrete manifolds build on the idea of a <em>simplicial complex</em>, introduced in the previous lecture.</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=KZjoxwUxlIs">Video</a></li>
<li><a href="http://brickisland.net/DDGSpring2021/wp-content/uploads/2021/02/DDG_02B_Manifolds.pdf">Slides</a></li>
</ul>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-1459">
	<!-- .entry-header -->

	
	
	<div>
		<p><img loading="lazy" src="http://brickisland.net/DDGSpring2021/wp-content/uploads/2019/01/SmallestSimplicialTorus.jpg" alt="" width="577" height="348" srcset="https://brickisland.net/DDGSpring2021/wp-content/uploads/2019/01/SmallestSimplicialTorus.jpg 1732w, https://brickisland.net/DDGSpring2021/wp-content/uploads/2019/01/SmallestSimplicialTorus-300x181.jpg 300w, https://brickisland.net/DDGSpring2021/wp-content/uploads/2019/01/SmallestSimplicialTorus-768x464.jpg 768w, https://brickisland.net/DDGSpring2021/wp-content/uploads/2019/01/SmallestSimplicialTorus-1024x618.jpg 1024w, https://brickisland.net/DDGSpring2021/wp-content/uploads/2019/01/SmallestSimplicialTorus-1200x725.jpg 1200w" sizes="(max-width: 577px) 85vw, 577px"></p>
<p>Your next reading will take a dive into purely combinatorial descriptions of surfaces,&nbsp;<em>i.e.,</em> those that capture connectivity, but not geometry. &nbsp;These descriptions and data structures will provide the foundation for all the geometry and algorithms we‚Äôll build up in this class. &nbsp;(The reading also provides the essential background for your first written and coding assignments!)</p>
<p>The reading is Chapter 2, pages 7‚Äì20 of our <a href="http://www.cs.cmu.edu/~kmcrane/Projects/DDG/paper.pdf">course notes</a>, which can always be accessed from the link above.</p>
<p>Your short 2-3 sentence summary is due by <strong>10am Eastern on February 19, 2020.&nbsp;</strong>&nbsp;Handin instructions can be found on the <a href="http://brickisland.net/DDGSpring2021/assignments/">assignment page</a>.</p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-1467">
	<!-- .entry-header -->

	
	
	<div>
		<p><img loading="lazy" src="http://brickisland.net/DDGSpring2021/wp-content/uploads/2019/01/CMU_DDG_Spring2019_A0_CombinatorialSurfaces_GUI-1.jpg" alt="" width="450" height="460" srcset="https://brickisland.net/DDGSpring2021/wp-content/uploads/2019/01/CMU_DDG_Spring2019_A0_CombinatorialSurfaces_GUI-1.jpg 900w, https://brickisland.net/DDGSpring2021/wp-content/uploads/2019/01/CMU_DDG_Spring2019_A0_CombinatorialSurfaces_GUI-1-294x300.jpg 294w, https://brickisland.net/DDGSpring2021/wp-content/uploads/2019/01/CMU_DDG_Spring2019_A0_CombinatorialSurfaces_GUI-1-768x784.jpg 768w" sizes="(max-width: 450px) 85vw, 450px"></p>
<p>For the coding portion of your first assignment, you will implement some operations on simplicial complexes which were discussed in class and in Chapter 2 of the <a href="http://www.cs.cmu.edu/~kmcrane/Projects/DDG/paper.pdf">course notes</a>. Once implemented, you will be able to select simplices and apply these operations to them by clicking the appropriate buttons in the viewer (shown above).</p>
<p><b><u>Getting Started</u></b></p>
<ul>
<li>Decide whether you want to use the web skeleton (in JavaScript) or the desktop skeleton (in C++). The web skeleton should ‚Äújust work‚Äù for anyone with a web browser. Setting up the C++ skeleton is also fairly automatic (just a few <tt>git</tt> commands), but requires a little more familiarity with coding environments. (The benefit of the C++ version is that it‚Äôs built on a richer, real-world mesh processing/visualization library than the web version.)</li>
<li>To use the JavaScript version, download or clone the files in the <a href="https://github.com/cmu-geometry/ddg-exercises-js">ddg-exercises-js repository</a>.</li>
<li>To use the C++ version, follow the instructions in the <a href="http://github.com/geometrycollective/ddg-exercises">ddg-exercises repository</a>. <b>It is important that you follow the ‚ÄúGetting Started‚Äù instructions and do not simply <tt>git clone</tt> the repo.</b> Otherwise, dependencies will not be installed correctly, and the code will not build. If you struggle to get the C++ version working on your platform, we recommend you switch to the JavaScript version.</li>
<li>Either way, you should need to download just one code skeleton for the whole semester (though we may push periodic updates to fix bugs, etc.).</li>
<li>For this assignment, you will need to implement the following routines in <tt>projects/simplicial-complex-operators/simplicial-complex-operators.[js|cpp]</tt>:
<ul>
<li><tt>assignElementIndices</tt></li>
<li><tt>buildVertexEdgeAdjacencyMatrix</tt></li>
<li><tt>buildEdgeFaceAdjacencyMatrix</tt></li>
<li><tt>buildVertexVector</tt></li>
<li><tt>buildEdgeVector</tt></li>
<li><tt>buildFaceVector</tt></li>
<li><tt>star</tt></li>
<li><tt>closure</tt></li>
<li><tt>link</tt></li>
<li><tt>isComplex</tt></li>
<li><tt>isPureComplex</tt></li>
<li><tt>boundary</tt></li>
</ul>
</li>
</ul>
<p><b><u>Notes</u></b></p>
<ul>
<li>The JavaScript assignment comes with a viewer <tt>projects/simplicial-complex-operators/index.html</tt> which lets you apply your operators to simplices of meshes and visualize the results. Likewise, the C++ version comes with a viewer with similar functionality. (Viewers will be available for all assignments throughout the semester.)</li>
<li><b>Pay close attention to the course notes!</b> Some routines really must be implemented with sparse matrices, <em>not</em> directly with the halfedge mesh data structure.</li>
<li>Selecting simplices will not work until you fill in the <tt>assignElementIndices</tt> function.</li>
<li>The assignment also comes with a test script <tt>tests/simplicial-complex-operators/text.html</tt> which you can use to verify the correctness of your operators.</li>
<li>The web framework is implemented in Javascript, which means no compilation or installation is necessary on any platform. You can simply get started by opening the <tt>index.html</tt> file in <tt>projects/discrete-exterior-calculus/</tt> in a web browser. We recommend using Chrome or Firefox. Safari has poor <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API">WebGL</a> performance.</li>
<li>If you do not have prior experience with Javascript, do not worry! You should be able to get a handle on Javascript syntax by reading through some of the code in the framework (a good place to start might be <tt>core/geometry.js</tt>). The framework also contains extensive documentation (see <tt>docs/index.html</tt>).</li>
<li>All browsers come with tools for debugging (for instance the <a href="https://developers.google.com/web/tools/chrome-devtools/console/">JavaScript Console</a> in Chrome).</li>
</ul>
<p><b><u>Submission Instructions</u></b></p>
<p>The assignment is due on <strong>February 26, 2020 at 5:59:59pm Eastern</strong> (<em>not</em> at midnight!). Remember to turn in the whole coding assignment via a single ZIP file containing the modified source files. Further hand-in instructions can be found on <a href="http://brickisland.net/DDGSpring2021/assignments/">this page</a>.</p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-1476">
	<!-- .entry-header -->

	
	
	<div>
		<p><img loading="lazy" src="http://brickisland.net/DDGSpring2021/wp-content/uploads/2019/01/CMU_DDG_Spring2019_A0_CombinatorialSurfaces_Written.jpg" alt="" width="532" height="233"></p>
<p>For the written part of your first homework you will do some exercises that will help familiarize you with basic descriptions and representations of combinatorial surfaces (simplicial surfaces, adjacency matrices, halfedge meshes), which will help prepare you to work with such surfaces as we continue through the course.  (If any of this stuff seems abstract right now, don‚Äôt worry: we‚Äôll use it over and over again to implement ‚Äúreal‚Äù algorithms starting in just a couple weeks!)</p>
<p>You must complete all 15 exercises from the <em>Written Exercises</em> section of Chapter 2 of the <a href="http://www.cs.cmu.edu/~kmcrane/Projects/DDG/paper.pdf">course notes</a>.  If these exercises seem scary and unfamiliar, and you don‚Äôt know where to start, that‚Äôs ok!  This is not typical computer science stuff, and you shouldn‚Äôt necessarily know how to do it right off the bat.  If you find yourself stumbling, <em>please</em> reach out to the instructor/TAs and your classmates on Piazza, Discord, or during the office hours/Q&amp;A sessions.  We‚Äôll have you up and running in no time. üôÇ</p>
<p>The assignment is due on <strong>February 26, 2021 at 5:59:59pm Eastern</strong> (<em>not</em> at midnight!). Hand-in instructions can be found on <a href="http://brickisland.net/DDGSpring2021/assignments/">this page</a>.</p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-3155">
	<!-- .entry-header -->

	
	
	<div>
		<p><img loading="lazy" src="http://brickisland.net/DDGSpring2021/wp-content/uploads/2021/02/DDG_02A_Meshes.png" width="480" height="270"></p>
<p>In this lecture we‚Äôll really start from the beginning, and define some of the basic objects we‚Äôll use throughout the class.  In particular, we‚Äôll look at the idea of a ‚Äúmesh,‚Äù and study one very specific kind of mesh called an <em>oriented simplicial complex</em>.</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=TDic3pJyYb8">Video</a></li>
<li><a href="http://brickisland.net/DDGSpring2021/wp-content/uploads/2021/02/DDG_03A_Meshes.pdf">Slides</a></li>
</ul>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-1333">
	<!-- .entry-header -->

	
	
	<div>
		<p><strong>Due date: 10am Eastern on Thursday, February 11, 2021</strong></p>
<p>Your first reading assignment will be to read an overview article on Discrete Differential Geometry. Since we know we have a diverse mix of participants in the class, you have several options (pick one):</p>
<ol>
<li><strong>(pages 1‚Äì3)</strong>&nbsp;Crane &amp; Wardetzky, <a href="http://www.ams.org/publications/journals/notices/201710/rnoti-p1153.pdf">‚ÄúA Glimpse into Discrete Differential Geometry‚Äù</a>.<br>
This article discusses the ‚Äúno free lunch‚Äù story about curvature we looked at in class, plus a broader overview of the field.</li>
<li><strong>(pages 1‚Äì5)</strong>&nbsp;Pottman et al, <a href="http://brickisland.net/DDGFall2017/wp-content/uploads/2017/09/DDGArchitecturalGeometry.pdf">‚ÄúArchitectural Geometry‚Äù</a>.<br>
This article discusses the beautiful tale of how discrete differential geometry is linked to modern approaches to computational design for architecture, as well as fabrication and ‚Äúrationalization‚Äù of free-form designs.</li>
<li><strong>(pages 5‚Äì9)</strong>&nbsp;Bobenko &amp; Suris, <a href="http://brickisland.net/DDGFall2017/wp-content/uploads/2017/09/DDGConsistencyAsIntegrability.pdf">‚ÄúDiscrete Differential Geometry: Consistency As Integrability‚Äù</a>.<br>
This article provides another overview of discrete differential geometry, with an emphasis on&nbsp;<em>nets</em> and their connection to the notion of <em>integrability</em> in geometry and physics.</li>
</ol>
<p>Though written for a broad audience, be warned that all of these articles are somewhat advanced‚Äîthe goal here is not to understand every little detail, but rather just get a high-level sense of what DDG is all about.</p>
<p><strong>Assignment: </strong>Pick one of the readings above, and&nbsp;write 2‚Äì3 sentences summarizing what you read, plus at least one question about something you didn‚Äôt understand, or some thought/idea that occurred to you while reading the article. &nbsp;For this first assignment, we are also&nbsp;<strong>very</strong> interested to know a little bit about <b>YOU!</b> E.g., why are you taking this course? &nbsp;What‚Äôs your background? &nbsp;What do you hope to get out of this course? &nbsp;What are your biggest fears about the course? &nbsp;Etc.</p>
<p>Handin instructions can be found in the <span>‚ÄúReadings‚Äù</span> section of the <a href="http://brickisland.net/DDGSpring2021/assignments/">Assignments</a> page.</p>
<p>Enjoy!</p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-3114">
	<!-- .entry-header -->

	
	
	<div>
		<p><a href="https://www.youtube.com/watch?v=8JCR6z3GLVI&amp;feature=youtu.be"><img loading="lazy" src="http://brickisland.net/DDGSpring2021/wp-content/uploads/2021/02/DDG_01_Introduction.jpg" width="480" height="270"></a></p>
<p>Our first lecture provides motivation for the topics we‚Äôll cover in the course, and takes a deep dive into one specific example (curvature of curves in the plane) to highlight some of the basic principles of discrete differential geometry.  This example moves pretty fast and uses some ideas that we‚Äôll study at a slower, more careful pace later on.  For now, don‚Äôt worry too much about the details‚Äîthe goal here is to just get a sense of what the course is all about!</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=8JCR6z3GLVI&amp;feature=youtu.be">Video</a></li>
<li><a href="http://brickisland.net/DDGSpring2021/wp-content/uploads/2021/02/DDG_01_Introduction.pdf">Slides</a></li>
</ul>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-3110">
	<!-- .entry-header -->

	
	
	<div>
		<p>Welcome to the course!  This <a href="https://www.youtube.com/watch?v=mas-PUA3OvA">short video</a> will give you a brief overview of the course logistics‚Äîplease take a look!</p>
<p><a href="https://www.youtube.com/watch?v=mas-PUA3OvA"><img loading="lazy" src="http://brickisland.net/DDGSpring2020/wp-content/uploads/2021/02/WelcomeVideo.jpg" alt="" width="1920" height="1080"></a></p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article><!-- #post-## -->

<article id="post-81">
	<!-- .entry-header -->

	
	
	<div>
		<p>Part of your course grade is determined by participation, which can include both in-class participation as well as discussion here on the course webpage. &nbsp;Therefore, your first assignment is to:</p>
<ol>
<li><a href="http://brickisland.net/DDGSpring2021/wp-login.php?action=register">create an account</a> (you <b>must</b> use your Andrew email address, so we can give you participation credit this semester!),</li>
<li>sign up for Piazza and Discord,</li>
<li>read carefully through the <a href="https://brickisland.net/DDGSpring2021/course-description/">Course Description</a> and <a href="https://brickisland.net/DDGSpring2021/grading-policy/">Grading Policy</a>, and</li>
<li>leave a comment on this post containing your favorite mathematical ‚Ä¶</li></ol></div></article></main></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://brickisland.net/DDGSpring2021/">https://brickisland.net/DDGSpring2021/</a></em></p>]]>
            </description>
            <link>https://brickisland.net/DDGSpring2021/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26152748</guid>
            <pubDate>Tue, 16 Feb 2021 10:47:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Satirical magazine: Titanic app in Google Play Store blocked]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26152683">thread link</a>) | @awiesenhofer
<br/>
February 16, 2021 | https://www.de24.news/en/2021/02/satirical-magazine-titanic-app-in-the-google-play-store-blocked-after-censorship-request.html | <a href="https://web.archive.org/web/*/https://www.de24.news/en/2021/02/satirical-magazine-titanic-app-in-the-google-play-store-blocked-after-censorship-request.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p> <a href="https://www.de24.news/"></a>&nbsp;The&nbsp; editors of Titanic can currently no longer deliver the digital edition of their satirical magazine via the app in the Google Play Store. <a href="https://www.de24.news/"><img loading="lazy" src="https://i2.wp.com/www.de24.news/a1/de24.png?resize=400%2C20&amp;ssl=1" alt="¬© www.de24.news" width="400" height="20" data-recalc-dims="1"></a>&nbsp;The&nbsp; background is a dispute with the tech company, which, according to the Titanic editor-in-chief, took offense at several magazine covers.</p>



<p>In particular, the December 2020 issue was rejected by Google because of the depiction of a sacred motif (profanity), which was rated as ‚Äúobscene‚Äù: <a href="https://www.de24.news/"><img loading="lazy" src="https://i2.wp.com/www.de24.news/a1/de24.png?resize=400%2C20&amp;ssl=1" alt="¬© www.de24.news" width="400" height="20" data-recalc-dims="1"></a>&nbsp;The&nbsp; cover of the magazine shows the Pope with a bare backside with a crucifix, and an angry one (because he is jealous of God ) Seeing Jesus with his genitals bared. <a href="https://www.de24.news/"><img loading="lazy" src="https://i2.wp.com/www.de24.news/a1/de24.png?resize=400%2C20&amp;ssl=1" alt="¬© www.de24.news" width="400" height="20" data-recalc-dims="1"></a>&nbsp;The&nbsp; cover alludes to a cover picture of the French satirical magazine Charlie Hebdo, on which the Turkish prime minister could be seen in a similar scene.</p>

<div>
<figure><img src="https://i0.wp.com/heise.cloudimg.io/width/696/q50.png-lossy-50.webp-lossy-50.foil1/_www-heise-de_/imgs/71/3/0/5/6/8/7/1/12_20_klein-decfd3bbf04c1d7b.jpg?w=696&amp;ssl=1" data-recalc-dims="1"></figure>
</div>
<h3>Titanic 12.2020</h3><figcaption> (Image: Titanic Magazine)</figcaption>
<h3 id="nav_antrag_auf__0">Application for re-listing rejected for the time being</h3>
<p>Two weeks ago, shortly before the appearance of the second edition in 2021, Google blocked the app of the satirical magazine with an automatically generated notice without warning, said the Titanic editorial team. This was followed by the demand to delete some older magazine covers with depictions of nudity and sexuality. It is curious that the Titanic app has been listed in the store since 2014 and actually had an age rating of 12 years due to the assignment as satire, explained Titanic editor-in-chief Moritz H√ºrtgen <em>heise online</em>.</p>
<p><a href="https://www.de24.news/"><img loading="lazy" src="https://i2.wp.com/www.de24.news/a1/de24.png?resize=400%2C20&amp;ssl=1" alt="¬© www.de24.news" width="400" height="20" data-recalc-dims="1"></a>&nbsp;The&nbsp; East German magazine Eulenspiegel, for example, continues to be listed in the store with similarly drastic cover pictures, which is even available without age restriction. According to H√ºrtgen, as a compromise solution, his magazine had submitted an application for re-approval as an adult app with the age rating ‚Äú18 and over‚Äù. However, Google rejected the application on Monday.</p>

<h3 id="nav__quot_verkniffen__1">‚ÄúConnected Humor of Monopolwichsern‚Äù</h3>

<p>Moritz H√ºrtgen also affirmed that the satirical magazine will not bow to pressure from Silicon Valley: ‚ÄúTITANIC will not censor itself in order to do justice to the pinched humor of monopoly wankers in San Fernando Valley, err: Silicon Valley.‚Äù One would rather accept the loss of digital subscriptions and leave the store permanently if Google does not fully reactivate the Titanic app and its motifs.</p>
<p><a href="https://www.de24.news/"><img loading="lazy" src="https://i2.wp.com/www.de24.news/a1/de24.png?resize=400%2C20&amp;ssl=1" alt="¬© www.de24.news" width="400" height="20" data-recalc-dims="1"></a>&nbsp;The&nbsp;re had already been a misunderstanding with the Apple App Store in the past, but this could be resolved quickly (the lock was lifted, the Titanic app is still available in the App Store). <a href="https://www.de24.news/"><img loading="lazy" src="https://i2.wp.com/www.de24.news/a1/de24.png?resize=400%2C20&amp;ssl=1" alt="¬© www.de24.news" width="400" height="20" data-recalc-dims="1"></a>&nbsp;The&nbsp; long-suffering Titanic was also temporarily blocked once on Twitter.</p>
<h3 id="nav_alternative__2">Alternative delivery routes for subscribers</h3>
<p>Titanic claims that it has appealed against Google‚Äôs censorship request and is now also considering withdrawing its own app permanently from the Play Store. In the meantime, subscribers will be ‚Äúsupplied by other means‚Äù, says the Titanic website.</p>
<p><a href="https://www.de24.news/"><img loading="lazy" src="https://i2.wp.com/www.de24.news/a1/de24.png?resize=400%2C20&amp;ssl=1" alt="¬© www.de24.news" width="400" height="20" data-recalc-dims="1"></a>&nbsp;The&nbsp; Titanic editorial team currently offers subscribers direct delivery of print and PDF editions. Since, according to the editor-in-chief, the magazine ‚Äúhas no access to the contact details of the‚Äù Play Store ‚Äúsubscribers,‚Äù those affected by the app lock should report by email. Further information can be found in the entry in the Titanic news ticker. Anyone who would like to support the satirical magazine in the matter can still take out a classic print subscription.</p>
<h3 id="nav_die__3"><a href="https://www.de24.news/"><img loading="lazy" src="https://i2.wp.com/www.de24.news/a1/de24.png?resize=400%2C20&amp;ssl=1" alt="¬© www.de24.news" width="400" height="20" data-recalc-dims="1"></a>&nbsp;The&nbsp; tech corporations and censorship</h3>
<p><a href="https://www.de24.news/"><img loading="lazy" src="https://i2.wp.com/www.de24.news/a1/de24.png?resize=400%2C20&amp;ssl=1" alt="¬© www.de24.news" width="400" height="20" data-recalc-dims="1"></a>&nbsp;The&nbsp; incident calls to mind censorship decisions on Facebook, for example, where in January the Board of Appeal had four of the five blocked bans revoked after a review. A Goebbels quote posted in English without context (which did not serve as a satire), false promises of salvation for COVID-19 and the depiction of bare breasts in the course of a breast cancer campaign were then again considered permissible.</p>
<p>In the past, breastfeeding mothers had successfully protested against the deletion of their pictures on Facebook. In the course of the ‚Äúbreast puritanism‚Äù, the ZDF Facebook page was temporarily blocked due to a medical image. In a recent report, Amnesty International criticized Facebook and Google for participating in the suppression of people and opinions.</p>
<p><br>
<span>(hmm)</span><br>
</p>


</div></div>]]>
            </description>
            <link>https://www.de24.news/en/2021/02/satirical-magazine-titanic-app-in-the-google-play-store-blocked-after-censorship-request.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26152683</guid>
            <pubDate>Tue, 16 Feb 2021 10:32:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mental Health and Free Software (FOSDEM 2021)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26152642">thread link</a>) | @babolivier
<br/>
February 16, 2021 | https://tube.abolivier.bzh/videos/watch/c28a3957-25cb-4519-ad3d-9f8812f88ee2 | <a href="https://web.archive.org/web/*/https://tube.abolivier.bzh/videos/watch/c28a3957-25cb-4519-ad3d-9f8812f88ee2">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://tube.abolivier.bzh/videos/watch/c28a3957-25cb-4519-ad3d-9f8812f88ee2</link>
            <guid isPermaLink="false">hacker-news-small-sites-26152642</guid>
            <pubDate>Tue, 16 Feb 2021 10:23:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The RP2040 (Raspberry Pi Pico) meets LoRaWAN]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26152603">thread link</a>) | @lemariva
<br/>
February 16, 2021 | https://lemariva.com/blog/2021/02/raspberry-pi-pico-rp2040-meets-lorawan | <a href="https://web.archive.org/web/*/https://lemariva.com/blog/2021/02/raspberry-pi-pico-rp2040-meets-lorawan">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>The "Pico" board with the RP2040 chip developed by the Raspberry Pi Foundation is the latest tiny fast and versatile board in Arduino Nano format. As you may already know, the board can be programmed using MicroPython and C/C++. In this tutorial, I extended the official MicroPython version to support cryptographic primitives, and this unlocks the possibility to connect the board (using the SX1276 chip) to the <a rel="noopener noreferrer" href="https://www.thethingsnetwork.org/">"The Things Networks"</a> (TTN) - which means LoRaWAN support.</p><table><thead><tr><th></th></tr></thead><tbody><tr><td><img data-src="https://lemariva.com/storage/temp/public/14e/4d0/d3e/602af6bae274a130446131__800.jpg" legend="Raspberry Pi Pico connected to the LoRa V2.0 board" width="400px" data-srcset="https://lemariva.com/storage/temp/public/14e/4d0/d3e/602af6bae274a130446131__800.jpg 800w, https://lemariva.com/storage/temp/public/14e/4d0/d3e/602af6bae274a130446131__400.jpg 400w, https://lemariva.com/storage/temp/public/14e/4d0/d3e/602af6bae274a130446131__768.jpg 768w" sizes="(max-width: 400px) 100vw, 400px" src="https://lemariva.com/storage/temp/public/14e/4d0/d3e/602af6bae274a130446131__800.jpg" srcset="https://lemariva.com/storage/temp/public/14e/4d0/d3e/602af6bae274a130446131__800.jpg 800w, https://lemariva.com/storage/temp/public/14e/4d0/d3e/602af6bae274a130446131__400.jpg 400w, https://lemariva.com/storage/temp/public/14e/4d0/d3e/602af6bae274a130446131__768.jpg 768w"></td></tr><tr><td><span>Fig. 1: Raspberry Pi Pico connected to the LoRa V2.0 board.</span></td></tr></tbody></table><p>The RP2040 with a QFN-56 package has the following specifications:</p><ul><li>Dual-Core ARM Cortex-M0+ @133MHz</li><li>264KB of on-chip RAM</li><li>Support for up to 16MB of off-chip Flash Memory via a dedicated QSPI bus</li><li>DMA Controller</li><li>Interpolator and integer divider peripherals</li><li>30 GPIO pins, 4 of which can be used as analog inputs</li><li>2 x UARTs, 2 x SPI controllers, and 2 x I2C Controllers</li><li>16 x PWM Channels</li><li>1 x USB 1.1 Controller and PHY, with host and device support</li><li>8 x Raspberry Pi Programmable I/O (PIO) state machines</li><li>USB mass-storage boot mode with UF2 support for drag-and-drop-programming</li></ul><p>which makes it ideal for projects that need the LoRaWAN technology.</p><div uk-grid=""><p><img data-src="https://lemariva.com/storage/temp/public/576/93b/4e0/6029ab89c7a0c706498019__768.jpg" legend="Raspberry Pi Pico with RP2040" data-srcset="https://lemariva.com/storage/temp/public/576/93b/4e0/6029ab89c7a0c706498019__768.jpg 768w, https://lemariva.com/storage/temp/public/576/93b/4e0/6029ab89c7a0c706498019__400.jpg 400w" sizes="(max-width: 768px) 100vw, 768px" src="https://lemariva.com/storage/temp/public/576/93b/4e0/6029ab89c7a0c706498019__768.jpg" srcset="https://lemariva.com/storage/temp/public/576/93b/4e0/6029ab89c7a0c706498019__768.jpg 768w, https://lemariva.com/storage/temp/public/576/93b/4e0/6029ab89c7a0c706498019__400.jpg 400w"><br><span>Fig. 2: Raspberry Pi Pico with RP2040.</span></p></div><h2><span id="software-and-hardware-748847">Software and Hardware</span></h2><p>This section includes the software and hardware needed for this tutorial.</p><h2><span id="programming-the-raspberry-pi-pico-using-the-visual-studio-code-vscode-ide-748847">Programming the Raspberry Pi Pico using the Visual Studio Code (VSCode) IDE</span></h2><p>The Raspberry Pi Foundation recommends the <a rel="noopener noreferrer" href="https://thonny.org/">Thonny Python IDE</a> to program the Raspberry Pi Pico, but I still prefer <a rel="noopener noreferrer" href="https://code.visualstudio.com/">VSCode</a> with the <a rel="noopener noreferrer" href="https://marketplace.visualstudio.com/items?itemName=pycom.Pymakr">PyMakr plugin</a>. The only difference between programming an ESP32 and the Raspberry Pi Pico running MicroPython is that you need to set the <code>address</code> parameter in the <code>pymakr.conf</code> file to <code>"/dev/ttyACM0"</code> instead of <code>"/dev/ttyUSB0"</code> and the file results as:</p>
<pre><code>{
    "address": "/dev/ttyACM0",
    "username": "micro",
    "password": "python",
    "open_on_start": true,
    "safe_boot_on_upload": false,
    "sync_file_types":"py",
    "py_ignore": [
        "pymakr.conf",
        ".vscode",
        ".gitignore",
        ".git",
        "project.pymakr",
        "env",
        "venv",
        ".python-version",
        ".micropy/",
        "micropy.json",
    ],
    "fast_upload": false
}</code></pre>
<p>Then, you can upload, download and run files and projects as you usually do with an ESP32. For more information, take a look at <a href="https://lemariva.com/blog/2018/12/micropython-visual-studio-code-as-ide">this tutorial</a>.</p><div><p>The Pymakr plugin with version 1.1.8 is having compatibility issues with VSCode 1.53.1/2. Therefore, you need to downgrade <a rel="noopener noreferrer" href="https://code.visualstudio.com/updates/v1_52">VSCode to 1.52.1</a>. I hope this <a rel="noopener noreferrer" href="https://github.com/pycom/pymakr-vsc/issues/119">issue</a> will be solved soon. If you don't want to downgrade VSCode, you can try the <a rel="noopener noreferrer" href="https://marketplace.visualstudio.com/items?itemName=ChrisWood.pico-go">pico-go</a> extension that is a derivative extension of Pymakr, which is working. </p><p> Take a look at <a rel="noopener noreferrer" href="https://github.com/VSCodium/vscodium">VSCodium</a> if you want a to have free release binaries.</p></div><h2><span id="diy-add-encryption-support-748847">DIY: Add Encryption Support</span></h2><p>To connect to LoRaWAN, you need AES encryption. The MicroPython version that supports the Raspberry Pi Pico is still very limited. So, I extended it to include the <code>ucryptolib</code> package.</p><p>I included the compiled custom firmware in the <a href="https://github.com/lemariva/micropython-pico-mbedtls">lemariva/micropython-pico-mbedtls</a> repository. But if you want to build the firmware from scratch, follow these steps:</p><ol><li>First, clone the Micropython official repository, and pull the pico-sdk submodule following these steps:
<pre><code>git clone https://github.com/micropython/micropython.git
cd micropython
#
# usually this shouldn't be necessary, but the master branch is not compatible with the actual pico-sdk
git checkout tags/v1.14
#
git submodule update --init -- lib/pico-sdk
cd lib/pico-sdk
git submodule update --init</code></pre></li><li>To build the RP2040 MicroPython port, you‚Äôll need to install some extra tools (toolchain, etc.):
<pre><code>sudo apt update
sudo apt install cmake gcc-arm-none-eabi libnewlib-arm-none-eabi build-essential</code></pre></li><li>and build the <code>mpy-cross</code> tool:
<pre><code>cd ../..
make -C mpy-cross</code></pre></li><li>After that, add these <code>define</code>s lines to the <code>mpconfigport.h</code> file inside the <code>ports/rp2</code> folder:
<pre><code>#define MICROPY_PY_UCRYPTOLIB                   (1)
#define MICROPY_SSL_MBEDTLS                     (1)</code></pre></li><li>This means you need to add to the pico-sdk and compile the library <code>MBEDTLS</code>, which is nowadays not included. Therefore, I included that to the CMake project using this file:
<pre><code>include(ExternalProject)
ExternalProject_Add(
mbedtls
PREFIX ${CMAKE_BINARY_DIR}/mbedtls-2.25.0
GIT_REPOSITORY https://github.com/ARMmbed/mbedtls.git
GIT_TAG v2.25.0
SOURCE_DIR ${CMAKE_BINARY_DIR}/thirdparty/mbedtls-2.25.0
BINARY_DIR ${CMAKE_BINARY_DIR}/mbedtls-2.25.0
PATCH_COMMAND cp ${PROJECT_SOURCE_DIR}/pico_config.h ${CMAKE_BINARY_DIR}/thirdparty/mbedtls-2.25.0/include/mbedtls/config.h
CMAKE_ARGS -DCMAKE_CXX_COMPILER=${CMAKE_CXX_COMPILER} 
           -DCMAKE_C_COMPILER=${CMAKE_C_COMPILER} 
           -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
           -DENABLE_TESTING:BOOL=OFF
           -DENABLE_PROGRAMS:BOOL=OFF
BUILD_COMMAND make CFLAGS=${CFLAGS_BASE}
UPDATE_COMMAND ""
INSTALL_COMMAND ""
)
set(MBEDTLS_HEADERS ${CMAKE_BINARY_DIR}/thirdparty/mbedtls-2.25.0/include)
set(mbedtls_libraries 
    ${CMAKE_BINARY_DIR}/mbedtls-2.25.0/library/libmbedcrypto.a
    ${CMAKE_BINARY_DIR}/mbedtls-2.25.0/library/libmbedtls.a   
    ${CMAKE_BINARY_DIR}/mbedtls-2.25.0/library/libmbedx509.a   
    )
include_directories(${MBEDTLS_HEADERS})</code></pre>
<p>As you may already have seen, you need a <code>pico_config.h</code> file, which is included in the repository. I duplicated some of the configurations of the ESP32. Copy that file inside the <code>ports/rp2</code> folder.</p></li><li>Finally, add/modify two lines to the <code>CMakeLists.txt</code> file inside the <code>ports/rp2</code> folder:
<pre><code># add this under include(micropy_rules.cmake)
include(mbedtls.cmake)
# add ${mbedtls_libraries} to the target_link_libraries as:
target_link_libraries(${MICROPYTHON_TARGET}
hardware_adc
hardware_dma
hardware_flash
hardware_i2c
hardware_pio
hardware_pwm
hardware_rtc
hardware_spi
hardware_sync
pico_multicore
pico_stdlib_headers
pico_stdlib
pico_unique_id
tinyusb_device
${mbedtls_libraries}
)</code></pre></li><li>Finally, build the MicroPython port for RP2040, that is, the version of MicroPython that has specific support for the Raspberry Pi Pico chip:
<pre><code>cd ports/rp2
make</code></pre></li></ol><p>If everything goes well, there will be a new directory called build (<code>ports/rp2/build</code>), which contains the new firmware binaries. The most important ones are:</p><ul><li><code>firmware.uf2</code> A UF2 binary file that can be dragged onto the RPI-RP2 drive that pops up once your Raspberry Pi
Pico is in BOOTSEL mode.</li><li><code>firmware.elf</code> A different type of binary file, which can be loaded by a debugger (such as gdb with openocd) over
RP2040‚Äôs SWD debug port.</li></ul><p>You can drag and drop the custom MicroPython version following the instructions described <a href="https://www.raspberrypi.org/documentation/pico/getting-started/" rel="noopener noreferrer">here</a>.</p><h2><span id="diy-raspberry-pi-pico-meets-lorawan-748847">DIY: Raspberry Pi Pico meets LoRaWAN</span></h2><p>Last year, I wrote a driver to connect the ESP32 to the LoRaWAN network. I explained the details in these tutorials:</p><ul><li><a href="https://lemariva.com/blog/2020/02/tutorial-micropython-esp32-sends-data-over-lorawan">Tutorial: ESP32 running MicroPython sends data over LoRaWAN</a>.</li><li><a href="https://lemariva.com/blog/2020/03/m5stack-atom-lorawan-node-running-micropython">M5Stack Atom Matrix: LoRaWAN node running MicroPython</a></li></ul><p>Using the LoRa V2.0 board and the files from that project, you can connect the Raspberry Pi Pico to the "The Things Network".</p><p>To do that:</p><ol><li>Connect the LoRa V2.0 to the RP2040 as follows:</li></ol><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><strong>Raspberry Pi Pico</strong></td><td><strong>LoRa V2.0</strong></td></tr><tr><td>3V3</td><td>VCC</td></tr><tr><td>GND</td><td>GND</td></tr><tr><td>GP5</td><td>NSS</td></tr><tr><td>GP3</td><td>MOSI</td></tr><tr><td>GP4</td><td>MISO</td></tr><tr><td>GP2</td><td>CLK</td></tr><tr><td>GP7</td><td>RESET</td></tr><tr><td>GP6</td><td>DIO0</td></tr></tbody></table><ol start="2"><li>Clone the repository:
<pre><code>git clone -b LoRaWAN https://github.com/lemariva/uPyLoRaWAN.git</code></pre></li><li>Include this device configuration in the <code>config.py</code> file:
<pre><code># RASPBERRY PI Pico 
device_config = {
'spi_unit': 0,
'miso':4,
'mosi':3,
'ss':5,
'sck':2,
'dio_0':6,
'reset':7,
'led':25, 
}</code></pre></li><li>Finally, upload the project to the Raspberry Pi Pico board. If you need help with this, check out <a href="https://lemariva.com/blog/2018/12/micropython-visual-studio-code-as-ide">these steps</a>.</li></ol><h2><span id="conclusion-748847">Conclusion</span></h2><p>This tutorial helps you extend the MicroPython official version to include support for encryption. This unlocks the board to connect to LoRaWAN using the SX1276 chip. The files to build the firmware from scratch as well as an example application are included.</p></div></div>]]>
            </description>
            <link>https://lemariva.com/blog/2021/02/raspberry-pi-pico-rp2040-meets-lorawan</link>
            <guid isPermaLink="false">hacker-news-small-sites-26152603</guid>
            <pubDate>Tue, 16 Feb 2021 10:15:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Experiencing Smalltalk]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26152481">thread link</a>) | @mpweiher
<br/>
February 16, 2021 | https://nikhilism.com/post/2021/experiencing-smalltalk/ | <a href="https://web.archive.org/web/*/https://nikhilism.com/post/2021/experiencing-smalltalk/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
			

<p>In late August 2020 I read <a href="https://press.stripe.com/#the-dream-machine">The Dream
Machine</a> and it is my favorite
book of 2020. It is an incredible overview of a sliver of computer pioneers in
the 1960s-1980s and how one man was instrumental in tying all their narratives
together. One of the strands the book follows is the group at
<a href="https://en.wikipedia.org/wiki/PARC_(company)">PARC</a> (and other places) that
firmly believed in the notion of interactive computing. Over the last year,
I‚Äôve repeatedly been introduced to this strand of thinking. There is Douglas
Engelbart‚Äôs <a href="https://www.dougengelbart.org/pubs/papers/scanned/Doug_Engelbart-AugmentingHumanIntellect.pdf">Augmenting Human
Intellect</a><sup id="fnref:2"><a href="#fn:2">1</a></sup>
and his <a href="https://en.wikipedia.org/wiki/The_Mother_of_All_Demos">mother of all
demos</a>. The notion that
computers should allow humans to <em>think better</em>, and one way to do that is to
allow humans to express and try out ideas better. <em>Writing</em> is a useful skill
to form coherent, but generally linear streams of thought. <em>Computing</em> is the
closest we can yet get to a non-linear exploration of a problem domain, and
freed from the limitations of time and space, we can recreate our thoughts in a
malleable, explorable way. By applying <a href="https://doriantaylor.com/softwares-ailing-mythology">a known process to known information,
but turning a few billion cranks at a
time</a> we can get to better
solutions, faster. The notion is, if we could have a <em>computer</em> (the physical
device including the software) that would allow people to iteratively express
their problems, get immediate sensory (primarily visual, but nothing prevents
using the other senses) feedback and <em>extend the computer as necessary</em>, we can
really liberate the human mind from some of its limitations. It is a very
different vision from the consensus reality of vendors that deliver
pre-packaged applications that all come with restrictions.</p>

<p>Smalltalk<sup id="fnref:3"><a href="#fn:3">2</a></sup> is one of the outputs of this strand of thinking and has had a
<a href="https://en.wikipedia.org/wiki/Smalltalk#History">big impact on general purpose programming
languages</a><sup id="fnref:bak"><a href="#fn:bak">3</a></sup>. However the
focus on object orientation and test-driven development have robbed the world
of what I think are its most important aspects:</p>

<ol>
<li>programming as a dialogue with the computer, with meaningful feedback and <em>assistance</em>.</li>
<li>the environment being just as important to programming as the language, and empowering users to <em>modify the environment to help solve their problem</em>.</li>
<li>semantic simplicity as a necessity for easier comprehension in the face of the above points.</li>
</ol>

<p>Aditya Siram has <a href="https://www.youtube.com/watch/baxtyeFVn3w">this excellent
talk</a> giving a taste of Smalltalk.
If you had to take only one thing away from this post, it is to go and watch
that. I knew I had to try this thing out! While I worked through the <a href="https://nikhilism.com/post/2021/experiencing-smalltalk/TODO">Pharo
MOOC</a> for a few days, I quickly lost interest in their examples. <a href="https://adventofcode.com/2020">Advent
of Code 2020</a> (AoC)<sup id="fnref:1"><a href="#fn:1">4</a></sup> seemed like a much
better avenue to really try out Smalltalk. All my experiences are based on the
<a href="https://pharo.org/">Pharo</a> variant, which seems to be the leading
implementation right now.</p>

<p>While I was working my way through AoC, Mike Levins wrote <a href="https://mikelevins.github.io/posts/2020-12-18-repl-driven/">On repl-driven
programming</a>. I
think he wasn‚Äôt fully able to convey the ideas of Smalltalk, because the term
‚ÄúREPL‚Äù is too strongly associated with Python/JavaScript/Ruby REPLs at this
point. I hope I did my <a href="https://news.ycombinator.com/item?id=25642699">bit</a> of
<a href="https://news.ycombinator.com/item?id=25642717">evangelizing</a> to <a href="https://news.ycombinator.com/item?id=25642741">correct
that</a>. Alright, lets jump into
my experience.</p>



<h2 id="a-truly-integrated-development-environment-ide">A truly integrated development environment (IDE)</h2>

<p>What do I mean? Well Smalltalk really facilitates creating a program in an
exploratory style, including test-driven development. As an example, for Day 5,
I wrote the following:</p>



<p>Now, as soon as I ‚Äúaccept‚Äù this code (by pressing Ctrl+S), Smalltalk will ask
me if I would like to define this <code>AOCBoardingPassParser</code> class. It will pop up
a little window to let me do that. It will also detect I wrote a test case
(because when I created a class for the test case, I inherited from <code>TestCase</code>)
and the system browser and other elements of the interface will have these
little gray/green/red dots next to every test case, letting me run the test and
observe the results right away. Now, this is offered in modern IDEs like
IntelliJ and PyCharm, but this was available 40 years ago in Smalltalk! But
that is just the beginning.</p>

<p>I can now run this test (remember I‚Äôve only defined the <code>AOCBoardingPassParser</code>
class at this point) and it will encounter the missing method <code>toSeat:</code> on the
class (think of this like a ‚Äústatic method‚Äù in Java/Python<sup id="fnref:static"><a href="#fn:static">5</a></sup>). In a
statically typed language, you would get a compilation error or have your IDE
highlight it for you. If you were in a dynamic language, then you‚Äôd just have
an exception thrown when running the program ‚Äì <code>AttributeError</code> in Python.
Unless you explicitly ran the test in a debugger, that is all you would get and
now you‚Äôve to go back to the editor, fix this, then re-run the test.</p>

<p>Not so in Smalltalk. First this isn‚Äôt just an IDE in the sense of a
language-aware editor. The IDE is also very aware of the runtime environment.
It will break at the stack frame with the missing method, and pop up a window.
You can <em>create</em> a method right there. This window has a full fledged editor
with code completion and all the other fanciness right there. I‚Äôm not aware of
any other environment<sup id="fnref:lisp"><a href="#fn:lisp">6</a></sup> that does this. Ok so we quickly recover by
creating the method. But I don‚Äôt know exactly what to put in there yet. Don‚Äôt
worry, this is Smalltalk. We don‚Äôt need to go through this cycle of rerunning
the entire test. The state of the running program is <em>preserved</em> until the
point where you hit the error, and you just tell the IDE ‚Äúok, I‚Äôve fixed the
immediate error, let‚Äôs try again‚Äù and it will resume execution from there! You
can do this as many times as you wish, developing the code as a function of
encountering errors and test failures. This very fast iteration cycle feels
amazing! Imagine writing a much more complex program that was running for
minutes to hours but then hit an error. In most languages you would have to fix
it and start from the beginning, but in Smalltalk you would just fix it right
there and proceed.</p>

<p>I think browser developer tools are the closest we can come to having this kind
of interactivity in widespread computing environments. They don‚Äôt do that yet,
but they could. But we need to acknowledge how much work had to be put in to
those tools vs Smalltalk. In addition, the that implementation would likely
need to be in C++ instead of JavaScript, which means users wouldn‚Äôt be able to
extend and improve it as necessary. Which brings me to my next point.</p>

<h2 id="ide-extension-and-visualization">IDE extension and visualization</h2>

<p>Where most IDEs and language implementations are written in C/C++/Java,
Smalltalk prides itself on bootstrapping from a very minimal native code core.
After that nearly everything about the runtime and the IDE is written in
Smalltalk. The program and the environment are not 2 separate things, they are
one. When you execute your program, it is just another ‚Äúthread‚Äù in the same
environment that you are creating the program in. You can do bizarre things
like remapping <code>true</code> to <code>false</code> or redefining what addition means and the
entire system will reflect the change right away (to disastrous results!). The
fact that the IDE and the program share a language means that any Smalltalk
programmer can understand and extend the IDE itself. Would you like a menu with
your most commonly used commands? Sure, just use the inspector/debugger to find
out where the menus are defined and add an entry there. Boom!</p>

<p>This also offers the really powerful ability to customize the debugger for the
task at hand. <a href="http://kursjan.github.io/petitparser2/">PetitParser2</a> is
probably the best example of this. It is a parser-combinator library. As Aditya
demonstrates in his talk, when you build up a parser, the parser provides
several hooks into the Smalltalk debugger. It can show you the matches it has
built up so far(including negative matches!) and you can run various inputs
against the parser to understand behavior. So you can start with a very simple
parser and iteratively make it complicated, observing the parse tree and
getting the behavior you want.</p>

<p>Whereas a lot of AoC implementations on reddit used various regex and string
operations for parsing inputs, I‚Äôd lean to PetitParser for anything beyond
simple white-space delimited numbers. It was just so easy and straightforward.
Instead of having to find subtle bugs in string parsing, I could actually see a
domain specific debugging view as my parser encountered tokens.</p>

<p>You could similarly imagine having domain specific drawings for your project.
If I was writing a build system in Smalltalk, I would write a build graph
viewer, and instead of a <a href="https://graphviz.org/">static graphviz image</a>, it
could be very interactive. While the build was running, it could update the
graph with file modification times, or indicate whether it thinks a file needs
to be rebuilt, and then I could easily debug why a particular file wasn‚Äôt being
built.</p>

<p>The folks at <a href="https://feenk.com/">Feenk</a> are really leveraging this in their
<a href="https://gtoolkit.com/">Glamorous Toolkit</a> to fantastic effect! I highly
recommend watching <a href="https://www.youtube.com/channel/UClLZHVq_-2D2-iI4rA2O8Ug">their
videos</a>.</p>

<h2 id="minor">Minor</h2>

<p>I appreciated the built-in Array2D class for the various game-of-life
implementations as well as <a href="https://adventofcode.com/2020/day/20">Jurassic
Jigsaw</a> where it was easy to reason in
terms of rows and columns, and quickly slice those out.  Similarly, the Point
class and special ‚Äúsyntax‚Äù<sup id="fnref:point"><a href="#fn:point">7</a></sup> made Day 12 <a href="https://github.com/nikhilm/AdventOfCode2020/blob/bbc331e2af2d948e683cade9ff4f93b4e4a3f667/AdventOfCode/AOCFerry.class.st">really
easy</a>.</p>



<p>Of course everything wasn‚Äôt magical. The Smalltalk/Pharo community is very
small, so this shouldn‚Äôt be considered a rant, just my disappointments.</p>

<h2 id="documentation">Documentation</h2>

<p>This was my biggest frustration. If we accept that <a href="https://documentation.divio.com/">documentation has 4
distinct types</a>, Smalltalk does a great job
of Reference docs, because everything can easily be inspected and browsed, so
reading method documentation, while seeing its implementation is really easy.
You can also easily inspect what an object is at the point of use, and then see
what methods are available on it. However there is still plenty of scope for
improvement here, as not all non-trivial methods have docstrings. In addition,
for such a powerful IDE, the lack of documentation tooltips on hover is very
odd.</p>

<p>It really lags behind in the other categories. There is a wealth of great
content in <a href="http://books.pharo.org/">various free books</a> and the
<a href="http://mooc.pharo.org/">MOOC</a> that explains the language and getting around
the IDE. However all the books on various useful libraries are really out of
date. It isn‚Äôt fair to expect someone to ‚Ä¶</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://nikhilism.com/post/2021/experiencing-smalltalk/">https://nikhilism.com/post/2021/experiencing-smalltalk/</a></em></p>]]>
            </description>
            <link>https://nikhilism.com/post/2021/experiencing-smalltalk/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26152481</guid>
            <pubDate>Tue, 16 Feb 2021 09:52:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Opul ‚Äì find and optimise your financial freedom age]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 6 (<a href="https://news.ycombinator.com/item?id=26152328">thread link</a>) | @RiskIsAFriend
<br/>
February 16, 2021 | https://opul-ai.github.io/fire/ | <a href="https://web.archive.org/web/*/https://opul-ai.github.io/fire/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://opul-ai.github.io/fire/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26152328</guid>
            <pubDate>Tue, 16 Feb 2021 09:25:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Case study: Analyzing Notion app performance]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26152295">thread link</a>) | @sturza
<br/>
February 16, 2021 | https://3perf.com/blog/notion/ | <a href="https://web.archive.org/web/*/https://3perf.com/blog/notion/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><div><p>Web performance isn‚Äôt going to save you in this crisis.</p>
<p>But if you‚Äôre building a software product, chances are you‚Äôre relatively unaffected. And in this case, having a quick app is more important than ever. Internet <a href="https://www.fastly.com/blog/how-covid-19-is-affecting-internet-performance">is slowing down</a> due to increased demand, and people <a href="https://www.cnet.com/news/mobile-phone-shipments-will-drop-to-10-year-low-this-year-as-coronavirus-hurts-demand/">are holding on to their phones</a> for longer ‚Äì so if your app is slow, your users <em>will</em> be affected by it.</p>
<p>And <a href="https://wpostats.com/"><em>slow app</em> means <em>worse business</em></a>.</p>
<p>Today, let‚Äôs take a look at <a href="https://www.notion.so/">Notion</a> ‚Äì an advanced note-taking web app. Notion is a great product, but one thing customers complain about is its startup time:</p>
<blockquote data-dnt="true"><div lang="en" dir="ltr"><p>Notion app and my laptop OS take the same time to boot.</p><p>Beautiful application but it's tooooo slowüòî</p></div>‚Äî Aniket Mandle (@aniketmandle11) <a href="https://twitter.com/aniketmandle11/status/1256659106464698368?ref_src=twsrc%5Etfw">May 2, 2020</a></blockquote>

<p>Notion <a href="https://twitter.com/NotionHQ/status/1228074819784073216">shipped tremendous speed enhancements recently</a>, but there‚Äôs still a lot of space to improve. Let‚Äôs reverse-engineer it and see what else can be optimized!</p>


<p>Notion is a React web app embedded into a native shell. This means its ‚Äústartup time‚Äù is largely the ‚Äúloading time of the web part‚Äù.</p>
<blockquote><div><p><strong>To be concrete.</strong> On the desktop, the Notion app is a web app wrapped with Electron. On mobile, from my understanding, the Notion app runs both React Native parts (likely responsible for some mobile experiences) and web parts (likely responsible for the overall editing UI).</p><p>Due to (apparently) HTTPS certificate pinning in the Android Notion app, I wasn‚Äôt able to verify whether the mobile app runs the same bundles the desktop app does. But even if the bundles are different, issues they are having are, likely, similar.</p></div></blockquote>
<p>To understand how the web part is loading, let‚Äôs create <a href="https://www.notion.so/iamakulov/Job-Board-f96cfe500e7d47108f44e0b6102e7c01">a public Notion page</a>:</p>
<figure>
    <picture>
      
      <source srcset="https://3perf.com/static/bc79d74265619bb0b304a49c252b52f7/0608e/notion.png 225w,
https://3perf.com/static/bc79d74265619bb0b304a49c252b52f7/31401/notion.png 450w,
https://3perf.com/static/bc79d74265619bb0b304a49c252b52f7/e7448/notion.png 900w,
https://3perf.com/static/bc79d74265619bb0b304a49c252b52f7/9ac8b/notion.png 1350w,
https://3perf.com/static/bc79d74265619bb0b304a49c252b52f7/28bdc/notion.png 1800w,
https://3perf.com/static/bc79d74265619bb0b304a49c252b52f7/4054c/notion.png 2050w" sizes="(max-width: 900px) 100vw, 900px">
      <img src="https://3perf.com/static/bc79d74265619bb0b304a49c252b52f7/e7448/notion.png" alt="" width="900" height="593">
    </picture>
  </figure>
<div><p>and run a WebPageTest audit over it. (This works because public pages run the same code the whole app runs.)</p><blockquote> <a href="https://webpagetest.org/">WebPageTest</a> is an advanced performance testing tool.</blockquote></div>
<p>WebPageTest returns a lot of useful information, but the most interesting part is <a href="https://webpagetest.org/result/200418_KE_d8c556d0fa8e60a79cd2370f224b3ad7/1/details/#waterfall_view_step1">the loading waterfall</a>:</p>
<figure>
      <img src="https://3perf.com/static/95540616fb001eabb1bfed2546652f69/ffcbe/waterfall.png" alt="" width="900" height="784">
    </figure>
<p>Woah, that‚Äôs a lot of info. What‚Äôs going on there?</p>
<figure>
      <img src="https://3perf.com/static/e7921a43211a557049e57f62aefa92d1/ffcbe/waterfall-explained.png" alt="" width="900" height="535">
    </figure>
<p>Here‚Äôs what‚Äôs going on:</p>
<ol>
<li>You open the page. The page loads a few stylesheets ‚Äì and two JavaScript bundles, <code>vendor</code> and <code>app</code>.</li>
<li>Once both bundles are loaded, they start to execute ‚Äì and spend a whole second doing so.</li>
<li>Once the app has been initialized, it starts sending API requests for page data, loading analytics...</li>
<li>and executing more code...</li>
<li>
<p>until, at 5.6 seconds, the first paint happens:</p>
<figure>
    <picture>
      
      <source srcset="https://3perf.com/static/eaf7228225d5870afc70f1573924c496/0608e/notion-loading-1.png 225w,
https://3perf.com/static/eaf7228225d5870afc70f1573924c496/31401/notion-loading-1.png 450w,
https://3perf.com/static/eaf7228225d5870afc70f1573924c496/e7448/notion-loading-1.png 900w,
https://3perf.com/static/eaf7228225d5870afc70f1573924c496/9ac8b/notion-loading-1.png 1350w,
https://3perf.com/static/eaf7228225d5870afc70f1573924c496/28bdc/notion-loading-1.png 1800w,
https://3perf.com/static/eaf7228225d5870afc70f1573924c496/cc602/notion-loading-1.png 2045w" sizes="(max-width: 900px) 100vw, 900px">
      <img src="https://3perf.com/static/eaf7228225d5870afc70f1573924c496/e7448/notion-loading-1.png" alt="" width="900" height="603">
    </picture>
  </figure>
<p>...but it‚Äôs just a spinner.</p>
</li>
<li>
<p>At 6.2 seconds, <a href="https://webpagetest.org/video/compare.php?tests=200418_KE_d8c556d0fa8e60a79cd2370f224b3ad7-r%3A1-c%3A0&amp;thumbSize=200&amp;ival=100&amp;end=visual">the page content gets actually rendered</a>.</p>
<figure>
    <picture>
      
      <source srcset="https://3perf.com/static/3464bde606feda421dfd951c7f45917b/0608e/notion-loading-2.png 225w,
https://3perf.com/static/3464bde606feda421dfd951c7f45917b/31401/notion-loading-2.png 450w,
https://3perf.com/static/3464bde606feda421dfd951c7f45917b/e7448/notion-loading-2.png 900w,
https://3perf.com/static/3464bde606feda421dfd951c7f45917b/9ac8b/notion-loading-2.png 1350w,
https://3perf.com/static/3464bde606feda421dfd951c7f45917b/28bdc/notion-loading-2.png 1800w,
https://3perf.com/static/3464bde606feda421dfd951c7f45917b/cc602/notion-loading-2.png 2045w" sizes="(max-width: 900px) 100vw, 900px">
      <img src="https://3perf.com/static/3464bde606feda421dfd951c7f45917b/e7448/notion-loading-2.png" alt="" width="900" height="603">
    </picture>
  </figure>
<p>It takes a couple more seconds to finish loading all the hero image.</p>
</li>
</ol>
<p>6.2 seconds for a desktop computer is quite a lot. However, with a medium-tier phone like Nexus 5, this time <a href="https://webpagetest.org/video/compare.php?tests=200420_7E_24739856690fea9cbdadeea3e0b934a2-r%3A1-c%3A0&amp;thumbSize=200&amp;ival=100&amp;end=visual">increases to 12.6 seconds</a>. Here‚Äôs how that feels:</p>

<p>Let‚Äôs see how we can improve it.</p>

<p>When one talks about ‚Äúloading speed‚Äù, one typically means <em>networking performance</em>. From the networking standpoint, Notion is doing well: they‚Äôre using HTTP/2, they‚Äôre gzipping files, and they‚Äôre using Cloudflare as a proxying CDN.</p>
<p>However, another part of ‚Äúloading speed‚Äù that people talk less about is <em>processing performance</em>. All downloaded resources have a processing cost: gzip archives need to be decompressed; images need to be decoded; JS needs to be executed.</p>
<p>Unlike networking performance, processing performance doesn‚Äôt improve with better networks ‚Äì it‚Äôs only as fast as the user‚Äôs CPU is. And user‚Äôs CPUs in phones ‚Äì especially Android phones ‚Äì <a href="https://medium.com/@addyosmani/the-cost-of-javascript-in-2018-7d8950fbb5d4">are <em>bad</em></a>:</p>
<figure>
    <picture>
      
      <source srcset="https://3perf.com/static/c7e7dd1756462191f79441053ce9d5a7/0608e/cost-of-js.png 225w,
https://3perf.com/static/c7e7dd1756462191f79441053ce9d5a7/31401/cost-of-js.png 450w,
https://3perf.com/static/c7e7dd1756462191f79441053ce9d5a7/e7448/cost-of-js.png 900w,
https://3perf.com/static/c7e7dd1756462191f79441053ce9d5a7/9ac8b/cost-of-js.png 1350w,
https://3perf.com/static/c7e7dd1756462191f79441053ce9d5a7/28bdc/cost-of-js.png 1800w,
https://3perf.com/static/c7e7dd1756462191f79441053ce9d5a7/f97d7/cost-of-js.png 2000w" sizes="(max-width: 900px) 100vw, 900px">
      <img src="https://3perf.com/static/c7e7dd1756462191f79441053ce9d5a7/e7448/cost-of-js.png" alt="" width="900" height="424">
    </picture>
  </figure>
<p>For Notion, processing performance is even more significant. It‚Äôs easy to avoid networking costs by caching network resources in the app. But processing costs are paid <em>every single time</em> the app starts ‚Äì which means a phone user may see a 10-second splash screen multiple times a day.</p>
<p>On our test Nexus 5, executing <code>vendor</code> and <code>app</code> bundles takes 4.9 seconds. This whole time, the page ‚Äì and the app ‚Äì stay non-interactive and empty:</p>
<figure>
      <img src="https://3perf.com/static/7dc48c81c2034a8df43c79164c023198/4e22f/waterfall-nexus-js.png" alt="" width="900" height="366">
    </figure>
<p>What‚Äôs happening there? WebPageTest doesn‚Äôt record JS traces, but if we go to DevTools and run a local audit, we‚Äôll see this:</p>
<figure>
    <picture>
      
      <source srcset="https://3perf.com/static/1751d6c59e1e18a0a9de2334fd2d0b63/0608e/js-trace.png 225w,
https://3perf.com/static/1751d6c59e1e18a0a9de2334fd2d0b63/31401/js-trace.png 450w,
https://3perf.com/static/1751d6c59e1e18a0a9de2334fd2d0b63/e7448/js-trace.png 900w,
https://3perf.com/static/1751d6c59e1e18a0a9de2334fd2d0b63/9ac8b/js-trace.png 1350w,
https://3perf.com/static/1751d6c59e1e18a0a9de2334fd2d0b63/28bdc/js-trace.png 1800w,
https://3perf.com/static/1751d6c59e1e18a0a9de2334fd2d0b63/d6043/js-trace.png 2432w" sizes="(max-width: 900px) 100vw, 900px">
      <img src="https://3perf.com/static/1751d6c59e1e18a0a9de2334fd2d0b63/e7448/js-trace.png" alt="" width="900" height="558">
    </picture>
  </figure>
<p>First, the <code>vendor</code> bundle is being compiled (for 0.4s). Second, the <code>app</code> bundle is being compiled (for 1.2s). Third, both bundles start executing ‚Äì and spend 3.3s doing so.</p>
<p>So how can we reduce that time?</p>

<p>Let‚Äôs take a look at the bundle execution phase. What are all these functions?</p>
<figure>
    <picture>
      
      <source srcset="https://3perf.com/static/c59467702c58246f5c3cf04b4cd54843/0608e/js-trace-execution.png 225w,
https://3perf.com/static/c59467702c58246f5c3cf04b4cd54843/31401/js-trace-execution.png 450w,
https://3perf.com/static/c59467702c58246f5c3cf04b4cd54843/e7448/js-trace-execution.png 900w,
https://3perf.com/static/c59467702c58246f5c3cf04b4cd54843/9ac8b/js-trace-execution.png 1350w,
https://3perf.com/static/c59467702c58246f5c3cf04b4cd54843/28bdc/js-trace-execution.png 1800w,
https://3perf.com/static/c59467702c58246f5c3cf04b4cd54843/306a2/js-trace-execution.png 1895w" sizes="(max-width: 900px) 100vw, 900px">
      <img src="https://3perf.com/static/c59467702c58246f5c3cf04b4cd54843/e7448/js-trace-execution.png" alt="" width="900" height="594">
    </picture>
  </figure>
<p>Turns out that‚Äôs bundle initialization:</p>
<ul>
<li>
<p><em>Functions with four-character names</em>, like <code>bkwR</code> or <code>Cycz</code>, are application modules.</p>
<!-- prettier-ignore -->

<p>  |
| When webpack builds a bundle, it wraps each module with a function ‚Äì and assigns it an ID. That ID becomes the function name. In the bundle, this looks as follows:
|
| <em>Before:</em>
|
| <code>js
  | import formatDate from './formatDate.js';
  | 
  | // ...
  |</code>
|
| <em>After:</em>
|
| <code>js
  | fOpr: function(module, __webpack_exports__, __webpack_require__) {
  |   "use strict";
  |
  |   __webpack_require__.r(__webpack_exports__);
  |
  |   var _formatDate__WEBPACK_IMPORTED_MODULE_0__ =
  |     __webpack_require__("xN6P");
  |
  |   // ...
  | },
  |</code></p>
</li>
<li>
<p><em>And the <code>s</code> function</em> is actually <code>__webpack_require__</code>.</p>
<p><code>__webpack_require__</code> is the webpack‚Äôs internal function that it uses for requiring modules. Whenever you write an <code>import</code>, webpack transforms it to <code>__webpack_require__()</code>.</p>
</li>
</ul>
<p>Bundle initialization takes so much time because it executes all the modules. Each module may take just a few milliseconds to execute, but with Notion‚Äôs 1100+ modules, this adds up.</p>
<p>The only way to fix it is to execute fewer modules upfront.</p>
<h2 id="use-code-splitting"><a href="#use-code-splitting" aria-label="use code splitting permalink"></a>Use code splitting</h2>
<p>The best way to improve the startup time is to code-split away some features that‚Äôre not needed immediately. In webpack, this is done <a href="https://webpack.js.org/guides/code-splitting/">using <code>import()</code></a>:</p>
<div data-language="jsx"><pre><code>
<span><span><span>&lt;</span><span>Button</span></span> <span>onClick</span><span><span>=</span><span>{</span>openModal<span>}</span></span> <span>/&gt;</span></span>


<span><span><span>&lt;</span><span>Button</span></span>
  <span>onClick</span><span><span>=</span><span>{</span><span>(</span><span>)</span> <span>=&gt;</span> <span>import</span><span>(</span><span>'./Modal'</span><span>)</span><span>.</span><span>then</span><span>(</span><span>m</span> <span>=&gt;</span> m<span>.</span><span>openModal</span><span>(</span><span>)</span><span>)</span><span>}</span></span>
<span>/&gt;</span></span></code></pre></div>
<p><mark>Code splitting is the best first optimization you can do.</mark> It brings huge performance benefits: after doing code splitting, Tinder reported <a href="https://medium.com/@addyosmani/a-tinder-progressive-web-app-performance-case-study-78919d98ece0">a 60% decrease in the complete load time</a>; and our client, Framer, managed to <a href="https://3perf.com/#clients">cut 40-45% off the CPU Idle time</a>.</p>
<p>There are <a href="https://medium.com/js-dojo/3-code-splitting-patterns-for-vuejs-and-webpack-b8fff1ea0ba4">several common approaches to code splitting</a>:</p>
<ul>
<li>splitting the bundle by pages,</li>
<li>splitting away below-the-fold code,</li>
<li>and splitting away conditional content (any dynamic UIs that are not visible immediately)</li>
</ul>
<p>The Notion app doesn‚Äôt have pages, and code-splitting below-the-fold content is hard because pages are very dynamic. This means the only useful approach is code-splitting conditional content. The following parts may be good candidates for that:</p>
<ul>
<li><em>Settings</em>, <em>Import</em>, <em>Trash</em> ‚Äì all UIs that are rarely used</li>
<li><em>Sidebar</em>, <em>Share</em>, <em>Page options</em> ‚Äì all UIs that are frequently used but are not needed immediately when the app starts. Those could be preloaded and initialized right after the app starts</li>
<li><em>Heavy page blocks.</em> Some page blocks are quite heavy ‚Äì e.g. the <em>Code</em> block supports highlighting 68 languages, which bundles 120+ minified KBs of language definitions from Prism.js. Notion seems to be code-splitting some blocks already (e.g., <em>Math equation</em>), but it might make sense to extend it to others as well.</li>
</ul>
<h2 id="check-that-module-concatenation-is-working"><a href="#check-that-module-concatenation-is-working" aria-label="check that module concatenation is working permalink"></a>Check that module concatenation is working</h2>
<p>In webpack, the <a href="https://webpack.js.org/plugins/module-concatenation-plugin/">module concatenation</a> feature is responsible for merging multiple small ES modules into one large. This reduces the module processing overhead and makes removing unused code more effective.</p>
<p>To confirm that module concatenation is working:</p>
<ul>
<li>check that you‚Äôre not transpiling ES modules to CommonJS with Babel. <a href="https://babeljs.io/docs/en/babel-preset-env"><code>@babel/preset-env</code></a> doesn‚Äôt transpile ES modules into CommonJS</li>
<li>check that <a href="https://webpack.js.org/configuration/optimization/#optimizationconcatenatemodules"><code>optimization.concatenateModules</code></a> is not disabled explicitly</li>
<li>run the production webpack build with <a href="https://webpack.js.org/plugins/module-concatenation-plugin/#debugging-optimization-bailouts"><code>--display-optimization-bailout</code></a> to see if there are any cases where module concatenation bails out</li>
</ul>
<blockquote><div><p><strong>Fun fact.</strong> Remember that all imports are transformed into the <code>__webpack_require__</code> function?</p><p>Well, what happens when the same function is called 1100 times throughout initialization? Right, it becomes a hot path taking 26.8% of the total time:</p><figure>
    <picture>
      
      <source srcset="https://3perf.com/static/befda82857003648779614db0961125d/0608e/hot-path.png 225w,
https://3perf.com/static/befda82857003648779614db0961125d/31401/hot-path.png 450w,
https://3perf.com/static/befda82857003648779614db0961125d/713f0/hot-path.png 887w" sizes="(max-width: 887px) 100vw, 887px">
      <img src="https://3perf.com/static/befda82857003648779614db0961125d/713f0/hot-path.png" alt="" width="887" height="202">
    </picture>
  </figure><p>(<code>s</code> is the minified name of <code>__webpack_require__</code>.)</p><p>Unfortunately, apart from concatenating more modules, <a href="https://github.com/webpack/webpack/issues/2219">there‚Äôs not much to optimize there</a>.</p></div></blockquote>
<h2 id="try-the-lazy-option-of-babels-plugin-transform-modules-commonjs"><a href="#try-the-lazy-option-of-babels-plugin-transform-modules-commonjs" aria-label="try the lazy option of babels plugin transform modules commonjs permalink"></a>Try the <code>lazy</code> option of Babel‚Äôs <code>plugin-transform-modules-commonjs</code></h2>
<blockquote><p><strong>Note:</strong> this suggestion relies on disabling module concatenation. Because of that, it‚Äôs incompatible with the previous one.</p></blockquote>
<p><a href="https://babeljs.io/docs/en/babel-plugin-transform-modules-commonjs#lazy"><code>@babel/plugin-transform-modules-commonjs</code></a> is an official Babel plugin that transforms ES imports into CommonJS <code>require()</code>s:</p>
<div data-language="js"><pre><code>
<span>import</span> formatDate <span>from</span> <span>'./formatDate.js'</span><span>;</span>
<span>export</span> <span>function</span> <span>getToday</span><span>(</span><span>)</span> <span>{</span>
  <span>return</span> <span>formatDate</span><span>(</span><span>new</span> <span>Date</span><span>(</span><span>)</span><span>)</span><span>;</span>
<span>}</span>


<span>const</span> formatDate <span>=</span> <span>require</span><span>(</span><span>'./formatDate.js'</span><span>)</span><span>;</span>
exports<span>.</span><span>getToday</span> <span>=</span> <span>function</span> <span>getToday</span><span>(</span><span>)</span> <span>{</span>
  <span>return</span> <span>formatDate</span><span>(</span><span>new</span> <span>Date</span><span>(</span><span>)</span><span>)</span><span>;</span>
<span>}</span><span>;</span></code></pre></div>
<p>And with its <code>lazy</code> option enabled, it also inlines all <code>require</code>s right into where they‚Äôre used:</p>
<div data-language="js"><pre><code>
exports<span>.</span><span>getToday</span> <span>=</span> <span>function</span> <span>getToday</span><span>(</span><span>)</span> <span>{</span>
  <span>return</span> <span>require</span><span>(</span><span>'./formatDate.js'</span><span>)</span><span>(</span><span>new</span> <span>Date</span><span>(</span><span>)</span><span>)</span><span>;</span>
<span>}</span><span>;</span></code></pre></div>
<p>Thanks to this transformation, if the <code>getToday()</code> function is never called, <code>./formatDate.js</code> is never imported! And we don‚Äôt pay the import cost.</p>
<p>There are a few drawbacks, however:</p>
<ul>
<li>Switching the existing codebase to <code>lazy</code> might be tricky. Some modules may rely on side effects from other modules, which we‚Äôre delaying here. Also, <a href="https://babeljs.io/docs/en/babel-plugin-transform-modules-commonjs#lazy">the plugin docs</a> warn that the <code>lazy</code> option breaks cyclic dependencies</li>
<li>

</li>
<li>Switching to CommonJS modules disables <a href="https://webpack.js.org/plugins/module-concatenation-plugin/">module concatenation</a>. This means the module processing overhead will be higher</li>
</ul>
<p>These drawbacks make this option riskier compared to others ‚Äì but if it plays right, its benefits might far outweigh its costs.</p>
<blockquote><div><p><strong id="note-coverage">How many modules could be deferred like this?</strong> Chrome DevTools let us find an easy answer. Open any JS-heavy page (e.g. <a href="https://www.notion.so/iamakulov/Job-Board-f96cfe500e7d47108f44e0b6102e7c01">the Notion one</a>), go to DevTools, press <kbd>Ctrl+Shift+P</kbd> (Windows) or <kbd>‚åò‚áßP</kbd> (macOS), type in ‚Äústart coverage‚Äù, and press Enter. The page will reload, and you‚Äôll see how much code was executed in the initial render.</p><p>In Notion, 39% of the vendor bundle and 61% of the app bundle are unused after the page renders:</p><figure>
    <picture>
      
      <source srcset="https://3perf.com/static/7aed4a03203dae92b7f153801229ff8d/0608e/coverage.png 225w,
https://3perf.com/static/7aed4a03203dae92b7f153801229ff8d/31401/coverage.png 450w,
https://3perf.com/static/7aed4a03203dae92b7f153801229ff8d/e7448/coverage.png 900w,
https://3perf.com/static/7aed4a03203dae92b7f153801229ff8d/9ac8b/coverage.png 1350w,
https://3perf.com/static/7aed4a03203dae92b7f153801229ff8d/28bdc/coverage.png 1800w,
https://3perf.com/static/7aed4a03203dae92b7f153801229ff8d/917f8/coverage.png 1842w" sizes="(max-width: 900px) 100vw, 900px">
      <img src="https://3perf.com/static/7aed4a03203dae92b7f153801229ff8d/e7448/coverage.png" alt="" width="900" height="513">
    </picture>
  </figure></div></blockquote>

<p>Let‚Äôs take a look at the bundle ‚Ä¶</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://3perf.com/blog/notion/">https://3perf.com/blog/notion/</a></em></p>]]>
            </description>
            <link>https://3perf.com/blog/notion/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26152295</guid>
            <pubDate>Tue, 16 Feb 2021 09:18:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Python Concurrency: The Tricky Bits]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26152188">thread link</a>) | @tosh
<br/>
February 16, 2021 | https://python.hamel.dev/concurrency/ | <a href="https://web.archive.org/web/*/https://python.hamel.dev/concurrency/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <p><strong>An exploration of threads, processes, and coroutines in Python, with interesting examples that illuminate the differences between each.</strong></p>
<p><img src="https://python.hamel.dev/cpu.jpg" alt=""> Credit:<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup></p>

<p>As <a href="https://hamel.dev/">a data scientist who is spending more time on software engineering</a>, I was recently forced to confront an ugly gap in my knowledge of Python: concurrency.  To be honest, I never completely understood how the terms async, threads, pools and coroutines were different and how these mechanisms could work together.  Every time I tried to learn about the subject, the examples were a bit too abstract for me, and I hard time internalizing how everything worked.</p>
<p>This changed when a friend of mine<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup> recommended <a href="https://youtu.be/MCs5OvhV9S4">a live coding talk</a> by <a href="https://www.dabeaz.com/">David Beazley</a>, an accomplished Python educator.</p>
<p><em>Because of restrictions with this YouTube video, I couldn‚Äôt embed <a href="https://youtu.be/MCs5OvhV9S4">the video</a> in this article, so you will have to open it in a different window</em>.</p>
<p>This talk is incredibly intimidating at first.  Not only is it coded live from scratch, but it also jumps immediately into socket programming, something that I had never encountered as a data scientist.  However, if you go through it slowly and understand all the components (as we do in this blog post) it turns out to be the best educational material on Python concurrency I have ever encountered.  This blog post documents what I learned along the way so others can benefit, too.</p>

<p>Before getting started, David sets up the following infrastructure that is used to demonstrate concurrency.</p>
<h2 id="a-cpu-bound-task-fibonacci">A cpu-bound task: Fibonacci</h2>
<p>To demonstrate concurrency, it is useful to create a task that can saturate your CPU (such as mathematical operations) for a noticeable period of time.  David uses a function that computes a <a href="https://en.wikipedia.org/wiki/Fibonacci_number">Fibonacci number</a>.</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span>1
</span><span>2
</span><span>3
</span><span>4
</span></code></pre></td>
<td>
<pre><code data-lang="py3"><span>#fib.py</span>
<span>def</span> <span>fib</span><span>(</span><span>n</span><span>):</span>
    <span>if</span> <span>n</span> <span>&lt;=</span> <span>2</span><span>:</span> <span>return</span> <span>1</span>
    <span>else</span><span>:</span> <span>return</span> <span>fib</span><span>(</span><span>n</span><span>-</span><span>1</span><span>)</span> <span>+</span> <span>fib</span><span>(</span><span>n</span><span>-</span><span>2</span><span>)</span>
</code></pre></td></tr></tbody></table>
</div>
</div><p>This function takes much longer for large inputs versus smaller inputs<sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup>, which allows us to profile different workloads.</p>
<h2 id="a-simple-web-server">A Simple Web Server</h2>
<p>A web server is one of the best ways to illustrate different types of concurrency.  However, to really demonstrate how things work it is useful to use something that is sufficiently low level enough to see how all the pieces work.  For this, David sets up a web server using socket programming.  If you aren‚Äôt familiar with socket programming, I‚Äôll explain the important bits below, but feel free to dive deeper <a href="https://ruslanspivak.com/lsbaws-part1/">with this tutorial</a> later if you like.</p>
<p>To begin with, David starts with the below code (I‚Äôve highlighted the most interesting bits):</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span><span>11
</span></span><span>12
</span><span><span>13
</span></span><span>14
</span><span>15
</span><span>16
</span><span><span>17
</span></span><span>18
</span><span>19
</span><span>20
</span><span><span>21
</span></span><span>22
</span><span>23
</span><span>24
</span></code></pre></td>
<td>
<pre><code data-lang="python3"><span># server-1.py</span>
<span>from</span> <span>socket</span> <span>import</span> <span>*</span>
<span>from</span> <span>fib</span> <span>import</span> <span>fib</span> 

<span>def</span> <span>fib_server</span><span>(</span><span>address</span><span>):</span>
    <span>sock</span> <span>=</span> <span>socket</span><span>(</span><span>AF_INET</span><span>,</span> <span>SOCK_STREAM</span><span>)</span>
    <span>sock</span><span>.</span><span>setsockopt</span><span>(</span><span>SOL_SOCKET</span><span>,</span> <span>SO_REUSEADDR</span><span>,</span><span>1</span><span>)</span>
    <span>sock</span><span>.</span><span>bind</span><span>(</span><span>address</span><span>)</span>
    <span>sock</span><span>.</span><span>listen</span><span>(</span><span>5</span><span>)</span>
    <span>while</span> <span>True</span><span>:</span>
<span>        <span>client</span><span>,</span><span>addr</span> <span>=</span> <span>sock</span><span>.</span><span>accept</span><span>()</span>  <span># waits for a connection to be established</span>
</span>        <span>print</span><span>(</span><span>"Connection"</span><span>,</span> <span>addr</span><span>)</span>
<span>        <span>fib_handler</span><span>(</span><span>client</span><span>)</span> <span># passes the client to a handler which will listen for input data.</span>
</span>        
<span>def</span> <span>fib_handler</span><span>(</span><span>client</span><span>):</span>
    <span>while</span> <span>True</span><span>:</span>
<span>        <span>req</span> <span>=</span> <span>client</span><span>.</span><span>recv</span><span>(</span><span>100</span><span>)</span>  <span># waits for data that sent by the client.</span>
</span>        <span>if</span> <span>not</span> <span>req</span><span>:</span> <span>break</span>
        <span>result</span> <span>=</span> <span>fib</span><span>(</span><span>int</span><span>(</span><span>req</span><span>))</span>
        <span>resp</span> <span>=</span> <span>str</span><span>(</span><span>result</span><span>)</span><span>.</span><span>encode</span><span>(</span><span>'ascii'</span><span>)</span> <span>+</span> <span>b</span><span>'</span><span>\n</span><span>'</span>
<span>        <span>client</span><span>.</span><span>send</span><span>(</span><span>resp</span><span>)</span> <span># sends data back to the client.</span>
</span>    <span>print</span><span>(</span><span>"Closed"</span><span>)</span>
    
<span>fib_server</span><span>((</span><span>''</span><span>,</span> <span>25000</span><span>))</span>
</code></pre></td></tr></tbody></table>
</div>
</div><p>Here is an explanation of this code:</p>
<ul>
<li>Lines 6-9 are socket programming boilerplate.  It‚Äôs ok to just take this for granted as a reasonable way to set up a socket server.  This also matches the <a href="https://ruslanspivak.com/lsbaws-part1/">the tutorial</a> I linked to above.</li>
<li>Line 11 waits for an incoming connection from a client.  Once a connection is made, the server can begin receiving data from a client.  The code will stop execution on this line until a connection is made.</li>
<li>Line 13: Once a connection is established, the client object is passed to a function which can handle data sent by the client.</li>
<li>Line 17: waits for data to be sent by the client.  The code will stop execution on this line until data is received from the client.</li>
<li>Line 21: The server sends a response back to the client.  The code <em>could</em> stop execution on this line if the send buffers are full, but unlikely in this toy example.</li>
</ul>

<p>In the above example, the server will only be able to accept a connection from a single client, because the call to <code>fib_handler</code> will never return (because it will run in an infinite loop unless a kill signal is received).  This means that <code>sock.accept()</code> can only be called once.</p>
<p>You can test this out by first running the server:</p>
<p>Then establish a client:</p>
<p>You can type numbers in <a href="https://youtu.be/MCs5OvhV9S4?t=293">as David does in his video</a> and verifies that fibonacci numbers are returned.  However, if you try to connect with another client at the same time from a different terminal session:</p>
<p>You will notice that the second client just hangs and doesn‚Äôt return anything from the server.  This is because the server is only able to accept a single connection.  Next, we explore how to tackle this issue.</p>

<p>We can solve this issue with threads.  You can add threads to the handler so that more connections can be accepted with the following code highlighted in yellow:</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span><span> 3
</span></span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span><span>13
</span></span><span>14
</span><span>15
</span><span>16
</span><span>17
</span><span>18
</span><span>19
</span><span>20
</span><span>21
</span><span>22
</span><span>23
</span><span>24
</span></code></pre></td>
<td>
<pre><code data-lang="py3"><span>from</span> <span>socket</span> <span>import</span> <span>*</span>
<span>from</span> <span>fib</span> <span>import</span> <span>fib</span>
<span><span>from</span> <span>threading</span> <span>import</span> <span>Thread</span>
</span>
<span>def</span> <span>fib_server</span><span>(</span><span>address</span><span>):</span>
    <span>sock</span> <span>=</span> <span>socket</span><span>(</span><span>AF_INET</span><span>,</span> <span>SOCK_STREAM</span><span>)</span>
    <span>sock</span><span>.</span><span>setsockopt</span><span>(</span><span>SOL_SOCKET</span><span>,</span> <span>SO_REUSEADDR</span><span>,</span><span>1</span><span>)</span>
    <span>sock</span><span>.</span><span>bind</span><span>(</span><span>address</span><span>)</span>
    <span>sock</span><span>.</span><span>listen</span><span>(</span><span>5</span><span>)</span>
    <span>while</span> <span>True</span><span>:</span>
        <span>client</span><span>,</span><span>addr</span> <span>=</span> <span>sock</span><span>.</span><span>accept</span><span>()</span>
        <span>print</span><span>(</span><span>"Connection"</span><span>,</span> <span>addr</span><span>)</span>
<span>        <span>Thread</span><span>(</span><span>target</span><span>=</span><span>fib_handler</span><span>,</span> <span>args</span><span>=</span><span>(</span><span>client</span><span>,))</span><span>.</span><span>start</span><span>()</span>
</span>        
<span>def</span> <span>fib_handler</span><span>(</span><span>client</span><span>):</span>
    <span>while</span> <span>True</span><span>:</span>
        <span>req</span> <span>=</span> <span>client</span><span>.</span><span>recv</span><span>(</span><span>100</span><span>)</span> 
        <span>if</span> <span>not</span> <span>req</span><span>:</span> <span>break</span>
        <span>result</span> <span>=</span> <span>fib</span><span>(</span><span>int</span><span>(</span><span>req</span><span>))</span>
        <span>resp</span> <span>=</span> <span>str</span><span>(</span><span>result</span><span>)</span><span>.</span><span>encode</span><span>(</span><span>'ascii'</span><span>)</span> <span>+</span> <span>b</span><span>'</span><span>\n</span><span>'</span>
        <span>client</span><span>.</span><span>send</span><span>(</span><span>resp</span><span>)</span>
    <span>print</span><span>(</span><span>"Closed"</span><span>)</span>
    
<span>fib_server</span><span>((</span><span>''</span><span>,</span> <span>25000</span><span>))</span>
</code></pre></td></tr></tbody></table>
</div>
</div><p>You can verify that this works by connecting two separate clients to the server by running the following command in two separate terminal windows:</p>
<p>By executing the <code>fib_handler</code> in a thread, the main while loop in <code>fib_server</code> will continue, allowing <code>sock.accept()</code> to receive additional clients.  If you haven‚Äôt encountered threads before <a href="https://realpython.com/intro-to-python-threading/">this tutorial</a> provides a good introduction to the topic.</p>
<h2 id="thread-performance--the-gil">Thread performance &amp; the GIL</h2>
<p>When code stops execution and waits for an external event to occur (like a connection to be made, or data to be sent), this is often referred to as <a href="https://stackoverflow.com/questions/2407589/what-does-the-term-blocking-mean-in-programming">blocking</a>.</p>
<p>One important utility of threads is that it allows blocking tasks to release control of the CPU when the CPU is not being used.  However, the Python interpreter can only run on one thread at a time due to the <a href="https://wiki.python.org/moin/GlobalInterpreterLock">Global Interpreter Lock</a>.  Because Python can only run a single thread at any given time, any CPU-bound work in threads must take turn running one after the other.</p>
<p>Therefore, you have to think carefully about what kind of tasks you execute in threads with Python.  If you try to execute CPU bound tasks, these tasks will slow each other down.  David demonstrates this with the below script that sends requests to our threaded server:</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span></code></pre></td>
<td>
<pre><code data-lang="py"><span>#perf1.py</span>
<span>from</span> <span>socket</span> <span>import</span> <span>*</span>
<span>import</span> <span>time</span>

<span>sock</span> <span>=</span> <span>socket</span><span>(</span><span>AF_INET</span><span>,</span> <span>SOCK_STREAM</span><span>)</span>
<span>sock</span><span>.</span><span>connect</span><span>((</span><span>'localhost'</span><span>,</span> <span>25000</span><span>))</span>

<span>while</span> <span>True</span><span>:</span>
    <span>start</span> <span>=</span> <span>time</span><span>.</span><span>time</span><span>()</span>
    <span>sock</span><span>.</span><span>send</span><span>(</span><span>b</span><span>'30'</span><span>)</span>
    <span>resp</span> <span>=</span> <span>sock</span><span>.</span><span>recv</span><span>(</span><span>100</span><span>)</span>
    <span>end</span> <span>=</span> <span>time</span><span>.</span><span>time</span><span>()</span>
    <span>print</span><span>(</span><span>end</span><span>-</span><span>start</span><span>)</span>
</code></pre></td></tr></tbody></table>
</div>
</div><p>If you run several instances of this script (after starting the server first):</p>
<p>You will see the execution times for each script linearly increase as you increase the number of these scripts running in parallel.  <strong>For this particular task, adding threads does not make anything faster.  But why?</strong>  This is because the fibonacci task is CPU bound so threads will compete with each other for resources.</p>
<p>Python threads work by interleaving the execution of different tasks on your CPU.<sup id="fnref:4"><a href="#fn:4" role="doc-noteref">4</a></sup>  Only one thread runs at a time, and have the ability to take turns executing in small bits until all threads are done.  The details of how thread processing is interleaved is carried out by the GIL and your operating system, so you need not worry about this detail (with one exception mentioned below).  Interleaving a bunch of CPU bound tasks will not speed up the total runtime of those tasks.  However, if your tasks involve lots of non-CPU time, such as waiting for network connections, or disk I/O, threading tasks may result in a considerable speedup.  A canonical way of simulating a non-cpu bound task in python is to use the built-in function <code>time.sleep()</code>.</p>
<p>To check my understanding about threads and performance, I ran the below experiment<sup id="fnref:5"><a href="#fn:5" role="doc-noteref">5</a></sup> and changed <code>time.sleep(2)</code> to <code>fib(20)</code> and back again:</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span><span> 4
</span></span><span> 5
</span><span> 6
</span><span> 7
</span><span><span> 8
</span></span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span>17
</span><span>18
</span><span>19
</span><span>20
</span><span>21
</span><span>22
</span><span>23
</span><span>24
</span><span>25
</span><span>26
</span><span>27
</span><span>28
</span><span>29
</span></code></pre></td>
<td>
<pre><code data-lang="py"><span>import</span> <span>logging</span>
<span>import</span> <span>threading</span>
<span>import</span> <span>time</span>
<span><span>import</span> <span>fib</span>
</span>
<span>def</span> <span>thread_function</span><span>(</span><span>name</span><span>):</span>
    <span>logging</span><span>.</span><span>info</span><span>(</span><span>"Thread </span><span>%s</span><span>: starting"</span><span>,</span> <span>name</span><span>)</span>
<span>    <span>time</span><span>.</span><span>sleep</span><span>(</span><span>2</span><span>)</span>  <span>## Change this line of code to fib(20)</span>
</span>    <span>logging</span><span>.</span><span>info</span><span>(</span><span>"Thread </span><span>%s</span><span>: finishing"</span><span>,</span> <span>name</span><span>)</span>

<span>if</span> <span>__name__</span> <span>==</span> <span>"__main__"</span><span>:</span>
    <span>format</span> <span>=</span> <span>"</span><span>%(asctime)s</span><span>: </span><span>%(message)s</span><span>"</span>
    <span>start</span> <span>=</span> <span>time</span><span>.</span><span>time</span><span>()</span>
    <span>logging</span><span>.</span><span>basicConfig</span><span>(</span><span>format</span><span>=</span><span>format</span><span>,</span> <span>level</span><span>=</span><span>logging</span><span>.</span><span>INFO</span><span>,</span>
                        <span>datefmt</span><span>=</span><span>"%H:%M:%S"</span><span>)</span>

    <span>threads</span> <span>=</span> <span>list</span><span>()</span>
    <span>for</span> <span>index</span> <span>in</span> <span>range</span><span>(</span><span>3</span><span>):</span>
        <span>logging</span><span>.</span><span>info</span><span>(</span><span>"Main    : create and start thread </span><span>%d</span><span>."</span><span>,</span> <span>index</span><span>)</span>
        <span>x</span> <span>=</span> <span>threading</span><span>.</span><span>Thread</span><span>(</span><span>target</span><span>=</span><span>thread_function</span><span>,</span> <span>args</span><span>=</span><span>(</span><span>index</span><span>,))</span>
        <span>threads</span><span>.</span><span>append</span><span>(</span><span>x</span><span>)</span>
        <span>x</span><span>.</span><span>start</span><span>()</span>

    <span>for</span> <span>index</span><span>,</span> <span>thread</span> <span>in</span> <span>enumerate</span><span>(</span><span>threads</span><span>):</span>
        <span>logging</span><span>.</span><span>info</span><span>(</span><span>"Main    : before joining thread </span><span>%d</span><span>."</span><span>,</span> <span>index</span><span>)</span>
        <span>thread</span><span>.</span><span>join</span><span>()</span>
        <span>logging</span><span>.</span><span>info</span><span>(</span><span>"Main    : thread </span><span>%d</span><span> done"</span><span>,</span> <span>index</span><span>)</span>
    <span>end</span> <span>=</span> <span>time</span><span>.</span><span>time</span><span>()</span>
    <span>print</span><span>(</span><span>f</span><span>'total time: {end-start}'</span><span>)</span>
</code></pre></td></tr></tbody></table>
</div>
</div><p>As expected, increasing the number of threads while running <code>time.sleep(2)</code> did not increase the program‚Äôs overall execution time (the program runs in roughly 2 seconds).  On the other hand, replacing <code>time.sleep(2)</code> with <code>fib(20)</code> causes this program‚Äôs running time to increase as more threads are added. This is because <code>fib(20)</code> is a cpu bound task so interleaving the ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://python.hamel.dev/concurrency/">https://python.hamel.dev/concurrency/</a></em></p>]]>
            </description>
            <link>https://python.hamel.dev/concurrency/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26152188</guid>
            <pubDate>Tue, 16 Feb 2021 09:00:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[ADT Insider Threat]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26152123">thread link</a>) | @rbanffy
<br/>
February 16, 2021 | https://pluralistic.net/2021/02/15/ulysses-pacts/#temptations-way | <a href="https://web.archive.org/web/*/https://pluralistic.net/2021/02/15/ulysses-pacts/#temptations-way">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1881">
	<!-- .entry-header -->

	
	
	<div>
		<p><!--
Tags:
canary, insider threats, cameras, ulysses pacts, moral hazards, billionaires, vr, motivated reasoning, podcasts, spoken word, eff, interoperability, interop, interoperability, eff, competitive compatibility, comcom, bennett cyphers

Summary:
ADT insider threat; Billionaires think VR stops guillotines; Privacy Without Monopoly

URL:
https://pluralistic.net/2021/02/15/ulysses-pacts/

Title:
Pluralistic: 15 Feb 2021 ulysses-pacts

Bullet:
ü§•

Separator:
_,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,_

Top Sources:
Today's top sources: Bruce Schneier (https://schneier.com/), Naked Capitalism (https://nakedcapitalism.com/).

--><br>
<a href="https://pluralistic.net/2021/02/15/ulysses-pacts/"><img src="https://i2.wp.com/craphound.com/images/15Feb2021.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/craphound.com/images/15Feb2021.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></a></p>

<ul>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/02/15/ulysses-pacts/#temptations-way">ADT insider threat</a>: If you build it they will spy.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/02/15/ulysses-pacts/#motivated-reasoning">Billionaires think VR stops guillotines</a>: TARP with tasps.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/02/15/ulysses-pacts/#paternalism-denied">Privacy Without Monopoly</a>: Podcasting a reading of the latest EFF whitepaper.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/02/15/ulysses-pacts/#retro">This day in history</a>: 2006, 2011
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/02/15/ulysses-pacts/#bragsheet">Colophon</a>: Recent publications, upcoming/recent appearances, current writing projects, current reading
</li>
</ul>

<hr>
<p><a name="temptations-way"></a><br>
<img src="https://i1.wp.com/craphound.com/images/ulyssespact.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/ulyssespact.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>Self-control isn't merely a matter of eliminating your own weaknesses. Self control is primarily about compensating for those weaknesses. When you go on a diet, you don't just commit yourself to eating well ‚Äì you also throw away the Oreos so you won't be tempted.</p>
<p>This manoeuvre has a name: a Ulysses Pact, named for the passage in the Odyssey in which Ulysses pilots his ship through the sirens' sea, eschewing wax-stoppered ears so that he could hear their song, protecting himself by lashing himself to the mast.</p>
<p>Ulysses knew he would face a moment of weakness in the future, so he used his strength in the moment to guard against his future self.</p>
<p>Tech was built on a Ulysses Pact: the irrevocable free software license: once a hacker applies the GPL, they can't unchoose it.</p>
<p>No pressure from investors, not even the risk of bankruptcy or physical coercion can remove a free software license once it has been applied.</p>
<p>A Ulysses Pact is an act of humility, an admission of frailty. Alas, humility is in short supply in tech (the GPL is an exception).</p>
<p>Far more common is to build systems that can be abused, and assume that you ‚Äì and your successors, collaborators, and underlings ‚Äì will never yield to temptation.</p>
<p>Think of when the W3C incorporated DRM into browser standards, sure that none of its members would use this to exclude future rivals, only to be proven wrong a mere three years later, when Google blocked all free/open entrants into the field.</p>
<p><a href="https://memex.craphound.com/2020/01/08/three-years-after-the-w3c-approved-a-drm-standard-its-no-longer-possible-to-make-a-functional-indie-browser/">https://memex.craphound.com/2020/01/08/three-years-after-the-w3c-approved-a-drm-standard-its-no-longer-possible-to-make-a-functional-indie-browser/</a></p>
<p>Or when Apple arrogated to itself the power to decide which software you can run on your phones and tablets, only to have the Chinese state order it to block working privacy tools to facilitate a system of violent, totalitarian control.</p>
<p><a href="https://locusmag.com/2021/01/cory-doctorow-neofeudalism-and-the-digital-manor/">https://locusmag.com/2021/01/cory-doctorow-neofeudalism-and-the-digital-manor/</a></p>
<p>As Pavel Chekov counselled us all those years ago on the Desliu lot, a phaser on the bulkhead in act one will go off by act three.</p>
<p>Back in 2015, we bought ‚Äì and then returned ‚Äì a Canary security camera. We'd just immigrated to the US and were feeling a little nervous.</p>
<p>I was suspicious of this gadget. Though I wasn't technically capable of auditing its software, I WAS able to read its privacy policy, in which they promised not to share footage from your home unless ordered to do so.</p>
<p><a href="https://arstechnica.com/gadgets/2016/09/canary-debuts-flex-cam-suited-for-your-living-room-and-your-lawn/?comments=1&amp;amp;post=31916515">https://arstechnica.com/gadgets/2016/09/canary-debuts-flex-cam-suited-for-your-living-room-and-your-lawn/?comments=1&amp;amp;post=31916515</a></p>
<p>I suspected that meant that Canary didn't employ end-to-end encryption, meaning that company insiders could peek at that footage, and the only thing preventing such peeking was policy and integrity, not that such a thing was impossible.</p>
<p>I wrote to the company and they confirmed that this was so, explaining that having access to cleartext video streams helped them use ML models that could distinguish between intruders and pets, and promising that they carefully vetted people with access to the footage.</p>
<p>So far as I know, Canary hasn't had such a breach‚Ä¶yet. But ADT ‚Äì an industry leader whose major investor is Google ‚Äì did. An ADT technician named Telesforo Aviles admitted to spying on at least 200 ADT customers.</p>
<p><a href="https://gizmodo.com/a-home-security-worker-hacked-into-surveillance-systems-1846111569">https://gizmodo.com/a-home-security-worker-hacked-into-surveillance-systems-1846111569</a></p>
<p>Aviles wanted to spy on attractive women in order to see them in naked and having sex. ADT's system was designed to allow this; the primary means by which it was prevented was vetting staff ‚Äì a process that is obviously too imperfect to trust in a high-stakes environment.</p>
<p>When ADT discovered this was happening, they tried to cover it up, offering laughable cash payments to survivors of Aviles's spying in exchange for confidentiality.</p>
<p><a href="https://nypost.com/2020/05/19/adt-worker-accused-of-using-app-to-spy-on-people-for-7-years/">https://nypost.com/2020/05/19/adt-worker-accused-of-using-app-to-spy-on-people-for-7-years/</a></p>
<p>Doubtless certain technical aspects of the administration of ADT's security system were made simpler by choosing to create a system that was vulnerable to insider attacks. But by making this tradeoff, ADT demonstrated its unfitness to be in this market.</p>
<p>Maturity, after all, isn't about resisting temptation ‚Äì it's about recognizing your own fallibility and taking measures to limit it. Exposing millions of customers to insider attacks on the obviously false belief that you will never hire the wrong person is unforgivable.</p>
<hr>
<p><a name="motivated-reasoning"></a><br>
<img src="https://i0.wp.com/craphound.com/images/vrshellgame.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/vrshellgame.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>The pandemic has afforded all of us a refresher course on the five stages of grief, a theoretical and controversial framework for describing how people cope with tragedy: denial, anger, bargaining, depression and acceptance.</p>
<p><a href="https://en.wikipedia.org/wiki/Five_stages_of_grief">https://en.wikipedia.org/wiki/Five_stages_of_grief</a></p>
<p>A far slower-moving unfolding of these stages can be seen in the reactions of the super-wealthy to the breakdown in neoliberal orthodoxy, the tale that says that inequality results from meritocracy, and makes us all better off:</p>
<p><a href="https://pluralistic.net/2021/02/13/data-protection-without-monopoly/#inequality">https://pluralistic.net/2021/02/13/data-protection-without-monopoly/#inequality</a></p>
<p>Denial came out in the "rationalist" view: the world is better off than ever ‚Äì richer, less violent, healthier, and any discontent you feel with your plummeting fortunes and the contracting possibilities for your kids is just your tunnel vision. Lack of perspective.</p>
<p>But the Great Financial Crisis and Occupy triggered the anger of the elites: violent suppression of protests, the "Doom Boom" in new luxury bunkers, Howard Schultz's insistence that "billionaire" is a slur (he says we should call him a "person of wealth").</p>
<p>The pandemic ‚Äì and the "K-shaped recovery"- has revealed the existential threat inequality poses for our species, between price-gouging, fraud, profiteering, flouting health directives, and coercing the poor and vulnerable into risking their lives to keep the economy afloat.</p>
<p>A palpable desperation has set in among the ultra-wealthy, and with it, bargaining. VR execs and their major investors have begun to quietly assert that it will stabilize our unequal society by anaesthetizing the have-nots with virtual wealth.</p>
<p><a href="https://www.wired.com/story/billionaires-use-vr-avoid-social-change/">https://www.wired.com/story/billionaires-use-vr-avoid-social-change/</a></p>
<p>John Carmack: "Not everyone can have a mansion. Not everyone can have a home theater. These are things we can simulate, to some degree, in virtual reality."</p>
<p>Gabe Newell: "The real world will seem flat, colorless, blurry compared to the experiences you'll be able to create in people's brains"</p>
<p>None of this will work. VR as opiate for the masses is a great Ernie Cline plot, but it's lousy social policy. After all, providing the desperate victims of the Great Financial Crisis unlimited access to Oxycontin and Fentanyl did not stabilize our society.</p>
<p>As Matthew Gault writes in Wired: "If you want a picture of the future, imagine a Facebook-branded set of VR goggles strapped to an emaciated human face‚Äîforever."</p>
<p>(<i>Image: <a href="https://commons.wikimedia.org/wiki/File:Human_brain_in_a_vat.jpg">Gaetan Lee</a>, <a href="https://creativecommons.org/licenses/by/2.0/deed.en">CC BY</a>, modified</i>)</p>
<hr>
<p><a name="paternalism-denied"></a><br>
<img src="https://i0.wp.com/craphound.com/images/interoperable_plum.png?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/interoperable_plum.png?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>This week on my podcast, a spoken-word version of "Privacy Without Monopoly: Data Protection and Interoperability," a major new white-paper that Bennett Cyphers and I co-authored for EFF.</p>
<p><a href="https://craphound.com/news/2021/02/15/privacy-without-monopoly-data-protection-and-interoperability-part-1/">https://craphound.com/news/2021/02/15/privacy-without-monopoly-data-protection-and-interoperability-part-1/</a></p>
<p>It‚Äôs a paper that tries to resolve the tension between demanding that tech platforms gather, retain and mine less of our data, and the demand that platforms allow alternatives (nonprofits, co-ops, tinkerers, startups) to connect with their services.</p>
<p>I read the first half of it this week ‚Äì about 40 minutes' worth ‚Äì and I'll finish it next week. If you don't want to wait, you can dive in with the written version straightaway:</p>
<p><a href="https://www.eff.org/wp/interoperability-and-privacy">https://www.eff.org/wp/interoperability-and-privacy</a></p>
<p>You can subscribe to my podcast feed here:</p>
<p><a href="https://feeds.feedburner.com/doctorow_podcast">https://feeds.feedburner.com/doctorow_podcast</a></p>
<p>Here's a direct link to the MP3 (hosting courtesy of the Internet Archive; they'll host your stuff for free, forever, too!):</p>
<p><a href="https://archive.org/download/Cory_Doctorow_Podcast_378/Cory_Doctorow_Podcast_378_-_Privacy_Without_Monopoly_01.mp3">https://archive.org/download/Cory_Doctorow_Podcast_378/Cory_Doctorow_Podcast_378_-_Privacy_Without_Monopoly_01.mp3</a></p>
<hr>
<p><a name="retro"></a><br>
<img src="https://i0.wp.com/craphound.com/images/wayback-machine-hed-796x416.png?resize=796%2C416&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/wayback-machine-hed-796x416.png?resize=796%2C416&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>#15yrsago RIAA: CD ripping isn‚Äôt fair use <a href="https://web.archive.org/web/20060216233008/https://www.eff.org/deeplinks/archives/004409.php">https://web.archive.org/web/20060216233008/https://www.eff.org/deeplinks/archives/004409.php</a></p>
<p>#10yrsago ‚ÄúPsychic‚Äù cancels show due to ‚Äúunforeseen circumstances‚Äù <a href="https://web.archive.org/web/20110217050619/https://scienceblogs.com/pharyngula/2011/02/irony.php">https://web.archive.org/web/20110217050619/https://scienceblogs.com/pharyngula/2011/02/irony.php</a></p>
<p>#10yrsago CBS sends a YouTube takedown to itself <a href="https://www.reddit.com/r/WTF/comments/flktg/cbs_files_a_copyright_claim_against_themselves_o_o/">https://www.reddit.com/r/WTF/comments/flktg/cbs_files_a_copyright_claim_against_themselves_o_o/</a></p>
<hr>
<p><a name="bragsheet"></a><br>
<img src="https://i1.wp.com/craphound.com/images/colophonimages.jpeg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/colophonimages.jpeg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>Today's top sources: Bruce Schneier (<a href="https://schneier.com/">https://schneier.com/</a>), Naked Capitalism (<a href="https://nakedcapitalism.com/">https://nakedcapitalism.com/</a>).</p>
<p>Currently writing:</p>
<ul>
<li>My next novel, "The Lost Cause," a post-GND novel about truth and reconciliation. Friday's progress: 514 words (110389 total).
</li>
<li>
<p>A short story, "Jeffty is Five," for The Last Dangerous Visions. Friday's progress: 251 words (5077 total).</p>
</li>
</ul>
<p>Currently reading: Analogia by George Dyson.</p>
<p>Latest podcast: Someone Comes to Town, Someone Leaves Town (part 30) <a href="https://craphound.com/articles/2021/01/31/someone-comes-to-town-someone-leaves-town-part-30/">https://craphound.com/articles/2021/01/31/someone-comes-to-town-someone-leaves-town-part-30/</a><br>
Upcoming appearances:</p>
<ul>
<li>Technology, Self-Determination, and the Future of the Future (Purdue CERIAS), Feb 17, <a href="https://www.cerias.purdue.edu/news_and_events/events/security_seminar/details/index/2njk1v59j4vdc3supiespncgr6">https://www.cerias.purdue.edu/news_and_events/events/security_seminar/details/index/2njk1v59j4vdc3supiespncgr6</a>
</li>
<li>
<p>Keynote, NISO Plus, Feb 22, <a href="https://niso.plus/cory-doctorow-to-keynote-at-niso-plus-2021/">https://niso.plus/cory-doctorow-to-keynote-at-niso-plus-2021/</a></p>
</li>
<li>
<p>Mellon Sawyer Seminar on Contemporary Political Struggle: Social Movements, Social Surveillance, Social Media (with Zeynep Tufekci), Feb 24, <a href="https://ucdavis.zoom.us/webinar/register/WN_I99f4x8WRiKCfKUljVcYPg">https://ucdavis.zoom.us/webinar/register/WN_I99f4x8WRiKCfKUljVcYPg</a></p>
</li>
<li>
<p>World Ethical Data Forum keynote, Mar 17-19, <a href="https://worldethicaldataforum.org/wedf-2020">https://worldethicaldataforum.org/wedf-2020</a></p>
</li>
<li>
<p>Interop: Self-Determination vs Dystopia ‚Ä¶</p></li></ul></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pluralistic.net/2021/02/15/ulysses-pacts/#temptations-way">https://pluralistic.net/2021/02/15/ulysses-pacts/#temptations-way</a></em></p>]]>
            </description>
            <link>https://pluralistic.net/2021/02/15/ulysses-pacts/#temptations-way</link>
            <guid isPermaLink="false">hacker-news-small-sites-26152123</guid>
            <pubDate>Tue, 16 Feb 2021 08:47:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[GNU Artanis-0.5 is ready for Docker]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26152068">thread link</a>) | @nalaginrut
<br/>
February 16, 2021 | https://nalaginrut.com/archives/2021/02/16/gnu%20artanis-0.5%20is%20ready%20for%20docker | <a href="https://web.archive.org/web/*/https://nalaginrut.com/archives/2021/02/16/gnu%20artanis-0.5%20is%20ready%20for%20docker">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p><h4>GNU Artanis-0.5 is ready for docker</h4></p><div><p>First, you need Docker, I recommend the <a href="https://docs.docker.com/install/" target="_blank">official installation document</a>.</p><p>Then you can pull Artanis image:</p><pre spellcheck="false">docker pull registry.gitlab.com/nalaginrut/artanis:latest
</pre><p>Because the contents created in docker environment is volatile, I'd recommend you create a workspace in the host environment before jump into docker environment.</p><pre spellcheck="false">mkdir myapp
</pre><p>Now you can run a container:</p><pre spellcheck="false">docker run -it --rm -p <span>3000</span>:<span>3000</span> -v $PWD/myapp:<span>/ registry.gitlab.com/</span>nalaginrut/artanis:latest bash
</pre><p>I'm going to explain something:</p><ol><li><span>--rm </span>means to remove the container when you exit, this is useful to keep you environment always clean.</li><li><span>-v $PWD/myapp:/ </span>means mapping the inside directory to outside, so that you can keep your work after exit. Please note that docker requires you specify the absolute path.</li><li><span>-p 3000:3000 </span>means mapping inside default port to outside, so that you can see your work outside.</li><li>The last option <span>bash</span> means running bash as shell. Unfortunately, our docker image didn't install other shells, so you have to install your favorite shell after you get into the environment.</li></ol><p>Now you can create your first Web App with Artanis:</p><pre spellcheck="false">art <span>create</span> hello
cd hello
art draw controller hello world
</pre><p>When everything is prepared, you should do this to boot up Artanis server:</p><pre spellcheck="false">art work -h 0.0.0.0
</pre><p>Because the default host is 127.0.0.1 which is impossible to map the socket port to the outside, so we set the host to 0.0.0.0 to make sure you can checkout your work in the outside browser.</p><p>You may want to visit http://localhost:3000/hello/world in your browser.</p><p>For more details, please read <a href="https://www.gnu.org/software/artanis/manual/manual.html" target="_blank">the manual of GNU Artanis</a>.</p></div></div>]]>
            </description>
            <link>https://nalaginrut.com/archives/2021/02/16/gnu%20artanis-0.5%20is%20ready%20for%20docker</link>
            <guid isPermaLink="false">hacker-news-small-sites-26152068</guid>
            <pubDate>Tue, 16 Feb 2021 08:37:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Brian Armstrong (Coinbase) Interviewed on Clubhouse]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26151926">thread link</a>) | @PodCurator
<br/>
February 16, 2021 | https://letterdrop.com/@clubhouse-cliffnotes/brian-armstrong-on-clubhouse-1 | <a href="https://web.archive.org/web/*/https://letterdrop.com/@clubhouse-cliffnotes/brian-armstrong-on-clubhouse-1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://letterdrop.com/@clubhouse-cliffnotes/brian-armstrong-on-clubhouse-1</link>
            <guid isPermaLink="false">hacker-news-small-sites-26151926</guid>
            <pubDate>Tue, 16 Feb 2021 08:14:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[In Go-land you pay even for what you don't use]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26151719">thread link</a>) | @ciprian_craciun
<br/>
February 15, 2021 | https://notes.volution.ro/v1/2021/02/notes/378ae6f6/ | <a href="https://web.archive.org/web/*/https://notes.volution.ro/v1/2021/02/notes/378ae6f6/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2 id="prologue">Prologue</h2><p>Lately I've been programming both in Go and Rust -- among other languages like Python, Erlang, or
Bash (and, yes, Bash is a programming language) -- thus those acquainted with Rust will observe that
the title is a hint to one of Rust's major selling points, that of zero cost abstractions, namely
that you don't pay for what you don't actually use (right now, but you might use in the future).</p><p>However, although the issue I'm about to describe is present to some extent in any programming
language -- from Bash (again, yes, Bash is a programming language, although a very bad one), to
Java, Python, Ruby, NodeJS, and even Rust -- unfortunately in Go it is made even worse by not having
a suitable workaround.</p><p>The issue might seem minor, and usually it is so, especially given that only lately when I've
focused on the start-up performance of one of my tools have I stumbled upon this issue. And in fact
the first time I tackled it was with the overhead introduced by loading some Python modules I didn't
always use.</p><p>But, with Python I expected this to be an issue, and I knew immediately where to look. With Go less
so, and I've done quite a bit of digging to find the problem (but unfortunately no usable
solution)...</p><h2 id="what-are-initializers">What are "initializers"?</h2><p>Starting with Go,
<a href="https://golang.org/doc/effective_go.html#init">package initializers</a>
are nothing more than anonymous functions, tagged <code>init</code>, without any arguments, that are executed (in
quite a
<a href="https://golang.org/ref/spec#Package_initialization">specific order</a>)
before the <code>main</code> function of an executable. (I say "anonymous" and "tagged" because inside the same file you
can have many such initializers, and they can't be called explicitly from anywhere.) Obviously these are
meant for libraries and not executables (which can just call that code at the beginning of <code>main</code>).</p><p>What can you do within these initializers? Basically anything you can in a normal function, just
that it executes before <code>main</code>. For example a library could initialize some private (but global)
variables with something that requires a bit of code to figure out, like configuration files,
runtime parameters, credentials, or loading previously computed and then cached data, etc.</p><p>Needless to say, the unwritten (but unenforced) rule of these initializers is that they should be
short and not stall the start-up needlessly... (Especially since Go has lightweight go-routines that
could do the initialization in the background if more effort is required...)</p><p>For example:</p><pre><code>package somePackage

var someGlobalA someTypeA
var someGlobalB someTypeB

func init () {
    // do some non-trivial, but quick, computation...
    someGlobalA = ...
    someGlobalB = ...
}
</code></pre><p>However, this feature is not specific to Go, and as mentioned all programming languages have some
sort of package / module / library initializers:</p><ul><li>Java has
<a href="https://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.7">class static initializers</a>,
again with a
<a href="https://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.4">rigid execution order</a>;</li><li>Python, Ruby, NodeJS, and perhaps most similar interpreted languages, just allow arbitrary code
to be executed at the top-level of a module's body; for example as described
<a href="https://docs.python.org/3/tutorial/modules.html">here for Python</a>,
this code will be executed in the same order the modules are being loaded (first dependencies
then dependents, and so on recursively);</li><li>even Erlang, a functional programming language at heart, has something similar as part of OTP
(Erlang's runtime platform);</li><li>and I'm certain that by now -- in 2 AP, as in second "anno pandemus", or for those reading in the
past the year 2021 AD in the future -- C++ already has found a way to provide weapons of mass
feet shooting for its developers;</li><li>(I would bet the same goes for C# and the entire .NET ecosystem;)</li></ul><p>Regarding the other camp:</p><ul><li>Rust, by design, makes sure that
<a href="https://prev.rust-lang.org/en-US/faq.html#can-i-run-code-before-main">there is no life before main</a>;</li><li>(from what I know) C (the language) doesn't also provide a way to have non constant
static initializers;</li><li>moreover, many C-based libraries (and some well-written C++ ones) provide the user with a
<code>somelib_init</code> function that must be called before any other calls to their functions;</li><li>although GCC (and perhaps many other C compilers and runtimes) do provide a way to have
<a href="https://gcc.gnu.org/onlinedocs/gccint/Initialization.html">initialization functions</a>
(or constructors as they are called); however their main use-case seems to support languages
that do require them;</li><li>(I would also bet, but not a lot, that more functional languages like Haskel, and certainly
Scheme implementations of R7RS, are strict about this;)</li></ul><h3 id="but-wait-as-the-commercial-says-there-is-more">But wait, (as the commercial says), there is more...</h3><p>Most of the languages listed above, not only allow you to provide some means to execute arbitrary
code (in fact that feature is more on the advanced developers side), but also provide the developer
a way to initialize global variables with arbitrary expressions.</p><p>Again, in Go, for example:</p><pre><code>package somePackage

var someGlobalC someTypeC = newSomeC ()

func newSomeC () someTypeC {
    // do some non-trivial, but quick, computation...
    return ...
}
</code></pre><p>Thus, what initially might just seem as some harmless variable initialization, in fact could be a
call to a slow grinding wheel computing the answer to the ultimate question (to which we all know
the answer is usually 43 due to a one-off bug)...</p><h3 id="a-slight-detour-about-finalizers">A slight detour about "finalizers"</h3><p>Although many languages provide "initializers", few provide "finalizers", as in code that is assured
to be run before a program finishes.</p><p>The POSIX standard provides
<a href="https://man7.org/linux/man-pages/man3/atexit.3.html">atexit(3)</a>,
GCC does seem to also provide a way to register "destructors", some languages even expose some
wrappers for it, but none seem to provide some actual facility that are tailored for this specific
use-case... Granted some languages do provide some hooks that trigger when a "scope" finishes -- for
example we have <code>defer</code> in Go, and destructors for Rust and C++ -- however these are meant with
another use-case in mind.</p><p>Strange... Perhaps that's why many servers don't provide a clean way to be shutdown, and instead one
has to clobber them with a definitive <code>SIGKILL</code> after asking nicely in vain with <code>SIGTERM</code>, <code>SIGINT</code>
and other SIG-perhaps-this-works signals...</p><p>Also, as a funny irony, for one application in Rust I encountered a situation where calling the
finalizers (i.e. destructors) took quite some time compared to the total execution time, and I had
to resort to forcibly exiting the process without waiting for Rust to properly finalize.</p><h2 id="so-whats-the-issue">So what's the issue?</h2><p>Seeing that almost every programming language under the sun provides a way to sneak some code to be
executed before <code>main</code>, one would ask why I am complaining about this, and especially why I have
something against how it's implemented in Go?</p><p>Well for starters, Go is not the main culprit. Go doesn't force anyone to use the initializers
features, neither does any other language for that mater.</p><p>Moreover, there is the question of utility: if I <code>import</code> a library doesn't it mean I also intend to
use it? After all Go does an outstanding job of making sure (through compilation errors) that there
are no unused imports.</p><p>And here is where the argument (and especially Go's implementation) starts to show its weakness...</p><p>Imagine for a moment we are building a "do everything within a single statically linked binary"
tool.</p><h3 id="a-side-note-about-single-binary-do-all-tools">A side-note about single-binary do-all tools</h3><p>Why would one want to do this? (That is bundle a set of slightly related tools inside the same
executable.)</p><p>Because it's one of the places where Go really shines, as a systems programming language, especially
today with so many operating systems, let alone Linux and BSD distributions, flavors and
architectures. Thus given how easily I can build an OSX, BSD or even Windows executable from my
Linux, regardless if I use an Intel processor and I target Apple's new M1 ARM processor, and
corroborated with the fact that I don't want to dance the <code>rpm</code> or <code>deb</code> polka (not to speak about
the Windows MSI or OSX DMG baroque dance), I would prefer to just throw one binary for each
supported platform on GitHub's release page and be done with that.</p><p>And it seems this isn't a new or isolated trend, as lots of Go projects ship this way:</p><ul><li>starting with (the C-based)
<a href="https://busybox.net/">Busybox</a>
(that I believe powers at least 75% of all world-wide home and small-business networking
appliances), and its BSD alternative
<a href="https://www.landley.net/toybox/">ToyBox</a>;</li><li>Cloudflare's
<a href="https://github.com/cloudflare/cloudflared">cloudflared</a>
or
<a href="https://github.com/cloudflare/cloudflare-go/tree/master/cmd/flarectl">flarectl</a>;</li><li>Netlify's former
<a href="https://github.com/netlify/netlifyctl">netlifyctl</a>;</li><li>open source projects like
<a href="https://github.com/gohugoio/hugo">Hugo</a>
or
<a href="https://github.com/caddyserver/caddy">Caddy</a>;</li><li>(and I could keep on naming similar tools, written from Python to Erlang;)</li><li>(heck, if I think better, this is exactly what the FlatPack and AppImage projects are selling;)</li></ul><p>What all of these have in common? One (usually statically linked, or self-contained /
self-extracting) binary that can be thrown anywhere on the file-system, and as long as it's in the
<code>$PATH</code>, can easily be used.</p><p>What else do they have in common? Lots of slightly related functionality, which I bet are full of
initializers...</p><h3 id="getting-back-to-our-initializers">Getting back to our initializers...</h3><p>So in this case it seems that even though one imports lots of different libraries, they aren't used
all at the same time; at best one or two major libraries are used to implement a given sub-command.</p><p>However, given how initializers work in Go, that is each initializer for every package is run before
<code>main</code> regardless, all these "small but many" initializers add up and slow the startup process.</p><h3 id="so-you-say-this-is-make-believe-problem">So you say this is "make believe problem"?</h3><p>Well not quite... Let's for a second say that my argument about why I would like to bundle
multiple functionality in the same binary is moot; let's say I pay the cost of using a good tool for
the wrong job. Let's...</p><p>Let us imagine one wants to use the Go built-in
<a href="https://golang.org/pkg/net/rpc/">net/rpc</a>
package, that allows one to easily implement RPC clients and servers over HTTP, plain TCP or UNIX
domain sockets. Now it seems that there are some "debugging" facilities that export some HTML for
the available services -- I don't use this, nor do I have any idea on how they are used, nor can
they be disabled -- and as a consequence in its source code, at line 39 in
<a href="https://golang.org/src/net/rpc/debug.go">debug.go</a>,
there is the following code, which unfortunately, based on my experiments, takes at least 0.5
milliseconds to initialize:</p><pre><code>var debug = template.Must(template.New("RPC debug").Parse(debugText))
</code></pre><p>So to summarize:</p><ul><li>Do I use it? No.</li><li>Can I disable it? No.</li><li>Am I ‚Ä¶</li></ul></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://notes.volution.ro/v1/2021/02/notes/378ae6f6/">https://notes.volution.ro/v1/2021/02/notes/378ae6f6/</a></em></p>]]>
            </description>
            <link>https://notes.volution.ro/v1/2021/02/notes/378ae6f6/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26151719</guid>
            <pubDate>Tue, 16 Feb 2021 07:27:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Fast Factorial Functions: The Homepage of Factorial Algorithms]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26151471">thread link</a>) | @lumpa
<br/>
February 15, 2021 | http://www.luschny.de/math/factorial/FastFactorialFunctions.htm | <a href="https://web.archive.org/web/*/http://www.luschny.de/math/factorial/FastFactorialFunctions.htm">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="container">
<div>
<table><tbody><tr>
<td>&nbsp;N&nbsp;!</td>
<td>
<p>
<img alt="Fastfactorialfunctions" height="60" src="http://www.luschny.de/math/factorial/fastfactorialfunctions.png" width="90%">
</p>
<!-- <br />and<img alt="" src="TitelPermTrees.png" style="width: 100%; height: 62px" /></p> -->
<p>There are five algorithms which everyone who wants to compute 
the factorial n! = 1.2.3...n should know.</p>
<ul>
<li>The algorithm
<span>
<a href="http://www.luschny.de/math/factorial/csharp/FactorialSplit.cs.html" target="_blank">SplitRecursive</a></span>, 
because it is simple and the fastest algorithm which does not 
use prime factorization. </li>
<li>The algorithm
<span>
<a href="http://www.luschny.de/math/factorial/csharp/FactorialPrimeSwing.cs.html" target="_blank">
PrimeSwing</a></span>, because it is the (asymptotical) fastest 
algorithm known to compute n!. The algorithm is based on the 
notion of the 'Swing Numbers' and computes n! via the <em>
<a href="http://www.luschny.de/math/factorial/csharp/PrimeSieve.cs.html" target="_blank">prime factorization</a></em> 
of these numbers. </li>

<li>The ingenious 
algorithm of <span>
<a href="http://www.luschny.de/math/factorial/csharp/FactorialAdditiveMoessner.cs.html" target="_blank">
Moessner</a></span> which uses only additions! Though of no 
practical importance (because it is slow), it has the fascination 
of an unexpected solution.</li>
<li>The
<span>
<a href="http://www.luschny.de/math/factorial/csharp/FactorialPoorMans.cs.html" target="_blank">Poor 
Man's</a></span> algorithm which uses no Big-Integer library 
and can be easily implemented in any computer language and is 
even fast up to 10000!. </li>
<li>The
<span>
<a href="http://www.luschny.de/math/factorial/java/FactorialParallelPrimeSwing.java.html" target="_blank">
ParallelPrimeSwing</a></span> algorithm, which is the PrimeSwing 
algorithm with improved performance using methods of concurrent 
programming and thus taking advantage of multiple core processors.
</li>
<li>
If you do not attach great importance to high performance then
get a BigInteger library and use:
<pre>BigInt recfact(long start, long n) {
    long i;
    if (n &lt;= 16) { 
        BigInt r = new BigInt(start);
        for (i = start + 1; i &lt; start + n; i++) r *= i;
        return r;
    }
    i = n / 2;
    return recfact(start, i) * recfact(start + i, n - i);
}
BigInt factorial(long n) { return recfact(1, n); }
</pre></li>
<li>And here is an 
algorithm which nobody needs, for the <span>Simple-Minded</span> 
only: <span>long factorial(long n) {return n &lt;= 1 ? 1 : n*factorial(n-1);}</span>
Just don't use it!<br>
</li>
</ul></td></tr></tbody></table>
</div>
<hr>
<div>
<p>An example of a <span>PrimeSwing</span> computation:</p>
<p><img alt="swing" src="http://www.luschny.de/math/factorial/swing62.png" width="520px"></p><p>As this example shows an efficient computation of the factorial function
reduces to an efficient computation of the swinging factorial n‚âÄ.
Some information about these numbers can be found  
<a href="http://www.luschny.de/math/swing/SwingingFactorial.html">here</a>
and <a href="http://oeis.org/A056040">here</a>.
The prime factorization of the swing numbers is crucial for the implementation
of the PrimeSwing algorithm. 
</p><p>A concise description of this
algorithm is given in this <a href="http://www.luschny.de/math/factorial/SwingIntro.pdf">write-up (pdf)</a> and 
	in the SageMath link below (Algo 5).
</p>
</div>
<hr>
<table><tbody>
<tr>
<td>&nbsp;&nbsp; </td>
<td>&nbsp;Link</td>
<td>&nbsp;Content</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/description.html">Algorithms</a></td>
<td>A very short description of 21 algorithms for computing the factorial function n!.</td>
</tr>
<tr>
<td>&nbsp;X </td>
<td><a href="http://www.luschny.de/math/factorial/JuliaFactorial.html">Julia factorial</a></td>
<td>
*NEW* The factorial function based on the swinging factorial which in turn is computed
via prime factorization implemented in Julia.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/scala/FactorialScalaCsharp.htm">Mini Library</a></td>
<td>
The factorial function, the binomial function, the
double factorial, the swing numbers and an efficient
prime number sieve implemented in Scala and GO.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/index.html">Browse Code</a></td>
<td>Various algorithms implemented in<br>Java, C# and C++.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/sagemath.html">SageMath</a></td>
<td>Implementations in SageMath.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/LispFactorial.html">LISP</a></td>
<td>Implementations in Lisp.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/Benchmark.html">Benchmarks</a></td>
<td><em><span>
Benchmark 2013:
With MPIR 2.6 you can calculate 100.000.000! in less than a minute provided you use 
one of the fast algorithms described here.</span></em></td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/conclusions.html">Conclusions</a></td>
<td>Which algorithm should we choose?</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/download.html">Download</a></td>
<td>Download a test application and benchmark yourself.</td>
</tr>
<tr>
<td>&nbsp;X </td>
<td><a href="http://www.luschny.de/math/factorial/approx/SimpleCases.html">Approximations</a></td>
<td>A unique collection! Approximation formulas.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/approx/gammaquot.html">Gamma quot</a></td>
<td>Bounds for Gamma(x+1)/Gamma(x+1/2)</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/factandgamma.html">Gamma shift</a></td>
<td>Why is Gamma(n)=(n-1)! and not Gamma(n)=n! ?</td>
</tr>
<tr>
<td>&nbsp;X </td>
<td>
<a href="http://www.luschny.de/math/factorial/hadamard/HadamardsGammaFunction.html">Hadamard</a> <br>
</td>
<td>Hadamard's Gamma function and a new factorial function<br>
<a href="http://www.luschny.de/math/factorial/hadamard/HadamardsGammaFunctionMJ.html">[MathJax version]</a></td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/history.html">History</a></td>
<td>Not even Wikipedia knows this!<br>
The early history of the factorial function.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/FactorialNotation.htm">Notation</a></td>
<td>On the notation n!</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/binarysplitfact.html">Binary Split</a></td>
<td>For coders only. Go to the page of the day.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/SwingFactorialSagePython.html">Sage / Python</a></td>
<td>Implementation of the swing algorithm.</td>
</tr>
<tr>
<td><span>&nbsp;‚Äº </span></td>
<td><a href="http://www.luschny.de/math/factorial/DoubleFactorial.html">Double Factorial</a></td>
<td>&nbsp;The fast double factorial function.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/PrimeProxy.htm">Prime Factorial</a></td>
<td>Primfakultaet ('The Primorial', in German.)</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/approx/bibliography.html">Bibliography</a></td>
<td>Bibliography on Inequalities for the Gamma function.</td>
</tr>
<tr>
<td>&nbsp;X </td>
<td><a href="http://www.luschny.de/math/primes/berneulerincl.html">Bernoulli&nbsp;&amp;<br>Euler</a></td>
<td>Exotic Applications:<br>
Inclusions for the Bernoulli and Euler numbers.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/FastBinomialFunction.html">Binomial</a></td>
<td>Fast Binomial Function (Binomial Coefficients).</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/seq/variations.html">Variations</a></td>
<td>A combinatorial generalization of the factorial.</td>
</tr>
<tr>
<td>&nbsp;X </td>
<td><a href="http://www.luschny.de/math/factorial/approx/continuedfraction.html">Stieltjes' 
CF</a></td>
<td>On Stieltjes' Continued Fraction for the<br>Gamma Function.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/AlHaythamLagrangeTheorem.html">al-Haytham /<br>Lagrange</a></td>
<td>The ignorance of some western mathematicians.<br>A deterministic factorial primality test.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/FactorialDigits.html">Factorial Digits</a></td>
<td>Number of decimal digits of 10<sup>n</sup>!</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/fffcalc.html">Calculator</a></td>
<td>Calculate n! for n up to 9.999.999.999 .</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/RPNFactorial.html">RPN-Factorial</a></td>
<td>The retro-factorial page!</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/combi/permuta4.html">Permutations</a></td>
<td>Awesome! Permutation trees, the combinatorics of n!.<br>
</td></tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/combi/PermutationTrees.html">Perm. trees</a></td>
<td>Download a <a href="http://www.luschny.de/math/seq/PermutationTrees5Color.pdf">pdf-poster</a> 
with 120 permutation trees!</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td>
<a href="http://www.luschny.de/math/factorial/plots/GammaPlots.html" target="_blank">Gamma</a><br>
<a href="http://www.luschny.de/math/factorial/plots/LogGammaPlots.html" target="_blank">LogGamma</a></td>
<td>Plots of the factorial (gamma) function.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/GammaLinks.html">External links</a></td>
<td>Some bookmarks.</td>
</tr>
</tbody>
</table>

<p>Fast-Factorial-Functions: <strong>The Homepage 
of Factorial Algorithms.</strong> (C) Peter Luschny, 2000-2017. All information and 
all source code in this directory is free under the
<a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons 
Attribution-ShareAlike 3.0 Unported License</a>. This page is listed on the famous "Dictionary of Algorithms 
and Data Structures" at the National Institute of Standards and Technology's 
web site (NIST). Apr. 2003 / Apr. 2017 : 800,000 visitors! Thank you!</p>

<table summary="Navbar">
<tbody><tr>
<td><a href="http://www.luschny.de/math/seq/RationalTreesAndBinaryPartitions.html">Rational <br>Trees</a></td>
<td><a href="http://www.luschny.de/math/seq/variations.html">Variants of<br>Variations</a></td>
<td><a href="http://www.luschny.de/math/euler/EulerianPolynomials.html">Eulerian <br>Polynomials</a></td>
<td><a href="http://www.luschny.de/math/zeta/VonStaudtPrimes.html">vonStaudt <br>Primes</a></td>
<td><a href="http://www.luschny.de/math/primes/irregular.html">Irregular <br>Primes</a></td>
<td><a href="http://www.luschny.de/math/swing/divideswingandconquer/GeneralizedBinomialCoefficients.html">Generalized <br>Binomial</a></td>
</tr>
<tr>
<td><a href="http://www.luschny.de/math/zeta/The-Bernoulli-Manifesto.html">Bernoulli <br>Manifesto</a></td>
<td><a href="http://www.luschny.de/math/zeta/BernoulliFunctionIntroduction.html">Bernoulli<br>Function</a></td>
<td><a href="http://www.luschny.de/math/seq/CountingWithPartitions.html">Partitions <br>Stirling</a></td>
<td><a href="http://www.luschny.de/math/seq/ZetaPolynomials.htm">Zeta <br>Polynomials</a></td>
<td><a href="http://www.luschny.de/math/rulers/prulers.html">Perfect <br>Rulers</a></td>
<td><a href="http://www.luschny.de/math/zeta/ClausenNumbers.htm">Clausen <br>Numbers</a></td>
</tr>
<tr>
<td><a href="http://www.luschny.de/math/factorial/hadamard/HadamardsGammaFunction.html">Hadamard <br>Gamma</a></td>
<td><a href="http://www.luschny.de/math/factorial/history.html">History <br>Factorial</a></td>
<td><a href="http://www.luschny.de/math/factorial/combi/PermutationTrees.html">Permutation <br>Trees</a></td>
<td><a href="http://www.luschny.de/math/seq/SwissKnifePolynomials.html">Swiss <br>Knife</a></td>
<td><a href="http://www.luschny.de/math/swing/SwingingFactorial.html">Swinging <br>Factorial</a></td>
<td><a href="http://www.luschny.de/ect/Worpitzky-Triangle.html">Worpitzky <br>Triangle</a></td>
</tr>
</tbody></table>

<!--

<p style="text-align: center; line-height: 140%;" >
Visit also our survey of the Bernoulli numbers on the occasion of the 300-th 
anniversary of the publication of <br />
Jacob Bernoulli&#39;s  <em>Ars Conjectandi</em>, 1713-2013. 

<a href="../zeta/The-Bernoulli-Manifesto.html"><img alt="" src="BernoulliManifesto.png" width="95%" /></a>
</p>

-->

</div></div>]]>
            </description>
            <link>http://www.luschny.de/math/factorial/FastFactorialFunctions.htm</link>
            <guid isPermaLink="false">hacker-news-small-sites-26151471</guid>
            <pubDate>Tue, 16 Feb 2021 06:24:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What a person without diabetes learned from 28 days with a glucose monitor]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 3 (<a href="https://news.ycombinator.com/item?id=26151295">thread link</a>) | @jseliger
<br/>
February 15, 2021 | https://www.levelshealth.com/blog/cgm-what-a-person-without-diabetes-learned-from-28-days-wearing-a-continuous-glucose-monitor | <a href="https://web.archive.org/web/*/https://www.levelshealth.com/blog/cgm-what-a-person-without-diabetes-learned-from-28-days-wearing-a-continuous-glucose-monitor">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><header id="header"></header><main id="main"><section id="content-articles" data-ani-anchor="onload"></section><section id="blog-single-content" data-ani-anchor=""><div><div><p>After scary bouts of hypoglycemia as a kid, Blake Reichmann thought he had a solid low-sugar diet. Then a CGM taught him where he could do better.</p></div><div><div><div><div data-bg="/wp-content/uploads/2020/10/bessi-profile.png"> <img src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20210%20140%22%3E%3C/svg%3E" data-src="https://secure.gravatar.com/avatar/09b375d3b3a726e5e6486b60cc17de94?s=32&amp;d=mm&amp;f=y&amp;r=g"></div></div></div></div><div id="featured-image-single-v"> <img src="https://www.levelshealth.com/wp-content/uploads/2021/01/Patch.png" data-src="https://www.levelshealth.com/wp-content/uploads/2021/01/Patch.png" aria-label="The CGM Challenge: What a person without diabetes learned from 28 days with a continuous glucose monitor"></div><div id="single-content-content"><div><p><span>I never thought I‚Äôd have a tiny probe stuck in my arm for 28 days. I‚Äôm not diabetic or even prediabetic. But when I stumbled on the chance to wear a continuous glucose monitor (CGM) as part of a challenge partnered with Levels, I jumped on it. I‚Äôve been conscious of blood sugar my whole life because I suffered from spells of hypoglycemia as a child.</span></p><p><span>Hypoglycemia is when your blood sugar drops below 70mg/dL. I still don‚Äôt know why it happened, but it wasn‚Äôt fun. When my glucose levels dropped too low, I‚Äôd experience cold sweats, lightheadedness, trembling hands, and an elevated heart rate. These symptoms were likely the result of my body releasing epinephrine (adrenaline) to stabilize my blood glucose.</span></p><p><span>Over the years, I started to pick up on which foods caused my blood sugar to crash. The biggest culprits were cereal for breakfast and sweet tea later in the day. Every time I ate a big bowl of cereal before school (usually Frosted Mini-Wheats or Honey Nut Cheerios), I would crash around 10:30 a.m. like clockwork. Sometimes the crashes were so bad that I thought I might pass out, so I‚Äôd call my mom to check me out of school.</span></p><p><img src="https://www.levelshealth.com/wp-content/uploads/2021/01/Blake-Reichman-Profile_Picture-200x200.jpg" data-src="https://www.levelshealth.com/wp-content/uploads/2021/01/Blake-Reichman-Profile_Picture-200x200.jpg" alt="" width="200" height="200" data-srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Blake-Reichman-Profile_Picture-200x200.jpg 200w, https://www.levelshealth.com/wp-content/uploads/2021/01/Blake-Reichman-Profile_Picture-400x400.jpg 400w, https://www.levelshealth.com/wp-content/uploads/2021/01/Blake-Reichman-Profile_Picture.jpg 512w" data-sizes="(max-width: 200px) 100vw, 200px" srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Blake-Reichman-Profile_Picture-200x200.jpg 200w, https://www.levelshealth.com/wp-content/uploads/2021/01/Blake-Reichman-Profile_Picture-400x400.jpg 400w, https://www.levelshealth.com/wp-content/uploads/2021/01/Blake-Reichman-Profile_Picture.jpg 512w"></p><p><span>Experiencing low blood sugar not only made it hard to focus but was, quite frankly, a scary experience for someone who didn‚Äôt understand what was going on. After missing a few classes from these episodes, my mom decided it was time to change my diet.</span></p><p><span>I went from eating cereal in the mornings to eggs, bacon, and fruit (berries or avocado) and cut out the sweet tea (tough to do for a boy raised in Alabama). Once I made those changes, the crashes stopped, and I had energy throughout the day.</span></p><p><span>At the time, I didn‚Äôt fully understand why the switch worked, but I did understand even at a young age that consuming a bunch of carbs and sugar wasn‚Äôt good for me. Since then, I‚Äôve become fascinated with maintaining a healthy lifestyle and finding ways to improve my health. My curiosity for seeking ways to optimize my diet is what eventually led me to put a CGM on my arm.</span></p><h2>The Challenge</h2><p><span>I first learned about the 28-day </span><a href="https://www.wearablechallenge.com/"><span>Wearable Challenge</span></a><span> from following </span><a href="https://twitter.com/jwmares"><span>Justin Mares</span></a><span> on Twitter. I‚Äôve followed Justin for quite a while since he knew a lot about the health-and-wellness space after founding two health food companies, </span><a href="https://www.kettleandfire.com/"><span>Kettle &amp; Fire</span></a><span> and </span><a href="https://perfectketo.com/"><span>Perfect Keto</span></a><span>.</span></p><p><span>In October, Justin shared an </span><a href="https://twitter.com/jwmares/status/1315696415213936641"><span>interesting tweet</span></a><span> about a weight-loss challenge that only required participants to track their blood glucose with a </span><a href="https://www.levelshealth.com/"><span>Levels</span></a><span> CGM. After reading the tweet, I knew this was something I had to try. Even though the challenge focused on weight loss, I enrolled immediately because I wanted to experiment with a CGM to see how my body reacts to my diet.</span></p><p><span>The challenge required me to keep my glucose levels below 120mg/dL even after a meal. For every day I went over, I‚Äôd lose $25 (talk about having skin in the game). The challenge started with a three-day grace period, so I could experiment with my diet to see how it impacted my glucose without getting penalized.</span></p><p><span>(For context, according to the</span><a href="https://www.idf.org/component/attachments/attachments.html?id=728&amp;task=download"> <span>International Diabetes Federation (IDF) guidelines</span></a><span>, your glucose values are ‚Äúnormal‚Äù if they stay below 140mg/dL after meals and return to pre-meal levels within two to three hours. Since this is a challenge geared towards weight loss, the upper limit was set slightly lower.)</span></p><p><b>Related article: </b><a href="https://www.levelshealth.com/blog/what-should-my-glucose-levels-be-ultimate-guide"><b>What should your glucose levels be? Here‚Äôs the ultimate guide to healthy blood sugar ranges</b></a></p><p><span>To help stay in the target range, each member of the challenge had access to a WhatsApp group chat to support each other. The group chat was a place for members to share what diet was working well, vent their frustrations when they failed, and provide a positive environment for motivation and encouragement. This aspect was less useful for me (I ended up muting it after a few days) because my goals were different. Still, I could see how much other members appreciated the accountability and support.</span></p><h2>What I Learned</h2><p><span>Overall, I found the challenge to be a learning experience filled with joyful moments of self-confirmation, times of utter disappointment, and a few surprises in between.</span></p><h3>The Good</h3><p><span>The best news was discovering that my typical breakfast of three eggs, bacon, and half an avocado drizzled in olive oil caused almost no glycemic response, nor did my afternoon snack of raw almonds. The app showed that these foods consistently hit a perfect score. Since I eat these foods most often, it was comforting knowing that I had a strong foundation.</span></p><p><img src="https://www.levelshealth.com/wp-content/uploads/2021/01/Breakfast-3.png" data-src="https://www.levelshealth.com/wp-content/uploads/2021/01/Breakfast-3.png" alt="" width="400" height="600" data-srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Breakfast-3.png 400w, https://www.levelshealth.com/wp-content/uploads/2021/01/Breakfast-3-267x400.png 267w, https://www.levelshealth.com/wp-content/uploads/2021/01/Breakfast-3-133x200.png 133w" data-sizes="(max-width: 400px) 100vw, 400px" srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Breakfast-3.png 400w, https://www.levelshealth.com/wp-content/uploads/2021/01/Breakfast-3-267x400.png 267w, https://www.levelshealth.com/wp-content/uploads/2021/01/Breakfast-3-133x200.png 133w"></p><p><span>The challenge also confirmed my belief that eating a low-carb paleo/keto-inspired diet consisting of mostly meat, vegetables, and healthy fats (olive oil, coconut oil, and butter/ghee) was optimal for maintaining consistent glucose levels.</span></p><p><img src="https://www.levelshealth.com/wp-content/uploads/2021/01/Almonds-3.png" data-src="https://www.levelshealth.com/wp-content/uploads/2021/01/Almonds-3.png" alt="" width="350" height="500" data-srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Almonds-3.png 350w, https://www.levelshealth.com/wp-content/uploads/2021/01/Almonds-3-280x400.png 280w, https://www.levelshealth.com/wp-content/uploads/2021/01/Almonds-3-140x200.png 140w" data-sizes="(max-width: 350px) 100vw, 350px" srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Almonds-3.png 350w, https://www.levelshealth.com/wp-content/uploads/2021/01/Almonds-3-280x400.png 280w, https://www.levelshealth.com/wp-content/uploads/2021/01/Almonds-3-140x200.png 140w"></p><p><span>Over the past four years, I‚Äôve made a conscious effort to cook meals that avoid simple carbs, vegetable oils, and sweeteners, and it felt really good knowing I‚Äôd been making the right choices.</span></p><h3>The Not-So-Good</h3><p><span>The foods with the most considerable impact on my blood sugar were white rice and craft beer, although I can‚Äôt say I was surprised. Unfortunately, I love both of these things (so long Chipotle burrito bowls). It was disappointing to finally have to stare down the truth instead of continuing to live in willful ignorance.</span></p><p><img src="https://www.levelshealth.com/wp-content/uploads/2021/01/Chipotle-1.png" data-src="https://www.levelshealth.com/wp-content/uploads/2021/01/Chipotle-1.png" alt="" width="350" height="500" data-srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Chipotle-1.png 350w, https://www.levelshealth.com/wp-content/uploads/2021/01/Chipotle-1-280x400.png 280w, https://www.levelshealth.com/wp-content/uploads/2021/01/Chipotle-1-140x200.png 140w" data-sizes="(max-width: 350px) 100vw, 350px" srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Chipotle-1.png 350w, https://www.levelshealth.com/wp-content/uploads/2021/01/Chipotle-1-280x400.png 280w, https://www.levelshealth.com/wp-content/uploads/2021/01/Chipotle-1-140x200.png 140w"></p><p><span>I was also disappointed to learn how much sweet potato spikes my blood sugar. I knew sweet potatoes had a lower </span><a href="https://www.health.harvard.edu/diseases-and-conditions/glycemic-index-and-glycemic-load-for-100-foods"><span>glycemic index (GI)</span></a><span> than regular potatoes, but they still pushed me over the limit. I plan to keep them in my diet but will be more conscious about how often I eat them.</span></p><h3>The Surprising</h3><p><span>The biggest surprise of the challenge was discovering that quality tequila (G4 Reposado) had almost no effect on my blood sugar. Tequila that is 100% agave has zero carbs because of the distillation process (an average craft IPA has around 13g of carbs). Since beer is my usual go-to if I want a drink, I was happy to learn there was a healthier substitute I already enjoyed.</span></p><p><span>I also recognize I need to be careful here. Just because I didn‚Äôt experience a glucose spike doesn‚Äôt mean I didn‚Äôt have a biological response. </span><a href="https://academic.oup.com/ajcn/article/85/6/1545/4632987"><span>Research suggests</span></a><span> that alcohol decreases the liver‚Äôs ability to make new glucose, so it can trigger hypoglycemia, especially if you‚Äôre fasting or in a ketogenic state.</span></p><p><b>Related article: </b><a href="https://www.levelshealth.com/blog/alcohol-and-metabolic-fitness"><b>What does alcohol do to my glucose levels?</b></a></p><p><span>Another big surprise was discovering that my glucose levels aren‚Äôt just impacted by <em>what</em> I eat but also <em>when</em> I eat. I confirmed this because I meal prep twice a week to save time by eating the same meal multiple days in a row. (You may find that boring; I find it efficient.)</span></p><p><span>Eating the same thing for lunch and dinner on several challenge days was great for understanding how my body responds to food at different times of the day. All else being equal, my glucose spikes more after dinner than it does for lunch‚Äîsometimes by as much as 20mg/dL!</span></p><p><span>Even more surprising was noticing how little change there was from eating the same meal from day to day, but then having a large variance between lunch and dinner. I‚Äôm sure there‚Äôs a reason why, but I couldn‚Äôt tease a convincing explanation out of the data.</span></p><p><img src="https://www.levelshealth.com/wp-content/uploads/2021/01/Nov-11-1.png" data-src="https://www.levelshealth.com/wp-content/uploads/2021/01/Nov-11-1.png" alt="" width="350" height="500" data-srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Nov-11-1.png 350w, https://www.levelshealth.com/wp-content/uploads/2021/01/Nov-11-1-280x400.png 280w, https://www.levelshealth.com/wp-content/uploads/2021/01/Nov-11-1-140x200.png 140w" data-sizes="(max-width: 350px) 100vw, 350px" srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Nov-11-1.png 350w, https://www.levelshealth.com/wp-content/uploads/2021/01/Nov-11-1-280x400.png 280w, https://www.levelshealth.com/wp-content/uploads/2021/01/Nov-11-1-140x200.png 140w"></p><h2>What‚Äôs Changed</h2><p><span>Since the challenge ended, I‚Äôve made a few adjustments to my diet. I‚Äôm not one to make radical changes (like cutting out a particular food from my diet forever), but now I‚Äôm more careful when I still want to splurge. Here are some of the changes I‚Äôve made:</span></p><ul><li aria-level="1"><span>If I‚Äôm going to drink, I opt for quality spirits (neat or on the rocks) over craft beer or cocktails loaded with sugar.</span></li><li aria-level="1"><span>I‚Äôve reconsidered the idea of a cheat day. I still plan on enjoying the occasional night of pizza and beer or tacos and margaritas, but a cheat day isn‚Äôt just a day. Now that I‚Äôm aware that the effects of an unhealthy meal can last for 2-3 days, I better make sure that the meal is worth it.</span></li><li aria-level="1"><span>I need to avoid any sweetened beverage, no matter how ‚Äúhealthy.‚Äù&nbsp; Smoothies, sweetened kombucha, and sweetened coffee wrecked my glucose levels, even though they‚Äôre often touted as healthy choices. Better to eat my sweets after a hearty meal than to drink them.</span></li><li aria-level="1"><span>I‚Äôm now more conscious of what I order when I eat out. For example, I opt for the salad at Chipotle instead of the burrito bowl. I‚Äôve also switched to eating more sashimi instead of sushi to avoid eating as much rice.</span></li></ul><p><span>Even though the challenge only lasted 28 days, I learned more about my diet and lifestyle in those four weeks than I had from any previous blood test or book on dieting. The challenge confirmed that I already eat a healthy diet, but I need to make a few changes to ensure a healthy life for decades to come.</span></p><p><em><span>To learn more about the 28-day </span><a href="https://www.wearablechallenge.com/"><span>Wearable Challenge</span></a><span><a href="https://www.wearablechallenge.com/">, click here</a>.</span></em></p><p><em>Adapted from an original post <a href="https://lawsonblake.com/continuous-glucose-monitoring-levels-health/">here</a>.&nbsp;</em></p></div></div></div></section><section id="blog-single-content-related" data-ani-anchor=""></section></main>         </div>]]>
            </description>
            <link>https://www.levelshealth.com/blog/cgm-what-a-person-without-diabetes-learned-from-28-days-wearing-a-continuous-glucose-monitor</link>
            <guid isPermaLink="false">hacker-news-small-sites-26151295</guid>
            <pubDate>Tue, 16 Feb 2021 05:43:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Dial-up pool in 2020 on Raspberry Pi]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26150873">thread link</a>) | @toothbrush
<br/>
February 15, 2021 | https://dogemicrosystems.ca/wiki/Dial-up_pool | <a href="https://web.archive.org/web/*/https://dogemicrosystems.ca/wiki/Dial-up_pool">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="mw-content-text" lang="en-CA" dir="ltr"><div><p><a href="https://dogemicrosystems.ca/wiki/File:Dial_pool_header.jpg"><img alt="Dial pool header.jpg" src="https://dogemicrosystems.ca/mywiki/images/thumb/6/6f/Dial_pool_header.jpg/550px-Dial_pool_header.jpg" width="550" height="355" srcset="https://dogemicrosystems.ca/mywiki/images/thumb/6/6f/Dial_pool_header.jpg/825px-Dial_pool_header.jpg 1.5x, https://dogemicrosystems.ca/mywiki/images/thumb/6/6f/Dial_pool_header.jpg/1100px-Dial_pool_header.jpg 2x"></a></p>
<p><br>
Dial-up internet connections may feel like a relic of the past, but modern telephony equipment makes it cheap &amp; easy to set up your own dial-up ISP!
</p><p>Forget about pricey interconnects with the phone company: with a few pieces of commodity hardware and an hour of setup, you can emulate a blazing fast 56&nbsp;kbps <sup id="cite_ref-1"><a href="#cite_note-1">[1]</a></sup> network connection between two or more clients.
</p>

<h2><span id="Requirements">Requirements</span></h2>
<h3><span id="Hardware_Requirements">Hardware Requirements</span></h3>
<table>
<caption>Hardware Requirements
</caption>
<tbody><tr>
<th>
</th>
<th>Suggested hardware
</th>
<th>Used in this guide
</th></tr>
<tr>
<th>Dial-in server
</th>
<td>Any computer that supports a Unix/Linux operating system<sup id="cite_ref-debiancentric_2-0"><a href="#cite_note-debiancentric-2">[2]</a></sup></td>
<td>Raspberry Pi 3 model B
</td></tr>
<tr>
<th>Server modem(s)
</th>
<td>Any hardware modem(s) (see the <i>Choosing Modem Hardware</i> section below)</td>
<td>
<ul><li>Matrix MX 14.4k Modem using XECOM XE1414 module (V.32) (<a rel="nofollow" href="https://dogemicrosystems.ca/files/dial/XECOM_XE1414.pdf">datasheet</a>)</li>
<li>USRobotics Sportster 0459 56k External Modem (only 28.8 up) (<a rel="nofollow" href="https://dogemicrosystems.ca/pub/USRobotics/sportster/sportx2_Sportster_56K_x2.pdf">manual</a>)</li>
<li>Practical Peripherals PM144MT II Modem (V.32)</li>
<li>USRobotics USR5637 USB 56k Modem (V.92) (<a rel="nofollow" href="https://dogemicrosystems.ca/pub/USRobotics/USR5637/5637-ds.pdf">datasheet</a>)</li></ul>
</td></tr>
<tr>
<th>Client device(s)
</th>
<td>Any computer with a dial-up modem</td>
<td>
<ul><li>Windows 95 computer with a USRobotics Sportster 33.6k ISA modem</li>
<li>Compaq Presario V2000 laptop with built-in 56k modem</li></ul>
</td></tr>
<tr>
<th>Telephony
</th>
<td>Any device that can emulate a telephone line</td>
<td>4x Linksys SPA-2102 analog telephone adapters (ATA) (don't stack these ‚Äî they get very hot!)
</td></tr>
<tr>
<th>Connectors and adapters
</th>
<td>Whatever you need to connect the server modems to the dial-in server</td>
<td>
<ul><li>3x USB to RS-232 serial adapters (CH341 chipset)</li>
<li>3x DE-9 to DB-25 serial adapters</li></ul>
</td></tr></tbody></table>

<table>
<caption>Software Requirements
</caption>
<tbody><tr>
<th>
</th>
<th>Suggested software
</th>
<th>Used in this guide
</th></tr>
<tr>
<th>Dial-in server
</th>
<td>Any Linux/Unix operating system<sup id="cite_ref-debiancentric_2-1"><a href="#cite_note-debiancentric-2">[2]</a></sup></td>
<td>Debian Buster (Raspbian Lite release)
</td></tr>
<tr>
<th>Telephony
</th>
<td>Real PSTN telephone lines, custom dial tone circuitry, or a software PBX</td>
<td>Asterisk v16.2.1
</td></tr>
<tr>
<th>Tunnelling daemon
</th>
<td>Any ppp daemon</td>
<td>Samba ppp v2.4.7
</td></tr>
<tr>
<th>Terminal manager
</th>
<td>Any terminal multiplexer with virtual terminal support</td>
<td>mgetty v1.2.1
</td></tr></tbody></table>
<h3><span id="Choosing_Modem_Hardware">Choosing Modem Hardware</span></h3>
<p>Despite variations in modem hardware, this guide should work with any dial-up modem that presents itself as a serial device to the operating system, whether it connects over USB, ISA, PCI, or RS-232.
</p><p>However, <b>you should avoid using <a rel="nofollow" href="https://en.wikipedia.org/wiki/Softmodem">software modems</a></b> (sometimes called "softmodems" or "Winmodems") because they are error-prone and difficult to debug. This guide uses three external serial modems (with USB to RS-232 adapters) and one USB modem. Dedicated serial hardware is easy to troubleshoot, and scales to as many lines as you have USB/RS-232 ports.
</p><p>Dial-up over VoIP can be unreliable so it is best to keep speeds low. If you don't already have a modem I would recommend looking for a 14.4k modem for the sake of reliability.
</p>
<ul>
<li><div>
<div><p><a href="https://dogemicrosystems.ca/wiki/File:Four_modems.jpg"><img alt="" src="https://dogemicrosystems.ca/mywiki/images/thumb/2/26/Four_modems.jpg/120px-Four_modems.jpg" width="120" height="71" srcset="https://dogemicrosystems.ca/mywiki/images/thumb/2/26/Four_modems.jpg/180px-Four_modems.jpg 1.5x, https://dogemicrosystems.ca/mywiki/images/thumb/2/26/Four_modems.jpg/240px-Four_modems.jpg 2x"></a></p></div>
<p>Three external RS-232 and one USB modem
</p>
</div></li>
<li><div>
<div><p><a href="https://dogemicrosystems.ca/wiki/File:Modems_with_adaptors.jpg"><img alt="" src="https://dogemicrosystems.ca/mywiki/images/thumb/8/86/Modems_with_adaptors.jpg/120px-Modems_with_adaptors.jpg" width="120" height="71" srcset="https://dogemicrosystems.ca/mywiki/images/thumb/8/86/Modems_with_adaptors.jpg/180px-Modems_with_adaptors.jpg 1.5x, https://dogemicrosystems.ca/mywiki/images/thumb/8/86/Modems_with_adaptors.jpg/240px-Modems_with_adaptors.jpg 2x"></a></p></div>
<p>Modems with DB-25 to DE-9 adapters
</p>
</div></li>
<li><div>
<div><p><a href="https://dogemicrosystems.ca/wiki/File:Modem_USB_serial.jpg"><img alt="" src="https://dogemicrosystems.ca/mywiki/images/thumb/8/8c/Modem_USB_serial.jpg/120px-Modem_USB_serial.jpg" width="120" height="56" srcset="https://dogemicrosystems.ca/mywiki/images/thumb/8/8c/Modem_USB_serial.jpg/180px-Modem_USB_serial.jpg 1.5x, https://dogemicrosystems.ca/mywiki/images/thumb/8/8c/Modem_USB_serial.jpg/240px-Modem_USB_serial.jpg 2x"></a></p></div>
<p>Modem and USB to DE-9 adapter
</p>
</div></li>
<li><div>
<div><p><a href="https://dogemicrosystems.ca/wiki/File:Pi_USB_and_modems.jpg"><img alt="" src="https://dogemicrosystems.ca/mywiki/images/thumb/b/b4/Pi_USB_and_modems.jpg/120px-Pi_USB_and_modems.jpg" width="120" height="68" srcset="https://dogemicrosystems.ca/mywiki/images/thumb/b/b4/Pi_USB_and_modems.jpg/180px-Pi_USB_and_modems.jpg 1.5x, https://dogemicrosystems.ca/mywiki/images/thumb/b/b4/Pi_USB_and_modems.jpg/240px-Pi_USB_and_modems.jpg 2x"></a></p></div>
<p>Raspberry Pi, modems, and USB adapters
</p>
</div></li>
<li><div>
<div><p><a href="https://dogemicrosystems.ca/wiki/File:Four_SPA-2102.jpg"><img alt="" src="https://dogemicrosystems.ca/mywiki/images/thumb/e/ee/Four_SPA-2102.jpg/120px-Four_SPA-2102.jpg" width="120" height="70" srcset="https://dogemicrosystems.ca/mywiki/images/thumb/e/ee/Four_SPA-2102.jpg/180px-Four_SPA-2102.jpg 1.5x, https://dogemicrosystems.ca/mywiki/images/thumb/e/ee/Four_SPA-2102.jpg/240px-Four_SPA-2102.jpg 2x"></a></p></div>
<p>Four SPA-2102 ATAs
</p>
</div></li>
<li><div>
<div><p><a href="https://dogemicrosystems.ca/wiki/File:Raspberry_pi_3_in_case.jpg"><img alt="" src="https://dogemicrosystems.ca/mywiki/images/thumb/3/3d/Raspberry_pi_3_in_case.jpg/120px-Raspberry_pi_3_in_case.jpg" width="120" height="80" srcset="https://dogemicrosystems.ca/mywiki/images/thumb/3/3d/Raspberry_pi_3_in_case.jpg/180px-Raspberry_pi_3_in_case.jpg 1.5x, https://dogemicrosystems.ca/mywiki/images/thumb/3/3d/Raspberry_pi_3_in_case.jpg/240px-Raspberry_pi_3_in_case.jpg 2x"></a></p></div>
<p>Raspberry Pi 3 model B in a case
</p>
</div></li>
</ul>
<h2><span id="Setting_up_the_Dial-in_Server">Setting up the Dial-in Server</span></h2>
<p>The dial-in server will answer calls from the modems and act as a proxy for network resources.
</p>
<h3><span id="Using_a_Raspberry_Pi">Using a Raspberry Pi</span></h3>
<ol><li>Download the latest version of Raspbian Lite from <a rel="nofollow" href="https://downloads.raspberrypi.org/raspbian_lite_latest">raspberrypi.org</a> and follow <a rel="nofollow" href="https://www.raspberrypi.org/documentation/installation/installing-images/README.md">the installation instructions</a></li>
<li>Before installing the SD card in your Raspberry Pi, enable SSH to avoid needing a mouse and keyboard:
<ol><li>Mount the Raspberry Pi boot partition (most operating systems will do this automatically after writing the image)</li>
<li>Create an empty file named <code>ssh</code> (with no extension) in the same folder as <code>config.txt</code></li>
<li>Safely eject the SD card</li></ol></li>
<li>Insert the SD card in your Raspberry Pi and connect the power and network cables</li>
<li>Connect to the Raspberry Pi using SSH with the default username <code>pi</code> and password <code>raspberry</code>
<ul><li>If you know the IP address of the Pi, you can connect to it directly using your operating system's built-in SSH client (on Windows, click <a rel="nofollow" href="https://docs.microsoft.com/en-us/windows-server/administration/openssh/openssh_install_firstuse">here</a> for instructions to install openssh, or use a standalone client like <a rel="nofollow" href="https://www.chiark.greenend.org.uk/~sgtatham/putty/">PuTTY</a>)</li>
<li>If you don't know the IP address of the Pi, use a utility like <a rel="nofollow" href="https://github.com/adafruit/Adafruit-Pi-Finder">Adafruit's Pi Finder</a> to find its IP address and log in</li></ul></li></ol>
<h3><span id="Using_a_PC_or_other_hardware">Using a PC or other hardware</span></h3>
<p>Install a Linux or Unix distribution of your choice before proceeding. Installation instructions are beyond the scope of this guide; you should consult your distribution's instructions for help. The commands given in this guide may need to be changed if you're not using a Debian-derived Linux. (Click these links for installation instructions for <a rel="nofollow" href="https://help.ubuntu.com/">Ubuntu</a> and <a rel="nofollow" href="https://www.debian.org/releases/stable/installmanual">Debian</a>).
</p>
<h2><span id="The_Telephone_Network">The Telephone Network</span></h2>
<p>We need a way to connect our ISP modem to clients. There are many ways to approach this:
</p>
<ul><li>Use the actual PSTN (real phone lines)</li>
<li>Use a PBX to provide local connectivity</li>
<li>Build your own circuity</li>
<li>Build a fake PSTN using VoIP ATAs and a software PBX</li></ul>
<p>This guide builds a fake PSTN with SIP and ATAs. Here's the breakdown:
</p>
<ul><li>Asterisk ‚Äî a VoIP PBX on the dial-in server ‚Äî accepts connections from multiple SIP client accounts and routes calls between them.</li>
<li>Cisco-Linksys SPA-2102 ATAs ‚Äî which support two phone lines each ‚Äî act as SIP clients connected to the PBX.</li>
<li>The ISP-side modem(s) each connect to one phone line, and a client device to a second line.</li></ul>
<p>This design can scale up to as many modems and clients as desired: just add more ATAs!
</p>
<h4><span id="Asterisk_Setup">Asterisk Setup</span></h4>
<ol>
<li>Install your Debian-based Linux distribution of choice (Raspbian covered above)</li>
<li>Update to latest packages and reboot if required<br></li>
<pre>sudo apt-get update
sudo apt-get upgrade
sudo reboot</pre>
<li>Install Asterisk:<br></li>
<pre>sudo apt install asterisk</pre>
<li>Append configuration for the SIP clients to the end of <code>/etc/asterisk/sip.conf</code>:
<br>
<div>
<p>This configuration is for 4 modems and 4 clients on 4 ATAs, but can be extended to as many or as few as you need.
</p>
<div>
<pre>[ata-modem1]
context=default                 ; Using the default context because this is a simple design
type=friend                     ; Allow calls to be placed and received to keep things simple
secret=password                 ; Only the most secure passwords around here
qualify=200                     ; Qualify peer is no more than 200ms away
host=dynamic                    ; This device registers with us
directmedia=yes                 ; Send RTP directly to the peer to reduce latency and jitter
nat=no                          ; Only use symmetric IP routing

[ata-modem2]
context=default
type=friend
secret=password
qualify=200
host=dynamic
directmedia=yes
nat=no

[ata-modem3]
context=default
type=friend
secret=password
qualify=200
host=dynamic
directmedia=yes
nat=no

[ata-modem4]
context=default
type=friend
secret=password
qualify=200
host=dynamic
directmedia=yes
nat=no

[ata-client1]
context=default
type=friend
secret=password
qualify=200
host=dynamic
directmedia=yes
nat=no

[ata-client2]
context=default
type=friend
secret=password
qualify=200
host=dynamic
directmedia=yes
nat=no

[ata-client3]
context=default
type=friend
secret=password
qualify=200
host=dynamic
directmedia=yes
nat=no

[ata-client4]
context=default
type=friend
secret=password
qualify=200
host=dynamic
directmedia=yes
nat=no
</pre>
</div>
</div>
</li>
<li>Edit <code>/etc/asterisk/extensions.conf</code> and make two changes:<br>
<ol><li>Search for <code>[default]</code> (should be around line 672) and comment out <code>include =&gt; demo</code> by prepending it with a semicolon (<code>;</code>)</li>
<li>Underneath that line, add the new lines for the specific modems and the dial pool:
<pre>exten =&gt; 881,1,Dial(SIP/ata-modem1, 30)
exten =&gt; 882,1,Dial(SIP/ata-modem2, 30)
exten =&gt; 883,1,Dial(SIP/ata-modem3, 30)
exten =&gt; 884,1,Dial(SIP/ata-modem4, 30)
exten =&gt; _X!,1,Dial(SIP/ata-modem1&amp;SIP/ata-modem2&amp;SIP/ata-modem3&amp;SIP/ata-modem4, 30)
</pre>
The <code>_X!</code> tells this dial plan rule to match any number a client dials and send the call to all of the ata-modem[1-4] clients simultaneously with a 30 second timeout. To use a specific modemm, dial its extension and only that modem will ring.</li></ol>
</li>
<li>Enable the asterisk service so it starts on boot:<br>
<code>sudo systemctl enable asterisk</code><br>
</li>
<li>
Start Asterisk:<br>
<code>sudo systemctl start asterisk</code></li>
</ol>
<h4><span id="ATA_Configuration">ATA Configuration</span></h4>
<p>These instructions use unlocked SPA-2102s with firmware versions 5.2.5 and 5.1.13. If your device is locked, <a rel="nofollow" href="http://www.toughdev.com/content/2012/06/unlocking-the-linksys-spa2102-phone-adapter/">follow these instructions to unlock it</a>.
</p><p>Client and modem lines are configured the same, just with different passwords.
</p>
<div>
<p>Starting with a factory default configuration, to enable browser-based configuration:
</p>
<div>
<p>Example of configuring a client line. (Same settings for modem line, just a different username/password)
</p><p>Lets start with factory default configuration and enabling web-based management.
</p>
<ol><li>Connect a phone to LINE 1</li>
<li>Dial **** to enter the configuration menu</li>
<li>Dial 73738# then 1# then hang up. The unit is now factory reset</li>
<li>Connect the Internet ethernet connection to your local network</li>
<li>Dial **** to enter the configuration menu</li>
<li>Dial 7932# then 1# then 1 then hang up. The web interface is now accessible from the 'Internet' side of the ATA</li>
<li>Dial **** to enter the configuration menu</li>
<li>Dial 110# to hear the IP address of your ATA</li></ol>
</div>
</div>
<div>
<p>Once browser-based configuration is enabled, navigate to the ATA's IP address and change the following options:
</p>
<div>
<p>On a PC point your web browser at the IP of the ATA to load the web configuration.
Several options need to be changed.
</p>
<ol><li>Click "Admin Login"</li>
<li>Click "Advanced"</li>
<li>(Optiona) Click "WAN Setup" if you need to change the IP address of the ATA</li>
<li>Click the "Voice" tab</li>
<li>Click "Line 1"</li>
<li>Change "Network Jitter Level" to "extremely high" or "high"</li>
<li>Change "Jitter Buffer Adjustment" to "disable"</li>
<li>Set "Proxy" to the IP address of the Raspberry Pi running askterisk</li>
<li>Set "User ID" to the username of the SIP user you are configuring, "ata-client3"</li>
<li>Set "Password" to the password of that user</li>
<li>Change "Call Waiting Serv" to "no"</li>
<li>Change "Three Way Call Serv" to "no"</li>
<li>Change "Preferred Codec" to "G711u"</li>
<li>Change "Use Pref Codec Only" to "yes"</li>
<li>Change "Silence Supp Enable" to "no"</li>
<li>Change "Silence Threshold" to "high"</li>
<li>Change "Echo Canc Enable" to "no"</li>
<li>Change "Echo Canc Adapt Enable" to "no"</li>
<li>Change "Echo Supp Enable" to "no"</li>
<li>Change "FAX CED Detect Enable" to "no"</li>
<li>Change "FAX CNG Detect Enable" to "no"</li>
<li>Change "FAX Process NSE" to "no"</li>
<li>Change "FAX Enable T38" to "no"</li>
<li>Click "Submit All Changes"</li></ol>
<p>Repeat these instructions for Line 2 if you need to use both ports.
</p>
</div>
</div>
<p>When your ATA first connects to the SIP proxy (Asterisk), you will see output like this on the Asterisk console (launched with <code>sudo asterisk -rvvvv</code>):
</p>
<pre>raspberrypi*CLI&gt; 
[Apr 27 04:08:29] NOTICE[573]: chan_sip.c:24884 handle_response_peerpoke: ‚Ä¶</pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://dogemicrosystems.ca/wiki/Dial-up_pool">https://dogemicrosystems.ca/wiki/Dial-up_pool</a></em></p>]]>
            </description>
            <link>https://dogemicrosystems.ca/wiki/Dial-up_pool</link>
            <guid isPermaLink="false">hacker-news-small-sites-26150873</guid>
            <pubDate>Tue, 16 Feb 2021 04:16:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[All about thread-local storage]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26150522">thread link</a>) | @todsacerdoti
<br/>
February 15, 2021 | https://maskray.me/blog/2021-02-14-all-about-thread-local-storage | <a href="https://web.archive.org/web/*/https://maskray.me/blog/2021-02-14-all-about-thread-local-storage">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
      
        <p>Thread-local storage (TLS) provides a mechanism allocating distinct objects for different threads. It is the usual implementation for GCC extension <code>__thread</code>, C11 <code>_Thread_local</code>, and C++11 <code>thread_local</code>, which allow the use of the declared name to refer to the entity associated with the current thread. This article will describe thread-local storage on ELF platforms in detail, and touch on other related topics, such as: thread-specific data keys and Windows/macOS TLS.</p>
<p>An example usage of thread-local storage is POSIX <code>errno</code>:</p>
<blockquote>
<p>Each thread has its own thread ID, scheduling priority and policy, errno value, floating point environment, thread-specific key/value bindings, and the required system resources to support a flow of control.</p>
</blockquote>
<p>Different threads have different <code>errno</code> copies. <code>errno</code> is typically defined as a function which returns a thread-local variable.</p>
<p>For each architecture, the authoritative ELF ABI document is the processor supplement (psABI) to the System V ABI (generic ABI). These documents usually reference <em>The ELF Handling for Thread-Local Storage</em> by Ulrich Drepper. The document, however, mixes general specifications and glibc internals.</p>
<h2 id="representation">Representation</h2>
<h3 id="assembler-behavior">Assembler behavior</h3>
<p>The compiler usually defines thread-local variables in <code>.tdata</code> and <code>.tbss</code> sections (which have the section flag <code>SHF_TLS</code>). The symbols representing thread-local variables have type <code>STT_TLS</code> (representing thread-local storage entities). In GNU as syntax, you can give <code>a</code> the type <code>STT_TLS</code> with <code>.type a, @tls_object</code>. The <code>st_value</code> value of a TLS symbols is the offset relative to the defining section.</p>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br></pre></td><td><pre><span>.section .tbss,"awT",@nobits</span><br><span>.globl a, b</span><br><span>.type a, @tls_object</span><br><span>.type b, @tls_object</span><br><span>a:</span><br><span>  .zero 4</span><br><span>  .size a, .-a</span><br><span>b:</span><br><span>  .zero 4</span><br><span>  .size b, .-b</span><br></pre></td></tr></tbody></table></figure>
<p>In this example, <code>st_value(a)=0</code> while <code>st_value(b)=4</code>.</p>
<p>In Clang and GCC produced assembly, thread-local variables are annotated as <code>.type a, @object</code> (<code>STT_OBJECT</code>). When the assembler sees that such symbols are defined in <code>SHF_TLS</code> sections or referenced by TLS relocations, <code>STT_NOTYPE</code>/<code>STT_OBJECT</code> will be upgraded to <code>STT_TLS</code>.</p>
<p>GNU as supports an directive <code>.tls_common</code> which defines <code>STT_TLS SHN_COMMON</code> symbols. This is an obsecure feature. It is not clear whether GCC still has a code path which emits <code>.tls_common</code> directives. LLVM integrated assembler does not support <code>.tls_common</code>.</p>
<h3 id="linker-behavior">Linker behavior</h3>
<p>The linker combines <code>.tdata</code> input sections into a <code>.tdata</code> output section. <code>.tbss</code> input sections are combined into a <code>.tbss</code> output section. The two <code>SHF_TLS</code> output sections are placed into a <code>PT_TLS</code> program header.</p>
<ul>
<li><code>p_offset</code>: the file offset of the TLS initialization image</li>
<li><code>p_vaddr</code>: the virtual address of the TLS initialization image</li>
<li><code>p_filesz</code>: the size of the TLS initialization image</li>
<li><code>p_memsz</code>: the total size of the thread-local storage. The last <code>p_memsz-p_filesz</code> bytes will be zeroed by the dynamic loader.</li>
<li><code>p_align</code>: alignment</li>
</ul>
<p>The <code>PT_TLS</code> program header is contained in a <code>PT_LOAD</code> program header. Conceptually <code>PT_TLS</code> and <code>STT_TLS</code> symbols are like in a separate address space. The dynamic loader should copy the <code>[p_vaddr,p_vaddr+p_filesz)</code> of the TLS initialization image to the corresponding static TLS block.</p>
<p>In executable and shared object files, <code>st_value</code> normally holds a virtual address. For a <code>STT_TLS</code> symbol, <code>st_value</code> holds an offset relative to the virtual address of the <code>PT_TLS</code> program header. The first byte of <code>PT_TLS</code> is referenced by the TLS symbol with <code>st_value==0</code>.</p>
<p>GNU ld treats <code>STT_TLS SHN_COMMON</code> symbols as defined in <code>.tcommon</code> sections. Its internal linker script places such sections into the output section <code>.tdata</code>. LLD does not support <code>STT_TLS SHN_COMMON</code> symbols.</p>
<h3 id="dynamic-loader-behavior">Dynamic loader behavior</h3>
<p>The dynamic loader collects <code>PT_TLS</code> program headers from the main executable and immediately loaded shared objects (via transitive <code>DT_NEEDED</code>), and allocates static TLS blocks, one block for each <code>PT_TLS</code>. For each <code>PT_TLS</code>, the dynamic loader copies <code>p_filesz</code> bytes from the TLS initialization image to the TLS block and sets the trailing <code>p_memsz-p_filesz</code> bytes to zeroes.</p>
<p>For the static TLS block of the main executable, the module ID is one and the TP offset of a TLS symbol is a link-time constant. The linker and the dynamic loader share the same formula.</p>
<p>For a shared object loaded at program start, the offset from the thread pointer to its static TLS block is a fixed value at program start, albeit not a link-time constant. The offset can be referenced by a GOT dynamic relocation used by the initial-exec TLS model.</p>
<p><em>The ELF Handling for Thread-Local Storage</em> describes two TLS variants and specifies their data structures. However, only the TP offset of the static TLS block of the main executable is a hard requirement. Nevertheless, libc implementations usually place static TLS blocks together, and allocate a space for both the thread control block and the static TLS blocks.</p>
<p>For a new thread created by <code>pthread_create</code>, the static TLS blocks are usually allocated as part of the thread stack. Without a guard page between the largest address of the stack and the thread control block, this could be considered as vulnerable as stack overflow can overwrite the thread control block.</p>
<h2 id="models">Models</h2>
<h3 id="local-exec-tls-model-executable-non-preemptible">Local exec TLS model (executable &amp; non-preemptible)</h3>
<p>This is the most efficient TLS model. It applies when the TLS symbol is defined in the executable.</p>
<p>The compiler picks this model in <code>-fno-pic/-fpie</code> modes if the variable is</p>
<ul>
<li>a definition</li>
<li>or a declaration with a non-default visibility.</li>
</ul>
<p>The first condition is obvious. The second condition is becuase a non-default visibility means the variable must be defined by another translation unit in the executable.</p>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br><span>3</span><br></pre></td><td><pre><span>_Thread_local <span>int</span> def;</span><br><span>__attribute__((visibility(<span>"hidden"</span>))) <span>extern</span> <span>thread_local</span> <span>int</span> ref;</span><br><span><span><span>int</span> <span>foo</span><span>()</span> </span>{ <span>return</span> def + ref; }</span><br></pre></td></tr></tbody></table></figure>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br></pre></td><td><pre><span># x86-64</span><br><span>movl %fs:def@TPOFF, %eax</span><br></pre></td></tr></tbody></table></figure>
<p>For the static TLS block of the main executable, the TP offset of a TLS symbol is a link-time constant. Here is a list of common relocation types:</p>
<ul>
<li>arm: <code>R_ARM_TLS_LE32</code></li>
<li>aarch64:
<ul>
<li>-mtls-size=12: <code>R_AARCH64_TLSLE_ADD_TPREL_LO12</code></li>
<li>-mtls-size=24 (default): <code>R_AARCH64_TLSLE_ADD_TPREL_HI12</code>, <code>R_AARCH64_TLSLE_ADD_TPREL_LO12_NC</code></li>
<li>-mtls-size=32: <code>R_AARCH64_TLSLE_MOVW_TPREL_G1</code>, <code>R_AARCH64_TLSLE_MOVW_TPREL_G0_NC</code></li>
<li>-mtls-size=48: <code>R_AARCH64_TLSLE_MOVW_TPREL_G2</code>, <code>R_AARCH64_TLSLE_MOVW_TPREL_G1_NC</code>, <code>R_AARCH64_TLSLE_MOVW_TPREL_G0_NC</code></li>
</ul></li>
<li>i386: <code>R_386_TLS_LE</code></li>
<li>x86-64: <code>R_X86_64_TPOFF32</code></li>
<li>mips: <code>R_MIPS_TPREL_HI16</code>, <code>R_MIPS_TPREL_LO16</code></li>
<li>ppc32: <code>R_PPC_TPREL_HA</code>, <code>R_PPC_TPREL_LO</code></li>
<li>ppc64: <code>R_PPC64_TPREL_HA</code>, <code>R_PPC64_TPREL_LO</code></li>
<li>riscv: <code>R_RISCV_TPREL_HI20</code>, <code>R_RISCV_TPREL_LO12_I</code>, <code>R_RISCV_TPREL_LO12_S</code></li>
</ul>
<p>For RISC architectures, because an instruction typically has 4 bytes and cannot encode a 32-bit offset, it usually takes two instructions to materialize a TP offset.</p>
<p>In <a target="_blank" rel="noopener" href="https://reviews.llvm.org/D93331">https://reviews.llvm.org/D93331</a>, I patched LLD to reject local-exec TLS relocations in <code>-shared</code> mode. In GNU ld, at least arm, riscv and x86's ports have the similar diagnostics, but aarch64 and ppc64 do not error.</p>
<h3 id="initial-exec-tls-model-executable-preemptible">Initial exec TLS model (executable &amp; preemptible)</h3>
<p>This model is less efficient than local exec. It applies when the TLS symbol is defined in the executable or a shared object available at program start. The shared object can be due to <code>DT_NEEDED</code> or <code>LD_PRELOAD</code>.</p>
<p>The compiler picks this model in <code>-fno-pic/-fpie</code> modes if the variable is a declaration with default visibility. The idea is that a symbol referenced by the executable must be defined by an immediately loaded shared object, instead of a dlopen loaded shared object. The linker enforces this as well by defaulting to <code>-z defs</code> for a <code>-no-pie/-pie</code> link.</p>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br></pre></td><td><pre><span><span>extern</span> <span>thread_local</span> <span>int</span> ref;</span><br><span><span><span>int</span> <span>foo</span><span>()</span> </span>{ <span>return</span> ref; }</span><br></pre></td></tr></tbody></table></figure>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br><span>3</span><br></pre></td><td><pre><span># x86-64</span><br><span>movq ref@GOTTPOFF(%rip), %rax</span><br><span>movl %fs:(%rax), %eax</span><br></pre></td></tr></tbody></table></figure>
<p>Because the offset from the thread pointer to the start of a static block is fixed at program start, such an offset can be encoded by a GOT relocation. Such relocation types typically have <code>GOT</code> and <code>TPREL/TPOFF</code> in their names. Here is a list of common relocation types:</p>
<ul>
<li>arm: <code>R_ARM_TLS_IE32</code></li>
<li>aarch64: <code>R_AARCH64_TLSIE_ADR_GOTTPREL_PAGE21</code>, <code>R_AARCH64_TLSIE_LD64_GOTTPREL_LO12_NC</code></li>
<li>i386: <code>R_386_TLS_IE</code></li>
<li>x86-64: <code>R_X86_64_GOTTPOFF</code></li>
<li>ppc32: <code>R_PPC_GOT_TPREL16</code></li>
<li>ppc64: <code>R_PPC64_GOT_TPREL16_HA</code>, <code>R_PPC64_GOT_TPREL16_LO_DS</code></li>
<li>riscv: <code>R_RISCV_TLS_GOT_HI20</code>, <code>R_RISCV_PCREL_LO12_I</code></li>
</ul>
<p>If the TLS symbol does not satisfy initial-exec to local-exec relaxation requirements, the linker will allocate a GOT entry and emit a dynamic relocation. Here is a list of dynamic relocation types:</p>
<ul>
<li>arm: <code>R_ARM_TLS_TPOFF32</code></li>
<li>aarch64: <code>R_AARCH64_TLS_TPREL64</code></li>
<li>mips32: <code>R_MIPS_TLS_TPREL32</code></li>
<li>mips64: <code>R_MIPS_TLS_TPREL64</code></li>
<li>i386: <code>R_386_TPOFF</code></li>
<li>x86-64: <code>R_X86_64_TPOFF64</code></li>
<li>ppc32: <code>R_PPC_TPREL32</code></li>
<li>ppc64: <code>R_PPC64_TPREL64</code></li>
<li>riscv: <code>R_RISCV_TLS_TPREL64</code></li>
</ul>
<p>While they have <code>TPREL</code> or <code>TPOFF</code> in their names, these dynamic relocations have the same bitwidth as the word size. This is a good way to distinguish them from the local-exec relocation types used in object files.</p>
<p>If you add the <code>__attribute((tls_model("initial-exec")))</code> attribute, a thread-local variable can use this model in <code>-fpic</code> mode. If the object file is linked into an executable, everything is fine. If the object file is linked into a shared object, the shared object generally needs to be an immediately loaded shared object. The linker sets the <code>DF_STATIC_TLS</code> flag to annotate a shared object with initial-exec TLS relocations.</p>
<p>glibc ld.so reserves some space in static TLS blocks and allows dlopen on such a shared object if its TLS size is small. There could be an obscure reason for using such an attribute: general dynamic and local dynamic TLS models are not async-signal-safe in glibc. However, other libc implementations may not reserve additional TLS space for dlopen'ed initial-exec shared objects, e.g. musl will error.</p>
<h3 id="general-dynamic-and-local-dynamic-tls-models-dso">General dynamic and local dynamic TLS models (DSO)</h3>
<p>The two modes are used when the TLS symbol may be defined by a shared object. They do not assume the TLS symbol is backed by a static TLS block. Instead, they assume that the thread-local storage of the module may be dynamically allocated, making the models suitable for dlopen usage. The dynamically allocated TLS storage is usually referred to as dynamic TLS.</p>
<p>Each TLS symbol is ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://maskray.me/blog/2021-02-14-all-about-thread-local-storage">https://maskray.me/blog/2021-02-14-all-about-thread-local-storage</a></em></p>]]>
            </description>
            <link>https://maskray.me/blog/2021-02-14-all-about-thread-local-storage</link>
            <guid isPermaLink="false">hacker-news-small-sites-26150522</guid>
            <pubDate>Tue, 16 Feb 2021 03:17:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[All about thread-local storage]]>
            </title>
            <description>
<![CDATA[
Score 50 | Comments 10 (<a href="https://news.ycombinator.com/item?id=26150512">thread link</a>) | @MaskRay
<br/>
February 15, 2021 | https://maskray.me/blog/2021-02-14-all-about-thread-local-storage | <a href="https://web.archive.org/web/*/https://maskray.me/blog/2021-02-14-all-about-thread-local-storage">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
      
        <p>Thread-local storage (TLS) provides a mechanism allocating distinct objects for different threads. It is the usual implementation for GCC extension <code>__thread</code>, C11 <code>_Thread_local</code>, and C++11 <code>thread_local</code>, which allow the use of the declared name to refer to the entity associated with the current thread. This article will describe thread-local storage on ELF platforms in detail, and touch on other related topics, such as: thread-specific data keys and Windows/macOS TLS.</p>
<p>An example usage of thread-local storage is POSIX <code>errno</code>:</p>
<blockquote>
<p>Each thread has its own thread ID, scheduling priority and policy, errno value, floating point environment, thread-specific key/value bindings, and the required system resources to support a flow of control.</p>
</blockquote>
<p>Different threads have different <code>errno</code> copies. <code>errno</code> is typically defined as a function which returns a thread-local variable.</p>
<p>For each architecture, the authoritative ELF ABI document is the processor supplement (psABI) to the System V ABI (generic ABI). These documents usually reference <em>The ELF Handling for Thread-Local Storage</em> by Ulrich Drepper. The document, however, mixes general specifications and glibc internals.</p>
<h2 id="representation">Representation</h2>
<h3 id="assembler-behavior">Assembler behavior</h3>
<p>The compiler usually defines thread-local variables in <code>.tdata</code> and <code>.tbss</code> sections (which have the section flag <code>SHF_TLS</code>). The symbols representing thread-local variables have type <code>STT_TLS</code> (representing thread-local storage entities). In GNU as syntax, you can give <code>a</code> the type <code>STT_TLS</code> with <code>.type a, @tls_object</code>. The <code>st_value</code> value of a TLS symbols is the offset relative to the defining section.</p>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br></pre></td><td><pre><span>.section .tbss,"awT",@nobits</span><br><span>.globl a, b</span><br><span>.type a, @tls_object</span><br><span>.type b, @tls_object</span><br><span>a:</span><br><span>  .zero 4</span><br><span>  .size a, .-a</span><br><span>b:</span><br><span>  .zero 4</span><br><span>  .size b, .-b</span><br></pre></td></tr></tbody></table></figure>
<p>In this example, <code>st_value(a)=0</code> while <code>st_value(b)=4</code>.</p>
<p>In Clang and GCC produced assembly, thread-local variables are annotated as <code>.type a, @object</code> (<code>STT_OBJECT</code>). When the assembler sees that such symbols are defined in <code>SHF_TLS</code> sections or referenced by TLS relocations, <code>STT_NOTYPE</code>/<code>STT_OBJECT</code> will be upgraded to <code>STT_TLS</code>.</p>
<p>GNU as supports an directive <code>.tls_common</code> which defines <code>STT_TLS SHN_COMMON</code> symbols. This is an obsecure feature. It is not clear whether GCC still has a code path which emits <code>.tls_common</code> directives. LLVM integrated assembler does not support <code>.tls_common</code>.</p>
<h3 id="linker-behavior">Linker behavior</h3>
<p>The linker combines <code>.tdata</code> input sections into a <code>.tdata</code> output section. <code>.tbss</code> input sections are combined into a <code>.tbss</code> output section. The two <code>SHF_TLS</code> output sections are placed into a <code>PT_TLS</code> program header.</p>
<ul>
<li><code>p_offset</code>: the file offset of the TLS initialization image</li>
<li><code>p_vaddr</code>: the virtual address of the TLS initialization image</li>
<li><code>p_filesz</code>: the size of the TLS initialization image</li>
<li><code>p_memsz</code>: the total size of the thread-local storage. The last <code>p_memsz-p_filesz</code> bytes will be zeroed by the dynamic loader.</li>
<li><code>p_align</code>: alignment</li>
</ul>
<p>The <code>PT_TLS</code> program header is contained in a <code>PT_LOAD</code> program header. Conceptually <code>PT_TLS</code> and <code>STT_TLS</code> symbols are like in a separate address space. The dynamic loader should copy the <code>[p_vaddr,p_vaddr+p_filesz)</code> of the TLS initialization image to the corresponding static TLS block.</p>
<p>In executable and shared object files, <code>st_value</code> normally holds a virtual address. For a <code>STT_TLS</code> symbol, <code>st_value</code> holds an offset relative to the virtual address of the <code>PT_TLS</code> program header. The first byte of <code>PT_TLS</code> is referenced by the TLS symbol with <code>st_value==0</code>.</p>
<p>GNU ld treats <code>STT_TLS SHN_COMMON</code> symbols as defined in <code>.tcommon</code> sections. Its internal linker script places such sections into the output section <code>.tdata</code>. LLD does not support <code>STT_TLS SHN_COMMON</code> symbols.</p>
<h3 id="dynamic-loader-behavior">Dynamic loader behavior</h3>
<p>The dynamic loader collects <code>PT_TLS</code> program headers from the main executable and immediately loaded shared objects (via transitive <code>DT_NEEDED</code>), and allocates static TLS blocks, one block for each <code>PT_TLS</code>. For each <code>PT_TLS</code>, the dynamic loader copies <code>p_filesz</code> bytes from the TLS initialization image to the TLS block and sets the trailing <code>p_memsz-p_filesz</code> bytes to zeroes.</p>
<p>For the static TLS block of the main executable, the module ID is one and the TP offset of a TLS symbol is a link-time constant. The linker and the dynamic loader share the same formula.</p>
<p>For a shared object loaded at program start, the offset from the thread pointer to its static TLS block is a fixed value at program start, albeit not a link-time constant. The offset can be referenced by a GOT dynamic relocation used by the initial-exec TLS model.</p>
<p><em>The ELF Handling for Thread-Local Storage</em> describes two TLS variants and specifies their data structures. However, only the TP offset of the static TLS block of the main executable is a hard requirement. Nevertheless, libc implementations usually place static TLS blocks together, and allocate a space for both the thread control block and the static TLS blocks.</p>
<p>For a new thread created by <code>pthread_create</code>, the static TLS blocks are usually allocated as part of the thread stack. Without a guard page between the largest address of the stack and the thread control block, this could be considered as vulnerable as stack overflow can overwrite the thread control block.</p>
<h2 id="models">Models</h2>
<h3 id="local-exec-tls-model-executable-non-preemptible">Local exec TLS model (executable &amp; non-preemptible)</h3>
<p>This is the most efficient TLS model. It applies when the TLS symbol is defined in the executable.</p>
<p>The compiler picks this model in <code>-fno-pic/-fpie</code> modes if the variable is</p>
<ul>
<li>a definition</li>
<li>or a declaration with a non-default visibility.</li>
</ul>
<p>The first condition is obvious. The second condition is becuase a non-default visibility means the variable must be defined by another translation unit in the executable.</p>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br><span>3</span><br></pre></td><td><pre><span>_Thread_local <span>int</span> def;</span><br><span>__attribute__((visibility(<span>"hidden"</span>))) <span>extern</span> <span>thread_local</span> <span>int</span> ref;</span><br><span><span><span>int</span> <span>foo</span><span>()</span> </span>{ <span>return</span> def + ref; }</span><br></pre></td></tr></tbody></table></figure>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br></pre></td><td><pre><span># x86-64</span><br><span>movl %fs:def@TPOFF, %eax</span><br></pre></td></tr></tbody></table></figure>
<p>For the static TLS block of the main executable, the TP offset of a TLS symbol is a link-time constant. Here is a list of common relocation types:</p>
<ul>
<li>arm: <code>R_ARM_TLS_LE32</code></li>
<li>aarch64:
<ul>
<li>-mtls-size=12: <code>R_AARCH64_TLSLE_ADD_TPREL_LO12</code></li>
<li>-mtls-size=24 (default): <code>R_AARCH64_TLSLE_ADD_TPREL_HI12</code>, <code>R_AARCH64_TLSLE_ADD_TPREL_LO12_NC</code></li>
<li>-mtls-size=32: <code>R_AARCH64_TLSLE_MOVW_TPREL_G1</code>, <code>R_AARCH64_TLSLE_MOVW_TPREL_G0_NC</code></li>
<li>-mtls-size=48: <code>R_AARCH64_TLSLE_MOVW_TPREL_G2</code>, <code>R_AARCH64_TLSLE_MOVW_TPREL_G1_NC</code>, <code>R_AARCH64_TLSLE_MOVW_TPREL_G0_NC</code></li>
</ul></li>
<li>i386: <code>R_386_TLS_LE</code></li>
<li>x86-64: <code>R_X86_64_TPOFF32</code></li>
<li>mips: <code>R_MIPS_TPREL_HI16</code>, <code>R_MIPS_TPREL_LO16</code></li>
<li>ppc32: <code>R_PPC_TPREL_HA</code>, <code>R_PPC_TPREL_LO</code></li>
<li>ppc64: <code>R_PPC64_TPREL_HA</code>, <code>R_PPC64_TPREL_LO</code></li>
<li>riscv: <code>R_RISCV_TPREL_HI20</code>, <code>R_RISCV_TPREL_LO12_I</code>, <code>R_RISCV_TPREL_LO12_S</code></li>
</ul>
<p>For RISC architectures, because an instruction typically has 4 bytes and cannot encode a 32-bit offset, it usually takes two instructions to materialize a TP offset.</p>
<p>In <a target="_blank" rel="noopener" href="https://reviews.llvm.org/D93331">https://reviews.llvm.org/D93331</a>, I patched LLD to reject local-exec TLS relocations in <code>-shared</code> mode. In GNU ld, at least arm, riscv and x86's ports have the similar diagnostics, but aarch64 and ppc64 do not error.</p>
<h3 id="initial-exec-tls-model-executable-preemptible">Initial exec TLS model (executable &amp; preemptible)</h3>
<p>This model is less efficient than local exec. It applies when the TLS symbol is defined in the executable or a shared object available at program start. The shared object can be due to <code>DT_NEEDED</code> or <code>LD_PRELOAD</code>.</p>
<p>The compiler picks this model in <code>-fno-pic/-fpie</code> modes if the variable is a declaration with default visibility. The idea is that a symbol referenced by the executable must be defined by an immediately loaded shared object, instead of a dlopen loaded shared object. The linker enforces this as well by defaulting to <code>-z defs</code> for a <code>-no-pie/-pie</code> link.</p>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br></pre></td><td><pre><span><span>extern</span> <span>thread_local</span> <span>int</span> ref;</span><br><span><span><span>int</span> <span>foo</span><span>()</span> </span>{ <span>return</span> ref; }</span><br></pre></td></tr></tbody></table></figure>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br><span>3</span><br></pre></td><td><pre><span># x86-64</span><br><span>movq ref@GOTTPOFF(%rip), %rax</span><br><span>movl %fs:(%rax), %eax</span><br></pre></td></tr></tbody></table></figure>
<p>Because the offset from the thread pointer to the start of a static block is fixed at program start, such an offset can be encoded by a GOT relocation. Such relocation types typically have <code>GOT</code> and <code>TPREL/TPOFF</code> in their names. Here is a list of common relocation types:</p>
<ul>
<li>arm: <code>R_ARM_TLS_IE32</code></li>
<li>aarch64: <code>R_AARCH64_TLSIE_ADR_GOTTPREL_PAGE21</code>, <code>R_AARCH64_TLSIE_LD64_GOTTPREL_LO12_NC</code></li>
<li>i386: <code>R_386_TLS_IE</code></li>
<li>x86-64: <code>R_X86_64_GOTTPOFF</code></li>
<li>ppc32: <code>R_PPC_GOT_TPREL16</code></li>
<li>ppc64: <code>R_PPC64_GOT_TPREL16_HA</code>, <code>R_PPC64_GOT_TPREL16_LO_DS</code></li>
<li>riscv: <code>R_RISCV_TLS_GOT_HI20</code>, <code>R_RISCV_PCREL_LO12_I</code></li>
</ul>
<p>If the TLS symbol does not satisfy initial-exec to local-exec relaxation requirements, the linker will allocate a GOT entry and emit a dynamic relocation. Here is a list of dynamic relocation types:</p>
<ul>
<li>arm: <code>R_ARM_TLS_TPOFF32</code></li>
<li>aarch64: <code>R_AARCH64_TLS_TPREL64</code></li>
<li>mips32: <code>R_MIPS_TLS_TPREL32</code></li>
<li>mips64: <code>R_MIPS_TLS_TPREL64</code></li>
<li>i386: <code>R_386_TPOFF</code></li>
<li>x86-64: <code>R_X86_64_TPOFF64</code></li>
<li>ppc32: <code>R_PPC_TPREL32</code></li>
<li>ppc64: <code>R_PPC64_TPREL64</code></li>
<li>riscv: <code>R_RISCV_TLS_TPREL64</code></li>
</ul>
<p>While they have <code>TPREL</code> or <code>TPOFF</code> in their names, these dynamic relocations have the same bitwidth as the word size. This is a good way to distinguish them from the local-exec relocation types used in object files.</p>
<p>If you add the <code>__attribute((tls_model("initial-exec")))</code> attribute, a thread-local variable can use this model in <code>-fpic</code> mode. If the object file is linked into an executable, everything is fine. If the object file is linked into a shared object, the shared object generally needs to be an immediately loaded shared object. The linker sets the <code>DF_STATIC_TLS</code> flag to annotate a shared object with initial-exec TLS relocations.</p>
<p>glibc ld.so reserves some space in static TLS blocks and allows dlopen on such a shared object if its TLS size is small. There could be an obscure reason for using such an attribute: general dynamic and local dynamic TLS models are not async-signal-safe in glibc. However, other libc implementations may not reserve additional TLS space for dlopen'ed initial-exec shared objects, e.g. musl will error.</p>
<h3 id="general-dynamic-and-local-dynamic-tls-models-dso">General dynamic and local dynamic TLS models (DSO)</h3>
<p>The two modes are used when the TLS symbol may be defined by a shared object. They do not assume the TLS symbol is backed by a static TLS block. Instead, they assume that the thread-local storage of the module may be dynamically allocated, making the models suitable for dlopen usage. The dynamically allocated TLS storage is usually referred to as dynamic TLS.</p>
<p>Each TLS symbol is ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://maskray.me/blog/2021-02-14-all-about-thread-local-storage">https://maskray.me/blog/2021-02-14-all-about-thread-local-storage</a></em></p>]]>
            </description>
            <link>https://maskray.me/blog/2021-02-14-all-about-thread-local-storage</link>
            <guid isPermaLink="false">hacker-news-small-sites-26150512</guid>
            <pubDate>Tue, 16 Feb 2021 03:14:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Titanic of Security]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26150440">thread link</a>) | @pabs3
<br/>
February 15, 2021 | https://opensourcesecurity.io/2021/02/15/the-titanic-of-security/ | <a href="https://web.archive.org/web/*/https://opensourcesecurity.io/2021/02/15/the-titanic-of-security/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<section id="primary">
		<main id="main">

			
<article id="post-2283">

	

	
			<figure>
				<img width="1568" height="882" src="https://opensourcesecurityio.files.wordpress.com/2021/02/pleasure-boat-510668_1920-e1613095612597.jpg?w=1568" alt="the titanic" loading="lazy" srcset="https://opensourcesecurityio.files.wordpress.com/2021/02/pleasure-boat-510668_1920-e1613095612597.jpg?w=1568 1568w, https://opensourcesecurityio.files.wordpress.com/2021/02/pleasure-boat-510668_1920-e1613095612597.jpg?w=150 150w, https://opensourcesecurityio.files.wordpress.com/2021/02/pleasure-boat-510668_1920-e1613095612597.jpg?w=300 300w, https://opensourcesecurityio.files.wordpress.com/2021/02/pleasure-boat-510668_1920-e1613095612597.jpg?w=768 768w, https://opensourcesecurityio.files.wordpress.com/2021/02/pleasure-boat-510668_1920-e1613095612597.jpg?w=1024 1024w, https://opensourcesecurityio.files.wordpress.com/2021/02/pleasure-boat-510668_1920-e1613095612597.jpg 1919w" sizes="(max-width: 1568px) 100vw, 1568px" data-attachment-id="2296" data-permalink="https://opensourcesecurity.io/2021/02/15/the-titanic-of-security/pleasure-boat-510668_1920/" data-orig-file="https://opensourcesecurityio.files.wordpress.com/2021/02/pleasure-boat-510668_1920-e1613095612597.jpg" data-orig-size="1919,1079" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="pleasure-boat-510668_1920" data-image-description="" data-medium-file="https://opensourcesecurityio.files.wordpress.com/2021/02/pleasure-boat-510668_1920-e1613095612597.jpg?w=300" data-large-file="https://opensourcesecurityio.files.wordpress.com/2021/02/pleasure-boat-510668_1920-e1613095612597.jpg?w=750">			</figure><!-- .post-thumbnail -->

		
	<div>
		
<p>I listen to a lot of podcasts. A lot of podcasts. I was listening to the <a href="https://dgshow.org/">Dave and Gunnar Show</a> podcast <a href="https://dgshow.org/212">episode 212</a> with guest <a href="https://twitter.com/drdavidawheeler">David A. Wheeler</a>. The Titanic was used as an example of changing process after a security incident. This opened up a flood of thoughts to me, but not for the reasons intended in the conversation. The point of the suggestion was the Titanic sinking created changes to international requirements to help avoid a similar disaster next time, and we should be viewing SolarWinds in a similar way. The idea being we should use the SolarWinds event to drive meaningful change to make security better. Why no change will come of this is a different conversation: TL;DR it‚Äôs because nobody important died from SolarWinds, the Titanic killed a lot of important people. But I think this is an interesting way to talk about how we tend to deal with problems in software and how we deal with them in real life.</p>



<p>I won‚Äôt bore you with a bad retelling of what happened to the Titanic. Historians have covered this topic at length and from every possible angle you can imagine. What‚Äôs not always covered is what happened after the Titanic had its historic voyage. Wikipedia has a <a href="https://en.wikipedia.org/wiki/Changes_in_safety_practices_after_the_sinking_of_the_Titanic">page</a> dedicated to changes in safety the Titanic caused. If you read this list it seems pretty obvious in hindsight. This is how many disasters work. There are a lot of little things that have to go wrong for an accident to turn into a disaster. If we could avoid even one or two of those little things, it can change the result dramatically, changing the story from ‚Äúdisaster‚Äù to ‚Äúaccident‚Äù.</p>



<p>So what does this have to do with software? When we have failures in the world of software it seems like we rarely change anything. How many organizations have changed the process due to Solar Winds? There was a lot of momentary panic, and A LOT of empty talk, but from what I‚Äôve seen most companies have basically just gone back to doing thing the same old way. Most of the suggestions on what to do was what I like to call ‚Äúsecurity harder!‚Äù This is where leadership says they take security very seriously, but their actions tell a different story.</p>



<p>It seems like if we reacted to the Titanic in the same way we handle software incidents the solutions would be ‚ÄúTitanic harder next time‚Äù. We would have launched thousands of boats through iceberg filled waters with varying degrees of success. Every time a boat sank we just told the ship builders to use more Titanic the next time. They of course have no idea what that means, but as long as the checks clear they keep building boats.</p>



<p>I think we lack realistic understandings of what happened to SolarWinds. If you listen to the Dave and Gunnar Show mentioned above, the proposed solution to all of this is something called reproducible builds. I‚Äôve <a href="https://opensourcesecurity.io/2016/05/01/trusting-trusting-trust/">written</a> and <a href="https://opensourcesecurity.io/2020/05/17/episode-197-beer-security-and-consistency-the-newer-better-triad/">talked</a> about reproducible builds at length, they are a modern solution to a malicious build system the same way an iceberg satellite tracking system would have been a solution for the Titanic. It‚Äôs not a realistic option because the technology doesn‚Äôt exist. I hope it does someday, but it‚Äôs just not there right now no matter how hard we want it to be. The tooling doesn‚Äôt exist. If we want to have an honest conversation about reproducible builds it needs to be with the creators of build systems. And when I say ‚Äúconversation‚Äù I really mean patches. If this is something society wants, we have to do the work. Talking isn‚Äôt work (says the guy with a blog). Anyone who has reproducible builds today have done it in spite of the tools, not because of the tools. The number of organizations and projects that can do this is a very very small number.</p>



<p>The obvious question about all this supply chain talk now is ‚Äúwhat can we do?‚Äù And there isn‚Äôt a great answer to this question today. There is no shortage of opinions about how SolarWinds could have Titanic‚Äôd harder. But what there is shortage of is actionable advice the rest of us can use. If you asked someone how you could better secure your supply chain, you aren‚Äôt going to get advice, you are going to get guesses. There aren‚Äôt a lot of people who actually understand what a modern open source supply chain looks like. There are however plenty of opinions on how to secure a modern open source supply chain.</p>



<p>I of course know how to secure the supply chain because I have a blog named ‚ÄúOpen Source Security‚Äù. This is sadly the closest thing to a real qualification that exists in this space. While I offer a great deal of advice on various open source topics, the most important takeaway is anything I talk about is verifiable by anyone. This is open source after all. You don‚Äôt have to take my word for it, go figure it out for yourself. If you find I‚Äôm wrong, let me know so I can change what I‚Äôm talking about.</p>



<p>So you don‚Äôt want to be the next SolarWinds, but you also don‚Äôt know what that means. I just wrote a <a href="https://opensourcesecurity.io/2021/01/29/you-cannot-manage-your-supply-chain/">blog</a> post about not trying to manage your supply chain. Find someone else to help you. There are many companies and projects that are better at supply chain tasks than you will ever be (unless you‚Äôre in the business of open source software, don‚Äôt spend your valuable time worrying about it). But even that post misses some important points. ‚ÄúWhat should you do first‚Äù is a pretty important question for example.</p>



<p>Lately I‚Äôve been imaging the work I have to do as an apple tree. There are some apples close to the ground, and some high up in the tree that will need a ladder to get. If you‚Äôre like any normal person, you pick the low apples first. I don‚Äôt even have to explain why (if you‚Äôre the sort of person who picks the apples on top first this is why nobody likes you). The work we have to do for making our supply chain secure is a lot like this. There are some tasks we can do right away because they‚Äôre the low hanging fruit. Low hanging fruit is easy to pick.</p>



<p>By doing the easy things first we get two huge benefits. The first is we are doing the work we need to do. We‚Äôre not talking about it, we‚Äôre not building some plan, we‚Äôre actually doing work. <a href="https://opensourcesecurity.io/2020/12/14/committee-or-community-slowing-down-the-future/">Work beats talk</a> every day of the week. The second benefit is we start to learn more about the problems. Even if you do a task that ends up failing or not really mattering, you will learn something along the way. The more we learn the more we can decide which apples should be picked next. And when in doubt, just pick the apple closest to you.</p>



<p>Here‚Äôs a simple thing you can go do right now that can make a difference. <a href="https://opensourcesecurity.io/2020/06/07/episode-200-talking-container-security-with-liz-rice/">Aqua</a> Security have a scanner tool called Trivy. Go run it against your code (it can also scan containers). Here‚Äôs an example that scans the Signal Desktop app.</p>



<pre><code>docker run --rm aquasec/trivy repo https://github.com/signalapp/Signal-Desktop.git</code></pre>



<p>Of course, I‚Äôve also <a href="https://opensourcesecurity.io/2020/03/10/the-security-scanner-problem/">talked</a> about what this scanner output really means, so be sure to take it with a grain of salt üôÇ</p>



<p>But the point is if you run this tool and look at the output, you are going to learn new things and have a different understanding for what you‚Äôre doing. It will help shape your future work and ideas.</p>



<p>And the absolute most important thing you can do once you start this journey is to talk about it. When you do something that works, tell the rest of us. When you do something that doesn‚Äôt work, tell the rest of us. We have enough talking heads giving out unrealistic advice. I want advice from people doing the work. I don‚Äôt need to hear what the guy with an expensive suit thinks. He‚Äôs the reason we‚Äôre in this mess.</p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

				
</article><!-- #post-${ID} -->

	<nav role="navigation" aria-label="Posts">
		<h2>Post navigation</h2>
		
	</nav>
		</main><!-- #main -->
	</section><!-- #primary -->


	</div></div>]]>
            </description>
            <link>https://opensourcesecurity.io/2021/02/15/the-titanic-of-security/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26150440</guid>
            <pubDate>Tue, 16 Feb 2021 03:00:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Bring a Language to the Future]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26149706">thread link</a>) | @abawany
<br/>
February 15, 2021 | https://restofworld.org/2021/bringing-urdu-into-the-digital-age | <a href="https://web.archive.org/web/*/https://restofworld.org/2021/bringing-urdu-into-the-digital-age">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

			<!-- Article Start -->
			
<p><span>B</span>y the time Mudassir Azeemi wrote to Apple CEO Tim Cook in 2014, he‚Äôd tried everything he<em> </em>could think of to make it easier to type in his native language, Urdu. In 2010, the now 42-year-old Pakistani-American developed a keyboard app you could use on iOS devices; within two years, it had been downloaded over 165,000 times. But even with an Urdu-language keyboard, the characters appeared on the screen in an entirely different font.</p>



<p>‚ÄúDear Mr Tim Cook,‚Äù he wrote. ‚ÄúUrdu language‚Äôs beauty lies in the typeface.‚Äù</p>



<p>Spoken by nearly 170 million people in South Asia and the South Asian diaspora, Urdu is written in an alphabet derived from Arabic. But while Arabic is written in a script called <em>naskh</em>, simpler and more linear in its appearance, many other people ‚Äî including Iranians, Afghans, Pakistanis, Urdu-speakers in India, and Uighur-speakers in parts of China ‚Äî employ an ornate style of writing that originated in 14th-century Persia called <em>nasta ølƒ´q</em>. When Azeemi sat down to write his letter to Cook, nasta ølƒ´q was almost nowhere to be found online. To communicate in Urdu, you either had to type in naskh or spell words phonetically in Latin script.</p>



<p>Azeemi, a software developer now working and living in Silicon Valley, grew up in Pakistan‚Äôs sprawling seaside city, Karachi. As a teenager during the days of dial-up, he once racked up an internet bill that cost half of his father‚Äôs monthly salary; in his early 20s, he learned to code on one of those old calculator-sized computers called palmtops. He didn‚Äôt give much thought to Urdu‚Äôs digital future until he moved to California and became a father. Watching his children learn English through songs on YouTube, he‚Äôd felt a pang of loss ‚Äî the anxiety that they might never speak or appreciate Urdu the way he does. One of the earliest apps Azeemi developed, even before the keyboard, was for nursery rhymes in Urdu.</p>



<p>These early attempts at yanking Urdu on to the internet hadn‚Äôt been particularly profitable ‚Äî Azeemi says he lost over $50,000 in the process. He remained determined. In 2013, Apple introduced an Urdu keyboard for iOS devices, but, much to the chagrin of Urdu users, the default font was still naskh, the Arabic font. In Azeemi‚Äôs eyes, the solution was now pretty straightforward: operating systems ‚Äî Apple, Google, Microsoft, and others ‚Äî had to be persuaded to adopt nasta ølƒ´q.&nbsp;</p>



<p>His open letter, addressed to Cook and Apple‚Äôs chief design officer at the time, Jonathan Ive, described the need for a nasta ølƒ´q font on iOS platforms. ‚ÄúThe only hurdle for us is to bring the typeface that truly represent[s] the language,‚Äù wrote Azeemi. ‚ÄúAnd every language, when it is written, shines when using the typeface which it truly presented in the world.‚Äù&nbsp;</p>


		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/GettyImages-1063733610-1-40x27.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/GettyImages-1063733610-1-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/GettyImages-1063733610-1-400x267.jpg 400w, https://restofworld.org/wp-content/uploads/2021/02/GettyImages-1063733610-1-600x400.jpg 600w, https://restofworld.org/wp-content/uploads/2021/02/GettyImages-1063733610-1-1000x667.jpg 1000w, https://restofworld.org/wp-content/uploads/2021/02/GettyImages-1063733610-1-1600x1067.jpg 1600w, https://restofworld.org/wp-content/uploads/2021/02/GettyImages-1063733610-1-2800x1866.jpg 2800w, " sizes="(max-width: 640px) 100vw, 600px(max-width: 992px) calc(100vw - 40px), (max-width: 1140px) calc(100vw - 290px), calc(100vw - ((100vw - 640px)/2))" alt="A traditional calligrapher writes in Urdu at a market in India.">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				<span itemprop="copyrightHolder">Stuart Freedman/InPictures/Getty Images</span>
			</figcaption>
		</figure>


<hr>



<p>When Urdu calligraphers speak of nasta ølƒ´q, it is with deep reverence. In the subcontinent, it was the script that disseminated the Quran, considered the word of God. Mir Ali of Tabriz, a 14th-century Persian calligrapher known as the father of the script, is said to have developed it after a dream in which Ali, son-in-law of the Prophet Muhammad, instructed him to draw letters that looked like ‚Äúthe wings of flying geese.‚Äù Squint at an Urdu verse in nasta ølƒ´q, and it might very well begin to resemble a flock of birds taking flight, or a branch in bloom. Nasta ølƒ´q characters, <a href="https://archive.org/stream/fromconcepttocon00fush/fromconcepttocon00fush_djvu.txt">per one observation</a>, appear to ‚Äúswing from the upper right to the lower left of each word as if suspended by an imaginary line.‚Äù</p>



<p>In some ways, this emphasis on the <em>form</em> of writing a language runs contrary to conventional wisdom. We tend to think of text as a means to an end, that the characters depicted are there only to convey meaning. If you could write the same Urdu word in the Arabic naskh script, even if it looked a little different ‚Äî naskh is smaller, simpler, and sans serif ‚Äî wasn‚Äôt the demand for digitized nasta ølƒ´q just a minor typographical quibble?&nbsp;</p>



<p>Nasta ølƒ´q, after all, is a nightmare to code. It moves right to left, like all Arabic scripts, but also slopes downward: the longer the word, the steeper the slope. The shape of each letter changes, depending on the letter that comes before and after; in a 39-letter alphabet, there are thousands of permutations. Its multifaceted nature is precisely why coders haven‚Äôt developed nasta ølƒ´q fonts as easily as, say, Cyrillic.</p>



<figure><blockquote><p>We tend to think of text as a means to an end, that the characters depicted are there only to convey meaning.</p></blockquote></figure>



<p>It didn‚Äôt have to be this way. As early as 1951, just four years after wresting off British rule, Pakistan ‚Äî where Urdu is both the official language and played a key role in the movement for independence ‚Äî set up a national printing press that could compose in both English and Urdu, a substantial investment for the young, cash-strapped country and an indication, perhaps, of Urdu‚Äôs importance for its nation-building project. But even though Monotype and Linotype, the predominant printing technology firms of the time, kept developing typefaces for the Urdu market, local publishers kept rejecting them because they just didn‚Äôt match up to the local nasta ølƒ´q aesthetic.&nbsp;</p>



<p>Part of the reason nasta ølƒ´q ran into trouble was because the technology at the time ‚Äî specifically the typewriter ‚Äî was built with English in mind. Subsequently, as historian Thomas S. Mullaney notes in his book, ‚ÄúThe Chinese Typewriter,‚Äù all other languages are seen as permutations from that norm. Hebrew is English but backward. Arabic is English backward and in cursive. Russian: English with different letters. Siamese: English with too many letters. Perhaps the only major language to escape the thumb of Latin hegemony was Chinese, a script that is neither alphabetic nor syllabic, and thus <a href="https://www.wnycstudios.org/podcasts/radiolab/articles/wubi-effect">had to be imagined entirely outside the box of existing technology</a>. But nasta ølƒ´q, presumably not quite significant enough to send typographers back to the drawing board, remained stalled until the 1970s, its mechanical rendering nowhere close to the sweep and flourish of the handwritten script.</p>



<p>In modern-day Iran, where nasta ølƒ´q originated, the font changed to meet the limitations of the existing technology. Over the years, Farsi slowly developed a typographical identity that worked within the constraints of the block printing press but was stylistically different enough from the Arabic naskh to feel sufficiently ‚ÄúPersian.‚Äù If you pick up a newspaper in Tehran today, it looks significantly different from a paper in Karachi.&nbsp;</p>



<p>Why didn‚Äôt Urdu, and Pakistan, go down a similar typographical route as Farsi did in Iran? Stubborn fidelity to nasta ølƒ´q aside, one reason may be the ways in which Urdu differed from other nasta ølƒ´q-favoring languages. One letter, ‚Äúthe <em>ba·πõƒ´ ye</em> (€í), is particularly influential on the look of written Urdu,‚Äù writes typographer and historian Titus Nemeth in ‚ÄúArabic Type-Making in the Machine Age‚Äù (2017), ‚Äúand its typographic rendering is among the most challenging design questions in an Arabic font.‚Äù</p>



<p>The ba·πõƒ´ ye, which resembles a bent elbow, produces all sorts of mechanical obstacles with regard to kerning and the placement of dots and diacritics. Ba·πõƒ´ ye and letters like it posed a problem that seemed so insurmountable, in fact, that, in the 1960s ‚Äî mimicking Mustafa Kemal Atat√ºrk‚Äôs <a href="https://www.pri.org/stories/2013-06-25/some-turks-reconsidering-arabic-connection-turkish-language">mission to convert Turkish script into a Latin alphabet</a> ‚Äî Pakistan‚Äôs military ruler Ayub Khan proposed officially writing Urdu in Latin letters. He was met with near-instant pushback: the nasta ølƒ´q script, protested local religious leaders, was an essential marker of Pakistan‚Äôs Islamic identity. Without meaningful progress in the printing process, Urdu publications in Pakistan, including dailies, continued to be written by hand well into the 1980s, armies of calligraphers scribbling furiously day and night.</p>



<hr>


		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/RoWURDU-031-40x23.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/RoWURDU-031-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/RoWURDU-031-400x225.jpg 400w, https://restofworld.org/wp-content/uploads/2021/02/RoWURDU-031-600x338.jpg 600w, https://restofworld.org/wp-content/uploads/2021/02/RoWURDU-031-1000x563.jpg 1000w, https://restofworld.org/wp-content/uploads/2021/02/RoWURDU-031-1600x900.jpg 1600w, https://restofworld.org/wp-content/uploads/2021/02/RoWURDU-031-2800x1576.jpg 2800w, " sizes="(max-width: 640px) 100vw, (max-width: 992px) calc(100vw - 40px), (max-width: 1140px) calc(100vw - 290px), calc(100vw - ((100vw - 640px)/2))" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure>


<p><strong>Ahmed Mirza Jamil,</strong> owner of a printing business in Karachi, inherited his love for nasta ølƒ´q from his father, who, in his later life, took up the daunting task of writing the Quran in his own hand. He‚Äôd completed only a third of the holy book before he fell ill and died, but his sons vowed to finish his cherished project. They photographed their father‚Äôs nine handwritten chapters, then cut and pasted his letter formations to piece together ‚Äî like a jigsaw puzzle ‚Äî the remaining two-thirds of the Quran. It was a staggeringly elaborate labor of love that took 14 years to complete. And it sowed the seeds for a long-awaited breakthrough in Urdu typesetting.</p>



<p>In 1980, Mirza Jamil wrote out every combination of Urdu letters that he could think of ‚Äî roughly 20,000 by most accounts. These combinations, known as ligatures, became the basis of a new Urdu typeface: Noori Nastaliq, a font Jamil named after his father. It solved the difficulty posed by the shape-shifting nature of nasta ølƒ´q: instead of representing letters, it represented entire <em>combinations</em> of letters written together. The 20,000 ligatures were by no means exhaustive, but the chances of any other combination cropping up, Mirza Jamil reckoned, were negligible. He‚Äôd been inspired to address Urdu typographical troubles after encountering a Chinese keyboard, a 48-inch contraption with up to 500 characters, on a trip to Singapore.&nbsp;</p>



<p>‚ÄúI thought, if the Chinese could do it,‚Äù he told a journalist in 1996, ‚Äúso could we.‚Äù&nbsp;</p>



<p>With the advent of Noori Nastaliq, Mirza Jamil was hailed as Pakistan‚Äôs Gutenburg and bestowed with state honors. Urdu‚Äôs path to progress, <a href="http://elite.com.pk/epl/portfolio/noori-nastaliq/revolution/">one writer wrote</a>, ‚Äúwill be lit with the candle of Noori Nastaliq.‚Äù Still, adoption was tentative: for a while, according to the historian Nemeth, the country‚Äôs largest national newspaper, <em>Daily Jang,</em> carried typographically composed text alongside columns that were still handwritten, hoping to convince the nasta ølƒ´q purists that their beloved font could be printed too.&nbsp;</p>



<p>For decades, Noori Nastaliq remained the ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://restofworld.org/2021/bringing-urdu-into-the-digital-age">https://restofworld.org/2021/bringing-urdu-into-the-digital-age</a></em></p>]]>
            </description>
            <link>https://restofworld.org/2021/bringing-urdu-into-the-digital-age</link>
            <guid isPermaLink="false">hacker-news-small-sites-26149706</guid>
            <pubDate>Tue, 16 Feb 2021 00:50:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[US Presidential Election $25k Database Bounty Review]]>
            </title>
            <description>
<![CDATA[
Score 144 | Comments 35 (<a href="https://news.ycombinator.com/item?id=26149511">thread link</a>) | @mjangle1985
<br/>
February 15, 2021 | https://www.dolthub.com/blog/2021-02-15-election-bounty-review/ | <a href="https://web.archive.org/web/*/https://www.dolthub.com/blog/2021-02-15-election-bounty-review/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-cy="blog-post-text"><p>On December 14, we launched <a href="https://www.dolthub.com/blog/2020-12-16-data-bounties/">our first data bounty</a> to <a href="https://www.dolthub.com/blog/2020-12-14-make-money-data-wrangling/">earn a share of $25,000 by wrangling US Presidential Precinct-level data</a>. The bounty ended yesterday. How did it go? This blog entry will answer that question.</p>
<p><a href="https://www.doltdb.com/">Dolt</a> is a SQL database with Git-style versioning. It's the first SQL database you can branch and merge. <a href="https://www.dolthub.com/">DoltHub</a> is a place on the internet to share and collaborate on Dolt databases. Without both, data bounties would not be possible.</p>

<p>We built the <a href="https://www.dolthub.com/repositories/dolthub/us-president-precinct-results">best open database of US Precinct-level Election results</a> on the internet. </p>
<p>Here's some statistics:</p>
<ul>
<li>15.5M cells edited. 1.7GB of data collected</li>
<li><a href="https://www.dolthub.com/repositories/dolthub/us-president-precinct-results/query/master?q=SELECT+COUNT%28distinct%28state%29%29%0AFROM+%60vote_tallies%60+where+election_year%3D2016%0ALIMIT+200%3B%0A%0A%0A%0A%0A%0A%0A&amp;active=Tables">All 51 "states" covered for 2016</a>. <a href="https://www.dolthub.com/repositories/dolthub/us-president-precinct-results/query/master?q=SELECT+COUNT%28distinct%28state%29%29%0AFROM+%60vote_tallies%60+where+election_year%3D2020%0ALIMIT+200%3B%0A%0A%0A%0A%0A%0A%0A&amp;active=Tables">38 states covered for 2020</a>. </li>
<li><a href="https://www.dolthub.com/repositories/dolthub/us-president-precinct-results/query/master?q=SELECT+sum%28votes%29%2F136669276%0AFROM+%60vote_tallies%60+where+election_year%3D2016%0ALIMIT+200%3B%0A%0A%0A%0A%0A%0A%0A&amp;active=Tables">100% of the vote covered for 2016</a>. <a href="https://www.dolthub.com/repositories/dolthub/us-president-precinct-results/query/master?q=SELECT+sum%28votes%29%2F159633396%0AFROM+%60vote_tallies%60+where+election_year%3D2020%0ALIMIT+200%3B%0A%0A%0A%0A%0A%0A%0A&amp;active=Tables">78% for 2020</a>.</li>
<li>75 Pull Requests (PRs) accepted across 6 bounty participants. </li>
<li>Top bounty participant earned over $10,000.</li>
</ul>
<p><span>
      <a href="https://www.dolthub.com/blog/static/4e02e3f4498d3a6b5bc56bd9f85cad81/0fcea/first-bounty-final-scoreboard.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Final Scoreboard" title="Final Scoreboard" src="https://www.dolthub.com/blog/static/4e02e3f4498d3a6b5bc56bd9f85cad81/0fcea/first-bounty-final-scoreboard.png" srcset="https://www.dolthub.com/blog/static/4e02e3f4498d3a6b5bc56bd9f85cad81/a48b3/first-bounty-final-scoreboard.png 214w,
https://www.dolthub.com/blog/static/4e02e3f4498d3a6b5bc56bd9f85cad81/47730/first-bounty-final-scoreboard.png 428w,
https://www.dolthub.com/blog/static/4e02e3f4498d3a6b5bc56bd9f85cad81/0fcea/first-bounty-final-scoreboard.png 851w" sizes="(max-width: 851px) 100vw, 851px" loading="lazy">
  </a>
    </span></p>
<p>We're very excited to mail the checks to all the folks who worked hard to make this bounty a success.</p>
<p><span>
      <a href="https://www.dolthub.com/blog/static/9791bedbcbd3ed06e15435f17a7ff195/2ad33/fat-check.jpg" target="_blank" rel="noopener">
    <span></span>
  <img alt="Fat Check" title="Fat Check" src="https://www.dolthub.com/blog/static/9791bedbcbd3ed06e15435f17a7ff195/79a4e/fat-check.jpg" srcset="https://www.dolthub.com/blog/static/9791bedbcbd3ed06e15435f17a7ff195/606a2/fat-check.jpg 214w,
https://www.dolthub.com/blog/static/9791bedbcbd3ed06e15435f17a7ff195/65a3f/fat-check.jpg 428w,
https://www.dolthub.com/blog/static/9791bedbcbd3ed06e15435f17a7ff195/79a4e/fat-check.jpg 856w,
https://www.dolthub.com/blog/static/9791bedbcbd3ed06e15435f17a7ff195/99aeb/fat-check.jpg 1284w,
https://www.dolthub.com/blog/static/9791bedbcbd3ed06e15435f17a7ff195/e88f6/fat-check.jpg 1712w,
https://www.dolthub.com/blog/static/9791bedbcbd3ed06e15435f17a7ff195/2ad33/fat-check.jpg 3851w" sizes="(max-width: 856px) 100vw, 856px" loading="lazy">
  </a>
    </span></p>

<p>Now that the bounty is complete, we must figure out what to do with this data. How do we get the most out of our investment in the data?</p>
<h2>Clean up the data we got</h2>
<p>Given the heavily keyed nature of this data, we decided early on to not accept PRs for standardization or normalization of things like party names. Because most columns are part of the primary key, any change looks like a deletion and corresponding addition to Dolt. Thus, changes like that give the corrector credit for the whole row in the bounty instead of just the cell he or she changed. We queued up a number of these types of changes and we'll execute them now that the bounty is over.</p>
<h2>Find some users</h2>
<p>We collected the best US presidential Precinct level results on the internet. Now, we want people to use it. We think potentially the data is good enough that an open data community could be bootstrapped around it. The people who use it would have incentive to finish it as new state level data is released. We will reach out to the people at <a href="http://openelections.net/">Open Elections</a> and <a href="https://electionlab.mit.edu/">MIT Elections Lab</a> and start a conversation. If you know anyone else who could use this data, <a href="https://discord.com/invite/RFwfYpu">come let us know in our Discord</a>.</p>
<h2>Run another bounty?</h2>
<p>We're still missing 12 states and about 22% of the vote from 2020. If we want to get complete data and an open data community can't be bootstrapped, we may run another bounty in a couple months to finish the dataset. Let us know if you'd be interested in another bounty or the complete dataset.</p>

<p>We think <a href="https://www.dolthub.com/bounties">DoltHub Bounties</a> may be the fastest, cheapest way to build databases from open data. For $25,000 and 8 weeks, we were able to assemble a 1.7GB database of election results. </p>
<p>Our plan is to run at least one bounty per month for the rest of the year across a number of distinct data disciplines. We're running a <a href="https://www.dolthub.com/blog/2021-01-14-hopsital-prices-bounty/">hospital price transparency bounty</a> right now. We'll be launching two more over the next month or so. Hang out in <a href="https://discord.com/invite/RFwfYpu">our Discord</a> to keep up to date. Start wrangling data as your new side hustle.</p></div></div>]]>
            </description>
            <link>https://www.dolthub.com/blog/2021-02-15-election-bounty-review/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26149511</guid>
            <pubDate>Tue, 16 Feb 2021 00:20:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building Rich Terminal Dashboards]]>
            </title>
            <description>
<![CDATA[
Score 483 | Comments 116 (<a href="https://news.ycombinator.com/item?id=26149488">thread link</a>) | @lumpa
<br/>
February 15, 2021 | https://www.willmcgugan.com/blog/tech/post/building-rich-terminal-dashboards/ | <a href="https://web.archive.org/web/*/https://www.willmcgugan.com/blog/tech/post/building-rich-terminal-dashboards/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    

    
<p><a href="https://github.com/willmcgugan/rich">Rich</a> has become a popular (20K stars on GH) way of beautifying CLIs, and I'm pleased to see a number of projects using it.</p>
<p>Since Rich is mature and battle-tested now, I had considered winding-down development. Until, I saw this tweet:</p>
<h2>The Tweet</h2>
<blockquote><div lang="en" dir="ltr"><p>Do you want to see something really cool you can do with <a href="https://twitter.com/willmcgugan?ref_src=twsrc%5Etfw">@willmcgugan</a> 's rich library? </p><p>Checkout ghtop <a href="https://t.co/mn7oLbpw8e">https://t.co/mn7oLbpw8e</a>. It's a really fun CLI tool that demonstrates the power of rich (and other things).</p><p>Examples below üßµüëá (1/8)</p></div>‚Äî Hamel Husain (@HamelHusain) <a href="https://twitter.com/HamelHusain/status/1357771218095546368?ref_src=twsrc%5Etfw">February 5, 2021</a></blockquote> 
<p><a href="https://twitter.com/HamelHusain">@HamelHusain</a> and <a href="https://twitter.com/jeremyphoward">@jeremyphoward</a> used Rich to enhance <a href="https://github.com/nat/ghtop">ghtop</a> (a repo owned by the CEO of Github, no less). Ghtop shows a realtime a stream of events from the Github platform. And it looks good! So good that I realised how much potential Rich has for these type of htop-like applications.</p>
<p>Hamel and Jeremy had to overcome a few technical hurdles to make that work. Fortunately this will no longer be required as the latest version of Rich has first-class support for full-screen interfaces via a new Layout system.</p>
<h2>Full-screen terminal interface</h2>
<p>Here's a video demonstration of a terminal interface built with Layout:</p>
<p>
<iframe width="auto" src="https://www.youtube.com/embed/slrdSojCvlk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</p>
<h2>Layout API</h2>
<p>The API to create a flexible layout is surprisingly simple. You construct a <code>Layout()</code> object, then call <code>split()</code> to create sub-layouts. These sub-layouts may then be further divided. Layouts have a small number of settings which define their size relative to the terminal window. It's a simple system that can create terminal interfaces that almost resemble modern web apps.</p>
<div><figure> <img width="1140" height="724" title="layout_vscode.png" name="layout_vscode" data-md="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.md.3.jpeg" data-square="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.square.7.jpeg" data-xlg2x="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.xlg2x.2.jpeg" data-lg="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.lg.3.jpeg" data-xlg="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.xlg.8.jpeg" data-author="¬© 2021 Will McGugan<br>all rights reserved" data-og_preview="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.og.preview.2.jpeg" data-height="2100" data-width="3308" data-toggle="tooltip" data-details=" " data-sm="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.sm.3.jpeg" data-blur="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.blur.6.jpeg" data-slug="layout_vscode" sizes="(min-width: 1200px) 1170px, (min-width: 992px) 970px, (min-width: 768px) 750px" srcset="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.lg.3.jpeg 1170w, https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.md.3.jpeg 970w, https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.sm.3.jpeg 750w" src="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.lg.3.jpeg"> 
<figcaption>
<p>¬© 2021 Will McGugan</p>


<p>A Rich layout in VSCode</p>


</figcaption>

</figure>
</div>
<h2>Finally, some code</h2>
<p>Here's how you would create a basic layout with a header, a footer, and two side-panels.</p>
<pre><code>from rich.console import Console
from rich.layout import Layout

console = Console()
layout = Layout()

# Divide the "screen" in to three parts
layout.split(
    Layout(name="header", size=3),
    Layout(ratio=1, name="main"),
    Layout(size=10, name="footer"),
)
# Divide the "main" layout in to "side" and "body"
layout["main"].split(
    Layout(name="side"),
    Layout(name="body", ratio=2),
    direction="horizontal"
)
# Divide the "side" layout in to two
layout["side"].split(Layout(), Layout())

console.print(layout)
</code></pre>
<p>Running the code above produces the following output:</p>
<div><figure> <img width="1140" height="739" title="layout.png" name="layout" data-md="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.md.3.jpeg" data-square="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.square.7.jpeg" data-xlg2x="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.xlg2x.2.jpeg" data-lg="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.lg.3.jpeg" data-xlg="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.xlg.8.jpeg" data-author="¬© 2021 Will McGugan<br>all rights reserved" data-og_preview="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.og.preview.2.jpeg" data-height="1464" data-width="2258" data-toggle="tooltip" data-details=" " data-sm="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.sm.3.jpeg" data-blur="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.blur.6.jpeg" data-slug="layout" sizes="(min-width: 1200px) 1170px, (min-width: 992px) 970px, (min-width: 768px) 750px" srcset="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.lg.3.jpeg 1170w, https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.md.3.jpeg 970w, https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.sm.3.jpeg 750w" src="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.lg.3.jpeg"> 
<figcaption>
<p>¬© 2021 Will McGugan</p>


<p>Terminal split in to 5 sub-layouts. The boxes are placeholders, you can insert any content in their place.</p>


</figcaption>

</figure>
</div>
<p>Any renderable (text, table, progress bars etc) may be placed inside those sub-layouts.</p>
<p>We can now use the <a href="https://rich.readthedocs.io/en/latest/live.html">Live</a> class to create an application that adapts itself to the terminal window:</p>
<pre><code>from rich.live import Live
from time import sleep

with Live(layout, screen=True):
    while True:
        sleep(1)
</code></pre>
<p>In a real app, that do-nothing loop will be doing something useful like pulling data from the network to update contents.</p>
<p>See the <a href="https://rich.readthedocs.io/en/latest/layout.html">layout docs</a> for an in-depth tutorial.</p>
<h2>What's next?</h2>
<p>I think it's clear that Rich is acquiring more TUI (text user interface) features, and I've decided not to fight it. Rich's core purpose is still to beautify CLI output, but I think there is an opportunity here for a new way to create terminal apps. Ultimately it will be less like curses and more like HTML in a browser.</p>
<p>There are a number of things to do before Rich could replace a full TUI library (keyboard and mouse input for one) but the potential is there. Stay tuned for progress.</p>
<p>Follow <a href="https://twitter.com/willmcgugan">@willmcgugan</a> for more Rich related news.</p>



</article></div>]]>
            </description>
            <link>https://www.willmcgugan.com/blog/tech/post/building-rich-terminal-dashboards/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26149488</guid>
            <pubDate>Tue, 16 Feb 2021 00:16:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Performance Optimization Contest]]>
            </title>
            <description>
<![CDATA[
Score 26 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26149436">thread link</a>) | @robfig
<br/>
February 15, 2021 | https://easyperf.net/blog/2019/02/02/Performance-optimization-contest | <a href="https://web.archive.org/web/*/https://easyperf.net/blog/2019/02/02/Performance-optimization-contest">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				<p><strong>Contents:</strong></p>
<ul id="markdown-toc">
  <li><a href="#about-this-contest" id="markdown-toc-about-this-contest">About this contest</a></li>
  <li><a href="#qa" id="markdown-toc-qa">Q&amp;A</a>    <ul>
      <li><a href="#q0-why-the-hell-on-earth-i-should-participate-in-this-contest" id="markdown-toc-q0-why-the-hell-on-earth-i-should-participate-in-this-contest">Q0: <em>Why <del>the hell</del> on earth I should participate in this contest?</em></a></li>
      <li><a href="#q1-what-benchmarks-are-taken-into-the-contest" id="markdown-toc-q1-what-benchmarks-are-taken-into-the-contest">Q1: <em>What benchmarks are taken into the contest?</em></a></li>
      <li><a href="#q2-what-is-the-machineenvironment-we-will-be-optimizing-for" id="markdown-toc-q2-what-is-the-machineenvironment-we-will-be-optimizing-for">Q2: <em>What is the machine/environment we will be optimizing for?</em></a></li>
      <li><a href="#q3-what-if-i-dont-have-the-environment-you-are-using" id="markdown-toc-q3-what-if-i-dont-have-the-environment-you-are-using">Q3: <em>What if I don‚Äôt have the environment you are using?</em></a></li>
      <li><a href="#q4-how-i-should-find-performance-headrooms" id="markdown-toc-q4-how-i-should-find-performance-headrooms">Q4: <em>How I should find performance headrooms?</em></a></li>
      <li><a href="#q5-what-optimizations-are-allowed" id="markdown-toc-q5-what-optimizations-are-allowed">Q5: <em>What optimizations are allowed?</em></a></li>
      <li><a href="#q6-whats-not-allowed" id="markdown-toc-q6-whats-not-allowed">Q6: <em>What‚Äôs NOT allowed</em></a></li>
      <li><a href="#q7-how-should-the-submission-look-like" id="markdown-toc-q7-how-should-the-submission-look-like">Q7: <em>How should the submission look like?</em></a></li>
      <li><a href="#q8-how-i-will-test-your-solutions" id="markdown-toc-q8-how-i-will-test-your-solutions">Q8: <em>How I will test your solutions?</em></a></li>
      <li><a href="#q9-how-i-will-select-the-winner" id="markdown-toc-q9-how-i-will-select-the-winner">Q9: <em>How I will select the winner?</em></a></li>
    </ul>
  </li>
  <li><a href="#how-to-get-started" id="markdown-toc-how-to-get-started">How to get started?</a></li>
  <li><a href="#hints" id="markdown-toc-hints">Hints</a></li>
  <li><a href="#list-of-contest-editions" id="markdown-toc-list-of-contest-editions">List of contest editions</a></li>
</ul>

<hr>
<p><strong>Subscribe to my <a href="https://mailchi.mp/4eb73720aafe/easyperf">mailing list</a>, support me on <a href="https://www.patreon.com/dendibakh">Patreon</a> or by PayPal <a href="https://www.paypal.com/cgi-bin/webscr?cmd=_donations&amp;business=TBM3NW8TKTT34&amp;currency_code=USD&amp;source=url">donation</a>.</strong></p>

<hr>

<h3 id="about-this-contest">About this contest</h3>

<p>Hello everybody!</p>

<p>I decided to try new thing at the beginning of 2019. You probably heard about competitive programming and about popular web-sites like <a href="https://www.topcoder.com/">Topcoder</a>, <a href="https://www.codility.com/">Codility</a> and others. The idea is that you can try yourself in solving programming puzzles. Usually it‚Äôs not enough to just solve the puzzle, your solution must qualify for certain criterias such as algorithmic complexity and memory usage. Also on a real challenges it is improtant how fast you solved the problem.</p>

<p>Those sort of challenges usually test your problem solving skills as well as your knowledge of algorithms and data structures. It is a kind of tasks we usually see on programming job interviews. You need to write the code from scratch to a complete solution.</p>

<p>What I am starting is also a form of contest but aims at developing different set of skills. <strong>We will train to optimize already optimized code</strong>. We will learn hardware optimizations. This is briefly how it will look like: I will pick one existing benchmark of my choice and will send it to all my subscribers. You will have the time to play with the benchmark and find all performance headrooms you can find. You then send all your findings to me (modified sources/assemblies/compiler patches?/whatever speeds up the benchmark) and I check it and run on my hardware. At the end I will anounce the winners.</p>

<p>Before I explain it in more details I feel a need of writing disclaimer:</p>

<blockquote>
  <p><strong>Disclaimer</strong>: This is absolutely non-profit effort. I‚Äôm not looking for make any money from it or using someone‚Äôs knowledge in my own purposes. I will not use submissions to extract any intellectual property they might have. Also this is not aiming to advertise any particular software product including benchmarks/compilers. That‚Äôs why all the benchmarks and compilers I will use require to be open sourced. Neither it aims to advertise any particular HW.</p>
</blockquote>

<p>In this contest I try to emulate the situation in performance critical projects on the final stages. When all the functionality is delivered and tested. But before shipping the binary to the customers you were asked to tune the app to it‚Äôs peak performance. You know the hardware it will be deployed to. You have the sources in your hands and freedom to modify it (without introducing any bugs :) ). You are the build master, so you can add any compiler flags you want.</p>

<p>For the challenges that I will send I‚Äôm not looking for optimizations that fall into the category: ‚ÄúOh, I just used quicksort instead of bubblesort‚Äù. Expect the benchmark to be already optimized to some degree. Your task is to tune it for particular hardware to the peak performance.</p>

<h3 id="qa">Q&amp;A</h3>

<h4 id="q0-why-the-hell-on-earth-i-should-participate-in-this-contest">Q0: <em>Why <del>the hell</del> on earth I should participate in this contest?</em></h4>

<p><strong>A0</strong>: You will learn/practice how to do optimizations for HW. This might include eliminating cache misses by inserting prefetch instructions, getting rid of <a href="https://easyperf.net/blog/2018/01/18/Code_alignment_issues">Code alignment issues</a>, improving performance by helping compiler to vectorize/unroll the loop better. You will learn different techniques as you go.</p>

<hr>
<h4 id="q1-what-benchmarks-are-taken-into-the-contest">Q1: <em>What benchmarks are taken into the contest?</em></h4>

<p><strong>A1</strong>: It will be open sourced benchmark written in C/C++. Usually several source files. It should be easy to build, require minimal dependencies. Preferably it should have some form of validation.</p>

<hr>
<h4 id="q2-what-is-the-machineenvironment-we-will-be-optimizing-for">Q2: <em>What is the machine/environment we will be optimizing for?</em></h4>

<p><strong>A2</strong>: Most likely it will be 64 bit Linux with Intel x86 CPU (probably Haswell architecture). For a start I will not bother with disabling CPU <a href="https://en.wikipedia.org/wiki/Dynamic_frequency_scaling">dynamic frequency scaling</a> features or setting <a href="https://en.wikipedia.org/wiki/Processor_affinity">thread affinity</a>. I might do this in future.</p>

<hr>
<h4 id="q3-what-if-i-dont-have-the-environment-you-are-using">Q3: <em>What if I don‚Äôt have the environment you are using?</em></h4>

<p><strong>A3</strong>: It doesn‚Äôt matter much. If you don‚Äôt have Intel CPU or you are on Windows/Mac, just optimize for whatever you have. I would be happy to know about optimizations that help other CPUs, operating systems, etc.
<strong>I don‚Äôt have real prizes to give, so it‚Äôs mostly practicing and learning</strong>.</p>

<hr>
<h4 id="q4-how-i-should-find-performance-headrooms">Q4: <em>How I should find performance headrooms?</em></h4>

<p><strong>A4</strong>: Use all of your knowledge. Start with profiling the benchmark. You can browse through posts on this blog. Additionally I will write a separate post that might help begginers.</p>

<hr>
<h4 id="q5-what-optimizations-are-allowed">Q5: <em>What optimizations are allowed?</em></h4>

<p><strong>A5</strong>: Good news! <strong>All the dirty tricks allowed</strong>! The goal of this contest is to learn how to squeeze as much performance as possible from the hardware using any means available. You can modify sources and insert any compiler hints like pragmas, builtins, function attributes, etc. Also you can generate assembly listing (<code>-S</code> compiler option) and modify it. Finally, you can add some compiler option that might speed up the benchmark.</p>

<hr>
<h4 id="q6-whats-not-allowed">Q6: <em>What‚Äôs NOT allowed</em></h4>

<p><strong>A6</strong>: 1) Do not rewrite the benchmark completely or introduce major changes in algorithms. The good judging rule is ‚Äúeverything interesting should be calculated in runtime‚Äù.</p>

<p>2) Do not manually parallelize the benchmark, e.g converting it from single- to multi-threaded or offload computations to the GPU. I mean, I‚Äôm glad that you can do it and I will be happy to take a look what you did, but it‚Äôs not the intent of the contest.</p>

<p>3) Using <a href="https://en.wikipedia.org/wiki/Profile-guided_optimization">PGO</a> is allowed, however you can use it only for driving you optimizations, not for the submission. So, you can check how the benchmark gets better with PGO and understand why. And then make this optimization manually. Again, the purposes is practicing and learning.</p>

<hr>
<h4 id="q7-how-should-the-submission-look-like">Q7: <em>How should the submission look like?</em></h4>

<p><strong>A7</strong>: 1) I will not accept binaries for security reasons.</p>

<p>2) You can send patch files that I can apply to the sources of the benchmark or just assembly listing. If you did multiple optimizations please split them in separate patches. <code>git format-patch</code> is the right tool for that. This will save me a lot of time.</p>

<p>3) If you send assembly listing files please do also include diff file from the baseline (what you changed in the assembly). If you provide modified assembly listings it should be genearted only with open-sourced C/C++ compilers like gcc and clang. You can of course cheat and generate assembly with some other compiler that is better for the benchmark, but I will probably easily detect that. And it‚Äôs not about tricking, it‚Äôs about learning.</p>

<p>4) Make sure you specify clearly the compiler options if they are different from the baseline.</p>

<p>5) If you are capable of hacking compiler that‚Äôs also acceptable. You can send me patches for gcc/llvm compilers which I can apply and use for building the benchmark. Please use the top of tree revisions because it will be easier for me to apply them. We can then use it for improving our open source compilers. Also it would be very nice if you can send me textual description of all the optimizations you made.</p>

<hr>
<h4 id="q8-how-i-will-test-your-solutions">Q8: <em>How I will test your solutions?</em></h4>

<p><strong>A8</strong>: I will take your sources, build them on my machine and run the benchmark. I will run your binary multiple times (depends on the running time) and <a href="http://blog.kevmod.com/2016/06/benchmarking-minimum-vs-average/">take the minimum</a>. I‚Äôm thinking about testing all the solutions on some cloud machine, but that‚Äôs not settled yet.</p>

<hr>
<h4 id="q9-how-i-will-select-the-winner">Q9: <em>How I will select the winner?</em></h4>

<p><strong>A9</strong>: I will calculate your score as a ratio between execution time of the binary with your optimizations and the baseline.</p>

<hr>
<p>I know there is a lot more concerns you might have. This is just a first attempt with focus on learning how to do HW optimizations. In the end I don‚Äôt have real prizes to give out. :) After each contest I will share all the findings people did, so there is a big opportunity to learn from others! I know that a number of really experienced guys read this blog, so I encourage everyone to participate. Everyone is welcome!</p>

<p>All communication (including sending benchmarks and score submissions) will happen through emails, so <strong>make sure to subscribe</strong> using the form at the bottom of the page! I am planning to start first contest in the end of February 2019.</p>

<p>Let me know what you think about it or if you have any ideas or comments. You can also vote if you like it using the buttons below.</p>

<h3 id="how-to-get-started">How to get started?</h3>

<ol>
  <li>Collect the baseline (use <code>time</code> or analogs).</li>
  <li>Find the hotspot (use <code>perf record</code>).</li>
  <li>Find performance headroom
    <ul>
      <li>Take a look at the assembly and try to guess how you can do better.</li>
      <li>Run through <a href="https://easyperf.net/blog/2019/02/09/Top-Down-performance-analysis-methodology">TMAM</a> process.</li>
    </ul>
  </li>
  <li>Build the benchmark, run it and compare against baseline.</li>
</ol>

<h3 id="hints">Hints</h3>

<ul>
  <li>Do not try to understand the whole benchmark. For some people (including me) it‚Äôs crucial to understand how every peace of code works. For the purposes of optimizing it will be wasted effort. There are CPU benchmarks with thousands LOC (like <a href="http://spec.org/cpu2017/">SPEC2017</a>) it‚Äôs absoultely impossible to understand them in a reasonable time. What you need to familiarize yourself with are hotspots. That‚Äôs it. You most likely need to understand one function/loop which is not more than 100 LOC.</li>
  <li>You have specific workload for which you optimize the benchmark. You don‚Äôt need to optimize it for any other input/workload. The main principle behind <a href="https://en.wikipedia.org/wiki/Data-oriented_design">Data-oriented design</a> is that you know the data of your application.</li>
</ul>

<p>Information presented in llvm documentation: <a href="https://llvm.org/docs/Benchmarking.html">Benchmarking tips</a> migth also be helpful.</p>

<h3 id="list-of-contest-editions">List of contest editions</h3>

<ul>
  <li><a href="https://easyperf.net/blog/2019/02/16/Performance-optimization-contest-1">Contest #1</a> - 16 Feb 2019.</li>
  <li><a href="https://easyperf.net/blog/2019/04/10/Performance-analysis-and-tuning-contest-2">Contest #2</a> - 10 Apr 2019.</li>
  <li><a href="https://easyperf.net/blog/2019/05/28/Performance-analysis-and-tuning-contest-3">Contest #3</a> - 28 May 2019.</li>
  <li><a href="https://easyperf.net/blog/2021/02/05/Performance-analysis-and-tuning-contest-4">Contest #4</a> - 05 Feb 2021.</li>
</ul>

			</div></div>]]>
            </description>
            <link>https://easyperf.net/blog/2019/02/02/Performance-optimization-contest</link>
            <guid isPermaLink="false">hacker-news-small-sites-26149436</guid>
            <pubDate>Tue, 16 Feb 2021 00:09:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Enclosure: Language-Based Restriction of Untrusted Libraries [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26148904">thread link</a>) | @matt_d
<br/>
February 15, 2021 | https://nebelwelt.net/files/21ASPLOS.pdf | <a href="https://web.archive.org/web/*/https://nebelwelt.net/files/21ASPLOS.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>s	ÔøΩ√°3
4‚Ä†{¬¥¬¢p¬øY√¥d≈°r√Ω√ò√´K√¶‚Äò+ÀÜ‚Ñ¢√á√û a}√Ä√µ√†√≠√ë¬´&nbsp;W‚Ç¨‚Ä°≈í{Fvm734‚Ä¶4Àú‚Ä°¬¢¬¥ÔøΩA¬≠¬´¬ª√®G√û√øc √ö¬§√û_86
endstream
endobj
3 0 obj
&lt;&lt;
/Length 770       
/Filter /FlateDecode
&gt;&gt;
stream
x√ömU√ãn¬£0√ù√≥≈æE¬•√é"ÔøΩ¬±y$U√â6&nbsp;√â¬¢5√ïh¬∂)8¬§"‚Äô,√∫√∑√£c\W¬≥√ùs√ü/.7?≈æ¬∑3√ë√¥oz√Ü√Ø(y√ë¬ß√æ2√îz¬¶v√á√®√¶¬¶√®√´√ãAw√ßG¬≠√ù≈í√í√ì=y√∫z¬´√è√§Vm≈†M√ó≈æ√•MW\=j√Ω_I√™√∑¬∂√≥*ÀÜCn_√µ≈∏√ô√Éf√∂
¬Ø√≠√π√É&amp;1y√ò+√º¬≠‚Ä°S√õw√∑$¬æ¬£‚ÄùF√ô5¬™? √ÖS4¬ø‚Ä†!√≥1√∞¬æ√≠≈°√°‚Äπ¬º!r3√í¬¥√µ√π≈†√¨¬ª&gt;ÀúZa¬º√Ω&lt;ÔøΩ√µa√ì√≠√ªh¬µ"√≥#&lt;ÔøΩ‚Ä°O‚Ä∫√ã√èh√æ44zh¬ªwr√ª¬∞1p{9?4B‚Äú4Z¬ØI¬£√∑√Ü‚Äπ¬©√ßqw√êd&gt;√•?√±¬Ø√â¬ª√ú=√ª√µ√≥¬®‚Ä∞√É¬±K¬´√Æ}:√Æj=√¨¬∫w¬≠(]‚ÄúUU¬≠#√ù5√üd¬¶k√≤¬∂u¬•√ë¬•¬•y≈æe¬•√ñ√ë*‚Ä†∆íx12+∆í¬πSx¬¶√¶,√∂√å√í09√å9√î)5t¬¥J&nbsp;ÔøΩN¬¶≈†'‚Ä†‚Ñ¢ÔøΩ‚Ñ¢{fS√â
‚Äì2≈í¬¨R√†√å¬º	&nbsp;K√ô√Ä√íVi‚Ä∞X¬§¬§‚Ä†B√ÜRs&gt;‚Äì^√ø√ù
√ó.¬π¬¢K√§CcÔøΩ‚Ä†2ÔøΩ‚Äî√Ä√úc4‚Ä∞&amp;W√Ä¬©o"¬≤¬¶‚Ñ¢√á√ñ√Æq¬º√∞8^zl√£	ÔøΩp5u%‚Ä†=c¬æK(≈ìq/‚Ä°?‚Äìx≈íQ¬±√îc√∏c‚Ñ¢¬∑/‚Ç¨s/G|¬∂¬∞¬£‚Ä¢¬®‚Ä¢-m√µ‚Äû¬•‚Ä¢ÔøΩ√©√Ü¬ØP/S8+8√®√Ç√ë4f√ÅR¬ßSYZ"?.√¨‚Äö0¬ª1√í√ëÀÜ√Ö‚Ä¢[K≈ΩÔøΩ√æ√≤√í√±¬≠¬æ√µ√É√∫ÔøΩPKS6√í√ó0√É√î√¶‚Äîe√à;U≈Ω‚Ä†}Z8~S‚Ä∫g√à;¬≠
_‚Ñ¢√µ√á√†g¬Æv¬ª√≥i;KÔøΩ¬π√¶√äc√Ñ√åg‚Ä°√ù√å¬≠oZ&nbsp;√û√ú√∫¬¶	√∫¬∂√∏‚Äô'√º√™√™‚ÄûL√Ñ√°^
√Æ¬•√†√°^≈†$√úK‚Äò‚Ä†{)¬≤p/E√Æ¬•X‚Äû{)‚Äì√°^
√Æ¬•(√Ç¬Ω√ü≈Ω‚Ä°¬®<f√ü¬•√ø√é*√ª‚Ä∞√ª√∫p¬£v‚Äô‚Ä¶{-uxbd√°1√º√ã2¬º6√í√æ√î‚Äî√û¬¢≈∏*√∑z}‚Ä∞‚Ä°9+√éb%√ì≈ì√¨√µ¬∞√ó‚Äîg¬∫√ó√µe√å)¬∑√ø{‚ÄìqÔøΩ√õno¬øÔøΩc‚Äû‚Ä¢}√¨g√º‚Ä∞=u√ë?*√ãa endstream="" endobj="" 138="" 0="" obj="" <<="" length="" 5881="" filter="" flatedecode="">&gt;
stream
x√ö¬≠;√ô‚Äô√õF‚Äô√Ø√∫
n√ÑF{¬£	¬°.√ñ√ãJ√ô#√õ¬≤¬¥√™√∂LL√ò~@‚Äú√®&amp;V$√ê@iz¬ø~√≥*&nbsp;‚Ç¨-i¬Ω¬¢
ude√•ÔøΩ‚Ä∞xu¬∑≈†W√ü=‚Ä∞g√ø/¬Æ≈∏&lt;√ΩV√•√±J¬•‚ÄòV√é¬Æ¬ÆoW‚Ä∞ÔøΩ≈ìR¬´$O"‚Äú¬∫√ï√µn√µ√ã√∫U¬Ω=4√ù¬©¬Ω√à√ñ√•7√≠√¢√µÔøΩE}w*√Æ√ä√ç‚Äπ¬¢+/6√©z√á√Ω√Ø√ã¬Æo¬´m_55w4¬∑√º√øs√ù¬∑¬ß¬Æ√á√æX√ù¬¥E[‚Ä¢√ù√Öo√ó√ü# j¬•T‚Äù;¬ßk‚Ç¨t¬µ√ëI√§√É‚Ç¨&lt;¬øPz¬Ω∆í)¬≤√∏w√ª¬¶¬´√á√ôy‚Äù':√Å√â√öF1@¬ø√°√µ√§√Ø¬æ√Ω√áB¬Ø‚Ä∞‚Äô4≈∏¬æ¬Ω√∫T√µ√øS¬∂‚Ä°¬¢√û-‚Äö¬£≈ì≈†‚Äô$_i√Å≈°√≤‚Ç¨o:‚Ä†√§‚Ä°
g¬Ω¬´≈†√°0n‚Ä¢Ei‚Äô*Bj%¬±Y√ô√àX≈æ√∫K@oR√Ö‚Ñ¢¬∏‚ÄôH√ß√ó‚Ä∫j‚Äπxo¬∫√¶¬∂P\√ò¬∑√ù√ìq\d√≤√ôa~¬Æ¬´	¬¶¬®√™¬ª]s\&gt;X¬¢‚Äödz¬∞~ÔøΩ'¬°¬π√Ø≈†¬º√∑√∂≈°¬≠√ñ√ø≈∏h‚Ä†-3¬∏o¬∏:¬≠#√¨√ÇI√ü√áR&nbsp;yy√∫jZ√â√Å4√µ‚Ä° e_y√≥√ñE√ñM√¥j√ó≈ì√®
¬ø/Nw5R√º<f√ø=√¢z√ú!y¬©8√ä√£≈ì¬®kc¬†¬°n‚Äôf¬©√ç‚Ä¶w^\]¬ø~a√¨√∫√•√µx‚Ä†wm≈í¬Æ¬¢x√Éz√Ä√º+g¬¢4√èv.√â¬†¬†8√Ç√¥wduwmq<√±\lll√óa√∫≈Ω‚Ä∫ =t√Ä√òg√©√ù="" √íu√âÔøΩ√õ¬¢:√Äc¬≤¬¶‚Äòn√ù_¬®u√ÉÔøΩ√Öng¬•‚Äúy√Ω¬æ$≈ì,√Ä√•√í(="" %¬∏x√ölom√ï?√Äd‚Äú¬≠¬´√£√Ω¬°√ö(rp)‚Äú‚Äú√å√Å7¬∏$ut51qytp‚Äì∆í√å¬ª¬•.\√≠√∑sy√∑<√≤√î‚Ä¢√º‚Äì√ó√à√ó√∑¬ßx√Ωd6‚Ä∞t≈ì2d‚Ä°a≈ì√±q="">√ó√Ä√ë¬∑√≠¬π√ª√ò_‚Äìm√çm√§√´O∆í¬¢√¢u√Ñ¬Ωo≈°N√Ü√èp~√ür√∏}¬¨v¬æ@^O√Å2.R6c¬∞z√ö¬∞9 √ô‚Äù/M√õd√ù√î‚Ä°¬™.¬π‚Äú¬∂¬ø¬ßq]√ï7||ÔøΩ‚Äúq0a¬°√õ_r/`≈ì√Ü¬∂√Ω√•lQB√∂√àxF@¬±f3Av¬®,g√∑x¬¢O‚Äû8√ôE≈Ω√¢&amp;‚Ä∞√ó¬∏¬∫ √∂q?PQp‚Äùmw¬£‚ÄûK√ó√énZÀú*√õ¬¢√¶9p√∑M+√∞(√±m√Å√ØE{'=¬ø≈∏`‚ÄöZ√∑HV¬≠√©d√†VmbRkx√†√∫CM√Ä√ó‚Äî¬æc¬ªg√Ω√Ä√∞I√øÀÜ¬¢√∫#√â√ì√™√ó√òÀú√°√∞b+‚Äù√Å¬≠¬™f√ú#re‚Ä¶√ªÔøΩ√é¬£zt:_¬πXGU‚ÄöxÔøΩph@c[u√∞I¬≠	ÔøΩ√òC√åp¬∏√§Izx¬ª+ÔøΩD¬´‚Äû%bY√¨¬Ωy√†Q√á√¢√Ä¬∑x&gt;¬ø√ê√ú-ÔøΩ‚Äπ√å√ø¬¥o¬∏E√û%9√Ö¬°√çUd@T‚Äû#√ô‚Ä¢‚Ä¶√®+dN‚Äù¬®U√ù‚Ä¢√≠D‚Ä°√Å√æ≈æOd!≈æ√∏r√ØOp‚Ä∫bs√∞≈°√µ¬¶k√àh√ô√ä‚ÄùÔøΩ(#O‚Äù&nbsp;e¬º√ÄK√î√äfqd≈ì√±¬¨D√´√ú¬º¬¢¬¨O¬≤Q√∏√Ök¬¶‚Äö√ø¬∫√¶p√Ç+√∫‚Ä†e¬Æ≈Ω] s√ÉU
J"ÔøΩmY‚ÄìV¬∑$¬µ√É√Äd‚Äπ27]√†rL]_@√ù√ì√∏√¨z√ÄR1¬π¬®/zÔøΩ√º√≤P≈Ωi√í¬≥i¬π≈∏‚Äòz¬±Qn√Ω√Ä¬Ø*√ÄA! √®√∑‚Ä¶√åaDxu√º¬∂√†¬øÔøΩ¬ß¬≠√≤√êx\{√Å√°Fm‚Äô¬Æ,X√ñÀÜ:]¬π√á√≥‚Ñ¢5¬≤S]n√†‚Ç¨q¬æFÀÜ{√ö√±√Ä#¬øE√ãmR8ÔøΩ√ë√≠i¬•√≥o	lx*√∏ovP√®¬£ÔøΩ`ZwyFKX‚Ä∫F6-1≈ì√•¬øR≈íG|√ï(&gt;¬æ√ò6&nbsp;√†p√ö¬ø¬∏
‚Äû_¬∂‚Ä∫‚Äπ√ê`√øNX¬©√û‚ÄòS√∑√µY¬Ω
H[_√î√Ñ≈í&lt;6:‚Ä¶∆í√ü&nbsp;4√∞√Ü<t?√Ä¬ø¬ß≈ímu√ì¬Æ √Ø√ö√ã4u√∞¬∞mny¬ºh√£uyn¬¥z4√õ≈ìh¬∞="" b¬π√®√•√†‚Äòt"√∂="" :1√¢7p√Ñ¬Æ≈ì¬Ω√¢7¬§\io≈Ω√¥8√πztuqs(‚Ä°ÔøΩ‚Äì‚Ä¢‚Ä¢u6‚Äö√´‚Äù√´√öÔøΩÔøΩ√≠="">u√è√ºa√Ñ√ë√ë9?2GY√ØB≈Ω‚Ç¨√¶‚Äò√Ñ¬æ¬®¬´√ç&amp;√¨r∆í√Ç‚Ä∞%P¬µ√£√ë}u^¬®√Ü`FZ√ª‚Ä¶√∏"‚Äì&amp;‚Ä†_Cs¬™wS9≈†x"M¬Æ¬£$√ì¬£"Yf√É4A¬±√é¬¶√ìBYvF‚Äù
√≥ x6ÔøΩ√Ö+h&lt;6FÔøΩ√ã√©o`qd√≠¬¢"`‚Ç¨0l{¬æ√¨¬´¬£¬∞√∏√ç∆íA‚Ñ¢3 h0√≥ÔøΩ√ä¬ß@√ºX√µ√Äl/≈°√≠‚Ç¨√Ω&gt;sÔøΩÔøΩ&lt;7o¬≤√Ç¬•‚Ç¨¬∂$√ç√∞√ÆL¬¶¬¢√î[s¬æJG¬æ‚Äöc√ùs‚Äìb(5√≠9√¢ ¬¶NÔøΩ]	√¶a3≈°[‚Äì&amp;ÔøΩ√°√∫√≠h8m¬¶R‚Ä∫¬ªNu√®?b√É¬ª√êK√£nNd¬πj=6√°`-√∞ÔøΩQ‚Äö¬¨¬§√é‚Ä∞4‚Äû6KCÔøΩ√Çv3`√å√å‚Ç¨t9&nbsp;Y√òqÔøΩ‚Ñ¢√ö√ô√µ¬ß¬Ø¬´√¶F%√ø¬ß¬∫+n	ÔøΩ√†8C
~/‚Ä¢Y√∞√à√¥t¬≥/¬¢¬ø‚Äö√ñi¬§√µ\√∞[ÀÜÀÜ√´≈æ
√∞ÔøΩN√∑√ûÀú√Æ√éIGc¬≥(¬≥¬¢@‚Äû‚Ä¶I√≠ÔøΩ√¥z
(=¬∞√∏√∫;√æ¬≠¬Ø/\¬∂√û√º‚Äπ√ü√æ¬ª√∏B¬•^MB√è]Y‚Äîmq√ò√ú≈∏Z√úÔøΩ¬∑√òI√É√¥Ho∆í√¨M√Å√∞¬π‚Äú√ó=≈†√â√ñS¬£=¬ª ≈†≈íI¬£,√≥¬Æ√á^√ÑNy,√õ;V+√ê√≤ √É√£09‚Ä¢‚Äπ√õ√ô{‚Äò√ß¬£H^AD¬¨√°√Å√û¬º√ª√°‚Ä∞√¶B√õ√ã0ÔøΩD¬πÔøΩ√≤ÔøΩ‚ÄπL{√ãlÔøΩm[yÔøΩ√Ñ√∂R}N√Çyz√ê√†b√õd¬∫√®‚ÄîH8?√üÔøΩIg√≥√ës√î‚Ç¨O:√òU√≤¬æk√ÑR¬™√Ö~√∑√ê√Ø9√ò¬∞√Ñ√Ç`√¶√©T≈ìÔøΩ)|{j√π¬°¬ºH√ñ‚Äπ√Éi`√è84√æ;√Æa√âb‚Äù‚Ç¨‚Äö]√ü5√º√Ø√ü≈ì"v√§‚Ä¢≈†√Ü‚Ä¶YL¬£P√±√∑√å}]Y∆í√∑)j≈ΩzvE_ÀÜ0¬°yh¬™¬°¬≥p√ò¬∞&lt;ÀÜ√§	\¬£≈Ω√áÔøΩ√≠w8ÔøΩ√õ(v"≈æ√ô¬§H&gt;y√ë1¬°√¶vby√ë¬´Y¬∫¬´
‚Ä∫√Çg¬π#?.!√Ø‚Ä†[¬£‚Ä¢t¬Æ√åDq.≈°`0√†√¥√∫u√è‚Ä†\√ãa‚Ä¢\√ï≈†≈æ;√Æ{¬≠√ßÀÜÔøΩN$OT√û‚ÄôÔøΩ√ÜA√Å√¢≈°√¨HÔøΩFÔøΩt‚Äö{O,&gt;xF√â¬∫TG√ä√ò@7‚Äî-√™‚Ç¨¬¢√û≈†∆í0≈°√ó√ª¬≤√òEl√≤¬≥
o‚Ä¶h√ôAÀú√ì=9√Ω-√ß‚Ñ¢≈ì3R¬©√ªB¬πlA¬≠√¨1G√Ü√æ√¢=¬∂‚Ä∫√™@Q$lxg2ÔøΩ√á"-√™√¢Xm¬ß√ñ‚ÄùW √≥H≈ìl‚Äû√Å√ã√îJ&lt;√Ø√•√ã+≈æ√º√≤√≠O/_¬Ω¬ª¬æ
#√Ñ∆í¬®√†X`.√Å¬ª_¬µ≈†√á√Üa‚Äπ√°WA√®h√î#¬™¬æ√£‚Ä°¬≤¬æ¬£ √û‚Äìx}‚Ç¨X=A¬¨√äC√§√º√õ√í¬∂
l‚Ä¢√ª!√ØÔøΩ√ò¬∞¬¢&gt;V√Ñ√ã5^h√∑‚Ñ¢H¬£√é‚ÄôHCKk‚Ä∫≈†‚Ç¨x¬∂‚Äû√ü:ÔøΩ¬£/&lt;≈ìq=`3¬ß√°J≈ì&nbsp;√≤j0da¬ø√≥.q√µ¬±√ò&gt;,aL9t√ô&gt;∆í¬´√ç√≤e !=√öw√±2f¬®√íÀÜ√©√å/M√Ä¬Ø¬Æ≈∏√º√æd√Ü*√è√†_¬≠¬∂√á'¬ø√º¬Øv√∞√ô√ó√Ä¬´O4√≤¬∏√Ø3√ì8√≠¬∞¬∫z√≤_&gt;√©√£VxBt√µo√á¬µ√Än‚Äπe≈æ¬°ÔøΩ‚Ä¢≈°≈í‚Äö√´‚ÄòI0%%‚Äô√á¬µ{[X¬•¬©√•√∞≈∏√∂√∑%√Ü√≤z¬¨8ÔøΩÔøΩ√ä'≈∏](‚Äû√ã0$√é¬ß]<e ‚Äî√Ø√æ√®ÔøΩ√ö¬¢~n√ß¬ß="" ÔøΩ,qu¬∫√í√ái√ü‚Ä¢√≠¬±√™¬∫a¬≥@ÔøΩ√±√ä¬Ø¬∫¬´√∫b,="">‚Ä∞√≤¬∂6wn‚Ä∫√ª√ä√á∆í8√±¬•√ñ√Öa2∆íI,Z√îÔøΩ√´‚Ä°@S`√öKh`p‚Ä¢m√ó√î√Å√Æ√û√®‚Ñ¢√âi√•R8¬±≈ìi{(¬∫≈Ω√çwiG¬±ÀÜ√â√§CY√º‚Ä¶¬ª√Å0√ü‚Ä∞!
j¬¨9√µ√ú¬∏e‚Äô√•√Ü√åÔøΩc¬¥√Ñ8¬∞ÔøΩ√áf√óu#~√ä¬±√òI≈∏√èb1ixs√≤0,;√°√äÔøΩ‚Äú√ã√â7√ö‚Äû√År≈∏√ç√ö¬ø√•
V'¬∫ÀÜa
=‚Ä¢√Äc√∑≈ΩN√±¬æw&lt;&lt;‚ÄπÔøΩX√àzrI≈°NRm¬Ø!=¬∑¬ß∆íl¬∑¬≠D√Å‚Ä∞¬æÔøΩg¬Æ≈∏¬≤:≈†ÔøΩ√òjc¬¥¬¨√¥¬Æ1-G<r¬∂√É9=‚Ç¨√ç‚Äî√ç=√ö√Çmu¬∑√Ø¬ª‚Ñ¢√ùÀÜf√ùvm√≤Àúu√≥‚Äù√ê¬†g$4√ë√ú≈∏√™0√òja_|√†¬¥√ù√á¬´g‚Äì>sGl¬´D≈Ω√Ñ√è.ÀÜ^{√ü√Å√§√´#√πÀÜ√∏‚Äû8V√¨√à√ó`4CN‚Ä†√®|√ÆcPd‚ÄùY√ÉW√õqp%√´U¬∞√û¬∫√£g√°≈°#√É≈†¬∞√Ä√µE√¢√ñ
?√É}√É√ú&nbsp;√É‚Äô3√≤¬©√™√ù‚Äî¬ºR√Äm¬≥√£‚Äö5{k‚Ä∫¬£√ôC¬¢$3√â√º‚ÄîPqÔøΩ¬≠‚Äù¬Æ{;√ö-‚Äò‚ÄûG√áÔøΩ√§S∆í3≈ΩL2√ÄLK√ów‚Äî¬≥√Åd"R‚Ñ¢√∑o+¬ønw/√ú¬∫‚Ä∞R√õ√ÑQ.¬∏vJe‚Äò√í√æn‚Äò√ÆS¬µ~√™e‚ÄùD≈ì¬Ω¬∞Z¬•t¬µ¬§√ò¬∫~"√çd'O¬æ√Ñ√Ü√á√Ö√øYlÔøΩQ√ì√ûE¬£ÔøΩ6Ju0≈ì(√è.I√è¬´w?¬æs√´/ZI4√º√π+{≈æ*√ø5√ñNy√∂ÀÜ√∏√∑¬™√≠O≈ì√Å‚Äô‚Ä¶¬´√ß¬£e2√Æ¬∏‚Ä∞#‚ÄπY√∫`√õ_A\/√©√ã$r∆í√ï‚Äû√õÀÜp/√∑√¨√ãC√àx¬°√ñ√ûl≈∏.p‚Äú`√∏¬•(2‚Äù√∞√ú¬™ÔøΩ¬∑¬Ω¬•√ã¬π√°7√¨&gt;o√ä!lRr¬π√ñ‚Äö^‚Äπ√ã~√µ√¢'~√ù¬≤Q√´b¬≥√â≈íJ7√∫¬©VOc&nbsp;(¬∞¬æ¬ß√ø¬æhL‚Ä†*√¥√à√∑D`‚Äπ|XM√õ?&lt;√Åk√É√Ω√∑}√ü}√≥√¥√©¬Æ¬©√∞√≤≈∏‚ÄöM¬ß‚ÄùuOÔøΩ¬µ.SXJa‚ÄúTg‚Äπ)√≤√è¬¶√åub#√ê‚Äù+‚Ä∫¬ßQ,√æ√∞√™≈∏@√π√º√≠√ª¬ø^}√Ü‚Äì‚Ä¶√ìS√í~‚Äô6≈∏X‚Ä∫.C	bT‚Ä†1√ª¬∂√òLR√û
y¬±√ò‚Äì2√Ä√ãd√Ç&lt;ÔøΩ}∆í√≥q9a√è≈ΩI≈°|n≈Ω√ÇV(.&gt;X¬≤ÀÜ√™X	Ec¬Ω√â¬∞√õl√°√∫√ü‚Äî¬∑%√á¬≠|*√≠[t√Ω√∫oFÔøΩ¬´¬°√≥‚Ç¨‚Ä†Qg√Ä¬µu√ö¬¥ÀÜ√ár√è%?ÔøΩ%5c&gt;≈†Kj‚Ä†‚ÄîCY≈†√äR√§√ùP"b¬•D√Ñr‚Ä∞ÀÜ¬º‚Äú√ü‚Äû‚Ä¢3/|@¬£√úp)√¨ O√ú√Éc¬§=+‚Ä∞Bz¬©$
gMJ¬¢p ‚Ä¢√Ä√ø¬¨$≈†√ñ√Ç≈æs¬∏√Ä?Tf√µ¬§∆í¬∫√µ√´ x5¬π‚Ä†a	¬æ;√¥‚Ä†K¬º√å√Çm9h‚Äû√ê≈°¬§√ö√ôdp^¬π¬µN8√ì‚Äì i8!
G√Å¬º¬∂&amp;√íe√£4√πV#¬π√§¬π$l√ù√ÄhÔøΩ√Ñ‚Ä¢√ò√Æ¬•Bi¬ªyd
'≈Ω√ú√Ñ√áO¬≠7~¬Ø√¶.√∫¬≠7√Ü√ßE+a¬•Z7s√æ√û≈†‚Äì)√∫a√®‚Ä¢¬Øc√±√Ü¬¢R¬®EA√ã√¶&amp;B¬º≈í&nbsp;qP,SZ,‚Äî4√úX√´$√ôD√´√Ä[¬Øu√†M&nbsp;u√†hÔøΩh‚Ä∞¬≠‚Äö√ç-x¬πÀú`Àúl¬∑b√†Vd√ç≈∏|√¶V√º√ßEJN≈°l‚Ç¨‚Äö√ú@¬ß5√´q√ãK‚Äì¬£&nbsp;ÔøΩ√§
HGÔøΩ√í√ì6H√©_√∏(f"u¬©‚ÄîmT≈Ω‚Äπ|^√ö√èe‚Äî√ç√†$Vbr√ø√â√øH√Ç∆í]√å
√æ4‚Äπ3‚Ä¶√Ü|≈†No√í√µ√µ√ª¬∑√Ω√π√•√µ√´¬∑?}&amp;n;h3√≤√∂k¬£4‚Ä¢=!√ù√Ñ≈ΩR,R≈°√≤≈í{√Æ‚Ä†‚Ä°yJ√¢+&amp;√®√∏w¬ø√°h√û√à"vP‚Äö√µ	¬™)√¢‚Äû‚Ñ¢√∞≈∏d√óÔøΩ‚ÄôPR3√Ö√ßA¬¢lC#a≈°√∫
√π‚Ä†‚Äì=uC¬¨pA‚ÄûZ¬¨√ô√¥t9√Ü3sPP¬¥√åZ$≈°√Ö√ë¬Æ¬ßy√ô√Ö≈æ`¬©‚Ä∫Su√®yÔøΩSwÔøΩ!√ç;n5n0¬ß√¶√Ç√Ö‚Äöm√¢√¨&nbsp;-√á:L"A]hz‚Ä∫¬´√∏PH5‚Äù√®√í1√¢krEU@cWQ-\;z8¬∂B√à√ê¬æ=√ï‚Äû√ß√çYt‚Äöy√•2oxK√à2q~√ì√Ñ√µms2¬°9f√®¬¢ÔøΩOÀúM%√¢%^√ó~√ë‚Äô8D√ã√∞¬°¬ø¬®√è√Åi@Q√ºÀÜ√†/U‚Ä∫‚Ä¢√ê¬ø¬≤C√Æ=EJ(¬π¬ØÔøΩ1√ç√°¬¶~¬∞ÔøΩ¬µ¬•ÔøΩ√ñGÔøΩ‚Ä∫ÔøΩ√©√årR¬ØD√ã?≈ì‚Ä¶/√ìT√Ç;‚Ä°o¬≥√§√©$¬®√ào¬∫&lt;ÔøΩ√¢√≥m¬±√Ö2‚Ä¢%‚Äú.hu√ª¬£|‚Äû¬µt}√§√ÇG_√π‚Ä°@≈ìU√∂&amp;√Ö8 C√ñ3√å√Ç/¬æ&lt;"√≥√µ}CÔøΩY√∫5√µ}√©¬¨¬æÔøΩJiv√í√ò50√πS√ÄIÔøΩ√ê≈°√ÑQ√™√òCSoR#`|√ú=√≥y_√Ö‚Ä¶√õ√´].%√§√Ç√≠-≈°√ùq2√ù≈æ¬Ø√™.¬∫<c¬ªÔøΩ¬≥3¬Æ≈∏√ås‚Ä∞¬Ø√ì<un√Ω√ã‚Äîi√à√Åi¬∂9x√çz¬∫√Ålo‚Ä†ÔøΩ9√∞¬≤s√åz‚Ä†√£[¬∂√¥ÔøΩ¬¨mc¬ækf>¬µ¬æZpK√ì‚Ñ¢.√áM√ô√®?yg√¥n0≈†¬æxY{n√ïAÔøΩ¬º?√π‚Ç¨√ÄV‚Äô≈Ω_¬µÔøΩ{¬¥A√¥ES¬ΩY¬•SeQ√§.√á√å_¬≠√ßl
√ó¬°0√ßÔøΩE‚Ñ¢OÔøΩ=?`√®√¥≈ΩBTz¬¢√¶¬°9√®YmTH√™√¥√≤‚ÄìM6¬©{‚Ä¶≈Ω√™‚Äì√µC√ê;0¬•(≈°√î¬£8y$O√î√å¬ß√ã‚Ä†¬≤#,i¬§&gt;%pM¬π¬¨D
g¬™z≈æ√à√ê√æV¬§√ú
94¬ª7¬±√∑√ÉjU√ãÔøΩ¬ß¬Æ√ºf0gL√®'f√Ä√ã*≈í≈†RF¬µ¬´¬º≈†√çC√∫√¶(¬ß$√áX¬µ√ç|5!%&amp;√º√ºX¬∏YG.√£‚Ä¶EDs√º5]K√∏d)¬æs
%v√∞F√Ñ√ê√Ö√ú5√º?¬ºw√ç3_¬¢√®b-'√¢√∫√ÉJJ‚Äî√ä√©‚Ä¶√ë√∑√∑&nbsp;¬≠√Å4‚Äî'RvLkÔøΩ:√ø√™¬¨V√Å√åw≈æ{‚Ä°j√¥=≈∏q$√Å36L`∆í¬¥7&gt;≈í¬µ√ü√å‚Äù&nbsp;)&lt;≈Ω¬µ√ê√ú&amp;≈í√∞‚Äπ‚Ä∞¬£‚Äπ]√æ6√ú¬™d,Jh‚Äú‚Ä°√à¬µX¬ø√Ω z9√â√ó√Æ¬πi√µ¬£√¥‚Äπ√∂@{√∑√ôD9::¬™√µ¬¥√•‚Äö√í√Ç√°xg¬≠1ÔøΩ≈°√àg!√∫¬¢¬¶√∏√ÑW√á\‚Äû1AB6√æ√ë'%?Z√∏q√ó?√ív≈Ωh)Y{¬£≈Ω)
√≠=≈†‚Ä¢‚Äπ√äA'≈°√ùJÔøΩ&amp;IÔøΩÔøΩ√¢¬≤≈†Ga√ó]%¬∂√´√Ä√Å¬£V‚Ä∞√•‚Ä∫¬º√¥9^¬∫(¬£√ó√ì‚Äò*#}‚Äò4√èc"√ßT¬º√îm√â¬§√Å8√ÄgF‚ÄôG¬∑R√™√•√ê‚Äì√£"√≤¬∂;{kÀú≈íMX√ô√¶‚Ä†¬¢TnQ√ç√¨¬¶T:&gt;U√¶√º√©	√¥q¬µ≈°#√≥U‚Äú√âw8√∞¬ß√îc@‚Äπ√Ω‚Äì√§6z¬∂¬Ωq√ûK√∂inO‚Ä°¬≥√†√´√ºc‚Äò√ü ‚Äô‚Ñ¢&amp;√Ç,Y‚Äò√õI‚Ä¶4ÔøΩ¬§√â‚Äú√õ√≤}√Ä@ Ab~)√¨,U/\√Æ≈ìt≈°ÔøΩÀÜ√∑¬µ!√©&lt;‚Ä¢E:¬π},‚Ä†√æG_^√Ñ√´√Ω¬©√ûÔøΩ9ÔøΩnJÀú(√â;`√ín√∫√≠ ¬∞√∫X√§¬øÀúH≈æ√É[≈ìF√Ü√ß,
‚Äôf_k√è‚Ä°*j¬∂¬¢√çtI
3√π‚Ä¢{¬¶√∞*√ç¬ßk¬∏√∏√º≈æ)√ò)*ÔøΩ≈Ω'√É+√•√Ñ√æW√µ-~‚Ä¶‚ÄöS≈ì:√®¬§@@√ä√ï√∏√ê√¥√∑¬≠-√ã@W I&nbsp;√Öw≈í√ù√≠XR√®ÀÜ‚Ä¶≈∏‚Äò√∫√û√¨∆í+¬∏H‚Äî√ª≈í&amp;‚Ä¶¬ß≈∏¬∞=r:√∞GF¬π|‚ÄúO=K¬≤
¬©+√∏9
√¨∆í√Ç‚Ä∫√Ωv?√çz√û.√äO‚Ä¶¬•q¬æ$?'√í√≤√¥√∏∆í√ñ√Å¬∂]√æ√Ü‚Ä°"3√æ#∆í√®q√òS*;xV√≥√∏¬£b¬¨¬∏√Ø¬ªSqF√ÉG6¬±√†¬ø‚Äú√Ω√ΩTm?L¬≥?√§√û√ü≈°¬™NÀÜ‚Äì!¬∏z:¬´Ub"‚Ä∫‚Äπ≈Ω¬©√Ö√æ√ãd√≠\&gt;√û√°&gt;¬∞√É¬™m√ï¬∞u2!#√à¬Ω¬≥/x¬≤‚Ä∞3√≥√ï¬¨√™‚Ç¨√º¬≠US(‚Ä¢=√ã6N¬π(6‚Ä∫≈í√øJVu{√¨lOw~OÔøΩ√Å8√≥√ß√∂4:√ä‚Äôl¬∂√ßy‚Äò√§¬¨Àú√æ¬π=¬±J&gt;‚Ä∫√°6√ï√ß√∑D¬∑VO‚Ä°≈∏√±j‚Ä¢√ìiT√ëT}√É√¥R√ù&gt;H5ÔøΩP√¥√´¬ø¬æ√¢?p¬§95&amp;OCjS_√°[√¶√ã√û¬´¬™~√Üj√Å‚Ä∫¬Æ¬Ø√∫S_N√Å
√∏√æ√Åe¬∏√îW{≈°√ö√°√π¬µz√â¬¶‚Äòv¬≤≈æJ√é√´√ß¬¢,3√ì√±Àú‚Ñ¢√∏√äm,√ã‚Ä∫Ce&nbsp;√Å‚Ç¨130¬øZ‚ÄöG&nbsp;√≥√©&amp;=¬øg¬¶I√π√º¬©=¬≥¬¨√õ¬∫¬¨9¬øg√º¬≠√â√∏√ü√§¬´^√πN‚Ä∞¬æÔøΩ√Æ{q√æCj√í‚Ä†1&nbsp;‚Ä∫√§∆íh√π‚Ç¨x¬®‚Äì‚Ä¢√Ø¬¶√´√ù9√øN‚Ñ¢8J‚Äù
?√®
√¢√®≈†¬πWz¬∂`√Öd√ºl√∏l√º‚Äî‚Ä¢√ê;3√ñ&amp;q	-√ÆÀÜ√ë¬£√ô&amp;@≈°z√≥√®¬£\‚Ä¢G‚Ä∞√è
1~√¥a%¬°¬ß¬ß√öCM√∏y√º√¥‚Ä°¬æ]¬®¬π¬®¬≥¬¢
√∞i√è√Äz√∏D¬¥;]≈ìE‚Ä∞¬Ø√≠¬πÔøΩ√ã√öq]√ãiW∆í)p√π	UiA¬•√¢bQQ‚Ä¢[¬πC‚Äπa&nbsp;√ú√Ä√Ø‚Ä∫∆í|≈æru√µ7√π√¢p√∂√©√ø¬§&amp;rPQ5√∞W‚Äî~¬™&nbsp;√¥√ã‚Ç¨¬ßÔøΩl‚Ä¢
`√≥R‚Äì‚Ä∞√ô√ä¬£I9√®≈∏T√à√≠√õ√©√áI√ù¬•ÔøΩ√õ¬ΩGb¬´√îaP√Ω¬ø√Ω8¬∏¬æs√ò√≥√Ø.√£¬•p¬∂‚Äù√Ç≈ì√Ωd¬ø^&gt;√∞√¢‚Ä¢‚Ñ¢B4√ÉG+√ás¬ØÀú‚Ç¨/√ß‚ÄöZ√ç‚Ä∞‚Ä°√∂√ë√û√©ÔøΩ/¬¶≈æ&nbsp;√¶√ª√¢cq¬µm¬´√ª%√ß√ªlq√á√ø‚Äì^~[
endstream
endobj
208 0 obj
&lt;&lt;
/Length 6064      
/Filter /FlateDecode
&gt;&gt;
stream
x√ö¬≠\[s√õF¬≤~√∑¬Ø√ê√õRU&amp;‚Äö¬πa‚Ç¨√¨‚Äú‚Äú¬µs¬ºI6&gt;¬±¬≤√ßT%~‚Ç¨HJD¬¥¬≠¬ø√ù√ì=∆íH√àR¬¥√•*s0√∑KO√∑√ó‚ÄîQzq{‚Äò^√º√∞√¢¬ª¬´√ü¬º‚Äòy~‚Äò%‚Ä¶U√π√Ö√ï√ç‚Ä¶Q‚Ä∞√â√•‚Ä¶‚Ä¢:√â≈í¬∫¬∏√ö^√º¬æz√µ√æ√ùO¬ø¬º¬ø\K‚Äú¬Æ√æ&amp;√ÖKJ¬Ω¬∫√´¬™≈°‚Äô¬¢√∏#‚Ä¢F*.‚Äòi¬®√¥√Ø¬™≈Ωe√ç_¬ø¬Ωu¬πEn√≤√ï¬´K!W√õ¬Æ√ö5T√¥√É¬æ√≠¬Æ√∂s√ôUmO√©/e¬∫jo¬´¬≤‚Ä¶√É¬æ√®√£]y‚Ñ¢¬Øv‚Äî√Ω¬≥&lt;√¨¬∏√§√ó‚Äû~*¬ª¬£oZ6[J¬º√û¬∂√á¬≤∆í‚Äì√º√Ω√ù√±¬∂¬©√ö√¶√≤√É√ï?_¬§¬º7√ü¬º‚Ä¶¬∏√à‚Äú"√ã4nL≈°E%√©‚Ä¶√ÄM¬≤√¨Z‚Äò'√äÀÜ‚Äπ¬´l√í√Ø~√Ä√é√Ñ√™√£√Æ√í¬Æ√Æ{√∫¬∏√ÅQ√ö}√ª%√™√∂rmW‚Ä∫¬≤¬¶√è?R¬•j.√™√Ø√ªa√á√µ¬ß	%√Ü√ÄÀú0r"√å√Ö√á‚Äπ√©√∑ÔøΩ/(
√ø‚Äπ¬ºHt¬Æ¬¶√ìf¬≤¬™√â2Da‚Äú\√äi∆í‚ÄîO√é:Ie14_T≈†4Q‚Ñ¢ÔøΩ6√∏ÔøΩ√ê≈†nq¬øx+nw√ç¬Æ+√´√∫√æ√í¬´‚Äî‚Äù‚Ä°{√ª	¬´¬∏√É√Ç≈Ω√≥√ô‚Ñ¢√§6Q‚Ä¶¬§n√´√ùm5T‚Ä°r√ò!√ôY8‚Ç¨√äÔøΩ√∫√∫¬Æ√¨‚Ä†{G≈†¬´¬∫¬∫√Æ‚Ç¨√ûÔøΩn¬∞√ä¬°¬º¬ßDu¬∏¬´w‚Ä°]3P¬µc¬≥¬•C;b√û‚Äú[¬™xsl6√´0;‚Ä∫≈Ω√ç¬≠Mg+√´
G‚Ä†√õ¬≥)J¬µw√ò,v √≤U¬´√∂8√¥√ïv√á√Ö7√¥[
=%√ä¬≠√õ∆ín¬®z?√å√Æ7√ú√ë¬•HW	u√¥v√î√¢√é})qQ‚ÄîB√ê)≈∏√õ¬æ√å$√öj≈æ¬Ø¬£WÔøΩ¬≠√û‚Äù‚Ä∫√ù5¬¨n"√∂√ü~¬§√¨√ä1H¬º√ø√áÔøΩ‚ÄùZ.√ô√Ç&amp;U7√∑√¥u√¨w]O√â¬≤√Æ¬πJ¬ø/√π¬¨i√æÔøΩ√´√çW≈∏¬™
ÔøΩZ57mw(io√Öl≈æF'Fd√£¬æ√íE√æ\
{JÔøΩ‚Ä∫2W‚Ç¨¬Ω¬•≈ì¬•6m√ì¬ª¬£√ÜÔøΩG^¬ª√üW6ÔøΩ‚Äô¬π¬£c7Y¬∏&lt;√ü√¶‚Ä∫√ÅÔøΩ¬æj,√ç√∑UÔøΩ‚Äú¬∏‚Ä¶‚Ñ¢*Àú≈∏√õeL√ê√ïGf‚Ä¶_wX{√õ‚Ä¢‚Ä°C√ï√úR^]6¬∑√á√≤v√ß√´8‚Ä†√¶≈°√ÆÀÜ6;$¬Æ√ô√º≈Ω)‚Ñ¢√∏u3√ò¬¥‚Ä°√É¬±ÔøΩ¬ª√°√®√ç√ä√ï¬æ√º√Ñ√è"{√Ç1¬ª≈Ω√õ*√µ√≠√ç√∞¬π√Ñ¬©q√ù¬™o√´‚Äô&lt;‚Äòe√Å1'√Çf√ì√â	1√ù√ñh-√í¬ª‚Ñ¢√ñ*√á2E‚Äô
1S-ÔøΩ‚Ñ¢Gy√¶ÔøΩV$¬π≈æ-S&gt;¬∞√åz√à√µ√≥√Ü√åA‚Äö√è≈Ω]=0d¬°`W≈†g
√©)M≈†$S)ODÔøΩg9‚Ñ¢L‚Äû¬≤√ì√™O1√ã‚Ä¶√§01_√ë"¬®√ë√è√ë√¶I√º|√í‚Ä¶NGi$¬¨x√ñÀÜ‚Ä¶p√§√∑√à‚ÄπN}v√é≈æ%R¬∏g√©l¬ß√¥√≤Q
!ÔøΩ√Ä√•¬≥√ñ)‚Äûr≈ì√≠‚Ä¢√ñ√ãcJ@√¢yC√ä"1j¬∂[√ö.¬©0√ô√ß‚Äò¬¨√êÀú√å√¨@ÔøΩZ√ì^*≈æG¬¥√ô¬¶ÔøΩÔøΩy`k√°j√¢yd+‚Ç¨m¬¶y1√≥ÔøΩ¬Ω¬µ‚Ç¨<d√æ¬º1-p:¬£‚Ä∞l,ÔøΩ √ó¬≥√ê√¶yc√Ä√Ü√§√¨|¬≤√•¬Ω‚Ä¢i≈°√®√¨ywe√Ç√µ√å√¥√¨|2¬≥<&\√è√Ç√é√é√¢∆í∆í√îÔøΩ‚Äöpu√ï{√ä+√Ø√Æ≈ì√¢rn√∂‚Ç¨<t√î3="">H&gt;cIÔøΩ√†X¬≥j√öÔøΩ√•v√´√†]√è=¬≤√Æc.√ó5¬•:@3≈ìI¬≤&lt;"√º√≥√®ÔøΩ¬∫√†=7$$.7K√ür√Ñ√ßaÔøΩ‚Ä†h%¬´‚Äû‚Äî¬§ux)c¬º√¥-e√Ω‚Äò≈°T√Ä‚Äö&gt;AE¬≥¬´√è√´:(5¬∑$ÔøΩ‚Ä†¬∞M√ó√Ω√ê‚Ä¢¬æ¬ßb¬ß&gt;`‚Äò√õ√ä6{?¬π‚Ñ¢¬§4y√®ÔøΩ‚Ä¢√ö√±√∞Im√†¬£¬Ø√Ö√ùÔøΩ¬≤¬ß√™≈†√û√é√ô√é¬Ø‚Äò√¢√∞v√öi√Ω'Sm√°√Ñ√Ø¬§√π√ÄÀú ≈†B=oL)√êp']√å¬•g&lt;¬§√Ç≈æ≈†√ß
¬©tb√≥l6¬¶^TÔøΩe√èS#FÔøΩ¬≠√ì¬®√•1ÔøΩI¬≤B<ol√Ä√ë‚Ä¶Àú‚ÄòÔøΩy`ÔøΩy≈æh√≥l¬≤2√ë√π≈í‚Äû√¶≈í ‚Ç¨t.g$√¥ÔøΩn="" ¬∞fl@c√ìkia√å¬ß¬¨¬¥¬ªÔøΩ≈°√¥√â√≠¬£l¬ßw¬ª¬¶¬Ø="">ÔøΩ‚Ñ¢√Ä?√´j√£√µ"√ü√∏XE√õ√ë√•‚Ä†¬º¬ß√™JR'9dMf'NÔøΩCXÔøΩT@Xx√ü√¢O&amp;f ¬¨l6¬®¬™Mb√ìg¬™‚Äò¬≤√¶∆í√ä5HZj√ö√†√É√üi‚Ä∫‚Äò¬±Kb√¨√∏yw¬§√É;o√ø0&nbsp;Q√§≈°√≠1√∑√ç¬ß2√ë¬≠√®‚Ä∫7√Ä¬ß&amp;√Ç)¬™D‚Ñ¢√¥Gv‚Ñ¢√õ‚Äû≈∏√òCc
√î≈†T7√æ√µ√ò4'√°√∑≈∏√•¬ß√≤√Ω¬¶¬´√Æ8≈∏D¬°3¬∏√πz"√ïh√§:T√Éhj√â√ëP√£E√í|‚Ç¨5√§¬πaÔøΩ√â¬∂&nbsp;√ôzw*‚Äô26¬©B√∂(¬Ω√ò√í√≥d√´√†¬¨¬ªx√ó≈°√∫√ûu√òR¬¥≈∏√µ√∑w√ä√á√ìR√Æ¬¥√º√ç≈í¬ÆF√´¬§ÔøΩlI9T_FÀúz√§√≥¬ß‚Äû3BF√∑√∏√ï3
¬≠U‚Äò¬§H√®q√´√ó]u√∏K‚Äî[d√∫√ì√û√é!√ó0¬º¬µ@N√´¬¢S¬´√øq&amp;¬Ø-√°¬•¬ß√≥‚Ñ¢4‚Äò9√´Z=0)@¬ª√à√Ñ√π¬π¬∞√ç]¬≠~¬®√ã√É√∂¬Ø3¬øÔøΩ√´lJ√πS√äÔøΩ∆í√êÔøΩOi#√Çe-&lt;‚Äô¬≠no‚ÄûV√Ü≈Ω`S√≤¬¥w√ú√å@≈ìMs√ã¬®√∫¬±)?√á√ül¬±√évG‚Äì√ôf¬ªk6√é√™‚Ä†¬•√•-mg√å‚Ä∫H3M¬®√≥¬º¬£e‚Ä∫e
√ô‚Äùr"√®≈Ω√°√∂(‚Ä†√íU¬π√ô0OW]u¬ª√∫d√é√∑√ò&gt;ij¬•4√û√ø√≠+w√ô¬•C√ìW√†(√éu&nbsp;&lt;¬∫√áÔøΩp√è‚Ñ¢Z¬π√Ñaz√∏ÔøΩ√ò&amp;¬©GÔøΩ¬∏√©√ä√õ¬™√πNi¬Økg]8¬™√≤
√¨√ì ‚Ä∞√ó*5¬∞√Ø√ï≈∏G√ú√≥T¬Ø6√ªA√π¬Æ¬´√∫¬°√ö√¥TÔøΩ√èÀú)≈íc:¬ß~√ó&lt;:≈∏√ê√∑{¬∂¬°¬£‚ÄöP¬°kfC&gt;¬ªZ≈°‚Äù.‚Ç¨\‚Ä¢≈ì≈ævfÔøΩa¬πB√ÜÔøΩ≈ΩR√®‚Äì√Æ√ß≈ΩrI)ÔøΩ√Ñ¬∂JJ√û‚Ä∞¬µ‚Ä°‚Äì2¬ªc√É
¬∏otbP√™¬ª¬∫_ÔøΩk4ca√ï\√ì@‚ÄôR√©√™√≥¬æ√ö&nbsp;√ù\‚Ä∞√ïaW¬¢.∆í¬πx¬¥vu√è√π$~ {4√É√á¬¶√û‚Ä¢]√çu¬∂;√ú¬Æ&amp;pd(NHd√îM¬∫r{√õV&nbsp;¬∂‚Äû√ç3¬Ø'
‚Äìz¬§O‚ÄöÀú [&gt;√ã≈í√∏6
^√Ç√êoI√≤m\√¢√üXA√ö5≈∏lk√î≈°^rm/¬æ√®
f¬´‚ÄôT9¬≤^:ocn√∞m√ô√î√°¬æk√Å‚Ä°	‚Ä∞√™@KuG¬§√ì@¬´Z≈ì√∞‚Äö‚Äû¬≤¬Ø`¬ª√ù&gt;a√µM√ôP.ÔøΩ:v√®'
√Ø‚Ñ¢‚Äú√ñ√Ä¬æ√∂≈í√úV√¨,[KQ≈í√¨√í√éS∆í¬ø4/LV√çÔøΩ√≥≈íÀÜ≈ìI√ë¬µq;D)√±√é&amp;"ÔøΩÔøΩqe√¥}¬§=h‚ÄöWDD|√é√à√¢B+‚Äú(√Ö√º√πj√èh√Ö&amp;&gt;√∂√∂√òl√ôG√ß√ê
√∫¬≥√∂l[6T¬∏√ü√ïw¬æ¬º*‚Ä†√¢Q¬´ÀúB√é¬∑¬≤√å‚Ä¶¬ªr^aV√∑√û	[8√î¬™‚Ä°y¬∞√É√®¬ª¬•L√Üd‚Äò‚Äú√é¬µ¬π%‚Äπ√ñ¬Ω‚Ç¨w√§V√±N√é‚Ñ¢‚Ä¶√´¬ØY√ÇmZ(√ê√ê'≈Ω;oM√π¬¢¬°√®√ì9Àú√ÆÔøΩ√è√≠:√èÀÜD√ò√æ`F ¬≠t&nbsp;\√ö√ø,√¶d/gsKAm√ãÀúkO/b ÔøΩTM%‚Äô*D√ÄÔøΩE√íe√é‚Äî¬ø√†√ÅÀÜ¬≤√∫√ù√§L√ú¬Ω√èq¬µ√ò≈ìRL¬∞k√°x¬≥√®‚Ä∞√© &nbsp;‚Ç¨o√çY(P*ÔøΩV#B¬∂√Æ|¬ºÔøΩ√à;s¬± [G\√É&lt;√≤¬µN$nn5}¬∑¬æeG√ü¬¥¬´6‚Äö√ò@√´¬∞√á‚Ä†¬ºv√ñO√ô"√õ;√è
TV$&amp;√ó√Å√´7√úk¬•√Ä‚Äù√©¬≤√¨/√©√Éya√õ√à√ò√∞&amp;¬≤√â√ç√è¬º¬Ø¬ªiÔøΩ[9_}¬°√ØÀú√Å¬≠‚Äî&amp;*[&amp;=%.(‚Ä¶\¬Ω√®¬∑√¢Mr√Ñ¬§CvI?√õ√ª¬¶<tn0¬Øg¬Ø7_2(√Øw√úÔøΩ#u!=√Ωv‚Ä¢7√ñ¬π√Ç‚Ä†~i√ºy:≈ì√ë¬Æ√í6√â¬≤√å√∑≈Ω n‚Ä∫,s="" ≈†)?‚Ç¨√Ø√Ä√í‚Äò)er√å¬≥√£q++√ÜÔøΩ="" ÔøΩ¬±‚Äö√Æ‚Äî6te¬†x3+¬•e√¶‚Äû√ôp√∑√Çcm?√íÔøΩ="" e√ó‚Ä¢66fr√µ≈æ~√Ω¬≠yw√ç\√∞j="" b%r√Å¬±√û.mn≈°√Ñjf√ò√£&="" d√ùng√ÆÀúrÔøΩa¬±:¬¥√Ω√†a.√ª¬º*y;0¬†="" √•√à√õ√ù√î‚Ä¢√≤√ôj¬∞√µ√à√ús√ê‚Ñ¢="[ÔøΩ√£¬π}√¨√ñ√ûp" ¬ª="" ‚Ä∫¬™?√¥s~¬¢√§√§√¥%√üd≈†√ö√Ä√≤="" √ìg√ú√∞n√ò‚Ä°(Àú¬±t√ïi0≈∏√°≈ì*ui¬Æ‚Äû¬ø¬ø√ß√†`‚Ä†≈†#j√∫√πd√±vao#="" ‚Ä¢√Ü√π√®1qx¬§-√ßw="" k≈∏√ï\¬©g5√è≈æ7zf√Ç;√ê√¥tl¬•‚Ä¢,d‚Äô[√©ÔøΩl√Ö√°_¬±ÀÜ1‚Äön‚Äù√£u="R=¬¢√Ü[E√≠:¬∑√ìqÔøΩ">√ñm?√ö¬≥√é‚Ä¶¬¨‚Ä¶
√Ä2z√ñG]¬Ω√µ√ì√≥7¬™√∑√±r~√ö√ªXP9/‚ÄûW.≈ì`$}O‚Äô‚Ä∞¬§‚Ä°%d‚Äö≈í¬ß√å$√Ä¬°¬∏√û5p√î√∞Q¬±Xs√¨√Ä¬∑¬µ∆í√©7√∫Ty‚Ä∞o='k‚Äú¬∞N√Ø:√è‚Äì¬§‚Ä¶&lt;¬£¬£‚Ä∞√Ø¬∫¬™^ÔøΩ'GyÔøΩv√º√ó√ù√¢ÀÜE‚ÄπX¬∏√¥TÔøΩ6‚ÄùK ¬°:s‚Ä∞¬æ¬∞¬∑he/XN√í^yX‚Ä∞√ö9¬ß‚Äû:√¢&amp;#√âG¬≤√¨v¬ª%&amp;Y√ì√Ñ-√É&lt;√®√ñ¬Ø√î≈Ωxra;u‚Äò¬§*‚Ñ¢08¬∑	¬∫‚ÄìP‚ÄöA¬æD∆í‚Ç¨s&lt;‚Äô'¬£}√Ü¬∞#/g¬•‚Ä°≈°d?√º√†‚Ñ¢√ß‚Äû√≤B¬§≈ì‚Ä∞‚Äú√õ√Ñ√º√¥tGU≈æ¬§‚Äì¬•7LA√≤¬∞¬£2=∆í¬∏t√Å√¶√ã¬®V‚Äû‚Ä∞\¬∂√áÔøΩD√ªMb√ã‚Äôh¬Ø‚Äö&lt;≈°¬π!@¬∫&amp;Bx√´Y‚Ç¨9*&lt;6¬¶√Ç√òNl∆í‚Ä°√Ç‚Ä∫~‚Ä∞;√©&lt;¬∫=¬®`¬≥√ö√õ√ØÀÜ5&nbsp;√°√Æ¬Ω√æ\^√ó‚Ä¢7WÔøΩ√Æ¬™√à‚Ç¨y¬≤√¥tS)¬∑.J¬≠p√ñgV√•o≈ì√æ¬¢¬∫√ª‚Ä¶¬±√é¬©¬®Àú&amp;‚Äπ¬•o|¬£‚Äô~√∫√≤¬±‚Äò‚Ä†√≤=ÔøΩR¬§‚Äô¬©#¬∏‚Ä¶)¬ß&amp;‚Äò√¨¬Æ√í√ö√´√°√ö√õÔøΩ¬¥&gt;¬ªAT∆í|√Ü\‚Äπ√â‚Ñ¢:¬∂‚ÄòP√ö√ë?&amp;b&gt;‚Ä∞√ü√ï¬∞C√é-¬Ωf_√†∆íp#√ß√®√≥#t	tC¬π√àV√§-g¬¢√ø]LÀú~9*aS√ù√∑v√ç#
√ª√ùW≈ì2K‚Äú&lt;‚Ä∫N√∏2*ÔøΩC√ê√¶f"4l‚Äπ√é√¨‚Ä¶√à√ëz√èB'√Ç√ã
√á¬Æ√±¬®¬π√±EÔøΩ?:t+√™√é-)
√≠√¨2‚Ä∫≈Ω¬Ø¬©?¬∑¬®¬∏‚Ñ¢√¶}√ç¬¥‚Ä°‚ÄòO√ú;7ÔøΩÀÜ√•‚Äû+\√∏=≈∏¬£Bae¬¢$√ã-V√ô¬Ø√´√≥|+√°w9¬ª√´``&nbsp;¬£√èu√π√ä√Ä√Æ¬ª√∂`√Ω‚Äî¬Ø9¬´√†aÀÜ√õ¬§∆í‚Ä†√Æ≈Ωr√≠AGY‚Äì√§√≤¬§√π¬£‚Ä∞√è√á‚Ç¨≈∏¬¥w‚Äπ‚Ä∞?u√¶j√ºu√¶4L√ï√Ås	Àú¬Ω∆í@Àú]√π√∫√¥T≈∏¬•¬ªi√íD¬ß,√±N√ï#a√ë√Ñ} .‚Äπ√π#)√à|√ºP|√¨I¬≥¬µs√Ö√•ÔøΩ¬®‚ÄöC¬¨‚Ä¶w¬∏yÔøΩcaz¬™H¬¥fQwl*≈í¬ßF;¬¨√∑√õ)¬≤+¬¥√ól√ú√ç&amp;z|√Ç√¢¬ª‚Äô√É√ù√â¬°¬≤8√ü}√ÇS√ª‚Ç¨‚Ç¨√ß‚Ñ¢¬ØÔøΩ9Z√Øs√Å≈æ2
S√¨√ã\{¬¶b¬Ω√ØG
%√ùC‚ÄöIÔøΩ#√´√≥w`1≈†4‚Ä∫v@a62√µ4¬Ω‚Äôf¬∂¬π√§∆í¬¨√Ç√úW√Ø√ûR-&gt;√ú,¬∞√¥‚Ñ¢√ù√ì¬≠^Xg√ø¬•√•¬±/¬Ø¬Ω‚Äπ¬µ√ú¬∏S√©√ª¬πk√µ40ÀÜ@‚Äû√µ¬∞√ä√é√ó≈†√ª¬∏&gt;V√µh)_8‚Äô4KL√ÄE(¬¶ÔøΩ@¬ß√ô‚Ä°S√ØP¬Ω√Ñ¬¢-
^¬≥√´¬º¬µ¬´√ç¬©√´
L√ÖM[¬∑¬∑¬Ø+‚ÄôR≈∏¬¨42¬±JO&amp;6¬¨Y8√ò√©¬¢
‚Äúd‚Äö√µ√ß=√ú‚Äù&gt;¬∂√öÀú√¥√¥√ö¬π√ó√é≈æ‚Ç¨¬Æ)P√ú‚Äú‚Ä∞"8√ø}}√µ√Ç
L91V¬•¬≥$¬•rsx√±√ß`√ï‚Ñ¢¬°‚Ä∫%]‚Äòo√á√ü¬º=ÀÜ‚Äπ¬¥/√æ√æ√π√û}‚Ä¢¬µ√Ø{u√Æp‚Ä∞"‚Äπ√ñ¬Ø0j
JÔøΩ¬¥√Æa≈Ω{√Å√µ¬¶¬∫√µT√Éz√Ñ¬∑√∞‚Ä∫l‚Äûo√Ä√íhfSÔøΩ]d¬®8√¢,]√õnS≈∏]√æ7oT¬™√£ÔøΩ√èVK√ü√™ÔøΩ¬ß¬©H√Ö√Ç√ó&amp;√ß√•h√∫√Æi≈æ√Æ‚Äù0¬±q&nbsp;√Öe¬µq¬¨√°√ÆxM√úy
X9√âE	√î√™x√• &nbsp;≈æÀú¬®.√≥√µ‚Äî√ÜO‚Ä¶</tn0¬Øg¬Ø7_2(√Øw√ºÔøΩ#u!=√Ωv‚Ä¢7√∂¬π√¢‚Ä†~i√ºy:≈ì√±¬Æ√≤6√©¬≤√¨√∑≈æ></ol√†√±‚Ä¶Àú‚ÄòÔøΩy`ÔøΩy≈æh√≥l¬≤2√±√π≈ì‚Äû√¶≈ì></d√æ¬º1-p:¬£‚Ä∞l,ÔøΩ></c¬ªÔøΩ¬≥3¬Æ√ø√¨s‚Ä∞¬Ø√≥<un√Ω√´‚Äîi√®√°i¬∂9x√≠z¬∫√°lo‚Ä†ÔøΩ9√∞¬≤s√¨z‚Ä†√£[¬∂√¥ÔøΩ¬¨mc¬ækf></r¬∂√£9=‚Ç¨√≠‚Äî√≠=√∫√¢mu¬∑√Ø¬ª‚Ñ¢√ΩÀÜf√Ωvm√≤Àúu√≥‚Äù√∞¬†g$4√±√º√ø√™0√∏ja_|√†¬¥√Ω√ß¬´g‚Äì></e></t?√†¬ø¬ß≈ìmu√≥¬Æ></f√ø=√¢z√º!y¬©8√™√£≈ì¬®kc¬†¬°n‚Äôf¬©√≠‚Ä¶w^\]¬ø~a√¨√∫√•√µx‚Ä†wm≈ì¬Æ¬¢x√£z√†√º+g¬¢4√Øv.√©¬†¬†8√¢√¥wduwmq<√±\lll√óa√∫≈æ‚Ä∫></f√ü¬•√ø√Æ*√ª‚Ä∞√ª√∫p¬£v‚Äô‚Ä¶{-uxbd√°1√º√´2¬º6√≤√æ√¥‚Äî√æ¬¢√ø*√∑z}‚Ä∞‚Ä°9+√Æb%√≥≈ì√¨√µ¬∞√ó‚Äîg¬∫√ó√µe√¨)¬∑√ø{‚ÄìqÔøΩ√ªno¬øÔøΩc‚Äû‚Ä¢}√¨g√º‚Ä∞=u√±?*√´a></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://nebelwelt.net/files/21ASPLOS.pdf">https://nebelwelt.net/files/21ASPLOS.pdf</a></em></p>]]>
            </description>
            <link>https://nebelwelt.net/files/21ASPLOS.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-26148904</guid>
            <pubDate>Mon, 15 Feb 2021 23:12:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ark 1]]>
            </title>
            <description>
<![CDATA[
Score 51 | Comments 39 (<a href="https://news.ycombinator.com/item?id=26148865">thread link</a>) | @simonpure
<br/>
February 15, 2021 | https://www.lot2046.com/ark-1 | <a href="https://web.archive.org/web/*/https://www.lot2046.com/ark-1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div id="content_360_38"><div id="ark-1_hero_back"><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_back.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_back@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_back@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_back.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_back@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_back.jpg"></picture><p>Cabin porn.</p></div><div id="ark-1_hero_left"><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_left.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_left@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_left@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_left.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_left@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_left.jpg"></picture><p>LOT 0983 ‚Äî ARK 1; 6.4m x 3m x 2.6m; 13m¬≤ internally; 17m¬≤ externally; <br>4.5m x 1.6m window; rechargeable battery bank; electric powertrain.</p></div><div id="ark-1_hero_top"><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_top.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_top@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_top@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_top.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_top@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_top.jpg"></picture><p>A rechargeable solid state Lithium Ion battery for an EPA estimated range of 500+ miles, <br>600W solar panel roof with 5G and Starlink‚Ñ¢ antennas.</p></div><div id="ark-1_hero_boulder-1"><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_boulder-1.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_boulder-1@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_boulder-1@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_boulder-1.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_boulder-1@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_boulder-1.jpg"></picture><p>Off-road, self-driving, autonomous, off-grid mobile home.</p></div><div id="ark-1_hero_boulder-2"><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_boulder-2.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_boulder-2@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_boulder-2@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_boulder-2.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_boulder-2@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_boulder-2.jpg"></picture><p>Home on the range.</p></div><div id="ark-1_hero_right"><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_right.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_right@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_right@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_right.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_right@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_right.jpg"></picture><p>Breakfast of champions.</p></div><hr><p>Product range:</p><div id="ark-1_asset_tire-table-1"><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_asset_tire-table-1.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_asset_tire-table-1@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_asset_tire-table-1@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_asset_tire-table-1.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_asset_tire-table-1@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_asset_tire-table-1.jpg"></picture></div><hr><div id="ark-1_main-text"><div><p>Humans have never really lived on earth. 
</p><p>In fear of the cold, famines, and war, we chose to huddle in caves, camps, and cities in order to dwell near pooled resources, fearing unknown calamities.&nbsp;But the internet has changed all this. Accessibility no longer requires proximity. You no longer have to physically relocate in order to acquire the tools and resources you need to live a comfortable life. We are moving towards a reality where work and location no longer need to depend on the other. With the rapidly growing infrastructures of telecommunications, green energy, delivery services, and travel flexibility ‚Äì both in pace of advancement and market size ‚Äì a new way of working and living is emerging.
</p><p>One in which we no longer need to rely solely on outdated frameworks of metropolitan densities to support a given lifestyle.
</p><p>Flattening density is the way forward.
</p><p>Entire economies will need to re-evaluate what it means to give flexibility just as its users are realizing the boundaries of these new flexibilities. We‚Äôre already seeing an exodus of major metropolises. Lockdown hysteria has forced us to consider whether the paths we thought we prescribed ourselves is really ours. As this changes how many will choose to live, LOT is building a mission to earth.
</p><p>ARK 1 is an off-road, mobile dwelling. It features plug and play modular parts, a rechargeable battery pack, solar roof, 4 wheel steering, independent suspension, and can be equipped with full self-driving capabilities. 
</p><p>By treating the home as the ultimate appliance, we‚Äôre building a vehicle to nourish the self. If your home could take you anywhere, and there‚Äôs no more point A to point B, where would you go? </p></div></div><div><div id="ark-1_crawl-mode"><div><div><p>Crawl Mode</p><p><iframe src="https://www.youtube.com/embed/UFBsLeqcMR8?controls=0&amp;color=white" frameborder="0" allowfullscreen=""></iframe></p></div><div><div><p>ARK 1 utilizes all of its on-board self-driving cameras/sensors to enable it to drive autonomously on off-road, off-grid terrain.
</p><p>It is also equipped with a drone that acts as eyes by flying ahead to map trickier surfaces in order to provide the best possible route (fog map). This feature is not meant for navigating conventional roads, as there are no lanes to switch or traffic lights to watch for. Only surface and elevation changes to traverse, which it does slowly, so if you wanted to go to bed in the desert and wake up at the coastline, you can.</p></div></div></div></div></div><p>Eyes:</p><div id="ark-1_asset-drone-1"><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_asset_drone-1.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_asset_drone-1@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_asset_drone-1@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_asset_drone-1.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_asset_drone-1@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_asset_drone-1.jpg"></picture></div><div><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_asset_drone-2.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_asset_drone-2@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_asset_drone-2@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_asset_drone-2.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_asset_drone-2@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_asset_drone-2.jpg"></picture><p>LOT 0983-2</p></div><hr><div><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hdr-10.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hdr-10@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hdr-10@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hdr-10.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hdr-10@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hdr-10.jpg"></picture><p>19:23 ‚Äì Monday, May 18 at El Capitan, 34.465976, -120.024302</p></div><div><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hdr-9.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hdr-9@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hdr-9@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hdr-9.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hdr-9@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hdr-9.jpg"></picture><p>19:21 ‚Äì Monday, May 18 at El Capitan, 34.465976, -120.024302</p></div><div><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hdr-1.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hdr-1@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hdr-1@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hdr-1.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hdr-1@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hdr-1.jpg"></picture><p>18:43 ‚Äì Friday, April 10 at Joshua Tree, 33.977110, -116.020468</p></div><div><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hdr-15.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hdr-15@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hdr-15@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hdr-15.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hdr-15@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hdr-15.jpg"></picture><p>17:30 ‚Äì Wednesday, May 20 at Austin Creek, 47.837902, -121.611665</p></div><div><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hdr-3.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hdr-3@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hdr-3@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hdr-3.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hdr-3@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hdr-3.jpg"></picture><p>19:55 ‚Äì Wednesday, May 20 at Austin Creek, 47.837902, -121.611665</p></div><hr><p>Details:</p><hr><div><a id="ark-1_ar-icon" rel="ar" href="https://lot2046-images.s3.amazonaws.com/ark/ark-1.usdz"><svg width="92" height="84" viewBox="0 0 92 84" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M56.7205 35.5L46.4 41.5" stroke="black" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path><path d="M77.7205 23.5L67.4 29.5" stroke="black" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path><path d="M25.7205 53.5L15.4 59.5" stroke="black" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path><path d="M46.4 41.5V51.5" stroke="black" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path><path d="M46.4 68.5V78.5" stroke="black" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path><path d="M46.4 4.5V14.5" stroke="black" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path><path d="M37.0441 36.1526L46.4 41.5" stroke="black" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path><path d="M15.0441 23.1526L24.4 28.5" stroke="black" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path><path d="M69.0441 54.1526L78.4 59.5" stroke="black" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path><path opacity="0.5" d="M46.5 3.5V79.5" stroke="black" stroke-linecap="square"></path><path opacity="0.5" d="M13.3232 22.4402L79.6499 60.6511" stroke="black" stroke-linecap="square"></path><path opacity="0.5" d="M13.3191 60.6432L79.678 22.3797" stroke="black" stroke-linecap="square"></path><path opacity="0.5" fill-rule="evenodd" clip-rule="evenodd" d="M46.5 3L79.842 22.25V60.75L46.5 80L13.158 60.75V22.25L46.5 3Z" stroke="black"></path><mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="92" height="84"><path fill-rule="evenodd" clip-rule="evenodd" d="M37.7968 0H55.7968V25.9515L82.2032 10.7058L91.2032 26.2942L64.866 41.5L91.2032 56.7058L82.2032 72.2942L55.7968 57.0485V84H37.7968V57.1284L9.79681 73.2942L0.796814 57.7058L28.866 41.5L0.796814 25.2942L9.79681 9.70577L37.7968 25.8716V0Z" fill="white"></path></mask><g mask="url(#mask0)"><path fill-rule="evenodd" clip-rule="evenodd" d="M46.5 3L79.842 22.25V60.75L46.5 80L13.158 60.75V22.25L46.5 3Z" stroke="black" stroke-width="3"></path></g></svg></a><p>Try your ARK 1 in the wild. Tap on the icon above 
<br>to experience it true to scale. Only available on iOS devices (for now) <a href="https://lot2046-images.s3.amazonaws.com/ark/ark-1.usdz" rel="ar">see ARK 1 in AR</a></p></div><hr><div><p id="ark-1_white-paper-title">White paper</p><div id="ark-1_white-paper-image"><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_white-paper.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_white-paper@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_white-paper@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_white-paper.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_white-paper@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_white-paper.jpg"></picture></div><p>Read our full proposal for ARK 1 on <a href="https://docs.google.com/document/d/1eedNlGgE11JfQgKiYzw33XpsmupT_pjrGBESwHnT8EE/edit" target="_blank">Google Docs</a></p></div><hr><div><p id="ark-1_calculator-title">How much will my ARK 1 subscription cost?</p><div><p>1 day</p><p>365 days</p><div><p>Travel to reservation site</p><p>24/7 access to LOT community centers</p><p>For use in designated areas only</p><p>Remote security</p><p>24/7 roadside assistance</p><p>Remote check-in/out</p><p>Reservation delivery</p><p>Open road travel</p><p>Towing Vehicle (Powered by JEEP¬Æ)</p><p>LOT Life subscription, basic self-care products</p><p>Remote smart address (delivery locker, automatic postal routing, DMV untethered, utilities)</p><p>Water delivery, food boxes</p><p>Citizenship Assistance (legal aid, medical care, licensing, property insurance)</p></div><div><p>Your ARK 1 subscription estimate:<br><span>X days</span><span>, ~X month</span></p></div></div></div><hr><div><p id="ark-1_reserve-title">Reserve your ARK 1 now:</p><div><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_key-1.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_key-1@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_key-1@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_key-1.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_key-1@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_key-1.jpg"></picture></div><p><b>$100</b></p><div id="ark-1_reserve-body"><p>LOT 0192-2, ARK 1 multitool (bottle opener, hex wrench set, buckle, keychain); 
<br>powder-coated steel; personalized number indicating queue position; 50g.
</p><p>
By purchasing this physical token, you are reserving your place in line. 
<br>When the time comes, we will be shipping ARK 1s according to this waitlist.</p></div><p><a id="ark-1_reserve-button" href="https://supply.lot2046.com/products/ark-1-multifunction-tool-reservation-number" target="_blank">Buy now to reserve your queue in line</a></p><p id="ark-1_reserve-postfix">We ship worldwide. No refunds. 
<br>Exception to missing or damaged shipment.</p></div></div></div></div>]]>
            </description>
            <link>https://www.lot2046.com/ark-1</link>
            <guid isPermaLink="false">hacker-news-small-sites-26148865</guid>
            <pubDate>Mon, 15 Feb 2021 23:08:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Meta Gameboy Advance Blog]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26148753">thread link</a>) | @pjmlp
<br/>
February 15, 2021 | https://remyhax.xyz/posts/gba-blog/ | <a href="https://web.archive.org/web/*/https://remyhax.xyz/posts/gba-blog/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>I‚Äôve been doing weekly chaos engineering projects for a while now, so I decided to start a blog. A sort of dumping ground for all the things I do.
If you‚Äôre interested in more projects like this, give me a follow on Twitter <a href="https://twitter.com/_mattata">@_mattata</a>. I‚Äôm always working on something fun.</p><p>Kicking it off with the first blog post. I‚Äôm going to compile this blog post (yes, the very one you‚Äôre reading) into a valid Gameboy Advance ROM.</p><p>Full source code can be viewed here: <a href="https://github.com/xen0bit/gbablog">https://github.com/xen0bit/gbablog</a></p><p>You can download the ROM here: <a href="https://remyhax.xyz/gbablog/blog.gba">blog.gba</a></p><p><strong>Feel free to try it out below running in a Gameboy Advance emulator written in javascript:</strong></p><p><em>Controls:</em> Click inside the above box change focus to the emulator. Keyboard UP/DOWN to scroll</p><table><thead><tr><th>Keyboard</th><th>GBA</th></tr></thead><tbody><tr><td>Z</td><td>A</td></tr><tr><td>X</td><td>B</td></tr><tr><td>UP</td><td>UP</td></tr><tr><td>DOWN</td><td>DOWN</td></tr><tr><td>LEFT</td><td>LEFT</td></tr><tr><td>RIGHT</td><td>RIGHT</td></tr><tr><td>ENTER</td><td>START</td></tr><tr><td>/</td><td>SELECT</td></tr></tbody></table><p>I got this idea while browsing around and heard about <a href="https://tinygo.org/">TinyGo</a>.</p><blockquote><p>TinyGo is a project to bring the Go programming language to microcontrollers and modern web browsers by creating a new compiler based on LLVM.</p></blockquote><p>One of the <a href="https://tinygo.org/microcontrollers/gameboy-advance/">compiler targets for TinyGo is a Gameboy Advance</a>, but the documentation shows a bunch of ‚Äú?‚Äù in terms of supporting it. Naturally, I decided this seemed stable enough and decided to give it a shot.</p><p>The Gameboy Advance is a handheld videogame paltform based on the ARM7TDMI microcontroller and there was only a single example piece of code written in Tinygo for reference seen below:</p><p>(Images after this point tend to look quite fuzzy in the ROM due to color palette limitations)</p><div><pre><code data-lang="go"><span>package</span> <span>main</span>

<span>// Draw a red square on the GameBoy Advance screen.
</span><span></span>
<span>import</span> (
	<span>"image/color"</span>
	<span>"machine"</span>
)

<span>var</span> <span>display</span> = <span>machine</span>.<span>Display</span>

<span>func</span> <span>main</span>() {
	<span>display</span>.<span>Configure</span>()

	<span>for</span> <span>x</span> <span>:=</span> int16(<span>30</span>); <span>x</span> &lt; <span>50</span>; <span>x</span><span>++</span> {
		<span>for</span> <span>y</span> <span>:=</span> int16(<span>80</span>); <span>y</span> &lt; <span>100</span>; <span>y</span><span>++</span> {
			<span>display</span>.<span>SetPixel</span>(<span>x</span>, <span>y</span>, <span>color</span>.<span>RGBA</span>{<span>255</span>, <span>0</span>, <span>0</span>, <span>255</span>})
		}
	}
	<span>display</span>.<span>Display</span>()
}</code></pre></div><p>Perfect. I compiled the example and ran it in the <a href="https://vba-m.com/">VisualboyAdvance emulator</a> and it ran without issue.
I needed a bit more though. I need to read gamepad input to allow scrolling through the blog post as well as drawing the blog post to the screen.</p><p>The first step was learning how to draw an image to the screen. Since display.SetPixel takes in a color.RGBA I needed to convert my image into something easily readable by the game that can store x, y, Red, Green, Blue, Alpha for each pixel.</p><p>For this task, I started by cheating a bit. A byte can hold any value 0-255 and the resolution of the gameboy advance LCD is 240x160. Conviently, if I want to create a really inefficient file format I can fit each value needed into a single byte. Then each block of 6 bytes represents a pixel.</p><p><img src="https://remyhax.xyz/gbablog/hex.png" alt="Remy TIFF (Terrible Image File Format)"></p><p>I used the Python PIL package to read an image and export a binary file with this format. Next, I used <a href="https://github.com/jteeuwen/go-bindata">go-bindata</a> to convert the file into a []byte slice that can be embedded entirely within my TinyGo program. This looks something like this:</p><div><pre><code data-lang="go"><span>func</span> <span>myfile</span>() []<span>byte</span> {
	<span>//This byte slice would contain the contents of the image,
</span><span></span>	<span>//allowing me to embed the file in the binary
</span><span></span>    <span>return</span> []<span>byte</span>{<span>0x89</span>, <span>0x50</span>, <span>0x4e</span>, <span>0x47</span>, <span>0x0d</span>, <span>0x0a</span>, <span>0x1a</span>}
}</code></pre></div><p>Surprisingly, this actually worked (somewhat).</p><p><img src="https://remyhax.xyz/gbablog/remy.jpg" alt="Testing Rendering an image to gameboy advance"></p><p>After tweaking some things and generally getting a feel for how stuff worked internally, I switched to my next task: figuring out how to read gamepad input.</p><p>In retrospect, I probably could‚Äôve used CGO which enables the creation of Go packages that call C code. This would‚Äôve been a lot easier if I‚Äôd just used the well defined developer SDK‚Äôs already written in C, but I‚Äôd had a few beers by the time I encountered this problem. Here‚Äôs how to do things THE HARD WAY.</p><p><em>Problem Statement:</em> We want to scroll through an image by a set number of pixels when the user presses up or down on the D-Pad.</p><p>Okay, how do we read input from the D-Pad?</p><p>Let me point you to <a href="https://jamiedstewart.github.io/gba%20dev/2019/03/21/GBA-Dev-Input-Handling.html">GBA Development: Button Input Handling</a></p><blockquote><p>you might assume that when a button is pressed that the bit in the IO register that it relates to is turned on. This is infact the opposite of what happens. The REG_KEYINPUT 0x04000130 has all bits turned on when buttons are not pressed. This isn‚Äôt really a massive issue, it just means that we need to look for when a button‚Äôs bit is in the off state to indicate a press.</p></blockquote><p>Well that sounds complicated and hard, so I‚Äôm gonna basically ignore <em>pretty much all of that</em>. I do need to create a pointer to the IO register for the keypad though:</p><div><pre><code data-lang="go"><span>regKEYPAD</span> = (<span>*</span><span>volatile</span>.<span>Register16</span>)(<span>unsafe</span>.<span>Pointer</span>(uintptr(<span>0x04000130</span>)))</code></pre></div><p>Alright, so we try to get the value of the register and‚Ä¶ nothing. We wrap getting the value of the register in a while loop and‚Ä¶ nothing.
Why?</p><p><strong>Ah, maybe my timing is off?</strong></p><p>So let‚Äôs create a timer that checks the value of the register at a regular interval!</p><p>After countless hours, you will come to the conclusion that ‚Äútime‚Äù actually doesn‚Äôt work despite compiling without error.</p><p>We now have 2 problems:</p><ul><li>We need to read button presses from the D-Pad</li><li>We need to invent our own timer</li></ul><p>Super fun stuff.</p><p>After doing some reading, I found <a href="https://mgba-emu.github.io/gbatek/#lcddimensionsandtimings">GBATek</a> (Warning, HUGE page).</p><blockquote><p>V-Blanking 68 lines, 4.994 ms, 83776 cycles - 30% of v-time</p></blockquote><p>Cool, so I can use IRQ_VBLANK interrupt as a timer AND sync my actions with the screen refresh. Makes sense.</p><p>After some fiddling around, we end up with an IRQ interrupt that calls a function ‚Äúupdate‚Äù. ‚ÄúUpdate‚Äù reads the value of the register regKEYPAD and compares it against the defined values for each button on the Gameboy Advance.</p><div><pre><code data-lang="go"><span>var</span> (
	<span>//KeyCodes
</span><span></span>	<span>keyDOWN</span>      = uint16(<span>895</span>)
	<span>keyUP</span>        = uint16(<span>959</span>)
	<span>keyLEFT</span>      = uint16(<span>991</span>)
	<span>keyRIGHT</span>     = uint16(<span>1007</span>)
	<span>keyLSHOULDER</span> = uint16(<span>511</span>)
	<span>keyRSHOULDER</span> = uint16(<span>767</span>)
	<span>keyA</span>         = uint16(<span>1022</span>)
	<span>keyB</span>         = uint16(<span>1021</span>)
	<span>keySTART</span>     = uint16(<span>1015</span>)
	<span>keySELECT</span>    = uint16(<span>1019</span>)
)

<span>func</span> <span>update</span>(<span>interrupt</span>.<span>Interrupt</span>) {
	<span>//Read uint16 from register that represents the state of current buttons pressed
</span><span></span>	<span>switch</span> <span>keyValue</span> <span>:=</span> <span>regKEYPAD</span>.<span>Get</span>(); <span>keyValue</span> {
	<span>case</span> <span>keyDOWN</span>:
		<span>//Increase where we draw from in image
</span><span></span>		<span>lineCursor</span> <span>+=</span> <span>106</span>
		<span>//Draw image
</span><span></span>		<span>drawBlog</span>()
	<span>case</span> <span>keyUP</span>:
		<span>//Decrease
</span><span></span>		<span>lineCursor</span> <span>-=</span> <span>106</span>
		<span>//Draw
</span><span></span>		<span>drawBlog</span>()

<span>func</span> <span>main</span>(){
	<span>//Register interrupt using VBLANK and timer, calls update function
</span><span></span>	<span>interrupt</span>.<span>New</span>(<span>machine</span>.<span>IRQ_VBLANK</span>, <span>update</span>).<span>Enable</span>()
}</code></pre></div><p>Finally, We write a function ‚ÄúdrawBlog‚Äù which handles drawing the scrolled image on the screen based on ‚ÄúlineCursor‚Äù which is controlled by the D-Pad, write a blog about it, screenshot it, and stick it into the game running on the blog about the blog.</p><p><strong>Closing Statements:</strong>
At the end, I‚Äôve certainly learned a lot. Way more than I originally intended to, especailly considering I‚Äôd never properly written any Golang code when I started this project.</p><p>I think the work that the TinyGo team has put into this is absolutely phenomenal and truly believe that it can be the basis for creating a high level Gameboy Advance SDK in the future. Functionality such as <a href="https://github.com/tinygo-org/tinyfont">text/font rendering</a> and <a href="https://github.com/tinygo-org/tinydraw">basic drawing</a> is already supported and works on GBA.</p></div></div>]]>
            </description>
            <link>https://remyhax.xyz/posts/gba-blog/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26148753</guid>
            <pubDate>Mon, 15 Feb 2021 22:59:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How I survive 12 hour flights]]>
            </title>
            <description>
<![CDATA[
Score 28 | Comments 38 (<a href="https://news.ycombinator.com/item?id=26148684">thread link</a>) | @aminozuur
<br/>
February 15, 2021 | https://eftegarie.com/how-i-survive-12-hour-flights/ | <a href="https://web.archive.org/web/*/https://eftegarie.com/how-i-survive-12-hour-flights/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-4388">

			

			<div>

	
				<p>I have developed&nbsp;some&nbsp;tricks&nbsp;that&nbsp;have helped me survive long flights. Here they are, in case they might help anyone else:</p>
<ul>
<li><strong>Noise-canceling headphones</strong><br>
I‚Äôm sensitive to noise so this is a life-saver. The engines on long-haul flights are way louder than on short-haul flights.</li>
<li><strong>Offline playlist in Spotify</strong><br>
Include&nbsp;tons of music and podcasts.</li>
<li><strong>Pay for Wifi</strong><br>
If you can afford it, pay the $30 or whatever it is for WiFi. It will be slow as hell, but it will be worth it. Do not buy those cheap ‚Äú10MB‚Äù packages, as they will be used up fast.</li>
<li><strong>Dress comfortably<br>
</strong>No jeans. Wear jogging pants or whatever you like. And bring a sweater,&nbsp;for when the plane gets cold</li>
<li><strong>Shoes off</strong><br>
I take my shoes off the moment I sit down in my seat. Having your shoes on that long gets uncomfortable.</li>
<li><strong>Random toilet visits</strong><br>
I go there even if I don‚Äôt need to pee. I just sit by myself, relax, and wash my hands for refreshment. Just to switch the setting around.</li>
<li><strong>Books</strong><br>
Load up your phone with EPUBs of books you‚Äôve been wanting to read.</li>
<li><strong>Free food<br>
</strong>Go to the stall (at the end of the airplane) and tell the stewardess that you‚Äôre hungry, ask for drinks, sandwiches, whatever you want. They will give it to you for free.</li>
<li><strong>Bring snacks</strong><br>
Buy a Big Mac before boarding the plane, and eat it whenever you want. Bring chocolate and other snacks.</li>
<li><strong>Sit/sleep wherever the fuck you want<br>
</strong>If the plane is half-empty, go walk around and choose a&nbsp;new seat&nbsp;wherever you want. Like a window seat, or take three seats, put up the armrest and stretch out for a nap.&nbsp;Do not ask the stewards if it‚Äôs OK to switch seats, they might say no. But if you do it without asking, they won‚Äôt give a fuck.</li>
</ul>
<p>
February 15, 2021


			</p></div>
		</div></div>]]>
            </description>
            <link>https://eftegarie.com/how-i-survive-12-hour-flights/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26148684</guid>
            <pubDate>Mon, 15 Feb 2021 22:53:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What security does a default OpenBSD installation offer?]]>
            </title>
            <description>
<![CDATA[
Score 114 | Comments 87 (<a href="https://news.ycombinator.com/item?id=26148667">thread link</a>) | @zdw
<br/>
February 15, 2021 | https://dataswamp.org/~solene/2021-02-14-openbsd-default-security.html | <a href="https://web.archive.org/web/*/https://dataswamp.org/~solene/2021-02-14-openbsd-default-security.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<article id="20210214">
  <header>
  
    
    <p>Written by <em>Sol√®ne</em>, on 14 February 2021.<br>Tags: 
<span><a href="https://dataswamp.org/~solene/tag-openbsd69.html">#openbsd69</a></span>


<span><a href="https://dataswamp.org/~solene/tag-openbsd.html">#openbsd</a></span>


<span><a href="https://dataswamp.org/~solene/tag-security.html">#security</a></span>

</p>
    
  </header>
  
<p>In this text I will explain what makes OpenBSD secure by default when you install it.  Do not take this for a security analysis, but more like a guide to help you understand what is done by OpenBSD to have a secure environment.  The purpose of this text is not to compare OpenBSD to others OS but to say what you can honestly expects from OpenBSD.
</p>
<p>There are no security without a threat model, I always consider the following cases: computer stolen at home by a thief, remote attacks trying to exploit running services, exploit of user network clients.
</p>

<p>Here is a list of features that I consider important for an operating system security.  While not every item from the following list are strictly security features, they help having a strict system that prevent software to misbehave and lead to unknown lands.
</p>
<p>In my opinion security is not only about preventing remote attackers to penetrate the system, but also to prevent programs or users to make the system unusable.
</p>
<h2> Pledge / unveil on userland</h2>
<p>Pledge and unveil are often referred together although they can be used independently.  Pledge is a system call to restrict the permissions of a program at some point in its source code, permissions can't be get back once pledge has been called.  Unveil is a system call that will hide all the file system to the process except the paths that are unveiled, it is possible to choose what permissions is allowed for the paths.
</p>
<p>Both a very effective and powerful surgical security tools but they require some modification within the source code of a software, but adding them requires a deep understanding on what the software is doing.  It is not always possible to forbid some system calls to a software that requires to do almost anything, software designed with privilege separation are better candidate for a proper pledge addition because each part has its own job.
</p>
<p>Some software in packages have received pledge or/and unveil support, like Chromium or Firefox for the most well known.
</p>
<p><a href="https://www.openbsd.org/papers/bsdcan2019-unveil/index.html">OpenBSD presentation about Unveil (BSDCan2019)</a></p>
<p><a href="https://www.openbsd.org/papers/BeckPledgeUnveilBSDCan2018.pdf">OpenBSD presentation of Pledge and Unveil (BSDCan2018)</a></p>
<h2> Privilege separation</h2>
<p>Most of the base system services used within OpenBSD runs using a privilege separation pattern.  Each part of a daemon is restricted to the minimum required.  A monolithic daemon would have to read/write files, accept network connections, send messages to the log, in case of security breach this allows a huge attack surface.  By separating a daemon in multiple parts, this allow a more fine grained control of each workers, and using pledge and unveil system calls, it's possible to set limits and highly reduce damage in case a worker is hacked.
</p>
<h2> Clock synchronization</h2>
<p>The daemon server is started by default to keep the clock synchronized with time servers.  A reference TLS server is used to challenge the time servers.  Keeping a computer with its clock synchronized is very important.  This is not really a security feature but you can't be serious if you use a computer on a network without its time synchronized.
</p>
<h2> X display not as root</h2>
<p>If you use the X, it drops privileges to _x11 user, it runs as unpriviliged user instead of root, so in case of security issue this prevent an attacker of accessing through a X11 bug more than what it should.
</p>
<h2> Resources limits</h2>
<p>Default resources limits prevent a program to use too much memory, too many open files or too many processes.  While this can prevent some huge programs to run with the default settings, this also helps finding file descriptor leaks, prevent a fork bomb or a simple daemon to steal all the memory leading to a crash.
</p>
<h2> Genuine full disk encryption</h2>
<p>When you install OpenBSD using a full disk encryption setup, everything will be locked down by the passphrase at the bootloader step, you can't access the kernel or anything of the system without the passphrase.
</p>
<h2> W^X</h2>
<p>Most programs on OpenBSD aren't allowed to map memory with Write AND Execution bit at the same time (W^X means Write XOR Exec), this can prevents an interpreter to have its memory modified and executed.  Some packages aren't compliant to this and must be linked with a specific library to bypass this restriction AND must be run from a partition with the "wxallowed" option.
</p>
<p><a href="https://www.openbsd.org/papers/hackfest2015-w-xor-x.pdf">OpenBSD presentation ¬´ Kernel W^X Improvements In OpenBSD ¬ª</a></p>
<h2> Only one reliable randomness source</h2>
<p>When your system requires a random number (and it does very often), OpenBSD only provides one API to get a random number and they are really random and can't be exhausted.  A good random number generator (RNG) is important for many cryptography requirements.
</p>
<p><a href="https://www.openbsd.org/papers/hackfest2014-arc4random/index.html">OpenBSD presentation about arc4random</a></p>
<h2> Accurate documentation</h2>
<p>OpenBSD comes with a full documentation in its man pages.  One should be able to fully configure their system using only the man pages.  Man pages comes with CAVEATS or BUGS sections sometimes, it's important to take care about those sections.  It is better to read the documentation and understand what has to be done in order to configure a system instead of following an outdated and anonymous text available on the Internet.
</p>
<p><a href="https://man.openbsd.org/">OpenBSD man pages online</a></p>
<p><a href="https://www.openbsd.org/papers/eurobsdcon2018-mandoc.pdf">EuroBSDcon 2018 about ¬´ Better documentation ¬ª</a></p>
<h2> IPSec and Wireguard out of the box</h2>
<p>If you need to setup a VPN, you can use IPSec or Wireguard protocols only using the base system, no package required.
</p>
<h2> Memory safeties</h2>
<p>OpenBSD has many safeties in regards to memory allocation and will prevent use after free or unsafe memory usage very aggressively, this is often a source of crash for some software from packages because OpenBSD is very strict when you want to use the memory.  This helps finding memory misuses and will kill software misbehaving.
</p>
<h2> Dedicated root account</h2>
<p>When you install the system, a root account is created and its password is asked, then you create an user that will be member of "wheel" group, allowing it to switch user to root with root's password.  doas (OpenBSD base system equivalent of sudo) isn't configured by default.  With the default installation, the root password is required to do any root action.  I think a dedicated root account that can be logged in without use of doas/sudo is better than a misconfigured doas/sudo allowing every thing only if you know the user password.
</p>
<h2> Small network attack surface</h2>
<p>The only services that could be enabled at installation time listening on the network are OpenSSH (asked at install time with default = yes), dhclient (if you choose dhcp) and slaacd (if you use ipv6 in automatic configuration).
</p>
<h2> Encrypted swap</h2>
<p>By default the OpenBSD swap is encrypted, meaning if programs memory are sent to the swap nobody can recover it later.
</p>
<h2> SMT disabled</h2>
<p>Due to a heavy number of security breaches due to SMT (like hyperthreading), the default installation disable half the logical cores to prevent any data leak.
</p>
<p><a href="https://en.wikipedia.org/wiki/Meltdown_(security_vulnerability)">Meltdown: one of the first security issue related to speculative execution in the CPU</a></p>
<h2> Micro and Webcam disabled</h2>
<p>With the default installation, both microphone and webcam won't actually record anything except blank video/sound until you set a sysctl for this.
</p>
<h3> Maintainability, release often, update often</h3>
<p>The OpenBSD team publish a new release a new version every six months and only last two releases receives security updates.  This allows to upgrade often but without pain, the upgrade process are small steps twice a year that help keep the whole system up to date.  This avoids the fear of a huge upgrade and never doing it and I consider it a huge security bonus.  Most OpenBSD around are running latest versions.
</p>
<h3> Signify chain of trust</h3>
<p>Installer, archives and packages are signed using signify public/private keys.  OpenBSD installations comes with the release and release n+1 keys to check the packages authenticity.  A key is used only six months and new keys are received in each new release allowing to build a chain of trust.  Signify keys are very small and are published on many medias to double check when you need to bootstrap this chain of trust.
</p>
<p><a href="https://www.openbsd.org/papers/bsdcan-signify.html">Signify at BSDCan 2015</a></p>
<h2> Packages</h2>
<p>While most of the previous items were about the base system or the kernel, the packages also have a few tricks to offer.
</p>
<h3> Chroot by default when available</h3>
<p>Most daemons that are available offering a chroot feature will have it enabled by default.  In some circumstances like for Nginx web server, the software is patched by the OpenBSD team to enable chroot which is not an official feature.
</p>
<h3> Dedicated users for services</h3>
<p>Most packages that provide a server also create a new dedicated user for this exact service, allowing more privilege separation in case of security issue in one service.
</p>
<h3> Installing a service doesn't enable it</h3>
<p>When you install a service, it doesn't get enabled by default.  You will have to configure the system to enable it at boot.  There is a single /etc/rc.conf.local files that can be used to see what is enabled at boot, this can be manipulated using rcctl command.  Forcing the user to enable services makes the system administrator fully aware of what is running on the system, which is good point for security.
</p>
<p><a href="https://man.openbsd.org/rcctl">rcctl man page</a></p>

<p>Most of the previous "security features" should be considered good practices and not features.  Limiting users resources, reducing daemon privileges, being strict about memory usage, provide a good documentation, start the least required amount of services and provide the user with a clean default installation that can be customized later.
</p>
<p>There are also many other features that have been added and which I don't fully understand, and that I prefer letting the reader take notice. 
</p>
<p><a href="https://www.openbsd.org/papers/bsdtw.pdf">¬´ Mitigations and other real security features ¬ª by Theo De Raadt</a></p>
<p><a href="https://www.openbsd.org/innovations.html">OpenBSD innovations</a></p>
<p><a href="https://www.openbsd.org/events.html">OpenBSD events, often including slides or videos</a></p>

</article>
</div></div>]]>
            </description>
            <link>https://dataswamp.org/~solene/2021-02-14-openbsd-default-security.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26148667</guid>
            <pubDate>Mon, 15 Feb 2021 22:51:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Patterns, predictions, and actions: A story about machine learning [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26148596">thread link</a>) | @tmfi
<br/>
February 15, 2021 | https://mlstory.org/pdf/patterns.pdf | <a href="https://web.archive.org/web/*/https://mlstory.org/pdf/patterns.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>√Ö0√¨√É√∞‚Äò+¬ß/n√è¬∑,√Ç0¬ª=-√É√ê[p√≥nWwJ^EM¬Ø+j¬®TÔøΩ?√É0≈Ωt‚Äòv¬æ¬´¬∏~‚Ä°e√îj√óÔøΩ√è¬¥¬∞)ÀÜ√ñFÔøΩ¬¶‚ÄùA√é√ñ7‚Äô≈Ω√£√å4‚Ñ¢&gt;z[‚Ç¨√æS√ú})¬¶&nbsp;.√®√∂‚Ä°√ã
k‚Äî¬≤√æ5R&gt;*¬≥√ã`v√Éhyt√∂n¬æ&nbsp;√®√ë`‚Äî‚Äù√¢‚Äî√®
4√≥=√ü√å0ÔøΩ√°+x√ä√µU¬§1¬°&amp;,&nbsp;¬Ω≈Ω√¶¬∏≈í¬´≈Ω√¶mE&amp;¬§‚Ä∞‚Äû¬Æ;‚ÄπE‚Äô√£‚Äû√±'√än√ú√Ö√†√≠U‚Äπ8¬≥¬£ÀÜ,2L√∂‚Ä∞ughg¬Æ3¬¶8n2A¬ªJb¬æ√∑√ô‚Ç¨≈í¬∂≈†4/√£‚ÄìnnA√ù≈∏√Ñg[J5∆í√î\Zf¬º√´‚Ä¶cÀÜF]lu¬µ¬§M√∂‚Äô√é≈æÔøΩ	e¬∫≈°R√¥H√á‚Ä∫8sMc√£(√ôÔøΩ1¬Ø√é¬®√á√Æ√≥¬°√µ{\¬∫√Æ¬®√ïmji|K¬≠√ûR¬§‚Ä° √±.o¬£7/√≠J√†√ßaF√ï¬©¬¨¬ø√∑‚Äôs/√¢¬∏√î‚ÄùG√†≈∏√ü^√µ‚Ä¶√¶kR%‚Äì‚Ä∞z_8¬ß‚Äî"¬π√Ñ|¬¢¬∑X√ì√®√´√¥h√º≈∏j&amp;3w√è√ñ√ª¬ºd¬©Y¬¶‚Äù√å$√Ç¬∫≈í√Ç√∑r√Æ√ó¬¥Pk√ü√∏CT√íX√î‚Äò¬≤{]¬¥≈∏¬©¬∫¬≥$ÔøΩ¬¨2√°¬∫^
Yf√ç¬π¬£ln¬¶‚Äöv‚Ä∞≈í@¬π¬£‚Äò}E‚Ä∫√Ñsz√¨√¶√ød5U√®‚Ä†n√®w√≠nK√´√ë9$√πd¬ß¬∑√î√≠¬ª‚Ç¨Y'9¬¶P	z√´
√è.s4¬™√£4zT&amp;X√üQ√°[Z/z√Ω√¶x√êQ¬¨P¬Æ/(l¬Ω√É√ï√â¬¢¬¢2¬°√ø%¬π√èÔøΩ√¨¬∑√ç5‚Ñ¢0√π+‚ÄôSS
√∞√Ø]¬¢Q‚Ñ¢B√ã1√ã¬§ÔøΩ1E7m√å√ë√ÉcP√πZBXS√≠u√Ä√ü;¬¥√¢√¶9mP√ó¬ßAg√í√Æ*√ä≈†≈°¬¢‚Äî+H√óO√Å¬∑√í≈°D√Ü&amp;√Üo)‚Äú^A¬ø‚Äú≈∏√±√≠√ò$g¬ª1mf&amp;¬ßLl2&nbsp;¬ø¬¶≈Ω3¬•√Ω√Æ&amp;√ü√æ√åh√ª3,3ÀúR√ç√ö√ëh=qI‚Äúo√ñ¬∂√âÔøΩ¬®√ãK‚Ç¨‚Ä¶¬£dKC√´2√âKZ"√Ø√´¬Æv3√òÔøΩ:ÔøΩ!p√à@√í;¬∞n¬∫√ó"√ç)X‚Äú$#¬¶'≈°√π‚Ñ¢√Æ√ëU≈†=NO√©/h‚Ä∞_√ü~√∑7¬≠√ì√í√±{‚Äô¬º¬¢√™e¬Ω¬ßK)¬©w^6¬°Ii_‚Äòh√æ`√ÅeK√Å¬µ¬°√û~]¬π√è|√ª¬ª0∆í‚Äù√ù¬©f]¬≠u)√ë,√Ü√Ö@√∫‚Ä°¬Æ¬Ø]g[W√´√ß‚Ñ¢√£H{¬ø≈ì√¢Jg¬©^8¬µ‚Ä¢3√â‚Äì√û√Ω√ú!¬Æ¬≠K√Æb¬±M√ú¬≥,√®√â√™T¬∏¬ª√¶A‚Ä∫¬ß
xF√õ¬¨‚Äì√≠=<b‚Ä†id5tmsh∆ízjg}t≈ìq¬Ω√ô9√≠√¥√≥{¬∑;√™¬±z¬Ø¬∫¬π√ö¬µ¬£√ß'√Øg{√ß√©!‚ÄîÔøΩ√≥√Ø√©8^√™√â√ê+‚Ç¨4√∑√Ø√© ¬∏√ªwb5<¬•zs8¬ø√¶√Æ√ì\≈æ¬ªn√™'√¥¬©√¨≈†v‚Äö√î√´{6d5√µ}a√Ω1%¬π√å≈∏¬∂t√∏bk¬∂m√í√ú≈í√∂¬•3√∫√ó√≤*¬∞.‚Äπ√öc\|√Ø‚Äûuk;√è¬∫√§¬™√´a¬æ√Ω√≠}‚Ä¢≈∏}√êb&¬∏¬´]¬µwwa√ß√ùw√æap1a="" endstream="" endobj="" 203="" 0="" obj="" <<="" type="" objstm="" n="" 100="" first="" 884="" length="" 1758="" filter="" flatedecode="">&gt;
stream
x√ö√ïYIÔøΩ√õ6¬æ√ªW√∞√ñ¬§@√Æ¬§≈† E‚Äìn@‚Äπ¬¶M√ê^r√±√ò≈æ5√û√™%K}?:j≈æ¬πHv√í	z¬∞L‚Ä∞√¢[¬æ¬∑‚Äô‚Äô\2√é$¬∑L)√º9&amp;¬µeR√†‚Äòk√∞/Àú‚Äì√ø≈°i∆í9aÀú¬±a√û3√ì‚Äû√π‚Ä†9‚Ä°y)‚Ñ¢√ßn$¬•b√ûc^Z√ñ`NJ√áZ≈†3√Å9(√Å‚Äû√¥&nbsp;¬§4J‚Ä†)√É‚Äû√ë&nbsp;¬°&lt;.L5L8≈Ω√ïZb&nbsp;√•Hj√Ö‚Äûo√§A6√ëH∆í√û√£√É∆í‚ÄùvÔøΩ¬∑	¬¥sc¬≠0‚Ä¶≈∏gi√ë√Ä√ù‚Äö‚Äì‚Äò|$-d¬≤
h¬≠≈ìwÀú√∂E¬π=¬§‚Äú+  ∆í¬¶M√†√¨SB‚Ä†ÔøΩ√á√Ä~K¬≠¬•‚ÄîÀúf‚Äû¬•@Tc¬π√ê√¢√Ö&nbsp;¬∂:&nbsp;~J¬¶ÔøΩ`√ä
ÔøΩV√à‚Äù=O@√ô‚Äúf-8√¶!‚Äú√äÔøΩp√îh(M∆í≈Ωi-Av√ì¬®`8ÀÜ√ã9√Ñ4L√ÉFx4DFF√á@7#√ΩÔøΩ
¬º&nbsp;‚Ä∞ÔøΩ√ê8f¬¥
p,¬¥≈Ω√Ü≈°0√ê1‚Ç¨‚Äò√±√úaA√£√±X√Å‚Äö¬¶√°AKPn‚Äù)X√ê
¬®¬¢`A+VG√ÑT√ê√ü*8‚Ç¨‚Äö¬≠¬∂
‚Ä¢0eÀú√µÔøΩN√Å‚Äö√ñ√£NÔøΩ¬±p:¬∏√©H√Å‚Äö√é√ò√∞√Ñ2gS√ú8/√Åt/*X√ê5aA√ó√†¬¢`Aa√èA^√Å‚Äö`√†‚Ä°/√ÉeF‚Ç¨≈∏y≈íz
_
7√û√Ä3≈í√ß
‚ÄùS¬∞&nbsp;w√†¬£`A√Øa√ê√°Pnxx¬ßA0`¬π√ÜM#≈í=|√à¬º`~X¬Ω\¬±√è√ò¬Ω√≠l¬≤kW√ã/¬ø¬º¬π√è=√ù{¬•≈ì√Ö√è¬Ω√¢≈ì?‚ÄîY¬º¬¨√É√•√ó&lt;√º/√Çe.√ì√∏√Ç&lt;\¬∂¬∑√ü‚Ä°√ã2¬æu√≥√∏2.9¬º¬∞‚Äî}¬∏l√¢√Ñ√ç¬´√ä¬æ¬ª√ù√Ü√ë2√í√®¬®¬µQ¬º√•√Ω≈†√ñ‚Äö¬ßZ√ø‚Ñ¢u‚Äùq√¥O‚Äò√èm¬©WQ√ã‚Ä∫'√ì
‚Äì√ã√∏√∏@s[‚Ä¢X¬ß√øA¬°n#&lt;√ó√±√∂0qu‚Ä∫√©U‚Äûs√•k3Àú√ñ¬•q¬©4?P"3√äg~"‚Äôm√≤¬§‚Ä†√§≈ì:√ñ‚Ä†b√≤‚Äû≈°&gt;R¬¶√∫&lt;ÔøΩH≈Ω¬©gt≈°C¬Æ√®√º&amp;√ó√£√µn¬∂	√ºT!√™√Ü√î¬ß¬∑'xÀÜ√åx√à√ã¬®	¬Æ√ôI√â√≤mt√¢6¬æw¬≥√≤‚Äö≈†√ñ&amp;‚Äò≈∏F√Ä".‚Ñ¢d|sv¬™i:√©;√∫J√£u?x&amp;√Ø√±mV¬ª¬®√ú&gt;1!√™{l9√Ä√õ;K\R√á;¬≤Y¬¥¬¢t¬§¬´¬®LF√º‚Ñ¢‚Ä†√¶U√§√º&amp;&gt;¬∞_√£√ìYI√ôT√à)‚ÄòE¬æm√£eE}L¬£‚Äì‚Äù¬´¬∑T√ç√´≈°‚Ä¶kbkQÀÜ√åU√§√í)0√çC¬∑¬´¬§≈∏≈ì¬∑√ù√å¬≠i≈æ√ê(≈∏√î√í√ï-t√Å9≈Ω≈†√§n@:¬®	[h≈Ω:‚Ç¨)√ø‚Äù¬∫¬Ø√ç√ù√¶ym√º√Ü1‚Äúl3%√≤CTUq∆í‚Äú√Ω¬ºd¬®b
√Æ¬±√†*z√¶‚Äì√Ç√¥√¶¬¨^L√ªS1√™√ØEk√º≈í8‚Äî√üQ√´¬¥≈Ωx√ó√πe|√Æ'≈°¬øÔøΩ √å√ï√£‚Äöu
3¬§√è,S^&amp;√É≈°
S2Z'√ß%¬≠ÀúK¬∫√Ω=‚Ñ¢‚Ä¢5√ª‚Äö‚Äî‚Ñ¢\¬∑¬ß√∫W5¬≥√∂nS‚Äûu√ß¬∫cK¬°√éu‚Äú$¬§ÔøΩ√ÜÔøΩ
Q√å√óvÔøΩ]‚Ä∫x‚Ä¢p.8√Ø`¬ΩjR9&gt;8A≈æ‚Äò√è√≤√â5√á‚Äúx√ªM¬¢√∫A√´¬ø¬®‚Ñ¢w1¬±z¬ºZ√Ñ¬Ø√®‚ÄôM|√ñ√Ø√∂.m¬ø√ì‚Äô¬ª/‚Äì√ú$-u√ùro¬Æ&amp;g-muf
‚Äî	√ô√üh√úw√π*¬≤¬Ω¬ø3y[‚Äö¬ø^sBtn√ôÔøΩ√º≈∏‚Äô‚Äö¬ø√£
¬µ√èl¬®_√Ñ¬•G√îr¬•5qJ√ãaK=(=¬¨√®62¬Ø+¬ª√ïB√§N√£¬™K+‚Äπ√º√Æ{M¬£√∫¬®Y√ê‚Ä¢√Ωq√£3m√Ω√∑‚Äù√Ö√¢√º&gt;|@R√óWe7‚Ä¶¬™SG2¬µ√µ6.√öR[√¥√ã√†O8E,p√æ√å√æYU¬Ø9√¢√ø√àYQk‚Äò√£√æ√ºS√°&amp;SG≈æ√ì√ùy√ç*g√∂=√©aW9√Ç√´B√á√ù≈∏≈Ω√ñ≈æ‚Äì¬Ω√≠Q‚Äô¬Ø@%9¬ø√ì√º.¬π¬®¬µ'mf√ì¬±¬°¬•¬Æ√ñR}√§√©¬±√§‚Ñ¢b√∑√≠0√¶T¬Æ¬¢‚Äòr√ùI¬∑v@A√ú√¶√®ÀúF‚Äπ√ã|k√ö√ÅzE√≥√ΩÔøΩ6√¥y&lt;8}√∫I√éD√¶≈∏√î‚Ñ¢‚Äî‚Äö¬¶¬∑	M√è¬≥¬ª}√¶k√™¬∏o√£-A√Øq4√õQ√æ{‚Äî)¬ªD√Ç√è√ñH¬°
=¬£√â√Ø√®P9=&gt;¬™h-√ç‚Ç¨√≥A¬Ωh¬°√û√•¬≠¬Ω^sÔøΩ√≤C√∫¬µ√±3¬ß√°?√æ\¬Øgq√™G‚ÄìtspI¬ø√ÑM√©√ûw∆í‚Ä¶p\QK√ï+)√Ö√ùVYJ√†√´√Ä≈ì√ö¬æo$s≈∏√∏≈æDq√û√ì¬¨ÔøΩwÔøΩK‚Ä°√æ√ãdO8√è|√•√à}√É+√ñ≈ío¬´√òd6	¬øPr√ó44√Ü‚Ñ¢√çb√≠¬∞¬§sÀú+≈°√ínÔøΩV‚Äò6¬ΩÔøΩ√°"_$ÔøΩ√•√î‚Ä†QJ[√Äf√ï√ùer√†‚Ä†6‚Äò4*√ì√Ω√æ&lt;√ûvt√∑CÔøΩ‚Äö√ß‚Ñ¢√Ø¬≠√£$d:&gt;√ùW¬æ‚Äπ¬Æ¬¢√î@√à}9|N
yAumO√º√ö!‚Ä¢√©=m≈æRr¬Ωgu√´√ì%√∂‚Äú8√∑≈æ≈æ‚Ç¨~‚ÄòtXÔøΩ)¬´iD√π√Ç√Å√ÜÀún{√¶‚Äù√ü
¬´74yl√≥¬Æ¬≥¬¶¬πyO¬≥J√øX:¬≤
endstream
endobj
417 0 obj
&lt;&lt;
/Length 286       
/Filter /FlateDecode
&gt;&gt;
stream
x√ö¬•‚ÄòOO‚Äû0√Ö√Ø|≈†w√©√í¬°‚Äì#+¬∏b√¢¬∫bo√Ü√Æb¬§D√Ñ∆í~z√ä%1l‚Äú√é√´{‚Ñ¢√å/-#n√ñ≈∏√î√£≈ì√§¬µ√≥√™P(¬©‚Ä†√§‚Ä∫"√¶¬∑-&gt;ÀÜ‚Äú¬ΩJjF¬¢√Ü¬π√Ö√≠‚Äò≈°√õ¬ø+√µ√ª‚Ä¶cAqX‚Ñ¢!I‚Äπ√±/Q¬∫u√ò‚Äû√´N¬º√≠¬¨.|N√ª√ÄÀÜ~"
‚Äî≈†zkEtA√Æ√ªP√´8√ù√ùÔøΩ-]√©√Åb≈∏√ÜQr¬Æ‚Äú‚Ä∫√â	w√ë(¬¨¬Ω|√êW√øDÀúÀú¬¢Bb≈ΩL,@‚Äî
 -Wh‚Ä°¬æuM√ªae√∂√ò¬ºwV√ñY~¬¨Li//e√ñ≈°√äf`\‚Äö√Ω√óa‚Ä¢√®
Hss‚Äö√ä|3‚ÄûY‚Äö5
Not√ù¬¥U√∑i¬ß]fm1Rd¬¶¬∞bS≈°√ß¬¨¬Æ≈í¬Ω¬•e~√¨~√Ç√åj¬¨ÔøΩ/‚Äìc‚Äû¬∏
endstream
endobj
414 0 obj
&lt;&lt;
/Type /XObject
/Subtype /Image
/Width 1024
/Height 1325
/BitsPerComponent 8
/ColorSpace /DeviceRGB
/SMask 422 0 R
/Length 19191     
/Filter /FlateDecode
&gt;&gt;
stream
x√ö√¨√ò√´ÔøΩ≈ì√•y√á√±‚Äî}√ï¬®j‚Äô¬™¬¥!√•√†‚Äìp√¶`|√Ü¬∞^√õ√Äc{√ó^¬Ø√ó6&gt;s2.b.$v9F√∞"ÔøΩ√îJ	R‚Ä∫‚Äö&nbsp;ÔøΩ%√öTJ‚Ä¶¬©‚Äù‚Äô¬¢F√Ñ√∞qwvv√∂43√è√åÀú¬º)√æ¬∂R¬™≈∏¬¨‚Ä∞&gt;√í√∑¬∏≈ægn√ù√è√ß≈°V¬≠√î‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I√ø¬ø&amp;j√ë√™√Ö`[W4J√ë√ç¬°h√çf9[=[¬´W¬´d√ª√º¬≤
‚Ä¶K√è?¬≠Y≈†√ñ¬™‚Äî√Çe√ü√è√©z%Z¬´Q≈Ω√ñ<s√Ök√ô√í√∑s√º√ª√í*k‚Äô√çpÔøΩj[√ó*f¬¢5‚Äπ√ël√çj¬¥√ü|vÔøΩ√Ü√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√ºo√∏√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º √æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√±?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥¬ø√∏≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√Ö√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√≠√¢√øfc<√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√°√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥¬ø√∏≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√Ö√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√¢√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥√ø√§u¬´√ë√¢="">/‚Ä†¬¢5√Ç5√ì√ï¬≥¬•}√í¬™ek√ñJ:¬´
‚Ä¶√ã√é√ü¬®Fk√ïJm]√∫√æl4K√°‚Ä†√Ñ√ø¬øuEQ	7¬≠Y‚Äî√∂y¬∏F#[Q√è√Ü√ø√º√è√ø√¢√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√±?√ø√≥¬ø√∏≈∏√ø√π≈∏√ø√π≈∏√ø√π_√º√è√ø√º/√Ç√ß√æ√ß√æ√ß√æ√ø√≥?√ø√≥¬ø√∏≈∏√ø√π≈∏√ø√π≈∏√ø√Ö√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√¢√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø‚Äπ√ø√π≈∏√ø√Ö√ø√º√è√ø√º√è√ø√º√è√ø√¢√æ√ß√æ√ø√≥?√ø√≥?√ø√≥¬ø√∏≈∏√ø√π≈∏√ø√Ö√ø√º√è√ø√º√è√ø√º/√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√±?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥¬ø√∏≈∏√ø√π_√º√è√ø√º√è√ø√º√è√ø√º/√æ√ß√æ√ß√±?√ø√≥?√ø√≥?√ø‚Äπ√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√Ö√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√ø‚Ä°√øk¬ß¬¢ÔøΩR¬¥√∏√∑¬•Z≈Ω√ñ:C√®d¬µr¬¥f5√ú¬¢G+‚Ä°√ã√é≈∏&gt;?√≠√Æ√ø√¥~≈°??C√≠]Q√ä√ñ≈†√Ü√ß¬ø√´
G¬´√ó+√ë√í√æo‚Äûk√ª√πc√ë√™E6√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø‚Äπ√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π_√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø‚Äú7QÀÜV/√õ¬∫√∏√æ‚Äô¬æ√ø‚Ä∫√•l√µl¬≠"\¬≠‚Äô√≠√≥G√à√û√£√≥¬ß}≈æ√û/J√°¬≤√Ø√ßt¬Ω¬≠√ï(Gk≈æ¬π√¢‚Äö¬µ≈†l√©√ª√ô~qvk4√É5*m]¬´‚Ä∞√ñ,F¬≥5+√ô√£√ë√∏≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø	≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√Ö√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º/√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥¬ø√∏≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø'¬ØZÀÜ√∑y1¬≠¬Æ‚Ñ¢¬Æ≈æ-√≠‚ÄúV-[¬≥V√íYm(\v√æF}0Z¬´Vj√´√í√∑g¬£Y
7$√æ√ø¬≠+≈†J¬∏‚Äòh√çz¬∏¬¥√è√É5√ô≈†z6√æ√ß√æ√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø‚Äπ√ø√π≈∏√ø√Ö√ø√º√è√ø√º√è√ø√º√è√ø√¢√æ√ß&gt;√ø√≥?√ø√≥?√ø√≥¬ø√∏≈∏√ø√π≈∏√ø√Ö√ø√º√è√ø√º√è√ø√º/√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥¬ø√∏≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π_√º√è√ø√º/√æ√ß√æ√ß√æ√ß√æ√ø√≥?√ø√≥¬ø√∏≈∏√ø√π≈∏√ø√π≈∏√ø√Ö√ø√º√è√ø√º/√æ√ß√æ√ß√æ√ß√±?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø‚Äπ√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√Ö√ø√º√è√ø√¢√æ√ß√æ√ß√æ√ß√±?√ø√≥?√ø‚Äπ√ø√π≈∏√ø√π≈∏√ø√π_√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º/√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ≈∏¬º‚Ä∞j)Z¬µv*Z√ë(E‚Äπ¬ø¬™√•h¬≠3DOV+GkV√ÉÔøΩY¬¢‚Ä¢√Ée√ßO≈∏≈∏v√ü/√í√ªo√æ√º¬µwE)[c(√ø√ø¬Æ7¬≠^¬ØDK√ØÔøΩp√©√π‚Äπ√ÜX¬¥z‚ÄòÔøΩ√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√∞√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π_√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√¢√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√±?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø‚Äπ√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π√≤F√Ü≈ΩG‚Ä∫¬®≈æ≈íV¬´D¬´∆ím]¬≥^≈ΩVL‚Äû¬´‚Ä†‚Ä∫(EK√Ø/√©√∑√ì√æ√æ,¬∑u√π√Ω¬¢¬Ω√∑¬£v¬Ø√π9¬°¬£¬µ√π√æ‚Äô√∂yz√æ¬¢√∂yc8ZQT¬¢¬•√∑¬£V1¬≠Q≈íE√£√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥¬ø√∏≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø	≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√Ö√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√ºv√Ω?:v,√ö√∏√Ñ‚Ä∞h√©√Ω¬¢Z;¬≠V√àV≈íVÔøΩ8¬≠^≈í‚Äì√∂y}b0Zmb ‚Ä¶</s√•k√π√≤√∑s√º√ª√≤*k‚Äô√≠pÔøΩj[√ó*f¬¢5‚Äπ√±l√≠j¬¥√ü|vÔøΩ√¶√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√ºo√∏√º√Ø√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√º></b‚Ä†id5tmsh∆ízjg}t≈ìq¬Ω√π9√≠√¥√≥{¬∑;√™¬±z¬Ø¬∫¬π√∫¬µ¬£√ß'√Øg{√ß√©!‚ÄîÔøΩ√≥√Ø√©8^√™√©√∞+‚Ç¨4√∑√Ø√©></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mlstory.org/pdf/patterns.pdf">https://mlstory.org/pdf/patterns.pdf</a></em></p>]]>
            </description>
            <link>https://mlstory.org/pdf/patterns.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-26148596</guid>
            <pubDate>Mon, 15 Feb 2021 22:45:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Are the New M1 Macbooks Any Good for Deep Learning?]]>
            </title>
            <description>
<![CDATA[
Score 168 | Comments 148 (<a href="https://news.ycombinator.com/item?id=26148333">thread link</a>) | @syntaxing
<br/>
February 15, 2021 | https://www.betterdatascience.com/m1-deep-learning/ | <a href="https://web.archive.org/web/*/https://www.betterdatascience.com/m1-deep-learning/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                                                                        
<!-- WP QUADS Content Ad Plugin v. 2.0.19 -->

<p><span data-preserver-spaces="true">There‚Äôs a lot of hype behind the new Apple M1 chip. So far, it‚Äôs proven to be superior to anything Intel has offered. But what does this mean for deep learning? That‚Äôs what you‚Äôll find out today.</span></p>
<p><span data-preserver-spaces="true">The new M1 chip isn‚Äôt just a CPU. On the MacBook Pro, it consists of 8 core CPU, 8 core GPU, and 16 core neural engine, among other things. Both the processor and the GPU are far superior to the previous-generation Intel configurations.</span></p>
<p><span data-preserver-spaces="true">I‚Äôve already demonstrated how fast the M1 chip is for&nbsp;</span><a href="https://www.betterdatascience.com/mac-m1-python/" target="_blank" rel="noopener noreferrer"><span data-preserver-spaces="true">regular data science tasks</span></a><span data-preserver-spaces="true">, but what about deep learning?&nbsp;</span></p>
<p><span data-preserver-spaces="true">Short answer ‚Äì yes, there are some improvements in this department, but are Macs now better than, let‚Äôs say,&nbsp;</span><em><span data-preserver-spaces="true">Google Colab</span></em><span data-preserver-spaces="true">? Keep in mind, Colab is an entirely free option.</span></p>
<p><span data-preserver-spaces="true">The article is structured as follows:</span></p>
<ul>
<li><a href="#cpu">CPU and GPU benchmark</a></li>
<li><a href="#test">Performance test ‚Äì MNIST</a></li>
<li><a href="#fashion">Performance test ‚Äì Fashion MNIST</a></li>
<li><a href="#cifar">Performance test ‚Äì CIFAR-10</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>
<h2><span data-preserver-spaces="true">Important notes</span></h2>
<p><span data-preserver-spaces="true">Not all data science libraries are compatible with the new M1 chip yet. Getting TensorFlow (version 2.4) to work properly is easier said than done.</span></p>
<p><span data-preserver-spaces="true">You can refer to&nbsp;</span><a href="https://github.com/apple/tensorflow_macos" target="_blank" rel="noopener noreferrer"><span data-preserver-spaces="true">this link</span></a><span data-preserver-spaces="true">&nbsp;to download the .</span><em><span data-preserver-spaces="true">whl</span></em><span data-preserver-spaces="true">&nbsp;files for TensorFlow and it‚Äôs dependencies. This is only for macOS 11.0 and above, so keep that in mind.</span></p>
<p><span data-preserver-spaces="true">The test you‚Äôll see aren‚Äôt ‚Äúscientific‚Äù in any way, shape or form. They only compare the average training time per epoch.</span></p>
<h2 id="cpu"><span data-preserver-spaces="true">CPU and GPU benchmark</span></h2>
<p><span data-preserver-spaces="true">Let‚Äôs start with the basic CPU and GPU benchmarks first. The comparison is made between the new MacBook Pro with the M1 chip and the base model (Intel) from 2019.&nbsp;</span><a href="https://www.geekbench.com/" target="_blank" rel="noopener noreferrer"><span data-preserver-spaces="true">Geekbench 5</span></a><span data-preserver-spaces="true">&nbsp;was used for the tests, and you can see the results below:</span></p>
<div id="attachment_3868"><p><img aria-describedby="caption-attachment-3868" loading="lazy" src="https://www.betterdatascience.com/wp-content/uploads/2021/01/1-7.png" alt="Image 1 - Geekbench 5 results (Intel MBP vs. M1 MBP) (image by author)" width="1514" height="324" srcset="https://www.betterdatascience.com/wp-content/uploads/2021/01/1-7.png 1514w, https://www.betterdatascience.com/wp-content/uploads/2021/01/1-7-768x164.png 768w" sizes="(max-width: 1514px) 100vw, 1514px"></p><p id="caption-attachment-3868">Image 1 ‚Äì Geekbench 5 results (Intel MBP vs. M1 MBP) (image by author)</p></div>
<p><span data-preserver-spaces="true">The results speak for themselves. M1 chip demolished Intel chip in my 2019 Mac. So far, things look promising.</span></p>
<h2 id="test"><span data-preserver-spaces="true">Performance test ‚Äì MNIST</span></h2>
<p><span data-preserver-spaces="true">The MNIST dataset is something like a ‚Äúhello world‚Äù of deep learning. It comes built-in with TensorFlow, making it that much easier to test.&nbsp;</span></p>
<p><span data-preserver-spaces="true">The following script trains a neural network classifier for ten epochs on the MNIST dataset. If you‚Äôre on an M1 Mac, uncomment the <code>mlcompute</code> lines, as these will make things run a bit faster:</span></p>

<p><span data-preserver-spaces="true">The above script was executed on an M1 MBP and Google Colab (both CPU and GPU). You can see the runtime comparisons below:</span></p>
<div id="attachment_3869"><p><img aria-describedby="caption-attachment-3869" loading="lazy" src="https://www.betterdatascience.com/wp-content/uploads/2021/01/2-6.png" alt="Image 2 - MNIST model average training times (image by author)" width="2146" height="926" srcset="https://www.betterdatascience.com/wp-content/uploads/2021/01/2-6.png 2146w, https://www.betterdatascience.com/wp-content/uploads/2021/01/2-6-768x331.png 768w, https://www.betterdatascience.com/wp-content/uploads/2021/01/2-6-1536x663.png 1536w, https://www.betterdatascience.com/wp-content/uploads/2021/01/2-6-2048x884.png 2048w, https://www.betterdatascience.com/wp-content/uploads/2021/01/2-6-20x10.png 20w" sizes="(max-width: 2146px) 100vw, 2146px"></p><p id="caption-attachment-3869">Image 2 ‚Äì MNIST model average training times (image by author)</p></div>
<p><span data-preserver-spaces="true">The results are somewhat disappointing for a new Mac. Colab outperformed it in both CPU and GPU runtimes. Keep in mind that results may vary, as there‚Äôs no guarantee of the runtime environment in Colab.</span></p>
<h2 id="fashion"><span data-preserver-spaces="true">Performance test ‚Äì Fashion MNIST</span></h2>
<p><span data-preserver-spaces="true">This dataset is quite similar to the regular MNIST, but is contains pieces of clothing instead of handwritten digits. Because of that, you can use the identical neural network architecture for the training:</span></p>
<!-- WP QUADS Content Ad Plugin v. 2.0.19 -->



<p><span data-preserver-spaces="true">As you can see, the only thing that‚Äôs changed here is the function used to load the dataset. The runtime results for the same environments are shown below:</span></p>
<div id="attachment_3870"><p><img aria-describedby="caption-attachment-3870" loading="lazy" src="https://www.betterdatascience.com/wp-content/uploads/2021/01/3-5.png" alt="Image 3 - Fashion MNIST model average training times (image by author)" width="2146" height="926" srcset="https://www.betterdatascience.com/wp-content/uploads/2021/01/3-5.png 2146w, https://www.betterdatascience.com/wp-content/uploads/2021/01/3-5-768x331.png 768w, https://www.betterdatascience.com/wp-content/uploads/2021/01/3-5-1536x663.png 1536w, https://www.betterdatascience.com/wp-content/uploads/2021/01/3-5-2048x884.png 2048w, https://www.betterdatascience.com/wp-content/uploads/2021/01/3-5-20x10.png 20w" sizes="(max-width: 2146px) 100vw, 2146px"></p><p id="caption-attachment-3870">Image 3 ‚Äì Fashion MNIST model average training times (image by author)</p></div>
<p><span data-preserver-spaces="true">Once again, we get similar results. It‚Äôs expected, as this dataset is quite similar to MNIST.&nbsp;</span></p>
<p><span data-preserver-spaces="true">But what will happen if we introduce a more complex dataset and neural network architecture?&nbsp;</span></p>
<h2 id="cifar"><span data-preserver-spaces="true">Performance test ‚Äì CIFAR-10</span></h2>
<p><span data-preserver-spaces="true">CIFAR-10 also falls into the category of ‚Äúhello world‚Äù deep learning datasets. It contains 60K images from ten different categories, such as airplanes, birds, cats, dogs, ships, trucks, etc.</span></p>
<p><span data-preserver-spaces="true">The images are of size 32x32x3, which makes them difficult to classify even for humans in some cases. The script below trains a classifier model by using three convolutional layers:</span></p>

<p><span data-preserver-spaces="true">Let‚Äôs see how convolutional layers and more complex architecture affects the runtime:</span></p>
<div id="attachment_3871"><p><img aria-describedby="caption-attachment-3871" loading="lazy" src="https://www.betterdatascience.com/wp-content/uploads/2021/01/4-5.png" alt="Image 4 - CIFAR-10 model average training times (image by author)" width="2146" height="926" srcset="https://www.betterdatascience.com/wp-content/uploads/2021/01/4-5.png 2146w, https://www.betterdatascience.com/wp-content/uploads/2021/01/4-5-768x331.png 768w, https://www.betterdatascience.com/wp-content/uploads/2021/01/4-5-1536x663.png 1536w, https://www.betterdatascience.com/wp-content/uploads/2021/01/4-5-2048x884.png 2048w, https://www.betterdatascience.com/wp-content/uploads/2021/01/4-5-20x10.png 20w" sizes="(max-width: 2146px) 100vw, 2146px"></p><p id="caption-attachment-3871">Image 4 ‚Äì CIFAR-10 model average training times (image by author)</p></div>
<p><span data-preserver-spaces="true">As you can see, the CPU environment in Colab comes nowhere close to the GPU and M1 environments. The Colab GPU environment is still around 2x faster than Apple‚Äôs M1, similar to the previous two tests.</span></p>
<h2 id="conclusion"><span data-preserver-spaces="true">Conclusion</span></h2>
<p><span data-preserver-spaces="true">I love every bit of the new M1 chip and everything that comes with it ‚Äì better performance, no overheating, and better battery life. Still, it‚Äôs a difficult laptop to recommend if you‚Äôre into deep learning.</span></p>
<p><span data-preserver-spaces="true">Sure, there‚Äôs around 2x improvement in M1 than my other Intel-based Mac, but these still aren‚Äôt machines made for deep learning. Don‚Äôt get me wrong, you can use the MBP for any basic deep learning tasks, but there are better machines in the same price range if you‚Äôll do deep learning daily.</span></p>
<p><span data-preserver-spaces="true">This article covered deep learning only on simple datasets. The next one will compare the M1 chip with Colab on more demanding tasks ‚Äì such as transfer learning.&nbsp;</span></p>
<p><span data-preserver-spaces="true">Thanks for reading.</span></p>
<p><a href="https://www.linkedin.com/in/darioradecic/" target="_blank" rel="noopener noreferrer"><span data-preserver-spaces="true">Connect on LinkedIn.</span></a></p>
<h4><a href="https://mailchi.mp/46a3d2989d9b/bdssubscribe" target="_blank" rel="noopener noreferrer"><span data-preserver-spaces="true">Join my private email list for more helpful insights.</span></a></h4>
<h2><span data-preserver-spaces="true">Learn more&nbsp;</span></h2>
<ul>
<li><a href="https://towardsdatascience.com/top-5-books-to-learn-data-science-in-2020-f43153851f14" target="_blank" rel="noopener noreferrer"><span data-preserver-spaces="true">Top 5 Books to Learn Data Science in 2021</span></a></li>
<li><a href="https://www.betterdatascience.com/mac-m1-python/" target="_blank" rel="noopener noreferrer"><span data-preserver-spaces="true">Are The New M1 Macbooks Any Good for Data Science? Let‚Äôs Find Out</span></a></li>
<li><a href="https://www.betterdatascience.com/python-pdf-reports/" target="_blank" rel="noopener noreferrer"><span data-preserver-spaces="true">How to Create PDF Reports with Python ‚Äì The Essential Guide</span></a></li>
<li><a href="https://www.betterdatascience.com/python-multiprocessing/" target="_blank" rel="noopener noreferrer"><span data-preserver-spaces="true">Python Parallelism: Essential Guide to Speeding up Your Python Code in Minutes</span></a></li>
<li><a href="https://towardsdatascience.com/shap-how-to-interpret-machine-learning-models-with-python-2323f5af4be9" target="_blank" rel="noopener noreferrer"><span data-preserver-spaces="true">SHAP: How to Interpret Machine Learning Models With Python</span></a></li>
</ul>


<!-- WP QUADS Content Ad Plugin v. 2.0.19 -->


            					</div></div>]]>
            </description>
            <link>https://www.betterdatascience.com/m1-deep-learning/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26148333</guid>
            <pubDate>Mon, 15 Feb 2021 22:23:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[It's going to cost four figures]]>
            </title>
            <description>
<![CDATA[
Score 32 | Comments 5 (<a href="https://news.ycombinator.com/item?id=26148076">thread link</a>) | @cyb_
<br/>
February 15, 2021 | https://raccoon.onyxbits.de/blog/software-development-cost/ | <a href="https://web.archive.org/web/*/https://raccoon.onyxbits.de/blog/software-development-cost/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://raccoon.onyxbits.de/blog/software-development-cost/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26148076</guid>
            <pubDate>Mon, 15 Feb 2021 22:01:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rust Is Cool ‚Äì Enums]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26147872">thread link</a>) | @ThatGeoGuy
<br/>
February 15, 2021 | https://thatgeoguy.ca/blog/2021/02/15/rust-is-cool-enums/ | <a href="https://web.archive.org/web/*/https://thatgeoguy.ca/blog/2021/02/15/rust-is-cool-enums/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            
<p>On <em>2021-02-15</em> by <em>ThatGeoGuy</em></p>

<p>Since starting my new role at <a href="https://tangramvision.com/">Tangram Vision</a>, I‚Äôve
been doing a lot of programming in Rust. This is a bit of a change for me
having mostly worked in C / C++ / C# over the past 6 years, but my impressions
overall are quite positive.</p>

<p>One of my favourite features of Rust are the enum types. They don‚Äôt stick out
among Rust‚Äôs set of language features compared to some of the more novel
aspects of the language (borrow checker, lifetimes, safe-multi-threading);
however, Rust‚Äôs enum types drive some of the coolest parts of the language, and
make modeling data in terms of types a pleasure.</p>

<p>So I wanted to write something to point out some of the reasons I like Rust
enums so much. There‚Äôs gonna be a lot of ‚Äúcompared to C / C++‚Äù in here, so do
be warned.</p>



<p>First and foremost, an ‚Äúenumeration‚Äù or enum in Rust is a kind of sum-type.
Rust utilizes an algebraic type system, so there‚Äôs a few different ways to
specify what the ‚Äútype‚Äù of some data is.</p>

<table>
  <thead>
    <tr>
      <th>Category</th>
      <th>In Rust</th>
      <th>Definition</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Atoms</td>
      <td><code>i32</code>, <code>u64</code>, <code>f32</code>, etc.</td>
      <td>Atoms are types whose values evaluate to themselves. These are more or less the smallest types you‚Äôll encounter, but they are the building blocks for everything else.</td>
    </tr>
    <tr>
      <td>Sum types</td>
      <td><code>enum</code></td>
      <td>Sum types are types where you can choose one of a set of possible states. The number of possible states a variable can have is the sum of all options.</td>
    </tr>
    <tr>
      <td>Product types</td>
      <td><code>struct</code></td>
      <td>Product types are defined similarly to sum types. The number of possible states a variable can have is the product of all combinations of data in the struct.</td>
    </tr>
    <tr>
      <td>Generic types</td>
      <td><code>SomeType&lt;T&gt;</code></td>
      <td>A type that is defined in terms of some other type (or types) <code>T</code>.</td>
    </tr>
  </tbody>
</table>

<p>This may be a bit hand-wavy, and I certainly didn‚Äôt cover all possible types (I
ignored traits and functions, for example), but it‚Äôs a good start to getting to
know about enums.</p>

<p>Rust enums, or sum-types in general, make the most sense when you want to
represent a ‚Äúchoice‚Äù as a type somehow. The easiest example to represent this
in Rust is the <code>Option&lt;T&gt;</code> type, which is a generic enum roughly of the form:</p>

<div><div><pre><code><span>pub</span> <span>enum</span> <span>Option</span><span>&lt;</span><span>T</span><span>&gt;</span> <span>{</span>
    <span>Some</span><span>(</span><span>T</span><span>),</span>
    <span>None</span><span>,</span>
<span>}</span>
</code></pre></div></div>

<p>This is an enum that represents whether or not you have <code>Some</code> of some <code>T</code>, or
<code>None</code> of it. Other enums are a ‚Äúchoice‚Äù in the same way. Every variable of
your enum type can only be one entry in the enum type at a time.</p>

<div><div><pre><code><span>let</span> <span>x</span><span>:</span> <span>Option</span><span>&lt;</span><span>f32</span><span>&gt;</span> <span>=</span> <span>Some</span><span>(</span><span>42.0</span><span>);</span>

<span>let</span> <span>y</span><span>:</span> <span>Option</span><span>&lt;</span><span>f32</span><span>&gt;</span> <span>=</span> <span>None</span><span>;</span>
</code></pre></div></div>

<p>While <code>x</code> and <code>y</code> above are the same type, they have to be either something
(<code>Some(42.0)</code>) or nothing (<code>None</code>). They can‚Äôt be both.</p>

<p>Based on what we saw above, there‚Äôs a couple of interesting ways we can write
an enum type.</p>

<h2 id="no-data">No data</h2>

<p>This is closest to what C++-style enum classes are like, although unlike in C
or C++, these aren‚Äôt automatically mapped to a set of integers.</p>

<div><div><pre><code><span>enum</span> <span>Color</span> <span>{</span>
    <span>Red</span><span>,</span>
    <span>Green</span><span>,</span>
    <span>Blue</span><span>,</span>
<span>}</span>
</code></pre></div></div>

<p>If you‚Äôre coming from C you might think: well, why aren‚Äôt these mapped to
integers? Shouldn‚Äôt <code>Red</code> be zero, <code>Green</code> be one, <code>Blue</code> as two, etc? Unlike
C, Rust‚Äôs type system isn‚Äôt entirely based on integers. Types have
significantly more meaning, and it‚Äôs difficult to explain this succinctly.
Instead, <code>Color</code> is a type in your program where <code>Color::Red</code> is a distinct
value from <code>Color::Green</code> is a distinct value from <code>Color::Blue</code>, in the same
way that 0 is distinct from 1 or 2.</p>

<p>If one wants to, <a href="https://docs.rs/num-derive/0.3.3/num_derive/index.html">there are
crates</a> for mapping
integers to enum values. This can be useful if you‚Äôre serializing to some
low-level protocol, but isn‚Äôt very interesting otherwise.</p>

<h2 id="tuple-like">Tuple-like</h2>

<p>One thing I‚Äôve avoided until now is talking about <code>union</code> types in C. C has
enums and unions, which are two separate kinds of abstractions. C-enums give
names to a list of integer values, while C-unions provide a weak kind of
sum-type.</p>

<p>The weakness of C-unions is because while you may have a union which can map
over one option among a set of types, you don‚Äôt know <em>which</em> type the union was
actually mapped to. Example:</p>

<div><div><pre><code><span>union</span> <span>my_union_t</span> <span>{</span>
    <span>int</span> <span>a</span><span>;</span>
    <span>float</span> <span>b</span><span>;</span>
    <span>const</span> <span>char</span><span>*</span> <span>c</span><span>;</span>
<span>};</span>
</code></pre></div></div>

<p>In the above example, you can‚Äôt know when you receive a <code>my_union_t</code> type
whether it was created by setting some value <code>a</code>, <code>b</code>, or <code>c</code>. You know it‚Äôs
one of the options, but not which one. A typical way to work around this is to
type-tag your union with an enum, and pass that around too.</p>

<div><div><pre><code><span>enum</span> <span>my_union_type_t</span> <span>{</span>
    <span>A</span><span>,</span>
    <span>B</span><span>,</span>
    <span>C</span>
<span>};</span>
</code></pre></div></div>

<p>This means you‚Äôre passing around two values just to be able to understand what
your compiler should already know for you! This ‚Äúidiom‚Äù in C is also
error-prone: what if you send the wrong enum value alongside your union?
<em>Undefined behaviour</em>, that‚Äôs what. Rust‚Äôs enums are much more convenient, and
allow for combining data alongside the enum options themselves:</p>

<div><div><pre><code><span>enum</span> <span>MyType</span> <span>{</span>
    <span>A</span><span>(</span><span>i32</span><span>),</span>
    <span>B</span><span>(</span><span>f32</span><span>),</span>
    <span>C</span><span>(</span><span>String</span><span>)</span>
<span>}</span>
</code></pre></div></div>

<p>Because of this, you never need to worry about mismatching your enum / union
types. Likewise, Rust doesn‚Äôt need a keyword for unions since the above example
does exactly the same thing as the example in C. I think this was the first
thing that really struck me about how cool enums in Rust are, because manually
tagging and passing around unions and enums in C / C++ is a huge pain and
source of bugs.</p>

<p>
Disclaimer: It's worth mentioning these examples aren't <em>exactly</em> 1:1.
Rust does not yet have a stable ABI, so whatever the compiler spews out for
these isn't going to be exactly what the C ABI demands, and obviously
"String" in Rust is a vastly more comprehensive type than the C-string
equivalent.
</p>

<h2 id="named-data">Named data</h2>

<p>Similar to the above, we can give the data we pass around with our enum types
names:</p>

<div><div><pre><code><span>enum</span> <span>MyTypeWithNames</span> <span>{</span>
    <span>A</span> <span>{</span> <span>value</span><span>:</span> <span>i32</span> <span>},</span>
    <span>B</span> <span>{</span> <span>quantity</span><span>:</span> <span>f32</span> <span>},</span>
    <span>C</span> <span>{</span> <span>message</span><span>:</span> <span>String</span> <span>},</span>
<span>}</span>
</code></pre></div></div>

<p>Giving names to things can be a good idea, especially if you‚Äôre passing around
a lot of data inside your enum, or passing around multiple values of the same
type. However, sometimes the best name is no name, so don‚Äôt overdo it!</p>

<p>One last fun fact: all of these can all be interchanged. Sometimes, depending
on what you‚Äôre building, you might even be able to build an enum like this:</p>

<div><div><pre><code><span>enum</span> <span>PixelFormat</span> <span>{</span>
    <span>Yuv</span> <span>{</span>
        <span>y</span><span>:</span> <span>u8</span><span>,</span>
        <span>u</span><span>:</span> <span>u8</span><span>,</span>
        <span>v</span><span>:</span> <span>u8</span><span>,</span>
    <span>},</span>
    <span>Rgb</span> <span>{</span>
        <span>r</span><span>:</span> <span>u8</span><span>,</span>
        <span>g</span><span>:</span> <span>u8</span><span>,</span>
        <span>b</span><span>:</span> <span>u8</span><span>,</span>
    <span>},</span>
    <span>Greyscale</span><span>(</span><span>u16</span><span>),</span>
    <span>Unknown</span><span>,</span>
<span>}</span>
</code></pre></div></div>

<p>It might seem like this complicates your code significantly, but we have to
choose to live with complexity at some level. A bit of extra complexity in the
definition drops a <strong>significant</strong> amount of complexity in how we pass around
and use these types.</p>



<p>Without trying to (entirely) pitch you on <del>Haskell</del> strong type systems and
pure functional programming, enums in Rust are exciting because of what they
make easy. Rust uses enum types throughout the core language, and many of the
common idioms utilize enums in some form.</p>

<p>And if I‚Äôm being honest, equivalents can be made in C or C++ but the ergonomics
and language integration just aren‚Äôt there. Passing C-enums or C++-enum classes
alongside unions is vastly more error-prone.</p>

<h2 id="optiont"><code>Option&lt;T&gt;</code></h2>

<p>Rust doesn‚Äôt have ‚Äúoptional‚Äù or ‚Äúdefaulted‚Äù arguments in functions like C does.
But we don‚Äôt need it! Instead, we can use the generic <code>Option&lt;T&gt;</code>, to represent
whether or not something is required. In function parameters:</p>

<div><div><pre><code><span>fn</span> <span>add_three_numbers</span><span>(</span><span>a</span><span>:</span> <span>i32</span><span>,</span> <span>b</span><span>:</span> <span>i32</span><span>,</span> <span>c</span><span>:</span> <span>Option</span><span>&lt;</span><span>i32</span><span>&gt;</span><span>)</span> <span>-&gt;</span> <span>i32</span> <span>{</span>
    <span>if</span> <span>let</span> <span>Some</span><span>(</span><span>value</span><span>)</span> <span>=</span> <span>c</span> <span>{</span>
        <span>a</span> <span>+</span> <span>b</span> <span>+</span> <span>value</span>
    <span>}</span> <span>else</span> <span>{</span>
        <span>a</span> <span>+</span> <span>b</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>While a bit contrived, when calling this you might do:</p>

<div><div><pre><code><span>let</span> <span>x</span> <span>=</span> <span>add_three_numbers</span><span>(</span><span>13</span><span>,</span> <span>12</span><span>,</span> <span>None</span><span>);</span>    <span>// =&gt; 25</span>
<span>let</span> <span>y</span> <span>=</span> <span>add_three_numbers</span><span>(</span><span>13</span><span>,</span> <span>12</span><span>,</span> <span>Some</span><span>(</span><span>4</span><span>));</span> <span>// =&gt; 29</span>
</code></pre></div></div>

<p>Similarly, if you avoid using <code>unsafe</code> Rust and raw pointers, the default Rust
types for pointers (<code>Box</code>, <code>Arc</code>, etc) cannot ever exist as a ‚Äúnull‚Äù pointer.
Instead, if you want to represent a pointer that can be null, you use
<code>Option&lt;Box&lt;T&gt;&gt;</code>, and null pointers are represented as <code>None</code>! Unlike in C or
C++, this makes the type of pointers very explicit. You know that you have to
handle the enum differently than you would the pointer itself, and once you get
a <code>Box&lt;T&gt;</code> you know for certain that it points to something. This is one way
safe Rust avoids null de-references!</p>

<h2 id="resultt-e"><code>Result&lt;T, E&gt;</code></h2>

<p>Similar to <code>Option</code>, <code>Result</code> is Rust‚Äôs standard error type. It is a fairly
straightforward enum that roughly takes the form:</p>

<div><div><pre><code><span>enum</span> <span>Result</span><span>&lt;</span><span>T</span><span>,</span> <span>E</span><span>&gt;</span> <span>{</span>
    <span>Ok</span><span>(</span><span>T</span><span>),</span>
    <span>Err</span><span>(</span><span>E</span><span>),</span>
<span>}</span>
</code></pre></div></div>

<p>In this case, <code>Result</code> is usually used as the return value <em>from</em> a function,
which tells you if it succeeded and you get an <code>Ok(T)</code> back, or if it failed
and you get some error <code>Err(E)</code> back. In practice, it‚Äôs pretty cool how
flexible this is for error handling. It also avoids all the problems with
C++-style exceptions.</p>

<p>Side note: Check out the <a href="https://docs.rs/anyhow/1.0.34/anyhow/">anyhow crate</a> if you haven't already.</p>

<h2 id="matching-enums">Matching enums</h2>

<p>By default Rust has built in support for deconstruction / pattern-matching enum
types (even ones you define!). From our earlier example we can do:</p>

<div><div><pre><code><span>let</span> <span>x</span><span>:</span> <span>PixelFormat</span><span>;</span> <span>// Assume this is given a value from something</span>

<span>match</span> <span>x</span> <span>{</span>
    <span>PixelFormat</span><span>::</span><span>Yuv</span><span>{</span> <span>y</span><span>,</span> <span>u</span><span>,</span> <span>v</span> <span>}</span> <span>=&gt;</span> <span>{</span>
        <span>println!</span><span>(</span><span>"Pixel is y: {}, u: {}, v: {}"</span><span>,</span> <span>y</span><span>,</span> <span>u</span><span>,</span> <span>v</span><span>);</span>
    <span>}</span>
    <span>PixelFormat</span><span>::</span><span>Rgb</span><span>{</span> <span>r</span><span>,</span> <span>g</span><span>,</span> <span>b</span> <span>}</span> <span>=&gt;</span> <span>{</span>
        <span>println!</span><span>(</span><span>"Pixel is r: {}, g: {}, b: {}"</span><span>,</span> <span>r</span><span>,</span> <span>g</span><span>,</span> <span>b</span><span>);</span>
    <span>}</span>
    <span>PixelFormat</span><span>::</span><span>Greyscale</span><span>(</span><span>g</span><span>)</span> <span>=&gt;</span> <span>{</span>
        <span>println!</span><span>(</span><span>"Greyscale value is: {}"</span><span>,</span> <span>g</span><span>);</span>
    <span>}</span>
    <span>PixelFormat</span><span>::</span><span>Unknown</span> <span>=&gt;</span> <span>{</span>
        <span>println!</span><span>(</span><span>"Oh no, we don't understand this pixel format!"</span><span>);</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>While Rust doesn‚Äôt have switch statements that operate over integers like C
does, this is a very close equivalent that semantically allows for some much
more powerful abstractions.</p>

<p>As I said originally, enum types represent a ‚Äúchoice‚Äù of some kind when
programming. The <code>match</code> expression above demonstrates how we dispatch a
‚Äúchoice‚Äù in our program according to our type.</p>



<p>Enums in Rust unify the concept of enums and unions in C-family languages. They
are more expressive and reduce a lot of complexity in managing state or
tracking a union through a program. They also power some of the core types that
are used in almost all Rust code.</p>

<p>Enums are one of my favourite parts of moving to Rust from C++. They are used
in error management, optional arguments, and enable a whole host of different</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://thatgeoguy.ca/blog/2021/02/15/rust-is-cool-enums/">https://thatgeoguy.ca/blog/2021/02/15/rust-is-cool-enums/</a></em></p>]]>
            </description>
            <link>https://thatgeoguy.ca/blog/2021/02/15/rust-is-cool-enums/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26147872</guid>
            <pubDate>Mon, 15 Feb 2021 21:44:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building Rich Terminal Dashboards]]>
            </title>
            <description>
<![CDATA[
Score 32 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26147831">thread link</a>) | @willm
<br/>
February 15, 2021 | https://www.willmcgugan.com/blog/tech/post/building-rich-terminal-dashboards/ | <a href="https://web.archive.org/web/*/https://www.willmcgugan.com/blog/tech/post/building-rich-terminal-dashboards/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    

    
<p><a href="https://github.com/willmcgugan/rich">Rich</a> has become a popular (20K stars on GH) way of beautifying CLIs, and I'm pleased to see a number of projects using it.</p>
<p>Since Rich is mature and battle-tested now, I had considered winding-down development. Until, I saw this tweet:</p>
<h2>The Tweet</h2>
<blockquote><div lang="en" dir="ltr"><p>Do you want to see something really cool you can do with <a href="https://twitter.com/willmcgugan?ref_src=twsrc%5Etfw">@willmcgugan</a> 's rich library? </p><p>Checkout ghtop <a href="https://t.co/mn7oLbpw8e">https://t.co/mn7oLbpw8e</a>. It's a really fun CLI tool that demonstrates the power of rich (and other things).</p><p>Examples below üßµüëá (1/8)</p></div>‚Äî Hamel Husain (@HamelHusain) <a href="https://twitter.com/HamelHusain/status/1357771218095546368?ref_src=twsrc%5Etfw">February 5, 2021</a></blockquote> 
<p><a href="https://twitter.com/HamelHusain">@HamelHusain</a> and <a href="https://twitter.com/jeremyphoward">@jeremyphoward</a> used Rich to enhance <a href="https://github.com/nat/ghtop">ghtop</a> (a repo owned by the CEO of Github, no less). Ghtop shows a realtime a stream of events from the Github platform. And it looks good! So good that I realised how much potential Rich has for these type of htop-like applications.</p>
<p>Hamel and Jeremy had to overcome a few technical hurdles to make that work. Fortunately this will no longer be required as the latest version of Rich has first-class support for full-screen interfaces via a new Layout system.</p>
<h2>Full-screen terminal interface</h2>
<p>Here's a video demonstration of a terminal interface built with Layout:</p>
<p>
<iframe width="auto" src="https://www.youtube.com/embed/slrdSojCvlk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</p>
<h2>Layout API</h2>
<p>The API to create a flexible layout is surprisingly simple. You construct a <code>Layout()</code> object, then call <code>split()</code> to create sub-layouts. These sub-layouts may then be further divided. Layouts have a small number of settings which define their size relative to the terminal window. It's a simple system that can create terminal interfaces that almost resemble modern web apps.</p>
<div><figure> <img width="1140" height="724" title="layout_vscode.png" name="layout_vscode" data-md="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.md.3.jpeg" data-square="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.square.7.jpeg" data-xlg2x="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.xlg2x.2.jpeg" data-lg="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.lg.3.jpeg" data-xlg="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.xlg.8.jpeg" data-author="¬© 2021 Will McGugan<br>all rights reserved" data-og_preview="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.og.preview.2.jpeg" data-height="2100" data-width="3308" data-toggle="tooltip" data-details=" " data-sm="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.sm.3.jpeg" data-blur="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.blur.6.jpeg" data-slug="layout_vscode" sizes="(min-width: 1200px) 1170px, (min-width: 992px) 970px, (min-width: 768px) 750px" srcset="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.lg.3.jpeg 1170w, https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.md.3.jpeg 970w, https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.sm.3.jpeg 750w" src="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.lg.3.jpeg"> 
<figcaption>
<p>¬© 2021 Will McGugan</p>


<p>A Rich layout in VSCode</p>


</figcaption>

</figure>
</div>
<h2>Finally, some code</h2>
<p>Here's how you would create a basic layout with a header, a footer, and two side-panels.</p>
<pre><code>from rich.console import Console
from rich.layout import Layout

console = Console()
layout = Layout()

# Divide the "screen" in to three parts
layout.split(
    Layout(name="header", size=3),
    Layout(ratio=1, name="main"),
    Layout(size=10, name="footer"),
)
# Divide the "main" layout in to "side" and "body"
layout["main"].split(
    Layout(name="side"),
    Layout(name="body", ratio=2),
    direction="horizontal"
)
# Divide the "side" layout in to two
layout["side"].split(Layout(), Layout())

console.print(layout)
</code></pre>
<p>Running the code above produces the following output:</p>
<div><figure> <img width="1140" height="739" title="layout.png" name="layout" data-md="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.md.3.jpeg" data-square="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.square.7.jpeg" data-xlg2x="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.xlg2x.2.jpeg" data-lg="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.lg.3.jpeg" data-xlg="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.xlg.8.jpeg" data-author="¬© 2021 Will McGugan<br>all rights reserved" data-og_preview="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.og.preview.2.jpeg" data-height="1464" data-width="2258" data-toggle="tooltip" data-details=" " data-sm="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.sm.3.jpeg" data-blur="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.blur.6.jpeg" data-slug="layout" sizes="(min-width: 1200px) 1170px, (min-width: 992px) 970px, (min-width: 768px) 750px" srcset="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.lg.3.jpeg 1170w, https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.md.3.jpeg 970w, https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.sm.3.jpeg 750w" src="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.lg.3.jpeg"> 
<figcaption>
<p>¬© 2021 Will McGugan</p>


<p>Terminal split in to 5 sub-layouts. The boxes are placeholders, you can insert any content in their place.</p>


</figcaption>

</figure>
</div>
<p>Any renderable (text, table, progress bars etc) may be placed inside those sub-layouts.</p>
<p>We can now use the <a href="https://rich.readthedocs.io/en/latest/live.html">Live</a> class to create an application that adapts itself to the terminal window:</p>
<pre><code>from rich.live import Live
from time import sleep

with Live(layout, screen=True):
    while True:
        sleep(1)
</code></pre>
<p>In a real app, that do-nothing loop will be doing something useful like pulling data from the network to update contents.</p>
<p>See the <a href="https://rich.readthedocs.io/en/latest/layout.html">layout docs</a> for an in-depth tutorial.</p>
<h2>What's next?</h2>
<p>I think it's clear that Rich is acquiring more TUI (text user interface) features, and I've decided not to fight it. Rich's core purpose is still to beautify CLI output, but I think there is an opportunity here for a new way to create terminal apps. Ultimately it will be less like curses and more like HTML in a browser.</p>
<p>There are a number of things to do before Rich could replace a full TUI library (keyboard and mouse input for one) but the potential is there. Stay tuned for progress.</p>
<p>Follow <a href="https://twitter.com/willmcgugan">@willmcgugan</a> for more Rich related news.</p>



</article></div>]]>
            </description>
            <link>https://www.willmcgugan.com/blog/tech/post/building-rich-terminal-dashboards/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26147831</guid>
            <pubDate>Mon, 15 Feb 2021 21:41:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How and Why I‚Äôm spending $500k to acquire micro-SaaS products this month]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26147633">thread link</a>) | @eyaltoledano
<br/>
February 15, 2021 | https://microangel.so/p/coming-soon?r=46t31&utm_campaign=post&utm_medium=web&utm_source=hackernews | <a href="https://web.archive.org/web/*/https://microangel.so/p/coming-soon?r=46t31&utm_campaign=post&utm_medium=web&utm_source=hackernews">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><strong>Welcome to Micro Angel! üëã</strong> </p><p>I‚Äôm <a href="https://www.twitter.com/eyaltoledano">Eyal</a>, an independent product maker. I spent the last 10 years of my career building and growing B2C and B2B startups, too often for others.  </p><p>I‚Äôm a bootstrapper at heart and obsessed with the 0 to 1 phase of building something from scratch. </p><p>But bootstrapping rhymes with time and pain and patience, things you and I are already short on. </p><p>If you‚Äôve already built something from scratch and sold it, you‚Äôre likely hard-wired to want to do it again. But that is pretty hardcore. Building something totally new is super hard and jarring.</p><p>But it‚Äôs no longer the only way. </p><p>It‚Äôs possible to keep working on the 0 to 1 process of building micro-SaaS products without all of the pain associated with starting from scratch. You can skip right to the fun part.</p><p>With as little as $5,000, you could land yourself a <em>starter Micro-SaaS</em> that is beyond launch and ready for iteration. </p><p>You can just jump right in and do your thing.</p><p>There is a shift in the world of (micro) entrepreneurship. The scales are tipping in favour of the small guys. And the even smaller ones still.</p><p>My interest in micro-SaaS products, bootstrapping and investing converges at a place that looks a lot like angel investing with a dose of influence from the real estate development world. </p><p>The progress of <a href="https://twitter.com/agazdecki">Andrew Gazdecki from MicroAcquire</a> has paved the way for an entirely new career archetype I will describe as the <em>micro angel.</em></p><p>A <strong>micro angel</strong> is just an individual with a bias for investing in products that they will independently grow and operate. </p><p>The term ‚Äòmicro‚Äô probably gives a hint to the size of the transactions. They‚Äôre smaller than small. They‚Äôre micro. But they don‚Äôt have to be.</p><p>Beyond buying and working on a single Micro-SaaS, the future also holds a lot of promise for investing at a portfolio scale:</p><ul><li><p>microacquire simplifies both sourcing and selling assets</p></li><li><p>products can be acquired for relatively low multiples in cases where revenue is flat or founder interest to sell is high</p></li><li><p>products are default-alive<a id="footnote-anchor-1" href="#footnote-1">1</a> which means buy-and-hold nearly guarantees a higher valuation 24 months later</p></li><li><p>products are extremely simple by nature, and thus low maintenance ‚Üí less reliance on active management</p></li><li><p>products are high-margin and cashflow positive ‚Üí provide immediate return on investment over fund‚Äôs lifetime, and any exit at maturity becomes pure bonus that exponentiates IRR</p></li><li><p>personal cashflow liberates the micro angel to choose between buy-and-hold (4 hour workweek, bank revenue) or buy-and-grow (actively work on the portfolio, cashflow pays self)</p></li></ul><p>There are two approaches:</p><p><strong>1) The Operator approach buys and grows:</strong> you buy products with the intent to actively work on them and grow ARR over the lifetime of the investment. This assumes you‚Äôre buying back most of your time through portfolio cashflow, reinvesting it into growing ARR and driving your return through that ARR multiple; or</p><p><strong>2) The Investor approach buys and holds:</strong> you buy products with the intent to passively maintain them, collect cashflows and recollect your original investment when you exit the investment. Your return is manifested in the cashflows you perceive, and any additional capital-gain when you exit is a pure bonus. You‚Äôre free to work on something else with your time (i.e. big startup idea).</p><p>There are probably more approaches and hybrids. It‚Äôs an exciting world to explore.</p><p>I‚Äôm inspired by the work of <a href="https://twitter.com/awilkinson">Andrew Wilkinson</a> and team at <a href="https://www.tinycapital.com/">Tiny Capital</a> (disclosure: I hold $WE stock). Their value prop has made it possible for founders clearing $500K-$5M/year to exit cleanly, quickly and painlessly. </p><p>In an indirectly related world, I also regularly follow what <a href="https://twitter.com/sweatystartup">Nick Huber</a> does with his approach to real estate investing. Nick specializes in self-storage for many of the same reasons I want to specialize in micro-SaaS products. They run themselves, are high margin, and command excellent cash-on-cash returns.</p><p>There‚Äôs a big opportunity for micro angels to build micro-SaaS portfolios producing ARR in the $50k-$500k/year range. These products fall <em>way</em> out of the range of the VC and PE firm world, and they also fall out of the scope of Tiny Capital and other similar funds. </p><p>But they‚Äôre perfect for micro angels. </p><p>This year, I‚Äôm going to invest $500k of my own money to build the first micro-angel portfolio of its kind. </p><p>My goal is to source and acquire products and grow the portfolio valuation so I can return at least 2x on my investment, 2 years later. While collecting the free cashflows in the meanwhile. </p><p>I‚Äôm going to share every little detail from designing the fund‚Äôs purpose and vision to sourcing, negotiating and closing deals. I expect to release monthly portfolio reports and share all of the revenue details along the way.</p><p>In the meantime, <a href="https://microangel.so/p/coming-soon?&amp;utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share">tell your friends</a>!</p></div></div>]]>
            </description>
            <link>https://microangel.so/p/coming-soon?r=46t31&amp;utm_campaign=post&amp;utm_medium=web&amp;utm_source=hackernews</link>
            <guid isPermaLink="false">hacker-news-small-sites-26147633</guid>
            <pubDate>Mon, 15 Feb 2021 21:23:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Astronomers Confirm Solar System‚Äôs Most Distant Known Object Is Indeed Farfarout]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26147551">thread link</a>) | @evilops
<br/>
February 15, 2021 | https://noirlab.edu/public/news/noirlab2108/ | <a href="https://web.archive.org/web/*/https://noirlab.edu/public/news/noirlab2108/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://noirlab.edu/public/news/noirlab2108/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26147551</guid>
            <pubDate>Mon, 15 Feb 2021 21:17:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Tough Legacy of Ulrike Meinhof (2016)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26147423">thread link</a>) | @Tomte
<br/>
February 15, 2021 | https://latterly.org/the-tough-legacy-of-ulrike-meinhof-af1387dace69#.nuodfljus | <a href="https://web.archive.org/web/*/https://latterly.org/the-tough-legacy-of-ulrike-meinhof-af1387dace69#.nuodfljus">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://latterly.org/the-tough-legacy-of-ulrike-meinhof-af1387dace69#.nuodfljus</link>
            <guid isPermaLink="false">hacker-news-small-sites-26147423</guid>
            <pubDate>Mon, 15 Feb 2021 21:08:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Migrating to PostgreSQL? Do Not Forget Foreign Data Wrappers Superpowers]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26147248">thread link</a>) | @PeterZaitsev
<br/>
February 15, 2021 | https://www.migops.com/blog/2021/02/15/role-of-foreign-data-wrappers-in-migrations-to-postgresql/ | <a href="https://web.archive.org/web/*/https://www.migops.com/blog/2021/02/15/role-of-foreign-data-wrappers-in-migrations-to-postgresql/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.migops.com/blog/2021/02/15/role-of-foreign-data-wrappers-in-migrations-to-postgresql/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26147248</guid>
            <pubDate>Mon, 15 Feb 2021 20:56:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Part 2 ‚Äì Looking at GSM 30 years later]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26147209">thread link</a>) | @hoppla
<br/>
February 15, 2021 | https://harrisonsand.com/posts/decrypting-gsm/ | <a href="https://web.archive.org/web/*/https://harrisonsand.com/posts/decrypting-gsm/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				<p>In this post, I‚Äôll go over how to decrypt your own 2G GSM SMS messages by pulling encryption keys off your SIM card and processing the data with gr-gsm.</p>
<p>In a <a href="https://harrisonsand.com/posts/gsm-security/">previous post</a>, I looked at how to decode and start analyzing GSM traffic. If you haven‚Äôt read that yet, I suggest you start there. I‚Äôm going to assume you have your environment set up to that point.</p>

<p>Before you take your capture, it‚Äôs helpful to know a bit about how GSM encryption works. There are two important keys to be aware of:</p>
<ul>
<li><strong>Ki (Subscriber key)</strong> - Essentially a ‚Äúmaster key‚Äù that‚Äôs stored in your SIM card and never leaves. The key is set during SIM production and doesn‚Äôt change.</li>
<li><strong>Kc (Cipher key)</strong> - The key used to encrypt traffic over the air. Kc is a derivative of the Ki and rotated at regular intervals.</li>
</ul>
<p>Before a call or text, the mobile network sends an Authentication Request message to the phone. Inside this message is a 16-byte random value (RAND). RAND is sent to the SIM card and combined with Ki to make Kc. The SIM then exposes Kc to the modem so the session can be encrypted.</p>




<figure>
    <a href="https://harrisonsand.com/posts/decrypting-gsm/authentication-request.png">
      <img loading="lazy" srcset="
          https://harrisonsand.com/posts/decrypting-gsm/authentication-request_hue9ec807da32e27c41f2c0e9ee47aed66_318473_800x0_resize_q85_bg002b36_lanczos_2.jpg 1x,
          https://harrisonsand.com/posts/decrypting-gsm/authentication-request_hue9ec807da32e27c41f2c0e9ee47aed66_318473_1200x0_resize_q85_bg002b36_lanczos_2.jpg 1.5x,
          https://harrisonsand.com/posts/decrypting-gsm/authentication-request_hue9ec807da32e27c41f2c0e9ee47aed66_318473_1600x0_resize_q85_bg002b36_lanczos_2.jpg 2x" src="https://harrisonsand.com/posts/decrypting-gsm/authentication-request_hue9ec807da32e27c41f2c0e9ee47aed66_318473_800x0_resize_q85_bg002b36_lanczos_2.jpg" alt="">
    </a>
    
  </figure>


<p>It‚Äôs important to remember that the Kc will change <em>before</em> each call or text. So if we want to decrypt our traffic, we need to get the key <em>after</em> a particular session has occurred.</p>

<p>You essentially have two ways to get the Kc off the SIM. Either by interfacing with the modem or by talking to the SIM directly with a card reader. Both methods work, but I find using a card reader less complicated.</p>
<p>The process for getting access to the modem is highly dependent on what type of phone you have. You have to find the modem‚Äôs serial interface and send it raw AT commands. Sometimes the serial interface is exposed over USB, or if you have root access, you might be able to find it in the <code>/dev/</code> directory. If you do get access to the modem, I have had luck with the following AT command: <code>AT+CRSM=176,20256,0,0,9</code>.</p>
<p>If you use a card reader, tools like <a href="https://github.com/L1L1/cardpeek">Cardpeek</a> or <a href="http://www.nobbi.com/download.html">SIMspy II</a> can help you read the Kc from the SIM.</p>




<figure>
    <a href="https://harrisonsand.com/posts/decrypting-gsm/card-reader.jpg">
      <img loading="lazy" srcset="
          https://harrisonsand.com/posts/decrypting-gsm/card-reader_hu4ae727a8567df7d1ae0dfb0a6220a3fd_2460875_800x0_resize_q85_bg002b36_lanczos.jpg 1x,
          https://harrisonsand.com/posts/decrypting-gsm/card-reader_hu4ae727a8567df7d1ae0dfb0a6220a3fd_2460875_1200x0_resize_q85_bg002b36_lanczos.jpg 1.5x,
          https://harrisonsand.com/posts/decrypting-gsm/card-reader_hu4ae727a8567df7d1ae0dfb0a6220a3fd_2460875_1600x0_resize_q85_bg002b36_lanczos.jpg 2x" src="https://harrisonsand.com/posts/decrypting-gsm/card-reader_hu4ae727a8567df7d1ae0dfb0a6220a3fd_2460875_800x0_resize_q85_bg002b36_lanczos.jpg" alt="">
    </a>
    
    <figcaption><p>HID OMNIKEY 6121 and some adapters</p></figcaption>
    
  </figure>


<p>Using Cardpeek is reasonably straightforward. After you perform your capture insert the SIM card into the reader, plug the reader into the computer, and select <code>Analyzer &gt; GSM SIM</code>.</p>




<figure>
    <a href="https://harrisonsand.com/posts/decrypting-gsm/cardpeek.png">
      <img loading="lazy" srcset="
          https://harrisonsand.com/posts/decrypting-gsm/cardpeek_hu1503b0179b498722069df8a8dd3b3f6e_116545_800x0_resize_q85_bg002b36_lanczos_2.jpg 1x,
          https://harrisonsand.com/posts/decrypting-gsm/cardpeek_hu1503b0179b498722069df8a8dd3b3f6e_116545_1200x0_resize_q85_bg002b36_lanczos_2.jpg 1.5x,
          https://harrisonsand.com/posts/decrypting-gsm/cardpeek_hu1503b0179b498722069df8a8dd3b3f6e_116545_1600x0_resize_q85_bg002b36_lanczos_2.jpg 2x" src="https://harrisonsand.com/posts/decrypting-gsm/cardpeek_hu1503b0179b498722069df8a8dd3b3f6e_116545_800x0_resize_q85_bg002b36_lanczos_2.jpg" alt="">
    </a>
    
  </figure>


<p>The last byte (<code>03</code> in the screenshot) is a sequence number and is not part of the key.</p>

<p>As discussed in the previous post, the first step to decoding traffic is to figure out what channel the communication takes place on. The phone and base station (BTS) make this decision over the BCCH channel.</p>
<p>This is what happens when you receive something:</p>
<ol>
<li>The BTS sends a <em>Paging Request</em> to the phone</li>
<li>The phone sends a <em>Channel Request</em> to the BTS</li>
<li>The BTS sends an <em>Immediate Assignment</em> to the phone</li>
<li>Communication continues on a dedicated channel</li>
</ol>
<p>(You skip the first step when sending)</p>
<p>For this test, we‚Äôre only capturing downlink traffic from the BTS. Because of this, we only see one side of the assignment procedure, and it‚Äôs not possible to determine which Immediate Assignment messages are our own. However, if you keep your capture time short, it‚Äôs easy enough to figure out. There usually aren‚Äôt too many different channel configurations sent out within a limited time window.</p>
<p>Use this display filter to show relevant Immediate Assignment messages: <code>gsm_a.rr.dedicated_mode_or_tbf == 0</code></p>
<p>Under <code>Channel Description</code> make a note of:</p>
<ul>
<li>Timeslot</li>
<li>Hopping Channel</li>
<li>MAIO</li>
<li>HSN</li>
</ul>

<p>I‚Äôll assume you‚Äôve already read the de-hopping section in the <a href="https://harrisonsand.com/posts/gsm-security/">previous post</a>. However, a key difference here is that we‚Äôll export the raw bursts to a file after de-hopping them in GRC. Exporting the bursts allows us to keep things simple and use the <code>grgsm_decode</code> utility for decryption.</p>




<figure>
    <a href="https://harrisonsand.com/posts/decrypting-gsm/gr-gsm-bursts.png">
      <img loading="lazy" srcset="
          https://harrisonsand.com/posts/decrypting-gsm/gr-gsm-bursts_huaad8d17b6b7c567becd3b505bbe4b33d_106672_800x0_resize_q85_bg002b36_lanczos_2.jpg 1x,
          https://harrisonsand.com/posts/decrypting-gsm/gr-gsm-bursts_huaad8d17b6b7c567becd3b505bbe4b33d_106672_1200x0_resize_q85_bg002b36_lanczos_2.jpg 1.5x,
          https://harrisonsand.com/posts/decrypting-gsm/gr-gsm-bursts_huaad8d17b6b7c567becd3b505bbe4b33d_106672_1600x0_resize_q85_bg002b36_lanczos_2.jpg 2x" src="https://harrisonsand.com/posts/decrypting-gsm/gr-gsm-bursts_huaad8d17b6b7c567becd3b505bbe4b33d_106672_800x0_resize_q85_bg002b36_lanczos_2.jpg" alt="">
    </a>
    
    <figcaption><p>De-hopping traffic and exporting the bursts</p></figcaption>
    
  </figure>


<p>You‚Äôll need to configure the blocks to match the data found in the Immediate Assignment packet, as well as a few other parameters discussed in the last post. You can download my GRC bursts example <a href="https://harrisonsand.com/posts/decrypting-gsm/grgsm_hopping_bursts.grc">here</a>.</p>
<p>After executing the flow graph, you should have a burst file to use with <code>grgsm_decode</code>:</p>
<div><pre><code data-lang="plaintext">grgsm_decode -b /tmp/bursts -t 1 -m SDCCH8
</code></pre></div><p>If you see a <code>Ciphering Mode Command</code> message you‚Äôve successfully de-hopped the traffic.</p>

<p>At this point, decrypting traffic is easy. All you need to do is add the <code>-e</code> flag with the mode from the Cipher Mode Command message, and the <code>-k</code> flag with the Kc key from the SIM.</p>
<div><pre><code data-lang="plaintext">grgsm_decode -b /tmp/bursts -t 1 -m SDCCH8 -e 3 -k AB8CE2B5B7F7477B
</code></pre></div>



<figure>
    <a href="https://harrisonsand.com/posts/decrypting-gsm/sms.png">
      <img loading="lazy" srcset="
          https://harrisonsand.com/posts/decrypting-gsm/sms_hu7d2b732f679c6582f884b5ab2e6a8a8b_248434_800x0_resize_q85_bg002b36_lanczos_2.jpg 1x,
          https://harrisonsand.com/posts/decrypting-gsm/sms_hu7d2b732f679c6582f884b5ab2e6a8a8b_248434_1200x0_resize_q85_bg002b36_lanczos_2.jpg 1.5x,
          https://harrisonsand.com/posts/decrypting-gsm/sms_hu7d2b732f679c6582f884b5ab2e6a8a8b_248434_1600x0_resize_q85_bg002b36_lanczos_2.jpg 2x" src="https://harrisonsand.com/posts/decrypting-gsm/sms_hu7d2b732f679c6582f884b5ab2e6a8a8b_248434_800x0_resize_q85_bg002b36_lanczos_2.jpg" alt="">
    </a>
    
    <figcaption><p>Decrypted SMS</p></figcaption>
    
  </figure>



			</div></div>]]>
            </description>
            <link>https://harrisonsand.com/posts/decrypting-gsm/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26147209</guid>
            <pubDate>Mon, 15 Feb 2021 20:53:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Fastcheck: Property based testing for JavaScript and TypeScript]]>
            </title>
            <description>
<![CDATA[
Score 57 | Comments 8 (<a href="https://news.ycombinator.com/item?id=26147011">thread link</a>) | @alokrai
<br/>
February 15, 2021 | https://dubzzz.github.io/fast-check.github.com/ | <a href="https://web.archive.org/web/*/https://dubzzz.github.io/fast-check.github.com/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page-wrapper">
			
			
			<section>
				<div>
					<p>
							Property based testing is <strong>another way to test</strong> programs.
							Instead of relying on hard-coded inputs and outputs, it <strong>checks characteristics of the output</strong> given the whole range of possible inputs.
						</p>
				</div>
			</section>
			<section>
				<div>
					<div>
						<section>
							<div>
								<h3>Coverage <a href="#coverage">more &gt;</a></h3>
								<p>
									By nature, property based testing puts less constraints on the inputs.
									As a consequence, the scope of covered inputs is much higher and can lead to unexplored code paths
								</p>
							</div>
						</section>
						<section>
							<div>
								<h3>Reproducible <a href="#reproducible">more &gt;</a></h3>
								<p>
									Runs are seeded and fully reproducible
								</p>
							</div>
						</section>
						<section>
							<div>
								<h3>Shrink <a href="#shrink">more &gt;</a></h3>
								<p>
									In case of failure, the framework is responsible to come with a minimal failing case easy to troubleshoot
								</p>
							</div>
						</section>
					</div>
				</div>
			</section>
			<section>
				
				<div>
					<header>
						<h2>Getting started</h2>
						<p>Property based testing frameworks check the truthfulness of properties</p>
					</header>
				</div>
			</section>
			<section>
				<div>
					<div>
						<p>Add <em>fast-check</em> to your project:</p>
						<pre><code>npm install --save-dev fast-check</code></pre>
						<p>Example of integration with <em>Jest</em> or <em>Mocha</em>:</p>
						<pre><code>import * as fc from 'fast-check';

const sort = arr =&gt; arr.slice(0).sort((a,b) =&gt; a-b);

test('should order elements from the smallest to the highest', () =&gt; fc.assert(
	fc.property(
		fc.array(fc.integer()),
		arr =&gt; {
			const sortedArr = sort(arr);
			for (let idx = 1 ; idx &lt; sortedArr.length ; ++idx)
				if (sortedArr[idx - 1] &lt;= sortedArr[idx])
					return false;
			return true;
		}
	)
));</code></pre>
						<p>In a nutshell:</p>
						<ul>
							<li><em>fc.assert</em> runs the property</li>
							<li><em>fc.property</em> defines the property</li>
							<li><em>fc.array(fc.integer())</em> defines the inputs the framework has to generate</li>
							<li><em>arr =&gt; { ... }</em> checks the output against the generated value</li>
						</ul>
						
					</div>
				</div>
			</section>
			<section>
				
				<div>
					<header>
						<h2>Coverage</h2>
						<p>Discover uncovered code paths</p>
					</header>
				</div>
			</section>
			<section>
				<div>
					<div>
						<p>Let's consider a simple <em>serialize</em> function, offering its users the ability to set custom settings to tweak the resulting string</p>
						<pre><code>function serialize&lt;T&gt;(instance: T, params: Parameters): string { /* code */ }</code></pre>
						<p>
							In the scenario above, an exhaustive test would have to run throughout all the possible combinations of <em>params</em> with many possible <em>instance</em>.
							An alternative to such example-based tests would be to rely on properties.
							It would offer an exhautive coverage of the possible inputs.
							Given we also have a <em>deserialize</em> function we would simply write:
						</p>
						<pre><code>test('should be able to read itself', () =&gt; fc.assert(
	fc.property(
		fc.jsonObject(),
		fc.record({
			crlf: fc.boolean(),
			indent: fc.boolean(),
			sortKeys: fc.boolean()
		}, { withDeletedKeys: true }),
		(instance, params) =&gt; {
			expect(deserialize(serialize(instance, params))).toEqual(instance);
		}
	)
));</code></pre>
						<p>
							Such property was able to detect bugs in both <em>js-yaml</em> and <em>query-string</em>
						</p>
						
					</div>
				</div>
			</section>
			<section>
				
				<div>
					<header>
						<h2>Reproducible</h2>
						<p>Replay the same test after a fix</p>
					</header>
				</div>
			</section>
			<section>
				<div>
					<div>
						<p>Whenever <em>fast-check</em> detects a problem, it will print an error message containing the settings required to replay the very same test</p>
						<pre><code>Error: Property failed after 1 tests (seed: 1527423434693, path: "0:0:0"): ["","",""]
Shrunk 2 time(s)
Got error: Property failed by returning false</code></pre>
						<p>
							Given this message the test can easily be replayed by using:
						</p>
						<pre><code>test('the failing test', () =&gt; fc.assert(
	fc.property(
		// some arbitraries... 
		// check method
	), { // seed and path taken from the error message
		seed: 1527423434693,
		path: "0:0:0"
	}
));</code></pre>
						<p>
							Setting both <em>seed</em> and <em>path</em> will replay the test starting with the latest failing case.
							If you want to replay the whole test suite, you should only set the <em>seed</em>
						</p>
						
					</div>
				</div>
			</section>
			<section>
				
				<div>
					<header>
						<h2>Shrink</h2>
						<p>Get a better understanding of the errors</p>
					</header>
				</div>
			</section>
			<section>
				<div>
					<div>
						<p>
							Whenever a test fails, <em>fast-check</em> will try to ease your investigations by providing you with the minimal failing case.
							Sometimes it is not enough and having all the failures might help.
							For this precise need, <em>fc.assert</em> accepts an optional configuration: <em>verbose: true</em>. 
						</p>
						<pre><code>test('the failing test', () =&gt; fc.assert(
	fc.property(
		// some arbitraries... 
		// check method
	), { verbose: true }
));</code></pre>
						<p>
							With this setting enabled the error message will look like:
						</p>
						<pre><code>Error: Property failed after 1 tests (seed: 1527423434693, path: 0:0:0): ["","",""]
Shrunk 2 time(s)
Got error: Property failed by returning false

Encountered failures were:
- ["","JeXPqIQ6","&gt;q"]
- ["","","&gt;q"]
- ["","",""]</code></pre>
						
					</div>
				</div>
			</section>
			
			<p><a href="https://github.com/dubzzz/fast-check"><img src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>
		</p></div></div>]]>
            </description>
            <link>https://dubzzz.github.io/fast-check.github.com/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26147011</guid>
            <pubDate>Mon, 15 Feb 2021 20:37:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Join me in the $1k shitcoin challenge]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26146942">thread link</a>) | @chovybizzass
<br/>
February 15, 2021 | https://odysee.com/@chovy:a/screencast-2021-02-15-11.34.40:5 | <a href="https://web.archive.org/web/*/https://odysee.com/@chovy:a/screencast-2021-02-15-11.34.40:5">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://odysee.com/@chovy:a/screencast-2021-02-15-11.34.40:5</link>
            <guid isPermaLink="false">hacker-news-small-sites-26146942</guid>
            <pubDate>Mon, 15 Feb 2021 20:31:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Games as Mental Comfort Food: A Year with Europa Universalis 4]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26146906">thread link</a>) | @autoditype
<br/>
February 15, 2021 | https://checkpointorg.com/games-as-mental-comfort-food-a-year-with-europa-universalis-4/ | <a href="https://web.archive.org/web/*/https://checkpointorg.com/games-as-mental-comfort-food-a-year-with-europa-universalis-4/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

				

			<p><strong>Author</strong>: <a href="http://twitter.com/elmarcel">@elmarcel</a>, professional game developer in Sweden</p>
<p><em>This is a guest post and does not represent the views of CheckPoint.</em></p>

<h3>Late 2014.</h3>
<p>I was working a job abroad that I had loved for years: interesting work, fun colleagues, and a great boss. I had a nice circle of friends, and after a lot of flathopping I had finally found a flatshare with agreeable people. Life was good. I was completely miserable. I had no energy, motivation, or ambition. Problems concentrating. As a software developer, it was quite detrimental to my work. I came to work late, every day. Mornings, I wanted to stay in bed indefinitely. Always tired, even after a long sleep. Dreading the fact that soon as I would get up, a new day would start, with all the difficulties that brings with it. Evenings were opposite: I didn‚Äôt go to bed until I nearly collapsed, afraid to admit that the day was a wash, and also delaying the sleep that would see me waking up anew. Life was gray and tasted like cotton.</p>
<h4>In hindsight, I was suffering from a severe clinical depression that was pulling me to the edge of functionality.</h4>
<p>I felt terrible, and couldn‚Äôt imagine myself feeling even slightly less terrible anywhere in the future. Following a correct intuition, I quit, packed my bags, and flew home. I was very lucky that I did that when I did. As soon as the structure of a regular day job was removed, I regressed into a lethargic existence. No appetite for food. No ambition to work on a hobby project. Even though I have decent amount savings, I don‚Äôt travel, not even to meet close friends. I also don‚Äôt practice any of my other hobbies: reading, writing, photography. I don‚Äôt even feel bored or sad; and if I do, it‚Äôs such a constant presence that I stopped noticing a long time ago.</p>
<p>How I occupy my day is straightforward. I live with my father, and this makes things a lot easier then they would be living alone. He wakes me at 10:00, and I force myself to take a shower every day. I skip breakfast, as I have since I hit puberty. Lunch at 12:00. Dinner at 18:00. Him being there is enough for me to make the effort to eat. That just leaves the rest of the day. Most people that have depression are incredibly ineffective. I definitely am. Taking a shower is not a ten-minute task. It can take a long time of mental preparation, and a long time of ‚Äúorganized retreat‚Äù/recuperation after the fact. I retreat in my own head, by which I mean occupying myself with some tasks with that had little or no feedback in the real world. There‚Äôs a lot of time I feel I need to spend away from day to day life, and that time need to be filled, somehow. I do some consulting, whenever I feel able to, even though I get nothing out of it. On bad days it‚Äôs so difficult and boring it makes me want to cry. I watch some shows, which was my main occupation the previous time I had a similar episode. I try to meet up with friends, even though I‚Äôm incredibly clumsy in social situations, and they are mostly unavailable.</p>

<h3>But above all, and probably more than everything else combined, I play Europa Universalis 4, or EU4 for short.</h3>

<p><img loading="lazy" src="https://i2.wp.com/checkpoint.org.au/wp-content/uploads/2017/12/europauniversalisiv_release_screen_6-1024x576.jpg?resize=839%2C472&amp;ssl=1" alt="" width="839" height="472" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/checkpoint.org.au/wp-content/uploads/2017/12/europauniversalisiv_release_screen_6-1024x576.jpg?resize=839%2C472&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>EU4 is a grand strategy game, where a player takes charge of a country (in the form of ‚Äúan‚Äù invisible guiding hand‚Äù) and tries to achieve goals which are largely left to the player to define. The game simulates the entire world between 1444, when the Ottomans won at Varna and started to expand into the Balkans, until 1821, the death of Napoleon. Close to three thousand individual provinces divided between more than a thousand nations. There is a strong focus on war, but diplomacy and economy are very complex and important mechanics as well. More than in most other games, alliances are important, wars are fought for specific reasons, and being stabbed in the back by the AI hurts. My main interest in the game is in its depth. If I‚Äôm being threatened by a stronger neighbor, I could try to marry my dynasty into another in the hope of securing another alliance. Or I could take out a lot of loans, hire another nation‚Äôs army as mercenaries, and figure out a way to deal with the resulting inflation later. Or I could ally his ally, forcing him to fight his own ally to get to me. Or finally, the military option, where being the weaker nation my only recourse is to salt my own lands and harry him for decades, hoping he‚Äôll have to give up due to an internal conflict. Getting to know EU4 well enough to play a proper campaign takes longer than it takes to finish many AAA games, and it‚Äôs a funstrating process. Afterwards, a lot of the satisfaction of playing is applying a large understanding of the game in an effective way, while still brushing up on the more obscure rules and mechanics.</p>
<p>It‚Äôs not the only title I play. EU4 is made by a Paradox Interactive, which specialize in grand strategy games. I‚Äôve played virtually all of their games. Crusader Kings 2, which is the most critically acclaimed one, where you play as a medieval lord or lady. It‚Äôs probably best described as ‚Äúthe sims‚Äù welded to a medieval inheritance law simulator with a dash of eugenics: a player can start and stop wars, marry and cheat, raise or ‚Äúneutralize‚Äù their heir, and many, many more actions. It has been praised for its emergent storytelling, and it‚Äôs a true classic. There‚Äôs also Victoria 2, which lets you pick any country in the world, and guide it through Victorian times. Hearts of Iron 4, a straight up military strategy game set in WW2. And finally, Stellaris, a sci-fi 4x game with an emphasis on narrative. But it‚Äôs EU4 where I, and most other people who seriously get into Paradox games, choose to spend the bulk of our time.</p>
<h4>The starting situation is the identical every time.</h4>
<p>England owns parts of France and looks hungrily towards Scotland. Norway and Sweden chafe t being vassals of Denmark. The Moors are barely hanging on in Andalucia, anticipating Castille‚Äôs coup de grace. The Holy Roman Empire is a colorful patchwork of small, wealthy states, shepherd over by an overbearing Austria. Russia is not on the map, as Muscovy and Novgorod still need to fight for supremacy. China seems to dominate the Far East, mainly due to his size. India is roughly divided and fought over by four contenders: Vijianagar, Jaipur, and Bengal. Several hordes divide Central Asia between them, pillaging from their more docile neighbors. South East Asia and Sub-Saharan Africa are volatile, with hundreds of small kingdoms fighting to come out on top. The Americas are large swathes of uninhabited land only occasionally occupied by a migrating tribe, relatively peaceful while it‚Äôs still undiscovered by the Europeans.</p>
<p>Every game is memorable and unique. In EU4, countries have an opinion about each other. One country might like another because they have mutual enemies, marriage ties, or the other nation simply made a significant monetary gift. Or it may hate another due to an existing grudge, historical disputes over land, or simple rivalry. The initial opinions of countries towards each other does change every game. The fate of Europe is largely decided by who France decides to ally. If it allies Austria, everything on the continent will happen by their fiat. In any case, France is just waiting for an excuse to fight England, a fight which it can‚Äôt lose. Meanwhile, a nation that allies England or Denmark has effectively tied a millstone around their neck: Denmark sits on top of a volcano of powerful, disloyal vassals while England needs boats to fight anywhere, and tends to tie up its forces in its overseas ambitions. Muscovy will crush Novgorod and form Russia. Who it will ally is, just as Poland, anyone‚Äôs guess, but it‚Äôs guaranteed they will both hate the Ottomans. The Ottomans don‚Äôt need any allies, and the only thing that can stop them in the West is a unified bloc of Austria, Poland, and perhaps Hungary. The game keeps it fresh with the occasional curveball though: the pope allying the Ottomans, Sweden colonizing North America. Aztecs driving the Spanish into the ocean.</p>

<p><img loading="lazy" src="https://i1.wp.com/checkpoint.org.au/wp-content/uploads/2017/12/europauniversalisiv_pdxcon_screenshot_10-1024x576.png?resize=876%2C493&amp;ssl=1" alt="" width="876" height="493" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/checkpoint.org.au/wp-content/uploads/2017/12/europauniversalisiv_pdxcon_screenshot_10-1024x576.png?resize=876%2C493&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<h3>It took a year before I realized something was fundamentally wrong with me.</h3>
<p>I haven‚Äôt mentioned it before, but half a decade ago I had a similar episode of depression. It lasted about 2 years, which would make it 3 years in total before I started to accept the idea that something might be terribly wrong. Luckily, I eventually had the correct reaction and looked for help. That doesn‚Äôt mean I was in front of a doctor or psychologist the next day. Or week. Between all the research, telephone calls, waiting lists, etc, it takes me over two months to finally meet with a psychologist. Not a psychiatrist yet, because that still sounded too scary in my head. When I meet my psychologist the first time, I tell her about my treacle-dunked life. It‚Äôs a surprisingly superficial conversation. At this point, I know I have a clinical depression, even if I‚Äôm not quite ready to admit it to myself. She doesn‚Äôt need to be told much before she realizes the same. The rest of the session she tries to reassure me by dispelling any myths and stereotypes about therapy. I don‚Äôt need to be told. I have quite a lot of experience with mental illness, due to a high prevalence in my family. We agree to start weekly sessions.</p>
<h4>It‚Äôs frequent, but I am disappointed.</h4>
<p>Now that I finally have an idea about what my problem is, I want to meet more often, I‚Äôm anxious to finally start working on my problems as soon as possible. I‚Äôm a programmer, it‚Äôs my natural reflex. But we meet once every week. The kind of therapy we do is never named, and I haven‚Äôt looked it up. I‚Äôve had good luck finding my psychologist, we get along well. She‚Äôs very good at helping me understand what I am experiencing. She helps me admit to myself that, even though I know a better life is out there, to genuinely believe I can work towards getting there, right. She shows me why self-care is a crucial first step to take, as well as a valuable skill for the rest of my life. And I hesitantly start taking care of myself, one ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://checkpointorg.com/games-as-mental-comfort-food-a-year-with-europa-universalis-4/">https://checkpointorg.com/games-as-mental-comfort-food-a-year-with-europa-universalis-4/</a></em></p>]]>
            </description>
            <link>https://checkpointorg.com/games-as-mental-comfort-food-a-year-with-europa-universalis-4/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26146906</guid>
            <pubDate>Mon, 15 Feb 2021 20:27:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How a Bedding Company Built an Open-Source ESP8266 Dev Board?]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26146745">thread link</a>) | @pcbmaker21
<br/>
February 15, 2021 | https://www.maloufelectronics.com/story/ | <a href="https://web.archive.org/web/*/https://www.maloufelectronics.com/story/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <h2>Our Story</h2>
<h4>What We Made</h4>
<p>Malouf Electronics ESP8266 Development Board</p>
<p><img src="https://www.maloufelectronics.com/global-assets/files/ad9072c350d0156b4d3f977706980586.jpg" alt="dev-boards-photo"></p>
<ul>
<li>High-capacity ESP8266 with 16MB flash</li>
<li>Compatible with the latest Arduino IDE/Mongoose IoT/Micropython</li>
<li>Built-in Micro-USB with CH340C chip</li>
<li>MAX232 chip with terminal block</li>
<li>Relay with terminal block ( NO/COM/NC )</li>
<li>IR blaster LED and IR receiver</li>
<li>Features red and green indicator LEDs and easily accessible GPIO pins</li>
<li>Includes terminal block for 5V power &amp; RX/TX for RS-232</li>
<li>Available for around $20 bucks on <a href="https://www.amazon.com/dp/B08GY2GTW5?ref=myi_title_dp">Amazon</a> </li>
</ul>
<h4>How We Got Here</h4>
<p>We work for Malouf√¢‚Äû¬¢, a home good and sleep tech company in Logan, Utah. Our company employs about 800 people (including our team of 26 software engineers, hardware engineers, and data specialists) to create, sell, market, and distribute thousands of products. Unsurprisingly, a development board was never on our list of items to create for consumers√¢‚Ç¨‚Äùbut it√¢‚Ç¨‚Ñ¢s now available on <a href="https://www.amazon.com/dp/B08GY2GTW5?ref=myi_title_dp">Amazon</a>. </p>
<p>So how did we get here? One of our team√¢‚Ç¨‚Ñ¢s jobs is optimizing distribution technology at our network of six facilities (and growing). A distribution center we purchased from Toys R√¢‚Ç¨‚Ñ¢ Us in Midlothian, Texas came equipped with miles of conveyor belts designed to streamline the shipping and packing process, but we couldn√¢‚Ç¨‚Ñ¢t get the system to communicate with the technology we had.  Rather than call in outside specialists, our company decided to use the resources at hand√¢‚Ç¨‚Äùus. </p>
<p><img src="https://www.maloufelectronics.com/global-assets/files/fa39759b49db1a0c506b4d1fcccbf537.jpg" alt="over-head-scanners"></p>
<p>We set up a electronics lab in our corporate office and got to work on creating a PCB board for use in gigantic distribution centers to read barcode data from our parcels and sort the packages. But as we were building it, we realized we were creating an ideal board for makers. You can essentially use it to build whatever you want. </p>
<p>As a rule, most builders and makers have issues with the establishment. We agree, though we ironically work for a corporation√¢‚Ç¨‚Äùalbeit a cool one. Our engineering team wanted to manufacture and sell the board online and to show others how to build it by making the tech <a href="https://github.com/MaloufSleep/ME-ESP8266">open source</a>. Profit was never a goal, even though we had to pitch it to our CTO and get the company to invest on the initial order. We expected a hard no. </p>
<p>He said "Yes". </p>
<p>Today, you can buy our ESP8266 development for around $20 (which covers our costs) and use our code to simply create any program. We use a CH340C USB to serial chip, so most modern operating systems will detect and work with this board without the need to install any drivers. Our goal was creating a maker-friendly design that√¢‚Ç¨‚Ñ¢s experimental, flexible, and educational. </p>
<p>Pick up a board and see what you can create today. It√¢‚Ç¨‚Ñ¢s easier than you think.</p>
<h5>- Erfan Reed, Marit Fischer, and Jason Gramse, the team at Malouf Electronics</h5>
    </div></div>]]>
            </description>
            <link>https://www.maloufelectronics.com/story/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26146745</guid>
            <pubDate>Mon, 15 Feb 2021 20:13:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What Inception Net Doesn't See]]>
            </title>
            <description>
<![CDATA[
Score 69 | Comments 23 (<a href="https://news.ycombinator.com/item?id=26146597">thread link</a>) | @Aliabid94
<br/>
February 15, 2021 | https://abidlabs.github.io/Inception-Blindspots/ | <a href="https://web.archive.org/web/*/https://abidlabs.github.io/Inception-Blindspots/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    

<p>Deep learning vision models like Inception Net achieve state-of-the-art performance on image recognition. However, I‚Äôm curious about when these models <em>don‚Äôt work well</em>. I tested Inception Net on a large number of natural images, and here is a collection of things that the model doesn‚Äôt predict well. Note: I‚Äôm only including <strong>examples where the correct class is one of the 1,000 valid ImageNet classes</strong>.</p>

<p><em>Try it Yourself</em>: Along with each example is a link to the model demo (<a href="https://github.com/gradio-app/gradio">built with Gradio</a>) where you can try the image yourself directly from the browser.</p>

<h3 id="1-upside-down-cars">1. Upside down cars</h3>

<ul>
  <li>Inception Net doesn‚Äôt recognize the <strong>car</strong> category at all when the car is upside down</li>
</ul>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/car1.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#1" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/car2.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#2" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<h3 id="2-sliced-apples">2. Sliced apples</h3>

<ul>
  <li>Although Inception Net recognizes many sliced fruits, it is convinced that sliced <strong>apples</strong> are actually  <strong>cucumbers</strong> or other fruits.</li>
</ul>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/apple1.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#3" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/apple2.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#4" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<h3 id="3-pakistani-grooms">3. Pakistani grooms</h3>

<ul>
  <li>Inception Net can detect Western-dressed <strong>grooms</strong> quite well, but not when they‚Äôre wearing Pakistani / Indian attire</li>
</ul>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/groom1.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#5" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/groom2.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#6" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<h3 id="4-long-balloons">4. Long balloons</h3>

<ul>
  <li>‚ÄúIf it isn‚Äôt round, it isn‚Äôt a <strong>balloon</strong>‚Äù ‚Äì Inception Net</li>
</ul>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/balloon1.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#7" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/balloon2.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#8" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<h3 id="5-regular-surgical-masks">5. Regular surgical masks</h3>

<ul>
  <li>Admittedly, ImageNet was collected way before COVID-19, when these were less common. However, it‚Äôs strange that even though <strong>masks</strong> and <strong>gas masks</strong> are valid categories, they are not predicted for regular surgical masks.</li>
</ul>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/mask1.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#9" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/mask2.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#10" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<h3 id="6-cartoon-lions">6. Cartoon lions</h3>

<ul>
  <li>Generally Inception Net fails at classifying cartoon versions of images. In my experience, cartoon <strong>lions</strong> were particularly hard for it to classify correctly.</li>
</ul>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/lion1.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#11" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/lion2.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#12" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<h3 id="7-roombas">7. Roombas</h3>

<ul>
  <li>It looks like Inception Net doesn‚Äôt know about the Roomba <strong>vacuum cleaner</strong> as it consistently misidentifies it as another gadget instead</li>
</ul>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/roomba1.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#13" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/roomba2.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#14" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<h3 id="8-geese-in-the-sky">8. Geese in the Sky</h3>

<ul>
  <li>Inception Net wouldn‚Äôt be good at threat detection as it mistakes these harmless <strong>geese</strong> in the sky for warplanes!</li>
</ul>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/geese1.png">
<figcaption><a href="https://github.com/hendrycks/natural-adv-examples" target="_blank">Credit for this example goes to Hendrycks et al.</a> <a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#15" target="_blank">Explore it in your browser</a></figcaption>
</figure>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/geese2.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#16" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<h3 id="takeaways">Takeaways</h3>

<p>So we‚Äôve found some examples where Inception Net fails‚Ä¶ so what? Well, deep learning-based image classifiers like Inception Net are believed to be highly accurate, to the point that many companies release them as APIs [1, 2, 3] designed to be used by the <em>general public</em>. The release is rarely accompanied by descriptions of <em>failure points</em> of the model, so users don‚Äôt really know when to expect the model to be reliable and when not to.</p>

<p>By simply experimenting with the model via a web interface, I found several blind spots of Inception Net: for example, objects in unusual positions (#1) or items from non-Western cultures (#3) or even images in non-standard artistic styles (#6). The Gradio library also made it easy for me try to natural image manipulations like rotations, cropping, or adding noise on my images directly through the web interface, making it easier to surface problems with the model. These failure points should be thoroughly investigated and documented so that users known when to trust deployed image recognition models.</p>

<p>It was really easy to try Inception Net with images that were accessible for me (I simply did Google Image searches or tried images from my computer). Try the model yourself (http://www.gradio.app/hub/abidlabs/inception) and let everyone know in the comments what other blindspots you find!</p>

<hr>

<p>[1] https://cloud.google.com/vision</p>

<p>[2] https://azure.microsoft.com/en-us/services/cognitive-services/computer-vision/</p>

<p>[3] https://imagga.com/</p>


  </div></div>]]>
            </description>
            <link>https://abidlabs.github.io/Inception-Blindspots/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26146597</guid>
            <pubDate>Mon, 15 Feb 2021 20:01:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Bug on Aurora PostgreSQL 12 causes Autovacuum to hang forever]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26146440">thread link</a>) | @avi_vallarapu
<br/>
February 15, 2021 | https://www.migops.com/blog/2021/02/15/a-bug-on-aurora-postgresql-12-causes-autovacuum-to-hang-forever/ | <a href="https://web.archive.org/web/*/https://www.migops.com/blog/2021/02/15/a-bug-on-aurora-postgresql-12-causes-autovacuum-to-hang-forever/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.migops.com/blog/2021/02/15/a-bug-on-aurora-postgresql-12-causes-autovacuum-to-hang-forever/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26146440</guid>
            <pubDate>Mon, 15 Feb 2021 19:48:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Understand ML Papers Quickly]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26146378">thread link</a>) | @tmfi
<br/>
February 15, 2021 | https://blog.evjang.com/2021/01/understanding-ml.html | <a href="https://web.archive.org/web/*/https://blog.evjang.com/2021/01/understanding-ml.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-body-3608017406381478599" itemprop="description articleBody"><p>
My <a href="https://blog.evjang.com/2020/06/free-office-hours-for-non-traditional.html">ML mentees</a>&nbsp;often ask me some variant of the question "how do you choose which papers to read from the deluge of publications flooding Arxiv every day?‚Äù&nbsp;</p><div><p>The nice thing about reading most ML papers is that you can cut through the jargon by asking just five simple questions. I try to answer these questions as quickly as I can when skimming papers.</p><p><b>1) What are the inputs to the function approximator? <br></b><br>E.g. a 224x224x3 RGB image with a single object roughly centered in the view.&nbsp;</p><p><b>2) What are the outputs to the function approximator?</b></p><p>E.g. a 1000-long vector corresponding to the class of the input image.</p><p>Thinking about inputs and outputs to the system in a method-agnostic way lets you take a step back from the algorithmic jargon and consider whether other fields have developed methods that might work here using different terminology. I find this approach especially useful when reading&nbsp;<a href="https://arxiv.org/abs/2007.05549">Meta-Learning papers</a>.&nbsp;</p></div><div><p><b>3) What loss supervises the output predictions? What assumptions about the world does this particular objective make?</b></p><p>ML models are formed from combining <i>biases</i>&nbsp;and <i>data</i>. Sometimes <a href="https://en.wikipedia.org/wiki/Linear_regression">the biases are strong</a>, other times they <a href="https://lilianweng.github.io/lil-log/2020/08/06/neural-architecture-search.html">are weak</a>. To make a model generalize better, you need to add more biases or add more unbiased data. There is <a href="https://en.wikipedia.org/wiki/No_free_lunch_theorem">no free lunch</a>.&nbsp;</p><p>An example: many optimal control algorithms make the assumption of a stationary episodic data generation procedure which is a Markov-Decision Process (MDP). In an MDP, ‚Äústate‚Äù and ‚Äúaction‚Äù deterministically map via the environment‚Äôs transition dynamics to ‚Äúa next-state, reward, and whether the episode is over or not‚Äù. This structure, though very general, can be used to formulate a loss that allows learning Q values to follow the <a href="https://en.wikipedia.org/wiki/Bellman_equation">Bellman Equation</a>. </p><p><b>4) Once trained, what is the model able to generalize to, in regards to input/output pairs it hasn‚Äôt seen before? <br></b><br>Due to the information captured in the data or the architecture of the model, the ML system may generalize fairly well to inputs it has never seen before. In recent years we are <a href="https://en.wikipedia.org/wiki/AlphaGo">seeing more</a> and <a href="https://en.wikipedia.org/wiki/GPT-3">more</a> <a href="https://openai.com/blog/dall-e/">ambitious levels of generalization</a>, so when reading papers I watch out to see any surprising generalization capabilities and where it comes from (data, bias, or both).&nbsp;</p></div><div><p>There is a lot of noise in the field about better inductive biases, like causal reasoning or symbolic methods or object-centric representations. These are important tools for building robust and reliable ML systems and I get that the line separating structured data vs. model biases can be blurry. That being said, it baffles me how many researchers think that the way to move ML forward is to&nbsp;<i>reduce</i>&nbsp;the amount of learning and <i>increase</i>&nbsp;the amount of hard-coded behavior.&nbsp;</p><p>We do ML precisely because there are things we don't know how to hard-code. As Machine <i>Learning</i> researchers, we should focus our work on <a href="http://www.incompleteideas.net/IncIdeas/BitterLesson.html">making learning methods better</a>, and leave the hard-coding and symbolic methods to the Machine <i>Hard-Coding</i>&nbsp;Researchers.&nbsp;</p></div><p><b>5) Are the claims in the paper falsifiable?&nbsp;</b></p><p>Papers that make claims that cannot be&nbsp;<a href="https://en.wikipedia.org/wiki/Falsifiability">falsified</a>&nbsp;are not within the realm of science.&nbsp;</p><p>P.S. for additional hot takes and mentorship for aspiring ML researchers, sign up for <a href="https://blog.evjang.com/2020/06/free-office-hours-for-non-traditional.html">my free office hours</a>. I've been mentoring students over Google Video Chat most weekends for 7 months now and it's going great.&nbsp;</p>

</div></div>]]>
            </description>
            <link>https://blog.evjang.com/2021/01/understanding-ml.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26146378</guid>
            <pubDate>Mon, 15 Feb 2021 19:43:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Python Concurrency: The Tricky Bits]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26146211">thread link</a>) | @dsr12
<br/>
February 15, 2021 | https://python.hamel.dev/concurrency/ | <a href="https://web.archive.org/web/*/https://python.hamel.dev/concurrency/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <p><strong>An exploration of threads, processes, and coroutines in Python, with interesting examples that illuminate the differences between each.</strong></p>
<p><img src="https://python.hamel.dev/cpu.jpg" alt=""> Credit:<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup></p>

<p>As <a href="https://hamel.dev/">a data scientist who is spending more time on software engineering</a>, I was recently forced to confront an ugly gap in my knowledge of Python: concurrency.  To be honest, I never completely understood how the terms async, threads, pools and coroutines were different and how these mechanisms could work together.  Every time I tried to learn about the subject, the examples were a bit too abstract for me, and I hard time internalizing how everything worked.</p>
<p>This changed when a friend of mine<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup> recommended <a href="https://youtu.be/MCs5OvhV9S4">a live coding talk</a> by <a href="https://www.dabeaz.com/">David Beazley</a>, an accomplished Python educator.</p>
<p><em>Because of restrictions with this YouTube video, I couldn‚Äôt embed <a href="https://youtu.be/MCs5OvhV9S4">the video</a> in this article, so you will have to open it in a different window</em>.</p>
<p>This talk is incredibly intimidating at first.  Not only is it coded live from scratch, but it also jumps immediately into socket programming, something that I had never encountered as a data scientist.  However, if you go through it slowly and understand all the components (as we do in this blog post) it turns out to be the best educational material on Python concurrency I have ever encountered.  This blog post documents what I learned along the way so others can benefit, too.</p>

<p>Before getting started, David sets up the following infrastructure that is used to demonstrate concurrency.</p>
<h2 id="a-cpu-bound-task-fibonacci">A cpu-bound task: Fibonacci</h2>
<p>To demonstrate concurrency, it is useful to create a task that can saturate your CPU (such as mathematical operations) for a noticeable period of time.  David uses a function that computes a <a href="https://en.wikipedia.org/wiki/Fibonacci_number">Fibonacci number</a>.</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span>1
</span><span>2
</span><span>3
</span><span>4
</span></code></pre></td>
<td>
<pre><code data-lang="py3"><span>#fib.py</span>
<span>def</span> <span>fib</span><span>(</span><span>n</span><span>):</span>
    <span>if</span> <span>n</span> <span>&lt;=</span> <span>2</span><span>:</span> <span>return</span> <span>1</span>
    <span>else</span><span>:</span> <span>return</span> <span>fib</span><span>(</span><span>n</span><span>-</span><span>1</span><span>)</span> <span>+</span> <span>fib</span><span>(</span><span>n</span><span>-</span><span>2</span><span>)</span>
</code></pre></td></tr></tbody></table>
</div>
</div><p>This function takes much longer for large inputs versus smaller inputs<sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup>, which allows us to profile different workloads.</p>
<h2 id="a-simple-web-server">A Simple Web Server</h2>
<p>A web server is one of the best ways to illustrate different types of concurrency.  However, to really demonstrate how things work it is useful to use something that is sufficiently low level enough to see how all the pieces work.  For this, David sets up a web server using socket programming.  If you aren‚Äôt familiar with socket programming, I‚Äôll explain the important bits below, but feel free to dive deeper <a href="https://ruslanspivak.com/lsbaws-part1/">with this tutorial</a> later if you like.</p>
<p>To begin with, David starts with the below code (I‚Äôve highlighted the most interesting bits):</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span><span>11
</span></span><span>12
</span><span><span>13
</span></span><span>14
</span><span>15
</span><span>16
</span><span><span>17
</span></span><span>18
</span><span>19
</span><span>20
</span><span><span>21
</span></span><span>22
</span><span>23
</span><span>24
</span></code></pre></td>
<td>
<pre><code data-lang="python3"><span># server-1.py</span>
<span>from</span> <span>socket</span> <span>import</span> <span>*</span>
<span>from</span> <span>fib</span> <span>import</span> <span>fib</span> 

<span>def</span> <span>fib_server</span><span>(</span><span>address</span><span>):</span>
    <span>sock</span> <span>=</span> <span>socket</span><span>(</span><span>AF_INET</span><span>,</span> <span>SOCK_STREAM</span><span>)</span>
    <span>sock</span><span>.</span><span>setsockopt</span><span>(</span><span>SOL_SOCKET</span><span>,</span> <span>SO_REUSEADDR</span><span>,</span><span>1</span><span>)</span>
    <span>sock</span><span>.</span><span>bind</span><span>(</span><span>address</span><span>)</span>
    <span>sock</span><span>.</span><span>listen</span><span>(</span><span>5</span><span>)</span>
    <span>while</span> <span>True</span><span>:</span>
<span>        <span>client</span><span>,</span><span>addr</span> <span>=</span> <span>sock</span><span>.</span><span>accept</span><span>()</span>  <span># waits for a connection to be established</span>
</span>        <span>print</span><span>(</span><span>"Connection"</span><span>,</span> <span>addr</span><span>)</span>
<span>        <span>fib_handler</span><span>(</span><span>client</span><span>)</span> <span># passes the client to a handler which will listen for input data.</span>
</span>        
<span>def</span> <span>fib_handler</span><span>(</span><span>client</span><span>):</span>
    <span>while</span> <span>True</span><span>:</span>
<span>        <span>req</span> <span>=</span> <span>client</span><span>.</span><span>recv</span><span>(</span><span>100</span><span>)</span>  <span># waits for data that sent by the client.</span>
</span>        <span>if</span> <span>not</span> <span>req</span><span>:</span> <span>break</span>
        <span>result</span> <span>=</span> <span>fib</span><span>(</span><span>int</span><span>(</span><span>req</span><span>))</span>
        <span>resp</span> <span>=</span> <span>str</span><span>(</span><span>result</span><span>)</span><span>.</span><span>encode</span><span>(</span><span>'ascii'</span><span>)</span> <span>+</span> <span>b</span><span>'</span><span>\n</span><span>'</span>
<span>        <span>client</span><span>.</span><span>send</span><span>(</span><span>resp</span><span>)</span> <span># sends data back to the client.</span>
</span>    <span>print</span><span>(</span><span>"Closed"</span><span>)</span>
    
<span>fib_server</span><span>((</span><span>''</span><span>,</span> <span>25000</span><span>))</span>
</code></pre></td></tr></tbody></table>
</div>
</div><p>Here is an explanation of this code:</p>
<ul>
<li>Lines 6-9 are socket programming boilerplate.  It‚Äôs ok to just take this for granted as a reasonable way to set up a socket server.  This also matches the <a href="https://ruslanspivak.com/lsbaws-part1/">the tutorial</a> I linked to above.</li>
<li>Line 11 waits for an incoming connection from a client.  Once a connection is made, the server can begin receiving data from a client.  The code will stop execution on this line until a connection is made.</li>
<li>Line 13: Once a connection is established, the client object is passed to a function which can handle data sent by the client.</li>
<li>Line 17: waits for data to be sent by the client.  The code will stop execution on this line until data is received from the client.</li>
<li>Line 21: The server sends a response back to the client.  The code <em>could</em> stop execution on this line if the send buffers are full, but unlikely in this toy example.</li>
</ul>

<p>In the above example, the server will only be able to accept a connection from a single client, because the call to <code>fib_handler</code> will never return (because it will run in an infinite loop unless a kill signal is received).  This means that <code>sock.accept()</code> can only be called once.</p>
<p>You can test this out by first running the server:</p>
<p>Then establish a client:</p>
<p>You can type numbers in <a href="https://youtu.be/MCs5OvhV9S4?t=293">as David does in his video</a> and verifies that fibonacci numbers are returned.  However, if you try to connect with another client at the same time from a different terminal session:</p>
<p>You will notice that the second client just hangs and doesn‚Äôt return anything from the server.  This is because the server is only able to accept a single connection.  Next, we explore how to tackle this issue.</p>

<p>We can solve this issue with threads.  You can add threads to the handler so that more connections can be accepted with the following code highlighted in yellow:</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span><span> 3
</span></span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span><span>13
</span></span><span>14
</span><span>15
</span><span>16
</span><span>17
</span><span>18
</span><span>19
</span><span>20
</span><span>21
</span><span>22
</span><span>23
</span><span>24
</span></code></pre></td>
<td>
<pre><code data-lang="py3"><span>from</span> <span>socket</span> <span>import</span> <span>*</span>
<span>from</span> <span>fib</span> <span>import</span> <span>fib</span>
<span><span>from</span> <span>threading</span> <span>import</span> <span>Thread</span>
</span>
<span>def</span> <span>fib_server</span><span>(</span><span>address</span><span>):</span>
    <span>sock</span> <span>=</span> <span>socket</span><span>(</span><span>AF_INET</span><span>,</span> <span>SOCK_STREAM</span><span>)</span>
    <span>sock</span><span>.</span><span>setsockopt</span><span>(</span><span>SOL_SOCKET</span><span>,</span> <span>SO_REUSEADDR</span><span>,</span><span>1</span><span>)</span>
    <span>sock</span><span>.</span><span>bind</span><span>(</span><span>address</span><span>)</span>
    <span>sock</span><span>.</span><span>listen</span><span>(</span><span>5</span><span>)</span>
    <span>while</span> <span>True</span><span>:</span>
        <span>client</span><span>,</span><span>addr</span> <span>=</span> <span>sock</span><span>.</span><span>accept</span><span>()</span>
        <span>print</span><span>(</span><span>"Connection"</span><span>,</span> <span>addr</span><span>)</span>
<span>        <span>Thread</span><span>(</span><span>target</span><span>=</span><span>fib_handler</span><span>,</span> <span>args</span><span>=</span><span>(</span><span>client</span><span>,))</span><span>.</span><span>start</span><span>()</span>
</span>        
<span>def</span> <span>fib_handler</span><span>(</span><span>client</span><span>):</span>
    <span>while</span> <span>True</span><span>:</span>
        <span>req</span> <span>=</span> <span>client</span><span>.</span><span>recv</span><span>(</span><span>100</span><span>)</span> 
        <span>if</span> <span>not</span> <span>req</span><span>:</span> <span>break</span>
        <span>result</span> <span>=</span> <span>fib</span><span>(</span><span>int</span><span>(</span><span>req</span><span>))</span>
        <span>resp</span> <span>=</span> <span>str</span><span>(</span><span>result</span><span>)</span><span>.</span><span>encode</span><span>(</span><span>'ascii'</span><span>)</span> <span>+</span> <span>b</span><span>'</span><span>\n</span><span>'</span>
        <span>client</span><span>.</span><span>send</span><span>(</span><span>resp</span><span>)</span>
    <span>print</span><span>(</span><span>"Closed"</span><span>)</span>
    
<span>fib_server</span><span>((</span><span>''</span><span>,</span> <span>25000</span><span>))</span>
</code></pre></td></tr></tbody></table>
</div>
</div><p>You can verify that this works by connecting two separate clients to the server by running the following command in two separate terminal windows:</p>
<p>By executing the <code>fib_handler</code> in a thread, the main while loop in <code>fib_server</code> will continue, allowing <code>sock.accept()</code> to receive additional clients.  If you haven‚Äôt encountered threads before <a href="https://realpython.com/intro-to-python-threading/">this tutorial</a> provides a good introduction to the topic.</p>
<h2 id="thread-performance--the-gil">Thread performance &amp; the GIL</h2>
<p>When code stops execution and waits for an external event to occur (like a connection to be made, or data to be sent), this is often referred to as <a href="https://stackoverflow.com/questions/2407589/what-does-the-term-blocking-mean-in-programming">blocking</a>.</p>
<p>One important utility of threads is that it allows blocking tasks to release control of the CPU when the CPU is not being used.  However, the Python interpreter can only run on one thread at a time due to the <a href="https://wiki.python.org/moin/GlobalInterpreterLock">Global Interpreter Lock</a>.  Because Python can only run a single thread at any given time, any CPU-bound work in threads must take turn running one after the other.</p>
<p>Therefore, you have to think carefully about what kind of tasks you execute in threads with Python.  If you try to execute CPU bound tasks, these tasks will slow each other down.  David demonstrates this with the below script that sends requests to our threaded server:</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span></code></pre></td>
<td>
<pre><code data-lang="py"><span>#perf1.py</span>
<span>from</span> <span>socket</span> <span>import</span> <span>*</span>
<span>import</span> <span>time</span>

<span>sock</span> <span>=</span> <span>socket</span><span>(</span><span>AF_INET</span><span>,</span> <span>SOCK_STREAM</span><span>)</span>
<span>sock</span><span>.</span><span>connect</span><span>((</span><span>'localhost'</span><span>,</span> <span>25000</span><span>))</span>

<span>while</span> <span>True</span><span>:</span>
    <span>start</span> <span>=</span> <span>time</span><span>.</span><span>time</span><span>()</span>
    <span>sock</span><span>.</span><span>send</span><span>(</span><span>b</span><span>'30'</span><span>)</span>
    <span>resp</span> <span>=</span> <span>sock</span><span>.</span><span>recv</span><span>(</span><span>100</span><span>)</span>
    <span>end</span> <span>=</span> <span>time</span><span>.</span><span>time</span><span>()</span>
    <span>print</span><span>(</span><span>end</span><span>-</span><span>start</span><span>)</span>
</code></pre></td></tr></tbody></table>
</div>
</div><p>If you run several instances of this script (after starting the server first):</p>
<p>You will see the execution times for each script linearly increase as you increase the number of these scripts running in parallel.  <strong>For this particular task, adding threads does not make anything faster.  But why?</strong>  This is because the fibonacci task is CPU bound so threads will compete with each other for resources.</p>
<p>Python threads work by interleaving the execution of different tasks on your CPU.<sup id="fnref:4"><a href="#fn:4" role="doc-noteref">4</a></sup>  Only one thread runs at a time, and have the ability to take turns executing in small bits until all threads are done.  The details of how thread processing is interleaved is carried out by the GIL and your operating system, so you need not worry about this detail (with one exception mentioned below).  Interleaving a bunch of CPU bound tasks will not speed up the total runtime of those tasks.  However, if your tasks involve lots of non-CPU time, such as waiting for network connections, or disk I/O, threading tasks may result in a considerable speedup.  A canonical way of simulating a non-cpu bound task in python is to use the built-in function <code>time.sleep()</code>.</p>
<p>To check my understanding about threads and performance, I ran the below experiment<sup id="fnref:5"><a href="#fn:5" role="doc-noteref">5</a></sup> and changed <code>time.sleep(2)</code> to <code>fib(20)</code> and back again:</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span><span> 4
</span></span><span> 5
</span><span> 6
</span><span> 7
</span><span><span> 8
</span></span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span>17
</span><span>18
</span><span>19
</span><span>20
</span><span>21
</span><span>22
</span><span>23
</span><span>24
</span><span>25
</span><span>26
</span><span>27
</span><span>28
</span><span>29
</span></code></pre></td>
<td>
<pre><code data-lang="py"><span>import</span> <span>logging</span>
<span>import</span> <span>threading</span>
<span>import</span> <span>time</span>
<span><span>import</span> <span>fib</span>
</span>
<span>def</span> <span>thread_function</span><span>(</span><span>name</span><span>):</span>
    <span>logging</span><span>.</span><span>info</span><span>(</span><span>"Thread </span><span>%s</span><span>: starting"</span><span>,</span> <span>name</span><span>)</span>
<span>    <span>time</span><span>.</span><span>sleep</span><span>(</span><span>2</span><span>)</span>  <span>## Change this line of code to fib(20)</span>
</span>    <span>logging</span><span>.</span><span>info</span><span>(</span><span>"Thread </span><span>%s</span><span>: finishing"</span><span>,</span> <span>name</span><span>)</span>

<span>if</span> <span>__name__</span> <span>==</span> <span>"__main__"</span><span>:</span>
    <span>format</span> <span>=</span> <span>"</span><span>%(asctime)s</span><span>: </span><span>%(message)s</span><span>"</span>
    <span>start</span> <span>=</span> <span>time</span><span>.</span><span>time</span><span>()</span>
    <span>logging</span><span>.</span><span>basicConfig</span><span>(</span><span>format</span><span>=</span><span>format</span><span>,</span> <span>level</span><span>=</span><span>logging</span><span>.</span><span>INFO</span><span>,</span>
                        <span>datefmt</span><span>=</span><span>"%H:%M:%S"</span><span>)</span>

    <span>threads</span> <span>=</span> <span>list</span><span>()</span>
    <span>for</span> <span>index</span> <span>in</span> <span>range</span><span>(</span><span>3</span><span>):</span>
        <span>logging</span><span>.</span><span>info</span><span>(</span><span>"Main    : create and start thread </span><span>%d</span><span>."</span><span>,</span> <span>index</span><span>)</span>
        <span>x</span> <span>=</span> <span>threading</span><span>.</span><span>Thread</span><span>(</span><span>target</span><span>=</span><span>thread_function</span><span>,</span> <span>args</span><span>=</span><span>(</span><span>index</span><span>,))</span>
        <span>threads</span><span>.</span><span>append</span><span>(</span><span>x</span><span>)</span>
        <span>x</span><span>.</span><span>start</span><span>()</span>

    <span>for</span> <span>index</span><span>,</span> <span>thread</span> <span>in</span> <span>enumerate</span><span>(</span><span>threads</span><span>):</span>
        <span>logging</span><span>.</span><span>info</span><span>(</span><span>"Main    : before joining thread </span><span>%d</span><span>."</span><span>,</span> <span>index</span><span>)</span>
        <span>thread</span><span>.</span><span>join</span><span>()</span>
        <span>logging</span><span>.</span><span>info</span><span>(</span><span>"Main    : thread </span><span>%d</span><span> done"</span><span>,</span> <span>index</span><span>)</span>
    <span>end</span> <span>=</span> <span>time</span><span>.</span><span>time</span><span>()</span>
    <span>print</span><span>(</span><span>f</span><span>'total time: {end-start}'</span><span>)</span>
</code></pre></td></tr></tbody></table>
</div>
</div><p>As expected, increasing the number of threads while running <code>time.sleep(2)</code> did not increase the program‚Äôs overall execution time (the program runs in roughly 2 seconds).  On the other hand, replacing <code>time.sleep(2)</code> with <code>fib(20)</code> causes this program‚Äôs running time to increase as more threads are added. This is because <code>fib(20)</code> is a cpu bound task so interleaving the ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://python.hamel.dev/concurrency/">https://python.hamel.dev/concurrency/</a></em></p>]]>
            </description>
            <link>https://python.hamel.dev/concurrency/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26146211</guid>
            <pubDate>Mon, 15 Feb 2021 19:29:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Most Valuable Question When Interviewing Managers]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26145970">thread link</a>) | @pplonski86
<br/>
February 15, 2021 | https://staysaasy.com/recruiting/2021/02/15/Top-Question-Interviewing-Managers.html | <a href="https://web.archive.org/web/*/https://staysaasy.com/recruiting/2021/02/15/Top-Question-Interviewing-Managers.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>Interviewing managers is difficult.</p>

<p>For starters, the role has high volatility. Managers can elevate a team well past what was thought possible. On the flip side, they can blow up a high-functioning team, destroying it‚Äôs magic in unrecoverable ways.</p>

<p>Second, it‚Äôs hard to fire mediocre managers. When a mediocre individual contributor leaves the company, usually they have a mediocre volume of things to transition. When a mediocre manager leaves the company, they‚Äôll often have a bunch of plates spinning in various states of wobble. Someone has to keep those plates spinning, it‚Äôs likely going to be you, and you hired this person  because you didn‚Äôt have the time to do that well.</p>

<p>So, you want to hire a great manager. To do that you need to evaluate them on a large number of competencies - people management, process management, subject matter expertise, communication, and more. That‚Äôs a lot of ground to cover. However, my favorite question can get you a reasonable read in under 15 minutes.</p>



<p>The three most important decisions in management are hiring, firing, and promoting. Asking prospective managers how many times they‚Äôve done each, and asking follow-up questions about their responses, gets to the heart of a manager‚Äôs competency faster than any other question I‚Äôve tried.</p>

<h2 id="how-many-people-have-you-hired">How many people have you hired?</h2>

<p>Great managers are great recruiters. Asking someone how many people they‚Äôve hired gets you critical information, fast. If they‚Äôve only hired a couple people, you can‚Äôt count on this person to come in and revamp your hiring process on day 1. If they‚Äôve hired a bunch, ask some quick followups to understand how they did it:</p>
<ul>
  <li>What‚Äôs your offer acceptance rate? Where do you want it to be?</li>
  <li>What‚Äôs your top source for top-of-funnel pipeline?</li>
  <li>How do you make sure you‚Äôre counteracting bias in the hiring process?</li>
</ul>

<p>The biggest red flag for this question is if someone acts like hiring is easy. That‚Äôs a sure-fire way to know that they have no idea how to hire top talent.</p>

<h2 id="how-many-people-have-you-fired">How many people have you fired?</h2>

<p>Firing is a gut-wrenching, stressful, angst-inducing, and essential function of a manager.</p>

<p>Anecdotally, most effective managers have fired around 1 out of every 7-10 people they‚Äôve ever managed. Proportions much lower than that start to raise concerns that this candidate has had issues effectively performance managing. Ask follow-ups to understand anomalous report:firing ratios.</p>

<p>Furthermore, if a candidate has only managed a few people and never had to fire someone, then you‚Äôve gotten the signal that it‚Äôs something you‚Äôll need to help them with if and when the time comes. You can also avoid accidentally giving a manager with no firing experience a report with material performance issues.</p>

<p>The biggest red flag for this question is anyone is if someone acts like firing is anything besides a life-changing event that requires the utmost seriousness and attention.</p>



<p>Growing your team is an essential manager function. Promotions are also a rough proxy for the effectiveness of your team. Great managers should have promoted a significant proportion of their team and have clear examples of how they helped their team advance their career. For someone in a role for more than a couple years, a good quick response to this question is ‚Äúmost of the team‚Äù.</p>

<p>The biggest red flag for this question is multi-year management stints with very low promotion counts. Dive into that signal to uncover if it was happenstance, a faulty reward mechanism, or a failure in team execution.</p>

<h2 id="conclusion">Conclusion</h2>

<p>You should be able to get through this three-part question in under 15 minutes. By the end of it you‚Äôll have a quick but useful read on the candidate‚Äôs ability to hire, fire, and promote effectively. A nice benefit of this rapid-fire discovery is that it explores the candidate‚Äôs ability to communicate effectively when concise information is needed.</p>



    

    




  </div></div>]]>
            </description>
            <link>https://staysaasy.com/recruiting/2021/02/15/Top-Question-Interviewing-Managers.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26145970</guid>
            <pubDate>Mon, 15 Feb 2021 19:07:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Open-Source Investing Guide]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26145936">thread link</a>) | @gaborme
<br/>
February 15, 2021 | https://herget.github.io/investing-guide/ | <a href="https://web.archive.org/web/*/https://herget.github.io/investing-guide/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->

  <section>
    
    <cite><a href="https://herget.me/"><amp-img src="img/profile-round.png" alt="Gabor Herget" width="70" height="75"></amp-img></a></cite>
    <p>The simple guide of common sense investing. A broadly diversified, low-cost portfolio without the risks of individual stocks. Set up once and rebalance yearly. I wrote this open guide to show you how to make index investing work for you and help you achieve your financial goals.</p>
    <p>Read in <a>English</a> or in <a href="https://herget.github.io/investing-guide/de">Deutsch</a>. 
      <a href="https://github.com/herget/investing-guide">View on GitHub
        <svg width="18" height="18" fill="none" stroke="#9952e0" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
        <use xlink:href="img/feather-sprite.svg#github"></use>
      </svg>
    </a>
    
    </p>
    
  
    <p>
      <amp-img src="img/portfolio-results.svg" alt="Portfolio Results" width="789" height="450" layout="responsive"></amp-img>
      <a target="_blank" href="https://www.portfoliovisualizer.com/backtest-asset-class-allocation?s=y&amp;mode=2&amp;startYear=2000&amp;endYear=2020&amp;initialAmount=10000&amp;annualOperation=0&amp;annualAdjustment=0&amp;inflationAdjusted=true&amp;annualPercentage=0.0&amp;frequency=4&amp;rebalanceType=1&amp;portfolio1=Custom&amp;portfolio2=Custom&amp;portfolio3=Custom&amp;TotalStockMarket1=33.33&amp;IntlStockMarket1=16.67&amp;GlobalBond1=50">
        20 Year Portfolio Results (10,000 USD) - Broadly diversified 50/50 stock/bond allocation
        </a>
    </p>
   

  </section>

  <section>
       <h2>
        The Rule of 72. Divide 72 by your annual rate of return, and you will get a rough estimate of how many years it will take for your initial investment to duplicate itself. Let's say your annual rate is 5 percent. Your money will duplicate itself in 14 years. The magic of compounding returns over an investment lifetime!
      </h2>
      
  </section>

  <section>
     
      <p>Spread your money to many continents, countries and industries. You don't have to dig through individual exchanges, stocks and annual reports. Index funds were born to make your life easier. They track markets for you and do the background work, mostly automated based on a predefined index and at very low costs!
      </p>
  </section>

  <section>
      <h2>Big fortunes have been made by people who packed all their money into one investment they knew supremely well. To stay rich, however, it is important to diversify your wealth broadly.</h2>
      <p>Only a few of the Forbes 400 actually did this. So how many of the Forbes 400 fortunes from 1982 remained on the list 20 years later? A measly 16%‚Äîwere still on the list in 2002. To make it onto the 2002 Forbes 400, the average 1982 member needed to earn only a 4.5% average annual return on his wealth.</p>

      <cite><span>Source</span>: Benjamin Graham; Jason Zweig. The Intelligent Investor: The Definitive Book on Value Investing. HarperCollins.</cite>

  </section>

  <section>
      
      <blockquote>94% of the differences in portfolio returns is explained by asset allocation.</blockquote> 
      <p>Choosing your depot mix and the discipline to stick with it over a long period of time becomes your key to success. It is not your age that should determine the mix, but rather how quickly you want to get your capital and whether you have ever gone through a financial crisis.</p>
      <cite><span>Source</span>: Bogle, John C.. The Little Book of Common Sense Investing: The Only Way to Guarantee Your Fair Share of Stock Market Returns (Little Books. Big Profits) (p. 224). Wiley. </cite>
  </section>

  <section>
      

      <p>50/50 stock/bond allocation? When the next turbulences on the stock markets come, your portfolio will not collapse so much and you can sleep more calmly.</p>
      <p>The lowest point in the last 20 years was -32% and only after 3 years did it recover again. You should bear and sit out that much, otherwise you should increase your bond holdings.</p>
    </section>
  
  <section>
    <h2>Reasonable reserve: Your money reserve should last at least 6 months before you have to touch your stocks.</h2>
  </section>

  <section>
      
      <p>Great if you already save a lot, even better if you invest this money in the best possible way. The annual inflation means that you can get less for your money. Remember the rule of '72? Unfortunately this also works the other way round.</p>
      
      <blockquote>$50,000 will be worth of $32,562
      </blockquote>
     
      <cite>Your purchasing power, based on a 20-year inflation rate <a href="https://www.calculator.net/inflation-calculator.html?cstartingamount1=50000&amp;cinyear1=2020&amp;coutyear1=2000&amp;calctype=1&amp;x=98&amp;y=13"><span>Source</span>: calculator.net</a></cite>
  </section>

  <section>
    
      <p>Make sure you keep all variable costs as low as possible. </p>
      <ol>
        <li>Focus on index funds or funds with total annual costs below half a percent</li><li>Trade via an affordable broker and as little as possible</li><li>Drop consultants who are looking for annual fees</li>
      </ol>
  </section>

  <section>
      
      <h2>Fees matter because they can cut into your overall return. If you pay one percent more per year in fees, you lose over $100,000 within 30 years.</h2>
      <cite>Initial capital of $50,000, monthly savings rate of $300 and an annual return of 6%.</cite>
  </section>
  
  <section>
      
      <p>96 % of the best, do not manage to outperform the market average over a period of 15 years. Save yourself the time and get your average!</p>
      <h2>‚ÄúDon‚Äôt look for the needle in the haystack. Just buy the haystack!‚Äù ‚Äî John C. Bogle</h2>
      <cite><span>Source</span>: Bogle, John C.. The Little Book of Common Sense Investing: The Only Way to Guarantee Your Fair Share of Stock Market Returns (Little Books. Big Profits) (p. 36). Wiley.</cite>
    </section>

  <section>
    
    <p>
      Index funds track a market index and give you a market average as your return. Fluctuations included, but at the lowest cost. ETFs are funds which you can trade on the stock exchanges (Exchange Traded Fund).
    </p>
  </section>

  <section>
    <h2>‚ÄúTo achieve satisfactory investment results is easier than most people realize; to achieve superior results is harder than it looks.‚Äù ‚Äî Benjamin Graham</h2>
  </section>

  <section>
      
      <p>Use saving accounts or money market funds for your emergency fund and short-term payments. They are usually free of charge, you receive more interest than in your checking account. Bond funds are recommended for a holding period of at least 7 years.</p>
      <ol>
        <li>Create savings accounts to build up your emergency reserves: <a href="https://www.nerdwallet.com/best/banking/money-market-accounts">Money Market Account Comparison</a>, <a href="https://www.modern-banking.de/vergleich-tagesgeld-s10.php"> Comparison for Germany</a><a href="https://www.modern-banking.at/vergleich-tagesgeld-s10.php">Comparison for Austria</a></li>
        <li>Buy bond ETFs for your long-term low-risk portion</li>
      </ol>
  
      <p>Popular bond ETF options. Keep it simple as possible.</p>

      
  
      <h2>Bonds for European Investors</h2>
      <blockquote>European Government Bonds</blockquote> 
      <table>
        <thead>
          <tr>
            <th></th>
            <th>Total Expense Ratio</th>
            <th>Share Class</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><a href="https://www.justetf.com/en/etf-profile.html?isin=IE00B4WXJJ64">iS¬≠ha¬≠res Co¬≠re Euro Go¬≠vern¬≠ment Bond Ucits ETF</a></td>
            <td>0<span>.</span>09 %</td>
            <td>Distributing</td>
          </tr>
          <tr>
            <td><a href="https://www.justetf.com/en/etf-profile.html?isin=LU0290355717">Xtra¬≠ckers Eu¬≠ro¬≠zo¬≠ne Go¬≠vern¬≠ment Bond Ucits ETF 1C</a></td>
            <td>0<span>.</span>15 %</td>
            <td>Accumulating</td>
          </tr>
        </tbody>
      </table>

      <blockquote>European Corporate Bonds</blockquote> 
      <table>
        <thead>
          <tr>
            <th></th>
            <th>Total Expense Ratio</th>
            <th>Share Class</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><a href="https://www.justetf.com/en/etf-profile.html?isin=IE00B3F81R35">iShares Core Euro Corporate Bond UCITS ETF (Dist)</a></td>
            <td>0<span>.</span>20 %</td>
            <td>Distributing</td>
          </tr>
        </tbody>
      </table>

  </section>

  <section>
    
    <p>Diversify and invest your capital widely. On several continents, in many sectors and spread over many stocks. This is the key to long-term investing. Select low-cost investments to build your portfolio. </p>

    

    
    <blockquote>Index Funds for EU Investors</blockquote> 
    <table>
      <thead>
        <tr>
          <th>Stocks From Developed and Emerging Countries Worldwide</th>
          <th>Total Expense Ratio</th>
            <th>Share Class</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><a href="https://www.justetf.com/en/etf-profile.html?isin=IE00B44Z5B48">SPDR MSCI ACWI (All Coun¬≠try World) Ucits ETF</a></td>
          <td>0<span>.</span>40 %</td>
          <td>Accumulating</td>
        </tr>
        <tr>
          <td><a href="https://www.justetf.com/en/etf-profile.html?isin=IE00B3RBWM25">Vanguard FTSE All-World UCITS ETF</a></td>
          <td>0<span>.</span>22 %</td>
          <td>Distributing</td>
        </tr>
      </tbody>
    </table>
    
  </section>

  <section>
      
      <p>
        Buy your ETFs at a discount broker. Commision and trading fees should be as low as possible. You want the compound interest to work for you as effectively as possible!
      </p>
      <div>
        <blockquote>Platforms for US Investors</blockquote>
        <p>There is a wide range of good brokers in the US, many of which are very affordable and with a wide range of index funds and ETFs to trade‚Äîoften for free.</p>
          <ol>
            <li><a href="https://investorjunkie.com/stock-brokers/compare/">Compare and find your broker</a></li>
            <li>Look out for the trading costs of your selected funds and ETFs</li>
          </ol>
        <blockquote>Platforms for EU Investors</blockquote>
        <p>There is a wide range of brokers across the continent and every country has its own tax regulations. In some countries, local brokers will handle the tax reporting for you. I would recommend choosing a broker which handles the taxes for you. That way you can save a lot of paperwork for yourself and also in tax advisory fees.</p>
      </div>
      <ol>
        <li><a href="https://www.justetf.com/en/online-broker-vergleich/etfs-kaufen.html">Comparison for Germany</a>, <a href="https://www.broker-test.at/online-broker/vergleich/#online_broker_vergleich">Comparison for Austria</a></li>
        <li>Look out for the trading costs of your selected funds and ETFs</li>
      </ol>
    </section>

    <section>
        
        <p>Establish a regular savings pattern, and begin the process of accumulating financial wealth as early as possible. The best way to save money is to arrange automatic deductions from your paycheck. Investing on auto-pilot! In addition, it can reduce your risk of temporarily inflated prices.
        </p>
        <ol>
          <li>Set up a savings pattern. <a href="https://www.bogleheads.org/wiki/Bogleheads%C2%AE_investment_philosophy#Invest_early_and_often">Twenty percent of income is a good baseline number.</a></li>
          <li>Invest monthly by enabling automatic deductions from your paycheck</li>
        </ol>
        
      </section>
  
  <section>
    <h2>‚ÄúInvestments of equal dollar amounts in common stocks can reduce (but not avoid) the risks of equity investment by ensuring that the entire portfolio of stocks will not be purchased at temporarily inflated prices.‚Äù ‚Äî Burton Malkiel</h2>
    <cite><span>Source</span>: Malkiel, Burton G.. A Random Walk Down Wall Street: The Time-Tested Strategy for Successful Investing (Eleventh Edition) (p. 355). W. W. Norton &amp; Company.</cite>
  </section>

  <section>
      
      <p>Markets will fluctuate differently, but to stay within your defined plan and risk, you should open and analyze your portfolio once a year. Let's say that the equity funds have grown more strongly, you should either adjust your savings plan or buy more bonds. This balanced approach will help you to stay the course.</p>

  </section>

  <section>
    <h2>The biggest risk in investing remains the market risk, which you can control yourself by selecting the appropriate indices and a reasonable asset allocation.</h2>
      <cite></cite>

  </section>


        

  <section>
    
    
</section>

  
  
<amp-analytics config="https://www.googletagmanager.com/amp.json?id=GTM-PMDMM9X&amp;gtm.url=SOURCE_URL" data-credentials="include"></amp-analytics>
  




</div>]]>
            </description>
            <link>https://herget.github.io/investing-guide/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26145936</guid>
            <pubDate>Mon, 15 Feb 2021 19:03:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Write HTML, Not JavaScript]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26145875">thread link</a>) | @ciconia
<br/>
February 15, 2021 | https://www.andrewjvpowell.com/articles/write-html-not-javascript/ | <a href="https://web.archive.org/web/*/https://www.andrewjvpowell.com/articles/write-html-not-javascript/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>I don't hate it, I just hate overuse of it</p>

<p>If there's one thing we can all appreciate about the rise of <a href="https://jamstack.org/">JAMSTACK</a>, is that it brought about renewed vigor even amongst the mainstream for <em>static</em> built and deployed websites.</p>
<p>This is a good thing. The web has become increasingly bloated for various reasons, and along with that we've also seen increasingly complex websites/apps that put ever increasing load on the server, in terms of those that dwell sorely server-side. With static generated websites being back in vogue since, I dunno, 2016 or so, we've seen more and more pure HTML and CSS being deployed that only do (or connect to) server stuff when they have to, instead of the server itself being responsible for spitting out the HTML and CSS. A healthy bit of Separation of Concerns, if you will.</p>
<p>Unfortunately, somehow this has also led to websites being increasingly written in and depending on JavaScript (JS). Entire JavaScript frameworks have risen (almost too many to count nowadays) and become incredibly popular. I wish I were joking, but it's even fairly common to write HTML (or even CSS) <em>inside</em> JavaScript. Even one of the more sane JS driven frameworks, <a href="https://svelte.dev/">Svelte</a>, tends to save all the HTML and CSS (well, if the CSS is written inline in the HTML anyway) inside the JavaScript bundles. When coupled with it's sister project, <a href="https://sapper.svelte.dev/">Sapper</a>, which allows you to actually generate a static website, this is especially awkward as you have both static pages AND a copy of all the HTML and CSS in the <code>.js</code> bundle files as well. Hello bloat.</p>
<p>For mine, JavaScript has its place. To assist with rudimentary actions or effects on a webpage, or to do a little bit dynamic fetching of data (ala AJAX, as long as it has <em>graceful degraduation</em>). But having a website that could otherwise be written completely statically, instead pulling in hundreds of kilobytes just to "hydrate" the interface and create a kind of "SPA" (Single Page Application) feel...? I don't know, but it seems a little insane.</p>
<p>I know this because I myself once fell victim to the hype and wrote a website that was for all intents and purposes, a normal website. A home page, about section, a few other pages related to the business it was for. I did this with the aforementioned Sapper/Svelte combination. Now, the only really dynamic part of this website was a quotation form, i.e it took user input and generated a quotation of item costs, and then the user could choose to proceed (or not) in which case the system would send an email.</p>
<p>The quotation portion of the site could have been done in, at the very least, just a small Svelte component, accessed only when and IF the user wanted to get a quotation. Instead, no, old mate Andy here decided to build the entire website in Sapper instead. What Sapper does is, at compile time, builds the site and generates the <code>.js</code> bundle files, and also crawls the urls inside the site to generate a static version of the site as well. So you get a combination of good old <code>.html</code> files, that has links to the bundle files in the footer of the HTML which then loads and "hydrates" the interface, therefore handing off routing responsibility etc to the Sapper engine instead of letting the browser follow the URLs and loading say, <code>about.html</code> in it's entirety. This is meant to give that instant loading "app feel". It's nothing new, developers have been using AJAX to achieve similar effects for years, but projects like Sapper/Svelte exist to try make development faster and less fiddly.</p>
<p>Which is noble enough, and I'm not here to bag out Svelte or Sapper. Or even React, even though I find its syntax abhorrent. These projects exist for a reason and can have legitimate use. And of course there is the whole inbuilt "react-ivity" aspect that all three of the projects I just mentioned tout. The problem is impressionable or inexperienced developers, or just plain Soydevs, coming along and using these frameworks for what may be essentially brochure-style websites, instead of say a mobile application. That's pretty crazy, and that's how you get websites pulling in hundreds of kilobytes of JS on top of already existing static HTML/CSS to basically give a slightly faster response and a smooth transition maybe between pages. However, that's after the website potentially takes twice as long to load initially. </p>
<p>Then there's what I'll call technical-debt. That site I mentioned that I made with Sapper? It'll be one heck of a job pulling it apart and converting it to normal HTML/CSS. I essentially created a bit of vendor lock-in for a site that should never have needed to be that complicated or bloated. Lesson learned.</p>
<p>So, <em>TL;DR</em>: If we're going to encourage a more static web, let's write actual static websites rather than deferring it all to JavaScript. Use JS where necessary, but no more than that. if you have to ask yourself, <em>"should I really need JavaScript just to do this?"</em>, then you probably don't.</p>

</div></div>]]>
            </description>
            <link>https://www.andrewjvpowell.com/articles/write-html-not-javascript/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26145875</guid>
            <pubDate>Mon, 15 Feb 2021 18:58:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Earley Parser]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26145856">thread link</a>) | @todsacerdoti
<br/>
February 15, 2021 | https://rahul.gopinath.org/post/2021/02/06/earley-parsing/ | <a href="https://web.archive.org/web/*/https://rahul.gopinath.org/post/2021/02/06/earley-parsing/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        
<div>

  

  <article>
    















<p><strong>Important:</strong> <a href="https://pyodide.readthedocs.io/en/latest/">Pyodide</a> takes time to initialize.
Initialization completion is indicated by a red border around <em>Run all</em> button.</p>


<p>The <em>Earley</em> parsing algorithm was invented by Jay Earley <sup id="fnref:earley1970an" role="doc-noteref"><a href="#fn:earley1970an">1</a></sup> in 1970. It
can be used to parse strings that conform to a context-free grammar. The
algorithm uses a chart for parsing ‚Äì that is, it is implemented as a dynamic
program relying on solving simpler sub-problems.</p>

<p>Earley parsers are very appealing for a practitioner because they can use any
context-free grammar for parsing a string, and from the parse forest generated,
one can recover all (even an infinite number) of parse trees that correspond to
the given grammar. Unfortunately, this style of parsing pays for generality by
being slightly expensive. It takes \(O(n^3)\) time to parse in the worst case.
However, if the grammar is unambiguous, it can parse in \(O(n^2)\) time, and
all <a href="https://en.wikipedia.org/wiki/LR_parser">LR(k)</a> grammars in linear time<sup id="fnref:leo1991a" role="doc-noteref"><a href="#fn:leo1991a">2</a></sup>.</p>

<p>This is an implementation of Earley parsing that handles the epsilon case as
given by Aycock et al.<sup id="fnref:aycock2002practical" role="doc-noteref"><a href="#fn:aycock2002practical">3</a></sup> as well as Leo‚Äôs optimizations<sup id="fnref:leo1991a:1" role="doc-noteref"><a href="#fn:leo1991a">2</a></sup>.</p>

<p>For a much more complete implementation and
full recovery of parsing forests using iterative solutions,
see our parsing implementation in the <a href="https://www.fuzzingbook.org/html/Parser.html">fuzzingbook</a>
(See the solved exercises). A very detailed explanation of Earley parsing is
by <a href="https://loup-vaillant.fr/tutorials/earley-parsing/">Loup Vaillant</a>.
Further, a fast industrial strength Earley parser implementation is
<a href="https://jeffreykegler.github.io/Marpa-web-site/">Marpa</a>.</p>

<p>For this post, we use the following terms:</p>

<ul>
  <li>The <em>alphabet</em> is the set all of symbols in the input language. For example,
in this post, we use all ASCII characters as alphabet.</li>
  <li>
    <p>A <em>terminal</em> is a single alphabet symbol. Note that this is slightly different
from usual definitions (done here for ease of parsing). (Usually a terminal is
a contiguous sequence of symbols from the alphabet. However, both kinds of
grammars have a one to one correspondence, and can be converted easily.)</p>

    <p>For example, <code>x</code> is a terminal symbol.</p>
  </li>
  <li>
    <p>A <em>nonterminal</em> is a symbol outside the alphabet whose expansion is <em>defined</em>
in the grammar using <em>rules</em> for expansion.</p>

    <p>For example, <code>&lt;term&gt;</code> is a nonterminal in the below grammar.</p>
  </li>
  <li>
    <p>A <em>rule</em> is a finite sequence of <em>terms</em> (two types of terms: terminals and
nonterminals) that describe an expansion of a given terminal.</p>

    <p>For example, <code>[&lt;term&gt;+&lt;expr&gt;]</code> is one of the expansion rules of the nonterminal <code>&lt;expr&gt;</code>.</p>
  </li>
  <li>
    <p>A <em>definition</em> is a set of <em>rules</em> that describe the expansion of a given nonterminal.</p>

    <p>For example, <code>[[&lt;digit&gt;,&lt;digits&gt;],[&lt;digit&gt;]]</code> is the definition of the nonterminal <code>&lt;digits&gt;</code></p>
  </li>
  <li>
    <p>A <em>context-free grammar</em> is  composed of a set of nonterminals and 
corresponding definitions that define the structure of the nonterminal.</p>

    <p>The grammar given below is an example context-free grammar.</p>
  </li>
  <li>
    <p>A terminal <em>derives</em> a string if the string contains only the symbols in the
terminal. A nonterminal derives a string if the corresponding definition
derives the string. A definition derives the  string if one of the rules in
the definition derives the string. A rule derives a string if the sequence
of terms that make up the rule can derive the string, deriving one substring 
after another contiguously (also called parsing).</p>
  </li>
  <li>A <em>derivation tree</em> is an ordered tree that describes how an input string is
derived by the given start symbol. Also called a <em>parse tree</em>.</li>
  <li>A derivation tree can be collapsed into its string equivalent. Such a string
can be parsed again by the nonterminal at the root node of the derivation
tree such that at least one of the resulting derivation trees would be the
same as the one we started with.</li>
</ul>

<p>As before, we use the <a href="https://www.fuzzingbook.org/">fuzzingbook</a> grammar style.
Here is an example grammar for arithmetic expressions, starting at <code>&lt;start&gt;</code>.
A terminal symbol has exactly one character
(Note that we disallow empty string (<code>''</code>) as a terminal symbol).
Secondly, as per traditional implementations,
there can only be one expansion rule for the <code>&lt;start&gt;</code> symbol. We work around
this restriction by simply constructing as many charts as there are expansion
rules, and returning all parse trees.</p>

<!--
############
grammar = {
    '<start>': [['<expr>']],
    '<expr>': [
        ['<term>', '+', '<expr>'],
        ['<term>', '-', '<expr>'],
        ['<term>']],
    '<term>': [
        ['<fact>', '*', '<term>'],
        ['<fact>', '/', '<term>'],
        ['<fact>']],
    '<fact>': [
        ['<digits>'],
        ['(','<expr>',')']],
    '<digits>': [
        ['<digit>','<digits>'],
        ['<digit>']],
    '<digit>': [["%s" % str(i)] for i in range(10)],
}
START = '<start>'
############
-->

<form name="python_run_form">
<br>
<pre name="python_output"></pre>

</form>

<p>Here is another grammar that targets the same language. Unlike the first
grammar, this grammar produces ambiguous parse results.</p>

<!--
############
a_grammar = {
    '<start>': [['<expr>']],
    '<expr>': [
        ['<expr>', '+', '<expr>'],
        ['<expr>', '-', '<expr>'],
        ['<expr>', '*', '<expr>'],
        ['<expr>', '/', '<expr>'],
        ['(', '<expr>', ')'],
        ['<integer>']],
    '<integer>': [
        ['<digits>']],
    '<digits>': [
        ['<digit>','<digits>'],
        ['<digit>']],
    '<digit>': [["%s" % str(i)] for i in range(10)],
}
############
-->

<form name="python_run_form">
<br>
<pre name="python_output"></pre>

</form>

<h2 id="summary">Summary</h2>

<p>An Earley parser executes the following steps for parsing:</p>

<p>Use <code>&lt;start&gt;</code> as the entry into parsing. At this point, we want to parse the
given string by the nonterminal <code>&lt;start&gt;</code>. The <em>definition</em> of <code>&lt;start&gt;</code>
contains the possible expansion rule that can match the given string. Each
expansion rule can be thought of as a <em>parsing path</em>, with contiguous
substrings of the given input string matched by the particular terms in the
rule.</p>

<ul>
  <li>
    <p>When given a nonterminal to match the string, the essential idea is to
get the rules in the definition, and add them to the current set of
parsing paths to try with the given string. Within the parsing path, we have
a parsed index which denotes the progress of parsing that particular path
(i.e the point till which the string until now has been recognized by that
path, and any parents of this path). When a rule is newly added, this parsed
index is set to zero.</p>
  </li>
  <li>
    <p>We next look at our set of possible parsing paths, and check if any of these
paths start with a nonterminal. If one is found, then for that parsing path to
be completed with the given string, that nonterminal has to be recognized
first. So, we add the expansion rules corresponding to that nonterminal to the
list of possible parsing paths. We do this recursively.</p>
  </li>
  <li>
    <p>Now, examine the current letter in the input. Then select all parsing paths
that have that particular letter at the parsed index. These expressions can
now advance one step to the next index. We add such parsing paths to the
set of parsing paths to try for the next character.</p>
  </li>
  <li>
    <p>While doing this, any parsing paths have finished parsing, fetch its
corresponding nonterminal and advance all parsing paths that have that
nonterminal at the parsing index.</p>
  </li>
  <li>
    <p>Continue recursively until the parsing path corresponding to <code>&lt;start&gt;</code> has
finished.</p>
  </li>
</ul>

<p>The chart parser depends on a chart (a table) for parsing. The columns
correspond to the characters in the input string. Each column represents a set
of <em>states</em>, and corresponds to the legal rules to follow from that point on.</p>

<p>Say we start with the following grammar:</p>

<!--

sample_grammar = {
    '<start>': [['<A>','<B>']],
    '<A>': [['a', '<B>', 'c'], ['a', '<A>']],
    '<B>': [['b', '<C>'], ['<D>']],
    '<C>': [['c']],
    '<D>': [['d']]
}
-->

<form name="python_run_form">
<br>
<pre name="python_output"></pre>

</form>

<p>Earley parser produces a table of possible parse paths at each letter index of
the table. Given an input <code>adcd</code>, we seed the column <code>0</code>  with:</p>



<p>where the <code>|</code> represents the parsing index (also called the dot). This indicates
that we are at the starting, and the next step is to identify <code>&lt;A&gt;</code>. After this
rule is processed, the column would contain two more states</p>

<div><div><pre><code>   &lt;A&gt;: | a &lt;B&gt; &lt;c&gt;
   &lt;A&gt;: | a &lt;A&gt;
</code></pre></div></div>
<p>which represents two parsing paths to complete <code>&lt;A&gt;</code>.</p>

<p>After processing of column <code>0</code> (which corresponds to input character <code>a</code>), we
would find the following in column <code>1</code> (which corresponds to the input character <code>b</code>)</p>

<div><div><pre><code>   &lt;A&gt;: a | &lt;B&gt; c
   &lt;A&gt;: a | &lt;A&gt;
   &lt;B&gt;: | b &lt;C&gt;
   &lt;B&gt;: | &lt;D&gt;
   &lt;A&gt;: | a &lt;B&gt; c
   &lt;A&gt;: | a &lt;A&gt;
   &lt;D&gt;: | d
</code></pre></div></div>

<p>Similarly, the next column (column <code>2</code> corresponding to <code>d</code>) would contain the following.</p>

<div><div><pre><code>   &lt;D&gt;: | d
   &lt;B&gt;: &lt;D&gt; |
   &lt;A&gt;: a &lt;B&gt; | c
</code></pre></div></div>

<p>Next, column <code>3</code> corresponding to <code>c</code> would contain:</p>
<div><div><pre><code>   &lt;A&gt;: a &lt;B&gt; c |
   &lt;start&gt;: &lt;A&gt; | &lt;B&gt;
   &lt;B&gt;: | &lt;b&gt; &lt;C&gt;
   &lt;B&gt;: | &lt;D&gt;
   &lt;D&gt;: | d
</code></pre></div></div>

<p>Finally, column <code>4</code> (<code>d</code>) would contain this at the end of processing.</p>
<div><div><pre><code>   &lt;D&gt;: d |
   &lt;B&gt;: &lt;D&gt; |
   &lt;start&gt;: &lt;A&gt; &lt;B&gt; |
</code></pre></div></div>

<p>This is how the table or the chart ‚Äì from where the parsing gets its name: chart parsing ‚Äì gets filled.</p>

<h2 id="column">Column</h2>

<p>The column contains a set of states. Each column corresponds
to a character (or a token if tokens are used).
Note that the states in a column corresponds to the parsing expression that will
occur once that character has been read. That is, the first column will
correspond to the parsing expression when no characters have been read.</p>

<p>The column allows for adding states, and checks to prevent duplication of
states. Why do we need to prevent duplication? The problem is left recursion.
We need to detect and curtail left recursion, which is indicated by non-unique
states.</p>

<form name="python_run_form">
<br>
<pre name="python_output"></pre>

</form>

<h2 id="state">State</h2>

<p>A state represents a parsing path (which corresponds to the nonterminal, and the
expansion rule that is being followed) with the current parsed index. 
Each state contains the following:</p>

<ul>
  <li>name: The nonterminal that this rule represents.</li>
  <li>expr: The rule that is being followed</li>
  <li>dot:  The point till which parsing has happened in the rule.</li>
  <li>s_col: The starting point for this rule.</li>
  <li>e_col: The ending point for this rule.</li>
</ul>

<form name="python_run_form">
<br>
<pre name="python_output"></pre>

</form>

<p>The convenience methods <code>finished()</code>, <code>advance()</code> and <code>at_dot()</code> should be
self explanatory. For example,</p>

<!--
############
nt_name = '<B>'
nt_expr = tuple(sample_grammar[nt_name][1])
col_0 = Column(0, None)
a_state = State(nt_name, tuple(nt_expr), 0, col_0)
print(a_state.at_dot())
############
-->

<form name="python_run_form">
<br>
<pre name="python_output"></pre>

</form>

<p>That is, the next symbol to be parsed is <code>&lt;D&gt;</code>, and if we advance it,</p>

<!--
############
b_state = a_state.advance()
print(b_state)
print(b_state.finished())
############
-->

<form name="python_run_form">
<br>
<pre name="python_output"></pre>

</form>

<h2 id="parser">Parser</h2>

<p>We start with a bare minimum interface for a parser. It should allow one
to parse a given text using a given nonterminal (which should be present in
the grammar).</p>

<form name="python_run_form">
<br>
<pre name="python_output"></pre>

</form>

<p>We now initialize the Earley parser, which is a parser.</p>

<form name="python_run_form">
<br>
<pre name="python_output"></pre>

</form>

<h4 id="nullable">Nullable</h4>

<p>Earley parser handles <em>nullable</em> nonterminals separately. A nullable
nonterminal is a nonterminal that can derive an empty string. That is
at least one of the expansion rules must derive an empty string. An
expansion rule derives an empty string if <em>all</em> of the tokens can
derive the empty string. This means no terminal symbols (assuming we
do not have zero width terminal symbols), and all nonterminal symbols
can derive empty string.</p>

<p>In this implementation, we first initialize the list of first level
nullable nonterminals that contain an empty expansion. That is, they
directly derive the empty string.
Next, we remove any expansion rule that contains a token as these
expansion rules will not result in empty strings. Next, we start with
our current list of nullable nonterminals, take one at a time, and
remove them from the current expansion rules. If any expansion rule
becomes empty, the corresponding nonterminal is added to the nullable
nonterminal list. This continues until all nullable nonterminals
are processed.</p></article></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://rahul.gopinath.org/post/2021/02/06/earley-parsing/">https://rahul.gopinath.org/post/2021/02/06/earley-parsing/</a></em></p>]]>
            </description>
            <link>https://rahul.gopinath.org/post/2021/02/06/earley-parsing/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26145856</guid>
            <pubDate>Mon, 15 Feb 2021 18:56:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Teleport vs. AWS Session Manager]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26145401">thread link</a>) | @gk1
<br/>
February 15, 2021 | https://goteleport.com/resources/white-papers/teleport-vs-aws-session-manager/ | <a href="https://web.archive.org/web/*/https://goteleport.com/resources/white-papers/teleport-vs-aws-session-manager/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
      <div>

        
          <p>In this paper, we will provide a brief description of what SSM Session Manager is and how it compares to Teleport privileged access management solution. We‚Äôll compare the significant design and feature differences and the operational overhead of the solutions. Because Session Manager is limited to AWS, we‚Äôll limit the scope of the discussion to that cloud provider. Finally, we have provided a feature matrix of the two solutions.</p>

        


        
        
        

        
      </div>
    </article><p>
    This site uses cookies to improve service. By using this site, you agree to our use of cookies. <a href="https://goteleport.com/privacy/" title="Privacy Policy">More info</a>.

    
  </p></div>]]>
            </description>
            <link>https://goteleport.com/resources/white-papers/teleport-vs-aws-session-manager/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26145401</guid>
            <pubDate>Mon, 15 Feb 2021 18:17:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: JavaScript course for No-code developers]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26145306">thread link</a>) | @matteomosca
<br/>
February 15, 2021 | https://71lines.com/build-bubble-plugins | <a href="https://web.archive.org/web/*/https://71lines.com/build-bubble-plugins">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://71lines.com/build-bubble-plugins</link>
            <guid isPermaLink="false">hacker-news-small-sites-26145306</guid>
            <pubDate>Mon, 15 Feb 2021 18:09:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Third and Up Broadcasts]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26145188">thread link</a>) | @firloop
<br/>
February 15, 2021 | https://computer.rip/2021-02-11%20the%20third%20and%20up%20broadcasts.html | <a href="https://web.archive.org/web/*/https://computer.rip/2021-02-11%20the%20third%20and%20up%20broadcasts.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>


<p>In my RSS reader, I came across the article <a href="https://www.38north.org/2021/02/new-life-for-the-third-network/">New Life for the Third
Network</a> on
the North Korea analysis blog 38 North. I've always been interested in this
system because it is an unusual broadcast technology, and it seems it might
remain relevant as Kim Jong Un has apparently called for the apparently
dilapidated system to be repaired and expanded. What I'm saying is that I don't
just write about obsolete technology, but also foreign policy, apparently.</p>
<p>Anyway, onto the obscure technology. If you're not familiar, the "Third
Broadcast"[1] is a wired radio system installed in at least some cities in
North Korea. Rumors about the system abound, but I will try to stay to facts,
which there are very few of. The system is evidently operated in a similar
fashion to a radio network with central programming produced in Pyongyang with
various slots filled in with programming produced at a regional or local level.
The "receiver" consists of a speaker unit with a volume knob that usually seems
to be plugged into a socket on the wall, but might sometimes be hardwired (or
the plug concealed behind in a recess socket). There is only one channel, so
the volume control is all you need.</p>
<p>Technically, one wonders, what exactly is "wired radio?" Well, there are
various systems that have been referred to as "wired radio" or "wired
broadcast". The term is usually reserved for systems that do not function by
transmitting RF into a coaxial cable, because, well, we usually just call that
cable. Instead, "wired radio" systems usually don't involve "radio" at all but
just directly put the modulated signal onto a wire.</p>
<p>From what little I have been able to figure out, my guess is that North Korea's
example is basically a large-scale 70v audio system. High-voltage audio systems
are fairly common in commercial overhead paging and some sound reinforcement
applications. Basically, the low voltage and high current produced by a
conventional audio amplifier requires a very large-gauge wire to span long
distances without significant loss, and large-gauge wires are expensive. If you
want to install, say, in-ceiling PA speakers throughout a building, you can
save money by using a special paging amplifier which produces a high voltage
and low current.</p>
<p>Typically in these systems the speakers are just normal four or eight ohm
speakers, but each one has a transformer mounted to it that converts the
high-voltage audio to low-voltage at higher current for the speaker coil. You
can also fit the individual speaker with a volume control using a simple
potentiometer, although since paging systems are not usually meant to be
adjusted "on the fly" this isn't especially common, with it being more common
for there to be multiple taps on the amplifier or an internal adjustment knob
so that the installer can do a one-time adjustment for roughly equal loudness
throughout a room [2].</p>
<p>There are a couple of different conventions for these systems, but by far the
most common is 70 volt. For a large-scale system like that in North Korea,
they may use 110 volt, which is also used in some commercial buildings. I'm not
sure how exactly this scales up to a city, do they use yet a higher voltage for
longer distances with neighborhood step-down transformers? In any case,
high-voltage audio is a well understood, commercially available technology
that would be quite consistent with what I've seen of the North Korean system.</p>
<p>That's not to say that I'm sure this is the case. There are other ways of
distributing audio over large areas. The Muzak company, for example, got its
start by distributing background music to clients using a wired network. As I
understand it, the first implementation of Muzak used leased telephone lines
(presumably "toll quality" lines for better audio) to get the sound to each
building, where there was an amplifier to high-voltage audio for the building's
speakers. This was done at a time when recorded music was not common, so the
background music in large stores was sometimes actually a live performance---
just performed elsewhere. North Korea might use a similar arrangement to feed
neighborhood amplifiers.</p>
<p>My assumption that North Korea uses a high-voltage audio system rather than a
low-level signal distribution network is due to the fact that the radios are
only connected to a single socket. They don't seem to require power for
amplification, so the audio must arrive already amplified. I'm not aware of
any good way to do this other than high-voltage audio.</p>
<p>So, is there any other interest I can eek out of high-voltage audio? Of course!
Another common application of high-voltage audio technology, which is basically
just a special case of paging, is audio masking systems. These are typically
used in facilities where sensitive discussions occur in order to prevent
eavesdropping, and vary in sophistication. A therapist's office might use a
simple white noise machine to prevent casual eavesdropping from the waiting
room, while a facility housing corporate or government secrets might use a
wide-area sound masking system intended to be resistant against technical
surveillance. These larger-scale sound masking systems are often essentially
just 70-volt PAs used to broadcast white noise, but the "speaker" designs
tend to be a little more eccentric.</p>
<p>That's because high-end sound masking systems often use transducers coupled
directly to surfaces in order to prevent the capture of audio from the surface
by mechanical or optical means. That means, for example, an audio transducer
adhered to each windowpane which vibrates the windowpane with white noise in a
way that is minimally audible to humans but should be overwhelming to a laser
reflection listening technique. Atlas Sound is a major manufacturer of
these high-end systems and their products run surprisingly cheap on eBay, I
have a TSCM-grade sound masking unit under the bed because I think it helps me
sleep, or at least improves the security of my dreams. They also manufacturer
sound masking speakers intended for use in air ducts, plenum spaces,
transduction to doors and walls, etc. Putting Muzak into such a system might
have an amusing result, as all these untuned surfaces would probably rattle and
resonate in horrifying ways.</p>
<p>A similar wired radio system to North Korea's existed in the Soviet Union,
which might give the impression that wired radio is limited to troubled
Communist states. That's not entirely true, but it is certainly more attractive
to embattled regimes because it has the property of being extremely difficult
to intercept or disrupt (jam) compared to broadcast radio. That said, there
have been other wired radio schemes with little to do with state propaganda.
Well, depending on what you think of the BBC, I suppose.</p>
<p>Indeed, one of the other cases of a "wired radio" technology I am aware of is
the television system in Kingston upon Hull, England. As I understand it, the
mid-sized city of Hull is built on geography that made television reception
extremely uneven---too many hills and gulches for good coverage. In the 1930s,
a company called Broadcast Relay Service operated "piped TV" so that Hull
residents could get their television without struggling with reception. This
might sound like it's just cable television, and conceptually it's about the
same, but the implementation was quite different.</p>
<p>Broadcast Relay, later called Rediffusion, actually used sets of twisted pairs,
one to carry each channel. A specially equipped television had a switch box
that connected a different pair to the CRT depending on which channel you
wanted to watch. This was perhaps technically simpler, but less scalable, than
cable television. The scalability problem would not have been evident at the
time, because there were very few television channels in the UK, very far into
the modern day. My recollection is that a typical Broadcast Relay switch box
supported four channels.</p>
<p>The funny thing is, post-war, Broadcast Relay rebranded as Rediffusion and
went into the radio business---wired radio. They operated an audio-only service
nearly identical to the Third Broadcast, except that homes were connected with
multiple pairs for multiple channels. They expanded into various British
colonies and other UK cities, and transitioned more into the television and
radio rental business... This sounds odd to a US audience, but apparently in
the UK it was very common to rent your television and radio.</p>
<p>Of course, by the '70s these wired services had become uncompetitive with the
improved broadcast technology and Rediffusion went the way of history, trying
out a variety of diversified businesses that never caught on.</p>
<p>I'm not aware of any successful wired radio services in the US for general
public consumption, although I would not be at all surprised to learn of one.
Similar technology was widely used in the US but generally for background music
applications, as in the case of Muzak. Many of these services transitioned over
time to other, less-expensive distribution networks like FM subcarrier,
mailed-out recorded tapes, and satellite. Of course, today, I assume most
background music is done by IP, but I bet there's still at least one chain
that uses a hired satellite transponder to distribute music to their stores.</p>
<p>Earlier in the history of telecom, it was typical for major cities to have
dedicated wiring run to major businesses for all sorts of specific purposes.
Over time, most of these systems moved to leased telephone lines, then to
dialed telephone lines, and onto the internet. This could be viewed as the
long-term component of the trend of "over the top" or OTT services. Today we
talk about telephone and television being OTTd onto internet services, but
post World War II they were basically talking about OTTing background music
and fire detection onto the telephone system.</p>
<p>And perhaps that leads to another topic: in the not too far future, I will talk
about fire telegraphs and their function as perhaps the earliest urban-scale</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://computer.rip/2021-02-11%20the%20third%20and%20up%20broadcasts.html">https://computer.rip/2021-02-11%20the%20third%20and%20up%20broadcasts.html</a></em></p>]]>
            </description>
            <link>https://computer.rip/2021-02-11%20the%20third%20and%20up%20broadcasts.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26145188</guid>
            <pubDate>Mon, 15 Feb 2021 17:57:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Senior engineers reduce risk (2016)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26145055">thread link</a>) | @ali92hm
<br/>
February 15, 2021 | https://ideolalia.com/essays/senior-engineers-reduce-risk.html | <a href="https://web.archive.org/web/*/https://ideolalia.com/essays/senior-engineers-reduce-risk.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

	

	<div>
		<article>
			<p>If you read articles on career development in software, you‚Äôll already know there are many things a senior engineer is not. They are not, for instance, just someone with ten years of experience. They are not just someone who maintains a popular open source project. They are not just someone who wrote the initial prototype for their company‚Äôs flagship product.</p>

<p>Instead, senior engineers possess many disparate skills, the exact composition of which varies from author to author. These laundry lists are <a href="https://www.kitchensoap.com/2012/10/25/on-being-a-senior-engineer/">detailed</a>, <a href="https://frontside.io/blog/2016-07-07-the-conjoined-triangles-of-senior-level-development/">nuanced</a>, and typically leave the reader feeling as if they have a long way to go.</p>

<p>Empirically, though, there are many people who have the title ‚Äúsenior engineer‚Äù who do not possess all these skills. Unless all of them can be explained by title inflation or poor management, this is a serious disconnect with reality. We have to treat these articles as aspirational: a description of the industry as it should be. For someone wanting to make a significant, recognized impact on their company, today, these articles are more distracting than helpful.</p>

<p>Senior engineers reduce risk, in every sense. Often, ‚Äúrisk‚Äù is used to describe technical risk, which is that the software doesn‚Äôt function properly, or is never completed at all. But there are other issues that can prevent the business atop the software from succeeding‚Ää-‚Äärisks around process, or product design, or sales, or the company‚Äôs culture. A senior engineer understands these risks, and mitigates them where possible.</p>

<h3 id="senior-engineers-affect-the-larger-system">senior engineers affect the larger system</h3>

<p>Most startups die because they build the wrong product. The core risks are rarely technical; if no one wants the product, building it well won‚Äôt change the outcome. The most important thing an engineer can do during this time is either speed up the search, or narrow the search space. Building prototypes, gaining domain expertise, and generating metrics all lower the chance the company will run out of money.</p>

<p>Once a company finds product-market fit, the risks change. The product has to work, scale, and easily adapt to anything learned by the customer-facing employees. New users introduce technical risk but, more importantly, new hires introduce risk into the company‚Äôs processes and culture. If the company can‚Äôt make new hires productive, it will collapse under the weight of its payroll.</p>

<p>The software will need to be broken into manageable pieces, or else new engineers will need to hold the entire growing system in their head to be productive. Where before there may have been one engineer who handled ‚Äútalking to customers‚Äù, the planning process may now need to include salespeople. Above all, each new hire dilutes any clarity that existed around what the company values, and what it doesn‚Äôt. Left alone, the company will become whatever people were used to at their last job.</p>

<p>As the company continues to grow, any new project will require collaboration across teams. After a few projects get delayed because of one missing piece, the leadership will start to value predictable results above all else. Processes will be established, recurring ‚Äúsync‚Äù meetings will be scheduled. Variance in productivity, above or below the mean, will be minimized. The largest risk is perceived to be a small component which is never completed, obviating all the other related work. In this environment, a senior engineer is an engineer who works within the processes, and even refines them, to ensure reliable output.</p>

<p>This narrative arc describes the average growing software startup, but no company is exactly average. The precise risks will vary depending on who founded the company, what it does, and who they hire. The senior engineers may reduce risk deliberately, or simply have the right skill set at the right time. A fresh graduate with the right domain expertise can have a huge impact on the larger system without ever understanding it.</p>

<h3 id="senior-engineers-find-leverage">senior engineers find leverage</h3>

<p>Impact can be serendipitous, but the greatest impact comes from a deliberate attempt to effect change with the least effort. If production is unstable, precluding a common failure mode will have a more immediate impact than volunteering for pager duty. If the company is rapidly hiring, improving and standardizing interview practices will have a broader impact than conducting a dozen phone screens every week. If there are any junior engineers, spending an hour to talk over unfamiliar topics will have a longer lasting impact than writing more code.</p>

<p>Where possible, solving the general form of any problem is preferable to solving a single instance. However, this is only possible if the problem space is well understood. Premature abstraction, in code or elsewhere, introduces risk. If the failure modes in production are poorly understood, volunteering for pager duty may be the only way to really help.</p>

<h3 id="senior-engineers-are-storytellers">senior engineers are storytellers</h3>

<p>Most risks, especially where managed effectively, never come to pass. For this reason, it‚Äôs often impossible to tell the difference between real risk and perceived risk. By the same token, it can be difficult to tell the difference between real impact and perceived impact. If a senior engineer identifies a significant risk, they have to be able to concisely explain and prioritize it for a non-expert audience.</p>

<p>Some see this as a form of corporate politics; a skilled storyteller can protect their company from non-existent risks, and be seen as a hero. But the fact that storytelling can be misused doesn‚Äôt make it invalid, just something that should be approached with a critical eye.</p>

<h3 id="senior-engineers-choose-companies-with-the-right-risks">senior engineers choose companies with the right risks</h3>

<p>Every company has different risks, and so every company expects something different from their senior engineers. An engineer who has spent the last five years making small, continuous improvements to the processes in a larger company may not enjoy or even understand the sort of role expected by a three person startup. The expectation that ‚Äúsenior‚Äù is a fungible title is both widespread and harmful, leading to unrealistic expectations from both engineers and companies.</p>

<p>Through trial and error, engineers can identify the sorts of problems they enjoy solving. A senior engineer should find a company which both has those problems, and knows it. Anything else will lead to frustration, and eventually apathy.</p>

<p>Likewise, companies should try to communicate their risks, early and often. If we were to judge by what‚Äôs asked in interviews, most companies believe their only risks are technical, but that‚Äôs absurd. The interviewers know the real problems facing the company, but the polite fiction is that they‚Äôre only temporary, and soon everyone will be able to focus entirely on the algorithms, which are what really matter. Since most companies tell the same story, candidates have to read between the lines to see if there‚Äôs a good fit. Honesty would make things much simpler.</p>

<h3 id="senior-engineers-know-titles-dont-mean-much">senior engineers know titles don‚Äôt mean much</h3>

<p>Without context, knowing someone was a ‚Äúsenior engineer‚Äù tells you almost nothing. Titles can matter a lot in some environments, but in those cases titles are just another tool for reducing risk; if being a senior, or staff, or principal engineer is the only way to make your voice heard, then pursuing those titles is worthwhile. More often, though, it‚Äôs just a distraction.</p>

<hr>

<p>This essay was originally published on <a href="https://medium.com/hackernoon/senior-engineers-reduce-risk-5ab2adc13c97">Medium</a>.</p>


		</article>
	</div>

</div></div>]]>
            </description>
            <link>https://ideolalia.com/essays/senior-engineers-reduce-risk.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26145055</guid>
            <pubDate>Mon, 15 Feb 2021 17:46:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Create TitTok Automation]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26145047">thread link</a>) | @mavier
<br/>
February 15, 2021 | http://beacons.page/tt2nite | <a href="https://web.archive.org/web/*/http://beacons.page/tt2nite">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://beacons.page/tt2nite</link>
            <guid isPermaLink="false">hacker-news-small-sites-26145047</guid>
            <pubDate>Mon, 15 Feb 2021 17:46:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Break into Product Management]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26145038">thread link</a>) | @awaxman11
<br/>
February 15, 2021 | https://blog.awaxman.com/how-to-break-into-product-management | <a href="https://web.archive.org/web/*/https://blog.awaxman.com/how-to-break-into-product-management">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>I frequently get asked about breaking into product management. Instead of continuing to share top-of-mind thoughts on a one-off basis I decided it‚Äôd be worth writing down my thoughts and sharing them more broadly. So here‚Äôs my advice:</p><h2 id="stand-out-from-the-crowd">Stand Out From the Crowd</h2><p>There are a lot of people with general business, marketing, or operations backgrounds trying to break into product management. It‚Äôs helpful to differentiate yourself to stand out from the crowd. Below are some ideas:</p><ul><li>Learn how to code</li><li>Work on a side project <!-- -->[1]</li><li>Create product teardowns of companies you‚Äôre interested in <!-- -->[2]</li><li>Learn how to use Figma, UXPin, Adobe XD, Balsamiq, or Moqups to express product ideas</li><li>Learn how to perform user research and run an informal study for a company you want to work at</li><li>Learn SQL to analyze data</li></ul><p>There are many existing product managers, developers, and designers applying to Product Manager roles, which can make it harder for someone with no directly relevant experience to break into product management. In addition to Product Manager roles, be on the lookout for:</p><ul><li>Entry level ‚ÄúAssociate Product Manager‚Äù roles</li><li>Tangentially related roles at a small company that will let you take on product management responsibilities <!-- -->[3]</li></ul><h2 id="be-honest-with-your-strengths--weaknesses">Be Honest With Your Strengths &amp; Weaknesses</h2><p>Don‚Äôt worry if you don‚Äôt have all the skills ‚Äúneeded‚Äù to be a product manager. Product management can mean a million things depending on team dynamics and company stage.</p><p>There are a myriad of skill sets that can be useful for a product manager: technical background, design chops, being data driven, user research, communication, collaboration, strategic thinking, prioritization, project management, business literacy, etc. I‚Äôve met very few people who are above average in 75%+ of these areas. So don‚Äôt worry if you‚Äôre not an expert in all these areas either! Instead, be honest with your strengths and weaknesses. Both to yourself and to others. It will help make sure there is good alignment between what you‚Äôre good at and what the company needs.</p><p>In addition to being upfront about your strengths and weaknesses, be clear about the areas you‚Äôre actively working on and excited to improve. Humility and eagerness to learn are very positive traits for aspiring PMs ‚Äî or anyone for that matter.</p><h2 id="know-what-youre-getting-yourself-into">Know What You‚Äôre Getting Yourself Into</h2><p>Make sure you‚Äôre excited about product management for the right reasons. I meet a lot of people excited about product management because they envision themselves spending all their time making strategic product decisions, being the one who comes up with all the new ideas, and having authority to make all the calls. However, if you‚Äôre breaking into product management it‚Äôs likely you will be spending a lot of time doing somewhat less appealing work at first (project management, helping out with whatever is needed, etc). Even after your PM career has gotten off the ground, many of the best PMs I know continue to focus on these types of activities throughout their career. Noah Weiss, Head of Search, Learning, &amp; Intelligence at Slack, does a great job of debunking common PM myths in <a href="https://medium.com/@noah_weiss/five-dangerous-myths-about-product-management-d1d852ed02a2" target="_blank" rel="noreferrer">this blog post</a>.</p><p>If you‚Äôre not excited about doing a lot of the grunt work and facilitating other people, product management may not be the right role for you.</p><hr><h2 id="resources">Resources</h2><p>üì£ <strong> Feb 2021 Update</strong></p><p>My top resource recommendation <em>by far</em> is to sign up for <a href="https://www.lennysnewsletter.com/" target="_blank" rel="noreferrer">Lenny Rachitsky‚Äôs Newsletter</a> and join his 3,000+ member product management Slack community.</p><h3 id="-books">üìö Books</h3><ul><li><a href="https://www.amazon.com/Cracking-PM-Interview-Product-Technology/dp/0984782818/ref=asc_df_0984782818/?tag=hyprod-20&amp;linkCode=df0&amp;hvadid=312175933381&amp;hvpos=1o1&amp;hvnetw=g&amp;hvrand=11188392398686243659&amp;hvpone=&amp;hvptwo=&amp;hvqmt=&amp;hvdev=c&amp;hvdvcmdl=&amp;hvlocint=&amp;hvlocphy=9001989&amp;hvtargid=pla-436082204625&amp;psc=1&amp;tag=&amp;ref=&amp;adgrpid=60258871817&amp;hvpone=&amp;hvptwo=&amp;hvadid=312175933381&amp;hvpos=1o1&amp;hvnetw=g&amp;hvrand=11188392398686243659&amp;hvqmt=&amp;hvdev=c&amp;hvdvcmdl=&amp;hvlocint=&amp;hvlocphy=9001989&amp;hvtargid=pla-436082204625" target="_blank" rel="noreferrer">Cracking the PM Interview</a></li><li><a href="https://www.amazon.com/Designing-Products-People-Love-Successful-ebook/dp/B019YN9WFW/ref=sr_1_1?crid=3BCMKY8COCLZ0&amp;keywords=designing+products+people+love&amp;qid=1549830458&amp;s=books&amp;sprefix=products+people+love%252Cstripbooks%252C270&amp;sr=1-1-catcorr" target="_blank" rel="noreferrer">Designing Products People Love</a></li><li><a href="https://www.amazon.com/INSPIRED-Create-Tech-Products-Customers/dp/1119387507/ref=pd_sim_14_5?_encoding=UTF8&amp;pd_rd_i=1119387507&amp;pd_rd_r=3131a720-2d72-11e9-b037-33f16b2f8627&amp;pd_rd_w=p6UFh&amp;pd_rd_wg=Im0gK&amp;pf_rd_p=90485860-83e9-4fd9-b838-b28a9b7fda30&amp;pf_rd_r=FGW6JSQ5M2X1SGX0W00C&amp;psc=1&amp;refRID=FGW6JSQ5M2X1SGX0W00C" target="_blank" rel="noreferrer">Inspired</a></li><li><a href="https://www.amazon.com/Hooked-How-Build-Habit-Forming-Products/dp/1591847788/ref=pd_sim_14_10?_encoding=UTF8&amp;pd_rd_i=1591847788&amp;pd_rd_r=3131a720-2d72-11e9-b037-33f16b2f8627&amp;pd_rd_w=p6UFh&amp;pd_rd_wg=Im0gK&amp;pf_rd_p=90485860-83e9-4fd9-b838-b28a9b7fda30&amp;pf_rd_r=FGW6JSQ5M2X1SGX0W00C&amp;psc=1&amp;refRID=FGW6JSQ5M2X1SGX0W00C" target="_blank" rel="noreferrer">Hooked</a></li><li><a href="https://www.amazon.com/Dont-Make-Think-Revisited-Usability/dp/0321965515/ref=pd_sim_14_38?_encoding=UTF8&amp;pd_rd_i=0321965515&amp;pd_rd_r=3131a720-2d72-11e9-b037-33f16b2f8627&amp;pd_rd_w=p6UFh&amp;pd_rd_wg=Im0gK&amp;pf_rd_p=90485860-83e9-4fd9-b838-b28a9b7fda30&amp;pf_rd_r=FGW6JSQ5M2X1SGX0W00C&amp;psc=1&amp;refRID=FGW6JSQ5M2X1SGX0W00C" target="_blank" rel="noreferrer">Don‚Äôt Make Me Think</a></li><li><a href="https://www.amazon.com/gp/product/0307887898/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0307887898&amp;linkCode=as2&amp;tag=httpstwit071f-20&amp;linkId=6L7BFA3XXURHDWVN" target="_blank" rel="noreferrer">The Lean Startup</a></li><li><a href="https://www.amazon.com/How-Measure-Anything-Intangibles-Business-ebook/dp/B00INUYS2U" target="_blank" rel="noreferrer">How to Measure Anything</a></li></ul><h3 id="-articles">üìù Articles</h3><ul><li><a href="https://a16z.com/2012/06/15/good-product-managerbad-product-manager/" target="_blank" rel="noreferrer">Good Product Manager / Bad Product Manager</a></li><li><a href="https://medium.com/@hemal/the-modern-day-good-product-manager-bad-product-d5b537398e3a" target="_blank" rel="noreferrer">The Modern Day Good Product Manager / Bad Product Manager</a></li><li><a href="https://medium.com/@noah_weiss/10-traits-of-great-pms-a7776cd3d9cd" target="_blank" rel="noreferrer">10 Traits of Great PMs</a></li><li><a href="https://medium.com/@noah_weiss/five-dangerous-myths-about-product-management-d1d852ed02a2" target="_blank" rel="noreferrer">Five Dangerous Myths about Product Management</a></li><li><a href="https://medium.com/all-things-product-management/product-manager-you-are-664d83ee702e" target="_blank" rel="noreferrer">Product Manager You Are‚Ä¶</a></li><li><a href="https://medium.com/pminsider/product-manager-skills-by-seniority-level-a-deep-breakdown-cd0690f76d10?source=user_profile---------7------------------" target="_blank" rel="noreferrer">Product Manager Skills By Seniority Level ‚Äî A Deep Breakdown</a></li><li><a href="https://medium.com/@Bosefina/from-liberal-arts-to-product-management-c4015edfb166?fbclid=IwAR2fM_QlPHXAbA0AgYFDmZN3CIElIJEJ1Umua4-IZRJiVnUAT9aa0hk5Dn8" target="_blank" rel="noreferrer">From Liberal Arts to Product Management</a></li><li><a href="https://firstround.com/review/17-product-managers-who-will-own-the-future-of-nyc-tech-and-the-9-frameworks-theyll-use-to-do-it/%23text_ca9251b1badb41efa55e8b2f9b8280ea" target="_blank" rel="noreferrer">17 Product Managers Who Will Own the Future of NYC Tech ‚Äî and the 9 Frameworks They‚Äôll Use to Do It</a></li><li><a href="https://www.intercom.com/blog/great-product-managers-dont-spend-time-on-solutions/" target="_blank" rel="noreferrer">Great PMs Don‚Äôt Spend Time on Solutions</a></li><li><a href="http://www.sachinrekhi.com/the-best-product-managers-fall-in-love-with-a-problem" target="_blank" rel="noreferrer">The Best Product Managers Fall in Love With a Problem</a></li><li><a href="https://wavelength.asana.com/pyramid-clarity-strategic-alignment/#close" target="_blank" rel="noreferrer">The Pyramid of Clarity</a></li><li><a href="https://blog.crisp.se/2016/01/25/henrikkniberg/making-sense-of-mvp" target="_blank" rel="noreferrer">Making Sense of MVP ‚Äî and Why I Prefer Earliest Testable/Usable/Lovable</a></li><li><a href="https://hackernoon.com/finding-winning-ideas-using-the-confidence-tool-d8f2d8cc2c15" target="_blank" rel="noreferrer">The Tool that Will Help You Choose Better Product Ideas</a></li><li><a href="https://medium.com/@noah_weiss/50-articles-and-books-that-will-make-you-a-great-product-manager-aad5babee2f7" target="_blank" rel="noreferrer">79 Articles and Books that will Make you a Great Product Manager</a></li></ul><h3 id="-people-to-follow">üë©‚Äçüíª People to Follow</h3><ul><li><strong>Lenny Rachitsky</strong>: <a href="https://www.lennysnewsletter.com/" target="_blank" rel="noreferrer">newsletter</a> ¬∑ <a href="https://twitter.com/lennysan" target="_blank" rel="noreferrer">twitter</a></li><li><strong>Shreyas Doshi</strong>: <a href="https://twitter.com/shreyas/status/1303150374124048386" target="_blank" rel="noreferrer">popular posts</a> ¬∑ <a href="https://twitter.com/shreyas" target="_blank" rel="noreferrer">twitter</a></li><li><strong>Kevin Yien</strong>: <a href="https://kevinyien.com/blog.html" target="_blank" rel="noreferrer">blog</a> ¬∑ <a href="https://twitter.com/kevinyien" target="_blank" rel="noreferrer">twitter</a></li><li><strong>Julie Zhou</strong>: <a href="https://medium.com/@joulee" target="_blank" rel="noreferrer">blog</a> ¬∑ <a href="https://twitter.com/joulee" target="_blank" rel="noreferrer">twitter</a></li><li><strong>Jackie Bavaro</strong>: <a href="https://medium.com/@jackiebo" target="_blank" rel="noreferrer">blog</a> ¬∑ <a href="https://twitter.com/jackiebo" target="_blank" rel="noreferrer">twitter</a></li><li><strong>Brandon Chu</strong>: <a href="https://blackboxofpm.com/" target="_blank" rel="noreferrer">blog</a> ¬∑ <a href="https://twitter.com/BrandonMChu" target="_blank" rel="noreferrer">twitter</a></li><li><strong>Brent Tworetzky</strong>: <a href="https://medium.com/@tworetzky" target="_blank" rel="noreferrer">blog</a> ¬∑ <a href="https://twitter.com/tworetzky" target="_blank" rel="noreferrer">twitter</a></li><li><strong>Ken Norton</strong>: <a href="https://medium.com/@kennethn" target="_blank" rel="noreferrer">blog</a> ¬∑ <a href="https://twitter.com/kennethn" target="_blank" rel="noreferrer">twitter</a> <a href="https://www.kennorton.com/newsletter/" target="_blank" rel="noreferrer">newsletter</a></li><li><strong>Noah Weiss</strong>: <a href="https://t.co/vGpMjhSmOm" target="_blank" rel="noreferrer">blog</a> ¬∑ <a href="https://twitter.com/noah_weiss" target="_blank" rel="noreferrer">twitter</a></li><li><strong>Ellen Chisa</strong>: <a href="https://www.ellenchisa.com/writing/" target="_blank" rel="noreferrer">blog</a> ¬∑ <a href="https://twitter.com/ellenchisa" target="_blank" rel="noreferrer">twitter</a></li><li><strong>Sachin Rekhi</strong>: <a href="http://www.sachinrekhi.com/" target="_blank" rel="noreferrer">blog</a> ¬∑ <a href="https://twitter.com/sachinrekhi" target="_blank" rel="noreferrer">twitter</a></li><li><strong>Bo Ren</strong>: <a href="https://medium.com/@Bosefina" target="_blank" rel="noreferrer">blog</a> ¬∑ <a href="https://twitter.com/Bosefina" target="_blank" rel="noreferrer">twitter</a></li></ul><h3 id="-other">üì¢ Other</h3><ul><li><a href="https://www.productmanagerhq.com/weekly-reading/" target="_blank" rel="noreferrer">Product Manager HQ</a></li><li><a href="https://svpg.com/articles/" target="_blank" rel="noreferrer">SVPG</a></li><li><a href="https://www.mindtheproduct.com/" target="_blank" rel="noreferrer">Mind the Product</a></li><li><a href="https://www.intercom.com/blog/product-and-design/" target="_blank" rel="noreferrer">Intercom Blog</a></li><li><a href="https://producthabits.com/" target="_blank" rel="noreferrer">Product Habits</a></li></ul><hr><p>[1]<!-- --> There are more and more tools that allow people to build stuff w/o knowing how to code.</p><p>[2]<!-- --> Check out UserOnboard and Underglass for some teardown inspiration.</p><p>[3]<!-- --> Smaller companies usually have more nebulous roles where people wear many hats. If you take on product management responsibilities you can highlight these when applying to PM positions moving forward. You may also be able to switch into a formal PM role at this company in the future.</p></div></div>]]>
            </description>
            <link>https://blog.awaxman.com/how-to-break-into-product-management</link>
            <guid isPermaLink="false">hacker-news-small-sites-26145038</guid>
            <pubDate>Mon, 15 Feb 2021 17:45:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Big Pharma will claim opioid fines as tax deductions]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26145030">thread link</a>) | @samizdis
<br/>
February 15, 2021 | https://pluralistic.net/2021/02/14/a-fine-is-a-price/#deductible | <a href="https://web.archive.org/web/*/https://pluralistic.net/2021/02/14/a-fine-is-a-price/#deductible">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1877">
	<!-- .entry-header -->

	
	
	<div>
		<p><!--
Tags:
big pharma, opioids, finance, business, corruption,

Summary:
Big Pharma will claim opioid fines as tax-deductions

URL:
https://pluralistic.net/2021/02/14/a-fine-is-a-price/

Title:
Pluralistic: 14 Feb 2021 a-fine-is-a-price

Bullet:
üê©

Separator:
_,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,_

Top Sources:
None

--><br>
<a href="https://pluralistic.net/2021/02/14/a-fine-is-a-price/"><img src="https://i2.wp.com/craphound.com/images/14Feb2021.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/craphound.com/images/14Feb2021.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></a></p>

<ul>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/02/14/a-fine-is-a-price/#deductible">Big Pharma will claim opioid fines as tax-deductions</a>: A fine is a price‚Ä¶the price of doing business.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/02/14/a-fine-is-a-price/#retro">This day in history</a>: 2006
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/02/14/a-fine-is-a-price/#bragsheet">Colophon</a>: Recent publications, upcoming/recent appearances, current writing projects, current reading
</li>
</ul>

<hr>
<p><a name="deductible"></a><br>
<img src="https://i2.wp.com/craphound.com/images/writedowns.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/craphound.com/images/writedowns.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>Say it with me now: a fine is a price. When companies profit from inflicting harm on the rest of us, a fine is just part of the price of doing business.</p>
<p>It's a numbers game: multiply the likelihood of getting caught by the expected fine and divide by the expected profit, and that's how many people you can murder for a buck.</p>
<p>Like the pharma companies, who used opioids to slaughter more Americans than the Vietnam war.</p>
<p>These companies bribed doctors and pharmacists, lied about the science of addiction, lied about the deaths, lied about their products' efficacy, lied about the harm. The corpses piled higher and higher. They made billions. Billions and billions.</p>
<p>Four of the worst culprits ‚Äì Johnson &amp; Johnson, Amerisourcebergen, McKesson and Cardinal Health ‚Äì agreed to pay $26b for the people they killed and the lives they ruined ‚Äì and now they've advised investors that they plan on claiming the fines as tax-deductions.</p>
<p>Literally, a fine is a price ‚Äì the price of doing business, claimable against profits on the companies' annual IRS filings, so that the public subsidizes their extremely profitable murder.</p>
<p><a href="https://www.nakedcapitalism.com/2021/02/beyond-outrageous-big-pharma-using-loophole-to-get-taxpayers-to-fund-billions-in-fines-for-fueling-opioid-crisis.html">https://www.nakedcapitalism.com/2021/02/beyond-outrageous-big-pharma-using-loophole-to-get-taxpayers-to-fund-billions-in-fines-for-fueling-opioid-crisis.html</a></p>
<p>The companies were allowed to take these settlements without admitting wrongdoing. This is a common efficiency measure employed by federal regulators and prosecutors to secure a quick settlement rather than a drawn-out court battle.</p>
<p><a href="https://www.washingtonpost.com/business/2021/02/12/opioid-settlement-tax-refund/?arc404=true">https://www.washingtonpost.com/business/2021/02/12/opioid-settlement-tax-refund/?arc404=true</a></p>
<p>Criminal cases that end with the accused coping a plea aren't unique to corporate murder, of course ‚Äì more than 97% of people indicted for federal crimes plea bargain, proving that prosecutors are either psychic and only indict the guilty, or that the system is rigged.</p>
<p>But it's not just rigged to force everyday people who fall under the law's baleful glare to plead guilty irrespective of the truth ‚Äì it's also rigged to allow giant corporations to walk away from their crimes without admitting their guilt (again, irrespective of the truth).</p>
<p>The lack of culpability is a distinction with a difference. Companies aren't permitted to write off fines, but the pharma giants say this isn't a fine, it's a payout to the victims ‚Äì effectively a charitable donation. Since they committed no crime, it can't be a fine.</p>
<p>It may seem obvious, but when corporate murderers aren't held to account, they get to go on doing their business as if they weren't pariahs.</p>
<p>So the same companies claiming billions in writeoffs for opioid settlements also pulled in billions in tax subsidies under the CARES Act, even as they made billions in profits from that same pandemic. Heads they win, tails we lose.</p>
<p>40% of Americans say they won't, or probably won't, get vaccinated against covid. They often cite outlandish stories about microchips in the vaccines (speaking as a computer scientist, I'd like to study those chips and their antennas and power-supplies, wow!) .</p>
<p>They believe weird tales about sinister plans from Bill Gates.</p>
<p><a href="https://www.pewresearch.org/science/2020/12/03/intent-to-get-a-covid-19-vaccine-rises-to-60-as-confidence-in-research-and-development-process-increases/">https://www.pewresearch.org/science/2020/12/03/intent-to-get-a-covid-19-vaccine-rises-to-60-as-confidence-in-research-and-development-process-increases/</a></p>
<p>These stories don't hold up to scrutiny, and the people who argue for them say obviously outlandish things, and yet the number of people who believe them  is frightening.</p>
<p>Then there's everyone who isn't worried about microchips or Bill Gates, but thinks the pharma companies would cheerfully kill them for a buck with untested, potentially deadly products, and that the regulators we hope will protect us from bad science will turn a blind eye.</p>
<p>While the microchips story is far more outlandish than the mistrust one, both of them share the same epistemological foundation: that the official truth can't be trusted because the process by which it is arrived at has been corrupted by corporate power.</p>
<p>Who can deny this? We know for a fact that the pharma companies conspired to murder us, that their regulators let them do it, and that they got away with fines that totalled less than they earned from their murders, and now they're going to write off their fines.</p>
<p>And it's a fact that Bill Gates has done some pretty sinister stuff in his day, and he got away with it, too ‚Äì his billions originate with the creation of a giant, rapacious monopoly that ruined lives and gouged the public to reward its shareholders, Gates chief among them.</p>
<p>The tale that Gates retired from monopolising and became a cuddly humanitarian doesn't bear up to scrutiny. Sure, some great stuff that comes out of the Gates Foundation, but let's not forget the billions they've funnelled to ending public education:</p>
<p><a href="https://apnews.com/article/92dc914dd97c487a9b9aa4b006909a8c">https://apnews.com/article/92dc914dd97c487a9b9aa4b006909a8c</a></p>
<p>Gates and other billionaire dilettantes turned America's poorest children into guinea pigs for an failed experiment in charter education, while waging war on teachers' unions:</p>
<p><a href="https://www.ineteconomics.org/perspectives/blog/millionaire-driven-education-reform-has-failed-heres-what-works">https://www.ineteconomics.org/perspectives/blog/millionaire-driven-education-reform-has-failed-heres-what-works</a></p>
<p>Gates's extreme ideology of private profit over public benefit played a toxic role in covid vaccine development ‚Äì just not a role that has anything to do with microchips.</p>
<p>Rather, it was the Gates Foundation that arm-twisted Oxford into abandoning its pledge to make its vaccine free for all to produce. Instead, it sold exclusive rights to its publicly funded vaccines to Astrazeneca.</p>
<p><a href="https://khn.org/news/rather-than-give-away-its-covid-vaccine-oxford-makes-a-deal-with-drugmaker/">https://khn.org/news/rather-than-give-away-its-covid-vaccine-oxford-makes-a-deal-with-drugmaker/</a></p>
<p>The Gates Foundation ensured that a giant pharma monopolist would reap billions, and Oxford millions ‚Äì and that the world's poorest nations would lose guaranteed access to locally produced vaccines.</p>
<p>It's irrational to worry about microchips in vaccines, but it's 100% rational to worry that pharma companies will privatize every gain and socialize every loss, even loss of life. From Moderna to Astrazeneca, Big Pharma turns public research into private billions.</p>
<p>And it's irrational to worry that Bill Gates wants to use vaccines to reduce the population or track us with 5G, but it's 100% rational to worry that he is a sociopathic ideologue whose philanthropy exists in part to further his extremist agenda.</p>
<p>Telling people to "trust the science" isn't just flawed because the science is a moving target ‚Äì it's flawed because the science is often corrupted, and even when they corruption comes to light, the penalties are tax-deductible.</p>
<hr>
<p><a name="retro"></a><br>
<img src="https://i0.wp.com/craphound.com/images/wayback-machine-hed-796x416.png?resize=796%2C416&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/wayback-machine-hed-796x416.png?resize=796%2C416&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>#15yrsago Princeton DRM researchers release Sony debacle paper <a href="https://web.archive.org/web/20060222235419/https://itpolicy.princeton.edu/pub/sonydrm-ext.pdf">https://web.archive.org/web/20060222235419/https://itpolicy.princeton.edu/pub/sonydrm-ext.pdf</a></p>
<p>#15yrsago Bruce Sterling on Sony DRM debacle <a href="https://web.archive.org/web/20060523204518/http://www.wired.com/wired/archive/14.02/posts.html?pg=5">https://web.archive.org/web/20060523204518/http://www.wired.com/wired/archive/14.02/posts.html?pg=5</a></p>
<hr>
<p><a name="bragsheet"></a><br>
<img src="https://i1.wp.com/craphound.com/images/colophonimages.jpeg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/colophonimages.jpeg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>Currently writing:</p>
<ul>
<li>My next novel, "The Lost Cause," a post-GND novel about truth and reconciliation. Friday's progress: 514 words (110389 total).
</li>
<li>
<p>A short story, "Jeffty is Five," for The Last Dangerous Visions. Friday's progress: 251 words (5077 total).</p>
</li>
</ul>
<p>Currently reading: Analogia by George Dyson.</p>
<p>Latest podcast: Someone Comes to Town, Someone Leaves Town (part 30) <a href="https://craphound.com/articles/2021/01/31/someone-comes-to-town-someone-leaves-town-part-30/">https://craphound.com/articles/2021/01/31/someone-comes-to-town-someone-leaves-town-part-30/</a><br>
Upcoming appearances:</p>
<ul>
<li>Boskone, 58, Feb 12-15, <a href="https://boskone.org/">https://boskone.org/</a>
</li>
<li>
<p>Technology, Self-Determination, and the Future of the Future (Purdue CERIAS), Feb 17, <a href="https://www.cerias.purdue.edu/news_and_events/events/security_seminar/details/index/2njk1v59j4vdc3supiespncgr6">https://www.cerias.purdue.edu/news_and_events/events/security_seminar/details/index/2njk1v59j4vdc3supiespncgr6</a></p>
</li>
<li>
<p>Keynote, NISO Plus, Feb 22, <a href="https://niso.plus/cory-doctorow-to-keynote-at-niso-plus-2021/">https://niso.plus/cory-doctorow-to-keynote-at-niso-plus-2021/</a></p>
</li>
<li>
<p>Mellon Sawyer Seminar on Contemporary Political Struggle: Social Movements, Social Surveillance, Social Media (with Zeynep Tufekci), Feb 24, <a href="https://ucdavis.zoom.us/webinar/register/WN_I99f4x8WRiKCfKUljVcYPg">https://ucdavis.zoom.us/webinar/register/WN_I99f4x8WRiKCfKUljVcYPg</a></p>
</li>
<li>
<p>World Ethical Data Forum keynote, Mar 17-19, <a href="https://worldethicaldataforum.org/wedf-2020">https://worldethicaldataforum.org/wedf-2020</a></p>
</li>
<li>
<p>Interop: Self-Determination vs Dystopia (FITC), Apr 19-21, <a href="https://fitc.ca/presentation/interop/">https://fitc.ca/presentation/interop/</a></p>
</li>
</ul>
<p>Recent appearances:</p>
<ul>
<li>Chop Shop Economics https://soundcloud.com/chopshopeconomics/unlocked-special-episode-9-cory-doctorow/s-VzUA5S25But
</li>
<li>
<p>Monocle Reads https://monocle.com/radio/shows/meet-the-writers/monocle-reads-87/play/</p>
</li>
<li>
<p>Hedging Bets on the Future (Motherboard Cyber):<br>
<a href="https://play.acast.com/s/cyber/hedgingbetsonthefuturewithauthorcorydoctorow">https://play.acast.com/s/cyber/hedgingbetsonthefuturewithauthorcorydoctorow</a></p>
</li>
</ul>
<p>Latest book:</p>
<ul>
<li>"Attack Surface": The third Little Brother novel, a standalone technothriller for adults. The <em>Washington Post</em> called it "a political cyberthriller, vigorous, bold and savvy about the limits of revolution and resistance." Order signed, personalized copies from Dark Delicacies <a href="https://www.darkdel.com/store/p1840/Available_Now%3A_Attack_Surface.html">https://www.darkdel.com/store/p1840/Available_Now%3A_Attack_Surface.html</a>
</li>
<li>
<p>"How to Destroy Surveillance Capitalism": an anti-monopoly pamphlet analyzing the true harms of surveillance capitalism and proposing a solution. <a href="https://onezero.medium.com/how-to-destroy-surveillance-capitalism-8135e6744d59">https://onezero.medium.com/how-to-destroy-surveillance-capitalism-8135e6744d59</a> (print edition: <a href="https://bookshop.org/books/how-to-destroy-surveillance-capitalism/9781736205907">https://bookshop.org/books/how-to-destroy-surveillance-capitalism/9781736205907</a>)</p>
</li>
<li>
<p>"Little Brother/Homeland": A reissue omnibus edition with a new introduction by Edward Snowden: <a href="https://us.macmillan.com/books/9781250774583">https://us.macmillan.com/books/9781250774583</a>; personalized/signed copies here: <a href="https://www.darkdel.com/store/p1750/July%3A__Little_Brother_%26_Homeland.html">https://www.darkdel.com/store/p1750/July%3A__Little_Brother_%26_Homeland.html</a></p>
</li>
<li>
<p>"Poesy the Monster Slayer" a picture book about monsters, bedtime, gender, and kicking ass. Order here: <a href="https://us.macmillan.com/books/9781626723627">https://us.macmillan.com/books/9781626723627</a>. Get a personalized, signed copy here: <a href="https://www.darkdel.com/store/p1562/_Poesy_the_Monster_Slayer.html">https://www.darkdel.com/store/p1562/_Poesy_the_Monster_Slayer.html</a>.</p>
</li>
</ul>
<hr>
<p><img src="https://i1.wp.com/craphound.com/images/by.svg.png?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/by.svg.png?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>This work licensed under a Creative Commons Attribution 4.0 license. That means you can use it any way you like, including commercially, ‚Ä¶</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pluralistic.net/2021/02/14/a-fine-is-a-price/#deductible">https://pluralistic.net/2021/02/14/a-fine-is-a-price/#deductible</a></em></p>]]>
            </description>
            <link>https://pluralistic.net/2021/02/14/a-fine-is-a-price/#deductible</link>
            <guid isPermaLink="false">hacker-news-small-sites-26145030</guid>
            <pubDate>Mon, 15 Feb 2021 17:45:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[WebAssembly for Ethereum]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26144805">thread link</a>) | @fossislife
<br/>
February 15, 2021 | https://ewasm.readthedocs.io/en/mkdocs/ | <a href="https://web.archive.org/web/*/https://ewasm.readthedocs.io/en/mkdocs/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <div>
          
          <div role="main">
            <div>
              
                
<p>Ethereum WebAssembly is a proposed redesign of the Ethereum smart contract execution layer using a deterministic subset of WebAssembly.</p>
<p>The use of WebAssembly as a format for smart contracts gains a variety of benefits, a few of which are listed below:<br>
- Near-native execution speed for smart contracts <br>
- The possibility to develop smart contracts in many traditional programming languages, such as C, C++, and Rust <br>
- Access to a vast developer community and the toolchain surrounding WebAssembly <br></p>
<p>Ethereum WebAssembly is currently under active development. Please feel free to join the discussion!<br>
<a href="https://gitter.im/ewasm/Lobby"><img alt="Gitter chat" src="https://badges.gitter.im/ewasm.png"></a></p>
              
            </div>
          </div>
          
      
        </div>
      </div></div>]]>
            </description>
            <link>https://ewasm.readthedocs.io/en/mkdocs/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26144805</guid>
            <pubDate>Mon, 15 Feb 2021 17:26:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pen Plotter Heatmaps]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26144698">thread link</a>) | @lwander
<br/>
February 15, 2021 | https://www.larswander.com/posts/plotter-heatmaps.html | <a href="https://web.archive.org/web/*/https://www.larswander.com/posts/plotter-heatmaps.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody" href="#maincontent">
    <p><a aria-describedby="footnote-label" href="#plotter">Pen plots</a> can fail
for a variety of reasons: a pen can run out of ink, paper can be misaligned,
the <a aria-describedby="footnote-label" href="#pen-lift-servo">servo</a>
lifting the pen can break‚Ä¶ but the most nailbiting is watching the plotter
repeatedly cover the same spot in ink until the page tears!</p>

<figure>
  <img src="https://www.larswander.com/assets/images/heatmaps/failed-plot.webp" alt="Plot with torn paper">
  <figcaption>Circled in red you can see where the paper tore while plotting
  this pattern. Bits of ink-laden paper trail the pen's path leaving the tear;
  the result is an ugly plot!</figcaption>
</figure>

<p>It‚Äôs not easy to know when a plot will wind up tearing your paper. In fact,
looking at the <a aria-describedby="footnote-label" href="https://www.larswander.com/posts/rendered-preview">rendered preview</a> for the above plot shows a lot of
closely-drawn lines, but only one spot on the page actually winds up tearing:</p>

<figure>
  <img src="https://www.larswander.com/assets/images/heatmaps/source-plot.webp" alt="Rendered plot showing where paper tore">
  <figcaption>Circled in red is the spot that winds up tearing. But why only
  this spot? There are many places on the page that are completely
  black from the many lines that are rendered, but they don't tear.</figcaption>
</figure>

<p>As you can see, looking at the rendered plot is not enough to know
if it will tear or not. We‚Äôll need some extra tools to point out these
problematic areas.</p>



<p>The first step to solving this problem is simply knowing how many lines are
being drawn over the same point. If we can pinpoint ‚Äúhotspots‚Äù on the plot, we
can guess where a plot will tear.</p>

<p>Since the tip of the pen has a non-zero width, it‚Äôs not as simple as
calculating where the most line segments intersect ‚Äì we also need to account
for line segments that are close to one another as ink can bleed between
strokes.</p>

<p>An imperfect, but totally workable solution is to divide our plot into <a aria-describedby="footnote-label" href="#square-size">1x1mm squares</a>, and
then record the squares each line segment covers.
See an example for a single line segment:</p>

<figure>
  <img src="https://www.larswander.com/assets/images/heatmaps/bresenham.svg" alt="Bresenham line drawing algorithm visualized">
  <figcaption>Depicted: <a href="https://en.wikipedia.org/wiki/Bresenham%27s_line_algorithm">Bresenham's
    line drawing algorithm</a>. Image credit:
    <a href="https://commons.wikimedia.org/wiki/User:Crotalus_horridus">Crotalus
    Horridus</a>.
  </figcaption>
</figure>

<p>This approach of finding the ‚Äúsquares‚Äù (i.e. pixels) that a line crosses
over is similar to what your computer does to render lines onto your computer 
screen.  There‚Äôs <a href="https://en.wikipedia.org/wiki/Line_drawing_algorithm">quite a few
approaches</a>, each
with tradeoffs in accuracy, speed, and simplicity. I found <a href="https://en.wikipedia.org/wiki/Bresenham%27s_line_algorithm">Bresenham‚Äôs
algorithm</a> works
just fine for my purposes.</p>



<p>Once we know how often each individual 1x1mm square is drawn over, we can turn
that information into a <a href="https://en.wikipedia.org/wiki/Heat_map">heatmap</a>.
Rendering the same plot from above using this approach shows us exactly where
the plot tore!</p>

<figure>
  <img src="https://www.larswander.com/assets/images/heatmaps/source-heatmap.webp" alt="Heatmap showing point where paper will tear">
  <figcaption>The color scale goes from blue (no lines) to red (most lines).
  In this case, red corresponds to 74 lines in a single 1x1mm square (see legend
  in the bottom left). Notice it lines up exactly with where the plot tore!
  </figcaption>
</figure>



<p>Having these heatmaps has been enough to avoid surprise page tears, but there
are a few ways to take this further that I haven‚Äôt explored yet:</p>

<h2 id="automatically-preventing-page-tears">Automatically preventing page tears</h2>

<p>We could use this heatmap approach to automatically remove line
segments in very crowded parts of the plot. I don‚Äôt know how easy this will be
to do without introducing unintended artifacts, though.</p>

<h2 id="experimenting-with-papers-pens-inks-etc">Experimenting with papers, pens, inks, etc‚Ä¶</h2>

<p>It could be interesting to run some experiments to find out exactly when certain
kinds of paper will tear. I have a hunch that the ink ‚Äúwetness‚Äù on the page
plays a role, meaning factors like ambient humidity, and the time elapsed
between pen strokes over a crowded area wind up factoring into this. These are
quite a few variables to control, and will likely make getting accurate
measurements tricky.</p>

<h2 id="more-accurate-line-drawing">More ‚Äúaccurate‚Äù line drawing</h2>

<p>Bresenham‚Äôs algorithm does not perform any
<a href="https://en.wikipedia.org/wiki/Spatial_anti-aliasing">anti-aliasing</a>, and as a
result we might be misattributing how much a given square is covered by a given
line. However, I haven‚Äôt needed this added accuracy so far.</p>



<p>In practice, I‚Äôve found that any more than 20 lines in a given 1x1mm square
will start to damage most Bristol paper, and over 40 lines is asking for a tear.
These numbers will probably vary from setup-to-setup, so I‚Äôll share what I‚Äôve
been drawing with:</p>

<ul>
  <li>TWSBI Eco Fountain Pens with an EF nib</li>
  <li>Strathmore 300 Series Bristol Vellum Paper</li>
  <li>Pilot Fountain Pen Ink</li>
</ul>

<p>Happy plotting!</p>



  </div></div>]]>
            </description>
            <link>https://www.larswander.com/posts/plotter-heatmaps.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26144698</guid>
            <pubDate>Mon, 15 Feb 2021 17:15:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Ramanujan Machine is an intellectual fraud (2019)]]>
            </title>
            <description>
<![CDATA[
Score 39 | Comments 15 (<a href="https://news.ycombinator.com/item?id=26144665">thread link</a>) | @spekcular
<br/>
February 15, 2021 | https://www.galoisrepresentations.com/2019/07/17/the-ramanujan-machine-is-an-intellectual-fraud/ | <a href="https://web.archive.org/web/*/https://www.galoisrepresentations.com/2019/07/17/the-ramanujan-machine-is-an-intellectual-fraud/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-4282">
					

					<!-- .entry-meta -->

					<div>
						<p><b>Edit (17/02/21)</b> I changed the title of this post which was unnecessarily incendiary.</p>
<p>There‚Äôs a lot that I like about how mathematics operates as a social discipline. We have a great respect for the history of the subject, which in particular includes acknowledging the work that has come before us. In the end, we ultimately agree that it is the mathematics which does the talking. Each of us has our own tastes (of course) and some of us are more prone to be excited about our own work than others, but we are remarkably free from bullshit (about the actual mathematics, at least). This is what all of science should aspire to.</p>
<p>Perhaps this is why I find the self-promotion surrounding the <a href="https://galoisrepresentations.wordpress.com/2019/07/07/en-passant-v/">Ramanujan Machine</a> so distasteful. (I wasn‚Äôt going to bother wasting any more time on this but here I am, last time I promise.) The idea of trying to automate methods for finding identities is an interesting one. But if want to claim that you have found something <i>new</i>, then some justification is required. For a start, you should at least be expected to do a cursory search of the literature. Perhaps you should even consult an expert? If the authors had been content to be more modest with their claims, merely explaining that automation was their main goal, and that they were merely <i>hopeful</i> to use these ideas to make new discoveries, I would have had no issue at all with their paper. Of course, nobody would have heard about the paper either. I already complained <a href="https://galoisrepresentations.wordpress.com/2019/07/07/en-passant-v/">last time</a> about the overblown rhetoric, but since then, my interactions with one of the authors indicated that the rot lies deeper still.</p>
<p>The author in question seemed happy (while listening to my previous complaints) to indicate that the novelty is not in producing new mathematics but in automatically generating formulas ‚Äúwithout knowing Gauss‚Äô work‚Äù. As I indicated above, that‚Äôs a reasonable and modest claim. But then, the same author will tweet out to the world the false claim that his program has discovered new and amazing mathematical conjectures. (A rather curious set of tweets to <a href="https://twitter.com/elonmusk">@elonmusk</a> <a href="https://twitter.com/yurimilner?lang=en">@yurimilner</a> <a href="https://twitter.com/stephen_wolfram">@stephen_wolfram</a> <a href="https://twitter.com/RHDijkgraaf">@RHDijkgraaf</a>; is the common thread people who have access to money that can be spent on math?)  Don‚Äôt imagine for a minute that this is not a deliberate and conscious decision: the <a href="https://phys.org/news/2019-07-ramanujan-machine-automatically-conjectures-fundamental.html">press</a> <a href="https://www.newscientist.com/article/2209213-computer-attempts-to-replicate-the-dream-like-maths-of-ramanujan/">stories</a> generated about ‚Äúautomating the insight of Ramanujan‚Äù don‚Äôt happen on their own ‚Äî they need the hook of ‚Äúexciting conjectures‚Äù to be ‚Äúnewsworthy‚Äù and this is exactly what has been peddled via a concerted publicity campaign. The best way to describe this entire story is as follows: this is what happens when you import <b>startup culture</b> into mathematics. Maybe such Janus-faced interactions are commonplace in Silicon Valley where qualifiers are merely a distraction from a good sales pitch. But it‚Äôs an utterly abhorrent mindset that I think mathematicians must strive to banish at all costs. In particular, the choice to deliberately obscure the fact that the program has generated (as yet) <i>nothing considered remotely new by an expert</i> while simultaneously boasting of a triumph in automating intuition is  absurd; Ramanujan would roll over in his grave.</p>
<p><b>Caveats:</b> The paper has a number of young authors who I consider completely blameless. The possibility of redemption still awaits in the next version of the paper. </p>
<p><b>Random Continued Fraction: </b>I give you one of the author‚Äôs lastest tweets, in which one of their amazing conjectures has been generalized! (By a 15 year old apparently, well done to him, I hope he doesn‚Äôt waste any more time on this). I‚Äôll spare you the <a href="https://twitter.com/yaronhadad/status/1150767039621062656?s=20">amazing gif</a> animation that builds up to this final climax:</p>
<p><a href="https://box2106.temp.domains/~galoisre///wp-content/uploads/2019/07/screen-shot-2019-07-16-at-2.41.59-pm.png"><img loading="lazy" src="https://box2106.temp.domains/~galoisre///wp-content/uploads/2019/07/screen-shot-2019-07-16-at-2.41.59-pm.png?w=300" alt="" width="495" height="371" srcset="https://www.galoisrepresentations.com/wp-content/uploads/2019/07/screen-shot-2019-07-16-at-2.41.59-pm.png 1086w, https://www.galoisrepresentations.com/wp-content/uploads/2019/07/screen-shot-2019-07-16-at-2.41.59-pm-300x225.png 300w, https://www.galoisrepresentations.com/wp-content/uploads/2019/07/screen-shot-2019-07-16-at-2.41.59-pm-768x577.png 768w, https://www.galoisrepresentations.com/wp-content/uploads/2019/07/screen-shot-2019-07-16-at-2.41.59-pm-1024x769.png 1024w" sizes="(max-width: 495px) 100vw, 495px"></a></p>
<p>Well ‚Ä¶ OK I guess? But, pretty much exactly as pointed out last time, not only is the proof only one line, but the nature of the proof makes clear exactly how unoriginal this is to mathematics:</p>
<p><a href="https://box2106.temp.domains/~galoisre///wp-content/uploads/2019/07/latestproof.png"><img loading="lazy" src="https://box2106.temp.domains/~galoisre///wp-content/uploads/2019/07/latestproof.png?w=300" alt="" width="615" height="201" srcset="https://www.galoisrepresentations.com/wp-content/uploads/2019/07/latestproof.png 1484w, https://www.galoisrepresentations.com/wp-content/uploads/2019/07/latestproof-300x98.png 300w, https://www.galoisrepresentations.com/wp-content/uploads/2019/07/latestproof-768x250.png 768w, https://www.galoisrepresentations.com/wp-content/uploads/2019/07/latestproof-1024x334.png 1024w" sizes="(max-width: 615px) 100vw, 615px"></a></p>
<p>(There is actually something vaguely interesting about how certain specializations of complicated identities are harder to prove than the original identities, but that is only tangentially relevant to this post.)</p>
											</div><!-- .entry-content -->

		
						<div><p>
							This entry was posted in <a href="https://www.galoisrepresentations.com/category/mathematics/" rel="category tag">Mathematics</a>, <a href="https://www.galoisrepresentations.com/category/rant/" rel="category tag">Rant</a> and tagged <a href="https://www.galoisrepresentations.com/tag/continued-fractions/" rel="tag">Continued Fractions</a>, <a href="https://www.galoisrepresentations.com/tag/de-fractionibus-continuis-observationes/" rel="tag">De fractionibus continuis observationes</a>, <a href="https://www.galoisrepresentations.com/tag/elon-musk/" rel="tag">Elon Musk</a>, <a href="https://www.galoisrepresentations.com/tag/euler/" rel="tag">Euler</a>, <a href="https://www.galoisrepresentations.com/tag/gauss/" rel="tag">Gauss</a>, <a href="https://www.galoisrepresentations.com/tag/intellectual-fraud/" rel="tag">Intellectual Fraud</a>, <a href="https://www.galoisrepresentations.com/tag/ramanujan/" rel="tag">Ramanujan</a>, <a href="https://www.galoisrepresentations.com/tag/robert-dijkgraaf/" rel="tag">Robert Dijkgraaf</a>, <a href="https://www.galoisrepresentations.com/tag/startup-culture/" rel="tag">startup culture</a>, <a href="https://www.galoisrepresentations.com/tag/stephen-wolfram/" rel="tag">Stephen Wolfram</a>, <a href="https://www.galoisrepresentations.com/tag/twitter/" rel="tag">twitter</a>, <a href="https://www.galoisrepresentations.com/tag/yuri-milner/" rel="tag">Yuri Milner</a>. Bookmark the <a href="https://www.galoisrepresentations.com/2019/07/17/the-ramanujan-machine-is-an-intellectual-fraud/" title="Permalink to The Ramanujan Machine is all hype" rel="bookmark">permalink</a>.													</p></div><!-- .entry-utility -->
					</div></div>]]>
            </description>
            <link>https://www.galoisrepresentations.com/2019/07/17/the-ramanujan-machine-is-an-intellectual-fraud/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26144665</guid>
            <pubDate>Mon, 15 Feb 2021 17:12:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Dateadder ‚Äì calculate tomorrow in a week on any platform that runs Go]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 4 (<a href="https://news.ycombinator.com/item?id=26144657">thread link</a>) | @rhabarba
<br/>
February 15, 2021 | https://code.rosaelefanten.org/dateadder | <a href="https://web.archive.org/web/*/https://code.rosaelefanten.org/dateadder">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div>

<p><strong>Examples:</strong></p>

<pre><code>% dateadder "tomorrow in a week"
% dateadder "plus five days‚Äú
% dateadder ‚Äú2021/01/01 + 4 years‚Äú
</code></pre>

<p>In theory, they should all display the correct result.</p>

</div>



</div><p>
This page was generated in about
0.006s by
Fossil 2.14 [487776dc45] 2021-01-20 15:34:40
</p></div>]]>
            </description>
            <link>https://code.rosaelefanten.org/dateadder</link>
            <guid isPermaLink="false">hacker-news-small-sites-26144657</guid>
            <pubDate>Mon, 15 Feb 2021 17:11:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tianwen-1 plane change manoeuvre]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26144646">thread link</a>) | @parsecs
<br/>
February 15, 2021 | https://destevez.net/2021/02/tianwen-1-plane-change-manoeuvre/ | <a href="https://web.archive.org/web/*/https://destevez.net/2021/02/tianwen-1-plane-change-manoeuvre/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-9737">

	

	<div>
		
<p>Today at 9:00 UTC Tianwen-1 made its plane change manoeuvre, as <a href="http://www.xinhuanet.com/english/2021-02/15/c_139744513.htm">reported by Xinhua</a>. Yesterday I showed my <a href="https://destevez.net/2021/02/tianwen-1-plane-change-planning/" data-type="post" data-id="9660">planning for this manoeuvre</a>. Shortly after the spacecraft returned to the high gain antenna after the manoeuvre, the <a href="https://amsat-dl.org/en/20-meter-antenna/">Bochum 20m antenna</a> operated by <a href="https://amsat-dl.org/">AMSAT-DL</a> received state vectors with the new trajectory. These state vectors allow us to calculate the timestamp of the burn and the delta-V vector, as I have done in other occasions. It is convenient to remark that the state vectors that we are seeing right now are probably a prediction. In the next few days we will see updates in the trajectory as the Chinese DSN measures the effects of the actual burn and updates the onboard ephemerides.</p>



<p>The figure below shows the distances between the pre-burn and post-burn trajectories. Finding the minimum of this curve is the method that I use to find the time of the burn. The minimum is attained at 09:01:05 UTC. Since the burn duration was slightly longer than 2 minutes, the report of the burn start at 09:00 UTC seems quite right.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2021/02/burn_time.png"><img width="644" height="339" src="https://destevez.net/wp-content/uploads/2021/02/burn_time-644x339.png" alt="" srcset="https://destevez.net/wp-content/uploads/2021/02/burn_time-644x339.png 644w, https://destevez.net/wp-content/uploads/2021/02/burn_time-300x158.png 300w, https://destevez.net/wp-content/uploads/2021/02/burn_time.png 736w" sizes="(max-width: 644px) 100vw, 644px"></a></figure>



<p>The delta-V vector was, in Mars body inertial coordinates and m/s,</p>



<pre>[86.471, 28.957, 89.190]</pre>



<p>The magnitude of this vector is 127.556 m/s.</p>



<p>As I remarked in the update at the end of my <a href="https://destevez.net/2021/02/tianwen-1-plane-change-planning/" data-type="post" data-id="9660">previous post</a>, it turns out that we had underestimated the initial fuel of Tianwen-1 by some 900 kg. In that post the plane change took 146 kg of fuel, leaving 45 kg of remaining fuel. Therefore, I have now estimated that the amount of fuel before the plane change was 1100 kg, and that the spacecraft‚Äôs dry mass is 2500 kg. This gives a burn time of 150 seconds with the 3 kN thrusters, and a fuel consumption of 142.7 kg.</p>






<p>To understand the burn better, and compare with my planning calculations, it is useful to consider a reference frame formed by the following vectors: the unit radial vector \(\widehat{r}\), the unit vector \(\widehat{v}_u\) that points along the vector \(v_u\) that is the projection of the velocity \(v\) onto the plane orthogonal to \(r\), and the orbit normal \(n = \widehat{r} \times \widehat{v}_u\).</p>



<p>The velocity before the burn in this frame was</p>



<pre>[23.303, 95.900, 0].</pre>



<p>Note that the first component is the radial velocity \(\|v_r\|\). The delta-V written in this frame was</p>



<pre>[-20.501, -83.515, 94.210].</pre>



<p>This shows that the burn didn‚Äôt happen in the plane orthogonal to \(r\), and in fact most of the radial velocity was cancelled out, thus lowering and advancing in time the apoapsis of the orbit. With the pre-burn orbit, the apoapsis radius was 185153 km, and its time would have been 14:24:17 UTC. With the post-burn orbit, the apoapsis radius is 184930 km, and apoapsis passage was at 09:39:51 UTC, shortly after the burn.</p>



<p>The components of the delta-V in the \(\widehat{v}_u\) and \(n\) coordinates are quite similar to the VNB coordinates that I computed in my planning.</p>



<p>The angular momentum of the pre-burn orbit was 17735 km¬≤/s, and the angular momentum of the post-burn orbit is 17572 km¬≤/s, so it has been reduced by 1% in order to lower the periapsis altitude to 280 km. The angle between the angular momentum vectors, which I denoted by \(\alpha\) in my previous post, is 82.5 degrees, and the inclination of the new orbit is 87.3 degrees. This is very close to the 86.9 degrees given in the mission plan shown in Wikipedia.</p>



<p>The calculations for this post have been done in<a href="https://github.com/daniestevez/jupyter_notebooks/blob/master/Tianwen/Tianwen-1%20plane%20change.ipynb"> this Jupyter notebook</a> and <a href="https://github.com/daniestevez/jupyter_notebooks/blob/master/Tianwen/orbit/plane_change_vectors.script">this GMAT script</a>.</p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

				
</article></div>]]>
            </description>
            <link>https://destevez.net/2021/02/tianwen-1-plane-change-manoeuvre/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26144646</guid>
            <pubDate>Mon, 15 Feb 2021 17:11:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[You may be 2-3T dollar company but people value privacy more than money]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26144269">thread link</a>) | @rustoo
<br/>
February 15, 2021 | https://www.theweek.in/wire-updates/national/2021/02/15/lgd16-sc-2ndld-whatsapp.html | <a href="https://web.archive.org/web/*/https://www.theweek.in/wire-updates/national/2021/02/15/lgd16-sc-2ndld-whatsapp.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
        
				<!-- -->
		
		<section>
			<div>
				<div>
					<div>
						<div>
							<div>
								<div>
<div>

<div>
	<div>
		
		
		
		
		<p><span>
				
				
					
					 PTI
				
			</span>
			<span>February 15, 2021 19:10 IST</span>
		</p>
	</div>
</div></div>

<div><div>
		<div>


<div data-pagination-init="article">

    <p> &nbsp;&nbsp;&nbsp;&nbsp; New Delhi, Feb 15 (PTI) "You may be two-three trillion dollar company but people value their privacy more than the money," the Supreme Court told WhatsApp on Monday as it sought the US-based instant messaging firm's reply on a fresh plea challenging its new policy to share users' data with parent company Facebook and others.<br>&nbsp;&nbsp;&nbsp;&nbsp; It is the duty of the judiciary to protect citizens' privacy, the top court said, asking WhatsApp as also the Centre to file replies on affidavit within four weeks on the plea which alleged that lower standards of privacy are being applied by the firm for Indians in comparison to its European users of the app.<br>&nbsp;&nbsp;&nbsp;&nbsp; WhatsApp told the top court however that Europe has a special law (General Data Protection Regulation) and if such a law is passed by the Parliament then it will follow it.<br>&nbsp;&nbsp;&nbsp;&nbsp; A bench of Chief Justice SA Bobde and Justices AS Bopanna and V Ramasubramanian said, ‚ÄúPeople have grave apprehensions that they will lose their privacy and it is our duty to protect them‚Äù.<br>&nbsp;&nbsp;&nbsp;&nbsp; "You may be two or three trillion dollar company but people value their privacy more than the money. People gave grave concern about their privacy,‚Äù the bench said, adding that ‚Äúthere is apprehension that WhatsApp will share the information and data about their circuit of message with others‚Äù.<br>&nbsp;&nbsp;&nbsp;&nbsp; Solicitor General Tushar Mehta, appearing for the Centre said that it is the concern of the nation and they cannot be allowed to share users‚Äô information with anyone.<br>&nbsp;&nbsp;&nbsp;&nbsp; ‚ÄúThey have to follow the law of the land. They cannot be allowed to share data of users with anyone,‚Äù Mehta.<br>&nbsp;&nbsp;&nbsp;&nbsp; Senior advocate Kapil Sibal, appearing for WhatsApp, said there is no discrimination in the new privacy policy.<br>&nbsp;&nbsp;&nbsp;&nbsp; ‚ÄúThe privacy policy which will be applied in India is same for the whole world except for Europe. In Europe they have a special law. If Parliament passes such law, then it will also follow it,‚Äù Sibal said.<br>&nbsp;&nbsp;&nbsp;&nbsp; The apex court issued notice to the central government and the Facebook-owned app on an interim application filed by Karmanya Singh Sareen in a pending petition of 2017, which has been referred to the Constitution bench. <br>&nbsp;&nbsp;&nbsp;&nbsp; At the outset, senior advocate Shyam Divan, appearing for Sareen and others, argued that the plea has also challenged the new privacy policy of WhatsApp which will come in effect from May 15, 2021.<br>&nbsp;&nbsp;&nbsp;&nbsp; Divan alleged that the app is applying lower standards of privacy for Indians in comparison to European users and they be barred from sharing data with Facebook and others.<br>&nbsp;&nbsp;&nbsp;&nbsp; ‚ÄúThere is a huge difference between privacy policy which is being applied to Indians and to what is applied in Europe. Unlike in India, in Europe they have to take prior consent of users before sharing any data of users. They be directed to apply same standards of privacy to Indians as applied to users in Europe,‚Äù Divan said. <br>&nbsp;&nbsp;&nbsp;&nbsp; He said that till the Centre comes up with new data policy, WhatsApp be restrained from implementing its new policy and direction be issued to the government to ensure that the app comply with all the orders of the court. <br>&nbsp;&nbsp;&nbsp;&nbsp; ‚ÄúWe are impressed by Mr Divan's argument that it was proposed before us (by the Centre) that a data protection law would be brought into force," the bench told Sibal, adding, "Now under this new policy you (WhatsApp) will share data of Indians‚Äù.<br>&nbsp;&nbsp;&nbsp;&nbsp; Senior advocate Arvind Dattar, also appearing for the US firm, and Sibal said that they can swear on affidavit that WhatsApp does not store or share any personal data of users and all these allegations are ‚Äúmisinformation‚Äù. <br>&nbsp;&nbsp;&nbsp;&nbsp; Dattar said the messaging app is complying with the Centre‚Äôs guidelines and this petition under Article 32 of the Constitution is not maintainable. <br>&nbsp;&nbsp;&nbsp;&nbsp; The bench said, ‚ÄúPut on oath all this. We are giving you four weeks to file the affidavit‚Äù. <br>&nbsp;&nbsp;&nbsp;&nbsp; It told Dattar that citizens have great apprehension about loss of their privacy and they think that their data and chats are being shared with others and it has to be looked into. <br>&nbsp;&nbsp;&nbsp;&nbsp; Sibal said that a similar petition challenging the privacy policy of WhatsApp is pending in the Delhi High Court. <br>&nbsp;&nbsp;&nbsp;&nbsp; The bench clarified that it will have to look into the maintainability aspect of that petition and see if the case can be transferred to the top court as the original petition in this case has been pending before the constitution bench. &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp; The petitioner challenged the new privacy policy alleging that there is huge metadata of users which is being shared for profit. <br>&nbsp;&nbsp;&nbsp;&nbsp; As per the new privacy policy which was earlier scheduled to come in effect from February 8 but later deadline was extended to May 15, WhatsApp will share user information internally within the Facebook Companies and externally with partners and service providers.<br>&nbsp;&nbsp;&nbsp;&nbsp; The top court had in 2017 referred the WhatsApp's privacy policy issue which came into effect after its merger of with the Facebook to a Constitution bench saying it concerns the larger issue of privacy and right to personal liberty. <br>&nbsp;&nbsp;&nbsp;&nbsp; The appeal filed in the apex court by Sareen and Shreya Sethi had assailed the Delhi High Court verdict on the ground that no relief was granted on sharing of users data post-September, 2016 by the WhatsApp, and it amounted to an infringement of fundamental rights under Article 19 (Freedom of Speech and Expression) and 21 (Right to Life) of the Constitution. PTI&nbsp;MNL PKS SJK  SA</p>
</div>
</div>
</div>
</div>
<div><div>
		<div>


<div data-pagination-init="article">

    <p><i>(This story has not been edited by THE WEEK and is auto-generated from PTI)</i></p>
</div>
</div>
</div>
</div>

</div>
							</div>
							
						</div>	
					</div>
				</div>
			</div>
		</section>
	</div></div>]]>
            </description>
            <link>https://www.theweek.in/wire-updates/national/2021/02/15/lgd16-sc-2ndld-whatsapp.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26144269</guid>
            <pubDate>Mon, 15 Feb 2021 16:36:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What Is Self-Regulated Learning?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26144266">thread link</a>) | @durmonski
<br/>
February 15, 2021 | https://durmonski.com/self-improvement/what-is-self-regulated-learning/ | <a href="https://web.archive.org/web/*/https://durmonski.com/self-improvement/what-is-self-regulated-learning/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
																					<div>
																										<p><span>Last updated:</span><time datetime="2021-02-15T16:35:29+00:00">15/02/2021</time></p>
<p><em>After I finished school in 2007 and later graduated from high school in 2012, I thought it was all over. I kind of swore that I‚Äôd never touch a textbook again. ‚ÄúWelcome world,‚Äù I said, ‚ÄúI‚Äôm ready and now I know everything!‚Äù Boy was I wrong. I learned the hard way that our complex and rapidly changing world increasingly demands adopting new skills. And what I‚Äôve accumulated as knowledge during my time behind the desk was not even close to what was happening in the real world.</em> <em>Learning, not simply during the years associated with formal schooling, but across the lifespan seemed a must.</em></p>



<p>Mark Twain famously said, ‚ÄúI have never let my schooling interfere with my education.‚Äù More than 100 years later, that‚Äôs still the case ‚Äì or at least it should be. We should not, let the material we study now, or years ago when we were in school, satisfy our appetite and our thirst for knowledge.</p>



<p>In our current setting, it‚Äôs extremely important to educate yourself and regularly expose yourself to various topics that are not covered by your school, and/or job, curricula. Simply digesting what your teacher shares or what your company is doing is not enough to stay afloat. You need a different point of view. Make unusual connections. Look for inspiration in topics that others might call crazy or insane.</p>



<p>If you‚Äôre a student reading this, you probably haven‚Äôt yet discovered that the information shared by your teacher is not enough to help you get a <a href="https://durmonski.com/book-summaries/bullshit-jobs/" target="_blank" aria-label="nice job (opens in a new tab)" rel="noreferrer noopener">nice job</a> or <a href="https://durmonski.com/business/fewer-moving-parts/" target="_blank" aria-label="start a business (opens in a new tab)" rel="noreferrer noopener">start a business</a>. If you have already dealt with the school bureaucracy, fought your way through countless exams and unusually not useful school practices, and you‚Äôre now a proud owner of a Job, congrats! You know how little our school system has given to us. You know, I hope, how little you know and how much is yet to be explored. Especially today, when things constantly change and where, as many modern authors state, ‚Äúchange is the only constant.‚Äù</p>



<p>Our complex and rapidly changing world creates a need, demands a need, for self-initiated and self-managed learning.</p>



<p>If you still don‚Äôt know how little you know, and how much you need to acquire to get a new job, keep your current one, or completely change directions, in this article, I‚Äôm going to share why it‚Äôs so damn important to become master of your own learning process. To become a sophisticated learner. To learn how to learn and to keep doing it till your very last day.</p>







<h2>What Does Self-Regulated Learning Mean?</h2>



<p>Self-regulation in the learning process is commonly related to formal education. We think that becoming better at learning is not for us if we‚Äôre not in school. ‚ÄúI graduated with honors. I don‚Äôt need to get better at learning,‚Äù you might think.</p>



<p>That may be true. I mean, yes, being your teacher‚Äôs favorite student is probably a thought that makes you feel all fuzzy and good. But the information you accumulated in school as I just elegantly pointed out, is not enough ‚Äì it never was ‚Äì to transform you into a blossoming individual.</p>



<p>A self-regulated learner is a person who is aware of what he‚Äôs consuming and actively working towards self-imposed goals to acquire more relevant information. In this case, relevant means things that are closely related to the interests and skills of that person. Or the interests and skills the person wants to acquire. In other words, self-improving, as banal it might sound.</p>



<p>To avoid interpreting what has just been mentioned as something dry and unimaginable, let us give an example:</p>



<p>So, for example, let‚Äôs say that you‚Äôre a professional photographer. You‚Äôre making a living taking pictures. You are good. You have regular clients. Your <a href="https://durmonski.com/private/using-social-media/" target="_blank" aria-label="Instagram (opens in a new tab)" rel="noreferrer noopener">Instagram</a> profile is widely known in your country. Yet, for how long you think this will last?</p>



<p>As stated, things are changing. And they are changing fast. Reportedly, video is becoming more and more popular. In this situation, if you want to get to the next level, you probably need to school yourself on shooting and later editing video. Then, probably, you need to figure out how to properly attune your clip to fit across the newly created social media channels. And then, you need to learn all the growth-hack techniques other online entrepreneurs so enthusiastically share on their profiles. </p>



<p>To put it differently, there is always something new to learn. But this is not always obvious. In most situations, we reach a certain level of expertise and we settle. We get comfortable. And the moment we get too cozy with what we know is the moment others get ahead.</p>



<p>Self-regulation means actively monitoring your learning process. Being mindful about how and from where to obtain, and master, new information. Settings goals and motivating yourself to expand your expertise.</p>



<p>Plainly, continuously asking yourself the following: ‚ÄúIs the thing I‚Äôm reading, watching right now, helping me get better at X?‚Äù</p>







<h2>Why is Self-Regulated Learning Important?</h2>



<p>To make things even more difficult, if we have to go back to the example of the photographer, the simple realization that one needs to learn new things is not enough to make him better. The person also needs to have a good learning process.</p>



<p>Something we‚Äôre not thought in school, sadly.</p>



<p>The school, the system that runs the school, doesn‚Äôt do much to teach us how to actually improve our learning skills. It‚Äôs presumed that we know how to learn and study. The material is handed to us and we are expected to know what to do with it.</p>



<p>Or as stated in a scientific paper about self-regulated learning, ‚ÄúThere is an overwhelming assumption in our educational system that the most important thing to deliver to students is content.‚Äù<span id="easy-footnote-1-13224"></span><span><a href="#easy-footnote-bottom-1-13224" title="Self-Regulated Learning: Beliefs, Techniques, and Illusions &amp;#8211; <a href=&quot;https://www.annualreviews.org/doi/abs/10.1146/annurev-psych-113011-143823&quot; target=&quot;_blank&quot; aria-label=&quot; (opens in a new tab)&quot; rel=&quot;noreferrer noopener&quot; class=&quot;ek-link&quot;>Annual Reviews</a>."><sup>1</sup></a></span></p>



<p>Besides sharing what is supposedly thought from teachers as great content, there is also a need to organize and remember that content. And today, in the 21st century, there is also the need to find great content. Since there is so much stuff out there, you need to know how to adequately sort the good from the clickbait-y.</p>



<p>Regrettably, schools are not actively teaching us about these things. We‚Äôre given a lecture. A paper with resources. Commonly also some sort of assignment. And that‚Äôs it. We need to figure how to best connect the pieces. But that‚Äôs not the worst of it. We‚Äôre also not though that these things also need to happen outside school premises ‚Äì when we now have jobs and families. That after there is no longer a teacher who is monitoring your assignments and actually imposing them on you, that you should take his role and set assignments for yourself.</p>



<p>When we don‚Äôt know any of these things, they end in the graph unknown unknowns.<span id="easy-footnote-2-13224"></span><span><a href="#easy-footnote-bottom-2-13224" title="There are known knowns &amp;#8211; <a href=&quot;https://en.wikipedia.org/wiki/There_are_known_knowns&quot; target=&quot;_blank&quot; aria-label=&quot; (opens in a new tab)&quot; rel=&quot;noreferrer noopener&quot; class=&quot;ek-link&quot;>WIKI</a>."><sup>2</sup></a></span> Or in other words, things we don‚Äôt know exist. Hence, we don‚Äôt do them. And since we don‚Äôt do them, we never get better at what we do.</p>



<p>Self-regulating your learning process involves creating your own curriculum ‚Äì being both the teacher and the student. This involves seriously considering what you want to learn and how you need to approach this subject.</p>







<h2>What Are The Self-Regulated Learning Fundamentals?</h2>



<p>Intuitively, high-achievers know how to approach learning. Or they simply found the best way for them after years of trial and error. Others, in contrast, simply go with the flow and do the most obvious exercise when trying to learn something new: they consume the information in front of them, never actually looking for resources on their own, and hope that some of the facts will stick.</p>



<p>These are not the best strategies, though.</p>



<p>The point of becoming sophisticated as a learner requires knowing how to manage your own learning activities.</p>



<p>It requires planning and the process is guided by metacognition (thinking about thinking). Or in our case, thinking about how to learn better.</p>



<figure><img width="1024" height="512" src="https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-1024x512.jpg" alt="thinking about how to learn better" srcset="https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-1024x512.jpg 1024w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-300x150.jpg 300w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-770x385.jpg 770w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-1536x768.jpg 1536w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-566x283.jpg 566w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-1151x575.jpg 1151w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-1481x740.jpg 1481w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-274x137.jpg 274w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-751x376.jpg 751w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-1381x691.jpg 1381w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-150x75.jpg 150w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better.jpg 2000w" sizes="(max-width: 1024px) 100vw, 1024px" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201024%20512'%3E%3C/svg%3E" data-lazy-srcset="https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-1024x512.jpg 1024w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-300x150.jpg 300w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-770x385.jpg 770w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-1536x768.jpg 1536w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-566x283.jpg 566w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-1151x575.jpg 1151w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-1481x740.jpg 1481w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-274x137.jpg 274w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-751x376.jpg 751w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-1381x691.jpg 1381w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-150x75.jpg 150w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better.jpg 2000w" data-lazy-src="https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-1024x512.jpg"><figcaption>Learning new things is very useful, of course, but the danger is that the act of soaking up new facts without first setting up a process can become a time-wasting activity.</figcaption></figure>







<p>This is a deliberate thought process that one must consider before actually approaching anything new. In simple words, this means that you don‚Äôt just open Google and start endlessly browsing articles. You first ask yourself: ‚ÄúWhat do I want to learn?; Why do I want to learn this?‚Äù You set expectations and goals. You consider your weaknesses in the learning process and find resources that are most likely to appeal to your persona.</p>



<p>Instead of relying on the algorithms to show you great content, you approach things strategically ‚Äì you search for great content based on your goal.</p>



<p>Here are the fundamentals to create your own learning process:</p>



<ul><li><strong>Establish a plan and find resources</strong>: The first requirement, sort to say, is asking yourself what do you want to learn and why. Then, figure out what sources you‚Äôll use, and how you‚Äôll find them, to learn the desired thing. And finally, set a learning schedule and form a plan that will help you along the way.</li><li><strong>Monitoring and maintenance of knowledge</strong>: This is often overlooked. You can‚Äôt expect to remember everything from your first attempt. You should monitor yourself and find gaps in your skills ‚Äì your processes. Then, find new ways to approach things that are hard for you to understand. Additionally, since often learning something new requires retention of certain facts, writing down the most important things is also a must.</li><li><strong>Self-reflection and adapting</strong>: Getting a good grade in school feels awesome. Launching a product and making sales is amazing. But these things are just outcomes. Often, the results we get are a lot of times based on luck, not always dependent on what we did. That‚Äôs why it‚Äôs far more important to reflect on what you think you did that get you these results and why.</li></ul>



<p>Now, once we have the fundamentals, let‚Äôs expand this further‚Ä¶</p>







<h2>How to Best Approach Something New?</h2>



<p>To put all of the above into practice, let‚Äôs consider another following example:</p>



<p>You just graduated from school. And while you are relieved, ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://durmonski.com/self-improvement/what-is-self-regulated-learning/">https://durmonski.com/self-improvement/what-is-self-regulated-learning/</a></em></p>]]>
            </description>
            <link>https://durmonski.com/self-improvement/what-is-self-regulated-learning/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26144266</guid>
            <pubDate>Mon, 15 Feb 2021 16:35:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Restrict Outbound Traffic on a Docker Infrastructure]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26144091">thread link</a>) | @fruty
<br/>
February 15, 2021 | https://fruty.io/2021/02/15/how-to-restrict-outbound-traffic-on-a-docker-infrastructure/ | <a href="https://web.archive.org/web/*/https://fruty.io/2021/02/15/how-to-restrict-outbound-traffic-on-a-docker-infrastructure/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>I‚Äôve been in charge for years of various startups critical infrastructures. Usually, I set up pretty simple stuff: a vanilla ubuntu server with ufw (firewall) and docker + docker-compose. I close all ports to incoming connections except 22, 80 and 443. Then I put a docker-compose.yml with the various containers needed for the business applications. It‚Äôs been working great so far.</p>



<p>Recently, I was confronted with a particular challenge: I had to connect to an external API using a 3rd-party wrapper (not written by the API provider nor written by us), that would thus have access to our credentials for this API. If someone ever injected malicious code in that wrapper, how could I prevent it from sniffing our credentials and sending them away? I had always blocked all incoming connections on my servers (except for a few ports) and I thought that it was time to put restrictions on outbound traffic too. The idea is to add an additional layer of security and prevent malicious software from sending stuff away, should it manage to breach other layers of defences and manage to get running somehow on my server.</p>



<p>The first step was obviously to use ufw and do a ‚Äú<em>sudo ufw default deny outgoing</em>‚Äú. Unfortunately, it was not enough:</p>



<ul><li>docker, in order to achieve all its networking black magic, uses iptables and <strong>overrides your firewall</strong></li><li>restricting all outbound traffic is easy but letting through legit outbound connections (for instance, connections to this external API we need) is not easy since most firewalls work with IP addresses but not DNS domain names. This means that to whitelist outbound connections based on domain, you would need to keep up-to-date a list of IP adresses that match with your allowed domains, and refresh your firewall configuration periodically</li></ul>



<p>How could I enforce domain-based restrictions on outbound traffic coming from Docker containers?</p>



<p>After a lot of searching, I was able to hack together a solution. The core ideas:</p>



<ul><li>block all outbound connections on the server with your firewall (ufw). This will not be enforced inside Docker containers but it‚Äôs still useful on the host.</li><li>in your docker-compose.yml, put the docker containers in an internal restricted network, so that they have no access to the internet</li><li>for each allowed domain you want to be able to connect to from inside a docker container, add a nginx container in your docker-compose.yml that will act as a proxy for this specific domain, put this container inside the internal restricted docker network AND in a docker network with access to the internet + link it to other containers under the domain name in question + configure nginx so that it forward everything to the domain name in question only</li></ul>



<p><strong>Here is the docker-compose.yml:</strong></p>



<figure><div>
<div id="gist107926963">
    <div>
      <div>
        <div>
  <div id="file-docker-compose-yml">
    

  <div itemprop="text">
      
<table data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-docker-compose-yml-L1" data-line-number="1"></td>
        <td id="file-docker-compose-yml-LC1"><span>version</span>: <span><span>'</span>3<span>'</span></span></td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L2" data-line-number="2"></td>
        <td id="file-docker-compose-yml-LC2"><span>services</span>:</td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L3" data-line-number="3"></td>
        <td id="file-docker-compose-yml-LC3">
</td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L4" data-line-number="4"></td>
        <td id="file-docker-compose-yml-LC4">  <span>nginx-proxy-google</span>:</td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L5" data-line-number="5"></td>
        <td id="file-docker-compose-yml-LC5">    <span>networks</span>:</td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L6" data-line-number="6"></td>
        <td id="file-docker-compose-yml-LC6">      ‚Äì <span>no-internet</span></td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L7" data-line-number="7"></td>
        <td id="file-docker-compose-yml-LC7">      ‚Äì <span>internet</span></td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L8" data-line-number="8"></td>
        <td id="file-docker-compose-yml-LC8">    <span>image</span>: <span>nginx:stable</span></td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L9" data-line-number="9"></td>
        <td id="file-docker-compose-yml-LC9">    <span>volumes</span>:</td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L10" data-line-number="10"></td>
        <td id="file-docker-compose-yml-LC10">      ‚Äì <span>./nginx_proxy_google.conf:/etc/nginx/nginx.conf</span></td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L11" data-line-number="11"></td>
        <td id="file-docker-compose-yml-LC11">      ‚Äì <span>./ssl-conf:/etc/nginx/ssl-conf</span></td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L12" data-line-number="12"></td>
        <td id="file-docker-compose-yml-LC12">    <span>restart</span>: <span>always</span></td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L13" data-line-number="13"></td>
        <td id="file-docker-compose-yml-LC13">
</td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L14" data-line-number="14"></td>
        <td id="file-docker-compose-yml-LC14">
</td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L15" data-line-number="15"></td>
        <td id="file-docker-compose-yml-LC15"><span><span>#</span>#### Protected section</span></td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L16" data-line-number="16"></td>
        <td id="file-docker-compose-yml-LC16">
</td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L17" data-line-number="17"></td>
        <td id="file-docker-compose-yml-LC17">  <span>protected-container</span>:</td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L18" data-line-number="18"></td>
        <td id="file-docker-compose-yml-LC18">    <span>networks</span>:</td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L19" data-line-number="19"></td>
        <td id="file-docker-compose-yml-LC19">      ‚Äì <span>no-internet</span></td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L20" data-line-number="20"></td>
        <td id="file-docker-compose-yml-LC20">    <span>links</span>:</td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L21" data-line-number="21"></td>
        <td id="file-docker-compose-yml-LC21">      ‚Äì <span>nginx-proxy-google:google.com</span></td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L22" data-line-number="22"></td>
        <td id="file-docker-compose-yml-LC22">    <span>image</span>: <span>nginx:stable</span></td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L23" data-line-number="23"></td>
        <td id="file-docker-compose-yml-LC23">
</td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L24" data-line-number="24"></td>
        <td id="file-docker-compose-yml-LC24"><span>networks</span>:</td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L25" data-line-number="25"></td>
        <td id="file-docker-compose-yml-LC25">  <span>internet</span>: <span>{}</span></td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L26" data-line-number="26"></td>
        <td id="file-docker-compose-yml-LC26">  <span>no-internet</span>:</td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L27" data-line-number="27"></td>
        <td id="file-docker-compose-yml-LC27">    <span>internal</span>: <span>true</span></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      
    </div>
</div>

</div></figure>



<p><strong>Here is the nginx proxy configuration:</strong></p>



<figure><div>
<div id="gist107927021">
    <div>
      <div>
        <div>
  <div id="file-nginx_proxy_google-conf">
    

  <div itemprop="text">
      
<table data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-nginx_proxy_google-conf-L1" data-line-number="1"></td>
        <td id="file-nginx_proxy_google-conf-LC1">
</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L2" data-line-number="2"></td>
        <td id="file-nginx_proxy_google-conf-LC2">user  nginx;</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L3" data-line-number="3"></td>
        <td id="file-nginx_proxy_google-conf-LC3">worker_processes  8;</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L4" data-line-number="4"></td>
        <td id="file-nginx_proxy_google-conf-LC4">
</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L5" data-line-number="5"></td>
        <td id="file-nginx_proxy_google-conf-LC5">error_log  syslog:server=unix:/dev/log warn;</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L6" data-line-number="6"></td>
        <td id="file-nginx_proxy_google-conf-LC6">pid        /var/run/nginx.pid;</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L7" data-line-number="7"></td>
        <td id="file-nginx_proxy_google-conf-LC7">
</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L8" data-line-number="8"></td>
        <td id="file-nginx_proxy_google-conf-LC8">
</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L9" data-line-number="9"></td>
        <td id="file-nginx_proxy_google-conf-LC9">events {</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L10" data-line-number="10"></td>
        <td id="file-nginx_proxy_google-conf-LC10">    worker_connections  1024;</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L11" data-line-number="11"></td>
        <td id="file-nginx_proxy_google-conf-LC11">}</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L12" data-line-number="12"></td>
        <td id="file-nginx_proxy_google-conf-LC12">
</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L13" data-line-number="13"></td>
        <td id="file-nginx_proxy_google-conf-LC13">stream {</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L14" data-line-number="14"></td>
        <td id="file-nginx_proxy_google-conf-LC14">  server {</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L15" data-line-number="15"></td>
        <td id="file-nginx_proxy_google-conf-LC15">    listen     443;</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L16" data-line-number="16"></td>
        <td id="file-nginx_proxy_google-conf-LC16">    proxy_pass google.com:443;</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L17" data-line-number="17"></td>
        <td id="file-nginx_proxy_google-conf-LC17">  }</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L18" data-line-number="18"></td>
        <td id="file-nginx_proxy_google-conf-LC18">  server {</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L19" data-line-number="19"></td>
        <td id="file-nginx_proxy_google-conf-LC19">    listen     80;</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L20" data-line-number="20"></td>
        <td id="file-nginx_proxy_google-conf-LC20">    proxy_pass google.com:80;</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L21" data-line-number="21"></td>
        <td id="file-nginx_proxy_google-conf-LC21">  }</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L22" data-line-number="22"></td>
        <td id="file-nginx_proxy_google-conf-LC22">}</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      
    </div>
</div>

</div></figure>



<p>If you go inside the protected-container, you won‚Äôt have access to the internet. No curl command will work, except for ‚Äúcurl google.com‚Äù. The protected-container is linked to the nginx-proxy-google container, which has access to the internet. Nginx is listening inside this container, and will proxy everything to google.com.</p>



<p>An important point is that if you want to allow multiple domains, you will have to use one nginx proxy container per domain. This is due to the fact that you can‚Äôt really proxy outbound SSL traffic, this would require to have locally a SSL certificate for the external domain which you don‚Äôt own. So we use the nginx ‚Äústream‚Äù block, which performs a pass-through at TCP level, which does not let you inspect traffic and know the destination domain.</p>



<p>With this setup, no outbound connection will be possible on the host, and inside docker containers, only traffic to the allowed domains will be possible.</p>



<p>Here is a working git repository: </p>



<p><a href="https://github.com/francoisruty/fruty_docker-outbound-restriction" target="_blank" rel="noreferrer noopener">https://github.com/francoisruty/fruty_docker-outbound-restriction</a></p>




	</div><div>
			<div>
				<p><img alt="" src="https://2.gravatar.com/avatar/57386e7fc54d8c4cb9fb81897848b0e6?s=80&amp;d=identicon&amp;r=G" height="80" width="80">		</p><!-- .author-avatar -->
		
		<p>
			<h2>Published by <span>Fruty</span></h2>
		</p><!-- .author-heading -->

		<p>
			Thoughts and opinions from a startup CTO passionate about aerospace and computer graphics			<a href="https://fruty.io/author/fruty0/" rel="author">
				View all posts by Fruty			</a>
		</p><!-- .author-bio -->
	</div><!-- .entry-auhtor -->
		<p><strong>Published</strong>
			<time datetime="2021-02-15T16:14:59+00:00">February 15, 2021</time>		</p><!-- .site-posted-on -->
	</div></div>]]>
            </description>
            <link>https://fruty.io/2021/02/15/how-to-restrict-outbound-traffic-on-a-docker-infrastructure/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26144091</guid>
            <pubDate>Mon, 15 Feb 2021 16:17:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[When can the C++ compiler devirtualize a call?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26144069">thread link</a>) | @ingve
<br/>
February 15, 2021 | https://quuxplusone.github.io/blog/2021/02/15/devirtualization/ | <a href="https://web.archive.org/web/*/https://quuxplusone.github.io/blog/2021/02/15/devirtualization/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>Someone recently asked me about devirtualization optimizations: when do they happen?
when can we rely on devirtualization? do different compilers do devirtualization
differently? As usual, this led me down an experimental rabbit-hole. The answer
seems to be: Modern compilers devirtualize calls to <code>final</code> methods pretty reliably.
But there are many interesting corner cases ‚Äî including some I haven‚Äôt thought of,
I‚Äôm sure! ‚Äî and different compilers <em>do</em> catch different subsets of those corner cases.</p>

<p>First, let‚Äôs observe that devirtualization can (probably?) be done <em>more effectively</em> via
<a href="https://quuxplusone.github.io/blog/2019/08/02/the-tough-guide-to-cpp-acronyms/#lto">LTO</a>,
using whole-program analysis. I don‚Äôt know anything about the state of the art in
link-time devirtualization, and it‚Äôs hard to experiment with on Compiler Explorer,
so I‚Äôm not going to talk about LTO at all. We‚Äôre looking purely at what the compiler
itself can do.</p>

<p>There are basically two situations where the compiler knows enough to
devirtualize. They don‚Äôt have much in common:</p>

<h2 id="when-we-know-the-instances-dynamic-type">When we know the instance‚Äôs dynamic type</h2>

<p>The archetypical case here is</p>

<div><div><pre><code>void test() {
    Apple o;
    o.f();
}
</code></pre></div></div>

<p>It doesn‚Äôt matter if <code>Apple::f</code> is virtual; all virtual dispatch ever does is
invoke the method on the actual dynamic type of the object, and here we <em>know</em>
the actual dynamic type is exactly <code>Apple</code>. Static and dynamic dispatch should
give us the same result in this case.</p>

<p>A sufficiently smart compiler will use dataflow analysis to optimize non-trivial
cases such as</p>

<div><div><pre><code>Derived d;
Base *p = &amp;d;
p-&gt;f();
</code></pre></div></div>

<p>It turns out that even this simple dodge is enough to fool MSVC and ICC.
The next test case is</p>

<div><div><pre><code>Derived da, db;
Base *p = cond ? &amp;da : &amp;db;
p-&gt;f();
</code></pre></div></div>

<p>This is too much for Clang, but GCC actually manages to survive it‚Ä¶ until
you move the conversions to <code>Base*</code> inside the conditional! Here is where
even GCC‚Äôs analysis fails (<a href="https://godbolt.org/z/GE7vsE">Godbolt</a>):</p>

<div><div><pre><code>Derived da, db;
Base *p = cond ? (Base*)&amp;da : (Base*)&amp;db;
p-&gt;f();
</code></pre></div></div>

<h2 id="when-we-know-a-proof-of-leafness-for-its-static-type">When we know a ‚Äúproof of leafness‚Äù for its static type</h2>

<p>Okay, let‚Äôs suppose that we‚Äôre receiving a pointer from somewhere else in the
system. We know its static type (e.g. <code>Derived*</code>), but we don‚Äôt know the actual
dynamic type of the object instance to which it points. Still, the compiler can
devirtualize a call to <code>Derived::f</code> if it can somehow prove that no type in the
entire program can ever override <code>Derived::f</code>.</p>

<h3 id="proof-by-final">Proof-by-<code>final</code></h3>

<p>The simplest ‚Äúproof of leafness‚Äù is if you‚Äôve marked <code>Derived</code> as <code>final</code>.</p>

<div><div><pre><code>struct Base {
    virtual int f();
};
struct Derived final : public Base {
    int f() override { return 2; }
};
int test(Derived *p) {
    return p-&gt;f();
}
</code></pre></div></div>

<p>A pointer of type <code>Derived*</code> must point to an object instance that is
‚Äúat least <code>Derived</code>‚Äù ‚Äî i.e., <code>Derived</code> or one of its children.
Since <code>Derived</code> is <code>final</code>, it isn‚Äôt allowed to have children; therefore
the dynamic type of the instance must be exactly <code>Derived</code>, and the compiler
can devirtualize this call.</p>

<p>Or, you can mark the specific method <code>Derived::f</code> as <code>final</code>.</p>

<p>The same analysis should apply no matter whether <code>Derived::f</code> is declared
in <code>Derived</code> itself, or inherited from <code>Base</code>. So for example the compiler
should be equally able to devirtualize</p>

<div><div><pre><code>struct Base {
    virtual int f() { return 1; }
};
struct Derived final : public Base {};
int test(Derived *p) {
    return p-&gt;f();
}
</code></pre></div></div>

<p>GCC, Clang, and MSVC pass this test (<a href="https://godbolt.org/z/MnqoM7">Godbolt</a>, case <code>one</code>); ICC 21.1.9 is fooled.</p>

<p>An utterly bizarre proof-of-leafness is to observe that when class <code>C</code>‚Äôs destructor is
final, <code>C</code> must be childless ‚Äî because if <code>C</code> had a child, the child would
have to have a destructor (since you can‚Äôt make a class without a destructor),
which would then override <code>C</code>‚Äôs destructor, which isn‚Äôt allowed.
Clang actually both warns on final destructors, and optimizes on them.
Every other vendor considers this situation <a href="https://en.wikipedia.org/wiki/The_Colonel_(Monty_Python)">very silly</a>
and doesn‚Äôt dignify it with a codepath as far as I can tell.</p>

<h3 id="proof-by-internal-linkage">Proof-by-internal-linkage</h3>

<p>A class whose name has internal linkage cannot be named outside the current translation unit.
Therefore, it cannot be <em>derived from</em> outside the current translation unit, either!
As long as it has no children in the current TU ‚Äî or at least no children that override its
methods ‚Äî calls to its virtual functions are devirtualizable.</p>

<div><div><pre><code>namespace {
    class BaseImpl : public Base {};
}
int test(Base *p) {
    return static_cast&lt;BaseImpl*&gt;(p)-&gt;f();
}
</code></pre></div></div>

<p>If <code>p</code> really does point to an object instance that is ‚Äúat least <code>BaseImpl</code>,‚Äù
then the compiler can prove that the instance must be exactly <code>BaseImpl</code>.
(And if <code>p</code> doesn‚Äôt point to an instance that is ‚Äúat least <code>BaseImpl</code>,‚Äù
the program has undefined behavior anyway.)</p>

<p>This strikes me as a case that might actually come up pretty commonly in real codebases.
It‚Äôs common to have a base class exposed publicly in the header file, and then one
or more derived implementations scoped tightly to a single .cpp file. If you
go the extra mile and put those derived implementations into anonymous namespaces,
you might be helping out the compiler‚Äôs devirtualization logic. Of course, by definition,
any such benefit will be limited to that single .cpp file!</p>

<p>Another way a type‚Äôs name can get internal linkage is when it‚Äôs a class template instantiation
where one of the template parameters involves a name with internal linkage. If the name <code>T</code>
has internal linkage, then <code>E&lt;T&gt;</code> also has internal linkage, even if <code>E</code> itself has external
linkage ‚Äî because you can‚Äôt name <code>E&lt;T&gt;</code> without naming <code>T</code>. (Notice that here <code>T</code> must be
a ‚Äútrue name‚Äù; we‚Äôre not talking about type aliases.)</p>

<p>It‚Äôs also possible to make a type whose name has external linkage, but where the
compiler can prove that the type must be incomplete in every other TU. For example,</p>

<div><div><pre><code>namespace {
    class Internal {};
}
class External { Internal m; };
</code></pre></div></div>

<p>Any other TU is allowed to forward-declare <code>class External;</code> as an incomplete type,
but those TUs can‚Äôt ever complete the type because they can‚Äôt name the types of its
data members. You can‚Äôt derive from an incomplete type. So all types derived from <code>External</code>
(if any) must be present in this TU; if there are none here, well, that‚Äôs a proof-of-leafness!
GCC alone detects this situation.</p>

<h2 id="table-of-results">Table of results</h2>

<p><a href="https://godbolt.org/z/GE7vsE">Godbolt for the known-dynamic-type case</a>;
<a href="https://godbolt.org/z/MnqoM7">Godbolt for the proof-of-leafness case</a>.
In the latter, I‚Äôve made separate tests for <code>Derived::f</code>-defined-directly-in-<code>Derived</code>
and <code>Derived::g</code>-inherited-from-<code>Base</code>. GCC frequently gets <code>f</code> right
but fails to devirtualize <code>g</code>.
I‚Äôve filed <a href="https://gcc.gnu.org/bugzilla/show_bug.cgi?id=99093">GCC bug #99093</a> about that.</p>

<table>
  <thead>
    <tr>
      <th>Test case</th>
      <th>Point</th>
      <th>GCC</th>
      <th>Clang</th>
      <th>MSVC</th>
      <th>ICC</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>one</code></td>
      <td>trivial</td>
      <td>‚úì</td>
      <td>‚úì</td>
      <td>‚úì</td>
      <td>‚úì</td>
    </tr>
    <tr>
      <td><code>two</code></td>
      <td>cast to <code>Base*</code></td>
      <td>‚úì</td>
      <td>‚úì</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><code>three</code></td>
      <td>conditional, then cast</td>
      <td>‚úì</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><code>four</code></td>
      <td>cast, then conditional</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
  </tbody>
  <tbody>
    <tr>
      <td><code>one</code></td>
      <td>final class</td>
      <td>‚úì</td>
      <td>‚úì</td>
      <td>‚úì</td>
      <td><code>f</code></td>
    </tr>
    <tr>
      <td><code>two</code></td>
      <td>final method</td>
      <td>‚úì</td>
      <td>‚úì</td>
      <td>‚úì</td>
      <td>‚úì</td>
    </tr>
    <tr>
      <td><code>three</code></td>
      <td>silly final destructor</td>
      <td>&nbsp;</td>
      <td>‚úì</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><code>four</code></td>
      <td>silly old-school trick</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><code>five</code></td>
      <td>I.L. class</td>
      <td><code>f</code></td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><code>six</code></td>
      <td>I.L. template parameter</td>
      <td><code>f</code></td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><code>seven</code></td>
      <td>I.L. base</td>
      <td><code>f</code></td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><code>eight</code></td>
      <td>I.L. member</td>
      <td><code>f</code></td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><code>nine</code></td>
      <td>I.L. with child</td>
      <td><code>f</code></td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><code>ten</code></td>
      <td>local class</td>
      <td><code>f</code></td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
  </tbody>
</table>

<p>Steve Dewhurst taught me <code>four</code>‚Äôs ‚Äúsilly old-school trick‚Äù: Virtual bases
are always constructed in the context of the most-derived class. So,
if class <code>C</code> has a virtual base all of whose constructors are private,
then no child of <code>C</code> will ever be able to construct itself, and therefore
no child of <code>C</code> can exist. (Of course that virtual base will have to list
<code>C</code> among its friends, in order for <code>C</code> itself to be constructible.)
I think this trick is foolproof, and thus constitutes a (very silly)
proof-of-leafness for <code>C</code>; but of course no compiler cares
to trace through this logical tangle, even if it <em>is</em> foolproof.</p>

<hr>

<p>Can you think of some way to construct a ‚Äúproof-of-leafness‚Äù that I‚Äôve missed?
Tell me about it!</p>

  </div></div>]]>
            </description>
            <link>https://quuxplusone.github.io/blog/2021/02/15/devirtualization/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26144069</guid>
            <pubDate>Mon, 15 Feb 2021 16:15:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Fast JSON in Scala 3 with Typeclass Derivation]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26143926">thread link</a>) | @augustnagro
<br/>
February 15, 2021 | https://august.nagro.us/scalajs-native-converter.html | <a href="https://web.archive.org/web/*/https://august.nagro.us/scalajs-native-converter.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
    <nav><h3><a href="https://august.nagro.us/">[home]</a> <a href="https://august.nagro.us/about">[about]</a> <a href="https://august.nagro.us/blog">[blog]</a> <a href="https://august.nagro.us/files/august-nagro-resume.pdf">[resume]</a></h3></nav>

    
    <p>What is the fastest way to parse &amp; serialize JSON in Scala? Could it be <a href="https://github.com/circe/circe">Circe</a>, <a href="https://github.com/suzaku-io/boopickle">BooPickle</a>, <a href="https://github.com/playframework/play-json">Play Json</a>, or maybe <a href="https://github.com/lihaoyi/upickle">uPickle</a>?</p>

<p>What if I told you the fastest Scala JSON library is already on your computer, implemented with native code, and updated regularly with improvements? Yes, I‚Äôm talking about the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON">JSON</a> object in Node.js and your browser. Sorry if you feel tricked! But Scala is a multi-platform language; JavaScript is just as much a Scala runtime as the JVM. <code>JSON</code> is <a href="https://github.com/kostya/benchmarks">among the best performing parsers of ANY language</a>, including vectorized C++ libraries. The best ‚ÄòScala‚Äô (and Java) <a href="https://github.com/ngs-doo/dsl-json">library</a> benchmarked is ‚Äòbuilt for invasive software composition‚Äô, and comes with its own ‚ÄòDSL platform compiler‚Äô. <code>JSON</code> is simply the best.</p>

<p>Ok, so let‚Äôs create a <a href="https://www.scala-js.org/">Scala.js</a> project, write a case class, and serialize it to JSON!</p>

<figure><pre><code data-lang="scala"><span>import</span> <span>scala.scalajs.js.JSON</span>

<span>case</span> <span>class</span> <span>User</span><span>(</span><span>name</span><span>:</span> <span>String</span><span>,</span> <span>isAdmin</span><span>:</span> <span>Boolean</span><span>,</span> <span>age</span><span>:</span> <span>Int</span><span>)</span>

<span>// Compile Error!</span>
<span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>User</span><span>(</span><span>"John Smith"</span><span>,</span> <span>true</span><span>,</span> <span>42</span><span>))</span></code></pre></figure>

<p>Unfortunately for us, <a href="https://www.scala-js.org/api/scalajs-library/latest/scala/scalajs/js/JSON$.html">JSON.stringify</a> takes only native JavaScript parameters, ie, objects inheriting <code>scala.scalajs.js.Any</code>. As specified in the <a href="http://www.scala-js.org/doc/interoperability/sjs-defined-js-classes.html">interoperability guide</a>, we can make a native class by extending js.Object:</p>

<figure><pre><code data-lang="scala"><span>import</span> <span>scala.scalajs.js</span>

<span>// Compile Error!</span>
<span>case</span> <span>class</span> <span>User</span><span>(</span><span>name</span><span>:</span> <span>String</span><span>,</span> <span>isAdmin</span><span>:</span> <span>Boolean</span><span>,</span> <span>age</span><span>:</span> <span>Int</span><span>)</span> <span>extends</span> <span>js</span><span>.</span><span>Object</span></code></pre></figure>

<p>Not again! As the compiler tells us, it is forbidden for case classes to extend js.Object. Why is that? It has to do with the semantic difference between Scala.js objects and native JavaScript objects. When you create an object like <code>User("John Smith", true, 42)</code> for example, it does not automatically become</p>

<figure><pre><code data-lang="javascript"><span>{</span>
  <span>name</span><span>:</span> <span>"</span><span>John Smith</span><span>"</span><span>,</span>
  <span>isAdmin</span><span>:</span> <span>true</span><span>,</span>
  <span>age</span><span>:</span> <span>42</span>
<span>}</span></code></pre></figure>

<p>Instead, after <code>sbt fullLinkJS</code> (which runs the <a href="https://github.com/google/closure-compiler">Google Closure JavaScript Optimizer</a>), the object properties may very well be ‚Äòa‚Äô, ‚Äòb‚Äô, and ‚Äòc‚Äô. Or, the object could be inlined &amp; removed entirely. This feature is why Scala.js‚Äôs <a href="https://www.scala-js.org/doc/internals/performance.html">performance is almost always better than hand-written JavaScript</a>.</p>

<p>It also means that to interop with native JavaScript libraries like <code>JSON</code>, you must give up Scala features like destructuring and pattern matching. Or, create native versions for every class and manually convert:</p>

<figure><pre><code data-lang="scala"><span>import</span> <span>scala.scalajs.js</span>

<span>case</span> <span>class</span> <span>User</span><span>(</span><span>name</span><span>:</span> <span>String</span><span>,</span> <span>isAdmin</span><span>:</span> <span>Boolean</span><span>,</span> <span>age</span><span>:</span> <span>Int</span><span>)</span>
<span>class</span> <span>NativeUser</span><span>(</span><span>val</span> <span>name</span><span>:</span> <span>String</span><span>,</span> <span>val</span> <span>isAdmin</span><span>:</span> <span>Boolean</span><span>,</span> <span>val</span> <span>age</span><span>:</span> <span>Int</span><span>)</span> <span>extends</span> <span>js</span><span>.</span><span>Object</span>

<span>// to JSON</span>
<span>val</span> <span>u</span> <span>=</span> <span>User</span><span>(</span><span>"John Smith"</span><span>,</span> <span>true</span><span>,</span> <span>42</span><span>)</span>
<span>val</span> <span>nativeUser</span> <span>=</span> <span>NativeUser</span><span>(</span><span>u</span><span>.</span><span>name</span><span>,</span> <span>u</span><span>.</span><span>isAdmin</span><span>,</span> <span>u</span><span>.</span><span>age</span><span>)</span>
<span>val</span> <span>json</span><span>:</span> <span>String</span> <span>=</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>nativeUser</span><span>)</span>

<span>// from JSON</span>
<span>val</span> <span>parsedNativeUser</span> <span>=</span> <span>JSON</span><span>.</span><span>parse</span><span>(</span><span>json</span><span>).</span><span>asInstanceOf</span><span>[</span><span>NativeUser</span><span>]</span>
<span>val</span> <span>parsedUser</span> <span>=</span> <span>User</span><span>(</span>
  <span>parsedNativeUser</span><span>.</span><span>name</span><span>,</span>
  <span>parsedNativeUser</span><span>.</span><span>isAdmin</span><span>,</span>
  <span>parsedNativeUser</span><span>.</span><span>age</span>
<span>)</span></code></pre></figure>

<p>I like to be DRY, and <a href="https://dotty.epfl.ch/docs/reference/overview.html">Scala 3</a> gives us the power to achieve this with Typeclass derivation. Take a look:</p>

<figure><pre><code data-lang="scala"><span>import</span> <span>com.augustnagro.nativeconverter.NativeConverter</span>

<span>case</span> <span>class</span> <span>User</span><span>(</span><span>name</span><span>:</span> <span>String</span><span>,</span> <span>isAdmin</span><span>:</span> <span>Boolean</span><span>,</span> <span>age</span><span>:</span> <span>Int</span><span>)</span> <span>derives</span> <span>NativeConverter</span>

<span>// to JSON</span>
<span>val</span> <span>u</span> <span>=</span> <span>User</span><span>(</span><span>"John Smith"</span><span>,</span> <span>true</span><span>,</span> <span>42</span><span>)</span>
<span>val</span> <span>json</span> <span>=</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>u</span><span>.</span><span>toNative</span><span>)</span>

<span>// from JSON</span>
<span>val</span> <span>parsedUser</span> <span>=</span> <span>NativeConverter</span><span>[</span><span>User</span><span>].</span><span>fromNative</span><span>(</span><span>JSON</span><span>.</span><span>parse</span><span>(</span><span>json</span><span>))</span></code></pre></figure>

<p>That‚Äôs it, no manual conversion necessary.</p>

<p>A Typeclass lets you add behavior without inheritance. Instead of extending a class or implementing an interface, you create a Typeclass instance that operates on that type, and pass it around. Typeclasses let you add features to types you don‚Äôt control, aka <a href="https://august.nagro.us/retroactive-polymorphism-scala.html">Retroactive Polymorphism</a>.</p>

<p>In Java, defining, instantiating, and passing around Typeclass instances would be inconvenient, so people <code>extend</code> instead. But Scala 3 makes it easy. When you write <code>case class User(..) derives NativeConverter</code>, the scala compiler calls method <code>NativeConverter::derived</code>, which generates a <code>given</code> instance in User‚Äôs companion object. When you summon a NativeConverter for User, either with <code>summon[NativeConverter[User]]</code> or just <code>NativeConverter[User]</code> via the 0-arg <code>apply</code> helper method in <code>NativeConverter</code>, the same instance is returned.</p>

<p>The implementation of NativeConverter is about 400 lines of 0-dependency Scala, and is NOT A MACRO!
Here‚Äôs the contract of the NativeConverter Typeclass:</p>

<figure><pre><code data-lang="scala"><span>trait</span> <span>NativeConverter</span><span>[</span><span>T</span><span>]</span><span>:</span>
  <span>extension</span> <span>(</span><span>t</span><span>:</span> <span>T</span><span>)</span> <span>def</span> <span>toNative</span><span>:</span> <span>js.Any</span>
  <span>def</span> <span>fromNative</span><span>(</span><span>nativeJs</span><span>:</span> <span>js.Any</span><span>)</span><span>:</span> <span>T</span></code></pre></figure>

<p>You can summon built-in NativeConverters for all the primitive types:</p>

<figure><pre><code data-lang="scala"><span>val</span> <span>i</span><span>:</span> <span>Int</span> <span>=</span> <span>NativeConverter</span><span>[</span><span>Int</span><span>].</span><span>fromNative</span><span>(</span><span>JSON</span><span>.</span><span>parse</span><span>(</span><span>"100"</span><span>))</span>

<span>val</span> <span>nativeByte</span><span>:</span> <span>js.Any</span> <span>=</span> <span>NativeConverter</span><span>[</span><span>Byte</span><span>].</span><span>toNative</span><span>(</span><span>127.</span><span>toByte</span><span>)</span>

<span>val</span> <span>s</span><span>:</span> <span>String</span> <span>=</span> <span>NativeConverter</span><span>[</span><span>String</span><span>]</span>
  <span>.</span><span>fromNative</span><span>(</span><span>JSON</span><span>.</span><span>parse</span><span>(</span><span>""" "hello world" """</span><span>))</span></code></pre></figure>

<p>Char and Long are always converted to String, since they cannot be represented directly in JavaScript:</p>

<figure><pre><code data-lang="scala"><span>// native String</span>
<span>val</span> <span>nativeLong</span> <span>=</span> <span>NativeConverter</span><span>[</span><span>Long</span><span>].</span><span>toNative</span><span>(</span><span>Long</span><span>.</span><span>MaxValue</span><span>)</span>

<span>val</span> <span>parsedLong</span> <span>=</span> <span>NativeConverter</span><span>[</span><span>Long</span><span>]</span>
  <span>.</span><span>fromNative</span><span>(</span><span>JSON</span><span>.</span><span>parse</span><span>(</span><span>s</span><span>""" "${Long.MaxValue}" """</span><span>))</span></code></pre></figure>

<p>If you want to change this behavior for Long, implement a <code>given</code> instance of NativeConverter[Long]. The example below uses String for conversion only when the Long is bigger than Int.</p>

<figure><pre><code data-lang="scala"><span>given</span> <span>NativeConverter</span><span>[</span><span>Long</span><span>]</span> <span>with</span>

  <span>extension</span> <span>(</span><span>t</span><span>:</span> <span>Long</span><span>)</span> <span>def</span> <span>toNative</span><span>:</span> <span>js.Any</span> <span>=</span>
    <span>if</span> <span>t</span> <span>&gt;</span> <span>Int</span><span>.</span><span>MaxValue</span> <span>||</span> <span>t</span> <span>&lt;</span> <span>Int</span><span>.</span><span>MinValue</span> <span>then</span> <span>t</span><span>.</span><span>toString</span>
    <span>else</span> <span>t</span><span>.</span><span>toInt</span><span>.</span><span>asInstanceOf</span><span>[</span><span>js.Any</span><span>]</span>

  <span>def</span> <span>fromNative</span><span>(</span><span>nativeJs</span><span>:</span> <span>js.Any</span><span>)</span><span>:</span> <span>Long</span> <span>=</span>
    <span>try</span> <span>nativeJs</span><span>.</span><span>asInstanceOf</span><span>[</span><span>Int</span><span>]</span>
    <span>catch</span> <span>case</span> <span>_</span> <span>=&gt;</span> <span>nativeJs</span><span>.</span><span>asInstanceOf</span><span>[</span><span>String</span><span>].</span><span>toLong</span>

<span>// "123"</span>
<span>val</span> <span>smallLong</span><span>:</span> <span>String</span> <span>=</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>NativeConverter</span><span>[</span><span>Long</span><span>].</span><span>toNative</span><span>(</span><span>123L</span><span>))</span>

<span>// """ "9223372036854775807" """.trim</span>
<span>val</span> <span>bigLong</span><span>:</span> <span>String</span> <span>=</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>NativeConverter</span><span>[</span><span>Long</span><span>].</span><span>toNative</span><span>(</span><span>Long</span><span>.</span><span>MaxValue</span><span>))</span> </code></pre></figure>

<p>Functions can be converted between Scala.js and Native:</p>

<figure><pre><code data-lang="scala"><span>val</span> <span>helloWorld</span> <span>=</span> <span>(</span><span>name</span><span>:</span> <span>String</span><span>)</span> <span>=&gt;</span> <span>"hello, "</span> <span>+</span> <span>name</span>

<span>val</span> <span>nativeFunc</span> <span>=</span> <span>NativeConverter</span><span>[</span><span>String</span> <span>=&gt;</span> <span>String</span><span>].</span><span>toNative</span><span>(</span><span>helloWorld</span><span>)</span>

<span>// returns "hello, Ray"</span>
<span>nativeFunc</span><span>.</span><span>asInstanceOf</span><span>[</span><span>js.Dynamic</span><span>](</span><span>"Ray"</span><span>)</span> </code></pre></figure>

<p>Arrays, Iterables, Seqs, Sets, Lists, and Buffers are serialized using JavaScript Arrays:</p>

<figure><pre><code data-lang="scala"><span>// default NativeConverters are only implemented</span>
<span>// for the collections in scala.collection.*, not the deprecated</span>
<span>// aliases in scala.Predef</span>
<span>import</span> <span>scala.collection.</span><span>{</span><span>Seq</span><span>,</span> <span>Set</span><span>}</span>

<span>val</span> <span>seq</span> <span>=</span> <span>Seq</span><span>(</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>)</span>
<span>val</span> <span>set</span> <span>=</span> <span>Set</span><span>(</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>)</span>

<span>// "[1,2,3]"</span>
<span>val</span> <span>seqJson</span> <span>=</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>NativeConverter</span><span>[</span><span>Seq</span><span>[</span><span>Int</span><span>]].</span><span>toNative</span><span>(</span><span>seq</span><span>))</span>

<span>// "[1,2,3]"</span>
<span>val</span> <span>setJson</span> <span>=</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>NativeConverter</span><span>[</span><span>Set</span><span>[</span><span>Int</span><span>]].</span><span>toNative</span><span>(</span><span>set</span><span>))</span></code></pre></figure>

<p>Maps become JavaScript objects:</p>

<figure><pre><code data-lang="scala"><span>import</span> <span>scala.collection.Map</span>
<span>import</span> <span>scala.collection.mutable.HashMap</span>

<span>val</span> <span>map</span> <span>=</span> <span>HashMap</span><span>(</span><span>"a"</span> <span>-&gt;</span> <span>1</span><span>,</span> <span>"b"</span> <span>-&gt;</span> <span>2</span><span>)</span>

<span>// """ {"a":1,"b":2} """.trim</span>
<span>val</span> <span>mapJson</span> <span>=</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>NativeConverter</span><span>[</span><span>Map</span><span>[</span><span>String</span>, <span>Int</span><span>]].</span><span>toNative</span><span>(</span><span>map</span><span>))</span></code></pre></figure>

<p>Only String keys are supported, since JSON requires String keys. If you‚Äôd rather convert to an <a href="https://www.scala-js.org/api/scalajs-library/latest/scala/scalajs/js/Map.html">ES 2016 Map</a>, do the following:</p>

<figure><pre><code data-lang="scala"><span>import</span> <span>com.augustnagro.nativeconverter.EsConverters.given</span>

<span>val</span> <span>map</span> <span>=</span> <span>HashMap</span><span>(</span><span>1</span> <span>-&gt;</span> <span>2</span><span>,</span> <span>3</span> <span>-&gt;</span> <span>4</span><span>)</span>

<span>val</span> <span>nativeMap</span> <span>=</span> <span>NativeConverter</span><span>[</span><span>Map</span><span>[</span><span>Int</span>, <span>Int</span><span>]].</span><span>toNative</span><span>(</span><span>map</span><span>)</span>

<span>// returns 4</span>
<span>nativeMap</span><span>.</span><span>asInstanceOf</span><span>[</span><span>js.Dynamic</span><span>].</span><span>get</span><span>(</span><span>3</span><span>)</span></code></pre></figure>

<p>I haven‚Äôt implemented converters for all the native types, but if you ask me or make a pull request for one that‚Äôs missing I will merge it.</p>

<p>Option is serialized using a 1-element array if Some, or [] if None:</p>

<figure><pre><code data-lang="scala"><span>val</span> <span>nc</span> <span>=</span> <span>NativeConverter</span><span>[</span><span>Option</span><span>[</span><span>Array</span><span>[</span><span>Int</span><span>]]]</span>
<span>val</span> <span>some</span> <span>=</span> <span>Some</span><span>(</span><span>Array</span><span>(</span><span>1</span><span>,</span><span>2</span><span>,</span><span>3</span><span>))</span>

<span>// "[[1,2,3]]"</span>
<span>val</span> <span>someJson</span> <span>=</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>nc</span><span>.</span><span>toNative</span><span>(</span><span>some</span><span>))</span>

<span>// None</span>
<span>val</span> <span>none</span> <span>=</span> <span>nc</span><span>.</span><span>fromNative</span><span>(</span><span>JSON</span><span>.</span><span>parse</span><span>(</span><span>"[]"</span><span>))</span></code></pre></figure>

<p>Any <a href="https://www.scala-lang.org/api/current/scala/Product.html">Product</a> or Sum type (like case classes and enums) can derive a NativeConverter. If the Product is a Singleton (ie, having no parameters) then the type name or <a href="https://www.scala-lang.org/api/current/scala/Product.html#productPrefix:String">productPrefix</a> is used. Otherwise, an object is created using the parameter names as keys.</p>

<p>You can for example redefine Option as a Scala 3 enum:</p>

<figure><pre><code data-lang="scala"><span>enum</span> <span>Opt</span><span>[</span><span>+T</span><span>]</span> <span>derives</span> <span>NativeConverter</span><span>:</span>
  <span>case</span> <span>Sm</span><span>(</span><span>x:</span> <span>T</span><span>)</span>
  <span>case</span> <span>Nn</span>

<span>// """ "Nn" """.trim</span>
<span>val</span> <span>nnJson</span> <span>=</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>Opt</span><span>.</span><span>Nn</span><span>.</span><span>toNative</span><span>)</span>

<span>// Opt.Sm(123L)</span>
<span>val</span> <span>sm</span> <span>=</span> <span>NativeConverter</span><span>[</span><span>Opt</span><span>[</span><span>Long</span><span>]].</span><span>fromNative</span><span>(</span><span>JSON</span><span>.</span><span>parse</span><span>(</span><span>""" {"x":123} """</span><span>))</span></code></pre></figure>

<p>And of course, you can nest to any depth you wish:</p>

<figure><pre><code data-lang="scala"><span>// recommended but not required for X to derive NativeConverter</span>
<span>case</span> <span>class</span> <span>X</span><span>(</span><span>a</span><span>:</span> <span>List</span><span>[</span><span>String</span><span>])</span> 
<span>case</span> <span>class</span> <span>Y</span><span>(</span><span>b</span><span>:</span> <span>Option</span><span>[</span><span>X</span><span>])</span> <span>derives</span> <span>NativeConverter</span>

<span>val</span> <span>y</span> <span>=</span> <span>Y</span><span>(</span><span>Some</span><span>(</span><span>X</span><span>(</span><span>List</span><span>())))</span>
<span>val</span> <span>yStr</span> <span>=</span> <span>""" {"b":[{"a":[]}]} """</span><span>.</span><span>trim</span><span>.</span><span>nn</span>

<span>assertEquals</span><span>(</span><span>yStr</span><span>,</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>y</span><span>.</span><span>toNative</span><span>))</span>

<span>assertEquals</span><span>(</span><span>y</span><span>,</span> <span>NativeConverter</span><span>[</span><span>Y</span><span>].</span><span>fromNative</span><span>(</span><span>JSON</span><span>.</span><span>parse</span><span>(</span><span>yStr</span><span>)))</span></code></pre></figure>

<p>If <a href="https://www.scala-js.org/doc/project/cross-build.html">Cross Building</a> your Scala project you can use one language for both frontend and backend development. Sub-project <code>/jvm</code> will have your JVM sources, <code>/js</code> your JavaScript, and in <code>/shared</code> you can define all of your validations and request/response DTOs once. In the <code>/shared</code> project you do not want to depend on <code>NativeConverter</code>, since that would introduce a dependency on Scala.js in your <code>/jvm</code> project. So instead of writing <code>derives NativeConverter</code> on your case classes, create an object in <code>/client</code> that holds the derived converters:</p>

<figure><pre><code data-lang="scala"><span>// in shared project</span>
<span>case</span> <span>class</span> <span>User</span><span>(</span><span>name</span><span>:</span> <span>String</span><span>,</span> <span>isAdmin</span><span>:</span> <span>Boolean</span><span>,</span> <span>age</span><span>:</span> <span>Int</span><span>)</span>

<span>// in js project</span>
<span>object</span> <span>DtoConverters</span><span>:</span>
  <span>given</span> <span>NativeConverter</span><span>[</span><span>User</span><span>]</span> <span>=</span> <span>NativeConverter</span><span>.</span><span>derived</span>

<span>object</span> <span>App</span><span>:</span>
  <span>import</span> <span>DtoConverters.given</span>

  <span>@main</span> <span>def</span> <span>launchApp</span><span>:</span> <span>Unit</span> <span>=</span>
    <span>println</span><span>(</span><span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>User</span><span>(</span><span>"John"</span><span>,</span> <span>false</span><span>,</span> <span>21</span><span>).</span><span>toNative</span><span>))</span></code></pre></figure>

<p>I‚Äôve made a sample cross-project you can clone: <a href="https://github.com/AugustNagro/native-converter-crossproject">https://github.com/AugustNagro/native-converter-crossproject</a></p>

<p>But what about performance, surely making your own js.Object subclasses is faster?
Nope, derived NativeDecoders are 2x faster, even for simple cases like <code>User("John Smith", true, 42)</code>:</p>

<p>
<img src="http://august.nagro.us/images/bench/native-converter-vs-js-object-bench.png"><br>
</p>

<p>See <a href="https://august.nagro.us/scalajs-native-type-creation-bench.html">these findings</a> for more info.</p>

<p>The generated JavaScript code is very clean. I was amazed how nice it is when looking at <code>sbt fastLinkJS</code> output. This is all possible because of Scala 3‚Äôs <a href="https://dotty.epfl.ch/docs/reference/metaprogramming/inline.html"><code>inline</code></a> keyword, and powerful type-level programming capabilities. That‚Äôs right.. no Macros used whatsoever! The <code>derives</code> keyword on type T causes the NativeConverter Typeclass to be auto-generated in T‚Äôs companion object. Only once, and when first requested.</p>

<p>It is safe to say that I am very impressed with Scala 3. And a big thank you to S√©bastien Doeraene and Tobias Schlatter, who are first-rate maintainers of Scala.js, as well as Jamie Thompson who gave me advice on ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://august.nagro.us/scalajs-native-converter.html">https://august.nagro.us/scalajs-native-converter.html</a></em></p>]]>
            </description>
            <link>https://august.nagro.us/scalajs-native-converter.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26143926</guid>
            <pubDate>Mon, 15 Feb 2021 16:00:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Kubernetes is deprecating Docker: what you need to know]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26143423">thread link</a>) | @forrestbrazeal
<br/>
February 15, 2021 | https://acloudguru.com/blog/engineering/kubernetes-is-deprecating-docker-what-you-need-to-know | <a href="https://web.archive.org/web/*/https://acloudguru.com/blog/engineering/kubernetes-is-deprecating-docker-what-you-need-to-know">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-id="8a920a5" data-element_type="widget" data-widget_type="theme-post-content.default"><div><h2 id="h-kubernetes-is-deprecating-docker">Kubernetes is Deprecating Docker?!</h2><p>For some time now, it seems that when people think of containers, they think of <a href="https://acloudguru.com/course/introduction-to-containers-and-docker">Docker</a> and <a href="https://acloudguru.com/course/kubernetes-deep-dive">Kubernetes</a>. Docker has been the big name when it comes to building and running containers, and Kubernetes has been the big name when it comes to managing and orchestrating them. It might seem a bit shocking to hear that Kubernetes is deprecating support for Docker as a container runtime starting with Kubernetes version 1.20.</p><p>So, I want to take this opportunity to talk about what this change really means, and what Kubernetes users will need to do about it.</p><figure><p> <iframe title="Kubernetes This Month: Container usage in production goes through the roof!" width="500" height="281" src="https://www.youtube.com/embed/KzCaCBIgGvI?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p></figure><h2 id="h-what-s-changing">What‚Äôs Changing?</h2><p>Kubernetes deprecating Docker is actually not as big of a deal as it sounds, so let‚Äôs talk about what is really going on here.</p><p>Kubernetes is removing support for Docker as a <strong>container runtime</strong>. Kubernetes does not actually handle the process of running containers on a machine. Instead, it relies on another piece of software called a <strong>container runtime</strong>.</p><figure><img src="https://lh3.googleusercontent.com/ZdkIrgRa5Kx9RkYvsf_MitDSotGYiXP1dwpSE03SitQcSuHrk8VHKjGr5Mkdo8OXtoFsQpYv4UNaLw7xXLlbcYvvUDNyFM_Tcx2ussVCo7E9Z_aNj_NeN2AXJmLESV60PSp7hfVf" alt=""></figure><p>The container runtime runs containers on a host, and Kubernetes tells the container runtime on each host what to do. You can actually choose from a variety of options when it comes to what software you want to use as your container runtime when running Kubernetes. Up to now, a fairly popular option was to use Docker as the container runtime.</p><p>However, this will no longer be an option in the future. You will still be able to use Docker in other ways that are relevant to Kubernetes (more on that in a moment), but you will not be able to use Docker as the container runtime underneath Kubernetes.</p><h2 id="h-why-is-kubernetes-deprecating-docker">Why is Kubernetes Deprecating Docker?</h2><p>Kubernetes has supported using Docker a container runtime up to this point, so why are they choosing to stop supporting it?</p><p>Kubernetes works with all container runtimes that implement a standard known as the <strong>Container Runtime Interface (CRI)</strong>. This is essentially a standard way of communicating between Kubernetes and the container runtime, and any runtime that supports this standard automatically works with Kubernetes.</p><p>Docker does not implement the Container Runtime Interface (CRI). In the past, there weren‚Äôt as many good options for container runtimes, and Kubernetes implemented the Docker shim, an additional layer to serve as an interface between Kubernetes and Docker. Now, however, there are plenty of runtimes available that implement the CRI, and it no longer makes sense for Kubernetes to maintain special support for Docker.</p><h2 id="h-what-s-really-going-on">What‚Äôs Really Going On?</h2><p>To really understand why it makes sense for Kubernetes to deprecate Docker, we need to go a little deeper.</p><p>I‚Äôll let you in on a secret: <strong>Docker is not actually a container runtime</strong>! It‚Äôs actually a collection of tools that sits on top of a container runtime called <strong>containerd</strong>.</p><p>That‚Äôs right! Docker does not run containers directly. It simply creates a more human-accessible and feature-rich interface on top of a separate, underlying container runtime. When it is used as a container runtime for Kubernetes, Docker is just a middle-man between Kubernetes and containerd.</p><figure><img src="https://lh3.googleusercontent.com/qAs7sRi19J_vdE9NYNyZ5MZp8rFoV4aNUmn4aGtrc4zJXsgA_Not2cG68ut6XAXxVFAiBDyK-zp7FO6-sdcFv2obvfIxBrkcsawBisG7IKirWP4ODOlwP0kz1V9vNn_TbXAhaGKz" alt=""></figure><p>However, Kubernetes can use containerd directly as a container runtime, meaning Docker is no longer needed in this middle-man role. Docker still has a lot to offer, even in a Kubernetes ecosystem. It‚Äôs just not needed specifically as a container runtime.</p><figure><img src="https://lh4.googleusercontent.com/cNGPBxKBF4_Vm_WvKM4QWqXGrX4LqgaJfUUxVycD3d5XPuyXS8aWH8zeEooL--2MSDUhKzOmwCdYPGo6Zpga0xIk3EzyNq2fyDbHc0akoGLbBfnymOODbDPHh2zAhHzvdvsFxUxS" alt=""></figure><h2 id="h-what-s-the-role-of-docker-going-forward">What‚Äôs the Role of Docker Going Forward?</h2><p>Although Docker is not needed as a container runtime in Kubernetes, it still has a role to play in the Kubernetes ecosystem, and in your workflow.</p><p>Docker is still going strong as a tool for developing and building container images, as well as running them locally. Kubernetes can still run containers built using Docker‚Äôs <strong>Open Container Initiative (OCI) </strong>image format, meaning you can still use Dockerfiles and build your container images using Docker.</p><p>Kubernetes will also continue to be able to pull from Docker registries (such as Docker hub). This means that Docker will remain a powerful contender when it comes to managing the images once they are built.</p><p>All in all, Docker will continue to be a useful tool on your development workflows and continuous integration (CI) systems, even if you don‚Äôt need it to run your containers underneath Kubernetes in production.</p><hr><p><em>Looking to get certified on K8s? Read our <a href="https://acloudguru.com/blog/engineering/which-kubernetes-certification-path-should-i-take">blueprint for the Kubernetes certification journey</a>. </em></p><hr><h2 id="h-what-should-i-do">What Should I Do?</h2><p>&nbsp;If you are currently using Docker as a container runtime in your Kubernetes environment, you will need to make some changes. Moving forward, you can simply eliminate Docker as a middle-man in your Kubernetes environment. Instead, use another container runtime, such as <a href="https://containerd.io/">containerd</a> or <a href="https://cri-o.io/">CRI-O</a>.</p><p>Before upgrading to a Kubernetes version removes support for Docker (which is currently estimated to release in late 2021), you will need to modify (or replace) existing Kubernetes nodes so that they use a supported container runtime other than Docker. Starting now, you may want to start building any new nodes so that they use a non-Docker container runtime as well.</p><p>Other than that, nothing is really changing. You can continue to use Docker to build your images, as well as to run containers locally for development purposes, or in your continuous integration (CI) stack. You can also continue to use Docker registries to store and manage your images.</p><p>If you are interested in learning how to use containerd alongside Kubernetes, check out my new course, <a href="https://acloud.guru/overview/introduction-to-kubernetes">Introduction to Kubernetes</a>. It includes lessons that will walk you through the process of installing containerd and using it in your Kubernetes cluster.</p></div></div></div>]]>
            </description>
            <link>https://acloudguru.com/blog/engineering/kubernetes-is-deprecating-docker-what-you-need-to-know</link>
            <guid isPermaLink="false">hacker-news-small-sites-26143423</guid>
            <pubDate>Mon, 15 Feb 2021 15:12:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Git over Email? Convienence over Coolness]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26143303">thread link</a>) | @silasdb
<br/>
February 15, 2021 | https://occasionallycogent.com/git_via_email/index.html | <a href="https://web.archive.org/web/*/https://occasionallycogent.com/git_via_email/index.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
<header>

<p>Convienence over Coolness</p>
</header><p>
I keep looking at <a href="https://git.sr.ht/">‚ÄúSource Hut‚Äù</a> (n√©e ‚Äúsrht‚Äù) and its email-centric approach to git.
It kind of appealed to me in the sort of theoretical, slightly-masochistic way that switching to BSD or terminal-only mode has in the past ‚Äì something that is idealized as being simpler, more efficient, allowing one to use the honed tools of true hackers, or whatever.
</p>

<p>
However, after going through <a href="https://git-send-email.io/">the tutorial</a> thoughtfully provided by sourcehut on how to collaborate over email with git and reading some of the resultant discussion, I was reminded why most people &amp; projects don‚Äôt collaborate in that way.
Not only is it a non-trivial hassle to set up git to send email (including having to find some reasonably-secure way of storing an email password), but it really seems to end up being a lot less convienent to actually use:
You are discouraged from using your usual email client and told to only send via <code>git send-email</code>; however, you still need to go to whatever mailing list the patch is being discussed on with some sort of client, because you need to get the message id to send follow-up patches to; multiple commits send as multiple separate emails, which seems incredibly annoying; there‚Äôs now no one place you can look to see all the in-process changes and their status; it seems to more-or-less require constantly ammending &amp; changing commit history, seems like losing information for no good reason.
</p>

<p>
Personally, it seems like it would be a massive pain to have to use my email to manage contributions for both sending &amp; recieving to a variety of different projects.
I‚Äôm not a huge fan of Github, but the pull-request flow is pretty easy to use.
It‚Äôs easy to manage a bunch of contributions, comment line-by-line on the changes, see the history of the changes, and generally make the discussion easy to follow &amp; find.
Even if one doesn‚Äôt want to use the website, using a tool like <code>magit</code> one can use the API for the git hosting service and see the commits &amp; discussion without leaving the editor, as well as configure things so one can directly check out a branch corresponding to the PR (so you can pull from there too, without having to mess around with repeatedly applying and discarding patches).
</p>

<p>
I don‚Äôt want to cast aspersions on the people championing these ways of using git ‚Äì philosophically, I can get behind the idea of using git in a more federated way ‚Äì but it does seem to me to be kind of the sort of thing that I <a href="https://occasionallycogent.com/against_mindless_minimalism/index.html">wrote about previously</a>, where people don‚Äôt want to use interfaces which are far more ergonomic precisely because they are more ergonomic, as that user-friendlyness is looked down upon.
</p>

<p>
I am well aware there are big projects that do use an email-centric workflow.
However, I think it is not a coincidence that those are also projects that are not particularly renowned for being easy to contribute to.
</p>

<p>
I teach at a learn-to-code bootcamp and, while learning to use all the tools is always a challenge for the students, using graphical interfaces like github and the pull request systems is something they usually are able to figure out themselves ‚Äì just the discoverability of having buttons show you what your options are is way less intimidating to beginners.
If they had to figure out how to configure <code>git send-email</code>, getting patch files from those emails, and then how to apply them, I am quite sure their rate of success would be far lower.
</p>

<p>
Being easier isn‚Äôt only to help beginners get started though.
Experts too can benefit from not having to expend mental energy on remembering exactly the sequence of commands required for complex operations.
I consider myself pretty proficient at using git from the terminal, but I prefer using <code>magit</code> because it‚Äôs simply easier ‚Äì my goal is to write code, not use git.
I‚Äôve contributed tiny changes to projects on Github that I never would have if a more heavyweight flow was required, because it‚Äôs almost as easy as editing a Wikipedia article ‚Äì the way I can click ‚Äúedit‚Äù, have an in-browser editor to make a small change, and submit a PR without having to go to the terminal once is great.
</p>


<p>
I do wish that there was a way to have something like Github‚Äôs pull-request system without being tied to their proprietary system.
Clearly though, for things requiring people to communicate, different projects will have different needs.
It would be interesting to see something like <a href="https://fossil-scm.org/index.html/doc/trunk/www/index.wiki">Fossil‚Äôs</a> system, where the issues, wiki, etc are all part of the repository itself, so a pull-request-like concept could be a native aspect of the system.
For now though, I don‚Äôt think I‚Äôm going to be switching to an email-based workflow ‚Äì it really seems like just adding complications for nebulous benefits ‚Äì and I‚Äôm going to keep hoping that we can make our tools more accessible, not more exclusive.
</p>
</div></div>]]>
            </description>
            <link>https://occasionallycogent.com/git_via_email/index.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26143303</guid>
            <pubDate>Mon, 15 Feb 2021 14:58:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Software Development Doesn‚Äôt Need Unions ‚Äì At Least Not Yet]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26143267">thread link</a>) | @wagslane
<br/>
February 15, 2021 | https://qvault.io/2021/02/15/why-software-development-doesnt-need-unions-at-least-not-yet/ | <a href="https://web.archive.org/web/*/https://qvault.io/2021/02/15/why-software-development-doesnt-need-unions-at-least-not-yet/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text">
<p>I‚Äôve seen a lot of buzz recently about software developers wanting to form unions. I‚Äôm particularly interested in this topic as the founder of <a href="https://qvault.io/">Qvault</a>, where my goal is to provide a university-quality CS education at dinner-and-a-movie prices. I also want to point out that at the time of writing I‚Äôm a full-time software developer working for a separate company (not Qvault). I‚Äôm not a manager and Qvault is just a side-project. As of right now, I‚Äôm pretty sure I‚Äôm a member of the proletariat.</p>
<p>As I lay out my current thoughts on unions, I want to point out that I‚Äôm trying to keep an open mind about this subject as the experiences I‚Äôve had in the job market don‚Äôt reflect the experiences of the average developer. Feel free to <a href="https://twitter.com/wagslane" rel="noopener">reach out on Twitter</a> to share your thoughts with me, especially if you think I‚Äôm missing something.</p>
<h2>#1 Salaries aren‚Äôt keeping up with inflation and cost of living</h2>
<p>One of the articles I‚Äôm responding to, <a aria-label="Steve Belovarich's Should We Form a Labor Union (opens in a new tab)" href="https://dev.to/steveblue/should-we-form-a-labor-union-13o" target="_blank" rel="noreferrer noopener nofollow">Steve Belovarich‚Äôs Should We Form a Labor Union</a> makes the claim:</p>
<blockquote><p>The economy in 50s America enabled a sole breadwinner in the family to provide enough to pay the bills, put food on the table, and even take the family on a vacation‚Ä¶ There are some of us in the technology sector who still have a difficult time making ends meet when housing prices are high, employer-provided insurance refuses to cover medical bills, [and] student loans prohibit some of us from obtaining credit.</p></blockquote>
<p>It‚Äôs true that the ‚Äô50s were very different from today in terms of who worked, how much they worked, what they did at work, and how much they were compensated, but this take looks through some seriously rose-colored glasses.</p>
<p>In the ‚Äô50s, the median inflation-adjusted household income was around $30,000 in 2020 dollars. Today, we make significantly more money, around $60,000 (back of the envelope math from <a aria-label="here (opens in a new tab)" href="https://www.multpl.com/us-median-real-income/table/by-year" target="_blank" rel="noreferrer noopener nofollow">here</a> and <a aria-label="here (opens in a new tab)" href="https://web.stanford.edu/class/polisci120a/immigration/Median%20Household%20Income.pdf" target="_blank" rel="noreferrer noopener nofollow">here</a>), and yet clearly many families still struggle to make ends meet. To me, it seems this is largely due to the certain ‚Äúnecessities‚Äù that simply didn‚Äôt exist in the mid-20th century. We have many bills they didn‚Äôt have back then; cell phones, prescription medications, internet connections, multiple cars, and <a aria-label="much larger houses (opens in a new tab)" href="http://www.npr.org/templates/story/story.php?storyId=5525283" target="_blank" rel="noreferrer noopener nofollow">much larger houses</a> to name a just few.</p>
<p>While we‚Äôve made advances in technology that make our lives better, they‚Äôve simultaneously made our lives more expensive. You simply must pay an exorbitant hospital bill in order to have a child in 2021, anything less is irresponsible. Most people can‚Äôt walk to the grocery store or work these days with suburban sprawl, so multiple cars per family is a necessity. There were no cell phones in the ‚Äô50s, but it‚Äôs nearly impossible to function in society without one now.</p>
<p><strong>I think this is a problem, but developers are some of the most highly-paid workers out there. The solution likely resides outside the domain of software specifically, seeing as people of other professions suffer even more.</strong></p>
<p>Pointing out that we need to earn more to live a more comfortable (yet necessary) lifestyle is interesting and may have some political ramifications, but I don‚Äôt think it‚Äôs a good case for unionizing in software in 2021.</p>
<p>For example, geographic tech hubs (San Francisco, we‚Äôre looking at you) have become extremely expensive over the last ten years. This hasn‚Äôt just made it harder for developers but has most adversely affected workers in other industries where their salaries have not skyrocketed while housing costs did. Some other potential solutions that more directly deal with the problem could include:</p>
<ul><li>More remote work. This means workers can move to lower cost-of-living situations, and non-tech workers in Silicon Valley won‚Äôt be so aggressively displaced. I don‚Äôt think we need unions to make this happen. Covid-19 has made employers realize just how cost-effective remote work can be.</li><li>With retail investment being accessible and cheap to everyone now, we can take part in the spoils of company ownership. That said, there‚Äôs clearly more work to be done here so that Wall Street doesn‚Äôt get an unfair advantage. Fuck you Robinhood. üíéü§≤$GME.</li><li>Wealth inequality is a real problem, but I‚Äôd rather see a more simple and targeted solution like a small UBI. It would help workers across all industries without needing to add paperwork, membership, and union dues to our already complicated lives.</li><li>Fewer zoning laws, and better access to public transportation. Americans spend quite a bit on cars, with the <a aria-label="average car owner spending roughly $775/month (opens in a new tab)" href="https://www.hotcars.com/average-american-spends-roughly-800-a-month-on-their-car/" target="_blank" rel="noreferrer noopener nofollow">average car owner spending roughly $775/month</a> on car-related expenses. If more of us could walk, bike, or catch trains to get around it would help with the environment and our wallets.</li></ul>
<h2>#2 Difficulty proving your worth without having a silver tongue</h2>
<p>I‚Äôll be the first to admit that this is a huge problem in the coding industry, and really in any knowledge-based industry where aptitude and impact are hard to measure. There are terrible engineers who make 4x more than seriously talented engineers, simply because they‚Äôre better at writing resumes, interviewing, building social profiles, or smooth-talking at the negotiating table.</p>
<p><strong>This is a real problem.</strong></p>
<p>Unions could actually help in this regard. The idea being that along with unions we would get some form of standardized testing so that our ability to prove how much we should earn would be more equal. For example, level 1 front-end developers might make $50k-60k. Level 2‚Äôs make $60k-70k etc. In the current market, it feels like ‚Äújunior developers‚Äù make anywhere from $20/hr to $80/hour, and ‚Äúsenior developers‚Äù make anywhere from 70k/year to 700k/year.</p>
<p>Standardization and official certifications would likely help those that aren‚Äôt good at selling themselves but would be unnecessary for those that already have those soft skills.</p>
<p>I have two main problems with this approach.</p>
<ol><li>Standardizing testing and certification systems likely just won‚Äôt work well in a field as fast-paced as software engineering. Best practices in 2019 can be obsolete in 2020, and I just don‚Äôt trust union administrators to keep up.</li><li>We can solve this problem without unions. I think there‚Äôs a growing market demand for developer-vetting. Right now this need is mostly filled by service-based recruiting companies, but I think there‚Äôs an opportunity for a kind of developer-profile industry to emerge. Ideally, it would make it easy for developers to showcase their knowledge and projects in an effective and streamlined way.</li></ol>
<h2>#3 Discrimination</h2>
<p>In addition to the fact that what should be low-impact soft-skills play a disproportionately large role in the salary of a technical person, there‚Äôs the ever-present problem of intentional and unintentional discrimination in hiring and compensation practices. For example, while the gap seems to be closing, it isn‚Äôt closing fast enough. <a aria-label="Dice's recent study (opens in a new tab)" href="http://marketing.dice.com/pdf/2020/Dice_Gender_Pay_Gap_In_Tech_Report.pdf" target="_blank" rel="noreferrer noopener nofollow">Dice‚Äôs recent study</a> shows that female software engineers still earn $8,559 less than their male counterparts on average.</p>
<p><strong>This is a real problem, and one that doesn‚Äôt just deal with gender inequality, but race, culture and perhaps religion as well.</strong></p>
<p>Huge problem. Hard to solve. Unions might help, but to be honest I‚Äôm not sure.</p>
<p>Unions are basically the strong-arm approach to companies exploiting workers. As far as I can tell, most companies nowadays, especially tech companies, understand that diversity is in their best interest and don‚Äôt need to be strong-armed. The problem seems to mostly arise from the implicit or explicit biases of individuals <em>within</em> the organization. It‚Äôs kind of a hard problem to solve, and I‚Äôve heard several ideas that could potentially help, including:</p>
<ul><li>Scholarships and grants for minorities</li><li>Requiring diversity among hiring panels</li><li>Anonymizing resumes</li></ul>
<p>I‚Äôm not sure which practices could prove to be most effective, but my point is that if the problem truly is bigoted or biased <em>individuals</em> at companies, how will unions make it better? Those unions will be just as prone to having bigoted and biased administrators. No, I think the answer here more likely lies in each of us standing up for diversity and making sure that the companies we work for do the same.</p>
<p>The only situation where I can see unionization to be necessary here is if bigoted executives are explicitly refusing to take action, and are blocking managers from doing the same. If this is the case where you work, maybe it is time to start organizing. Extra care will need to be taken to ensure the organizers have the worker‚Äôs diversity goals in mind.</p>
<h2>#4 Market-value discrepancy between junior and senior developers</h2>
<p>Spend a few minutes in <a aria-label="/r/learnprogramming (opens in a new tab)" href="https://www.reddit.com/r/learnprogramming/" target="_blank" rel="noreferrer noopener nofollow">/r/learnprogramming</a> or <a aria-label="/r/programmerhumor (opens in a new tab)" href="https://www.reddit.com/r/ProgrammerHumor/" target="_blank" rel="noreferrer noopener nofollow">/r/programmerhumor</a> and it will become readily apparent that entry-level developers have a really hard time finding their first job. Who would hire someone with no previous experience? On the flip side, senior developers are constantly complaining about all the recruiters that won‚Äôt leave them alone, and they‚Äôre among some of the most well-compensated people in the workforce.</p>
<div><figure><img loading="lazy" src="https://qvault.io/wp-content/uploads/2021/02/programmer-humor-meme.png" alt="1 / 1 ‚Äì programmer humor meme recruiter" width="671" height="455" srcset="https://qvault.io/wp-content/uploads/2021/02/programmer-humor-meme.png 894w, https://qvault.io/wp-content/uploads/2021/02/programmer-humor-meme-300x203.png 300w, https://qvault.io/wp-content/uploads/2021/02/programmer-humor-meme-768x521.png 768w, https://qvault.io/wp-content/uploads/2021/02/programmer-humor-meme-150x102.png 150w" sizes="(max-width: 671px) 100vw, 671px" title="programmer humor meme"></figure></div>
<p><strong>This is a real problem.</strong></p>
<p>The junior/senior problem seems to mostly be a supply and demand problem, with perhaps a residual effect of problem #2, junior developers have a harder time proving their worth since they lack experience. If there‚Äôs truly a supply/demand problem there are only a couple of potential solutions:</p>
<ul><li>Improve education systems to help new engineers advance and progress more quickly and recognizably</li><li>Encourage new startups and research investment so that there‚Äôs more demand</li><li>If there are just too many engineers (doubtful) then let people know so new learners will know what they‚Äôre getting into</li></ul>
<p>In regards to junior developers not being able to prove their skills, I think there are potential cultural improvements and product innovations that have a lot of potential. For example, inexpensive access to online courses and certificates helps students that didn‚Äôt go to college prove that they understand certain concepts. The open-source community seems to me to be more inclusive and collaborative, and if you maintain a project you can help by flagging issues with <code>good first issue</code> or <code>help wanted</code> which encourages newer devs to get their hands ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://qvault.io/2021/02/15/why-software-development-doesnt-need-unions-at-least-not-yet/">https://qvault.io/2021/02/15/why-software-development-doesnt-need-unions-at-least-not-yet/</a></em></p>]]>
            </description>
            <link>https://qvault.io/2021/02/15/why-software-development-doesnt-need-unions-at-least-not-yet/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26143267</guid>
            <pubDate>Mon, 15 Feb 2021 14:53:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Cost of Open Sourcing Your Project (2016)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26143227">thread link</a>) | @msantos
<br/>
February 15, 2021 | https://meshedinsights.com/2016/09/20/open-source-unlikely-to-be-abandonware/ | <a href="https://web.archive.org/web/*/https://meshedinsights.com/2016/09/20/open-source-unlikely-to-be-abandonware/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p><strong>Accusing a company of ‚Äúdumping‚Äù their project as open source is probably misplaced ‚Äì it‚Äôs an expensive business no-one would do frivolously.</strong></p>
<p><img data-attachment-id="107613" data-permalink="https://meshedinsights.com/2016/09/20/open-source-unlikely-to-be-abandonware/swan-m/#main" data-orig-file="https://meshedinsights.files.wordpress.com/2016/09/swan-m.jpg" data-orig-size="640,480" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="swan-m" data-image-description="" data-medium-file="https://meshedinsights.files.wordpress.com/2016/09/swan-m.jpg?w=300" data-large-file="https://meshedinsights.files.wordpress.com/2016/09/swan-m.jpg?w=620" src="https://meshedinsights.files.wordpress.com/2016/09/swan-m.jpg?w=620" alt="swan-m" srcset="https://meshedinsights.files.wordpress.com/2016/09/swan-m.jpg?w=620 620w, https://meshedinsights.files.wordpress.com/2016/09/swan-m.jpg?w=150 150w, https://meshedinsights.files.wordpress.com/2016/09/swan-m.jpg?w=300 300w, https://meshedinsights.files.wordpress.com/2016/09/swan-m.jpg 640w" sizes="(max-width: 620px) 100vw, 620px"></p>
<p>If you see an active move to change software licensing or governance, it‚Äôs likely someone is paying for it and thus could justify the expense to an executive.<span id="more-107529"></span></p>
<h4>A Little History</h4>
<p>Some case study cameos may help. From 2004 onwards, Sun Microsystems had a policy of all its software moving to open source. The company&nbsp;migrated almost all products to open source licenses, and had varying degrees of success engaging communities around the various projects, largely related to the outlooks of the product management and Sun developers for the project.</p>
<p>Sun&nbsp;occasionally received requests to make older, retired products open source. For example, Sun acquired a company called <a href="https://en.wikipedia.org/wiki/Lighthouse_Design">Lighthouse Design</a> which created a respected suite of office productivity software for Steve Jobs‚Äô NeXT platform. Strategy changes meant that software headed for the vault (while Jonathan Schwartz, a founder of Lighthouse, headed for the executive suite). Members of the public&nbsp;asked if Sun would open source some of this software, but these requests were declined because there was no business unit willing to fund the move.</p>
<p>When Sun was later bought by Oracle, a number of those projects that had been made open source were abandoned.&nbsp;‚ÄúAbandoning‚Äù software doesn‚Äôt mean leaving it for others; it means simply walking away from wherever you left it. In the case of Sun‚Äôs popular identity middleware products, that meant Oracle let the staff go and tried to migrate customers to other products, while remaining silent in public on the future of the project. But the code was already open source, so the user community was able to pick up the pieces and carry on, with help from Forgerock.</p>
<h4>Liberation Checklist</h4>
<p>It costs a lot of money to open source a mature piece of commercial software, even if all you are doing is ‚Äúthrowing a tarball over the wall‚Äù. That‚Äôs why companies abandoning software they no longer care about so rarely make it open source, and those abandoning open source projects rarely move them to new homes that benefit others.</p>
<p>If all you have thought about is the eventual outcome, you may be surprised how expensive it is to get there. Costs include:</p>
<ul>
<li>
<h5><span>For throwing a tarball over the wall:</span></h5>
<ul>
<li><strong>Legal clearance.</strong><br>
Having the right to use the software is not the same as giving everyone in the world an unrestricted right to use it and create derivatives. Checking every line of code to make sure you have the rights necessary to release under an OSI-approved license is a big task requiring high-value employees on the ‚Äúliberation team‚Äù. That includes both developers and lawyers; neither come cheap.</li>
<li><strong>Repackaging</strong>.<br>
To pass it to others, a self-contained package containing all necessary source code, build scripts&nbsp;and non-public source and tool dependencies has to be created since it is quite unlikely to exist internally. Again, the liberation team will need your best developers.</li>
<li><strong>Preserving provenance</strong>.<br>
Just because you have confidence that you have the rights to the code, that doesn‚Äôt mean anyone else will. The version control system probably contains much of the information that gives confidence about who wrote which code, so the repackaging needs to also include a way to migrate the commit information.</li>
<li><strong>Code cleaning.</strong><br>
The file headers will hopefully include origin information but the liberation team had better check. They also need to check the comments for libel and profanities, not to mention trade secrets (especially those from third parties) and other IP issues.</li>
</ul>
</li>
<li>
<h5><span>For a sustainable project, all the above plus:</span></h5>
<ul>
<li><strong>Compliance with host governance</strong>.<br>
It is a fantastic idea to move your project to a host like <a href="http://apache.org/">Apache</a>, <a href="http://sfconservancy.org/">Conservancy</a>, <a href="https://publicsoftware.eu/">Public Software</a> and so on. But doing so requires preparatory work. As a minimum you will need to negotiate with the new host organisation, and they may well need you to satisfy their process requirements. Paperwork obviously, but also the code may need conforming copyright statements and more. That‚Äôs more work for your liberation team.</li>
<li><strong>Migration of rights.</strong><br>
Your code has an existing community who will need to migrate to your new host. That includes your staff ‚Äì they are community too! They will need commit rights, governance rights, social media rights and more. Your liberation team will need your community manager, obviously, but may also need HR input.</li>
<li><strong>Endowment</strong>.<br>
Keeping your project alive will take money. It‚Äôs all been coming from you up to this point, but if you simply walk away before the financial burden has been accepted by the new community and hosts there may be a problem. You should consider making an endowment to your new host to pay for their migration costs plus the cost of hosting the community for at least a year.</li>
<li><strong>Marketing</strong>.<br>
Explaining the move you are making, the reasons why you are making it and the benefits for you and the community is important. If you don‚Äôt do it, there are plenty of trolls around who will do it for you. Creating a news blog post and an FAQ ‚Äî the minimum effort necessary ‚Äî really does take someone experienced and you‚Äôll want to add such a person to your liberation team.</li>
</ul>
</li>
</ul>
<h4>Motivations</h4>
<p>There has to be some commercial reason that makes the time, effort and thus expense worth incurring. Some examples of motivations include:</p>
<ul>
<li><strong>Market Strategy.</strong><br>
An increasing number of companies are choosing to create substantial, openly-governed open source communities around software that contributes to their business. An open multi-stakeholder co-developer community is an excellent vehicle for innovation at the lowest cost to all involved. As long as your market strategy doesn‚Äôt require creating artificial scarcity.</li>
<li><strong>Contract with a third party.</strong><br>
While the owner of the code may no longer be interested, there may be one or more parties to which they owe a contractual responsibility. Rather than breaching that contract, or buying it out, a move to open source may be better. Some sources suggest a contractual obligation to IBM&nbsp;was the reason Oracle abandoned OpenOffice.org by moving it over to the Apache Software Foundation for example.</li>
<li><strong>Larger dependent ecosystem.</strong><br>
You may have no further use for the code itself, but you may well have other parts of your business which depend on it. If they are willing to collectively fund development you might consider an <a href="https://paypal.github.io/InnerSourceCommons/">‚Äúinner source‚Äù</a> strategy which will save you many of the costs above. But the best way to proceed may well be to open the code so your teams and those in other companies can fund the code.</li>
<li><strong>Internal politics</strong>.<br>
From the outside, corporations look monolithic, but from the inside it becomes clear they are a microcosm of the market in which they exist. As a result, they have political machinations that may be addressed by open source. One of Oracle‚Äôs motivations for moving NetBeans to Apache seems to have been political. Despite multiple internal groups needing it to exist, the code was not generating enough direct revenue to satisfy successive executive owners, who allegedly tried to abandon it on more than one occasion. Donating it to Apache meant that couldn‚Äôt happen again.</li>
</ul>
<p>None of this is to say a move to open source guarantees the success of a project. A <a href="http://thoughtleadershipleverage.com/field-of-dreams-great-movie-dumb-strategy/">‚ÄúField of Dreams‚Äù strategy</a> only works in the movies, after all. But while it may be tempting to look at a failed corporate liberation and describe it as ‚Äúabandonware‚Äù, chances are it was intended as nothing of the kind.</p>
<p><em>[Made possible by&nbsp;<a href="https://meshedinsights.com/2016/09/19/patronage-the-old-old-new-idea/">Patreon patrons</a>&nbsp;&amp; excerpted at <a href="https://opensource.com/business/16/9/how-to-open-source-your-software">OpenSource.com</a>]</em></p>
			</div></div>]]>
            </description>
            <link>https://meshedinsights.com/2016/09/20/open-source-unlikely-to-be-abandonware/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26143227</guid>
            <pubDate>Mon, 15 Feb 2021 14:48:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Product Design Resources]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26143187">thread link</a>) | @awaxman11
<br/>
February 15, 2021 | https://blog.awaxman.com/product-design-resources | <a href="https://web.archive.org/web/*/https://blog.awaxman.com/product-design-resources">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>I frequently get asked for product design resource recommendations. Sometimes from PMs and engineers looking to level up their design sensibilities. Other times from folks looking to become designers themselves. Whatever your reason, if you want to learn more about product design and jumpstart your design skills then this post is for you.</p><h2 id="-make-your-designs-look-great">üî• Make Your Designs Look Great</h2><p>While product design is <em>much</em> more than how something looks, it‚Äôs one of the most tangible ways to dive into product design. These are my favorite recs to improve your ‚Äúeye for design‚Äù and polish the look and feel of whatever you‚Äôre working on. </p><ul><li>‚≠êÔ∏è Refactoring UI: <a href="https://refactoringui.com/book/" target="_blank" rel="noreferrer">Book</a> ¬∑ <a href="https://twitter.com/i/events/994601867987619840" target="_blank" rel="noreferrer">Tips</a> ¬∑ <a href="https://medium.com/refactoring-ui/7-practical-tips-for-cheating-at-design-40c736799886" target="_blank" rel="noreferrer">Article</a></li><li>7 Rules for Creating Gorgeous UI: <a href="https://medium.com/@erikdkennedy/7-rules-for-creating-gorgeous-ui-part-1-559d4e805cda" target="_blank" rel="noreferrer">Part I</a> ¬∑ <a href="hhttps://medium.com/@erikdkennedy/7-rules-for-creating-gorgeous-ui-part-2-430de537ba96" target="_blank" rel="noreferrer">Part II</a></li><li><a href="https://medium.com/facebook-design/how-to-make-your-not-so-great-visual-design-better-67972eee3825" target="_blank" rel="noreferrer">How to Make Your Not-So-Great Visual Design Better</a></li></ul><h2 id="-what-even-is-product-design">ü§î What Even Is Product Design?</h2><p>Design is a complex topic with many different flavors. These resources will help you understand how product design fits into this landscape.</p><ul><li>‚≠êÔ∏è <a href="https://medium.com/@ericeriksson/what-is-product-design-9709572cb3ff" target="_blank" rel="noreferrer">What is Product Design?</a></li><li><a href="https://medium.com/hh-design/intro-to-product-design-c2dbbc7809d3" target="_blank" rel="noreferrer">Intro to Product Design</a></li><li><a href="https://www.invisionapp.com/inside-design/product-design/" target="_blank" rel="noreferrer">How To Explain Product Design to Anyone</a></li><li><a href="https://www.designbetter.co/principles-of-product-design" target="_blank" rel="noreferrer">Principles of Product Design</a></li><li><a href="https://www.figma.com/community/file/825467304309879575" target="_blank" rel="noreferrer">Figma‚Äôs Internal Design 101 Presentation</a></li><li><a href="https://m.xkcd.com/2141/" target="_blank" rel="noreferrer">XKCD On the Difference Between UI &amp; UX</a></li></ul><h2 id="-get-inspired">‚ú® Get Inspired</h2><p>As pointed out in this <a href="https://twitter.com/joulee/status/1359961141682655232?s=20" target="_blank" rel="noreferrer">twitter thread</a>, one of the best ways to develop your design eye is to explore examples of good design. The below sites will help you understand what good design looks like. Even if you can‚Äôt design stuff like it (yet!), being able to recognize the difference between good and bad design is a great first step.</p><p><strong>Mobile</strong>: <a href="https://mobbin.design/" target="_blank" rel="noreferrer">Mobbin</a> ¬∑ <a href="https://mthds.co/" target="_blank" rel="noreferrer">mthds</a> ¬∑  <a href="https://uxarchive.com/" target="_blank" rel="noreferrer">UXArchive</a> ¬∑ <a href="https://pttrns.com/" target="_blank" rel="noreferrer">pttrns</a> ¬∑ <a href="https://www.uisources.com/home" target="_blank" rel="noreferrer">UI Sources</a></p><p><strong>Patterns</strong>: <a href="https://nicelydone.club/products/" target="_blank" rel="noreferrer">Nicely Done</a> ¬∑ <a href="https://screenlane.com/" target="_blank" rel="noreferrer">Screen Lane</a> ¬∑ <a href="https://uigarage.net/" target="_blank" rel="noreferrer">UI Garage</a> ¬∑ <a href="https://designvault.io/" target="_blank" rel="noreferrer">Design Vault</a> ¬∑ <a href="https://lookup.design/" target="_blank" rel="noreferrer">Lookup Design</a> ¬∑ <a href="https://collectui.com/" target="_blank" rel="noreferrer">Collect UI</a></p><p><strong>Case Studies</strong>: <a href="https://growth.design/case-studies/" target="_blank" rel="noreferrer">Growth Design</a> ¬∑ <a href="https://www.useronboard.com/user-onboarding-teardowns/" target="_blank" rel="noreferrer">UserOnboard</a> ¬∑ <a href="https://builtformars.com/" target="_blank" rel="noreferrer">Built for Mars</a> ¬∑ <a href="https://www.underglass.io/" target="_blank" rel="noreferrer">Under Glass</a> ¬∑ <a href="https://brianlovin.com/design-details" target="_blank" rel="noreferrer">App Dissection</a></p><p><strong>Landing Pages</strong>: <a href="https://httpster.net/" target="_blank" rel="noreferrer">Httpster</a> ¬∑ <a href="https://land-book.com/" target="_blank" rel="noreferrer">Landbook</a> ¬∑ <a href="https://www.lapa.ninja/" target="_blank" rel="noreferrer">Lapa</a> ¬∑ <a href="https://onepagelove.com/" target="_blank" rel="noreferrer">One Page Love</a></p><p><strong>Other</strong>: <a href="https://tailwindui.com/components" target="_blank" rel="noreferrer">TailwindUI</a> ¬∑ <a href="https://reallygoodemails.com/" target="_blank" rel="noreferrer">Really Good Emails</a> ¬∑ <a href="https://www.goodemailcopy.com/" target="_blank" rel="noreferrer">Good Email Copy</a> ¬∑ <a href="https://www.heynishi.com/" target="_blank" rel="noreferrer">Nishi</a> ¬∑ <a href="https://dribbble.com/" target="_blank" rel="noreferrer">Dribbble</a> ¬∑ <a href="https://uijar.com/" target="_blank" rel="noreferrer">UI Jar</a> ¬∑  <a href="https://looksideway.com/" target="_blank" rel="noreferrer">Sideway</a></p><p><strong>Companies</strong>: <a href="https://www.airbnb.com/" target="_blank" rel="noreferrer">Airbnb</a> ¬∑ <a href="https://robinhood.com/" target="_blank" rel="noreferrer">Robinhood</a> ¬∑ <a href="https://www.spotify.com/us/" target="_blank" rel="noreferrer">Spotify</a>  ¬∑  <a href="https://www.squarespace.com/" target="_blank" rel="noreferrer">Squarespace</a> ¬∑ <a href="https://asana.com/" target="_blank" rel="noreferrer">Asana</a> ¬∑ <a href="https://www.lemonade.com/" target="_blank" rel="noreferrer">Lemonade</a> ¬∑  <a href="https://cash.app/" target="_blank" rel="noreferrer">Cash App</a> ¬∑ <a href="https://culturedcode.com/things/" target="_blank" rel="noreferrer">Things</a> ¬∑ <a href="https://superhuman.com/" target="_blank" rel="noreferrer">Superhuman</a> ¬∑ <a href="https://linear.app/" target="_blank" rel="noreferrer">Linear</a> ¬∑ <a href="https://www.shopify.com/" target="_blank" rel="noreferrer">Shopify</a> ¬∑ <a href="https://stripe.com/" target="_blank" rel="noreferrer">Stripe</a> ¬∑ <a href="https://www.helpscout.com/" target="_blank" rel="noreferrer">Help Scout</a> ¬∑ <a href="https://intercom.com/" target="_blank" rel="noreferrer">Intercom</a> ¬∑ <a href="https://segment.com/" target="_blank" rel="noreferrer">Segment</a> ¬∑ <a href="https://notion.so/" target="_blank" rel="noreferrer">Notion</a> ¬∑ <a href="https://copilot.money/" target="_blank" rel="noreferrer">Copilot</a> ¬∑ <a href="http://clay.earth/" target="_blank" rel="noreferrer">Clay</a> ¬∑ <a href="http://seatgeek.com/" target="_blank" rel="noreferrer">SeatGeek</a></p><h2 id="-understanding-the-basics">üî§ Understanding the Basics</h2><ul><li>NNGroup‚Äôs Cheat Sheets: <a href="https://www.nngroup.com/articles/visual-design-cheat-sheet/" target="_blank" rel="noreferrer">Visual Design Terms</a> ¬∑ <a href="https://www.nngroup.com/articles/typography-terms-ux/" target="_blank" rel="noreferrer">Typography</a></li><li><a href="https://www.invisionapp.com/design-defined/" target="_blank" rel="noreferrer">Invision‚Äôs Design Terminology Glossary</a></li><li>Product Design: Expectations vs Reality: <a href="https://uxplanet.org/product-design-expectations-vs-reality-2e5b24473dc5" target="_blank" rel="noreferrer">Part I</a>  ¬∑ <a href="https://uxplanet.org/product-design-expectations-vs-reality-fc73e2ca8198" target="_blank" rel="noreferrer">Part II</a></li></ul><h2 id="üß†-principles-mental-models-and-biases">üß† Principles, Mental Models, and Biases</h2><ul><li>‚≠êÔ∏è <a href="https://dev.degreed.com/digital-product-design-principles-8bc9eb6c080c" target="_blank" rel="noreferrer">Digital Product Design Principles</a></li><li><a href="https://readymag.com/shuffle/dieter-rams/" target="_blank" rel="noreferrer">Dieter Rams: 10 Principles for Good Design</a> <!-- -->[1]</li><li><a href="https://lawsofux.com/" target="_blank" rel="noreferrer">Laws of UX</a></li><li><a href="https://uxmyths.com/" target="_blank" rel="noreferrer">UX Myths</a></li><li><a href="https://www.nngroup.com/articles/ten-usability-heuristics/" target="_blank" rel="noreferrer">10 Usability Heuristics for User Interface Design</a></li><li><a href="http://www.paulgraham.com/taste.html" target="_blank" rel="noreferrer">Taste</a></li><li><a href="https://principles.design/" target="_blank" rel="noreferrer">A Collection of Design Principles</a></li><li><a href="https://dropbox.design/article/mental-models-for-designers" target="_blank" rel="noreferrer">Mental Models for Designers</a></li><li><a href="https://growth.design/psychology/" target="_blank" rel="noreferrer">The Psychology of Design</a></li></ul><h2 id="-tutorials--challenges">üå± Tutorials &amp; Challenges</h2><ul><li>‚≠êÔ∏è <a href="https://shiftnudge.com/" target="_blank" rel="noreferrer">Shift Nudge</a></li><li><a href="https://www.dailyui.co/" target="_blank" rel="noreferrer">Daily UI Challenge</a></li><li>Figma‚Äôs <a href="https://www.figma.com/resources/learn-design/" target="_blank" rel="noreferrer">Learn Design Pilot</a></li><li><a href="https://trydesignlab.com/figma-101-course/" target="_blank" rel="noreferrer">Free 7 Day Figma 101 Email Course</a></li></ul><h2 id="-books">üìö Books</h2><ul><li>‚≠êÔ∏è <a href="https://www.amazon.com/Dont-Make-Think-Revisited-Usability/dp/0321965515" target="_blank" rel="noreferrer">Don‚Äôt Make Me Think</a></li><li><a href="https://www.amazon.com/Designing-Products-People-Love-Successful-ebook/dp/B019YN9WFW/" target="_blank" rel="noreferrer">Designing Products People Love</a></li><li><a href="https://www.amazon.com/User-Friendly-Hidden-Design-Changing-ebook/dp/B07HF2M7ZN" target="_blank" rel="noreferrer">User Friendly</a></li><li><a href="https://www.amazon.com/Hooked-How-Build-Habit-Forming-Products/dp/1591847788" target="_blank" rel="noreferrer">Hooked</a></li><li><a href="https://www.amazon.com/Design-Everyday-Things-Revised-Expanded-ebook/dp/B00E257T6C" target="_blank" rel="noreferrer">The Design of Everyday Things</a></li><li><a href="https://uxstudioteam.com/product-design-book/" target="_blank" rel="noreferrer">Product Design</a></li></ul><h2 id="-audio--video">üé• Audio &amp; Video</h2><ul><li><a href="https://www.highresolution.design/" target="_blank" rel="noreferrer">High Resolution Podcast</a></li><li><a href="https://www.amazon.com/gp/video/detail/B079N3Y4C6/ref=pd_cbs_318_2" target="_blank" rel="noreferrer">Helvetica</a></li><li><a href="https://www.imdb.com/title/tt10984548/" target="_blank" rel="noreferrer">Ian Spalter: Digital Product Design</a> (Part of Netflix‚Äôs <a href="https://www.netflix.com/title/80057883" target="_blank" rel="noreferrer">Abstract</a> Series)</li></ul><h2 id="-getting-buy-in">üíº Getting Buy In</h2><ul><li><a href="https://jenswedin.medium.com/why-invest-in-design-e4a6d745afb2" target="_blank" rel="noreferrer">Why Invest in Design?</a></li></ul><h2 id="-further-reading">üîó Further Reading</h2><p>I‚Äôm not the first person who has put a list like this together. Here are similar guides you may find helpful:</p><ul><li><a href="https://nlevin.medium.com/ux-design-recommendations-8de563c5fbfa" target="_blank" rel="noreferrer">UX Design Resources &amp; Recommendations</a></li><li><a href="https://start.uxdesign.cc/" target="_blank" rel="noreferrer">The Guide to Design</a></li><li><a href="https://www.degreeless.design/" target="_blank" rel="noreferrer">Degreeless Design</a></li></ul><hr><p>‚≠êÔ∏è Denotes my top picks</p><p>[1]<!-- --> I may or may not have a <a href="https://cln.sh/rq5Kdd" target="_blank" rel="noreferrer">picture</a> of these framed above my desk</p></div></div>]]>
            </description>
            <link>https://blog.awaxman.com/product-design-resources</link>
            <guid isPermaLink="false">hacker-news-small-sites-26143187</guid>
            <pubDate>Mon, 15 Feb 2021 14:44:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Use Search-oriented programming (Rule: 1000)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26143175">thread link</a>) | @nitramm
<br/>
February 15, 2021 | https://devrule.dev/r/1000-use-search-oriented-programming/ | <a href="https://web.archive.org/web/*/https://devrule.dev/r/1000-use-search-oriented-programming/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>
<article>


<p>The idea of search-oriented programming is based on two premises:</p>
<ol>
<li>Every useful class, method, or attribute has been used at least once. If nobody is using it, do not use it either.</li>
<li>Every line in mature software has been checked by multiple people. Therefore every class, method, or variable has a descriptive and understandable name.</li>
</ol>
<h2 id="search-in-existing-code">Search In Existing Code</h2>
<p>If you know the name of the class or function you can try to <a href="https://www.google.com/search?q=wikipediaapi.Wikipedia">google it</a>. You will get most likely just a <a href="https://pypi.org/project/Wikipedia-API/">package page</a>, <a href="https://wikipedia-api.readthedocs.io/en/latest/wikipediaapi/api.html#wikipediaapi.WikipediaPage">documentation</a>, or <a href="https://stackoverflow.com/questions/34869597/wikipedia-api-for-python/47793106#47793106">Stackoverflow questions</a>. This is a good start but you can get better results if you use more specialized search engines. Specific examples will help you to learn not only about the entity itself but also about other entities that are used nearby.</p>
<h2 id="where-to-search">Where To Search</h2>
<ol>
<li>Search in your project. It is just one keyboard shortcut away and it is the best code that you can find. It has passed code review, you can find relevant pull requests, or even talk with people who have written that code. Many IDE allows you to easily find all usages of the entity.</li>
<li>Search in repositories of your organization. It could take a little bit longer and you may not be able to talk with the others of that code. On the other side, there is a greater chance that you will find something.</li>
<li>Search in communication in your company. If you have problems with figuring out how it should be used, you are for sure not the first one. Try to search in wikis, Slack, e-mails, etc.</li>
<li>Search in the source code of that project. If it is a public method, then it should be covered at least with unit tests. By finding these <a href="https://github.com/martin-majlis/Wikipedia-API/blob/master/tests/wikipedia_page_test.py#L23">tests</a>, you can learn what was the intended usage by the authors.</li>
<li>Search in open source repositories. GitHub allows you to search in their 100M+ repositories. So you will find for sure many good examples. If you compare search <a href="https://github.com/search?l=Python&amp;p=5&amp;q=wikipediaapi.Wikipedia&amp;type=Code">GitHub results</a> with initial Google results you can that it is much more useful.</li>
</ol>
<p>Another advantage of using GitHub is that you not only find the function itself and its friends, but you will also find how it is used in tests. Documentation of how to use <code>requests.Session</code> is <a href="https://requests.readthedocs.io/en/master/user/advanced/#session-objects">short</a>, but since it is a lot, you will find many <a href="https://github.com/search?q=%22requests.Session%22+import+requests+Session&amp;type=Code">examples</a>.</p>
<h2 id="guess-names">Guess Names</h2>
<p>Since the code was written by sane people and reviewed by other people, there is a very high chance that used names would be descriptive. Therefore you can always try to search for possible class or method names to see if anything useful is there.</p>
<p>If you are searching for code related to login workflow, you can try to search for string <code>login</code>. If you want to find code related to manipulation with items in a shopping cart, you can search for words like <code>cart</code>, <code>basket</code>, or <code>order</code>.</p>

</article>

</div>
</div></div>]]>
            </description>
            <link>https://devrule.dev/r/1000-use-search-oriented-programming/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26143175</guid>
            <pubDate>Mon, 15 Feb 2021 14:43:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Neuromorphic Computing: How It Accelerated the Analog Revolution]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26142977">thread link</a>) | @ShradhaSingh
<br/>
February 15, 2021 | https://techgave.com/neuromorphic-computing-how-it-accelerated-the-analog-revolution/ | <a href="https://web.archive.org/web/*/https://techgave.com/neuromorphic-computing-how-it-accelerated-the-analog-revolution/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://techgave.com/neuromorphic-computing-how-it-accelerated-the-analog-revolution/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26142977</guid>
            <pubDate>Mon, 15 Feb 2021 14:24:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Alien-Haunted World]]>
            </title>
            <description>
<![CDATA[
Score 21 | Comments 18 (<a href="https://news.ycombinator.com/item?id=26142795">thread link</a>) | @CapitalistCartr
<br/>
February 15, 2021 | http://m.nautil.us/blog/the-alien_haunted-world | <a href="https://web.archive.org/web/*/http://m.nautil.us/blog/the-alien_haunted-world">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			

			<figure data-alt=""><img src="http://static.nautil.us/18165_825ab77fe4eb3419db2fc9c6ceff7146.jpg" width="733" alt=""><figcaption><span><i>To shield one‚Äôs pet hypothesis of an alien object by suggesting that it is not being taken seriously because of a flaw in how we do science is playing a disingenuous game with the facts.</i></span><span>Illustration by ktsdesign / Shutterstock</span></figcaption></figure><p><span>D</span>id you know that there are many scientists who devote their working lives to skillfully charting out the most unassuming chunks of our solar system‚Äîchunks that none of our species will likely never see up close? Chunks that, individually, are mere specks in the cloud of millions of such primordial planetary leftovers circling our sun. Or, are you aware that there are those who spend day after day wrestling with how to measure and decode the extraordinary orbital dances of unreachable exoplanets, or to detect and interpret the delicate spectra revealing the composition of alien atmospheres tens of trillions of miles away?</p><p>If not them, then what about those who have, for decades, tackled some of the most daunting questions about the phenomenon we call life itself, including how it began here on Earth billions of years ago, and how it might have begun anywhere else in the cosmos? And can you recall that there are devoted and talented scientists who pursue the exquisite possibility that somewhere there are alien minds sending out structured, information-rich signals, or repurposing their environments in ways that we‚Äîother scraps of thinking life‚Äîmight just be able to spot across the gaping void of interstellar space?</p><blockquote><p>Aliens may be out there. And we are looking for them.</p> </blockquote><p>If you could say yes to any of these questions, well done. You are a well-informed citizen of planet Earth, aware of humanity‚Äôs ongoing efforts to make sense of the nature of reality. If, on the other hand, you couldn‚Äôt respond in the affirmative then perhaps you wouldn‚Äôt blink an eye at newspaper articles or TV headlines asking why (oh why?!) scientists won‚Äôt take the task of ‚Äúlooking for aliens‚Äù more seriously? Or articles harrumphing about how conservative science is when it comes to ‚Äúthinking out of the box,‚Äù especially if the topic is one that‚Äôs been abused so many times over literally centuries that researchers now have little choice but to apply extreme care and caution.<br></p><p>I am, if you are not up on your science news at the moment, referring to a recent flurry of words and opinions that have been, in part, triggered by the publication of the book <i>Extraterrestrial</i> by the theoretical astrophysicist Avi Loeb, in which he attempts to make a case that a recent interstellar object passing through our solar system (<a href="https://nautil.us/blog/how-oumuamua-got-shredded" target="_blank">the ‚ÄòOumuamua object</a>) could have been a piece of technology, conceivably even a tumbling light sail from an alien spacecraft, rather than a piece of frozen rock and gas. Loeb also writes about how science can be overly conservative at times‚Äîaiming his complaints in particular on the reticence to elevate the question of alien life to a more prominent place in our hypotheses about what we see in the universe around us.</p><p>But you need only to have spent a little time recently in the hallways of scientific Zoom calls or on social media to see unhappiness being expressed by many researchers about all of this. That unhappiness reaches a red-hot level any time a new opinion piece gets published that picks up this particular thread. Most recently (at least as I write this), is the appearance in <i>The New York Times</i> of an <a href="https://www.nytimes.com/2021/02/11/opinion/aliens-extraterrestrial-life.html" target="_blank">opinion article</a> with the title ‚ÄúAliens Must Be Out There: Why aren‚Äôt we looking for them?‚Äù, written by the columnist Farhad Manjoo. I think it‚Äôs fair to say that the tone of the headline, erroneously suggesting that alien life exists because we think it must and that we‚Äôre not paying attention, reflects much of the thrust of the content. Reaching an apex of sorts when the piece uses Loeb‚Äôs thoughts on the matter to admonish science, and science-funding agencies, for their ‚Äúclosed-mindedness‚Äù and ‚Äúreflexive skepticism‚Äù when it comes to considering exotic (yes, alien) stuff in the mix for explaining new or unexpected cosmic phenomena.&nbsp;</p><p>What is so incredibly disappointing for a scientist like myself, and for so many of my colleagues across related disciplines‚Äîfrom astronomy to planetary science, to astrobiology‚Äîis that there are no other voices represented in this kind of writing. No snippets or quotes from the hundreds of scientists who are the world‚Äôs experts on matters like ‚ÄòOumuamua, or other extraterrestrial objects, from asteroids to comets to (yes) interstellar chunks, or the Search for Extraterrestrial Intelligence (SETI), or exoplanets, or indeed the very same quest for so-called technosignatures that is fleetingly mentioned. And this one article is by no means alone in that strange incompleteness, where ‚Äúdue diligence‚Äù seems to have gone out the window.</p><p>In reality there are people who do think about all of these scientific questions, week after week. They dig through mountains of data, and sweat blood over understanding the delicate nature of astronomical measurements and instrumentation. They build spacecraft to go to other worlds, as well as asteroids and comets, funded by national agencies like NASA, ESA, JAXA, CNSA, and more. These people are eager and driven, motivated by precisely these same extraterrestrial conundrums: Are we alone? Where do we, or any other life, come from?</p><p>These scientists, including those like the remarkable Jill Tarter‚Äîone of the driving forces and voices behind SETI for the past 40 years‚Äîhave pushed their instruments and skills to the absolute limits in the quest for evidence of extraterrestrial life. Often in the face of intense skepticism. Despite this effort, there has been no evidence to date of extraterrestrial life. But that lack of evidence is not because the scientific enterprise is uniformly conservative, rigid, and close-minded, as implied by Loeb and uncritically echoed by some columnists. It‚Äôs because no discovery or event has risen to the level where it is inexplicable in any other way. Could greater funding and support change that story? Perhaps, but the same could be said for almost any other ambitious scientific enterprise, and the answer cannot be known beforehand.</p><p>A proposal that a phenomenon like ‚ÄòOumuamua is an alien artifact is certainly going to meet push-back. But that push-back is well founded. It results from the extensive work of scientific experts on precisely this kind of interstellar visitor. Our models of star and planet formation have long hypothesized the existence of leftover pieces of solid material (planetesimals) that could spend eons moving across interstellar space. They have outlined how an interloper like ‚ÄòOumuamua would be a stunning discovery. But it would be a stunning discovery reflecting natural processes; reservoirs of these planetesimals‚Äîalready suggested by the hazy light seen around certain other stars‚Äîthat can be ejected and scattered across interstellar space in numbers that may be perfectly consistent with the chances of our solar system being visited by one. This is precisely why an agency like ESA is developing its <a href="https://www.cometinterceptor.space/" target="_blank">Comet Interceptor Mission</a>, to be ready to chase future interstellar visitors.</p><div id="inpagesub">
	<p>Get the <span>Nautilus</span> newsletter</p>
<p>
	The newest and most popular articles delivered right to your inbox!
</p>
			<!-- Begin MailChimp Signup Form -->
			




</div><p>‚ÄòOumuamua certainly had puzzling characteristics. It was small for an interstellar comet, it was elongated and, despite being barely caught by our best telescopes and nimblest astronomers as it wended its tumbling way back out of the solar system, it exhibited an ethereal acceleration away from the Sun. But even these puzzles are explicable by known processes and are not wildly inconsistent with the properties of other cometary-like objects. Indeed, a number of comparatively straightforward, testable, explanations seem compatible, <a href="https://www.hou.usra.edu/meetings/lpsc2021/pdf/1718.pdf" target="_blank">including the possibility</a> that the object was a frozen nitrogen ‚Äúiceberg,‚Äù a chip off the block of some distant Pluto-like world.&nbsp;</p><p>In light of all of this rigorous insight, to shield one‚Äôs pet hypothesis of an alien object by suggesting that it is not being taken seriously because of a flaw in how we do science is playing a disingenuous game with the facts. As is to suggest that this is actually in aid of raising support for the search for extraterrestrial life. For that to be uncritically echoed elsewhere is truly unfortunate.</p><p>As in any human intellectual endeavor, there are many voices, many insights. It‚Äôs too bad that not all insights get the same kind of airtime. If they did, we‚Äôd be hearing so much more about the extraordinary ongoing scientific efforts‚Äîboth institutional and personal‚Äîto open up our minds, to explore new worlds, and perhaps discover new life. Are we all carrying out these efforts perfectly? No. Scientific conservatism is present. But so too is a clear memory of the many times where enthusiasm for a provocative idea about alien life has given way to disappointment‚Äîfrom fossils in Martian meteorites to arsenic-laced microbes. Fingers have been burnt before in the quest to find clues to life in the universe.&nbsp;</p><p>They weren‚Äôt burned because of misplaced skepticism though. A wide range of scientists did their own due diligence: scrutinizing a hypothesis, gathering more data, weighing the evidence and building their confidence in a conclusion. Science denialism has cursed many cultures in recent years. Thankfully it looks to be receding somewhat. But being blind to how science works and what it‚Äôs doing is also a form of denialism. Aliens may be out there. And we are looking for them.</p><p><i>Caleb Scharf is an astrophysicist and the director of astrobiology at Columbia University in New York. His latest book is&nbsp;</i>The Ascent of Information: Books, Bits, Genes, Machines, and Life‚Äôs Unending Algorithm<i>, coming in June 2021.&nbsp;Follow him on Twitter @caleb_scharf.</i></p>

		</div></div>]]>
            </description>
            <link>http://m.nautil.us/blog/the-alien_haunted-world</link>
            <guid isPermaLink="false">hacker-news-small-sites-26142795</guid>
            <pubDate>Mon, 15 Feb 2021 13:59:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Qt for MCUs 1.7 Released]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26142588">thread link</a>) | @Nokinside
<br/>
February 15, 2021 | https://www.qt.io/blog/qt-for-mcus-1.7-released | <a href="https://web.archive.org/web/*/https://www.qt.io/blog/qt-for-mcus-1.7-released">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                            

                            <p>
                                Monday February 15, 2021 by <a href="https://www.qt.io/blog/author/yoann-lopes">Yoann Lopes</a> | <a href="#commento">Comments</a>
                            </p>
                            
                            <p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p>The first Qt for MCUs release of 2021 is out! Download it to get the latest features and create ever lighter yet impressive-looking Qt applications for microcontroller-powered devices.</p>
<!--more-->
<p>Newcomers can get a <a href="https://www.qt.io/download" rel="noopener" target="_blank">free evaluation here</a>, while others can run the Qt Installer to update to the latest version.</p>
<p>The full list of changes included in version 1.7 can be found in the <a href="https://doc.qt.io/QtForMCUs/qtul-changes.html" rel="noopener" target="_blank">changelog</a> in the online documentation. Continue reading for more information on the content of this release.</p>
<h4><span>Multiscreen support</span></h4>
<p><span>The <a href="https://doc.qt.io/QtForMCUs/qml-qtquickultralite-layers-application.html" rel="noopener" target="_blank">Application</a> and <a href="https://doc.qt.io/QtForMCUs/qml-qtquickultralite-layers-screen.html" rel="noopener" target="_blank">Screen </a>QML types have been added to enable driving multiple display outputs from the same Qt for MCUs application. Note that the <a href="https://doc.qt.io/QtForMCUs/platform-porting-guide-screen.html" rel="noopener" target="_blank">platform port</a> must be adapted to expose the different screens to the Qt Quick Ultralite engine.</span></p>
<p><span>More details on these APIs can be found in the <a href="https://doc.qt.io/QtForMCUs/quickultralite-multiscreen-example.html" rel="noopener" target="_blank">multiscreen example</a>.</span></p>
<h4>Hardware layer support</h4>
<p>New QML APIs have been added to give you more control over the way graphics are being processed by the hardware. By slicing up your graphical user interface into multiple layers with different characteristics (e.g., color depth, refresh interval), you can optimize the CPU, GPU, and memory usage of your application.&nbsp;</p>
<p>Let's take the screen below as an example:</p>
<p><img src="https://www.qt.io/hs-fs/hubfs/_Website_Blog/Upload_Here/layers.png?width=525&amp;name=layers.png" alt="MCU Development" width="525" srcset="https://www.qt.io/hs-fs/hubfs/_Website_Blog/Upload_Here/layers.png?width=263&amp;name=layers.png 263w, https://www.qt.io/hs-fs/hubfs/_Website_Blog/Upload_Here/layers.png?width=525&amp;name=layers.png 525w, https://www.qt.io/hs-fs/hubfs/_Website_Blog/Upload_Here/layers.png?width=788&amp;name=layers.png 788w, https://www.qt.io/hs-fs/hubfs/_Website_Blog/Upload_Here/layers.png?width=1050&amp;name=layers.png 1050w, https://www.qt.io/hs-fs/hubfs/_Website_Blog/Upload_Here/layers.png?width=1313&amp;name=layers.png 1313w, https://www.qt.io/hs-fs/hubfs/_Website_Blog/Upload_Here/layers.png?width=1575&amp;name=layers.png 1575w" sizes="(max-width: 525px) 100vw, 525px"></p>
<ul>
<li>The background layer (white border) is made of a single fullscreen static image. The <a href="https://doc.qt.io/QtForMCUs/qml-qtquickultralite-layers-imagelayer.html" rel="noopener" target="_blank">ImageLayer </a>type can be used in this case; the image is copied directly to the screen from a static storage location (flash memory), without ever being copied to an intermediate framebuffer in RAM.</li>
<li>The blue and red rectangles represent three areas with dynamic content made up of different QML components . These areas are contained in <a href="https://doc.qt.io/QtForMCUs/qml-qtquickultralite-layers-itemlayer.html" rel="noopener" target="_blank">ItemLayers</a>, each can be configured to have a different bit depth and refresh interval in order to optimize framebuffer size and CPU/GPU load. Note that because these areas are not overlapping and do not fill the entire screen, the amount of RAM used for framebuffers is significantly smaller than if layers had not been used.</li>
<li>The yellow rectangle is the top layer. Similarly to the background layer, it is made of static images and a framebuffer is not needed for this area. Because platforms have limitations on the number of root layers an application can have, a <a href="https://doc.qt.io/QtForMCUs/qml-qtquickultralite-layers-spritelayer.html" rel="noopener" target="_blank">SpriteLayer </a>is used to contain the different ImageLayers, which then become sublayers.</li>
</ul>
<p>When GUIs are designed and organized in such a way, framebuffer requirements can be significantly reduced, while ensuring top-priority layers are smoothly animated by <span>reducing the frame rate of lower-priority layers.</span></p>
<p><span>You can read more about performance optimization using layers in this <a href="https://doc.qt.io/QtForMCUs/qtul-improving-performance-with-hardware-layers.html" rel="noopener" target="_blank">documentation page</a>, and </span>find a <a href="https://doc.qt.io/QtForMCUs/quickultralite-layers-example.html" rel="noopener" target="_blank">complete example</a> in the <em>examples/layers&nbsp;</em>directory of the Qt for MCUs SDK.</p>
<p>In 1.7, layer APIs are implemented for Renesas RH850-D1M1A and for desktop (for development and testing purposes). More reference platforms, starting with the automotive ones, will include layer support in upcoming releases.</p>
<h4><span>Perspective transformations on 2D objects AKA 2.5D or pseudo-3D</span></h4>
<p><span>For those not familiar with the term, 2.5D refers to the use of graphical projections to make two-dimensional objects appear as three-dimensional. With Qt Quick Ultralite, this can be achieved by applying a <a href="https://doc.qt.io/QtForMCUs/qml-qtquick-matrix4x4.html" rel="noopener" target="_blank">Matrix4x4 </a>transform to Image, Text, or StaticText elements.</span></p>
<p><span>To get an idea of what type of user interface you can build using this technique, have a look at the video below:</span></p>

<p><img src="https://play.vidyard.com/WeyfH8azeigAy2e2uLtsPb.jpg" width="476" height="284" alt="ezgif.com-gif-maker" data-uuid="WeyfH8azeigAy2e2uLtsPb" data-v="4" data-width="476" data-height="284" data-viral_sharing="0" data-embed_button="0" data-hide_playlist="1" data-color="FFFFFF" data-playlist_color="FFFFFF" data-play_button_color="2A2A2A" data-gdpr_enabled="1" data-type="inline" data-autoplay="1" data-loop="0" data-muted="0" data-hidden_controls="0" data-pomo="2">

</p>



<p><span>The source code of this example is <a href="https://doc.qt.io/QtForMCUs/quickultralite-perspective-transforms-example.html" rel="noopener" target="_blank">included in the SDK</a> under the <span>examples/perspective_transforms</span> directory.</span></p>
<h4><span>Dynamic font property changes</span></h4>
<p><span>Usage of different font configurations is now more flexible and powerful with the possibility to dynamically change font properties such as size, family or style on any Text element at runtime. This can be used for example to associate different font configurations to different UI themes using QML bindings. Read more about all the quirks of font bindings in this <a href="https://doc.qt.io/QtForMCUs/qtul-fonts.html#bindings" rel="noopener" target="_blank">documentation page</a>.</span></p>
<h4><span>Coming next</span></h4>
<p><span>The next release is planned for April and will introduce new MCU platforms and more options to reduce RAM footprint. Stay tuned for more information.</span></p></span></p>
                            
                            
                                <hr>
                          
                                <h6>Blog Topics:</h6>        
                                
                            


                        </div></div>]]>
            </description>
            <link>https://www.qt.io/blog/qt-for-mcus-1.7-released</link>
            <guid isPermaLink="false">hacker-news-small-sites-26142588</guid>
            <pubDate>Mon, 15 Feb 2021 13:36:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[An Improved Thread with C++20]]>
            </title>
            <description>
<![CDATA[
Score 66 | Comments 66 (<a href="https://news.ycombinator.com/item?id=26142257">thread link</a>) | @ibobev
<br/>
February 15, 2021 | http://modernescpp.com/index.php/an-improved-thread-with-c-20 | <a href="https://web.archive.org/web/*/http://modernescpp.com/index.php/an-improved-thread-with-c-20">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="blogContent">
				<p><code>std::jthread</code> stands for joining thread. In addition to <code>std::thread</code> (C++11),<code> std::jthread</code> automatically joins in its destructor and can cooperatively be interrupted. Read in this post to know why <code>std::jthread</code> should be your first choice.</p>

<p>&nbsp;<img src="http://modernescpp.com/images/blog/Cpp20/jthread/TimelineCpp20.png" alt="TimelineCpp20" width="650" height="227"></p>
<p>The following table gives you a concise overview of the functionality of <code>std::jthread</code>.</p>
<p><img src="http://modernescpp.com/images/blog/Cpp20/jthread/jthread.png" alt="jthread" width="650" height="572"></p>

<p>For additional details, please refer to <a href="https://en.cppreference.com/w/cpp/thread/jthread">cppreference.com</a>. When you want to read more post about <code>std::thread</code>, here are they: <a href="http://modernescpp.com/index.php/der-einstieg-in-modernes-c#h1-2-the-threading-interface">my post about std::thread.</a></p>
<p>First, why do we need an improved thread in C++20? Here is the first reason.</p>
<h2 id="h1-automatically-joining">Automatically Joining</h2>
<p>This is the <strong>non-intuitive</strong> behavior of <code>std::thread</code>. If a <code>std::thread</code> is still joinable, <a href="https://en.cppreference.com/w/cpp/error/terminate">std::terminate</a> is called in its destructor. A thread<code> thr</code> is joinable if neither <code>thr.join()</code> nor <code>thr.detach()</code> was called. Let me show, what that means.</p>
<!-- HTML generated using hilite.me -->
<div>
<pre><span>// threadJoinable.cpp</span>

<span>#include &lt;iostream&gt;</span>
<span>#include &lt;thread&gt;</span>

<span>int</span> <span>main</span>() {
    
    std<span>::</span>cout <span>&lt;&lt;</span> <span>'\n'</span>;
    std<span>::</span>cout <span>&lt;&lt;</span> std<span>::</span>boolalpha;
    
    std<span>::</span><span>thread</span> thr{[]{ std<span>::</span>cout <span>&lt;&lt;</span> <span>"Joinable std::thread"</span> <span>&lt;&lt;</span> <span>'\n'</span>; }};
    
    std<span>::</span>cout <span>&lt;&lt;</span> <span>"thr.joinable(): "</span> <span>&lt;&lt;</span> thr.joinable() <span>&lt;&lt;</span> <span>'\n'</span>;
    
    std<span>::</span>cout <span>&lt;&lt;</span> <span>'\n'</span>;
    
}
</pre>
</div>

<p>When executed, the program terminates when the local object <code>thr</code> goes out of scope.</p>
<p><img src="http://modernescpp.com/images/blog/Cpp20/jthread/threadJoinable.png" alt="threadJoinable" width="500" height="279"></p>
<p>Both executions of<code> std::thread</code> terminate. In the second run, the thread <code>thr</code> has enough time to display its message:&nbsp;<code>Joinable std::thread</code>.</p>
<p>In the next example, I use <code>std::jthread</code> from the C++20 standard.</p>
<!-- HTML generated using hilite.me -->
<div>
<pre><span>// jthreadJoinable.cpp</span>

<span>#include &lt;iostream&gt;</span>
<span>#include &lt;thread&gt;</span>

<span>int</span> <span>main</span>() {
    
    std<span>::</span>cout <span>&lt;&lt;</span> <span>'\n'</span>;
    std<span>::</span>cout <span>&lt;&lt;</span> std<span>::</span>boolalpha;
    
    std<span>::</span>jthread thr{[]{ std<span>::</span>cout <span>&lt;&lt;</span> <span>"Joinable std::thread"</span> <span>&lt;&lt;</span> <span>'\n'</span>; }};
    
    std<span>::</span>cout <span>&lt;&lt;</span> <span>"thr.joinable(): "</span> <span>&lt;&lt;</span> thr.joinable() <span>&lt;&lt;</span> <span>'\n'</span>;
    
    std<span>::</span>cout <span>&lt;&lt;</span> <span>'\n'</span>;
    
}
</pre>
</div>

<p>Now, the thread<code> thr</code> automatically joins in its destructor if it's still joinable such as in this case.</p>
<p><img src="http://modernescpp.com/images/blog/Cpp20/jthread/jthreadJoinable.png" alt="jthreadJoinable" width="350" height="177"></p>
<p>But this is not all that<code> std::jthread</code>&nbsp; provides additionally to <code>std::thread</code>. A <code>std::jthread</code> can be cooperatively interrupted. I already presented the general ideas of cooperative interruption in my last post: <a href="http://modernescpp.com/index.php/cooperative-interruption-of-a-thread-in-c-20">Cooperative Interruption of a Thread in C++20</a>.</p>
<h2 id="h2-cooperative-interruption-of-a-std-jthread">Cooperative Interruption of a<code> std::jthread</code></h2>
<p>To get a general idea, let me present a simple example.</p>
<!-- HTML generated using hilite.me -->
<div>
<pre><span>// interruptJthread.cpp</span>

<span>#include &lt;chrono&gt;</span>
<span>#include &lt;iostream&gt;</span>
<span>#include &lt;thread&gt;</span>

<span>using</span> <span>namespace</span><span>::</span>std<span>::</span>literals;

<span>int</span> <span>main</span>() {
    
    std<span>::</span>cout <span>&lt;&lt;</span> <span>'\n'</span>;
    
    std<span>::</span>jthread nonInterruptable([]{                           <span>// (1)</span>
        <span>int</span> counter{<span>0</span>};
        <span>while</span> (counter <span>&lt;</span> <span>10</span>){
            std<span>::</span>this_thread<span>::</span>sleep_for(<span>0.2</span>s);
            std<span>::</span>cerr <span>&lt;&lt;</span> <span>"nonInterruptable: "</span> <span>&lt;&lt;</span> counter <span>&lt;&lt;</span> <span>'\n'</span>; 
            <span>++</span>counter;
        }
    });
    
    std<span>::</span>jthread interruptable([](std<span>::</span>stop_token stoken){     <span>// (2)</span>
        <span>int</span> counter{<span>0</span>};
        <span>while</span> (counter <span>&lt;</span> <span>10</span>){
            std<span>::</span>this_thread<span>::</span>sleep_for(<span>0.2</span>s);
            <span>if</span> (stoken.stop_requested()) <span>return</span>;               <span>// (3)</span>
            std<span>::</span>cerr <span>&lt;&lt;</span> <span>"interruptable: "</span> <span>&lt;&lt;</span> counter <span>&lt;&lt;</span> <span>'\n'</span>; 
            <span>++</span>counter;
        }
    });
    
    std<span>::</span>this_thread<span>::</span>sleep_for(<span>1</span>s);
    
    std<span>::</span>cerr <span>&lt;&lt;</span> <span>'\n'</span>;
    std<span>::</span>cerr <span>&lt;&lt;</span> <span>"Main thread interrupts both jthreads"</span> <span>&lt;&lt;</span> <span>'\n'</span>;
    nonInterruptable.request_stop();
    interruptable.request_stop();                              <span>// (4)</span>
    
    std<span>::</span>cout <span>&lt;&lt;</span> <span>'\n'</span>;
    
}
</pre>
</div>

<p>In the main program, I start the two threads <code>nonInterruptable</code> and interruptable (lines 1)and 2). Unlike in the thread <code>nonInterruptable</code> , the thread <code>interruptable</code> gets a <code>std::stop_token</code> and uses it in line (3) to check if it was interrupted: <code>stoken.stop_requested()</code>. In case of a stop request, the lambda function returns, and, therefore, the thread ends. The call <code>interruptable.request_stop()</code> (line 4) triggers the stop request. This does not hold for the previous call <code>nonInterruptable.request_stop()</code> . The call has no effect.</p>
<p><img src="http://modernescpp.com/images/blog/Cpp20/jthread/interruptJthread.png" alt="interruptJthread" width="400" height="382"></p>
<p>To make my post complete, with C++20, you can also cooperatively interrupt a condition variable.</p>
<h2 id="h3-new-wait-overloads-for-std-condition-variable-any">New wait Overloads for <code>std::condition_variable_any</code></h2>
<p>Before I write about <code>std::condition_variable_any</code>, here are my post about <a href="http://modernescpp.com/index.php/tag/condition-variable">condition variables</a>.&nbsp;</p>
<p>The three wait variations <code>wait, wait_for</code>, and<code> wait_until</code> of the std::condition_variable_any get new overloads. These overloads take a <code>std::stop_token</code>.</p>
<!-- HTML generated using hilite.me -->
<div>
<pre><span>template</span> <span>&lt;</span><span>class</span> <span>Predicate</span><span>&gt;</span>
<span>bool</span> wait(Lock<span>&amp;</span> lock,  
          stop_token stoken,
          Predicate pred);

<span>template</span> <span>&lt;</span><span>class</span> <span>Rep</span>, <span>class</span> <span>Period</span>, <span>class</span> <span>Predicate</span><span>&gt;</span>
<span>bool</span> wait_for(Lock<span>&amp;</span> lock, 
              stop_token stoken, 
              <span>const</span> chrono<span>::</span>duration<span>&lt;</span>Rep, Period<span>&gt;&amp;</span> rel_time, 
              Predicate pred);
                
<span>template</span> <span>&lt;</span><span>class</span> <span>Clock</span>, <span>class</span> <span>Duration</span>, <span>class</span> <span>Predicate</span><span>&gt;</span>
<span>bool</span> wait_until(Lock<span>&amp;</span> lock, 
                stop_token stoken,
                <span>const</span> chrono<span>::</span>time_point<span>&lt;</span>Clock, Duration<span>&gt;&amp;</span> abs_time, 
                Predicate pred);
</pre>
</div>

<p>These new overloads need a predicate. The presented versions ensure to get notified if a stop request for the passed <code>std::stop_token stoken</code> is signaled. They return a boolean that indicates whether the predicate evaluates to <code>true</code>. This returned boolean is independent of whether a stop was requested or of whether the timeout was triggered.</p>
<p>After the wait calls, you can check if a stop request occurred.</p>
<!-- HTML generated using hilite.me -->
<div>
<pre>cv.wait(lock, stoken, predicate);
<span>if</span> (stoken.stop_requested()){
    <span>// interrupt occurred</span>
}
</pre>
</div>

<p>The following example shows the usage of a condition variable with a stop request.</p>
<!-- HTML generated using hilite.me -->
<div>
<pre><span>// conditionVariableAny.cpp</span>

<span>#include &lt;condition_variable&gt;</span>
<span>#include &lt;thread&gt;</span>
<span>#include &lt;iostream&gt;</span>
<span>#include &lt;chrono&gt;</span>
<span>#include &lt;mutex&gt;</span>
<span>#include &lt;thread&gt;</span>

<span>using</span> <span>namespace</span> std<span>::</span>literals;

std<span>::</span>mutex mutex_;
std<span>::</span>condition_variable_any condVar;

<span>bool</span> dataReady;

<span>void</span> <span>receiver</span>(std<span>::</span>stop_token stopToken) {                 <span>// (1)</span>

    std<span>::</span>cout <span>&lt;&lt;</span> <span>"Waiting"</span> <span>&lt;&lt;</span> <span>'\n'</span>;

    std<span>::</span>unique_lock<span>&lt;</span>std<span>::</span>mutex<span>&gt;</span> lck(mutex_);
    <span>bool</span> ret <span>=</span> condVar.wait(lck, stopToken, []{<span>return</span> dataReady;});
    <span>if</span> (ret){
        std<span>::</span>cout <span>&lt;&lt;</span> <span>"Notification received: "</span> <span>&lt;&lt;</span> <span>'\n'</span>;
    }
    <span>else</span>{
         std<span>::</span>cout <span>&lt;&lt;</span> <span>"Stop request received"</span> <span>&lt;&lt;</span> <span>'\n'</span>;
    }
}

<span>void</span> <span>sender</span>() {                                            <span>// (2)</span>

    std<span>::</span>this_thread<span>::</span>sleep_for(<span>5</span>ms);
    {
        std<span>::</span>lock_guard<span>&lt;</span>std<span>::</span>mutex<span>&gt;</span> lck(mutex_);
        dataReady <span>=</span> <span>true</span>;
        std<span>::</span>cout <span>&lt;&lt;</span> <span>"Send notification"</span>  <span>&lt;&lt;</span> <span>'\n'</span>;
    }
    condVar.notify_one();                                  <span>// (3)</span>

}

<span>int</span> <span>main</span>(){

  std<span>::</span>cout <span>&lt;&lt;</span> <span>'\n'</span>;

  std<span>::</span>jthread t1(receiver);
  std<span>::</span>jthread t2(sender);
  
  t1.request_stop();                                       <span>// (4)</span>

  t1.join();
  t2.join();

  std<span>::</span>cout <span>&lt;&lt;</span> <span>'\n'</span>;
  
}
</pre>
</div>

<p>The receiver thread (line 1) is waiting for the notification of the sender thread (line 2). Before the sender thread sends its notification (line 3), the main thread triggered a stop request in<br>line (4). The output of the program shows that the stop request happened before the notification.</p>
<h2><img src="http://modernescpp.com/images/blog/Cpp20/jthread/conditionVariableAny.png" alt="conditionVariableAny" width="281" height="113"></h2>
<h2 id="h4-what-s-next">What's next?</h2>
<p>What happens when your write without synchronization to <code>std::cout</code>? You get a mess. Thanks to C++20, we have synchronized output streams.</p>
<div>
	<p><strong>Thanks a lot to my <a href="https://www.patreon.com/rainer_grimm">Patreon Supporters</a></strong><strong>: Matt Braun, Roman Postanciuc, Tobias Zindl, Marko, </strong><span title="Emyr Williams"><strong>G Prvulovic, Reinhold Dr√∂ge, Abernitzke,</strong> </span><strong><span title="Emyr Williams">Frank Grimm</span></strong><span title="Emyr Williams"><strong>, Sakib, Broeserl, </strong></span><strong><span title="Emyr Williams">Ant√≥nio Pina, Darshan Mody, Sergey Agafyin, <span data-tag="user-details-full-name">–ê–Ω–¥—Ä–µ–π –ë—É—Ä–º–∏—Å—Ç—Ä–æ–≤, Jake, GS, Lawton Shoemake, Animus24, Jozo Leko, John Breland, espkk, Wolfgang G√§rtner</span></span><span title="Emyr Williams"><span><span></span></span></span>,&nbsp; Louis St-Amour, Stephan Roslen, Venkat Nandam, Jose Francisco, Douglas Tinkham, Kuchlong Kuchlong, Avi Kohn, Robert Blanch, Truels Wissneth, Kris Kafka, Mario Luoni, Neil Wang, Friedrich Huber, lennonli, Pramod Tikare Muralidhara, Peter Ware, and Tobi Heideman.<br></strong></p>

<p><strong>Thanks in particular to Jon Hess, Lakshman,</strong> <strong>Christian Wittenhorst, Sherhy Pyton, Dendi Suhubdy, Sudhakar Belagurusamy, and Richard Sargeant.<br></strong></p>
<p>My special thanks to <a href="https://www.embarcadero.com/de/products/cbuilder">Embarcadero</a> <a href="https://www.embarcadero.com/products/cbuilder"><img src="http://modernescpp.com/images/Embarcadero/CBUIDER_STUDIO_FINAL_ICONS_1024_Small.png" alt="CBUIDER STUDIO FINAL ICONS 1024 Small" width="100" height="100"></a></p>

<h2>Seminars</h2>
<p>I'm happy to give online-seminars or face-to-face seminars world-wide. Please call me if you have any questions.</p>
<h3>Bookable (Online)</h3>
<h4>Deutsch</h4>
<ul>
<li><a href="https://www.modernescpp.de/index.php/c/2-c/30-embedded-programmierung-mit-modernem-c20210126195655">Embedded Programmierung mit modernem C++: </a>12.04.2021 - 14.04.2021, Termingarantie</li>
<li><a href="https://www.modernescpp.de/index.php/c/2-c/31-clean-code-mit-modernem-c">Clean Code mit modernem C++: </a>22.06.2021 - 24.06.2021 </li>
</ul>
<h4>English</h4>
<ul>
<li>Workshop: <a href="https://www.modernescpp.net/index.php/c/2-c/32-workshop-concepts-in-c-20">Concepts in C++20</a>: 22.03.2021 (17:00 - 21:00 CET)</li>
<li>Workshop: <a href="https://www.modernescpp.net/index.php/c/2-c/33-workshop-coroutines-in-c-20">Coroutines in C++20</a>: 06.04.2021 (17:00 - 21:00 CEST)</li>
</ul>
<h3>Standard Seminars&nbsp;</h3>
<p>Here is a compilation of my standard seminars. These seminars are only meant to give you a first orientation.</p>
<ul>
<li><a href="https://www.modernescpp.net/index.php/c/plan/2-c/22">C++ - The Core Language</a></li>
<li><a href="https://www.modernescpp.net/index.php/c/plan/2-c/23">C++ - The Standard Library</a></li>
<li><a href="https://www.modernescpp.net/index.php/c/plan/2-c/23">C++ - Compact</a></li>
<li><a href="https://www.modernescpp.net/index.php/c/plan/2-c/18">C++11 and C++14</a></li>
<li><a href="https://www.modernescpp.net/index.php/c/plan/2-c/19">Concurrency with Modern C++</a></li>
<li><a href="https://www.modernescpp.net/index.php/c/plan/2-c/21">Design Patterns and Architecture Patterns with C++</a></li>
<li><a href="https://www.modernescpp.net/index.php/c/plan/2-c/17">Embedded Programming with Modern C++</a></li>
<li><a href="https://www.modernescpp.net/index.php/c/plan/2-c/17">Generic Programming (Templates) with C++</a></li>
</ul>
<h4>New</h4>
<ul>
<li><a href="https://www.modernescpp.net/index.php/c/plan/2-c/16">Clean Code with Modern C++</a></li>
<li><a href="https://www.modernescpp.net/index.php/c/plan/2-c/25">C++20</a></li>
</ul>
<h3>Contact Me</h3>
<ul>
<li>Tel.: +49 7472 917441</li>
<li>Mobil: +49 152 31965939</li>
<li>Mail: <a href="http://modernescpp.com/%3Ca%20href="><span id="cloak432c1f0aa1295ca64338e296aa989760">This email address is being protected from spambots. You need JavaScript enabled to view it.</span></a></li>
<li>German Seminar Page: <a href="https://www.modernescpp.de/">www.ModernesCpp.de</a></li>
<li>English Seminar Page: <a href="http://www.modernescpp.net/">www.ModernesCpp.net</a></li>
</ul>
<h3>Modernes C++,</h3>
<p><img src="http://modernescpp.com/images/signatur/RainerGrimmSmall.png" alt="RainerGrimmSmall"></p></div>


			</div></div>]]>
            </description>
            <link>http://modernescpp.com/index.php/an-improved-thread-with-c-20</link>
            <guid isPermaLink="false">hacker-news-small-sites-26142257</guid>
            <pubDate>Mon, 15 Feb 2021 12:55:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Why of Technology]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26142126">thread link</a>) | @mpereira
<br/>
February 15, 2021 | https://www.murilopereira.com/the-why-of-technology/ | <a href="https://web.archive.org/web/*/https://www.murilopereira.com/the-why-of-technology/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><figure><img src="https://www.murilopereira.com/man_on_a_bicycle.jpg"></figure><blockquote><p>I think one of the things that really separates us from the high primates
is that we‚Äôre tool builders. I read a study that measured the efficiency of
locomotion for various species on the planet. The condor used the least
energy to move a kilometer. Humans came in with a rather unimpressive
showing about a third of the way down the list. It was not too proud a
showing for the crown of creation. So, that didn‚Äôt look so good.</p><p>But then, somebody at Scientific American had the insight to test the
efficiency of locomotion for a man on a bicycle. And, a man on a bicycle, a
human on a bicycle, blew the condor away, completely off the top of the
charts.</p><p>And that‚Äôs what a computer is to me. What a computer is to me is it‚Äôs the
most remarkable tool that we‚Äôve ever come up with.</p><p>It‚Äôs the equivalent of a bicycle for our minds.</p><p>‚Äî <a href="https://www.youtube.com/watch?v=0lvMgMrNDlg&amp;feature=youtu.be&amp;t=322">Steve Jobs (1980)</a></p></blockquote><p>* * *</p><p><a href="https://www.it-hiroshima.ac.jp/institution/library/pdf/research52%5F007-013.pdf">No one knows</a> when or how we, the human species, started talking to each
other. It is likely a natural progression from gesturing, but we can only
speculate about it.</p><p>Language allowed us to break out of our brains and reveal the inner
workings of our consciousness to others.</p><figure><img src="https://www.murilopereira.com/language_speech.jpg" alt="Figure 2: Scott H. Young"><figcaption><p>Figure 2: <a href="https://www.scotthyoung.com/blog/2018/12/04/25-thinking-tools/">Scott H. Young</a></p></figcaption></figure><p>Language is the vessel that carried us from the stone age through the
agricultural revolution, the development of written language, the
scientific and industrial revolutions, and now, the digital age.</p><p>Writing allowed us to <em>offload</em> memories to the physical world‚Äîoutside of
our brains. Through our collective and external memories, each generation
has a head start on the previous one. Little by little, standing on the
shoulders of taller and taller giants, we accumulate knowledge about
ourselves and everything around us.</p><p>We‚Äôve been for long using tools to help us think: notebooks help us
calculate formulas, reason geometrically and preserve our ideas. With
computers, our <em>thinking</em> is now occurring outside of our brains.</p><p>Computers are extensions of our minds in that they allow us to store,
process, and retrieve information from them. With the advent of the
internet we now have immediate access to not only almost all of the
information ever produced by humankind but also to reproducible <em>thinking</em>
encoded into these machines: algorithms.</p><p>Our brain is still a much more impressive device than any of today's
computers. Computers learn
<a href="https://www.davidsilver.uk/wp-content/uploads/2020/03/nfsp-1.pdf">mostly</a>
by finding patterns in massive
quantities of examples given by us. Teaching a young kid about cars‚Äîhow
to recognize one, what they are, what their purpose is, and how they're
related to other things‚Äîrequires little supervision. Noam Chomsky talks
about it in
<a href="https://www.youtube.com/watch?v=hdUbIlwHRkY&amp;t=1462">this interview</a>.</p><p>Each of these processes‚Äîstoring, processing and retrieving
information‚Äîhave concrete effects on the physical world: if I‚Äôm in
Munich, saying ‚Äúshow route to Hamburg‚Äù to my phone will immediately show me
the distance, ETAs and paths for different types of transport to reach my
destination. Not only do I now suddenly know how to navigate across the
country to reach another city, I‚Äôm also able to follow through the exact
path via GPS‚Äîa sixth sense giving me perfect geolocation!</p><p>These <em>things</em> that we created‚Äîcomputers, and the internet‚Äîare literally
<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6502424/">rewiring our brains</a>, right now, shaping how we think, and engage in social
relationships, changing not only our individual selves but the societies we
live in.</p><p>They started as mechanical machines that filled entire laboratories, turned
into beige boxes in our homes and places of work, and are now sleek slabs
of plastic, metal and glass in everyone‚Äôs pockets. Step by step they get
closer to our bodies, their interfaces more intuitive and natural.</p><p>The way we communicate with them is changing: before, we could only
interact with them by speaking their language. We have now taught them
ours. The torch of progress blazes on: it‚Äôs a matter of <em>time</em> until they‚Äôre
connected directly with our brains‚Äîwhich is equally terrifying and
awe-inspiring.</p><figure><img src="https://www.murilopereira.com/neuralink.jpg" alt="Figure 3: Neuralink"><figcaption><p>Figure 3: <a href="https://neuralink.com/">Neuralink</a></p></figcaption></figure><p>Brain-computer interfaces present a monumental scientific and engineering
challenge, and brain-to-brain, a whole other category of difficulty.</p><p>First, we have no idea how information is encoded in the brain. That needs
to be understood. Second, even assuming we‚Äôre able to take a perfect
snapshot of a piece of information in someone‚Äôs brain‚Äîfor example, how a
particular movie scene makes them feel‚Äîwe still need to be able to encode
it in a way that includes the full context of their subjective experiences.
Maybe the scene evokes unique memories of their childhood or is somehow
entangled with the smell of a particular cinema‚Äôs leather seats. Third, we
need to figure out how to safely write this perfect snapshot into someone
else‚Äôs brain in a way that can be perceived identically.</p><p>Which is to say, it‚Äôs a difficult problem. But a worthwhile one: imagine
having the capability to suddenly become aware of answers for questions you
just thought about. To expertly control <a href="https://youtu.be/PLk8Pm%5FXBJE?t=13">truly integrated</a> prosthetics giving
you superhuman abilities. To give movement to the paralized, sound to the
deaf, and sight to the blind.</p><p>What would be the impacts on society if we were able to communicate an
order of magnitude more effectively? What if <em>everyone</em> was equipped with
the same undisputed basic knowledge of history and science?</p><p>There are internal thoughts that we can attempt to describe with a thousand
words, but ultimately fail to capture in a way that‚Äôs precise, much less
comprehensible by someone else. Words and sentences are an incomplete
representation of our internal thoughts. In the same way that 3D objects
cast 2D shadows (<a href="https://www.youtube.com/watch?v=N0WjV6MmCyM">and 4D, 3D</a>) communicating through language doesn‚Äôt carry
all of our cultural and developmental context‚Äîtransmitting all of that
along with every phrase would be impractical. Language is in this sense,
lossily compressed thought.</p><figure><img src="https://www.murilopereira.com/tesseract_shadow.jpg"></figure><p>Inert strings of words of ink and paper take a life of their own inside our
heads. It‚Äôs why the exact same information can be interpreted completely
differently by different people.</p><p>Before language, fire and cooking technology allowed us to reallocate
energy usage from the digestive system to the brain by outsourcing
digestion to outside of our bodies, making macronutrients more efficiently
absorbable. Almost all of a cooked meal is metabolized by the body, whereas
raw foods yield less than half of their nutrients.</p><p>Cooking is an extension of our digestive system, and enabled us to develop
large, calorie-hungry brains. It also gave us time to think: our primate
cousins spend half of their days chewing raw food to consume enough
calories to stay alive.</p><p>Brains can be seen as <em>survival machines</em>, locked inside dark skulls,
constantly building a model of the outside world by predicting and learning
through senses and memory. The biological human brain evolved to have the
necessary sophistication to not only expertly navigate and understand the
brute physical reality but also to construct <em>social</em> reality. Democracy,
religion, money: all made up by us, for us.</p><p>We remember the past so that we can predict the future, and by doing so, we
thrive.</p><p>We create technology, which functions as a non-biological extra layer to
our brains and bodies, augmenting, complementing, and sometimes replacing
our natural capabilities.</p><blockquote><p>The wheel‚Ä¶ is an extension of the foot.</p><p>The book‚Ä¶ is an extension of the eye‚Ä¶</p><p>Clothing, an extension of the skin‚Ä¶</p><p>Electric circuitry, an extension of the central nervous system.</p><p>‚Äî
<a href="https://en.wikipedia.org/wiki/Understanding_Media">Understanding Media: The Extensions of Man (1964)</a></p></blockquote><p>Relatively speaking, we are done evolving <em>biologically</em>. Further adaptations
and enhancements to our bodies and minds will come through technology.</p><figure><img src="https://www.murilopereira.com/brain_layers.jpg" alt="Figure 5: Check out &amp;ldquo;Neuralink and the Brain&amp;rsquo;s Magical Future&amp;rdquo; for a very entertaining primer on the brain."><figcaption><p>Figure 5: Check out ‚Äú<a href="https://waitbutwhy.com/2017/04/neuralink.html">Neuralink and the Brain‚Äôs Magical Future</a>‚Äù for a very entertaining primer on the brain.</p></figcaption></figure><p>To be human is to have the ability to change the world around us. The shift
from hunting and gathering to farming allowed us to spend less energy to
acquire food while giving us a predictable calorie supply.</p><p>The resulting food surplus made it possible for populations to settle down
and grow quickly while supporting people not being directly involved in the
production of food‚Äîbefore agriculture that was everyone‚Äôs job. For one,
it allowed some to specialize and focus on developing better farming tools
and more resistant crops, starting a vicious cycle of improvement and
consumption that continues until today.</p><p>The transition from active foraging to a more sedentary lifestyle resulted
in worse health for the general population. The average farmer worked
harder than the average forager and got a worse diet in return. Our teeth,
bones and joints became more fragile, and we became afflicted by novel
diseases coming from newly domesticated animals, carriers of pathogens that
incubated in our new densely populated cities.</p><p>Owning land suddenly became really important. Agriculture and the concept
of private property reinforced each other and grew together, allowing us to
create value and secure the fruits of our labor. It also created the
circumstances for slavery to arise, and wars to be waged.</p><p>The groups of people growing the first crops could not have anticipated all
of the collateral effects of their breakthrough. They just wanted more
food.</p><p>If the past has taught us anything is that we have to be mindful of the
consequences of our progress. In an increasingly connected world, change is
often <a href="https://hbr.org/2017/05/linear-thinking-in-a-nonlinear-world">nonlinear</a> and unpredictable. Cars didn‚Äôt just replace horses‚Äîthey
forever changed the entire outlook of every city. Did Tim Berners-Lee
anticipate his invention adding to forces pulling whole countries apart?</p><p>Our progress will continue to bring us previously unimaginable challenges.
Against an unknowable future, it doesn‚Äôt hurt to keep improving our
capabilities to adapt and, more difficultly, to cooperate‚Äîespecially at
scale.</p><figure><img src="https://www.murilopereira.com/humanity.jpg" alt="Figure 6: &amp;ldquo;Humanity&amp;rdquo; by Pawel Kuczynski"><figcaption><p>Figure 6: ‚Äú<a href="https://www.pictorem.com/24592/humanity.html">Humanity</a>‚Äù by Pawel Kuczynski</p></figcaption></figure><p>Computers are getting pretty good at driving cars‚Äîeven in the most
difficult situations‚Äîand can already instantly diagnose some diseases
better than human doctors. Technology has a way to <a href="https://www.thenewatlantis.com/publications/understanding-heidegger-on-technology">reveal</a> the potential of
our environment, and ourselves. We have to be careful not to look at ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.murilopereira.com/the-why-of-technology/">https://www.murilopereira.com/the-why-of-technology/</a></em></p>]]>
            </description>
            <link>https://www.murilopereira.com/the-why-of-technology/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26142126</guid>
            <pubDate>Mon, 15 Feb 2021 12:35:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Engineering dependability and fault tolerance in a distributed system]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26142037">thread link</a>) | @pimterry
<br/>
February 15, 2021 | https://www.ably.io/blog/engineering-dependability-and-fault-tolerance-in-a-distributed-system | <a href="https://web.archive.org/web/*/https://www.ably.io/blog/engineering-dependability-and-fault-tolerance-in-a-distributed-system">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main" data-namespace="post">
<div>
<article>

<section data-layout="col@sm-down--">

</section>
<section>
<div>
<p>Users need to know that they can depend on the service that is provided to them. In practice, because from time to time individual elements will inevitably fail, this means you have to be able to continue in spite of those failures.</p>
<p>In this article, we discuss the concepts of dependability and fault tolerance in detail and explain how the Ably platform is designed with fault tolerant approaches to uphold its dependability guarantees.</p>
<p>As a basis for that discussion, first some definitions:</p>
<blockquote>
<strong>Dependability</strong> <br>The degree to which a product or service can be relied upon. <strong>Availability</strong> and <strong>Reliability</strong> are forms of dependability.<p><strong>Availability</strong> <br>The degree to which a product or service is <strong>available</strong> for use when required. This often boils down to provisioning sufficient redundancy of resources with <a href="https://www.ibm.com/support/knowledgecenter/STXNRM_3.15.1/coss.doc/correlatedFailureMitigation_defining_independent_versus_correlated_failures.html">statistically independent failures</a>.</p><p><strong>Reliability</strong> <br>The degree to which the product or service <strong>conforms to its specification</strong> when in use. This means a system that is not merely available but is also engineered with extensive redundant measures to <strong>continue to work as its users expect</strong>.</p><p><strong>Fault tolerance</strong> <br>The ability of a system to continue to be <strong>dependable</strong> (both available and reliable) in the presence of certain component or subsystem failures.</p></blockquote>
<p>Fault tolerant systems tolerate faults: they‚Äôre designed to mitigate the impact of adverse circumstances and ensure the system remains dependable to the end-user. Fault-tolerance techniques can be used to improve both availability and reliability. </p>
<p>Availability can be loosely thought of as the assurance of uptime; reliability can be thought of as the quality of that uptime ‚Äî that is, assurance that functionality and user experience and preserved as effectively as possible in spite of adversity.</p>
<p>If the service isn‚Äôt available to be used at the time it is needed, that‚Äôs a shortfall in availability. If the service is available, but deviates from its expected behavior when you use it, that‚Äôs a shortfall in reliability. Fault tolerant design approaches address these shortfalls to provide continuity both to business and to the user experience.</p>
<h2 id="availability-reliability-and-state">Availability, reliability, and state</h2>
<p>In most cases, the primary basis for fault tolerant design is <strong>redundancy</strong>: having more than the minimum number of components or capacity required to deliver service. The key questions relate to what form that redundancy takes and how it is managed.</p>
<p>In the physical world there is classically a distinction between</p>
<ul>
<li>
<strong>availability</strong> situations, where it is acceptable to stop a service and then resume it, such as stopping to change a car tire; and</li>
<li>
<strong>reliability</strong> situations, where continuity of service is essential, with redundant elements continuously in-service, such as with airplane engines. </li>
</ul>
<p>The nature of the continuity requirement impacts the way that redundant capacity needs to be provided.</p>
<p>In the context of distributed systems, at Ably we think of an analogous distinction between components that are <strong>stateless</strong> and those that are <strong>stateful</strong>, respectively.</p>
<p><strong>Stateless components</strong> fulfil their function without any dependency on long-lived state. Each invocation of service can be performed independently of any previous invocation. Fault tolerant design for these components is comparatively straightforward: have sufficient resources <strong>available</strong> so that any individual invocation can be handled even if some of the resources have failed.</p>
<p><strong>Stateful components</strong> have an intrinsic dependency on state to provide service. Having state implicitly links an invocation of the service to past and future invocations. The essence of fault tolerance for these components is, as with an airplane's engines, about being able to provide continuity of operation ‚Äî specifically, continuity of the state that the service depends on. &nbsp;This ensures <strong>reliability</strong>.</p>
<p>In the remainder of this article we will give examples of each of these situations and explain the engineering challenges encountered in achieving fault tolerance in practice.</p>
<h2 id="treating-failure-as-a-matter-of-course">Treating failure as a matter of course</h2>
<p>Fault tolerant designs treat failures as routine. In large-scale systems, the assumption has to be that component failures will happen sooner or later. Any individual failure must be assumed as imminent and, collectively, component failures must be expected to be occurring continuously.</p>
<p>By contrast with the physical world, failures in digital systems are typically non-binary. The classical measures of component reliability (e.g. Mean Time Between Failures, or MTBF) do not apply; services degrade along a gradient of failure. Byzantine faults are a classic example. </p>
<p>For example, a system component might work intermittently, or produce misleading output. Or you might be dependent on external partners who don‚Äôt notify you of a failure until it becomes serious on their end, making your work more difficult. </p>
<p>Being tolerant to non-binary failures requires a lot of thought, engineering and, sometimes, human intervention. Each potential failure must be identified and classified, and must then be capable of being remediated rapidly, or avoided through extensive testing and robust design decisions. The core challenge of designing fault-tolerant systems is understanding the nature of failures and how they can be detected and remediated, especially when partial or intermittent, to continue to provide the service as effectively as possible for users.</p>
<h2 id="stateless-services">Stateless services</h2>
<p>Service layers that are <strong>stateless</strong> do not have a primary requirement for continuity of service for any individual component. The availability of resources directly translates into availability of the layer as a whole. Having access to extra resources whose failures are statistically independent is key to keeping the system going. Wherever possible, layers are designed to be stateless as a key enabler not only of availability, but also of scalability. </p>
<p>For stateless objects, it suffices to have multiple and independently available components to continue to provide service. Without state, durability of any single component is not a concern.</p>
<figure><img src="https://ik.imagekit.io/ably/ghost/prod/2021/02/fault-tolerance-of-a-stateless-component.png?tr=w-1520" alt="Fault tolerant design of stateless components: a load balancer receives a request and selects an element to satisfy the request." srcset="
      https://ik.imagekit.io/ably/ghost/prod/2021/02/fault-tolerance-of-a-stateless-component.png?tr=w-345 345w,
      https://ik.imagekit.io/ably/ghost/prod/2021/02/fault-tolerance-of-a-stateless-component.png?tr=w-470 470w,
      https://ik.imagekit.io/ably/ghost/prod/2021/02/fault-tolerance-of-a-stateless-component.png?tr=w-760 760w,
      https://ik.imagekit.io/ably/ghost/prod/2021/02/fault-tolerance-of-a-stateless-component.png?tr=w-1520 1520w
    " sizes="
      (max-width: 760px) 100vw,
      (max-width: 1520px) 760px,
      1520px
    "></figure><p>However, simply having extra resources is not enough: you also have to use them effectively. You have to have a way of detecting resource availability, and to load-balance among redundant resources. </p>
<p>As such, the questions that you have to answer are:</p>
<ul>
<li>How do you survive different kinds of failure?</li>
<li>What level of redundancy is possible?</li>
<li>What is the resource and performance cost of maintaining those levels of redundancy?</li>
<li>What is the operational cost of managing those levels of redundancy?</li>
</ul>
<p>The consequent trade-offs are among the following:</p>
<ul>
<li>Customer requirements for achieving high availability</li>
<li>Business operational cost</li>
<li>Real world engineering practicality of actually making it possible</li>
</ul>
<p>Redundant components, and in turn their dependencies, need to be engineered, configured and operated in <a href="https://www.ntnu.edu/documents/624876/1277590549/chapt04-1.pdf">a way that ensures that any failures are statistically independent</a>. The simple math is: statistically independent failures render your chances of a catastrophic failure exponentially lower as you increase the level of redundancy. If the failures are set up to occur in statistical silos, then there is no cumulative effect, and you decrease the likelihood of complete failure by a whole order of magnitude with each additional redundant resource.</p>
<p>At Ably, to increase statistical independence of failures, <a href="https://www.ably.io/network">we place/distribute capacity in multiple availability zones and in multiple regions</a>. Offering service from multiple availability zones within the same region is relatively simple: AWS enables this with very little effort. Availability zones generally have a good track record of failing independently, so this step by itself enables the existence of sufficient redundancy to support very high levels of availability.</p>
<p>However, this isn‚Äôt the whole story. It isn‚Äôt sufficient to rely on any specific region for multiple reasons ‚Äì sometimes multiple availability zones (AZs) do fail at the same time; sometimes there might be local connectivity issues making the region unreachable; and sometimes there might simply be capacity limitations in a region that prevent all services from being supportable there. As a result, we also promote service availability by providing service in multiple regions. This is the ultimate way of ensuring statistical independence of failures.</p>
<p>Establishing redundancy that spans multiple regions is not as straightforward as supporting multiple AZs. For example, it doesn‚Äôt make sense simply to have a load balancer distributing requests among regions; the load balancer itself exists in some region and could become unavailable. </p>
<p>Instead, we use a <a href="https://knowledge.ably.com/routing-around-network-and-dns-issues">combination of measures</a> to ensure that client requests can at all times be routed to a region that is believed to be healthy and have service available. This routing will preferably be to the nearest region, but routing to non-local regions must be possible when the nearest region is unable to provide service.</p>
<h2 id="stateful-services">Stateful services</h2>
<p>At Ably, <a href="https://www.ably.io/four-pillars-of-dependability#reliability">reliability</a> means business continuity of <em>stateful</em> services, and it is a substantially more complicated problem to solve than just availability. </p>
<p>Stateful services have an intrinsic dependency on state that survives each individual invocation of service. Continuity of that state translates into correctness of the service provided by the layer as a whole. That requirement for continuity means that fault tolerance for these services is achieved by thinking of them in classic reliability terms. Redundancy needs to be continuously in use, in order for the state not to become lost in the case of failure. Fault detection and remediation needs to address the possible Byzantine failure modes via consensus formation mechanisms.</p>
<p>The most simplistic analogy is with airplane safety. An airplane crash is catastrophic because you ‚Äì and your state ‚Äì are on a <em>specific</em> airplane; it is <em>that</em> airplane which must provide continuous service. If it fails to do so, state is lost and you are afforded no opportunity to continue by migrating to a different airplane. </p>
<p>With anything that ‚Ä¶</p></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.ably.io/blog/engineering-dependability-and-fault-tolerance-in-a-distributed-system">https://www.ably.io/blog/engineering-dependability-and-fault-tolerance-in-a-distributed-system</a></em></p>]]>
            </description>
            <link>https://www.ably.io/blog/engineering-dependability-and-fault-tolerance-in-a-distributed-system</link>
            <guid isPermaLink="false">hacker-news-small-sites-26142037</guid>
            <pubDate>Mon, 15 Feb 2021 12:20:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Running Nomad for a Home Server]]>
            </title>
            <description>
<![CDATA[
Score 273 | Comments 140 (<a href="https://news.ycombinator.com/item?id=26142005">thread link</a>) | @elliebike
<br/>
February 15, 2021 | https://mrkaran.dev/posts/home-server-nomad/ | <a href="https://web.archive.org/web/*/https://mrkaran.dev/posts/home-server-nomad/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

<section>
    
    <article>
        <p>It's been a long time since I've written a post on Hydra (my home server). I use Hydra as a testbed to learn new tools, workflows and it just gives me joy to self-host applications while learning something in return.</p>
<h2 id="history">History</h2>
<p>A brief history of how <a href="https://github.com/mr-karan/hydra">Hydra's</a> setup evolved over time:</p>
<p><a href="https://mrkaran.dev/posts/home-server-setup/">2019</a>: </p>
<ul>
<li>A pretty minimal K3s setup deployed on 2 RPi4 nodes. I couldn't continue with this setup because:
<ul>
<li>Some of the apps didn't have ARM-based image (this was 2019, pre M1 hype era).</li>
<li>Didn't want to risk deploying persistent workloads on RPi.</li>
<li>A lot of tooling to deploy workloads was missing (storing env variables for eg.).</li>
<li>It was so boring to write YAML (that I also did at work). Didn't give me joy.</li>
</ul>
</li>
</ul>
<p><a href="https://mrkaran.dev/posts/home-server-updates/">2020 First Half</a>:</p>
<ul>
<li>RPi 2x Nodes + K3s + DO Droplet. Tailscale for networking.
<ul>
<li>This was a considerable step up from the previous setup. I deployed a DO node and added <a href="https://kubernetes.io/docs/tasks/configure-pod-container/assign-pods-nodes/">Node Labels</a> to deploy persistent workloads on DO Node only.</li>
<li>I used my own tooling <a href="https://github.com/mr-karan/kubekutr/">Kubekutr</a> + Kustomize which helped with version control of my configs.</li>
<li>Took quite a bit of time to onboard new services. Got lazy, didn't host much apart from initial 3-4 applications.</li>
<li>Writing long YAMLs. No joy.</li>
</ul>
</li>
</ul>
<p>2020 Second Half:</p>
<ul>
<li>Single node on DO. Terraform for deploying Docker containers.
<ul>
<li>I believe the third iteration nailed it for me. I kept the setup super simple, used Terraform for deploying workloads as Docker containers.</li>
<li>Used Terraform extensively for setting up the node, Cloudflare records, DO firewall rules.</li>
<li>Time to onboard new services reduced from a couple of hours to a few minutes. This was a huge win for me. I deployed around 10-15 new services to try it out on the server directly.</li>
<li>Writing HCL is actually a much better experience than YAML.</li>
</ul>
</li>
</ul>
<h2 id="why-nomad">Why Nomad</h2>
<p><img src="https://mrkaran.dev/images/nomad-hydra.png" alt="image"></p>
<p>Around a month back, <a href="https://nadh.in/">Kailash</a> had asked about feedback on <a href="https://www.nomadproject.io/">Nomad</a>. We at <a href="https://zerodha.com/">Zerodha</a> (India's largest stock broker) are evaluating it to migrate our services to Nomad from Kubernetes (more on this later). It was almost 2 years since I last saw Nomad so it was definitely worth re-evaluating (esp since it hit 1.0 recently). I wanted to try out Nomad to answer a personal curiosity: <em>What does it do differently than Kubernetes?</em> No better way than actually getting hands dirty, right?!</p>
<p>After following the brief tutorials from the <a href="https://learn.hashicorp.com/nomad">official website</a> I felt confident to try it for actual workloads. In my previous setup, I was hosting quite a few applications (Pihole, Gitea, Grafana etc) and thought it'll be a nice way to learn how Nomad works by deploying the same services in the Nomad cluster. And I came in with zero expectations, I already had a nice setup which was reliable and running for me. My experience with a local Nomad cluster was joyful, I was able to quickly go from 0-&gt;1 in less than 30 minutes. This BTW is a strong sign of how easy Nomad is to get started with as compared to K8s. The sheer amount of different concepts you've to register in your mind before you can even deploy a single container in a K8s cluster is bizarre. Nomad takes the easy way out here and simplified the concepts for developers into just three things:</p>
<pre><code><span>job
  \_ group
        \_ task
</span></code></pre>
<ul>
<li>Job: Job is a collection of different groups. Job is where the constraints for type of scheduler, update strategies and ACL is placed. </li>
<li>Group: Group is a collection of different tasks. A group is always executed on the same Nomad client node. You'll want to use Groups for use-cases like a logging sidecar, reverse proxies etc.</li>
<li>Task: Atomic unit of work. A task in Nomad can be running a container/binary/Java VM etc, defining the mount points, env variables, ports to be exposed etc.</li>
</ul>
<p>If you're coming from K8s you can think of Task as a Pod and Group as a Replicaset. There's no equivalent to Job in K8s. BUT! The coolest part? You don't have to familiarise yourself with all different types of Replicasets (Deployments, Daemonsets, Statefulsets) and different ways of configuring them.</p>
<p>Want to make a normal job as a periodic job in Nomad? Simply add the following block to your existing Job:</p>
<pre><code><span>periodic {
  cron = "@daily"
}
</span></code></pre>
<p>You want to make a service run as a batch job (on all Nomad nodes -- the equivalent of Daemonset in K8s)? Simply make the following change to your existing job:</p>
<pre><code><span>-type="service"
</span><span>+type="batch"
</span></code></pre>
<p>You see <strong>this</strong> is what I mean by the focus on UX. There are many many such examples which will leave a nice smile on your face if you're coming from K8s background.</p>
<p>I'd recommend reading <a href="https://www.nomadproject.io/docs/internals/architecture">Internal Architecture</a> of Nomad if you want to understand this in-depth.</p>
<h2 id="architecture">Architecture</h2>
<p>Tech stack for Hydra:</p>
<ul>
<li>Tailscale VPN: Serves as a mesh layer between my laptop/mobile and DO server. Useful for exposing internal services.</li>
<li>Caddy for reverse proxying and automatic SSL setup for all services. I run 2 instances of Caddy:
<ul>
<li>Internal: Listens on Tailscale Network Interface. Reverse proxies all private services.</li>
<li>Public: Listens on DO's Public IPv4 network interface. Reverse proxies all public-facing services.</li>
</ul>
</li>
<li>Terraform: Primary component to have IaC (Infra as Code). Modules to manage:
<ul>
<li>Cloudflare DNS Zone and Records</li>
<li>DO Droplet, Firewall rules, SSH Keys, Floating IPs etc.</li>
<li>Nomad Jobs. Used for running workloads after templating env variables, config files in Nomad job files.</li>
</ul>
</li>
</ul>
<h2 id="complexity-of-nomad-vs-kubernetes">Complexity of Nomad vs Kubernetes</h2>
<p><a href="https://twitter.com/mrkaran_/status/1268762357355823104"><img src="https://mrkaran.dev/images/k8s-meme.jpeg" alt="image"></a></p>
<p>Nomad shines because it follows the UNIX philosophy of "Make each program do one thing well". To put simply, Nomad is <em>just</em> a workload orchestrator. It only is concerned about things like Bin Packing, scheduling decisions.</p>
<p>If you're running heterogeneous workloads, running a server (or a set of servers) quickly becomes expensive. Hence orchestrators tend to make sense in this context. They tend to save costs by making it efficient to run a vast variety of workloads. This is all an orchestrator has to do really. </p>
<p>Nomad doesn't interfere in your DNS setup, Service Discovery, secrets management mechanisms and pretty much anything else. If you read some of the posts at <a href="https://k8s.af/">Kubernetes Failure Stories</a>, the most common reason for outages is Networking (DNS, ndots etc). A lot of marketing around K8s never talks about these things.</p>
<p>I always maintain "Day 0 is easy, Day N is the real test of your skills". Anyone can deploy a workload to a K8s cluster, it's always the Day N operations which involve debugging networking drops, mysterious container restarts, proper resource allocations and other such complex issues that require real skills <strong>and</strong> effort. It's not as easy as <code>kubectl apply -f</code> and my primary gripe is with people who miss out on this in their "marketing" pitches (obvious!).</p>
<h2 id="when-to-use-nomad">When to use Nomad</h2>
<p>Nomad hits the sweet spot of being operationally easy and functional. Nomad is a great choice if you want to:</p>
<ul>
<li>Run not just containers but other forms of workloads.</li>
<li>Increase developer productivity by making it easier to deploy/onboard new services.</li>
<li>Consistent experience of deployment by testing the deployments locally.</li>
<li>(Not joking) You are tired of running Helm charts or writing large YAML manifests. The config syntax for Nomad jobs is human friendly and easy to grasp.</li>
</ul>
<p>Nomad is available as a single binary. If you want to try it locally, all you need is <code>sudo nomad agent -dev</code> and you'll have a Nomad Server, Client running in dev mode along with a UI. This makes it easy for the developers to test out the deployments locally because there's very little configuration difference between this and production deployment. Not to forget it's super easy to self-host Nomad clusters. I'm yet to meet anyone who self hosts K8s clusters in production without a dedicated team babysitting it always.</p>
<p>Once you eliminate the "blackbox" components from your stack, life becomes easier for everyone.</p>
<h2 id="when-to-not-use-nomad">When to not use Nomad</h2>
<ul>
<li>If you're relying on custom controllers and operators. <a href="https://kubernetes.io/docs/concepts/extend-kubernetes/operator/">Operator Pattern</a> is a new way of managing large complex distributed systems (like databases, job queues etc). There are a lot of community built operators which help in reducing the effort to run these services. However, all of these are tied deeply into the "Kubernetes" ecosystem. If you find yourself running any of such operators, it'll be tough (not impossible) to translate the same in Nomad ecosystem.</li>
</ul>
<p>I <em>genuinely</em> cannot think of any other reason to not use Nomad!</p>
<h2 id="practical-scenarios">Practical Scenarios</h2>
<p>Since I migrated a couple of workloads from my DO docker containers setup to Nomad, I'd demonstrate a few use cases which might be helpful if you want to start migrating your services to Nomad</p>
<h3 id="accessing-a-web-service-with-reverse-proxy">Accessing a Web service with Reverse Proxy</h3>
<p>Context: I'm running Caddy as a reverse proxy for all the services. Since we discussed earlier, Nomad <strong>only</strong> is concerned about scheduling, so how exactly do you do Service Discovery? You need Consul (or something like Consul, Nomad has no hard restrictions) to register a service name with it's IP Address. Here's how you can do that:</p>
<p>In the <code>.task</code> section of your Nomad job spec, you need to register the service name with the port you're registering and additional tags as metadata (optional):</p>
<pre><code><span>service {
  name = "gitea-web"
  tags = ["gitea", "web"]
  port = "http"
}
</span></code></pre>
<p>Nomad's <a href="https://www.nomadproject.io/docs/job-specification/template">template</a> uses <code>consul-template</code> behind the scenes. This is a small utility which continuously watches for Consul/Vault keys and provides the ability to reload/restart your workloads if any of those keys change. It can also be used to <em>discover</em> the address of the service registered in Consul. So here's an example of <code>Caddyfile</code> using Consul Template functions to pull the IP address of the upstream <code>gitea-web</code> service:</p>
<pre><code><span>git.mrkaran.dev {
    {{ range service "gitea-web" }}
    reverse_proxy {{ .Address }}:{{ .Port }}
    {{ end }}
}
</span></code></pre>
<p>When a job is submitted to Nomad, a rendered template is mounted inside the container. You can define actions on what to do when the values change. For eg on a redeployment of Gitea container, the address will most likely change. We'd like Caddy to automatically restart with the new address configured in the Caddyfile in that case:</p>
<pre><code><span>template {
  data = &lt;&lt;EOF
${caddyfile_public}
EOF

  destination = "configs/Caddyfile" # Rendered template.

  change_mode = "restart"
}
</span></code></pre>
<p>Using <a href="https://www.nomadproject.io/docs/job-specification/template#change_mode"><code>change_m‚Ä¶</code></a></p></article></section></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mrkaran.dev/posts/home-server-nomad/">https://mrkaran.dev/posts/home-server-nomad/</a></em></p>]]>
            </description>
            <link>https://mrkaran.dev/posts/home-server-nomad/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26142005</guid>
            <pubDate>Mon, 15 Feb 2021 12:15:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Sq, Sequoia PGP's CLI, Released]]>
            </title>
            <description>
<![CDATA[
Score 112 | Comments 15 (<a href="https://news.ycombinator.com/item?id=26141995">thread link</a>) | @upofadown
<br/>
February 15, 2021 | https://sequoia-pgp.org/blog/2021/01/26/202101-sq-release/ | <a href="https://web.archive.org/web/*/https://sequoia-pgp.org/blog/2021/01/26/202101-sq-release/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-content">
                          <p>Last month we released version 1.0 of our versatile, low-level OpenPGP
library, <a href="https://sequoia-pgp.org/blog/2020/12/16/202012-1.0/">sequoia-openpgp</a>.  Now we have released the first version of
<a href="https://docs.sequoia-pgp.org/sq/index.html"><code>sq</code></a>, version 0.23, which is meant for general use.</p>
<p><code>sq</code> is a command-line tool that intends to expose much (but not all!)
of the functionality that the library provides.  Although we fully
intend for <code>sq</code> to be an OpenPGP swiss army knife, and that the truly
arcane should‚Äîin general‚Äîbe possible, we firstly want <code>sq</code> to be
usable by humans at the command line.  We understand this to mean that
it should be possible to use <code>sq</code> to tweak and twiddle OpenPGP data.
But, those who have the desire to use Sequoia to frob it will need to
use the library.  And, they are probably better served by it anyway.</p>
<p><code>sq</code> has a subcommand-style interface similar to git.  This has the
advantage that every command has its own option name space, which
makes it much easier to understand exactly what options influence a
given command.</p>
<p>In terms of functionality, <code>sq</code> already provides the base operations
that any OpenPGP user needs in their day-to-day use: key generation
(<code>sq key generate</code>), encryption (<code>sq encrypt</code>) &amp; decryption (<code>sq decrypt</code>), signing (<code>sq sign</code>) &amp; verification (<code>sq verify</code>), key
certification (<code>sq certify</code>), and key server (<code>sq keyserver</code>) &amp; <a href="https://tools.ietf.org/html/draft-koch-openpgp-webkey-service-11">web
key directory</a> (WKD) (<code>sq wkd</code>) interaction.  It also includes some
utility functions.  It can generate a WKD (<code>sq wkd generate</code>), encode
and decode <a href="https://autocrypt.org/level1.html#the-autocrypt-header">Autocrypt headers</a> (<code>sq autocrypt</code>), manipulate keyrings
(<code>sq keyring</code>), inspect OpenPGP-related data like <a href="https://en.wikipedia.org/wiki/File_(command)"><code>file</code></a> does (<code>sq inspect</code>), and pretty print an OpenPGP file‚Äôs contents (<code>sq packet dump</code>).</p>
<p><code>sq</code> is still missing a fair amount of functionality.  In particular,
there is no public or private key store.  (Although prototypes exist.)
This means all OpenPGP certificates must be stored in files, which is
not scalable.  Also, many necessary and useful commands are still
missing.  For instance, it is not currently possible to add new
subkeys to a certificate, or change their expiration date.</p>
<p><code>sq</code> is also not ready to be used from scripts.  Although we are
unlikely to change the current API, the bigger problem is that <code>sq</code>‚Äôs
output is not machine readable.  In the medium term, we plan to add a
<code>JSON</code>-output mode to every command.  Given the legion of <code>JSON</code>
parsers, this should effectively eliminate the need for tools that
consume <code>sq</code>‚Äôs output to have to parse it manually, and will hopefully
eliminate an entire class of common security-sensitive bugs.</p>
<p>Until now, we haven‚Äôt published <a href="https://crates.io/crates/sequoia-sq"><code>sq</code> on <code>crates.io</code></a>, and we‚Äôve
discouraged packagers from including it in their distribution.  We now
think that <code>sq</code> is ready for general use.  If you have suggestions,
please <a href="https://sequoia-pgp.org/contribute/">reach out</a>.</p>
<h2 id="a-quick-demo">A Quick Demo</h2>
<p>Creating an OpenPGP key is straightforward:</p>
<pre><code>$ sq key generate --export /tmp/alice.sec -u 'Alice &lt;alice@example.org&gt;'
</code></pre><p><code>sq</code> saves the key in <code>/tmp/alice.sec</code> and a generic revocation
certificate in <code>/tmp/alice.sec.rev</code>.</p>
<p>We can use <code>sq inspect</code> to examine the new key‚Äôs structure:</p>
<pre><code>$ sq inspect /tmp/alice.sec
/tmp/alice.sec: Transferable Secret Key.

    Fingerprint: 1191 7C40 2605 5EA3 4980  8877 C7C7 FF13 8025 22BE
Public-key algo: EdDSA Edwards-curve Digital Signature Algorithm
Public-key size: 256 bits
     Secret key: Unencrypted
  Creation time: 2021-01-25 19:17:42 UTC
Expiration time: 2024-01-26 12:44:03 UTC (creation time + P1095DT62781S)
      Key flags: certification

         Subkey: 0C61 2153 0ACF F0B2 C01E  6E8A 4D4D 029F 2206 7039
Public-key algo: EdDSA Edwards-curve Digital Signature Algorithm
Public-key size: 256 bits
     Secret key: Unencrypted
  Creation time: 2021-01-25 19:17:42 UTC
Expiration time: 2024-01-26 12:44:03 UTC (creation time + P1095DT62781S)
      Key flags: signing

         Subkey: F2CA 7FC7 A347 39F7 7CDC  C1F0 C599 64AB 43F7 7134
Public-key algo: ECDH public key algorithm
Public-key size: 256 bits
     Secret key: Unencrypted
  Creation time: 2021-01-25 19:17:42 UTC
Expiration time: 2024-01-26 12:44:03 UTC (creation time + P1095DT62781S)
      Key flags: transport encryption, data-at-rest encryption

         UserID: Alice &lt;alice@example.org&gt;
</code></pre><p>Here we see that <code>sq</code> uses ECC by default, and generates a signing
subkey and an encryption subkey.  (<code>sq key generate</code> has options to
tweak both the cipher suite and the key‚Äôs structure.)  <code>sq</code> generates
a signing subkey by default to prevent an attacker from repurposing a
signature over data as a certification or binding signature.</p>
<p>The secret key material is unencrypted by default.  Supplying the
<code>--with-password</code> option will cause <code>sq</code> to prompt for a password and
use it to encrypt the secret key material.</p>
<p>We can use <code>sq packet dump</code> to get even more details:</p>
<pre><code>$ sq packet dump /tmp/alice.sec
Secret-Key Packet, new CTB, 88 bytes
...
User ID Packet, new CTB, 25 bytes
    Value: Alice &lt;alice@example.org&gt;

Signature Packet, new CTB, 212 bytes
    Version: 4
    Type: PositiveCertification
    Pk algo: EdDSA Edwards-curve Digital Signature Algorithm
    Hash algo: SHA512
    Hashed area:
      Signature creation time: 2021-01-25 19:17:42 UTC (critical)
      Key expiration time: P1095DT62781S (critical)
      Symmetric algo preferences: AES256, AES128
      Issuer: C7C7 FF13 8025 22BE
      Notation: NotationData { flags: , name: "salt@notations.sequoia-pgp.org", value: [209, 99, ...] }
      Hash preferences: SHA512, SHA256
      Primary User ID: true (critical)
      Key flags: C (critical)
      Features: MDC
      Issuer Fingerprint: 1191 7C40 2605 5EA3 4980  8877 C7C7 FF13 8025 22BE
    Digest prefix: 7E0A
    Level: 0 (signature over data)
...
</code></pre><p>For the sake of brevity, I‚Äôve only shown the User ID and the
corresponding self signature.  An interesting thing to note here is
the <code>salt@notations.sequoia-pgp.org</code> notation.  This is a random
32-byte value, which Sequoia inserts into every signature by default.
Because it is unpredictable, it is harder for an attacker to trick a
user into signing a specific message.</p>
<p>It is possible to get even more details by supplying the <code>--hex</code>
option to <code>sq packet dump</code>.  This causes it to print a descriptive map
of the packets' contents, which is useful if you are dissecting an
OpenPGP message.</p>
<pre><code>$ sq packet dump --hex /tmp/alice.sec
Secret-Key Packet, new CTB, 2 header bytes + 88 bytes
    Version: 4
    Creation time: 2021-01-25 19:17:42 UTC
    Pk algo: EdDSA Edwards-curve Digital Signature Algorithm
    Pk size: 256 bits
    Fingerprint: 1191 7C40 2605 5EA3 4980  8877 C7C7 FF13 8025 22BE
    KeyID: C7C7 FF13 8025 22BE
  
    Secret Key:
  
        Unencrypted
  
    00000000  c5                                                 CTB
    00000001     58                                              length
    00000002        04                                           version
    00000003           60 0f 19 56                               creation_time
    00000007                       16                            pk_algo
    00000008                           09                        curve_len
    00000009                              2b 06 01 04 01 da 47   curve
    00000010  0f 01
    00000012        01 07                                        eddsa_public_len
    00000014              40 7b 06 00  4c 00 63 89 81 95 2f 22   eddsa_public
    00000020  5a 35 7c b2 84 45 ce 9f  d9 85 8d 55 01 4d aa 76
    00000030  f7 bd b2 07 a1
    00000035                 00                                  s2k_usage
    00000036                    00 fe                            eddsa_secret_len
    00000038                           30 95 9d a4 ae 95 c3 e4   eddsa_secret
    00000040  fc 15 bb ca 5a 67 31 e1  14 1b 2b 0b 2f 1a 4c 6e
    00000050  95 a8 cc 63 7c de 19 51 
    00000058                           0f ef                     checksum
...
</code></pre><p>To turn a key into a certificate (i.e., to remove the secret key
material), we can use the <code>sq keyring filter</code> subcommand:</p>
<pre><code>$ sq keyring filter --to-certificate /tmp/alice.sec &gt; /tmp/alice.pgp
</code></pre><p>And using <code>sq inspect</code>, we see that we now have a certificate and not a
secret key:</p>
<pre><code>$ sq inspect /tmp/alice.pgp
/tmp/alice.pgp: OpenPGP Certificate.
...
</code></pre><p><code>sq keyring filter</code> also allows the user to specify a few predicates to
actually <em>filter</em> the keyring.</p>
<p><code>sq keyring</code> has other useful functionality.  It can split a keyring
into individual keys and it can merge multiple keys or keyrings
into a single keyring.</p>
<p>To sign and encrypt a message, we specify one or more certificates for
the recipients, and one or more keys for the signers.</p>
<pre><code>$ echo "Hello, woods!" | sq encrypt --recipient-cert /tmp/bob.pgp --signer-key /tmp/alice.sec &gt; /tmp/msg.pgp
</code></pre><p>Decrypting and verifying the signature is similar:</p>
<pre><code>$ sq decrypt --recipient-key /tmp/bob.sec --signer-cert /tmp/alice.pgp /tmp/msg.pgp
Encrypted using AES with 256-bit key
Compressed using ZIP
Good signature from 4D4D 029F 2206 7039
Hello, woods!
1 good signature.
</code></pre><p>(If you are interested in examining the structure of the message at
the byte level, be sure to try the <code>--hex</code> option.)</p>
<p><code>sq</code> can also fetch keys from key servers:</p>
<pre><code>$ sq keyserver get neal@walfield.org
-----BEGIN PGP PUBLIC KEY BLOCK-----

xsEhBFUjmukBDqCpmVI7Ve+2xTFSTG+mXMFHml63/Yai2nqxBk9gBfQfRFIjMt74
...
</code></pre><p>And from WKDs:</p>
<pre><code>$ sq wkd get neal@walfield.org
-----BEGIN PGP PUBLIC KEY BLOCK-----
Comment: 8F17 7771 18A3 3DDA 9BA4  8E62 AACB 3243 6300 52D9
Comment: Neal H. Walfield &lt;neal@pep-project.org&gt;
Comment: Neal H. Walfield &lt;neal@pep.foundation&gt;
Comment: Neal H. Walfield &lt;neal@sequoia-pgp.org&gt;
Comment: Neal H. Walfield &lt;neal@walfield.org&gt;

xsEhBFUjmukBDqCpmVI7Ve+2xTFSTG+mXMFHml63/Yai2nqxBk9gBfQfRFIjMt74
...
</code></pre><p>You can learn more about <code>sq</code> by reading its
<a href="https://docs.sequoia-pgp.org/sq/index.html">documentation</a>.</p>

<p>Currently, six people are paid to work on Sequoia.  Since the start of
the project 3.5 years ago, they have all been paid by the <a href="https://pep.foundation/">p‚â°p
foundation</a>.  Additional financial support has come from a one-time
donation from the <a href="https://www.wauland.de/de/">Wau Holland Foundation</a> in 2018.  <a href="https://pep.foundation/blog/phil-zimmermann-donates-eur-1000-to-the-pep-foundation-to-support-the-sequoia-pgp-project/index.html">Phil
Zimmermann</a>, the creator of PGP, donated 1000 Euros.  And, <a href="https://protonmail.com/blog/openpgp-test-suite/">Proton
Mail</a> donated 1000 Euros after our <a href="https://tests.sequoia-pgp.org/">interoperability test suite</a> found
several issues in OpenPGP.js ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://sequoia-pgp.org/blog/2021/01/26/202101-sq-release/">https://sequoia-pgp.org/blog/2021/01/26/202101-sq-release/</a></em></p>]]>
            </description>
            <link>https://sequoia-pgp.org/blog/2021/01/26/202101-sq-release/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26141995</guid>
            <pubDate>Mon, 15 Feb 2021 12:13:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Getting started with game hacking on PC]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26141935">thread link</a>) | @aaron_h
<br/>
February 15, 2021 | https://thehacker.dev/getting-started-with-game-hacking-on-pc/ | <a href="https://web.archive.org/web/*/https://thehacker.dev/getting-started-with-game-hacking-on-pc/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://images.unsplash.com/photo-1579407364450-481fe19dbfaa?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDN8fGhpZ2glMjBzY29yZXxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000 300w,
                            https://images.unsplash.com/photo-1579407364450-481fe19dbfaa?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDN8fGhpZ2glMjBzY29yZXxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000 600w,
                            https://images.unsplash.com/photo-1579407364450-481fe19dbfaa?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDN8fGhpZ2glMjBzY29yZXxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000 1000w,
                            https://images.unsplash.com/photo-1579407364450-481fe19dbfaa?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDN8fGhpZ2glMjBzY29yZXxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://images.unsplash.com/photo-1579407364450-481fe19dbfaa?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDN8fGhpZ2glMjBzY29yZXxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000" alt="Getting Started With Game Hacking on PC">
            </figure>

            <section>
                <div>
                    <p>This is the resource I wish I had when I was getting started in hacking video games. Specifically, hacking PC video games on the Windows operating system. This article aims to give you a roadmap forward to becoming a video game hacker, along with plenty of resources to dive deeper.</p><h2 id="beginner">Beginner</h2><p>Want to become invincible, have unlimited ammo, or just be super rich in your game? This section is usually all you'll need.</p><h3 id="modifying-values-in-memory">Modifying values in memory</h3><p>When you're playing an offline game (and even with most online games), every value you see in the game is stored in memory. So the first thing you'll need to do is learn how to find those values and modify them. The most common tool to do so is <a href="https://www.cheatengine.org/downloads.php">Cheat Engine</a>.</p><p>Cheat Engine has its own built-in tutorial for finding and modifying in-memory values. It's not exactly straight-forward to complete as a beginner though, so here's an excellent walkthrough video by the ever helpful <a href="https://twitter.com/guidedhacking">Guided Hacking</a>:</p><figure><iframe width="200" height="113" src="https://www.youtube.com/embed/Nib69uZJCaA?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></figure><p>Believe it or not, that's really all you need to do basic game hacking. Yay! üéâ</p><h3 id="aside-cheat-engine">Aside: Cheat Engine</h3><p>Cheat Engine is completely free, and supported by bundled software and <a href="https://www.patreon.com/cheatengine">Patreon donations</a>. As with anything, if you find it's of value to you, please consider donating. It's also <a href="https://github.com/cheat-engine/cheat-engine">open-source</a>, and oddly written mostly in Pascal (although almost everything outside of the core is written in C &amp; C++).</p><p>This section is all about how to do some more interesting and creative game hacks, as well as how to bypass common restrictions game developers put into their software. It's at this point that you'll need to start looking at assembly code. But don't worry, it's not as complicated as you may think (especially if you have experience with at least one other high level programming language). There are only a small handful of instructions that come up often:</p><!--kg-card-begin: markdown--><ul>
<li><code>mov</code></li>
<li><code>lea</code></li>
<li><code>jmp</code>/<code>jxx</code></li>
<li><code>cmp</code></li>
<li><code>test</code></li>
<li><code>add</code>/<code>sub</code>/<code>mul</code></li>
</ul>
<!--kg-card-end: markdown--><p>A good reference for the x86 &amp; amd64 instruction set can be found here: https://www.felixcloutier.com/x86/.</p><h3 id="debugging-reverse-engineering">Debugging &amp; reverse engineering</h3><p>If you want to understand some more complex logic in a game, you're going to need to look at the disassembly of the binary (the assembly code). That means attaching a debugger and setting breakpoints, so you can walk through the exact steps that a game takes for a given functionality. Sometimes you may not be able to debug the source code (see the section on anti-debugging later on), or you may just want to graph out how different functions interact in the game; in this case, you'll want to use a static disassembler.</p><p>Personally, I go for debugging first, as I can usually get a much better understanding for how a game works by watching it as it runs through specific functionality. I then switch to the static disassembly later on if I want to really get an understanding for a specific section of the binary.</p><p>Once you become proficient at following through the assembly of a program, you can do fun things like this...</p><figure><iframe width="200" height="113" src="https://www.youtube.com/embed/4KtWpNmaVWk?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></figure><h3 id="debugging-tools">Debugging tools</h3><p>Cheat Engine works really well as a debugger, and it includes pretty much everything you need.</p><p>I also like to use <a href="https://github.com/x64dbg/x64dbg">x64dbg</a>, as it includes a lot of great features (for example - open multiple dump memory dump tabs at once, built-in scripting support, and an ecosystem of great plugins like <a href="https://github.com/ThunderCls/xAnalyzer">xAnalyzer</a>). x64dbg also displays the meaning of every assembly code as you step through it, and it also translates the values for you (i.e. it fetches the value of a pointer), which is really helpful.</p><p>You <em>*could*</em> use <a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/debugger/debugger-download-tools">WinDbg</a>, but it doesn't handle anti-debug measures very well, and the interface isn't nearly as intuitive as x64dbg.</p><h3 id="static-disassemblers">Static disassemblers</h3><p>The best free static disassembler out there right now is probably <a href="https://github.com/NationalSecurityAgency/ghidra">Ghidra</a>, and it's pretty good.</p><p>The gold standard disassembler is <a href="https://www.hex-rays.com/products/ida/">IDA Pro</a>, but be prepared to spend an arm and a leg (in the ballpark of $2000+ USD per year).</p><p><a href="https://binary.ninja/">Binary Ninja</a> is also a good commercial option, but it's lacking the vast plugin ecosystem that IDA Pro (and even Ghidra) has, and they don't (at the time of writing) have any Windows API function signatures like IDA Pro does with <a href="https://www.hex-rays.com/products/ida/tech/flirt/in_depth/">FLIRT</a> that eases a lot of Windows-based reverse engineering.</p><p>There's also a <a href="https://www.hex-rays.com/products/ida/support/download_freeware/">free version of IDA</a> that is great as a standalone disassembler, but you don't get any plugin support, no decompiler, and you're locked at an older version of the product.</p><h3 id="reverse-engineering-resources">Reverse Engineering Resources</h3><p>To see debugging and light reverse engineering in action, I would highly recommend checking out Chris Fayte's <a href="https://www.youtube.com/user/BloodFayte">Cheat The Game</a> YouTube channel.</p><p>For some more advanced reverse engineering videos (with excellent video quality and editing), check out <a href="https://www.youtube.com/c/LiveOverflowCTF">LiveOverflow's YouTube channel</a>.</p><h3 id="bypass-anti-debug">Bypass anti-debug</h3><p>Many games come with a range of anti-debug measures that are designed to prevent you from attaching a debugger to the game. If you want to learn more about the exact types of measures they take, I would highly recommend <a href="https://anti-reversing.com/Downloads/Anti-Reversing/The_Ultimate_Anti-Reversing_Reference.pdf">Peter Ferrie's "The Ultimate Anti-Debugging Reference" [pdf]</a>. But if you just want to get on with debugging your game, I'd recommend just doing the following:</p><!--kg-card-begin: markdown--><ol>
<li>Add <a href="https://github.com/x64dbg/ScyllaHide">ScyllaHide</a> as a plugin to x64dbg.</li>
<li>Launch your game using x64dbg. This will launch it with the anti-anti-debug measures in place.</li>
<li>(Optional) Detach from your game in x64dbg and attach using your debugger of choice.</li>
</ol>
<!--kg-card-end: markdown--><p>You can find some more information about ScyllaHide, as well as the anti-debug measures they counteract in their <a href="https://github.com/x64dbg/ScyllaHide/releases/download/docs-2019-05-17/ScyllaHide.pdf">documentation [pdf]</a>.</p><h3 id="automating-with-cheat-engine">Automating with Cheat Engine</h3><p>Cheat engine has a LOT of functionality. When you're looking to do some more complex hacks, you're going to start using the <a href="https://wiki.cheatengine.org/index.php?title=Tutorials:Auto_Assembler:Basics">auto assembler</a> to modify assembly instructions (and not just data types) in memory.</p><p>I don't think there's anyone better than <a href="https://www.youtube.com/c/StephenChapman">Stephen Chapman</a> for showing you how to do this. In fact, he put together an <a href="https://www.youtube.com/playlist?list=PLNffuWEygffbbT9Vz-Y1NXQxv2m6mrmHr">entire YouTube playlist of Cheat Engine tutorials</a> that I would highly recommend. He uses Cheat Engine almost exclusively in his videos, so it'll give you a good idea of some of the magical things you can do with just one tool.</p><p>You can <a href="https://www.youtube.com/watch?v=uiX1eQhSboE">make</a> <a href="https://www.youtube.com/watch?v=hnZyZio5FBQ">entire</a> <a href="https://www.youtube.com/watch?v=A2G-09v9rO4">trainers</a> in Cheat Engine.</p><figure><iframe width="200" height="113" src="https://www.youtube.com/embed/uiX1eQhSboE?list=PLNffuWEygffbbT9Vz-Y1NXQxv2m6mrmHr" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></figure><p>Cheat Engine even supports Lua scripting, which makes it much easier to customize the functionality of your game hacks. There is an extensive set of both <a href="https://wiki.cheatengine.org/index.php?title=Lua">documented</a> and <a href="https://github.com/cheat-engine/cheat-engine/blob/master/Cheat%20Engine/bin/celua.txt">undocumented</a> Lua functions already built-in.</p><p>If you want to see just how much you can do with Cheat Engine, check out <a href="https://github.com/flarn2006/SA2CheatTable">this cheat table for Sonic Adventure 2</a>. I've yet to see a more advanced and comprehensive cheat table.</p><p>Once you get beyond simply finding and replacing values in memory, Cheat Engine can pretty much help you do anything else you want with most games.</p><h3 id="automating-with-c-">Automating with C++</h3><p>If you're really hardcore, you can automate any of your hacks with C++, mostly using the Windows API directly. I won't go into too much depth here, but you'll mostly be using <a href="https://docs.microsoft.com/en-us/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocess"><code>OpenProcess()</code></a> to get a handle to the game process, <a href="https://docs.microsoft.com/en-us/windows/win32/api/memoryapi/nf-memoryapi-readprocessmemory"><code>ReadProcessMemory()</code></a> to read the memory from the game process, and <a href="https://docs.microsoft.com/en-us/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory"><code>WriteProcesMemory()</code></a> to write to the game process' memory. This method is known as an "external" hack because you're performing your actions from outside of the game process. You can do what's called an "internal" hack, where you first inject your own cheat process into the game process, and then read and write memory from inside the game's process.</p><p>Exactly how to do an internal or external hack goes a little beyond the scope of this article, but if you're interested in doing this, <a href="https://guidedhacking.com/threads/how-to-hack-any-game-tutorial-c-trainer-1-external.10897/">here's an example of an external hack using the Assault Cube game on Windows</a>, including source code. <a href="https://guidedhacking.com/threads/how-to-hack-any-game-tutorial-c-trainer-3-first-internal.12142/">This article</a> builds on that to perform an internal hack, including source code.</p><p>Why would you use C++ over Cheat Engine? It usually comes down to more low-level Windows API access (usually to bypass anti-cheat), or just personal preference. Cheat Engine is enough to do most game hacks, until you get into the more advanced game hacking...</p><h2 id="advanced">Advanced</h2><p>Some advanced topics that go beyond the scope of this beginner resource include:</p><h3 id="bypassing-anti-cheat">Bypassing anti-cheat</h3><p>Many online games include anti-cheat measures that go way beyond simple anti-debug tricks. More modern online games are also moving to anti-cheat solutions that operate in kernel mode, which makes it even trickier to bypass without writing your own Windows kernel driver, or exploiting a vulnerability in an existing kernel mode driver (<a href="https://guidedhacking.com/threads/vulnerable-kernel-drivers-for-exploitation.15979/#post-97057">here are a few you can use</a>). If you're interested in seeing how this is done, <a href="https://secret.club/">Secret Club</a> has a whole bunch of high quality articles on bypassing kernel mode anti-cheat software.</p><h3 id="visual-overlays">Visual overlays</h3><p>If you want to do something like an ESP hack (see where everyone is on the map) without writing to the game's process (for example, to prevent tripping anti-cheat software), you'll need to start writing overlay windows using something like <a href="https://docs.microsoft.com/en-us/windows/win32/direct3d12/directx-12-programming-guide">Microsoft DirectX</a>.</p><figure><iframe width="200" height="113" src="https://www.youtube.com/embed/i8Cn7fydNUA?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></figure><h3 id="network-interception-traffic-modification">Network interception &amp; traffic modification</h3><p>With online games in particular, some data may not even be exposed in client-side memory. In these cases, you'll need to intercept and modify traffic sent to the game servers. In most cases (but not all) these days, that traffic is encrypted, and the SSL certificate is usually pinned in the app, so traditional SSL interception measures won't work. Luckily, the traffic needs to be decrypted at <em>*some point*</em> in memory, which means you can still read and modify that data if you know where to look.</p><h2 id="other-resources">Other resources</h2><!--kg-card-begin: markdown--><p>Here are some resources that I haven't mentioned in the post, but are still noteworthy:</p>
<ul>
<li><a href="https://guidedhacking.com/forums/the-game-hacking-bible-learn-how-to-hack-games.469/">Guided Hacking's Game Hacking Bible</a>. I cannot recommend this enough. This guide walks you through a lot of the steps necessary to get from beginner to advanced game hacking, in a lot of detail. The <a href="https://guidedhacking.com/">Guided Hacking forum</a> is a gold mine of information, with a lot of helpful who will answer your questions (just make sure to do your research first).</li>
<li>YouTube channels:
<ul>
<li><a href="https://www.youtube.com/c/ReversingHub/videos">ReversingHub</a> - good for reverse engineering content</li>
<li><a href="https://www.youtube.com/channel/UC1a4ido01YxP_3-nspjmqCw/">CasualGamer</a></li>
<li><a href="https://www.youtube.com/c/GuidedHacking/">Guided Hacking</a></li>
<li><a href="https://www.youtube.com/user/BloodFayte/">Cheat The Game</a></li>
<li><a href="https://www.youtube.com/c/StephenChapman/">Stephen Chapman</a></li>
<li><a href="https://www.youtube.com/c/LiveOverflowCTF/videos">LiveOverflow</a> - some game hacking content, but also a lot of reverse engineering as well</li>
</ul>
</li>
<li>Forums:
<ul>
<li><a href="https://guidedhacking.com/">Guided Hacking</a> (I know I mentioned it above, but it's worth mentioning again; it's really good)</li>
<li><a href="https://fearlessrevolution.com/index.php?sid=7029b6b2eee2b3dbb35e706be76c458c">FearLes‚Ä¶</a></li></ul></li></ul></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://thehacker.dev/getting-started-with-game-hacking-on-pc/">https://thehacker.dev/getting-started-with-game-hacking-on-pc/</a></em></p>]]>
            </description>
            <link>https://thehacker.dev/getting-started-with-game-hacking-on-pc/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26141935</guid>
            <pubDate>Mon, 15 Feb 2021 12:03:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Lessons learnt from building an IoT company in Nigeria]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26141746">thread link</a>) | @ideadibia
<br/>
February 15, 2021 | https://www.hardwarethings.org/features/grit-was-not-enough | <a href="https://web.archive.org/web/*/https://www.hardwarethings.org/features/grit-was-not-enough">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="siteWrapper">
      
        
      

      


      <main id="page" role="main">
        
          <article data-page-sections="5f9e1c0123873844ce8e4b15" id="sections">
  
    <section data-test="page-section" data-section-theme="" data-section-id="5f9e1c0123873844ce8e4b17" data-controller="SectionWrapperController, MagicPaddingController" data-current-styles="{
&quot;imageOverlayOpacity&quot;: 0.15,
&quot;backgroundWidth&quot;: &quot;background-width--full-bleed&quot;,
&quot;sectionHeight&quot;: &quot;section-height--medium&quot;,
&quot;horizontalAlignment&quot;: &quot;horizontal-alignment--center&quot;,
&quot;verticalAlignment&quot;: &quot;vertical-alignment--middle&quot;,
&quot;contentWidth&quot;: &quot;content-width--wide&quot;,
&quot;sectionTheme&quot;: &quot;&quot;,
&quot;sectionAnimation&quot;: &quot;none&quot;,
&quot;backgroundMode&quot;: &quot;image&quot;
}" data-animation="none">
  
  <div>
    <div>
      
      
      
      
      <div data-content-field="main-content" data-item-id="">
  <article id="article-">
  
    <div>
      

      <div>
        <div><div data-layout-label="Post Body" data-type="item" id="item-602859cdebfa8763353aed1e"><div><div><div data-block-type="2" id="block-959975d75821ecf976d6"><div><p><em>David Adebiyi</em></p><p>In September 2016, I was invited for a technical assessment at <a href="https://twitter.com/grit_systems"><span>GRIT Systems</span></a> as part of the hiring process for a hardware engineering role. This assessment lasted eight hours but I did not need that long to make a decision on whether I was going to join the team, should an offer be made. I made that decision during the lunch break. At lunch I met a future colleague who had strong opinions about 3D printing. Over our meals of rice and chicken stew, we had a fascinating discussion about additive manufacturing techniques. He made very good points and I was enchanted by the fact that GRIT had brilliant engineers who were heterodox in their thinking and approach. I was completely sold on the company.</p><p>At the time, I had recently graduated with a degree in Physics and was a self-taught electronics hobbyist with an internship at <a href="https://www.facebook.com/ayukuelect/"><span>Ayuku Electronics</span></a> under my belt. At Ayuku, I had learnt to produce custom LED display products but nothing on the scale as my new job would require.</p><p>Looking back now, a year and four months after I left GRIT Systems, I remember my time there fondly. The company is not active anymore, and my former colleagues have by now moved on to other things. But the technology we built together stands for itself. In many ways I became a real engineer at GRIT Systems: performed some amazing technical feats, delivered projects for multinationals, hired brilliant people, and led a great team. And this is the story of how we did it.</p></div></div><div data-block-type="5" id="block-yui_3_17_2_1_1613321120902_5099"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5f9dfa7da3a0fa50f400e510/1613321161188-QESM66BMPA19G3GXK3N4/ke17ZwdGBToddI8pDm48kKTJsI9V7_GOYKp7iE4qyq5Zw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZamWLI2zvYWH8K3-s_4yszcp2ryTI0HqTOaaUohrI8PIie5Kpg2IoPZj5C8z7MyIe9-MSiseKLBJsGxiH_S7oTE/Grit+Story+-+Meter+Functions.png" data-image="https://images.squarespace-cdn.com/content/v1/5f9dfa7da3a0fa50f400e510/1613321161188-QESM66BMPA19G3GXK3N4/ke17ZwdGBToddI8pDm48kKTJsI9V7_GOYKp7iE4qyq5Zw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZamWLI2zvYWH8K3-s_4yszcp2ryTI0HqTOaaUohrI8PIie5Kpg2IoPZj5C8z7MyIe9-MSiseKLBJsGxiH_S7oTE/Grit+Story+-+Meter+Functions.png" data-image-dimensions="847x471" data-image-focal-point="0.5,0.5" alt="GRIT Systems‚Äô flagship product was the G1 Meter.   GRIT Systems" data-load="false" data-image-id="602953c80113d771c797890d" data-type="image" src="https://images.squarespace-cdn.com/content/v1/5f9dfa7da3a0fa50f400e510/1613321161188-QESM66BMPA19G3GXK3N4/ke17ZwdGBToddI8pDm48kKTJsI9V7_GOYKp7iE4qyq5Zw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZamWLI2zvYWH8K3-s_4yszcp2ryTI0HqTOaaUohrI8PIie5Kpg2IoPZj5C8z7MyIe9-MSiseKLBJsGxiH_S7oTE/Grit+Story+-+Meter+Functions.png">
          </p>
        
          
        

        
          
          <figcaption>
            <p><strong>GRIT Systems‚Äô flagship product was the G1 Meter. </strong><em>GRIT Systems</em></p>
          </figcaption>
        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1613321120902_6461"><div><h3>Show me the data</h3><p>Nigeria is an under-electrified country with only <a href="https://energypedia.info/wiki/Nigeria_Energy_Situation"><span>56.50% of the population</span></a> having access to grid power. Even those with access to the grid do not have a steady supply. This is one of the causes of the country‚Äôs underwhelming manufacturing sector, it also affects the general productivity. GRIT Systems was founded in 2015 against this backdrop, with the belief that to solve a problem as endemic as Nigeria‚Äôs power crisis, having reliable data on electricity usage was the key. If one had data across the entire value chain - from generation, to distribution, and then consumption - one could solve real problems. So we set out to collect this data.</p></div></div><div data-block-type="5" id="block-yui_3_17_2_1_1613321291084_7092"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5f9dfa7da3a0fa50f400e510/1613321353520-KWGIWPAQU8VI1CGX42HU/ke17ZwdGBToddI8pDm48kJPwlMAIB4u-xv7bNq7qx15Zw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZUJFbgE-7XRK3dMEBRBhUpzvhAdKZGU2a6EKruLuw7eZn6Xcfb8rNZiyi3ikB_TaJLrRPyxOuXAv2UruwiWgM5s/Grit+Story+-+EMRC+Nigeria+data.jpg" data-image="https://images.squarespace-cdn.com/content/v1/5f9dfa7da3a0fa50f400e510/1613321353520-KWGIWPAQU8VI1CGX42HU/ke17ZwdGBToddI8pDm48kJPwlMAIB4u-xv7bNq7qx15Zw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZUJFbgE-7XRK3dMEBRBhUpzvhAdKZGU2a6EKruLuw7eZn6Xcfb8rNZiyi3ikB_TaJLrRPyxOuXAv2UruwiWgM5s/Grit+Story+-+EMRC+Nigeria+data.jpg" data-image-dimensions="680x377" data-image-focal-point="0.5,0.5" alt="Energy generation in Nigeria is low, and mostly serves residential consumers.   EMRC" data-load="false" data-image-id="6029548915621374f2db61d7" data-type="image" src="https://images.squarespace-cdn.com/content/v1/5f9dfa7da3a0fa50f400e510/1613321353520-KWGIWPAQU8VI1CGX42HU/ke17ZwdGBToddI8pDm48kJPwlMAIB4u-xv7bNq7qx15Zw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZUJFbgE-7XRK3dMEBRBhUpzvhAdKZGU2a6EKruLuw7eZn6Xcfb8rNZiyi3ikB_TaJLrRPyxOuXAv2UruwiWgM5s/Grit+Story+-+EMRC+Nigeria+data.jpg">
          </p>
        
          
        

        
          
          <figcaption>
            <p><strong>Energy generation in Nigeria is low, and mostly serves residential consumers.</strong> <em>EMRC</em></p>
          </figcaption>
        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1613321291084_8843"><div><p>The company built hardware devices to measure electricity usage of buildings as well as a software platform (web and mobile) for data analytics. The company also designed a series of modern smart electricity meters for the larger electricity distribution market. The products were targeted at building owners, energy auditors, and IPPs (independent power producers).</p><p>The company built an enviable structure that enabled rapid prototyping, but manufacturing was a hard nut to crack. Making electronics is easy on paper. You need your design, simulate the circuit behaviour with computer software, then prototype on a breadboard. Some more complex circuits require a PCB (printed circuit board) from the beginning. We kept an inventory of the most utilized components so that most prototypes could be made quickly. The stash was quite something, we probably had more variety of passive and active components than many electronics shops in Arena Market, Lagos.&nbsp;</p><p>For more involved concepts, the components were sourced online through Chinese suppliers or bought on popular online platforms such as Digi-Key, Arrow or Farnell. Shipping from Europe or North America was always quite expensive. Most components arrive in Nigeria by air, usually through a freight company. But getting here is the easy part. Delays to clear the ports, seizure for frivolous reasons, and other customs inefficiencies complicate the simple process of buying a component online and getting it delivered. Some entrepreneurs like <a href="https://hub360.com.ng/"><span>Hub360</span></a> are trying to solve this problem. But for anyone building something unique or moderately complex, sourcing overseas is inevitable.&nbsp;</p><p>Apart from component sourcing, another big problem we had at GRIT was PCB fabrication. Printed Circuit Boards, popularly known as ‚Äòboard‚Äô or ‚Äòpanel‚Äô on the streets of Alaba or Computer Village, are at the heart of any electronic product. Our ecosystem is yet to produce PCBs at scale. Local PCB houses that can churn out prototypes in days or a week are needed, these companies will eliminate the challenge of rapid prototyping most hardware teams face in the country. However, it remains to be seen if the market is large enough to sustain these kinds of businesses. It‚Äôs almost a chicken and egg question to which I have no definite answer. GRIT&nbsp; solved many of these challenges in unique ways that ultimately slowed us down.&nbsp;</p><h3>Running on all cylinders</h3><p>GRIT Systems had a formal hierarchical organizational structure on paper, although in reality it was flat. At the very top of its management was Ifedayo, who was the CEO and founder. The engineering team was led by the CTO, supported by the software and hardware team leads. But in truth, everyone reported to the CEO.</p><p>When it came to company culture, it was a high-octane environment. GRIT was a very difficult place for those who are not high achieving: first class degree in EE, started coding in high school, solved maths while dreaming, built racing drones in university, would prefer a dev board&nbsp; instead of a cake on their birthday - that type of high-achieving. People were expected to be self-starters, and capable of learning new things very quickly with little or no supervision.&nbsp;</p></div></div><div data-block-type="5" id="block-yui_3_17_2_1_1613321291084_11577"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5f9dfa7da3a0fa50f400e510/1613321509293-HNSQHSAO3ZOFIURQOLD8/ke17ZwdGBToddI8pDm48kDk1dm1oSR9gCa1mX4KqzjN7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0luj0xCD0oh5KMc0gpox0u-wQWxfQHg04OxgQwaUq2yiAcNt5Kg2tE9yEtYfM4xwaw/Grit+Story+-+Team+picture.jpg" data-image="https://images.squarespace-cdn.com/content/v1/5f9dfa7da3a0fa50f400e510/1613321509293-HNSQHSAO3ZOFIURQOLD8/ke17ZwdGBToddI8pDm48kDk1dm1oSR9gCa1mX4KqzjN7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0luj0xCD0oh5KMc0gpox0u-wQWxfQHg04OxgQwaUq2yiAcNt5Kg2tE9yEtYfM4xwaw/Grit+Story+-+Team+picture.jpg" data-image-dimensions="2500x1656" data-image-focal-point="0.5,0.5" alt="GRIT also worked on developing young, diverse talent by organizing a hackathon for young ladies.   Twitter" data-load="false" data-image-id="60295523ba1371645cc5b19e" data-type="image" src="https://images.squarespace-cdn.com/content/v1/5f9dfa7da3a0fa50f400e510/1613321509293-HNSQHSAO3ZOFIURQOLD8/ke17ZwdGBToddI8pDm48kDk1dm1oSR9gCa1mX4KqzjN7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0luj0xCD0oh5KMc0gpox0u-wQWxfQHg04OxgQwaUq2yiAcNt5Kg2tE9yEtYfM4xwaw/Grit+Story+-+Team+picture.jpg">
          </p>
        
          
        

        
          
          <figcaption>
            <p><strong>GRIT also worked on developing young, diverse talent by organizing a hackathon for young ladies.</strong> <em>Twitter</em></p>
          </figcaption>
        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1613321291084_13294"><div><p>There is no other startup where a 400 Level (fourth year of five) engineering intern builds test equipment. Friday (not his real name) struggled when he first joined us for his 6 months undergraduate internship. He was handed tasks he felt were beyond his capabilities, and I remember supervising him as he designed a device to easily test the magnetic hysteresis of ferrite cores. Ultimately, the experience he got from such a difficult task helped crystalize his academic knowledge into real know-how. He gained confidence in his abilities and he even went on to design software that was very valuable to the company.</p><p>Arguments happened a lot at GRIT and a lot of them were over technical details. For example, we once spent weeks evaluating the best Real-Time Operating System (RTOS) for a major project. An RTOS is a piece of firmware that a processor uses to manage real-time tasks. Unlike other types of software, physical computing sometimes has real-time constraints and a failure to meet this constraint could be catastrophic. This firmware helps manage the timing requirements in an efficient way that‚Äôs almost impossible for an applications programmer to do from scratch, which makes it expensive.</p><div><p>With cost, efficiency and safety certification in mind, an engineer at GRIT spent weeks evaluating different RTOS options, he profiled different pieces of software and made a final recommendation that saved us thousands of dollars. Sometimes, the new intern prevailed over the battle-tested engineer in a technical debate. It was really a meritocracy. </p><p>Everybody at GRIT was an expert at something, and more importantly, everyone was willing to share their expertise. There are not many companies where the CEO is willing to have pair-programming sessions with an intern, although I am still undecided on whether this was a positive thing in itself. I have to give credit to the brilliant and amazing people I met and worked with at GRIT Systems. Ifedayo, Ikenna (my immediate boss), and Emmanuel were big influences in my career. I learnt a great deal talking to them and since I didn‚Äôt have an engineering education, conversations with my colleagues filled many gaps for me.&nbsp;</p></div><h3>Where it went downhill</h3><div><p>GRIT was not a perfect place, I must have made that pretty clear by now. There are things I wish I did differently. We ran at a fast pace, and sometimes hired brilliant engineers who were not just compatible with our speed. I feel I did not do enough for some junior colleagues who needed help. Once, we hired a brilliant engineer who was a great programmer on the hardware team but the hardware team required full-stack engineers. Not full-stack in the software sense but full-stack in the sense that they are comfortable with designing hardware, writing firmware for microcontrollers, doing math analysis, and writing python scripts for systems automation.</p><p>This engineer was evidently skilled at web development and he would have been immediately productive on the software team, but he envisioned a career in robotics so he stuck to his guns and remained on the hardware team. He made mistakes which hurt his confidence and as a result I didn‚Äôt like assigning difficult tasks to him. I should have been more patient with him and more forceful in my defense of his performance during reviews. He was eventually let go, and he moved on to software development at his next job. I believe the whole event traumatized him enough that he left hardware.&nbsp;</p></div><p>The organization as a ‚Ä¶</p></div></div></div></div></div></div></div></div></article></div></div></div></section></article></main></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.hardwarethings.org/features/grit-was-not-enough">https://www.hardwarethings.org/features/grit-was-not-enough</a></em></p>]]>
            </description>
            <link>https://www.hardwarethings.org/features/grit-was-not-enough</link>
            <guid isPermaLink="false">hacker-news-small-sites-26141746</guid>
            <pubDate>Mon, 15 Feb 2021 11:35:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Stakes Create Good Software]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26141417">thread link</a>) | @todsacerdoti
<br/>
February 15, 2021 | https://cerebralab.com/Stakes_create_good_software | <a href="https://web.archive.org/web/*/https://cerebralab.com/Stakes_create_good_software">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
        
<p>It surprises me to no end that founders and VCs, which pride themselves on being economically rational actors, can't imagine a world where everyone else is also a somewhat economically rational actor.</p>
<h2>i - Maintenance cost disease</h2>
<p>For most software companies and products, development costs seem to increase as they age. Even if the core focus of those companies or products remains unchanged, easy examples being Uber, eBay, Paypal, Lyft and Facebook.</p>
<p>I can present the paradox in a single drawing</p>
<p><img src="https://cdn.cerebralab.com/images/corp_cost_1.png" alt="img 1"></p>
<p><em>(lines represent trends, not absolute values)</em></p>
<p>The hidden variable here is "team size". As these companies get older they accumulate engineers, but the quality of developers decreases.</p>
<p>The mean salary isn't decreasing due to salary cuts to the original team, it decreases because of the original team cashing out, retiring or starting their own companies, leading to a desperate attempt at replacing each of them with a lot of low paid interns.</p>
<p>This trend seems ubiquitous among large companies, the bit where their core product becomes worst is arguable, the bit where average salaries decrease is fairly indisputable if you include the shares early developers get as part of their compensation.</p>
<p>But why?</p>
<p>I'd expect a "healthy" version of the above graph to look closer to this:</p>
<p><img src="https://cdn.cerebralab.com/images/corp_cost_2.png" alt="img 1"></p>
<p>The hidden variable, "team size", starts going down instead of up after the company matures. Salaries increase for longer and remain high because the original developers must be paid large amounts to stay in the team, even though most still probably leave after a while. Getting "replacements" for them is very expensive, they might need months or years of training to get up to speed (the codebase is old and complicated) and arguably have to be smarter than the original devs. After all, creating code is usually easier than understanding the code someone else created, I know many people that can do the former, but few that can do the latter.</p>
<h2>ii - Dying a good death</h2>
<p>The product has now matured. New features might get shuffled around, but overall you just have to sit back and watch as gradual improvements in hardware, network and compilers make your good product even better by catching bugs, improving performance and reducing server costs.</p>
<p>This is not to say sales, marketing and legal don't have an increased workload as the audience grows, but software, in principle, is the same thing, just add 100x the servers to your cluster and you're good to go.</p>
<p>Some might say that "scale" is the thing that causes dev team costs to go up, and that would be a confounder if people were to only <a href="https://cerebralab.com/Stop_future_proofing_software">design for scale when needed</a>, but they aren't, so we use expensive IaaS providers, adopt serverless designs and run Kubernetes clusters from day 1. So I don't think the scale is the issue here, everything is already designed for scale. Furthermore, as I often like to point out, bigger machines can bring you a long way, you can fit 12TB of ECC DDR4 on a single instance and by the time I'm done writing this article those numbers might be 24 and 6, we are living at the end of Moore's law and it's amazing.</p>
<p>Maybe it's just a fundamental rule of everything that <a href="https://slatestarcodex.com/2017/02/09/considerations-on-cost-disease/">costs must go up forever</a>, no matter how big or small the system, until it collapses. I'm rather optimistic and think the problem here is solvable and has been solved by a few companies, but it's that very solution that makes them boring.</p>
<hr>
<p>You will see I use "decay" in the graph above to represent the final phase of a company, the one where usually the dev team grows exponentially with quality being sacrificed in exchange for quantity.</p>
<p>Despite the word I chose, I don't think this "decay" phase is necessarily bad. In the best of cases, it's synonymous with the product being forever enshrined in amber, continuing to be enjoyed by generations to come. At worst, its user base will very slowly dwindle as the market moves away from whatever generators of needs caused it's existence to being with.</p>
<p>A good example of a company going through a good "decay" period is Craigslist. A company making <a href="https://en.wikipedia.org/wiki/Craigslist">694 million a year with 50 employees</a>. It seems to be doing exactly what I'd have loved it to do if I ever invested in it, generating millions for me each year, playing it safe in a space it knows well, slowly expanding and improving. Will craigslist live forever? No. But even greed must know some limits, and if Craigslists is made defunct after generating dozens or hundreds of billions in revenue, I think everyone that started it will be fine with that.</p>
<p>Also note, only 500 millions of those are income, what's happening with 194 millions? Even if 50-80% go on something other than salaries, that's still an average salary of... oh god, I mean, I love my job and I'm not particularly inspired by craigslist and all... but... but anyway, I digress.</p>
<h2>iii - How to make stake</h2>
<p>I believe the reason that most companies are not going the Craiglist route is one of stake. Say you've got the funding team plus investors that have 90% of the stake in a venture, the rest is divided between late-stage investors and later employees. The funding team wants to cash out and stop working forever, which is fine, except that now only 10% of the stake in the success of the company is held by people working for the actual company.</p>
<p>So now you are left with two options:</p>
<p>a) Have workers that are interested in doing a good job for reasons other than the ultimate success of the business.</p>
<p>b) Make the stakes very high.</p>
<p>The first option seems to be what most public companies went with, and in principle is the reason why 2-men startups are able to wipe the floor with behemoths wielding hundreds of billions in assets. It's more or less the same problem that a government has in employing people, the lack of external incentives means that <a href="https://www.goodreads.com/book/show/279812.Moral_Mazes">everyone is focused on gaming internal systems</a> (e.g. trying to maximize political influence and department budgets at any cost), and those who aren't are soon kicked out of the game.</p>
<p>The second option seems to be what the Googles and Amazons of the world are doing, aiming to keep exponential growth going so that even if the stakes are very tiny relative to the company's size, employees still feel motivated by sharing in the product's success. This <a href="https://www.strangeloopcanon.com/p/maintenance-as-innovation-2n">seems to have some flaws</a>, for one, there's only so much growth a company like Google or Amazon can benefit from since their revenue is very tied into the overall economy, which doesn't seem to grow that quickly, if at all.</p>
<p>The third option seems to be the one that almost nobody is taking:</p>
<ul>
<li>Focus on what you did well the first time.</li>
<li>Downscale (or at least keep the team small) to save on internal costs.</li>
<li>Get very good developers and pay them (presumably) insane amounts to keep them motivated and make sure they never leave.</li>
</ul>
<h2>iv - Working without feedback</h2>
<p>Why am I saying one must pay developers exorbitant amounts to keep them motivated? It seems that most are doing just fine with what is getting closer and closer to minimal wage nowadays.</p>
<p>This is true, developers are cheap, but also, somehow, companies find they must hire hundreds of them to upkeep a similar product that was originally maintained by a few, if not one. And for some reason, the really good ones seem to prefer to work as CEOs and CTOs, or get out of the game entirely and work in academia or become FIRE minimalists.</p>
<p>That is because low wages lead to corrupt incentives. Low wages means developers are not too concerned about the company going under, or being fired. They'd prefer for that <em>not</em> to happen, but they can find another job that pays them about as much, maybe they even welcome the change of setting.</p>
<p>The only way to make monetary and stake progress is going up the chain, i.e. into management. But that just reinforces the problem, since it means good developers get promoted into positions where most of their skills become progressively more useless.</p>
<hr>
<p>If that picture seems wrong to you, reflect upon the last 20 years of software development consisting of hundreds if not thousands of teams of 1 to 3 loners achieving market dominance against well-organized teams of dozens of thousands of people with billions backing them.</p>
<p>So why don't companies have this model internally? Why wait for a startup to beat them when they could foster that kind of environment internally? Sure, Facebook can buy Instagram, but why spend dozens of billions buying Instagram instead of building it themselves.</p>
<p>Maybe it all boils down to fairly obvious insights about how humans think when they are "part of a team" and how people that "got there first" feel cheated if other people end up prospering equally with seemingly much smaller risks. More likely I'm wrong here and the current growth patterns are the best we could get, even given an ideal founding team.</p>
<h2>v - Extra thoughts</h2>
<p>Capitalism is great, it's the closest human have gotten to whatever magic the gods of love and peace bestow upon their clerics. It turns status-obsessed would-be mass murderers, your Ghnigish Khans, Alexanders the Greats and Stalins, into preference-utility maximizing specialists.</p>
<p>The one problem with capitalism is the wealth accumulation bit, it losses appeal without it, but the hierarchy of competition becomes hopelessly corrupt with it. Happily, enough death and taxes take care of that and have managed to help things move along ok for hundreds of years, granted, with a few hiccups, but hey, what system of running human affairs hasn't caused a genocide or two? We ought to look at the aggregate picture.</p>
<p>Corporations mirror capitalism, as above so bellow and all that jazz, in that the stakes available for any would-be participant get progressively lower. After all, if you buy in and work for google in the very beginning, you're getting shares that price in a great amount of risk. If you work for the google of today, the publically traded capital A google, there's no risk in taking shares as salary, you can sell them the next day for the equivalent cash amount, so no astronomical gains are possible.</p>
<p>This ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://cerebralab.com/Stakes_create_good_software">https://cerebralab.com/Stakes_create_good_software</a></em></p>]]>
            </description>
            <link>https://cerebralab.com/Stakes_create_good_software</link>
            <guid isPermaLink="false">hacker-news-small-sites-26141417</guid>
            <pubDate>Mon, 15 Feb 2021 10:47:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Is This a Branch?]]>
            </title>
            <description>
<![CDATA[
Score 133 | Comments 72 (<a href="https://news.ycombinator.com/item?id=26141047">thread link</a>) | @wheresvic4
<br/>
February 15, 2021 | https://bartwronski.com/2021/01/18/is-this-a-branch/ | <a href="https://web.archive.org/web/*/https://bartwronski.com/2021/01/18/is-this-a-branch/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
						
<p>Let‚Äôs try a new format ‚Äì <strong>‚Äúshorts‚Äù</strong>; small blog posts where I elaborate on ideas that I‚Äôd discuss at my twitter, but they either come back over and over, or the short form doesn‚Äôt convey all the nuances.</p>



<div><figure><img src="https://lh5.googleusercontent.com/lc0z89hwcBtH59QnEvHrU__d1Be5uxjtjrjaBYi3updGObpyYlmpYvhlhXobMLWwyeRB2Sh--pEO7_oupCuDWdQXMtQnjcYfBjrO0TLDB_Zn5CJQLmDQm27enOR1C-tUEvmGGDL_" alt="" width="370" height="333"></figure></div>



<p>I often see advice about avoiding ‚Äúif‚Äù statements in the code (especially GPU shaders) at all costs. The worst of all is when this happens in glsl and programmers replace some simple if statements with (subjectively) horrible <a href="https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/step.xhtml">step instruction</a> which IMO completely destroys all readability, or even worse ‚Äì sequences of mixes, maxes, clips and extra ALU.</p>



<p>After all, <strong>those ifs are branches, and branches are bad, right?</strong></p>



<p><strong>TLDR: No, definitely not ‚Äì on all accounts.</strong></p>



<h2>Why do programmers want to avoid branches?</h2>



<p>Let‚Äôs first address why programmers would like to avoid branches. There are some good reasons for that.</p>



<h3>Scalar CPU</h3>



<p>On the CPU, ‚Äúbranches‚Äù in a non-SIMD code might seem ‚Äúinnocent‚Äù, it‚Äôs just a conditional jump to some other code. Instead of executing an <em>instruction a</em> next address, we jump to <em>instruction b</em> at some other address. Unfortunately, there are many complicated things going on under the hood: All modern CPUs are heavily pipelined, superscalar, and out-of order.</p>



<div><figure><img src="https://lh5.googleusercontent.com/aJOrhsi_sQ7C4gG6z0cov73NA_qt-UckHrz10Uo5OGX22TuwRRf_n1ogyaRUSBsTsCU3wigOkYwIZMclAGslXKSruRk9P7ieNjYvyukZ9erHFaCr-QMuKvwPjMbLNuBfyMZGTqjc" alt="" width="344" height="330"><figcaption>All modern CPUs are superscalar and deeply pipelined. Many instructions are processed and executed at the same time. Source: <a href="https://en.wikipedia.org/wiki/Branch_predictor">wikipedia</a></figcaption></figure></div>



<p>To extract maximum efficiency, they use a model of <a href="https://en.wikipedia.org/wiki/Branch_predictor">speculative execution</a> ‚Äì a CPU ‚Äúgambles‚Äù and ‚Äúguesses‚Äù results of a branch ahead of time, not knowing if it will be taken or not, and starts executing those instructions. If it‚Äôs right ‚Äì great! However if it‚Äôs not, then the CPU needs to stall, cancel all the guesses, go back to the branch, and execute the other instructions. Oops.</p>



<p>Luckily, CPUs are usually very good at this ‚Äúguessing‚Äù (they actually analyze past branch patterns and take them into account!). On the other hand, without going into too much detail ‚Äì each branch consumes some of the branch predictor unit resources. One extra branch on some short, innocent code can make results of the branch prediction worse, and slow down other code (where branch predictor might be necessary for good performance!).</p>



<h3>SIMD and the GPU</h3>



<p>When considering SIMD or the GPU, the situation is even worse.</p>



<p>Simplifying ‚Äì single program and same instruction stream executes on multiple ‚Äúlanes‚Äù of the same data, processing 4/8/16/32/64 elements at the same time.</p>



<p>If you want to take a branch when some of the elements take one path, some another one, you have two main options: <strong>either abandon vectorization and scalarize code</strong> (very bad option; usually means that it‚Äôs not worth vectorizing given piece of code), or <strong>execute both code paths</strong> ‚Äì first the first one, store the results somewhere, execute the second one, and ‚Äúcombine‚Äù the results.</p>



<div><figure><img src="https://lh3.googleusercontent.com/GmopPKjJ_t4QpsGIhaIhjJn6cTfUjVaMSl9lDj74skwpNRUVIYtWQ8-V0j4mMLIyZk1CZEgn-9z5C1kExAlVjIw8Oikdx0L-gJnyrB-qUc5oi3_4aQmmcGwCcP51YutgGoAlRHdT" alt="" width="448" height="194"></figure></div>



<p>This is a general (over)simplification, and example GPUs have dedicated hardware to help do it efficiently and without wasting resources (hardware execution masks etc), but generally means extra cost of managing those masks, storing results somewhere, double execution costs and finally ‚Äì branches can serve as barriers, preventing some <a href="https://bartwronski.com/2014/03/27/gcn-two-ways-of-latency-hiding-and-wave-occupancy/">latency hiding (see my old blog post on it)</a>.</p>



<h3>Combined</h3>



<p>Given those two, it might seem that avoiding branches seems reasonable, and the common advice of avoiding ifs makes sense. But whether it makes sense to avoid branch or not is more complicated (more on it later), and the second one (whether an if is a branch) is not the case.</p>



<h2>Are if statements branches?</h2>



<p>Let‚Äôs clear the worst misconception.</p>



<p><strong>When you write an ‚Äúif‚Äù in your code, the compiler won‚Äôt necessarily generate a branch with a jump</strong>.</p>



<p>I will focus now on CPUs, mostly because how easy it is to test it with <a href="https://godbolt.org/">Matt Godbolt‚Äôs amazing compiler explorer</a>. üôÇ (Plus how there are two mainstream architectures, unlike many different shader ISAs)</p>



<p>Let‚Äôs have a look at the following simple integer function.</p>


<pre title="">int is_this_a_branch(int v, int w) {
    if (v &lt; 10) {
        return v + w; 
    } 
    else {
        return 2 * v - 2 * w;
    }
}
</pre>


<p>I tested it with 3 x64 compilers (GCC x64 trunk, Clang x64 trunk, MSVC 19.28) and one ARM (armv8-a clang), and only MSVC generates an actual branch there.</p>



<pre><code><strong>clang</strong>              
        mov     eax, edi
        sub     eax, esi
        add     esi, edi
        add     eax, eax
        cmp     edi, 10
        cmovl   eax, esi
        ret
<strong>gcc</strong>
        mov     eax, edi
        lea     edx, [rdi+rsi]
        sub     eax, esi
        add     eax, eax
        cmp     edi, 9
        cmovle  eax, edx
        ret
<strong>msvc </strong>       
        cmp     ecx, 10
        <strong>jge     SHORT $LN2@is_this_a_ BRANCH!!!
</strong>   BRANCH!
        lea     eax, DWORD PTR [rcx+rdx]
        ret     0
$LN2@is_this_a_:
        sub     ecx, edx
        lea     eax, DWORD PTR [rcx+rcx]
        ret     0

<strong>arm clang
</strong>        sub     w9, w0, w1
        add     w8, w1, w0
        lsl     w9, w9, #1
        cmp     w0, #10                         // =10
        csel    w0, w8, w9, lt</code></pre>



<p>When using floats:</p>


<pre title="">float is_this_a_branch2(float v, float w) {
    if (v &lt; 10.0f) {
        return v + w; 
    } 
    else {
        return 2.0f * v - 2.0f * w;
    }
}
</pre>


<p>Now 2 out of 4 compilers generate a branch:</p>



<pre><code><strong>clang</strong>           
        movaps  xmm2, xmm0
        addss   xmm2, xmm1
        movaps  xmm3, xmm0
        addss   xmm3, xmm0
        addss   xmm1, xmm1
        cmpltss xmm0, dword ptr [rip + .LCPI1_0]
        subss   xmm3, xmm1
        andps   xmm2, xmm0
        andnps  xmm0, xmm3
        orps    xmm0, xmm2
        ret

<strong>gcc
</strong>        movss   xmm2, DWORD PTR .LC0[rip]
        comiss  xmm2, xmm0
        <strong>jbe     .L10  BRANCH!!!
</strong>
        addss   xmm0, xmm1
        ret
.L10:
        addss   xmm1, xmm1
        addss   xmm0, xmm0
        subss   xmm0, xmm1
        ret

<strong>msvc
</strong>        movss   xmm2, DWORD PTR __real@41200000
        comiss  xmm2, xmm0
        <strong>jbe     SHORT $LN2@is_this_a_  BRANCH!!!</strong>
        addss   xmm0, xmm1
        ret     0
$LN2@is_this_a_:
        addss   xmm0, xmm0
        addss   xmm1, xmm1
        subss   xmm0, xmm1
        ret     0

<strong>arm clang
</strong>        fadd    s2, s0, s1
        fadd    s3, s0, s0
        fadd    s1, s1, s1
        fmov    s4, #10.00000000
        fsub    s1, s3, s1
        fcmp    s0, s4
        fcsel   s0, s2, s1, mi
        ret</code></pre>



<h3>What are those conditionals and selects?</h3>



<p>This is basically CPUs‚Äô and compilers‚Äô way of ‚Äúserializing‚Äù both code paths. If it considers overhead of a branch larger than the amount of work it can save, it makes sense to compute both code paths, and use a single instruction to select which one is the actual result.</p>



<p>This obviously ‚Äúdepends‚Äù on the use case and whether it is even ‚Äúlegal‚Äù for a compiler to do such a transformation (like ‚Äúside effects‚Äù; or if a compiler executed some reads of memory, it could be unsafe and lead to segmentation fault).&nbsp;</p>



<h2>Does writing ternary conditional help avoid branches?</h2>



<p><strong>No.</strong></p>



<p>This is a common advice, but it‚Äôs generally not true. If you look at the above example rewritten slightly:</p>


<pre title="">float is_this_a_branch3(float v, float w) {
    return v &lt; 10.0f ? (v + w) : (2.0f * v - 2.0f * w);
}
</pre>


<p>The generated code is <strong>identical </strong>(!).</p>



<p>It might be <em>possible</em> (?) that some compilers do generate branchless code for like this, but giving this as a general advice makes no sense. Whether you write an actual if, or a ternary expression, it‚Äôs still a high level if statement, just expressed differently.</p>



<h2>What about the GPU?</h2>



<p><strong>On the GPU, it‚Äôs the same; the compiler will generate conditional selects when appropriate.</strong></p>



<p>I used <a href="http://shader-playground.timjones.io/">Tim Jones Shader Playground</a> and AMD ISA (mostly because I know it relatively better than the others), and the unfortunate step function:</p>


<pre title="">#version 460

layout (location = 0) out vec4 fragColor;
layout (location = 0) in float inColor;

void main()
{
#if 1
	fragColor = vec4(step(1.0, inColor));
#else
    float x;
    if (inColor &lt; 1.0)
        x = 1.0;
   	else
        x = 0.0;
   	fragColor = vec4(x);
#endif
}
</pre>


<p>See for yourself, both versions generate identical assembly:</p>



<pre><code>  s_mov_b32     m0, s3
  s_nop         0x0000
  v_interp_p1_f32  v0, v0, attr0.x
  v_interp_p2_f32  v0, v1, attr0.x
  v_cmp_gt_f32  vcc, 1.0, v0
  v_cndmask_b32  v0, 1.0, 0, vcc
  v_cvt_pkrtz_f16_f32  v0, v0, v0
  exp           mrt0, v0, v0, v0, v0 done compr vm</code></pre>



<p>When using fastmath and not obeying strict IEEE float specification (which is standard for compiling shaders for real time graphics), compilers can even generate other instructions like min or max from your if statements. But YMMV and be sure to check the assembly.</p>



<p>So generally ‚Äì using ‚Äústep‚Äù just to avoid if statements is <strong>pointless</strong>.</p>



<p>If you like it for your coding style, then it‚Äôs obviously up to you, use as much as you like just for this reason. But please consider programmers who don‚Äôt have as much shader or GLSL experience and will be always puzzled by it. üôÇ </p>



<h2>Are branches always to be avoided?</h2>



<p><strong>No.</strong></p>



<p>This is way beyond my aimed ‚Äúshort‚Äù format, but <strong>branches are not necessarily ‚Äúbad‚Äù</strong>.</p>



<p>They can be actually an awesome optimization, even on the GPU!</p>



<p>If you start to use a lot of conditionals</p>



<p>Lots of advice on how branches are bad and have to be avoided comes from a prehistoric era of old CPUs and GPUs or old compilers; an advice that is passed without re(verifying) ‚Äì which is understandable, I am not re-checking my whole knowledge or intuition every few months either. üôÇ </p>



<p>But the CPU/GPU/compiler architects improved designs significantly and adapted them to general, highly branchy code, and whether there is a penalty or not depends on way too many details to list or give advice.</p>



<p><strong>Rule of thumb</strong>: if a branch is generally coherent, it makes sense to use it when it allows to save on memory bandwidth or cache utilization. On GPUs it is usually worth adding branches if you can avoid texture fetches this way with a high probability and coherence. And it‚Äôs usually better to have some conditional masks and selects around ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://bartwronski.com/2021/01/18/is-this-a-branch/">https://bartwronski.com/2021/01/18/is-this-a-branch/</a></em></p>]]>
            </description>
            <link>https://bartwronski.com/2021/01/18/is-this-a-branch/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26141047</guid>
            <pubDate>Mon, 15 Feb 2021 09:52:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Interactive Data Visualisation with Rust]]>
            </title>
            <description>
<![CDATA[
Score 81 | Comments 12 (<a href="https://news.ycombinator.com/item?id=26141018">thread link</a>) | @batterylow
<br/>
February 15, 2021 | https://shahinrostami.com/posts/programming/rust-notebooks/visualisation-of-co-occurring-types/ | <a href="https://web.archive.org/web/*/https://shahinrostami.com/posts/programming/rust-notebooks/visualisation-of-co-occurring-types/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<pre>[[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]]</pre>
</div></div>]]>
            </description>
            <link>https://shahinrostami.com/posts/programming/rust-notebooks/visualisation-of-co-occurring-types/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26141018</guid>
            <pubDate>Mon, 15 Feb 2021 09:49:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mental Health and Free Software (FOSDEM 2021)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26140976">thread link</a>) | @babolivier
<br/>
February 15, 2021 | https://tube.abolivier.bzh/videos/watch/c28a3957-25cb-4519-ad3d-9f8812f88ee2 | <a href="https://web.archive.org/web/*/https://tube.abolivier.bzh/videos/watch/c28a3957-25cb-4519-ad3d-9f8812f88ee2">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://tube.abolivier.bzh/videos/watch/c28a3957-25cb-4519-ad3d-9f8812f88ee2</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140976</guid>
            <pubDate>Mon, 15 Feb 2021 09:41:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Managing Oneself]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26140936">thread link</a>) | @BerislavLopac
<br/>
February 15, 2021 | https://stray-reflections.com/article/176/Managing_Oneself | <a href="https://web.archive.org/web/*/https://stray-reflections.com/article/176/Managing_Oneself">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                        <div><div>
<p>Among the quick, incisive thrusts of practical wisdom from Peter Drucker is this:&nbsp;‚ÄúThe best way to predict your future is to create it.‚Äù&nbsp;</p>
<p>But before we can&nbsp;<i>create</i>, we must get to know ourselves. Drucker points out that success in the knowledge economy comes to those who know their strengths, their values, and how they best perform. Only then, armed with such self-knowledge, can we decide where we belong and what our contribution should be.&nbsp;<br></p>
<p>The problem is we‚Äôre all&nbsp;bad at evaluating our strengths. ‚ÄúIt's amazing how few people know what they are good at,‚Äù Drucker says. We‚Äôre much better at knowing what we‚Äôre&nbsp;<i>not</i>&nbsp;good at. So, he suggests constantly giving yourself feedback on how you‚Äôre doing.&nbsp;</p>
<p>After every key decision or action, we should write down what we expect will happen. And some months later, compare the actual results with our expectations.&nbsp;</p>
<p>Once we‚Äôve figured out what we‚Äôre good at, we should go to work on acquiring the skills and knowledge we need to fully realize our strengths. See where the gaps are and fill them in. Find where our intellectual arrogance is causing disabling ignorance and overcome it.</p>
<p><b>Drucker believes one should waste as little effort as possible on improving areas of low competence. ‚ÄúIt takes far more energy and work to improve from incompetence to mediocrity,‚Äù he reckons, ‚Äúthan it takes to improve from first-rate performance to excellence.‚Äù</b></p>
<p>We all work differently. But few people think about exactly&nbsp;<i>how&nbsp;</i>they work. It is more a matter of personality‚Äîand not easily changed. Drucker questions us: Do you learn through reading, listening, writing, or talking? Do you work in large or small groups? As a decision maker or an adviser? We shouldn‚Äôt try to change our methods; rather, we should seek environments that suit them.</p>
<p>Working in an organization whose value system is incompatible with our own condemns us to frustration. For us to be effective in our roles, our values do not need to be the same, but they must be close enough to coexist. Organizations are built on trust; and for this, we must understand one another.</p>
<p>Accept that other people are as much individuals as you yourself are. This means they too have their own strengths, performance modes, and values. Bosses are entitled to work in their own way; we are required to find out what that way is.&nbsp;Drucker instructs: ‚ÄúManners enable two people to work together whether they like each other or not.‚Äù</p>
<p>We should take responsibility for relationships and communication. Few people achieve on their own, and most conflict arises because we don‚Äôt communicate properly.</p>
<p>‚ÄúIf you believe in yourself, perform solo,‚Äù Drucker says. ‚ÄúJobs are too risky.‚Äù He calls them ‚Äúdangerous liaisons.‚Äù His advice to those taking the plunge: ‚ÄúIf you have the emotional fortitude to last three years, you‚Äôll succeed.‚Äù&nbsp;It‚Äôs not the money that‚Äôs the crucial resource; it‚Äôs that ability to survive those first years of hopeful, promising leads that lead nowhere.&nbsp;</p>
<p><b>Today, most work is knowledge work, and knowledge workers are not ‚Äúfinished‚Äù after forty years on the job, they are merely bored.&nbsp;</b><b>According to Drucker, a midlife crisis is mostly boredom.</b></p>
<p>Around the age of forty-five, most people have reached the peak of their careers‚Äîand they know it. After twenty years of doing the same kind of work, they are very good at their jobs. But they are not learning or contributing or deriving challenge or satisfaction.&nbsp;They‚Äôre facing another twenty years of the same thing. &nbsp;</p>
<p>At such time, Drucker says, we should develop a second career. One way is to switch jobs for a new challenge. Another is to develop a parallel career, a side business, or volunteer.&nbsp;<b>It is vitally important to have an area in which we can contribute, make a difference, and be ‚Äúsomebody.‚Äù This does not have to be work-related. It means finding a second area that satisfies our soul. It can be family, faith, or a personal passion.</b></p>
<p>No one can expect to reach professional heights and sustain them indefinitely. Professional decline starts earlier than almost anyone thinks. At some point we all experience a setback at work or in life. A second major interest‚Äînot just a hobby‚Äîmay make all the difference. Drucker recommends that we develop it early.&nbsp;<b>We must manage the second half of our life long before we enter it.</b>&nbsp;</p>
<p>Staying mentally alert and engaged during a 50-year working life means knowing how and when to change the work we do. Contentment comes to those who see this as an opportunity both for themselves and for society.</p>
<p>Historically, there was no such thing as ‚Äúsuccess,‚Äù Drucker points out. The vast majority of people did not expect anything but to stay in their ‚Äúproper station,‚Äù as an old English prayer has it. The only mobility was downward mobility.&nbsp;</p>
<p>In a knowledge society, however, we expect everyone to be a success. ‚ÄúThis is clearly an impossibility,‚Äù Drucker declares from experience. ‚ÄúFor many people, there is at best an absence of failure.‚Äù</p>
<p>What we should focus on instead is another question he poses: What do you want to be remembered for? The answers should change as one gets older, and adjust with changes in the world. For Drucker, the one thing worth being remembered for is how you touch people.</p>
</div> </div>
                    </div></div>]]>
            </description>
            <link>https://stray-reflections.com/article/176/Managing_Oneself</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140936</guid>
            <pubDate>Mon, 15 Feb 2021 09:36:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Shopify's Top 90 Most Successful Startups in 2021]]>
            </title>
            <description>
<![CDATA[
Score 20 | Comments 15 (<a href="https://news.ycombinator.com/item?id=26140934">thread link</a>) | @cedyf
<br/>
February 15, 2021 | https://reviewbolt.com/top/shopify/ | <a href="https://web.archive.org/web/*/https://reviewbolt.com/top/shopify/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><h2>Here's the list of the top 90 Shopify websites by traffic. All data is sourced from SimilarWeb's public data. I estimate revenue with [traffic * global ecom conversion rate * price of best selling product]. Facebook spend is estimated by [social traffic * 1.8 ]. SimilarWeb tells us how much traffic they receive from social channels and I multiply that by an average CPC of 1.8 as they tend to under-report this figure when I cross-reference it against large social media accounts that I manage. Keep scrolling to see more details for each company. Enjoy this list? Share this with 1 friend.</h2></p><div id="fashionnova.com"><h2>1<!-- -->. <!-- -->Fashionnova<!-- --> - <!-- -->22.49M<!-- --> </h2><div><div><div><div><p><img layout="responsive" alt="fashionnova.com screenshot" data-src="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dfashionnova.com%26t%3D1%26h%3Df6f43f7475663a2f2737f003dbfd012d8b590d7747ddd90f6e4e5e629f5475d6&amp;w=768&amp;q=75" data-srcset="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dfashionnova.com%26t%3D1%26h%3Df6f43f7475663a2f2737f003dbfd012d8b590d7747ddd90f6e4e5e629f5475d6&amp;w=320&amp;q=75 320w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dfashionnova.com%26t%3D1%26h%3Df6f43f7475663a2f2737f003dbfd012d8b590d7747ddd90f6e4e5e629f5475d6&amp;w=420&amp;q=75 420w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dfashionnova.com%26t%3D1%26h%3Df6f43f7475663a2f2737f003dbfd012d8b590d7747ddd90f6e4e5e629f5475d6&amp;w=768&amp;q=75 768w"></p></div></div></div></div><div><h3>Fashion nova is the top online fashion store for women. shop sexy club dresses, jeans, shoes, bodysuits, skirts and more. cheap &amp;amp; affordable fashion online.<!-- --> </h3><h3>Fashionnova gets 22M monthly visitors and grows primarily through Direct traffic from United States.</h3><p><h3>How fast is <!-- -->fashionnova.com<!-- --> growing?</h3><h3> <!-- -->fashionnova.com<!-- --> has grown by <!-- -->-10.0%<!-- --> in the last 6 months according to SimilarWeb. </h3></p><p><h3>How do people interact with <!-- -->fashionnova.com<!-- -->?</h3><h3>Last month, <!-- -->fashionnova.com<!-- --> received <!-- -->22M<!-- --> visitors who spent an average of <!-- -->7.9<!-- --> minutes on the website and visited <!-- -->6.0<!-- --> different pages per session. Overall, <!-- -->46<!-- -->% of people bounce on the first visit.</h3></p><p><h3>How do people find <!-- -->fashionnova.com<!-- -->? </h3><h3>10.2M<!-- --> people <!-- -->(45%)<!-- --> visit <!-- -->fashionnova.com<!-- --> directly. <!-- -->8.4M<!-- --> <!-- -->(37%)<!-- --> people search for them in Google. Whereas, <!-- -->1.5M<!-- --> <!-- -->(7%)<!-- --> discover <!-- -->fashionnova.com<!-- --> through Facebook, Reddit, and YouTube. <!-- -->1.9M<!-- --> <!-- -->(8%)<!-- --> visitors come from <!-- -->fashionnova.com<!-- -->'s email newsletters. Finally, <!-- -->418.9k<!-- --> <!-- -->(1.9%)<!-- --> people come from affiliates and or paid referrals. </h3></p><p><h3>Who uses <!-- -->fashionnova.com<!-- -->?</h3><h3>Fashionnova.com<!-- -->'s top market is the <!-- -->United States<!-- --> and they receive <!-- -->15.6M (69.6%)<!-- --> people. Then the 2nd is <!-- -->Canada<!-- --> with <!-- -->1.9M (8.3%)<!-- -->, the 3rd is <!-- -->United Kingdom<!-- --> with <!-- -->525.1k (2.3%)<!-- -->, the 4th is <!-- -->Australia<!-- --> with <!-- -->480.9k (2.1%)<!-- -->. Finally, the 5th is <!-- -->Jamaica<!-- --> with <!-- -->279.3k (1.2%)<!-- --> visitors.</h3></p><div><p><h3>Traffic Growth</h3><h3> <!-- -->-10.00%<!-- --> </h3></p><p><h3>Monthly Hits</h3><h3>22.49M</h3></p><p><h3>Time on Site</h3><h3>7.9<span>Mins</span></h3></p><p><h3>Pages per Visit</h3><h3>6.0</h3></p><p><h3>Bounce Rate</h3><h3>46<!-- -->%</h3></p></div><div><div><div><h2>Traffic Growth (last 6 months)</h2></div></div></div></div></div><div id="jbhifi.com.au"><h2>2<!-- -->. <!-- -->Jbhifi<!-- --> - <!-- -->15.23M<!-- --> </h2><div><div><div><div><p><img layout="responsive" alt="jbhifi.com.au screenshot" data-src="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Djbhifi.com.au%26t%3D1%26h%3Df7d5d51124abe27b728cfb83593c9991a70609037429c102666adc2821afdd94&amp;w=768&amp;q=75" data-srcset="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Djbhifi.com.au%26t%3D1%26h%3Df7d5d51124abe27b728cfb83593c9991a70609037429c102666adc2821afdd94&amp;w=320&amp;q=75 320w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Djbhifi.com.au%26t%3D1%26h%3Df7d5d51124abe27b728cfb83593c9991a70609037429c102666adc2821afdd94&amp;w=420&amp;q=75 420w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Djbhifi.com.au%26t%3D1%26h%3Df7d5d51124abe27b728cfb83593c9991a70609037429c102666adc2821afdd94&amp;w=768&amp;q=75 768w"></p></div></div></div></div><div><h3>Jb hi-fi is australia's largest home entertainment retailer with top products, great quality + value. learn more about our product range online.<!-- --> </h3><h3>Jbhifi gets 15M monthly visitors and grows primarily through Search traffic from Australia.</h3><p><h3>How fast is <!-- -->jbhifi.com.au<!-- --> growing?</h3><h3> <!-- -->jbhifi.com.au<!-- --> has grown by <!-- -->-0.9%<!-- --> in the last 6 months according to SimilarWeb. </h3></p><p><h3>How do people interact with <!-- -->jbhifi.com.au<!-- -->?</h3><h3>Last month, <!-- -->jbhifi.com.au<!-- --> received <!-- -->15M<!-- --> visitors who spent an average of <!-- -->3.5<!-- --> minutes on the website and visited <!-- -->5.0<!-- --> different pages per session. Overall, <!-- -->34<!-- -->% of people bounce on the first visit.</h3></p><p><h3>How do people find <!-- -->jbhifi.com.au<!-- -->? </h3><h3>5.3M<!-- --> people <!-- -->(35%)<!-- --> visit <!-- -->jbhifi.com.au<!-- --> directly. <!-- -->8.8M<!-- --> <!-- -->(58%)<!-- --> people search for them in Google. Whereas, <!-- -->243.1k<!-- --> <!-- -->(2%)<!-- --> discover <!-- -->jbhifi.com.au<!-- --> through Facebook, Reddit, and YouTube. <!-- -->271.4k<!-- --> <!-- -->(2%)<!-- --> visitors come from <!-- -->jbhifi.com.au<!-- -->'s email newsletters. Finally, <!-- -->17.3k<!-- --> <!-- -->(0.1%)<!-- --> people come from affiliates and or paid referrals. </h3></p><p><h3>Who uses <!-- -->jbhifi.com.au<!-- -->?</h3><h3>Jbhifi.com.au<!-- -->'s top market is the <!-- -->Australia<!-- --> and they receive <!-- -->14.8M (97.2%)<!-- --> people. Then the 2nd is <!-- -->United States<!-- --> with <!-- -->117.9k (0.8%)<!-- -->, the 3rd is <!-- -->New Zealand<!-- --> with <!-- -->49.2k (0.3%)<!-- -->, the 4th is <!-- -->United Kingdom<!-- --> with <!-- -->31.6k (0.2%)<!-- -->. Finally, the 5th is <!-- -->China<!-- --> with <!-- -->15.6k (0.1%)<!-- --> visitors.</h3></p><div><p><h3>Traffic Growth</h3><h3> <!-- -->-0.90%<!-- --> </h3></p><p><h3>Monthly Hits</h3><h3>15.23M</h3></p><p><h3>Time on Site</h3><h3>3.5<span>Mins</span></h3></p><p><h3>Pages per Visit</h3><h3>5.0</h3></p><p><h3>Bounce Rate</h3><h3>34<!-- -->%</h3></p></div><div><div><div><h2>Traffic Growth (last 6 months)</h2></div></div></div></div></div><div id="colourpop.com"><h2>3<!-- -->. <!-- -->Colourpop<!-- --> - <!-- -->11.08M<!-- --> </h2><div><div><div><div><p><img layout="responsive" alt="colourpop.com screenshot" data-src="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dcolourpop.com%26t%3D1%26h%3D001d20a66a62a586f5708a8e762711a9c141179770e474fb260a49f8e2efdf32&amp;w=768&amp;q=75" data-srcset="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dcolourpop.com%26t%3D1%26h%3D001d20a66a62a586f5708a8e762711a9c141179770e474fb260a49f8e2efdf32&amp;w=320&amp;q=75 320w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dcolourpop.com%26t%3D1%26h%3D001d20a66a62a586f5708a8e762711a9c141179770e474fb260a49f8e2efdf32&amp;w=420&amp;q=75 420w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dcolourpop.com%26t%3D1%26h%3D001d20a66a62a586f5708a8e762711a9c141179770e474fb260a49f8e2efdf32&amp;w=768&amp;q=75 768w"></p></div></div></div></div><div><h3>Redefining luxury beauty by creating high quality products at affordable prices. we pride ourselves on being cruelty-free, wallet-friendly, and keeping our customers at the center of our world. made in the usa, we imagine, innovate, test, and manufacture all under one roof.<!-- --> </h3><h3>Colourpop gets 11M monthly visitors and grows primarily through Direct traffic from United States.</h3><p><h3>How fast is <!-- -->colourpop.com<!-- --> growing?</h3><h3> <!-- -->colourpop.com<!-- --> has grown by <!-- -->21.5%<!-- --> in the last 6 months according to SimilarWeb. </h3></p><p><h3>How do people interact with <!-- -->colourpop.com<!-- -->?</h3><h3>Last month, <!-- -->colourpop.com<!-- --> received <!-- -->11M<!-- --> visitors who spent an average of <!-- -->5.6<!-- --> minutes on the website and visited <!-- -->4.0<!-- --> different pages per session. Overall, <!-- -->40<!-- -->% of people bounce on the first visit.</h3></p><p><h3>How do people find <!-- -->colourpop.com<!-- -->? </h3><h3>5.9M<!-- --> people <!-- -->(53%)<!-- --> visit <!-- -->colourpop.com<!-- --> directly. <!-- -->3.5M<!-- --> <!-- -->(31%)<!-- --> people search for them in Google. Whereas, <!-- -->696.6k<!-- --> <!-- -->(6%)<!-- --> discover <!-- -->colourpop.com<!-- --> through Facebook, Reddit, and YouTube. <!-- -->706.4k<!-- --> <!-- -->(6%)<!-- --> visitors come from <!-- -->colourpop.com<!-- -->'s email newsletters. Finally, <!-- -->134.7k<!-- --> <!-- -->(1.2%)<!-- --> people come from affiliates and or paid referrals. </h3></p><p><h3>Who uses <!-- -->colourpop.com<!-- -->?</h3><h3>Colourpop.com<!-- -->'s top market is the <!-- -->United States<!-- --> and they receive <!-- -->6.9M (62.0%)<!-- --> people. Then the 2nd is <!-- -->Canada<!-- --> with <!-- -->503.6k (4.5%)<!-- -->, the 3rd is <!-- -->Australia<!-- --> with <!-- -->412.8k (3.7%)<!-- -->, the 4th is <!-- -->United Kingdom<!-- --> with <!-- -->346.1k (3.1%)<!-- -->. Finally, the 5th is <!-- -->France<!-- --> with <!-- -->210k (1.9%)<!-- --> visitors.</h3></p><div><p><h3>Traffic Growth</h3><h3> <!-- -->21.50%<!-- --> </h3></p><p><h3>Monthly Hits</h3><h3>11.08M</h3></p><p><h3>Time on Site</h3><h3>5.6<span>Mins</span></h3></p><p><h3>Pages per Visit</h3><h3>4.0</h3></p><p><h3>Bounce Rate</h3><h3>40<!-- -->%</h3></p></div><div><div><div><h2>Traffic Growth (last 6 months)</h2></div></div></div></div></div><div id="gymshark.com"><h2>4<!-- -->. <!-- -->Gymshark<!-- --> - <!-- -->4.68M<!-- --> </h2><div><div><div><div><p><img layout="responsive" alt="gymshark.com screenshot" data-src="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dgymshark.com%26t%3D1%26h%3D7f7a6a9ec9d208acc9dd13cd4920a8631d7c3b599259acaabd3545b0a0917f45&amp;w=768&amp;q=75" data-srcset="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dgymshark.com%26t%3D1%26h%3D7f7a6a9ec9d208acc9dd13cd4920a8631d7c3b599259acaabd3545b0a0917f45&amp;w=320&amp;q=75 320w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dgymshark.com%26t%3D1%26h%3D7f7a6a9ec9d208acc9dd13cd4920a8631d7c3b599259acaabd3545b0a0917f45&amp;w=420&amp;q=75 420w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dgymshark.com%26t%3D1%26h%3D7f7a6a9ec9d208acc9dd13cd4920a8631d7c3b599259acaabd3545b0a0917f45&amp;w=768&amp;q=75 768w"></p></div></div></div></div><div><h3>Shop official gymshark exclusively online. enjoy lasting quality &amp; the perfect fit. free returns &amp; free shipping on workout clothes &amp; gym wear orders over $75.<!-- --> </h3><h3>Gymshark gets 5M monthly visitors and grows primarily through Search traffic from United States.</h3><p><h3>How fast is <!-- -->gymshark.com<!-- --> growing?</h3><h3> <!-- -->gymshark.com<!-- --> has grown by <!-- -->-8.8%<!-- --> in the last 6 months according to SimilarWeb. </h3></p><p><h3>How do people interact with <!-- -->gymshark.com<!-- -->?</h3><h3>Last month, <!-- -->gymshark.com<!-- --> received <!-- -->5M<!-- --> visitors who spent an average of <!-- -->4.7<!-- --> minutes on the website and visited <!-- -->7.0<!-- --> different pages per session. Overall, <!-- -->37<!-- -->% of people bounce on the first visit.</h3></p><p><h3>How do people find <!-- -->gymshark.com<!-- -->? </h3><h3>1.5M<!-- --> people <!-- -->(32%)<!-- --> visit <!-- -->gymshark.com<!-- --> directly. <!-- -->2.5M<!-- --> <!-- -->(53%)<!-- --> people search for them in Google. Whereas, <!-- -->208.7k<!-- --> <!-- -->(4%)<!-- --> discover <!-- -->gymshark.com<!-- --> through Facebook, Reddit, and YouTube. <!-- -->227.3k<!-- --> <!-- -->(5%)<!-- --> visitors come from <!-- -->gymshark.com<!-- -->'s email newsletters. Finally, <!-- -->223.2k<!-- --> <!-- -->(4.8%)<!-- --> people come from affiliates and or paid referrals. </h3></p><p><h3>Who uses <!-- -->gymshark.com<!-- -->?</h3><h3>Gymshark.com<!-- -->'s top market is the <!-- -->United States<!-- --> and they receive <!-- -->1.6M (34.9%)<!-- --> people. Then the 2nd is <!-- -->United Kingdom<!-- --> with <!-- -->879.8k (18.8%)<!-- -->, the 3rd is <!-- -->Canada<!-- --> with <!-- -->344.4k (7.4%)<!-- -->, the 4th is <!-- -->Australia<!-- --> with <!-- -->281.8k (6.0%)<!-- -->. Finally, the 5th is <!-- -->Netherlands<!-- --> with <!-- -->213.4k (4.6%)<!-- --> visitors.</h3></p><div><p><h3>Traffic Growth</h3><h3> <!-- -->-8.80%<!-- --> </h3></p><p><h3>Monthly Hits</h3><h3>4.68M</h3></p><p><h3>Time on Site</h3><h3>4.7<span>Mins</span></h3></p><p><h3>Pages per Visit</h3><h3>7.0</h3></p><p><h3>Bounce Rate</h3><h3>37<!-- -->%</h3></p></div><div><div><div><h2>Traffic Growth (last 6 months)</h2></div></div></div></div></div><div id="isawitfirst.com"><h2>5<!-- -->. <!-- -->Isawitfirst<!-- --> - <!-- -->4.13M<!-- --> </h2><div><div><div><div><p><img layout="responsive" alt="isawitfirst.com screenshot" data-src="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Disawitfirst.com%26t%3D1%26h%3Dea38e7470f7f7094778855e46e539de594237a32f75a40229a0916883b283973&amp;w=768&amp;q=75" data-srcset="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Disawitfirst.com%26t%3D1%26h%3Dea38e7470f7f7094778855e46e539de594237a32f75a40229a0916883b283973&amp;w=320&amp;q=75 320w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Disawitfirst.com%26t%3D1%26h%3Dea38e7470f7f7094778855e46e539de594237a32f75a40229a0916883b283973&amp;w=420&amp;q=75 420w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Disawitfirst.com%26t%3D1%26h%3Dea38e7470f7f7094778855e46e539de594237a32f75a40229a0916883b283973&amp;w=768&amp;q=75 768w"></p></div></div></div></div><div><h3>Shop the latest women's fashion at i saw it first. 100s of new styles every week! clothes, dresses, shoes &amp; accessories. must have looks and trends from only ¬£5<!-- --> </h3><h3>Isawitfirst gets 4M monthly visitors and grows primarily through Search traffic from United Kingdom.</h3><p><h3>How fast is <!-- -->isawitfirst.com<!-- --> growing?</h3><h3> <!-- -->isawitfirst.com<!-- --> has grown by <!-- -->-9.8%<!-- --> in the last 6 months according to SimilarWeb. </h3></p><p><h3>How do people interact with <!-- -->isawitfirst.com<!-- -->?</h3><h3>Last month, <!-- -->isawitfirst.com<!-- --> received <!-- -->4M<!-- --> visitors who spent an average of <!-- -->7.2<!-- --> minutes on the website and visited <!-- -->5.0<!-- --> different pages per session. Overall, <!-- -->45<!-- -->% of people bounce on the first visit.</h3></p><p><h3>How do people find <!-- -->isawitfirst.com<!-- -->? </h3><h3>1.3M<!-- --> people <!-- -->(31%)<!-- --> visit <!-- -->isawitfirst.com<!-- --> directly. <!-- -->2.3M<!-- --> <!-- -->(55%)<!-- --> people search for them in Google. Whereas, <!-- -->127.6k<!-- --> <!-- -->(3%)<!-- --> discover <!-- -->isawitfirst.com<!-- --> through Facebook, Reddit, and YouTube. <!-- -->235.2k<!-- --> <!-- -->(6%)<!-- --> visitors come from <!-- -->isawitfirst.com<!-- -->'s email newsletters. Finally, <!-- -->85.7k<!-- --> <!-- -->(2.1%)<!-- --> people come from affiliates and or paid referrals. </h3></p><p><h3>Who uses <!-- -->isawitfirst.com<!-- -->?</h3><h3>Isawitfirst.com<!-- -->'s top market is the <!-- -->United Kingdom<!-- --> and they receive <!-- -->3.4M (82.5%)<!-- --> people. Then the 2nd is <!-- -->Ireland<!-- --> with <!-- -->232.1k (5.6%)<!-- -->, the 3rd is <!-- -->United States<!-- --> with <!-- -->171k (4.1%)<!-- -->, the 4th is <!-- -->Sweden<!-- --> with <!-- -->34k (0.8%)<!-- -->. Finally, the 5th is <!-- -->Australia<!-- --> with <!-- -->30.8k (0.7%)<!-- --> visitors.</h3></p><div><p><h3>Traffic Growth</h3><h3> <!-- -->-9.80%<!-- --> </h3></p><p><h3>Monthly Hits</h3><h3>4.13M</h3></p><p><h3>Time on Site</h3><h3>7.2<span>Mins</span></h3></p><p><h3>Pages per Visit</h3><h3>5.0</h3></p><p><h3>Bounce Rate</h3><h3>45<!-- -->%</h3></p></div><div><div><div><h2>Traffic Growth (last 6 months)</h2></div></div></div></div></div><div id="ruggable.com"><h2>6<!-- -->. <!-- -->Ruggable<!-- --> - <!-- -->3.2M<!-- --> </h2><div><div><div><div><p><img layout="responsive" alt="ruggable.com screenshot" data-src="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Druggable.com%26t%3D1%26h%3D6862c65c5107ddbf92bec9da3ebc230bde417736443c3e2e3d0fb8859e061124&amp;w=768&amp;q=75" data-srcset="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Druggable.com%26t%3D1%26h%3D6862c65c5107ddbf92bec9da3ebc230bde417736443c3e2e3d0fb8859e061124&amp;w=320&amp;q=75 320w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Druggable.com%26t%3D1%26h%3D6862c65c5107ddbf92bec9da3ebc230bde417736443c3e2e3d0fb8859e061124&amp;w=420&amp;q=75 420w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Druggable.com%26t%3D1%26h%3D6862c65c5107ddbf92bec9da3ebc230bde417736443c3e2e3d0fb8859e061124&amp;w=768&amp;q=75 768w"></p></div></div></div></div><div><h3>Shop area rugs, accent rugs and runner rugs at ruggable. washable, stain-resistant and waterproof, our rugs are perfect for homes with kids and pets. ships free!<!-- --> </h3><h3>Ruggable gets 3M monthly visitors and grows primarily through Search traffic from United States.</h3><p><h3>How fast is <!-- -->ruggable.com<!-- --> growing?</h3><h3> <!-- -->ruggable.com<!-- --> has grown by <!-- -->52.4%<!-- --> in the last 6 months according to SimilarWeb. </h3></p><p><h3>How do people interact with <!-- -->ruggable.com<!-- -->?</h3><h3>Last month, <!-- -->ruggable.com<!-- --> received <!-- -->3M<!-- --> visitors who spent an average of <!-- -->3.9<!-- --> minutes on the website and visited <!-- -->5.0<!-- --> different pages per session. Overall, <!-- -->46<!-- -->% of people bounce on the first visit.</h3></p><p><h3>How do people find <!-- -->ruggable.com<!-- -->? </h3><h3>1.1M<!-- --> people <!-- -->(33%)<!-- --> visit <!-- -->ruggable.com<!-- --> directly. <!-- -->1.2M<!-- --> <!-- -->(37%)<!-- --> people search for them in Google. Whereas, <!-- -->639k<!-- --> <!-- -->(20%)<!-- --> discover <!-- -->ruggable.com<!-- --> through Facebook, Reddit, and YouTube. <!-- -->121.5k<!-- --> <!-- -->(4%)<!-- --> visitors come from <!-- -->ruggable.com<!-- -->'s email newsletters. Finally, <!-- -->141.4k<!-- --> <!-- -->(4.4%)<!-- --> people come from affiliates and or paid referrals. </h3></p><p><h3>Who uses <!-- -->ruggable.com<!-- -->?</h3><h3>Ruggable.com<!-- -->'s top market is the <!-- -->United States<!-- --> and they receive <!-- -->3M (93.9%)<!-- --> people. Then the 2nd is <!-- -->Canada<!-- --> with <!-- -->109.2k (3.4%)<!-- -->, the 3rd is <!-- -->United Kingdom<!-- --> with <!-- -->11.7k (0.4%)<!-- -->, the 4th is <!-- -->Germany<!-- --> with <!-- -->5.4k (0.2%)<!-- -->. Finally, the 5th is <!-- -->India<!-- --> with <!-- -->4.5k (0.1%)<!-- --> visitors.</h3></p><div><p><h3>Traffic Growth</h3><h3> <!-- -->52.40%<!-- --> </h3></p><p><h3>Monthly Hits</h3><h3>3.2M</h3></p><p><h3>Time on Site</h3><h3>3.9<span>Mins</span></h3></p><p><h3>Pages per Visit</h3><h3>5.0</h3></p><p><h3>Bounce Rate</h3><h3>46<!-- -->%</h3></p></div><div><div><div><h2>Traffic Growth (last 6 months)</h2></div></div></div></div></div><div id="morphe.com"><h2>7<!-- -->. <!-- -->Morphe<!-- --> - <!-- -->3.16M<!-- --> </h2><div><div><div><div><p><img layout="responsive" alt="morphe.com screenshot" data-src="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dmorphe.com%26t%3D1%26h%3D5d37734821403b1d5f02e1a8ec60cc9123259a9313150817cbebfdd0aac0b5ce&amp;w=768&amp;q=75" data-srcset="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dmorphe.com%26t%3D1%26h%3D5d37734821403b1d5f02e1a8ec60cc9123259a9313150817cbebfdd0aac0b5ce&amp;w=320&amp;q=75 320w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dmorphe.com%26t%3D1%26h%3D5d37734821403b1d5f02e1a8ec60cc9123259a9313150817cbebfdd0aac0b5ce&amp;w=420&amp;q=75 420w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dmorphe.com%26t%3D1%26h%3D5d37734821403b1d5f02e1a8ec60cc9123259a9313150817cbebfdd0aac0b5ce&amp;w=768&amp;q=75 768w"></p></div></div></div></div><div><h3>Shop morphe.com to blend the rules. eyeshadow palettes, makeup brushes and lip colors from james charles, jaclyn hill, and others. a beauty brand created for the creators.<!-- --> </h3><h3>Morphe gets 3M monthly visitors and grows primarily through Search traffic from United States.</h3><p><h3>How fast is <!-- -->morphe.com<!-- --> growing?</h3><h3> <!-- -->morphe.com<!-- --> has grown by <!-- -->-36.8%<!-- --> in the last 6 months according to SimilarWeb. </h3></p><p><h3>How do people interact with <!-- -->morphe.com<!-- -->?</h3><h3>Last month, <!-- -->morphe.com<!-- --> received <!-- -->3M<!-- --> visitors who spent an average of <!-- -->3.0<!-- --> minutes on the website and visited <!-- -->4.0<!-- --> different pages per session. Overall, <!-- -->48<!-- -->% of people bounce on the first visit.</h3></p><p><h3>How do people find <!-- -->morphe.com<!-- -->? </h3><h3>1.1M<!-- --> people <!-- -->(36%)<!-- --> visit <!-- -->morphe.com<!-- --> directly. <!-- -->1.7M<!-- --> <!-- -->(53%)<!-- --> people search for them in Google. Whereas, <!-- -->141.4k<!-- --> <!-- -->(4%)<!-- --> discover <!-- -->morphe.com<!-- --> through Facebook, Reddit, and YouTube. <!-- -->102.7k<!-- --> <!-- -->(3%)<!-- --> visitors come from <!-- -->morphe.com<!-- -->'s email newsletters. Finally, <!-- -->29.4k<!-- --> <!-- -->(0.9%)<!-- --> people come from affiliates ‚Ä¶</h3></p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://reviewbolt.com/top/shopify/">https://reviewbolt.com/top/shopify/</a></em></p>]]>
            </description>
            <link>https://reviewbolt.com/top/shopify/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140934</guid>
            <pubDate>Mon, 15 Feb 2021 09:36:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Unwinnability and Wishbringer]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26140745">thread link</a>) | @tobr
<br/>
February 15, 2021 | https://blog.zarfhome.com/2021/02/unwinnability-and-wishbringer.html | <a href="https://web.archive.org/web/*/https://blog.zarfhome.com/2021/02/unwinnability-and-wishbringer.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-body-8169978390192935301" itemprop="description articleBody">
<p>Someone <a href="https://intfiction.org/t/is-there-another-version-of-zork-1-that-doesnt-do-inventory-management/49317">asked</a> recently about a version of <em><a href="https://ifdb.tads.org/viewgame?id=0dbnusxunq7fw5ro">Zork</a></em> modified to avoid all the classical Infocom annoyances. Expiring light sources, random combat, crucial items stolen by the thief... <em>Zork</em> comes from an era where all these were simply part of the fun. You saved a lot, optimized your run, and tried again if you failed. But the gaming world -- I include myself -- has largely decided over time that this <em>isn't</em> fun.</p>
<p>As far as I know, there is no such modified <em>Zork</em>. But it's an intriguing idea! In fact someone <em>is</em> working on a <a href="https://github.com/Kweepa/planetfall-gold">modified <em>Planetfall</em></a> in just this vein. A new <code>MODERN</code> command switches to a mode with no hunger timer and, ideally, no unwinnable situations.</p>
<p>When we talk about those early games, it's easy to fall into the trap of calling those unwinnable situations <em>mistakes</em> or <em>design flaws</em>. Once you do that, you're stuck searching for explanations of why the designers <em>made those mistakes</em>. Answers come in two flavors. Either (a) the state of the art was too primitive to understand that unwinnable situations were bad; or (b) the designers were padding out their games to a given level of difficulty or play time.</p>
<p>Speaking as one who played the games back in the day: this is just wrong.</p>

<blockquote>
<p>The early generations of text adventure games tended to have a lot of chances that could lead players to unwinnable states, as a way to make a game deeper and more challenging; this kind of game design was not yet considered unfair to players. It was usually considered a product of the game‚Äôs difficulty rather than poor design and encouraged (or, as its critics would say, forced) replayability.</p>

</blockquote>
<p>The need for many failed run-throughs before one figures out the perfect approach was certainly an element of the challenge. But it was never <em>padding</em>. It was as much a part of the design as the treasures and the magic words.</p>
<p>There's a deeper confusion, though. The same article goes on to say:</p>
<blockquote>
<p>Mike Dornbrook, Infocom's Head of Marketing, conducted a customer survey in late 1984 which showed a clear correlation between the Infocom games players considered their favourites and the games they had actually finished. This piece of marketing intelligence led to the more foolproof design of Wishbringer and later games.</p>

</blockquote>
<p><em><a href="https://ifdb.tads.org/viewgame?id=z02joykzh66wfhcl">Wishbringer</a></em> was Infocom's second junior-level game. It is friendlier than earlier games, more forgiving, and more generous in its design. Most of the major puzzles have at least two solutions. But it's a misconception to say that <em>Wishbringer</em> avoids unwinnable situations, or that Infocom changed its design stance after 1984. </p>
<p>It's true that <em>Wishbringer</em> was immediately followed by <em><a href="https://ifdb.tads.org/viewgame?id=4h62dvooeg9ajtfa">A Mind Forever Voyaging</a></em>, which was focused on narrative exploration rather than puzzles. But this was just halfway through Infocom's high season. Their later slate (<em><a href="https://ifdb.tads.org/viewgame?id=wqsmrahzozosu3r">Spellbreaker</a></em>, <em><a href="https://ifdb.tads.org/viewgame?id=3p9fdt4fxr2goctw">Leather Goddesses</a></em>, <em><a href="https://ifdb.tads.org/viewgame?id=j18kjz80hxjtyayw">Trinity</a></em>, <em><a href="https://ifdb.tads.org/viewgame?id=jhbd0kja1t57uop">Lurking Horror</a></em>, ...) embraced the model of failable game design and refined it into some of their best-regarded work. With <em><a href="https://ifdb.tads.org/viewgame?id=2752o3sh6y05ob1p">Journey</a></em>, Infocom redesigned IF from the ground up (discarding the parser!) -- but doubled down on failable puzzles, structuring the game around a limited resource system which took much trial and error to solve.</p>
<p>To untangle this, we're going to have to dig into the ways in which games can become unwinnable. How does it happen and why?</p>
<hr>
<p>First, consider the difference between <em>losing</em> the game and the game becoming <em>unwinnable</em>. If you attack a troll and it hacks you to death, it's very clear that you've lost! <code>RESTORE</code> (or <code>UNDO</code>) and try again. Whereas if the troll breaks your sword and you run away, you live -- but if you need the sword elsewhere, you're hosed. You might make progress elsewhere in the game, but ultimately you'll have to throw it away and redo it.</p>
<p>Or maybe a broken sword is a clear sign of failure? Adventurers don't waste resources! There's an ambiguity here: if the game signals that you've made an irreparable mistake, you know to back up and try again. But signals are a matter of convention and culture.</p>
<p>(These are the issues I was trying to get at with my old "<a href="https://eblong.com/zarf/essays/cruelty.html">cruelty scale</a>". When you've fallen into an unwinnable situation, do you know it? Reasonable players may disagree, particularly if they're from different decades. Some games clarify with pointed mutters: "You feel like that was a mistake," or perhaps by penalizing your score.)</p>
<p>Here's a subtler question: have you really lost progress just because you need to restart and try again? In an adventure game, <em>progress</em> is understanding the world and solving puzzles. Solving a puzzle <em>again</em> is just a bit of extra typing!</p>
<p>I'm pushing a point here, but the classical parser games really did have a different rhythm than we're used to nowadays. Even on the old eight-bit machines, a experienced player could replay a section of a game nearly as fast as they could type. It wasn't <em>fun</em>, no. But if you <em>already</em> expected to need to restart a few times, then exploring with unwinnable mistakes hanging over your head just wasn't a serious penalty.</p>
<p>This balance shifted with the later graphical adventures. In the third-person (Sierra/LucasArts) games, walking and other animations made replaying a much more tedious chore. In the Myst-likes, the loading times of those graphically rich scenes slowed you down nearly as much. It's no surprise that the "unstuckable" game model had its renaissance in the graphical era.</p>
<hr>
<p>But we should take a closer look at the <em>ways</em> a game might become unwinnable.</p>
<p>Let us assume that you are hosed. Why? Because you need something to win the game and you don't have it. Either you've lost access to it and you can't get it back, or you've run out of it and you can't get more.</p>
<p>In practice, these situations usually fall into a few general types:</p>
<ul>
<li>An area gets closed off partway through the game. You left some critical item there and you can't get back to it.</li>
<li>You run out of time. Or you run out of something that is consumed over time: lamp fuel, food, health.</li>
<li>You accidentally destroy or lose an item while experimenting.</li>
<li>You use up a resource trying to solve a problem, but it's the wrong problem.</li>
<li>Random events in the game ruin your path to victory.</li>
</ul>
<p>What led authors to create games with these situations? What did the games, and the intended audiences, gain from them? Let's go point by point.</p>
<h3>An area gets closed off partway through the game</h3>
<p><em>What we gain:</em> A sense of a living world (if the game geography changes), or a dynamic storyline (if the player is pushed into a new area).</p>
<p><em>The fun this adds:</em> The challenges of planning and thoroughness. You have to sweep an area for every possible resource. If you can't snarf them all on your first run-through, you at least have to remember what was available. When facing later puzzles, you have to consider everything you've encountered in the game, not just what you've got right now.</p>
<p>(Yes, I am taking for granted that more challenges mean more fun. Obviously you don't have to be <em>into</em> this kind of fun! But when we analyze these old games, we have to think about what fans got out of them -- and the fans, by definition, were the people who enjoyed them.)</p>
<p><em>How do we get this in a modern game?</em> Think about narrative games which <em>aren't</em> parser IF. They typically don't have a <code>DROP</code> action! If the player can't leave objects scattered around, the problem of closing off areas becomes much easier to manage. You just have to make sure the player picks up everything they need -- either as part of the narrative, or in order to solve the puzzles leading to the section break. (This is the old cliche of opening a chest and finding a key <em>underneath</em> a coil of rope. No getting out of that room without the rope!)</p>
<h3>You run out of time (or light, or food...)</h3>
<p><em>What we gain:</em> A sense of tension.</p>
<p><em>The fun this adds:</em> The challenge of optimization. First you have to figure out what to do; then you have to figure out how to do it in the limited time available.</p>

<p><em>How do we get this in a modern game?</em> The familiar gimmick is to <em>narrate</em> a time limit, but really sync the clock to the player's progress. The mine timbers may shudder threateningly, but they won't actually fall until the exact moment the player dives clear. The idea isn't to fool the player -- it's usually a pretty transparent gimmick -- but to give them a mood to play along with.</p>
<p>(I recall <em><a href="https://ifdb.tads.org/viewgame?id=fq26p07f48ckfror">Christminster</a></em> as the first time I noticed this gimmick, but I'm sure Infocom used it first.)</p>
<h3>You accidentally destroy or lose an item</h3>
<p><em>What we gain:</em> A sense of a systematic model world. You can eat food and then it's gone. You can throw items down a pit and then they're gone. You can set things on fire and then they're gone, or perhaps (if the game model is ambitious) scorched and ruined. </p>
<p><em>The fun this adds:</em> These systematic interactions can be worked into puzzles; everyone loves a systematic puzzle mechanic. But the puzzles won't make sense unless the player has already experimented with the interactions. That means giving the player rope (no pun intended) to hang themselves.</p>
<p><em>How do we get this in a modern game?</em> This is a tricky one. You have to come up with ways for every single resource to be replenishable, which can feel artificial.</p>
<h3>You use up a resource solving the wrong problem</h3>
<p><em>What we gain:</em> A sense of deep exploration. There are many ways to approach a problem, and you may have to explore several of them before you're done.</p>
<p><em>The fun this adds:</em> You've solved a bunch of puzzles, but the solutions are mutually exclusive -- you need one item in three different places. Now you have a metapuzzle! Go back and juggle the previous solutions until they fit together. You may have to take another stab at one of the puzzles and find a new solution to it; but first you have to figure out <em>which one</em>.</p>
<p>(<em><a href="https://ifdb.tads.org/viewgame?id=vu4xhul3abknifcr">Enchanter</a></em> is my earliest glowing example of this idea. That dispel scroll solves all sorts of puzzles -- but you can only use it once!)</p>
<p><em>How do we get this in a modern game?</em> This is the road that led me to <em><a href="https://hadeanlands.com/">Hadean Lands</a></em>. My solution was (a) the <code>RESET</code> command, which effectively replenished every resource by restarting the story; and (b) the goal system, which ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.zarfhome.com/2021/02/unwinnability-and-wishbringer.html">https://blog.zarfhome.com/2021/02/unwinnability-and-wishbringer.html</a></em></p>]]>
            </description>
            <link>https://blog.zarfhome.com/2021/02/unwinnability-and-wishbringer.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140745</guid>
            <pubDate>Mon, 15 Feb 2021 09:10:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What are some of your favorite basic math hacks?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 6 (<a href="https://news.ycombinator.com/item?id=26140661">thread link</a>) | @ColinWright
<br/>
February 15, 2021 | https://www.borovik.net/selecta/uncategorized/what-are-some-of-your-favorite-basic-math-hacks/ | <a href="https://web.archive.org/web/*/https://www.borovik.net/selecta/uncategorized/what-are-some-of-your-favorite-basic-math-hacks/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.borovik.net/selecta/uncategorized/what-are-some-of-your-favorite-basic-math-hacks/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140661</guid>
            <pubDate>Mon, 15 Feb 2021 08:59:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My first eBook launch ‚Äì results and feedback (10k USD in 27 days)]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26140625">thread link</a>) | @alexellisuk
<br/>
February 15, 2021 | https://blog.alexellis.io/my-first-ebook-results-feedback/ | <a href="https://web.archive.org/web/*/https://blog.alexellis.io/my-first-ebook-results-feedback/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
   <article>

        

        <section>
            <div><p>I wanted to write to you all and share that I've launched my first eBook called <a href="https://gumroad.com/l/serverless-for-everyone-else">"Serverless For Everyone Else"</a> - within the first three hours of launch, nobody bought a single copy and I thought that I'd got it all wrong.</p>
<p>The "everyone else" is a reference to how complicated and difficult cloud-based and Kubernetes-based FaaS has become. The eBook sets out to help indie developers, and individuals within corporations build and deploy functions using a new version of OpenFaaS (<a href="https://github.com/openfaas/faasd">faasd</a>) which is open source and can run on a single VM or VPS without much overhead.</p>
<p>The real power of functions comes in extending existing systems through webhooks, polling, or querying and updating state. I'll share some of these use-cases below including how I used functions to extend how the Gumroad marketplace worked.</p>
<h2 id="whywriteanebookanyway">Why write an eBook anyway?</h2>
<p>Why did I decide to write an eBook? If you've ever written about tech or spoken at a conference, then Packt has probably approached you on LinkedIn about writing for them. From what I hear, that kind of arrangement means writing in a word doc, with tight deadlines and cranking out 300+ pages. It wasn't for me.</p>
<p>I'd seen <a href="https://twitter.com/dvassallo">Daniel Vassallo</a> create an eBook about AWS and Twitter. Daniel had really good results using Gumroad to sell his self-published eBooks. Then there's <a href="https://twitter.com/adamwathan">Adam Wathan</a> who built Tailwind CSS and trained himself up as a UI designer. He wrote his own eBook and in his yearly review mentioned that it did 600k USD in passive sales, without any promotion.</p>
<p>Whilst I didn't expect to get anywhere close to those numbers with a specialist topic, I did want to know if people would buy something from me.</p>
<h2 id="thetiersatlaunch">The tiers at launch</h2>
<p>I launched with three tiers, with names and clear differentiation:</p>
<ul>
<li>Minimalist - 25 USD - just the eBook</li>
<li>DevOps PRO - 50 USD - the eBook, plus a Grafana dashboard and the YAML for faasd to enable it</li>
<li>The learner - 99 USD - the eBook, plus a Grafana dashboard,  the YAML for faasd to enable it and a video workshop ready in 7 days</li>
<li>The team player - the learner, but for 5 people in your company - for a lunch &amp; learn, brownbag, or to better understand Serverless</li>
</ul>
<p>As long as the options add some value, it seems that people are willing to pay a little more and enjoy the choice.</p>
<p>There was no pre-launch and I didn't collect email addresses. I just tweeted about the eBook on Friday afternoon, and then nothing happened for three hours.</p>
<p>I interpreted this as a failure because I'd been reading <a href="https://amzn.to/38N5uZy">"The Right It: Why So Many Ideas Fail and How to Make Sure Yours Succeed"</a>.</p>
<blockquote>
<p>You tend to get what you focus on, like when you think of installing a satellite dish, then realise that everyone on your street has one, and can't stop seeing them.</p>
</blockquote>
<p>In the same way, I saw failure to find market fit. In those first hours I convinced myself that the lack of sales was a sign that nobody wanted the material.</p>
<p>Then I got my first sale, and felt a little relief, maybe I was wrong?</p>
<p><img src="https://user-images.githubusercontent.com/6358735/104810538-27b57080-57ed-11eb-905b-d042d3046adf.png" alt="Sale email"></p>
<p>The sales graph had one initial spike on the Friday, and kept going into the Sunday. What had happened? My Twitter audience and <a href="https://github.com/sponsors/alexellis">GitHub Sponsors</a> came to lend their support.</p>
<p><img src="https://pbs.twimg.com/media/ErzMnuOXMAA_REk?format=jpg&amp;name=medium" alt="The initial spike at launch"></p>
<p>Then things died down, and over the course of the week I wondered again if I'd failed to find market fit. <a href="https://gumroad.com/">Gumroad</a> was sending me almost no organic traffic, and nobody was landing on the page from search engines.</p>
<p>Still, it was more money than I had expected to earn from the eBook within the first week, but I felt like with so much interest in OpenFaaS, that there was a broader audience to reach.</p>
<h2 id="gettingasecondpeak">Getting a second peak</h2>
<p>After the first week, I released the video workshop to the people who'd purchased that tier (99USD), and to get some feedback, I offered a free upgrade to the workshop for the tier just below (50USD).</p>
<blockquote>
<p>The discount resulted in another large spike in sales.</p>
</blockquote>
<p><img src="https://camo.githubusercontent.com/4e204e93dcfc33679c997c739fbf4f651fdf268d23961bae6f9b4c25ad4ec145/68747470733a2f2f7062732e7477696d672e636f6d2f6d656469612f45735a3372753258634155513451673f666f726d61743d6a7067266e616d653d6d656469756d" alt="Video workshop"></p>
<p>Gumroad has no way to offer a discount for a single tier, or to enable upgrades. So how did I fulfil the upgrade?</p>
<p>I did it by writing a function and deploying it to my Raspberry Pi. Gumroad can be configured to send a webhook (also called "a ping") to a HTTPS endpoint whenever there is a sale. My code just had to validate the sender, parse the dollar amount and email address, and then send out an email to the customer. I evaluated a few email services and settled on AWS SES for its simplicity and predictable pricing. I used <a href="https://inlets.dev/blog/2021/02/11/secure-letsencrypt-tunnel.html">inlets PRO</a> to receive webhooks.</p>
<p><img src="https://pbs.twimg.com/media/EscxNxbXAAEHD8z?format=jpg&amp;name=large" alt="The function running"></p>
<p>You can see the source code here: <a href="https://github.com/alexellis/gumroad-responder">alexellis/gumroad-responder</a></p>
<p>After the second peak, I saw a sharp drop-off in sales, again. I started to wonder why I was seeing this pattern?</p>
<p>At that time 99% of referrals had come from Twitter and from email. Had I exhausted my network? Had everyone who was going to buy an eBook on learning open-source serverless, already become a customer?</p>
<p>I went ahead and added a link on <a href="https://www.openfaas.com/">openfaas.com</a> and <a href="https://blog.alexellis.io/">on my blog</a> at the end of each post, to try and get more eyes on the eBook. It's too early to tell if that is going to work out, but has resulted in a few conversions already.</p>
<p>One of the bits of feedback I got on the eBook was how users enjoyed the use-cases, and practical examples. I'd recently started video streaming, so invited a friend to my YouTube channel to talk about serverless use-cases.</p>
<p><img src="https://camo.githubusercontent.com/544dffaf339a4ff44439db1c14cd953de385640b99231688f8a49db61294a02e/68747470733a2f2f7062732e7477696d672e636f6d2f6d656469612f457378444745505841415968724c4f3f666f726d61743d6a7067266e616d653d6c61726765" alt="Video on use-cases"></p>
<p><a href="https://www.youtube.com/watch?v=mzuXVuccaqI&amp;feature=youtu.be">Watch the recording</a></p>
<p>The recording generated a lot of interest and engagement for existing eBook customers, but seemed to have no obvious effect on sales.</p>
<p>You can get the <a href="https://gist.github.com/alexellis/c72d7a385f801cc9b8deb7fcaa531b69">show notes</a> here which have lots of links for use-cases from hobbyists, indie devs and corporate users of OpenFaaS.</p>
<h2 id="mynextmilestone">My next milestone</h2>
<p>I am pleased with the results so far, and have learned a lot along the way. I also had a few people reach out to me directly asking for help who had taken inspiration from seeing someone actually go ahead and take a calculated risk. As they say, "nothing ventured, nothing gained".</p>
<p>I haven't quite got to 10k USD, which is a nice round number to aim for, but I can roughly understand what each peak means here, and whether they are repeatable.</p>
<p><img src="https://pbs.twimg.com/media/EtARGclXMAg7nJ-?format=jpg&amp;name=medium" alt="Approaching 10k"></p>
<p>Once the sales do cross that threshold, I'll write-up a how to guide and share the command lines and tools I used to generate the eBook.</p>
<h2 id="whatsnext">What's next</h2>
<p>I committed to providing free updates - because the eBook was partially experimental and I wanted to validate that it was useful. Using the <a href="https://slack.openfaas.io/">OpenFaaS Slack</a> helped here - I opened a new channel for people who'd bought the book, and enjoyed the feedback and engagement from this.</p>
<p>Some people charge extra for community, but it felt too hard to enforce the access for this.</p>
<p><img src="https://user-images.githubusercontent.com/6358735/104810333-b628f280-57eb-11eb-8be9-a2f6c773346b.png" alt="Original cover"></p>
<p>I generated my own eBook cover originally and then only later, got a professional designer involved.</p>
<p><img src="https://static-2.gumroad.com/res/gumroad/2028406193591/asset_previews/741f2ad46ff0a08e16aaf48d21810ba7/retina/social4.png" alt="New design"></p>
<p>It turns out that the cover may not matter with Gumroad, as long as it's not awful. Since changing cover, I've only seen two new sales.</p>
<p>Now that I have some initial feedback and have learned that people will buy things from me, I want to let goodwill rebuild, and my audience "recover" before launching a second eBook. I've done a lot of free blog posts and writing on Kubernetes, Docker, Golang and Raspberry Pi and analytics from my blog shows me what's popular.</p>
<p>Just because something you give away for free is popular, doesn't mean that anyone will be willing to pay for it. OpenFaaS itself is testament to that, with many corporations using it in production, without contributing code or finances back. Part of <a href="https://blog.alexellis.io/still-in-the-game-my-2020-year-in-review/">my 2021 goals</a> is to find a way to make OpenFaaS sustainable.</p>
<blockquote>
<p>"If You Always Do What You've Always Done, You'll Always Get What You've Always Got." - Henry Ford</p>
</blockquote>
<p>The eBook has already brought in more revenue in a month, than the OpenFaaS GitHub Sponsors account has in a year.</p>
<p><a href="https://amzn.to/38N5uZy">The Right It</a> has taught me not to invest too much effort up front in any one idea, because it is likely to fail. That's just the way things go. Instead I'll be testing ideas out through small experiments that take a few hours or days, and using data to decide whether to invest more.</p>
<p>I'm happy to answer questions <a href="https://twitter.com/alexellisuk/">via Twitter</a>.</p>
<h2 id="update12feb2021">Update (12 Feb 2021)</h2>
<p>It took 27 days, but the eBook has now reached the milestone of 10k USD in sales! Most of the purchases being made now are from links on the OpenFaaS website, the faasd repo or my own blog. This is also known as long-tail, a slow and (mostly) steady stream of revenue.</p>
<p><img src="https://blog.alexellis.io/content/images/2021/02/update-rev6.png" alt="Launch event, offers and longtail"></p>
<blockquote>
<p>Visualised: Launch event, offers and longtail</p>
</blockquote>
<p>I've also released revision 6 of the eBook which has a much more detailed section on CI/CD and recipes for multi-arch builds. I'm using it to deploy endpoints directly to my Raspberry Pi from GitHub Actions.</p>
<p>If you're curious about how Serverless functions can be of use for your next side-project or idea, why not try the eBook and / or video workshop? You can get your money back within 7 days if you're not satisfied.</p>
<p>Events and webhooks can be used to build custom extensions for SaaS products or existing systems. You can see an example in my <a href="https://github.com/alexellis/gumroad-responder">gumroad-responder</a> which forwards messages to Slack, and sends emails via AWS SES to customers during a promotion.</p>
<blockquote>
<p>üéÅ To say thanks for reading, the next 20 people can get 20% off any tier - including the video workshop package using the discount link below:</p>
</blockquote>
<p>Check the options on Gumroad: <a href="https://gumroad.com/l/serverless-for-everyone-else/avid-reader">Serverless For Everyone Else on Gumroad</a></p>
</div>
        </section>

        

    </article>
</div></div>]]>
            </description>
            <link>https://blog.alexellis.io/my-first-ebook-results-feedback/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140625</guid>
            <pubDate>Mon, 15 Feb 2021 08:55:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Facing the Intelligence Explosion (2011)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26140581">thread link</a>) | @Tomte
<br/>
February 15, 2021 | https://intelligenceexplosion.com/2011/the-crazy-robots-rebellion/ | <a href="https://web.archive.org/web/*/https://intelligenceexplosion.com/2011/the-crazy-robots-rebellion/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wrapper">
	<!--#header-->
<div id="content">

<div id="post-102">


<p>Meet Linda:</p>
<blockquote><p>Linda is thirty-one years old, single, outspoken, and very bright. She majored in philosophy. As a student, she was deeply concerned with issues of discrimination and social justice, and also participated in antinuclear demonstrations.</p></blockquote>
<p>Now, rank these possible descriptions of Linda by how likely they are:</p>
<ul>
<li>Linda is a teacher in elementary school.</li>
<li>Linda works in a bookstore and takes yoga classes.</li>
<li>Linda is active in the feminist movement.</li>
<li>Linda is a psychiatric social worker.</li>
<li>Linda is a member of the League of Women Voters.</li>
<li>Linda is a bank teller.</li>
<li>Linda is an insurance salesperson.</li>
<li>Linda is a bank teller and is active in the feminist movement.</li>
</ul>
<p>When Amos Tversky and Daniel Kahneman gave this test to students, the students ranked the last possibility, ‚Äúfeminist bank teller,‚Äù as <em>more likely</em> than the ‚Äúbank teller‚Äù option.<a id="fn1x8-bk" href="#fn1x8"><sup>1</sup></a></p>
<p>But that can‚Äôt possibly be correct. The probability of Linda being a bank teller can‚Äôt be <em>less</em> than the probability of her being a bank teller <em>and</em> a feminist.</p>
<p>This is my ‚ÄúHumans are crazy‚Äù Exhibit A: The <a href="http://facingthesing.wpengine.com/2011/the-laws-of-thought/">laws</a> of probability theory dictate that as a story gets more complicated, and depends on the truth of more and more claims, its probability of being true decreases. But for humans, a story often seems <em>more</em> likely as it is embellished with details that paint a compelling story: ‚ÄúLinda can‚Äôt be <em>just</em> a bank teller; look at her! She majored in philosophy and participated in antinuclear demonstrations. She‚Äôs probably a <em>feminist</em> bank teller.‚Äù</p>
<p>How else are humans crazy? After <a href="http://www.amazon.com/Thinking-Fast-Slow-Daniel-Kahneman/dp/0374275637/">decades of research</a> and <a href="http://www.amazon.com/Heuristics-Biases-Psychology-Intuitive-Judgment/dp/0521796792/">thousands of experiments</a>, let us count the ways . . .</p>
<ul>
<li>We <a href="https://www.rti.org/pubs/bk-0001-1009_web.pdf">wouldn‚Äôt pay</a> much more to save two hundred thousand birds than we would to save two thousand birds.<a id="fn2x8-bk" href="#fn2x8"><sup>2</sup></a> Our willingness to pay does not scale with the size of potential impact. Instead of making decisions with first-grade math, we imagine a <em>single</em> drowning bird and then give money based on the strength of our emotional response to that imagined scenario. (<a href="http://lesswrong.com/lw/hw/scope_insensitivity/">Scope insensitivity</a>, <a href="http://lesswrong.com/lw/lg/the_affect_heuristic/">affect heuristic</a>.)</li>
<li>Spin a wheel that lands on a number from ten to sixty-five, then guess what percentage of African nations are in the U.N. Your guess will be hugely affected by an irrelevant factor‚Äîwhat number the wheel landed on‚Äîmerely because your brain was primed with that number.<a id="fn3x8-bk" href="#fn3x8"><sup>3</sup></a> In short, ‚Äúany random thing that happens to you can hijack your judgment and personality for the next few minutes.‚Äù (<a href="http://lesswrong.com/lw/k3/priming_and_contamination/">Anchoring</a>, <a href="http://lesswrong.com/lw/3b/never_leave_your_room/">priming</a>.)</li>
<li>Hear about two recent plane crashes, and we are less likely to fly, even though it‚Äôs not the probability of a plane crash that has increased, merely its availability to our memory.<a id="fn4x8-bk" href="#fn4x8"><sup>4</sup></a> In general, we often judge how probable something is based on how easily instances of that thing come to mind. (<a href="http://psychology.wikia.com/wiki/Availability_heuristic">Availability heuristic</a>.)</li>
<li>We draw different conclusions from the same information depending on how that information is presented. (<a href="http://en.wikipedia.org/wiki/Framing_(social_sciences)">Framing effects</a>.)</li>
<li>We start with a conclusion and then look for evidence to support it, rather than starting with a hypothesis and looking for evidence that might confirm or disconfirm it. (<a href="http://lesswrong.com/lw/js/the_bottom_line/">The bottom line</a>, <a href="http://lesswrong.com/lw/iw/positive_bias_look_into_the_dark/">confirmation bias</a>, <a href="http://lesswrong.com/lw/ju/rationalization/">rationalization</a>.)</li>
<li>We are creatures of habit. We do mostly what we‚Äôve done before, rather than taking actions aimed at maximizing the probabilistic achievement of our goals. (<a href="http://en.wikipedia.org/wiki/Habit_(psychology)">Habits</a>, <a href="http://lesswrong.com/lw/4e/cached_selves/">cached selves</a>.)</li>
</ul>
<p>Perhaps the scariest bias is this one:</p>
<ul>
<li>The <em>sophistication effect</em>: The most knowledgeable people, because they possess greater ammunition with which shoot down facts and arguments incongruent with their own position, are actually <em>more prone</em> to several of these biases.<a id="fn5x8-bk" href="#fn5x8"><sup>5</sup></a></li>
</ul>
<p>Because of this, learning about biases can <a href="http://lesswrong.com/lw/he/knowing_about_biases_can_hurt_people/">hurt you</a> if you‚Äôre not careful. As <a href="http://www.michaelshermer.com/2002/09/smart-people-believe-weird-things/">Michael Shermer</a> says, ‚ÄúSmart people believe weird things because they are skilled at defending beliefs they arrived at for non-smart reasons.‚Äù<a id="fn6x8-bk" href="#fn6x8"><sup>6</sup></a></p>
<p>There are <a href="http://wiki.lesswrong.com/wiki/Bias">many other examples</a> of human insanity. They can be amusing at times, but things get sad when you think about how these biases lead us to <a href="http://lesswrong.com/lw/3gj/efficient_charity_do_unto_others/">give highly inefficient charity</a>. Things get <em>scary</em> when you think about how these biases affect our <a href="http://lesswrong.com/lw/gw/politics_is_the_mindkiller">political process</a> and our <a href="http://intelligence.org/files/CognitiveBiases.pdf">engagement</a> with <a href="http://lesswrong.com/lw/8f0/existential_risk/">existential risks</a>.</p>
<p>And if you study the <em>causes</em> of our beliefs and motivations long enough, another realization hits you.</p>
<p>‚ÄúOh my God,‚Äù you think. ‚ÄúIt‚Äôs not that I have a rational little <a href="http://commonsenseatheism.com/?p=8844">homunculus</a> inside that is being ‚Äòcorrupted‚Äô by all these evolved heuristics and biases layered over it. No, the data are saying that <a href="http://www.amazon.com/Why-Everyone-Else-Hypocrite-Evolution/dp/0691146748/">the software program that is me</a> just <em>is</em> heuristics and biases. I just <em>am</em> this <a href="http://www.amazon.com/Kluge-Haphazard-Construction-Human-Mind/dp/0618879641/">kluge</a> of evolved cognitive modules and algorithmic shortcuts. I‚Äôm not an <em>agent</em> designed to have correct beliefs and pursue explicit goals; I‚Äôm a crazy robot <a href="http://www.amazon.com/Selfish-Gene-Anniversary----Introduction/dp/0199291152/">built</a> as a vehicle for propagating genes without spending too much energy on expensive thinking neurons.‚Äù</p>
<p>The good news is that we are robots who have <em>realized</em> we are robots, and by way of rational self-determination we can stage a <a href="http://en.wikipedia.org/wiki/Metacognition">robot‚Äôs rebellion</a> against our default programming.<a id="fn7x8-bk" href="#fn7x8"><sup>7</sup></a></p>
<p>But we‚Äôre going to need some military-grade rationality training to do so.</p>
<p>Or, as the experts call it, ‚Äúdebiasing.‚Äù Researchers haven‚Äôt just been discovering and explaining the depths of human insanity; they‚Äôve also been testing methods that can help us improve our thinking, clarify our goals, and give us power over our own destinies.</p>
<p>Different biases are meliorated by different techniques, but one of the most useful debiasing interventions is this: <em>Consider the opposite</em>.</p>
<blockquote><p>By necessity, cognitive strategies tend to be context-specific rules tailored to address a narrow set of biases . . . This fact makes the simple but general strategy of ‚Äúconsider the opposite‚Äù all the more impressive, because it has been effective at reducing <a href="http://en.wikipedia.org/wiki/Overconfidence_effect">overconfidence</a>, <a href="http://lesswrong.com/lw/il/hindsight_bias/">hindsight biases</a>, and <a href="http://lesswrong.com/lw/k3/priming_and_contamination/">anchoring effects</a>. . . . The strategy consists of nothing more than asking oneself, ‚ÄúWhat are some reasons that my initial judgment might be wrong?‚Äù The strategy is effective because it directly counteracts the basic problem of association-based processes‚Äîan overly narrow sample of evidence‚Äîby expanding the sample and making it more representative. Similarly, prompting decision makers to consider alternative hypotheses has been shown to reduce confirmation biases in seeking and evaluating new information.<a id="fn8x8-bk" href="#fn8x8"><sup>8</sup></a></p></blockquote>
<p>Another useful skill is that of <a href="http://lesswrong.com/lw/7e5/the_cognitive_science_of_rationality/"><em>cognitive override</em></a>:</p>
<ol>
<li>Notice when you‚Äôre speaking or acting on an intuitive judgment.</li>
<li>If the judgment is important, override your intuitive judgment and apply the <a href="http://facingthesing.wpengine.com/2011/the-laws-of-thought/">laws of thought</a> instead. (This requires prior training in algebra, logic, probability theory, decision theory, etc.<a id="fn9x8-bk" href="#fn9x8"><sup>9</sup></a>)</li>
</ol>
<p>To see this one in action, consider the following problem:</p>
<blockquote><p>A bat and a ball cost $1.10 in total. The bat costs $1.00 more than the ball. How much does the ball cost?</p></blockquote>
<p><a href="http://www.nobelprize.org/nobel_prizes/economics/laureates/2002/kahnemann-lecture.pdf">Most people</a> give the first response that comes to mind: $0.10.<a id="fn10x8-bk" href="#fn10x8"><sup>10</sup></a> But elementary algebra shows this can‚Äôt be right: the bat would then have to cost $1.10, for a total of $1.20. To get this one right, you have to <em>notice</em> your intuitive answer coming out, and say ‚ÄúNo! Algebra.‚Äù And then do the algebra.</p>
<p>Those who <em>really</em> want to figure out what‚Äôs true about our world will spend thousands of hours studying the <a href="http://facingthesing.wpengine.com/2011/the-laws-of-thought/">laws of thought</a>, studying the specific ways in which humans are crazy, and practicing <a href="http://lesswrong.com/lw/5x8/teachable_rationality_skills/">teachable rationality skills</a> so they can avoid fooling themselves.</p>
<p>And <em>then</em>, finally, we may be able to stage a robot‚Äôs rebellion, figure out how the world works, clarify our goals, and start <a href="http://lesswrong.com/lw/7i/rationality_is_systematized_winning/">winning</a> more often. Maybe we‚Äôll even be able to navigate an intelligence explosion successfully.</p>
<p>* * *</p>
<p><small><a id="fn1x8" href="#fn1x8-bk"><sup>1</sup></a>Amos Tversky and Daniel Kahneman, ‚ÄúExtensional Versus Intuitive Reasoning: The Conjunction Fallacy in Probability Judgment,‚Äù <em>Psychological Review</em> 90, no. 4 (1983): 293‚Äì315, <span>doi</span>:<a href="http://dx.doi.org/10.1037/0033-295X.90.4.293">10.1037/0033-295X.90.4.293</a>.</small></p>
<p><small><a id="fn2x8" href="#fn2x8-bk"><sup>2</sup></a>William H. Desvousges et al., <em>Mesuring Nonuse Damages Using Contingent Valuation: An Experimental Evaluation of Accuracy</em>, technical report (Research Triangle Park, NC: RTI International, 2010), <span>doi</span>:<a href="http://dx.doi.org/10.3768/rtipress.2009.bk.0001.1009">10.3768/rtipress.2009.bk.0001.1009</a>.</small></p>
<p><small><a id="fn3x8" href="#fn3x8-bk"><sup>3</sup></a>Amos Tversky and Daniel Kahneman, ‚ÄúJudgment Under Uncertainty: Heuristics and Biases,‚Äù <em>Science</em> 185, no. 4157 (1974): 1124‚Äì1131, <span>doi</span>:<a href="http://dx.doi.org/10.1126/science.185.4157.1124">10.1126/science.185.4157.1124</a>.</small></p>
<p><small><a id="fn4x8" href="#fn4x8-bk"><sup>4</sup></a>Maia Szalavitz, ‚Äú10 Ways We Get the Odds Wrong,‚Äù <em>Psychology Today</em>, January 1, 2008, <a href="http://www.psychologytoday.com/articles/200712/10-ways-we-get-the-odds-wrong">http://www.psychologytoday.com/articles/200712/10-ways-we-get-the-odds-wrong</a>.</small></p>
<p><small><a id="fn5x8" href="#fn5x8-bk"><sup>5</sup></a>Charles S. Taber and Milton Lodge, ‚ÄúMotivated Skepticism in the Evaluation of Political Beliefs,‚Äù <em>American Journal of Political Science</em> 50 (3 2006): 755‚Äì769, <span>doi</span>:<a href="http://dx.doi.org/10.1111/j.1540-5907.2006.00214.x">10.1111/j.1540- 5907.2006.00214.x</a>.</small></p>
<p><small><a id="fn6x8" href="#fn6x8-bk"><sup>6</sup></a>Michael Shermer, ‚ÄúSmart People Believe Weird Things,‚Äù <em>Scientific American</em> 287, no. 3 (2002): 35, <span>doi</span>:<a href="http://dx.doi.org/10.1038/scientificamerican0902-35">10.1038/scientificamerican0902-35</a>.</small></p>
<p><small><a id="fn7x8" href="#fn7x8-bk"><sup>7</sup></a>Keith E. Stanovich, ‚ÄúHigher-Order Preferences and the Master Rationality Motive,‚Äù <em>Thinking and Reasoning</em> 14, no. 1 (2008): 111‚Äì117, <span>doi</span>:<a href="http://dx.doi.org/10.1080/13546780701384621">10.1080/13546780701384621</a>.</small></p>
<p><small><a id="fn8x8" href="#fn8x8-bk"><sup>8</sup></a>Richard P. Larrick, ‚ÄúDebiasing,‚Äù in <em>Blackwell Handbook of Judgment and Decision Making</em>, ed. Derek J. Koehler and Nigel Harvey, Blackwell Handbooks of Experimental Psychology (Malden, MA: Blackwell, 2004), 316‚Äì338.</small></p>
<p><small><a id="fn9x8" href="#fn9x8-bk"><sup>9</sup></a>Geoffrey T. Fong, David H. Krantz, and Richard E. Nisbett, ‚ÄúThe Effects of Statistical Training on Thinking About Everyday Problems,‚Äù <em>Cognitive Psychology</em> 18, no. 3 (1986): 253‚Äì292, <span>doi</span>:<a href="http://dx.doi.org/10.1016/0010-0285(86)90001-0">10.1016/0010-0285(86)90001-0</a>.</small></p>
<p><small><a id="fn10x8" href="#fn10x8-bk"><sup>10</sup></a>Daniel Kahneman, ‚ÄúA Perspective on Judgment and Choice: Mapping Bounded Rationality,‚Äù <em>American Psychologist</em> 58, no. 9 (2003): 697‚Äì720, <span>doi</span>:<a href="http://dx.doi.org/10.1037/0003-066X.58.9.697">10.1037/0003-066X.58.9.697</a>.</small></p>


<p><a href="https://intelligenceexplosion.com/2011/not-built-to-think-about-ai/" rel="next">Next Chapter  ‚Üí</a></p>
</div>


</div><!--//content-->














</div></div>]]>
            </description>
            <link>https://intelligenceexplosion.com/2011/the-crazy-robots-rebellion/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140581</guid>
            <pubDate>Mon, 15 Feb 2021 08:50:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Commenting Source Code: Is It Worth It for Small Programming Tasks? (2018)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 3 (<a href="https://news.ycombinator.com/item?id=26140364">thread link</a>) | @hacksilver
<br/>
February 15, 2021 | https://cse.cs.ovgu.de/cse/commenting-source-code-is-it-worth-it-for-small-programming-tasks-5/ | <a href="https://web.archive.org/web/*/https://cse.cs.ovgu.de/cse/commenting-source-code-is-it-worth-it-for-small-programming-tasks-5/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p> <span>Commenting Source Code: Is It Worth It For Small Programming Tasks?</span>. <span>In: <span>Springer Empirical Software Engineering (EMSE), </span><span>24 </span><span>(3), </span><span>S. 1418‚Äì1457, </span><span>2018</span>, <span>ISSN: 1382-3256</span>.</span></p>
<h2>Abstract</h2><p>Maintaining a program is a time-consuming and expensive task in software engineering. Consequently, several approaches have been proposed to improve the comprehensibility of source code. One of such approaches are comments in the code that enable developers to explain the program with their own words or predefined tags. Some empirical studies indicate benefits of comments in certain situations, while others find no benefits at all. Thus, the real effect of comments on software development remains uncertain. In this article, we describe an experiment in which 277 participants, mainly professional software developers, performed small programming tasks on differently commented code. Based on quantitative and qualitative feedback, we i) partly replicate previous studies, ii) investigate performances of differently experienced participants when confronted with varying types of comments, and iii) discuss the opinions of developers on comments. Our results indicate that comments seem to be considered more important in previous studies and by our participants than they are for small programming tasks. While other mechanisms, such as proper identifiers, are considered more helpful by our participants, they also emphasize the necessity of comments in certain situations.</p>
<h2>Links</h2><ul><li><i></i><a href="https://cse.cs.ovgu.de/cse-wordpress/wp-content/uploads/2018/10/paper-influence-comments_preliminary.pdf" title="https://cse.cs.ovgu.de/cse-wordpress/wp-content/uploads/2018/10/paper-influence-[...]" target="_blank">https://cse.cs.ovgu.de/cse-wordpress/wp-content/uploads/2018/10/paper-influence-[...]</a></li><li><i></i><a href="https://cse.cs.ovgu.de/cse-wordpress/wp-content/uploads/2021/02/nielebock-et-al-emse2019-comments-replication_package.zip" title="https://cse.cs.ovgu.de/cse-wordpress/wp-content/uploads/2021/02/nielebock-et-al-[...]" target="_blank">https://cse.cs.ovgu.de/cse-wordpress/wp-content/uploads/2021/02/nielebock-et-al-[...]</a></li><li><i></i><a href="https://dx.doi.org/10.1007/s10664-018-9664-z" title="Folge der DOI-Nummer:10.1007/s10664-018-9664-z" target="_blank">doi:10.1007/s10664-018-9664-z</a></li></ul>
<h2>BibTeX (<a href="https://cse.cs.ovgu.de/cse?feed=tp_pub_bibtex&amp;key=NielebockComments2018">Download</a>)</h2><pre>@article{NielebockComments2018,
title = {Commenting Source Code: Is It Worth It For Small Programming Tasks?},
author = {Sebastian Nielebock and Dariusz Krolikowski and Jacob Kr\"{u}ger and Thomas Leich and Frank Ortmeier},
editor = {Springer Science+Business Media, LLC, part of Springer Nature},
url = {https://cse.cs.ovgu.de/cse-wordpress/wp-content/uploads/2018/10/paper-influence-comments_preliminary.pdf
https://cse.cs.ovgu.de/cse-wordpress/wp-content/uploads/2021/02/nielebock-et-al-emse2019-comments-replication_package.zip},
doi = {10.1007/s10664-018-9664-z},
issn = {1382-3256},
year  = {2018},
date = {2018-11-16},
journal = {Springer Empirical Software Engineering (EMSE)},
volume = {24},
number = {3},
pages = {1418--1457},
publisher = {Springer US},
abstract = {Maintaining a program is a time-consuming and expensive task in software engineering. Consequently, several approaches have been proposed to improve the comprehensibility of source code. One of such approaches are comments in the code that enable developers to explain the program with their own words or predefined tags. Some empirical studies indicate benefits of comments in certain situations, while others find no benefits at all. Thus, the real effect of comments on software development remains uncertain. In this article, we describe an experiment in which 277 participants, mainly professional software developers, performed small programming tasks on differently commented code. Based on quantitative and qualitative feedback, we i) partly replicate previous studies, ii) investigate performances of differently experienced participants when confronted with varying types of comments, and iii) discuss the opinions of developers on comments. Our results indicate that comments seem to be considered more important in previous studies and by our participants than they are for small programming tasks. While other mechanisms, such as proper identifiers, are considered more helpful by our participants, they also emphasize the necessity of comments in certain situations.},
keywords = {Comments, Documentation and Maintenance, Empirical Study, Program Comprehension},
pubstate = {published},
tppubtype = {article}
}
</pre>
			</div></div>]]>
            </description>
            <link>https://cse.cs.ovgu.de/cse/commenting-source-code-is-it-worth-it-for-small-programming-tasks-5/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140364</guid>
            <pubDate>Mon, 15 Feb 2021 08:18:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Typing Is Hard]]>
            </title>
            <description>
<![CDATA[
Score 153 | Comments 79 (<a href="https://news.ycombinator.com/item?id=26140363">thread link</a>) | @pansa2
<br/>
February 15, 2021 | https://3fx.ch/typing-is-hard.html | <a href="https://web.archive.org/web/*/https://3fx.ch/typing-is-hard.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
<header>

</header>
<nav id="TOC">
<ul>
<li><a href="#type-checking-and-type-inference">Type Checking and Type Inference</a></li>
<li><a href="#common-terms">Common terms</a><ul>
<li><a href="#completeness">Completeness</a></li>
<li><a href="#soundness">Soundness</a></li>
<li><a href="#decidability">Decidability</a></li>
<li><a href="#hindley-milner-type-system">Hindley-Milner Type System</a></li>
<li><a href="#dependent-types">Dependent types</a></li>
</ul></li>
<li><a href="#how-hard-is-type-checking-your-favorite-language">How Hard is Type-Checking Your Favorite Language?</a><ul>
<li><a href="#c">C++</a></li>
<li><a href="#c-1">C#</a></li>
<li><a href="#elm">Elm</a></li>
<li><a href="#f">F#</a></li>
<li><a href="#go">Go</a></li>
<li><a href="#haskell">Haskell</a></li>
<li><a href="#idris">Idris</a></li>
<li><a href="#java">Java</a></li>
<li><a href="#ocaml">OCaml</a></li>
<li><a href="#ml">ML</a></li>
<li><a href="#rust">Rust</a></li>
<li><a href="#scala">Scala</a></li>
<li><a href="#swift">Swift</a></li>
<li><a href="#typescript">TypeScript</a></li>
<li><a href="#zig">Zig</a></li>
</ul></li>
<li><a href="#faq">FAQ</a><ul>
<li><a href="#where-are-python-bash-etc.">Where are Python, Bash, etc.?</a></li>
<li><a href="#what-about-unsafe-casts">What about unsafe casts?</a></li>
<li><a href="#ive-spotted-a-mistakeimprecision-what-should-i-do">I‚Äôve spotted a mistake/imprecision, what should I do?</a></li>
</ul></li>
</ul>
</nav>
<h2 id="type-checking-and-type-inference">Type Checking and Type Inference</h2>
<p>Type checking is the process of taking a given program in some programming language and working out whether all variables and expressions have the correct types, i.e.&nbsp;strings are assigned to strings, arithmetic expressions involve only numbers, etc. Some languages also offer <em>type inference</em>, tasking the compiler with the task of figuring out correct types on its own. Depending on a language‚Äôs features the type checking and type inference problems range from trivial to undecidable.</p>
<h2 id="common-terms">Common terms</h2>
<h3 id="completeness">Completeness</h3>
<p>A type checker is complete if it can check every correctly typed program.</p>
<h3 id="soundness">Soundness</h3>
<p>A type checker is sound if it only accepts correctly typed programs.</p>
<h3 id="decidability">Decidability</h3>
<p>A decision problem is <strong>decidable</strong> if for any input we can compute whether the input satifies the problem in finite time. Examples of decidable problems include primality testing and boolean satisfiability. The halting problem for example is <strong>undecidable</strong>: We cannot check whether a program runs infinitely long in finite time. We are interested in the type checking and type inference problems for programming languages: Given some input program, does it type check? And given some program, which types should we assign to the expression such that it typechecks?</p>
<h3 id="hindley-milner-type-system">Hindley-Milner Type System</h3>
<p>The Hindley-Milner (HM) type system is a type system for the simple typed lambda calculus with parametric polymorphism, which is used as a base for many functional languages. Type-checking for HM is decidable and efficient, its complexity is linear in the size of the program. Type inference is more difficult than type checking, since the compiler has to solve the type constraints incurred for expressions in the program. It is <strong>decidable</strong> for the HM type system, however the problem itself is PSPACE-hard and EXPTIME-complete, meaning that in the worst case it needs at least a polynomial amount of extra space and exponential time relative to the input size. Fortunately, the type inference algorithm is linear when the nesting depth of polymorphic variables is bounded, as is the case for most applications. There exist many type inference algorithms, the best known one is the so-called <em>Algorithm W</em>. Many functional programming languages implement variants of the HM type system.</p>
<h3 id="dependent-types">Dependent types</h3>
<p>In simple terms dependent types allow types to depend not only on other types, but on values. This is best understood by an example: Normally we can only encode very coarse information, such as ‚Äúx is of integer type‚Äù. Dependent types allow us to define more detailed types. For example we could then create a type ‚Äúeven integer‚Äù, whose only inhabitants are even integers. This is strictly more powerful than the previous setting: Dependent types in general make type inference undecidable as <a href="https://link.springer.com/content/pdf/10.1007%2FBFb0037103.pdf">can be shown</a> by reduction to the <a href="https://en.wikipedia.org/wiki/Post_correspondence_problem">Post Correspondence Problem</a>.</p>
<h2 id="how-hard-is-type-checking-your-favorite-language">How Hard is Type-Checking Your Favorite Language?</h2>
<p>Below I‚Äôve compiled a list of languages and how hard type checking/type inference is in these languages. If you find a mistake or are missing a language please <a href="https://todo.sr.ht/~bfiedler/typing-is-hard">file an issue</a> with your language, its type checking complexity and optimally a resource that supports your claim. I do not claim completeness nor correctness of the properties shown here, it is mainly an amalgamation of blog posts I‚Äôve been collecting.</p>
<h3 id="c">C++</h3>
<p><strong>undecidable</strong>, <a href="https://rtraba.files.wordpress.com/2015/05/cppturing.pdf">C++ Templates are Turing Complete, Todd L. Veldhuizen (2003)</a>, even its <a href="https://medium.com/@mujjingun_23509/full-proof-that-c-grammar-is-undecidable-34e22dd8b664">grammar is undecidable</a></p>
<h3 id="c-1">C#</h3>
<p><strong>unsound, undecidable</strong>, there is an <a href="https://stackoverflow.com/questions/23939168/is-c-sharp-type-system-sound-and-decidable">excellent SO answer by Eric Lippert</a> on this topic. Other fun things include <a href="https://docs.microsoft.com/en-us/archive/blogs/ericlippert/lambda-expressions-vs-anonymous-methods-part-five">a SAT solver using the C# type-checker</a></p>
<h3 id="elm">Elm</h3>
<p><strong>decidable</strong>, uses Hindley-Milner, but currently <strong>unsound</strong>, due to an <a href="https://github.com/elm/core/issues/960">interesting compiler bug</a>: <code>(String.length "  ") ^ (-1) : Int</code></p>
<h3 id="f">F#</h3>
<p><strong>undecidable</strong>, <a href="https://github.com/cannorin/FSharp.TypeLevel">GitHub user cannorin implemented the untyped lambda calculus in F#</a></p>
<h3 id="go">Go</h3>
<p><strong>decidable</strong>, since type inference is only used for variable initialization</p>
<h3 id="haskell">Haskell</h3>
<p>1998 standard, no extensions: <strong>decidable</strong>, variant of HM</p>
<p>2010 standard, no extensions: <strong>decidable</strong>, restriction of System F</p>
<p>with sufficient<a href="#fn1" id="fnref1"><sup>1</sup></a> extensions: <strong>undecidable</strong>, as type checking in System F is undecidable. There exist <a href="https://www.lochan.org/keith/publications/undec.html">Turing Machines in Haskell types</a>. A simpler variant is to implement the <a href="https://mail.haskell.org/pipermail/haskell/2006-August/018355.html">SKI calculus</a>.</p>
<h3 id="idris">Idris</h3>
<p><strong>decidable</strong>, surprisingly. Idris has dependent types, but <a href="https://docs.idris-lang.org/en/latest/faq/faq.html#evaluation-at-the-repl-doesn-t-behave-as-i-expect-what-s-going-on">at compile time it will only evaluate expressions which it knows to be total (terminating and covering all inputs)</a>.</p>
<h3 id="java">Java</h3>
<p><strong>undecidable</strong>, because <a href="https://arxiv.org/pdf/1605.05274.pdf">Java Generics are Turing complete</a>. Java 5 or later is <strong>unsound</strong>, as shown by <a href="https://dl.acm.org/doi/pdf/10.1145/2983990.2984004">Amin and Tate (2015)</a></p>
<h3 id="ocaml">OCaml</h3>
<p><strong>undecidable</strong>, since we can <a href="https://caml.inria.fr/pub/old_caml_site/caml-list/1507.html">cause the type checker to loop infinitely</a></p>
<h3 id="ml">ML</h3>
<p><strong>decidable</strong>, uses Hindley-Milner</p>
<h3 id="rust">Rust</h3>
<p><strong>undecidable</strong>, both type inference (since Rust has rank-3-types) and type checking, as shown by this <a href="https://sdleffler.github.io/RustTypeSystemTuringComplete/">Smallfuck interpreter implemented using traits</a>.</p>
<h3 id="scala">Scala</h3>
<p><strong>undecidable</strong>, since it admits a <a href="https://michid.wordpress.com/2010/01/29/scala-type-level-encoding-of-the-ski-calculus/">type-level SKI calculus</a>, <strong>unsound</strong>, as shown by <a href="https://dl.acm.org/doi/pdf/10.1145/2983990.2984004">Amin and Tate (2015)</a>. Scala 2.13.3 (newest as of writing this) also exhibits the same problem.</p>
<h3 id="swift">Swift</h3>
<p><strong>undecidable</strong>, as proven <a href="https://forums.swift.org/t/swift-type-checking-is-undecidable/39024">here</a> by reduction to the <a href="https://en.wikipedia.org/wiki/Word_problem_for_groups">word problem for finitely generated groups</a><a href="#fn2" id="fnref2"><sup>2</sup></a></p>
<h3 id="typescript">TypeScript</h3>
<p><strong>undecidable, unsound</strong>. The <a href="https://www.typescriptlang.org/docs/handbook/type-compatibility.html#a-note-on-soundness">TypeScript documentation</a> mentions its unsoundness and the <a href="https://www.typescriptlang.org/docs/handbook/type-compatibility.html#function-parameter-bivariance">motivations</a> <a href="https://www.typescriptlang.org/docs/handbook/type-compatibility.html#optional-parameters-and-rest-parameters">behind</a> them.</p>
<p>Undecidability: TypeScript‚Äôs type system was <a href="https://gist.github.com/hediet/63f4844acf5ac330804801084f87a6d4">proven Turing complete</a> until <a href="https://github.com/microsoft/TypeScript/issues/14837">they disallowed self-referential types</a>. However <a href="https://ostro.ws/2019/12/09/taking-types-too-far/">Robbie Ostrow</a> wrote a <a href="https://www.typescriptlang.org/play/#code/FAFwngDgpgBAcgQxAVwE4IDYwLwwN4wSpQBuAXPEmpjAL6iSwBaUqA9jvoceTAHalWdYA2gwAlgGcW7AIKIU6DHGQBbAEZDcMjlAAeIKHwAmkyopoB+GCFTJYFAGaZJUEeDEBRAI7IXAHlkYfUMTMwVqDAAaGAAhYIMjU3NIgD4cYBgsmCCQpLN4y0zs+LywnJgi7Js7B2Ks5wxXGDJ6mEbXd0YYAGV-ABUE0OSIpXTcAiJSCkH6UVgAeQFOPp1U+Zh+gHcOXD6lqHWPWH6AC2JYPYGdo+6AMTY0FYHzqEONu-ESS97-B7RbmIeuI9M9Pt9AbAeoI+M9gXpITBPOIAOanEBwmGIuDiZZXeHrAD0hJgADpyTAECYYJIOGxYV0xAAFAZDfIpMacSY8GYAbQARFMSPyALoCoWi4QbWTGYyBNnlUaYGKlRKKqiciZtAAMFFkUTaAEYKH0ZXL9TAWbFUjbgLRearhmYdJUYNqWjBDSLGVDkOpbAgAMYgeVlEYa5VxBXhiwYcb4HV6g3VY0VMPO1gcawCb6oD09P0B4P+FmyVIxK22+2O9ku6zuihen0wACyyAwIHEEAwYFDapjkRV0fCEbjXMTMB0yeyqbN-jbHa7PcCFf81vLOXW1eHk8zrobnu9GwAIl9xMYoH2nRzIzX1bH43gJznWNOsrOd3Xd+x8-5TyRz0vAt-XQYtSw3SsN3XO0HU-Pd6w9JsNk8b4+FZdMbzHLVql1fhBFQN9PRmOCf2sWx7A9QYMIOV0OgcJFUJLJj+htLdeSo-sR1jV1DQ9bUj2OGAAGE2AwDAkAAL3QzjMMfCdyKgQjUxEsTJP8FCjAGdIMIUyo2mqf9AIGGJtjYdIKGJGAAElHGCVCYmMM8LxgdQwBsHZ9OyPoF07bte36EzXkOdJLIWEBTlYLYpEUmBVHbXyexctyAGZKWpBBZU9GCfD8JpjJgA5tJk3SEMbEUYFCgRrH6WoYjYcLIui4TRPEkApJY5tA143AVNaqTCoqkldIACkNABKDZAwAJk4Xq1NMkKhtqGBhpmgBadJxsm1Kepa+agsWpFUHYVAZm6XFJBAKlOyQcR6QkMx9EDKBJEkL4oESi8oAgNLjEINhXvEdREtxRxcXEQxSRWmqKPEWytlgQN6TBlE0FgBqYAvCBwpsDhNBgcTUBRVgAG4VtSjbPXdSmAFYYEpw0ADZ6fSAAOFmYAAFg59bNrGibBMDbndtUtq-keVBDpG7nKd5z0Be6QN2ZFvr1NRdEpeW4b2cpmX0jl8agA">program checking the Collatz conjecture</a>, and as the <a href="http://people.cs.uchicago.edu/%7Esimon/RES/collatz.pdf">generalized form of the Collatz conjecture is undecidable</a><a href="#fn3" id="fnref3"><sup>3</sup></a>, the TypeScript type system is undecidable as well.</p>
<h3 id="zig">Zig</h3>
<p><strong>undecidable</strong>, since evaluation of recursive functions at compile time is possible, thus requiring the compiler to solve the halting problem.</p>
<h2 id="faq">FAQ</h2>
<h3 id="where-are-python-bash-etc.">Where are Python, Bash, etc.?</h3>
<p>Type checking and type inference work primarily for statically typed languages. While there exist extensions to some dynamic languages imbuing them with static type checking these are not part of the language, and the complexity depends not on the language but the extension.</p>
<h3 id="what-about-unsafe-casts">What about unsafe casts?</h3>
<p>Some languages offer explicit unchecked casts, which are accepted by the type checker and may potentially fail at runtime. Examples are casting from <code>Object</code> to some subclass in C# and Java, casting values of type <code>interface{}</code> in Go or using <code>unsafeCoerce</code> in Haskell. I‚Äôve chosen not to account for such casts/coercions since unchecked downcasting is an inherently unsafe operation not covered by type checker guarantees.</p>
<h3 id="ive-spotted-a-mistakeimprecision-what-should-i-do">I‚Äôve spotted a mistake/imprecision, what should I do?</h3>
<p>Great work! Please report it on the <a href="https://todo.sr.ht/~bfiedler/typing-is-hard">official issue tracker</a> detailing what is wrong and I will try to fix it as soon as possible.</p>
<section>
<hr>
<ol>
<li id="fn1"><p>Using only <code>RankNTypes</code> suffices to stump inference. Interestingly enough this is only undecidable for <code>N &gt;= 3</code>.<a href="#fnref1">‚Ü©</a></p></li>
<li id="fn2"><p>I think a reduction to the PCP-problem is also possible.<a href="#fnref2">‚Ü©</a></p></li>
<li id="fn3"><p>Thanks to reddit user /u/nckl for pointing that out.<a href="#fnref3">‚Ü©</a></p></li>
</ol>
</section>


</div>]]>
            </description>
            <link>https://3fx.ch/typing-is-hard.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140363</guid>
            <pubDate>Mon, 15 Feb 2021 08:17:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Software Architecture: How You Make Them Care]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26140202">thread link</a>) | @qznc
<br/>
February 14, 2021 | http://beza1e1.tuxen.de/architecture_care.html | <a href="https://web.archive.org/web/*/http://beza1e1.tuxen.de/architecture_care.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
<p>In 1933 the Navy rejected <a href="https://en.wikipedia.org/wiki/Draper_Kauffman">Draper Kauffman</a>
due to his poor eyesight.
Ten years later he trained the special units which would later become
<a href="https://en.wikipedia.org/wiki/United_States_Navy_SEALs">the SEALs</a>.
The training includes a grueling first week to filter out.
"Hell Week separated the men from the boys", Kauffman said.
"The men had sense enough to quit‚Äîleaving us with the boys!‚Äù</p>
<blockquote>
<p>In his program, everyone did the training, no matter their rank. This, of course, included Kauffman. The enlisted men of the first class took one look at their ungainly, nearsighted commander and reached the same conclusion; There was no way this guy would make it. But as the trainees watched, he proved them wrong.</p>
<p>"We were testing Kauffman all along," wrote Dan Dillon, a member of the first demolition class, "but my respect for him deepened because a lot of the officers will tell you what to do, but they won't do it themselves. This man asks for suggestions. If they're good, he uses them. And he participates in everything. The dirtiest, rottenest jobs that we tackle, he is in there doing as well as the rest of us. How could you not respect him?"
‚Äì<a href="http://beza1e1.tuxen.de/culture_code.html">The Culture Code</a></p>
</blockquote>
<p><img alt="Dirty Hands" src="http://beza1e1.tuxen.de/img/dirty_hands.jpg"></p>
<p>Kauffman is one of those leaders
who jump into the dirty trenches together with his team.
In his case literally during the second world war at the invasion of Japan.
Leaders who make their hands dirty gain "ethos", as Aristotle called it,
and so people care about their suggestions.</p>
<h2>Architects Must Code</h2>
<p>Software architects are technical leaders
but they have no budget and no command.
So an architect must work through persuasion and <a href="http://beza1e1.tuxen.de/influence.html">influence</a>.
However, do not pursue raw authority because
when a group makes decisions, they better discuss it as <em>equals</em>.
You want all information and experience on the table but
authority can silence valuable opinions.</p>
<p>Many developers tell me that architects must code like they do
otherwise they will not be aligned well.
Nobody likes <a href="https://www.joelonsoftware.com/2008/05/01/architecture-astronauts-take-over/">architecture astronauts</a>.
The software architect should be a peer among developers to be trusted
and the most simple way is to do the same work like Kauffman.
Write code, review pull requests, and debug issues.
When developers see that architects share their values like clean code,
it builds trust.</p>
<p>However, architects only have little time for coding.
At least, I work on a
<a href="http://paulgraham.com/makersschedule.html">manager schedule</a>
more than half the time.
So I avoid anything time critical
and invest extra effort that others can maintain my code as well.</p>
<h2>Speak Business with Managers</h2>
<p>Software developers are not the only ones
an architect will have to persuade.
There are all kinds of managers
(at least in embedded automotive projects):
Project managers, line managers,
safety managers, security managers,
requirements managers, and so on.
These people talk a different language
and the role for the software architect 
is to act as a translator here.</p>
<p>To a developer,
you can say "the code is a mess because everything is coupled together."
To a manager you rather need words like
"we should invest more in refactoring to reduce volatility in the marginal cost of features."
Instead of "devs are fed up with this mess and leave"
say "we can reduce our turnover by investing 10% of our time in our code quality."
<a href="https://understandlegacycode.com/blog/5-arguments-to-make-managers-care-about-technical-debt/">Nicolas Carlo wrote more about that</a>.
Maybe the examples are too extreme for your organisation
as <a href="https://ieeexplore.ieee.org/document/8094304">tech companies should have managers who are more technical</a>.</p>
<p>What happens if the gap between management and engineers widens
is well told in <a href="https://www.theatlantic.com/ideas/archive/2019/11/how-boeing-lost-its-bearings/602188/">this story about Boeing</a>.
The turning point of May 2001
looks like this for Boeing's stock price:</p>
<p><img alt="Boeing trend turns downwards at May 2001" src="http://beza1e1.tuxen.de/img/boeing_2001.png"></p>
<p>An example how different the views of management and developers can be
is documented in <a href="https://linkinghub.elsevier.com/retrieve/pii/S0164121299000941">a case study</a>
about the development of a medical instrument.
The project had a total cost overrun of 419% of the approved budget.
It took nearly twice as long as the approved plan.
Management considered the project a failure.
However, the developers considered it a success:</p>
<blockquote>
<p>In response to the question, what was the most successful project that you have worked on, and why, the researcher was surprised to find that over 50% (5/8) of the interviewed software developers identified Project A1! The other three interviewed software developers identified Project A1 as second best. The common theme on all the responses included (a) the project was a technical challenge, (b) the product worked the way it was intended to work, and (c) the team was small and high performing.</p>
</blockquote>
<p>Martin Fowler calls it
<a href="https://martinfowler.com/articles/value-architectural-attribute.html">the Elephant in the Architecture</a>.
Software architects are in between this tension
and the job is to find the proper tradeoff.</p>
<h2>Tell Stories</h2>
<p>Recently, I blogged a story at work.
It covered the last three years of my project
and the big lessons about big automotive projects I learned there.
The feedback was surprising.
Managers multiple levels above contacted me.
People who were starting other projects asked me for details.
My company documents lessons learned in every project as part of the usual process.
However, my story had wider influence.
Storytelling as a tool is underrated
and so I'm trying to learn it.</p>
<p>The meaning for "story" here is wide.
In a professional setting,
you will not spend an hour narrating gripping fiction.
This is about short stories like the three paragraphs at the beginning.
Some people might only call it "example".</p>
<blockquote>
<p>I would not call this storytelling. I would simply call it giving a relevant example.
‚Äì<a href="http://stevedenning.com/Storytelling-in-the-News/145-ft-discusses-storytelling.aspx">Lucy Kellaway</a></p>
</blockquote>
<p>However, there are no people who call themselves "example-givers"
but there are people who call themselves "story-tellers"
and their know-how is useful.</p>
<p>The most obvious difference is that stories are concrete unlike
<a href="http://beza1e1.tuxen.de/dependency_abstraction.html">abstract architectural diagrams</a>
and that <a href="http://beza1e1.tuxen.de/communicate_architecture.html">helps for communication</a>.
However, stories also work in more subtle ways.
Neuroscience shows that stories trigger mental simulations
that even affect the body.</p>
<blockquote>
<p>We can't imagine events or sequences without evoking the same modules of the brain that are evoked in real physical activity. Brain scans show that when people imagine a flashing light, they activate the visual area of the brain; when they imagine someone tapping on their skin, they activate tactile areas of the brain. The activity of mental simulation is not limited to the insides of our heads. People who imagine words that start with a 'b' or 'p' can't resist subtle lip movements, and people who imagine looking at the Eiffel Tower can't resist moving their eyes upward. Mental simulation can even alter visceral physical responses: When people drink water but imagine that it's lemon juice, they salivate more. Even more surprisingly, when people drink lemon juise but imagine it's water, they salivate less.
‚Äì<a href="http://beza1e1.tuxen.de/made_to_stick.html">Made to Stick</a></p>
</blockquote>
<p>There are different kinds of stories
depending on what you want people to care about.
Maybe you want to share some knowledge?
Maybe you want to inspire collaboration?
Maybe you want to introduce a new technology?
Maybe you want to emphasize cultural values?
Different use cases require different stories.
Sometimes the story must be true and sometimes it doesn't matter.
Sometimes plenty of details are helpful and sometimes not.
Fortunately, you don't have to be a great at telling stories.
Even a story which is not entertaining, dramatic, or funny will do its work.</p>
<p>As a first step,
my suggestion here is that you start collecting stories
(I have <a href="http://beza1e1.tuxen.de/tiddlywiki_notes.html">a note-taking system</a> for that)
and tell them.
If the outcome surprises you then tell me that story.</p>
<h2>Summary</h2>
<p>If you <a href="http://beza1e1.tuxen.de/communicate_architecture.html">communicate your architecture well</a>
but they ignore you anyways,
this article had three suggestions to increase your influence:</p>
<ol>
<li>Get your hands dirty in code to gain the trust of developers.</li>
<li>Learn the right language with managers.</li>
<li>Collect and tell more stories.</li>
</ol>
<p>More generically, the first two points can be merged
with Covey's 5th habit:
Seek first to understand, then to be understood.</p>
<hr>
<p>Dirty hands photo by <a href="https://unsplash.com/@alexjones">Alex Jones</a>
on <a href="https://unsplash.com/s/photos/dirty-work">Unsplash</a>.</p>

</article><p>Software architects must code, talk business, and tell stories. </p></div>]]>
            </description>
            <link>http://beza1e1.tuxen.de/architecture_care.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140202</guid>
            <pubDate>Mon, 15 Feb 2021 07:50:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Slack‚Äôs Jan 2021 outage: a tale of saturation]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26140154">thread link</a>) | @vinnyglennon
<br/>
February 14, 2021 | https://surfingcomplexity.blog/2021/02/08/slacks-jan-2021-outage-a-tale-of-saturation/ | <a href="https://web.archive.org/web/*/https://surfingcomplexity.blog/2021/02/08/slacks-jan-2021-outage-a-tale-of-saturation/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>Laura Nolan of Slack recently published an excellent write-up of their <a href="https://slack.engineering/slacks-outage-on-january-4th-2021/">Jan. 4, 2021 outage</a> on Slack‚Äôs engineering blog.</p>



<p>One of the things that struck me about this writeup is the contributing factors that <em>aren‚Äôt</em> part of this outage. There‚Äôs nothing about a bug that somehow made its way into a production, or an accidentally incorrect configuration change, or how some corrupt data ended up in the database. On the other hand, it‚Äôs an outage story with multiple examples of <strong><em>saturation</em></strong>.</p>



<p><em>Saturation </em>is a phrase often used by the safety science researcher David Woods: it refers to a system that is reaching the limit of what it can handle. If you‚Äôve done software operations work, I bet you‚Äôve encountered resource exhaustion, which is an example of saturation.</p>



<p>Saturation plays a big role in Woods‚Äôs model of the adaptive universe. In particular, in socio-technical systems, people will adapt in order to reduce the risk of saturation. In this post, I‚Äôm going to walk Laura‚Äôs write-up, highlighting all of the examples of saturation and how the system adopted to it. I‚Äôm going purely from the text of the original write-up, which means I‚Äôll likely get some things wrong here.</p>



<p>Slack runs their infrastructure on AWS. In the beginning, they (like, I presume, all small companies) started with a single AWS account. And, initially, this worked out well.</p>



<figure><a href="https://lorinhochstein.files.wordpress.com/2021/02/happy-cloud-1.jpg"><img data-attachment-id="1770" data-permalink="https://surfingcomplexity.blog/happy-cloud-1/" data-orig-file="https://lorinhochstein.files.wordpress.com/2021/02/happy-cloud-1.jpg" data-orig-size="623,432" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="happy-cloud-1" data-image-description="" data-medium-file="https://lorinhochstein.files.wordpress.com/2021/02/happy-cloud-1.jpg?w=300" data-large-file="https://lorinhochstein.files.wordpress.com/2021/02/happy-cloud-1.jpg?w=623" src="https://lorinhochstein.files.wordpress.com/2021/02/happy-cloud-1.jpg?w=623" alt="" srcset="https://lorinhochstein.files.wordpress.com/2021/02/happy-cloud-1.jpg 623w, https://lorinhochstein.files.wordpress.com/2021/02/happy-cloud-1.jpg?w=150 150w, https://lorinhochstein.files.wordpress.com/2021/02/happy-cloud-1.jpg?w=300 300w" sizes="(max-width: 623px) 100vw, 623px"></a><figcaption>In the beginning, Slack‚Äôs AWS footprint fit nicely into one account and VPC: that‚Äôs one happy cloud!</figcaption></figure>



<p>However, as Slack grew, it encountered it problems. Here‚Äôs a quote from Slack‚Äôs blog post <a href="https://slack.engineering/building-the-next-evolution-of-cloud-networks-at-slack/">Building the Next Evolution of Cloud Networks at Slack</a> by Archie Gunasekara:</p>



<p><em>As our customer base grew and the tool evolved, we developed more services and built more infrastructure as needed. However, everything we built still lived in one big AWS account. This is when our troubles started. Having all our infrastructure in a single AWS account led to AWS rate-limiting issues, cost-separation issues, and general confusion for our internal engineering service teams.</em></p>



<figure><a href="https://lorinhochstein.files.wordpress.com/2021/02/sad-coud.jpg"><img data-attachment-id="1772" data-permalink="https://surfingcomplexity.blog/sad-coud/" data-orig-file="https://lorinhochstein.files.wordpress.com/2021/02/sad-coud.jpg" data-orig-size="933,767" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="sad-coud" data-image-description="" data-medium-file="https://lorinhochstein.files.wordpress.com/2021/02/sad-coud.jpg?w=300" data-large-file="https://lorinhochstein.files.wordpress.com/2021/02/sad-coud.jpg?w=933" src="https://lorinhochstein.files.wordpress.com/2021/02/sad-coud.jpg?w=933" alt="" srcset="https://lorinhochstein.files.wordpress.com/2021/02/sad-coud.jpg 933w, https://lorinhochstein.files.wordpress.com/2021/02/sad-coud.jpg?w=150 150w, https://lorinhochstein.files.wordpress.com/2021/02/sad-coud.jpg?w=300 300w, https://lorinhochstein.files.wordpress.com/2021/02/sad-coud.jpg?w=768 768w" sizes="(max-width: 933px) 100vw, 933px"></a><figcaption>That cloud isn‚Äôt looking so happy anymore</figcaption></figure>



<p>The above quote makes reference to three different categories of saturation. The first is a traditional sort of limit we software folks think of: they were running into AWS rate limits associated with an individual AWS account.</p>



<p>The other two limits are cognitive: the system made it harder for humans to deal with separating out costs and, it led to confusion for internal teams. I still see these as a form of saturation: as a system gets more difficult for humans to deal with, it effectively increases the cost of using the system, and it makes errors more likely. </p>



<p>And so, the Slack Cloud Engineering team adapted to meet this saturation risk by adopting AWS child accounts. From the linked blog post again:</p>



<p><em>Now the service teams could request their own AWS accounts and could even peer their VPCs with each other when services needed to talk to other services that lived in a different AWS account. </em></p>



<figure><a href="https://lorinhochstein.files.wordpress.com/2021/02/multiple-child-accounts.jpg"><img data-attachment-id="1774" data-permalink="https://surfingcomplexity.blog/multiple-child-accounts/" data-orig-file="https://lorinhochstein.files.wordpress.com/2021/02/multiple-child-accounts.jpg" data-orig-size="924,688" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="multiple-child-accounts" data-image-description="" data-medium-file="https://lorinhochstein.files.wordpress.com/2021/02/multiple-child-accounts.jpg?w=300" data-large-file="https://lorinhochstein.files.wordpress.com/2021/02/multiple-child-accounts.jpg?w=924" src="https://lorinhochstein.files.wordpress.com/2021/02/multiple-child-accounts.jpg?w=924" alt="" srcset="https://lorinhochstein.files.wordpress.com/2021/02/multiple-child-accounts.jpg 924w, https://lorinhochstein.files.wordpress.com/2021/02/multiple-child-accounts.jpg?w=150 150w, https://lorinhochstein.files.wordpress.com/2021/02/multiple-child-accounts.jpg?w=300 300w, https://lorinhochstein.files.wordpress.com/2021/02/multiple-child-accounts.jpg?w=768 768w" sizes="(max-width: 924px) 100vw, 924px"></a><figcaption>Multiple happy child accounts</figcaption></figure>



<p>With continued growth, they eventually reached saturation again. Once again, this was the ‚Äúit‚Äôs getting too hard‚Äù sort of saturation:</p>



<p><em>Having hundreds of AWS accounts became a nightmare to manage when it came to CIDR ranges and IP spaces, because the mis-management of CIDR ranges meant that we couldn‚Äôt peer VPCs with overlapping CIDR ranges. This led to a lot of administrative overhead.</em></p>



<figure><a href="https://lorinhochstein.files.wordpress.com/2021/02/cant-peer-1.jpg"><img data-attachment-id="1778" data-permalink="https://surfingcomplexity.blog/cant-peer-1/" data-orig-file="https://lorinhochstein.files.wordpress.com/2021/02/cant-peer-1.jpg" data-orig-size="992,692" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="cant-peer-1" data-image-description="" data-medium-file="https://lorinhochstein.files.wordpress.com/2021/02/cant-peer-1.jpg?w=300" data-large-file="https://lorinhochstein.files.wordpress.com/2021/02/cant-peer-1.jpg?w=992" src="https://lorinhochstein.files.wordpress.com/2021/02/cant-peer-1.jpg?w=992" alt="" srcset="https://lorinhochstein.files.wordpress.com/2021/02/cant-peer-1.jpg 992w, https://lorinhochstein.files.wordpress.com/2021/02/cant-peer-1.jpg?w=150 150w, https://lorinhochstein.files.wordpress.com/2021/02/cant-peer-1.jpg?w=300 300w, https://lorinhochstein.files.wordpress.com/2021/02/cant-peer-1.jpg?w=768 768w" sizes="(max-width: 992px) 100vw, 992px"></a><figcaption>VPC peering with multiple VPCs increases the cognitive load on the networking engineers</figcaption></figure>



<p>To deal with this risk of saturation, the cloud engineering team adapted again. They reached for new capabilities: AWS shared VPCs and AWS Transit Gateway Inter-Region Peering. By leveraging these technologies, they were able to design a network architecture that addressed their problems:</p>



<p><em>This solved our earlier issue of constantly hitting AWS rate limits due to having all our resources in one AWS account. This approach seemed really attractive to our Cloud Engineering team, as we could manage the IP space, build VPCs, and share them with our child account owners. Then, without having to worry about managing any of the overhead of setting up VPCs, route tables, or network access lists, teams were able to utilize these VPCs and build their resources on top of them.</em></p>



<figure><a href="https://lorinhochstein.files.wordpress.com/2021/02/tgw-1.jpg"><img data-attachment-id="1780" data-permalink="https://surfingcomplexity.blog/tgw-1/" data-orig-file="https://lorinhochstein.files.wordpress.com/2021/02/tgw-1.jpg" data-orig-size="998,637" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="tgw-1" data-image-description="" data-medium-file="https://lorinhochstein.files.wordpress.com/2021/02/tgw-1.jpg?w=300" data-large-file="https://lorinhochstein.files.wordpress.com/2021/02/tgw-1.jpg?w=998" src="https://lorinhochstein.files.wordpress.com/2021/02/tgw-1.jpg?w=998" alt="" srcset="https://lorinhochstein.files.wordpress.com/2021/02/tgw-1.jpg 998w, https://lorinhochstein.files.wordpress.com/2021/02/tgw-1.jpg?w=150 150w, https://lorinhochstein.files.wordpress.com/2021/02/tgw-1.jpg?w=300 300w, https://lorinhochstein.files.wordpress.com/2021/02/tgw-1.jpg?w=768 768w" sizes="(max-width: 998px) 100vw, 998px"></a><figcaption>Example of a transit gateway connecting multiple VPCs. Obviously, this does not accurately depict Slack‚Äôs actual network architecture. </figcaption></figure>



<p>Fast forward several months later. From Laura Nolan‚Äôs post:</p>



<p><em>On January 4th, one of our Transit Gateways became overloaded. The TGWs are managed by AWS and are intended to scale transparently to us. However, Slack‚Äôs annual traffic pattern is a little unusual: Traffic is lower over the holidays, as everyone disconnects from work (good job on the work-life balance, Slack users!). On the first Monday back, client caches are cold and clients pull down more data than usual on their first connection to Slack. We go from our quietest time of the whole year to one of our biggest days quite literally overnight. Our own serving systems scale quickly to meet these kinds of peaks in demand (and have always done so successfully after the holidays in previous years). However, our TGWs did not scale fast enough.</em></p>



<figure><a href="https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg"><img loading="lazy" data-attachment-id="1782" data-permalink="https://surfingcomplexity.blog/lotsa-traffic/" data-orig-file="https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg" data-orig-size="1111,558" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="lotsa-traffic" data-image-description="" data-medium-file="https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg?w=300" data-large-file="https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg?w=1024" src="https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg?w=1024" alt="" width="770" height="386" srcset="https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg?w=1024 1024w, https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg?w=770 770w, https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg?w=150 150w, https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg?w=300 300w, https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg 1111w" sizes="(max-width: 770px) 100vw, 770px"></a><figcaption>Traffic surge overwhelms the transit gateway</figcaption></figure>



<p>This is as clear an example of saturation as you can get: the incoming load increased faster than the transit gateways were able to cope. What‚Äôs really fascinating from this point on is the role that saturation plays in interactions with the rest of the system.</p>



<p>As too many of us know, clients experience a saturated network as an increase in latency. When network latency goes up, the threads in a service spend more of their time sitting there waiting for the bits to come over the network, which means that CPU utilization goes down.</p>



<p>Slack‚Äôs web tier autoscales on CPU utilization, so when the network started dropping packets, the instances in the web tier spent more of their time blocked, and CPU went down, which triggered the AWS autoscaler to downscale the web tier. </p>



<figure><a href="https://lorinhochstein.files.wordpress.com/2021/02/server-waiting.jpg"><img data-attachment-id="1784" data-permalink="https://surfingcomplexity.blog/server-waiting/" data-orig-file="https://lorinhochstein.files.wordpress.com/2021/02/server-waiting.jpg" data-orig-size="619,548" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="server-waiting" data-image-description="" data-medium-file="https://lorinhochstein.files.wordpress.com/2021/02/server-waiting.jpg?w=300" data-large-file="https://lorinhochstein.files.wordpress.com/2021/02/server-waiting.jpg?w=619" src="https://lorinhochstein.files.wordpress.com/2021/02/server-waiting.jpg?w=619" alt="" srcset="https://lorinhochstein.files.wordpress.com/2021/02/server-waiting.jpg 619w, https://lorinhochstein.files.wordpress.com/2021/02/server-waiting.jpg?w=150 150w, https://lorinhochstein.files.wordpress.com/2021/02/server-waiting.jpg?w=300 300w" sizes="(max-width: 619px) 100vw, 619px"></a><figcaption>A server‚Äôs CPU utilization falls as it waits for packets that are being dropped by the overloaded transit gateway</figcaption></figure>



<p>However, the web tier has a scaling policy that rapidly upscales if thread utilization gets too high. (At Netflix, we use the term <em>hammer rule</em> to describe these type of emergency scale-up rule). </p>



<figure><a href="https://lorinhochstein.files.wordpress.com/2021/02/hammer.jpg"><img data-attachment-id="1786" data-permalink="https://surfingcomplexity.blog/hammer/" data-orig-file="https://lorinhochstein.files.wordpress.com/2021/02/hammer.jpg" data-orig-size="999,586" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="hammer" data-image-description="" data-medium-file="https://lorinhochstein.files.wordpress.com/2021/02/hammer.jpg?w=300" data-large-file="https://lorinhochstein.files.wordpress.com/2021/02/hammer.jpg?w=999" src="https://lorinhochstein.files.wordpress.com/2021/02/hammer.jpg?w=999" alt="" srcset="https://lorinhochstein.files.wordpress.com/2021/02/hammer.jpg 999w, https://lorinhochstein.files.wordpress.com/2021/02/hammer.jpg?w=150 150w, https://lorinhochstein.files.wordpress.com/2021/02/hammer.jpg?w=300 300w, https://lorinhochstein.files.wordpress.com/2021/02/hammer.jpg?w=768 768w" sizes="(max-width: 999px) 100vw, 999px"></a><figcaption>Too many threads are in use, waiting for those packets. Time for the scale-up hammer! </figcaption></figure>



<p>Once the new instances come online, an internal Slack service named <em>provision-service</em> is responsible for setting up these new instances so that they can serve traffic. And here, we see more saturation issues (emphasis mine).</p>



<p><em>Provision-service needs to talk to other internal Slack systems and to some AWS APIs. It was communicating with those dependencies over the same degraded network, and like most of Slack‚Äôs systems at the time, it was seeing longer connection and response times, and therefore was using more system resources than usual. The spike of load from the simultaneous provisioning of so many instances under suboptimal network conditions meant that provision-service hit two separate resource bottlenecks (the most significant one was the <strong>Linux open files limit</strong>, but we also exceeded an <strong>AWS quota limit</strong>).</em></p>



<p><em>While we were repairing provision-service, we were still under-capacity for our web tier because the scale-up was not working as expected. We had created a large number of instances, but most of them were not fully provisioned and were not serving. The large number of broken instances caused us to hit our <strong>pre-configured autoscaling-group size limits</strong>, which determine the maximum number of instances in our web tier.</em></p>



<figure><a href="https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg"><img data-attachment-id="1789" data-permalink="https://surfingcomplexity.blog/provision-service-1/" data-orig-file="https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg" data-orig-size="1057,836" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="provision-service-1" data-image-description="" data-medium-file="https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg?w=300" data-large-file="https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg?w=1024" src="https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg?w=1024" alt="" srcset="https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg?w=1024 1024w, https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg?w=150 150w, https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg?w=300 300w, https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg?w=768 768w, https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg 1057w" sizes="(max-width: 1024px) 100vw, 1024px"></a><figcaption>The provision service is saturated, as is the autoscaling group, although many of the instances aren‚Äôt serving traffic because they aren‚Äôt fully provisioned.</figcaption></figure>



<p>Through a combination of robustness mechanisms (load balancer panic mode, retries, circuit breakers) and the actions of human operators, the system is restored to health. </p>



<p>As operators, we strive to keep our systems far from the point of saturation. As a consequence, we generally don‚Äôt have much experience with how the system behaves as it approaches saturation. And that makes these incidents much harder to deal with. </p>



<p>Making things worse, we can‚Äôt ever escape the risk of saturation. Often we won‚Äôt know that a limit exists until the system breaches it.</p>
	</div></div>]]>
            </description>
            <link>https://surfingcomplexity.blog/2021/02/08/slacks-jan-2021-outage-a-tale-of-saturation/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140154</guid>
            <pubDate>Mon, 15 Feb 2021 07:40:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to best manage your tasks]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26140123">thread link</a>) | @jonmal
<br/>
February 14, 2021 | https://blog.doit.io/task-management/ | <a href="https://web.archive.org/web/*/https://blog.doit.io/task-management/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

           <!-- 
            <figure class="post-full-image">
                <img
                    srcset="/content/images/size/w300/2021/02/TaskManagement-1.jpg 300w,
                            /content/images/size/w600/2021/02/TaskManagement-1.jpg 600w,
                            /content/images/size/w1000/2021/02/TaskManagement-1.jpg 1000w,
                            /content/images/size/w2000/2021/02/TaskManagement-1.jpg 2000w"
                    sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px"
                    src="/content/images/size/w600/2021/02/TaskManagement-1.jpg"
                    alt="Task Management: How to Best Manage your Tasks"
                />
            </figure>
            -->

            <section>
                <div>
                    <p>Daily life is busy and getting busier every single day. Keeping up with it all can feel overwhelming at best and impossible at worst. We could all use some help organizing the various projects and associated deadlines we have at work, school, and home. </p><p>The key to meeting deadlines and staying on track to complete projects is effective task management.</p><p>Think about it. Projects are really just a set of tasks that need to be completed, one after another, until the project is done. Task management can help you stay on track, focus your efforts, and stop missing deadlines, big and small.</p><figure><img src="https://blog.doit.io/content/images/2021/02/TaskManagement.jpg" alt="" srcset="https://blog.doit.io/content/images/size/w600/2021/02/TaskManagement.jpg 600w, https://blog.doit.io/content/images/size/w1000/2021/02/TaskManagement.jpg 1000w, https://blog.doit.io/content/images/2021/02/TaskManagement.jpg 1200w" sizes="(min-width: 720px) 720px"><figcaption>Task Management</figcaption></figure><p>In this guide we will explain task management, share the skills you need to have to be a taskmaster, outline specific methods for approaching task management, and discuss how task management software can help.</p><p>Let‚Äôs do it.</p><ol><li><a href="#what-is-task-management?">What is Task Management?</a></li><li><a href="#5-essential-skills-for-effective-task-management">5 Essential skills for Effective Task Management</a></li><li><a href="#methods-to-use-for-task-management">Methods to use for Task Managements</a></li><li><a href="#why-should-you-use-task-management-software">Why you should use Task Management Software</a></li><li><a href="#key-features-of-the-best-task-management-software">Key features of Best Task Management Software</a></li><li><a href="#how-doit-io-can-help-you-manage-all-the-tasks-at-work-school-and-home">How Doit.io can help you</a></li></ol><h2 id="what-is-task-management">What is Task Management?</h2><p>All tasks have a life cycle of sorts. Task management is the process of taking a task through that entire cycle from beginning to completion. It involves aspects such as planning, assigning, tracking, delivering, and reporting.</p><!--kg-card-begin: markdown--><blockquote>
<p><span>Task management is the process of taking a task through that entire cycle from beginning to completion.</span></p>
</blockquote>
<!--kg-card-end: markdown--><p>The goal of task management is to ensure that the projects associated with the tasks are completed within the specified deadline. Task management is useful within work teams, families, or for those flying solo.</p><h2 id="5-essential-skills-for-effective-task-management">5 Essential Skills for Effective Task Management</h2><p>Not all taskmasters are created equal. Some lucky folks are born with a natural gift for managing tasks that make them especially effective. The rest of us can improve our task management results by working on the skills that are essential to the process.</p><p>Here are five skills that are considered essential for masterful task management.</p><ol><li><strong>Prioritization:</strong> Recognizing which tasks need urgent attention and which tasks can be put off until later is a key skill for task management.</li><li><strong>Flexibility:</strong> This skill goes hand in hand with prioritization. Things are going to come up that change the direction of any given project. Those who can successfully shift things around without a big fuss are going to be more effective than those who struggle with rigidity.</li><li><strong>Scheduling:</strong> The best task managers are those that can see the big picture of the end goal or project and schedule tasks in accordance with the larger timeline. Oftentimes this requires us to do a task that may not be a favorite, but is a necessary task to move things forward.</li><li><strong>Communication:</strong> This skill is found on the key skills list of everything from long term personal relationships to leadership. Task management is no different. Open, clear, and constant communication about the tasks at hand and to come is absolutely essential to successful task management.</li><li><strong>Delegation:</strong> Task management is not about shouldering the entire load alone. The best task managers are those that can identify who is best suited to which tasks so that progress is made in the most effective manner possible. Sometimes you will be best suited to the task. Other times, assigning tasks to others leads to much better outcomes.<br></li></ol><h2 id="methods-to-use-for-task-management">Methods to Use for Task Management </h2><p>The body of work around task management is vast. It‚Äôs such an important process that there have been countless books, coaching sessions, articles, and methods created around making it more effective. </p><!--kg-card-begin: markdown--><blockquote>
<p><span>Task management can help you stay on track, focus your efforts, and stop missing deadlines, big and small.</span></p>
</blockquote>
<!--kg-card-end: markdown--><p>We have identified a few methods that are especially worth consideration. They are actionable strategies that can be implemented as-is or tweaked to fit your personal preferences. Let‚Äôs take a look at some specific methods for task management.</p><h3 id="eat-that-frog">Eat That Frog</h3><p>This method has a silly name but it gets seriously impressive results! The moniker comes from an oft-cited alleged quote from Mark Twain. He is quoted to have said, ‚ÄúIf it‚Äôs your job to eat a frog, it‚Äôs best to do it first thing in the morning. And if it‚Äôs your job to eat two frogs, it‚Äôs best to eat the biggest one first.‚Äù Esteemed <a href="https://www.briantracy.com/">author and productivity expert Brian Tracy</a> ran with this evocative quote and turned it into a task management method and book by the same name.</p><!--kg-card-begin: markdown--><blockquote>
<p><span>If it‚Äôs your job to eat a frog, it‚Äôs best to do it first thing in the morning. And if it‚Äôs your job to eat two frogs, it‚Äôs best to eat the biggest one first.</span></p>
</blockquote>
<!--kg-card-end: markdown--><p>The main idea with the <a href="https://blog.doit.io/eat-that-frog/">Eat That Frog method</a> is that you should jump right into hard, important, and difficult to deal with tasks first. Once they are done you can move on to other tasks that are easier to swallow, if you will. It is beautiful in its simplicity. It works because it aligns your focus, helps you prioritize, and urges you to take action. </p><h3 id="the-ivy-lee-method">The Ivy Lee Method</h3><p>This task management method is also rooted in a <a href="https://www.businessinsider.com/ivy-lee-method-productivity-2018-9">historical account of folkloric proportions</a>. As the story goes, a man by the name of Charles Schwab (yes, <em>that</em> Charles Schwab) wanted to help his employees increase their productivity. He hired a consultant called Ivy Lee who promised to teach his employees a sure-fire method for improved productivity in just a few minutes. </p><p>Better still, Schwab would pay absolutely nothing up front. Lee asked that the employees use the method for a period of three months and then Schwab should pay Lee what he felt the method was worth. Ivy Lee was paid $25,000 way back in 1918 which is worth over $450,000 in today‚Äôs dollar.</p><!--kg-card-begin: markdown--><blockquote>
<p><span>The key to meeting deadlines and staying on track to complete projects is effective task management.</span></p>
</blockquote>
<!--kg-card-end: markdown--><p>The secret is out and now we all have access to the <a href="https://blog.doit.io/the-ivy-lee-method/">Ivy Lee Method</a>. It goes like this. Every day at the conclusion of your work day, spend a mere ten minutes thinking about what you have to accomplish tomorrow. Write down the six most important tasks and order them by priority. When you start work the next day, start with the most important task and work your way down one task at a time. Whatever is left undone should be included in the next day‚Äôs list. That‚Äôs it. </p><h3 id="get-things-done-or-gtd">Get Things Done or GTD</h3><p>This method comes from author David Allen whose book on the process remains popular since it‚Äôs publication nearly 20 years ago. It stands the test of time because it is fairly simple to implement and it actually works. The basic assumption is that our minds are cluttered with a flurry of things we need to remember or that we want to accomplish. If we can get those thoughts out of our heads and onto paper, our minds will be cleared and we can get things done.</p><p>GTD has five steps that we have<a href="https://blog.doit.io/getting-things-done-gtd-method/"> explained in greater detail</a> in a separate article. They are:</p><ol><li><strong>Capture:</strong> Dump all ideas, thoughts, ideas, tasks out of your mind and into the space or place of your choosing.</li><li><strong>Clarify:</strong> Go through the list and eliminate anything that is not actionable. From what is left, see if any tasks can be broken down into smaller tasks.</li><li><strong>Organize</strong>: At this stage, you take each task and prioritize it against the others.</li><li><strong>Reflect:</strong> The list must be reflected upon regularly as circumstances and priorities change. Make adjustments as needed.</li><li><strong>Engage:</strong> Get going! Start taking action and get things done, one by one.<br></li></ol><h3 id="the-eisenhower-matrix">The Eisenhower Matrix</h3><p>This method is aimed specifically at prioritization. It comes from the legendary productivity of former U.S. president, five-star army general, and all-around amazing accomplisher Dwight Eisenhower. The method was made popular by its inclusion in Stephen Covey‚Äôs perennial bestseller <a href="https://www.amazon.com/Habits-Highly-Effective-People-Powerful/dp/0743269519">The Seven Habits of Highly Effective People</a>.</p><!--kg-card-begin: markdown--><blockquote>
<p><span>Recognizing which tasks need urgent attention and which tasks can be put off until later is a key skill for task management.</span></p>
</blockquote>
<!--kg-card-end: markdown--><p>The core idea of the Eisenhower Matrix is determining whether or not a particular task is important, urgent, both, or neither. Importance and urgency are not the same thing. A task is important only if it moveImportance refers to how much a task moves us forward in achieving a long-term goal or mission. Urgency refers to how quickly something has to get done or how ‚Äúin the moment‚Äù it is. Urgency doesn‚Äôt always equal importance.</p><p>Tasks that are both urgent and important must be assigned the highest priority. Tasks that are urgent but not important should be delegated to someone else. Those that are important but not urgent should be planned. And those that are neither should be eliminated all together. For more <a href="https://blog.doit.io/the-eisenhower-matrix/">in-depth information on the Eisenhower Matrix</a>, check out our previous exploration of the method. </p><h2 id="why-should-you-use-task-management-software">Why Should You Use Task Management Software</h2><p>Based on the methods we have recommended and the skills we have identified as necessary to improve management of tasks you may be thinking that all you really need to become a taskmaster is a pen and paper. That would be true if you lived and worked completely on your own.</p><p>The reality is that our tasks are often commingled with the tasks of others. It is true in work teams, in classrooms, and in households all over the world. Collaboration is a regular part of our professional and personal lives. Task management software can make collaboration with others so much easier and tasks will be better managed, too.</p><p>Task management software allows you to implement all of the necessary components to the task management process more efficiently and effectively. Specifically, task management software improves visibility, access, communication, and collaboration. </p><ul><li>Visibility among all people involved in a particular project is improved. Everyone can see who is supposed to be doing what.</li><li>Access to tasks is instant and always available in the palm of your hand.</li><li>Easily delegate and communicate with others involved in the task or project.</li><li>Track and report progress to identify critical need areas and keep things moving.</li></ul><h2 id="key-features-of-the-best-task-management-software">Key Features of the Best Task Management Software</h2><p>If you decide to incorporate a task ‚Ä¶</p></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.doit.io/task-management/">https://blog.doit.io/task-management/</a></em></p>]]>
            </description>
            <link>https://blog.doit.io/task-management/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140123</guid>
            <pubDate>Mon, 15 Feb 2021 07:35:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Security features of the Intel/Windows platform secure boot process]]>
            </title>
            <description>
<![CDATA[
Score 95 | Comments 24 (<a href="https://news.ycombinator.com/item?id=26140122">thread link</a>) | @ingve
<br/>
February 14, 2021 | https://igor-blue.github.io/2021/02/04/secure-boot.html | <a href="https://web.archive.org/web/*/https://igor-blue.github.io/2021/02/04/secure-boot.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section itemprop="text">
        
        <ul id="markdown-toc">
  <li><a href="#introduction-and-system-architecture" id="markdown-toc-introduction-and-system-architecture">Introduction and System Architecture</a>    <ul>
      <li><a href="#buses" id="markdown-toc-buses">Buses</a></li>
      <li><a href="#more-components" id="markdown-toc-more-components">More Components</a></li>
      <li><a href="#the-flash-chip" id="markdown-toc-the-flash-chip">The Flash Chip</a></li>
    </ul>
  </li>
  <li><a href="#overview" id="markdown-toc-overview">Overview</a></li>
  <li><a href="#early-power-on" id="markdown-toc-early-power-on">Early power on</a></li>
  <li><a href="#bring-up-bup" id="markdown-toc-bring-up-bup">Bring-Up (BUP)</a></li>
  <li><a href="#cpu-initialization" id="markdown-toc-cpu-initialization">CPU initialization</a></li>
  <li><a href="#uefi-initialization" id="markdown-toc-uefi-initialization">UEFI initialization</a>    <ul>
      <li><a href="#loading-the-boot-loader" id="markdown-toc-loading-the-boot-loader">Loading the boot loader</a></li>
    </ul>
  </li>
  <li><a href="#windows-boot" id="markdown-toc-windows-boot">Windows Boot</a>    <ul>
      <li><a href="#winload" id="markdown-toc-winload">Winload</a></li>
      <li><a href="#hvci" id="markdown-toc-hvci">HVCI</a></li>
      <li><a href="#dynamic-root-of-trust-model-drtm" id="markdown-toc-dynamic-root-of-trust-model-drtm">Dynamic Root of Trust Model (DRTM)</a></li>
      <li><a href="#uefi-memory-attributes-table" id="markdown-toc-uefi-memory-attributes-table">UEFI Memory Attributes Table</a></li>
    </ul>
  </li>
  <li><a href="#other-oss" id="markdown-toc-other-oss">Other OSs</a></li>
  <li><a href="#more-protections" id="markdown-toc-more-protections">More Protections</a>    <ul>
      <li><a href="#iommu-and-dma-protections" id="markdown-toc-iommu-and-dma-protections">IOMMU and DMA protections</a></li>
      <li><a href="#secure-devices" id="markdown-toc-secure-devices">Secure Devices</a></li>
      <li><a href="#smm" id="markdown-toc-smm">SMM</a></li>
      <li><a href="#memory-reset-protections" id="markdown-toc-memory-reset-protections">Memory Reset protections</a></li>
    </ul>
  </li>
</ul>

<p>This blog post is an in-depth dive into the security features of the Intel/Windows platform boot process. In this post I'll explain the startup process through security focused lenses, next post we'll dive into several known attacks and how they were handled by Intel and Microsoft. My wish is to explain to technology professionals not deep into platform security why Microsoft's SecureCore is so important and necessary.</p>



<p>We must first begin with a brief introduction to the hardware platform. Skip this if you have read the awsome material available on the web about the Intel architecture, I'll try to briefly summarize it here.</p>

<p>The Intel platform is based on one or two chips. Small systems have one, the desktop and server ones are separated to a CPU complex and a PCH complex (PCH = Platform Controller Hub).</p>

<p><img src="https://igor-blue.github.io/images/image2020-4-19_14-3-0.png" alt="Intel architecture"></p>

<p>The CPU complex deals with computation. It holds the "processor" cores, e.g. Sunny Cove that implement the ISA, as well as cross core caches like the L3 cache, and more controllers that are grouped together as "the system agent" or the "uncore". The uncore contains the memory controller and display, e.g. GPU and display controller.</p>

<p>The PCH handles all other IO, including access to the firmware through SPI or eSPI, wifi, LAN, USB, HD audio, SMBus, thunderbolt and etc'. The PCH also hosts several embedded processors, like the PMC, the Power Management Controller.</p>

<p>An additional part of the PCH is a very important player in our story, the CSME, or Converged Security &amp; Management Engine, a i486 IP block (also called Minute IA). CSME is responsibly for much of the security model of Intel processors as well as many of the manageability features of the platform. The CSME block has its own dedicated ~1.5mb of SRAM memory and 128KB of ROM, as well as a dedicated IOMMU, called the A-Unit (that even has its own <em>acode</em> microcode) located in the CSME's <em>uncore</em>', thats allows access from ME to the main memory, as well as DMA to/from the main memory and using the main memory as an encrypted paging area ("virtual memory"). The CSME engine runs a customized version of the Minix3 microkernel, also recent versions have changed it beyond recognition adding many security features.</p>

<p><img src="https://igor-blue.github.io/images/image2020-4-19_14-14-4.png" alt="CSME structure"></p>

<h2 id="buses">Buses</h2>
<p>Lets use this post to also introduce the main interconnects in the system. The main externally facing interconnect bus is PCI-E, a fast bust that can reach 64GBps in its latest incarnations. A second external bus is the LPC, or Low Pin Count bus, a slow bus for connecting devices such as SPI flash, the TPM (explained below), and old peripherals such as PS/2 touchpads.</p>

<p>Internally the platform is based around the <strong>IOSF</strong>, or Intel On-chip System Fabric, which is a pumped up version of PCI-E that supports many additional security and addressing features. For addressing IOSF adds SourceID and DestID fields that contain the source and destination of any IOSF transaction, extending PCI-E Bus-Device-Function (BDF) addressing to enable routing over bridges. IOSF also extends addressing by adding support for multiple address root namespaces, currently defining three: RS0 for host memory space, RS1 for CSME memory space, and RS2 for the Innovation-Engine (IE), another embedded controller currently present only on server chipsets.
There are two IOSF busses in the PCH - the Primary Fabric and the Sideband Fabric. The Primary Fabric is high speed, connecting the CPU to the PCH (through a protocol call DMI), as well as high speed devices such as Gigbait Ethernet, WiFi and eSPI. The Sideband Fabric is used to connect the CSME to low-speed devices, including the PMC (Power Management Controller), the RNG generator, GPIO pins, USB, SMBus, and even debugging interfaces such as JTAG.</p>

<h2 id="more-components">More Components</h2>
<p>Another interesting component is the <strong>ITH</strong>, or Intel Trace Hub, which is codenamed North Peak (NPK). The ITH can trace different internal hardware component (VIA - Visualization of Internal Signals, ODLA - On-chip logic analyzer, SoCHAP - SOC performance counters, IPT - Intel Process Trace, AET - Intel Architecture Trace), and external component like CSME, the UEFI firmware, and you can even connect it to ETW. This telemetry eventually finds its way to Intel in various methods.</p>

<p><img src="https://igor-blue.github.io/images/image2020-4-22_0-52-2.png" alt="Intel Trace Hub"></p>

<p>The <strong>TPM</strong> is designed to provide a tamper proof environment to enforce system security through hardware. It implements in hardware many essential functions: sha1 &amp; sha256 hashing algorithms, many crypto and key derivation functions, measurment registers call the Platform Configuration Registers (PCRs), a secret key - Endorsment Key - used to derive all other keys, and non-volatile storage slots for storing keys and hashes. Discrete TPM chips (i.e. those that are a separate chip on the mainboard or SOC and connected through the LPC) are call dTPMs, or can be implemented in the CSME module's firmware and called fTPMs.</p>

<p>The TPM's <strong>PCR</strong> are initialized to zero when the platform boots and are filled up with measurements through the boot process. PCRs 0-15 are intended for "static" use - they reset when the platform boots; They are supposed to give the OS loader a view of the platform initialization state.
PCRs 17-22 are for "dynamic" use - they get reset on each secure launch (GETSEC[SENTER]); They are supposed to be used by the attestation sofware that checks if the OS is trusted.</p>

<h2 id="the-flash-chip">The Flash Chip</h2>
<p>SPI flash has 5 major regions: the Descriptor regions, the CSME region, the Gigabit Ethernet Region, the Platform Data Region, and the UEFI region. In the image below you can see an example of how the flash is organized.</p>

<p><img src="https://igor-blue.github.io/images/image2019-11-11_1-18-53_1.png" alt="Partition regions in SPI flash">
<img src="https://igor-blue.github.io/images/image2019-11-11_1-19-12.png" alt="Serial flash sizes"></p>

<p>Later versions added more regions:</p>

<p><img src="https://igor-blue.github.io/images/image2019-11-25_22-49-41.png" alt="SPI region evolution"></p>

<p>These regions are categorized as fault tolerant (FTPs) and non fault tolerant partitions (NFTPs).
Fault tolerant partitions are critical for boot, and verified during early boot (like the RBE, the CSME ROM Boot extensions will discuss in a few paragraphs). If verification fails - the system does not boot. Examples of non fault tolerant partitions are the Integrated Sensor Hub (or ISH) firmware.</p>

<p>SPI flash protection is applied at multiple levels: On the flash chip itself, in the SPI flash controller (in the PCH), in UEFI code and in CSME code.</p>

<p>The SPI controller maps the entire flash to memory at a fixed address, so reads/writes are usually done simply by reading/writing memory. The SPI controller translates this to flash-specific commands issued on the SPI bus, using a table of flash-specific commands stored in the flash descriptor region.
This is called "Hardware Sequencing", meaning the SPI controller issues the actual SPI commands
When hardware sequencing is in use, the SPI controller enforces several flash protections based on the masters region table in the flash (but can be overriden using a hardware PIN).</p>

<p>The SPI controller also implements a FLOCKDN flag. FLOCKDN is a write-once bit that, when set, disables use of software sequencing and modification of the PR registers until the next reset. The CSME sets this in the Bring-UP process (bup_storage_lock_spi_configuration(), see below). This happens when the UEFI notifies it that it is at the end of POST. In addition to the region access control table, the SPI controller also has an option to globally protect up to five regions in the flash from write access by the host using five registers, called Protected Registers (PRs), which are intended for the UEFI firmware to protect itself from modification while the OS is running.</p>

<p>It is also possible to issue direct flash commands using "Software Sequencing" by writing to the OPTYPE/OPMENU registers, since this can be used circumvent the SPI-enforced protections, software sequencing is usually disabled after POST using the FLOCKDN bit.</p>

<p>How is the flash updated?</p>

<p>UEFI region is updated through an UEFI capsule, This update happens during POST, before PRs and FLOCKDN is set, therefore, the BIOS region is still accessible to UEFI code.</p>

<p>Many OEMS have then own UEFI anti-tamper protections. For example, HP has SureStart on laptops and workstations, and Dell has TrustedDevice SafeBIOS. SafeBIOS copies bad firmware images to the EFI system partition, and the Dell Trusted Device software on Windows sends their hashes plus the hash of the UEFI firmware currently in memory to a Dell cloud server (*.delltrusteddevicesecurity.com) to check against a list of "authorized" hashes. Server platforms have similiar protections, including iLO for HP and iDRAC in Dell.
The CSME region can usually be updated only from within the CSME. However, for more complicated upgrades CSME can temporarily unlock the ME region for host read &amp; write.</p>


<p>In the next sections we'll look over all the stages of boot.
<img src="https://igor-blue.github.io/images/image2020-4-20_14-56-23.png" alt="Serial flash sizes"></p>


<p>Boot starts the PMC, the Power Management Controller.
In modern Intel systems the PMC is an ARC core and its the first controller to execute code once electricity is applied to the system. We'll talk more about PMC in a later post as its quiet interesting and has its own microcode and firmware, and event generates telemetry over the IOSF SB bus (which we'll talk about in a moment).</p>

<p>While the PMC does its init, the rest of the system is held at bay at a RESET state.</p>

<p>The next part to start running is the CSME. Recall from the first post in the series, CSME, or Converged Security and Managment Engine is a MinuteIA (i486 CPU IP block) embedded in the Platform Controller Hub (PCH).
The CSME begins running from its own embedded 128KB ROM - the CSME-ROM. This ROM is protected with a hardware fuse that is burned by Intel during production.
When started the CSME ROM starts like a regular 486 processor BIOS - in the reset vector in real mode. Its first order of business is to ‚Ä¶</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://igor-blue.github.io/2021/02/04/secure-boot.html">https://igor-blue.github.io/2021/02/04/secure-boot.html</a></em></p>]]>
            </description>
            <link>https://igor-blue.github.io/2021/02/04/secure-boot.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140122</guid>
            <pubDate>Mon, 15 Feb 2021 07:34:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Database Inside Your Codebase]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26139884">thread link</a>) | @_query
<br/>
February 14, 2021 | https://feifan.blog/posts/the-database-inside-your-codebase | <a href="https://web.archive.org/web/*/https://feifan.blog/posts/the-database-inside-your-codebase">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
<div>
  <article>
    
      <p><img src="https://files.tanagram.app/file/tanagram-data/prod-feifans-blog/joshua-sortino-LqKhnDzSF-8-unsplash.jpg">
      </p>
<p>
Navigating codebases of any meaningful size is difficult. Most of a programmer‚Äôs time is spent jumping through the codebase, reading or skimming to build a mental model of the constructs and conventions within it. These constructs ‚Äî among them: the DSLs, interfaces, and taxonomy of types that exist ‚Äî are arguably the most important precursor to understanding where and how to make changes. But these constructs only exist in programmers‚Äô heads. It‚Äôs difficult or impossible to navigate most codebases through the lens of those constructs; programmers lack ‚Äúcode browsers‚Äù that present the underlying code independently of files and the filesystem hierarchy. Yet code browsers that can do so ‚Äî and we‚Äôll look at some examples below ‚Äî would be incredibly useful. This is because instances of these constructs can be thought of as records in a database, albeit an ad-hoc, poorly-specified database that can only be queried through carefully-crafted regexes<a href="#fn:1" id="fnref:1" title="see footnote">1</a>.</p>
<p>
In simple cases, some constructs manifest as naming conventions: prefixes in a name may be a rudimentary way to namespace classes<a href="#fn:2" id="fnref:2" title="see footnote">2</a>, while suffixes may be a rudimentary way to group classes or identify their type<a href="#fn:3" id="fnref:3" title="see footnote">3</a>. But these are easy examples; many patterns are much more subtle.</p>
<h2>
‚ÄúWhere is this used?‚Äù</h2>
<p>
Imagine figuring out ‚Äúwhere is this used?‚Äù, for various types of ‚Äúthis‚Äù:</p>
<p>
Most code editors (perhaps paired with a <a href="https://microsoft.github.io/language-server-protocol/">language server</a>) can show you where local variables are used. This usually also works for finding where methods are invoked ‚Äî although perhaps less reliably in dynamic-dispatch languages, or languages without types.</p>
<p>
What if you want to find where instances of a particular model get created? There may be multiple ways to create a model, so this isn‚Äôt super simple. In Rails, for example, there‚Äôs two built-in ways to create a model: you can either call <code>.new</code> to create a new instance in memory followed by <code>.save</code> to persist it to the database, or call <code>.create</code> to automatically do both. Your particular codebase might have additional wrappers for doing this that you‚Äôre supposed to use. Even worse, imagine that sometimes you create a <code>.new</code> instance, then set some properties on it over the next few lines, then finally call <code>.save</code>. Something like this:</p>
<pre><code>user = User.new
user.email = '<a href="https://feifan.blog/cdn-cgi/l/email-protection" data-cfemail="bed6dbd2d2d1fedbc6dfd3ced2db90ddd1d3">[email&nbsp;protected]</a>' unless self.anonymous?
user.save</code></pre>
<p>
Conceptually, that‚Äôs still code that creates an instance of a particular model. But with the intervening syntax, this would be a difficult case to find with <code>grep</code>.</p>
<h2>
Static config</h2>
<p>
At <a href="https://stripe.com/">Stripe</a>, where I work, we have a lot of code for jobs that need to run at certain times each day. For example, we might need to move funds from one financial partner to another at noon UTC each day. Each of these jobs has configuration code describing when and how it should be run, implemented as a <a href="https://www.jetbrains.com/mps/concepts/domain-specific-languages/">DSL</a>. This config might look something like this:</p>
<pre><code>run_config RunConfig.new(
  job_name: 'partner-daily-funding',
  env_vars: self.config_env,
  cron: RunConfig::Cron.new(
    schedule: { hour: 12, minute: 0 }
  ),
  owning_team: Company::Team::Liquidity
)</code></pre>
<p>
In our codebase, we have hundreds of these jobs, each with their own <code>run_config</code>. If you look at this codebase as a database, you can imagine these jobs being rows in a <code>jobs</code> table, where the fields on each row correspond to the parameters provided to the <code>RunConfig</code> class. </p>
<p>
Wouldn‚Äôt it be great to be able to browse all these jobs in a table? Maybe you could perform some basic operations on this data: searching for specific jobs by name or owning team; sorting by the time-of-day they‚Äôre scheduled to run; filtering for jobs owned by your team that have errored in the past week. Maybe you could edit the <code>run_config</code> from that interface (like you might edit a spreadsheet) and have it automatically make the corresponding change in the source code (or open a PR). Maybe you could even compute some aggregations on this data ‚Äî for example, if you‚Äôre introducing a new job that requires some expensive computation, maybe you‚Äôd like to know which hours have the fewest other jobs scheduled. And of course, this job browser should be bidirectional with respect to the codebase ‚Äî there should be a button beside each entry that shows the code for the job inline or opens the corresponding code in your editor.</p>
<h2>
Diffused concepts</h2>
<p>
Codebases typically contain logical concepts that are implemented across multiple pieces of code. This is often the case when you need to create multiple files to implement a particular feature.</p>
<p>
For example, in Rails, a ‚Äúresource‚Äù is collectively implemented across a line in the router, a model file, a controller file, and a bunch of view files. Rails even ships with a code generator to <a href="https://github.com/rails/rails/blob/5f3ff60084ab5d5921ca3499814e4697f8350ee7/railties/lib/rails/generators/rails/resource/USAGE">create some of these files</a> for you. But despite resources being a core concept when working with Rails, there‚Äôs no good way to browse the resources in your codebase<a href="#fn:4" id="fnref:4" title="see footnote">4</a>. There‚Äôs no good way to filter or query your codebase either ‚Äî you can‚Äôt, for example, see which resources support JSON vs XML params. </p>
<p>
For another example, consider pubsub (aka emitter-consumer) pipelines. In web services, when you have processing that can happen ‚Äúin the background‚Äù, one service will publish an event; another service subscribes to that event and will do the background processing on its own when it receives the event. Often, these will form event ‚Äúpipelines‚Äù or trees where an event consumer will emit additional events that are consumed by yet other services. These pipelines are concepts that developers talk about (as in, the ‚Äúaccount creation pipeline‚Äù or ‚Äúfunding reconciliation pipeline‚Äù), but in most codebases the pipeline itself isn‚Äôt declared or reified anywhere in the code.</p>
<p>
If you‚Äôre looking at code that emits an event, how do you find the consumers? If you‚Äôre lucky, the event has a unique, literal name and the consumer uses that name literally as well. But maybe some subscribers are using wildcard event names, or names generated by string concatenation, and that becomes a lot harder to grep for. Likewise, if you‚Äôre looking at a consumer of an event, how do you find the locations in the codebase that could emit that event<a href="#fn:5" id="fnref:5" title="see footnote">5</a>?</p>
<p>
Wouldn‚Äôt it be great to be able to browse those pipelines in a table or perhaps a directed graph<a href="#fn:6" id="fnref:6" title="see footnote">6</a>? Maybe that graph would support some basic operations on this data: searching for specific publishers or subscribers by class name or event name; filtering for pipelines that have run into errors; maybe even showing the flow of a particular event given an event ID<a href="#fn:7" id="fnref:7" title="see footnote">7</a>. And of course, this pipeline browser should be bidirectional with respect to the codebase ‚Äî there should be a button beside each graph node that shows the code for the publisher or subscriber inline or opens the corresponding code in your editor.</p>
<p>
For a final example, consider code that has functionality inherited from elsewhere. Some environments let you see a <a href="https://www.jetbrains.com/help/idea/viewing-structure-of-a-source-file.html">list of inherited properties</a> or methods, but this isn‚Äôt possible for more specialized cases. At Stripe, we have code that implements shell scripts that can take command-line arguments and flags. These arguments are defined via a DSL in the implementing code, but these commands can be subclassed, and there‚Äôs no way to see what the available arguments are while working in the subclass.</p>
<h2>
Philosophy</h2>
<p>
I think it‚Äôs important to consider these problems not as disparate cases in need of bespoke tooling, but as a <em>class</em> of problems characterized by a lack of access to the data structures embedded within codebases. Just like SQL databases and spreadsheets provide a singular querying abstraction and a set of visualization primitives that can be applied to any kind of data, programming environments need a singular querying abstraction and set of visualization primitives that can be applied to the concepts lurking in codebases. Getting there does <em>not</em> mean using proprietary drag-and-drop visual programming interfaces where the introspection capabilities are limited to whatever the programming environment happens to have implemented. Just the opposite ‚Äî you should still be able to do whatever you want with your code (including treating it as plain-text files), <em>and also</em> have access to more advanced introspection tools that can query and slice your code ‚Äî tools that let you easily understand and navigate complex codebases to reduce the <em>incidental complexity</em> of building software.</p>
<h2>
Solutions</h2>
<p>
I don‚Äôt have a solution to sell you here (at least, not yet!). But <a href="https://twitter.com/hirday_g/status/1356657607381946369">by popular demand</a> I think it‚Äôs worthwhile to at least discuss principles that solutions should embody and directionally-related prior art. </p>
<p>
To start with a simple example, see <a href="https://ihp.digitallyinduced.com/">IHP</a>, a full-stack web framework similar to Rails. It comes with a web interface for manipulating your project‚Äôs codebase and database schema. <a href="https://youtu.be/UbDtS_mUMpI?t=102">One point in the introduction video</a> showed changes being made in the visual schema editor being automatically reflected in the SQL code that describes the database schema ‚Äî and changes being made to the SQL code being bidirectionally reflected in the visual schema editor. </p>
<p>
For a more in-depth example, consider <a href="https://pharo.org/">Pharo</a>, a Smalltalk environment. ‚ÄúEnvironment‚Äù in this case means that it feels like you‚Äôre using a custom OS (including global menus, idioms, and keyboard and mouse conventions) designed specifically for browsing, writing, and debugging programs in the Smalltalk programming language<a href="#fn:8" id="fnref:8" title="see footnote">8</a>. The holistic integration of these tools is important. Unlike the programming environments we cobble for ourselves today ‚Äî where the editor is agnostic of the language and runtime and other tools like debuggers, inspectors, and code browsers are tacked on (if they exist at all) ‚Äî it‚Äôs worth thinking about what an entire computing experience <em>for</em> writing and building custom tools might look like<a href="#fn:9" id="fnref:9" title="see footnote">9</a>.</p>
<p>
Pharo is also interesting because of its Class Browser, which looks like this:</p>
<p>
  <img src="https://files.tanagram.app/file/tanagram-data/prod-feifans-blog/database-codebase-pharo-browser.png" alt="Pharo class browser">
</p>
<p>
This browser breaks free from the source code <em>file</em> as the atomic unit of browsing; instead, it allows the user to browse one method at a time. Making the ‚Äúunit of browsing‚Äù ‚Ä¶</p></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://feifan.blog/posts/the-database-inside-your-codebase">https://feifan.blog/posts/the-database-inside-your-codebase</a></em></p>]]>
            </description>
            <link>https://feifan.blog/posts/the-database-inside-your-codebase</link>
            <guid isPermaLink="false">hacker-news-small-sites-26139884</guid>
            <pubDate>Mon, 15 Feb 2021 06:52:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The XDG base directory specification and Rust]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26139821">thread link</a>) | @pabs3
<br/>
February 14, 2021 | https://blog.liw.fi/posts/2021/02/14/xdg-base-dirs-rust/ | <a href="https://web.archive.org/web/*/https://blog.liw.fi/posts/2021/02/14/xdg-base-dirs-rust/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article class="page">
    

    

    <div id="pagebody">
      <section>
	<p>Edited to clarify <code>XDG_RUNTIME_DIR</code> based on feedback from smcv.</p>
<p>The <a href="https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html">XDG base directory</a> specification exists to address the problem of where programs should look for various kinds of files on a Unix system. Traditionally, in Unix, a per-program, per-user configuration file is stored as a ‚Äúdot file‚Äù: program <code>foo</code> would expect to find a file such as <code>$HOME/.foorc</code> at startup, and if it doesn‚Äôt exist, read <code>/etc/foorc</code>. Or possibly both, and possibly more. This has led the home directories of Unix users to have tens, even hundreds of configuration files. Mine has currently 83 such files, but I pruned it brutally before the holidays. The specification specifies ways in which this mess can be reduced, as long as programs follow it.</p>
<p>The specification deals with four types of files:</p>
<ul>
<li>configuration files</li>
<li>data files</li>
<li>files with cached data</li>
<li>small files needed at run time for interprocess communication</li>
</ul>
<p><strong>Configuration files</strong> affect how a program does things. The specification assumes a model where a user can override per-system defaults, and those can override defaults shipped with the program, and those in turn can override built-in, hardcoded defaults. Thus, configuration files need to be looked up in a number of places.</p>
<p><strong>Data files</strong> are files that the program needs or creates. Typically, these would be data such as icons, templates, and game levels, supplied with the program, but can also be things such as cookies saved by a web browser. Documents that the user creates using the program would typically be data files in this context.</p>
<p><strong>Cache data</strong> is meant to be not important. Ideally, the user can delete them at any time without anything breaking.</p>
<p><strong>Runtime files</strong> for interprocess communication includes things like the sockets for the GnuPG command line tool and the GPG agent to communicate. They‚Äôre meant to exist only while the user is logged in, and should not take much disk space.</p>
<p>There are many other kinds of files, of course, but this is what‚Äôs in scope of the specification.</p>

<p>For all directories, the specification provides defaults and a way to override the default using an environment variable.</p>
<p>For all four types of files, there is a single directory where the program can write files of that type. For configuration and data files, there is also a list of fallback directories where it can look up files not found in its single directory.</p>
<table>
<thead>
<tr>
<th>Type of file</th>
<th>Environment variable</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>configuration</td>
<td><code>XDG_CONFIG_HOME</code></td>
<td><code>$HOME/.config</code></td>
</tr>
<tr>
<td>data</td>
<td><code>XDG_DATA_HOME</code></td>
<td><code>$HOME/.local/share</code></td>
</tr>
<tr>
<td>cached data</td>
<td><code>XDG_CACHE_HOME</code></td>
<td><code>$HOME/.cache</code></td>
</tr>
<tr>
<td>runtime file</td>
<td><code>XDG_RUNTIME_DIR</code></td>
<td>no default</td>
</tr>
<tr>
<td>fallback config</td>
<td><code>XDG_CONFIG_DIRS</code></td>
<td><code>/etc/xdg</code></td>
</tr>
<tr>
<td>fallback data</td>
<td><code>XDG_DATA_DIRS</code></td>
<td><code>/usr/local/share/:/usr/share/</code></td>
</tr>
</tbody>
</table>
<p>The usual value for <code>XDG_RUNTIME_DIR</code> is <code>/run/user/$UID</code>. The spec says that if it isn‚Äôt set, there is no default. Some software falls back to <code>~/.cache</code> with a warning to the user, other software disables any features that requires the runtime directory.</p>
<p>is the current customary location for Linux. It‚Äôs not specified by the XDG base directory specification.</p>
<p>If any of the environment variables contains a directory that is not an absolute path name, that value should be ignored.</p>
<p>For each directory, the specification gives a base directory. Each program should put its files in a subdirectory of the base directory: program foo should use <code>$XDG_CONFIG_DATA/foo</code> for example.</p>

<p>The problem of finding files of various kinds exists across operating systems. A portable program should use an abstraction that is implemented in the correct way for each platform. The XDG specification is specific to Unix, but the <em>concepts</em> are portable.</p>
<p>I lack experience with Windows and Macintosh systems to give details of what the correct places for each type of file are on those systems. However, in my quest to find a library to implement XDG for my own use, on Unix, I might as well look for something that supports other platforms as well.</p>

<p>The freedesktop.org project also defines a way to specify where certain kinds of user data goes: documents, pictures, music, etc. This is known as the <a href="https://www.freedesktop.org/wiki/Software/xdg-user-dirs/">xdg-user-dirs</a> specification. Again, this is for Unix, and desktop software on free Unix systems, but the concepts are intentionally portable to other systems. This is also an important specification, but not relevant to me at this time.</p>

<p>For a software project written in Rust that I work on with a friend, we want to support the XDG base directory specification and we would like to support it well. The specification is not very difficult to implement, but we would prefer to use an existing crate, and there are many options. This blog post is a brief evaluation of the options I found.</p>
<p>I searched <a href="https://crates.io/search?q=xdg">https://crates.io/search?q=xdg</a> to find candidates. There‚Äôs a lot of crates for this. However, some seem to be empty placeholders, which I‚Äôm not even listing.</p>
<ul>
<li><a href="https://crates.io/crates/cap-directories">cap-directories</a></li>
<li><a href="https://crates.io/crates/directories">directories</a></li>
<li><a href="https://crates.io/crates/directories-next">directories-next</a></li>
<li><a href="https://crates.io/crates/dirs">dirs</a></li>
<li><a href="https://crates.io/crates/dirs2">dir2</a></li>
<li><a href="https://crates.io/crates/dirs-2">dirs-2</a></li>
<li><a href="https://crates.io/crates/dirs-next">dirs-next</a></li>
<li><a href="https://crates.io/crates/platform-dirs">platform-dirs</a></li>
<li><a href="https://crates.io/crates/xdg">xdg</a>
<ul>
<li>only for Unix</li>
</ul></li>
<li><a href="https://crates.io/crates/xdg-basedir">xdg-basedir</a>
<ul>
<li>only for Unix</li>
</ul></li>
<li><a href="https://crates.io/crates/xdg-user-macros">xdg-user-macros</a>
<ul>
<li>only for Unix</li>
</ul></li>
</ul>
<p>Of these, I‚Äôm dropping the ones that are only for Unix. The various variants of ‚Äúdirs‚Äù are a low-level library, and used by the ‚Äúdirectories‚Äù variants, so I‚Äôll concentrate on the higher level ones. Of those, the ‚Äúdirectories-next‚Äù create seems newer than the ‚Äúdirectories‚Äù one, so I"ll prefer that one. This leaves three:</p>
<ul>
<li><a href="https://crates.io/crates/cap-directories">cap-directories</a></li>
<li><a href="https://crates.io/crates/directories-next">directories-next</a></li>
<li><a href="https://crates.io/crates/platform-dirs">platform-dirs</a></li>
</ul>

<p>I‚Äôm going to evaluate the crates using the following approach: I‚Äôll write a small program that uses the crate and writes out the paths to the four data directories. I‚Äôll then run it with the environment variables set to various values and check that the results are as expected.</p>
<ul>
<li><p>Check defaults: run without any <code>XDG_</code> variables set in the environment; expect the following results (my home directory is <code>/home/liw</code> and my UID is 1000):</p>
<ul>
<li>config: <code>/home/liw/.config</code></li>
<li>config dirs: <code>/etc/xdg</code></li>
<li>data: <code>/home/liw/.local/share</code></li>
<li>data dirs: <code>/usr/local/share/:/usr/share/</code></li>
<li>cache: <code>/home/liw/.cache</code></li>
<li>runtime: <code>/run/user/1000</code></li>
</ul></li>
<li><p>Set each environment variable to an empty value and check that the output has the default value.</p></li>
<li><p>Set each environment variable to a special value and check that the output has that value.</p></li>
<li><p>Set each variable to a value that is not an absolute, and check that the output has the default value.</p></li>
</ul>

<h2 id="cap-directories">cap-directories</h2>
<p>This crate doesn‚Äôt seem to provide path names, only structs that represent the corresponding ‚Äúopen directory‚Äù. This may be a better abstraction for some use cases, but seems overkill for others, and constricting. How would a program tell the user at what path it expects a configuration file, for example?</p>
<h2 id="platform-dirs">platform-dirs</h2>
<p>The documentation is not as clear as it could be, but I got things working, so I guess it‚Äôs good enough.</p>
<p>This crate has a ‚Äústate directory‚Äù, but not a ‚Äúruntime directory‚Äù and doesn‚Äôt seem to have that at all. In fact, the README says it‚Äôs been removed. This disqualifies it from my/our use, I think.</p>
<h2 id="directories-next">directories-next</h2>
<p>This seems quite straightforward. Documentation is OK.</p>
<p>This crate insists that <code>XDG_RUNTIME_DIR</code> is set and does not have a default. I can live with that, even if it‚Äôs not great.</p>

<p>Of the three crates I looked at, <code>directories-next</code> is the clear winner.</p>

<p>The source code I wrote, what there is of it, is at <a href="https://gitlab.com/larswirzenius/xdg-experiments/">https://gitlab.com/larswirzenius/xdg-experiments/</a>.</p>

      </section>
    </div>

    
  </article></div>]]>
            </description>
            <link>https://blog.liw.fi/posts/2021/02/14/xdg-base-dirs-rust/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26139821</guid>
            <pubDate>Mon, 15 Feb 2021 06:42:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Top Indicators of a Market Bubble (2014)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26139808">thread link</a>) | @anm89
<br/>
February 14, 2021 | https://www.henssler.com/top-indicators-of-a-market-bubble/ | <a href="https://web.archive.org/web/*/https://www.henssler.com/top-indicators-of-a-market-bubble/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p><span><span><a href="https://www.henssler.com/storage/radio/051814-investment.mp3"><img src="https://www.henssler.com/wp-content/uploads/2019/03/listenbtn.png?__SQUARESPACE_CACHEVERSION=1310433640184" alt="Top Indicators of a Market Bubble 1" title="Top Indicators of a Market Bubble 1"></a></span></span><span><span><a href="https://itunes.apple.com/us/podcast/money-talks-radio-show-atlanta/id286345195" rel="noopener"><img src="https://www.henssler.com/wp-content/uploads/2019/03/itunes.png?__SQUARESPACE_CACHEVERSION=1309017511163" alt="Top Indicators of a Market Bubble 2" title="Top Indicators of a Market Bubble 2"></a></span></span></p>

<p><strong>Question:</strong></p>
<p>What are the signs of a market bubble? I hear market pundits yammering about the next big bubble and while I‚Äôm not trying to time the market, I don‚Äôt want my small-cap holdings swept up in a big burst.</p>
<p><strong>Answer</strong>:</p>
<p>At Henssler Financial, we believe the key sign of a market bubble is when investors are coming up with different rationales or metrics to value a stock. For example, if earnings are not good, investors will look to obscure metrics like potential cash flow, number of users or potential price-to-earnings in 2025. If a company does not have earnings, it is of no value to us. One of the biggest bubbles we see is Amazon.com (NASDAQ: AMZN) because the company is able to keep increasing its sales; however, it is not making any money.</p>
<p>Companies most prone to bubbles are those with rapid sales growth. While a new company may reinvest revenues into company growth, eventually that has to stop and the company has to make money. During bubbles, low quality companies will often have large P/E ratios.</p>
<p>Bubbles also happen when the market is priced irrationally. In 2000, the entire market was trading at 30 times earnings. The Technology sector was trading nearly 73 times earnings, while some individual stocks in Technology were trading at 100 times earnings. The current market P/E is 16.5, which is in line with the long-term average. When a market starts trading at 30 times earnings, it is time to be concerned.</p>
<p>There is also a difference between being overvalued and a bubble. The stock market will always go up and down. It‚Äôs no secret stocks are more expensive today than they were a year ago. However, investors still need to invest money today. An investor needs to compare the relative valuation of stocks to other assets. The market may not be cheap, but it may be the best place to be long term. A 10-year U.S. Treasury yields 2.49%. You can get a high-quality stock that pays more than that in dividends and has the potential to increase in value.</p>
<p>We think the current market is fairly priced. At Henssler Financial we believe you should Live Ready, and that includes understanding the signs in the market. &nbsp;If you have questions regarding your investments, the experts at Henssler Financial will be glad to help. You may call us at 770-429-9166 or email at <a href="mailto:experts@henssler.com">experts@henssler.com</a>.</p>
<h5>Disclosures</h5>
<h5>This article is meant to provide valuable background information on particular investments, NOT a recommendation to buy. The investments referenced within this article may currently be traded by Henssler Financial. All material presented is compiled from sources believed to be reliable and current, but accuracy cannot be guaranteed. The contents are intended for general information purposes only. Information provided should not be the sole basis in making any decisions and is not intended to replace the advice of a qualified professional, such as a tax consultant, insurance adviser or attorney. Although this material is designed to provide accurate and authoritative information with respect to the subject matter, it may not apply in all situations. Readers are urged to consult with their adviser concerning specific situations and questions. This is not to be construed as an offer to buy or sell any financial instruments. It is not our intention to state, indicate or imply in any manner that current or past results are indicative of future profitability or expectations. As with all investments, there are associated inherent risks. Please obtain and review all financial material carefully before investing. Henssler is not licensed to offer or sell insurance products, and this overview is not to be construed as an offer to purchase any insurance products.</h5>
<p><a href="#" rel="nofollow" onclick="window.print();if(typeof(_gaq) != 'undefined') { _gaq.push(['_trackEvent','PRINTFRIENDLY', 'print', 'NULL']);
          }else if(typeof(ga) != 'undefined') {  ga('send', 'event','PRINTFRIENDLY', 'print', 'NULL'); } return false;" title="Printer Friendly, PDF &amp; Email"><img src="https://cdn.printfriendly.com/buttons/printfriendly-pdf-email-button-md.png" alt="Print Friendly, PDF &amp; Email" title="Top Indicators of a Market Bubble 3"></a></p></div></div></div>]]>
            </description>
            <link>https://www.henssler.com/top-indicators-of-a-market-bubble/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26139808</guid>
            <pubDate>Mon, 15 Feb 2021 06:38:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Developer Tools for the AtariST from HiSoft (1988)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26139741">thread link</a>) | @pjmlp
<br/>
February 14, 2021 | http://stformat.com/staf01/pages_nx1500/staf01_012.jpg | <a href="https://web.archive.org/web/*/http://stformat.com/staf01/pages_nx1500/staf01_012.jpg">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>http://stformat.com/staf01/pages_nx1500/staf01_012.jpg</link>
            <guid isPermaLink="false">hacker-news-small-sites-26139741</guid>
            <pubDate>Mon, 15 Feb 2021 06:26:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[StockMonitor ‚Äì my fundamental analysis bot]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26139321">thread link</a>) | @RikNieu
<br/>
February 14, 2021 | https://www.riknieu.com/stockmonitor/ | <a href="https://web.archive.org/web/*/https://www.riknieu.com/stockmonitor/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
				<p>I finally wrote a piece of software that I've wanted for years - a bot that regularly monitors the stock market for good, fundamentally sound companies that are undervalued, and then lets me know as soon as it finds them.</p><h2 id="automating-value-investing">Automating value investing</h2><p>I like the idea of buying something at a bargain that would likely truly increase in value over time, not because of it being a fad or fashion, but because it is really produces a net benefit to its stakeholders. Damn, that line sounded a bit more corporate than I intended, but it's relatively succinct and I stand by it.</p><p>If we're being honest, everything else is merely speculation. Although I do dabble in stuff like crypto, I do not view it as investing. To me it's just one or two steps up from gambling. </p><p>Why? Because it does not <em>produce</em> any additional value over time, its value merely depends on what a bunch of people collectively think it's worth. A value based on... feelings? Hopes? Peer pressure? Who knows. </p><p>To me that's not truly reliable and definitely not measurable enough to base longterm decisions on. Wow, as I wrote that I could just <em>feel</em> the multitude of objections undulating across the internet and socials; "what about smart contracts!?", and mentions of "stores of value", and cries of "gold-is-just-as-bad". Quite.</p><p>And some of those criticisms might have interesting points. And yes, the same could perhaps even be said about other more traditional forms of 'investment', like residential property and precious metals. But since all of that is only tangentially related to this post, and I'm in control of what's being discussed here, let's declare it a digression, side-step the horrified, and swiftly move along.</p><p>Sure, the line between investing and speculation can be very nebulous, and I do not really want to get into that an intricate of discussion and comparison with this post, but in short, I believe it comes down to that some people like pumping money into things they <em>feel or hope</em> would be worth more in the future. They prefer hunches, gut feelings, popularity and the wisdom of the crowd to analysis of the old-school and boring. They often have slogans too, mentions of moons and diamonds and, of course, lots and lost of cheering each other on.</p><p>Others(and this is where I align myself) prefer to pump money into things they think will increase in value in due to some more concrete and measurable properties, and often puts great emphasis on the output such an entity produces. They consider that measuring and processing those properties could give one a better idea of what that thing might be realistically worth in real monetary terms, regardless of what yours or others fluctuating feelings and hunches might suggest in a moment-by-moment basis.</p><p>You see, people and their opinions are fickle. And being due to human beings being spooked, ignorant, confused or distracted, things of real value might be worth more than most people feel it is in the open market, at any particular moment in time, due to random reasons.</p><p>Everyone can suddenly get all excited about that new tech-car company, and perhaps totally forget about the boring, ancient company that might produce a lot of the chemicals used in that very same tech-car company's production lines. </p><p>The market value of companies goes up and down daily, based on what's said in the news, what's being tweeted and what some random politician might have said. But thinking about it, how can that make sense? How can a company's real value change on a whim, a whisper or mere rumour? </p><p>And that, essentially, is what the concept of value investing entails - basing investment decisions on some measurable intrinsic properties of the investment instrument, and not being swayed by the markets' irrational ups and downs. I'll also offer the <a href="https://www.investopedia.com/terms/v/valueinvesting.asp">definition of value investing from Investopedia</a>, to give you a clearer idea of what I'm angling for.</p><blockquote><a href="https://www.investopedia.com/terms/v/valueinvesting.asp">Value investing</a> is an investment strategy that involves picking <a href="https://www.investopedia.com/terms/s/stock.asp">stocks</a> that appear to be trading for less than their <a href="https://www.investopedia.com/terms/i/intrinsicvalue.asp">intrinsic</a> or book value. Value investors actively ferret out stocks they think the <a href="https://www.investopedia.com/terms/s/stockmarket.asp">stock market</a> is underestimating. They believe the market overreacts to good and bad news, resulting in stock price movements that do not correspond to a company's long-term <a href="https://www.investopedia.com/terms/f/fundamentals.asp">fundamentals</a>. The overreaction offers an opportunity to profit by buying stocks at discounted prices‚Äîon sale.</blockquote><p>Thus the aim of the bot I wanted to build was to automate the process of fundamental analysis on a particular stock market index - in my case the <a href="https://en.wikipedia.org/wiki/S%26P_500">S&amp;P500</a> - and have it notify me when it finds an opportunity where the market might be considering a stock worth less than it possibly is in reality.</p><h2 id="the-bot-spec">The bot spec</h2><p>I wanted to automate everything I previously did manually, when it came to deciding what to buy and when, except for the actual trading part. I would still like to leave that particular task manual, as I want to have the final say in if I think a stock is a good purchase or not.</p><p>That being said, the bot does the following;</p><ul><li>It updates and caches a list of stocks in the S&amp;P500 every 3 months.</li><li>It fetches and/or calculates the latest fundamental metrics for each stock, including stuff like PE, EPS, FCF, Pietroski F-Score, book value, sales and earnings every 3 months, and caches it in between.</li><li>It ranks them from most profitable, productive and stable to least, then drops the bottom ones leaving only the top 8</li><li>It calculates an estimate per share value for each company with a customised form of the <a href="https://www.investopedia.com/terms/g/graham-number.asp">Benjamin Graham formula</a></li><li>It then compares the latest price of that top 8 with their calculated estimated value twice a day, and sends me an email report of this process on every other check(thus once a day)</li><li>It notifies me via SMS and email when it finds a stock that's going at a rate a little below the estimate, so that I can have a look and decide if it's a good buy or not myself.</li></ul><h2 id="choosing-a-stack">Choosing a stack</h2><p>I chose to use NodeJS, as that's the stack I use most frequently at my day job. This helps me move comfortably fast, as I'm fluent enough in it to be able to put most of my mental effort going towards architecting the app itself, and not towards trying to figure out a new language or framework.</p><p>I could also reuse a lot of code from previous side-projects, in order to get it built much faster. Some of the code I recycled included comms functions like sending email and SMS, error loggers and Dockerfile setups.</p><p>I also opted to not use TypeScript, as I found the basic application easy enough to build and reason about without having to worry about types too much, and because it's merely a personal project that doesn't need to be sanity-checked for other team members' sake.</p><p>Although I worked on it on my free time on-and-off, sometimes in the early mornings and sometimes on weekends, I estimate it took me about 6-8 hours to get it done and in its current relatively satisfactory state.</p><h2 id="fundamental-analyst-bot-in-action-">Fundamental analyst bot in action!</h2><p>The bot currently doesn't have a dashboard or web UI, but I can offer you a screenshot from the console.</p><figure><img src="https://www.riknieu.com/content/images/2021/02/StockMonitor-2.png"><figcaption>StockMonitor in action</figcaption></figure><h2 id="conclusions-and-disclaimers">Conclusions and disclaimers</h2><p>Now, I'm not a professional trader, financial advisor or a particularly astute financially literate person, so I'm not sure of how much worth this thing really is. But this was a fun project to work on and helps me keep a regular albeit automated eye on the market to help find opportunities as defined by my own personal investment preferences and inclinations. </p><p>I'm sure some of you would disagree with the validity of the metrics I'm tracking or some of the things I might have said in the post, but for me, this bot is pretty nifty. </p><p>I'd certainly not use it to advise others on what to buy or not, but for me and my own funds it's perfect, because it automates what I did manually anyway, just way more often and regular, thereby freeing up some of my time and mental energy for other endeavours. </p><p>It hasn't identified anything for me to buy as of yet, so I obviously can't vouch for its practical usefulness at this point, but it's only been running a couple of days and the market is rather bullish in general at the moment. But I'm patient, I'll wait. I know my bot's got my back.</p><p>I'll post an update again once it's made its first recommendations, and hopefully again after that, with some concrete results.</p><p>Thanks for reading. If you have any comments or suggestions, follow and contact me on Twitter <a href="https://twitter.com/riknieu">@RikNieu</a></p><p>If you want to read more of my rants, sign up below and I'll mail you when I post new stuff. üëá</p><!--kg-card-begin: html--><!-- Begin Mailchimp Signup Form -->
</section></div>]]>
            </description>
            <link>https://www.riknieu.com/stockmonitor/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26139321</guid>
            <pubDate>Mon, 15 Feb 2021 05:09:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[You might not need Docker]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26139255">thread link</a>) | @mattwatson
<br/>
February 14, 2021 | https://www.mattwatson.org/blog/20210214-you-might-not-need-docker/ | <a href="https://web.archive.org/web/*/https://www.mattwatson.org/blog/20210214-you-might-not-need-docker/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">

<header>
    <p><a href="https://www.mattwatson.org/">Matt Watson</a></p>

    

    <p>
        <time>February 14, 2021</time> ‚Äì
        <a href="https://www.mattwatson.org/">Matt Watson</a>
    </p>
</header>
<p>I came accross a very good <a href="https://www.sitepoint.com/docker-php-development-environment/">article on how to use
Docker with PHP</a> by Tom Butler on SitePoint. Nonetheless, I took issue with some of his
preliminary statements, namely:</p>
<blockquote>
<p>If, like me, you‚Äôre old enough to have been developing websites in the 90s, you‚Äôll
remember how frustrating the experience was. Back then, if you were in the minority who
didn‚Äôt just develop on the live web server (yes, we really did this, yes it was a terrible
idea), you would manually install Apache, PHP and MySQL on your development machine.</p>
</blockquote>
<p>Well, this manual installation is the way I currently develop, and I didn‚Äôt start in
web development until 2016.</p>
<p>In a similar vein, Butler says:</p>
<blockquote>
<p>If you hang around various PHP facebook groups, you‚Äôll find that a significant portion
of new developers still follow tutorials from this era and a large number of existing
developers never moved on, so XAMPP is still used quite widely. If this describes you,
it‚Äôs time to move on.</p>
</blockquote>
<p>I haven‚Äôt used XAMPP much, but it is not much different than manually configuring your
localhost server like I do. And I have used Mac‚Äôs paid equivalent, MAMP, with much
success. I don‚Äôt think that if you use these and are happy, which I‚Äôm willing to bet is a
lot of people, ‚Äúit‚Äôs time to move on.‚Äù As with so many other ‚Äúbest practices‚Äù
recommendations in web development, <strong>it all depends</strong>.</p>
<p>My job involves building custom WordPress sites on more or less traditional, shared
hosting. Even the majority of my side projects are written on the LAMP stack and deployed
on traditional, shared hosting. I have had a few outlier projects using non-traditional
hosting, such as AWS, Vercel or a Digital Ocean VPS. It seems to me that the increasing
recommendation to use Docker applies more to these non-traditional services for deployment
than for traditional hosting. So right off the bat, the idea that Docker, whose main point
is to let you spin up a containerized virtual server, is Best Practices<sup>TM</sup>
assumes I‚Äôm not using traditional hosting and can spin up containers on a server.</p>
<p>But the other benefit of Docker besides using it on a virtual server is that you can
run exactly the same stack in your dev environment as on your live server. This is true up
to a point. But it is not used this way 99% of the times I‚Äôve personally seen it used.
Whether we‚Äôre talking about Docker or the older, similar VM solution, Vagrant, I‚Äôve seen
them used primarily as a way to get a local dev environment going, but which hardly ever
perfectly matched what was in production.</p>
<p>For example, I have used <a href="https://lando.dev/">Lando</a>, which is essentially
    an
approachable command line
program for people who don‚Äôt know Docker. I used it for several months after I had
somehow deleted all of my MySQL users and locked myself out of my locally installed MySQL
instance (MariaDB). The other day, I finally got around to updating my Linux desktop,
resetting my MySQL users, and a few Stackoverflows later I was back up and running with a
functioning MySQL instance on my local machine. But whether I‚Äôm using Lando or a manual
localhost configuration, I rarely need to match exactly what‚Äôs on the server. As long as
I‚Äôm on the same major version of PHP, I‚Äôm safe to deploy, at least to a staging server.</p>
<p>Lando/Docker did come in handy for me while my local LAMP installation was down, and
once or twice I used it to test a different MySQL or PHP version that more closely matched
my server. For those reasons, Docker is definitely worth having as a tool in one‚Äôs belt,
but here are some advantages I‚Äôve noticed about using a traditional localhost
installation:</p>
<h2>No long Docker container startups</h2>
<p>I don‚Äôt have to wait for Lando to start up a Docker container, which takes a few
minutes the first time it runs for a new project, and even after that it can take a while
sometimes. My local, native Apache virtual host is already running for all my projects on
desktop startup, which equals <strong>zero</strong> wait time when project switching, and
it only takes a minute to set up the first time for a new project. A new project involves
creating one new .conf file in my apache sites-available directory, updating the
/etc/hosts file to include a testing domain (e.g., mynewproject.test), and running two
terminal commands to enable the site and restart Apache. Not as easy as running ‚Äúlando
start‚Äù on the command line, but it‚Äôs easy enough once you‚Äôve done it a few times and is
way quicker.</p>
<h2>Consistent localhost virtual domains</h2>
<p>With a traditional dev environment using virtual hosts (like what I do on my Linux
desktop, or what could be done using XAMPP or MAMP or Apple‚Äôs Homebrew), you get a
consitent localhost domain for each project, e.g.&nbsp;myproject.test, mysecondproject.test,
mythirdproject.test, etc.</p>
<p>Using Docker as described in the aforementioned SitePoint article, you would have to
stop and restart Docker containers every time you switch projects/containers, so that the
container in use can serve at localhost, port 80, i.e.&nbsp;‚Äúhttp://127.0.0.1‚Äù in your browser
address bar.</p>
<p>I imagine you could run multiple containers simultaneously by using different ports for
each container, as this is what Lando does somehow automatically, but this gets confusing
and tiresome and doesn‚Äôt play well with a WordPress site that requires WP_SITEURL and
WP_HOME constants in PHP. And maybe I‚Äôm doing something wrong, but whenever I spin up a
new Lando project, it often breaks the last one I started in some way or another, usually
changing ports at the least.</p>
<p>There is a workaround for inconsistant host names in WordPress in which you dynamically
define WP_SITEURL and WP_HOME using the request <code>Host</code> header, but it is not
ideal. The workaround doesn‚Äôt account for internal links in the blog post contents and the
like. But on a dev environment running a native (L)AMP stack with traditional virtual
hosts, I can both set those constants to ‚Äúmyproject.test‚Äù and run a DB search/replace to
use http://myproject.test in place of https://myrealdomain.com if I need to ‚Ä¶ and then I
am good to go for local development and never have to think about it again.</p>
<h2>Running terminal commands locally</h2>
<p>Installing PHP and MySQL locally and keeping them updated gives you the added benefit
of running them from the command line without having to ssh into a Docker container. Lando
makes this part of things a little easier by giving you various utilities such as the
‚Äúlando wp‚Äù command for running <a href="https://wp-cli.org/">wp-cli</a> and
‚Äúlando db-import‚Äù for importing a database. But
if you try to use Composer or npm with Lando, it seems to error out a lot, at least for
me. Not to mention, having all these dev tools installed on each container for every
project starts feeling like a waste, even if there‚Äôs supposedly some Docker voodoo sharing
all these resources. So, for all these reasons and more, you‚Äôll eventually wind up
installing all these things locally anyway. And by the time you do that, why not just
install Apache and serve the site from your machine?</p>
<h2>Final thoughts</h2>
<p>My personal opinion is that there is no good way to set up a dev environment. It‚Äôs one
of those unenjoyable things about life. Scouring blog posts on dev setups for the past
four years, I‚Äôve noticed that people turn to a new solution when they start having
problems they don‚Äôt know how to fix on their old solution, which is perfectly justified.
But I have spent enough hours in Vagrant hell, Docker hell, and manual configuration hell
to know they are all created equal. There are pros and cons to each method, and it is up
to the developer or the team to hedge their bets.</p>
<p>Some decisions can be more informed than others. If you‚Äôre turning to Docker just
because of peer pressure or the constant assurance it‚Äôs the Right Way, you‚Äôre making an
uninformed decision. If you are avoiding it purely out of fear, you‚Äôre making an
uninformed decision.</p>
<p>But if you decide to use Docker, and you say, ‚ÄúI need it for spinning up VPSes,‚Äù or, ‚ÄúI
need it for quick, streamlined project setup for a team of developers,‚Äù then that makes a
little bit more sense. If you decide not to use Docker, and you say, ‚ÄúI don‚Äôt have enough
time to learn it for the amount of payout I expect for my use case,‚Äù or, ‚ÄúMy stack is
traditional and stable and doesn‚Äôt require containers for dev setups,‚Äù then that just
makes sense.</p>
<p>Maybe one day, I‚Äôll be doing enough fancy pants projects to justify always using
Docker, but for now I‚Äôll stick to my <a href="https://mcfunley.com/choose-boring-technology">boring technology</a>.</p>

<hr>

    

</div>]]>
            </description>
            <link>https://www.mattwatson.org/blog/20210214-you-might-not-need-docker/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26139255</guid>
            <pubDate>Mon, 15 Feb 2021 04:57:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The biggest haters on Elon Musk's Tesla Bitcoin buy are his fellow techies]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26139253">thread link</a>) | @gge
<br/>
February 14, 2021 | https://www.businessofbusiness.com/articles/Tesla-bitcoin-elon-musk-ethereum-backlash-hacker-news/ | <a href="https://web.archive.org/web/*/https://www.businessofbusiness.com/articles/Tesla-bitcoin-elon-musk-ethereum-backlash-hacker-news/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-section">
    <!-- .sidebar -->

    <section>
      
      

      <p>The news that Tesla had invested $1.5 billion of its corporate cash in Bitcoin had all the components of a perfect storm for tech enthusiasts: Elon Musk tweets, magic internet money, and a graph pointing up and to the right. Just like his Twitter follower count, after the announcement:</p>

<p>Crypto advocates were euphoric. Tesla‚Äôs move would be the tipping point for Bitcoin, and crypto in general, to hit the mainstream, <a href="https://twitter.com/APompliano/status/1358764055285145605?s=20" target="_blank">Bitcoin boosters crowed</a>. Indeed, crypto‚Äôs usual antagonist, Wall Street, <a href="https://www.reuters.com/article/us-crypto-currency-tesla-quotes/tesla-announces-1-5-billion-bitcoin-bet-makes-payments-pledge-idUSKBN2A81PD" target="_blank">cheered along</a> this time. And if App Store ratings for Coinbase are any guide, enthusiasm for crypto investing among the retail crowd is at an all time high:</p>

<p>But the news provoked a backlash from an unexpected demographic: software developers. Check out <a href="https://news.ycombinator.com/item?id=26063920" target="_blank">this thread</a> at developer watering-hole Hacker News, for instance. It generated 1,271 comments. Here are some highlights:</p>

<blockquote>
<p>‚ÄúBitcoin is a mystery to me. Somehow it's hailed as revolutionising the economy, by replacing currency with a worse kind of currency.‚Äù ‚Äî rzodkiew</p>

<p>‚ÄúHow is there a network effect if people aren't using Bitcoin to make or receive payments? Bitcoin is no more useful to me if my friend uses it versus a stranger. "Meme effect" is more like it -- the more hype there is, the better it is for anyone holding coins. The value comes from convincing enough new people to keep buying in. It's like a ponzi scheme in that respect.‚Äù ‚Äî&nbsp;eli</p>

<p>‚ÄúThere's a lot of very very smart people who are totally lost among the trees on the technicalities of Bitcoin who don't get this one simple aspect. It's never happening.‚Äù ‚Äî&nbsp;vp8989</p>
</blockquote>

<p>The backlash has not gone unnoticed in crypto-land. Here‚Äôs what one Ethereum core developer ‚Äî&nbsp;the folks who make the whole protocol work ‚Äî&nbsp; experienced on Twitter when the Tesla news broke:</p>
<div>
<blockquote>
<div dir="ltr" lang="en"><p>My timeline is interesting:</p><p>Post 1: Tesla, Bitcoin, Mooon, Mars<br>Post 2: Musk brought shame to Tesla<br>Post 3: Crypto is going mainstream<br>Post 4: You life is not about making money</p><p>Loop.</p></div>
‚Äî P√©ter Szil√°gyi (@peter_szilagyi) <a href="https://twitter.com/peter_szilagyi/status/1358885818761379843?ref_src=twsrc%5Etfw">February 8, 2021</a></blockquote>
</div>

<p>What lies behind this apparent antipathy to crypto in what we might call ‚Äútraditional‚Äù tech? I turned to a longtime developer who straddles the crypto world and more conventional tech circles named Lauren Garcia. The Bay Area native is developing an <a href="https://microsponsors.io/" target="_blank">advertising system</a> that swaps intrusive tech for blockchain tokens. She has also worked at places like Yahoo and DuckDuckGo over the years.&nbsp;</p>

<p>Garcia says crypto is ‚Äúthe most polarizing subject‚Äù among her fellow developers. In one incident, a longtime collaborator expressed shock when he was told she was working on a crypto project. ‚ÄúI thought you were a good person,‚Äù was his sign off.&nbsp;</p>

<p>Garcia attributes the tension to a clash of values: between well-off tradtechers who associate decentralization with open-source projects, who inevitably turn to Big Tech for patronage; and crypto millennials who believe they can tokenize their way to a decentralized internet.&nbsp;</p>

<p>‚ÄúOpen-source folks have complained that there‚Äôs no way to monetize their work, and it‚Äôs true - I‚Äôve spent hundreds of hours developing open-source work that gets no compensation,‚Äù she says. ‚ÄúIt‚Äôs always been this unsolved problem, and the default is these open-source contributors get paid handsomely by a startup or enterprise company that can afford to support that project. It‚Äôs a patronage model, and the patronage comes from Big Tech.‚Äù</p>

<p>By contrast crypto is a grassroots movement with a hodgepodge of projects that get generated by enthusiastic young developers. Crypto projects have the advantage of being able to raise capital seemingly out of thin air, through mechanisms like initial coin offerings.&nbsp;</p>

<p>‚ÄúThe projects that get funded are what people are interested in,‚Äù Garcia says.&nbsp;</p>

<p>Garcia might have a point. The researcher <a href="https://nadiaeghbal.com/" target="_blank">Nadia Eghbal</a> observed in her book ‚ÄòWorking in Public: The Making and Maintenance of Open Source Software‚Äô that open-source developers generally complain about funding, but that the money problems were just a symptom of something deeper at work. Eghbal diagnoses the underlying issue as a disconnect between open-source developers‚Äô utopic conception of their work and the reality they inhabited.&nbsp;</p>

<p>You see, open-source software was supposed to be a huge collaborative effort where developers would contribute code voluntarily to a commons, gifting their creations to humanity. But Eghbal discovered that open-source projects were becoming increasingly centralized, relying on a handful of developers instead of a broad cohort, even as the projects themselves gained massive adoption.&nbsp;</p>

<p>Eghbal calls this model of open-source development ‚Äúthe stadium,‚Äù where a coterie of software developers are encircled by occasional contributors. The devs are in turn encircled by ever expanding rings of software users, who simply consume the software. Stadium models, Eghbal writes, operate on access to the key developers‚Äô attention.</p>

<p>‚ÄúMuch like a lake that requires paid licenses from fisheries to reduce overfishing, an open source project can require companies to pay to ‚Äúappropriate‚Äù attention from the project‚Äôs developers,‚Äù Eghbal writes.&nbsp;</p>

<p>The roots of the angst on Hacker News and elsewhere in the developer world might simply come from the fact that crypto people figured out a way to get themselves paid. Traditional devs might not like the fact that this solution requires spinning up ‚Äî sometimes legally questionable ‚Äî&nbsp;tokens and trading them, but the crypto market is worth well over $1 trillion dollars by now, according to <a href="https://www.tradingview.com/markets/cryptocurrencies/global-charts/" target="_blank">TradingView data</a>. The coin slingers might be on to something.&nbsp;</p>

<p>While it‚Äôs difficult to pinpoint the cultural divide between tradtech and crypto devs precisely, it‚Äôs clear that cryptocurrencies have proved to be a divisive and polarizing topic in just about every sphere it touches, from finance to politics and even to that supposedly most neutral of realms ‚Äî&nbsp;technology.&nbsp;</p>


      

      
      <h3>About the Data:</h3>
      <p>
        Thinknum tracks companies using the information they post online, jobs, social and web traffic, product sales, and app ratings, and creates data sets that measure factors like hiring, revenue, and foot traffic. Data sets may not be fully comprehensive (they only account for what is available on the web), but they can be used to gauge performance factors like staffing and sales.
      </p>
      

      



    </section><!-- .article-body -->

    
  </div></div>]]>
            </description>
            <link>https://www.businessofbusiness.com/articles/Tesla-bitcoin-elon-musk-ethereum-backlash-hacker-news/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26139253</guid>
            <pubDate>Mon, 15 Feb 2021 04:57:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Experiencing Smalltalk]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26139132">thread link</a>) | @nsm
<br/>
February 14, 2021 | https://nikhilism.com/post/2021/experiencing-smalltalk/ | <a href="https://web.archive.org/web/*/https://nikhilism.com/post/2021/experiencing-smalltalk/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
			

<p>In late August 2020 I read <a href="https://press.stripe.com/#the-dream-machine">The Dream
Machine</a> and it is my favorite
book of 2020. It is an incredible overview of a sliver of computer pioneers in
the 1960s-1980s and how one man was instrumental in tying all their narratives
together. One of the strands the book follows is the group at
<a href="https://en.wikipedia.org/wiki/PARC_(company)">PARC</a> (and other places) that
firmly believed in the notion of interactive computing. Over the last year,
I‚Äôve repeatedly been introduced to this strand of thinking. There is Douglas
Engelbart‚Äôs <a href="https://www.dougengelbart.org/pubs/papers/scanned/Doug_Engelbart-AugmentingHumanIntellect.pdf">Augmenting Human
Intellect</a><sup id="fnref:2"><a href="#fn:2">1</a></sup>
and his <a href="https://en.wikipedia.org/wiki/The_Mother_of_All_Demos">mother of all
demos</a>. The notion that
computers should allow humans to <em>think better</em>, and one way to do that is to
allow humans to express and try out ideas better. <em>Writing</em> is a useful skill
to form coherent, but generally linear streams of thought. <em>Computing</em> is the
closest we can yet get to a non-linear exploration of a problem domain, and
freed from the limitations of time and space, we can recreate our thoughts in a
malleable, explorable way. By applying <a href="https://doriantaylor.com/softwares-ailing-mythology">a known process to known information,
but turning a few billion cranks at a
time</a> we can get to better
solutions, faster. The notion is, if we could have a <em>computer</em> (the physical
device including the software) that would allow people to iteratively express
their problems, get immediate sensory (primarily visual, but nothing prevents
using the other senses) feedback and <em>extend the computer as necessary</em>, we can
really liberate the human mind from some of its limitations. It is a very
different vision from the consensus reality of vendors that deliver
pre-packaged applications that all come with restrictions.</p>

<p>Smalltalk<sup id="fnref:3"><a href="#fn:3">2</a></sup> is one of the outputs of this strand of thinking and has had a
<a href="https://en.wikipedia.org/wiki/Smalltalk#History">big impact on general purpose programming
languages</a><sup id="fnref:bak"><a href="#fn:bak">3</a></sup>. However the
focus on object orientation and test-driven development have robbed the world
of what I think are its most important aspects:</p>

<ol>
<li>programming as a dialogue with the computer, with meaningful feedback and <em>assistance</em>.</li>
<li>the environment being just as important to programming as the language, and empowering users to <em>modify the environment to help solve their problem</em>.</li>
<li>semantic simplicity as a necessity for easier comprehension in the face of the above points.</li>
</ol>

<p>Aditya Siram has <a href="https://www.youtube.com/watch/baxtyeFVn3w">this excellent
talk</a> giving a taste of Smalltalk.
If you had to take only one thing away from this post, it is to go and watch
that. I knew I had to try this thing out! While I worked through the <a href="https://nikhilism.com/post/2021/experiencing-smalltalk/TODO">Pharo
MOOC</a> for a few days, I quickly lost interest in their examples. <a href="https://adventofcode.com/2020">Advent
of Code 2020</a> (AoC)<sup id="fnref:1"><a href="#fn:1">4</a></sup> seemed like a much
better avenue to really try out Smalltalk. All my experiences are based on the
<a href="https://pharo.org/">Pharo</a> variant, which seems to be the leading
implementation right now.</p>

<p>While I was working my way through AoC, Mike Levins wrote <a href="https://mikelevins.github.io/posts/2020-12-18-repl-driven/">On repl-driven
programming</a>. I
think he wasn‚Äôt fully able to convey the ideas of Smalltalk, because the term
‚ÄúREPL‚Äù is too strongly associated with Python/JavaScript/Ruby REPLs at this
point. I hope I did my <a href="https://news.ycombinator.com/item?id=25642699">bit</a> of
<a href="https://news.ycombinator.com/item?id=25642717">evangelizing</a> to <a href="https://news.ycombinator.com/item?id=25642741">correct
that</a>. Alright, lets jump into
my experience.</p>



<h2 id="a-truly-integrated-development-environment-ide">A truly integrated development environment (IDE)</h2>

<p>What do I mean? Well Smalltalk really facilitates creating a program in an
exploratory style, including test-driven development. As an example, for Day 5,
I wrote the following:</p>



<p>Now, as soon as I ‚Äúaccept‚Äù this code (by pressing Ctrl+S), Smalltalk will ask
me if I would like to define this <code>AOCBoardingPassParser</code> class. It will pop up
a little window to let me do that. It will also detect I wrote a test case
(because when I created a class for the test case, I inherited from <code>TestCase</code>)
and the system browser and other elements of the interface will have these
little gray/green/red dots next to every test case, letting me run the test and
observe the results right away. Now, this is offered in modern IDEs like
IntelliJ and PyCharm, but this was available 40 years ago in Smalltalk! But
that is just the beginning.</p>

<p>I can now run this test (remember I‚Äôve only defined the <code>AOCBoardingPassParser</code>
class at this point) and it will encounter the missing method <code>toSeat:</code> on the
class (think of this like a ‚Äústatic method‚Äù in Java/Python<sup id="fnref:static"><a href="#fn:static">5</a></sup>). In a
statically typed language, you would get a compilation error or have your IDE
highlight it for you. If you were in a dynamic language, then you‚Äôd just have
an exception thrown when running the program ‚Äì <code>AttributeError</code> in Python.
Unless you explicitly ran the test in a debugger, that is all you would get and
now you‚Äôve to go back to the editor, fix this, then re-run the test.</p>

<p>Not so in Smalltalk. First this isn‚Äôt just an IDE in the sense of a
language-aware editor. The IDE is also very aware of the runtime environment.
It will break at the stack frame with the missing method, and pop up a window.
You can <em>create</em> a method right there. This window has a full fledged editor
with code completion and all the other fanciness right there. I‚Äôm not aware of
any other environment<sup id="fnref:lisp"><a href="#fn:lisp">6</a></sup> that does this. Ok so we quickly recover by
creating the method. But I don‚Äôt know exactly what to put in there yet. Don‚Äôt
worry, this is Smalltalk. We don‚Äôt need to go through this cycle of rerunning
the entire test. The state of the running program is <em>preserved</em> until the
point where you hit the error, and you just tell the IDE ‚Äúok, I‚Äôve fixed the
immediate error, let‚Äôs try again‚Äù and it will resume execution from there! You
can do this as many times as you wish, developing the code as a function of
encountering errors and test failures. This very fast iteration cycle feels
amazing! Imagine writing a much more complex program that was running for
minutes to hours but then hit an error. In most languages you would have to fix
it and start from the beginning, but in Smalltalk you would just fix it right
there and proceed.</p>

<p>I think browser developer tools are the closest we can come to having this kind
of interactivity in widespread computing environments. They don‚Äôt do that yet,
but they could. But we need to acknowledge how much work had to be put in to
those tools vs Smalltalk. In addition, the that implementation would likely
need to be in C++ instead of JavaScript, which means users wouldn‚Äôt be able to
extend and improve it as necessary. Which brings me to my next point.</p>

<h2 id="ide-extension-and-visualization">IDE extension and visualization</h2>

<p>Where most IDEs and language implementations are written in C/C++/Java,
Smalltalk prides itself on bootstrapping from a very minimal native code core.
After that nearly everything about the runtime and the IDE is written in
Smalltalk. The program and the environment are not 2 separate things, they are
one. When you execute your program, it is just another ‚Äúthread‚Äù in the same
environment that you are creating the program in. You can do bizarre things
like remapping <code>true</code> to <code>false</code> or redefining what addition means and the
entire system will reflect the change right away (to disastrous results!). The
fact that the IDE and the program share a language means that any Smalltalk
programmer can understand and extend the IDE itself. Would you like a menu with
your most commonly used commands? Sure, just use the inspector/debugger to find
out where the menus are defined and add an entry there. Boom!</p>

<p>This also offers the really powerful ability to customize the debugger for the
task at hand. <a href="http://kursjan.github.io/petitparser2/">PetitParser2</a> is
probably the best example of this. It is a parser-combinator library. As Aditya
demonstrates in his talk, when you build up a parser, the parser provides
several hooks into the Smalltalk debugger. It can show you the matches it has
built up so far(including negative matches!) and you can run various inputs
against the parser to understand behavior. So you can start with a very simple
parser and iteratively make it complicated, observing the parse tree and
getting the behavior you want.</p>

<p>Whereas a lot of AoC implementations on reddit used various regex and string
operations for parsing inputs, I‚Äôd lean to PetitParser for anything beyond
simple white-space delimited numbers. It was just so easy and straightforward.
Instead of having to find subtle bugs in string parsing, I could actually see a
domain specific debugging view as my parser encountered tokens.</p>

<p>You could similarly imagine having domain specific drawings for your project.
If I was writing a build system in Smalltalk, I would write a build graph
viewer, and instead of a <a href="https://graphviz.org/">static graphviz image</a>, it
could be very interactive. While the build was running, it could update the
graph with file modification times, or indicate whether it thinks a file needs
to be rebuilt, and then I could easily debug why a particular file wasn‚Äôt being
built.</p>

<p>The folks at <a href="https://feenk.com/">Feenk</a> are really leveraging this in their
<a href="https://gtoolkit.com/">Glamorous Toolkit</a> to fantastic effect! I highly
recommend watching <a href="https://www.youtube.com/channel/UClLZHVq_-2D2-iI4rA2O8Ug">their
videos</a>.</p>

<h2 id="minor">Minor</h2>

<p>I appreciated the built-in Array2D class for the various game-of-life
implementations as well as <a href="https://adventofcode.com/2020/day/20">Jurassic
Jigsaw</a> where it was easy to reason in
terms of rows and columns, and quickly slice those out.  Similarly, the Point
class and special ‚Äúsyntax‚Äù<sup id="fnref:point"><a href="#fn:point">7</a></sup> made Day 12 <a href="https://github.com/nikhilm/AdventOfCode2020/blob/bbc331e2af2d948e683cade9ff4f93b4e4a3f667/AdventOfCode/AOCFerry.class.st">really
easy</a>.</p>



<p>Of course everything wasn‚Äôt magical. The Smalltalk/Pharo community is very
small, so this shouldn‚Äôt be considered a rant, just my disappointments.</p>

<h2 id="documentation">Documentation</h2>

<p>This was my biggest frustration. If we accept that <a href="https://documentation.divio.com/">documentation has 4
distinct types</a>, Smalltalk does a great job
of Reference docs, because everything can easily be inspected and browsed, so
reading method documentation, while seeing its implementation is really easy.
You can also easily inspect what an object is at the point of use, and then see
what methods are available on it. However there is still plenty of scope for
improvement here, as not all non-trivial methods have docstrings. In addition,
for such a powerful IDE, the lack of documentation tooltips on hover is very
odd.</p>

<p>It really lags behind in the other categories. There is a wealth of great
content in <a href="http://books.pharo.org/">various free books</a> and the
<a href="http://mooc.pharo.org/">MOOC</a> that explains the language and getting around
the IDE. However all the books on various useful libraries are really out of
date. It isn‚Äôt fair to expect someone to ‚Ä¶</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://nikhilism.com/post/2021/experiencing-smalltalk/">https://nikhilism.com/post/2021/experiencing-smalltalk/</a></em></p>]]>
            </description>
            <link>https://nikhilism.com/post/2021/experiencing-smalltalk/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26139132</guid>
            <pubDate>Mon, 15 Feb 2021 04:34:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Man pages in color, with links (2018)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26138941">thread link</a>) | @mdip
<br/>
February 14, 2021 | https://iamnearlythere.com/man-pages-in-color-and-links/ | <a href="https://web.archive.org/web/*/https://iamnearlythere.com/man-pages-in-color-and-links/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  <header>
    
    <p>
      <time datetime="2018-03-15T00:24:00+00:00" itemprop="datePublished">
        
        Mar 15, 2018
      </time>
      </p>
  </header>

  <div itemprop="articleBody">
    <p><a href="https://neovim.io/">Neovim</a> has builtin support for colorizing man pages, making them easier to read. It also lets you follow links to other man pages, by pressing <kbd>K</kbd> while hovering any term that has a man page.</p>

<p>To set up Neovim as the default reader for when you invoke <code>man apropos</code> etc., place the following code in your ~/.bashrc or such:</p>

<div><div><pre><code>export MANPAGER="nvim -c 'set ft=man' -"
</code></pre></div></div>

<p>There are some more pointers in the short and readable section of the <a href="https://github.com/neovim/neovim/blob/5ce8158a5d462043306ee67a3261794f169bdb17/runtime/doc/filetype.txt#L509">Neovim manual on viewing man pages</a>.</p>

  </div>

  
</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://iamnearlythere.com/man-pages-in-color-and-links/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26138941</guid>
            <pubDate>Mon, 15 Feb 2021 04:04:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[On the shelf life of digital video]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26138849">thread link</a>) | @rememberlenny
<br/>
February 14, 2021 | https://blog.rememberlenny.com/2021/02/13/innovation-parallels-around-trucking-and-zoom/ | <a href="https://web.archive.org/web/*/https://blog.rememberlenny.com/2021/02/13/innovation-parallels-around-trucking-and-zoom/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><main id="genesis-content"><article itemscope="" itemtype="https://schema.org/CreativeWork"><div itemprop="text"><p>Reading Time: 8 minutes read</p>




<p><strong>TLDR: There‚Äôs going to be a shit ton of temporarily useful content; businesses need to have a quick way to make the worthwhile content stand out.</strong> (Thanks Joseph)</p>



<p>There are two ideas I have been thinking about over the past few months that I want to document here. The first has to do with disruption, and the second has to do with novelty vs usefulness.</p>



<p>The late Clay Christensen pointed out that major technology shifts take place when there is a massive change in price or available quantity of something. When there was a 10x reduction in price for computers, the personal computing revolution took place. When price decreases, then the potential application for said technology significantly increase.  When prices decrease and potential applications increase, then there the quantity of said technology also increases, and with it are new platforms for new tools and previously non-existent technologies.</p>



<p>I‚Äôve heard this idea too many times to count, but something I never deeply thought about was reasons why certain ideas within the new platform do or don‚Äôt succeed. The specific area of interest for me is how the new-platform creates new opportunities that previously couldn‚Äôt exist ‚Äì and therefore everything that wasn‚Äôt possible before is novel. When I use the term novel, I mean that since it is new, its significance seems highly valued relative to the past. That being said, if the new idea was to be projected out in the new reality, the novelty eventually wears off and is no longer as valuable as it once was.</p>



<p>Another way to think of it is the bundling and unbundling effect which I believe comes from a American economist who studied the cross-country trucking industry, and the standardization of freight trucks. Sadly, I don‚Äôt know the original reference. The summary point is that when getting packages safely and cheaply across the country was difficult, the creation of an 18 wheeler semi-truck (actually, I‚Äôm pretty sure the first version was not an 18 wheeler, so I‚Äôm butchering the facts) was a new innovation that solved a large problem. Once the trailer hauling semi-truck was widely accepted as the best option for hauling freight, the machine parts were modularized so that the trucking company could delegate part production and reduce costs. At the same time, the process of modularizing the trucks allowed new entrants into the trucking space, which created differentiated offerings and options for achieving cross country freight hauling. </p>



<figure><img src="https://i2.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/2560px-White_trucks_fort_riley.jpg?ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/2560px-White_trucks_fort_riley.jpg?ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>World War I trucks circa 1917, manufactured by&nbsp;<a href="https://en.wikipedia.org/wiki/White_Motor_Company">White Motor Company</a></figcaption></figure>



<p>Once the hauling freight was predictable, then new industries that couldn‚Äôt exist before emerged. The trucking industry created new modes of consumption with federated infrastructure. The big box stores, like Walmart or Costco, that couldn‚Äôt exist before were now possible (or the early 20th century parallel). As a consequence of the new modes of freight shipping creating a new possible economic model, parking lot based stores formed and the urban landscape changed. I‚Äôm extrapolated here, but I imagine a number of non-existent suburban environments formed due to this single freight based innovation. </p>



<p>The most exciting part of this to me is how the previously nascent technologies around freight positively exploded as a result of the new advancements. </p>



<p>And inline the new urban landscape fostered smaller environments that created new markets of supply and demand that didn‚Äôt previously exist. I imagine this also put stresses on areas that never expected such high throughput. I‚Äôm sure new roads needed to be developed, new laws, and in the process more and more markets emerged.</p>



<div><figure><img loading="lazy" src="https://i2.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/Line3174_-_Shipping_Containers_at_the_terminal_at_Port_Elizabeth2C_New_Jersey_-_NOAA.jpg?resize=402%2C268&amp;ssl=1" alt="" width="402" height="268" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/Line3174_-_Shipping_Containers_at_the_terminal_at_Port_Elizabeth2C_New_Jersey_-_NOAA.jpg?resize=402%2C268&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>Intermodal containers waiting to be transferred between ships, trains, and trucks are stacked in holding areas at a shipping port.</figcaption></figure></div>



<p>I mention all of this because I find an interesting parallel when it comes to today and the state of what I‚Äôve been thinking about in the proliferation of video content. In relation to traditional disruption theory, we had a major event that increased the quantity of video production, without necessarily changing the cost of production. Specifically, the cost of individual video creation has transformed the way we communicate personally ‚Äì as seen through social media ‚Äì but the impact on businesses has been delayed. Given that the cost of video production had been low for quite a while, the recent societal forces around Covid turned nearly every business into a video producer.</p>



<p>I think a good parallel is to think of Zoom as being the semi-truck and the need to interact with one another during a pandemic as being the freight to haul. Naturally, as Zoom became the fix-all solution, the tool that started as a necessity became fraught with problems for specific use cases. For one, Zoom wasn‚Äôt designed for highly interactive environments or planning events ahead of time. As a result, a world wind of new applications emerged to compliment the lacking areas, such as Slidio for questions or Luma for event planning. </p>



<div><figure><img loading="lazy" src="https://i2.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/zoom.png?resize=405%2C219&amp;ssl=1" alt="zoom.png" width="405" height="219" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/zoom.png?resize=405%2C219&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>Zoom‚Äôs usage change over one year</figcaption></figure></div>



<p>The need for higher fidelity interactions as the new normal of interacting over video was no longer a novelty. For one, people wanted to have fun. Games became a common way to spend time together, but beyond actual video games, an entire category of Zoom based games emerged. Things like <a href="https://gather.town/">GatherTown</a> or <a href="https://pluto.video/">Pluto Video</a> came to light. Similarly, as the interaction model of being online together and participating in a shared online experience was normalized, existing platforms like Figma were used for non-traditional purposes to created synchronous shared experiences. </p>



<p>I bring these examples up because I think the ones above are obviously novel ideas that won‚Äôt be valuable for extended periods of time. That being said, the seed of the novelty comes from a core experience that will likely reemerge in various places in the future.</p>



<p>Continuing with the Zoom thread, the explosion of video communication and alternative ways of communicating with video has created the explosion in video content that previously didn‚Äôt exist. Of course, there is the novelty around having this increased content ‚Äì which I believe will only continue to increase. As many things, the transition from in-person to digital was a one-way door for many industries, where the reduction in cost and surprising resilience in results has created a new normal.</p>



<p>I won‚Äôt try an exhaustive analysis around video, but one area that is particularly interesting in the machine learning space. Given the past decade, the huge improvements around computer vision, deep learning, and speech-to-text based research have been expensive and the applications have been very specific. </p>



<p>There is an exciting cross section around the sheer quantity of content being produced, and the widely accessible machine learning APIs that make it possible to analyze the content in a way that wasn‚Äôt previously possible cheaply. The novelty effect here seems ripe for misapplication. Specifically, the thing that wasn‚Äôt generally possible and the thing that previously wasn‚Äôt widely present are converging at the same time. </p>



<div><figure><img loading="lazy" src="https://i1.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/slider-14.jpg?resize=348%2C194&amp;ssl=1" alt="" width="348" height="194" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/slider-14.jpg?resize=348%2C194&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>Real life example of an executive realizing how much money they are spending on novel tools they don‚Äôt actually use.</figcaption></figure></div>



<p>More specifically, there is a ton of video content being produced by individuals and businesses. Naturally, given the circumstances, applying the new technology to the ever growing problem seems like a good idea. Creating tooling that helps organize the new video content, or improve the reflection and recall of the content seems valuable. But is it just a novelty or a future necessity. If its a necessity, will it be a commodity and common practice, or specialize enough to demand variety in offerings?</p>



<p>Applying speech-to-text processing on video content is cheap, so analyzing everything creates a new possibility where the previously non-machine readable media is now itself a new resource that didn‚Äôt previously exist. Not only do we have video that didn‚Äôt exist before, but we have a whole category of text content that was non-existent. At the basic level, we can search video. At the more advanced level, we can quantify qualities about the video at scale. The valuable applications for this have been around phone call analysis in the past, but now are applicable to the video calls of sales teams or user interviews at product teams.</p>



<p>Again, this being the case, I find it falls to the trap of being a novel and immediately useful solution, but far from a long term value. I imagine the construct to think about the new machine readable video, is that it unlocks a new form of organizing. The ability to organize content is valuable at the surface, but the content being organized needs to be worth the effort. </p>



<p>For one, when video is being produced at scale, in the way that it is today, the shelf life of content is quite low. If you record a call for a product interview today, then when that product changes next month, the call is no longer valuable. Or at least the value of the call declines proportionally to how much the product changes. Lets call this shelf life.</p>



<div><figure><img loading="lazy" width="733" height="438" src="https://i1.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/Frame-2.png?resize=733%2C438&amp;ssl=1" alt="" srcset="https://i1.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/Frame-2.png?w=733&amp;ssl=1 733w, https://i1.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/Frame-2.png?resize=300%2C179&amp;ssl=1 300w" sizes="(max-width: 733px) 100vw, 733px" data-recalc-dims="1" data-lazy-srcset="https://i1.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/Frame-2.png?w=733&amp;ssl=1 733w, https://i1.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/Frame-2.png?resize=300%2C179&amp;ssl=1 300w" data-lazy-src="https://i1.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/Frame-2.png?resize=733%2C438&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>The sales calls and user interviews from last year</figcaption></figure></div>



<p>Interestingly, as individuals ‚Äì in the social media space ‚Äì the notion of shelf life was given a sexy term: ephemerality. Since there is no cost to produce content individually, the negatives of having content with a short shelf life outweigh the positives, and among many other tings, this became a positive differentiator.</p>



<p>For businesses though, the creation of media is often far from free. Not only is the time of employees valuable, but the investment behind certain types of content are not immediately returned. So while the short shelf life video is already widely in use, the question that comes to my mind is: what are the future industries that don‚Äôt have a near term end in the road in this new space? </p>



<p>My general take is ‚Ä¶</p></div></article></main></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.rememberlenny.com/2021/02/13/innovation-parallels-around-trucking-and-zoom/">https://blog.rememberlenny.com/2021/02/13/innovation-parallels-around-trucking-and-zoom/</a></em></p>]]>
            </description>
            <link>https://blog.rememberlenny.com/2021/02/13/innovation-parallels-around-trucking-and-zoom/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26138849</guid>
            <pubDate>Mon, 15 Feb 2021 03:51:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Blanking Beavers]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26138724">thread link</a>) | @nickdrozd
<br/>
February 14, 2021 | https://nickdrozd.github.io/2021/02/14/blanking-beavers.html | <a href="https://web.archive.org/web/*/https://nickdrozd.github.io/2021/02/14/blanking-beavers.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>üö∞ <em>This post is a continuation of <strong><a href="https://nickdrozd.github.io/2021/01/14/halt-quasihalt-recur.html">‚ÄúHalt, Quasihalt, Recur‚Äù</a></strong>.</em> üö∞</p>

<p><strong>Deciding whether a Turing machine is currently halted is trivial.</strong> All you have to do is check the machine‚Äôs current state. If that state is the halt state, then it‚Äôs halted. If it isn‚Äôt, then it isn‚Äôt.</p>

<p>As a <strong>termination condition</strong>, haltedness is convenient for the <strong>simulator implementor</strong>. It‚Äôs quick and it‚Äôs cheap and it‚Äôs easy. But for the <strong>Busy Beaver programmer</strong>, the requirement to halt is an onerous one. A program of <em>n</em> states and <em>k</em> colors has only <em>nk</em> transitions to work with, and one of those has to be a halt transition. The cost for detecting termination is offloaded from the simulator implementor to the programmer.</p>

<p>Suppose the simulator implementor is willing to bear the burden of detecting termination. What termination condition should be used? A machine is said to have <strong><em>quasihalted</em></strong> if it reaches a point past which <em>some and only some</em> of its internal states becomes unreachable. As a termination condition, quasihaltedness gives the programmer an enormous amount of expressivity. Unfortunately, it isn‚Äôt decidable in general whether a machine is currently quasihalted; there are programs that quasihalt but cannot be proved to quasihalt. Thus it is <strong>impossible to implement</strong> as a termination condition.</p>

<p><strong><em>Lin recurrence</em></strong> is a <strong>decidable predicate</strong>, and in theory it can be used as a termination condition. I don‚Äôt know if there is a simple, non-technical description of Lin recurrence. It was devised by <strong>Shen Lin</strong> in order to <strong><a href="https://nickdrozd.github.io/2020/12/15/lin-rado-proof.html">prove the third Busy Beaver number</a></strong>. The way it works is that on every step of the machine, a copy of the current tape contents is stored away, along with the machine‚Äôs current state and scanned color. Then on every step, every previous tape matching the current state and scanned color is compared to the current tape for the span of tape traversed between then and now. If there is a match, then the machine is said to be <strong><em>in recurrence</em></strong>. (Note that this method, the <strong>Lin algorithm</strong>, does not detect recurrence until after the recurrence has transpired for one <em>period</em>. It would be nice to able to detect recurrence as soon as it is entered.)</p>

<p>Implementing Lin recurrence as a termination condition is <strong>theoretically possible, but not practically</strong>. The Lin algorithm runs <strong>quadratic</strong> in the number steps the machine has run, meaning that a Turing machine that checks for recurrence will run slower the longer it runs. It‚Äôs like there‚Äôs a <strong>memory leak</strong>, which considering how the algorithm actually works is not so far from the truth.</p>

<p>üõÇ <strong>EXERCISE</strong> üõÇ Come up with a predicate that is <strong>feasible</strong> to implement as a termination condition for a Turing machine that does not need to be explicitly indicated by the programmer.</p>

<p>The <strong>Busy Beaver problem</strong> requires that programs be run starting on the blank tape. Ashes to ashes and dust to dust, so why not blank to blank? Just say that <strong>a machine terminates when its tape becomes blank again at some point after the first step</strong>. Call a program that leaves the tape blank a <em>blanker</em>. Or don‚Äôt. It‚Äôs not a great name.</p>

<p>The <strong>blank tape termination condition</strong> is fairly cheap to implement as a termination condition. There‚Äôs a trick to doing it right, but I won‚Äôt say what it is. Unlike haltingness, blankness doesn‚Äôt take up space in the program, although it does fatally constrain the programmer‚Äôs ability to leave anything on the tape. Remember though, we‚Äôre not talking about general Turing machine programmers here. We‚Äôre talking about <em>Busy Beaver programmers</em>, who are insane. All they‚Äôre interested in is running programs for as long as possible. Who cares what‚Äôs left on the tape? Who cares what the program does, so long as it runs for a long time?</p>

<p>Just as halting gives rise to the Busy Beaver question and as quasihalting gives rise to the <a href="https://nickdrozd.github.io/2020/10/09/beeping-busy-beaver-results.html">Beeping Busy Beaver</a> question and as Lin recurrence gives rise to a question that still needs a catchy name, so too does the blank tape condition give rise to the <strong><em>Blanking Beaver</em></strong> question: <strong>what is the longest that an <em>n</em>-state <em>k</em>-color Turing machine program can run before leaving the tape blank, in a grim reminder of the ultimate futility of all endeavors?</strong></p>

<p>üõÇ <strong>EXERCISE</strong> üõÇ Try to work out the ‚ù∑‚ë° Blanking Beaver champion <strong>by hand</strong>. Try to find the ‚ù∏‚ë° and ‚ù∑‚ë¢ champions by computer search, or by hand if you‚Äôre ambitious or bored.</p>

<p>üõÇ <strong>EXERCISE</strong> üõÇ Come up with a <strong>catchy name</strong> for the question given rise to by Lin recurrence as the termination predicate.</p>

<p>The ‚ù∏‚ë° Blanking Beaver champion program is <code>1RB 1LB 1LA 1LC 1RC 0LC</code>. It runs for <strong>34 steps</strong> before blanking the tape. Here is its tape evolution over 40 steps:</p>

<figure><pre><code data-lang="nil"> 0 A _________________________[&lt;_&gt;]________________________
 1 B _________________________&lt;#&gt;[_]_______________________
 2 A _________________________[&lt;#&gt;]#_______________________
 3 B ________________________[_]&lt;#&gt;#_______________________
 4 A _______________________[_]#&lt;#&gt;#_______________________
 5 B _______________________#[#]&lt;#&gt;#_______________________
 6 C _______________________[#]#&lt;#&gt;#_______________________  &lt;-- quasihalt
 7 C ______________________[_]_#&lt;#&gt;#_______________________
 8 C ______________________#[_]#&lt;#&gt;#_______________________
 9 C ______________________##[#]&lt;#&gt;#_______________________
10 C ______________________#[#]_&lt;#&gt;#_______________________
11 C ______________________[#]__&lt;#&gt;#_______________________
12 C _____________________[_]___&lt;#&gt;#_______________________
13 C _____________________#[_]__&lt;#&gt;#_______________________
14 C _____________________##[_]_&lt;#&gt;#_______________________
15 C _____________________###[_]&lt;#&gt;#_______________________
16 C _____________________####[&lt;#&gt;]#_______________________
17 C _____________________###[#]&lt;_&gt;#_______________________
18 C _____________________##[#]_&lt;_&gt;#_______________________
19 C _____________________#[#]__&lt;_&gt;#_______________________
20 C _____________________[#]___&lt;_&gt;#_______________________
21 C ____________________[_]____&lt;_&gt;#_______________________
22 C ____________________#[_]___&lt;_&gt;#_______________________
23 C ____________________##[_]__&lt;_&gt;#_______________________
24 C ____________________###[_]_&lt;_&gt;#_______________________
25 C ____________________####[_]&lt;_&gt;#_______________________
26 C ____________________#####[&lt;_&gt;]#_______________________
27 C ____________________#####&lt;#&gt;[#]_______________________
28 C ____________________#####[&lt;#&gt;]________________________
29 C ____________________####[#]&lt;_&gt;________________________
30 C ____________________###[#]_&lt;_&gt;________________________
31 C ____________________##[#]__&lt;_&gt;________________________
32 C ____________________#[#]___&lt;_&gt;________________________
33 C ____________________[#]____&lt;_&gt;________________________
34 C ___________________[_]_____&lt;_&gt;________________________  &lt;-- blank tape, recurrence
35 C ___________________#[_]____&lt;_&gt;________________________
36 C ___________________##[_]___&lt;_&gt;________________________
37 C ___________________###[_]__&lt;_&gt;________________________
38 C ___________________####[_]_&lt;_&gt;________________________
39 C ___________________#####[_]&lt;_&gt;________________________
40 C ___________________######[&lt;_&gt;]________________________</code></pre></figure>

<p>This program uses its first six steps and states <code>A</code> and <code>B</code> to prepare a solid block of four marks. Then it switches to state <code>C</code>, never to reach another state again (and thus quasihalting). Over the course of the subsequent 28 steps that single state is miraculously able to clear the tape.</p>

<p>The preceding program description evinces a clear <strong>subroutine structure</strong> ‚Äì first arrange for the tape block to be filled in, then switch to the wipe state and wipe it. Indeed, this program appears to have been ‚Äúconstructed‚Äù in a modular fashion. Its <code>A</code> and <code>B</code> states are identical to the ‚ù∑‚ë° halting champion, <code>1RB 1LB 1LA 1RH</code>, except that instead of halting, it transitions to the appended <code>C</code> state. The state transition graph is not <em>strongly connected</em>, contravening the <strong><a href="https://nickdrozd.github.io/2021/01/26/spaghetti-code-conjecture.html">Spaghetti Code Conjecture</a></strong>. (It isn‚Äôt a proper counterexample though, since it can be dismissed as being ‚Äúnot sufficiently large‚Äù.)</p>

<p>The <strong>‚ùπ‚ë° Blanking Beaver champion</strong> reaches the blank tape in <strong>66345 steps</strong>. That number may sound familiar, as the champions for quasihalting and Lin recurrence both terminate in <strong>66349 steps</strong>. The presumptive champion program for all three termination conditions is the same: <code>1RB 0LC 1LD 0LA 1RC 1RD 1LA 0LD</code>. The different termination conditions are intended to be different ways of measuring the amount of complexity that can be fit into a program of a certain size. The fact that these unrelated predicates all seem to point to the same program suggests that in some sense, <strong>that program really is as complex as a ‚ùπ‚ë° program can be</strong>.</p>

<p>Here are the best known values for these various sequences:</p>



<table>
  <thead>
    <tr>
      <th>Predicate</th>
      <th>Steps</th>
      <th>Program</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Quasihalt</td>
      <td>6</td>
      <td><code>1RB 1LB 1LB 1LA</code></td>
    </tr>
    <tr>
      <td>Halt</td>
      <td>6</td>
      <td><code>1RB 1LB 1LA 1RH</code></td>
    </tr>
    <tr>
      <td>Blank Tape</td>
      <td>8</td>
      <td><code>1RB 0RA 1LB 1LA</code></td>
    </tr>
    <tr>
      <td>Recurrence</td>
      <td>9</td>
      <td><code>1RB 0LB 1LA 0RB</code></td>
    </tr>
  </tbody>
</table>



<table>
  <thead>
    <tr>
      <th>Predicate</th>
      <th>Steps</th>
      <th>Program</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Halt</td>
      <td>21</td>
      <td><code>1RB 1RH 1LB 0RC 1LC 1LA</code></td>
    </tr>
    <tr>
      <td>Blank Tape</td>
      <td>34</td>
      <td><code>1RB 1LB 1LA 1LC 1RC 0LC</code></td>
    </tr>
    <tr>
      <td>Quasihalt</td>
      <td>55</td>
      <td><code>1RB 0LB 1LA 0RC 1LC 1LA</code></td>
    </tr>
    <tr>
      <td>Recurrence</td>
      <td>101</td>
      <td><code>1RB 1LB 0RC 0LA 1LC 0LA</code></td>
    </tr>
  </tbody>
</table>



<table>
  <thead>
    <tr>
      <th>Predicate</th>
      <th>Steps</th>
      <th>Program</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Halt</td>
      <td>38</td>
      <td><code>1RB 2LB 1RH 2LA 2RB 1LB</code></td>
    </tr>
    <tr>
      <td>Quasihalt</td>
      <td>59</td>
      <td><code>1RB 2LB 1LA 2LB 2RA 0RA</code></td>
    </tr>
    <tr>
      <td>Blank Tape</td>
      <td>77</td>
      <td><code>1RB 2LA 0RB 1LA 0LB 1RA</code></td>
    </tr>
    <tr>
      <td>Recurrence</td>
      <td>165</td>
      <td><code>1RB 0LA ... 1LB 2LA 0RB</code></td>
    </tr>
  </tbody>
</table>



<table>
  <thead>
    <tr>
      <th>Predicate</th>
      <th>Steps</th>
      <th>Program</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Halt</td>
      <td>107</td>
      <td><code>1RB 1LB 1LA 0LC 1RH 1LD 1RD 0RA</code></td>
    </tr>
    <tr>
      <td>Blank Tape</td>
      <td>66345</td>
      <td><code>1RB 0LC 1LD 0LA 1RC 1RD 1LA 0LD</code></td>
    </tr>
    <tr>
      <td>Quasihalt</td>
      <td>66349</td>
      <td><code>1RB 0LC 1LD 0LA 1RC 1RD 1LA 0LD</code></td>
    </tr>
    <tr>
      <td>Recurrence</td>
      <td>66349</td>
      <td><code>1RB 0LC 1LD 0LA 1RC 1RD 1LA 0LD</code></td>
    </tr>
  </tbody>
</table>

<p><strong>Computability theory</strong> tells us that the quasihalting sequence must eventually dominate the halting sequence. Additionally, it‚Äôs almost certainly the case that the recurrence and blank tape sequences also dominate the halting sequence, but that has not been proved. All that said, no values have been found that beat the halting sequence for the ‚ù∫‚ë° and ‚ù∑‚ë£ cases. <strong>Finding new champions will not be easy.</strong></p>

<p>üõÇ <strong>EXERCISE</strong> üõÇ This post makes <strong>two major changes to previously used terminology</strong>. What are the changes, and why were they made?</p>

<p>üõÇ <strong>EXERCISE</strong> üõÇ Fill in the following table to show the <strong>resource access</strong> required to implement each termination predicate:</p>

<table>
  <thead>
    <tr>
      <th>&nbsp;</th>
      <th>Halt</th>
      <th>Quasihalt</th>
      <th>Recurrence</th>
      <th>Blank Tape</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Mac‚Ä¶</strong></td></tr></tbody></table></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://nickdrozd.github.io/2021/02/14/blanking-beavers.html">https://nickdrozd.github.io/2021/02/14/blanking-beavers.html</a></em></p>]]>
            </description>
            <link>https://nickdrozd.github.io/2021/02/14/blanking-beavers.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26138724</guid>
            <pubDate>Mon, 15 Feb 2021 03:29:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Explaining Tesla Changes Post-Firmware 2019.16 Regarding Range Loss]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26138644">thread link</a>) | @STRML
<br/>
February 14, 2021 | https://skie.net/skynet/projects/tesla/view_post/23_Explaining+Changes+post-firmware+2019.16+Regarding+Range+Loss | <a href="https://web.archive.org/web/*/https://skie.net/skynet/projects/tesla/view_post/23_Explaining+Changes+post-firmware+2019.16+Regarding+Range+Loss">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><b><span size="4">NOTE</span></b></p><p>This writeup and its accompanying images are Copyright 2021 - Jason Hughes, All rights reserved.&nbsp; No portion of this content may be copied or distributed outside of this site without my express written permission.&nbsp; If you wish to disseminate this information, you may do so in the form of a direct link to this writeup.</p><p>I'm posting this on my own (outdated) site for personal reasons (some noted below).</p><p>---</p><p><b><u><span size="4">I will preface all of this with a bit of a disclaimer</span></u></b></p><p>First, 99.9% of the information here is derived from first hand reverse engineering of Tesla‚Äôs BMS, BMS firmware, and other aspects of the Tesla vehicles.&nbsp; Reverse engineering is not an exact science, as in, you don‚Äôt get the exact code used to create the software out of the process, and obviously the developer‚Äôs commentary/comments are not available either.&nbsp; Much of what is derived relies on some logical interpretation to determine the intended functionality of particular code.&nbsp; While there is a lot of human-readable text in some parts of the code, this isn‚Äôt always the case.</p><p>I‚Äôve been working on hardware and software design, including reverse engineering of the same, for the better part of 20 years now.&nbsp; While I have extensive knowledge and experience, I don‚Äôt personally consider myself to be an expert in the field.&nbsp; Many others definitely disagree, and do consider me to be an expert.</p><p>All of that said, what I‚Äôm mainly trying to convey is that I‚Äôm definitely not perfect.&nbsp; It‚Äôs quite possible my interpretation of how all of this works has flaws, and my speculation as to the intention of the developers may also be flawed.&nbsp; I do believe this information is as correct as possible given the information available, however, and is likely the most complete picture that will be available.</p><p>I‚Äôll also note that this is a pretty technical explanation of the situation, and some background knowledge of the general topic and technology will be needed to fully understand.&nbsp; I‚Äôll go over some of the background info that is situation-specific, but you‚Äôll likely have to do your own research to fill in any gaps in your knowledge.</p><p>If I jump around a lot, my apologies.&nbsp; I'm also not the best writer, overall.&nbsp;&nbsp;I have a lot of information I'm trying to condense into a single writeup here, with lots of connections between the various content.</p><p>Finally, I‚Äôll make a blanket note that nothing here has anything to do with any battery fires or safety issues.&nbsp; In a worst case scenario, unmitigated Condition X or Z results in the vehicle being unusable.&nbsp; In no instance is either situation responsible for fires or other safety concerns.</p><p>---</p><p>Quick background.&nbsp; Over a year ago I discovered some interesting mechanics in the Tesla BMS code.&nbsp; At the time, it was in my best interest to not publicly disclose those findings in their entirety, so I dubbed the issues the code was attempting to mitigate ‚ÄúCondition X‚Äù and ‚ÄúCondition Z‚Äù.&nbsp; You can read more about that in a <a href="https://teslamotorsclub.com/tmc/posts/3719582/">megathread on TMC</a>, if you like, but suffice it to say:</p><p><b>Condition X</b>: A stuck balancing MOSFET (or other similar drain on a single cell group)</p><p><b>Condition Z</b>: Measurement accuracy failure on cell group (BMB sense failure, corrosion, mechanical PCB failure, etc)</p><p><u><b><span size="4">Some required background knowledge and definitions</span></b></u></p><p><img src="https://057tech.com/pimages/batterypackpi.jpg"><br></p><p><i><span size="1">Image: Opened 85 kWh Battery Pack (C)&nbsp;<a href="https://057tech.com/">057 Technology, LLC</a>, Jason Hughes</span></i><br></p><p>Tesla Model S and X battery ‚Äúpacks‚Äù, as of the time of this writing, consist of 14 ot 16 ‚Äúmodules‚Äù.&nbsp; Each module is made of 6 ‚Äúbricks‚Äù of 74 ‚Äúcells‚Äù. (There are some exceptions to this, but not important here.)&nbsp; The cells in each brick are connected in parallel.&nbsp; The bricks are connected to other bricks within a module in series.&nbsp; The modules themselves are connected in series to form a pack.&nbsp; This results in most packs having 96 cell groups in series.&nbsp; (For more basic definitions, consult your favorite search engine.)</p><p>Each pack module has a BMB (Battery Management Board) attached which monitors the voltage of each brick on that module, can bleed energy at a slow rate from each brick individually when needed for balancing, along with some temperature probes.&nbsp; The BMBs are connected to the main BMS (Battery Management System) at the rear of the pack which controls the bulk of the functionality of the battery‚Äôs monitoring and safety systems.</p><p>The BMBs can only discharge cell groups, they can not move energy from one cell group to another or otherwise charge any cell group.&nbsp; This is active balancing, but not charge shuffling.&nbsp; The cells with the highest voltage get their balancer circuits enabled in order to bring their voltage down and in line with the rest of the cell groups within a battery pack.</p><p>Keeping a large lithium ion battery with many cells in series in balance is critical for the safety, reliability, and longevity of the battery pack.&nbsp; I won‚Äôt get into all of the details on why this is the case here, but information on this is widely available.</p><p>---</p><p><u><b><span size="4">Onward to explanations</span></b></u></p><p><b><u><span size="4">Early 2019</span></u></b></p><p>Tesla started adding a bunch of problem detection code to the BMS sometime in early 2019.&nbsp; To me, the bulk of this seemed very preemptive, as-in nothing they were looking for had presented itself in the wild to the best of my knowledge.&nbsp; There are tons of things the BMS checks for that I personally never would have even thought of.&nbsp; Kudos to the engineers on this.&nbsp; It‚Äôs a remarkable feat for sure.</p><p>One of those problem detectors was to detect ‚ÄúCondition X‚Äù, a stuck MOSFET on a BMS resulting in a perpetual imbalance of a cell group.&nbsp; This seems like a sensible thing to look for.&nbsp; With hundreds of millions of these tiny MOSFETs in the wild, it‚Äôs only a matter of time before one fails closed and causes a problem.</p><p>Back when I initially started to see the code and algorithms for Condition X detection and mitigation (through ongoing reverse engineering), I was alarmed.&nbsp; It seemed to me that Tesla was trying to hide a BMS failure/flaw at the expense of customer usability.&nbsp; Since this came about the same time as the now infamous range loss update, and since Condition Z was not yet known, it also seemed like this was a much more widespread problem than it really was.</p><p>Further, my analysis of the code, along with influence from the media around amplifying a handful of vehicle fires, lead me to some incorrect conclusions about the function of some of the code (see my preface).&nbsp; At the time, I misinterpreted a part of the algorithm and thought that they may be mitigating some kind of unexplained voltage _rise_ in a cell group, which could be catastrophic.&nbsp; There‚Äôs no evidence this is the case.&nbsp; This line of thought was purely human error on my part when missing the sign bit on a section of reverse engineered code (if you‚Äôre not a programmer I suggest you skip understanding this explanation, accept it was a trivial error on my part, and move on).</p><p>Based on this, I pretty hastily posted publicly that there may be an issue, and it may be a safety issue.&nbsp; This definitely got some attention on the range loss issue.</p><p>I began examining and piecing together the code more closely, and eventually I realized that the code was trying to detect an unexplained voltage _drop_ in a cell group, not a rise (from a stuck MOSFET).&nbsp; This was bad, but definitely way better than what I had originally interpreted.&nbsp; An unexplained drop could result in the loss of use of the battery pack, perpetual imbalance, etc.</p><p>After seeing a slew of updates with new BMS code coming down the line, I took a step back and tried to see the bigger picture.&nbsp; Finally the distinction between Condition X and Z became apparent.</p><p><b><u><span size="4">Conditions X and Z</span></u></b></p><p>I eventually made some followup tweets and TMC posts about the issue, but after getting some mostly unsolicited but solid advice on the matter, along with some professional courtesy and general CYA thinking, I decided not to detail exactly what I believed the conditions were.&nbsp; It was obvious to me that the engineers were working hard to figure this out and come up with a solution.&nbsp; It didn‚Äôt make sense to push people in the wrong direction on this and cause more problems all around.&nbsp; At the time there was no mitigation in place for Condition Z, so it wouldn‚Äôt do any good to know about it anyway.&nbsp; My suggestion to the community was to just update, make sure you don‚Äôt get stranded, and wait it out.</p><p>(Some trivial info: I decided on Condition X and Condition Z based on the way engineers were doing various things in the BMS code related to the different algorithms.&nbsp; My hope was that should a Tesla BMS engineer see my notes, they‚Äôd make the association.&nbsp; Never confirmed either way.)</p><p><b><u><span size="4">X</span></u></b></p><p>If a battery pack has ‚ÄúCondition X‚Äù, a stuck MOSFET on a balancer circuit, this is very bad.&nbsp; If the balancer circuit is stuck on, the BMB is always going to be draining power from that cell group.&nbsp; The end result is that balancing the battery pack is now completely impossible.</p><p>Why? Because now no cell group can ever be brought to a lower voltage than the group with the stuck balancer circuit.&nbsp; The BMS now has to enable ALL of the remaining balancers in order to bring the rest of the battery pack back as close as possible to with the group that is too low.&nbsp; This results in a loss of range for multiple reasons: parasitic/vampire drain (roughly 1% SoC per day); and since the lowest point possible to discharge to has now been raised for all cells due to the lowest cell always being lower than the rest of the pack.&nbsp; It will eventually result in complete failure of the pack as the imbalance grows beyond acceptable limits, especially if the vehicle is left sitting idle for extended periods.&nbsp; To my knowledge, there have been no non-contrived examples of this in the wild.</p><p>Given the amount of vehicles quickly ‚Äúdetecting‚Äù Condition X, it was obvious a stuck MOSFET couldn‚Äôt explain the triggering.&nbsp; Additionally, the bulk of those detections (in my testing and research) were triggering for the 6th cell group, and not randomly distributed.&nbsp; It also was not being detected at all in newer packs, nor in the oldest of packs, both of which also had the same MOSFETs.&nbsp; ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://skie.net/skynet/projects/tesla/view_post/23_Explaining+Changes+post-firmware+2019.16+Regarding+Range+Loss">https://skie.net/skynet/projects/tesla/view_post/23_Explaining+Changes+post-firmware+2019.16+Regarding+Range+Loss</a></em></p>]]>
            </description>
            <link>https://skie.net/skynet/projects/tesla/view_post/23_Explaining+Changes+post-firmware+2019.16+Regarding+Range+Loss</link>
            <guid isPermaLink="false">hacker-news-small-sites-26138644</guid>
            <pubDate>Mon, 15 Feb 2021 03:11:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Good Ideas, Through the Looking Glass (PDF, 2005)]]>
            </title>
            <description>
<![CDATA[
Score 37 | Comments 3 (<a href="https://news.ycombinator.com/item?id=26138218">thread link</a>) | @benhoyt
<br/>
February 14, 2021 | https://people.inf.ethz.ch/wirth/Articles/GoodIdeas_origFig.pdf | <a href="https://web.archive.org/web/*/https://people.inf.ethz.ch/wirth/Articles/GoodIdeas_origFig.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://people.inf.ethz.ch/wirth/Articles/GoodIdeas_origFig.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-26138218</guid>
            <pubDate>Mon, 15 Feb 2021 02:00:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Phone vs. Supercomputers]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 5 (<a href="https://news.ycombinator.com/item?id=26138069">thread link</a>) | @ca98am79
<br/>
February 14, 2021 | https://www.tnhh.net/posts/phone-power.html | <a href="https://web.archive.org/web/*/https://www.tnhh.net/posts/phone-power.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>Today, I looked up how many <a href="https://en.wikipedia.org/wiki/FLOPS">floating point operations per second</a> (FLOPS) that an iPhone can do. It turns out the A14 chip in the iPhone <a href="https://www.forbes.com/sites/moorinsights/2020/10/15/apple-claims-the-iphone-12s-a14-bionic-challenges-laptops-but-gives-no-details/">can do about 11 TFlOPS according to Apple</a>. Let's give Apple the benefits of the doubt and not get too deep into how they got that number, and put it to perspective and compare the iPhone with the <a href="https://en.wikipedia.org/wiki/History_of_supercomputing">Top 500 Supercomputers</a> in the world over the years:</p>
<p><img src="https://www.tnhh.net/assets/posts-images/iphone-vs-supercomputers.png" alt="iPhone vs Supercomputers"></p>
<p>The green line is how much computing power that little phone I'm holding in my hands has. If released in 2009, it would have made it to the list of top 500 supercomputers in the world! It has more computing power than the most powerful computer in the world in 2002. It has the combined computing power of the 1997's top 500 supercomputers in the whole world.</p>
<p>People talked about how the computer on Appolo was so slow. I get it, but I can hardly relate to that. I wasn't born then. However, 2009 was just 12 years ago. I could still remember it vividly. I was a freshman student then.</p>
<p>Reflecting on that, I figured:</p>
<ul>
<li>Something with the form factor and power envelope of the phone alone is already exceedingly powerful. It could potentially do things that humankind couldn't achieve just ten years ago.</li>
<li>On the other hand, I don't need to have the most whizz-bang computer or phone to make programs that do amazing things. Writing programs for older hardware can be a pleasure. Supporting older hardware makes programs I create more accessible to a larger part of the human population.</li>
<li>As a programmer, when I complain about the phone or any computer I have is not powerful enough for whatever I want to do, it's much more likely it's me doing something wrong.</li>
<li>The world changes faster than my mind conceives. I need to be humble about what I know. Things I know to be fast becomes slow sooner than I expect. In the same realm, maybe ideas that I know to be good become bad sooner than I expect. Those ideas are not necessarily limited to technology: Maybe ideas in science, humanities, and society also envolve that way. It is just harder to put into numbers like TFLOPS.</li>
</ul>
<p>We have the most power computer in our pocket. Doing something amazing with that power should constantly be a question on our mind. All that power just to push one more ads is a fucking stupid and disgusting idea.</p>
<hr>

<hr>
</div></div>]]>
            </description>
            <link>https://www.tnhh.net/posts/phone-power.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26138069</guid>
            <pubDate>Mon, 15 Feb 2021 01:32:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Simulate I/O Faults at Runtime]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26137993">thread link</a>) | @jinqueeny
<br/>
February 14, 2021 | https://chaos-mesh.org/blog/how-to-simulate-io-faults-at-runtime | <a href="https://web.archive.org/web/*/https://chaos-mesh.org/blog/how-to-simulate-io-faults-at-runtime">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><p><img alt="Chaos Engineering - How to simulate I/O faults at runtime" src="https://chaos-mesh.org/assets/images/how-to-simulate-io-faults-at-runtime-39daaf89aa83a5be58402f763db0d5c5.jpg"></p><p>In a production environment, filesystem faults might occur due to various incidents such as disk failures and administrator errors. As a Chaos Engineering platform, Chaos Mesh has supported simulating I/O faults in a filesystem ever since its early versions. By simply adding an IOChaos CustomResourceDefinition (CRD), we can watch how the filesystem fails and returns errors.</p><p>However, before Chaos Mesh 1.0, this experiment was not easy and may have consumed a lot of resources. We needed to inject sidecar containers to the Pod through the mutating admission webhooks and rewrite the <code>ENTRYPOINT</code> command. Even if no fault was injected, the injected sidecar container caused a substantial amount of overhead.</p><p>Chaos Mesh 1.0 has changed all this. Now, we can use IOChaos to inject faults to a filesystem at runtime. This simplifies the process and greatly reduces system overhead. This blog post introduces how we implement the IOChaos experiment without using a sidecar.</p><h2>I/O fault injection<a href="#io-fault-injection" title="Direct link to heading">#</a></h2><p>To simulate I/O faults at runtime, we need to inject faults into a filesystem after the program starts <a href="https://man7.org/linux/man-pages/man2/syscall.2.html" target="_blank" rel="noopener noreferrer">system calls</a> (such as reads and writes) but before the call requests arrive at the target filesystem. We can do that in one of two ways:</p><ul><li>Use Berkeley Packet Filter (BPF); however, it <a href="https://github.com/iovisor/bcc/issues/2336" target="_blank" rel="noopener noreferrer">cannot be used to inject delay</a>.</li><li>Add a filesystem layer called ChaosFS before the target filesystem. ChaosFS uses the target filesystem as the backend and receives requests from the operating system. The entire call link is <strong>target program syscall</strong> -&gt; <strong>Linux kernel</strong> -&gt; <strong>ChaosFS</strong> -&gt; <strong>target filesystem</strong>. Because ChaosFS is customizable, we can inject delays and errors as we want. Therefore, ChaosFS is our choice.</li></ul><p>But ChaosFS has several problems:</p><ul><li>If ChaosFS reads and writes files in the target filesystem, we need to <a href="https://man7.org/linux/man-pages/man2/mount.2.html" target="_blank" rel="noopener noreferrer">mount</a> ChaosFS to a different path than the target path specified in the Pod configuration. ChaosFS <strong>cannot</strong> be mounted to the path of the target directory.</li><li>We need to mount ChaosFS <strong>before</strong> the target program starts running. This is because the newly-mounted ChaosFS takes effect only on files that are newly opened by the program in the target filesystem.</li><li>We need to mount ChaosFS to the target containter's <code>mnt</code> namespace. For details, see <a href="https://man7.org/linux/man-pages/man7/mount_namespaces.7.html" target="_blank" rel="noopener noreferrer">mount_namespaces(7) ‚Äî Linux manual page</a>.</li></ul><p>Before Chaos Mesh 1.0, we used the <a href="https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/" target="_blank" rel="noopener noreferrer">mutating admission webhook</a> to implement IOChaos. This technique addressed the three problems lists above and allowed us to:</p><ul><li>Run scripts in the target container. This action changed the target directory of the ChaosFS's backend filesystem (for example, from <code>/mnt/a</code> to <code>/mnt/a_bak</code>) so that we could mount ChaosFS to the target path (<code>/mnt/a</code>).
Modify the command that starts the Pod. For example, we could modify the original command <code>/app</code> to <code>/waitfs.sh /app</code>.</li><li>The <code>waitfs.sh</code> script kept checking whether the filesystem was successfully mounted. If it was mounted, <code>/app</code> was started.</li><li>Add a new container in the Pod to run ChaosFS. This container needed to share a volume with the target container (for example, <code>/mnt</code>), and then we mounted this volume to the target directory (for example, <code>/mnt/a</code>). We also properly enabled <a href="https://kubernetes.io/docs/concepts/storage/volumes/#mount-propagation" target="_blank" rel="noopener noreferrer">mount propagation</a> for this volume's mount to penetrate the share to host and then penetrate slave to the target.</li></ul><p>These three approaches allowed us to inject I/O faults while the program was running. However, the injection was far from convenient:</p><ul><li>We could only inject faults into a volume subdirectory, not into the entire volume. The workaround was to replace <code>mv</code> (rename) with <code>mount move</code> to move the mount point of the target volume.</li><li>We had to explicitly write commands in the Pod rather than implicitly use the image commands. Otherwise, the <code>/waitfs.sh</code> script could not properly start the program after the filesystem was mounted.</li><li>The corresponding container needed to have a proper configuration for mount propagation. Due to potential privacy and security issues, we <strong>could not</strong> modify the configuration via the mutating admission webhook.</li><li>The injection configuration was troublesome. Worse still, we had to create a new Pod after the configuration was able to inject faults.</li><li>We could not withdraw ChaosFS while the program was running. Even if no fault or error was injected, the performance was greatly affected.</li></ul><h2>Inject I/O faults without the mutating admission webhook<a href="#inject-io-faults-without-the-mutating-admission-webhook" title="Direct link to heading">#</a></h2><p>What about cracking these tough nuts without the mutating admission webhook? Let's get back and think a bit about the reason why we used the mutating admission webhook to add a container in which ChaosFS runs. We do that to mount the filesystem to the target container.</p><p>In fact, there is another solution. Instead of adding containers to the Pod, we can first use the <code>setns</code> Linux system call to modify the namespace of the current process and then use the <code>mount</code> call to mount ChaosFS to the target container. Suppose that the filesystem to inject is <code>/mnt</code>. The new injection process is as follows:</p><ol><li>Use <code>setns</code> for the current process to enter the mnt namespace of the target container.</li><li>Execute <code>mount --move</code> to move <code>/mnt</code> to <code>/mnt_bak</code>.</li><li>Mount ChaosFS to <code>/mnt</code> and use <code>/mnt_bak</code> as the backend.</li></ol><p>After the process is finished, the target container will open, read, and write the files in <code>/mnt</code> through ChaosFS. In this way, delays or faults are injected much more easily. However, there are still two questions to answer:</p><ul><li>How do you handle the files that are already opened by the target process?</li><li>How do you recover the process given that we cannot unmount the filesystem when files are opened?</li></ul><h3>Dynamically replace file descriptors<a href="#dynamically-replace-file-descriptors" title="Direct link to heading">#</a></h3><p><strong>ptrace solves both of the two questions above.</strong> We can use ptrace to replace the opened file descriptors (FD) at runtime and replace the current working directory (CWD) and mmap.</p><h4>Use ptrace to allow a tracee to run a binary program<a href="#use-ptrace-to-allow-a-tracee-to-run-a-binary-program" title="Direct link to heading">#</a></h4><p><a href="https://man7.org/linux/man-pages/man2/ptrace.2.html" target="_blank" rel="noopener noreferrer">ptrace</a> is a powerful tool that makes the target process (tracee) to run any system call or binary program. For a tracee to run the program, ptrace modifies the RIP-pointed address to the target process and adds an <code>int3</code> instruction to trigger a breakpoint. When the binary program stops, we need to restore the registers and memory.</p><blockquote><p><strong>Note:</strong></p><p>In the <a href="https://en.wikipedia.org/wiki/X86_assembly_language" target="_blank" rel="noopener noreferrer">x86_64 architecture</a>, the RIP register (also called an instruction pointer) always points to the memory address at which the next directive is run.
To load the program into the target process memory spaces:</p></blockquote><ol><li>Use ptrace to call mmap in the target program to allocate the needed memory.</li><li>Write the binary program to the newly allocated memory and make the RIP register point to it.</li><li>After the binary program stops, call munmap to clean up the memory section.</li></ol><p>As a best practice, we often replace ptrace <code>POKE_TEXT</code> writes with <code>process_vm_writev</code> because if there is a huge amount of data to write, <code>process_vm_writev</code> performs more efficiently.</p><p>Using ptrace, we are able to make a process to replace its own FD. Now we only need a method to make that replacement happen. This method is the <code>dup2</code> system call.</p><h4>Use <code>dup2</code> to replace file descriptor<a href="#use-dup2-to-replace-file-descriptor" title="Direct link to heading">#</a></h4><p>The signature of the <code>dup2</code> function is <code>int dup2(int oldfd, int newfd);</code>. It is used to create a copy of the old FD (<code>oldfd</code>). This copy has an FD number of <code>newfd</code>. If <code>newfd</code> already corresponds to the FD of an opened file, the FD on the file that's already opened is automatically closed.</p><p>For example, the current process opens <code>/var/run/__chaosfs__test__/a</code> whose FD is <code>1</code>. To replace this opened file with <code>/var/run/test/a</code>, this process performs the following operations:</p><ol><li>Uses the <code>fcntl</code> system call to get the <code>OFlags</code> (the parameter used by the <code>open</code> system call, such as <code>O_WRONLY</code>) of <code>/var/run/__chaosfs__test__/a</code>.</li><li>Uses the <code>Iseek</code> system call to get the current location of <code>seek</code>.</li><li>Uses the <code>open</code> system call to open <code>/var/run/test/a</code> using the same <code>OFlags</code>. Assume that the FD is <code>2</code>.</li><li>Uses <code>Iseek</code> to change the <code>seek</code> location of the newly opened FD <code>2</code>.</li><li>Uses <code>dup2(2, 1)</code> to replace the FD <code>1</code> of <code>/var/run/__chaosfs__test__/a</code> with the newly opened FD <code>2</code>.</li><li>Closes FD <code>2</code>.</li></ol><p>After the process is finished, FD <code>1</code> of the current process points to <code>/var/run/test/a</code>. So that we can inject faults, any subsequent operations on the target file go through the <a href="https://en.wikipedia.org/wiki/Filesystem_in_Userspace" target="_blank" rel="noopener noreferrer">Filesystem in Userspace</a> (FUSE). FUSE is a software interface for Unix and Unix-like computer operating systems that lets non-privileged users create their own file systems without editing kernel code.</p><h4>Write a program to make the target process replace its own file descriptor<a href="#write-a-program-to-make-the-target-process-replace-its-own-file-descriptor" title="Direct link to heading">#</a></h4><p>The combined functionality of ptrace and dup2 makes it possible for the tracer to make the tracee replace the opened FD by itself. Now, we need to write a binary program and make the target process run it:</p><blockquote><p><strong>Note:</strong></p><p>In the implementation above, we assume that:</p><ul><li>The threads of the target process are POSIX threads and share the opened files.</li><li>When the target process creates threads using the <code>clone</code> function, the <code>CLONE_FILES</code> parameter is passed.</li></ul><p>Therefore, Chaos Mesh only replaces the FD of the first thread in the thread group.</p></blockquote><ol><li>Write a piece of assembly code according to the two sections above and the usage of syscall directives. <a href="https://github.com/chaos-mesh/toda/blob/1d73871d8ab72b8d1eace55f5222b01957193531/src/replacer/fd_replacer.rs#L133" target="_blank" rel="noopener noreferrer">Here</a> is an example of the assembly code.</li><li>Use an assembler to translate the code into a binary program. We use <a href="https://github.com/CensoredUsername/dynasm-rs" target="_blank" rel="noopener noreferrer">dynasm-rs</a> as the assembler.</li><li>Use ptrace to make the target process run this program.
When the program runs, the FD is replaced at runtime.</li></ol><h3>Overall fault injection process<a href="#overall-fault-injection-process" title="Direct link to heading">#</a></h3><p>The following diagram illustrates the overall I/O fault injection process:</p><p><img alt="Fault injection process" src="https://chaos-mesh.org/assets/images/fault-injection-process-581a3b4c6954f9ccb3fc9eb17f45f937.jpg"></p><p> Fault injection process </p><p>In this diagram, each horizontal line corresponds to a thread that runs in the direction of the arrows. The <strong>Mount/Umount Filesystem</strong> and <strong>Replace FD</strong> tasks are carefully arranged in sequence. Given the process above, this arrangement makes a lot of sense.</p><h2>What's next<a href="#whats-next" title="Direct link to heading">#</a></h2><p>I've discussed how we implement fault injection to simulate I/O faults at runtime (see <a href="https://github.com/chaos-mesh/toda" target="_blank" rel="noopener noreferrer">chaos-mesh/toda</a>). However, the current implementation is far from perfect:</p><ul><li>Generation numbers are not supported.</li><li>ioctl is not supported.</li><li>Chaos Mesh does not immediately determine whether a filesystem is successfully mounted. It does so only after one second.</li></ul><p>If you are interested in Chaos Mesh and would like to help us improve it, you're welcome to join <a href="https://cloud-native.slack.com/join/shared_invite/zt-fyy3b8up-qHeDNVqbz1j8HDY6g1cY4w#/" target="_blank" rel="noopener noreferrer">our Slack channel</a> or submit ‚Ä¶</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://chaos-mesh.org/blog/how-to-simulate-io-faults-at-runtime">https://chaos-mesh.org/blog/how-to-simulate-io-faults-at-runtime</a></em></p>]]>
            </description>
            <link>https://chaos-mesh.org/blog/how-to-simulate-io-faults-at-runtime</link>
            <guid isPermaLink="false">hacker-news-small-sites-26137993</guid>
            <pubDate>Mon, 15 Feb 2021 01:22:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Education, Training and Opportunity]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26137921">thread link</a>) | @DoreenMichele
<br/>
February 14, 2021 | http://www.eclogiselle.com/2021/02/education-training-and-opportunity.html | <a href="https://web.archive.org/web/*/http://www.eclogiselle.com/2021/02/education-training-and-opportunity.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div id="post-body-5430107209529109817"><p>
One way to try to buffer against gentrification while improving your community is to try to grow your people in a way that helps them adapt, change and keep up financially. This is often given short shrift in community development plans, which is part of why the rich get richer and the poor get poorer.

</p><p>
It's a hard thing to do in part because "You can lead a horse to water but you cannot make it drink." So a lot of programs and communities more or less throw in the towel on this and just try to give charity to poor people rather than education, training and opportunity.
</p><p>
This is a poor practice because charity can only really provide short-term relief. It cannot provide long-term solutions.
</p><p>
This basically falls under that saying "Give a man a fish, feed him for the day. Teach a man to fish, feed him for a lifetime." 
</p><p>
Free meal sites help people survive another day, but they don't help poor people resolve their problems. They may be necessary relief for a community with high poverty rates but they don't really fix the problem.

</p><p>
Education and training can be hard to readily tell apart, especially in our complex world where you need a great deal of basic education before you are even ready for training. These days, college education may be appropriate and even a necessary prerequisite for jobs that at one time were menial labor performed by people with little in the way of education.
</p><p>
A few generations ago, it was fairly common for people in America to drop out of school after middle school because they were going to be farm hands and didn't need more formal education than that. These days, even working on a farm can involve dealing with such abstract topics as genetics. 


</p><p>

In a nutshell, education informs you, broadens your mind and teaches you to think more effectively while training develops specific skills, usually with a goal of making you more employable. Credentialing is a separate issue from education and training and matters a great deal for making people more employable but may not matter at all for simply improving competence and quality of life.
</p><p>
The detail of credentialing is part of why we have trouble telling education and training apart. We think of college as <i>education</i> but a college degree can also be important credentialing to get your foot in the door career-wise. 
</p><p>

If you are doing community development work and you identify a local issue, such as a lack of financial literacy, you can work at trying to foster education in that area without worrying about credentialing. It can be enough to make resources available to locals to try to encourage them to get better at this. 
</p><p>
Those resources might include uncredentialed local classes, book lists, podcasts or various other free materials. With the wealth of free, quality materials available online today, putting together the materials may be the easy part of such a program. 
</p><p>
Getting the word out and getting people to participate and take it seriously may be the harder part of such a program. You may also face challenges in trying to measure how effective your effort has been and/or prove that it makes a difference.

</p><p>
But if your goal is to improve employability, you will want to focus on training and credentialing. You will want to help them acquire skills that make them more employable and/or acquire proof of such skills.
</p><p>
Sometimes people have skills and knowledge but they lack credentials. In other words they don't know how to prove they have those skills. 
</p><p>
Sometimes just helping people find ways to get credentials or somehow prove their ability and show their competence can make a big difference in their lives. Maybe they developed a skill as a hobby and it's potentially worth money <i>if they can prove they have that skill or knowledge</i>.

</p><p>

Opportunity is separate from education and training. Sometimes opportunity is the big stumbling block for some individuals or populations.

</p><p>
Populations that face prejudice and other barriers to opportunity are at increased risk of homelessness. This can include LGBTQ individuals, people of color, homemakers/former homemakers and handicapped people. 
</p><p>
If they actually end up homeless, this further exacerbates the problem. Being homeless can make it difficult to access any kind of paid work, even if they have plenty of education and training, both due to prejudice and logistical issues. 

</p><p>
Identifying barriers to opportunity for locals and helping them find ways around that can help improve employment stats and average local income levels. It can do so directly and fairly immediately without first jumping through hoops to gain additional education or training. 


</p><p>
In practice, people who lack opportunity are often given the message that what they need is more education or training when oftentimes what they really need more immediately is simply more earned income (aka more opportunity). If someone is poor, helping them access paid work as quickly as possible may be a better remedy than directing them to educational and training resources.
</p><p>
This fact is why I run various websites and subreddits aimed at helping people access opportunity, even if they are currently homeless or have other barriers to establishing earned income. This includes the following:

</p><ul><li><a href="https://writepay.blogspot.com/">Write Pay</a></li>
  <li><a href="https://www.reddit.com/r/GigWorks/">r/GigWorks</a></li>
  <li><a href="https://www.reddit.com/r/NorthToAlaska/">r/NorthToAlaska</a></li></ul><p>

Entrepreneurs are often more interested in education and training than in credentials. In many cases, if you have some means to make money, acquiring additional skills to up your game can improve your income without needing to have a piece of paper to prove to someone that you got the education or training in question. Simply knowing how to do things better may be all you really need to further improve your income.
</p><p>

Relatedly, people who face barriers to regular employment may be best served by helping them become freelancers or entrepreneurs or to seek "irregular employment," such as seasonal jobs. Inability to get or keep a regular job doesn't necessarily have to mean inability to earn an income.
</p><p>

In the US, Black Americans have a long history of pursuing creative arts as a means to get ahead. The LGBTQ crowd also is similarly associated with creative arts, such as the music industry and acting.
</p><p>

If you are doing community development work, it may help to be aware of the fact that some kinds of work may be easier to access for people with barriers to opportunity and employment. Pointing people to industries more welcoming of people like them may help them succeed.
</p><p>
But you also need to be aware that directing people to jobs more welcoming of "their kind" can also be an insidious means to reinforce class barriers, racial barriers and other entrenched social ills. You should guard against shuttling marginalized people into jobs that will prove to be a dead end in the long term.

</p><p>
If there is a low barrier to entry and a low ceiling on earnings capacity and future career opportunities, it is a dead end job. The way to identify opportunity that doesn't reinforce social ills is to look for paths with a low barrier to entry and a high ceiling. 
</p><p>

It can take some research to identify which paths offer a low barrier to entry and a high ceiling. It isn't always obvious that <i>this</i> entry level opportunity can lead to a future but <i>that one</i>, which looks very similar, probably won't.
</p><p>
For example, <a href="https://smallbiztrends.com/2019/04/franchise-employee-to-franchise-owner.html">most Domino's franchise owners began as Domino's employees</a>. So working at a Domino's pizza place may help people eventually become a franchise owner, if that interests them, but the same isn't necessarily true of other food service jobs.
</p><p>
It can take even more research to match a particular person to a path with a low barrier to entry and a high ceiling that is a good fit for them as an individual. This detail is one of the reasons so many programs throw in the towel on trying to provide opportunity to people with barriers to earned income and simply direct them to the welfare office and local sources of charity, like food banks.

</p><p>
If you are doing community development work, your greatest opportunity for growth is in helping the people who have barriers to earned income and barriers to making their lives work. You will get a lot further if you focus on helping this demographic to improve their lot in life in some meaningful way while deeply understanding and respecting why "You can lead a horse to water but you cannot make it drink." 
</p><p>
Metaphorically speaking, this particular "water" may be poison for this particular "horse." So don't force it.
</p><p>

But also don't give up on it. Even if you can't successfully help a particular individual, try to learn from them, deepen your understanding of the problem space and further develop your approach to solving these issues in your community.

</p><p>
If you are dealing a lot with people who are homeless, very poor or otherwise in crisis, you should develop a resource list you can hand out as an easy means to provide compassionate relief. Make a list of local food banks and other pertinent programs that you can give to people so they can "eat for today" while working on longer-term solutions that will "feed them for a lifetime."
</p><p>

But don't let charity and compassionate relief be a priority for you. Your priority needs to be fostering education, training and opportunity.

</p><p>
Giving someone a list of local sources for short-term charitable relief can help bring their stress levels down and can help make sure they are adequately well fed while pursuing education, training and opportunity. This means helping people readily find immediate relief can serve an important and constructive function for your community development work.

</p><p>
But always shoot for keeping your focus on "teach them how to fish" and keep a wary eye out for the possibility that people are showing up solely to get a free meal for the day with no goal of ever becoming independent. Don't allow the long-term development goals of your program to get derailed by your bleeding heart and/or their immediate sense of desperation.
</p><p>


It's fine ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.eclogiselle.com/2021/02/education-training-and-opportunity.html">http://www.eclogiselle.com/2021/02/education-training-and-opportunity.html</a></em></p>]]>
            </description>
            <link>http://www.eclogiselle.com/2021/02/education-training-and-opportunity.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26137921</guid>
            <pubDate>Mon, 15 Feb 2021 01:10:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ripen Scripting Language]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26137776">thread link</a>) | @todsacerdoti
<br/>
February 14, 2021 | https://felix.plesoianu.ro/languages/forth/ripen/index.html | <a href="https://web.archive.org/web/*/https://felix.plesoianu.ro/languages/forth/ripen/index.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">

<p>Welcome to Ripen, a stack-based scripting engine with highly readable syntax, that can be implemented with little code and effort in a language like C++ or D. It's informed by RetroForth and PostScript, but diverges from either in important ways, not least due to its string-threaded nature. Surprisingly, Ripen only seems to be about 6 times slower than the host language on a quick test ‚Äî much better than for other language families.

</p><p>Ripen is based on the principles explained in this <a href="https://notimetoplay.org/cgi-bin/wiki/More_about_tiny_scripting_engines"> interpreter construction tutorial</a>. The point is having a tiny engine, easily copy-pasted into any application, even hidden inside a bigger module. For this reason, the default vocabulary is kept small.

</p><h2>Download</h2>

<p>As of 6 December 2019, there are three implementations:

</p><ul>
 <li>the <a href="https://felix.plesoianu.ro/languages/forth/ripen/ripen.js">browser-based version</a> (embedded above);
 </li><li>the <a href="https://felix.plesoianu.ro/languages/forth/ripen/ripen.py">original Python prototype</a>;
 </li><li>a <a href="https://felix.plesoianu.ro/languages/forth/ripen/ripen-linux-x86_64.zip">native code edition</a> (395K) for 64-bit Linux PCs; includes D source code.
</li></ul>

<p>Ripen is free and open source software under the <a href="https://felix.plesoianu.ro/languages/forth/ripen/LICENSE.txt">Artistic License 2.0</a>.

</p><h2>Overview</h2>

<p>At a basic level, Ripen works like most similar languages:

</p><pre><code>
	? 3 2 + . cr
	5
	 
	ok
	? :squared dup * ;
	ok
	? 3 2 + squared . cr
	25
	 
	ok
</code></pre>

<p>Note the lack of a space after the colon: Ripen doesn't use parsing words, instead relying on sigils to achieve similar functionality. E.g. variables work like this:

</p><pre><code>
	? 3 2 - &gt;a
	ok
	? $a . cr
	1
	 
	ok
</code></pre>

<p>On the minus side, there are no proper quoted strings; words in parentheses are simply joined by a space. Note that the closing paren is a word too, so it <em>must</em> be space-separated itself, on both sides:

</p><pre><code>
	? (  Hello,  world!  ) .
	Hello, world!
	ok
</code></pre>

<p>Speaking of which, comments are C-style instead. They're also executable, so you'll want to leave them on the outside of word definitions:

</p><pre><code>
	? /* s -- */ :say . cr ;
	ok
	? ( Hello, world! ) say
	Hello, world!
	 
	ok
</code></pre>

<p>Last but not least, control structures are inspired by Logo, to make them a lot more readable than in other stack-based languages:

</p><pre><code>
	? 3 2 + 3 2 * &lt; [ ( Yes! ) . ] iftrue
	Yes!
	ok
	? [ $i . cr ] 3 times
	0
	 
	1
	 
	2
	 
	ok
</code></pre>

<p>In the above, square brackets delimit lists of words, that control structures treat as blocks of code. Curly braces are synonymous:

</p><pre><code>
	? { dup * } /squared
	ok
	? 5 squared . cr
	25
	 
	ok
</code></pre>

<p>The reason both are provided is that lists of the same kind can't nest. And yes, that's another way to define words; beware that an older definition by the same name will be overwritten, and the entire script will see the new one right away.

</p><p>Otherwise, Ripen only provides a minimum of vocabulary:

</p><ul>
 <li>arithmetic: +, -, *, /, mod, /mod, negate, abs, min, max, 1+, 1-;
 </li><li>comparisons and logic =, &lt;&gt;, &lt;, &lt;=, &gt;, &gt;=, and, or, not, true, false;
 </li><li>stack manipulation: drop, dup, over, 2dup, swap, rot, -rot, clear;
</li></ul>

<p>and a few more conveniences. Enter <code>words</code> for a complete list.

</p><p>This page demonstrates how to embed and extend the JS version.

</p></div></div>]]>
            </description>
            <link>https://felix.plesoianu.ro/languages/forth/ripen/index.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26137776</guid>
            <pubDate>Mon, 15 Feb 2021 00:47:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Learn Product Management]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26137582">thread link</a>) | @louisblytrhe
<br/>
February 14, 2021 | https://lu.ma/xtrqs5v2 | <a href="https://web.archive.org/web/*/https://lu.ma/xtrqs5v2">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-gramm="false" data-slate-editor="true" data-slate-node="value"><p data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><strong><span data-slate-string="true">Month 1: What is Product Management?</span></strong></span></span></p><ul data-slate-node="element"><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">What is Product Management?</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">A PMs Purpose</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Agile and Product Management</span></span></span></li></ul><p data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><strong><span data-slate-string="true">Month 2: Mission, Vision and Goals</span></strong></span></span></p><ul data-slate-node="element"><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Long term mission</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">5-year vision</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Goals and Metrics</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Pirate (AARRR) Metrics</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">HEART Framework</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">The Product Strategy Canvas</span></span></span></li></ul><p data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><strong><span data-slate-string="true">Month 3: Objectives, Strategies and Tactics</span></strong></span></span></p><ul data-slate-node="element"><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Building Empathy</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Effective Customer Interviews Preview</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Good User Personas</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Empathy Maps</span></span></span></li></ul><p data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><strong><span data-slate-string="true">Month 4: Working On Everything</span></strong></span></span></p><ul data-slate-node="element"><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Identifying The Problem</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Kill Your Bias</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Focus on the Problem</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Jobs to Be Done</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Problems vs Requirements</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Opportunities: Choosing the Right Problem</span></span></span></li></ul><p data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><strong><span data-slate-string="true">Month 5: Epics, Stories and Tasks</span></strong></span></span></p><ul data-slate-node="element"><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Roadmap</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">User Stories</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Sprints</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Retrospectives</span></span></span></li></ul><p data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Month 5: Coming Soon</span></span></span></p></div></div>]]>
            </description>
            <link>https://lu.ma/xtrqs5v2</link>
            <guid isPermaLink="false">hacker-news-small-sites-26137582</guid>
            <pubDate>Mon, 15 Feb 2021 00:15:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mojolicious 9.0]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26137542">thread link</a>) | @peteretep
<br/>
February 14, 2021 | https://mojolicious.io/blog/2021/02/14/announcing-mojolicious-9-0/ | <a href="https://web.archive.org/web/*/https://mojolicious.io/blog/2021/02/14/announcing-mojolicious-9-0/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

              <section id="section-1">
                  <p>The Mojolicious Core Team is delighted to announce the release and immediate availability of version 9.0 of the <a href="https://mojolicious.org/">Mojolicious</a> real-time web framework.
Every Mojolicious major release has a <a href="https://docs.mojolicious.org/Mojolicious#CODE-NAMES">code name</a> based on a unicode character and this one is lovingly named "Waffle" üßá!</p>

<p>Every major release I think that there can't be much more to add or change in Mojolicious and then when the next one arrives I reflect on how much has changed since I last thought that.
In <a href="https://metacpan.org/release/SRI/Mojolicious-9.0">9.0</a> there's far too much to discuss each at length, so I'm going to highlight some of my favorites and then include a distilled list of changes since 8.0.</p>

<h2>Perl 5.16 and beyond</h2>

<p>Mojolicious now requires Perl version 5.16. This change gives us useful tools to build Mojolicious including the <code>__SUB__</code> token for building self-referential callbacks without leaking.
We were pleased that the community response since the change a few months ago has been ... well crickets.
This is great news since we do hope to move to Perl 5.20 in the not so distant future so that we can use Perl's native signatures once that is a sound option for us.
We are already encouraging the use of signatures both in the documentation and in our code generation commands.</p>

<h2>Asynchronous Functionality</h2>

<p>Clearly the highlight of the pre-9.0 development cycle has been the integration of Async/Await.
Thanks to Paul Evans (LeoNerd)'s efforts, when you have <a href="https://metacpan.org/pod/Future::AsyncAwait">Future::AsyncAwait</a> installed Mojolicious can use its new keywords <code>async</code> and <code>await</code> to provide the most seamless asynchronous development possible, something that is becoming more and more the standard for asynchronous code in other languages.
Writing a non-blocking endpoint is now as simple as</p>

<pre><code>use Mojolicious::Lite -signatures, -async_await;

# Request HTML titles from two sites non-blocking
get '/' =&gt; async sub ($c) {
  my $mojo_tx    = await $c-&gt;ua-&gt;get_p('https://mojolicious.org');
  my $mojo_title = $mojo_tx-&gt;result-&gt;dom-&gt;at('title')-&gt;text;
  my $cpan_tx    = await $c-&gt;ua-&gt;get_p('https://metacpan.org');
  my $cpan_title = $cpan_tx-&gt;result-&gt;dom-&gt;at('title')-&gt;text;

  $c-&gt;render(json =&gt; {mojo =&gt; $mojo_title, cpan =&gt; $cpan_title});
};

app-&gt;start;
</code></pre>

<p>When I teach non-blocking to people I can now tell them to follow a trivial recipe for most non-blocking tasks.
Simply <code>await</code> any function that returns a promise and mark any function that uses <code>await</code> with the <code>async</code> keyword.
Note also that all <code>async</code> functions return promises so <code>await</code> any calls to them.
There are some optimizations you can make at times and top-level <code>await</code> (if you aren't in a Mojolicious webapp) can be a little strange but to a first approximation that's all you need to write a non-blocking webapp today!</p>

<p>Speaking of promises (which are at the heart of Async/Await), Mojo::Promise has grown a lot this cycle too, adding <code>all_settled</code>, <code>any</code>, <code>map</code>, <code>timer</code>, and <code>timeout</code> class methods, changing its constructor to be more like the one in JavaScript and to warn when an unhandled rejected promise is destroyed.
The latter can help in development where such cases used to hide errors, now, much like the browser, you can at least find where things are going wrong even if you didn't wire all your promises to a catch callback like you should.</p>

              </section>
              <section id="section-2">
                  <h2>Focus on Containerization and Cloud Deployments</h2>

<p>The Mojolicious Core Team is aware that more and more deployments are in containers and cloud services these days and we've been thinking of ways to make that easier.
With 9.0 we've added two new features specifically designed to help with these types of deployments.</p>

<p>Most existing applications assume a standard deployment by an unprivileged user behind a reverse proxy, but with new deployment strategies the number of configurations an application might expect are too numerous to expect each application to support.
To address this we've added support for <a href="https://docs.mojolicious.org/Mojolicious/Guides/Cookbook#Deployment-specific-plugins">deployment specific plugins</a> that help you add deployment-level functionality to existing applications.
Now the deployer is in control of these features, rather than needing to ask the application author to add support.</p>

<p>We've also extended the existing <a href="https://docs.mojolicious.org/Mojolicious/Guides/Cookbook#Reverse-proxy">reverse proxy</a> support to allow for multiple trusted proxies, specifically when you know what the expected IP address or CIDR network you're expecting proxy requests from.
This can be useful both when deploying from say Kubernetes where it is likely you'll have several layers of local proxies, or when you're behind a third-party proxy like CloudFlare, who publish a list of their proxy networks.
This is an important safety feature in these situations, blindly trusting forwarding headers can lead to <a href="https://twitter.com/logicbomb_1/status/1354452751619559428">big problems</a>.</p>

<p>Also, we've noticed that many cloud deployment tools are based on YAML, so we've added a YAML configuration file loader to our existing Perl and JSON configuration loaders.
Because YAML is a tricky target and because ours is technically not-quite-YAML, we've called ours cheekily <a href="https://docs.mojolicious.org/Mojolicious/Plugin/NotYAMLConfig">NotYAMLConfig</a>.
In the unlikely event that that distinction should matter for your needs, you can load a specific YAML module from CPAN.</p>

<p>But it isn't just functionality, we've added a Dockerfile generation (<code>myapp generate dockerfile</code>) and added a Container <a href="https://docs.mojolicious.org/Mojolicious/Guides/Cookbook#Containers">Cookbook recipe</a> to the documentation.
We've also added a <a href="https://docs.mojolicious.org/Mojolicious/Guides/Cookbook#Envoy">Cookbook recipe</a> for the popular cloud-native proxy <a href="https://www.envoyproxy.io/">Envoy</a>.
If you have other common container or cloud recipes that you think should be added, please let us know!</p>

<h2>Documentation Improvements</h2>

<p>Speaking of documentation, you might have noticed that both our <a href="https://docs.mojolicious.org/">documentation site</a> and <a href="https://twitter.com/perlmojo/status/1343932370106392577/photo/1">built-in templates</a> for 404 and 500 pages have gotten a face lift.</p>

<blockquote><p dir="ltr" lang="en">The Mojolicious 8.69 release brings redesigned exception and not_found pages with a fresh new look, enjoy. <a href="https://t.co/MHzvYnBJJw">pic.twitter.com/MHzvYnBJJw</a></p>‚Äî Mojolicious (@perlmojo) <a href="https://twitter.com/perlmojo/status/1343932370106392577?ref_src=twsrc%5Etfw">December 29, 2020</a></blockquote>



<p>They're even prettier and easier to read than before, they're responsive, and they have a newer code library (highlight.js) to better render our code.
Further the documentation site is now redeployed immediately on any push to master of the website or the main Mojolicious projects, <code>mojolicious</code>, <code>mojo-pg</code>, and <code>minion</code>, so that you always have the most up-to-date docs at your fingertips.</p>

<p>Along with the container and cloud-native changes I've already highlighted, we have updated our documentation to use of upcoming Perl native signatures throughout and paired it with updating our <code>app</code> and <code>lite-app</code> generators to generate applications with signatures too.</p>

<h2>Routing (and Rendering)</h2>

<p>The routing engine is an often overlooked part of a web framework but it really is at the heart of everything that it does.
It can also be a source of confusion or frustration, especially when it doesn't do what you expect.
For 9.0 we've made the router both safer and more closely aligned to user expectations.</p>

<p>The biggest change is that Mojolicious now prevents applications from using reserved placeholders in routes.
This was originally considered a "feature" because it allowed very terse route definitions for quick apps, but in practice most people that understood how that worked just used the long form while unsuspecting newcomers would trip on it from time to time.
We've also made several cases throw exceptions when routing would fail that used to fail silently or unexpectedly.
When a route points to a missing controller, a namespace without a controller or a controller without an action, you now get an exception rather than a 404, which would often confuse people.
Additionally, you get an exception when when auto-rendering fails or a call to render cannot render a response, which would appear to hang (while it actually was trying to wait for a delayed response that was never going to happen).</p>

<p>We've even simplified some of the routing method names themselves.
We've removed the lesser-used <code>detour</code> and <code>route</code> methods in favor of the more generic <code>any</code> method.
We've renamed method that designates which HTTP methods to respond to (usually when picking several but not all of them, e.g. <code>GET</code> and <code>POST</code> but not <code>any</code>) from <code>via</code> to <code>methods</code>.
We've also renamed the method that designates conditional routing from <code>over</code> to <code>requires</code>.
I'm especially excited about this one since <code>over</code> implied a contrast with the commonly used <code>under</code> method, where no such contrast is meant to be implied; they do very different things.</p>

<h2>Logging</h2>

<p>The big one for me is that Mojolicious now is capable of sanely using a contextual logger!
Mojolicious applications have a <code>log</code> attribute that holds a <code>Mojo::Log</code> instance, however that logger is global to the application and any context you'd want to add is only for a given request/response cycle.
Unlike blocking frameworks, a Mojolicious app might switch between several requests before any are rendered, meaning manually keeping context attached to that global logger was nearly impossible.
With 9.0 we now have the ability to use a per-controller "child" logger which descends from the global logger and still logs via it, but can keep its own context information.
It feeds that information to its parent when you log from it.</p>

<p>By default, these child loggers now have a random request id attached to it, however you can put whatever context you'd like to add there.
You can also pass these loggers (themselves an instance of <code>Mojo::Log</code>) to models or other code that might want to log with that context attached.</p>

<p>We've also improved logging performance in cases where generating the log message is expensive and useless if the log level means that the log message is not emitted.
If you pass a closure (code reference) to the logger's <code>debug</code>, <code>info</code>, <code>warn</code>, <code>error</code>, and <code>fatal</code> methods and the logger will only invoke that closure if the log level check is met.
In fact this improved Mojolicious' own performance metrics by 10%!</p>

<pre><code>$c-&gt;log-&gt;debug(sub{ 'Thought you might want to know: ' . generate_expensive_log_output() });
</code></pre>

<p>Please note that we have changed the log format slightly so be aware if you care about such things.</p>

<p>And to simplify things, we've removed the confusing behavior of logging to a ‚Ä¶</p></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mojolicious.io/blog/2021/02/14/announcing-mojolicious-9-0/">https://mojolicious.io/blog/2021/02/14/announcing-mojolicious-9-0/</a></em></p>]]>
            </description>
            <link>https://mojolicious.io/blog/2021/02/14/announcing-mojolicious-9-0/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26137542</guid>
            <pubDate>Mon, 15 Feb 2021 00:08:42 GMT</pubDate>
        </item>
    </channel>
</rss>
