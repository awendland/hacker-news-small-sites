<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 1]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 1. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Sat, 27 Feb 2021 16:51:42 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-1.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Sat, 27 Feb 2021 16:51:42 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Linux Capabilities in a Nutshell]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26261310">thread link</a>) | @todsacerdoti
<br/>
February 25, 2021 | https://k3a.me/linux-capabilities-in-a-nutshell/ | <a href="https://web.archive.org/web/*/https://k3a.me/linux-capabilities-in-a-nutshell/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			
<p>Capabilities are being used by many Linux-based software nowadays to limit what a process can do. But I think the documentation is a bit hard to grasp and I found some parts of capabilities implementation confusing so I decided to condense my current knowledge into a shorter article.</p>



<p>The most important reference for capabilities is up-to-date man page <a href="http://man7.org/linux/man-pages/man7/capabilities.7.html">capabilities(7)</a>. But that doesn’t provide an easy to read introduction.</p>



<h3>Process Capabilities</h3>



<p>Permissions of regular users are very limited, while permissions of “root” user are very powerful. But processes running under “root” often don’t require full root capabilities. </p>



<p>To help reduce “root” user power, POSIX capabilities provides a way to restrict groups of privileged system operations a process and its children are allowed to do. They basically divide full “root” privilege into a set of distinct privileges. The idea of capabilities was described in POSIX 1003.1e draft that was withdrawn in 1997.</p>



<p>Each Linux process (task) has <a href="https://elixir.bootlin.com/linux/latest/source/include/linux/cred.h#L134">five 64-bit numbers</a> (sets) holding capability bits (used to be 32-bit before Linux 2.6.25) which can be inspected by reading  /proc/&lt;pid&gt;/status</p>



<pre>CapInh: 00000000000004c0<br>CapPrm: 00000000000004c0<br>CapEff: 00000000000004c0<br>CapBnd: 00000000000004c0<br>CapAmb: 0000000000000000</pre>



<p>These numbers (here displayed as hex digits) are acting as a bitmap encoding a set of capabilities. Full names are:</p>



<ul><li><strong>Inheritable</strong> – capabilities that children can inherit</li><li><strong>Permitted</strong> – capabilities the task is permitted to use</li><li><strong>Effective</strong> – capabilities actually effective</li><li><strong>Bounding</strong> set –  prior to Linux 2.6.25, the bounding set was a system-wide attribute shared by all threads, probably meant to describe a set beyond which capabilities cannot grow. Currently it is per-task set. It is a part of execve transformation logic (more later) and also limits what a process can set to its inheritable set using capset().</li><li><strong>Ambient</strong> set (since Linux 4.3) – added to give capabilities to non-0 user easily, without using setuid or file capabilities (more later).</li></ul>



<p>If a task asks to perform a privileged operation (like binding on ports &lt; 1024), the kernel checks Effective bounding set to see if <a href="https://elixir.bootlin.com/linux/latest/source/include/uapi/linux/capability.h#L183">CAP_NET_BIND_SERVICE</a> is set. If it is, it continues. Otherwise, it rejects the operation with EPERM (operation not permitted). These CAP_ defines in the kernel source are numbered sequentially so CAP_NET_BIND_SERVICE being 10 means a bit 1&lt;&lt;10 = 0x400 (that is the ‘4’ hex digit in my previous example). </p>



<p>The full human readable list of currently-defined capabilities can be found in your up-to-date manpage <a href="http://man7.org/linux/man-pages/man7/capabilities.7.html">capabilities(7)</a> (the one here is for reference only).</p>



<p>Additionally there is a library libcap to make capabilities management and inspection easier. In addition to <a href="http://man7.org/linux/man-pages/man3/libcap.3.html">library API</a>, the package includes <a href="http://man7.org/linux/man-pages/man1/capsh.1.html">capsh</a> utility which, among other things, allows printing its capabilities. <br></p>



<pre># capsh --print
Current: = cap_setgid,cap_setuid,cap_net_bind_service+eip
Bounding set =cap_setgid,cap_setuid,cap_net_bind_service
Ambient set =
Securebits: 00/0x0/1'b0
 secure-noroot: no (unlocked)
 secure-no-suid-fixup: no (unlocked)
 secure-keep-caps: no (unlocked)
 secure-no-ambient-raise: no (unlocked)
uid=0(root)
gid=0(root)
groups=0(root),1(bin),2(daemon),3(sys),4(adm),6(disk),10(wheel),11(floppy),20(dialout),26(tape),27(video)
</pre>



<p>There are a few <strong>confusing</strong> bits:</p>



<ul><li><strong>Current</strong> – displays effective, inheritable and permitted capabilities of capsh process in <a href="http://man7.org/linux/man-pages/man3/cap_to_text.3.html"><strong>cap_to_text(3)</strong></a><strong> format</strong>. Again, it displays it in cap_to_text format which lists capabilities basically as capability[,capability…]+(e|i|p) groups, where ‘e’ means effective, ‘i’ inheritable and ‘p’ permitted. The list is not separated by ‘,’ as you would guess (cap_setgid+eip,cap_setuid+eip). The ‘,’ separates capabilities in a single +… (action) group. The actual list of action groups is then separated by spaces. So another example with two action groups would be “= cap_sys_chroot+ep cap_net_bind_service+eip”. And also these two action groups “= cap_net_bind_service+e cap_net_bind_service+ip” would encode the same meaning as  a single “cap_net_bind_service+eip”.</li><li><strong>Bounding set/Ambient set</strong>. To make things even more confusing, these two lines contain just a list of capabilities set in those sets, separated by spaces. No cap_to_text format is used here because it is not listing permitted, effective, inheritable sets together but just a single (bounding/ambient) set.</li><li><strong>Securebits</strong>: displays task’s <a href="https://elixir.bootlin.com/linux/latest/source/include/linux/cred.h#L133">securebits</a> integer in as decimal/hex/fancy-verilog-convention-for-binary-strings (yes, everyone would expect it here and it’s totally clear by ‘b because every sysadmin programs its own FPGAs and ASICs). The state of securebits follows. The actual bits are defined as SECBIT_* in <a href="https://elixir.bootlin.com/linux/latest/source/include/uapi/linux/securebits.h#L22">securebits.h</a> and also described in <a href="http://man7.org/linux/man-pages/man7/capabilities.7.html">capabilities(7)</a>.</li><li>The tool lacks the one important state and that is the “<strong>NoNewPrivs</strong>” which can be also seen by inspecting /proc/&lt;pid&gt;/status. That is described in <a href="http://man7.org/linux/man-pages/man2/prctl.2.html">prctl(2)</a> only, even though it directly affects capabilities when used in conjunction with file capabilities (more later). NoNewPrivs is described as “<em>With no_new_privs set to 1, execve(2) promises not to grant privileges to do anything that could not have been done without the execve(2) call (for example, rendering the set-user-ID and set-group-ID mode bits, and file capabilities non-functional). Once set, this the no_new_privs attribute cannot be unset.  The setting of this attribute is inherited by children created by fork(2) and clone(2), and preserved across execve(2).</em>“. This is the flag which Kubernetes sets to 1 when allowPrivilegeEscalation is set to false in pod’s securityContext. </li></ul>



<p>When a process starts a new process by doing execve(2), capabilities are transformed to the child using the formula mentioned in <a href="http://man7.org/linux/man-pages/man7/capabilities.7.html">capabilities(7)</a>:</p>



<pre>P'(ambient)     = (file is privileged) ? 0 : P(ambient)

P'(permitted)   = (P(inheritable) &amp; F(inheritable)) |
                  (F(permitted) &amp; P(bounding)) | P'(ambient)

P'(effective)   = F(effective) ? P'(permitted) : P'(ambient)

P'(inheritable) = P(inheritable)    [i.e., unchanged]

P'(bounding)    = P(bounding)       [i.e., unchanged]

where:

     P()   denotes the value of a thread capability set before the
           execve(2)

     P'()  denotes the value of a thread capability set after the
           execve(2)

     F()   denotes a file capability set
</pre>



<p>These rules describe action taken for every bit in ambient/permitted/effective/inheritable/bounding sets. It uses standard C syntax (&amp; for logic AND, | for logic OR). P’ is the child process, P is the current process calling execve(2). F are so called “file capabilities” of the file being execve’d.</p>



<p>Additionaly, a process can programmatically change its inheritable, permitted and effective sets using libpcap any  time according to these rules:</p>



<ul><li>Unless the caller have the CAP_SETPCAP, the new <strong>inheritable</strong> set must be a subset of <em>P(inheritable) &amp; P(permitted)</em></li><li>(since Linux 2.6.25) The new <strong>inheritable</strong> set must be a subset of <em>P(inheritable) &amp; P(bounding)</em></li><li>The new <strong>permitted</strong> set must be a subset of P(permitted) </li><li>The new <strong>effective</strong> set must be a subset of P(effective)</li></ul>



<p>As HN user eqvinox suggested, pspax from <a href="https://github.com/gentoo/pax-utils">pax-utils</a> can be used to list capabilities of running processes, just compile it with libpcap support (make USE_CAP=yes):</p>
<pre>  # pspax
  USER     PID    PAX    MAPS ETYPE      NAME             CAPS ATTR  
  root     60879  ---    w^x  ET_DYN     crond            =ep  system_u:system_r:kernel_t:s0  
  root     60910  ---    w^x  ET_DYN     ntpd             cap_net_bind_service,cap_ipc_lock,cap_sys_time=ep system_u:system_r:kernel_t:s0
</pre>



<h3>File capabilities</h3>



<p>Sometimes a user with a reduced set of capabilities needs to run a binary which requires more capabilities. Previously, this was achieved by setuid binary (chmod +s ./executable). Such a binary, if owned by root, would assign full root privileges to it when executed by any user.</p>



<p>That gives too many privileges to the binary, so POSIX capabilities implemented a concept called “file capabilities”. They are stored as a <a href="http://man7.org/linux/man-pages/man7/xattr.7.html">extended file attribute</a> called “security.capability” so you need a capable filesystem (ext*, XFS, Raiserfs, Brtfs, overlay2, …). For a process to write to this attribute, CAP_SETFCAP capability is needed (be in process’ effective set).<br></p>



<pre>$ getfattr -m - -d `which ping`
# file: usr/bin/ping
security.capability=0sAQAAAgAgAAAAAAAAAAAAAAAAAAA=

$ getcap `which ping`  
/usr/bin/ping = cap_net_raw+ep
</pre>



<h3>Special cases and notes</h3>



<p>Of course, life is not simple, so is not the implementation of capabilities and there are several special cases described in <a href="http://man7.org/linux/man-pages/man7/capabilities.7.html">capabilities(7)</a> man page. Probably the most important are:</p>



<ul><li><strong>setuid file bit and file capabilities are ignored if NoNewPrivs is set</strong> or filesystem is mounted nosuid or the process calling execve is being ptraced. The file capabilities are also ignored when the kernel is booted with<em> </em>no_file_caps.</li><li><strong>Capability-dumb</strong> binary is a binary converted from setuid to file capabilities without changing its code. Such binaries are often converted by setting +ep capability on them like “setcap cap_net_bind_service+ep ./binary”. The important part is “e”, effective. Upon execve, this capability is added to both permitted and effective so the executable is ready to use the privileged operation. In contrast <strong>capability-smart</strong> binary which uses libpcap or similar, can use <a href="http://man7.org/linux/man-pages/man3/cap_set_proc.3.html">cap_set_proc(3)</a> (or <a href="http://man7.org/linux/man-pages/man2/capget.2.html">capset</a>) to set “effective” or “inheritable” bits at any point, as long as that capability is already in the “permitted” set. So “setcap cap_net_bind_service+p ./binary” would be enough for a capability-smart binary as it will be able to set the effective bit itself before calling the privileged operation.  See my <a href="https://gist.github.com/k3a/a38f4439f85eda4f77eda19c4ae8c80c">example code</a>.</li><li><strong>setuid-root binaries</strong> continue to work, giving all privileges of root when run by a non-root user. Unless they have file capabilities set, in which case only those are granted. It is also possible to create a setuid binary with empty file capability set, making it execute as 0, though without any capabilities. …</li></ul></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://k3a.me/linux-capabilities-in-a-nutshell/">https://k3a.me/linux-capabilities-in-a-nutshell/</a></em></p>]]>
            </description>
            <link>https://k3a.me/linux-capabilities-in-a-nutshell/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26261310</guid>
            <pubDate>Thu, 25 Feb 2021 09:50:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[6 ways woodworking is like software engineering]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26261218">thread link</a>) | @ZainRiz
<br/>
February 25, 2021 | https://www.zainrizvi.io/blog/woodworking-is-like-software-engineering/ | <a href="https://web.archive.org/web/*/https://www.zainrizvi.io/blog/woodworking-is-like-software-engineering/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.zainrizvi.io/blog/woodworking-is-like-software-engineering/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26261218</guid>
            <pubDate>Thu, 25 Feb 2021 09:34:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Static Executables with SBCL v2]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26261098">thread link</a>) | @todsacerdoti
<br/>
February 25, 2021 | https://www.timmons.dev/posts/static-executables-with-sbcl-v2.html | <a href="https://web.archive.org/web/*/https://www.timmons.dev/posts/static-executables-with-sbcl-v2.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>

<p> Tagged as <a href="https://www.timmons.dev/tag/blog.html">blog</a>, <a href="https://www.timmons.dev/tag/sbcl.html">sbcl</a>, <a href="https://www.timmons.dev/tag/common-lisp.html">common-lisp</a> </p> <p> Written on 2021-02-24 21:50:00 </p> <p>It's taken me much longer than I hoped, but I finally have a second version of
my patches to build static executables tested and ready to go! This set of
patches vastly improves upon the first by reducing the amount of compilation
needed at the cost of sacrificing a little purity. Additionally I have created
a system that automates the process of building a static executable, along with
other release related tasks.</p>

<!--more-->

<h2>At a Glance</h2>

<ul>
<li>The new patch set can be found on
  the
  <a href="https://github.com/daewok/sbcl/tree/static-executable-v2">static-executable-v2 branch</a> of
  my SBCL fork or at
  <code>https://www.timmons.dev/static/patches/sbcl/$VERSION/static-executable-support-v2.patch</code>
  with a detached signature available at
  <code>https://www.timmons.dev/static/patches/sbcl/$VERSION/static-executable-support-v2.patch.asc</code>
  signed with GPG
  key <a href="https://www.timmons.dev/static/keys/9ACF6934.pub">0x9ACF6934</a>.</li>
<li>You'll definitely want to build SBCL with the <code>:sb-prelink-linkage-table</code>
  feature (newly added by the patch). You'll probably also want the
  <code>:sb-linkable-runtime</code> feature (already exists, but the patch also enables it
  on arm/arm64).</li>
<li>The new patch lets you build a static executable with less compilation of
  Lisp code.</li>
<li>The <a href="https://gitlab.com/daewok/asdf-release-ops">asdf-release-ops system</a>
  automates the process of building a static executable by tying it into ASDF.</li>
</ul>

<h2>What's New?</h2>

<p>If you need a refresher about what static executables are or what use cases
they're good for, see
my <a href="https://www.timmons.dev/posts/static-executables-with-sbcl.html">previous post on this topic</a>.</p>

<p>With my previous patch, the only way you could create a static executable was
to perform the following steps:</p>

<ol>
<li>Determine the foreign symbols needed by your code. The easiest way to do
   this is to compile all your Lisp code and then dump the information from the
   image.</li>
<li>From that list of foreign symbols, create a C file that contains fills an
   array with references to those symbols.</li>
<li>Recompile the SBCL core and runtime with this new file, additionally
   disabling libdl support and linking against your foreign libraries.</li>
<li>(Re)compile all your Lisp code with the new runtime (if you made an image in
   step 1 it will not be compatible with the new runtime due to feature and
   build ID mismatches).</li>
<li>Dump the executable.</li>
</ol>

<p>In the most general case, this involved compiling your entire Lisp image
twice. After some #lisp discussions, I realized there was a better way of doing
this. While the previous process still works, the new recommended process now
looks like:</p>

<ol>
<li>Build the image you would like to make into a static executable and save it.</li>
<li>Dump the foreign symbol info from this image and write the C file that SBCL
   can use to prelink itself.</li>
<li>Compile that C file and link it into an existing sbcl.o file to make a new
   runtime. sbcl.o is the SBCL runtime in object form, created when building
   with the <code>:sb-linkable-runtime</code> feature.</li>
<li>Load the image from step 1 into your new runtime. It will be compatible
   because the build ID and feature set are the same!</li>
<li>Dump your now static executable.</li>
</ol>

<p>This new process can significantly reduce the amount of time needed to make an
executable. Plus it lets you take more advantage of image based
development. It's fairly trivial to build an image exactly like you want, dump
it, and then pair it with a custom static runtime to make a static executable.</p>

<p>There were two primary challenges that needed to be overcome for this version
of the patch set.</p>

<p>First, the SBCL core had to be made robust to every libdl function
uncondtionally returning an error. Since we want the feature set to remain
constant we can't recompile the runtime with <code>#-os-provides-dlopen</code>. Instead,
we take advantage of the fact that Musl libc lets you link static executables
against libdl, but all those functions are noops. This is the "purity"
sacrifice I alluded to above.</p>

<p>Second, since we are reusing a image, the prelink info table (the generated C
file) needed to order the symbols exactly as the image expects them to be
ordered. The tricky bit here is that some libraries (like <code>cl-plus-ssl</code>) add
symbols to the linkage table that will always be undefined. <code>cl-plus-ssl</code> does
this in order to support a wide range of openssl versions. The previous patch
set unconditionally filtered out undefined symbols, which horribly broke things
in the new approach.</p>

<h2>More Documentation</h2>

<p>As before, after applying the patch you'll find a README.static-executable file
in the root of the repo. You'll also find a Dockerfile and an example of how to
use it in the README.static-executable.</p>

<p>You can also check out the tests and documentation in
the <a href="https://gitlab.com/daewok/asdf-release-ops">asdf-release-ops system</a>.</p>

<h2>Known Issues</h2>

<ul>
<li>The <code>:sb-prelink-linkage-table</code> feature does not work on 32-bit ARM + Musl
  libc &gt;= 1.2. Musl switched to 64-bit time under the hood while still
  mataining compatibility with everything compiled for 32-bit time.</li>
</ul>

<p>The issue is how they maintained backwards compatibility. Every time related
  symbol still exists and implements everything on top of the 32-bit time
  interface. However, if you include the standard header file where the symbol
  is defined <em>or</em> you look up the symbol via <code>dlsym</code> you actually get a pointer
  to the 64-bit time version of the symbol. We can't use <code>dlsym</code> (it doesn't
  work in static executables). And the generated C file doesn't include any
  headers.</p>

<p>This <em>could</em> be fixed if someone is motiviated enough to create/find a
  complete, easy to use map between libc symbols and the headers that define
  them and integrate it into the prelink info generator.</p>

<ul>
<li>The <code>:sb-prelink-linkage-table</code> works on Windows but causes test
  failures. The root issue is that mingw64 has implemented their own
  libm. Their trig functions are fast, but use inaccurate instructions (like
  FSIN) under the hood. When prelinking these inaccurate implementations are
  used instead of the more accurate ones (from msvcrt.dll ?) found when using
  <code>dlsym</code> to look up the symbol.</li>
</ul>

<h2>Next Steps</h2>

<ol>
<li><p>I would love to get feedback on this approach and any ideas on how to
   improve it! Please drop me a line (etimmons on Freenode or daewok on
   Github/Gitlab) if you have suggestions.</p></li>
<li><p>I've already incorporated static executables
   into <a href="https://www.clpm.dev/">CLPM</a> and will be distributing them starting
   with v0.4.0! I'm going to continue rolling out static executables in my
   other projects.</p></li>
<li><p>Pieces of the patch set are now solid enough that I think they can be
   submitted for upstream consideration. I'll start sending them after the
   current 2.1.2 freeze.</p></li>
</ol>
  </div>
</div></div>]]>
            </description>
            <link>https://www.timmons.dev/posts/static-executables-with-sbcl-v2.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26261098</guid>
            <pubDate>Thu, 25 Feb 2021 09:11:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Evolution of Developer Salaries: Looking Back 20 Years]]>
            </title>
            <description>
<![CDATA[
Score 16 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26260710">thread link</a>) | @fagnerbrack
<br/>
February 24, 2021 | https://codesubmit.io/blog/the-evolution-of-developer-salaries/#tracing-developer-salaries-in-america-from-2001-to-2019 | <a href="https://web.archive.org/web/*/https://codesubmit.io/blog/the-evolution-of-developer-salaries/#tracing-developer-salaries-in-america-from-2001-to-2019">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <section>
                
                <div>
                    <p>Much has been covered about developer salaries based on coding language, location, job title, and so on. However, little has been done to chart the rise and fall of developer salaries over the years.</p><p>Tracing developer salaries over the last 20 years was an interesting endeavor. Researching the topic meant changing the language I used to search for data. <br>Back in the early 2000s, tech and software were referred to as “Information Technology” (IT) or “Information and Communications Technology” (ICT), developers were still referred to as “IT workers” and little was mentioned about the many specialized roles we have today.</p><p>To go back in time, I mainly referred to data published by the <a href="https://www.bls.gov/oes/tables.htm">U.S. Bureau of Labor Statistics</a> as they offered the most comprehensive year on year data. I looked at data from alternate years, from 2001 to 2019.</p><h2 id="starting-in-the-year-2000">Starting in the year 2000</h2><p>At the turn of the century, <a href="https://money.cnn.com/2000/07/21/career/q_degreecompsci/">CNN Money</a> reported that the average starting salary for an entry-level computer programmer was $40,800.</p><p>Fresh graduates were also paid differently based on the degrees they held:</p><ul><li>Computer engineering: $49,505</li><li>Computer science: $48,740</li><li>Information science: $38,900</li><li>Management information systems: $41,800</li></ul><p>Due to the shortage of skilled workers going into tech fields, salaries in America for IT graduates became more and more competitive. Salaries in 2000 were already 10% higher than the previous year and, apart from information science majors, were well above the <a href="https://www.naceweb.org/job-market/compensation/salary-trends-through-salary-survey-a-historical-perspective-on-starting-salaries-for-new-college-graduates">national average starting salary</a> of $39,824.</p><figure><img src="https://codesubmit.io/blog/content/images/2021/02/cs-grads-2000-2.png"><figcaption>The "IT Industry" looked different in 2000 than it does today</figcaption></figure><p>The following table shows the average annual salary for developers, programmers, and other IT-related job functions, across all industries in the year 2000:</p><!--kg-card-begin: markdown--><table>
<thead>
<tr>
<th></th>
<th>Annual mean ($)</th>
<th>Annual median ($)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Computer &amp; Information Scientists, Researchers</td>
<td>73,430</td>
<td>70,590</td>
</tr>
<tr>
<td>Programmers</td>
<td>60,970</td>
<td>57,590</td>
</tr>
<tr>
<td>Software Engineers - Applications</td>
<td>70,300</td>
<td>67,670</td>
</tr>
<tr>
<td>Software Engineers - Systems Software</td>
<td>70,890</td>
<td>69,530</td>
</tr>
<tr>
<td>Computer Support Specialists</td>
<td>39,680</td>
<td>36,460</td>
</tr>
<tr>
<td>Database Administrators</td>
<td>55,810</td>
<td>51,990</td>
</tr>
</tbody>
</table>
<!--kg-card-end: markdown--><h2 id="tracing-developer-salaries-in-america-from-2001-to-2019">Tracing developer salaries in America from 2001 to 2019</h2><h3 id="from-2001-to-2011"><br>From 2001 to 2011</h3><p>The graph below shows the annual median and mean salary from 2001 to 2011. These are the relevant job functions I examined, based on the data available from the Bureau of Labor Statistics:</p><ul><li>Computer and information scientists</li><li>Programmers</li><li>Software engineers - Applications</li><li>Software engineers - Systems software</li><li>Database administrators</li></ul><p>What is immediately noticeable is the huge difference between the median and mean salaries for various job functions across all industries, indicating a large difference in salaries for IT workers across the different sectors.</p><figure><img src="https://codesubmit.io/blog/content/images/2021/02/annual-median-salary1-11-1.png"><figcaption>Annual median salary across all industries for developers, 2001-2011</figcaption></figure><figure><img src="https://codesubmit.io/blog/content/images/2021/02/annual-mean-salary1-11-6.png"><figcaption>Annual mean salary across all industries for developers, 2001-2011</figcaption></figure><p>In the first decade alone, Americans experienced two huge economic crises, sending rippling effects throughout the American and global labor market. </p><p>2001 was the year the dot-com bubble burst. That year, while wages did not fall despite the dot-com burst, around 400,000 Americans working in IT-related roles lost their jobs going into 2001.</p><p>2008 was when the stock market crashed. Similar to the dot-com burst in 2001, wages in 2008 remained relatively unchanged. However, roughly 111,000 Americans working in IT-related fields lost their jobs going into 2009. </p><p>2008 was also the year when wages began to increase at a slower rate compared to previous years. While individuals enjoyed an average of $5,000 increase every two years previously, after 2008, wages only increased by $2,000 every two years. </p><p>Generally speaking, from 2001 to 2011, individuals working in tech had at least a 21% increase in wages over time. Systems Software Engineers experienced the largest jump in wages, an increase of 35%.</p><p><strong>Average salary increase from 2001-2011:</strong></p><!--kg-card-begin: markdown--><table>
<thead>
<tr>
<th></th>
<th>2001 ($)</th>
<th>2011 ($)</th>
<th>Increase ($)</th>
<th>% Change</th>
</tr>
</thead>
<tbody>
<tr>
<td>Computer Software Engineers - Systems Software</td>
<td>74,490</td>
<td>100,420</td>
<td>25,930</td>
<td>+35%</td>
</tr>
<tr>
<td>Computer and Information Scientists</td>
<td>76,970</td>
<td>103,160</td>
<td>26,190</td>
<td>+34%</td>
</tr>
<tr>
<td>Database Administrators</td>
<td>58,420</td>
<td>77,350</td>
<td>18,930</td>
<td>+32%</td>
</tr>
<tr>
<td>Computer Software Engineers - Applications</td>
<td>72,370</td>
<td>92,080</td>
<td>19,710</td>
<td>+27%</td>
</tr>
<tr>
<td>Computer Programmers</td>
<td>62,890</td>
<td>76,010</td>
<td>13,220</td>
<td>+21%</td>
</tr>
</tbody>
</table>
<!--kg-card-end: markdown--><h3 id="from-2013-to-2019">From 2013 to 2019</h3><p>From 2013 onwards, the Bureau of Labor Statistics changed how it categorized tech-related job functions. It added more job functions to the Computing category, mirroring how the profession had evolved since the early 2000s. </p><p>In light of this, I analyzed the broad job function groups available, rather than diving into specific job functions, to get a comprehensive overview of salaries.</p><p>Below are median and mean wages for the following job function groups:</p><ul><li>Computer and information research scientists</li><li>Computer and information analysts</li><li>Software developers and programmers (2019 data included Software Quality Assurance to this group)</li><li>Database and systems administrators and network architects</li><li>Computer support specialists</li></ul><figure><img src="https://codesubmit.io/blog/content/images/2021/02/annual-median-salary13-19.png"><figcaption>Annual median salary across all industries for developers, 2013-2019</figcaption></figure><figure><img src="https://codesubmit.io/blog/content/images/2021/02/annual-mean-salary13-19.png"><figcaption>Annual mean salary across all industries for developers, 2013-2019</figcaption></figure><p>In 2013, the <a href="https://www.naceweb.org/job-market/compensation/salary-trends-through-salary-survey-a-historical-perspective-on-starting-salaries-for-new-college-graduates">national American wage</a> for graduates was $45,327. Workers in tech continue to earn well above the national average. </p><p>Similar to the previous period, computer and information researchers continued to earn the most out of the group. In 2019, the average annual income for computer scientists was $127,460, 19% ahead of software developers, and programmers.</p><h2 id="fewer-programmers-more-developers">Fewer "programmers", more "developers"</h2><p>When analyzing salaries, it is also important to look at the employment numbers for job functions to get an indication of the supply and demand for specific skills in the labor market. </p><h3 id="computer-programmers">Computer programmers</h3><!--kg-card-begin: markdown--><table>
<thead>
<tr>
<th>Year</th>
<th>Total employed</th>
<th>Annual mean ($)</th>
</tr>
</thead>
<tbody>
<tr>
<td>2001</td>
<td>501,550</td>
<td>62,890</td>
</tr>
<tr>
<td>2003</td>
<td>431,640</td>
<td>64,510</td>
</tr>
<tr>
<td>2005</td>
<td>389,090</td>
<td>67,400</td>
</tr>
<tr>
<td>2007</td>
<td>394,710</td>
<td>72,010</td>
</tr>
<tr>
<td>2009</td>
<td>367,880</td>
<td>74,690</td>
</tr>
<tr>
<td>2011</td>
<td>320,100</td>
<td>76,010</td>
</tr>
<tr>
<td>2013</td>
<td>312,340</td>
<td>80,930</td>
</tr>
<tr>
<td>2015</td>
<td>289,420</td>
<td>84,360</td>
</tr>
<tr>
<td>2017</td>
<td>247,690</td>
<td>87,530</td>
</tr>
<tr>
<td>2019</td>
<td>199,540</td>
<td>92,610</td>
</tr>
</tbody>
</table>
<!--kg-card-end: markdown--><p>In 20 years, we can see a <strong>60% drop</strong> in the number of people employed for computer programming roles in America. Annual wages, on the other hand, increased by 47% in the same period.</p><h3 id="software-developers">Software developers</h3><p>In this section, I removed 2019 data as I was unable to separate developer functions, whether they specialized in applications or systems.</p><p><strong>Applications Developers:</strong></p><!--kg-card-begin: markdown--><table>
<thead>
<tr>
<th>Year</th>
<th>Total employed</th>
<th>Annual mean ($)</th>
</tr>
</thead>
<tbody>
<tr>
<td>2001</td>
<td>361,690</td>
<td>72,370</td>
</tr>
<tr>
<td>2003</td>
<td>392,140</td>
<td>75,750</td>
</tr>
<tr>
<td>2005</td>
<td>455,980</td>
<td>79,540</td>
</tr>
<tr>
<td>2007</td>
<td>495,810</td>
<td>85,660</td>
</tr>
<tr>
<td>2009</td>
<td>495,500</td>
<td>90,170</td>
</tr>
<tr>
<td>2011</td>
<td>539,880</td>
<td>92,080</td>
</tr>
<tr>
<td>2013</td>
<td>643,830</td>
<td>96,260</td>
</tr>
<tr>
<td>2015</td>
<td>747,730</td>
<td>102,160</td>
</tr>
<tr>
<td>2017</td>
<td>849,230</td>
<td>106,710</td>
</tr>
</tbody>
</table>
<!--kg-card-end: markdown--><p>The number of software developers hired to work on applications has increased by 135% from 2001 to 2017. Annual salaries increased by 47% in that period.</p><p><strong>Systems developers:</strong></p><!--kg-card-begin: markdown--><table>
<thead>
<tr>
<th>Year</th>
<th>Total employed</th>
<th>Annual mean ($)</th>
</tr>
</thead>
<tbody>
<tr>
<td>2001</td>
<td>261,520</td>
<td>74,490</td>
</tr>
<tr>
<td>2003</td>
<td>285,760</td>
<td>78,400</td>
</tr>
<tr>
<td>2005</td>
<td>320,720</td>
<td>84,310</td>
</tr>
<tr>
<td>2007</td>
<td>349,140</td>
<td>90,780</td>
</tr>
<tr>
<td>2009</td>
<td>385,200</td>
<td>96,620</td>
</tr>
<tr>
<td>2011</td>
<td>387,050</td>
<td>100,420</td>
</tr>
<tr>
<td>2013</td>
<td>373,510</td>
<td>104,480</td>
</tr>
<tr>
<td>2015</td>
<td>390,750</td>
<td>108,760</td>
</tr>
<tr>
<td>2017</td>
<td>394,590</td>
<td>111,780</td>
</tr>
</tbody>
</table>
<!--kg-card-end: markdown--><p>Systems developers increased by only 50% in the same period, with average wages increasing by 50% as well. </p><p><strong>Web developers:</strong></p><!--kg-card-begin: markdown--><table>
<thead>
<tr>
<th>Year</th>
<th>Total employed</th>
<th>Annual mean ($)</th>
</tr>
</thead>
<tbody>
<tr>
<td>2013</td>
<td>112,820</td>
<td>67,540</td>
</tr>
<tr>
<td>2015</td>
<td>127,070</td>
<td>70,660</td>
</tr>
<tr>
<td>2017</td>
<td>125,890</td>
<td>74,110</td>
</tr>
<tr>
<td>2019</td>
<td>148,340</td>
<td>82,370</td>
</tr>
</tbody>
</table>
<!--kg-card-end: markdown--><p>For web developers, we can see that the total number of employed professionals increased by 31% in just seven years. The average wages for this job function also increased by 21%.</p><h2 id="are-developer-wages-stagnating">Are developer wages stagnating?</h2><p>Looking at the data, we can see that developer salaries are not increasing at the rate they used to. As we head into 2013 through to 2019, the annual mean salary for developers and programmers increased from $92,820 to $106,980, a mere 15% increase compared to the whopping 21% increase experienced in the previous decade.</p><p><strong>Average salary increase from 2013-2019:</strong></p><!--kg-card-begin: markdown--><table>
<thead>
<tr>
<th></th>
<th>2013 ($)</th>
<th>2019 ($)</th>
<th>Increase ($)</th>
<th>% Change</th>
</tr>
</thead>
<tbody>
<tr>
<td>Computer and Information Research Scientists</td>
<td>109,260</td>
<td>127,460</td>
<td>18,200</td>
<td>+17%</td>
</tr>
<tr>
<td>Computer and Information Analysts</td>
<td>86,100</td>
<td>97,570</td>
<td>11,470</td>
<td>+13%</td>
</tr>
<tr>
<td>Software Developers and Programmers</td>
<td>92,820</td>
<td>106,980</td>
<td>14,160</td>
<td>+15%</td>
</tr>
<tr>
<td>Systems Administrators and Network Architects</td>
<td>82,960</td>
<td>96,380</td>
<td>13,420</td>
<td>+16%</td>
</tr>
<tr>
<td>Computer Support Specialists</td>
<td>53,660</td>
<td>59,290</td>
<td>5,630</td>
<td>+10%</td>
</tr>
</tbody>
</table>
<!--kg-card-end: markdown--><p>One of the reasons for the slower rate of increase is that the data does not show wages based on seniority and experience. Today, there are more entry-level and junior roles available compared to the early 2000s, and there are more people able to fill those roles. </p><p>Interestingly, in <a href="https://insights.stackoverflow.com/survey/2015#profile-education">2015</a>, Stack Overflow reported that 42% of developers indicated they were self-taught while in <a href="https://insights.stackoverflow.com/survey/2019#education">2019</a>, 63% of developers said they majored in computer science, computer engineering, or software engineering, with 86% of respondents reporting to have taught themselves a new language, framework or tool without taking a formal course. </p><p>Another survey by <a href="https://insights.dice.com/2020/02/21/technology-job-newbies-face-stagnant-salaries/">Dice</a> reported that while wages have dropped for developers with less than two years experience, salaries pick up after the three-year mark. Much like other jobs, developer salaries increase with more experience they accumulate.</p><!--kg-card-begin: markdown--><table>
<thead>
<tr>
<th>Years of Technical Experience</th>
<th>2018</th>
<th>2019</th>
<th>% Change</th>
</tr>
</thead>
<tbody>
<tr>
<td>Less than 1 year</td>
<td>$57,541</td>
<td>$55,231</td>
<td>-4.00%</td>
</tr>
<tr>
<td>1 - 2 years</td>
<td>$58,755</td>
<td>$58,718</td>
<td>-0.10%</td>
</tr>
<tr>
<td>3 - 5 years</td>
<td>$69,671</td>
<td>$74,706</td>
<td>7.20%</td>
</tr>
<tr>
<td>6 - 10 years</td>
<td>$82,094</td>
<td>$85,927</td>
<td>4.70%</td>
</tr>
<tr>
<td>11 - 15 years</td>
<td>$96,421</td>
<td>$99,138</td>
<td>2.80%</td>
</tr>
<tr>
<td>More than 15 years</td>
<td>$113,503</td>
<td>$114,915</td>
<td>1.20%</td>
</tr>
</tbody>
</table>
<!--kg-card-end: markdown--><h2 id="what-to-expect-in-the-future">What to expect in the future</h2><p>In the years to come, industry experts expect <a href="https://medium.com/predict/are-programmers-headed-toward-another-bursting-bubble-528e30c59a0e">low-level coding and programming jobs to become obsolete</a> with the development of new tools that remove the need to code completely. Take for example the role of Web Developers when it comes to building websites. With popular CMS tools like WordPress and Squarespace, almost anyone can build a website for their business, reducing the need for people who know “just a little bit of front end web development”. </p><p>As automation takes away the need for “basic” coding jobs, new skills or a combination of skills will be needed in the future for roles that don’t even exist yet. The need for field experts and true problem solvers will never disappear. The key is to adapt and learn as new technologies emerge. </p><p><strong>Additional sources:</strong><br><a href="http://www.oecd.org/digital/ieconomy/1939833.pdf">OECD Technology Outlook Report 2000</a><br><a href="http://www.oecd.org/sti/ieconomy/37620123.pdf">OECD Technology Outlook Report 2004</a><br><a href="https://www.oecd-ilibrary.org/docserver/it_outlook-2010-sum-en.pdf?expires=1612698150&amp;id=id&amp;accname=guest&amp;checksum=7DC9765AA37510F78D7BBDA7FF42254D">OECD Information Technology Outlook Summary 2010</a><br><a href="https://docs.google.com/spreadsheets/d/1iGfVr1j-VStKVwSWvVvSo3qbwwHTL_V9tPttpeBTmK4/edit?usp=sharing">BLS data in Google Sheets</a></p>
                </div>
  …</section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://codesubmit.io/blog/the-evolution-of-developer-salaries/#tracing-developer-salaries-in-america-from-2001-to-2019">https://codesubmit.io/blog/the-evolution-of-developer-salaries/#tracing-developer-salaries-in-america-from-2001-to-2019</a></em></p>]]>
            </description>
            <link>https://codesubmit.io/blog/the-evolution-of-developer-salaries/#tracing-developer-salaries-in-america-from-2001-to-2019</link>
            <guid isPermaLink="false">hacker-news-small-sites-26260710</guid>
            <pubDate>Thu, 25 Feb 2021 07:55:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building a search tool for static sites with Rust and WebAssembly]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26260702">thread link</a>) | @allenleein
<br/>
February 24, 2021 | https://jameslittle.me/blog/2020/one-year-of-stork/ | <a href="https://web.archive.org/web/*/https://jameslittle.me/blog/2020/one-year-of-stork/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><p>Just before the holidays, I launched version 1.0.0 of <a href="https://stork-search.net/">Stork</a>, the web search library I’ve been building for just over a year. Stork is a tool for building dynamic, responsive, and native full-text search interfaces—usually only possible with a SaaS product or a web server—that can be added to static, serverless web pages. It’s free, open-source, and build-system-agnostic. It’s one of the tools I wish I had when I was starting to build websites.</p><p>If you want to try a demo or read the documentation, visit Stork’s website: <a href="https://stork-search.net/">https://stork-search.net</a>.</p><p>Working on Stork has changed how I’ve interacted with the web development community. Stork is only successful if the people who use it find it useful and delightful. Over the past few months, I’ve pushed myself outside my comfort zone and connected with other web developers to ensure that that’s the case. For the first time, I’ve gotten to talk with people from across the internet who seemed excited about the tool I’ve built, and I’ve been able to contribute back to the web development community, an online community of creatives that has shaped how I use technology.</p><p>I built Stork because I thought it should exist, but in fact, <strong>Stork was a project I didn’t know I was capable of building until I had already built it.</strong> A year ago, I had no experience with full-text search, with Rust or Webassembly—the two technologies that power Stork—or with open-source contribution. In this essay, I want to describe how I approached the first year of building Stork. First, I’ll describe why I built it; then, I’ll expound on full-text search TK what a serverless search plugin brings to the web; finally, I’ll tell you why I’m excited for the next few years of Stork.</p><h2 id="the-web-is-an-organism-that-we-all-built-together">The Web is an Organism that We All Built Together.<a href="#the-web-is-an-organism-that-we-all-built-together">#</a></h2><p>It’s hard to remember which came first: the idea for Stork, or my desire to build something (anything!) for the web development community. Web development is the corner of programming where I feel most comfortable, since it seems to foster an environment of unbounded creativity—inherent to the internet, it seems, is the idea of giving something to others. <strong>The languages that power the web are powerful, but verbose, and this verbosity means that developers are strongly encouraged to use community-built tools to speed up their development.</strong> Therefore, the creativity sparked by the web platform is not just first-order creativity—in the content that gets published—but also second-order creativity—in the <a href="https://www.arp242.net/open-source.html">open source</a> tools that are used to publish and enhance that content. The presence, ubiquity, and power of these tools makes the web development experience a communal one instead of a solo endeavor.</p><p>Without the web, I wouldn’t be a programmer, and without the tools and resources that the web development community has built, I wouldn’t have started building websites. Regrettably, I’ve found it easy to forget about the community members who have built the tools that got me into web development. It’s only recently (mostly by following folks on Twitter) that I’ve discovered the humanity and individuality of the people who build the tools I use. That discovery fueled me to create something, and eventually, that something became Stork. When I started building Stork, I wanted to create something useful to give back to the web development community, from whom I had taken so much.</p><h2 id="finding-an-unfilled-niche">Finding an Unfilled Niche<a href="#finding-an-unfilled-niche">#</a></h2><p>Working on a college newspaper and watching the editors struggle to dig old articles out of the digital archives turned me onto the idea of a search experience optimized for specific domains. The web technologies available to replace the newspaper’s custom Google search were either too expensive or too finicky, and I realized I had stumbled across a niche that seemingly didn’t have anything filling it: easy-configuration full-text web search. I theorized that sticking to client-side technologies would simplify the integration experience drastically—I didn’t want to set up another search server, so I assumed other people wouldn’t either. I then theorized that client-side full-text search didn’t exist because the technology that could power it was very new.</p><p>Around that time, Rust’s WebAssembly support had been drastically improved and increasingly publicized. I had recently listened to <a href="https://www.relay.fm/radar/141">Marco Arment discuss his implementation of full-text search on an episode of Under the Radar</a>, and Chris Coyier had recently published his <a href="https://serverless.css-tricks.com/">Serverless</a> microsite. I was lost in wondering what a Jamstack search experience would entail. I realized that with the right algorithm, I could build a tool in Rust that generated a heavily-compressed search index where the results were precomputed for any valid query, and where I could use the speed of WebAssembly to parse and search through that index on the client. It was around this time that I started talking about the idea (not yet named Stork) at work and online, and met some friends—<a href="https://twitter.com/noopkat">Suz Hinton</a>, <a href="https://twitter.com/matthiasendler">Matthias Endler</a>, and <a href="https://twitter.com/healeycodes">Andrew Healey</a>—who were excited about the project, graciously let me bounce ideas off of them, and encouraged me to share my work more widely (to them and to others I’ve talked to: I’m incredibly grateful for your feedback, support, and friendship).</p><h2 id="search-is-a-hard-problem-to-solve">Search is a Hard Problem to Solve<a href="#search-is-a-hard-problem-to-solve">#</a></h2><p>The first few months of Stork, I spent time proving out the idea, but in transitioning Stork from a tech demo into a product, I had to find a suitable balance between building algorithmic excellency and building an intuitive experience. <strong>I strongly believe that in this stage of Stork’s development the product must be polished before the algorithm is.</strong> The speed and the search results can be “good enough” in the first years of the product, but if Stork gives off a bad first impression, then nobody will use it. This is the philosophy I brought to the first year of Stork’s development.</p><p>The early versions of Stork used <a href="https://tom.preston-werner.com/2010/08/23/readme-driven-development.html">Readme-driven development</a> almost religiously. Before the search algorithm worked, I was building a Javascript API, building server infrastructure, and building the first search interface theme. <strong>I wrote Stork’s user-facing documentation, then made sure I wasn’t building a tool more complicated than the documentation allowed.</strong> I became obsessed with concisely describing the two steps of working with Stork: first building an index from a corpus, then loading that index into a webpage using the Stork Javascript library.</p><p>Splitting up those two steps into user-visible actions is endemic to Stork’s operation. Stork tries to front-load as much of the work as possible, precomputing search results so that the client only performs a few lookups to build its results. Today, Stork’s indexer parses documents and builds a hash-table that maps words and prefixes to their character offsets within a document. The client—the WebAssembly executable—looks up each word in the user’s query, combines the results, and uses those offsets to display excerpts from the document, giving users context for each of their search results (by necessity, each Stork index must carry the full text of every document in the index). This strategy creates search indexes that are unfortunately large, but I maintain that the resulting experience makes the tradeoff worth it.</p><p>Any full-text search algorithm involves two main pieces of functionality. First, the entire set of entries must be filtered to only those that match the search query. Second, the remaining entries must be sorted so that the most “relevant” entries are listed first. Stork’s prefix map handles the filtering, and I’ve built a rudimentary sorting algorithm that takes word-closeness, presence of queries in titles, and exact-vs-partial-match details into account—it works well in the inputs I’ve tried. Improving this ordering algorithm has taken a significant portion of Stork’s development, and most of the code I’ve deleted and rewritten has come in the form of overarching improvements to the relevance ordering. I’ve learned about <a href="https://en.wikipedia.org/wiki/Stop_word">stop words</a>—words like “the,” “it,” and “and” which must be indexed but heavily devalued, about how to correctly normalize both corpus input and search input so that Power⎵ matches power, about <a href="https://en.wikipedia.org/wiki/Stemming">stemming</a> algorithms that let me match tries in an index to try in a query, and I’ve watched search results improve as I incorporate each of these enhancements into Stork’s search algorithm.</p><h2 id="storks-next-steps">Stork’s Next Steps<a href="#storks-next-steps">#</a></h2><p>As I said before, I released the latest version of Stork as version 1.0.0. With this, I hope to signal Stork’s prime-time readiness and present Stork as a feature-rich project that’s ready for wider scrutiny. This is a Stork that I’m proud of and that I want to contribute to the web development community.</p><p>In encountering different open-source projects, I’ve tried to pluck the features I feel have helped me the most. The landing page contains a demo, the current version number, and working sample code (three things that an unfortunate number of landing pages seem to omit). I’ve published the project’s roadmap, and I encourage feature requests and bug reports on Github. Most importantly, though, I’m writing about Stork with a human touch, with the hope that the people who interact with the project can better recognize that there’s a coder behind the code.</p><p>I’m actively looking for people to try Stork in their own site and give me feedback. It might not be there yet (though it might be for you!), but I believe that Stork can be an easy, flexible solution to anyone who wants to implement web search, and I’m excited to put in the work to make it so. That said, Stork is far from complete. My scratchpad is pages long<sup><a href="#fn1" id="fnref1">[1]</a></sup>, and I plan to continue building features and enhancements for a while. As I see it, Stork will be useful until it’s irrelevant, and will be relevant until people stop building Jamstack-based sites. I’m also banking on the community to help me: feature requests, bug reports, and other communication has already helped Stork become a better tool, and I’m excited to see what further contributions the community will add to Stork.</p><p>If you’re …</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://jameslittle.me/blog/2020/one-year-of-stork/">https://jameslittle.me/blog/2020/one-year-of-stork/</a></em></p>]]>
            </description>
            <link>https://jameslittle.me/blog/2020/one-year-of-stork/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26260702</guid>
            <pubDate>Thu, 25 Feb 2021 07:54:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Thoughts on Science and Programming]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26260665">thread link</a>) | @sfncmp
<br/>
February 24, 2021 | https://stefanocampanella.github.io/MHPC-project/backmatter/final.html | <a href="https://web.archive.org/web/*/https://stefanocampanella.github.io/MHPC-project/backmatter/final.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-content">
        <div>
        
              <div>
                
  <div id="final-thoughts-beyond-the-scope-of-the-thesis">

<blockquote>
<div><p>It just happened to be an unusual experience. By training I was a scientist: by vocation I was a writer.</p>
<p>—C. P. Snow, <em>The Two Cultures</em></p>
</div></blockquote>
<blockquote>
<div><p>[… Man] has no time to be anything but a machine. How can he remember well his ignorance–which his growth requires–who has so often to use his knowledge?</p>
<p>—Henry David Thoreau, <em>Walden; or, life in the woods</em></p>
</div></blockquote>
<div id="apology-of-the-thoughtful-dabbler">
<h2>Apology of the Thoughtful Dabbler<a href="#apology-of-the-thoughtful-dabbler" title="Permalink to this headline">¶</a></h2>
<p>The work presented in this thesis is faceted, and placed at the intersection of hydrology, black-box optimization and HPC. For reasons of space and time, I focused just on the last.</p>
<p>Given the diversity of topics involved, the extent of the material, the time assigned to this project, its focus on HPC, and finally my background, I had to <em>use some tools</em> (algorithms, concepts, etc.) without fully mastering them. This unavoidable fact is reflected in the frugality of the bibliography and in their presentation, which occasionally could be sloppy or contain plain errors. The responsibility for those is mine and mine only. However, I hope that the material presented here, if not the subject for more in-depth and broader research by the author, will be at least a prompt for more expert readers.</p>
<p>The growth of complexity in science, to which specialism was the universal response, is not going to decline; but maybe the compartmentalization of specialism will. When we will seek for systematic answers to the problems posed by this Cambrian explosion, one place to look will be computer science, which under many regards is the art of managing complexity by the human mind through abstractions. The simplest and most ubiquitous abstraction is the black box, and hence there is no shame in using black boxes when dealing with problems outside our competence. However, in order to make scientific statements about them, neglecting their inner workings, one needs to use the strictest rigour on the assumptions on their inputs and outputs.</p>
<p>It is unlikely that scientists will be replaced by scientific programmers in the future. However, good scientists surely will also be good programmers, i.e. they will be able to express elegantly both declarative knowledge by means of equations and of procedural knowledge, with the help of a computer.</p>
</div>
<div id="rage-against-machine-learning">
<h2>Rage Against Machine Learning<a href="#rage-against-machine-learning" title="Permalink to this headline">¶</a></h2>
<p>The main problem of present scientific research is the adoption of the ideas and methods from capitalist market economy. Research institutes must profit from the work of researchers and profit is measured by publications, funding, and patents. The phenomenon is not new, but the degree to which it permeates academia is unedited. Also, it is tightly linked to the sociopolitical and economic system in which we live, and it is probably irreversible. This problem not only intoxicates the academic environment and the life of people which work in academia, but also affects negatively the quality of research. It creates positive feedback loops and inflates some research topics while stagnating others. We live in a time of a profound, yet silent, crisis in science.</p>
<p>Of course, technology and applied science, which have an immediate return, are more likely to be funded and hence get more attention from researchers. In some cases, the situation is exacerbated by lack of scientific contents and rigour. Private investments in the loop worse the situation.</p>
<p>Prominent examples of speculative bubbles are HPC and topics in machine learning as artificial neural networks. The latter deserves a word of caution. The ubiquitous application of artificial neural networks for modeling and inference, as surrogate human understanding, is the utmost failure of reductionism. We should invest more resources in their understanding, even if it is less rewarding than simply using them. Otherwise, the use of mathematical language, scientific method, and reductionism that fueled the most spectacular achievements in our understanding of nature is in danger.</p>
<p>Some problems in modern science requires HPC, although fewer than promised by exa-scale evangelists. Nonetheless, is it HPC an interesting scientific topic per se? I think that it is. Understanding the performance of large distributed systems, running thousands of coordinated processes simultaneously, is an interesting subject indeed. However, it needs a paradigm shift: it should be investigated for the sake of it, out of pure curiosity. The accent should be on comprehension, not on making things and doing stuff. Paradoxically, it is from gratuitous knowledge that the greatest technological advances come out, in the long run.</p>
<p>A related situation exists in computer science as a whole. Its cultural relevance and brief history rich of beautiful ideas are not recognized. As a consequence, programming is often taught and learned abysmally. The resources for these practices have no shortage of terms: tutorials, cookbooks, howtos. In the words of Kevlin Henney, from a <a href="https://www.youtube.com/watch?v=AbgsfeGvg3E">GOTO talk of 2018</a>.</p>
<blockquote>
<p>There’s something else in software that we are particularly bad at: we have a very weak sense of history. So it is not simply that we keep rediscovering and reinventing the wheel, and eventually we might actually make it round; it’s that we have a very poor cultural sense of history, and so we live in a constant state of astonishment and rediscovery.</p></blockquote>
<p>At best, computer science is misunderstood, as wonderfully explained by Abelson and Sussman in their classic on the subject <span id="id1">[<a href="#id15"><span>ASPS96</span></a>]</span>.</p>
<blockquote>
<p>Underlying our approach to this subject is our conviction that “computer science” is not a science and that its significance has little to do with computers. The computer revolution is a revolution in the way we think and in the way we express what we think. The essence of this change is the emergence of what might best be called procedural epistemology–the study of the structure of knowledge from an imperative point of view, as opposed to the more declarative point of view taken by classical mathematical subjects. Mathematics provides a framework for dealing precisely with notions of “what is”. Computation provides a framework for dealing precisely with notions of “how to”.</p></blockquote>
<p>If we don’t free ourselves from utilitiarian views on computer science and programming, we will be doomed to poorly reinvent the wheel. Only when we will clearly see their beautiful ineffectiveness, we will be able to make progress.</p>
<p>It is at least naive to suggest stopping using computers for science, and appreciate procedural epistemology for his own sake only. Still, there are practical reasons to approach computing more thoughtfully.</p>
<p>In many research fields, articles, reviews, and conference proceedings account only for a part of the writing duty of researchers, the other being computer programs. Nonetheless, this is something for which they are not always given the proper credit. Furthermore, code is not always published, and its quality is not always at best. However, if programming is theory-building <span id="id2">[<a href="#id10"><span>Nau85</span></a>]</span>, then we need to consider code as literature and write correct, clear, reusable and extensively documented code to make real scientific progress and not waste our collective efforts.</p>
<p>The issue is not just the consideration we have for programming as an intellectual activity. If one wants to apply the scientific method to numerical experiments, he has to attain the same standards used for laboratory experiments: in other words, they must be reproducible. Hence, the reason of the importance of code and documentation in scientific computing is that they are part of the reproducibility effort.</p>
</div>
<div id="math-is-the-ultimate-javascript-framework">
<h2>Math is the Ultimate Javascript Framework<a href="#math-is-the-ultimate-javascript-framework" title="Permalink to this headline">¶</a></h2>
<p>I would go as far as saying that a playful interest in fundamental questions, beyond practical applications, is a good professional investment for a programmer too.</p>
<p>During the last Christmas holidays, I was chatting with my father about medium wave and longwave antennas. Since physical evidence is better than words, he suddenly went away and reappeared from the closet with a radio in his hand. It was a Grundig from the mid 80’s. Once opened the back of the radio, the ferrite rod antenna and the long and medium wave windings were clearly visible.</p>
<p>I was mesmerized and stared intensely at the inner of the radio. The whole circuitry contained less than ten bipolar junction transistors, for both amplitude and frequency modulation. I pointed with my finger at some components I wasn’t able to recognize, and asked him what they were and why they were there, as I used to do as a kid. The strangest thing to me were the small radio frequency inductors. They had small red marks made with permanent ink. A long time before, he explained to me, he marked the original positions of the tuning screws, before trying to adjust the tune. A whole piece of the circuit board was covered with wax—which I thought was glue—, to avoid changing the position and orientation of some components, changing the inductance of the circuits and losing the right tuning.</p>
<p>That world is gone<a href="#howsad" id="id3">1</a>. We now live in a world of integrated circuits. In our world, physical devices are assembled using tools similar to the ones found in software: abstractions. Black-boxes are combined, or replaced with equivalent ones. Most of the time, it is simply cheaper to use programmable electronics.</p>
<p>This transformation is concerned with physical objects only to a lesser degree. The biggest shift was cultural. A generation of highly trained engineers has become obsolete. The knowledge and mental models they used were outdated. It has not happened during a century, but in few decades. It is highly unlikely that it will not happen again. Instead, if we extrapolate the trend, it is conceivable that the timescale of transformations will become shorter and shorter, due to technological acceleration.</p>
<p>In short, there are excellent chances that the knowledge about a particular technology that one acquires today will be worthless within the time span of his professional career<a href="#frontend" id="id4">2</a>. It is probable that our high-level code will look to …</p></div></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://stefanocampanella.github.io/MHPC-project/backmatter/final.html">https://stefanocampanella.github.io/MHPC-project/backmatter/final.html</a></em></p>]]>
            </description>
            <link>https://stefanocampanella.github.io/MHPC-project/backmatter/final.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26260665</guid>
            <pubDate>Thu, 25 Feb 2021 07:48:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to issue a central bank digital currency]]>
            </title>
            <description>
<![CDATA[
Score 26 | Comments 31 (<a href="https://news.ycombinator.com/item?id=26260524">thread link</a>) | @Tomte
<br/>
February 24, 2021 | https://www.snb.ch/en/mmr/papers/id/working_paper_2021_03 | <a href="https://web.archive.org/web/*/https://www.snb.ch/en/mmr/papers/id/working_paper_2021_03">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
       <article>
        
        <h2><span>David Chaum</span>, <span>Christian Grothoff</span> and <span>Thomas Moser</span></h2>
        
        <p><b>Issue</b><br><span>2021-03</span></p>
        <p><b>Pages</b><br><span>34</span></p>
        <p><b>JEL classification</b><br><span>E42, E51, E52, E58, G2</span></p>
        <p><b>Keywords</b><br><span>Digital currencies, central bank, CBDC, blind signatures, stablecoins</span></p>
        <p><b>Year</b><br><span>2021</span></p>
        
        <ul>
         <li>
          <a href="https://www.snb.ch/n/mmr/reference/working_paper_2021_03/source/working_paper_2021_03.n.pdf">
           <div>
            
            <p>
             <h3>How to issue a central bank digital currency</h3>
            </p>
           </div>
           <p>PDF</p>
          </a>
         </li>
        </ul>
        <p>With the emergence of Bitcoin and recently proposed stablecoins from BigTechs, such as Diem (formerly Libra), central banks face growing competition from private actors offering their own digital alternative to physical cash. We do not address the normative question whether a central bank should issue a central bank digital currency (CBDC) or not. Instead, we contribute to the current research debate by showing how a central bank could do so, if desired. We propose a token-based system without distributed ledger technology and show how earlier-deployed, software-only electronic cash can be improved upon to preserve transaction privacy, meet regulatory requirements in a compelling way, and offer a level of quantum-resistant protection against systemic privacy risk. Neither monetary policy nor financial stability would be materially affected because a CBDC with this design would replicate physical cash rather than bank deposits.</p>
       </article>
      </div></div>]]>
            </description>
            <link>https://www.snb.ch/en/mmr/papers/id/working_paper_2021_03</link>
            <guid isPermaLink="false">hacker-news-small-sites-26260524</guid>
            <pubDate>Thu, 25 Feb 2021 07:15:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ferrocene Part 3: The Road]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26260519">thread link</a>) | @pjmlp
<br/>
February 24, 2021 | https://ferrous-systems.com/blog/ferrocene-update-three-the-road/ | <a href="https://web.archive.org/web/*/https://ferrous-systems.com/blog/ferrocene-update-three-the-road/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p><img src="https://ferrous-systems.com/images/ferrocene_logo_horizontal.svg" alt="The Ferrocene logo. A ball between two planes. The name ferrocene next to it."></p>



<p><i>To celebrate this announcement, we will be around at this years <a href="https://www.embedded-world.de/en/exhibitor-list">embedded world digital</a>. You can watch our pitch talk on Wednesday, March 3rd, from 11:10am - 11:20am UTC.
We're available for 1:1 meetings all week.<p>

You can book those through the embedded world web application by searching for "Rust" or "Critical Section" in the exhibitors list.</p></i>
</p>



<p>Ferrocene is an effort led by Ferrous Systems and its newly formed subsidiary Critical Section GmbH to qualify the Rust Language and Compiler for use in the safety-critical domain. This is the third post in a series detailing our plans and actions around this effort, addressing topics discussed in <a href="https://ferrous-systems.com/blog/sealed-rust-the-pitch/">The Pitch</a> and <a href="https://ferrous-systems.com/blog/sealed-rust-the-plan/">The Plan</a>. Ferrocene's draft name was "Sealed Rust."</p>

<p>Our goal is to <strong>improve the status-quo of software quality and correctness in safety-critical domains</strong> by enabling the use of the Rust Programming Language for safety-critical software development. We believe that Rust is a significant improvement over existing tools both from a safety and quality perspective and as an improvement for developer productivity.</p>

<p>You can follow the progress on these efforts on the <a href="https://ferrous-systems.com/blog/">Ferrous Systems' Blog</a>, by <a href="https://eepurl.com/guoC6P">subscribing to our newsletter</a>, or by <a href="mailto:ferrocene@critical-section.com">contacting us directly</a>.
Ferrocene is currently looking for partner commitments! Please get in <a href="mailto:contact@critical-section.com">touch via email</a> if interested.</p>

<p>Since our last post in February 2020, we have moved Ferrocene from an idea to an actual project. We strengthened our contacts with interested companies and went deeper into our industrial and language research.</p>

<h2 id="finding-a-route-user-research">Finding a route: User Research</h2>

<p>Over the last 1.5 years, we have conducted several interviews with parties deploying software in safety-critical or mission-critical environments. The participants were diverse, from cloud providers to vehicle manufacturers. We found broad interest in adopting Rust in those industries.</p>

<p>There were several key takeaways:</p>

<ol>
  <li>Rust as a language is seen as the big contender in critical spaces. Particularly, its focus on rigor and stability is seen as a major competitive advantage.</li>
  <li>At the same time, language evolution and improvement speed is also a crucial factor of interest.</li>
  <li>There is a desire for improvement over current language specification practices.</li>
  <li>Rust only having one main compiler at the moment is seen as a strength at the current phase of the language.</li>
  <li>Interviewed organisations see the language on a good trajectory towards their needs.</li>
</ol>

<p>On further investigation, we found a lot of openness and desire for modern, tool-assisted specification and verification techniques. Rust was regarded as being on a good path and quoted as being a language that was already easier to analyze and inspect than other languages. For that reason, we researched existing practices.</p>

<p>In addition to the above, we overwhelmingly found that the projects and tools already providing analysis and further safety guarantees operate on <a href="https://blog.rust-lang.org/2016/04/19/MIR.html">MIR</a>, Rust's mid-level intermediate representation, and other IR rather than the Rust source language. They utilized MIR to carry program meaning in a simplified manner, enabling easier analysis and reasoning. As such, a desire expressed was visibility into changes to MIR and versioned stability.</p>

<p>When further interviewed on stability, organizations expressed a desire to adopt a technology that continually increases safety and assurance levels. Most organizations considered stability a consequence of structured, deliberate changes between documented milestones one can predictably target. We summed this up as "addressability". This framing resonated in interviewed organizations.</p>

<p>There was a high respect for Rust's software practices both inside and outside of the main project. It was mentioned as a strong point that many traditionally research-related tasks are conducted within the project.</p>

<p>In conclusion, there was a shared desire to produce safer, higher-quality software <strong>faster</strong> and a sense that <strong>fundamental changes are necessary</strong>.</p>

<h2 id="finding-an-orientation-why-ferrocene">Finding an orientation: why Ferrocene?</h2>

<p>A key question from these discussions with industry-leaders: what is Ferrocene, the product, and how does it relate to Rust? There was strong interest from potential clients that work that <em>can be</em> upstreamed into the Rust compiler <em>should be</em> wherever possible. We believe this points to a focus shift in the industry. Companies understand the value of FOSS as a neutral commons but also want to invest through initiatives that work towards their goals.</p>

<p>There are services required for mission and safety-critical industries that go beyond shipping a compiler. This includes (very) long-term support, qualification packages, industry-specific tooling, backends and targets, training, verification help and industry-specific advice. This is Ferrocene, the product.</p>

<p>During our conversations with industry leaders, we found that there's a need for Ferrocene as a wider initiative. Increasing the trust level of the Rust compiler will benefit many industries, and focusing only on typical safety-critical environments is one part of the picture. Improvements in the trust level of the core technology benefit <em>all</em> participants in the ecosystem. For example, we see efforts in better describing the semantics of Rust as it exists today as an important baseline for guiding the evolution of the language.</p>

<p>Ferrocene is both. It is a product to serve markets that need high assurances and committments. It is an initiative to take Rust to the next level of reliabilty and trust. Out of that comes a strong desire for collaboration.</p>

<h2 id="having-a-direction-first-waypoints">Having a direction: First Waypoints</h2>

<p>We intend to publish a solidified roadmap for Ferrocene by June 2021.</p>

<p>A major early milestone for Ferrocene is achievable criticality levels. Currently, we're aiming at ISO 26262/ASIL-B qualification readiness and general availability by the end of 2022. Along the way, we will work closely with early adopters to increase the toolchain's quality and gather feedback and experiences.</p>

<p>Ferrocene is a vehicle for a versioned Rust and MIR specification, paired with automated verification of Rust semantics. These "runnable specs" give developers in mission-critical and high-security environments a sound, proven, and addressable foundation for building critical libraries, analysis tools, and further system assurances.</p>

<p>Critical Section is also committed to improving the developer experience in mission and safety-critical industries. Ferrocene includes efforts to bring existing verification tools, like MIRI, to a production-ready state, while also improving the ease and advanced capabilities of formally verifying Rust programs.</p>

<h2 id="finding-partners-the-travel-group">Finding Partners: The travel group</h2>

<p>We have a lot of work ahead of us, but also a lot of experiences to tap into.</p>

<p>Ferrous Systems and Critical Section are calling for additional partners to join that effort! We're interested in partners from many industries, including:</p>

<ul>
  <li>Safety-critical sectors, such as automotive, railway and aerospace</li>
  <li>Operators of mission-critical infrastructure with high-reliability and security concerns, such as cloud vendors</li>
  <li>Hardware vendors</li>
  <li>Compiler vendors</li>
  <li>Organisations that require structured knowledge of their base systems</li>
  <li>Is interested in building strong, deep Rust knowledge now</li>
</ul>

<p>Partners also get early access to Ferrocene releases and can follow the development closely with engineer support.</p>

<p>If that describes your organisation, <a href="mailto:contact@critical-section.com">we're happy to be in touch</a>.</p>

<h2 id="starting-the-engine">Starting the engine</h2>

<p>In August 2020, Ferrous Systems GmbH created a wholly-owned subsidiary called Critical Section GmbH. Critical Section started work on Ferrocene in September 2020, setting up roadmaps, finalizing user research, and outreach to partners. Ferrocene is currently managed by Florian Gilcher and Sabree Blackmon.</p>

<h2 id="thanks">Thanks</h2>

<p>We would like to thank Tim Reed and Jack Greenbaum from Green Hills Software for their constant advice, guidance and collaborative experimentation along the way.</p>
</div></div>]]>
            </description>
            <link>https://ferrous-systems.com/blog/ferrocene-update-three-the-road/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26260519</guid>
            <pubDate>Thu, 25 Feb 2021 07:15:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[History of Dice]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26260414">thread link</a>) | @akamoonknight
<br/>
February 24, 2021 | https://www.awesomedice.com/blogs/news/history-of-dice | <a href="https://web.archive.org/web/*/https://www.awesomedice.com/blogs/news/history-of-dice">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>Dice is all we do here at Awesome Dice, and as often as we talk about the bad old days of coloring in dice with crayons from the Dungeons &amp; Dragons boxed set, that was actually very recently in the history of dice. As it turns out, dice date back about as long as human civilization does, with the earliest dice found in Egyptian tombs and archeological digs in ancient Sumeria.</p>
<p>Above is a brief timeline of the history of dice along with a map showing you where the historical events took place. Below we’ll talk about some of the sources and debunk a couple of the false claims of oldest dice.</p>

<h2>Sources</h2>
<p>Because we’re big fans of good science here at Awesome Dice, here is the complete list of all dice facts from the History of Dice infographic along with the source for each piece of data. After this we’ll address some of the info that didn’t make it into this history, and why:</p>
<p><strong>History of Dice</strong></p>
<p>Dice have been used in games throughout the history of civilization, from ancient Egypt and Sumeria to Dungeons &amp; Dragons.</p>
<ul>
<li>
<strong>3100 BCE</strong>: Earliest hieroglyphics representing Senet boards found. Senet uses 2-sided playing pieces for randomization.<span>&nbsp;</span><em>Source:<span>&nbsp;</span><a href="http://www.gamesmuseum.uwaterloo.ca/Archives/Piccione/index.html">In Search of the Meaning of Senet</a>.</em>
</li>
<li>
<strong>3000 BCE:</strong><span>&nbsp;</span>Oldest confirmed dice found in a dig site in Turkey along with other game pieces. Date cited as “near” 3,000 BCE — could be a bit less.<span>&nbsp;</span><em>Source:<span>&nbsp;</span><a href="http://news.discovery.com/history/archaeology/oldest-gaming-tokens-found-130814.htm">Discovery News</a>.</em>
</li>
<li>
<strong>3000 BCE</strong>: Holes are found punched into clay floors in the Mexico Tlacuachero site, similar to modern dice game score boards.<span>&nbsp;</span><em>Source:<span>&nbsp;</span><a href="http://news.nationalgeographic.com/news/2010/12/101210-dice-gaming-gambling-native-american-indian-casinos-science/">National Geographic</a>.</em>
</li>
<li>
<strong>2600 BCE</strong>: Oldest confirmed dice. Pyramidal d4s found in the board game, the Royal Game of Ur from ancient Sumeria.<span>&nbsp;</span><em>Source:<span>&nbsp;</span><a href="http://www.britishmuseum.org/explore/highlights/highlight_objects/me/t/the_royal_game_of_ur.aspx">Brittish Museum</a></em>.</li>
<li>
<strong>2000 BCE</strong>: Cubical dice found in Egyptian tombs.<span>&nbsp;</span><em>Source:</em><span>&nbsp;</span><em>Encyclopedia Britannica.<br></em>
</li>
<li>
<strong>1333 BCE:</strong><span>&nbsp;</span>Knucklebones — primitive dice shaped like animal bones — found in Tutankhamen’s tomb.<span>&nbsp;</span><em>Source: Egyptian Museum Cairo</em>
</li>
<li>
<strong>1188 BCE</strong>: Approximate date that Sophocles said dice were invented by Palamedes during the siege of Troy.<span>&nbsp;</span><em>Source: Encyclopedia Britannica.</em>
</li>
<li>
<strong>900 BCE</strong>: Tuscania dice found near Rome. Cubical dice with standard pip markings.<span>&nbsp;</span><em>Source: Board and Table Games from Many Civilizations</em>
</li>
<li>
<strong>600 BCE</strong>: Cubical dice found in Chinese excavations.<span>&nbsp;</span><em>Source: Encyclopedia Britannica.</em>
</li>
<li>
<strong>400 BCE</strong>: Oldest written records of dice, in the Sanskrit epic, the Mahabharata.<span>&nbsp;</span><em>Source: Encyclopedia Britannica.</em>
</li>
<li>
<strong>300 BCE:</strong><span>&nbsp;</span>Oldest d20 from Egypt dated from the Ptolmaic period.<span>&nbsp;</span><em>Source:<span>&nbsp;</span><a href="http://www.metmuseum.org/collections/search-the-collections/100008377?img=0">Metropolitan Museum of Art</a>.</em>
</li>
<li>
<strong>150 BCE</strong>: Egyptian d12 found from the Ptolmaic period.<span>&nbsp;</span><em>Source:<span>&nbsp;</span><a href="http://www.dicecollector.com/THE_DICE_THEME_OLD.html">Dicecollector.com</a></em>
</li>
<li>
<strong>100 AD</strong>: 2nd oldest 20-sided die. This ancient Roman d20 sold at auction for $17,925 in 2003.<span>&nbsp;</span><em>Source:<span>&nbsp;</span><a href="http://www.christies.com/Lotfinder/lot_details.aspx?intObjectID=4205385">Christie’s</a></em>
</li>
<li>
<strong>1000 AD</strong>: Dice buried in Viking grave mounds.<span>&nbsp;</span><em>Source: Proceedings of the Society of Antiquaries of Scotland, Volume 14</em>
</li>
<li>
<strong>1600 AD</strong>: Dice first subject to mathematical analysis by Galileo and Girolamo Cardano. Probability mathematics conceived.<span>&nbsp;</span><em>Source: Encyclopedia Britannica.</em>
</li>
<li>
<strong>1888 AD:</strong><span>&nbsp;</span>8-sided poker dice.<em><span>&nbsp;</span>Source:<span>&nbsp;</span><a href="http://www.dicecollector.com/THE_DICE_THEME_SPECIAL.html">Dicecollector.com</a></em>
</li>
<li>
<strong>1906 AD</strong>: 10-sided dice patented in the US.<span>&nbsp;</span><em>Source:<span>&nbsp;</span><a href="http://patft.uspto.gov/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN/809,293">US Patent Office</a></em>
</li>
<li>
<strong>1950 AD</strong>: Oldest plastic d20, numbered 0-9, patented by Tokyo-Shibuara Electric Company.<span>&nbsp;</span><em>Source:<span>&nbsp;</span><a href="http://www.dicecollector.com/THE_DICE_THEME_SPECIAL.html">Dicecollector.com</a></em>
</li>
<li>
<strong>1974 AD</strong>: Dungeons &amp; Dragons published and sells a set of polyhedral dice. D20 numbered 0-9 and no d10.<span>&nbsp;</span><em>Source: our memory.</em>
</li>
<li>
<strong>1980 AD</strong>: At GenCon the first 10-sided dice claimed to have been invented.<span>&nbsp;</span><em>Source: our memory.</em>
</li>
<li>
<strong>1985 AD</strong>: The zocchihedron, d100 is released.<span>&nbsp;</span><em>Source:<span>&nbsp;</span><a href="http://patft.uspto.gov/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=/netahtml/PTO/search-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN/D303553">US Patent Office</a></em>
</li>
</ul>
<h2>Some Debunking</h2>
<p><img src="https://cdn.shopify.com/s/files/1/0057/6408/7896/files/ancient-dice-250x127.jpg?v=1577137780" alt="ancient roman dice"></p>
<p>Gamers doing some cursory poking around on the internet might notice a few claims of older dice that are not included in this history. Certainly if you know of something we missed, please drop a comment with a link to the sources! However, there are some seemingly official-looking stories out there that don’t withstand scrutiny. Here are the big ones:</p>
<p><strong>Burnt City Dice:</strong><span>&nbsp;</span>If you go looking around online for the oldest dice found, you will inevitably stumble on a site talking about the world’s oldest backgammon set found in the Burnt City, along with the oldest set of dice. Every report of this find can be sourced back to a single Persian Journal article from 2004 (no longer online). This story has been repeated and scraped and reposted countless times across the internet. I have not been able to find any reports confirming the dice from the Burnt City that doesn’t take its text from the Persian Journal article.</p>
<p>Over at Chess Quest<span>&nbsp;</span>this article [dead link removed]<span>&nbsp;</span>does a pretty good and well-documented job of debunking the reports of the Burnt City backgammon set &amp; dice. Furthermore, it looks like the photo of ancient dice used in the article and every other repost of the article were actually taken from a now defunct website. The dice are from a collection of ancient dice and are actually roman dice made of bone dated from 100 BCE to 100 AD, and have nothing to do with the Burnt City. Thus this story doesn’t hold up enough to be included in the history of dice.</p>
<p><strong>5000 BCE Dice:</strong><span>&nbsp;</span>There are a handful of sites out on the web that claim that dice have been found dated back to 5000 BCE, and of course none of them list any sources. I’m pretty sure that this mis-dating also comes from that pesky Burnt City Persian Journal article. The article made reference to dice from 5,000 years ago. I strongly suspect that someone misinterpreted that as meaning 5000 BCE, and like the Burnt City story itself, the misinformation spread across the web.</p>
<h2>Updates</h2>
<p>11/11/2012: Added new oldest d20 for Egyptian d20 at Metropolitan Museum of Art.</p>
<p>5/26/2012: Added Tutankhamen knucklebone reference.</p>
<p>If you are aware of an oldest dice find or a significant archaeological find that you think should be added, please drop a comment with a link to the source and we’ll get it added if we can verify the info, and if we think it’s significant enough to squeeze in.</p>
</div></div>]]>
            </description>
            <link>https://www.awesomedice.com/blogs/news/history-of-dice</link>
            <guid isPermaLink="false">hacker-news-small-sites-26260414</guid>
            <pubDate>Thu, 25 Feb 2021 06:54:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Keeping developers happy with a fast CI]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26260111">thread link</a>) | @luord
<br/>
February 24, 2021 | https://shopify.engineering/faster-shopify-ci | <a href="https://web.archive.org/web/*/https://shopify.engineering/faster-shopify-ci">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody"><p>
  Imagine you just implemented an amazing new feature that will change the life of thousands of users. You fixed all the review suggestions from your awesome colleagues and are finally ready to merge and deploy. However, continuous integration (CI) defeats this plan by revealing a minor bug. And because CI is just too slow, releasing this feature now has to wait till tomorrow.</p><p>If this sounds familiar, you're not alone. At Shopify, we run automated CI, like executing tests or code linting, on every git push. While we all agree that this should be fast, it's not an easy task if you have more than 170,000 tests to execute. Our developers were frustrated and that was the reason to run a dedicated project improving the speed of Shopify’s CI. I’ll show you how the Test Infrastructure team was able to reduce the p95 of Shopify’s core monolith CI from 45 minutes to 18.</p><p>The Test Infrastructure team is responsible for ensuring Shopify’s CI systems are scalable, robust, and usable. Our team set the objective: run the CI of Shopify's Core monolith in under 10 minutes in the 95th percentile. 95th percentile means that 95% of all builds are faster than 10 minutes. This was an ambitious goal because our CI's 95th percentile was around 45 minutes.
</p><h2>Architecture Overview</h2>
<p>It's important to mention that our <a href="https://buildkite.com/" target="_blank" title="Buildkite - Lightning fast testing and delivery for all your software projects" rel="nofollow noopener noreferrer">CI runs on Buildkite</a>. Buildkite gives us the flexibility to run the CI servers in our own cloud infrastructure. This has several advantages like aggressive scaling, support of different architectures and better integration and customization. For instance, it allowed us to implement our own instrumentation framework which was crucial for the success of this project.</p>
<p>In Buildkite, a pipeline is a template of the steps you want to run. There are many types of steps, some run shell commands, some define conditional logic, and others wait for user input. When you run a pipeline, a build is created. Each of the steps in the pipeline end up as jobs in the build, which then get distributed to available agents. The agents are installed on our CI servers and polling Buildkite for work, running build jobs and reporting back the results. Each server runs several of these agents at the same time and we scale the number of servers based on demand throughout the day.</p>
<h2>Setting Priorities With Data Driven Development</h2>
<p>There’s a popular carpenter saying: <em>Measure twice and cut once.</em> In other words, one should double check one's measurements for accuracy before cutting a piece of wood. Otherwise it may be necessary to cut again, wasting time and material. At the beginning, we took this saying to heart and invested in setting up instrumentation for our CI. We had a good foundation, as we already measured job and build times. However, this only gave us an idea that there was <strong>something</strong> slow, but not <strong>what</strong> was slow. On top of that, we needed to instrument every command executed.</p>
<figure><img alt="A scatter plot of commands execution count vs average duration" data-src="https://cdn.shopify.com/s/files/1/0779/4361/files/Keeping_Developers_Happy_With_Fast_Ci_-image3.png?format=jpg&amp;quality=90&amp;v=1614107235" src="https://cdn.shopify.com/s/files/1/0779/4361/files/Keeping_Developers_Happy_With_Fast_Ci_-image3.png?format=jpg&amp;quality=90&amp;v=1614107235">
<figcaption>Scatter Plot with the Two Dimensions: Execution Time and Number of Executions per Command</figcaption>
</figure>
<p>With this instrumentation in place, we built a <a href="https://en.wikipedia.org/wiki/Scatter_plot" target="_blank" title="Wikipedia Scatter Plot" rel="nofollow noopener noreferrer">scatter plot</a> with the two dimensions: execution time and number of executions per command. The dots in the top right corner are the commands that take the most time and get executed the most (our top priority). This information was tremendously important to setting priorities, and we discovered three main areas to focus on: preparing agents, building dependencies, and executing the actual tests.
</p><h2>Improving Docker Start Time by Reducing I/O Bottlenecks</h2>
<p>We grouped things like downloading the source code, restoring caches or starting docker containers for services like MySQL under preparing agents. These commands consumed around 31% of the time spent in CI, almost 1/3. This was a huge area to improve.</p>
<p>One bottleneck we discovered quickly was that starting the docker containers sometimes took up to 2 minutes. Our first assumption was that the CI machines were underprovisioned. It's important to know that we run several Buildkite agents on each testing machine (sometimes running more than 50 containers per machine). Our first experiment was to reduce the number of agents we scheduled on each machine that indeed reduced the time it took to start a docker container to a few seconds. However, one of our goals was to not increase the cloud computing expenses by more than 10%. Running more machines would have blown our budget, so this was not an option for now!</p>
<p>After more debugging, we tracked down that disk I/O was the bottleneck for starting docker containers. Right before starting containers, cached directories are downloaded and written to the disk. These directories include compiled assets or bundled gems. They often reach more than 10GB per machine. You can set a percentage of system memory that can be filled with "dirty" pages—memory pages that still need to be written to disk—before a background process kicks in to write them to disk. Whenever this threshold is reached, which is most of the time after downloading caches, I/O is blocked until the dirty pages are synced. The slow start of docker containers wasn’t the actual problem, but a symptom of another problem.</p>
<figure><img alt="Line Chart of Docker Start Time Improvements Dropping from 125 Seconds to 25 Seconds on p95" data-src="https://cdn.shopify.com/s/files/1/0779/4361/files/Keeping_Developers_Happy_With_Fast_Ci_-image1.png?format=jpg&amp;quality=90&amp;v=1614107235" src="https://cdn.shopify.com/s/files/1/0779/4361/files/Keeping_Developers_Happy_With_Fast_Ci_-image1.png?format=jpg&amp;quality=90&amp;v=1614107235">
<figcaption>Line Chart of Docker Start Time Improvements Dropping from 125 Seconds to 25 Seconds on p95</figcaption>
</figure>
<p>Once we knew the root cause, we implemented several fixes. The disk size was increased and the write speed increased proportionally with it. Additionally, we mounted most of the caches as read-only. The advantage is that we share read-only caches between agents, only needing to download and write them once per machine. Our p95 for starting containers improved from 90 seconds to 25 seconds, almost 4 times faster! We now write less data a lot faster.</p>
<h2>The Fastest Code Is the Code That Doesn’t Run</h2>
<p>While the improvements for preparing the test execution benefited all of Shopify, we also implemented improvements specifically to the Rails monolith most of Shopify's engineers work on (my team’s main focus). Like most Rails apps, before we can run any tests we need to prepare dependencies like compiling assets, migrating the database, and running bundle install. These tasks were responsible for consuming about 37% of the time spent in CI. Combined with preparing agents it meant that 68% of the time in CI was spent just on overhead before we actually ran any test! To improve the speed of building dependencies, we actually didn’t optimize our code. Instead we tried not to run the code at all! Or to quote <a href="https://www.goodreads.com/book/show/22863108-practical-maya-programming-with-python" target="_blank" title="Practical Maya Programming with Python by Robert Galankis" rel="nofollow noopener noreferrer">Robert Galanakis</a>: “The fastest code is the code that doesn’t run.”</p>
<p>How did we do that? We know that only a small number of pull requests change the database or assets (most of the Shopify frontend code is in separate repositories). For database migrations, we calculate an MD5 hash of our structure.sql file and db/migrate folder. If the hash is the same as our cache, we don't need to load the Rails app and run db:migrate. A similar approach was implemented for asset compilation. On top of that, we also run these steps in parallel that resulted in an improvement from 5 minutes to around 3 minutes only for this job.</p>
<h2>The 80/20 Rule Applies to Tests Too</h2><p>
After preparing agents and building dependencies, the remaining time is spent on running tests. In Shopify Core, we have more than 170,000 tests, which grow annually by 20-30%. It takes more than 41 hours to run all tests on a single machine. To put this into context, watching all 23 Avengers movies takes around 50 hours. The sheer amount of tests and their growth makes it unrealistic to optimize the tests themselves.</p><p><a href="https://shopify.engineering/spark-joy-by-running-fewer-tests" target="_blank" title="Spark Joy by Running Fewer Tests" rel="nofollow noopener noreferrer">Around one year ago we released a system</a> to only run tests related to the code change. Rather than running all 170,000 tests on every pull request we’d only run a subset of our test suite. In the beginning, it was merely an approach to fight flaky tests but it also reduced the test execution time significantly. While the original implementation turned out to be very reliable, it mostly focused on Ruby files. However, other non-Ruby files like JSON or YAML files also change frequently and often would trigger a full test run. It was time to go back and improve the original implementation.</p><p>For instance, the initial implementation of our test selection ignored changes to ActiveRecord fixtures that meant a change to a fixture file would always trigger a full test run. As changes to fixture files are quite frequent and have low risk of breaking production, we decided to create a test mapping for them. Luckily ActiveRecord already creates an <a href="https://edgeguides.rubyonrails.org/active_support_instrumentation.html" target="_blank" title="Active Support Instrumentation" rel="nofollow noopener noreferrer">ActiveSupport notification</a> for every SQL query it executes. By subscribing to these events, we were able to create a mapping of which fixtures were used in which tests. We can look up the tests we need to run by looking at what files have been modified, added, removed, or renamed. This change, along with several other new test mappings, increased the percentage of builds that didn't select all tests from 45% to over 60%. A nice side effect was that the test stability also increased from 88% to 97%.</p><p>With all these changes in place, we also noticed that a small percentage of tests are responsible for the slowest CI builds. This corresponds with the <a href="https://en.wikipedia.org/wiki/Pareto_principle" target="_blank" title="Pareto principle" rel="nofollow noopener noreferrer">Pareto principle</a> which states, “that for many outcomes roughly 80% of consequences come from 20% of the causes.” For instance, we discovered that one test frequently hangs and causes CI to timeout. Although we already wrap each test into a <a href="https://medium.com/@adamhooper/in-ruby-dont-use-timeout-77d9d4e5a001" target="_blank" title="In Ruby, don’t use timeout()" rel="nofollow noopener noreferrer">Ruby timeout block, it wasn’t 100% reliable</a>. Unfortunately, my team doesn’t have the necessary context and capacity to fix broken tests. Sometimes we even have to disable tests if they cause too much “harm” to Shopify and other developers. This is of course a last resort, and we always notify the original authors to give them the opportunity to investigate and come up with a fix. In this case, by temporarily removing these tests we improved the p95 by 10 minutes from around 44 minutes to 34.
</p><h2>Keep Developers Happy</h2>
<figure><img alt="Build Time Distribution Over Time From Start to End of the Project" data-src="https://cdn.shopify.com/s/files/1/0779/4361/files/Keeping_Developers_Happy_-_image_3.gif?v=1614116604">
<figcaption>Build Time Distribution Over Time From Start to End of the Project</figcaption>
</figure>
<p>Slow CI systems are often responsible for making …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://shopify.engineering/faster-shopify-ci">https://shopify.engineering/faster-shopify-ci</a></em></p>]]>
            </description>
            <link>https://shopify.engineering/faster-shopify-ci</link>
            <guid isPermaLink="false">hacker-news-small-sites-26260111</guid>
            <pubDate>Thu, 25 Feb 2021 05:48:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Imagining a Better Social Media]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26259941">thread link</a>) | @pyin
<br/>
February 24, 2021 | https://peteryin.fyi/imagining-a-better-social-media/ | <a href="https://web.archive.org/web/*/https://peteryin.fyi/imagining-a-better-social-media/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
<article>
    
<p>Between the negative impacts on mental health, the spread of disinformation, and concerns with data privacy, the problems with social media seem more in the spotlight than ever before. <em>The Social Dilemma</em>, a recent Netflix documentary highlighting these problems (with help from the people who created them), has reached 100 million people in 190 countries <sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup>. It’s no exaggeration to say the problems with social media are a mainstream topic.</p>
<p>Thankfully, this visibility has also led to more awareness. At the end of <em>The Social Dilemma</em>, several countermeasures are recommended, including turning off notifications, uninstalling apps, and thinking twice before sharing clickbait material. There are now <a href="https://www.hidefeed.com/">browser extensions</a> that will block recommendations and news feeds, and instead encourage intentional browsing.</p>
<p>These are all great, but they are only temporary patches. We can only work around a broken system for so long. For a lasting change, we need to rethink the system itself. There has been some discussion around this, such as this <a href="https://twitter.com/cwarzel/status/1278116194621419520">twitter thread</a> of what a better social network would look like, and <a href="https://www.humanetech.com/technologists">this guide</a> to human-centric principles for new technologists. But most of the discussion has been at a high level. For meaningful progress, we need to get specific.</p>
<p>What would social media look like if it were designed today? What features should we add or remove? How do we build something that users want AND is good for them? To explore these questions, I’ll start with the user I know best - myself.</p>
<p><strong>How would I design the ideal social media for me, knowing what I know today?</strong></p>

<p>First, it helps to reflect on my own experience. For context, I have primarily used Facebook to connect with friends since 2010. I recently started using Twitter, and very occasionally check Instagram.</p>
<h3 id="the-good">The Good</h3>
<p>There are several use cases where social media adds value to my life. These include:</p>
<ul>
<li>Sharing occasional life updates or new content with friends and receiving supportive comments and engagement</li>
<li>Posing a question or asking for recommendations and receiving thoughtful responses, sometimes from people I don’t normally talk to</li>
<li>Seeing updates every few days from ~5-10 close friends (who I’ve marked as Show First on Facebook)</li>
<li>Seeing major life updates every few months from a wider range of acquaintances</li>
<li>Directly checking the Twitter feeds of ~5-10 people I admire and learning something new or getting inspiration</li>
<li>Visiting David Goggin’s Instagram <a href="https://www.instagram.com/davidgoggins/">page</a> and receiving a healthy dose of motivation.<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup></li>
</ul>
<p>More generally, I am happy about my social media use when I feel like I am able to seek out updates intentionally from the people I care about. When my browsing is centered on people, not posts. When I choose what content I want to see, not the algorithm. The added serendipity of the algorithm can be nice to periodically check-in with distant connections or discover new people, but for the most part I am happiest when not pulled away on distractions and tangents.</p>
<h3 id="the-bad">The Bad</h3>
<p>My worst experiences with social media include:</p>
<ul>
<li>Scrolling through my Facebook and Twitter feeds for a “quick break” only to get sucked in and come out scattered, disoriented, and anxious</li>
<li>Sharing a post, then spending too much time checking for new notifications that it distracts me from meaningful work.</li>
<li>Procrastinating by opening the apps for a brief dopamine hit of relief from whatever happens to show up on my feed</li>
</ul>
<p>Most of my bad experiences involve falling into the short-term reward traps. Features that were designed to take advantage of our primitive brains to increase engagement - notifications, the algorithm, and the infinite news feed - pulled me into spending more time on these platforms than I was happy with. In past attempts to manage this problem, I’ve deleted apps from my phone and deactivated my Facebook account several times.</p>

<p>How would I design a social media platform that maximizes the positive value while minimizing the negative aspects? Here are some ideas.</p>
<h3 id="1-post-without-distractions">1. Post without Distractions</h3>
<p>If I want to post something on Facebook or Twitter, or Instagram, I have to go through the home page, where I’m met with a stream of content and notifications carefully curated to steal my attention. Instead, we could encourage more intentional usage by making the home page a minimal space where one can publish content without the noise of a newsfeed in the background.
Substack’s dashboard does a good job of this for newsletters.</p>
<figure>
    <img src="https://peteryin.fyi/substack_dash.png"> <figcaption>
            <h4>Substack User Dashboard</h4>
        </figcaption>
</figure>

<figure>
    <img src="https://peteryin.fyi/substack_post.png"> <figcaption>
            <h4>Substack Post Interface</h4>
        </figcaption>
</figure>

<h3 id="2-center-on-people-not-posts">2. Center on People, not Posts</h3>
<p>Instead of a feed of posts, we should have a feed of people we care about. Each person can be a card with their photo and name. When you click on their card, it takes you to their profile with their latest updates. People can be organized into different categories - close friends, acquaintances, influencers, etc, and those with new updates can be pinned at the top. With this design, I can still keep up to date with people I care about, but do it on my own terms. Scrolling through people instead of posts would also discourage the mindless scrolling that comes with an infinitely refilling feed.</p>
<figure>
    <img src="https://peteryin.fyi/people_feed2.png"> <figcaption>
            <h4>Super rough rendition of feed centered on people</h4>
        </figcaption>
</figure>

<h3 id="3-replace-the-feed-with-a-digest">3. Replace the feed with a Digest</h3>
<p>Instead of receiving notifications throughout the day, we should batch updates in a daily digest that you can read every morning. Similar to reading the morning paper with your cup of coffee, you can get a consolidated view of updates from the 10-20 people you care most about. Every week or month, we could consolidate updates from a wider range of acquaintances, akin to the “Sunday Paper” of print newspapers. This would allow me to still stay connected in meaningful ways without unnecessarily consuming precious time and attention.</p>
<h2 id="but-what-about-all-the-other-issues">But what about all the other issues?</h2>
<p>I haven’t mentioned anything about how this better social media would become a sustainable business, nor how it would address the major issues with social media companies today, including content moderation, data privacy, and polarization. My gut feeling is that the profitability will be increasingly related to these issues in the future.</p>
<p>This particular thought experiment focuses on the aspects of social media that personally affect my wellbeing the most. However, I do believe that on a long enough time horizon, tools that align their incentives with human wellbeing will come out on top.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Social media is ripe for an evolution. Let’s use the lessons of hindsight and our personal experiences to re-imagine what a wholesome social internet looks like. Then let’s make it happen.</p>
<p><em>Thanks to <a href="https://guzey.com/">Alexey Guzey</a> and Kathleen Sun for reviewing drafts of this essay</em></p>
<section role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p><a href="https://www.humanetech.com/the-social-dilemma">https://www.humanetech.com/the-social-dilemma</a> <a href="#fnref:1" role="doc-backlink">↩︎</a></p>
</li>
<li id="fn:2" role="doc-endnote">
<p>No seriously, check it out. Best way to remind yourself to workout when you don’t feel like it. <a href="#fnref:2" role="doc-backlink">↩︎</a></p>
</li>
</ol>
</section>
</article>

        </div></div>]]>
            </description>
            <link>https://peteryin.fyi/imagining-a-better-social-media/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26259941</guid>
            <pubDate>Thu, 25 Feb 2021 05:14:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Amazon insiders sound alarm over security]]>
            </title>
            <description>
<![CDATA[
Score 116 | Comments 44 (<a href="https://news.ycombinator.com/item?id=26259724">thread link</a>) | @nothinggoesaway
<br/>
February 24, 2021 | https://www.politico.eu/article/data-at-risk-amazon-security-threat/ | <a href="https://web.archive.org/web/*/https://www.politico.eu/article/data-at-risk-amazon-security-threat/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
									
<p>YOUR ORDER HISTORY. Your credit card information. Even your intimate health data.</p>



<p>Amazon is amassing an empire of data as the online retailer ventures into ever more areas of our lives. But the company's efforts to protect the information it collects are inadequate, according to insiders who warn the company's security shortfalls expose users' information to potential breaches, theft and exploitation.</p>



<p>The warnings about privacy and compliance failures at Amazon come from three former high-level information security employees — one EU-based and two from the U.S. — who told POLITICO they had repeatedly tried to alert senior leadership in the company's Seattle HQ, only to be sidelined, dismissed or pushed out of the company in what they saw as professional retaliation. </p>



<p>The EU-based employee is fighting the terms of their departure from Amazon through European courts. All three spoke on condition of anonymity out of concern they could face retaliation or difficulties in the job market for discussing the details of non-public legal proceedings. </p>



<p>Put together, their accounts paint a picture of a corporate culture at Amazon that they say prioritizes growth over other factors, such as the security of customers' information, compliance with rules designed to safeguard that data and the careers of employees the company hired specifically to flag problems.</p>



<p>“Imagine if a company the size of Amazon had a breach? The issue is millions of people's personal identifiable information is at risk,” the first former U.S.-based information-security employee said.</p>



<div><figure><img loading="lazy" width="1024" height="1024" src="https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-1-1024x1024.jpg" alt="" srcset="https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-1-1024x1024.jpg 1024w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-1-300x300.jpg 300w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-1-150x150.jpg 150w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-1-768x768.jpg 768w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-1-1536x1536.jpg 1536w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-1-2048x2048.jpg 2048w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-1-714x714.jpg 714w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-1-1160x1160.jpg 1160w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-1-380x380.jpg 380w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-1-85x85.jpg 85w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-1-366x366.jpg 366w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-1-623x623.jpg 623w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-1-69x69.jpg 69w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-1-200x200.jpg 200w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-1-260x260.jpg 260w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-1-36x36.jpg 36w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-1-720x720.jpg 720w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-1-60x60.jpg 60w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-1-333x333.jpg 333w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-1-1120x1120.jpg 1120w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-1-600x600.jpg 600w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-1-1320x1320.jpg 1320w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Illustrations by Rupert Gruber for POLITICO</figcaption></figure></div>



<p>A spokesman for Amazon said that maintaining customers' trust by protecting their privacy and ensuring the security of their data is a "long-standing top priority" for the company. </p>



<p>"These inaccurate, unsubstantiated and dated claims don’t reflect our commitment to keeping personal information safe. Amazon has comprehensive, long-established privacy and security policies, procedures and technologies in place. We regularly audit our services to ensure compliance and have zero tolerance for employees at all levels who do not follow our policies," he said. </p>



<p>At a time when lawmakers and government officials are ramping up scrutiny of tech companies on both sides of the Atlantic, the employees' complaints are likely to strike a chord with regulators.</p>



<p>While Amazon has faced plenty of heat over its labor practices — including alleged efforts to suppress union activity at its warehouses — its handling of data has received less attention.</p>



<p>Yet the company is one of Big Tech's most powerful players when it comes to data, thanks to the hoards of customer information it collects via its e-commerce platform, its online advertising business and its gigantic cloud computing arm, Amazon Web Services. </p>



<p>Garfield Benjamin, a British academic <a href="https://inforrm.org/2020/01/29/amazon-echos-privacy-issues-go-way-beyond-voice-recordings-garfield-benjamin/" target="_blank">who has previously written about Amazon’s privacy lapses</a>, said that the company's "disregard for privacy and security" was indicative of a "big problem."</p>



<div><figure><img loading="lazy" width="1024" height="683" src="https://www.politico.eu/wp-content/uploads/2021/02/24/iStock-1204560548-1024x683.jpg" alt="" srcset="https://www.politico.eu/wp-content/uploads/2021/02/24/iStock-1204560548-1024x683.jpg 1024w, https://www.politico.eu/wp-content/uploads/2021/02/24/iStock-1204560548-300x200.jpg 300w, https://www.politico.eu/wp-content/uploads/2021/02/24/iStock-1204560548-768x512.jpg 768w, https://www.politico.eu/wp-content/uploads/2021/02/24/iStock-1204560548-1536x1024.jpg 1536w, https://www.politico.eu/wp-content/uploads/2021/02/24/iStock-1204560548-714x476.jpg 714w, https://www.politico.eu/wp-content/uploads/2021/02/24/iStock-1204560548-1160x773.jpg 1160w, https://www.politico.eu/wp-content/uploads/2021/02/24/iStock-1204560548-380x253.jpg 380w, https://www.politico.eu/wp-content/uploads/2021/02/24/iStock-1204560548-90x60.jpg 90w, https://www.politico.eu/wp-content/uploads/2021/02/24/iStock-1204560548-103x69.jpg 103w, https://www.politico.eu/wp-content/uploads/2021/02/24/iStock-1204560548-200x133.jpg 200w, https://www.politico.eu/wp-content/uploads/2021/02/24/iStock-1204560548-390x260.jpg 390w, https://www.politico.eu/wp-content/uploads/2021/02/24/iStock-1204560548-54x36.jpg 54w, https://www.politico.eu/wp-content/uploads/2021/02/24/iStock-1204560548-1080x720.jpg 1080w, https://www.politico.eu/wp-content/uploads/2021/02/24/iStock-1204560548-333x222.jpg 333w, https://www.politico.eu/wp-content/uploads/2021/02/24/iStock-1204560548-1120x747.jpg 1120w, https://www.politico.eu/wp-content/uploads/2021/02/24/iStock-1204560548-600x400.jpg 600w, https://www.politico.eu/wp-content/uploads/2021/02/24/iStock-1204560548-1320x880.jpg 1320w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Amazon holds reams of user data — and it could be at risk | Image via iStock</figcaption></figure></div>



<p>“It seems bizarre — although perhaps unfortunately all too common — that a company so intent on making data its primary business should have such poor practices,” Benjamin said when shown POLITICO’s findings. He added, "Is their hubris so great, their assumed power so unassailable, that they see themselves as completely untouchable?” </p>



<p>The consequence for consumers is more than potential loss of trust in Amazon's privacy and security practices. The company's practices leave it vulnerable<strong> </strong>to potential breaches or hacks that could put highly sensitive information into the hands of malicious actors. </p>



<p>The data Amazon holds includes order history, payment information, data collected through its advertising business and, for sellers on its platform, forms of identification. In the wrong hands, it could be held for ransom against the threat of online publication; deployed to defraud people; used to get access to other online accounts; or leveraged in phishing attacks in which stolen data is used to trick victims into paying a fee or revealing even more sensitive information.  </p>



<p>More broadly, the accounts raise questions about what corporate values are rewarded at a company that has risen quickly to become the world's dominant e-commerce player.</p>



<h3>Data labyrinth</h3>



<p>ACCORDING TO THE TWO U.S. information-security employees, data is at risk because Amazon has a poor grasp of what data it has, where it is stored and who has access to it. </p>



<p>“If you wanted to do a 'right to be forgotten,' it would be next to impossible for Amazon to identify all of the places where your data resides within their system,” said the first former U.S.-based employee. The right to be forgotten, or right to have data erased, is a key tool for citizens under several privacy regimes, including in Europe and California.&nbsp;</p>



<p>The second U.S.-based information-security professional confirmed Amazon's shaky understanding of what reams of personal information it holds. “Amazon has grown so fast, it doesn't know what it owns … &nbsp;They don't know where their data is at, so they don’t know if they are protecting it correctly,” the person said.</p>



<p>The company’s track record on key data-security principles — controlling who has access to what data, patching vulnerabilities, ability to detect hacks, even whether passwords are changed regularly — came in for particular flak<strong> </strong>from all of the insiders who, together, have decades of experience in the area of information security.</p>



<p>“The quality of the controls that Amazon has in place is appalling. We found hundreds of thousands of accounts where the employee is no longer there but they still have system access,” said the first former U.S.-based employee, adding that such a vast number was possible because of Amazon's massive workforce and rapid staff turnover.<strong> </strong>Amazon said it has strict procedures in place when employees leave the company that remove their access.</p>



<p>Amazon has struggled to patch vulnerabilities in its systems. According to internal security reports from 2016 and 2017 seen by one of the former employees,<strong> </strong>the company declared that it was managing to patch between 55 to 70 percent of its systems. The first former U.S.-based employee likened that to leaving a house with several windows and doors open. </p>



<p>“Amazon’s information technology general controls, considering my experience and where I've been in the past, would not have passed muster with most auditors,” the first former U.S.-based employee said. "They were just poorly managed."&nbsp;</p>



<p>Weak controls mean the company may not even detect a hack. An internal Amazon memo seen by one of the former employees from June 2018 deemed there was a “very high” possibility of critical financial loss or reputational damage to the business because of the company’s “inability to identify adversarial events.”</p>



<div><figure><img loading="lazy" width="1024" height="1024" src="https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-2-New-1024x1024.jpg" alt="" srcset="https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-2-New-1024x1024.jpg 1024w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-2-New-300x300.jpg 300w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-2-New-150x150.jpg 150w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-2-New-768x768.jpg 768w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-2-New-1536x1536.jpg 1536w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-2-New-2048x2048.jpg 2048w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-2-New-714x714.jpg 714w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-2-New-1160x1160.jpg 1160w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-2-New-380x380.jpg 380w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-2-New-85x85.jpg 85w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-2-New-366x366.jpg 366w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-2-New-623x623.jpg 623w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-2-New-69x69.jpg 69w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-2-New-200x200.jpg 200w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-2-New-260x260.jpg 260w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-2-New-36x36.jpg 36w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-2-New-720x720.jpg 720w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-2-New-60x60.jpg 60w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-2-New-333x333.jpg 333w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-2-New-1120x1120.jpg 1120w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-2-New-600x600.jpg 600w, https://www.politico.eu/wp-content/uploads/2021/02/24/Politico-RG-2-New-1320x1320.jpg 1320w" sizes="(max-width: 1024px) 100vw, 1024px"></figure></div>



<p>Amazon said it was not aware of the reports and does not believe the claims to be accurate. It said that any historic concerns that are flagged through routine internal reporting would be fixed, which is the purpose of these processes.</p>



<p>The second former U.S.-based employee confirmed that Amazon fails to properly control access to systems, and that, in a company whose workforce has grown to more than 1 million, reams of personal information are accessible to people who do not have the appropriate role or responsibility.&nbsp;</p>



<p>“You've got tens of thousands of … teams connecting to big data," said the second former U.S.-based employee. "You should have a way to follow all the different types of data. From a technology point of view, you need to know where the data is going and how it's being protected. That does not exist,” they said.</p>



<p>The former employees were careful to distinguish between issues around Amazon’s internal approach to data compliance and the company’s leading track record in data-security engineering — visible through the products and services developed by AWS.&nbsp;</p>



<p>AWS’s cloud computing products are used by the likes of the U.S. government, and are widely seen as world-beating in terms of data security. One ex-employee described the security tools at Amazon’s disposal as “second to none,” but they said the strength of AWS tools in keeping systems secure is still dependent on how the end user applies them. They also noted that AWS is largely run separately from the rest of the company.  </p>



<p>The issue, they said, is that Amazon's data-security capabilities are undermined by the willingness of the company to override internal controls.</p>



<p>For instance, according to two of the former information-security professionals, data needed for new projects was sometimes improperly classified so that it would go through fewer internal checks. </p>



<p>The company said this is false. A spokesperson said it has comprehensive privacy and security policies, procedures and technologies in place that are observed by executives at all levels. The company regularly audits services to ensure compliance and employees may not be involved in decision-making outside of their role’s remit.</p>



<h3>'Woefully behind'</h3>



<p>EUROPE'S DATA-PROTECTION RULEBOOK, the General Data Protection Regulation (GDPR), is credited by many for putting privacy on the agenda — especially within company boardrooms, where the fines of 4 percent of global turnover introduced by the legislation are often perceived as an existential threat.</p>



<p>Even so, it was only in late April 2018 — weeks before the regulation came into force — that Amazon created a dedicated team in the information-security department to address the incoming regulation. “The organization was woefully behind,” said the first former U.S.-based employee. Amazon said it had long-standing privacy and security teams and made a standard organizational change to centralize privacy resources in 2018.</p>



<p>The former EU-based employee and others …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.politico.eu/article/data-at-risk-amazon-security-threat/">https://www.politico.eu/article/data-at-risk-amazon-security-threat/</a></em></p>]]>
            </description>
            <link>https://www.politico.eu/article/data-at-risk-amazon-security-threat/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26259724</guid>
            <pubDate>Thu, 25 Feb 2021 04:33:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Upstream camera support for Qualcomm platforms]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26259552">thread link</a>) | @todsacerdoti
<br/>
February 24, 2021 | https://memcpy.io/upstream-camera-support-for-qualcomm-platforms.html | <a href="https://web.archive.org/web/*/https://memcpy.io/upstream-camera-support-for-qualcomm-platforms.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="content" itemscope="">
<header>

<p>
Published <time datetime="2021-02-23" itemprop="datePublished">2021-02-23</time>
</p>
</header>
<p>The CAMSS driver for Qualcomm Image Signal Processors (ISPs) isn't new, but now has support for the next generation of ISP architecture.</p>
<p><a href="https://www.linaro.org/">Linaro</a> has been working together with Qualcomm to enable camera support on
their platformssince 2017. The Open Source CAMSS driver was written to support the ISP IP-block with
the same name that is present on Qualcomm SoCs coming from the smartphone space.</p>
<p>The first development board targeted by this work was the DragonBoard 410C, which was followed in 2018 by
DragonBoard 820C support. Recently support for the Snapdragon 660 SoC was added to the driver,
which will be part of the v5.11 Linux Kernel release. These SoCs all contain the CAMSS
(Camera SubSystem) version of the ISP architecture.</p>
<p>Currently, support for the ISP found in the Snapdragon 845 SoC and the DragonBoard 845C is in
the process of being upstreamed to the mailinglists. Having seen major changes, the ISP is
no longer referred to as CAMSS, but is instead known as Titan.</p>
<p>The Titan architecture offers improvements in resolution, framerates and most other dimensions
of the ISP, and is the latest architecture shipped on modern Qualcomm chipsets.</p>
<h2>Overview</h2>
<p>CAMSS is a V4L2 (Video for Linux 2) Linux driver which focuses on supporting the basic use cases of the ISP,
such as receiving the <a href="https://www.mipi.org/specifications/csi-2">MIPI CSI-2</a> signals from the sensors,
decoding them, and then writing them to memory. This leaves a lot of functionality typically provided
by an ISP unimplemented, but that is intentional as the development priority has been to enable the
data path from camera sensor to userspace.</p>
<p>The sub-components that the CAMSS drivers supports are the following:</p>
<ul>
<li>
<p>CSIPHY - the CSI PHYsical layer manages the physical electrical signals sent by camera sensors.</p>
</li>
<li>
<p>CSID - the CSI Decoder decodes the CSI-2 encoded data transmitted by the sensors</p>
</li>
<li>
<p>VFE - the Video Front End formats received data and exposes it through to further hardware blocks.
The VFE block was renamed to IFE (Image Front End) in the Titan architecture.</p>
</li>
<li>
<p>RDI - the Raw Dump Interface is exposed by the VFE, and is used to write the raw decoded
CSI output directly to memory.</p>
</li>
<li>
<p>PIX - the PIXel interface is exposed by the VFE, and is used to transmit data prepared
for advanced processing by more specialized hardware blocks.</p>
</li>
<li>
<p>ISPIF - the Image Signal Processor InterFace ties together a lot of specialized hardware blocks
into a data pipeline which can provide various levels of additionalprocessing.</p>
</li>
</ul>
<h3>Qualcomm ISP Gen 1 - CAMSS</h3>
<p>The first generation of the ISP hardware block supported by the (aptly named) CAMSS driver is
called CAMSS by Qualcomm.</p>
<p><a href="https://memcpy.io/images/2021-02-23_camss_gen1.svg"><img alt="Alt text" src="https://memcpy.io/images/2021-02-23_camss_gen1.svg" title="Qualcomm CAMSS ISP Generation 1">
</a></p>
<p>The CSIPHY, CSID &amp; VFE IP-blocks are relatively fully featured, but some functionality like
Virtual Channels are not implemented. However, a more substantial limitation of the ISPIF
support is that only basic cropping and rotation is currently implemented.</p>
<p>An obstacle caused by this limited ISPIF functionality is that it's not able to do format
conversions using the ISP. So whatever format the camera sensor is outputting, is directly
output to userspace. This can be a problem for Bayer pixel format sensors, because
they're poorly supported by userspace applications and require at least debayering to be
done in a post-processing step before the output can be viewed.</p>
<h3>Qualcomm ISP Gen 2 - Titan</h3>
<p>The next iteration of the Qualcomm ISP architecture is called Titan. The changes from Gen1
to Gen2/Titan can be summarized in two parts.</p>
<p><a href="https://memcpy.io/images/2021-02-23_camss_gen2_titan.svg"><img alt="Alt text" src="https://memcpy.io/images/2021-02-23_camss_gen2_titan.svg" title="Qualcomm CAMSS ISP Generation 2, Titan">
</a></p>
<p>The Titan frontend blocks (CSIPHY, CSID &amp; VFE) are almost identical between Gen1 and Gen2
with only minor structural changes and improvements.</p>
<p>However, the image processing pipeline has been revamped, and the ISPIF no longer exists.
What replaces it is an embedded CPU which is fed commands and in turn configures the
data processing blocks. Adding support for this CPU is beyond the current scope
of CAMSS due to the amount of work it would take to enable and the lack of documentation
for the CPU command stream. However, userspace applications are able to manage some of this
post processing. This is enough to support the most basic use cases, but many will be CPU/GPU
intensive and likely not have the same quality as an ISP based implementation would.</p>
<h2>Future</h2>
<p>Linaro will continue to maintain this driver, and is likely to extend it to support
additional hardware platforms. However, contributions are very welcome and platforms
like the SDM630 and SSDM660 have already had support contributed to the CAMSS driver.</p>
<p>Currently <a href="https://libcamera.org/index.html">libcamera</a> is a very useful development tool
for working with CAMSS. It is more flexible than most V4L2 applications, and using the
<a href="https://libcamera.org/getting-started.html">libcamera/qcam</a> application makes it possible
to view live output of even Bayer camera sensors without the ISP doing any debayering.</p>
<p>Recent Linaro contributions towards libcamera have enabled GPU accelerated format conversion
and debayering for the <a href="https://libcamera.org/getting-started.html">libcamera/qcam</a> test
application, you can read more about that
<a href="https://www.linaro.org/blog/accelerating-libcamera-qcam-format-conversion-using-opengl-shaders/">here</a>.
Linaro has also contributed the Open Embedded <a href="http://cgit.openembedded.org/meta-openembedded/tree/meta-multimedia/recipes-multimedia/libcamera/libcamera.bb?h=master">libcamera recipe</a>
for developers building their products with Yocto Project based Linux distributions.</p>
<p>Other Linaro contributions to the Linux camera landscape include work in both
userspace with libcamera and in the kernel with camera sensor drivers,
ISP drivers and V4L2 API work.</p>
<p>Further developments regarding software and GPU debayering are expected for libcamera,
and hopefully the community will see libcamera debayering enabled for all of its data paths
soon enough.</p>
<h2>Acknowledgments</h2>
<p>A lot of different contributors enabled this work, both directly and indirectly.</p>
<ul>
<li>Todor Tomov for creating the camss driver.</li>
<li><a href="https://gitlab.freedesktop.org/flto">Jonathan Marek</a> for trail-blazing Titan driver work.</li>
<li><a href="https://github.com/andrey-konovalov">Andrey Konovalov</a> for testing, finding bugs &amp; being a great sounding board.</li>
<li>Qualcomm for sponsoring and providing hardware documentation.</li>
</ul>
<p>This post has been a part of work undertaken by my employer <a href="https://www.linaro.org/blog/upstream-camera-support-for-qualcomm-platforms/">Linaro</a>.</p>
</article></div>]]>
            </description>
            <link>https://memcpy.io/upstream-camera-support-for-qualcomm-platforms.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26259552</guid>
            <pubDate>Thu, 25 Feb 2021 04:01:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Postgres: Built-in full text search vs. trigram matching]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26259495">thread link</a>) | @aapeli
<br/>
February 24, 2021 | https://www.aapelivuorinen.com/blog/2021/02/24/postgres-text-search/ | <a href="https://web.archive.org/web/*/https://www.aapelivuorinen.com/blog/2021/02/24/postgres-text-search/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <main>
<p>Around 6 minutes (1250 words). Published 2021-02-24.</p>


<p>Postgres (or PostgreSQL, if you like) is an amazingly powerful database engine. I’ve recently been working hard on <a href="https://couchers.org/">Couchers.org</a>, and as part of that, I’ve come to really dig into Postgres and understand the incredible value of it. For our use case in an open-source project built by a handful of passionate volunteers, it’s very useful when we don’t need to pull in additional dependencies and complicate the architecture. To this end, we’ve found Postgres to be a really great fit: it just has so much functionality packed right into a stable and well supported package.</p>
<p>As part of implementing text search for Couchers, I’ve spent some time learning about the different ways of going about this using Postgres, so I jotted down some of the basic ideas.</p>
<p>Postgres has two types of text search: full text search, and trigram-based “fuzzy” search. What makes text special is the many idiosyncrasies of our natural language. In most SQL databases, you like to do very straightforward relational queries, <code>SELECT user_id, display_name WHERE username = 'aapeli'</code>, but text is not so easy. There’s a variety of differences that make the problem qutie tricky. Firstly, a word does not always come in the same form, for example <code>Examples!</code> has roughly the same semantic meaning as <code>example</code> (we also have synonyms, but these are much harder). Also, we’re all humans and we make mistakes, so often you will see spelling errors, and it’s nice to have a search engine that can be somewhat resilient to it. One can get away for very basic needs with <code>LIKE</code> and <code>ILIKE</code>, as we did, but it quickly starts limiting the usefulness of search when users really want to find topics of interest. (Note that the trigram module is able to speed up these queries as well through its index.)</p>
<p>This is not a full overview of the power of these tools, rather, it’s a quick teaser and introdution to how they work! I encourage you to go read the full Postgres docs if you find this fascinating, most of the content here is from reading those pages, playing around with these, and implementing a search for Couchers.</p>
<h2 id="full-text-search">Full text search</h2>
<p>Postgres full text search works by trying to <em>normalize</em> words, then match them up exactly. That is, it tires to get around the mesiness of the language by trying to understand it and turn all words with the same semantic meaning into one symbol. These symbols are called <em>lexemes</em> in Postgres. (Each original word may result in multiple lexemes at the end.)</p>
<p>Here’s an example using the default configuration:</p>
<pre><code># select to_tsvector('This is an example sentence.');
      to_tsvector
------------------------
 'exampl':4 'sentenc':5
(1 row)
</code></pre><p>Stop words (short words that aren’t useful for search, e.g. ‘this’, ‘is’, ‘an’) are eliminated, punctuation is discarded, and the rest of the words are <em>stemmed</em>, so ‘example’ maps to the lexeme ‘exampl’, and so on. Notice that each lexeme is accompanied with positional information.</p>
<p>This allows indexing large document and matching up words exactly. To query now against this representation, we convert a query string into a <code>tsquery</code>:</p>
<pre><code># select websearch_to_tsquery('examples of sentences');
 websearch_to_tsquery
----------------------
 'exampl' &amp; 'sentenc'
(1 row)
</code></pre><p>That is, we’re looking for <em>documents</em> whose normalized forms contain both <code>exampl</code> and <code>sentenc</code> (the <code>&amp;</code> signifies logical “and”). Indeed, we get a match:</p>
<pre><code># select to_tsvector('This is an example sentence.') @@ websearch_to_tsquery('examples of sentences');
 ?column?
----------
 t
(1 row)
</code></pre><p>Note that full text search is very language dependent due to the use of language-specific dictionaries. There are a variety of dictionaries available, and Postgres is additionally able to use different standard formats of dictionaries.</p>
<p>In Couchers, we’re currently using English. It’s not therefore good for words that aren’t “Englishy” and not in the dictionary, for example local place names. This causes some headaches for us.</p>
<p>There is a lot more Postgres full text search can do, including weighting different parts of a document (e.g. title, address, content) differently, ranking results with a variety of algorithms, and automatically creating snippets highlighting the matched portions of text. <a href="https://www.postgresql.org/docs/current/textsearch.html">Read more about these on the Postgres docs</a>.</p>
<h3 id="implementation-details-in-couchers">Implementation details in Couchers</h3>
<p>We use the Postgres A/B/C/D classes for ranking, where each different searchable type has different sets of A/B/C/D. A is normally the title of the entity, e.g. the name of the community, the name of the user (or their username), page title, etc. B is normally the address or the user’s typed in city. C is any other primary text that’s more important than just the content, and D is all other text, main content, and so forth.</p>
<p>We use <code>websearch_to_tsquery</code> to turn an input into a <code>tsquery</code>. It’s safe to use with user-supplied input, and it has the usual web searchy operators:</p>
<ul>
<li>unquoted text requires each word to be in the search</li>
<li>quoted text requries each word to appear consequtively in the text</li>
<li>supports <code>or</code> and <code>-</code> (for negation)</li>
</ul>
<h2 id="trigram-search-fuzzy-search">Trigram search (fuzzy search)</h2>
<p>Trigram search works by breaking up words into consequtive triplets of characters, then looking these up in an index (though indexing is of course optional). With the right indexes, this scales to insane size and can be even used to implement indexed regular expressions over huge sets of text. Postgres supports this straight out of the box!</p>
<p>The basic search however, just basically needs to count overlapping trigrams.</p>
<p>To get started you need to install the <code>pg_trgm</code> extension which comes pre-packaged with Postgres:</p>
<pre><code># CREATE EXTENSION IF NOT EXISTS pg_trgm;
CREATE EXTENSION
</code></pre><p>You can then get matching! Here’s an example sentence turned decomposed trigrams:</p>
<pre><code># select show_trgm('This is an example sentence.');
                                                                 show_trgm
-------------------------------------------------------------------------------------------------------------------------------------------
 {"  a","  e","  i","  s","  t"," an"," ex"," is"," se"," th",amp,"an ","ce ",enc,ent,exa,his,"is ","le ",mpl,nce,nte,ple,sen,ten,thi,xam}
(1 row)
</code></pre><p>A search query with a spelling error:</p>
<pre><code># select show_trgm('example sentnences');
                                         show_trgm
-------------------------------------------------------------------------------------------
 {"  e","  s"," ex"," se",apl,ces,enc,ent,"es ",exm,"le ",map,nce,nen,ntn,ple,sen,tne,xma}
(1 row)
</code></pre><p>Now we can match against it:</p>
<pre><code># select word_similarity('example sentnences', 'This is an example sentence.');
 word_similarity
-----------------
       0.6666667
(1 row)
</code></pre><p>Note that full text search would not match due to the spelling mistake:</p>
<pre><code># select to_tsvector('This is an example sentence.') @@ websearch_to_tsquery('example sentnences');
 ?column?
----------
 f
(1 row)
</code></pre><p>Good on placenames:</p>
<pre><code># select word_similarity('joens', 'Joensuu, Finland');
 word_similarity
-----------------
       0.8333333
(1 row)
</code></pre><p>Trigram search is much better for “fuzzy” matching, but it doesn’t understand text semantics at all, so it’s not ideal for proper full text search or when trying to locate topics in text, and it’s a bit trickier to rank large documents. It can also be a bit tricky to get the indexes right: if a search query results in no trigrams, Postgres falls back to a full table scan… ouch!</p>
<p>However, it should be very good for searching short titles/addresses, and we in Couchers use it against the “A” class from above. Meaning basically that we do this kind of trigram matching against usernames, city names, users’ display names, and so on. Things that don’t generally have a lot of “semantic meaning” and where people easily make typos! <a href="https://www.postgresql.org/docs/current/pgtrgm.html">Read more about <code>pg_trgm</code> on the Postgres docs</a>.</p>
<h3 id="implementation-details-in-couchers-1">Implementation details in Couchers</h3>
<p>We use <code>unaccent</code> first on the query and text to be queried to remove accents and normalize text before trigram matching (which discards non-alphanumeric characters). We match against the A list only. We weight trigram similarity a bit higher than the text search results.</p>
<h2 id="further-reading">Further reading</h2>
<p>To read more about these topics, head over to the well written Postgres docs on <a href="https://www.postgresql.org/docs/current/textsearch.html">Full text search</a> and <a href="https://www.postgresql.org/docs/current/pgtrgm.html">Trigram matching with the <code>pg_trgm</code> module</a>.</p>


            <main>
        </main></main></div></div>]]>
            </description>
            <link>https://www.aapelivuorinen.com/blog/2021/02/24/postgres-text-search/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26259495</guid>
            <pubDate>Thu, 25 Feb 2021 03:52:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Making complex topics stick (Part 2: Composition)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26259490">thread link</a>) | @luord
<br/>
February 24, 2021 | https://architectelevator.com/strategy/logos-ethos-pathos/ | <a href="https://web.archive.org/web/*/https://architectelevator.com/strategy/logos-ethos-pathos/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      

      <section itemprop="text">
        

       
        
          <p><strong> Updated:</strong> <time datetime="2021-02-21T12:00:00+09:00">February 21, 2021</time></p>
        


        <p><a href="https://architectelevator.com/strategy/complex-topics-stick/">Part 1 of this mini-series</a> described how a good presentation should combine actual experience, mental models, and a punch line, realizing that this model closely maps to  <a href="https://en.wikipedia.org/wiki/Modes_of_persuasion" target="_blank">Aristotle’s Modes of Persuasion</a> from some 2300 years ago:</p>

<ul>
  <li>Ethos: Credibility or authority of the presenter (literally meaning “character”)</li>
  <li>Logos: Reasoning and logical appeal</li>
  <li>Pathos: An appeal to the audience’s emotions (“empathy” is a related term that helps memorizing this one)</li>
</ul>

<p>Experience adds to ethos because it gives you credibility, mental models use logos to show the audience how pieces relate to each other (one could say, this is “architecture”), and a memorable punch line can stir emotions, such as surprise or humor. Having been around some 2300 years, Aristotle’s model is widely cited and shared, including in my own book.</p>

<h2 id="ingredients-alone-dont-make-a-cake">Ingredients Alone Don’t Make a Cake</h2>

<p>To make these elements fruitful in a presentation, they need to be strung together into a flow. Here we encounter the limitations of a simple model like this one that’s included in <a href="https://architectelevator.com/book">The Software Architect Elevator</a> in the chapter about Showing Pirate Ships (to figure that one out, you’ll have to go and read <a href="https://architectelevator.com/book">the book</a>):</p>

<p><img src="https://architectelevator.com/assets/img/presenting_modes_persuasion.png" alt="Modes of persuasion"></p>

<p>This picture is a prototypical model (by now you surely know that I like models): it breaks down a complex topic into its components, abstracting away noise and highlighting the important aspects. One could even say it’s the architecture of a good speech—at least it passes the test of having lines.</p>

<p>However, the model is missing some important aspects. It’s like a recipe that shows us the ingredients but it doesn’t tell much how much of each ingredient we need and how we put them together. It’ll be rather difficult to bake a tasty cake based on a list of ingredients alone (insert my pet peeve about “my architecture is <em>product X</em> and <em>product Y</em>” right here).</p>

<blockquote>
  <p>Upping ethos and pathos from the typical 2% (allocating 96% to logos) to about 20% makes a world of difference for technical presentations.</p>
</blockquote>

<p>Let’s start with the percentage of ingredients (I’ll leave the putting together for <em>Part 3</em>). The typical technical presentation tends to consist of 96% logos, leaving perhaps 2% each for ethos and pathos, leaving a lot of improvement to balance things out. Shifting things to perhaps 60% logos and 20% ethos and pathos each will make a world of difference. After all, we are still talking about complex technical topics, but we shouldn’t make it a purely technical talk.</p>

<p><img src="https://architectelevator.com/assets/img/complex_topics_2_balance.png" alt="Balancing out a technical talk" title="Balancing out a technical talk"></p>

<p>At the same time, technical presentations needn’t be 1/3 each or flip completely the other way, like many Ted talks do. You might be making your IT great again but your audience is likely to want to hear some logos on how exactly that’s going to work.</p>

<h2 id="going-to-extremes">Going to Extremes</h2>

<p>Injecting more logos and pathos into technical presentations has been one of my favorite exercises in my <a href="https://architectelevator.com/workshops">live workshops</a> (I don’t offer them at the moment). To highlight the power of ethos, logos, and pathos, I presented the same argument in three short speeches that turn each dial to “10”, respectively.</p>

<p>Let’s assume your job is to convince people that moving faster is the essential element of your organization’s digital transformation (I do like very realistic examples). Here are three ways to go about this:</p>

<ol>
  <li>
    <p>“<em>The digital world charts new territory with new business models and new ways of interacting with customers. Such novel techniques have to be tested via experiments. Now, it doesn’t do much good if each experiment takes 18 months, therefore moving fast is the most essential property for organizations that are successful in economies of speed.</em>”</p>
  </li>
  <li>
    <p>“<em>We often debate how we can better compete with so-called digital disruptors. Well, after spending over a decade working as a software engineer in Silicon Valley, I point to one fundamental advantage those companies have: they are simply moving faster.</em>”</p>
  </li>
  <li>
    <p>“<em>Our company just posted another record quarter. So did Kodak, a few quarters before they went bankrupt. They were simply not moving fast enough. But we don’t have to make the same mistake.</em>”</p>
  </li>
</ol>

<p>As you likely guessed correctly, the first snippet is 90% logos (“from A follows B follows C”), the second one 90% ethos (“I was there and am here to tell you”), and version three is pure pathos (“hey, we’re doing great! No, actually we’re doomed. But there’s hope…”).</p>

<p>Going to extremes (bonus points for anyone who was thinking of <a href="https://www.youtube.com/watch?v=-QorpDX-GgY" target="_blank">Kaleidoscope</a> by Paul van Dyk with vocals by Jan Johnston) demonstrates that the three elements aren’t just minor variations, but result in completely different speeches. That’s the magic of ethos, logos, and pathos. Digital transformations are the perfect place for such mixes as they are at the intersection of technology and organizational changes.</p>

<blockquote>
  <p>Ethos, logos, and pathos aren’t just minor variations but result in completely different speeches.</p>
</blockquote>

<h2 id="amplifying-ethos-and-pathos">Amplifying Ethos and Pathos</h2>

<p>After understanding the potential of ethos and pathos, it’s useful to know some handy techniques to increase their share in your presentations. It’s like putting more butter and sugar into your cake or your cookies: they can only get better!</p>

<p>The big difference between ethos and pathos is that ethos about you, whereas pathos is mostly about the audience. Let’s start close to home:</p>

<h3 id="more-ethos">More Ethos</h3>

<p>A little ethos goes a long way. It helps overcome the initial hurdle that any presentation must take: convince the audience that listening to you is more valuable than checking email or browsing the web.</p>

<blockquote>
  <p>Ethos helps overcome the initial hurdle that any presentation must take: convince the audience that listening to you is more valuable than checking email or browsing the web.</p>
</blockquote>

<ul>
  <li><strong>Experience</strong>: We saw already in part 1 that experience builds ethos. Sharing your experience from a concrete project leaves a stronger impression than an abstract framework.</li>
  <li><strong>Affiliation</strong>: Related, your affiliation (along with titles or degrees) can also impact your ethos. Before you add “ex-Google, ex-ThoughtWorks” to your LinkedIn tag line, remember that this can go both ways–you wouldn’t write “failed at most  big tech companies” either, so it’s all about the dosage (yes, Mr./Mrs. “PMP, PRINCE, CCP, MCTS, MIA”, I am looking at you).</li>
  <li><strong>References</strong>: The experience doesn’t always have to be yours–you can also cite external, credible sources. If <a href="https://martinfowler.com/aboutMe.html" target="_blank">Martin Fowler</a> / Gartner / Jeff Bezos said it, it must be (mostly) true!</li>
  <li><strong>Appearance</strong>: We shouldn’t base technical credibility on appearance alone but your audience is pre-programmed to form judgment base on your looks and outfit. If you don’t like it, you might need to have a work with the ultimate chief architect, or just accept it. For example, who would want to question <a href="https://handbookofsoftwarearchitecture.com/about/" target="_blank">Grady Booch’s credibility about architecture</a>?</li>
  <li><strong>Speech Patterns</strong>: Some have observed my annoyance with the fact that <a href="https://www.psychologytoday.com/us/blog/naturally-selected/201306/the-sound-leader-ceos-deep-voices-do-better" target="_blank">deep voices make speakers more credible</a>. Not only does it amplify gender bias, but I also end up listening to deep, slow voices far too often. But before you get the vocoder out, there are more subtle ways to boost a bit of ethos. For example, slowing down your pace, pausing, or varying your vocal patterns can also make you appear more authoritative.</li>
</ul>

<h3 id="more-pathos">More Pathos</h3>

<p>Pathos is about your audience: many speakers are very excited about their topic but the audience isn’t. That’s not pathos, but pathetic. First, I tend to remind technical speakers of the breadth of emotions that we can feel, in case one or two became forgotten while typing code into a text editor all day. A nice way to illustrate emotions is <a href="https://en.wikipedia.org/wiki/Robert_Plutchik" target="_blank">Plutchik’s Wheel of Emotions</a>:</p>

<p><img src="https://architectelevator.com/assets/img/plutchik-wheel.svg" alt="Plutchik's Wheel of Emotions"></p>

<p>In my little speech above I used at least four emotions:</p>

<ol>
  <li>I began with <em>pride</em> and <em>optimism</em></li>
  <li>Next, I gave the audience a <em>surprise</em></li>
  <li>Then I triggered <em>fear</em></li>
  <li>I conclude with <em>hope</em> and <em>anticipation</em></li>
</ol>

<p>Not all pathos relies on strong, one-dimensional emotions like these. There are many simple techniques to “liven up” technical presentations:</p>

<ul>
  <li><strong>Stories and Anecdotes</strong>: stories used to be the way knowledge was passed for millennia, so humans are well attuned to listening to stories. Watch people cry when watching a move - that’s the power of pathos. Again, success lies in the balance - some people feel that they need to package their technical content into a long heart-wrenching story. That’ll surely miss many people’s (surely mine!) marks. So think about short anecdotes more than long-winded stories. You don’t want your core messages gone with the wind…</li>
  <li><strong>Analogies and Metaphors</strong>: Analogies allow you to relate your mental models (logos!) to something the audience is already familiar with and often has positive associations with (pathos!). One of my favorite examples is a <a href="https://www.youtube.com/watch?v=OqEeIG8aPPk" target="_blank">short speech by the late Russ Ackoff</a> on continual improvement. Almost each statement he makes about complex systems is related back to the automobile (<a href="https://youtu.be/OqEeIG8aPPk?t=252">4:12</a>) or the human body (<a href="https://youtu.be/OqEeIG8aPPk?t=274" target="_blank">4:34</a>)  - notice the audience’s emotion as they are listening to an academic talk about complex systems theory.</li>
  <li><strong>Concrete Figures</strong>: Even little things like replacing words like “big”, “sizable”, or “many” with concrete figures can make a presentation more relatable. So, next time you talk about scalability, reference the customer who had “thousands” of microservices and had to manage “several hundred” custom VMs.</li>
  <li><strong>Punch Lines</strong>: We saw in Part 1 that short, memorable punchlines or slogans can also stir emotions, and such boost pathos. “Don’t run software you didn’t build” is more pathos than “a modern enterprise prefers a SaaS model of cloud computing for COTS applications”.</li>
</ul>

<h3 id="the-right-kind-of-pathos">The Right Kind of Pathos</h3>

<p>Not all emotions are positive, though. Remember Plutchik’s wheel: there you’ll find contempt, loathing, rage, and sadness. That’s not the kind of pathos you’re going to want to inject into your audience. Therefore, here a (likely incomplete) list of techniques that avoid some of the biggest emotional pitfalls in technical presentations:</p>

<ul>
  <li><strong>Arrogance</strong>: Most people listen to you because you can tell them that they don’t …</li></ul></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://architectelevator.com/strategy/logos-ethos-pathos/">https://architectelevator.com/strategy/logos-ethos-pathos/</a></em></p>]]>
            </description>
            <link>https://architectelevator.com/strategy/logos-ethos-pathos/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26259490</guid>
            <pubDate>Thu, 25 Feb 2021 03:51:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[And a Half Insights from Charlie Munger at the 2021 Daily Journal Annual Meeting]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26259372">thread link</a>) | @gmishuris
<br/>
February 24, 2021 | https://behavioralvalueinvestor.com/blog/munger-2021 | <a href="https://web.archive.org/web/*/https://behavioralvalueinvestor.com/blog/munger-2021">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-block-type="2" id="block-7335da67b70b5bec65dc"><div><p>Charlie Munger answered questions for two hours today at the 2021 Daily Journal Annual Meeting. The topics ranged from the current investing environment to worldly wisdom, and there was something to learn for everyone. Three insights stood out in particular:</p><p>1.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>Current Stock Market Speculation/GameStop/Robinhood/Reddit</strong></p><p><span>Charlie Munger’s view:</span> “These kind of things [referring to recent speculation in GameStop’s stock] happen when a whole bunch of people use the public stock markets instead of betting on horse races. […]I think that you should make money by selling people things that are good for them. When you have these brokerage houses luring people to gamble in the markets and then skimming off the top that is not good. This must end badly, but I don't know when. […]Nobody should believe that Robinhood's trades are free. It's a dishonorable way to talk.”</p><p><span>My thoughts:</span> We are experiencing an extreme mania in areas of the market encouraged by brokers and social media “influencers.” Just pause and think for a second: why would any self-respecting serious investor go out and post stock advice/tips on social media to a broad audience? And what does people telling each other to have “diamond hands” and to “hold the line” have to do with investing? An old proverb comes to mind: “Those who know do not speak and those who speak do not know.” And if you are really investing rather than blindly gambling (or worse, running an illegal stock market pool), then why does it make any difference to your investment conclusion what some random anonymous person on an internet forum is doing with respect to the stock in which you are invested?</p><p>I have little doubt that looking back on this a few years from now we will rate rank amateurs dumping their savings/stimulus checks/who knows what other funds into the abyss of market speculation up there with other manias of the last couple of centuries. The likely feeling looking back will be of bewilderment and pity for the thousands of regular folks who came under its influence. As Charlie said, however, when it will end nobody knows. </p><p>2.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>Value Investing in the Current Environment</strong></p><p><span>Charlie Munger’s view:</span> “I don't think we have a bubble in Treasury securities, I just don't think they are a good investment and I have not been buying any at these rates. […] I don't think it's crazy that good companies are trading at higher P/E ratios when we have low interest rates. […] All intelligent investing is value investing the way I define it, which is getting more for your money than you pay. Some people look for value in strong companies and others look for it among weak companies.”</p><p><span>My thoughts:</span> The whole “<a href="https://behavioralvalueinvestor.com/blog/value-investing-works">does value investing still work” debate</a> has been getting a bit worn. People who really understand value investing understand that of course it still works, just that the areas where opportunities are shift around. They also understand that value investing is really about a thoughtful comparison of price with an intrinsic value derived from careful fundamental analysis of the business, the management team and the balance sheet. Anything else is just speculation. </p><p>That being said, <a href="https://behavioralvalueinvestor.com/blog/value-investors-missing-growth">value investing can be applied to a wide range of companies</a>, depending on your own circle of competence. The reason for all these recent doubts have more to do with the exuberant stock market action of the last few years than with fundamental change in that reality. When bubble-like behavior in parts of the stock market dies down, as it always does, the inquiry will shift again to the much more useful question of how should you, given your strengths, weaknesses and circumstances, practice investing.</p></div></div><div data-block-type="2" id="block-yui_3_17_2_1_1614223351198_20932"><div><p><strong>3.&nbsp;&nbsp; On Learning</strong></p><p><span>Charlie Munger’s view:</span> “People have a theory that any good hardworking person can be a great investor. I think they can be a pretty good investor and avoid certain pitfalls but they can't necessarily be a great investors. […]I had the right temperament [for learning]. And when someone gave me a good idea, I quickly adopted it and used it all my life. It's hard to teach. To some extent you either have it or you don't. […] What advice would I give to someone trying to stay within their circle of competence but who is finding it being rapidly shrunk by new technology? You fix what can be fixed and what can't be fixed you endure.”</p><p><span>My thoughts:</span> People have different capacity for learning. Ingrained traits, likes stubbornness, ego and many others get in the way. Warren Buffett has done so well in large part because he learned and evolved, decade after decade. Many lesser investors have become “kings of a small hill” – they learned an approach that worked for a time but never evolved it and lost some of their excellence when their approach became less successful due to the changing environment.</p><p>One of the best resources on and examples of learning that I know of is <a href="https://www.amazon.com/Art-Learning-Journey-Optimal-Performance/dp/0743277465">Josh Waitzkin’s “The Art of Learning.”</a> Josh has achieved the International Master title in chess at a young age… and then proceeded to train and become a Tai Chi champion. Either of those two accomplishments is hard enough, but for one person to do both suggests that they are on to something and that we should pay attention to their method.</p><p>And finally, for the “half” that the title of this article promised, which is perhaps more valuable than all of the rest:</p><p><span>Charlie Munger:</span> “The first rule of a happy life is low expectations. If you have expectations that are too high you will have a miserable life. When you have reverses you need to just cope and not stew yourself into unnecessary misery. […] Most people are born with a ‘happy stat,’ and they wouldn't be much happier almost no matter what their outcome in life would have been.”</p><p><span>My thoughts:</span> To borrow Charlie’s phrase that he is so well-known for: I have nothing to add.</p><p><em>Note: All quotes from Charlie Munger are based on my notes and best recollections from listening to Charlie speak, and are likely to contain small errors which I hope do not change his intended meaning.</em></p><p><em>If you are interested in learning more about the investment process at Silver Ring Value Partners, you can&nbsp;</em><a href="https://silverringvaluepartners.com/ip-overview-1/" title="https://silverringvaluepartners.com/ip-overview-1/" target="_blank"><strong><em>request an Owner’s Manual here</em></strong></a><em>.</em></p><p><em>If you want to watch </em><strong><em>educational videos that can help you </em></strong><em>make better investing decisions using the principles of value investing and behavioral finance, </em><a href="https://www.youtube.com/c/GaryMishuris?sub_confirmation=1" title="https://www.youtube.com/c/GaryMishuris?sub_confirmation=1" target="_blank"><strong><em>check out my YouTube channel</em></strong></a><em> where I regularly post new content.</em></p></div></div></div>]]>
            </description>
            <link>https://behavioralvalueinvestor.com/blog/munger-2021</link>
            <guid isPermaLink="false">hacker-news-small-sites-26259372</guid>
            <pubDate>Thu, 25 Feb 2021 03:29:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Working at Shopify Is Great]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26259244">thread link</a>) | @luu
<br/>
February 24, 2021 | https://carolchen.me/blog/real-good-things-about-internships/ | <a href="https://web.archive.org/web/*/https://carolchen.me/blog/real-good-things-about-internships/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="js-article">
    
<p>I mainly wrote this blog post to help advertise Shopify as a great place to intern at, but I'm sure all of these aspects can be found at other great companies, though maybe not all at one company/team. I recommend this blog post not only for those looking to apply to Shopify, but to know how great internships can be and what qualities you would want from an internship. </p>
<p>I'm currently writing this in my last week at Shopify as I have decided to go elsewhere full-time, though I still love Shopify enough that I chose to intern there over joining a YCombinator cohort! It is a very special place to be, which is also why I returned three times (started interning at Shopify in Summer 2018). </p>
<h2 id="flexibility">flexibility<a href="#flexibility" aria-label="Anchor link for: flexibility"> <i></i></a>
</h2>
<p>This is an underlying factor in a lot of other things I'll talk about, but I like that Shopify doesn't often have "rules" for anything. Shopify let me do two (two month) internships to accommodate for my two-month summers. They also let me work part-time after I graduated! Most importantly, they don't require interns to be enrolled in a bachelor's degree program bringing epic diversity to intern classes from people with degrees in other fields or former chefs. I got the same epic flexibility at Hatch Canada, working part-time and being allowed to work on projects of my choosing.</p>
<h2 id="room-to-do-all-the-learning">room to do all the learning<a href="#room-to-do-all-the-learning" aria-label="Anchor link for: room-to-do-all-the-learning"> <i></i></a>
</h2>
<p>I'd say I'm three times better of a programmer than I was when I started at Shopify. It happen partially through the classic "learning on the job". By building applications and getting code reviews from coworkers I became a better programmer. However, I think the key that made learning on the job effective was being able to ask a shitload of questions. Shopify was good at building an environment where I felt I could do that without feeling like I was asking bad questions or bothering anyone. This let me spend less time confused, make better decisions, learn about things I could apply in the future (or just sate curiosity).</p>
<p>Another great thing is that I had the room to dedicate time to learning. That included working through a book, reading papers or attending conferences. Shopify funded me buying textbooks and I felt alright taking a day to read up on a subject. I often spent time going down rabbit holes of reading even after completing a task. I was approved to go to Japan for a conference (cancelled due to COVID-19) and spent a day attending a workshop on VMs (didn't even bother getting approval for that).</p>
<p>Learning is good. Especially in internships, your focus should be investing in yourself and great companies should want to invest in you (within reason of course).</p>
<h2 id="impact">impact<a href="#impact" aria-label="Anchor link for: impact"> <i></i></a>
</h2>
<p>A lot of companies end up giving interns a special project of sorts. While the project may be substantial, interesting and potentially impactful, they often get iced as soon as the intern leaves. This may not be valuable to <em>everyone</em>, but at Shopify I was apart of the weekly sprints and worked on producing features and fixes that other engineers were actually relying on. Not having intern projects would also help you better understand how much you'd enjoy working at a company full-time. The downside of course, is that you might not actually have anything to call "your own" and you will lose engineering time to things like planning meetings (which are important and fun too!). But then... the next section.</p>
<h2 id="being-a-champion">being a champion<a href="#being-a-champion" aria-label="Anchor link for: being-a-champion"> <i></i></a>
</h2>
<p>For my third internship at Shopify, I switched from the Facebook team to a neighbouring team with people I had worked with in the past (so it was still fairly familiar). It was a bit weird, as for those four months I'd be working part-time at 20 hours a week. This would make it hard for me to be involved in day-to-day work, especially with it being Black Friday Cyber Monday (huge week for Shopify). So, I went on to champion my own project where I extended an open source app into being able to generate code (Rails and NodeJS) to build Marketing Activity extensions. This meant that I was the lead on the project, and was responsible for informing stakeholders on the status. I interacted with numerous teams and became the "person to go to" for information on the project. Yes, there was a risk of it ending up more like an intern project, but that's why it was also apart of the job to communicate with other teams and do health checks to make sure the project was ontrack and useful. Though it was not a huge project, it was exciting, impactful and "my own"!</p>
<h2 id="company-exposure-beyond-where-you-re-working">company exposure beyond where you're working<a href="#company-exposure-beyond-where-you-re-working" aria-label="Anchor link for: company-exposure-beyond-where-you-re-working"> <i></i></a>
</h2>
<p>My first four months at Shopify were on the Facebook Ads / Instagram Checkout team, where we worked on an application for Shopify merchants to be able to directly advertise on Facebook through Shopify and to sell products via Instagram. Throughout my time there, I not only worked with the Facebook API but was in contact with Facebook engineers about goals and for technical support. The Facebook team also flew in to work with us and have social events, which was pretty fun! These experiences were unique, and helped me exercise some remote-working communication skills (which are really being tested during this quarantine).</p>
<h2 id="writing-for-an-engineering-blog">writing for an engineering blog<a href="#writing-for-an-engineering-blog" aria-label="Anchor link for: writing-for-an-engineering-blog"> <i></i></a>
</h2>
<p>At the beginning of my current internship, I wrote a blog post about the first PR I shipped. The Engineering Blog doesn't have any special barrier for interns submitting work - if you did something cool, you can write about it! Through writing the post, I was able to talk to some cool folks on the Eng Comms team and sharpen my shoddy writing skills. My post now lives on <a href="https://engineering.shopify.com/blogs/engineering/optimizing-ruby-lazy-initialization-in-truffleruby-with-deoptimization">Shopify Engineering Blog</a>! It was great exposure for a personal brand to, as the post made it to the top post of Hacker News and stayed on the front page for over twelve hours.</p>
<h2 id="people-who-really-care">people who really care<a href="#people-who-really-care" aria-label="Anchor link for: people-who-really-care"> <i></i></a>
</h2>
<p>This is the aspect I think Shopify is likely most special for, and the reason I was most afraid to leave Shopify. I always felt like my team members and lead had my best interests, and wanted to make sure that I felt productive and happy at Shopify. Weekly 1:1s, frequent kind words and so many other things really brought this together. Our CTO reached out to me to compliment me for my blog post. When the company went remote due to COVID-19, I got a personal message from my Director making sure that I was doing alright (which was ridiculous because he was dealing with being quarantined with kids) along with a little casual chat. Shopify didn't even let go of culinary workers when we went remote. The list could go on! Choosing to leaving Shopify was a really emotional experience (I cried when verbally turning down the offer) because of all the kindness, patience and care people there have offered me.</p>
<hr>
<p>So keep an eye out for Shopify internships postings, and go do internships in general! Internships at Shopify run three times a year (January, May, September) for 4 to 8 months. Applications open 4 months before start dates~</p>
<p>Feel free to email me (<code>hello@carolchen.me</code>) with any questions about choosing internships, or questions about working at Shopify or anything! Courage to talk to strangers on the internet will earn you my respect &lt;3. However, please try to avoid questions along the lines of "how do I get an internship?" as quite frankly I don't have insight beyond knowing exactly what I did (some of which I have forgotten). Requests for resume reviews, for example, is something I could actually help out with.</p>


  </section></div>]]>
            </description>
            <link>https://carolchen.me/blog/real-good-things-about-internships/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26259244</guid>
            <pubDate>Thu, 25 Feb 2021 03:09:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Don’t define functions inline in your public headers]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26259107">thread link</a>) | @ThatGeoGuy
<br/>
February 24, 2021 | https://thatgeoguy.ca/blog/2021/02/24/dont-inline-in-public-headers/ | <a href="https://web.archive.org/web/*/https://thatgeoguy.ca/blog/2021/02/24/dont-inline-in-public-headers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            
<p>On <em>2021-02-24</em> by <em>ThatGeoGuy</em></p>

<p>Recently I <a href="https://github.com/IntelRealSense/librealsense/pull/8387">fixed a
bug</a> in
librealsense2<sup id="reference-1"><a href="#footnote-1">[1]</a></sup>. The
core of the bug was that the developers used a C++ functional cast expression
in a C header (C does not have functional cast expressions!), which broke the
<a href="https://gitlab.com/tangram-vision-oss/realsense-rust">realsense-rust</a> wrapper
we’re developing at work. Worse yet, this was shipped as part of the official
2.42.0 release of librealsense2. Oof.</p>

<p>The fix is pretty clear: use a C-style cast instead. Better yet, follow the
advice in <a href="https://modernc.gforge.inria.fr/">Modern C</a> and don’t use casts at
all.  We can’t always avoid them though, and the compiler can make the whole
process annoying. At least, it becomes annoying and difficult to detect such
issues when you use a C++ compiler.</p>



<p>I’ve shipped an SDK before myself, and that ended up getting me thinking: I
reject the premise of the fix in the first place. This code <em>shouldn’t</em> be
broken, and it is frustrating that it is. The real sin here was shipping inline
functions in a public header for C code.</p>

<h2 id="inlining-code-in-c--c">Inlining code in C / C++</h2>

<p>If that’s confusing, let me expand briefly. Inlining code is a common trick for
trying to improve the performance of code by having the compiler copy the
implementation of a function and apply it in place (with no additional stack
frame). This can improve performance of small code sections, and is critical in
optimizing tight loops that centre around small functions. I’d go into extreme
depth, but <a href="https://modernc.gforge.inria.fr/">Modern C</a><sup id="reference-2"><a href="#footnote-2">[2]</a></sup> actually has an entire
section on this, and it explains it a lot better (look for section 15.1 on
inlining functions).</p>

<p>Anyways, the trade-off of inlining functions is that you typically have to
place them in the header; alternatively, in the same source file they’re used
in if you’re not exposing the <code>inline</code>‘d function publicly. Note that this is
entirely about “performance” and not “ergonomics” or “making it easier to
code.”</p>

<p>In the scenario where I had to fix the bug above though, there’s a few
differences. Rather than directly inlining the functions, the author of the
code chose to make them <code>static</code> instead. This behaves somewhat similarly to
inlining the code directly but it isn’t exact. In this case, the <code>static</code>
functions in that <code>rsutil.h</code> header:</p>

<ol>
  <li>Can end up being instantiated separately in every translation unit (if
they’re too big to inline).</li>
  <li>Will make taking a function pointer to any of those functions behave
“strangely.” Since that function will be local to each translation unit,
taking the pointer of such a function will result in a different pointer for
each translation unit.</li>
</ol>

<p>I suppose the first problem above is a small trade-off as long as the code
works the same, but the second one is definitely not something you expect.
Particularly, this header is shipped as a C header to librealsense2’s C-API. If
you understand C by reading the header, you’ll probably notice the subtle
difference, but even still it’s not something that sits at the front of your
mind, and may surprise you if you rely on this header in many places and decide
to use the function pointer.</p>

<p>Eventually C introduced the <code>inline</code> keyword to specifically handle these
trade-offs when defining functions this way. Thus, you can get the performance
improvement of inlining small functions without the above problems with
<code>static</code> functions. However, even if we swap out the <code>static</code> keyword for
<code>inline</code> we aren’t really solving the underlying problem at all.</p>

<h2 id="the-real-issue-inline-definitions-not-the-inline-keyword">The real issue: inline definitions, not the <code>inline</code> keyword</h2>

<p>The real issue is having those definitions in the header in the first place. By
having all that code in your header, you’re shipping a dependency that is
basically promising “this code will not break on your compiler.” You don’t know
what compiler you’re shipping to; even if your ABI is stable you still have to
worry about what standard the language supports, what extensions are available,
etc. Inlined definitions are often done best if your code isn’t likely to
change ever if at all, but here you can’t be sure.</p>

<p>If you take away anything from this, it should be the importance of not
breaking downstream code because of inline definitions. By defining another C
file and moving these definitions out of the header, you would probably lose
very little, while making it easier to generate FFI bindings in other
languages, as well as allow your end users using C to well… use C.</p>

<p>This ended up breaking the FFI generation by bindgen in Rust for us, because
the inlined definition changed (and changed to something that wasn’t standard
C). That said, it’s just a bad idea overall. Most of these functions are quite
large already, so chances that the compiler inlines them directly (especially
without the <code>inline</code>) keyword are small. Moreover, most people doing
performance critical code with functions like <code>rs2_project_to_pixel</code> or
<code>rs2_project_color_pixel_to_depth_pixel</code> are unlikely to be banking on the fact
that your utility functions are getting inlined and operating at max
efficiency. Just put the definitions in their own file, and only inline the
code when you can clearly benchmark and measure a strong use-case for doing so.
Above all else, make sure you understand the language you’re shipping to when
you make that change.</p>



<p>I certainly disagree with the way the code is structured here, but its not an
easy problem. It also isn’t something that stems from bad developers, so I
can’t accuse Intel of brash incompetence. What likely happened here is that the
engineer who made the original change works in C++ for 99% of their work day,
and only touches the C headers occasionally when they get tired of compiler
warnings or if something significant changes at a lower layer. It’s really easy
to make this mistake, even if you do commit to best practices (thanks C!).</p>

<p>At the heart of the issue, working on an SDK is hard and often thankless.  I
suggest any team that might be shipping C headers take the above advice, and
take care to watch that:</p>

<ul>
  <li>C is not C++, and you should compile your C-API with a C compiler</li>
  <li><code>inline</code> is an effective tool for performance, not an easy way to avoid
committing another <code>.c</code> file to your repo.</li>
  <li>a <code>static</code> storage class on functions means something specific, and has
downsides when used the same way as <code>inline</code>.</li>
  <li>you should not inline your function definitions in headers you ship publicly
for a library! This breaks everyone downstream who is using an FFI or
relying on C because they can’t use C++!</li>
</ul>

<hr>

<p id="footnote-1">
<a href="#reference-1">[1]</a> We do use Rust at <a href="https://tangramvision.com/">Tangram Visions</a>, but sometimes we still have to
understand C and C++ to be able to interface with existing code.
</p>

<p id="footnote-2">
<a href="#reference-2">[2]</a> I can't say enough good things about this book.
C is complicated in a lot of ways, but if you break things down piece-by-piece
you'll find it's actually way less bad than many make it out to be. I still
love Rust &amp; its type system significantly more, but I've worked in C / C++ in
the past, so I know from experience where things can start to go awry.
</p>

<p>
Anyways, I highly suggest giving the book a read, you'll probably learn
something! Jens Gustedt is very well informed and while some opinions (e.g.
don't use casts) are likely to start a flame war, I tend to find myself
agreeing with the final assessment.
</p>

        </div></div>]]>
            </description>
            <link>https://thatgeoguy.ca/blog/2021/02/24/dont-inline-in-public-headers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26259107</guid>
            <pubDate>Thu, 25 Feb 2021 02:46:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Enhancing the Linux kernel with BTF type information]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26258732">thread link</a>) | @harporoeder
<br/>
February 24, 2021 | https://facebookmicrosites.github.io/bpf/blog/2018/11/14/btf-enhancement.html | <a href="https://web.archive.org/web/*/https://facebookmicrosites.github.io/bpf/blog/2018/11/14/btf-enhancement.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p><span><p><strong>TL;DR:</strong> There is work in progress to bring compact debug type information into the kernel, which will be leveraged by <a href="https://lwn.net/Articles/740157/">BPF</a> to get it to the next level in terms of developer experience and capabilities. We developed an algorithm that compresses <strong>124MB</strong> of DWARF type data into just <strong>1.5MB</strong> of compact BTF type data, making it suitable to be included in the Linux kernel image by default.</p>
<!--truncate-->

<p><a href="https://lwn.net/Articles/740157/">BPF</a> is a technology that allows unprecedented ability to execute custom external code <strong>safely</strong> inside the Linux kernel in response to various events/hooks. This enables all kinds of applications, that are either impossible or expensive to achieve by other means (e.g., low-overhead profiling and tracing, rich introspection, fast custom packet processing, etc.).</p>
<p>While the BPF technology is already very capable and is constantly being developed further, the current developer experience with it is not exactly a walk in the park yet. One way to smooth out the developer experience with BPF is through better introspection and debuggability of BPF code. To allow that, BPF needs to know a bunch of metadata information about the BPF program. Type information is one of a few critical pieces of metadata necessary to bring the BPF experience to the next level. Eventually, this metadata will enable not just introspection, but also much higher levels of re-usability of BPF code across different versions of the Linux kernel (the so-called "compile once, run everywhere" approach).</p>
<p>How is such metadata represented in normal, non-BPF programs? It's typically done through <a href="http://www.dwarfstd.org/doc/Debugging%20using%20DWARF.pdf">DWARF</a> debug information. The problem with DWARF though, is that it's very generic and expressive, which makes it a quite complicated and verbose format, and thus unsuitable to include in the Linux kernel image due to size overhead and the complexity of parsing it.</p>
<p>Enter BTF (<a href="https://www.mail-archive.com/netdev@vger.kernel.org/msg226733.html">BPF Type Format</a>). It's a minimalistic, compact format, inspired by Sun's CTF (Compact C Type Format), which is used for representing kernel debug information since Solaris 9. BTF was created for similar purposes, with a focus on simplicity and compactness to allow its usage in the Linux kernel.</p>
<p>We won't describe BTF in a lot of detail here—see the links above to get complete information. Suffice it to say that BTF represents each type with one of a few possible type descriptors identified by <em>kind</em>: <code>BTF_KIND_INT</code>, <code>BTF_KIND_ENUM</code>, <code>BTF_KIND_STRUCT</code>, <code>BTF_KIND_UNION</code>, <code>BTF_KIND_ARRAY</code>, <code>BTF_KIND_FWD</code>, <code>BTF_KIND_PTR</code>, <code>BTF_KIND_CONST</code>, <code>BTF_KIND_VOLATILE</code>, <code>BTF_KIND_RESTRICT</code>, <code>BTF_KIND_TYPEDEF</code>—a few more might be added soon for functions support. Depending on the kind, there might be additional variable-sized information available. Some kinds of types can reference other types using their type IDs (e.g., <code>int*</code> type is two type descriptors: <code>PTR</code> → <code>INT</code>). The type descriptor's ID is its position in the input array of all descriptors. BTF type information is stored in <code>.BTF</code> ELF section, which contains two parts: BTF type descriptors, followed by <code>\0</code>-separated strings section.</p>
<p><img src="https://facebookmicrosites.github.io/bpf/blog/assets/btf-dedup-example.png" alt="Sample C code and its corresponding BTF type graph"></p>
<p>The diagram above should give a pretty good idea of the BTF type graph. It shows some C source code on the left and its corresponding BTF type graph on the right. The type with ID 0 is special, it represents <code>void</code> and is implicit: the first type descriptor in the <code>.BTF</code> section has type ID 1. In all the diagrams  in this blog post, type IDs are written out in the top-left corner of each type node. Type references are marked with arrows. For structs/unions it should be obvious from the diagrams which field references which type. Note that type nodes are shown in two different colors: green for non-reference types, and red for reference once (this distinction will be explained further below).</p>
<p>A well-known (within the kernel community) tool, <code>pahole</code>, was recently updated with the ability to convert DWARF into corresponding BTF type information in a straightforward, one-to-one fashion. It iterates over each DWARF type descriptor, converts it trivially into a BTF type descriptor and embeds all of them into the <code>.BTF</code> section in the ELF binary. Simple and easy. We're done, right? Unfortunately, not yet.</p>
<p>DWARF information is emitted by the compiler for each compilation unit (CU) (e.g., in the C/C++ world that is a single compiled .c/.cpp file) independently and in isolation from other compilation units that form the resulting binary. This means that DWARF information within a single CU has to describe all types referenced directly and indirectly (e.g., through struct fields) by code within that CU, down to primitive types like <code>int</code> and <code>long</code>. DWARF data from all CUs is then concatenated by the linker and put into the resulting binary <code>.debug_info</code> (and a few other) ELF sections. As you can imagine, this results in a great duplication of type information. For instance, for the kernel image on my machine, DWARF type data (<code>.debug_info</code> section) takes 121.31MB and strings (<code>.debug_str</code> section) take another 2.68MB. After <code>pahole</code>'s DWARF-to-BTF conversion there are 3.15 million BTF type descriptors: BTF type data takes 101.7MB, and strings take an additional 3.03MB.</p>
<p>There are still other problems though. The same type hierarchy (e.g., struct and all the types that struct references) can be represented in DWARF/BTF to various degrees of completeness (or rather, incompleteness) due to struct/union forward declarations.</p>
<p>Let's take a look at an example, that we'll use throughout this note to better understand the problem and solution. Suppose we have two compilation units, each using same <code>struct S</code>, but each of them having incomplete type information about struct's fields:</p>
<pre><code>

<span><span>struct</span> <span>S</span>;</span>

<span><span>struct</span> <span>A</span> {</span>
    <span>int</span> a;
    <span><span>struct</span> <span>A</span>* <span>self</span>;</span>
    <span><span>struct</span> <span>S</span>* <span>parent</span>;</span>
};

<span><span>struct</span> <span>B</span>;</span>

<span><span>struct</span> <span>S</span> {</span>
    <span><span>struct</span> <span>A</span>* <span>a_ptr</span>;</span>
    <span><span>struct</span> <span>B</span>* <span>b_ptr</span>;</span>
};




<span><span>struct</span> <span>S</span>;</span>

<span><span>struct</span> <span>A</span>;</span>

<span><span>struct</span> <span>B</span> {</span>
    <span>int</span> b;
    <span><span>struct</span> <span>B</span>* <span>self</span>;</span>
    <span><span>struct</span> <span>S</span>* <span>parent</span>;</span>
};

<span><span>struct</span> <span>S</span> {</span>
    <span><span>struct</span> <span>A</span>* <span>a_ptr</span>;</span>
    <span><span>struct</span> <span>B</span>* <span>b_ptr</span>;</span>
};
</code></pre>
<p>In the case of CU #1, DWARF (and subsequently, BTF) data will know only that <code>struct B</code> (but no other) exists, but will know the complete type information about <code>struct A</code>. While for CU #2, it will know the full type information about <code>struct B</code>, but will only know about the forward declaration of <code>struct A</code> (in BTF terms, it will have <code>BTF_KIND_FWD</code> type descriptor with name <code>B</code>).</p>
<p>This compilation unit isolation means that it's possible there is no single CU with complete type information describing structs <code>S</code>, <code>A</code>, and <code>B</code>. Also, we might get tons of duplicated and redundant type information. Unfortunately, for BPF use cases that are going to rely on BTF data, it's important to have a single and complete type information per each unique type, without any duplicates and incompleteness.</p>
<p>That means we need to have an algorithm, that would take this duplicated and potentially incomplete BTF information and emit nicely deduplicated type information, while also "reconstructing" complete type information by merging pieces of it from different CUs. Such BTF data can then be embedded into the Linux kernel image and readily utilized by both the kernel itself (e.g., by BPF verifier for more advanced verification scenarios), as well as external tooling to allow types introspection and better debugging capabilities.</p>
<p>Additional complications we need to keep in mind come from the fact that types, in general, can form graphs containing cycles, not just DAGs. The example above has few type cycles, which we'll use as an opportunity to better demonstrate in subsequent sections how the algorithm works. Type cycles are very common in real programs: they're typical for linked list nodes, but any moderately complex program probably would form much more complicated cycles. The Linux kernel's <code>struct task_struct</code> is part of pretty big connected type graph with multiple cycles!</p>
<p>So, in summary, we need an algorithm that will:</p>
<ul>
<li>deduplicate redundant BTF information and leave single instance of each unique type;</li>
<li>merge and reconstruct complete type information across multiple CUs;</li>
<li>handle type cycles correctly and efficiently;</li>
<li>do all of the above fast and reliably to become a part of Linux kernel build process.</li>
</ul>
<p>This note describes one such BTF deduplication (or "dedup", for short) algorithm.</p>

<p>The BTF dedup algorithm takes as an input an in-memory blob representing <code>.BTF</code> ELF section with all BTF type descriptors and string data, that comes separately from descriptors. It overwrites that memory in-place with deduplicated types and strings without any loss of information.</p>
<p>While the algorithm does deduplication, it also merges and resolves type information, whenever possible. For instance, in the example above with two compilation units having partial type information for structs <code>A</code> and <code>B</code>, the output of the algorithm will emit a single copy of each BTF type that describes structs <code>A</code>, <code>B</code>, and <code>S</code> (as well as type information for <code>int</code> and pointers), as if they were defined in a single compilation unit (see the diagram below for a visual representation of input and expected output BTF type graphs):</p>
<pre><code><span><span>struct</span> <span>A</span> {</span>
    <span>int</span> a;
    <span><span>struct</span> <span>A</span>* <span>self</span>;</span>
    <span><span>struct</span> <span>S</span>* <span>parent</span>;</span>
};

<span><span>struct</span> <span>B</span> {</span>
    <span>int</span> b;
    <span><span>struct</span> <span>B</span>* <span>self</span>;</span>
    <span><span>struct</span> <span>S</span>* <span>parent</span>;</span>
};

<span><span>struct</span> <span>S</span> {</span>
    <span><span>struct</span> <span>A</span>* <span>a_ptr</span>;</span>
    <span><span>struct</span> <span>B</span>* <span>b_ptr</span>;</span>
};
</code></pre>
<p><img src="https://facebookmicrosites.github.io/bpf/blog/assets/btf-dedup-before-after.png" alt="BTF type graph for our working example"></p>
<h2>Algorithm summary</h2>
<p>The algorithm completes its work in five separate passes, which we'll describe briefly here and in detail in subsequent sections:</p>
<ol>
<li><strong>Strings deduplication:</strong> Deduplicate string data, re-write all string offsets in BTF type descriptors to simplify string comparisons later.</li>
<li><strong>Non-reference types deduplication:</strong> Establish equivalence between and deduplicate integer, enum, struct, union and forward types.</li>
<li><strong>Reference types deduplication:</strong> Deduplicate pointers, const/volatile/restrict modifiers, typedefs, and array.</li>
<li><strong>Type compaction:</strong> Compact type descriptors leaving only unique ones.</li>
<li><strong>Type IDs fix up:</strong> Update all referenced type IDs with new ones established during compaction.</li>
</ol>
<p>There are also a few important ideas and data structures the algorithm relies on, which are critical to understanding it and would be useful to keep …</p></span></p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://facebookmicrosites.github.io/bpf/blog/2018/11/14/btf-enhancement.html">https://facebookmicrosites.github.io/bpf/blog/2018/11/14/btf-enhancement.html</a></em></p>]]>
            </description>
            <link>https://facebookmicrosites.github.io/bpf/blog/2018/11/14/btf-enhancement.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26258732</guid>
            <pubDate>Thu, 25 Feb 2021 01:41:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cleanup Docker]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26258725">thread link</a>) | @todsacerdoti
<br/>
February 24, 2021 | https://hanami.run/blog/posts/cleanup-docker/ | <a href="https://web.archive.org/web/*/https://hanami.run/blog/posts/cleanup-docker/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>If you do heavy development with docker without a cleanup strategy soon
your disk will fill at the time you really have to ship something out
ASAP because production is on-fire but you cannot because docker refused
to let you do anything with it.</p><p>When we run a process in our computers, once that process is done,
everything is tear down together with it. Container is how many of
us operating our infrastructure nowaday.</p><p>Everything run on a container, aim to have one process per container.
When the process is done, the container is exit. But it won’t cleanup
after itself. It leave behind its legacy.</p><p>You need to keep an eyes on these</p><ul><li>stopped containers</li><li>volume</li><li>images</li><li>network</li></ul><p>If you have enough space, you may not worry too much about disk space
but the network is an important one. By default, Docker uses bridge
network, and it has a limit of 31 networks. When reaching that limit,
you will see this message:</p><div><div><table><tbody><tr><td><pre><code><span>1
</span></code></pre></td><td><pre><code data-lang="fallback">could not find an available, non-overlapping IPv4 address pool among the defaults to assign to the network
</code></pre></td></tr></tbody></table></div></div><p>This happens if you’re a heavy docker-compose user which create a network
per project. You can workaround by setting a customi <code>--subnet</code> such as:</p><div><div><table><tbody><tr><td><pre><code><span>1
</span></code></pre></td><td><pre><code data-lang="fallback">docker network create dada --subnet 192.167.11.0/24
</code></pre></td></tr></tbody></table></div></div><p>But anyway, the point of this article is to clean up</p><h2 id="cleanup-stopped-containers">Cleanup stopped containers</h2><div><div><table><tbody><tr><td><pre><code><span>1
</span></code></pre></td><td><pre><code data-lang="fallback">docker rm -v $(docker ps --all --quiet --filter 'status=exited')
</code></pre></td></tr></tbody></table></div></div><p>This will find all container in exited status and output their ID once
per line so we can feed it to other shell command.</p><p>We use <code>docker rm -v</code> to also delete any anonymous volume(volumes without
an explicitly name).</p><h2 id="cleanup-volumes">Cleanup volumes</h2><p>Above comand should remove volumes that are associated with that
container. If you manually create volumes and want to delete any volumes
that are not being used:</p><div><div><table><tbody><tr><td><pre><code><span>1
</span></code></pre></td><td><pre><code data-lang="fallback">docker volume rm $(docker volume ls --quiet --filter 'dangling=true')
</code></pre></td></tr></tbody></table></div></div><h2 id="cleanup-images">Cleanup images</h2><p>Docker images are generally safe to delete all. We can fetch them
on-demand when we need to. Usually after a image cleaning, build time is
longer because docker daemon has to spend time downloading image again</p><div><div><table><tbody><tr><td><pre><code><span>1
</span></code></pre></td><td><pre><code data-lang="fallback">docker rm --force $(docker images --quiet)
</code></pre></td></tr></tbody></table></div></div><p>Here we used <code>--force</code> to delete images even if a container are using
that. We can always fetch them again later</p><h2 id="cleanup-networks">Cleanup networks</h2><p>Easy peasy. We can delete anything, it will be re-created on-demand
later on</p><div><div><table><tbody><tr><td><pre><code><span>1
</span></code></pre></td><td><pre><code data-lang="fallback">docker network rm $(docker network ls --quiet)
</code></pre></td></tr></tbody></table></div></div><p>If you spin up containers using docker-compose, we have an easy way to
cleanup resources associated with thart particular compose file.</p><div><div><table><tbody><tr><td><pre><code><span>1
</span></code></pre></td><td><pre><code data-lang="fallback">docker-compose down --volumes --rmi all --remove-orphans
</code></pre></td></tr></tbody></table></div></div><p>Unfortunately this command won’t remove anonymous volume so you have to
deal with them.</p><p>docker is ephemeral and we can always re-fetch the image, re-seed our
database for development, or this is just a CI system then we can delete
verything</p><div><div><table><tbody><tr><td><pre><code><span>1
</span></code></pre></td><td><pre><code data-lang="fallback">docker system prune --all --force --volumes
</code></pre></td></tr></tbody></table></div></div></div></div>]]>
            </description>
            <link>https://hanami.run/blog/posts/cleanup-docker/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26258725</guid>
            <pubDate>Thu, 25 Feb 2021 01:40:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Grow the IndieWeb with Webmentions]]>
            </title>
            <description>
<![CDATA[
Score 51 | Comments 27 (<a href="https://news.ycombinator.com/item?id=26258557">thread link</a>) | @gmays
<br/>
February 24, 2021 | https://amberwilson.co.uk/blog/grow-the-indieweb-with-webmentions/?mc_cid=a17a3fb8a8&mc_eid=05e6fe1e4b | <a href="https://web.archive.org/web/*/https://amberwilson.co.uk/blog/grow-the-indieweb-with-webmentions/?mc_cid=a17a3fb8a8&mc_eid=05e6fe1e4b">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody"><p>When I re-made my site with Eleventy, the pages didn't change much, but I had loads of fun adding new features. The most fun was <strong>webmentions</strong> and I'm here to convince you to add them!</p><p>First, let me step back and explain why webmentions exist—the IndieWeb.</p><p>Check out this official description of the IndieWeb:</p><blockquote><p>The IndieWeb is a community of individual personal websites, connected by simple standards, based on the principles of owning your domain, using it as your primary identity, to publish on your own site (optionally syndicate elsewhere), and own your data—<strong>indieweb.org</strong></p></blockquote><p>So, a community of personal websites, connected together, used as identities, that makes ownership of data possible. 🦄 🌈 How does this all work?</p><ul><li>There's a <a href="https://indieweb.org/">great IndieWeb resource</a> that will tell you everything you need to know</li><li>But, start here if you want to know <a href="https://indieweb.org/why">why the IndieWeb deserves your attention</a></li><li>When you're convinced, see this handy page for a <a href="https://indiewebify.me/">quick start to becoming a citizen of the IndieWeb</a></li><li>International IndieWebCamps are here to help—I wrote a <a href="https://amberwilson.co.uk/blog/indiewebcamp/">post about my first IndieWebCamp visit</a><figure><img loading="lazy" src="https://amberwilson.co.uk/blog/grow-the-indieweb-with-webmentions/img/indiewebcamp2017.png" alt="Nuernberg IndieWebCamp 2017"><figcaption>Nürnberg IndieWebCamp 2017 (I'm in the bottom right)</figcaption></figure></li></ul><p>Now the juicy stuff!</p><p>I think the coolest thing about the IndieWeb is that it is decentralised. Currently, there is a handful of corporations that own much of our data. With webmentions, each person owns their own data and each person can communicate with others. Webmentions are basically a way to display on your personal site ways that others have interacted with your content.</p><p>On my site I display mentions and bookmarks. It's possible for someone to link to one of my blog posts within one of their blog posts or bookmarks. If they do this, I won't know about it unless they let me know about it. <a href="https://webmention.app/">Letting others know you've mentioned their posts can be done manually or can be automated</a>.</p><p>I also display likes, retweets and replies on blog posts that I have tweeted about. If the URL to my post is in my tweet, I can gather the interactions on that tweet and display them on that post. Although most social media platforms do not support webmentions, it's possible to gather them by using a great free service called <a href="https://brid.gy/">Bridgy</a>.</p><p>Some people have had webmentions on their site for many years, so I am a bit behind. <a href="https://adactio.com/journal/6495">Jeremy has had webmentions since 2013</a>. But, there are more people posting content online than ever before, and personal websites aren't shown the love they used to get.</p><p>So, there has never been a more pressing need to put content creation platforms (e.g. Medium) and social media platforms (e.g. Twitter) second, and put your very own little corner of the web first 💖</p><p>I used Max Böck's post on <a href="https://mxb.dev/blog/using-webmentions-on-static-sites/">using webmentions in Eleventy</a> to get started. I was able to get something on the screen quickly with Max's advice, and then I refined the incoming data a bit. Here is a summary of what I did:</p><ul><li>Sign up via <a href="https://webmention.io/">Webmention.io</a> - if this doesn't work right away, check out ways to <a href="https://indielogin.com/setup">set up your website for indie logins</a> (I'm able to sign in by linking to my GitHub account on my site's homepage)</li><li>Add two <code>&lt;link&gt;</code> tags to your HTML document's <code>&lt;head&gt;</code> element: <code>&lt;link rel="pingback" href="https://webmention.io/{your-domain-here}/xmlrpc"&gt;</code> and <code>&lt;link rel="webmention" href="https://webmention.io/{your-domain-here}/webmention"&gt;</code></li><li>For social media mentions, sign up to <a href="https://brid.gy/">Bridgy</a></li><li>Fetch <strong>all</strong> of your site's webmention data in JSON format using one of the <a href="https://github.com/aaronpk/webmention.io#api">webmention endpoints described by IndieWebCamp co-founder Aaron Parecki</a> and the API token provided by <a href="https://webmention.io/">Webmention.io</a></li><li>Shape your webmention data however you like - I filter webmentions into separate re-tweet, reply, like, mention, and bookmark functions using the <code>'wm-property'</code> (check out the <a href="https://github.com/ambrwlsn/website/blob/1d713ad9fbce19a9bd8821790fd51c1be62e1f76/src/filters/webmentions-filter.js#L51">filter functions</a> and before you say anything, yes I know they could be DRYer)</li><li>Use the data to display webmentions on your blog posts</li></ul><p>Here are some of my webmentions (from <a href="https://amberwilson.co.uk/blog/from-gatsby-to-eleventy/">my Gatsby to Eleventy post</a>):</p><p><img loading="lazy" src="https://amberwilson.co.uk/blog/grow-the-indieweb-with-webmentions/img/webmentions.png" alt="Amber's webmentions on her Gatsby to Eleventy post"></p><p>If all of this seems too difficult and inaccessible, please don't give up! I thought getting webmentions on my little static site would be <strong>way too difficult</strong>. But there are so many wonderful posts about setting up webmentions, and so many great people willing to help. I count myself as one of those people :) If you want to implement webmentions on your site and are stuck on any of the points I listed above, ping me on Twitter and I'll do my best to help out.</p></div></div>]]>
            </description>
            <link>https://amberwilson.co.uk/blog/grow-the-indieweb-with-webmentions/?mc_cid=a17a3fb8a8&amp;mc_eid=05e6fe1e4b</link>
            <guid isPermaLink="false">hacker-news-small-sites-26258557</guid>
            <pubDate>Thu, 25 Feb 2021 01:12:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Next Great Social Network: Technical Aspects Revisited]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26258448">thread link</a>) | @greattsclerouse
<br/>
February 24, 2021 | https://socioprophet.blog/the-next-great-social-network-technical-aspects-revisited-7b08ce57bdff | <a href="https://web.archive.org/web/*/https://socioprophet.blog/the-next-great-social-network-technical-aspects-revisited-7b08ce57bdff">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><div><div><div><div><div><div><div><a rel="noopener" href="https://socioprophet.blog/?source=post_page-----7b08ce57bdff--------------------------------"><div><p><img alt="SocioProphet" src="https://miro.medium.com/fit/c/56/56/1*58RbyDOIhPuIThoWLnwnjg.jpeg" width="28" height="28"></p></div></a></div></div></div></div></div><p id="6863"><em>By Michael Heller, President &amp; CEO </em><a href="https://medium.com/u/af639653caff?source=post_page-----c1de73d3e10d--------------------------------" rel="noopener"><em>SocioProphet</em></a></p><p id="d183">In our previous articles, we’ve discussed the dumpster fire of the current state of social networking, reviewed the history of social networks and core aspects of trust that need to be enabled for the next great social network.</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/2928/1*D3pQId4f1TWA0OYCCsUlXg.png" width="1464" height="1464" srcset="https://miro.medium.com/max/552/1*D3pQId4f1TWA0OYCCsUlXg.png 276w, https://miro.medium.com/max/1104/1*D3pQId4f1TWA0OYCCsUlXg.png 552w, https://miro.medium.com/max/1280/1*D3pQId4f1TWA0OYCCsUlXg.png 640w, https://miro.medium.com/max/1400/1*D3pQId4f1TWA0OYCCsUlXg.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*D3pQId4f1TWA0OYCCsUlXg.png?q=20"></p></div></div></div></figure><p id="695c"><strong>My last essay focused on the importance of trust, and o<span id="rmm">f</span>fered the reader an expose of a few applications that could be used as part of an overall solution; and, I ended with an innuendo to (hopefully) force my readers to think about how one’s internet history might be used to make connections that are seemlingly real but not provably true</strong> —<a href="https://socioprophet.medium.com/the-next-great-social-network-technical-aspects-of-the-solution-140b1570eb93" rel="noopener"> please have a read if you want to gain some additional context or if you are a new reader, </a>as <strong>I think this lesson is very important and it may not have been immediately obvious on first pass :)</strong></p><p id="7e6d"><strong>While there is plenty more to be said about the dangers of rumours and innuendo that cannot be proven — I will leave this thought experiment up to my readers. </strong>While the discussion from here is going to get somewhat technical (not overly so) I will do my best to cut through the nerd talk and get to the point.</p><p id="3e3b"><em>We assume that the reader should understand some of the core aspects and notions of Identity Management, Cloud Native Security &amp; some good old </em><a href="https://en.wikipedia.org/wiki/CAP_theorem" rel="noopener"><em>CAP theory</em></a><em> to fully appreciate some of the aspects of what’s discussed herein, however we will explain their connections in later articles as required.</em></p><p id="94b8">What does it mean to be a social network anyway? Or, more generically, a “platform” anyway? What’s so unique about these things that we need to give them fancy names to differentiate them from other things (objects?)?</p><p id="3cb9">In someways I personally believe that “social network” or “social media” are a semi-redundant description in today’s parlence because these ideas seem to be implied as the defacto standard for any <em>“web two dot zero plus” </em>platform. But for the sake of completeness I will discuss these ideas and I’ll take my readers down the rabbit hole of internet history once again as I do so.</p><p id="c6bb">In defining and discussing important notions of social networks and platforms, I will borrow some ideas from the infamous <a href="https://medium.com/u/c1ec701babb7?source=post_page-----7b08ce57bdff--------------------------------" target="_blank" rel="noopener">Steve Yegge</a>, and the one and only <a href="https://medium.com/u/13be457aed12?source=post_page-----7b08ce57bdff--------------------------------" target="_blank" rel="noopener">Martin Kleppmann</a> for ideas related to “local first” data, as well as, to help the user to better understand some of the technical notions of a truly distrubuted data platform (Martin literally wrote the book on this!).</p><p id="ad96">I will link the the infamous Yegge rants which I happen to keep a copy of at <a href="https://gist.github.com/mdheller/9742228a7c03cebb7ddd2dc1aebe1bdf" rel="noopener">my personal github</a> but I think the most important part of the discussion (for our purposes) can be found below:</p><blockquote><p id="4698">That one last thing that Google doesn’t do well is Platforms. We don’t understand platforms. We don’t “get” platforms. Some of you do, but you are the minority. This has become painfully clear to me over the past six years. I was kind of hoping that competitive pressure from Microsoft and Amazon and more recently Facebook would make us wake up collectively and start doing universal services. Not in some sort of ad-hoc, half-assed way, but in more or less the same way Amazon did it: all at once, for real, no cheating, and treating it as our top priority from now on.</p><p id="feb6">But no. No, it’s like our tenth or eleventh priority. Or fifteenth, I don’t know. It’s pretty low. There are a few teams who treat the idea very seriously, but most teams either don’t think about it all, ever, or only a small percentage of them think about it in a very small way.</p><p id="d363">It’s a big stretch even to get most teams to offer a stubby service to get programmatic access to their data and computations. Most of them think they’re building products. And a stubby service is a pretty pathetic service. Go back and look at that partial list of learnings from Amazon, and tell me which ones Stubby gives you out of the box. As far as I’m concerned, it’s none of them. Stubby’s great, but it’s like parts when you need a car.</p><p id="16ca">A product is useless without a platform, or more precisely and accurately, a platform-less product will always be replaced by an equivalent platform-ized product.</p><p id="0dac">Google+ is a prime example of our complete failure to understand platforms from the very highest levels of executive leadership (hi Larry, Sergey, Eric, Vic, howdy howdy) down to the very lowest leaf workers (hey yo). We all don’t get it. The Golden Rule of platforms is that you Eat Your Own Dogfood. The Google+ platform is a pathetic afterthought. We had no API at all at launch, and last I checked, we had one measly API call. One of the team members marched in and told me about it when they launched, and I asked: “So is it the Stalker API?” She got all glum and said “Yeah.” I mean, I was joking, but no… the only API call we offer is to get someone’s stream. So I guess the joke was on me.</p><p id="8313">Microsoft has known about the Dogfood rule for at least twenty years. It’s been part of their culture for a whole generation now. You don’t eat People Food and give your developers Dog Food. Doing that is simply robbing your long-term platform value for short-term successes. Platforms are all about long-term thinking.</p><p id="0f24">Google+ is a knee-jerk reaction, a study in short-term thinking, predicated on the incorrect notion that Facebook is successful because they built a great product. But that’s not why they are successful. Facebook is successful because they built an entire constellation of products by allowing other people to do the work. So Facebook is different for everyone. Some people spend all their time on Mafia Wars. Some spend all their time on Farmville. There are hundreds or maybe thousands of different high-quality time sinks available, so there’s something there for everyone.</p><p id="9209">Our Google+ team took a look at the aftermarket and said: “Gosh, it looks like we need some games. Let’s go contract someone to, um, write some games for us.” Do you begin to see how incredibly wrong that thinking is now? The problem is that we are trying to predict what people want and deliver it for them.</p><p id="dce8">You can’t do that. Not really. Not reliably. There have been precious few people in the world, over the entire history of computing, who have been able to do it reliably. Steve Jobs was one of them. We don’t have a Steve Jobs here. I’m sorry, but we don’t.</p><p id="642d">Larry Tesler may have convinced Bezos that he was no Steve Jobs, but Bezos realized that he didn’t need to be a Steve Jobs in order to provide everyone with the right products: interfaces and workflows that they liked and felt at ease with. He just needed to enable third-party developers to do it, and it would happen automatically.</p><p id="bc51">I apologize to those (many) of you for whom all this stuff I’m saying is incredibly obvious, because yeah. It’s incredibly frigging obvious. Except we’re not doing it. We don’t get Platforms, and we don’t get Accessibility. The two are basically the same thing, because platforms solve accessibility. A platform is accessibility.</p></blockquote><p id="4bbb">I want to get to the point, t<strong>he next great social networking platform must be an open platform — it cannot be a walled garden and it cannot be centrally controlled like Facebook, twitter , reddit and the like rest!</strong></p><p id="314b">This is what brings me to my next point!</p><figure><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/1400/1*shcPXe7eBMSkacdlZwZMRg.jpeg" width="700" height="1055" srcset="https://miro.medium.com/max/552/1*shcPXe7eBMSkacdlZwZMRg.jpeg 276w, https://miro.medium.com/max/1104/1*shcPXe7eBMSkacdlZwZMRg.jpeg 552w, https://miro.medium.com/max/1280/1*shcPXe7eBMSkacdlZwZMRg.jpeg 640w, https://miro.medium.com/max/1400/1*shcPXe7eBMSkacdlZwZMRg.jpeg 700w" sizes="700px" data-old-src="https://miro.medium.com/max/40/1*shcPXe7eBMSkacdlZwZMRg.jpeg?q=20"></p></div></div></figure><p id="2248"><a href="https://medium.com/u/13be457aed12?source=post_page-----7b08ce57bdff--------------------------------" target="_blank" rel="noopener">Martin Kleppmann</a> and some other folks published a great article on local-first software last year — I think this same principal must also apply to data, ai and everything else too! The next great social networking platform must include notions of local-first software, data, ai, workflows, and algorithmic insights if we are serious about getting big brother and big tech out of our lives and taking control of our our social reality.</p><p id="56c6"><a href="https://www.inkandswitch.com/local-first.html" rel="noopener">Please find that article here</a>. I think he does a far-better job discussing some of these aspects and I’ve quoted some of his leading thoughts from the article below:</p><blockquote><p id="195f">In the process of performing that creative work, you typically produce files and data: documents, presentations, spreadsheets, code, notes, drawings, and so on. And you will want to keep that data: for reference and inspiration in the future, to include it in a portfolio, or simply to archive because you feel proud of it. It is important to <em>feel ownership</em> of that data, because the creative expression is something so personal.</p><p id="edb7">Unfortunately, cloud apps are problematic in this regard. Although they let you access your data anywhere, all data access must go via the server, and you can only do the things that the server will let you do. In a sense, you don’t have full ownership of that data — the cloud provider does. In the words of a <a href="http://www.chriswatterston.com/blog/my-there-is-no-cloud-sticker" rel="noopener">bumper sticker</a>: “There is no cloud, it’s just someone else’s computer.”</p><p id="f738">We use the term <em>“ownership”</em> not in the sense of intellectual property law and copyright, but rather as the creator’s perceived relationship to their data. We discuss this notion in <a href="https://www.inkandswitch.com/local-first.html#user-control" rel="noopener">a later section</a>.</p><p id="ba06">When data is stored on “someone else’s computer”, that third party assumes a degree of control over that data. Cloud apps are provided as a service; if the service is unavailable, you cannot use the software, and you can no longer access your data created with that software. If the service shuts down, even though you might be able to export your data, without the servers there is normally no way for you to continue running your own copy of that software. Thus, you are at the mercy of the company providing the service.</p><p id="df6a">Before web apps came along, we had what we might call “old-fashioned” apps: programs running on your local computer, reading and writing files on the local disk. We still use a lot of applications of this type today: text editors and IDEs, Git and other version control systems, and many specialized software packages such as graphics applications or CAD software fall in this category.</p><p id="72e7">The software we are talking about in this article are apps for creating documents or files (such as text, graphics, spreadsheets, CAD drawings, or music), or personal data repositories (such as notes, calendars, to-do lists, or password managers). We are not talking about implementing things like banking services, e-commerce, social networking, ride-sharing, or similar …</p></blockquote></div></div></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://socioprophet.blog/the-next-great-social-network-technical-aspects-revisited-7b08ce57bdff">https://socioprophet.blog/the-next-great-social-network-technical-aspects-revisited-7b08ce57bdff</a></em></p>]]>
            </description>
            <link>https://socioprophet.blog/the-next-great-social-network-technical-aspects-revisited-7b08ce57bdff</link>
            <guid isPermaLink="false">hacker-news-small-sites-26258448</guid>
            <pubDate>Thu, 25 Feb 2021 00:56:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[UniConvertor – open-source universal graphics format translator]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26258336">thread link</a>) | @pabs3
<br/>
February 24, 2021 | https://sk1project.net/uc2/ | <a href="https://web.archive.org/web/*/https://sk1project.net/uc2/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>UniConvertor is an universal graphics translator. It is a command line tool/library which uses
    SK2 document object model to convert one file format to another.</p>

<h2>UniConvertor 2.0 features</h2>

<div>
    <p><img src="https://sk1project.net/content/pages/00015/page_uc2_01.png">
    </p>
    <p>UniConvertor 2.0 is a cross-platform standalone application. It may run on MS Windows, macOS and Linux platforms
        (32bit and 64bit). Also it can be used as a python package for python scripting.</p>
    <br>
</div>

<div>
    <p><img src="https://sk1project.net/content/pages/00015/page_uc2_02.png">
    </p>
    
    <p>The application is a translation hub for vector graphics, images and color palettes. For example,
        it may translate TIFF image into PDF document or extract used colors from SVG drawing as a palette.</p>
    <br>
</div>

<div>
    <p><img src="https://sk1project.net/content/pages/00015/page_uc2_03.png">
    </p>
    <p>UniConvertor 2.0 is designed to be a bidirectional bridge connecting FOSS and proprietary graphics software.
        Our users should have possibility as importing and exporting proprietary file formats.</p>
    <br>
</div>

<h2>How it works</h2>

<p><span>1</span>Select file for translation</p>

<p><img src="https://sk1project.net/content/pages/00015/page_uc2_04.png" alt="Selecting file in file manager"></p><p><span>2</span>Run UniConvertor command</p>

<p><img src="https://sk1project.net/content/pages/00015/page_uc2_05.png" alt="Terminal running UniConvertor command"></p><p><span>3</span>Fetch translation result</p>

<p><img src="https://sk1project.net/content/pages/00015/page_uc2_06.png" alt="Translation result in file manager"></p><h2>Supported file formats</h2>

<ul>
    <li>SK2 - sK1 2.x graphics files</li>
    <li>SVG - Scalable Vector Graphics files</li>
    <li>PDF - Portable Document Format files</li>
    <li>CDR - CorelDRAW Graphics files</li>
    <li>CMX - CorelDRAW Presentation Exchange files</li>
    <li>CCX - CorelDRAW Compressed Exchange files</li>
    <li>XAR - Xara graphics files</li>
    <li>WMF - Windows Metafile files</li>
    <li>CGM - Computer Graphics Metafile files</li>
    <li>PLT - HPGL cutting plotter files</li>
    <li>SK1 - sK1 0.9.x graphics files</li>
    <li>SK - Sketch/Skencil files</li>
    <li>FIG - XFig files</li>
    <li>SKP - sK1 palette files</li>
    <li>GPL - GIMP palette files</li>
    <li>Scribus palette files (XML)</li>
    <li>SOC - LibreOffice palette files</li>
    <li>CPL - CorelDRAW palette files</li>
    <li>CorelDRAW X5-X8 palette files (XML)</li>
    <li>ASE - Adobe Swatch Exchange files</li>
    <li>ACO - Adobe Color files</li>
    <li>JCW - Xara color palette files</li>
    <li>PSD - Photoshop files</li>
    <li>XCF - GIMP files</li>
    <li>More than 100 bitmap file formats</li>
</ul>



</div></div>]]>
            </description>
            <link>https://sk1project.net/uc2/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26258336</guid>
            <pubDate>Thu, 25 Feb 2021 00:43:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[SK1 – advanced open source vector graphics editor]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26258320">thread link</a>) | @pabs3
<br/>
February 24, 2021 | https://sk1project.net/sk1/ | <a href="https://web.archive.org/web/*/https://sk1project.net/sk1/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>sK1 is an open source cross-platform vector graphics editor like CorelDRAW, Adobe Illustrator, or Freehand.
    The major feature of sK1 is a professional precise printing and prepress ready PDF output.</p>

<div>
    <p><a href="https://sk1project.net/content/pages/00005/page_sk1_top_01.png" title="sK1 2.0 on Ubuntu 18.04" data-lightview-title="sK1 2.0 on Ubuntu 18.04" data-lightview-caption="Cross-platform unified antialiased rendering like PostScript/PDF" data-lightview-options="skin: 'mac'">
        <img src="https://sk1project.net/content/pages/00005/page_sk1_top_01_preview.png"></a>
    </p>
    <p><a href="https://sk1project.net/content/pages/00005/page_sk1_top_02.png" title="sK1 2.0 on Windows 10" data-lightview-title="sK1 2.0 on Windows 10" data-lightview-caption="Cross-platform unified antialiased rendering like PostScript/PDF" data-lightview-options="skin: 'mac'">
        <img src="https://sk1project.net/content/pages/00005/page_sk1_top_02_preview.png"></a>
    </p>
</div>


<p>sK1 2.0 is <a href="https://www.gnu.org/licenses/gpl-3.0.html" rel="nofollow" target="_blank">licensed under GPL v3</a>.
    So you may use this application as for personal or commercial purposes without any fees.</p>

<h2>sK1 2.0 features</h2>

<div>
    <p><a href="https://sk1project.net/content/pages/00005/page_sk1_01.png" title="Basic primitives in sK1 2.0" data-lightview-title="Basic primitives in sK1 2.0" data-lightview-caption="Rectangles, rounded rectangles, ellipses, pies, sectors, chords, polygons." data-lightview-options="skin: 'mac'">
            <img src="https://sk1project.net/content/pages/00005/page_sk1_01_preview.png"></a>
    </p>
    <p>Application supports basic vector graphics primitives: rectangles, rounded rectangles, ellipses, pies, sectors,
        chords, polygons, Bézier curves, text and bitmaps.</p>

    <p>The objects may be structured on pages, layers and just in selectable groups/containers. Pages within a document
        can be of different sizes.</p>
    <br>
</div>

<div>
    <p><a href="https://sk1project.net/content/pages/00005/page_sk1_02.png" title="Rendering in sK1 2.0" data-lightview-title="Rendering in sK1 2.0" data-lightview-caption="Cross-platform unified antialiased rendering like PostScript/PDF" data-lightview-options="skin: 'mac'">
            <img src="https://sk1project.net/content/pages/00005/page_sk1_02_preview.png"></a>
    </p>
    <p>Bézier curves are fundamental rendering units. All the primitives can be converted into curves. We use
        <a href="https://www.cairographics.org/" rel="nofollow" target="_blank">Cairo library</a>
        to render these curves on the screen. </p>

    <p>Thanks to cairo we have cross-platform unified antialiased rendering, similar to PostScript/PDF definitions.</p>
    <br>
</div>

<div>
    <p><a href="https://sk1project.net/content/pages/00005/page_sk1_03.png" title="Fill types in sK1 2.0" data-lightview-title="Fill types in sK1 2.0" data-lightview-caption="Solid fill, gradient fill, pattern fill, alphachannel." data-lightview-options="skin: 'mac'">
            <img src="https://sk1project.net/content/pages/00005/page_sk1_03_preview.png"></a>
    </p>
    <p>Like PS/PDF definitions, sK1 2.0 provides solid fill, gradient fill and pattern fill for graphics primitives. Also
        the objects can be outlined by solid stroke</p>

    <p>Like for PDF objects, alphachannel is available for solid fill, gradient stops and for stroke color.
        Application supports RGB, CMYK and Grayscale colorspaces. SPOT colors are also supported.</p>
    <p><i>Note: PANTONE® colors are just a special case of SPOT colors.</i></p>
    <br>
</div>

<div>
    <p><a href="https://sk1project.net/content/pages/00005/page_sk1_04.png" title="Color management in sK1 2.0" data-lightview-title="Color management in sK1 2.0" data-lightview-caption="Color profiles for supported color spaces and LCMS preferences" data-lightview-options="skin: 'mac'">
            <img src="https://sk1project.net/content/pages/00005/page_sk1_04_preview.png"></a>
    </p>
    <p>Inside sK1 2.0 all the color values and raster images are under color management. We use
        <a href="http://www.littlecms.com/" rel="nofollow" target="_blank">LittleCMS library</a>
        for these purposes. </p>

    <p>Despite of built-in profiles, end users can use own color profiles to customize color management engine.
        Printer emulation on screen option is also available.</p>
    <br>
</div>

<div>
    <p><a href="https://sk1project.net/content/pages/00005/page_sk1_05.png" title="Text rendering in sK1 2.0" data-lightview-title="Text rendering in sK1 2.0" data-lightview-caption="Full-function rendering of text and cross-platform support." data-lightview-options="skin: 'mac'">
            <img src="https://sk1project.net/content/pages/00005/page_sk1_05_preview.png"></a>
    </p>
    <p>sK1 2.0 text engine has a full-function rendering of multi-language text and cross-platform support because it's
        powered by <a href="https://pango.gnome.org/" rel="nofollow" target="_blank">Pango library</a></p>

    <p>Thanks to this library, application handles text layout for particular combinations of script and font backend.
        Modules for Hebrew, Arabic, Hangul, Thai, and a number of Indic scripts are supported.</p>
    <br>
</div>

<p><a href="https://sk1project.net/uc2/">UniConvertor 2.0</a> is a core package of sK1 2.0 application. UC2 provides extended import/export
        functionality of different vector graphics, raster image and color palette file formats. Thus sK1 2.0 is connected
        to existent open source and commercial graphics software like Inkscape, Gimp, CorelDRAW, Adobe Illustrator,
        Xara Designer etc.</p>

<p>sK1 2.0 user interface is built on <a href="https://www.wxwidgets.org/" rel="nofollow" target="_blank">
        wxWidgets toolkit</a>. This toolkit allows easy porting application on MS Windows and macOS without rewriting
        tonnes of GUI code.
    </p>


</div></div>]]>
            </description>
            <link>https://sk1project.net/sk1/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26258320</guid>
            <pubDate>Thu, 25 Feb 2021 00:41:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[“Product market fit” is a silly term for what it wants to describe]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 10 (<a href="https://news.ycombinator.com/item?id=26258289">thread link</a>) | @aminozuur
<br/>
February 24, 2021 | https://wor.do/blog/product-market-fit-meaning | <a href="https://web.archive.org/web/*/https://wor.do/blog/product-market-fit-meaning">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	<p>
You might have never heard of an "<a href="https://wor.do/idle_asset">idle asset</a>" before. But you probably have a good idea of what it means. Even your grandmas first guess of what an “idle asset” is, is likely to be correct.</p><p>

This cannot be said of <i>“product market fit”</i>.<br>
Ask 10 people, grandmas or even Y-Combinator applicants, and the answers will be all over the place.</p><p>

<b>Michael Seibel chips in</b></p><p>

<img src="https://i.imgur.com/Xx912ku.jpg" width="100%">

<small><i>"You have reached product market fit when you are overwhelmed with usage—usually to the point where you can’t even make major changes to your product because you are swamped just keeping it up and running."</i>[1]</small></p><p>

Another YC partner said that demand is growing <i>soooo</i> fast, that you just want to die.</p><p>
<i>"If you don't want to die, you don't have product market fit"</i>.</p><p>

So the people who popularized the term, say it's synonymous to <i>extreme growth</i> or <i>incredible demand</i>. Then why not call it that? Anyone and their grandma will understand such terms right away.</p><p>


<b>"Dominance"</b></p><p>
<img src="https://i.imgur.com/UHRVkCj.png" width="100%"></p><p>
Google basically <i>owns</i> the search market. They absolutely <i>dominate</i> it. Perhaps, "product market fit" is just a euphemism to avoid using the term dominant. Hmm.</p><p>

<b>So what does product market fit really mean?</b><br>
It simply means that your product and its market have found each other, and by extension, that often means seeing serious growth. Though sometimes, the product is catered towards a niche audience, in which case it might not become the next Google, while still enjoying <i>product market fit</i>.</p><p>

<b>Naval's got something to say too</b></p><p>

<img src="https://i.imgur.com/9g9dJVk.png" width="100%"><br>

Is that really so Naval? 🧐<br>
By that definition, many of the sideprojects I built, that went absolutely nowhere, all had product market fit. Yay. </p><p>

In reality, many nice sounding quotes require the stretching of a definition in order to make sense.<br>Example: <i>"Real wealth is having lots of free time"</i>.</p><p>
It sounds great, right? But, can you transfer this "real wealth" to your cousin from Bangladesh who's working 14 hours a day? I like Naval, though, I think that one was a miss. But I digress..</p><p>

<b>OK, so now what?</b><br>
When possible, use simple words. YC is big on avoiding <a href="https://wor.do/buzzword">buzzwords</a>, yet they throw around <i>product market fit</i> left and right, leaving many people confused. Just say <i>extreme growth</i>, or any alternative that is understood quickly.




</p><!--
Here’s a few terms that do a better job at describing product market fit, than product market fit<br>

* Extremely rapid growth<br>
* Painfully fast growth<br>
* Long lasting growth<br>
* Rapid Compound growth<br>
</li>

<br><br>
I could write a PHP random word generator, and come up with many more terms that do a better job at describing product market fit, than product market fit does.
<br><br>
-->
<p>
This blog post was written by <a href="https://wor.do/@aminozuur">@aminozuur</a>. Thanks for reading, and keep learning new words.
</p><p>



References:<br>
1: <a href="https://www.michaelseibel.com/blog/the-real-product-market-fit" target="_blank">Michael Seibel's blog</a></p></div></div>]]>
            </description>
            <link>https://wor.do/blog/product-market-fit-meaning</link>
            <guid isPermaLink="false">hacker-news-small-sites-26258289</guid>
            <pubDate>Thu, 25 Feb 2021 00:38:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hundreds of workers at cybersecurity agency vote to strike]]>
            </title>
            <description>
<![CDATA[
Score 55 | Comments 40 (<a href="https://news.ycombinator.com/item?id=26258081">thread link</a>) | @megzh
<br/>
February 24, 2021 | https://www.cbc.ca/news/politics/cse-cybersecurity-strike-1.5926825 | <a href="https://web.archive.org/web/*/https://www.cbc.ca/news/politics/cse-cybersecurity-strike-1.5926825">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Hundreds of cybersecurity workers at Canada's foreign signals intelligence agency have voted to strike, a move that comes amid growing conerns about cyber attacks during the COVID-19 pandemic.&nbsp;</p><div><figure><div><p><img loading="lazy" alt="" srcset="" sizes="" src="https://i.cbc.ca/1.2656840.1401287994!/fileImage/httpImage/image.jpg_gen/derivatives/16x9_780/cyberdefence-cda.jpg"></p></div><figcaption>The Communications Security Establishment (CSE), one of Canada's key intelligence agencies, employs&nbsp;about&nbsp;2,900 people and&nbsp;is responsible for foreign intelligence and cybersecurity.<!-- --> <!-- -->(Sean Kilpatrick/Canadian Press)</figcaption></figure><p><span><p>Hundreds of workers at Canada's foreign signals intelligence agency have voted to strike&nbsp;— a move that comes as the&nbsp;threat of&nbsp;state-sponsored cyber attacks related to the&nbsp;pandemic appears to be rising.</p>  <p>The Public Service Alliance of Canada&nbsp;represents 2,400&nbsp;employees working in cryptography, applied mathematics, advanced language analysis and cybersecurity&nbsp;at the Communications Security Establishment (CSE). PSAC announced the results of the vote Wednesday.</p>  <p>"They perform vital work protecting Canada from foreign cyber and attacks, foreign hacking attempts,"&nbsp;Alex Silas, PSAC's regional executive vice-president for the National Capital Region, told&nbsp;CBC News.</p>  <p>"For example, things that we saw this past July, there was an attempt to hack Canadian COVID-19 research. These are the workers that stopped that."</p>    <p>CSE,&nbsp;one of Canada's key intelligence agencies, employs&nbsp;about&nbsp;2,900 people and&nbsp;is responsible for foreign intelligence and cybersecurity.</p>  <p>The vote comes nearly two years after talks&nbsp;stalled on a collective agreement. At issue is a change to the&nbsp;market allowance —&nbsp; a wage supplement negotiated to close pay gaps with workers doing similar work in the private sector. It's a benefit&nbsp;often used to attract employees into highly technical jobs in the public service.</p>  <p>"CSE management is refusing to apply a wage increase to the portion of workers' salaries that is&nbsp;made up of market allowances," said Silas.</p>  <p>"To give you an idea, for some of these workers [that] represents as much as 10 per cent of their annual income.&nbsp;So it's a significant financial loss."</p>  <p>The vote&nbsp;does not mean&nbsp;workers are&nbsp;heading for the picket lines.</p>  <p>"We are now ramping up preparations and coordinating with our members to determine the precise actions that will be taken and their timing. But we emphasize that strike action can still be avoided if CSE management comes back to the table and steps away from its concession or agrees to arbitration," said PSAC spokesperson&nbsp;Alroy Fonseca.</p>  <h2>CSE says services will continue</h2>  <p>Christopher Williams, director general of CSE public affairs and communications services, said CSE's executive management team continues to work toward&nbsp;a resolution with the union.</p>  <p>"However, we can tell you that essential service agreements are in place to ensure that all areas of&nbsp;CSE&nbsp;have the people at work necessary to continue to provide for the safety and security of the public in the event of a strike," he said in an email to CBC News.</p>  <p>CSE has been sounding the alarm about the threat of cyber&nbsp;attacks on research facilities and the health care sector during the pandemic. It was one of the intelligence agencies that stated a hacker group backed by Russia&nbsp;"almost certainly" tried&nbsp;to steal COVID-19-related vaccine research in Canada, the U.K. and the U.S.</p>  <p>Late last year, CSE warned that state-sponsored actors are "very likely" trying to shore up their cyber capabilities to attack Canada's&nbsp;critical infrastructure — such as the electricity&nbsp;supply&nbsp;— to intimidate or to prepare for future online assaults.</p>  <p>While the lights will remain on, the union says the agency will lose workers if it doesn't offer&nbsp;competitive salaries.</p>  <p>"What does it say about how we prioritize national security?" said Silas.&nbsp;"If CSE as an employer, as management, doesn't recognize the need to pay these workers a fair market rate, how are we going to attract and retain the talent needed for the important work of keeping Canadians safe from cyber attacks?"</p></span></p></div></div>]]>
            </description>
            <link>https://www.cbc.ca/news/politics/cse-cybersecurity-strike-1.5926825</link>
            <guid isPermaLink="false">hacker-news-small-sites-26258081</guid>
            <pubDate>Thu, 25 Feb 2021 00:14:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Running Tide attracts VC names with plan to bury gigatons of CO2 on ocean floor]]>
            </title>
            <description>
<![CDATA[
Score 17 | Comments 5 (<a href="https://news.ycombinator.com/item?id=26258073">thread link</a>) | @loosetypes
<br/>
February 24, 2021 | https://mainestartupsinsider.com/running-tides-attracts-big-vc-names/ | <a href="https://web.archive.org/web/*/https://mainestartupsinsider.com/running-tides-attracts-big-vc-names/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
							<p>Running Tide Technologies, a Portland-based company that operates traditional oyster farms, has just emerged from stealth with a big, bold plan to sequester gigatons of CO2 on the ocean floor over the next several years by growing kelp and then sinking it to the bottom of the sea.</p>
<p>The company has been keeping its cards close to the vest, but Fast Company magazine <a href="https://www.fastcompany.com/90548820/forget-planting-trees-this-company-is-making-carbon-offsets-by-putting-seaweed-on-the-ocean-floor" target="_blank" rel="noopener noreferrer">published an article</a> today revealing Running Tide’s plan to leverage its aquaculture expertise to tackle the issue of climate change. Its plan, according to the magazine, is to grow kelp, which like other plants extracts carbon dioxide from the environment, on floating rigs and then sink them to the ocean floor. Once there, the CO2 could remain sequestered for centuries.</p>
<p>“Once it goes down below 1,000 meters, it’s not coming back up, because the pressures are so great,” Marty Odlin, Running Tide’s founder and CEO, told Fast Company. “So you can get at least 1,000 years of sequestration. More likely, it will turn into oil or sediment and be sequestered on the geologic timescale—millions of years.”</p>
<p>Unlike terrestrial forests that can burn or degrade and release the carbon back into the atmosphere, marine plants don’t break down as easy. Plus, coastal&nbsp;ecosystems sequester up to 20 times more carbon per acre than land forests, <a href="http://sitn.hms.harvard.edu/flash/2019/how-kelp-naturally-combats-global-climate-change/" target="_blank" rel="noopener noreferrer">according to this article</a> published by Harvard University.</p>
<p>Running Tide <a href="https://www.runningtide.com/" target="_blank" rel="noopener noreferrer">updated its website</a> this week. While previously focused on traditional shellfish aquaculture, it now includes language about its “negative emissions journey” to combat climate change with its kelp. It also says that Running Tide will be selling “kelp carbon credits.”</p>
<p>Maine Startups Insider had heard rumors about the company and how it had been able to attract big-time VC money. MSI <a href="https://mainestartupsinsider.com/has-silicon-valley-big-shot-chris-sacca-invested-in-a-maine-startup/" target="_blank" rel="noopener noreferrer">published an article last week</a> speculating that Chris Sacca, one of Silicon Valley’s most well-known venture capitalists, had invested in the company via his new VC firm, Lowercarbon Capital. Sacca did not respond to MSI’s requests for confirmation, but did announce his firm’s investment in the Portland company on Twitter after the Fast Company article was published.</p>
<p>“Bonkers scale, unreasonable ambition, massive impact on the plant. During insane times, it’s entrepreneurs like @martyodlin that fire us up,” Sacca tweeted.</p>
<blockquote data-width="550" data-dnt="true">
<p lang="en" dir="ltr">Running Tide was the kind of company we were hoping we would find when we started <a href="https://twitter.com/lowercarbon?ref_src=twsrc%5Etfw">@lowercarbon</a>. Bonkers scale, unreasonable ambition, massive impact on the planet. During insane times, it's entrepreneurs like <a href="https://twitter.com/martyodlin?ref_src=twsrc%5Etfw">@martyodlin</a> that fire us up. <a href="https://t.co/OAM6df0dQi">https://t.co/OAM6df0dQi</a></p>
<p>— Chris Sacca (@sacca) <a href="https://twitter.com/sacca/status/1306009609698672640?ref_src=twsrc%5Etfw">September 15, 2020</a></p></blockquote>

<p>Shopify, the ecommerce behemoth, also revealed itself this week as an investor in Running Tide. The ecommerce-platform company last year launched its Sustainability Fund to fight climate change. On Monday, <a href="https://www.shopify.com/about/environment/sustainability-fund/ocean" target="_blank" rel="noopener noreferrer">it shared in a blog post</a> how it invested its first $5 million, including an investment of undisclosed size in Running Tide.</p>
<p>“All work is important in carbon reduction, but some people have to try to kill the monster,” Odlin told Shopify. “Everyone should try to slow it down, but we should pick 15–20 technologies that might be able to stop the whole thing all by themselves. That’s what we’re trying to build.”</p>
<blockquote><p>“All work is important in carbon reduction, but some people have to try to kill the monster.”</p></blockquote>
<p>I have not been successful getting the company to confirm how much it raised, <a href="https://pitchbook.com/profiles/company/266342-50#overview" target="_blank" rel="noopener noreferrer">but Pitchbook claims</a> it raised $11.2 million in November 2019. In addition to Lowercarbon Capital and Shopify,&nbsp;PitchBook lists three additional investors: Soraya Darabi, an angel investor, San Francisco-based Pathbreaker Ventures, and San Francisco-based Yes VC.</p>
<p>David Frankel, a partner at Boston-based Founder Collective, also revealed on Twitter on Tuesday that he had led the seed financing.</p>
<blockquote data-width="550" data-dnt="true">
<p lang="en" dir="ltr"><a href="https://twitter.com/hashtag/proudfirstinvestor?src=hash&amp;ref_src=twsrc%5Etfw">#proudfirstinvestor</a> </p>
<p>Honored to have led Running Tide's seed financing.</p>
<p>HT <a href="https://twitter.com/sacca?ref_src=twsrc%5Etfw">@sacca</a> </p>
<p>even more so to <a href="https://twitter.com/martyodlin?ref_src=twsrc%5Etfw">@martyodlin</a> &amp; incredible team @ RT <a href="https://t.co/hlQPNE15bl">https://t.co/hlQPNE15bl</a></p>
<p>— David Frankel (@dafrankel) <a href="https://twitter.com/dafrankel/status/1306031305281490944?ref_src=twsrc%5Etfw">September 16, 2020</a></p></blockquote>

<p><em>MSI will continue to cover the story and update it if additional details become known.</em></p>

<h3><em>If you value this source of original Maine startup news, please consider supporting Maine Startups Insider with a monthly pledge on Patreon.</em></h3>
<p><a href="https://www.patreon.com/mainestartupsinsider" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://i0.wp.com/mainestartupsinsider.com/wp-content/uploads/2018/06/become_a_patron_button@3x-e1528489198775.png?resize=250%2C59" alt="" width="250" height="59" data-recalc-dims="1"></a></p>
						</div></div>]]>
            </description>
            <link>https://mainestartupsinsider.com/running-tides-attracts-big-vc-names/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26258073</guid>
            <pubDate>Thu, 25 Feb 2021 00:13:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Marko JavaScript: A Modern Alternative to React]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26257920">thread link</a>) | @no_wizard
<br/>
February 24, 2021 | https://markojs.com/docs/getting-started/ | <a href="https://web.archive.org/web/*/https://markojs.com/docs/getting-started/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><div><p>The easiest way to get started with Marko is to use the <a href="https://markojs.com/try-online">Try Online</a> feature. You can just open it in another tab and follow along. If you'd rather develop locally, check out the <a href="https://markojs.com/docs/installing/">Installation</a> page.</p><h2 id="hello-world"><a name="hello-world" href="#hello-world"></a>Hello world</h2><p>Marko makes it easy to represent your UI using a <a href="https://markojs.com/docs/syntax/">syntax</a> that is like HTML:</p><p>hello.marko</p><!--M#s0-0-0-12-4-13--><!--M^s0-0-0-12-4-13-0 s0-0-0-12-4-13 0--><!--M/--><!--M/--><p>In fact, Marko is so much like HTML, that you can use it as a replacement for a templating language like handlebars, mustache, or pug:</p><p>template.marko</p><!--M#s0-0-0-12-4-16--><!--M^s0-0-0-12-4-16-0 s0-0-0-12-4-16 0--><div><div><pre><span>&lt;!doctype html&gt;</span>
&lt;<span>html</span>&gt;
&lt;<span>head</span>&gt;
    &lt;<span>title</span>&gt;<span>Hello World</span>&lt;/<span>title</span>&gt;
&lt;/<span>head</span>&gt;
&lt;<span>body</span>&gt;
    &lt;<span>h1</span>&gt;<span>Hello World</span>&lt;/<span>h1</span>&gt;
&lt;/<span>body</span>&gt;
&lt;/<span>html</span>&gt;
</pre></div><div><pre><span>&lt;!doctype html&gt;</span>
<span>html</span>
    <span>head</span>
        <span>title</span> --<span> Hello World</span>
    <span>body</span>
        <span>h1</span> --<span> Hello World</span>
</pre></div></div><!--M/--><!--M/--><p>However, Marko is much more than a templating language. It's a language that allows you to declaratively build an application by describing how the application view changes over time and in response to user actions.</p><p>In the browser, when the data representing your UI changes, Marko will automatically and efficiently update the DOM to reflect the changes.</p><h2 id="a-simple-component"><a name="a-simple-component" href="#a-simple-component"></a>A simple component</h2><p>Let's say we want to perform an action once a <code>&lt;button&gt;</code> is clicked:</p><p>button.marko</p><!--M#s0-0-0-12-4-25--><!--M^s0-0-0-12-4-25-0 s0-0-0-12-4-25 0--><div><div><pre>&lt;<span>button</span>&gt;<span>Click me!</span>&lt;/<span>button</span>&gt;
</pre></div></div><!--M/--><!--M/--><p>Marko makes this really easy, allowing you to define a <code>class</code> for a component right in the <code>.marko</code> view and call methods of that class with <code>on-</code> attributes:</p><p>button.marko</p><!--M#s0-0-0-12-4-31--><!--M^s0-0-0-12-4-31-0 s0-0-0-12-4-31 0--><div><div><pre><span>class</span> {
    <span>sayHi</span>() {
        <span>alert</span>(<span>"Hi!"</span>);
    }
}

&lt;<span>button</span> <span>on-click</span>(<span>"sayHi"</span>)&gt;<span>Click me!</span>&lt;/<span>button</span>&gt;
</pre></div><div><pre><span>class</span> {
    <span>sayHi</span>() {
        <span>alert</span>(<span>"Hi!"</span>);
    }
}

<span>button</span> <span>on-click</span>(<span>"sayHi"</span>) --<span> Click me!</span>
</pre></div></div><!--M/--><!--M/--><h3 id="adding-state"><a name="adding-state" href="#adding-state"></a>Adding state</h3><p>Alerting when a button is clicked is great, but what about updating your UI in response to an action? Marko's stateful components make this easy. All you need to do is set <code>this.state</code> from inside your component's class. This makes a new <code>state</code> variable available to your view. When a value in <code>this.state</code> is changed, the view will automatically re-render and only update the part of the DOM that changed.</p><p>counter.marko</p><!--M#s0-0-0-12-4-40--><!--M^s0-0-0-12-4-40-0 s0-0-0-12-4-40 0--><div><div><pre><span>class</span> {
    <span>onCreate</span>() {
        this.state <span>=</span> {
            count: <span>0</span>
        };
    }
    <span>increment</span>() {
        this.state.count<span>++</span>;
    }
}

&lt;<span>div</span>&gt;<span>The current count is </span><span>${</span>state.count<span>}</span>&lt;/<span>div</span>&gt;
&lt;<span>button</span> <span>on-click</span>(<span>"increment"</span>)&gt;<span>Click me!</span>&lt;/<span>button</span>&gt;
</pre></div><div><pre><span>class</span> {
    <span>onCreate</span>() {
        this.state <span>=</span> {
            count: <span>0</span>
        };
    }
    <span>increment</span>() {
        this.state.count<span>++</span>;
    }
}

<span>div</span> --<span> The current count is </span><span>${</span>state.count<span>}</span>
<span>button</span> <span>on-click</span>(<span>"increment"</span>) --<span> Click me!</span>
</pre></div></div><!--M/--><!--M/--><p><a href="https://github.com/marko-js/marko/blob/master/packages/marko/docs/getting-started.md">EDIT <img src="https://markojs.com/assets/a828017a.svg"></a></p><h2 id="contributors"><a name="contributors" href="#contributors"></a> Contributors</h2><p>Helpful? You can thank these awesome people! You can also <a href="https://github.com/marko-js/marko/blob/master/packages/marko/docs/getting-started.md">edit this doc</a> if you see any issues or want to improve it.</p></div></div></div></div></div>]]>
            </description>
            <link>https://markojs.com/docs/getting-started/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26257920</guid>
            <pubDate>Wed, 24 Feb 2021 23:58:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Journey to Rick Roll]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26257916">thread link</a>) | @odysseythrwtime
<br/>
February 24, 2021 | https://share.doppler.com/s/oarjigpajqtodoqefoua9o1iisdfaocgfbulmaez?1#GZPgKEngtasgXHftCjimCwjPquZV7qwwzo8qb1m7rgvjlWXFr8C5jHOuXtxW1SBC | <a href="https://web.archive.org/web/*/https://share.doppler.com/s/oarjigpajqtodoqefoua9o1iisdfaocgfbulmaez?1#GZPgKEngtasgXHftCjimCwjPquZV7qwwzo8qb1m7rgvjlWXFr8C5jHOuXtxW1SBC">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://share.doppler.com/s/oarjigpajqtodoqefoua9o1iisdfaocgfbulmaez?1#GZPgKEngtasgXHftCjimCwjPquZV7qwwzo8qb1m7rgvjlWXFr8C5jHOuXtxW1SBC</link>
            <guid isPermaLink="false">hacker-news-small-sites-26257916</guid>
            <pubDate>Wed, 24 Feb 2021 23:57:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Computing with Metavalues]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26257745">thread link</a>) | @todsacerdoti
<br/>
February 24, 2021 | https://fredrikj.net/blog/2021/02/computing-with-metavalues/ | <a href="https://web.archive.org/web/*/https://fredrikj.net/blog/2021/02/computing-with-metavalues/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main">
<p><a href="https://fredrikj.net/">fredrikj.net</a> / <a href="https://fredrikj.net/blog">blog</a> / </p>

<p><i>February 24, 2021</i></p>


<p>
This post will explore the distinction between <i>values</i> and <i>metavalues</i> (representations) as the
objects of computation, particularly in a mathematical software context.
A clear separation between values and metavalues
is an idea that
appears in symbolic computation systems,
compilers, code analysis tools,
and interval arithmetic software (among other settings),
but it has arguably
never been pursued to its full potential,
especially at the level of programming language design.
</p>

<p>
The case can be made that many bugs and footguns
in computer algebra systems and programming languages
are the result of a confused treatment of values and metavalues (see Figure 1),
and the title of this post could just as well have been "Why is my mathematical software full of bugs?".
A satisfactory answer to that question would require considering other
aspects; for example,
<a href="https://fredrikj.net/blog/2021/01/infinity-in-calcium-and-fungrim/">infinities
and singularities</a> are a largely orthogonal issue (though there are
points of overlap with the value-metavalue problem),
and then of course there are all the usual categories of
bugs that are not specific to mathematical software. Nevertheless,
I believe that metavalue mismanagement is particularly fundamental.</p>

<p><a href="https://commons.wikimedia.org/wiki/File:Ligozzi_(Una_quimera).jpg"><img src="https://fredrikj.net/blog/2021/02/computing-with-metavalues/chimera.jpg"></a><br>Figure 1: <i><a href="https://commons.wikimedia.org/wiki/File:Ligozzi_(Una_quimera).jpg">A chimera</a></i>, Jacopo Ligozzi (1547-1627).</p>

<p>
This topic is closely related to the problem
of defining equality/equivalence/isomorphism
(see for example <i><a href="http://people.math.harvard.edu/~mazur/preprints/when_is_one.pdf">When is one thing equal to some other thing?</a></i>
by Barry Mazur) and other problems in metamathematics, though my concern in this post will be more with
concrete software implementation issues than with foundations of mathematics.
Complex isomorphisms are a challenge when formalizing modern abstract mathematics,
but misuse of metavalues leads to
incorrect present-day implementations of mathematical objects that had correct foundations 2000 years ago.
</p>



<h2 id="section1">Values and metavalues</h2>

<p>
I will use <i>value</i> to refer to any mathematically definable object
and <i>metavalue</i> to refer to a description of a value used for computations.
An isomorphic representation of a value qualifies a metavalue,
but a metavalue need not unambiguously identify a specific value;
it suffices for a metavalue to describe a property of a value
(possibly shared by several possible values),
or to provide an approximate or heuristic description.
It may also carry extra information (metadata) that has nothing
to do with the value itself.
</p>

<p>
This notion of <i>metavalue</i> is informal, and the terminology is
not necessarily standard, with apologies to any professional logicians who happen to read this.
I want to avoid using a term that either sounds too general or has a preexisting technical meaning
(model, abstraction, representation, approximation, image, etc.).
In software, metavalues may appear explicitly (as distinct entities from values), implicitly (in the semantics of operations),
or informally (in usage patterns).
The distinction is mainly one of <i>intent</i>: a metavalue is meant
to be used as a substitute for a (true) value.
</p>

<p>
Values are the objects we would ideally like to
represent and manipulate in software.
Here are some examples of interesting values, all of which
can defined formally within standard foundations of mathematics
(I will ignore issues such as the meaning of definability and whether foundations are consistent):</p>

<ul>
<li>The tuple $(1, 2, 3)$.</li>
<li>The boolean $\operatorname{True}$.</li>
<li>The real number $2 \pi$.</li>
<li>The set $\mathbb{Q}$.</li>
<li>The sequence $(0, 1, 1, 2, 3, 5, 8, 13, \ldots)$.</li>
<li>The function $\exp : \mathbb{C} \to \mathbb{C} \setminus \{0\}$.</li>
<li>The category $\operatorname{Top}$ of topological spaces.</li>
<li>The integer $\operatorname{TREE}(3)$.</li>
<li>The truth value of the proposition "white has a winning sequence of moves from the starting position in chess".</li>
<li>The set of nonreal zeros of $\zeta(s)$ with real part not equal to $1/2$.</li>
</ul>

<p>
Why do we need metavalues? Simple values such as the tuple $(1, 2, 3)$
correspond quite well to the values of native types in programming languages.
More formally, it is easy to encode such simple values on a Turing machine in a way
that permits carrying out natural operations (addition of integers, concatenation of tuples, testing equality, etc.) algorithmically.
However, the vast majority of specific mathematical objects are
impractical or impossible to represent as such.
Indeed, most individual real numbers, sets, etc. cannot be represented in any conceivable form on an actual computer since they would require an infinite amount of data:
a number like $2 \pi$ or a set like $\mathbb{Q}$ is an exception which happens to admit a simple symbolic description using standard formalisms.
Even if we acknowledge that objects we cannot even describe are beyond scope for any form of computation,
there are plenty of difficulties left when working with finitely definable objects:
</p>

<ul>
<li>Most objects with finite descriptions are too large to represent explicitly on a physical computer (for example, $\operatorname{TREE}(3)$ is a tad too large to store in a <a href="https://gmplib.org/">GMP</a> <tt>mpz_t</tt>).</li>
<li>Values that are clearly representable need not be computable in an explicit, meaningful way. For example, if a predicate is undecidable, we cannot explicitly reduce it to True or False (although either is perfectly representable). If it is undecidable whether a given real number $x$ represents zero, we cannot evaluate $\operatorname{sgn}(x)$ to an explicit number $-1, 0, +1$.</li>
<li>Even explicitly representable and computable values may be too costly or inconvenient to actually implement.</li>
<li>In some cases, we deliberately want to avoid representing specific values,
in order to model a range of possible outcomes.</li>
</ul>

<p>
For these reasons, it is often convenient (and sometimes necessary)
to work with metavalues—indirect, partial or approximate descriptions of values—instead of (perfectly faithful representations of) the values themselves.</p>

<p>
<i>Computing with metavalues</i>, in a narrow sense,
means taking a (mathematically specified) program and
running it with metavalues instead of values, either by explicitly executing
the steps of the program with metavalues instead of values or by performing
an abstract or symbolic analysis to deduce a metavalue for the return value of
the program (for simplicity, I will only consider pure functional programs).
More generally, it is often useful to move between
levels of abstraction and treat metavalues
themselves as values; unfortunately, this comes with the risk of
conflating value and metavalue semantics (an extremely common error in actual software).
</p>

<p>
Using metavalues, we can simulate
programs running on abstract mathematical machines manipulating perfect mathematical objects.
Indeed, computing with metavalues
even allows us to simulate nonstandard models of computation
which cannot be realized on ideal Turing machines,
let alone on physical computers with limited resources.
For example, floating-point arithmetic can be viewed as
a method of using approximate metavalues
to simulate (imperfectly!) the operation of Blum-Shub-Smale machines (abstract machines capable
of storing exact real numbers in registers).
</p>

<h3 id="section2">Examples</h3>

<p>Here are some examples of abstractions, computational paradigms and specific
techniques that may be considered use of metavalues:</p>

<ul>

<li>
<b>Abstract interpretation</b> is a special
case of computing with metavalues.
In the terminology of abstract interpretation,
values are called <i>concrete values</i> and metavalues are called <i>abstract values</i>.
(This terminology assumes that concrete values are actually representable
and computable, whereas the view I'm taking here is that values are mathematical
abstractions while metavalues are concretely representable,
so the use of concrete/abstract is in some sense reversed.)
</li>

<li><b>Type inference</b>: the type of a value (or a typeclass of a value) is an example of a metavalue, and type inference is essentially abstract interpretation using types as the metavalues (abstract values).</li>

<li><b>Floating-point arithmetic</b> as a model of real arithmetic, with floating-point numbers
as metavalues approximating ideal real numbers.
More generally, any form of truncation or approximation can be seen as metavalue computation; this includes
truncated power series as an approximation of infinite
power series, Chebyshev series as a model of functions on $\mathbb{R}$ (see <a href="https://www.chebfun.org/">Chebfun</a>),
matrices as an approximation of infinite-dimensional linear operators, and so on.
</li>

<li>
<b>Word-size integers</b> as an approximate model of integers (or more generally, residue class rings as an approximation of various rings).
</li>

<li><b>Interval arithmetic</b> (as well as <b>ball arithmetic</b>) is a nonexact but rigorous model of real arithmetic, where real numbers
are represented by enclosing sets.
More generally, interval arithmetic can be generalized to computing enclosures for arbitrary sets of values
(this is closely related to abstract interpretation and type inference).</li>

<li><b>Symbolic computation</b> with free variables. A symbolic expression such as $3x+4y$ can be viewed as a metavalue representing the possible values
resulting from substituting specific values for $x$ and $y$, and if $x$ and $y$ are specified with constraints (for example, $0 \le x, y \le 1$), this can
be viewed as a kind of enclosure, which additionally allows tracking dependencies between the free variables.</li>

<li><b>Significance arithmetic</b> is an extension of floating-point arithmetic where each approximation carries an estimate of the error.</li>

<li><b>Fuzzy logic, fuzzy sets, fuzzy intervals</b> are generalizations of interval arithmetic that allow assigning varying probabilities
to different elements of the enclosing sets.</li>

<li><b>Conjectural results, and outright guessing</b>. Results computed using Monte Carlo algorithms or assuming unproved conjectures (such as the Riemann hypothesis)
can be considered metavalues; even when the output value is represented exactly, it implicitly carries with it some degree of uncertainty.</li>

<li><b>Results carrying proof certificates or software information</b>. More on this later.</li>

<li><b>Error values and exceptions</b> can in some cases be viewed as metavalues representing loss of information.</li>

</ul>

<p>
Most of these examples relate to …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://fredrikj.net/blog/2021/02/computing-with-metavalues/">https://fredrikj.net/blog/2021/02/computing-with-metavalues/</a></em></p>]]>
            </description>
            <link>https://fredrikj.net/blog/2021/02/computing-with-metavalues/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26257745</guid>
            <pubDate>Wed, 24 Feb 2021 23:40:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Fed should give everyone a bank account]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26257734">thread link</a>) | @amadeuspagel
<br/>
February 24, 2021 | https://www.slowboring.com/p/fed-accounts | <a href="https://web.archive.org/web/*/https://www.slowboring.com/p/fed-accounts">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>This is not especially newsy, but ever since I first heard of the idea a year ago I’ve been obsessed with universal Fed Accounts.</p><p>On the Federal Reserve’s website they have an FAQ which, among other things, debunks some kind of fraud which is based on saying that everyone can get a bank account with the Fed based on their Social Security number:</p><blockquote><p>A recent hoax circulating on the internet asserts that the Federal Reserve maintains accounts for individuals that are tied to the individual's Social Security number, and that individuals can access these accounts to pay bills and obtain money. These claims are&nbsp;false. The Federal Reserve does not maintain accounts for individuals, and individuals should not attempt to make payments using Federal Reserve Bank routing numbers or false routing numbers. Individuals who attempt to pay bills or conduct other transactions using a Federal Reserve Bank routing number may face penalty fees from the company they were attempting to pay, or the suspension or closure of their commercial bank or payment service provider accounts. Law enforcement, including the Federal Bureau of Investigation (FBI), is aware of this scheme, and individuals who participate in such schemes could also face criminal charges.</p></blockquote><p>So to be clear: It is not true that the Fed maintains basic checking accounts for all Americans that can be used to pay bills and obtain money, with the accounts numbered after your unique Social Security number. </p><p>But shouldn’t it be true? </p><p>Once upon a time, governments didn’t issue paper currency, and instead banknotes were printed privately by banks. But over time, we came to see this as a worthwhile public service. Paper money still exists, obviously, but for most people most of the time electronic transactions are the predominant form of currency. When we say “stimulus checks” we are mostly talking about direct deposits, not literal checks, and we are definitely not talking about envelopes full of $100 bills. </p><p>The Fed should provide everyone with access to electronic currency on an equitable basis by giving everyone a bank account. You can read a <a href="https://corpgov.law.harvard.edu/2018/06/22/a-public-option-for-bank-accounts-or-central-banking-for-all/">detailed treatment of the issue from Morgan Ricks, John Crawford, and Lev Menand</a> if you’d like, but honestly the basic idea is exactly the myth the Fed debunked. Everyone would have an account; everyone would be able to deposit checks or accept direct deposits into the account; everyone would be able to pay bills through the account; and you could use the Post Office to provide the retail branches of the system. </p><p>Commercial banks will obviously hate this idea.</p><p>But to be fair to them, I think the Fed accounts should pay no interest and offer no services beyond basic deposits, payments, and ATM withdrawals. The idea is to solve the social problem of the unbanked, not to get into the full panoply of financial services — because the benefits of universal banking are considerable, even if the accounts themselves don’t have any bells and whistles.</p><h4>Helping the unbanked</h4><p>In a direct sense, the big benefit here is that a universal banking initiative would help out the “unbanked” — <a href="https://www.fdic.gov/analysis/household-survey/2019execsum.pdf">people who don’t have bank accounts</a> — typically because they don’t have enough money to meet the minimum balance thresholds. This is only about 5% of households in the most recent data (which was from before the pandemic), but as you can see in the FDIC’s chart, this looks to be a somewhat cyclical phenomenon where people lose their bank accounts when the economy is bad.</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fd736b7dc-9895-47ea-bbe7-42962748d6d1_1370x896.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fd736b7dc-9895-47ea-bbe7-42962748d6d1_1370x896.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/d736b7dc-9895-47ea-bbe7-42962748d6d1_1370x896.png&quot;,&quot;height&quot;:896,&quot;width&quot;:1370,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:237997,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><p>Life as one of the unbanked is <a href="https://www.forbes.com/advisor/banking/costs-of-being-unbanked-or-underbanked/#:~:text=Using%20the%20FDIC's%20estimate%20that,in%20annual%20costs%20per%20person.">full of annoying fees</a> to check-cashing joints or providers of prepaid debit cards. </p><p>A public bank would do away with all that, which is good. </p><p>But the issue of the unbanked is, in some ways, bigger than it looks. </p><p>Oftentimes you might look at a scummy banking practice charging people huge overdraft fees instead of simply not processing excess payments and think to yourself “why doesn’t Congress just ban that?”</p><p>Well, bank lobbyists are part of the answer. But what the lobbyists will tell you is that administering checking accounts is not very lucrative. That’s why the minimum account balances that push people out of banking exist in the first place. The harder you make it to rip people off, the higher the minimum balance needs to be to make the business make sense. If that sounds shitty to you, well — it’s shitty! And public bank accounts are the solution. But the even broader benefit is that solving the problem of the unbanked will supersede the need to find other solutions for the problems of the unbanked.</p><h4>Toward a cashless tomorrow</h4><p>Back 10 years ago when cities were first setting up bikeshare systems, <a href="https://www.bloomberg.com/news/articles/2011-12-26/bike-sharing-for-the-unbanked">how to make them accessible to the unbanked</a> became a constant source of tension, because actually fixing the underlying problem of people not having bank accounts wasn’t on the table.</p><p>This comes up basically any time a progressive jurisdiction wants to roll out something new that involves paying fees — you can’t just ignore the unbanked minority, so you need a complicated workaround. </p><p>And it’s now spreading to the private sector. Philadelphia was the first city to <a href="https://www.inquirer.com/business/cashless-ban-philadelphia-stores-sweetgreen-bluestone-lane-20191004.html">ban cashless stores</a> back in 2019, and <a href="https://www.cityandstateny.com/articles/policy/technology/cashless-ban-highlights-new-yorks-unbanked-problem.html">New York City did it last year</a>. D.C.’s cashless ban is so new I didn’t even <a href="https://dcist.com/story/20/12/02/cashless-businesses-ban-dc-council/">realize it had passed</a>, but after a unanimous D.C. Council vote in December, it will be taking effect soon.  </p><p>The cost of these kinds of bans can be sneakily high precisely because cashless retail is so rare. You’re not taking away anything that most businesses are actually familiar with, so opposition is muted and the consequences are hidden. But cashlessness seems like a promising idea for a world where the vast majority of the customer base can pay electronically over your smartphone. Most immediately, you don’t need to worry about theft or handling of cash. The checkout line moves faster. </p><p>Down the road, though, cashlessness lets you try to reimagine the entire flow of the business to raise productivity. Maybe your coffee place or fast-casual lunch spot doesn’t need cashiers at all — ordering is just done on your phone and then you pick it up. Most companies probably aren’t interested in rethinking their whole operation along those lines right now. But if we do the right thing on fiscal and monetary policy, get full employment and see wages start rising, then increasing your productivity with a combination of new technology and new business processes will be huge. But not if we make it standard to legally require the use of legacy payment methods.</p><p>On the other hand, I sincerely sympathize with what these cities are trying to accomplish. If I were on the D.C. Council, I might’ve voted for the cashless ban. My point is just that requiring cash is not a real solution to this problem — what we need to do is give everyone bank accounts. It’s a fairness issue, but it’s also an infrastructure and innovation issue. Creating a uniform, reliable, national currency was a huge step forward in its day. But people want cards and electronic transactions. Making the private sector the sole provider of those services is holding the whole country back, even though most people have them. </p><p>Meanwhile, Fed accounts could be the basis for further public sector innovation.</p><h4>“Checks” for everyone</h4><p>One of the great policy innovations of the Trump years was the idea of the government sending out flat stimulus checks that, though not truly universal, did go to the vast majority of the population, phasing out only for the affluent. </p><p>These checks had two big upsides. One is that they seemed genuinely very popular, curing the problem that bedeviled us in the 2009-13 period when it seemed hard to get a political consensus on how to stimulate. The other is that they hit the pockets of greatest need — nobody was excluded on the basis of spotty work history or anything like that. </p><p>The problem with this sort of loosely targeted approach is you get very little bang for your buck. Plenty of money went to people who were just employed continuously throughout the pandemic and who, while surely glad to have some extra money, were not in any particular distress. Aggregate statistics show that caught between extra cash from the Treasury and health warnings from the CDC, these people mostly just built up a savings cushion or paid down old credit card debt. There’s nothing wrong with that, but to the extent that your concern is only with stimulating the economy, it’s better to spend the money in more targeted ways. But targeted spending inevitably becomes politically controversial because it creates some winners and some losers. It’s much more tractable to give the money to everyone, even if that involves more spending than is strictly necessary. </p><p>As far as I’m concerned, the solution is obvious — do completely untargeted checks, and just make them really big. In effect, you’d be taking debt off of private balance sheets and putting it on the public sector, which has an easier time bearing it. </p><p>But just accumulating public sector debt willy-nilly frightens a lot of people. Even when interest rates are super-duper-low, you can always worry that they might rise in the future, creating rollover risk. </p><p>I think reasonable people can disagree as to how much sense it makes to worry about that versus how much debt stock is a purely political problem. But Fed Accounts solve the problem. If Congress wants to make $2,000 materialize in everyone’s account, they can just pass a law that makes that happen. The money doesn’t have to “come from” anywhere or add to the debt stock. And rather than doing it through one-off appropriations, Congress could <a href="https://www.stitcher.com/show/voxs-the-weeds/episode/fix-recessions-by-giving-people-money-66991306">follow Claudia Sahm’s suggestion and make disbursements automatic</a> based on labor market conditions. Alternatively, if Congress doesn’t feel like taking responsibility for making policy choices, they could give the Fed’s Open Market Committee (the people who make monetary policy decisions) the authority to make drops into everyone’s Fed account as a stabilization tool. </p><p>Now to be clear, just because you can print unlimited sums of money …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.slowboring.com/p/fed-accounts">https://www.slowboring.com/p/fed-accounts</a></em></p>]]>
            </description>
            <link>https://www.slowboring.com/p/fed-accounts</link>
            <guid isPermaLink="false">hacker-news-small-sites-26257734</guid>
            <pubDate>Wed, 24 Feb 2021 23:40:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using Betas to Deploy New Features Safely]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26257184">thread link</a>) | @PretzelFisch
<br/>
February 24, 2021 | https://shopify.engineering/using-betas-to-deploy-new-features-safely | <a href="https://web.archive.org/web/*/https://shopify.engineering/using-betas-to-deploy-new-features-safely">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
  <div><p>In the software industry, changing a running system is dangerous. As the saying goes, “If it ain’t broke, don’t fix it.” Unfortunately, even if code were perfect, progress marches ever forward, and new features are continually being added. One of the worst feelings for a developer is learning that something you just shipped has caused an issue, or even worse, an incident.</p><p>For companies like Shopify that practice continuous deployment, our code is changing multiple times every day. We have to de-risk new features to ship safely and confidently without impacting the million+ merchants using our platform.</p><p>Beta flags are one approach to feature development that gives us a number of notable advantages, among them:</p></div>
<ul>
<li>Reduce blast radius of changes–if they happen not to go as planned–by rolling out the beta to a percentage of the subject group.</li>
<li>Instantaneously choose when the change is active in production. Without beta flags, changes would be active at the time of deployment.</li>
<li>Instantaneously rollback the feature.</li>
<li>Ship new code paths, typically inactive, but allow devs to test these code paths in production.</li>
</ul>
<h2>Anatomy of a Beta Flag</h2>
<div><p>The word “beta” is a bit overloaded in the software industry, being used even to refer to launched products. We’ll define some primitives for clarity.</p><p><strong>Subject</strong>: A concept that you want to define a control plane against. For multi-tenant SAAS applications, this is typically the model corresponding to your tenant. For Shopify, this is typically our concept of a shop. While designing, consider a polymorphic approach so you can implement betas against multiple types of things.</p><p><strong>BetaIdentifier</strong>: This is often a simple string that represents the feature you are developing. For example, “multi_location.” Keep in mind that if you use a string instead of an auto-incrementing integer, you should be wary of case-sensitivity and of accidentally re-using this same string in the future. Metadata can be associated with this and should be considered for internal documentation/tooling purposes. For example, a high-level description of the feature, a list of chat channels requiring notification about this feature’s rollout, a list of owners, descriptions of the behavior when this feature is enabled or disabled, etc.</p><p><strong>BetaFlag</strong>: At the lowest level, this is a small piece of data associated with a Subject. This can be implemented as a “Subject <code>has_many</code> BetaFlag” relationship. Inside the BetaFlag, we have a BetaIdentifier and typically some <code>created_at/updated_at</code> timestamps.</p><p>For a given BetaFlag, we can:</p></div>
<ul>
<li>Check if an instance of Subject has this BetaIdentifier? If so, the feature is turned on for the Subject.</li>
<li>Grab a list of all Subjects with this BetaIdentifier.</li>
</ul>
<p>This check allows us explicit per-Subject feature toggling.</p>
<p><strong>BetaRollout</strong>: This is data that lives unrelated to any one particular Subject. Inside BetaRollout, we have:</p>
<ul>
<li>
<strong>beta_name</strong>: a BetaIdentifier, so we can know which concept we’re dealing with.</li>
<li>
<strong>percentage_rollout</strong>: an integer (0..100) reflecting which percentage of Subject you wish to enable the BetaFlag for.</li>
<li>A&nbsp;method to calculate whether to consider a Subject as “rolled out”.</li>
</ul>
<div><p>For a given BetaRollout, we can ask, “Does an instance of Subject have this BetaIdentifier?” If so, the feature is turned on for the Subject.</p><p>If the BetaRollout record does not exist, we will assume that the feature is turned off.</p><p>Here’s an example of a performant way to implement the <code>BetaRollout#enabled?</code> method:</p></div>
<div>
<p>
By calculating a digest of the two identifiers and converting it into an integer modulo 100, we ensure that each percentage rollout will hit a different set of Subjects as the % increases. This means that a different subset of Subjects is affected every time for every beta rollout we do. Why does this matter? This prevents potential negative effects that occur due to rollouts from affecting the same subset of subjects consistently.</p><p>This implementation also has a nice invariant: As the percentage increases (For example, from 0% to 11%, then 11% to 20%, etc.), the previous set of Subjects that saw the feature is still seeing the feature. The digest modulo 100 remains static even as the rollout_percentage changes. This is key to ensuring a nice user experience because it would be frustrating to experience a feature appearing and disappearing (seemingly randomly) as the rollout percentage increases.</p><p>The ultimate effect is that every BetaRollout has a uniquely consistent growing set of Subjects experiencing the feature in the journey from 0% to 100% (or from <em>X</em>% to 0%).</p></div>
<h2>Bundling These Concepts</h2>
<p>Once we define a BetaIdentifier, we can do the following things:</p>
<ul>
<li>Apply the new feature to a particular Subject by creating and associating a new record of BetaFlag to the Subject.</li>
<li>Roll out the feature to <em>X</em>% of Subjects by creating a BetaRollout and setting it to a particular % value.</li>
</ul>
<p>These two separate concepts are related to the BetaIdentifier. The question about whether or not a new feature is enabled then looks something like this for a given Subject:</p>

<div><p>In English, this equates to “Does the subject have the flag explicitly (via BetaFlag) or implicitly (via BetaRollout)?” It’s helpful to define this in some fashion, so we’ll call this unified view the <strong>Beta</strong>.</p><p>What happens when we want to revert the beta flag? Perhaps the feature is bugged. There are two cases to consider:</p></div>
<ul>
<li>The flag was rolled out using the % mechanism only.</li>
<li>The flag was rolled out by manually applying the flag to specific instances of the Subject.</li>
</ul>
<div><p>When the flag is rolled out using the % mechanism only, the rollback process is extremely straightforward: change the % rollout value of the BetaRollout to `0`. Note that anyone with the explicit application of the flag will still see the feature.</p><p>When the flag is rolled out to potentially thousands of Subjects by direct application, we find ourselves in a more challenging situation. We have an ongoing incident and thousands of records in the DB that we can’t quickly remove. In the best case, we have to write a maintenance task to alter the database for these thousands of Subjects. In the absolute worst case, it’s just not possible!</p><p>It would’ve been tempting to refer to the Beta concept directly throughout our code because it seems to give us all the flexibility we want. However, we’ve just discovered a case where we can’t easily rollback. How do we proceed?</p></div>
<h2>Taking Things a Step Further</h2>
<p>Instead of having all of our code refer to a Beta directly, we should be writing an abstraction a layer higher. In our hypothetical situation, we can imagine something called a “Feature” that is defined like:</p>

<p>With another layer above the primitives like this, we’ve just introduced flexibility for developers to:</p>
<ul>
<li>Apply a feature directly to a specific Subject (or thousands of them).<br>For example: Adding a feature to a production Subject for testing or for a particularly unique rollout that cannot be %-based.</li>
<li>Apply this feature to a random %-based sampling of all other Subjects.<br>For example: A typical rollout of a feature might encompass slowly rolling out to an ever-increasing population of Subjects</li>
<li>Apply an escape hatch for specific Subjects that encounter problems with the feature by applying the my-cool-new-feature-opt-out flag directly to the Subject.<br>For example: Some bugs encountered might not be severe enough to roll back the rollout for all Subjects, but we want to allow a specific Subject to disable the feature</li>
<li>Apply a kill switch for all Subjects by rolling out the my-cool-new-feature-opt-out flag to 100%.<br>For example: A Beta has been applied to thousands of Subject but can’t easily be removed, but we need to halt the feature immediately</li>
</ul>
<div><p>If we imagine a runaway train of an incident caused by rolling out your feature, we see that we should hopefully be able to instantly resolve it by applying the kill switch! Power, safety, speed.</p><p>Often, beta features might start with some simple qualifications. Invariably, they often evolve to become something more like:</p></div>

<p>Using a higher-level abstraction makes room for the feature to easily change qualification as the business demands change. In our experience, even things that seem like simple Yes|No Beta flags often evolve to have other requirements. This is all to say that you should consider avoiding referring to the lower level primitives directly. It’s easier to change one method than dozens of interspersed <code>Beta.enabled?(...)</code> invocations. This generalizes nicely to exposure over an API: If the feature evolves, but <em>N</em> clients are still referring directly to the primitives, we can’t necessarily update all of them simultaneously without the higher-level abstraction being exposed.</p>
<h2>Some Things to Keep in Mind</h2>
<p>This is just one path to developing new features safely and efficiently that we’ve found to be highly effective at Shopify. The formulations we developed here are informative, and your implementation will surely differ.</p>
<h3>Data Structure Differences and Reconciliation</h3>
<div><p>If code path A generates data incompatible with code path B, you will likely have problems when you roll back unless you have preemptively considered the rollback experience upfront. Always consider what happens when you switch paths.</p><p>This beta pattern optimizes the ability to change code paths in production quickly, but the lingering data can often be forgotten.</p></div>
<h3>Not all Features Can be Developed Sanely in this Manner</h3>
<p>Similar to the previous point, some features have impacts on your underlying data model. Even if we considered migrating between the two code paths, you might encounter a feature where rolling back leaves things in a worse or nonsensical state. Some things simply don’t make sense to have the ability to be rolled back. Some features are better developed iteratively rather than switched on all at once.</p>
<h3>Not all Features Can be Rolled Back Without a User Disruption</h3>
<div><p>Imagining a new feature: once a user has come to depend on it, it may be impossible to roll back without leaving the user confused. Imagine introducing a new business concept that wasn’t fully …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://shopify.engineering/using-betas-to-deploy-new-features-safely">https://shopify.engineering/using-betas-to-deploy-new-features-safely</a></em></p>]]>
            </description>
            <link>https://shopify.engineering/using-betas-to-deploy-new-features-safely</link>
            <guid isPermaLink="false">hacker-news-small-sites-26257184</guid>
            <pubDate>Wed, 24 Feb 2021 22:44:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cryptography Interface Design Is a Security Concern]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26257151">thread link</a>) | @todsacerdoti
<br/>
February 24, 2021 | https://soatok.blog/2021/02/24/cryptography-interface-design-is-a-security-concern/ | <a href="https://web.archive.org/web/*/https://soatok.blog/2021/02/24/cryptography-interface-design-is-a-security-concern/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		<div>

			
<p>Cryptographers and cryptography engineers love to talk about the latest attacks and how to mitigate them. <a href="https://soatok.blog/2020/05/26/learning-from-ladderleak-is-ecdsa-broken/">LadderLeak</a> breaks ECDSA with less than 1 bit of nonce leakage? <a href="https://raccoon-attack.com/">Raccoon attack</a> brings the Hidden Number attack to finite field Diffie-Hellman in TLS?</p>



<p>And while this sort of research is important and <em>fun</em>, most software developers have much bigger problems to contend with, when it comes to the cryptographic security of their products and services.</p>



<p>So let’s start by talking about Java cryptography.</p>







<h2 id="java">Cryptography in Java</h2>



<p>In Java, the way you’re supposed to encrypt data using symmetric cryptography is with the <code>javax.crypto.Cipher</code> class. So to encrypt with AES-GCM, you’d call <code>Cipher.getInstance("AES/GCM/NoPadding")</code> and use the resulting object to process your data. <code>javax.crypto.Cipher</code> can be used for a lot of ill-advised modes (including ECB mode) and ciphers (including DES).</p>



<p>Can you guess what class you’d use to encrypt data with RSA in Java?</p>



<figure><p><span><iframe width="580" height="327" src="https://www.youtube.com/embed/9nSQs0Gr9FA?version=3&amp;rel=1&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;fs=1&amp;hl=en&amp;autohide=2&amp;wmode=transparent" allowfullscreen="true" sandbox="allow-scripts allow-same-origin allow-popups allow-presentation"></iframe></span>
</p><figcaption>The square hole is javax.crypto.Cipher.</figcaption></figure>



<p>That’s right! RSA goes in the <code>Cipher.getInstance("RSA/ECB/OAEPWithSHA-256AndMGF1Padding")</code> hole.</p>



<p>(Or, more likely, <code>Cipher.getInstance("RSA/ECB/PKCS1Padding")</code>, which is <em><a href="https://robotattack.org/">not great</a></em>.)</p>







<p>Also, as a reminder: <a href="https://soatok.blog/2021/01/20/please-stop-encrypting-with-rsa-directly/">You don’t want to encrypt data with RSA directly</a>. You want to encrypt <em>symmetric keys</em> with RSA, and then encrypt your actual data with those symmetric keys. Preferably using <a href="https://neilmadden.blog/2021/01/22/hybrid-encryption-and-the-kem-dem-paradigm/">a KEM+DEM paradigm</a>.</p>



<p>Fun anecdote: The naming of <code>RSA/ECB/$padding</code> is misleading because it doesn’t actually implement a sort of ECB mode. However, a few projects over the years missed that memo and decided to implement RSA-ECB so they could be “compatible” with what they thought Java did. That is: They broke long messages into equal sized chunks (237 bytes for 2048-bit RSA), encrypted them independently, and then concatenated the ciphertexts together.</p>



<p>But it doesn’t end there. <a href="https://soatok.blog/2020/05/13/why-aes-gcm-sucks/">AES-GCM</a> explodes brilliantly if you ever reuse a nonce. Naturally, the <code>Cipher</code> class <a href="https://docs.oracle.com/javase/7/docs/api/javax/crypto/Cipher.html">shifts all of this burden onto the unwitting developer that calls it</a>, which results in a regurgitated mess that looks like this (from the Java documentation):</p>


<pre title=""> GCMParameterSpec s = ...;
 cipher.init(..., s);

 // If the GCM parameters were generated by the provider, it can
 // be retrieved by:
 // cipher.getParameters().getParameterSpec(GCMParameterSpec.class);

 cipher.updateAAD(...);  // AAD
 cipher.update(...);     // Multi-part update
 cipher.doFinal(...);    // conclusion of operation

 // Use a different IV value for every encryption
 byte[] newIv = ...;
 s = new GCMParameterSpec(s.getTLen(), newIv);
 cipher.init(..., s);
 ...
</pre>


<p>If you fail to perform this kata perfectly, you’ll introduce a nonce reuse vulnerability into your application.</p>



<p>And if you look a little deeper, you’ll <em>also</em> learn that <a href="https://github.com/openjdk/jdk/blob/a50725db2ab621e1a17cb5505f78e4bc73972a27/src/java.base/share/classes/com/sun/crypto/provider/AESCrypt.java">their software implementation of AES</a> (which is used in any platform without hardware AES available–such as Android on older hardware) isn’t <a href="https://www.bearssl.org/constanttime.html#bitslicing">hardened against cache-timing attacks</a>… although <a href="https://github.com/openjdk/jdk/blob/a50725db2ab621e1a17cb5505f78e4bc73972a27/src/java.base/share/classes/com/sun/crypto/provider/GHASH.java#L69-L126">their GHASH implementation <em>is</em></a> (which implies cache-timing attacks are within their threat model). But that’s an implementation problem, not a design problem.</p>



<p>Kludgey, hard-to-use, easy-to-misuse. It doesn’t have to be this way.</p>



<div><figure><img data-attachment-id="2811" data-permalink="https://soatok.blog/cryptography-interfaces/" data-orig-file="https://soatok.files.wordpress.com/2021/02/cryptography-interfaces.jpg" data-orig-size="500,559" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="cryptography-interfaces" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2021/02/cryptography-interfaces.jpg?w=268" data-large-file="https://soatok.files.wordpress.com/2021/02/cryptography-interfaces.jpg?w=500" src="https://soatok.files.wordpress.com/2021/02/cryptography-interfaces.jpg?w=500" alt="" srcset="https://soatok.files.wordpress.com/2021/02/cryptography-interfaces.jpg 500w, https://soatok.files.wordpress.com/2021/02/cryptography-interfaces.jpg?w=134 134w, https://soatok.files.wordpress.com/2021/02/cryptography-interfaces.jpg?w=268 268w" sizes="(max-width: 500px) 100vw, 500px"></figure></div>



<h2 id="php-does-it-better">Learning From PHP</h2>



<p>In 2015, when PHP 7 was being discussed on their mailing list, someone had the brilliant idea of creating a simple, cross-platform, extension-independent interface for getting random bytes and integers.</p>



<p>This effort would become <code>random_bytes()</code> and <code>random_int()</code> in PHP 7. (If you want to see how messy things were before PHP 7, take a look at <a href="https://github.com/paragonie/random_compat/blob/master/lib/random.php">the appropriate polyfill library</a>.)</p>



<p>However, the initial design for this feature sucked really badly. Imagine the following code snippet:</p>


<pre title="">function makePassword(int $length = 20): string
{
    $password = '';
    for ($i = 0; $i &lt; $length; ++$i) {
        $password .= chr(random_int(33, 124));
    }
    return $password;
}
</pre>


<p>If your operating system’s random number generator failed (e.g. you’re in a chroot and cannot access <code>/dev/urandom</code>), then the <code>random_int()</code> call would have returned <code>false</code>.</p>



<p>Because of type shenanigans in earlier versions of PHP, <code>chr(false)</code> returns a NUL byte. (This is <a href="https://3v4l.org/k3Sb3">fixed since 7.4</a> when strict_types is enabled, but the latest version at the time was PHP 5.6.)</p>



<p>After a heated debate on both the Github issue tracker for PHP and the internal mailing lists, the PHP project <a href="https://www.sammyk.me/security-changes-to-the-php-7-csprng-in-rc3">did the right thing</a>: It will throw an Exception if it cannot safely generate random data.</p>



<p>Exceptions are developer-friendly: If you do not catch the exception, it kills the script immediately. If you decide to catch them, you can handle them in whatever graceful way you prefer. (Pretty error pages are often better than a white page and HTTP 500 status code, after all.)</p>







<p>In version 7.2 of the PHP programming language, they also made another win: <a href="https://libsodium.gitbook.io/doc/bindings_for_other_languages">Libsodium</a> was promoted as part of <a href="https://wiki.php.net/rfc/libsodium">the PHP standard library</a>.</p>



<p>However, this feature isn’t as good as it could be: It’s easy to mix up inputs to the libsodium API since it expects <code>string</code> arguments instead of dedicated types (<code>X25519SecretKey</code> vs <code>X25519PublicKey</code>). To address this, the open source community has provided <a href="https://dholecrypto.com/">PHP libraries that avoid this mistake</a>.</p>



<p>(I bet you weren’t expecting to hear that PHP is doing better with cryptography than Java in 2021, but here we are!)</p>







<h2>Towards Usable Cryptography Interfaces</h2>



<p>How can we do better? At a minimum, we need to internalize Avi Douglen’s rule of usable security.</p>



<blockquote><p>Security at the expense of usability comes at the expense of security.</p><cite><a href="https://security.stackexchange.com/a/6116">AviD</a></cite></blockquote>



<p>I’d like to propose a set of tenets that cryptography libraries can use to self-evaluate the usability of their own designs and implementations. Keep in mind that these are tenets, not a checklist, so the spirit of the law means more than the literal narrowly-scoped interpretation.</p>



<h3>1. Follow the Principle of Least Astonishment</h3>



<p>Cryptography code should be boring, <a href="https://wiki.c2.com/?PrincipleOfLeastAstonishment">never astonishing</a>. </p>



<p>For example: If you’re comparing cryptographic outputs, it should always be done in constant-time–even if timing leaks do not help attackers (i.e. in password hashing validation).</p>



<h3>2. Provide High-Level Abstractions</h3>



<p>For example: <a href="https://libsodium.gitbook.io/doc/public-key_cryptography/sealed_boxes">Sealed boxes</a>.</p>



<p>Most developers don’t need to fiddle with RSA and AES to construct their own hybrid public-key encryption designs (as you’d need to with Java). What they really need is a simple way to say, “Encrypt this so that only the recipient can decrypt it, but not the sender.”</p>



<p>This requires talking to your users and figuring out what their needs are instead of just assuming you know best.</p>



<h3>3. Logically Separate Algorithm Categories</h3>



<p>Put simply: Asymmetric cryptography belongs in a different API than symmetric cryptography. A similar separation should probably exist for specialized algorithms (e.g. multi-party computation and Shamir Secret Sharing).</p>



<p>Java may have got this one horribly wrong, but they’re not alone. The JWE specification (<a href="https://tools.ietf.org/html/rfc7518#page-2">RFC 7518</a>) also allows you to encrypt keys with:</p>



<ul><li>RSA with PKCS#1 v1.5 padding (asymmetric encryption)</li><li>RSA with OAEP padding (asymmetric encryption)</li><li>ECDH (asymmetric key agreement)</li><li>AES-GCM (<strong>symmetric</strong> encryption)</li></ul>



<p>If your users aren’t using a high-level abstraction, at least give them separate APIs for different algorithm types. If nothing else, it saves your users from having to ever type <code>RSA/ECB</code> again.</p>



<p>N.b. this means we should also collectively stop using the simple <code>sign</code> and <code>verify</code> verbs for Symmetric Authentication (i.e. HMAC) when these verbs imply digital signature algorithms (which are inherently asymmetric). Qualified verbs (<code>verify</code> –&gt; <code>sign_verify</code>, <code>mac_verify</code>) are okay here.</p>



<h3>4. Use Type-Safe Interfaces</h3>



<p>If you allow any arbitrary string or byte array to be passed as the key, IV, etc. in your cryptography library, someone will misuse it.</p>



<p>Instead, you should have dedicated {structs, classes, types} (select appropriate) for each different kind of cryptography key your library expects. These keys should also provide guarantees about their contents (i.e. an Aes256GcmKey is always 32 bytes).</p>



<h3>5. Defaults Matter</h3>



<p>If you instantiate a new SymmetricCipher class, its default state should be an authenticated mode; <em>never ECB</em>.</p>



<p>The default settings are the ones that 80% of real world users should be using, if not a higher percentage.</p>



<h3>6. Reduce Cognitive Load</h3>



<p>If you’re encrypting data, why should your users <em>even need to know what a nonce is</em> to use it safely?</p>



<p>You MAY allow an explicit nonce if it makes sense for their application, but if they don’t provide one, generate a random nonce and handle it for them.</p>



<p>Aside: There’s an argument that we should have a standard for <a href="https://github.com/BLAKE3-team/BLAKE3/issues/138">committing, deterministic authenticated encryption</a>. If you need non-determinism, stick a random 256-bit nonce in the AAD and you get that property too. I liked to call this combination AHEAD (Authenticated Hedged Encryption with Associated Data), in the same vein as <a href="https://soatok.blog/2020/05/03/hedged-signatures-with-libsodium-using-dhole/">Hedged Signatures</a>.</p>



<p>The less choices a user has to make to get their code working correctly, the less likely they’ll accidentally introduce a subtle flaw that makes their application hideously insecure.</p>



<h3>7. Don’t Fail at Failure</h3>



<p>If what you’re doing is sensitive to error oracles (e.g. padding), you have to be very careful about how you fail.</p>



<p>For example: RSA decryption with PKCS#1v1.5 padding. Doing a constant-time swap between the actual plaintext and some random throwaway value so the decryption error can result from the symmetric decryption is better than aborting.</p>



<p>Conversely, if you’re depending on a component to generate randomness for you and it fails, it shouldn’t fail silently and return bad data.</p>



<p>Security is largely about understanding how systems fail, so there’s no one-size-fits-all answer for this. However, the exact failure mechanism for a cryptographic feature should be decided very thoughtfully.</p>



<h3>8. Minimize Runtime Negotiation</h3>



<p>This is more of a concern for applications than libraries, but it bears …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://soatok.blog/2021/02/24/cryptography-interface-design-is-a-security-concern/">https://soatok.blog/2021/02/24/cryptography-interface-design-is-a-security-concern/</a></em></p>]]>
            </description>
            <link>https://soatok.blog/2021/02/24/cryptography-interface-design-is-a-security-concern/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26257151</guid>
            <pubDate>Wed, 24 Feb 2021 22:41:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Green Honey]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26256792">thread link</a>) | @rbanffy
<br/>
February 24, 2021 | http://muyueh.com/greenhoney/ | <a href="https://web.archive.org/web/*/http://muyueh.com/greenhoney/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://muyueh.com/greenhoney/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26256792</guid>
            <pubDate>Wed, 24 Feb 2021 22:13:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Horcrux, a Playground for Shamir Secret Sharing]]>
            </title>
            <description>
<![CDATA[
Score 124 | Comments 30 (<a href="https://news.ycombinator.com/item?id=26256726">thread link</a>) | @franky47
<br/>
February 24, 2021 | https://francoisbest.com/horcrux | <a href="https://web.archive.org/web/*/https://francoisbest.com/horcrux">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>ðŸ““ ðŸ’� ðŸ“¿ ðŸ‘‘ ðŸ�† ðŸ�� âš¡</p><div role="alert"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg><div><p>Split and recompose secrets with</p><!-- --> <p><a target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Shamir%27s_Secret_Sharing">Shamir Secret Sharing</a>.</p></div></div><section><h2 id="split">Split<a aria-label="anchor" href="#split">#</a></h2><div role="group"><p><label id="field-undefined-label" for="field-undefined">Enter your secret:</label></p><div id="field-undefined-helptext"><p>It will not be stored or sent anywhere:</p><!-- --> <p><a target="_blank" rel="noopener noreferrer" href="https://github.com/franky47/francoisbest.com/tree/next/src/components/horcrux/split.tsx">check the source code</a>.</p></div></div><div><div role="group"><p><label id="field-undefined-label" for="field-undefined">Number of shards</label></p><div value="2"></div><p>to split the secret into</p></div><div role="group"><p><label id="field-undefined-label" for="field-undefined">Number needed</label></p><div value="2"></div><p>to recompose the secret</p></div><div role="group"><p><label id="field-undefined-label" for="field-undefined">Output encoding</label></p><div role="radiogroup"><p><label><p>Base 64</p></label><label><p>Hexadecimal</p></label></p></div></div></div><hr role="separator" aria-orientation="horizontal"><h2>Horcrux Shards</h2><p><b>Individually</b>, these can be shared safely. Only <b>united</b> <!-- -->can they reveal their secret.</p><div><div><pre><p>Shard <!-- -->1</p>EBmPg_DDIZm6LGbhj02obgICACEBZDdDxR97m5MdfHNPHug-o6ApxmPjHBTLIxIenP_VP9I=</pre><pre><p>Shard <!-- -->2</p>EBmPg_DDIZm6LGbhj02obgICACEC9qXRV43pCQGP7uHdjHqsMTK7VPFxjoZZsYCMDm1HrUA=</pre></div></div></section><section><h2 id="recompose">Recompose<a aria-label="anchor" href="#recompose">#</a></h2><h3>Your secret:</h3><pre></pre><div><div><p><label id="field-undefined-label" for="field-undefined">Shard <!-- -->1</label></p><p><label id="field-undefined-label" for="field-undefined">Shard <!-- -->2</label></p></div></div></section></div></div>]]>
            </description>
            <link>https://francoisbest.com/horcrux</link>
            <guid isPermaLink="false">hacker-news-small-sites-26256726</guid>
            <pubDate>Wed, 24 Feb 2021 22:07:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Surviving an Execution]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26256465">thread link</a>) | @magnifique
<br/>
February 24, 2021 | https://legalhistorymiscellany.com/2021/02/05/surviving-an-execution-in-medieval-england-and-modern-ohio-miracle-or-incompetence/ | <a href="https://web.archive.org/web/*/https://legalhistorymiscellany.com/2021/02/05/surviving-an-execution-in-medieval-england-and-modern-ohio-miracle-or-incompetence/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p><em><span>Posted by Sara M. Butler; 5 February 2021.</span></em></p>



<p>In Ohio, Governor DeWine’s landmark 8 December 2020 press conference has left the future of felony execution in the state up in the air. The indefinite delay in capital punishment announced back in 2018 has turned into what DeWine is referring to as a “de facto moratorium,” as he instructs lawmakers to find some method of execution other than lethal injection. Since 2015, Ohio, like twenty-eight other American states where the death penalty remains on the books, has been struggling to find an American pharmaceutical company willing to supply sodium thiopental. A nation-wide shortage of the drug springs from the reluctance of drug companies to be openly associated with the death penalty. Past boycotts of their products across Europe have demonstrated that it is bad for business.&nbsp;</p>



<p>Those of us who are residents of Ohio, and not supporters of the death penalty, are heaving a sigh of relief. Ohio, in particular, has a gruesome history of botched executions by lethal injection. Sentenced to death for the aggravated murder of his cellmate, Christopher Newman was set to be executed 24 May 2007. It took them so long to find a viable artery, that he was permitted a bathroom break. In all, it took ten attempts and two hours to complete the mission.</p>



<p>Two years later, after eighteen failed attempts to insert an IV into the veins of Romell Broom, he was granted a reprieve. The pandemic forced a delay of his second scheduled execution to 2022, however, Broom passed away of natural causes 28 December 2020.</p>



<p>The most disturbing example of a botched execution took place in 2014. Dennis McGuire was subjected to a new combination of drugs, midazolam (a sedative) alongside the pain medication hydromorphone. Medical authorities warned the state that the combination might cause death by suffocation. Much to the sheer horror of those assembled at the Southern Ohio Correctional Facility, during 10 to 13 of the 24 minutes it took him to die, he gasped for air. Columbus <em>Dispatch</em> reported Alan Johnson stated: “He gasped deeply. It was kind of a rattling, guttural sound. There was kind of a snorting through his nose. A couple of times, he definitely appeared to be choking.”<a href="#_edn1">[1]</a></p>



<p>Finally, on 15 November 2017, executioners gave up after spending an hour trying to find a viable vein for Alva Earl Campbell, Jr. The state rescheduled his execution for 15 June 2019, although he passed away from natural causes in March of 2018.</p>



<p>With such an appalling track record, it does indeed seem as if it is time to abandon lethal injection! What was once touted as a humane and painless procedure has proven to be neither in these instances. Of course, as a medievalist and living in a highly religious state, I keep wondering: does no one see the hand of God in all of this?</p>



<p>If I learned anything from Robert Bartlett’s <em><a href="https://www.amazon.com/Hanged-Man-Miracle-Memory-Colonialism/dp/0691126046">The Hanged Man: A Story of Miracle, Memory, and Colonialism in the Middle Ages</a> </em>(Princeton, 2004), it is that when a convicted felon survives execution, it is a miracle. <em>The Hanged Man</em> tells the story of William Cragh, a Welsh rebel, hanged outside Swansea in 1290. After his body was removed from the gallows and carted to the local church for burial, he began to show signs of life. Lady Mary de Briouze – wife of the very man who sentenced Cragh to death – declared that divine intervention brought Cragh back to life, thanks in part to her heartfelt prayers for intercession to Thomas of Cantilupé, soon to be saint, whose canonization trial provides the evidence for Bartlett’s book. William Langland’s <em>Piers Plowman</em> confirms that this interpretation of a failed execution was not simply an obscure Welsh custom. The author writes: “It is noghte used on erthe to hangen a feloun / Ofter than ones” (<em>It is not used on Earth to hang a felon more than once)</em>. Piers Plowman, B text, 18:380-81.</p>



<p>Equipped with this knowledge, I was then astonished when I stumbled across the execution of Adam Trop, a felon hanged at Dublin in 1363, recorded in the patent rolls, whose botched execution was most definitely not interpreted as a miracle. On the assumption that he was dead, his body was thrown down from the gallows and carried to the church on a bier by a group of his friends and family. It was too dark to bury him at that point, so they left his body inside the church and planned to return the following morning to bury him in the churchyard. During the night, Adam revived. While Adam may have considered his own recovery a miracle, he did not wait around to make sure the local authorities agreed. Instead, he escaped by breaking down the doors of the church and fleeing on foot. He made the right decision. The sheriff also saw nothing miraculous in an escaped felon: he tracked Adam down to county Kildare, dragged him back to the gallows in Dublin where he hanged him for a second time, this time successfully. Neither did the king see a miracle in this failed execution: he fined the citizens and burgesses of Dublin 100 shillings for the escape, although he was eventually convinced to pardon them the exorbitant fine.<a href="#_edn2">[2]</a></p>



<p>Indeed, digging deeper into the calendars of patent and close rolls, I came across another twenty-three cases, dating to the years 1234-1381, of “hanged men” (and women) who rose from the dead, and only six of them were recognized as miracles.<a href="#_edn3">[3]</a> More often than not, these botched executions were seen instead as we would see them today: an intolerable product of human error.</p>



<p>The crown’s more usual approach was to punish those whose incompetence made the authorities look inadequate. For example, in 1280, when the knights of the Hospital of St John of Jerusalem prepared to bury hanged man John of Ellingstring in the churchyard of St James, York, they discovered the corpse was still in fact breathing. While the king saw fit to pardon the felon, he was not prepared to turn a blind eye to incompetence: he fined the townships of Ellington, Ellingstring, Fearby, and Witton 12 marks for John’s escape.<a href="#_edn4">[4]</a></p>



<p>Similarly, the failed execution of Walter Eghe in 1285 prompted the City of Norwich to stage an inquest to better understand where they had gone wrong. They pinned the blame on William son of Thomas Stanhard who took Walter down from the gallows (assumedly for having done so too soon): he was committed to jail. Walter was in the church of St George when he revived, where he immediately claimed sanctuary. He stayed there for fifteen days, guarded by representatives from the four nearest parishes (St Peter of Hungate, St Mary the Less, St Simon and Jude, and St George). Then somehow he escaped, making it as far as the church of the Holy Trinity, also in Norwich, where he again claimed sanctuary. At that point, the king decided to issue Walter a pardon, but not before the four parishes were fined for letting him slip by their watch unnoticed.<a href="#_edn5">[5]</a></p>



<div><figure><img data-attachment-id="2052" data-permalink="https://legalhistorymiscellany.com/hanging-by-pisanello-1/" data-orig-file="https://legalhistorymiscellanydotcom.files.wordpress.com/2021/02/hanging-by-pisanello-1.jpg" data-orig-size="2536,3071" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="hanging-by-pisanello-1" data-image-description="" data-medium-file="https://legalhistorymiscellanydotcom.files.wordpress.com/2021/02/hanging-by-pisanello-1.jpg?w=248" data-large-file="https://legalhistorymiscellanydotcom.files.wordpress.com/2021/02/hanging-by-pisanello-1.jpg?w=723" src="https://legalhistorymiscellanydotcom.files.wordpress.com/2021/02/hanging-by-pisanello-1.jpg?w=248" alt="" srcset="https://legalhistorymiscellanydotcom.files.wordpress.com/2021/02/hanging-by-pisanello-1.jpg?w=248 248w, https://legalhistorymiscellanydotcom.files.wordpress.com/2021/02/hanging-by-pisanello-1.jpg?w=496 496w, https://legalhistorymiscellanydotcom.files.wordpress.com/2021/02/hanging-by-pisanello-1.jpg?w=124 124w" sizes="(max-width: 248px) 100vw, 248px"></figure></div>



<p>In July of the same year, the sheriff of Northampton imprisoned the twelve men assigned to supervise the execution of Henry Cule and his sister Agnes, both of whom “escaped alive by a fortunate chance” after “they had long been hanging.” The king eventually showed compassion to them and ordered the sheriff to deliver them to bail.<a href="#_edn6">[6]</a></p>



<p>Why did so many convicts survive their executions? Were the medieval English just hopeless when it came to hanging?</p>



<p>At times, the equipment itself was faulty. In three instances, the rope used to hang the condemned snapped.<a href="#_edn7">[7]</a> Investigations after the fact were keen to prove that it had not been helped along by those who sympathized with the plight of the accused. In 1334, when Felicia de Whichull’s rope split after she had been hanging “for a long time but was not yet dead,” the sheriff of Stratford certified that it did so “without the help of man or fraud.”<a href="#_edn8">[8]</a> They had good reason to be suspicious. Peter Kyngesgrene (1374) was cut down by certain ministers of the friary of St John when he was only half dead. They took him to the precinct of the church of St Sepulchre to prevent crown officials from getting their hands on him.<a href="#_edn9">[9]</a></p>



<p>The method itself was problematic. Hanging in the Middle Ages was accomplished by slow strangulation – pulling the rope to raise up the accused – rather than the sudden drop intended to break the condemned’s neck associated with the trapdoor that was an invention of the eighteenth century. Exactly how long it takes for life to seep from the body was the question asked in each and every investigation. For Henry and his sister Agnes, the record notes that they were left hanging “a long time”; John de la Lynde of Hereford (1332) was hanging “for the great part of a day”; Ivetta of Balsham (1264) was hanging “from the ninth hour of Monday until sunrise of the Tuesday following”; John le Ropere of Warwick (1381) was hanging “for a longer time than another felon under the same judgment” whose hanging was successful; and yet each one of them lived to tell the tale.<a href="#_edn10">[10]</a></p>



<p>And what a tale that must have been. William de Briouze’s description of William Cragh after he had been removed from the gallows gives us a glimpse of the harrowing experience:</p>







<blockquote><p>His whole face was black and in parts bloody or stained with blood. His eyes had come out of their sockets and hung outside the eyelids and the sockets were filled with blood. His mouth, neck, and throat and the parts around them, and also his nostrils, were filled with blood, so that it was impossible in the natural course of things for him to breathe air through his nostrils or through his mouth or through his throat … his tongue hung out of his mouth, the length of a man’s finger, and it was completely black and swollen and as thick with the blood sticking to it that it seemed the size of a man’s two fists together.</p><cite>Bartlett, <em>The Hanged Man</em>, 6.</cite></blockquote>



<p>Regardless of what went wrong, or whether the condemned’s clinging to life was regarded as a miracle, the one factor that unites most of these cases is the outcome: all but one (poor Adam …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://legalhistorymiscellany.com/2021/02/05/surviving-an-execution-in-medieval-england-and-modern-ohio-miracle-or-incompetence/">https://legalhistorymiscellany.com/2021/02/05/surviving-an-execution-in-medieval-england-and-modern-ohio-miracle-or-incompetence/</a></em></p>]]>
            </description>
            <link>https://legalhistorymiscellany.com/2021/02/05/surviving-an-execution-in-medieval-england-and-modern-ohio-miracle-or-incompetence/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26256465</guid>
            <pubDate>Wed, 24 Feb 2021 21:45:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Yeet. Delete. Repeat]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26256437">thread link</a>) | @jacinda
<br/>
February 24, 2021 | https://www.jason.af/yeet-delete-repeat | <a href="https://web.archive.org/web/*/https://www.jason.af/yeet-delete-repeat">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>To survive, companies need to provide something valuable to their customers. To know what's valuable, companies need to get feedback. To get feedback, companies need to ship. And to do all of this without wasting huge amounts of time, money, and momentum, companies need to do all three of these <em>quickly</em>.</p><p>Let's talk about a strategy for moving quickly <em>without</em> breaking things or burning out your team.</p><h2 id="not-shipping-has-high-business-and-emotional-costs"><a href="#not-shipping-has-high-business-and-emotional-costs"><heading-link-icon></heading-link-icon></a>Not shipping has high business and emotional costs.</h2><p>Every company has its list of "we should" and "what if" ideas. In growing companies, this list often ends up collecting dust because there's <em>so much to do</em> that <a href="https://www.jason.af/squishy-projects">squishy projects</a> like these get pushed back indefinitely in favor of more concrete, immediate needs.</p><p>Working on immediate needs puts out fires, but it leaves the company in a reactive pattern. This is high stress and can be demotivating, especially if the teams doing the firefighting wish they had time to experiment.</p><p>No one wants this outcome â€” so how do we avoid it?</p><h2 id="protect-time-to-create-dual-project-streams"><a href="#protect-time-to-create-dual-project-streams"><heading-link-icon></heading-link-icon></a>Protect time to create dual project streams.</h2><p>Carving out and protecting time for teams to work on squishy ideas is critical for businesses to keep stay innovative and motivated. This time can be allocated in any number of ways:</p><ul><li>quarterly hackathons</li><li>every 4th sprint is dedicated squishy projects</li><li>one day a week</li></ul><p>In a perfect world, <strong>teams will have parallel work streams: one dedicated to the well-defined, urgent, load-bearing projects, and one dedicated to exploring</strong> and pursuing the "what ifs" and "we shoulds".</p><p>To make parallel work streams sustainable, the exploratory work needs to happen within clearly defined boundaries.</p><p>And to that end, dear reader, I humbly suggest adopting <strong>the YEET DELETE REPEAT pattern.</strong></p><h2 id="yeet-experiments-to-small-test-groups-as-quickly-as-possible"><a href="#yeet-experiments-to-small-test-groups-as-quickly-as-possible"><heading-link-icon></heading-link-icon></a>Yeet experiments to small test groups as quickly as possible.</h2><p>Teams should aim to complete an experiment as quickly as possible, which means aggressively scoping down to test a single hypothesis. By limiting the size of the project, the team is forced to focus on the core of the idea, which makes it easier to nail down what the ideal outcome looks like and measure whether the project succeeded.</p><p>Then, using small test groups through feature flags, closed betas, or whatever channel the company gathers feedback through, the experiments should <em>ship</em>. Immediately. Like, the day they meet the minimum threshold for letting a real person look at them.</p><p>Just... please just ship it. Stop thinking about it. Ship. For the love of god. Yeet it and start getting feedback.</p><h2 id="delete-experiments-after-collecting-all-the-research"><a href="#delete-experiments-after-collecting-all-the-research"><heading-link-icon></heading-link-icon></a>Delete experiments after collecting all the research.</h2><p>One of the major complaints about shipping quickly is that it creates overwhelming technical debt. I've worked in companies where this is the case, and I've felt the pain of digging into an undocumented weekend project that's somehow the only thing keeping a core part of the product functioning.</p><p>We <em>do not</em> want to create that problem for ourselves. Instead, we want to <a href="https://www.netlify.com/blog/2020/10/28/optimize-for-deletion-speed-up-development-without-adding-risk/?utm_campaign=devex-jl&amp;utm_source=jason.af&amp;utm_medium=yeet-delete-repeat&amp;utm_content=optimize-for-deletion">optimize for deletion</a> â€” and delete our experiments by default.</p><p>To avoid technical debt, experiments should be deleted as part of collecting research. If possible, ship the experiment as an entirely separate codebase. Barring that, build the entire feature into one squash commit that can be reverted. No matter how you build it, assume that the experiment will be completely erased once it's complete.</p><p>Once your team has enough research to make a decision, delete the experiment. Add a production version of the project to your load-bearing workstream and include the research and deleted code for reference. Make sure the production project doesn't start with a mess.</p><h2 id="repeat-the-process-and-keep-the-momentum-going"><a href="#repeat-the-process-and-keep-the-momentum-going"><heading-link-icon></heading-link-icon></a>Repeat the process and keep the momentum going!</h2><p>If this process is set up well, teams can quickly ship experiments, then work on load-bearing projects while data is collected to validate the experiment. This means the critical work to keep the wheels on is getting done <em>as well as</em> the exploratory work that unlocks innovation.</p><p>It may seem counterintuitive, but creating space for an experimentation pipeline will <em>increase</em> productivity on the production pipeline:</p><ul><li>Rapid experimentation quickly pares down a crowded backlog, creating more clarity on which features are the most valuable to customers and the company</li><li>Validated projects are more likely to be correctly scoped because discovery work was already done during experimentation</li></ul><p>Even without these benefits, teams that have the autonomy to try things and influence the company's decision-making tend to feel more in control of their careers, which has the wonderful side effect of making your company a place that people <em>enjoy</em> working (for the BossBotsâ„¢ out there: that means increased engagement, higher productivity, and lower turnover).</p><h2 id="learn-fast-and-try-not-to-make-a-mess"><a href="#learn-fast-and-try-not-to-make-a-mess"><heading-link-icon></heading-link-icon></a>Learn fast and try not to make a mess.</h2><p>No process is perfect, and we'll all need to bring the nuance and context of our own companies into the design of a parallel workflow design. If we take the time to do it, though, building the habits, and processes â€” as well as the team trust and safety â€” that make parallel workflows possible will pay dividends across multiple areas of the company.</p><p>Plus, it's super fun to say: <strong>YEET. DELETE. REPEAT.</strong></p><p>Try it.</p><p>...did you say it?</p><p>See? Super fun.</p></div></div>]]>
            </description>
            <link>https://www.jason.af/yeet-delete-repeat</link>
            <guid isPermaLink="false">hacker-news-small-sites-26256437</guid>
            <pubDate>Wed, 24 Feb 2021 21:43:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Reddit is down for web and mobile]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 3 (<a href="https://news.ycombinator.com/item?id=26256079">thread link</a>) | @mill
<br/>
February 24, 2021 | https://www.redditstatus.com/incidents/wsrwszw4x5td?u=r9kldj7j467h | <a href="https://web.archive.org/web/*/https://www.redditstatus.com/incidents/wsrwszw4x5td?u=r9kldj7j467h">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <p>We're were experiencing issues on web and mobile clients, but we're back up now!</p>
      
    </div><div>
      <!-- postmortem if it's published -->

      <!-- incident updates in reverse order -->
        <div>
          <p>
            Resolved
          </p>
          <div>
            <p>
              We're sounding the all clear! This incident is resolved.
            </p>
            <p>
              Posted <span data-datetime-unix="1614204881000"></span>Feb <var data-var="date">24</var>, <var data-var="year">2021</var> - <var data-var="time">14:14</var> PST
            </p>
          </div>
        </div>
        <div>
          <p>
            Monitoring
          </p>
          <div>
            <p>
              We've observed a recovery and our systems are healthy–reddit is operational again.
            </p>
            <p>
              Posted <span data-datetime-unix="1614203579000"></span>Feb <var data-var="date">24</var>, <var data-var="year">2021</var> - <var data-var="time">13:52</var> PST
            </p>
          </div>
        </div>
        <div>
          <p>
            Identified
          </p>
          <div>
            <p>
              We've identified the underlying issue and systems are beginning to recover.
            </p>
            <p>
              Posted <span data-datetime-unix="1614201918000"></span>Feb <var data-var="date">24</var>, <var data-var="year">2021</var> - <var data-var="time">13:25</var> PST
            </p>
          </div>
        </div>
        <div>
          <p>
            Investigating
          </p>
          <div>
            <p>
              We are currently investigating this issue.
            </p>
            <p>
              Posted <span data-datetime-unix="1614200899000"></span>Feb <var data-var="date">24</var>, <var data-var="year">2021</var> - <var data-var="time">13:08</var> PST
            </p>
          </div>
        </div>

      <!-- affected components -->
        <p>
          This incident affected: reddit.com (Desktop Web, Mobile Web, Native Mobile Apps) and redditgifts.com.
        </p>
    </div></div>]]>
            </description>
            <link>https://www.redditstatus.com/incidents/wsrwszw4x5td?u=r9kldj7j467h</link>
            <guid isPermaLink="false">hacker-news-small-sites-26256079</guid>
            <pubDate>Wed, 24 Feb 2021 21:16:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Reddit Down]]>
            </title>
            <description>
<![CDATA[
Score 15 | Comments 5 (<a href="https://news.ycombinator.com/item?id=26256009">thread link</a>) | @quickthrower2
<br/>
February 24, 2021 | https://www.redditstatus.com/incidents/wsrwszw4x5td | <a href="https://web.archive.org/web/*/https://www.redditstatus.com/incidents/wsrwszw4x5td">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <p>We're were experiencing issues on web and mobile clients, but we're back up now!</p>
      
    </div><div>
      <!-- postmortem if it's published -->

      <!-- incident updates in reverse order -->
        <div>
          <p>
            Resolved
          </p>
          <div>
            <p>
              We're sounding the all clear! This incident is resolved.
            </p>
            <p>
              Posted <span data-datetime-unix="1614204881000"></span>Feb <var data-var="date">24</var>, <var data-var="year">2021</var> - <var data-var="time">14:14</var> PST
            </p>
          </div>
        </div>
        <div>
          <p>
            Monitoring
          </p>
          <div>
            <p>
              We've observed a recovery and our systems are healthy–reddit is operational again.
            </p>
            <p>
              Posted <span data-datetime-unix="1614203579000"></span>Feb <var data-var="date">24</var>, <var data-var="year">2021</var> - <var data-var="time">13:52</var> PST
            </p>
          </div>
        </div>
        <div>
          <p>
            Identified
          </p>
          <div>
            <p>
              We've identified the underlying issue and systems are beginning to recover.
            </p>
            <p>
              Posted <span data-datetime-unix="1614201918000"></span>Feb <var data-var="date">24</var>, <var data-var="year">2021</var> - <var data-var="time">13:25</var> PST
            </p>
          </div>
        </div>
        <div>
          <p>
            Investigating
          </p>
          <div>
            <p>
              We are currently investigating this issue.
            </p>
            <p>
              Posted <span data-datetime-unix="1614200899000"></span>Feb <var data-var="date">24</var>, <var data-var="year">2021</var> - <var data-var="time">13:08</var> PST
            </p>
          </div>
        </div>

      <!-- affected components -->
        <p>
          This incident affected: reddit.com (Desktop Web, Mobile Web, Native Mobile Apps) and redditgifts.com.
        </p>
    </div></div>]]>
            </description>
            <link>https://www.redditstatus.com/incidents/wsrwszw4x5td</link>
            <guid isPermaLink="false">hacker-news-small-sites-26256009</guid>
            <pubDate>Wed, 24 Feb 2021 21:11:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[PyTorch: From Centralized to Federated]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26255953">thread link</a>) | @tanto
<br/>
February 24, 2021 | https://flower.dev/blog/2021-02-24-pytorch-from-centralized-to-federated | <a href="https://web.archive.org/web/*/https://flower.dev/blog/2021-02-24-pytorch-from-centralized-to-federated">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://flower.dev/blog/2021-02-24-pytorch-from-centralized-to-federated</link>
            <guid isPermaLink="false">hacker-news-small-sites-26255953</guid>
            <pubDate>Wed, 24 Feb 2021 21:08:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bitcoin: The Idea That Eats Smart People]]>
            </title>
            <description>
<![CDATA[
Score 59 | Comments 122 (<a href="https://news.ycombinator.com/item?id=26255617">thread link</a>) | @tompccs
<br/>
February 24, 2021 | https://www.vanityfarce.com/bitcoin/investing/2021/02/24/bitcoin.html | <a href="https://web.archive.org/web/*/https://www.vanityfarce.com/bitcoin/investing/2021/02/24/bitcoin.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p><em>When all you have is a hammer, everything looks like a nail.</em></p>

<p>If you read my profile from my high-school yearbook for the class of 2011, you’ll find the following:</p>

<blockquote>
  <p>“Tom is a man who takes pleasure in doing exactly the opposite of everyone[, such as his] early adoption of Bitcoin, a universal currency more inherently worthless than the Zimbabwean Dollar”.</p>
</blockquote>

<p>In truth, I didn’t really own any Bitcoin, at least not enough to be meaningful even today. I’d tried mining a bit on my 2006 Macbook, but back then people were giving it away for free in an effort to kick-start the crypto-economy. The focus of the ‘Bitcoin community’ in those days was on building a real, workable currency – in other words, it was yet to become the crypto-Marxist doomsday cult it is in 2021. Certainly lots of the people involved in it had a strong libertarian, anti-Fed ethos, but that was secondary: the sort of things people wanted to buy with bitcoins were pizzas and beer. The early bitcoiner’s idea of bitcoin’s success was it being accepted as legal tender at your local bar.</p>

<p>Fast-forward to 2021 and that dream is further away than ever. Spending bitcoin is one of the most difficult things you can do. I’m going to be generous and leave aside all of the technical problems around transaction costs, the time it takes for transactions to be added to the blockchain, and other such matters which can probably (or have been) solved.</p>

<p>Let’s examine why I can’t buy a beer with bitcoin today [1]. As of writing (and this will surely become quickly out of date), bitcoin’s market cap has exceeded $1tn. By comparison, there are just under 50 billion Swiss Francs in circulation today, which are worth around $56bn USD. However, despite having under 6% of the market cap of bitcoin, you will find tens of thousands of businesses which will gladly sell you goods and services for your Swiss Franks (they all just happen to be in Switzerland). Why, despite this huge market cap, has bitcoin fundamentally failed to enter our daily lives?</p>

<p>A currency only works when there are enough buyers and sellers on each side. This much is obvious. However, the subtlety that’s lost here is that there have to be buyers and sellers on both sides who are also interested in buying and selling things other than bitcoin! You can find people all over the world who are willing to trade Pokemon cards, even some people willing to pay hard currency, but you can’t build an economy out of them because the people trading Pokemon cards are only interested in trading Pokemon cards for cash, or vice-versa. And in a liquid market, why would a business owner accept Pokemon cards when you can just insist they trade their cards for cash first?</p>

<p>What’s so strange about all of this is that it totally flies in the face of Bitcoin’s original vision. It’s telling that, if you read Satoshi Nakamoto original whitepaper [2], monetary policy, the fed, or currency debasing aren’t even mentioned (the word “currency” appears only once). The original purpose of bitcoin was to solve the very specific problem of transferring value between two parties without the need for an intermediary – the word “transaction” appears 69 times. Not only do people not use bitcoin for goods and services in this way today, they largely don’t even trade cryptocurrencies in this way! Most trades happen on big, centralised platforms, which are vulnerable to government shutdowns, theft, or technical issues.</p>

<p>If this is the case, then what’s the point of owning bitcoin? And why have so many people decided that it’s worth a lot of USD to own bitcoin?</p>

<p>What has happened in the last year or so is that a fringe idea – the idea that the Fed engages in regular debasement of the US dollar, which is the reserve currency of the world – suddenly went mainstream in the wake of the coronavirus pandemic. I’m not going to opine too much on the validity of this view – I think it’s basically true, and that all of the risks the bitcoin bulls point out regarding modern monetary policy (lower-case or upper-case) are real and worrisome. Relatedly, when reading Marx, I can nod along with the correct diagnosis of the ills of capitalism. Where he loses me is his belief in the inevitability of a revolution which will bring about a socialist utopia which will usher in a reign of peace and love, and everyone gets a mansion.</p>

<p>This utopian/dystopian binary mindset is the fatal flaw. Communism was the 20th century’s “idea that eats smart people”. More recently it was the Singularity (I highly recommend you read this excellent essay on the subject: [3]). Today it’s bitcoin. What all these three things have in common is that they are the careful, sophisticated, and elegant application of pure reason. Like a well-crafted conspiracy theory, they glide from precept to conclusion along an unbroken chain of impeccable logic [4]. Unfortunately for them is that the world does not fit neatly into Platonic forms of Revolution, Superintelligence or (what I’ve only recently heard referred to as ) “The Flippening”.</p>

<p>“The Flippening” is the idea that hyperinflation of the USD is inevitable and imminent, and that therefore Bitcoin is the One True store of value. By their logic, holding onto any currency is akin to holding onto sand as it runs through your fingers – your hard work which earned it literally turning it to dust as the US government debases the global reserve currency to pay for ever spiralling public services bills, military spending, and bailing out American Big Business. And I basically agree with this – Bitcoin is a good hedge against the US dollar dropping its status as the global reserve currency. With a $1tn market cap, mathematically provably limited supply, and the complete freedom from the clutches of any individual or nation state, what else could it be?</p>

<p>But this is not the only possible outcome. And perhaps, most damning, I don’t even think it’s a very likely outcome.</p>

<p>A general point about investing: if the price of an asset is closely tied to the probability of a particular future event, and you disagree with the probability that the market assigns to it, then in your view that asset is mispriced. It’s hard to measure what the actual probability of an event like The Flippening is, but what isn’t so hard to measure is how pervasive this narrative has suddenly become. The problem with Bitcoin is that, although you can’t just print more of it, you can get Elon Musk to retweet it endlessly. Bitcoin’s price goes up as a function of retweets in a similar way to how the stock market goes up as a function of the Fed printing dollars.</p>

<p>Gamestop should have been the wake-up call. No one bought Gamestop because they thought its stock would become the reserve currency of the future, but perhaps they might as well have done. People were buying and holding GME because other people were buying and holding GME (and because some people were forced to buy GME). Similar to Bitcoin, there was a narrative that started with an observation in early 2020 that GMEs financials weren’t in as bad shape as the market seemed to think, and that the company had a good shot at a turnaround, and morphed into the narrative that big hedge funds had huge short positions which they would be forced to cover if enough retail investors bought the stock. After climbing 1800% in 20 days, it eventually fell back to a pedestrian 4x multiple over its 2020 trading value. The party was over.</p>

<p>What GME demonstrated was the power of the meme in the stock market, and that an asset price could increase its value by over 20x for no fundamental reason. People point to the rising price of bitcoin as evidence of the truth in their narratives, but the reality is that bitcoin could be rising for no reason at all.</p>

<p>Ok, so maybe bitcoin specifically is overpriced – what about other crypto as a hedge against the USD? Imagine a revolutionary new asset class that’s fungible, has a finite supply, and whose supply is decentralised. Actually, this sounds a lot like gold. Is gold all that great? Well, the main benefit that crypto has over gold is that (a) as well as weighing gold you need to verify its purity, which is expensive to do for every transaction; and (b) gold can’t be transmitted over the internet. But if you don’t care about buying stuff, then gold is a pretty good way to store value: you can keep it at home and ‘be your own bank’ (with all the hazards that entails), store it in a safe-deposit box, or just buy some as a paper commodity – the exact same options open to crypto currency traders (with the nice bonus that you can actually get insurance up to certain amounts if you decide to go down the safe-deposit route). If you can’t buy stuff with crypto then there’s really no advantage to it over gold at all.</p>

<p>In summary, there are two reasonable arguments (and one spectacularly bad one) for buying bitcoin/crypto:</p>

<ol>
  <li><strong>The believer</strong>: You believe in the imminent ‘Flippening’ in which you and all your crypto buddies are unimaginably rich in a post-USD economic wasteland</li>
  <li><strong>The hedger</strong>: You don’t necessarily believe in the ‘Flippening’ but are worried about inflation and want an asset which won’t lose value in the future</li>
  <li><strong>The speculator</strong>: Price always goes up [rocket emojis]</li>
</ol>

<p>(1) needs you to buy into a messianic world-view, and, similar to how there are many religions which purport to worship the ‘one true god’, there are many cryptocurrencies which you can own, and many ways the rapture could play out. My non-consensus view is that, like every single other time there is a mass-hysteria that we are approaching the ‘end of history’, history will chug along all the same, fiat currencies and all. (2) seems a bit more reasonable on the face of it, but you can get all of the benefits with almost none of the volatility from buying gold. That leaves (3), to which I can only say, if you can get in while the price is going up and get out before the institutions do, profiting off the ‘true …</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.vanityfarce.com/bitcoin/investing/2021/02/24/bitcoin.html">https://www.vanityfarce.com/bitcoin/investing/2021/02/24/bitcoin.html</a></em></p>]]>
            </description>
            <link>https://www.vanityfarce.com/bitcoin/investing/2021/02/24/bitcoin.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26255617</guid>
            <pubDate>Wed, 24 Feb 2021 20:46:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Signs of Burnout Can Be Detected in Sweat]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26255054">thread link</a>) | @sizzle
<br/>
February 24, 2021 | https://actu.epfl.ch/news/signs-of-burnout-can-be-detected-in-sweat-2/ | <a href="https://web.archive.org/web/*/https://actu.epfl.ch/news/signs-of-burnout-can-be-detected-in-sweat-2/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p> EPFL engineers, working in association with startup Xsensio, have developed a wearable sensing chip that can measure the concentration of cortisol – the stress hormone – in human sweat. Enabling future quasi-continuous monitoring, their device can eventually help doctors better understand and treat stress-related conditions like burnout and obesity.<br></p><div id="news-content-text" itemprop="description"><p>We’ve all felt stressed at some point, whether in our personal or professional lives or in response to exceptional circumstances like the COVID-19 pandemic. But until now there has been no way to quantify stress levels in an objective manner.&nbsp;</p><p>That could soon change thanks to a small wearable sensor developed by engineers at EPFL’s Nanoelectronic Devices Laboratory (Nanolab) and Xsensio. The device&nbsp;has the potential to be placed directly on a patient’s skin in a wearable patch and, in the future, to quasi-continually&nbsp;measure the concentration of cortisol, the main stress biomarker, in the patient’s sweat.</p><p><strong>Cortisol: A double-edged sword</strong></p><p>Cortisol is a steroid hormone made by our adrenal glands out of cholesterol. Its secretion is controlled by the adrenocorticotropic hormone (ACTH), which is produced by the pituitary gland. Cortisol carries out essential functions in our bodies, such as regulating metabolism, blood sugar levels and blood pressure; it also affects the immune system and cardiovascular functions.</p><p>When we’re in a stressful situation, whether life-threatening or mundane, cortisol is the hormone that takes over. It instructs our bodies to direct the required energy to our brain, muscles and heart. “Cortisol can be secreted on impulse – you feel fine and suddenly something happens that puts you under stress, and your body starts producing more of the hormone,” says Adrian Ionescu, head of Nanolab.</p><p>While cortisol helps our bodies respond to stressful situations, it’s actually a double-edged sword. It’s usually secreted throughout the day according to a circadian rhythm, peaking between 6am and 8am and then gradually decreasing into the afternoon and evening. “But in people who suffer from stress-related diseases, this circadian rhythm is completely thrown off,” says Ionescu. “And if the body makes too much or not enough cortisol, that can seriously damage an individual’s health, potentially leading to obesity, cardiovascular disease, depression or burnout.”</p><figure><img alt="" height="343" src="https://actu.epfl.ch/static/upload/fckeditorimage/a0/a8/3a256b45.jpg" width="335"><figcaption><em>Qualitative depiction of regular and irregular circadian levels throughout the day. © Nanolab, EPFL</em></figcaption></figure><p><strong>Capturing the hormone to measure it</strong></p><p>Blood tests can be used to take snapshot measurements of patients’ cortisol levels. However, detectable amounts of cortisol can also be found in saliva, urine and sweat. Ionescu’s team at Nanolab decided to focus on sweat as the detection fluid and developed a wearable smart patch with a miniaturized sensor.&nbsp;</p><p>The patch contains a transistor and an electrode made from graphene which, due to its unique proprieties, offers high sensitivity and very low detection limits. The graphene is functionalized through aptamers, which are short fragments of single-stranded DNA or RNA that can bind to specific compounds. The aptamer in the EPFL patch carries a negative charge; when it comes into contact with cortisol, it immediately captures the hormone, causing the strands to fold onto themselves and bringing the charge closer to the electrode surface. The device then detects the charge, and is consequently able to measure the cortisol concentration in the wearer’s sweat.</p><figure><img alt="" height="212" src="https://actu.epfl.ch/static/upload/fckeditorimage/ea/82/7aa606c4.jpg" width="802"><figcaption><em>Process flow for capturing cortisol with the graphene electrode and aptamers. © Nanolab, EPFL</em></figcaption></figure><p>So far, no other system has been developed for monitoring cortisol concentrations continuously throughout the circadian cycle. “That’s the key advantage and innovative feature of our device. Because it can be worn, scientists can collect quantitative, objective data on certain stress-related diseases. And they can do so in a non-invasive, precise and instantaneous manner over the full range of cortisol concentrations in human sweat,” says Ionescu.</p><p><strong>Engineering improved healthcare</strong></p><p>The engineers tested their device on Xsensio’s proprietary Lab-on-Skin<sup>TM</sup>&nbsp;platform; the next step will be to place it in the hands of healthcare workers. Esmeralda Megally, CEO of Xsensio, says: “The joint R&amp;D team at EPFL and Xsensio reached an important R&amp;D milestone in the detection of the cortisol hormone. We look forward to testing this new sensor in a hospital setting and unlocking new insight into how our body works.” The team has set up a bridge project with Prof. Nelly Pitteloud, chief of endocrinology, diabetes and metabolism at the Lausanne University Hospital (CHUV), for her staff to try out the continuous cortisol-monitoring system on human patients. These trials will involve healthy individuals as well as people suffering from Cushing’s syndrome (when the body produces too much cortisol), Addison’s disease (when the body doesn’t produce enough) and stress-related obesity.&nbsp;The engineers believe their sensor can make a major contribution to the study of the physiological and pathological rhythms of cortisol secretion.</p><p>So what about psychological diseases caused by too much stress? “For now, they are assessed based only on patients’ perceptions and states of mind, which are often subjective,” says Ionescu. “So having a reliable, wearable sensor can help doctors objectively quantify whether a patient is suffering from depression or burnout, for example, and whether their treatment is effective. What’s more, doctors would have that information in real time. That would mark a major step forward in the understanding of these diseases.” And who knows, maybe one day this technology will be incorporated into smart bracelets. “The next phase will focus on product development to turn this exciting invention into a key part of our Lab-on-Skin<sup>TM</sup>&nbsp;sensing platform, and bring stress monitoring to next-generation wearables,” says Megally.</p></div></div>]]>
            </description>
            <link>https://actu.epfl.ch/news/signs-of-burnout-can-be-detected-in-sweat-2/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26255054</guid>
            <pubDate>Wed, 24 Feb 2021 20:08:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Common Ingredients in Recipes Analyzer]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26254760">thread link</a>) | @punkspider
<br/>
February 24, 2021 | https://www.recipesseo.com/ingredients | <a href="https://web.archive.org/web/*/https://www.recipesseo.com/ingredients">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>
<div id="contents">
<div>

<p><span>This tool is now hosted on a stand-alone site at <a href="https://www.spoonablerecipes.com/">spoonablerecipes.com</a>.
</span><br>
<span>(where new features are added)</span>

</p>
</div>
<div>


<p>
Ever wonder what ingredients are in the <strong>average pesto recipe</strong>? Or which popular ingredients to include in chicken soup?
</p>
<div>
<p><strong>Find the most common ingredients in any general recipe</strong>, like bolognese, or piccata. Also learn how much of each ingredients these recipes include on average, and what they pair well with.
</p></div>
</div>

</div>
</div>
</div></div>]]>
            </description>
            <link>https://www.recipesseo.com/ingredients</link>
            <guid isPermaLink="false">hacker-news-small-sites-26254760</guid>
            <pubDate>Wed, 24 Feb 2021 19:51:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[When should my startup prioritize infosec?]]>
            </title>
            <description>
<![CDATA[
Score 16 | Comments 9 (<a href="https://news.ycombinator.com/item?id=26254738">thread link</a>) | @vikrum
<br/>
February 24, 2021 | https://blog.goldfiglabs.com/2021/02/23/when-should-my.html | <a href="https://web.archive.org/web/*/https://blog.goldfiglabs.com/2021/02/23/when-should-my.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
		
<div>

  

  <article>
	

<blockquote>
<p>If you imagine your organization as a sea-faring vessel, infosec’s goal is to ensure the boat can survive krakens or canon-wielding pirates and successfully complete its journey. If you ignore the existence of sea terrors, you may not make it to your destination unless Poseidon grants you merciful passage. If you prioritize defense above your vessel’s mission, you will find yourself aboard a battleship that is entirely inadequate for transporting revenue-generating cargo. — <a href="https://swagitda.com/blog/posts/on-yolosec-and-fomosec/">On YOLOsec and FOMOsec</a>, Kelly Shortridge</p>
</blockquote>

<p>Startups are all about focusing on the right thing at the right time. Juggling everything through the fog of product development, managing your runway, and growing a team are tough on their own. Unless it’s a primary piece of your product offering<sup>1</sup>, security is rarely prioritized in the early days of a startup. Contemporary startups have the benefit of the accumulation of best practices becoming more commonplace and accessible: appsec best practices get caught in code reviews, infrastructure providers bias toward secure defaults, engineers are accustomed to using things like password managers and MFA apps. However, beyond that, founders in search of product-market-fit do not have the cycles to focus on infosec. It’s a type of technical debt that is accrued while focus is elsewhere.</p>

<p>As your traction begins to grow, paying down technical debt becomes a recurring focus for the team. This typically takes the form of application, infrastructure, and ops related debt. Preventing the CEO from accidentally deleting the production database is a more immediate threat than a targeted attack. Improving your processes to prevent shooting yourself in the foot will pay immediate dividends. Solving your startup’s problems around self-incurred outages and  data loss are more pressing than infosec.</p>

<p>There is no positive benefit when it comes to security — the best outcome you can expect and actually aim to get is a reduction of negative impact.  Your product or customer experience is not directly improved by an increased security posture. However, the amount of downside is unknown and potentially large. This is what will start keeping the founders up at night. Peace of mind. It all changes when there’s now something at stake. Reputation. Customer trust.  Reliability. Anything that’ll erode that hard earned product market fit. Any bad press that’ll reduce the slope of your week over week growth.</p>

<p>This is the right time a startup should start prioritizing infosec.</p>

<p><img src="https://blog.goldfiglabs.com/uploads/2021/879e082f89.jpg" width="600" alt="The Startup Curve Overlayed with paying down tech debt and when to start thinkinga bout infosec "></p>

<p><small><a href="https://avc.com/2012/03/the-startup-curve/">The Startup Curve</a> - Overlayed with paying down tech debt and when to start thinking about infosec</small></p>

<p>For all the fear-mongering related to security that’s out there, even for well-established companies, security’s priority with respect to product can be a tricky thing to pin down. Is it just another sign off like legal review? Was it just bolted on because an enterprise sale necessitated it?  The earlier your startup weaves infosec into the engineering culture, the longer head start you have in paying down security related technical debt. The dividends you get from this yields a resilient engineering organization which treats security as a partner in building the product and not an impediment.</p>

<h4 id="further-reading">Further Reading</h4>

<ul>
<li><a href="https://review.firstround.com/how-early-stage-startups-can-enlist-the-right-amount-of-security-as-they-grow">How Early-Stage Startups Can Enlist The Right Amount of Security As They Grow</a></li>
<li><a href="https://www.bvp.com/atlas/security-for-startups">A Comprehensive Guide to Security for Startups</a></li>
<li><a href="https://www.sans.org/reading-room/whitepapers/leadership/paper/39880">A Startups Guide to Implementing a Security Program</a></li>
</ul>

<p><sup>1</sup> Some other scenarios where security is an early priority for a startup. 1) Product mandated security considerations: it’s in the value prop of the product, mandated by a vendor (i.e. using the GMail API requires an external security audit); 2) Externally mandated security considerations: Government or industry regulatory considerations; product penalties if you are non-formant (i.e. amount of loan origination that can be a penalty if your banking startup is fails external security audits); 3) Customer mandated considerations: AWS GovCloud, SOC2, etc  — it’s forced by the need to acquire specific customers and/or drive sales.</p>

  </article>

</div>




      </div>
    </div></div>]]>
            </description>
            <link>https://blog.goldfiglabs.com/2021/02/23/when-should-my.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26254738</guid>
            <pubDate>Wed, 24 Feb 2021 19:49:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Anatomy of a Reset Password Email]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26254434">thread link</a>) | @haon99
<br/>
February 24, 2021 | https://mailclerk.app/blog/anatomy-password-reset-email/ | <a href="https://web.archive.org/web/*/https://mailclerk.app/blog/anatomy-password-reset-email/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="article-area" data-v-32226556="" data-v-12eddcfd=""><p>For a lot of applications, reset password functionality is an afterthought, slapped on shortly before launch and never revisited. "Oh yeah, we need a forgot password form! Let's toss that onto the scrum board." As a result, reset password flows are often clunky, unfriendly experiences.</p>
<p>At Mailclerk, we want to help companies implement a first-class user experience throughout all of their application email. This post provides some data-driven best practices by looking at examples of how different applications handle resetting passwords and account recovery.</p>
<p><img src="https://mailclerk.app/assets/static/contentful.94dd11e.c2b8a07d757d42a5406424eb4301a9e7.png" width="1358" alt="Contentful reset password email" data-old-src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 1358 1170' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-3d4d76e234ae3ffd3b0af8def3b31c8a'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-3d4d76e234ae3ffd3b0af8def3b31c8a)' width='1358' height='1170' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAA3CAYAAAC8TkynAAAACXBIWXMAAAsSAAALEgHS3X78AAAKL0lEQVRo3uVb%2bXMbSRXOf0cBBSwLoYriR/Y3iq2ioKBYlmVDLu%2bGEEgle%2bR0fOUOYXeTbBzb8X1ItmTLpy7bkmVJtmzrvkaSP/p7o5FlRUtk2U7sZKq%2b6u7Xr3tmXr/%2b3pvR6EgqnUUilXkLkQbv/Qgb%2bUIBm5ubKJSjUMTmGwZ1T7zXXC6PpGEACsqP8jbrtaBQNGLl%2bIN65PP5LQ8olC54s3Tx%2bc3d3YhumNoN%2bCrBI5cv8wDDAEbp9K/jk24vPh8LYSOdRzwWRTQaQzqdRiwWx7I/gHAkotpqLyWT2AiHYRq1wDphk/HLy/4D6wmlBa5mAKNz1d2CQHIDEVUftk7hytVGNDa34eTpf6DhzDkcO9GAj46dwt/%2bfhpn/nkeHx/X2xe/uIKvvnkicjGo2haHywDFC06M3cfavdvItHcgMDOLJx1daH/WhUdP2jE1PYvunn48ePg17tz7DyanZtDV3SuyceUBza238by775AawNgfqRzW27sQ6Rvc9YkOlwEM8iofwJXMFyRUEoUiOAFRKJMZcmPl6yGnavWX6e%2bpB5QmVGU%2blyvdmOHS5TD08xXySh3jMNq6/mZV/fIwZYyt7NuNl9W0BdbWN5DNatsGappWt9slEkk5YS1HaG1dnTtbtS%2bVSkkU4pFMpvbHA3iQ2U%2bcPoPL126g9eZdnGw4K%2bz%2brPM5rjW2oLGpDVevN6O3b0Bk/77whbRb2u7g80tXcYlRQ%2blw/IXPL%2bPm7ftou3VXxs7M2nHu/Gd4%2bNUjXG9qlXHUvfDZJZjMY7h154GQK9s3Wm5K1GlUejzH6U/P4bwqz/7rAiZsk3URbU1bYHbOLqz%2b5OkzuUEyvtPlRmdXD75t70Tn8x4xyOKiB48eP8W9B/%2bVCNHe8VyiBfV6evulHBwySeSYsE2ho6sb8wuL6ibvY8Q0Kjqcn3IaxO5wYVYZaHjErOZ7Cuu4DU/V%2bZ4%2b61S6A2quEVisE3I9GxvhfeaA70gfDxLbG9nmTq6jZgOU5/cvsG6FoSr1Ksmv2rPGd7F5tQiAarI6F6EmDojFE8goIhLGViFQU9GAA0iMOVXPZLLSzkko1BmadT5hGbrytKUeOQnOk1JpM0Hy4txGyOQ4ptOUpTMZmZ8pdlbTz8WS54srItW0nJyP15GXcaltIXfPDOBe8KJ30Czl%2bOQsegZM8Pr8GByxoG9oFKaxCcw63CK3TdvhdC%2bis2cIgyYrhs3j0s/SaptRMgtm7C6pU855R62TGBmdENnkjB2WiWkMqLmnZh2iPzAypnRtqs%2bB6TmnnIPnnpiaw5SScXzvgBlDZqsYa1%2b2AK2vGdBypRXTV0E9SqqV1bQtjyComxMdXc4xXC3qipfkdM/g%2bHAkJnr5igRKX3nDu7YnW4ZnlesVXpI0VXu8r5sE9zM13U1is5NMsaYtQLeqzMr0FcwJdhoJcjVEj2ptelvlwQySXpWtITEzotaOPICHvu/mZI/anfMYG5%2bS/c49Tl5gm/t5SO1z7lfu0Tmlxz3crfRGVT85gHu7f3gMc4ovyCXkjxE1bn5xSfY456Qe97RD8ciz7gGZi23qmyw2uQbOzbkMjgmtbcj1mZUer9XgDs5JbqEu53DNe%2brfAmTrcCSKuIoIyWIKmi2yN9k6Eo1hfSMiLJ8Whk8jqnQoJ2OzzbFkeO518oDMp/pYEtFoHBvhqEQd6i4tB4TZ2U4VI4gxhzGe5%2bA1MGpshCOiyzlYJ6%2bwn7JYLCHXWZcHzDn01aSVeVFk35k5FybV6nAFFr0%2bWUXKaW32UY%2bM7llahj%2b4KqtBT%2bBKMgrYXQuv9fF3xw9DK6F1WWGuGNt0u%2bBqSFyO8uDqmsiWAytYUfVV9RCz7A9KSTm3SmAlJMbgAw5Xz%2bCPV/3%2br3YPeAWp7et%2bUVKTB9Ty%2bvulr8n38CXGgTJAdaNUv2HjR4jXlWPUYYD9WZ2D9H6wJg8gm5PFGZMZh5n3%2bxTBMecny3u8y0J%2blDtci3pOr3QZdxkRpmedomtWcZyEeYg8QC/J8F5fQB6AWPJmyOoLniUxhK/I9p4lv0QG3viiMgpjMcOhRIbQmhjStxw8XAZ467fAbi/WIL5DSoJ6SXd2qMyNSQzBrI9uThm3BZMh5ud0d24PZobcIjt9Nj%2bwBmAmN63IjDe3th6Wkg9FxssP3ixTZfbRMEx3Wdb7qvqN2QIcmS/s/EXlgTFA%2bfcBbxLx7XgLTHsSGJqLwuSIlWCuUjc7Y9t0hu1RjM/HkcsXDqcHkLV5/OH6Ir53bA4/bXDghyfsgh8ct%2bNHJ7fqLL9/fK7U/5PTuu57F92Ip3KH2wB/bfXiHXVD712cx4XHQRy77UPDAz/%2b0rKED1uXcPLeMj6%2b5cPJu8vSPqXa719ZxLufOPD%2b5YXDb4APWjz48SkHfnXOhT81eeXGP1D43TWPlB%2b1%2bUT%2b5%2bYl/P66B3%2b84cWvL8zjHeUxv/nyDTDAh60evNugG%2bDnnzpK%2bMUZJ46q8mcKR4uyo0XZL886pf7bw%2bwBRudKOAvvahpLoTR8a7WBul4F/3qmZMiD%2bIXY/w%2bDByRdfe0ewBU0PompBwfxC9GaPKD8tddukd9DFPYINRngTT9q8oC9IJloMoe1WA4RVYaiGlYiGsIJXca2fyOLoJKFYhqiqbzU1%2bM5NS6PDaVHXY4JhjVktMKeX9%2b%2beED5CXzrWQza4xhxxGGZT2BYlZPepNR585RTZvMk4VnNYNSl6zj8aUx5U1hYUTJ3Ah22iBhhrzz0RQMk05K768S3NzDeEufyWwRkPGgZ9a3nx%2b39LMvHlOYs/4S/EnWQoiafy2dwJFV8ifE2Hml6QCicRMdYQCH4Iiw6Oq1lGA%2bii5ggAluwBfDcwKTCVADdxPR29MwozAbQS8zp6LOXwaGj31mEK4ABwr2FQWJeYSGAIWIxgGEDHh0j3iKWdJh8FVCycCKFI8H1JC4/cuLLr5249E0VqD72X37sxJUnOq5%2bq%2bN6uwuNHW7BjU6FLjeauli60NTtRnOPjqZuJ5p7XWjtd6Olr1j2q3LAhbZBHa2DTrQNuXBrxI3bpiLMhAt3xty4ZXbizijrLty1FGFVbYtDcNdaxLgD9yZ03LcpTOp4MKUwreO%2bqj%2bccWItnsSRjHwRWijtx9qg6xdyWaSTCWTTSSlTiTiS8Zhqp6SdjMdFVtCol0SM/zHgT91KrqXT0DJp1Z9AJpVCPpsVWTwaFb1kLI5ELKZ0E0hEY/zKAln%2bFJ9Iqj41JpmSNuVg6l2J/MtQQCajkQP4p6kdIplBOpODP7gGk2UKZis/chrH0KgNg%2bYJjCsLUz5gUjLVXlTuZp20o2dwTGTUtbs88PiCGB2fwbR9HvOeZSx4/RhWc3QPmGGxzYpu37BFzTkO/8oabGrV%2bkescj6eh/2h9YhcC6MZWX0nkL/MpIqVnSCtLMcyI5%2bq5FSZkzKr5QV6O7/VzmhSknmNPpYlPalr0taKeuXjCZ5z2xiNn%2bFlBMb11IP/AcisEYZoXIcKAAAAAElFTkSuQmCC' /%3e%3c/svg%3e" data-srcset="/assets/static/contentful.82a2fbd.c2b8a07d757d42a5406424eb4301a9e7.png 480w, /assets/static/contentful.cbab2cf.c2b8a07d757d42a5406424eb4301a9e7.png 1024w, /assets/static/contentful.94dd11e.c2b8a07d757d42a5406424eb4301a9e7.png 1358w" data-src="/assets/static/contentful.94dd11e.c2b8a07d757d42a5406424eb4301a9e7.png" srcset="https://mailclerk.app/assets/static/contentful.82a2fbd.c2b8a07d757d42a5406424eb4301a9e7.png 480w, https://mailclerk.app/assets/static/contentful.cbab2cf.c2b8a07d757d42a5406424eb4301a9e7.png 1024w, https://mailclerk.app/assets/static/contentful.94dd11e.c2b8a07d757d42a5406424eb4301a9e7.png 1358w"></p>
<p>To collect data for this post, I attempted to reset my password on 105 different applications and websites. I don't claim these are perfectly representative of all websites out there; developer-focused SaaS companies (e.g. <a href="https://www.contentful.com/" target="_blank" rel="noopener">Contentful</a>, <a href="http://newrelic.com/" target="_blank" rel="noopener">NewRelic</a>, <a href="http://npm.org/" target="_blank" rel="noopener">npm</a>) are overrepresented because I already had a lot of accounts with them. But I've also included retail websites (e.g. <a href="https://www.rei.com/" target="_blank" rel="noopener">REI</a>, <a href="http://bookshop.org/" target="_blank" rel="noopener">Bookshop.org</a>), transportation applications (e.g. <a href="https://www.uber.com/" target="_blank" rel="noopener">Uber</a>, <a href="https://www.citibikenyc.com/" target="_blank" rel="noopener">City Bike NYC</a>), utility companies (e.g. <a href="https://www.coned.com/" target="_blank" rel="noopener">Con Edison</a>, <a href="https://www.t-mobile.com/" target="_blank" rel="noopener">T-Mobile</a>) and other industries to widen my perspective. I've included some of the largest presences on the internet (<a href="https://www.google.com/" target="_blank" rel="noopener">Google</a>, <a href="https://www.wikipedia.org/" target="_blank" rel="noopener">Wikipedia</a>) as well as some much smaller ones (<a href="https://www.dstld.com/" target="_blank" rel="noopener">DSTLD</a>, <a href="https://lichess.org/" target="_blank" rel="noopener">Lichess</a>).</p>
<p>Throughout this post, I include some screenshots of things we at Mailclerk think are great examples of email UX, and some that aren't quite as good. If you're reading this from an organization we critique, please don't take it personally; this is all in pursuit of helping the world send beautiful and usable email! (We'd also <em>love</em> to help you out with your emails. Drop us a line at <a href="mailto:friends@mailclerk.app" target="_blank" rel="noopener">friends@mailclerk.app</a> 😉).</p>
<p>You can jump to the <a href="#conclusion">end of this post</a> to see our summary of best practices plus the raw data, or <a href="#hall-of-fame">here</a> if you just want to see some excellent examples.</p>
<h2 id="reset-method">Reset Method</h2>
<p>The most common way to let someone into their account when they've forgotten their password is to send them a link with a unique token that allows them to set a new one. We call this the "reset link" method. This is the classic. Since it's so common, you can be fairly sure your users won't need much coaching for this to work. Of the 105 applications we looked at, 83 used this method. <a href="https://www.eventbrite.com/" target="_blank" rel="noopener">Eventbrite</a> is a well-executed, simple example:</p>
<p><img src="https://mailclerk.app/assets/static/eventbrite.2745c7e.214c81502f143d9c5c8ae22f035d0864.png" width="642" alt="Eventbrite reset password email" data-old-src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 642 603' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-914a1da465572976cf0a18720c9c26ec'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-914a1da465572976cf0a18720c9c26ec)' width='642' height='603' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAA8CAYAAADWibxkAAAACXBIWXMAAAsSAAALEgHS3X78AAAKjUlEQVRo3uVb6Y8cRxX3H8QnEBAiSOBzEEoEdkISRPgACgFBhBAEYghEWBGHY4sohnBEASFEIIohAtkcvmLv4T29OzM7933s3N0z0zPTx8z%2bqF/11Gzvemzv5fWM3NLbV/Xeq%2brud9Wr2p4jZtdGt2PB7Dowrf4A91ywN2D24NJFw3TggvizOc6eaDiiXqLb6qBTq6HbNtGp6%2bjoTbRLJWjTl9CKhmS/sTQLI5VEt2nIl1cw2Qpod2EBqJ1/F%2btnTqD0x9ew/tqPUf7TGRTffBWFk9%2bX7fXXf4Li708i/4vvoST6Q8VNvAL4AsLVjWQCzcCKsHYYjdUliY1UAq1IEE3/MpqhAIxsRmLKyZDg2AlWAN/9yNCKziDeGeP9AWYOIO4NwO4P294QmETYVAAJ1MjQmh6s2t7%2bgGaZ9sSCN3SHHuA4wqzi2tjYuC%2bAitgSAj2nP1TAXhUxSZclYnubArZ6wF6u/SjvMOGOCpAClgXDMES2N9Hr9WDbNlqtlqTzajabyOfz6Pf7I5UwjteOFKBeKBgM4uzZs0gkEkin07h8%2bTLOnz%2bP6elpXLlyBeFwGEtLS7hw4QLOnTuHhYWFfXvQWChACei6jlQqhXK5jGQyiWg0Kvvr6%2bsSVyoVxONxCYFAQCqk2%2b2OZQhsf6bbKgAb2FcO8I7dzwOPGj/qPnfKO6NkduQBDAXG/k4S3vZre17Y7cX73mpe79yqfbv77doD1GSpVFrGdzabQygUhs/nh98fENjnYgHxRFLws5gX8b8q%2bMGQmxeYM0KhkEySfr9fhsji4qKUZW5hP5fLSZmVlRU5J2kEykciEUnjPAy/tbU1mYsYbhy/uroqgXNyjuXlZcljGHIsw5V90jnHrhSgBHqOiXZLh2O1YXdbaGgVdAwNDV2D0eSuURf0ppioA61WRr1SkPRqpSxWC0OuGMwJXC2YL1S/JnachHa7jXq9LtvValW2mW%2bIKdtoNCQmj3Q1hnT2NU2TssTMV2xTlvdSmDTef5ce4Ar4kwb%2bNVvDTKCB/y1qAnRc9TXwzpUKLi7rgt7EfxY0/HehjlCmi5m1Fq75m6g1bAT8roVoBVqwUCjIPi1ULBZlElUJ9MaNG9Jidzv773wZHAhEsgamfRp88SamBJ7y1TEf1LEQ0vH%2bjToWww1JXwg1sBRpYMavYUnQyvW20Lou3L8gLUBL0AqZTEa%2bPC1ITIvSklQC%2byr87v0q4PGCcVq/D70O0ERcVSpVdLomWkYbRrsD07JR13RhRRH7ot3pdEVcm5LWFvxmsyVk3AqS8csqstPpSMwKkjHMPMCqkph90gmU2Q6cQyXlg1DCrlaBjMie01NT8K2uYEZUfwGRnRPMrCLLz83OIp/LYklk4bSIcZ%2bIb9L9InOviJi%2bIbIvx6yJrB4T8R0KBWW2ZrXILE23Z2ZnVcm8wIw/Nzcn%2bfPz8zIvkMYsTmUdqgI2RhRCzgB28gi3kvHGt7et9hlqjWd/ey44ZAW4Ak69AjMehJWOCoi5OBUREPVABKbAZkrxIkO6kjETIdjF3ATlgEH1V3nzJGKf/TASX/gU4p//OOJPPoTE059EQmD2E09%2bAomnHpZY9p966GZ4%2bmHEH38Q%2bZe%2buu/S%2bPA8oO9RwKMfRPa7X0T2hWeQ%2bcZRpL7yaWSef8Ltf/OY6D8i%2bM8gd/zLSD37GaS/9pgLzz0qIfvtp6WC8j98diy2y7tSQPWt04g99iEUTjyP2tu/Qen1l1E89SJKv3wJ5V%2bdQO0vv0b5dz9H/uWvo/zbn6L65zMSKm%2bdkkBaRfDpJfkfPTdBChiEQPmNVxB95AOu%2bx97APGjH0X8iQc32wTh3rHPfURC/PGPuXBsgI8%2bIOXpRbkXvjRJHuAug40L76HwyrdQPP0DafniqeMovvrioD3oD/FxD90Dp49j/WffEd7yhlwdxuEsYE/L4CRftzpHuOMy2Gjo0MVOa1iZicqNuyxd545QH1Z1zcGujXz2yZdVnqgGO6z0xNjugKcqQlaHBNJUW1WO3De48%2bjDSpL3UnKkU4a1A%2bdSFaWSJbASVfPs2gOGlaDYvHAP7u7//XJfzSptZmZG7ua4118Qfe7JuZtjRUcZngdQ/vr167h29ao8A%2bCen7RYLCYrwFlRSbLaY%2bWnzgPI57ykcc/PapHzsUKkDCtJ7iw5H%2b9BGcpPiWqVYwh8FsqqHSafaQ8hsHkiRG0THMcZWoF09tlWViBNtclT5wDcDdIyHMt5SFdWU6fOqtQddQLlfWDyvHxVUfJ%2b3krzVuN37QG0FrXL2p3WuXjxorQeNU8vYJtapjWIKU9r0UqkUYZAGj1JWZKyPBtQ3sSwGrU6bI/dna4io/h7PhPcrn1lJWUJWpIW8PKUZbxjtp8zemXGcBW4O%2bf647Cy7MoD7tVaPRYKuN2DHOTmZKw9gGd2XIaYvdUJLLP5pL78Lk6EXAGe2/NkR2VrrrPM7t4Tmo2N/l3but5zDxh5qsPM7mw9GxqlhHFVxM5zwGCAnYvAqa2PPOracCxY6bWxzvr78oBeU8T80gU41YILlZwEu5iGlQygff0cWpf/JpQQRE8ro7s2KxXSM/Sx/WpkV9thOxsRL%2bqHMfV3GNPvofHvP6D1/jtoXXobxtWz4uX/Kumta6J99V0YM/90eVP/QL9rTHYIuC5uw9FK6AuL9rtt6RF9S%2bwFzA56ekVaXfWdegm9liY8JS954/qhxKFVghO/CuwM%2bjukTcxHUn3cT9dNCuCHg47duy/Atjc/99/8XL5zf4FJ3N2iAAsd/lbgPoHht8KqQWK73RV479A2Dgc67f3DTR9LH8T390wsttWTWLUlmJs0L88a0G1L5B8BtgJz0Dc3%2b8xRqn%2bgvxfwhsB%2bv7/XtSYq5SoaegutZhtavTGEZsMY0olJa%2bhNQW%2bjVrdQqVkSVwVouoVSxcU1zUJdgK4P%2bnWGqvvZ/kE885G9as7bdlcRB%2bVSDZFIDJFwDPFYAuFQFMvLK0glMwj4g/D7AkinMvAJHI3EBT2NeDyDxYCFlZApYc7XxbzPxKU5EzM3ulheM2U/nHD5/qirDPdz91s/145/MrPXl%2b8MXrxnKze1hNs66IuCSuUUlVjp7mq8opMmefbGIBTcl2I90u2Y7r26fXfZsnqSbov5TcUbPAdzwvZfgdx1BTAW6aKrYVrEtRDbiwFhpaAhPKEqLL429AS/b01YPotwOCpdn7xEPCX7hGQiheJ6WcrFognJcz0oInASIYFJLxUrEhNCwbD0trVACNFofIs3HooHGC03Thm7pYqNctUR8dtDteZahTHPnEDMl2bs12v6kMe%2b0eqgVtWkHOllkT/YJr0hZCiv1XUpQ/DmEc5JfrVSl/jQFOBVgm25bs//A5aLJWi1mngwTSbCQqEoH46W5Ytl0jmsC1ohX5Q08kqlimiXhHxNeg1fPJvJyZdlnxZXCqJ8rVqXfY5pNloiPPrDVWevK9mePcCrbVqFiY4uTLdkwltd8SGXLcgXz2Xzwm3dpJfN5GU4BIULx4SbUzaZSEs3p6Lo/lQSkyeTKN2d8gwbJk6GhG81IGVUHhn1THfVA0YpZMu6b/WG1lEW2l4fkO8FxfeO2952rE15/sT3IH68%2bX9%2bRPf/9TSvKAAAAABJRU5ErkJggg==' /%3e%3c/svg%3e" data-srcset="/assets/static/eventbrite.2745c7e.214c81502f143d9c5c8ae22f035d0864.png 642w" data-src="/assets/static/eventbrite.2745c7e.214c81502f143d9c5c8ae22f035d0864.png" srcset="https://mailclerk.app/assets/static/eventbrite.2745c7e.214c81502f143d9c5c8ae22f035d0864.png 642w"></p>
<p>But this isn't the only method! Increasingly common is the use of one-time passwords (or <em>OTPs</em>, different from the usage in fanfiction 💕), where people are sent a short code or PIN by email or SMS that they enter into the application. This serves the same basic purpose as reset links: it confirms you still control the email (or phone number) you signed up with.</p>
<p>17 applications sent OTPs by either email or SMS. Four of these (<a href="https://www.paypal.com/" target="_blank" rel="noopener">PayPal</a>, <a href="https://www.lyft.com/" target="_blank" rel="noopener">Lyft</a>, <a href="https://www.uber.com/" target="_blank" rel="noopener">Uber</a>, <a href="https://www.lemonade.com/" target="_blank" rel="noopener">Lemonade</a>) sent OTPs by text message <em>only</em>, taking them out of the scope of this (email-only) analysis.</p>
<p>It is notable that <a href="https://www.google.com/" target="_blank" rel="noopener">Google</a>, <a href="https://www.facebook.com/" target="_blank" rel="noopener">Facebook</a>, <a href="https://twitter.com/" target="_blank" rel="noopener">Twitter</a>, and <a href="https://www.linkedin.com/" target="_blank" rel="noopener">LinkedIn</a>, some of the largest social networks and identify providers, all use the OTP method. Here is how Twitter does it:</p>
<p><img src="https://mailclerk.app/assets/static/twitter.69ed4eb.935b1261d739863058406e954fd90b77.png" width="478" alt="Twitter reset password email" data-old-src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 478 606' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-319c23e548e053149b7dcd59e5739c6b'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-319c23e548e053149b7dcd59e5739c6b)' width='478' height='606' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAABRCAYAAABi46DgAAAACXBIWXMAAAsSAAALEgHS3X78AAAQ0UlEQVR42u2cV3Ncx7HH/ZHsz3FfbtnPfnCVq2yXbMvWtS1ZonK2ZVmWKNGiGMQoUiSYQBAgQBCJSASRc94FFnEXWGzO6Nu/3j3gEsKCu0SgCXqrTp1zZnp6Zno6TP/nAD8KxxISiScls74u/NZz92f5V2gO63lzjOqcmfuPDpoAnHm411IyuZqS5XBa/lDhlxsj0Y35PRcCGFxOyk/P%2beSFG6vyk8OLcrYnYuXpzAEXgDP%2btN5fqvTLj79YlJ%2bd98lcML0hoOdCAIn0upzRVX%2btZk36F5OPaMdzIQDH1jebxuMFkCPIZDI/YLYV890S2FZ9PUkfW0188%2bIWrQE8p9NpE4ZzpdOZjU4elj1K4whvq3KjL/Du0BcT0koSpBQtgCxBLBaT5eXlp6bG8URCvF6vpFLpPdOyLQXACvAru3pNfvviS1Jxq0q6unukt69f7nc8kLHxCWlta5fjJ0/J0tKyTE5Ny8jomLS0tsng0LDMLyxI/8CgtLXfl1AoJPUNTTI1PW1t%2b/r7pf1%2bh9YPGP3o2Li2GZKh4WErHx4ZlXvNLXK3rkG%2b%2bvobefu9D6Sisirr0XPj2jcBHP/2tLz17gfy8quvy89/8Ut5/a135IXf/1F%2b89sX5Xd/%2bD955bU3ZG0tIP/47HN58aU/y7sffCR/evlV%2bejv/5Bf/PJXcu1GuczMzBotE/nVC7%2b351/r/S%2bvHpI//ull4/E///szOaS83/vwYyv78G%2bfWP2Ro9/IlWs3TOBmx5vMYs8E4BDMzM6K3%2b/X1R2VjgedMu1y2Z3VHR4Z0VUbMTM5c%2b47W1k0ZHJqShrvNdtqp1Ip5eGRr785LhOTk9Lc0moaQh08enr7xOV2m3ahSfBGkxCqow2MwVmQzY5xKwdZjIPe9a0wQij0S6oQdmPF8h1uIUFsvvJpCwmpZAHslho%2bzcSoaBNABbli8bgsLi7JqpoDau31%2beydKxAIqMquabTwits9Yyq7rJ57etplDjAYDFk7n7ZZ0ojC5fX6ZHXVb23w8piBxzMnvpUVWVhctPbwnlXzmZickil1svBYXFqSu/UN6lBdNgZ4TWo9443HE1me2jYYDIrL5TaThGckEi1NAxwCOuvrH5A7tXXy3cXv5fvLV2RgcEjqG5vMQ588fUYuX7kqp8%2bel1NnzsnZ89/JiVOnzeYbm5qlQemqbtdI9Z1aOXr8pHxz4lulO6u8LskJdbBXrl2XC99fNt5ElTt36%2bSY0tAeB4gvYRI44%2bqaWosUh7/6t46jTD774ku5cbPC%2bkbo3T29Vn5Ex3XzVqX5kOvlN40Xfidfe4s2AYfQ51uxlV9ZWZVEMruftvfVVVuxWCwuCY3Z0WhUVyJuV1LpsmUxmZuftxUKRyKqFWFry2Cgx8FRl8zxpQ384JHK%2bY98H4NWoQ2BQND4McaI3qENh8PW3pkoz2govJ5IA6ZdWQ%2bNdJt0NW5V3jZPzjNlrFiTxmy8ORJHtYnpRARWlJVAXaFt1piP5tzT9vAkgqDe9Q2NpsqEOsofdHbpPqDV2rAfqKm9a6tP5BhXmqvXy21/QVvGx16C6MEY0NbGpnvWd09vr80BLSASlaQBDgEMMQMmClM6a25pM7Wsrau3GM0gUXHqCYEICJOpqq6xzlE/%2bJRdvW5ldqlZ0J4NE2qMHXd2dVtZnQqkTYV5qeyq8WEThADq6htNkxBkZVW1dPX0mIlV3q62NndUUA06eYR%2bUzdulKMRLAxhddeigKNOqC57d9SvUJSAFjUsJqRuji6OSeTz2hxu82kwgdSmkJvP84miAKpcXnFLbpRXmHqyyl/9%2b6jt8I7pNhhTQKW7Vd1Y4QuXLquzOyEnT50xJ8h2FueIo2N1UesjR4/Z6t6qui3lN2/ZJgpHhXNl04VTgxf9XlUNgxdaVqtaeP7C9%2bY80QJW%2b9x3F42Wcniw3c4HOwptiIoWAOrLwPC%2b4xOT4pmbt/fRsTG12XFzgjgkwhkhCjvEPFB57JNQNevxWCid0PbQswNE3TEnnqGHJ/Q4SEwCP8A7/dMP22kcMSYAvXtmxurZNVLG4tAn/eXbeTG7xQMJiDxu7EUJIB8HyL8cWyNFdfyAs%2bXcCgvY7n1z3eZtbLFtN/N4nBD2RAMKoUbFIkmF6rbj9aTIVNE%2bAPvGvrA5l25zsVViLmGHfJ6Yz5bX71/bEoZ6FvDCLQXgOBI88Vvvvm/bUmL9zYpK88JfHvlaPj/8leX9n/zzX7ZPcMLOgRBAfmwl1nJ3/AHbz3yMLx%2b/e1Yc5576gAMlgFKu/fIBu9FX0SawVQh6HPJSKnJTCsKTT7/5vOKpm8B/6qZnR2GQ8AdszY8tLaktCI%2bzGXK0AkwgqokKwKYTPj1zc1b3cOOU2kiMnGcc7Pz8wkYeTzkHLjyztXYwRepxtpFo1NLgZDIlnd3dhvbsiQY4Xh20542335U333lP3nn/Q3nl0BsW%2brhIQNi3gwJdvFSmNO9b4sMe/y9/PSQ1GjZBdz7%2b5FN59fW3DOrmeuPt9%2bTTz76QT//1hXz2%2bWH54OO/Wwr9/kd/M1id%2b6E335ZTZ89ZwvTya6/LP5UO%2blf0mfYffvyJJVEgQU%2bCUxatAUiYJANIm6SDAxCwOgCJ29V3DMhgECQqABoAImB80IHYkD3SFvADTSJbA9Rwa3IDBsAqA7UHQyFLtODBRRvDBbWedss5nkDxJEbwCASDRUPlB9YHFIK%2bHxcpio4CbHq2w/ydzVKxKpjtOJM7e3TuD6%2bk2r%2bs58qVNpbM5Hivb5Sntjln2Ar02JEPIA8AsQV8IPcmr8fGAUQwA7A2tsvAXOCFmAW0lGVPj0a1rEZa1BQon1VzaXSnpH4qJu2euDS54tLsjkvHXFyqxqNy35OQYW9SKsei9i1P2WBEqidi0uiKyd3JqHQsZkEacEGcJ4ALYwFs6ejsNHzx4qXLlqNstzUv2geEwxGbBJPtHxw0ewecrK65Yzg%2bfgGUBywQIQCc4Lg4VIUW/wE9CRToEehvy1xGWmYSMuhNS%2b9SRroXU9LqScmEf11mA2lxrWWkdioh3QtJGVhOy4gvLe1zKSkbikm/T8Sr/gbgE3/D2ODrYIKAJbwD2OxIAPk4nJMLgP05UHcmhwUCOQNtkw0u5cIWjnFNywlbHGzgDGnHO84uvLZq6h%2bPRiQaDkoqEZNENCSrvmUrT8SialdxHV1akvGoZLSevvzBsBY/NMns2FLWP2G3lP1B0RpQV99gBx0cgHCIQei7VHbFwt/nXx4x9BbUmAMTcD4u1PN6OeHxguF5tDt34aJB4mjECS0bUc8Oevv1sRNyQUPo4SNHNaOsl16th1f5rSq5eLnM0m/4E15P6jhOnT1vfE9riGQchGno4e0AtVt90fLEAgCPIzyBtXH8hVoTmvz6jNqzujxzFOUckgRzx2GEOt4Jm9xxqKwWphPSjQ00aAtmhD2zyoQ4Nlz0wdEWmoM6w8udqwNKt2M5pQGL5LBmYWFxdwGRZxUTLHbMJWGC%2bXG20HOhpCVTRPKTjTrb0z2C/W2z8dl1DdhvLdiqz70Yw57gAc/aVVAA6ZyaPRdX5gB/KfpcmECmwBnCjkzgWdSA3YfEHDxgdU3ml3wS5QsQ3ZSw9eRIbMm3as8R3ZaurgXErxsiaOKJpMR0v5%2bw7XPaLsqhZZfGt0bhSFRS%2brzGRkj5BDXf4IvQUDgqC8srGzzC0Zi1H51yax9BK5td0M2Pz2/8QspnbGpm44uVUr8jLmon2Nk/IjdqmuRuS6dUNbRJXWunTM3MybXqRml%2b0Cfj07M2iOrGdqlt7tDrgTTd75ErlfVW3t49KGWVdTI66Za27gG5WdtsvKCjvKN3SPpGJqSyvtX4Vtxtloa2bqunbH7JKz1D43L1doP1zwVN%2bZ170tLZb%2bNDwLsugPxvdcORmPg02fEHQhLQhISV8K74N1aFFWM10YLsFZIVf8Dq0CBoyQKpoxwNWNayRe%2bKRHSVuZZVE%2bBDHe2hDYbCVsZq0xflIdWWFdW4Je%2bqtXO%2bQSx1Q3Qgt8KFDlt3JIB8DD7/rCCL7KbNlrdiDLK78aVWMvWDo7NU3qev2DD3mH0plvUV%2bYOnPpz7zu/hkX2mqMnvABPMEuB0pmbmpbWrX3oGx2REbXncNSsuz4I9Uz4wOiUzc4tyv2dQ%2boYnjK5NbX9u0at1k3Kvo9fsu19tHT/QqrZLe3zEg75hq5%2bdXzJToR6/0a08qHPPKd30jJkA/VLWMzQmk26PTM/OS%2b/wuHQNjFp5a9eA9ZHvE4o5St/WB2BzAbXFfPvG9uiEyykLhiJm16wUdo9Ns3LL5isCGi3iRoftMlFsl7bQEgWcQcMbPzGTEwh8nTraU0a9My7e8UvwwmHSf3obfLL4T2RyBDZonQyDWFj22YBxeLzTGaHLeWfwrJQ5PXOeUZscFzThnMPjHb7QoPbwJaQxIfqCjklAgyDhg%2bAQBoJDsLSDF7QmcO0zoQ4T4VBuDlv5MR5znFpO%2bxI0IEvAxFBj1JKQw0X4mXB5LHzxzh0V5je3uCxdWkZ4w0TcahoW6tQ0OnqHjb5JVZ6yJY0CD4x22Fa8V8NdQ1uXqvOIeBaWVZ0nLdRiFtBzHxqflmk1ycGxKeu3sb3b6u73ZPvgjjnSN/WYB2PCjGiza1HgcREiXRJMnr2ncnCW4wSdb49YBMdZsvLOM6HVjt4c%2bkf%2bhin77swlk%2bNXtAY4BKw0UlzQ3SCOi1VBHXGMQ2PTtsFBsjgltICLzREOkbvjrGiLc0SboMFZ8bwfn94X%2bkCyKAFgk0wAJ8MdlcbZYFOoFp5%2bZn7R7Bh75e7RcrdOmIlim2ylKUcNaY96U%2b%2baXbAV3c/Eq6QosF8bofWnlH0WjQnudupaCMt7WrvHHwog83xAYgX/fP6/kNgBhsKKM4HnHRUuNgrkM8kUcHSZJ3SSmW14bqbPbKIpdew7CoP/iZjBvp0NrudtMydWUjIXSMtsICXBuG5rkwlZi2Vk1JuSxVDa/oEJly%2bSkXAiY/eVaMbKgvGMLCmNJ5jOHnfrGEZ9KfEoP28kLS5/SunTj9DDc9SXtGe31i%2bEsrzTmX3UgA1wQzu9NhS1f1PxZXtIGqYTkogEZcaflGMPwnKhPyL103H70uPb7rC0zybkbG9EKsZiclHrbo7G5LjSVY4nLCv0roXl0mBMLg1E5JTSn%2bqOSIcnYW1P6/Nt5UN7%2brulbW%2bPa/vOsNEikH0XQP49ksxIPJX76/NcWp00dCj7HNIBJtPZsux9XelJaNY3UCbaUs5qUo6AaU%2bbVI6eOi60iR8TT2Wepg94Kr5gfe99wE5OXUh0Jt1zlhF6cyjRzNySJUYkRSRUJErk7yRbJFbOBT4Aakyi5cBho1MzWrZqdQAxjv/Z82SoUDr5uM9QUGcmayCGZpKOMDjoGJ5w2USpA9cjwwQ3HMml16TSID3QwyObYg9Z%2bp09KAlsuTCFzLN0SGzTxFLp9Jb/x%2bMH/2glB1Ds1r%2b6KPWXj0ZvRKm8f/hSsgbkCwDICSADsAP4isMScntQWgcMZQWBtFBZVpRnEFtQXlYWleakp09XnbL%2b0UnD8HjO0g8bVtA9OGpQGZqDtgCzZbXIY%2b9oDn05GsM7pgJYA0rtzoE3gC6AMfAFq9yRCdABAAeMUEtARwaPrRK%2bsic4ATu78wNG5sBMVJ02DsCJoHxm/17jB%2bRFG%2boBYJwTJAcIpV/geQeRdsBT59SJ80TGAPCKb6CMvlkgAFj6pH4zXF6yEzxo3wWUlAwdlORoOw34fxOx8zFnv/bfAAAAAElFTkSuQmCC' /%3e%3c/svg%3e" data-srcset="/assets/static/twitter.69ed4eb.935b1261d739863058406e954fd90b77.png 478w" data-src="/assets/static/twitter.69ed4eb.935b1261d739863058406e954fd90b77.png" srcset="https://mailclerk.app/assets/static/twitter.69ed4eb.935b1261d739863058406e954fd90b77.png 478w"></p>
<p>A handful of applications made their own path:</p>
<ul>
<li>One application (<a href="https://circleci.com/" target="_blank" rel="noopener">CircleCI</a>) <em>only</em> allows access via SSO, which means they can completely sidestep password management.</li>
<li>Another (<a href="https://www.metabase.com/" target="_blank" rel="noopener">Metabase</a>) doesn't allow password resets at all; people are prompted to ask their admins to reset their passwords for them.</li>
<li><a href="https://www.icloud.com/" target="_blank" rel="noopener">Apple/iCloud</a> sends a push notification to one of your Apple devices. If you happen to make a device with the same reach as the iPhone, you should consider this method!</li>
</ul>
<p>Finally, <a href="https://www.wikipedia.org/" target="_blank" rel="noopener">Wikipedia</a> sends a new randomly generated password by email that Wikipedians can log in with:</p>
<p><img src="https://mailclerk.app/assets/static/wikipedia.7d0d461.4bef162d6d80bd2e6a6dfb84cc79a6c9.png" width="584" alt="Wikipedia reset password email" data-old-src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 584 459' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-e9eb564457b1c572991c87c0c2dce3bd'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-e9eb564457b1c572991c87c0c2dce3bd)' width='584' height='459' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAyCAYAAADsg90UAAAACXBIWXMAAAsSAAALEgHS3X78AAALrElEQVRo3t2aeVNbORLA%2bf7fYGf/yE7VTDaVkwAJIUAI4b4xNj7xfXLYgG2wDYHe/jXTrIshEzA5CC6E9FpSS69vtV7f6emphDY3JRaLS6lUkoODAytbW1tSr9el3W5bXa1WZX9/3wrPu7u70mw2rb23tyetVkuOj4/l6OjI5nQ6HavB7zVjaJ%2bfnws/r3/mr49NPXr0Hy2/yx9/Ppbffvu3PH78xOr%2b1wOSz%2bdlZWVFVldXZX5%2bXpaWlmRtbc3am0o46sXFRYlGo/Y8MzMj2WxWcrmcBAIBCYVCsrGxYX2U9fV1I9K9IUD3Jj5//mxc%2btIPLn5t04zhhwS4RFBTXEpY594QAJEMbAQlmUrL0sqqinNVdnZ2Ll%2bETXq5%2bnxducmLfQ1HL6Ub722I28e/s7Nz4wovfXZ29rfN/tMLXIVdN%2b9q301%2bt53Ty8sbAXjxRqNxbaeLKkQBKc8nJyd/G4O4%2b69Wq5lxdDXoJigqgBFFLVjTVaSh44%2b1j3lXN898CutcJSpwmObSelvpujSCb9%2b%2blcnJSRkdHZX%2b/n6rp6amzIC9efNGPnz4IK9evZKXL1/KyMiIGTP6MXjJZNL6x8bGbPynT5/M6L1%2b/dpwDQ8Py%2bDgoI0vl8vy9OlTmZ6e1rmzsry8bOMnJz%2bZEZ3WMeHwpgwMDCq%2bcRkaHNC9DcuLFy9sHMYWAwxOYBjn2dlZM7bs6%2bPHj8aAbqZd99LdUmJGEDvgLoraXRnuDYS4OuzC4eGhcY4aTv6fi8fabsrZZ6RDOaM4j5p16bSP5PSkbfho82u3W3J22jF4R9ud9rGcn52qtJzI/kFdJaxjsFp1T/ZqdWufdFijaXvztVkXiaGwDy83UZVuI2wSAHXfvXtnNZyEqhQoDrfgDtyk7/379yYhFDgYDodkcDIlj8d35eWnHRlbrmq9LYOzVZkP1%2bXxWEUeDZdlaK4qTycq8q%2bBokwHD2VspSb9U7vy7OOO/D5Slv%2bOV7S%2b6H%2bl8HLtVJ5P7kj/9K78MbojUwsRKeaz6pYLxm3WZo/se2JiwiR4fHzc3DL7RXIXFhbMfTMOCZybm7N%2b5gI3CUCn4S7chrIEPARCUBbOQXF0DBjSUCwWrWYssFbrWKr1U0lXOhLNNiWjdXHvRNLllmTKx7JVOJKElliuKfH8kY3hOa19EW2nSsf2zNhc5QKWLF48V6ptndOUwFZdDhptaagkIl1w2iWQvVDYN%2b9ADMKeK5WK1RTgBG4Unnk39n5JAHQZ7kMZ2ugS1ISCBC7Pnj1TToftGUrH43FrIx2MS8Sj8n5EbcXYO1mcn1FdnpBELCz3/WcqgD4UCgUrGCkKITGchnJQFpjrPpR1%2bPb2tvXtKzWz2Zz2bStsR/KKi3jCXey15fyauqvtRsth3yt26PveFL7vv68S4Evu5Gq5blyvQdAPD4U54PihBjuAxUTHORH%2bCi9xJwJgA9BjAhrsAKe4WCxmz9iCB08AXB3%2bkQiLiMqPuL%2bSHt%2bJAJYQ0RCW4CESiVye2VGN62Lruxw8fikj2G3Y/EDSXR4MAe7yAg9BPSwSRP9RgVQqJZlMxqw/hRCZlJg/p9NpM45EhQRFD0YFeDlcIAcEN4a4QbyBHzkJkQl9gWMk/dj5yxMACYD7xPe4Q%2bcyYS4ukUPDl46aD0YFOPz48ZfjLgcckiQcNekjMKLmDOBZoAfvBb53MvO%2bBFh9P2vh%2byI5Fgpj6bH46LknPqhJhZF4wOJ7OgqY2wVPNpBg4JhMnxeOy4yh7Wksv00infU90uO9ENYIgLVH9/ECnhwZGhoyu4DlJ%2bmJZyANhn0gNYZNYBxegcMUNgP3iN0AF/M8YckZA%2bNKohQcJE2/p1TdOi0OdwiJMYhwjHS2c84Tn%2b4JCJGdi4xBMhjPXHDQZhxwh1FTWn%2blvsHriVfgzEFifAy4gXXjBqffMwIDD/0utd0XObeWAA5DcNa5DMdJPcNljsfPnz837nJGAAa3Gcs45lHDXaQBOHNIo9GmnzaSAU5SakgI8QZ9tHHBjEWiwM0aJD5d4ohFwIHksQ/GPHnyxNZFaknYcp7pzl/c2gh2x/1QHMLQhlNOYfr97rD7ssSLc9QvMjzV7s8uDT4XTnZv1uE%2bjp9Lj%2b/Nx4HX09vdlzi39SyWEIELcIgCJ%2bEgdgEdhrJQGe7BKWICvyyBa8BJS3NxAgzugG9gYOAy0eLSBT7mer%2bn37nkYG3mggvuE5JTU%2bA6ODxFzx7Yo6fpuWzxGOXWKsAEKIzlx0r7LS665Vdbbs2RBiiN/rm%2bu47S5zoMzD2G167rnk73Sxj3Nsz37w3sIuWv22XmddsilzS/wCFpQ3%2bvsUUfC0FJuIeuYQ84G8AZqI9XoAbOYYk%2bdJNwGa7CAWwDUSRwjyqx9HCVPnIM4ICL4EPKqF3vPf0ODsYBAwcShwRdXJ9N2hjG0sc%2b3HPdJajqg8NOYSgLVSn%2b5QcFF8YzHMJa%2bzUZHOHMAIw4gOIXK/T51ya0wcM8%2bhOJxCUOJM9rH%2b8xA3vy%2bMTT9n7J4TjZV68u8PJyFIoiBegYOgiVoboHLL/CBUfPkSAqwKkPCsNBdMqp7Gmxm6bGb1q%2bNb47qcBNqHt1w91pMXeXV9Nl3eOujvmnNNt18Ov6ru6jV0nokwfy61UNzAZgYfEA2AAsMTYAQ4X1do%2bAmgDHB5M9xsczhrlYdPqYi6XHMjMOq008gV1xC45tcevOmsFg0Np4GbwCuFnTL2foAx8eCPwejQLDboHvLuk58wJYWiw9BRuAi3PryyUpG8Ym%2bMUJFptABZvBBoEzjqtpzyVisQt2SbpnhIIQ9LOGr8d8vAjBDX2OHxysSc1cTqv0OQwiMZ8AibndKfyejCBIwuGIxufrypGQfa0R14VT6YzkdHE%2bouS5VCpbe3V1zb4qi%2bpLHSj1I9GYrCln1pWDYd0ct8Qx3SwfM%2bRyeZWksI1lDZ4DgQ0JaoQJnFtlYBklwI8%2bCV4SACrHYxEJBlYkEg5Jba%2bizyr%2bcX2ZUl7Sqbisry7Ldrkg0UhQNoPrsrdTkmx6y2DLi7OyGVq3wpx0MiFhbRdyKSmXlKPxsMQiIcmkEjonobgWJbUVM1z5bNrwsM7PsAN93L0XCzkJRvOyVT6TauNcFsKHspE6llCmpfWRBLRdrH6WWL4l4WxbEsUTWYo1bMxM6FA2FZaqnFpNWY41JZxry0KkoeNbsplhTkeSpY6sJI5kKtjQ57Zktk8lXe5of0sWow0JJA5lXcty7ECCybqkS0eyoTXtUKpuX4qsxg7tCxJga4m6LIZrkkzneHv%2bejkO60vvbcv8RlHeLR3oizVlaG5f2/syqPXbBW0v7svY6qF8WDuU0RUtywcyOLsnHwMNGdPn1zM16x9ZPpRhHbscP5KJ9boMzdesHxjPbxdq0q9jwTG50ZDxtbpMBuryXvGNLNbkzfyB9tUV3tDxDZkNHymsZnNHVy/GDy8eysxm0%2ba/0b2x5m6Vz116JACHGmxAqVSQ/dqu5HMZKRUyKuJlSSVjUi7mVESTks2kJJdNqWqErRw3lRMqxtlMUor5tGR0zFYiKjvbJamUi6o2CR2ftDmlQlZi0U2FF1Qt0qZCPCP65dIFrFbdUTxqc3QdVCijfbFoWOoHVSkoPLUVtxp8qA3r7VR0nWRc97FlxrQnG8A/LPqKuhUsMW5mZWXVrPH09IzMqAvEMGK4cItzc/Nm0QuF4kXCRF0ZBs6%2bvtI2Yy6SJwEzcsB4nlIXm1LDOT9/cZhZVDc6OztnxI%2bqEcW48k0ga4OXdSa0pg9Xh3sFZt8yKc6AHraYA5yCF%2bo5I4SLw7XhapySuBzafkSlH3fj3wnVavuXCVDcFC7TvwDlwAMu/yILPP6VqH/ddZE4rRmhWd/X/eFGkAMPgQxU9OQGJzK4DIxjLekrEhnUBCd%2bcOLoik8mGEICkB6/PiNNReBCcAMOuO6JEfCwJvNIjDCH4p/YdofOHvJeF3J/i9vqvvsa0n7pW4RvnRb/H0Y3uDvcjoO0AAAAAElFTkSuQmCC' /%3e%3c/svg%3e" data-srcset="/assets/static/wikipedia.7d0d461.4bef162d6d80bd2e6a6dfb84cc79a6c9.png 584w" data-src="/assets/static/wikipedia.7d0d461.4bef162d6d80bd2e6a6dfb84cc79a6c9.png" srcset="https://mailclerk.app/assets/static/wikipedia.7d0d461.4bef162d6d80bd2e6a6dfb84cc79a6c9.png 584w"></p>
<p>I'm not sure why Wikipedia is going their own way with the reset password methodology here; I suspect this has something to do with the fact that <a href="https://en.wikipedia.org/w/index.php?title=Special:CreateAccount&amp;returnto=Main+Page" target="_blank" rel="noopener">emails are not actually required to sign up</a>.</p>
<p><strong>Best Practice:</strong> Either a reset link or reset OTP will work. People may be less familiar with the use of OTPs, and so using reset links may generate less friction. However, OTPs may have some slight security benefits over password reset, as indicated by the major identity providers using it.</p>
<h2 id="subject-line">Subject line</h2>
<p>So far in this post we've been referring to "resetting passwords." This phrase, or variants on it, is used in 89% of email subjects we looked at. Some common variations:</p>
<table>
<thead>
<tr>
<th>Subject</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Reset your password</td>
<td>8 emails, all identical</td>
</tr>
<tr>
<td>{{APPLICATION NAME}} password reset</td>
<td>11 emails</td>
</tr>
<tr>
<td>Reset your {{APPLICATION NAME}} password</td>
<td>8 emails</td>
</tr>
</tbody>
</table>
<p>The other common pattern is to call this process "account recovery" or variants on that.<sup id="fnref-1"><a href="#fn-1">1</a></sup> 6% of subject lines do so. Examples:</p>
<table>
<thead>
<tr>
<th>Subject</th>
</tr>
</thead>
<tbody>
<tr>
<td>Steam Account Recovery</td>
</tr>
<tr>
<td>Account Recovery - Stack Overflow</td>
</tr>
<tr>
<td>Mailgun account recovery instructions</td>
</tr>
</tbody>
</table>
<p>For applications using OTPs, the email subject generally directly reference either the "code" or, less often, the "PIN". Examples:</p>
<table>
<thead>
<tr>
<th>Subject</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Google Verification Code Code</td>
<td></td>
</tr>
<tr>
<td>{{NAME}}, here's your PIN</td>
<td><a href="https://www.linkedin.com/" target="_blank" rel="noopener">LinkedIn</a></td>
</tr>
<tr>
<td>{{OTP CODE}} is your Facebook account recovery code</td>
<td><a href="https://www.facebook.com/" target="_blank" rel="noopener">Facebook</a> (and <a href="https://slack.com/" target="_blank" rel="noopener">Slack</a>) includes the code in the subject</td>
</tr>
</tbody>
</table>
<p>Finally, here are a few subject lines with a bit more personality:</p>
<table>
<thead>
<tr>
<th>Subject</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>🔑 Password Reset</td>
<td><a href="https://www.duolingo.com/" target="_blank" rel="noopener">Duolingo</a>, getting points for being the only email with an emjoi in the subject line</td>
</tr>
<tr>
<td>Your password reset instructions…</td>
<td><a href="https://www.dstld.com/" target="_blank" rel="noopener">DSTLD</a> feels a little hesitant</td>
</tr>
<tr>
<td>Ask and you shall receive... a password reset</td>
<td><a href="https://www.reddit.com/" target="_blank" rel="noopener">Reddit</a> has a better handle on the effective use of the ellipsis</td>
</tr>
</tbody>
</table>
<p>Many emails included the application name in the subject. This is particularly important for applications that don't send with their organization's name tied to the FROM address. Points docked from Shutterfly, APA League, The Economist, Amtrak, and David's Tea for doing neither, making their emails very hard to identify in my inbox:</p>
<p><img src="https://mailclerk.app/assets/static/inbox.5d9ddbf.b4ca97503b54f6b0434317dab2f4e874.png" width="776" alt="Five emails in an inbox" data-old-src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 776 212' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-d24778f340fa45f40306704cd00fc09c'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-d24778f340fa45f40306704cd00fc09c)' width='776' height='212' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAARCAYAAABtu6qMAAAACXBIWXMAAAsSAAALEgHS3X78AAAGtklEQVRYw41X2VYiSRDl/8%2b8zfzBPM0nzGltUVRExIUdBEVEdllqgQLUmHujMouCVqcf4kQukZFRGTeWSsz9jazWG3l7f5f1ZgN6k83bm66t3kU555as3Gq9/m2i/Nv7h55V%2bvjYmVu94fg9soHcjveJOvfH8bXteaxtvj6XaA0DGU%2bm0nx8lNHrK8YT6Q1H4vtzmXdOxXVn8jqd6Tr3e4OBzBxHvMVCXB%2b0%2bIZ8X7zlUqbzubSfn6Xz8qL8CWTnpOFoJJ1uV/rDoQzGY9w3xV0TeZ3NZAKydpEPsT/CeO66KkfbJ7O57tEu6hiOIYc597lHPVZ2Chm7T/lEe7zGoZFc397qx1XrdSlVahIsIHz3h7iznhRKVSmWy3KevpDDo6Q8w%2bgAnuUj%2bPjAr4j7y9VK%2btB7enoqqZMTSafTkkweyfHxsa6RVyoVqVRrksR%2bJpvVu85wV6FUlqvra4zTcnl1JdmrnKQzl9Jqt/XBiuUKbK3C5nsp4XwZRNu43nxsSe2%2bIZVaXdcpwznXOafMQ%2btJEp1xIHPP1xelx5SsB5cb8ABe5IcG%2blFb78bJnPMXX5AvjkfyIlnHD%2bdz11POh7IPR/2eIUWRGS%2bCwDxsXGapMrTPMbL28eN64k7xocfqStCTrr81bnspyH3dVbh3QZzb8WfEc3xgz3BSdJ99EMx3P3Kx8%2bEkPqLd36e4bTsojNnGOxxzH%2bGvIcBEQIMYW3MshLE2Fd9DjFT/FGc%2bALzqcnaelovLS8lcZpUuAEXCMXdzq/AMvfB5CPT6fYV6MplU2B8eHsjPnz/lBJA/OjqSEiBPWJ6kTlU3wzCTvZKj5LHc5vOSzV3reu3%2bXmUKxRJsCW2wdtC2dqcjjYdHKQDeDeS0fLEchYYNFYZE7uZO6o1mGAJEAF%2bFicp6gi/tLeAhpw8PebpnE8pkFiZFzsm5xzX3C%2b/zIfjAfIRur6f5oGvGpBfE8oiPDxkmKcbwxCS/8I6pDJAkyUOZiY6HJlnyDDntmMN2Jjm11%2biwc1IYci7GToSYRAAPxWN4J35WgnEgK5a9PdqgZJHH4/aX2Dfw576eQ%2bkJWGpZZklmjSihI6iTxP2IzNpqY85yHNu38gwN6qBO6rM64%2buL2Do59xIrEwLWCxN91RnKIF688TfywFjyJUDq4SHMpCCOLVT388BnIcAyl0V2v0ZGJ2UAV53f3Egul5Mm9FVqNbm5u1NeAoTzgDnhfwX4F02IlKtVrBfl5vZO9znnmBmdKKBMHpXj8aktL0BZq41S2%2b1FFYDjp%2beONFstrQacJ9ioEBqEC/nMmYNc7QOc3hlCYA7hJyh90pghZx0vlEraO/xfGeQrE7YsdUUYX4HRBXBSCTrIW9BJmNvHrTdQrhDLLHfkjH3eaecP%2bAB%2bZCQLO%2bg8hg8/mvdR30uvrw9DTtu7/YGW/HbnRWXZM0Qh4O150kV58TaiZdBCTeEGolct1Lbh8xktohKl59EBrm0nCNqgG%2bSahSgaz%2bieNyMbjU3I7PCYXQp1E54aAtAZGIqHbnzOcYSAV9NdaZJwXPW80z0W15tJfzTGK/Y0y3ZeutEHflX29ksYw6rRRNaFp8jr8Og9PMc54c8ESY/Sy7yHnHM2ZpwTquRMfPSgJkaTBOlVQpqdY1jBJtrpsTO0KOC5gXabPbM%2bVuIYOWC9LYPaXk62OeDhH1SCEWKrrl3YMUrQJcoTH%2by72N/PAQNAjR3g2dmZXCL%2bU6mUlsNzrJFXEfeEcursHCUvp9BmbLO0MS%2bwzDIP8EHumw/6OIz3R4QEw4LxzbUadNRQ3qoaSo/6OMwPRZRAwp5xzy6X8pRhKdyGwF7nRPh6QRgCUeY02ZPdV/Qv8G0IbJFiGxhtakwG9mNNj4XrcrU2WXwdZXMLa8rbjtGeX9g12yDpmtG/DCIdfnTvKro/rAKmE2RX5O50ZegDZs/ioyNk/Sc6bPdkx78TAjSK%2bghP1mJy0sTUbq3f0MUkHOr2NAnbmq3hCVl7r%2b1XKBPvKLc9jKeyUyNvbbXdqN5n2n5yfYCZ/iGNle92gn8hBIZykc3pzxI7LmZ//hT9%2b%2bNAc4L9KfqKbCfILpBdH%2bF/cPADdKBrh4eH2gkyBNhtUn/6IqN3pTMZpfOLC11nF5hCGDHOCXf%2bLN0VisoZGoQ7q1TZdH%2b3%2bYLCnN3fbb4Y/hwB%2bjd3eQ0LyusD0FDt1Xc8B/IdICD2U8JGyfTU9BjPLJbBt3nA9ulh1xZ6Xjs8dnREAxIRvUI4urE%2bPR5C/iL2LxKbW7tn6OwcIMez/wOLX/9N9v9j7Pw/vbj9e8N3TKMAAAAASUVORK5CYII=' /%3e%3c/svg%3e" data-srcset="/assets/static/inbox.5d9ddbf.b4ca97503b54f6b0434317dab2f4e874.png 776w" data-src="/assets/static/inbox.5d9ddbf.b4ca97503b54f6b0434317dab2f4e874.png" srcset="https://mailclerk.app/assets/static/inbox.5d9ddbf.b4ca97503b54f6b0434317dab2f4e874.png 776w"></p>
<p>If you don't have easy control over the "from" names on your application emails, <a href="https://mailclerk.app/" target="_blank" rel="noopener">Mailclerk can help with that</a>. 😉</p>
<p><strong>Best Practice:</strong> Be very clear in the subject line what the email is for (resetting your password/recovering your account). If it fits your application's tone, consider a small splash of humor. Make sure to include the name of your application as either the sender name or in the subject line.
</p>
<h2 id="reset-buttons-vs-urls">Reset Buttons vs. URLs</h2>
<p>Modern, effective email design usually calls for a prominent call-to-action (CTA) button. This minimal reset email from <a href="https://freedom.to/" target="_blank" rel="noopener">Freedom.to</a> is almost nothing but a CTA:</p>
<p><img src="https://mailclerk.app/assets/static/freedom.8623c19.a24478f56e05f856a0a6026af95ec40b.png" width="526" alt="Freedom reset password email" data-old-src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 526 348' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-85b04f56b5da22f7d1bdf6dc69529427'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-85b04f56b5da22f7d1bdf6dc69529427)' width='526' height='348' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAqCAYAAAADBl3iAAAACXBIWXMAAAsSAAALEgHS3X78AAAEt0lEQVRo3u1a61NbRRTnv1Ts6Oj4J0hrq%2bP4QWf8oI6PVmXsiNZSpFpqLQ0Igq2WtoiBBAJ5vx/kcROSS97Pn3sO3OslKaF2ci9JcGfO7N6ze/fu%2be05Z8%2beZKRUKqFYLJ5JItlHqFGpVNBoNHSner2OWr3GdUdfoy74NSYj1kIyk%2bwjhUIB1WoVRpdWq6VpNw3/PsncAQAtSi%2biEsp6sBVfw14ppX6veSh8oZqHPbkBt7SFZrOh63q6AqDXTu9XsphzTcMlbWLRMwNz9KE6xi3ZYHJOwUl97luI5Py6acapAVBv1nDfN6vyn4SXsRlfRTjrZUBUfmgJmWJK9/UYBgAVRc1XggtwpCyQy3vM%2b913FzPbE6g1qpCFhkTlwBEwhgIArd3lqzJuWC9jXpgClbXIfdzZucbtR6FFTJg/REwOqqANDQDa%2boF/lnecyrL3DhaEzStO8Q%2b/CZV6SVdtNAwAreBab/9ImAE5OXP0T%2bEQt5AtSVjy/oxcOcN1u/cfIg04AIB2e951UzjBJZW3kzRj1jHJxySrvzgGtQDosTGGaIAyX0HYfi8CpoE0ATr/d5Lr7ACLtTyreqNZF5ogCbNoIF1MIJB1cR%2bdDtVGBVIhjozQFMVsDNWAXkdcJJQnvQ1fxg5bYg3rsYcc8DwO/QZ32gZ/xiH4f3O/f88pjkkrj3NKVhEPJHVbl2E%2bgDx%2brrLHZpAq7LKgtLsUEWbLabZ7Ov8T%2bSgisp95shifr%2bZYaw73zbi7QK9vXc2mOM%2bbLSaWo41Yyzt4LZUO5mn2bD1dNYBqWZZ1pBxygqit1Apf3%2b8eUC6XQ61WMz4U7sfS1QmS2rLqtrW1z1rq5nC08zxtjm7jDL8O91NpjyR1BYDSQ1TC4TAsFguCwSCcTickSWJeKBTidiwWg8/ng9frRSAQYPJ4PCplMhkeT%2b86HA74/X5Eo1Eeb7fbkUwmuU3z0RiXy4V4PA63281zEY/eyefzHcGUrnGAAgA5CRKQFk%2bL2d3d5UXSoggAqqmPhKF%2bAop4iUSCBaN2KpViPs1D79tsNuYTMJFIRAWRBCbB0%2bk0A0IAKrxsNmssAP1oAhQtaiPBXgFxYiDUzUE9qxPU8nuZPDU0FG5H/iSn8rTbG9UP/Pdwc3Mct7cnBH2j0oxN0Pa/dPtIewLTm1/hiQiXDdeAnn5EXGw%2bWbmE83OjuDB/Dm%2bYXlCJns/PvcTtMdOLak108ddXuB5ffW/wARj/6328vfAafrF/L%2bgapqxf4JbtKq5vfMbpsB/EM%2b020Q3LZfy09TUmLZ%2bLd17Fd%2bsfDwEAYhffWXwdV9c%2bEMJ%2biR%2bFgFRfefwu95HAU9YrDAAJTqSA9q35o8EH4NOVt3Bh7hwuzr%2bMMWEKY6ZRNgl6fpPNYJRNgVReaV8SJkA1AXEqABzn/J4nG7QaXsasfZLTYEfIOc3Z4Q7%2bId21X8dGbMV4AI47zrTH2rMsptcL7ptA6L8Ir2SDKfX1fGRwIER1uVzmsFUJX5UwlcJbClsH/dp8IgD7%2b/sci9MlRYn5qaY7AN0HhhqA07DJvgLgOCfYHtsPrQachZTY/wAY%2bcNIv9JAJEQMzQpTSuy4ZMcwEsmq/k3urP9R8h8eO/QotCaJTQAAAABJRU5ErkJggg==' /%3e%3c/svg%3e" data-srcset="/assets/static/freedom.8623c19.a24478f56e05f856a0a6026af95ec40b.png 526w" data-src="/assets/static/freedom.8623c19.a24478f56e05f856a0a6026af95ec40b.png" srcset="https://mailclerk.app/assets/static/freedom.8623c19.a24478f56e05f856a0a6026af95ec40b.png 526w"></p>
<p>For minimally-styled emails which emulate the style of email clients like Gmail, URLs written out in text of the email also look natural, like this one from <a href="https://www.citibikenyc.com/" target="_blank" rel="noopener">Citi Bike</a>:</p>
<p><img src="https://mailclerk.app/assets/static/citi-bike.25424f3.08bd8d58da576e07b30e66f747badf88.png" width="760" alt="City bike reset password email" data-old-src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 760 229' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-5f50c7a3fa23a56c3f574896560f6014'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-5f50c7a3fa23a56c3f574896560f6014)' width='760' height='229' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAATCAYAAAAgcwuHAAAACXBIWXMAAAsSAAALEgHS3X78AAAErklEQVRYw%2bVXWW/jRgz2//8tfWi7QJLtPiTr%2bL5v2Trs%2bIrt2JYsyZLl81uSsrxBsUCTImiz2QGI4ZAckqI01Dex/X6P8fgRy%2bUSg8EAs9kTbNvBarW6kGVZcF0X8/lCeCaW%2b74vtNlsRL9ery/Eetu24Xme6LfbrciDIEA0TqcTXjIiu80mgEs%2bNuSDfdqOA4fIoxx45lwsi/PaiD3H57x4hDrr4pPzOh6PiLHi5uYzSqUyPv/1BX/8%2bQmFQhHJZApXV9e4vb3D1fUNMpmsENsmEkmRd1QV/X4fo9EIjUYDtVpNSNM0WTebTXQ6HXS7XbFRFIUKPLs81GsLsFyaaHdUeUnT6QyqplMOGiaTKXSjiwW9RJZNSc9D13XJhcd0OkU8Hr/44hd0OBwQ2253MKky7Jzf0G63w38xXvrwb2H/Iz6aY1t6YK7o03wOi6rCBeBPgw2OTMRf1uf5JfQa27ekl8aNRgy/6IgKEeMm%2bL2hbahJbYW44fBaiBoOfxlh8wme6fwLLzPZBdtwr0PNh%2b0DOmLsj23ctUexbGpYLvnbX%2bIIBc8bXOhzTY2K58j2e25hHM/zpQFGPvg4i4wojOmLD9ZxY2dfke54PBeAjVKpFFRqVpVSDq16GT1DRamQRaNWpDkDtV1HW2kIz1QuZlGrFNFpN2XOZRLo9zTks0nR16sl2ltCV2/LXqVZxWjQE3%2b1SgHp5FdoqoJatYgGxWPZsG9gSDaGpqBJMqZE/BaFfBqG3iGfRYlRyGcoXhLVcoHyyIk981mSTcZ9ilGW2CzXzzrOI5O6l%2bdj4vyBQ3gE%2bLfE3fmJfnHNBw91w0Vv4qP1sEazt5a5SrL%2b1ENJtVFo22j0XGgjH4%2bLrdi2%2b2u0B57Imz0HnaFHax9V3UGjayNPe8qaS3IfHZLrY5/iOFDIt/FI%2bwdhrMEsoBgOiirvc1HRHFlXtZX4Sjcs2uOSL4d8riROSXWRU2xoxPOeMLYHhXLiHI3HDcX00Op74q/eXUPp2cTbsNwdYrvdFg9dDcvFTJK8LS1R7NCDEt3XLGRaK9yVTdSoCAlax6sWUvWVBOXkWJ9uhPS1YiJJOrZL1mlvk3heE88%2b46SPV03RcTIcI3GOkSKZSsmzjPUp8lfsOFK8iu7KfvZTIBnzrGcdv5A0xeFY7D9LviQ2zWXKj3mOWaI9nCOvOXfOdboMEPOCI24rDrKK%2b0s2w9j%2bcMLU3MN09/%2bym0IaypvQ6fR2vv6BDsfLX2CHlbnANvDlb8CQmNEaQ0vmTdMUiiBxBItZx1AzAk5/Bxjv4Tf3I8T5fC0F4N9JpVIh6NpEvV4nGExdOp1GLkfdslwW%2bMg8y/L5PEHkpEDbTCYjMi7Me3rwVx%2bB/wPWvqsC8C2t1WpBpYsNv3G%2bEfIFxjAMedN8oen1esLPCS6322252fGIYOdP/QXwGX6gGx3f6hgPGHSrmtDNSdfDAtTpVsd6lW5V/f5A5Pv94dU3ug93BH72B78UwPH2%2bP1%2bRqDHJHCwxHVmTsBnSYDBxG93U3xKzvAlvyDgYQkSZJ5RlhyBj/AFMA4YPm0wIpoQMhJ%2bHmBMNJhtMCQan9ePi1C2OmOGj3AEvgFkQ1bHa4P4yQAAAABJRU5ErkJggg==' /%3e%3c/svg%3e" data-srcset="/assets/static/citi-bike.25424f3.08bd8d58da576e07b30e66f747badf88.png 760w" data-src="/assets/static/citi-bike.25424f3.08bd8d58da576e07b30e66f747badf88.png" srcset="https://mailclerk.app/assets/static/citi-bike.25424f3.08bd8d58da576e07b30e66f747badf88.png 760w"></p>
<p>However, a surprisingly large number of templated emails include URLs in plaintext, instead of or in addition to a button. Of the 66 templated emails in our dataset that use the reset password method, 10 have reset URLs in plaintext instead of a button. The result is often jarring, like this email from <a href="https://www.twilio.com/" target="_blank" rel="noopener">Twilio</a>:</p>
<p><img src="https://mailclerk.app/assets/static/twilio.bda6eff.ba1f0a962369acde5e1a251d2ccf2601.png" width="645" alt="Twilio reset password email" data-old-src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 645 734' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-cff330d8bf82608ae119d2989165045d'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-cff330d8bf82608ae119d2989165045d)' width='645' height='734' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAABJCAYAAACNZiAWAAAACXBIWXMAAAsSAAALEgHS3X78AAANmElEQVR42uWc125kxxGG9/EM%2bMaGYMCAn8CAn8SGJVl3hi8MayVb0gZpIzcwL3POOecwJJfk5FSur86p2bOzMxySZpo1gUbnXP3X331qeO/g4EBwh4eHgSMcjZe5oyrppfyjozPzq5W/aL3L9ud1fN739vf3JR6PC3/FYlH8r1goSCGfLznipTTCWraenS/CRwtQyGbldGREknNzUvMvslj1%2bPfRAiTCBdh//kxW//JnWfvqS4m9apC9hw8kMTUlx/39svblX2X966/kuK9P0pubJYmpR8cfR8EWIBaLlRZg57v7svq3r2Xtm29k8x9/l7k//VGm//B7mfziNzL1uy9k4te/0vBvZV3L%2bDEp1pEkRBegJAEsQDx%2baomJ%2bXnZuf%2bt7D74SbJaIL21Jcm1VUltrEtyeVkSi4uSXFqSTGy/7iXg4yOQSHxYJt3Vcy7n54EBSMDp6akhe05BMK8on8vlLFzVkV/HjjlW1gKfgXq7lBr0I1AN0Gqdp7pXg1EidNEJfhYgWJEJhmGORSqVkmQyaZKSTqftHBHPKh6Ul69LNVjpCHh4e3tbOjo6pE8JUG9vrwwMDEhbW5s0Nzebo5HyxuthAT4mQmcsAIjpDmnAZTIZkwKkgfBtHYWLSt6FjkA9iPVFx3cpDOCcZ0Pd71LgEsHuu%2bp0/oDvOOES41IDbnh5T/cwfYA1XtcHW94nadmQr0THeR6puNQCbCkdBgM4/44DuPHxcRkaGpLOzk6Z09sj/rt376SpqUmm9AI1OjpqfldXl9UnTr3BwUGZmJiQ9vZ26ddLVnd3t/T09FhbtI%2bbnZ219qk3r/ScMPUoP6K3VfrZ29srgXSUv5yFRzWpcDUtwAIZU9SdYZfYTT/77Crpjgv4vkvuexp/lIF50qdLl9f1Hfd2KeOSRBmXLsZQqELZzzoWlwLBjY0NWdRLELuypBehlZUV24FlvRyxwzMzM5bPzhBmp8fGxkxy2L3JyUnbcfdxlFtYWLByw8PDsru7a%2b2TjtZhx%2bmH%2bmgdr0t58iiLRDAewrTBWMi7sATUWgB24uTkxCbMQKnE4Ehjkjs7O9YYaUyKBfO01dVVWVtbk/X1ddnc3Cz5SB39kk8accrR3vv3760v2sARJo9FwNE%2b5b0ffBxlNsveKa7kCPjkED3OHe74%2bNgmwGARJdogTDr55FGPRfJ80imD%2bOPj6JcylKUuYSblx%2bCqNcOlJIB8gIlFQMwQPQCrsbHRxJMdQvxJQ4TJB7wIsysAFyCHmHJUEGXKUgcR5sjgSKcuYs6iRQEuqi2qcYJC5HHmSiTgNnnAdZGjulmA6yJHl%2bIBnEtAhjIcByrh%2b9nlTOOib/Scb84yfhSwKEccsCIPXAD4OP%2bkA7g%2bMPLoA%2bAljf4dV%2bg/%2br6PT3lw6sqJEHoY9YJK4oxCXKanp%2b3cEkYNcZ79ouQYATFCK5BPOrgAioMD1ANPyKMcWEB9cKa1tdXC4AZ9giHggpMqD9MPuOJliVej9Od4FK28ANELEcfEaSk7FaWokBSnsU5anEYXzvvGeAW8/yIYgAQx95paANFqaWmxlWa32CXi7AQ7Shphp7VIBxIQvToj5v/rk9t5wPHSGFDrOszO5sPrL3F2ljC%2bP4wUwnR/ePRHlOjDyW1fkcsXACm4setwpcFVS7vsff9arsNFrqCZrH0FCuKFUtg/DxS9XLS%2bl40OwP1szpx/XTKfy1Ame61q%2bGILEA4sO78kyReNknj8QlKN7ZLuGZLkyyZJPnsjyZ8bJN09IMnnbyXxwxNJNrRIpn9EUq9bNe%2bVpN/1SupViyQevbQ6xJO/vJLkU637uEHbeyeJh8%2btfLqtWxL//lnz3kq6vUeKenRuTALOwoBiMiX5vX3Jra5LbnlN8jt7Ujg8kvz2ruQ3tzUvZmnEc2sbgb8a%2bIWDQ8nv7n2IH72X/PqmFGKHVod02s1vbAVtqJ9bWrU6xbIHj9t7E9yN6S4PSnZmwVzqTatJQaq5M/BbuyX1tt38zMhUkN43LOnOfkk1dUi6o992Pt01ELpBbUMlqaNP0r3DkhmelOzc0pU8eV2LBOR1F7NjOsjpOd2dFQ1PSWZwVLLD45aeGRm3eEbjucVlyY5MaHgs8PuGJDMwGuaPWTg7qnV0gaxNbSs3Oy%2b5lfUPX5srvO7c6rN44fhEJz8fuMlZcww4t7iq%2bLAciDFh8idmNH/OjorlrW1KbmE5SNdddimifnZqzsL5je2qfd/Id4GaEqADTD5/I6mXjQZ8gFamG7HusR3FB8RSr5oNJJMvFMS6%2biXTO6THoNeOTPLRCwPKVEOTlU93aPrrFm3vtR2jSurvziwAqgkpMKeAWDiNB%2bGTuBShvienUogngrzj08An7ejYQM/KUof0w/cfwlo/aCNzYx9WLqgGw8uQinjiP79I8slr3bG3gfrDqWpMNTRL/F8PVCpemEpEjSEhyaevJf79I6uX%2bPGJxP/5g0pAo8S/e2TqNKEq0MI/PTVpua0FsLtATSLECyzqTFWhud19U32F98emBkt5u6F6JLyza%2bFC7CDMjwVqM2zD8qgftnc3JcAxYO8gUGeqyrKzi%2bZQZcmXzZKZmLXdT7V0SXZ82tRc4vFLIziQIlRjVsuYSnzTFqjM9t4AD1Rdptp6VLOs3dgDzKV4AOfaVODcQkB8dnUnlfBkJ2ckv7WtKA%2b6zyvB2QjC41NW3tzMnOQhULMLVt/c/JKlW74uGtJw6xJwphZQ8c30qx7vGzEHyYHuZoYnJI0/OGZkJm35w7bjpvaQFlWFmbFpK5sZGg/aoZ5qAVObqEIte1sLcOZt8IMa3ApUV2uXim1wFFJN7ySN6xmUNGktneaMJXb1BRNUwgPJySjIpdu7jevThqlAvR9kR3VRegZMld5pDICT57d2ArWWSAYqTtVXbn3L8ME4vHL7wsGRqbn8jgLblh6T/YPSPcHKxo4CNan1aS%2b3uWOEiDp3Ww2qBMTvP7QdzAwFtBYen/j%2bsd7sGkzNccNLvW0zsoSUsMOplg4DT1Qd6jClt0GocbqzT5IPnwW3RPWRqDuNAUU%2bcrLzp8HuodZst4mrKjOVBrk5DCTAVZyRIHVFbdtUaXk%2b0oKaLLNPujtaIHwPALUTRnIeB3d5JT%2bQICNAD56XJMD8kCrbjkOLeScgXYmPkaNvHyihehXQYyNTTaY6b1UCaqlBew/Q82x3eCU7AR4EuwvRye/HAsIDCSLfidLJSXD/ByPAA/LAhP2grEkSNFml4U4vAAwuuNP3Bff5TpB7TM8w7wKq9qYXLD0FRoxOK9npMnWXet0m6e4hu%2bygAiFBECKr%2b6Zdy07Ze8BtqsHzLYDuIKor0zuoE%2bFOPxLc6ZmYcoCckiC79ys45hZXwjcA5QT9yhcGAz87NRu8Hegt0lQjadTjXUH9Ow2C3NzsSStUZ3bH17jd7ZXooPags7wBWLpKRG5hJbjzzy2Fz14bpTRzhHWxTF2qu64HkCtZACYN84O1GZmB6Ci5AQh5vIT9merT%2bz1vAjx%2bcku0NwLl/0aglCRxW7SnM1WNrjZ5UOV4fHIXuOkHkTOJELY5CnzBLS8AOQMve/AM02IhIeLBFHCLhXn2MHoUpJMWPpQaYFKHuwXpSqj8SfxWJKDme8CPSmYePDMVCLFJ6o0vfj%2b8z6sUpPVWZ%2b8AqEEthxpEWpAIey5XdUgdHLTYqDQ%2b0oFUaLnS09g1/grlcmoQ2z9/2UF97YeqTOP5g1CdkY8PwTEJOIiEg/cAI072knRq5KdU3kjTkb0uXTcYXogI%2bVm8SROJO3cZ8vipkpps%2bMmbRSGeDz%2bA8lHUFqpwhR827woIuuEin8QxQnArUEzb%2bBTOp3HS3QagnqzFL2Qs7b8ZwJTF7YP57M0ncurehA6/MR5w2c/T9f3DySoL8Lm6qmrw/%2bmvtABuZsb5dhPW63T0dRP9lLvy%2bZV%2bPu9nodyRTiUGHB10pbD7Xr58wrXaqTTAagvn4ypvI9pHdDw%2bWbdx9Pn6/xK4d1DhnyXQgJu7Y%2b%2bLVTe2fDhUIPbBhElHRWIIiY8NIPleHjtBN3v3dNKojyMPRzp1ccSpSzjah/sYWdKGW6JH6/o46MvHQz8HZ/xDiHvlq%2bJHgsYwgMQEDmNpzOAwe8OoGQNFN2B00zjKkE6YeoTdaBIjSdIwuKQO3AHff1uAo203usbEjnb5XQL9EKc9%2bqAsBpOUpb6XwZHvY%2bRXLLRBPTRd%2bRxLR%2bCTf6ERWQREKCqaHo%2bmY7rqvoejcTeD9zqYy2I2yyDZSazKGSzpXsbrRkW5Up/RvshzM93y9EpzLKnBaue/Urqfo2g8aj8cDUfT/AcS7rMAGFkiLUgFC0F5z4%2b6Su1FXbWxVnMVMaDSxKOrVG1hHC%2biQOVxBoeYYimKmCLG2AFDnz2MeHI8XIT5ISaS4T%2bu4odVnGP/4UUl0Kw01kpjrzaHe9XAobyhSnmY0QI4gJEDFeAJULmYI%2bIYRTMRF3kHVOKIP3mcbS/joEaYcuAR7dKH9%2bUA5/r8rLHWBMFq4lFpFaMYweQBHiblP69FtNlZBoePFABGOCbJ7gJibvFN3G2O8Yk7%2bDrwOvh52%2bSTR9hVYy1prSQdnyxANXGqlB%2b12Y8CTpQbuJiWA6GXiwKb/%2bbAy0VFvRIgRoHvrLHWWoT/AsN%2bOd3BHl/JAAAAAElFTkSuQmCC' /%3e%3c/svg%3e" data-srcset="/assets/static/twilio.bda6eff.ba1f0a962369acde5e1a251d2ccf2601.png 645w" data-src="/assets/static/twilio.bda6eff.ba1f0a962369acde5e1a251d2ccf2601.png" srcset="https://mailclerk.app/assets/static/twilio.bda6eff.ba1f0a962369acde5e1a251d2ccf2601.png 645w"></p>
<p>15 include <em>both</em> buttons and hyperlinks. This can end up looking even stranger, as if someone decided at the last minute to add the URL. See <a href="https://carta.com/" target="_blank" rel="noopener">Carta</a>:</p>
<p><img src="https://mailclerk.app/assets/static/carta.3dbe52b.1806bf5259a9e6dc5a3e0c7efdd495ea.png" width="596" alt="Carta reset password email" data-old-src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 596 527' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-aff35a012e275d7aa728d95e7e74790f'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-aff35a012e275d7aa728d95e7e74790f)' width='596' height='527' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAA5CAYAAACGRC3XAAAACXBIWXMAAAsSAAALEgHS3X78AAAMGElEQVRo3uVaWY8c1RX2PyJEipQdoiwKectDFJEFIhJ4iLIghSgoiZKHBMJObAI2S8BgFpvEgMDYjrFn9Sz2ePZ96el939fa68s5t6q6q2u6a7qHGQ%2bCkj6de85dqu5X55x7b3UfMU0TxbqKUkNFmVCRNFRljaSKhqKhJsoaFE0XepnskmLpiqpBbsLSlaa02ui6Do3AY/BYTnvNrmM7j8s21rlPlWwS6SqVDUMX/eoEvi%2bPxTau4%2bflvgzR1q4zCWUag%2bvrVMdo9nWB535E1Q0spxpYzSjYzCkIFghFBfGKimhZRYJkrq4hWVWRImSpXGhoKEqWzLtQsFGS9CbKhIrc0os22Fa2UXTayrad2zQsybaqotO4lu6MWVeMpu4G9%2be6qtx%2b37Lc6s9jF4kcJuSIRgQE8jJN2ppwvKIhXdOQqNJkqHGGJswQDym3JuDo1gMaAuKGXhs9fMUuO6g121tlrq%2bpll51dMWly60%2bDspyu%2b4d160z6mprzLpqktewZxo4ohsGoiUZMZp4qmYhZ79RnnjbW2JWFQvVJoymjW/QUA1hZ13c1L6xI6t22S3rHr2m%2bMuqj73mwc7J8zOaIkSaBKSqiphsrmG9aZbOJNnVS7Yb1ii%2bq6ol3RCDakZTt8oWmJB6j6gpO2WTwD5RV9vLVY%2bt4iYgV1dQpEkWpNbEy5R0eDISTYbRENAFHJu7rm7bGzYkjxRQ21Hvk6COpHmkl8CGa9LOvSxPoSRMcz9iGBxPlC3pAWXdgm6YMMx2mA7QKrvrdYJKY3FSVexxJL1FkuwhbQdZamei6j6yFzRcRDTsycuaSYnSzgFMAC8/%2b3u1CNKITIeQHehAipcgyUtKB09yE9NN53GaRBABvNTvIMB0v%2bmPhQ6UsJcYlpfslZC2cOqmq%2b2y7pIMWXO8whUCbgLcsu/37urvRUcy7HBR9A6kaC10C6F%2bwJNXdFNMnkOgoeqdPWBfA6GLh7gvw2x5hdIjIX7kuG0NzZos687kJc0nB%2bw3Ae1kdPYQNxFOvvAjQ%2blGiL6TFFlvJ6WhWf0lJkX1CYGDvnolQhXoTko3T1F0DwG25LEcb5DUm%2bwBfiHiLbuJECTw8irKtt6VDLOdFK1l474tb9klBLo9mLUPOAAiuty7jQjDS0SLEC8Jsi0t7zFbHqEZLZvWJQQ4OztBy2Wvm3ZKZDfDI8w2IsydcL19N0Fy0zNcoWVYq4DezQM4W/rF7sEnTH8idBcRmocIR2%2bS4XiMYTaTqPASrwc4t7gWlnDnqRQePJdDKK/SdlZHtCpR8uAPDZ094sCI8AkNb3hoHjLadN1sI0N4gubyAM32gEBOxT1nMvj2iQRuP57CHS8SERcKODVfxkZR8/WIw1w53F6heSfv0t12qVsIsHvk6gaurycxHy5hLlhAsiAhly9jenYJ6Uwe5XL1pnhAL2G4m1fohkOOhxC9QxLkMl/bgSDGxq4hHAzj3fcu4N8n38bA8CTOnL2AietzePm1s1he3Wrrc7Ov3TZWZvOEupMMtsuaDwHzS%2bsYGp3C2LU5vPDKf/D40ZeRzRUwM7eCDy8O4%2bhzp8gblkVbdqPDvnZbpdwn09ZS6rMTNKhBYDtCbl9EKp1DvlASX3Er1Roy2TySqQxkWTmUEPg4ucJ9ad0I6GdC3jzQaXW4WStGtxWk22GM520YXT6IiE2HbmVJXbe%2b3zsdHJujO2Ej3Mxlc%2bNmbKL6DZWOBGiaJty836uXL0qflFDpSICqqsI4TJn/oSeexeDoBNY3t7G0uoG1jQAlxVVsBkIC28EIFkjn%2bvnFVVwevIqR8esolcqUNKdF%2b%2bW1TVEfDEdxZXiMVo6Z5k0PmwhfAs5dHMAHF67g/KVBPPDnh/H4sRfwMBHyyNPH8dxLp/CHvz6KR/95AqdOvyPqXnr1NI6dOCkmOT23JNo9/OSzZHsFf3vsGP7y0FN47OjzGByZ%2bGQT4LhwOpMTslSu0IQWsSLeZACr61tIJNPY2g7RylAQMkB7hFq9gcWVdVopMqjV6shSHXtAMBQVHsAIR2JIUv1%2bfHPcj1DqSsBBZ%2brdJtUvEQfiAYfhnntZdvedAM7%2bfLFrj07cIPeOUDksktrc4gpm5pcxMTWLq1THCW15dZMSYhhLKxsYJ53rrk/P48bsogD3WaVQ4LYjY9dF0mTb7MIyYvEkZmm8JQodvs/cwgr1n8EkjbGwvIaV9U0aY0HUc3hxAub780bMWmo/Xjj4eoCiKMhm04jHY6hUSohEwtja2kQoFEIsFkWUEAqHUSzmkaN2oXAIWwGO%2baDow%2b2jsTgymQwq5SLFf0Tkj3yhiHKlinQ2J3JILJFCiHIDL7mFYgnboYjYYcaTKSRolxmOxsVuM0IyGkuINvvlDb4EJDNFLAdrCKZUxOlozHIjJiOe1xFIKkjkNaQKOhaDdQzNlRFIkI30WFZDOKMilFZRlYBMSUOE9K1YVYzNyyG/UWuSaaxRYuVyuVLBxlYQEZokJ2BOljzhWCIpSGOk0llh5%2bTKBLEH7bsHsHvxNbsaxcnzEfzveg7nJ7J463ISr16M46OpHF6/lMCZK0m8fzWNs0MpvEE6tzk7nMJ/SX/lfEy0v7pQwPtj1GY4g/eGw/RG0%2bKt86rC7s6TH7f3C5sUchxC7CUztIwOjIyLsOFwYq/gtuwpTNIALaVXJ6bEcttoSAcTAobzYUFjm/3Dp61b2%2bNWnS7O1IawaXrrqCkrBhTNsnO7g11V0Pdy2dNZwD5K2PDavfWm33HEc0Ywu5wZzOYmyX1%2bMFy/Uuu2rbdl0mz7XtAzAXzQ6dypv4PG/p3nerV2el6z/2WQ45LjdGZ%2bSewCOf54mzs1syB2dbxUcbyyPkrxyHHLMct2XrL4DMF1vEvkOB%2bhs8XY5A0R02znGOZxWOfzA7fnRMdjso378NJ7bWqakm8eoyEVk2EJwwEJV4MShki%2beK2CK5sNYbuwVhdyOaWI%2bksbDcSKqu8L8fWAhiRRds6JifPWl5MXZ2XOwhVaxqLxhNgmc8beDATF4YiXrDgta7zMcWbnfpzpmQTeS0REVk9R36SoK9KhicfjJMd9y/Z4XM/326ZtdIJWgWxFxnRMwQytQrNxBfO04qzTyrJAkid8IyoLyfUs2b5Eq1a6JO09BD4tV98h4PcHCefvMU7Wt6SzArTQZjd21re366Gf8w2/C1SPbMLw3y32TMAn8WPGfpwz%2bjoMucngGLy03sAgJaCBPWBoy8LgljXGkC0Ht1p1XuzlPpfpGSfDsvDcPXlANwJ%2b824Otz4Zw9eeSeArx%2bJ94UtH4/jcEzHcQvg8jfGFp2NCZ8n6LXYd2261Jdu/3Od9vvpMnMaM4wevpsXfZfeVgAfP5XHbswl878UkvvvC7riD8J3nk/j%2byymcnKrgqeESHhkoCvnA%2b3k8SmUm9Y8f5vHkUEngH1eK%2bPtHFp6mdj99I4NvHU%2bIsXq95zep/c/eyuydgG7f1e%2bnh%2bU3djuR8PV/9Qb2lm88l8Bdb2Zw/3s5/I4m/qt3crjzVBq/Jslg%2b%2b8/yAv8lsq/PJsVbVjypPit9nq/2whfJG/74Wtp8Zc4vx9NfD2gJa0fSXhJsd5IGve9ncG9ZzL4hY17z2SbZcbPT9vl0y2d%2b/2IJn3na5a8i97sT15P4%2b43LenYHfz4dQv32GPc%2b3ZWwBlP3PO06952u/uoDb/9P50viD9COeebnj%2bL%2b/4uz5/NmRDeMpuWbogbHHw2d37V7XQi8W6Tnd8Ad/sRZ1cCarUawuGw%2bBCyubmBWDSCra0NRMIhrK2tYHV1BeHQNpa2K7h4LYfJlRJG5gsYnMljZqOMS3SEHl8qYmyxiNGFIgbIPk7lkbmCKA%2bT5GP35RtW%2bcp0XtjPT2bpSG2143ruP7VasurtNmxnyfc9N261H5otiHFG6Rl4DAbbBmcKiGXl/j2A7fyFSKLtcblcpmOuIrbK9XpdkMNfgblcqKgIpyRE0hKiGalZDiUbCKUsPZaRmzZ320DcauPoLLcTDcSzVnt%2b8HhORjIvi3rWnf5hVx%2bW3I77ufsmyZYgNGR9bzng07U9Nve%2bCuwGYxeYu9jMLnWdtuTdxje7jNP3KvBZwA4CDutfHod57fgg4vfz9qcN4nRr/8R/5LM0cTecnwP/D6wY1Yu0qIm4AAAAAElFTkSuQmCC' /%3e%3c/svg%3e" data-srcset="/assets/static/carta.3dbe52b.1806bf5259a9e6dc5a3e0c7efdd495ea.png 596w" data-src="/assets/static/carta.3dbe52b.1806bf5259a9e6dc5a3e0c7efdd495ea.png" srcset="https://mailclerk.app/assets/static/carta.3dbe52b.1806bf5259a9e6dc5a3e0c7efdd495ea.png 596w"></p>
<p>Why do so many emails have plaintext URLs? At the dawn of templated emails, this was a good practice because not all email clients were able parse HTML emails, and so buttons wouldn't have displayed or been clickable. These URLs (and the advice to copy and paste them into a browser) was for their benefit.</p>
<p>Here in 2021, very few (if any) of your customers will be using email clients that can't display HTML emails. For <a href="https://useplaintext.email/" target="_blank" rel="noopener">those that are</a>, they're best served by your sending plaintext versions of your emails in addition to the styled HTML version, which you should definitely do anyway for deliverability reasons.<sup id="fnref-2"><a href="#fn-2">2</a></sup> The plaintext version should convert the button to a plaintext URL automatically. Here's what the plaintext version of that minimal Freedom.to email looks like:</p>
<p><img src="https://mailclerk.app/assets/static/freedom-plaintext.be54052.fffca03fcbeeb736df9cc987c3f84e2d.png" width="1400" alt="Freedom reset password email" data-old-src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 1400 558' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-c6aceabf0e229aa8bd31838cfd0f14b9'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-c6aceabf0e229aa8bd31838cfd0f14b9)' width='1400' height='558' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAaCAYAAAAHfFpPAAAACXBIWXMAAAsSAAALEgHS3X78AAAEE0lEQVRYw%2bXY524lIQwF4Hn/h4vS%2b03vvfeE1Yd0VpNJdJMfezO7d0eyAGMMGB9jpnl7eyuvr6/l7u6uPD09lcfHx3J/f1%2bur68r3d7e1hKPjDoZ9ZQPDw%2b1X5s8ijxK29ibm5vy8vJSzIt8Kfv4Gos%2bOzsr09PTZXd3t1xeXpaVlZXaXl1dLdvb22VpaanyFhYWymAwqDxt9ZmZmbK8vFzm5%2bfL7OxsrSuNWVxcrDr0RZ6Oi4uL3xtvUx/GaE5PT8va2lrd1M7OTq0fHR1Vo2xtbVW%2b0qkxjvrGxkY5Pj6u8trKvb29cn5%2bXr3ApvEyFh0cHJT19fVqDHPqf35%2bfreYPjyhsdHNzc26gf39/bo5C0ROzInq5754NkPWhmI0Yw4PD8vJyUmFAwPyJkRGaSwZY8mZCzQCpd48wGK4p5O3ES5qczbhxPD1o7m5ubpwG3GS5J02d7dJsLm6uqrew/3108GI6koGwGNU8DGWDobrxQBdRhuPPgEStdtd7CaQcml1cBFQuzjH62K%2bveleINCO1lxxGB4/W%2biwRQ/bWJfXNcqPGYDrTk5OVmwnFuTEPzvpn6ZRe8aXEOj7G/VaGsFHcsL91VESI3UlmMB3kiAYb/fBtogeHtnoIhu5wKzNMxYlmcq8uSFG7gGiepIWCYzIbHJwAAuRW9RmJLeAiK3f9aZP2/0PRiI9mVx12m6FJFbJAdwwbhttesnpN9Ya6NRvjmGB90/AqunDrXlAnwlQe74mV5gyuT0XRnkbxC1DXNWYvBva4zLGyYeXt4S%2buD4ZbcbgBdJjmWZ05GZS168v74jMkfH066eDbhQY4aNAbagHUAAO3H9iYqK6Mh6Y4EmAZIf43DNvAyWYcHu3SpKlpNhJg0FhamqqQgclC82cYNhOmoyNfqU1kQFTUIl83h5kwqdPG5yS0Vpb%2b4arBoDH4NyCpbbqSAzQnxQ2GWOyNxvN5vOOMIkJ8SxEPZukT3%2bMkTZdNm28uGAc3cF/Fpyk7Ks8pC3zVe7ScBObE5wEM8RlnA4eD0DqHkDIiWqTUceLbMbyhnafDUWGUbX1mz/viMgbz41HlYv0HgT7ziveeQBrcz0nERiwfh45efZyWUHISXHruDs59XhD3v1k4/pkgkuQiSzoBafmNEadXp6YB5W1JS4g8%2bnnTYFPe%2b3WEFgaa8488j54gGhtUwSVFIuWlFuoaEpGW4Q2ARm8PJH15abIOFGaa%2bffAkPqyz8D8%2bXZneiNRz63Rp7N1kNHIGpMInv%2bQ2Rea7S2RH9zmZte%2brtxoEmUD%2bb%2bOwh8R3ic6IMHcF0uk8QBwSLq3pnj%2bDXwIZC4kwWR3Nvh/Q1/bkdqAJExkTyPEPVu0jG2BhD88h9PdBV51b/71%2befN8B3X03jaoRfVRxLoj5mGboAAAAASUVORK5CYII=' /%3e%3c/svg%3e" data-srcset="/assets/static/freedom-plaintext.82a2fbd.fffca03fcbeeb736df9cc987c3f84e2d.png 480w, /assets/static/freedom-plaintext.cbab2cf.fffca03fcbeeb736df9cc987c3f84e2d.png 1024w, /assets/static/freedom-plaintext.be54052.fffca03fcbeeb736df9cc987c3f84e2d.png 1400w" data-src="/assets/static/freedom-plaintext.be54052.fffca03fcbeeb736df9cc987c3f84e2d.png" srcset="https://mailclerk.app/assets/static/freedom-plaintext.82a2fbd.fffca03fcbeeb736df9cc987c3f84e2d.png 480w, https://mailclerk.app/assets/static/freedom-plaintext.cbab2cf.fffca03fcbeeb736df9cc987c3f84e2d.png 1024w, https://mailclerk.app/assets/static/freedom-plaintext.be54052.fffca03fcbeeb736df9cc987c3f84e2d.png 1400w"></p>
<p>We think the main reason this practice persists is people blindly copying other’s email design. Application email rarely gets the attention it deserves. (We are trying to change this!) Pointless email patterns perpetuate via people mimicking existing emails without pausing to think.</p>
<p>If you feel like you <em>must</em> include a plaintext link but still want to use a heavily-styled email template, consider adding the link to the footer of the email. We like how the <a href="https://www.washingtonpost.com/" target="_blank" rel="noopener">Washington Post</a> handles this:</p>
<p><img src="https://mailclerk.app/assets/static/washington-post.e231650.a2ac625ac076c6c165ea1740d137fb64.png" width="628" alt="Washington Post reset password email" data-old-src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 628 489' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-c38b3d21bf4febc3f26fe01e632a7efb'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-c38b3d21bf4febc3f26fe01e632a7efb)' width='628' height='489' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAyCAYAAADsg90UAAAACXBIWXMAAAsSAAALEgHS3X78AAAJbklEQVRo3u2a%2bXNUxxHH9SfkB8AI7erWSix2gkryD3H4KSSWBThWsAkgSyKYI6k4xE7iXGAIUBwpKI4ikAgkc0gmFYrETsxhUkUQiPsWNwjEKe4bQSSxu%2bq8z6x6ebusAK1WAivZqm/NTM90T09Pv3nd8zYmLS1NooHU1FQD6gkJCeJwOCQlJSVsOykpyYDxLpdLkpOTg/jj4%2bMlMTHR9MFDf%2bgc0UJMNIUBFO/bt68MHDhQMjIyjPJFRUWSl5cn6enpZnFZWVmSnZ1tFuh0OiUzM9P0MRbk5ORInz59jNHcbrf07t07YIRoI6oGYEEoPXPmTCkrK5Py8nIZOXKkzJkzRzZu3CjFxcUyffp0WbFihZSUlBj65MmTZf78%2bYaH/oKCAtNeuXKlzJo1y8jBeBgK%2be1gAIRGBy5XuiQkJkl%2b/rsyevSPZNy4jy1v%2bI7k9utvGWKUjBo12mDMmJ/J%2b%2b//VAoKC2XatOny0Ue/ksLCIhk%2b/D3Jze0nUy3aT6z%2b4e%2bNkBEjRso3X3tNkvAAS3409QUxqcnxEk2kWYiPe0niHd3F0aObJDp7SIIjVuK6d5W42K6G5qQ/rrv06N5FMlzJkpLktPq7iCO2myQ4Y%2bVlt8uMc8T6eZITHUZuajsgxpX1hkQb6dn9bMg1Zcarftj7aKdm5hieR325Fu31R%2bMsuisrV9pDTxDTc8hyMRjsL3sNXS7uKKHXM9B7Df2LgTuE5o6iHorAWm2IyRi0WEDPQUsk/Z3FkvRWSadEcl5JYJ26ZmAZYIn0/MFSa/FLJLOgXN785T%2bk/88/lwGdCb/4XHI/%2bEzcg5eKrjfDGGKJ9QhYjV6Dl0n8myUyZNwa4Vff4JHGh95OgYZGj3h9TXL99n8kq%2bhTcb292BhAETCA0zJA/vi1xgBNTU3S6h88doi/fCTLRg/UJWhsUF1C6kaWTyL93b3fKNmWAdJaMgAekP%2bx3wO8Xp9R/NkhHfZrnV5N4vP5lbtd1/BkAzhtBoDpWbxAx1AS9a1Zs0auXr0q58%2bfN%2bW5c%2bdk586dcvfuXbl165bU1tbK5cuXpa6uTs6ePSu3b9%2bWS5cuyZUrV%2bTChQumnzb8169fNzKgX7x40cgimmxsbGyVl%2bq4O%2b1pAJQixJ0yZYpMnDjRhLeTJk2yIsFxMm/ePDl9%2brQV8U2TBQsWmJCXkjYLnj17tsyYMUPGjh1r%2bKZOnWrGTJgwwfDPnTvX9JeWlsr48eONMTrUAH438gWgbbubeTweuXPnjtlJdhYlz5w5YxZ448YNs6vr16%2bXmzdvGtrJkyeNJ2C4DRs2mN2tqakxJdBdV29CLvJPnTplPCOcDsFu7wvSPyIDRHwYvkC/JtshHLEHYH12jJ1lV9nNo0ePmh1kt6qrq81u0abkWWc3dRfhoc3uIQN5yKAOnTq8eMa1a9ekqqrKzIfsEydOGA9ABvz0Hz582PDqOQOfQufkkWtoaAjazIgNgMBdu3bJjh07ZN%2b%2bfUa5PXv2BBTdtm2bHDlyxJS7d%2b82ylKvqKiQ7du3Gz7a1I8fP24WcOzYMdm6dasBBkQe/cijv7Ky0hye%2b/fvN%2bW6devMWPgxGrS9e/easZs2bTL6wc886Ejf/fv322aAjnoEnmUKr6/p%2bT0CLR2CoQeir4POi5Z0CUWbD8HWxgH8aq/Vyca9F2RL1UXZXFX7GKBvPfAItENp4fgM9tda0VzDY/OG6tChcYD%2bPF5/iDq5dLt0y/mzuKzEKuX7nwQh2QLRZo9%2bCyU2d6EpaTNvXH8/DYTypQz8xCgda41fveV00HzPPRAKNcAkywCOAYvklaHLxG3JdRvZS00C8q1Rf5Upi3dI0cQvZdikdTJiyr%2bkYMJaGTx2tQz63Sr54eR1pu%2bVoWVGMTI3d3P58pBlkvC9Elm1uebFNIDX5gHs6tfzy6SXpTRAeeZ4ddhys8AP51TIr/9YKR/MqpC3f/OFvPPbVVYStkY%2bnF0hP/7DejMefZQfYJTEt0otD6h5sT1gwsJt8rVvL5CkvFJjCDuclmfweHR9/RFic4ulu4WX3ig27S4WQvkAi%2b/y3T/JF5UvqAH0DVB9/pZ8VnHSuCrKhmL15mZs8ZerbFB6OD7wz02nTE7f2tdz5AYIST2f%2bhr0%2bTrsNdj0hNdguNyg3T3gqbvwHPOBiCJBPdTI3gg/icsJO4nNye4IR4nHic0picMpCWWJ0QEhLnTGksEROmvGd%2bDAgaC4nZLwmDp8mgEyH3kHbfp0LsJtzRcokctY%2bpELL3Pcu3cvYIjWGaDZnUlXVTDxOjE4SQkx%2bqFDh4wyTITylCwSo6AsijOOPIGLD2QwDuUwJotmsdDow9AsDJoaEpnQmQc94KPv4MGDAYORAzAv80DDGCRXyOHiJSIDRPoIoCSJCQtngShDgoLxKNkdFGbnSFhQmkWxUBaFgalDYzwG0T747Dvaro%2bA/RBs6eALV%2bfSQlNjHh9SUkq90sIT8ABKUln6qPNYaTpNnSs0%2bvEmBV5QX1//WD7QUh5gPxCf%2byH4vC9F2pQOP83aofB6vQG01A6lh6Kl/tbqErEHeG0GePjw4VcW/38E2hoKh0ZTX7XL0KjdCJlPS9bJzGlMUKOgzanOya00vRjVPk5zSk58LkD15IfOeN7V2oZP3w52Pkr6eJOgB28MYB%2bvOuD64S5r2uQBGhTpFx5KFOe1p68x3tHU6aeuY5SuvIzFOBgD5bXNghiDTEoWw3guN6GpoWhDZ9EqX2UDDsuoGyCajwCLZSdZPN4CCJAePHjQbo/B//Qh6IvsNejPBYi8iK8JSdkl/UBBnE5kRiwO2FH6oOunLVxc68T6jIMGv9KhwaN1TWY02dI5KOGBRrht5wPIJGcgT1A9oNlvhyOKA3ie9Dmn1OdNF6pfiwB1EhD9mkM/h5eGwWo45dFSF6OKM16/9OgYXah%2bO1SZAB4Mq2eOAn3b7RFgQqA7o8bQz12quH7ywhC667oQrbMY3U3ojNdESj0NWbpYTZVpowN9T0qSnvkR4O5taLMBHnq85k4AeMIAB8FIvpA/hej/OpRuxvqamg3qp2uf70loTsZaGu9tnlvl0vZYOofqafT3NN9t3K1/yl9kBiySwt9/KZ31x7mWPWx5eA/g7j05r1RyxvzdXECuXH9C/vbv6k6BlRa4qC1fe1S%2b8W65%2bTfcYwbQv47hHnH9F4mjk4E14eH2v8gFGcBOtH%2bQ6GwIXXxYA3R2ZAwKbv8XbM0dp4A6%2byYAAAAASUVORK5CYII=' /%3e%3c/svg%3e" data-srcset="/assets/static/washington-post.e231650.a2ac625ac076c6c165ea1740d137fb64.png 628w" data-src="/assets/static/washington-post.e231650.a2ac625ac076c6c165ea1740d137fb64.png" srcset="https://mailclerk.app/assets/static/washington-post.e231650.a2ac625ac076c6c165ea1740d137fb64.png 628w"></p>
<p>In general though, we don't think it's necessary to include links in plaintext or instructions to copy URLs into a web browser.</p>
<p><strong>Best Practice:</strong> If you're sending email using a styled HTML template, use a button instead of a URL for password reset CTAs. Plaintext URLs are okay in minimally styled templates. Always make sure to provide a plaintext alternative to HTML.</p>
<h2 id="expiration-time">Expiration Time</h2>
<p>With both the reset password and OTP methods, it is imporant to make links and OTPs expire after a certain amount of time has elapsed. Otherwise, passwords could be changed long after they were sent, perhaps after the account in question was transferred to someone else (and the associated email changed) or perhaps if someone screenshot the emails in question and put them into a blog post.<sup id="fnref-3"><a href="#fn-3">3</a></sup></p>
<p>Just because you make your links expire doesn't mean you need to tell people they do in the email though. 62% of the applications we looked at don't specify an expiration date in reset password emails. We expect that the vast majority of these companies do in fact implement links and code expiration. They just think it is distracting or unnecessary to draw attention to the expiration.</p>
<p><a href="https://www.patreon.com/" target="_blank" rel="noopener">Patreon</a> splits the difference, coyly telling you the link will expire at some point but not telling you when:</p>
<p><img src="https://mailclerk.app/assets/static/patreon.28d0d65.50b3537f0c2d73add6d2118662bd1b73.png" width="567" alt="Patreon reset password email" data-old-src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 567 472' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-e27e4e18631b5da96c92dd2bbfe75eed'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-e27e4e18631b5da96c92dd2bbfe75eed)' width='567' height='472' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAA1CAYAAADxhu2sAAAACXBIWXMAAAsSAAALEgHS3X78AAAH60lEQVRo3u1aW09jyRGef5en/IZ9yEOeojystA%2bRkkhRpCj7sCvlIdmVkmx2l53ZYWAAYy4GYzAXYxsbbAzmYu53jLnbx%2bf49qW%2bso/HMAYWhmUwrKXS6a6uqtNdVV1V3ccv8Mh/pVJJwW7f9%2b/FY190sVEVUDvpD4HL8hpOAbRgsVgUKD%2bJf4crvsNV%2byUU%2bKzwB6NxWFauMbfAfUz43z924jxjNJ4CaE3%2bhgMRNLW5sLiygbFwDEP%2bKfQNB9Dm8sLjC8PlDcA/NavwyuHGbGIVP7T3ITq3pPzftvYg3YgKyBcK%2bvzHN2/w96%2ba8PUP7fjtHz6H0%2bMTJUzid3/%2bUvF/%2b%2bd3qqD/Njul/T2auzz49W8%2bw7%2ba2pSf%2bIZUgD3Z3eShesPWXhJxse5%2b6kgXtLq5K2MpLG9sY3NnHzv7KQQjcWRNqzJ22NgecF8T/qa5q7E9wM7jtVmgGvVrM0SpHP1rx/hb396rbqdnUwjV86CGqwPurRIsPkAleF9VWyOBvd4XP7eLPfbtdckDiijk8ygUnjDI%2buwireoBtgIKEm0JT9n1i8WCKuFKBdjaeRcTireKEWW6n0IrNFfKvByXcKuT402uT0%2b4UQGNGBNuMlR1m/9UBezt7mB9bRVZw1C8aZrI5Sw5nlrIZg1k0mkVls/ncHJyrHjS2TR85nI5dbsyTxanJyc4PzsTnryOEa988u7z8zMYlXfZT8syVT5p8xX6Wj6Ckcno%2b68z3K0UYPf946NwtLfA1duFjY01jPtG0Ol4i3AogLctP2Js1IuR4cEqLj4bw0RwHInFeTgdbRj2ejDo6cfYyBCcnW0YkvZMLKp8kakwVleWRLYTHrcLPV0OHSdubMSLPleXyAwiGgmrPPZ7uh0YcPfCOzSAjrYWeAfd8I0Nw93Xg6nJ0Hs1xJ0VYP9MM6uWPjxMqfUzoumDg6Ra8SC5r/3T0xPFnZ2dqgUPUwdqoaOjQySFhh7EdkpoKIdeQFpajBPhGPGkLcs4x872Vlmu4Ghh8hJHmtTBgQLHbeB7Kee67XunLdCIMeC6oudeFVA7Xus1j%2b00eccYUGaia9K1jo%2bOYJmmBi4GJALpNJCJi/LHYHV8fKQBKZNJKx/zbTp9rq5tGGW8KVuAwdOsyEtLO6/FV0EDHwMn2/lKwWIHPYIdcMsB1NJ3s88grdtBtqZ5YZ7lQHvrLGD3GaxGJYC1NL/UYDUZnpDg8wZtra8lmEU00DF4LS8lNAh2drwVaNXASHr2GUi7JAD2u7qV/2XT/xTf8uaVBj/PgEsDHcdfv/oe8/NxfR9p/b5RTATGtc93TUen0P62Ga3C29barHPpdnagXZ4MiO7%2bHgzJMzYdUTqOLYg8e%2bF33gLEM3jxRwvT0rQcn3Y6JJ9dSTJdUfscKxcehWqKpJXpLQQ7tREon0B6eh49xqp4FwOjbVl6lu1Rdhokn13d2e9iqqXHfdAWYGqhF4QmAmqRgH9MrcCIzDbTHK29vraitGyTPuj3YS4%2bg8WFOfWAjfU1JPf31EpMkxNBP4Ji2YX5OfGgDpHlw9LSovKHJvyS6lxYXk5gUtIg3xGNTCovx9dWVzAsaZCwsrykaZBpUdOrpE/2STc/N6veFBgf0xrjnSJukQYTiwv6cgqbnZnWCW9urGt62t/bxZosfHYmJgtcFZq45PaQKmZbFLQvC%2bakYtNTmBP%2bnZ1tDPT3imJmtV6gPBZalEk6Lpiuu7qyrPUG5U9HJ5WOtQGVyK2yvbWJpcSi4nd3t3V%2b5F0WBVKRVDjnu5RYUEgIXLxYucUW2NrcUHdjvrcDYqMem%2b9UCPVLhUVXo0uz2mOgotXs1Gff35XqfOm5cPd3%2bS6wzhchTuzisz7vZXytvAuyK1DLf291wPvFRelGXL1%2bvSuw63ivPQleUfh8UCVYqtHkreAyb71%2bDe6999WO37T4Yqmu/KsN84RL4euqyNsrgFVYPI6sbxxWdBr5tXXpz8EMTyI3N1/GrawiN78AayoCKxKFNRtXyO/uIreYgDUzA2s6BjMQlPas8pMuOzoGKzZTphe8Oe6HORFCbmGxTCfycokE8usbMIMTyA6PICe8xHHMDIaUnmPm5BRMf6DKy/kU5LB0Lx5AYdnBIWQ9gzCpCFmQOebTCRHPieu4ewDZkVFkBzw6npOFkd4UnBUKlxfhHVY5GWe3jnFBRlc3jF6XLsbod8PoE3D1wZJFWeFwWT7fJXKtWEzxKkcUmB3yKpjSJo8hczB6%2b7SfX127BwUw0ksFVjw5lWcahWM5vh5KfZ9KoSSVVokXHVIBsl3MSMVH3tMzlLImCskDlKRyK0r6LCSTStNwW0APOOKuhrNLrZuR5/l3Tci0O5BxdKolicuIFTNt7ch0OJB%2b9RqZN61IC2QcTrWu0dUjSjypbquHvvf/oC2g1k1nUOL1FL2BFpe6W9unp9rXp%2b0p7BPE8jaevJqiHvjDy1Wf1j5KFnjoxV%2brlOINCihdvtwoVVWImrvsOu1a3CWaR5Yer1WAXkRUjrVPDXRdlS9fdRVwXW39lOCXj6NXfxx9xp/Hn%2bvvxcdyver5XqHws/4L5NH9Ream73fPwgMMI4vw3DIK2%2bvIToc%2bmhI%2bmgL2Ukf44%2bdf4fgvv8fWJ7%2bCuTBz4bzw9BVwcIg/ffEfOUB9jeRfP0U%2bufu8FHB8coaXDnf5gjWXez4x4L1T2hUXrc8iDd50W/wQv/8D/9S/4SPu7WIAAAAASUVORK5CYII=' /%3e%3c/svg%3e" data-srcset="/assets/static/patreon.28d0d65.50b3537f0c2d73add6d2118662bd1b73.png 567w" data-src="/assets/static/patreon.28d0d65.50b3537f0c2d73add6d2118662bd1b73.png" srcset="https://mailclerk.app/assets/static/patreon.28d0d65.50b3537f0c2d73add6d2118662bd1b73.png 567w"></p>
<p>Enough applications DO specify an expiration time in their email that we can try to see if there is a consensus on how long to wait for expiration. Turns out there isn't one:</p>
<p><img src="https://mailclerk.app/assets/static/expiration-graph.6f98f80.cb685f153b86d0827c7ae6e8ff5f54f7.png" width="904" alt="Graph of time till expiration for different applications" data-old-src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 904 685' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-35f9d6d8e9453839cc49ba25f661bb8e'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-35f9d6d8e9453839cc49ba25f661bb8e)' width='904' height='685' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAwCAYAAAChS3wfAAAACXBIWXMAAAsSAAALEgHS3X78AAALKUlEQVRo3tUai3LbxtGf2namnTZtosSPpo6b2JbqNI9OmzROZ9qZ1mlSW6IcSZZsy/FDttyZuLKefFN8gHgQJEXxJVGiRIKktrcLHHgAQUm2FEfGzM7u7R0OwGJvX3en4IBrb2/PxiLt5nU6HcLPnz%2bHa9euwYMHD%2bDu3bswPj5OvJmZGZiYmCB%2bNBoFn88Hs7OzMDc3B4FAAB49egQjIyMwPT0NT58%2bhcnJSbof8dTUFEE8Hnc8q9%2b77UeLgNcpr4H4AA68TWNaDHecQnDfv7u7C9VqFTY2NqBcLsP6%2bjpsbW0RIA/x5uamPaZWq0Gj0SBcKpWgUqkQres63YvjEJCPc/f7GYel3T/3lNffPlArWm0mCCaMdudQDzrO6yBNPLIGyLIMiUSCYHV1FQprayCrCpRyBcj/fRYaesXxQu29Dk7gWArtdtvsYxgB%2b1qtlqMtAva5eYZh9PSL2C0A/kzxW/izRBqx%2bI49AigWi6BpGqyxD8e1GgwEIRZfBT2pgDRwAwpffQ8b/41D9WEEKjNRMLZ2HQLpWB8pCgAvUQDul/f6IJF3GAGIPM5HHrcX/F7%2bDg4B9FNhXJMrKyuwtLIMmaQM2b88AOX34yD/7lsC5cIY1GM5aG83oFWp05Lw0oATLwCvtcJvxCuT1SGTkEH94BbI794E5b0xAvn8tyC9MwzSmzdAPjcKzWwVmFWAVsNgqsAeZrCPbr1GGuC1hhLM9Sz7V0CLS6B/%2bh1og1Og/eE2gTrE6Tus7x50doweo4UCAZcNONECcC8FdFGhSBjS4Tgo58dAeusGpN8eJpAsoPYZHxS%2bfgbFsUVYH52H0vgSFG7MQSNXNV/AeI00gFtz9NlNJoCklAItkQb9T0wDhtgfv3IHMgxICxhwWrkg2odxEk59NW8JwHi9BNBsNk0DuLQEgXCI2YB0rwYMDJNn4O306REC6Z0RkM%2bOQvKNb2A7rNN8xk6D7MFrIwC8IRgMkg0IhIJkBDMfT4N6adK0AwzUy5Pd9mWBxwA1AjWBxw17lj1oNw1q7MFrsAQQMBwNMhuQk1TmAidoraPFR0ifRei2TZ7P4t0kbch8Mg25vz1m%2bB7sqCXPHOPEGkHEqqqCPxQgL6AN3rbXN613coVjZvu9sS5PoNOWYCiIGn4O1dkYNLSy42VPrBvEpCUcDoM/GAB1NUUqbscB5804gARyfswGkUcGkbUVSyhoGxI//RdUWQRJz7KSrBMrAMzIIpEIKBkV1mSd/L7KIkH1gwlQ358ABQHb70/YYPNY0ISY98uIL90iodT%2bl7IEsHcylwC/CQUwPz8P0dUYFNQsZFiwgy4v8%2bFdAu3DO6ZLtNrEu2Lx/ijQjK9eYe6T8ZSLt6A2J1lZZefkGkHMyUOhEHmBxeUlUKJJpsrjlrvzWWC6PE4jxjbnOWkzWEr%2b6hvY/D7peCbGCOCRIf6oAtje3gZJkmBhYcEMhVkcgH8VVRtdHwH7m/hH7bbA0xitCP0coy0oT67ArlyEejQHrY26mVKL72C98I%2bSDLlDYUVWIErpsEzGjIe9/TRA5EmnvbSB4d9ch9Qvv4bET/5JaTXlCfUmdHYNE5otaDWNVyOAfqUtHICR4PLyMtUD1hQdNBYIOZMhMSHqJkgm745AM/7glN122BHGR8OpXsQAinmZ396Eyv2w%2bT5Gm1JsFIaIDcRWRepYNADVHde8u3S0s7ND9bhEKgk6iwTx5aQ3r5NPJ2BhceqtLm1joocFGsddd7S79wxDasAZXmPcULrtFzJKbyz%2buCMJAIOddDrtWYPDSDAcjbBAKE3RHIW5mBANWX%2bVt1EzXDyTtvgYImPbGsfDadIAHD9429YuDKL0P98nY7nxNA6VJzGqQlVmBTwbh9q8bNYl4YgCUBTFFgBWXg0rc0OcTCYpHc6mVPLptNZZCIzJDtkCDI3PjnrzPGhxPAfpzIjAM0NrzCSTv/g3QeLnXzkw0T%2b7RoLqNAzTaBpHEEAqlaL6H15%2bvx%2bePXtGiRDW8xVZJgGoWBD5%2bB5ZefqrDMi6YzJ02frrFk%2b91Esrl245%2b2yYpD7O02yemVBxTeJ2xLYzrD93dYYMpttrvLAA8vk8FULFNYVCwVQY4wA1o1FRFD8e7QCFulbeT6ExrwG4eQxzOm3R4ngO1OfBU1z9NkY%2b0xasUB1ZAF5eAAErQWgc01KaNACLomgD3CUx/ldoXbt4/byAPX7I%2bYf5HG6eKtgXbUjUgMfHowHuzQLE9XqdBKCpGgTDIcihDWDuitYoagEDzPQo27Pabp4X7R7P%2b/rznHPYc2Gq/dE0swE/kADQM2AeEPAHWCAUg3xa610C73osAVHNf7AlcPP4lkC/HRYUAG5conH0h4JUENGxIiQawctOo/aiRpBjbgQ1Dx43kpxHGJ/LQvLsXx8djwD67evhzWgMlwMroMRSghtEVya6NZ8Hb9TRj67OPZ6DZM1pwxmBd8a692wX0zzMTWJucmxLgH8w35XF3dhCoUAagDXBLNMACoWtwMYOdHhgMzTVw3PQ7kBoqIsVIbjiQZIYYJm0gJF38RjdoCgA3BBFwD%2bP1SCkI7EopCNxWr99Q%2bGBlwiFB4Q%2b1xw2T6D5HBg6p379HxIQJk8UCjetlLpzjHuD%2bPcXFxepHoBu0Gtn6EA3OHhINzjU3zX2dYNfPrbPK7Shdwkf2QbgoGgkAvOLC1ZVeL9Q2LdvKCz1hMI%2bO/Q113YvT3b092IMmbFSTRu2VqEWjTRu1PLdqBdaAnhiA1Ueo0I8JxCLxWh7HIuiOnqBzx7S3oDOAiIEpDWhzXnmmO8E%2bh6NE9si9Mwh8ESa5nD10ZwsHsByG2LU0lb1JQWAW2GYFKELxAQJcYjlBCtBP%2b0Nog%2bmNWynrjfsnSFPngfdM/7tbjrcj0f3CdhrPNEDZrHGKG%2b9mAD2O96CxpAiQRYInRgbMNh/DiyyvLQGiAekOK9cKlFJLC9ppg04cGeoy3PSPmHXaLRnN2k/njiH1/i0e/xpM05IszDaKJnaYDSa0Gm1yVvguQXuNvsWRdEe4N8nO8A0ALNBlDBtiliGh3Z/LghtxBZPtWmTT%2bMsQ9UdP24ZsDFH283jtBv3G0/7E2gQWdywx4/U9ZxboI/dvyqMLjAcCtPWmBxN0kc5NMCK0vjf5n/H5p3pWnPEkjBe5p7EigSdvFFInR7pzmd5Hh4dOsafG/Xk0TPP%2bei8QmU6COu3lqB8xw/FqRVYH1%2bEulLcXwOwGsSDIiqKqjoU/vEUsp89oBg8%2b/lDyH8xA2ssJUU6%2b7nJy7G%2bwpdPbHrt6hMTM17%2bi8fd8XyOq728HJvXnOMRu9ek%2bRxrXuP5M6nt5GG4jHYh/8l9wrlPGWbR7G4kd7gTIvyqMQ%2bxvdd08OpgQKW57eBhMXu9vmHT5YZZbF2vV6HWaUDVcI7fZSFMcWfDGX8wWKuVbbqwXSEVxnnr0GLjN3v2EXCM%2b%2bJzEG31V9jzd9kCKFSK%2by8B0SDSjSw32K5t0eJBY4JP3ahUoVhYJ7pjmLzaxibk9Ky5ucr689kcNOo7kFGZEZXSUCoUrfGmEZIZT5UV01JbewG5jA6rEbNEp2sZSKckKBdLEGIxSZiBrmbMdYxzsLmCLGWXEuZ%2bY9uaN7EaB//yCtFJRkdDEXqHhefzsDA3D7JVAz112NOZXgI6DO%2bg7fcXvXBpuudAe%2bWeGws6/OL9yMNSP/5Mz6OyRzksfdjjqe7xWIXOZDJ0MBOzUAQ8Y5zNZikz5S/f71n7HaHdT9iOo7Kv4nxvv5dEAfBjubgXiYDuF8vxWJnGw5pewvSqY77Mj3glAjjM0jqOcS9z/R/6Q0SBHEA2hwAAAABJRU5ErkJggg==' /%3e%3c/svg%3e" data-srcset="/assets/static/expiration-graph.82a2fbd.cb685f153b86d0827c7ae6e8ff5f54f7.png 480w, /assets/static/expiration-graph.6f98f80.cb685f153b86d0827c7ae6e8ff5f54f7.png 904w" data-src="/assets/static/expiration-graph.6f98f80.cb685f153b86d0827c7ae6e8ff5f54f7.png" srcset="https://mailclerk.app/assets/static/expiration-graph.82a2fbd.cb685f153b86d0827c7ae6e8ff5f54f7.png 480w, https://mailclerk.app/assets/static/expiration-graph.6f98f80.cb685f153b86d0827c7ae6e8ff5f54f7.png 904w"></p>
<p>Times until expiration varies from 15 minutes (<a href="https://www.blueshieldca.com/" target="_blank" rel="noopener">Blueshield of CA</a>) up to 7 days (<a href="https://www.wikipedia.org/" target="_blank" rel="noopener">Wikipedia</a>). Furthermore, there isn't a clear pattern based on the sensitivity of data or level of regulation. Blueshield of CA and <a href="https://www.citymd.com/" target="_blank" rel="noopener">CityMD</a> accounts both contain sensitive health user data, but are on wildly different extremes for expiration time. <a href="https://www.mongodb.com/" target="_blank" rel="noopener">MongoDB</a> and <a href="https://segment.com/" target="_blank" rel="noopener">Segment</a> grant access to potentially sensitive application data, but links for MongoDB expire 12x faster than Segment's.</p>
<p>We don't like what <a href="https://zapier.com/" target="_blank" rel="noopener">Z…</a></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mailclerk.app/blog/anatomy-password-reset-email/">https://mailclerk.app/blog/anatomy-password-reset-email/</a></em></p>]]>
            </description>
            <link>https://mailclerk.app/blog/anatomy-password-reset-email/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26254434</guid>
            <pubDate>Wed, 24 Feb 2021 19:27:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Elsie: Generate Slides with Python]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26254372">thread link</a>) | @mvolfik
<br/>
February 24, 2021 | https://spirali.github.io/elsie/ | <a href="https://web.archive.org/web/*/https://spirali.github.io/elsie/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

    
    <nav data-toggle="wy-nav-shift">
    
    </nav>

    <section data-toggle="wy-nav-shift">

      
      <nav role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top"></i>
        <a href="https://spirali.github.io/elsie/">Elsie</a>
      </nav>

      
      <div>
        <div>
          
          <div role="main">
            <div>
              
                
<p><strong>Elsie</strong> allows you to <strong>create slides programmatically</strong> using Python. It is a Python library
that lets you build <a href="https://en.wikipedia.org/wiki/Scalable_Vector_Graphics">SVG</a> slides in a
composable way and then render them to PDF. There is no DSL or GUI – presentations created with
<em>Elsie</em> are fully programmed with Python.</p>
<p>It was created out of frustration of having to deal with
<a href="#comparison-to-other-tools">existing tools</a> for creating technically oriented
presentations. We believe that creating presentations in a programmable way
makes the slide-making process more smooth and reliable.</p>
<p><strong>Quick links</strong></p>
<ul>
<li><a href="https://spirali.github.io/elsie/installation/">Installation</a></li>
<li><a href="https://spirali.github.io/elsie/getting_started/">Getting started</a></li>
<li><a href="https://spirali.github.io/elsie/userguide/basics/">User guide</a></li>
<li><a href="https://spirali.github.io/elsie/gallery/">Gallery</a></li>
<li><a href="https://spirali.github.io/elsie/apidoc">API Reference</a></li>
</ul>
<h2 id="elsie-example">Elsie example<a href="#elsie-example" title="Permanent link">#</a></h2>
<pre><code>import elsie
slides = elsie.SlideDeck()

@slides.slide()
def hello_world(slide):
    import datetime
    slide.box().text(f"Hello from")

    year = str(datetime.datetime.now().year)
    row = slide.box(horizontal=True, p_top=20)
    for i in range(4):
        row.box(width=40, height=40).rect(
          color="black",
          bg_color="black" if i % 2 == 0 else "white"
        ).text(year[i], elsie.TextStyle(color="red"))

slides.render("slides.pdf")
</code></pre>
<div>
<div>
    <p><img src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAADgtJREFUeJzt3X2wFeV9wPHvvWC4cImIXjNVUSMakGoIjC0JvpHJaIgaHFOTGNPJH7akHe1L7HTGQdoOpo2aNlWnNk1mNIkmaYITjdUEX1JpLGBitaFii28BCoYAWmkQ5OUC93L6x29Pz3I5e8653HPO7pHvZ2Zn95x9dvd3n3vP7z67z7N7QJIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSVJbdOUdgFpmHDAGKAFvVll/NDAK2A/sbGNc9bwD6E2WB4C3coxFetuZCpyTTI2amZQ/syURha8SyeqNjPWrkvU/aGEMjRoD3ASsIWIqTz/OMSYV0Oi8A3gb+BpwPnCAaLE04qdAD/As8P4WxdVJvg9clncQKr7uvAPQEe98KsnqW8C7gaOIyxUfyikmFZQtLOXtg6nl64FtOcWhDmALS3l7VzJ/C5OV6rCFVXzdwG8CZwN9wHbgP4FngME2xTAJmEMkl0FgI/Ak1XsfGzU5mR+XzA+k3it7NTleD3Bi8t5rwO5k+f3AWcDxRCfCj6oc52yi/vqAXcArwFPA3hqxjQFOSpZfT7brAs5N9jcWWAv8M7BvyLbdwAVEh0ov0ZHwBNBf43hS26wgerSGkzz2JNs8U6fc7xLJoVRlWg9cUWPbZvQSTk7WVzv+PuDvgXfW+RmyVNvn0KkvKXth6r1LiB7W/xpS9rEh+z8f+I+M/f4K+FOyzzA+kCp7BTAdWF1lP78gklP6mEN7OkvABiJpSrlrRcLqAu6m8gffT7QKvgcsS16XiFbJtRn7GGnCOptoXZRj2Ag8TCSG7an3fwYck7GPWtYlU3lfg6n3ytPEpGw6Yd1AtLBKwBaip/XnwOOpfX+MaEGVt1lN9ET+K5Foy+9/m+pjEdMJ64ZUjC8QraWXU+t3AGcAFxG/l0HgOaIFuiVVbiuV018pN61IWDdQ+UP/Dof+oU9KHXcf8L4q+xhJwuohPpzlpDi0NfJO4B85+IN/uMpx/qpGmXTC6gf+h+hZTCeb8qnlaUQSKSeTocMlTiXqvby/P6pyvHTC6ieS528MKfM7qTIPAZuIRDU1VaYLWJAq99c1fkapLcqJo8ShLYSs6QDZCat8raUE/JDs05aJVP6D31dl/UgS1jWpn+lLGduPIlp95aQ2LaNcPcNNWAPArAb2VwI+kVGmj0h6pWTeM2R9OmHtBqZk7OexVLmtwK9VKdNNXDcrEaeLUq7SCWu4U7WE9Sep9e+tc+y/TMrt5NAOlJEkrKXJuj3UPt27KBXrF+rEmmW4CavWNbduoqexBDxf57h/ltrn5UPWpRPWt2rsI90SzkrsALdRSey9NcqpDnsJm6cE3Nhg2S+QXfcfTOabiQvLtfx7Mu8lWgEvNnj8WrqptGB+Su2ewCeJ1mAvMLsJx27Ev9RYN41Kgl1SZz9LqCTZ2WQnwqdq7GNzavknNcptSuZdRMt4V53YlMGE1TzDuUZxE9l1f3oyP4a4oF1LuoeuL7PU8ExI7fflOmUHidOcGcR1tXbYWGNdOoZ6safXn1yj3NYa63YcRrkxtYJSbSas4im3EMYxvBuqh16HOVzpJNjIUxzKH8ajm3T8evbUWDec2Pcm0xhqD8040GBcjZbTCJiwiqc8KPJnwFXD2G5Lk46fPl0Z10D58jWZIjyiZjixH0U8ygaKEbsaYMIqnk3Ae4BTiMGhpTYf/02iFTOWyulpli5iDBI0L2GORDqGMzJLVdaXh0UUIXY1wHsJi2dZMn8XcF4Oxx+kcu3sPCJxZfkAcc0L6o/ab4fVVFpZF9cpOze1XITY1QATVvF8k3gKKMAXiVOXdvteMj8a+IMa5dK9otXGgrXbAPBgsnwuMRyimnHEkyEgRrEPva1HBWXCKp71wN8ly+cRo6izeuD6gD8E/rbJMXyTuE8O4Gbg40PWjyZ6ROclrx8BVjY5hsP1N8TF9C4iic4Ysn4CkZBPTV7fjtewOobXsIrpRuIWkyuBS4nR8T8BXiI+jMcS9/q9j/gdPtTk478F/DZxf14vcD9x2vQs0at2EZUnK/w38NkmH38kVhOtp68AJxBj1ZYSwxj6iJuny7fxLAVuzSFGKTetelpDF3Gf22tkj5Q/QHwgP1Nl+2Y8reEcouWUdfx/ovrtKMMx3JHulzS434+T/aSLfcAdZI+JGvq0hiyXp8qdW6Pc/FS5eh0ZqsFvzRm5qcD4ZLnR06KZxOn4LuoPcBxDnBrOIi7EjyZuP1lDXKDPGkh5CvGcqAGq36by68QF9e3Es52ylEe+zyFaLAPEaetS4h65kSrHOUgk0WrGU7mpeC0RcyN6iDsHZiXH2EHU2+PEP4IsvVS+IGQd2aP9j6GSgF4h+9Syj8op6GpqP4tLkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiTpbckvUq3uauDavIOo4fhjjz2W7u7urG91zlV/f//xO3fuhOxvnc5boesPYOvWrV8FFucdR9GMzjuAgpoKXJB3ELXMnTuXq6+++sz6Jdtv4cKFrF69Girfnlw4Ra6/xYsXs3jx4h/nHUcRmbA61JQpU5g3b17eYVR122235R1CXUWuv5UrV+YdQmF15x2AJDXKhCWpY5iwJHUME5akjmHCktQxTFiSOoYJS1LHMGFJ6hgOHG2B9wDzgHOAE4j/Cv8LrATuB9bkF1rF4CA89hg8/DC8+ip0dcGpp8IVV8BHPgLd+f0v64j6A9i8GVauhC1b4vVxx8GVV+Yb09ucCauJ5gN/DLw3Y/1vAX8FfAO4HtjVprgOsXEjfPrT8NRTh667+26YMwe++1048cS2htUR9XfnnbB0aSSqzZsPXjdjhgmrxUxYTXQllQ/bDuDfgHVEJU8DziVaC/OBycBcYKDdQe7YAZdcAi+8EK8vuAAuvTSWH3kkktiyZXDZZbBiBYwf37bQOqL+7rqrUndqO69hNdmTREugj/hAXQf8HnEn9TnAL5JyHwI+m0eAn/985QO3cCEsXw4LFsS0YkXMAVatgltuaXt4ha+/0aNh+nS45hr48pfh6adh4sQ8IpH+301AabjTuxsoMxtKpWR6+jCOUZ4WLVpUGrY33iiVenri+DNnlkqDg4eWGRgolaZPjzK9vaXStm3DPsycOXMO62cqfP2VSqXS/v2HvtfXFzHNmHF4+xxi0aJFpeRvUEPYwmqiDQ2UeTpVblrLIsmwZAn098fydddVv7A+ahRcmzwKbNcuePTRtoW3oYEyudYfRAtLuTFh5eCtZN72yn/iicryxRdnl/vwh6tvUxC51Z9y5++8zSYQ3fYAL7f74C++GPOJE2MIQ5bJk2HChIO3KYhc60+5M2G12XVAT7J8f7sPvm5dzE8+uX7ZU045eJuCyLX+lDsTVhudDfxFsrwR+Id2HvzAAYjnrDfWq1VuYW3f3rqYhinX+lMhmLDapA94GBgLDAKfAXa3M4Ddu6NvDWDMmPrlx42L+cBA5UJ9jnKvPxWCCasNjgEeJwY7QozmXtbuINK9WwcO1C8/kBqSmXPPWCHqT4VgwmqxXuAHxKBHgBuBr+QRSE9PJfHsbqBtsmdPzMeOzTVhFab+VAgmrBYaBzxC5fvCbga+mF84cXMuwOuv1y/72msx7+trXTx1FK7+lDsTVov0AA8Bc5LXXwL+PL9wwpnJ1/D98pewf392uX37YNOmg7dps0LWn3JnwmqBdxBd7uWhmXcCN+QXTsXMmTHfuxeeey673MqVkbTS27RRYetPuTNhNdlRxIfto8nrrxGPQimE9BeHPvhgdrkHHqgsX3556+KpotD1p9yZsJpoFPBtoPwRvwf4feJu20K48EI4/fRYvuuuQ5/nBHEq+PWvx/K0aTB7dtvCK3z9KXfeydlE3wCuSpbXAj8invFUyxJgTyuDShs9Gm6+GT71Kdi2LZ6Ddd99letUL70U68qDRW+5pa1PHi18/QGsWROP3knbuzfmb74J9w8Zfz97Nkya1J7YjgAmrCZKt0XOAO5rYJtJwKbWhFPdVVfBM8/AHXfA88/DWWdFq6tUittwyoNLFyyIxyW3UUfU36OPwvUZJ6kbNsAnP3nwew88YMJqIk8Jj0S33x6PQj7hhBhEumYNrF0byeqkk+Cee+DWW/OOUjqELawmmpJ3AMMxf348NfPZZ6NlAHDaaTBrVm5fQNER9fe5z8WkXJiwjmSjRsU1ljZeWJdGwlNCSR3DhCWpY5iwJHUME5akjmHCktQxTFiSOobDGrLtBfJ/NnB14++9997S8uXLd+UdSDWrVq0aT9wCWMj4KHj9rV+/vqd+qSNTV94BFNQUYGreQdRwUjJv610pw2B8I/cK8PO8g5AkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZLUav8Hdbjn9/QMEV4AAAAASUVORK5CYII="></p>
</div>
</div>


<h2 id="features">Features<a href="#features" title="Permanent link">#</a></h2>
<ul>
<li>
<p><strong>Layout model</strong> <em>Elsie</em> provides a simple, yet powerful layout model. Rows, columns, padding,
text alignment, relative/absolute positioning and many other layout features are included.</p>
</li>
<li>
<p><strong>Animations and fragments</strong> Reveal your slides gradually using
<a href="https://spirali.github.io/elsie/userguide/revealing/">fragments</a> and build complex step-by-step animations in Python. Or draw a
fine-tuned SVG image by hand e.g. in <code>Inkscape</code> and let <em>Elsie</em> turn it into an animation using a
handy <a href="https://spirali.github.io/elsie/userguide/images/#embedding-fragments-in-images">layer-naming convention</a>.</p>
</li>
<li>
<p><strong>Source code highlighting</strong> Enjoy beautiful code snippets thanks to built-in
<a href="https://spirali.github.io/elsie/userguide/syntax_highlighting/">source code highlighting</a>. Create code walkthroughs using
individual <a href="https://spirali.github.io/elsie/userguide/syntax_highlighting/#line-and-inline-boxes">line highlighting</a> or
<a href="https://spirali.github.io/elsie/userguide/shapes/#arrow-heads">arrows</a> pointing to specific code elements.</p>
</li>
<li>
<p><strong>Batteries included</strong> Leverage familiar SVG features - fonts, colors, dashed line borders.
Include <code>PNG/JPG/SVG/ORA</code> images or render <a href="https://spirali.github.io/elsie/userguide/markdown/">Markdown</a> or
<a href="https://spirali.github.io/elsie/userguide/latex/">LaTeX</a> directly into your slides. Build your slides interactively in
<a href="https://spirali.github.io/elsie/userguide/jupyter/">Jupyter notebooks</a>.</p>
</li>
<li>
<p><strong>Familiarity</strong> At its heart, <em>Elsie</em> is a streamlined API for creating SVG images, optimized for
making presentations. If you know the basics of Python and SVG, you'll be right at home.</p>
</li>
</ul>
<p>The ultimate feature of <em>Elsie</em> is that it allows you to build slides using (an imperative)
programming language. You can split a large presentation into several modules/files, parametrize
animations or objects that appear often using functions, create arbitrarily complex slides and
animations or interactively modify the font, aspect ratio or text color/size of your whole
presentation by changing a single line of code.</p>
<p><em>Every tool has its disadvantages though.</em></p>
<ul>
<li><em>Elsie</em> provides a rather low-level API. While that means that you can create a slide in almost
any way you like, you will sometimes have to roll up your sleeves to achieve your desired goal.
However, once you implement it, you can put it inside a function and reuse it the next time, or
send us a <a href="https://github.com/spirali/elsie/pulls">Pull Request</a> to share the functionality with
others.</li>
<li><em>Elsie</em> produces PDF slides, so it can only create animations with a single frame per page.
If you need 60 FPS animations or GIFs in your presentations, this tool is not for you.</li>
<li><em>Elsie</em> is tested only on Linux. If you find a problem on a different platform, do not hesitate
to open a <a href="https://github.com/spirali/elsie/issues/new">GitHub issue</a>.</li>
</ul>

<ul>
<li>
<p><strong>Google slides/PowerPoint</strong>
These tools are fine if you need to make a bunch of very simple slides quickly, but using them
gets very annoying if you need anything more complex. You need to place all items manually,
alignment is usually a mess, fragments (animations) are not supported very well. If you need to
change some small detail (placement, style, color) of a thing that is repeated on many slides, you
pretty much have to go through all the slides and modify them by hand, one by one. Displaying source
code with syntax highlighting is notoriously badly supported, so often you have to resort to
exporting the highlighted code from <a href="https://carbon.sh/">carbon.sh</a> or screenshotting it from your
IDE, both of which are far from ideal. Also, you can't really use source control (e.g. <code>git</code>) to
version your slides, which is a shame.</p>
<p>However, PowerPoint does allow you to create continuous animations (if you do not export to PDF
of course), so if you need that, it might be a good choice. It also has a myriad of other
useful features, like tables, charts, shared templates, spell checking, etc.</p>
</li>
<li>
<p><strong>LaTeX/Beamer</strong>
LaTeX has a template called <a href="https://www.overleaf.com/learn/latex/beamer">Beamer</a>, which is
designed for creating presentation slides. It produces fine-looking text, has good support for
syntax highlighting and can be versioned easily. However, in our experience it is not that easy to
create custom diagrams and animations using LaTeX, mainly because of its declarative nature
(and somewhat confusing syntax). If you can speak fluently in
<a href="https://www.overleaf.com/learn/latex/TikZ_package">TikZ</a> and you can understand the error messages
of <code>pdflatex</code>, you are probably fine. If not, creating slides with complex animations, diagrams and
source code snippets might be easier for you in Python.</p>
<p>While <em>Elsie</em> also has basic support for rendering <a href="https://spirali.github.io/elsie/userguide/latex/">LaTeX</a>, if your
presentation is mostly composed of math formulas, it might be easier to create it in LaTeX
directly.</p>
</li>
<li>
<p><strong>Reveal.js</strong>
<a href="https://revealjs.com/">reveal.js</a> is a great tool for making HTML presentations. It supports syntax
highlighting, has good-looking animations and can be versioned. However, it shares some disadvantages
of LaTeX/Beamer, which stems from the fact that it is also declarative. Creating an animation that
would walk line-by-line through a source code snippet or that would repeatedly display and hide
objects in custom fragments is difficult. You can actually use JavaScript to create more complex
animations, but it's not integrated very well, and the library itself does not offer you any API
to make it easier.</p>
<p>That being said, if you are fine with declarative description of slides, and you prefer
HTML/CSS to Python/SVG, <code>reveal.js</code> is a fine choice.</p>
</li>
<li>
<p><strong>Prezi</strong>
If you like presentations with three or more dimensions, it's a good choice. Otherwise, the
disadvantages of PowerPoint also apply here.</p>
</li>
<li>
<p><strong>python-pptx</strong>
<a href="https://python-pptx.readthedocs.io/en/latest/">python-pptx</a> is an API for building PowerPoint
presentations, which is great if you like PowerPoint (or you are forced to use it), because it
gives you access to a lot of its features (like tables, charts, slide notes) for free. On the
other hand, this also means that you are limited by what can PowerPoint do. Creating complex
fragment animations, pretty syntax highlighted source code snippets or LaTeX equations will
probably be nigh impossible using this library.</p>
</li>
</ul>
<h2 id="faq">FAQ<a href="#faq" title="Permanent link">#</a></h2>
<ul>
<li><strong>Why don't you use an existing layout model, e.g. <code>flexbox</code>?</strong>
We made the <a href="https://spirali.github.io/elsie/userguide/layout/">layout model</a> tailored for presentations, which might not be
so easy with a general layout model. We also couldn't find any usable binding of a standalone and
sane layout model in Python. If you know of any, please
<a href="https://github.com/spirali/elsie/issues">let us know</a>.</li>
</ul>
<h2 id="license">License<a href="#license" title="Permanent link">#</a></h2>
<p><a href="https://github.com/spirali/elsie/blob/master/LICENSE">MIT</a>.</p>
<p>Created by <a href="https://github.com/spirali">Stanislav Böhm</a> and
<a href="https://github.com/kobzol">Jakub Beránek</a>.</p>
              
            </div>
          </div>
          
      
        </div>
      </div>

    </section>

  </div></div>]]>
            </description>
            <link>https://spirali.github.io/elsie/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26254372</guid>
            <pubDate>Wed, 24 Feb 2021 19:23:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How Kubernetes made on-prem cool again]]>
            </title>
            <description>
<![CDATA[
Score 14 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26254317">thread link</a>) | @htroisi
<br/>
February 24, 2021 | https://blog.pixielabs.ai/k8s-on-prem/k8s-on-prem/ | <a href="https://web.archive.org/web/*/https://blog.pixielabs.ai/k8s-on-prem/k8s-on-prem/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><p>In this post, we will discuss the following:</p><ol><li>The historical advantages and disadvantages to on-prem software deployments.</li><li>The ways Kubernetes makes it easier to deploy software to on-prem customer environments.</li><li>The remaining challenges with on-prem deployments that Kubernetes does not currently solve.</li></ol><p>On-prem software deployments have gotten a bad rap, at least from the perspective of the vendors that build and support such software. This reputation has been largely justified. In comparison to their cloud-hosted/SaaS counterparts, on-prem products are generally much more difficult to deploy, manage, and maintain. That being said, there are strong benefits to on-prem deployments, or else no one would bother (more on those later).</p><p>Enter Kubernetes. Kubernetes has dramatically shifted the tradeoffs of on-prem versus SaaS deployments. Thanks to the rich abstractions that Kubernetes provides, deploying a software product to a customer's on-prem environment can be significantly easier than before. Because Kubernetes has achieved such <a href="https://www.cncf.io/wp-content/uploads/2020/11/CNCF_Survey_Report_2020.pdf" target="_blank" rel="noopener noreferrer">high market penetration</a> (and still growing), it is now a viable target environment for many B2B software products.</p><p>In response to this shift, companies such as <a href="https://www.okera.com/" target="_blank" rel="noopener noreferrer">Okera</a>, <a href="https://about.sourcegraph.com/" target="_blank" rel="noopener noreferrer">Sourcegraph</a> (self-hosted offering), and <a href="https://pixielabs.ai/" target="_blank" rel="noopener noreferrer">Pixie Labs have</a> decided to deploy their products directly on customers' Kubernetes clusters, rather than in a hosted cloud/SaaS environment. At Pixie Labs, we predict that more B2B tools will move to support deploying on-prem to their customers' Kubernetes clusters, a mirror of the most recent shift where many applications moved from on-prem to SaaS.</p><h2>What is on-prem?</h2><p>First, let's quickly define "on-prem" because that can mean different things to different people. Some people define "on-prem" to be running on a bare metal server environment, with machines managed by the customer themselves. We take a broader definition, where "on-prem" refers to deploying directly on the customer's servers, wherever they may be.
As long as it is running directly on a customer's environment rather than a hosted cloud, this includes all of the following:</p><ul><li>Bare metal servers (including air-gapped without external network connection)</li><li>Virtual private cloud</li><li>Managed cloud environment (such as ECS, GKE/AKS/EKS, etc)</li></ul><h2>Which applications should be considered for on-prem?</h2><p>Not all applications make sense to run on-prem in the first place. Some applications can live entirely in a vendor's hosted cloud and don't need to interact with a customer environment, such as a customer relationship management (CRM) product like Salesforce or JIRA. However, other types of applications may have heavy dependencies on the customer environment. For example, a log analytics tool will likely need to read a lot of data from a customer's production system. These types of tools are more likely to be a fit for an on-prem deployment. There are also business model reasons that will affect the decision, which are touched on below. However, the major emphasis is placed on the technical landscape shifts created by Kubernetes.</p><h2>Pros and cons of on-prem (summary)</h2><p>The table below summarizes the pros/cons we have historically seen for on-prem deployments. Each item gets more detail in the next section.</p><table><thead><tr><th scope="col">Pros</th><th scope="col">Cons</th></tr></thead><tbody><tr><td>Customer data privacy (data remains in their environment)</td><td>Heterogeneous customer environments create higher technical complexity</td></tr><tr><td>Customer pays hosting costs (enables shipping "free" software)</td><td>Limited vendor visibility into bugs, crashes, and other problems</td></tr><tr><td>Support for more environments, such as air-gapped environments in finance/government</td><td>Vendor does not control deployed version</td></tr><tr><td>Lower network utilization (no need to export customer data to a remote cloud)</td><td>Orchestration and self-healing logic must be built out</td></tr><tr><td>Increased customer control over system</td><td>Resource utilization of system must be carefully managed</td></tr></tbody></table><h2>Advantages of on-prem</h2><p>There are five major advantages to on-prem software deployments that we would like to highlight in this post.</p><h3>🟢 Customer data privacy</h3><p>Customers are becoming increasingly sensitive to their private data being shipped to remote clouds that they don't control. For certain types of highly sensitive data (logs, user information, etc), it can be tough to impossible to convince customers to take the risk of exporting that data outside their system.</p><h3>🟢 Customer pays hosting costs</h3><p>When an application runs on-prem and stores customer data on-prem, the software vendor doesn't need to pass on the hosting costs to the end user and can offer a free or cheaper plan than SaaS competitors. This is nearly mandatory for open source solutions, which can't afford to pay to host their entire user base.</p><h3>🟢 Support for more customer environments</h3><p>Many customer environments, especially in fields like finance or government, are air gapped (no external network connection). It isn't possible to connect those environments to a vendor's remote cloud so products requiring such a connection are dead on arrival from a sales perspective.</p><h3>🟢 Lower network utilization</h3><p>SaaS applications often ingest significant amounts of data from their customer's production environment. Exporting large amounts of data to a remote SaaS environment can put a significant burden on the network resources of the customer's production system.</p><h3>🟢 Increased customer control over the system</h3><p>Many customers strongly prefer the ability to control the applications that they purchase, and are frustrated when there is downtime of SaaS applications which they can't fix. When a product deploys on-prem, the customer has the ability to have much greater control over the system and address issues as they arise, rather than being at the mercy of the vendor.</p><h2>Historical disadvantages of on-prem</h2><p>Though there are significant advantages to on-prem deployments, they've come at a significant cost in the past, hence the shift to SaaS in many applications. Let's review some of the challenges of on-prem deployments, pre-Kubernetes.</p><h3>🔴 Heterogeneous customer environments create higher technical complexity</h3><p>When customer environments vary significantly, multiple parallel code paths must be built out for flows such as deployment, scale-up, updates, and error management. For example, binaries must be created for many different operating systems and environments. Additionally, there might be different network policies in a cluster, different resource amounts, and different endpoints/addresses for each of the nodes.</p><h3>🔴 Limited vendor visibility into bugs, crashes, and other problems</h3><p>In a SaaS offering, the vendor has easy access to logs, errors, crashes, etc, since they control the system. In a customer environment that vendor may have no idea that a problem is occuring in the first place. Usually, the customer must discover the problem for themselves and manually restart the system.</p><h3>🔴 Vendor does not control deployed version</h3><p>Many on-prem customers resist updating because "if it ain't broke, don't fix it". Since updating is usually controlled by the customer, vendors need to support a large number of versions of their product at any given time. In contrast, with SaaS, the vendor can control the running version to a small number of versions, or even a single version</p><h3>🔴 Orchestration and self-healing logic must be built out</h3><p>It's one thing to build a set of binaries for your application for each target OS that you want to support. It's another task altogether to deploy those binaries to many different customer nodes, and support new nodes coming online, old nodes disappearing, and fault tolerance in the case that the application encounters an error. Investing in this logic can eat up a large amount of the development budget, away from features, bug fixes, and other higher priority items.</p><h3>🔴 Resource utilization of product must be carefully managed</h3><p>Resource-intensive applications that need a lot of CPU or memory can impose a significant burden on their host system. Many of us have seen supposedly "lightweight" agents using 50% of CPU or memory on our production clusters, so resource utilization must be carefully managed, especially in sensitive environments.</p><p>Kubernetes provides a powerful and rich set of abstractions across highly diverse customer environments. As a result, it is now significantly easier for developers to deploy their products on-prem directly on a customer Kubernetes cluster. Thanks to the high adoption of Kubernetes, this is a very large section of the market, which is likely to continue to increase for the foreseeable future.</p><p>Let's dive into how Kubernetes mitigates some of the above "cons" when deploying software on-prem to a customer.</p><h2>Deployment and Orchestration</h2><h3>Containerization</h3><p>Kubernetes allows the user to create a single binary packaged inside a container. This container can be run on a variety of operating systems or environments. This benefit is offered by any container-based system, but it's still worth noting.</p><h3>Orchestration and self-healing</h3><p>Previously, the vendor would build logic to deploy their product to every relevant customer node in the system. This would involve scaling up the deployment when nodes came online or went away.</p><p>Kubernetes provides a declarative, config-based solution for any system to do the following:</p><ul><li>Deploy to every node</li><li>Deploy to specific nodes</li><li>Update deployments when new nodes come online or go away</li></ul><p>Rather than building out the complex logic to perform these tasks, the vendor only needs to create a YAML or JSON config. This is a win for the customer too, who only needs to apply that config file to their cluster.</p><p>Kubernetes also comes with self-healing and scaling logic, built in to configs as well.</p><ul><li>Crash handling</li><li>Restarts</li><li>Autoscaling of services based on load</li></ul><p>While it was certainly possible to build out support for all of these cases in the past, it would be a significant investment. Reducing it to a system-agnostic YAML/JSON config file greatly reduces the barrier to building scalable, fault-tolerant on-prem products. Previously, supporting all of the above wouldn't just be done one time, but many times depending on the operating …</p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.pixielabs.ai/k8s-on-prem/k8s-on-prem/">https://blog.pixielabs.ai/k8s-on-prem/k8s-on-prem/</a></em></p>]]>
            </description>
            <link>https://blog.pixielabs.ai/k8s-on-prem/k8s-on-prem/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26254317</guid>
            <pubDate>Wed, 24 Feb 2021 19:20:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Wisdom from the Forums: “The Gap Between Expectations and Reality”]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26254097">thread link</a>) | @tmfi
<br/>
February 24, 2021 | https://blog.jim-nielsen.com/2021/expectations-and-reality/ | <a href="https://web.archive.org/web/*/https://blog.jim-nielsen.com/2021/expectations-and-reality/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p>A while back, I created <a href="https://community.netlify.com/t/support-for-deno-on-netlify/14172">a thread in the Netilfy community forums about support for deno</a>.</p>
<p>I’ve been monitoring activity on the thread from my inbox. The conversation has gone back and forth on feasibility and possible support. Ideas for a workaround have surfaced, but I’m keen on official support only (I’m trying to limit “workarounds” in my digital life).</p>
<p>Recently, <a href="https://community.netlify.com/t/support-for-deno-on-netlify/14172/17">this message from Chris McCraw</a>, Director of Support at Netlify, came into my inbox:</p>
<blockquote>
<p>No reason we couldn’t [support deno], but we haven’t...</p>
<p>Our already-pretty flexible CI env of “do whatever you want in the unix shell” is already a pretty huge thing to provide tech support on (leads to around 2/5 of our Support contacts, almost all about things that the customer has misconfigured rather than bugs in our system), and allowing people to bring their own docker image complicates things further. I suppose we could implement a “0 tech support” policy on custom containers to ease the operational cost, but while we can say anything we want - people can and do set their own expectations and expect more than that, judging from a decade in the industry, and in the gap between expectations and reality lies much sadness.</p>
</blockquote>
<p>First, it’s fascinating to see Chris cite a number like that on the fly—“2/5 of our Support contacts”. These folks are clearly being intentional about measuring interdependent aspects of their business in order to understand cause and effect. The fact that he knows that number enough to recite it off-the-cuff in a forum post signals a lot to me about how Netlify builds product.</p>
<p>However, that’s not what impressed me the most about Chris’ comment. What impressed me was this insight, which I quote again:</p>
<blockquote>
<p>I suppose we could implement a “0 tech support” policy on custom containers to ease the operational cost, but while we can say anything we want - people can and do set their own expectations and expect more than that...and in the gap between expectations and reality lies much sadness.</p>
</blockquote>
<p>Giving people what they want sounds like a good idea, especially if the cost to you is negligible under your specified terms—”yeah we don’t really want to support that, but it wouldn’t cost us that much to just give it to you under the condition that you don’t ask us for help.”</p>
<p>However, Chris’ quote resonates from experience. The reality is you can say what you want, but people’s expectations are out of your hands. Once you put something into the world, it no longer belongs solely to you. You can’t say, “sure, here it is, but I’m not responsible for it.” Once it’s out, it takes on a life of its own and you no longer control its narrative or perception. Perception becomes reality and you may easily end up supporting something you explicitly stated you would not—often to preserve image, change perception, and/or improve customer satisfaction.</p>
<p>In summary: choose what you provide wisely because if you provide it with the caveat that you won’t support it, you may soon find yourself supporting it.</p>

      </div></div>]]>
            </description>
            <link>https://blog.jim-nielsen.com/2021/expectations-and-reality/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26254097</guid>
            <pubDate>Wed, 24 Feb 2021 19:02:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Postgres regex search over 10k GitHub repositories (using only a MacBook)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26254012">thread link</a>) | @kiyanwang
<br/>
February 24, 2021 | https://devlog.hexops.com/2021/postgres-regex-search-over-10000-github-repositories | <a href="https://web.archive.org/web/*/https://devlog.hexops.com/2021/postgres-regex-search-over-10000-github-repositories">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>In this article, we share empirical measurements from our experiments in using Postgres to index and search over 10,000 top GitHub repositories using <code>pg_trgm</code> on only a Macbook.</p>

<p>This is a follow up to <a href="https://devlog.hexops.com/2021/postgres-trigram-search-learnings">“Postgres Trigram search learnings”</a>, in which we shared several learnings and beliefs about trying to use Postgres Trigram indexes as an alterative to Google’s <a href="https://github.com/google/zoekt">Zoekt</a> (“Fast trigram based code search”).</p>

<p>We share our results, as well as <a href="https://github.com/hexops/pgtrgm_emperical_measurements">the exact steps we performed, scripts, and lists of the top 20,000 repositories by stars/language on GitHub</a> so you can reproduce the results yourself should you desire.</p>

<h2 id="tldr">TL;DR</h2>

<p><strong>This article is extensive and more akin to a research paper than a blog post.</strong> If you’re interested in our conclusions, see <a href="#conclusions">conclusions</a> instead.</p>

<h2 id="goals">Goals</h2>

<p>We wanted to get empirical measurements for how suitable Postgres is in providing regexp search over documents, e.g. as an alterative to Google’s <a href="https://github.com/google/zoekt">Zoekt</a> (“Fast trigram based code search”). In specific:</p>

<ul>
  <li>How many repositories can we index on just a 2019 Macbook Pro?</li>
  <li>How fast are different regexp searches over the corpus?</li>
  <li>What Postgres 13 configuration gives best results?</li>
  <li>What other operational effects need consideration if seriously attempting to use Postgres as the backend for a regexp search engine?</li>
  <li>What is the best database schema to use?</li>
</ul>

<h2 id="hardware">Hardware</h2>

<p>We ran all tests on a 2019 Macbook Pro with:</p>

<ul>
  <li>2.3 GHz 8-Core Intel Core i9</li>
  <li>16 GB 2667 MHz DDR4</li>
</ul>

<p>During test execution, few other Mac applications were in use such that effectively all CPU/memory was available to Postgres.</p>

<h2 id="corpus">Corpus</h2>

<p>We scraped <a href="https://github.com/hexops/pgtrgm_emperical_measurements/tree/main/top_repos">lists of the top 1,000 repositories from the GitHub search API</a> ranked by stars for each of the following languages (~20.5k repositories in total):</p>

<ul>
  <li>C++, C#, CSS, Go, HTML, Java, JavaScript, MatLab, ObjC, Perl, PHP, Python, Ruby, Rust, Shell, Solidity, Swift, TypeScript, VB .NET, and Zig.</li>
</ul>

<p>Cloning all ~20.5k repositories in parallel took ~14 hours with a fast ~100 Mbps connection to GitHub’s servers.</p>

<h3 id="dataset-reduction">Dataset reduction</h3>

<p>We found the amount of disk space required by <code>git clone --depth 1</code> on these repositories to be a sizable ~412G for just 12,148 repositories - and so we put in place several processes for further reduce the dataset size by about 66%:</p>

<ul>
  <li>Removing <code>.git</code> directories resulted in a 30% reduction (412G -&gt; 290G, for 12,148 repositories)</li>
  <li>Removing files &gt; 1 MiB resulted in another 51% reduction (290G -&gt; 142G, for 12,148 repositories - note GitHub does not index files &gt; 384 KiB in their search engine)</li>
</ul>

<h2 id="database-insertion">Database insertion</h2>

<p>We <a href="https://github.com/hexops/pgtrgm_emperical_measurements/blob/main/cmd/corpusindex/main.go">concurrently inserted</a> the entire corpus into Postgres, with the following DB schema:</p>

<div><div><pre><code><span>CREATE</span> <span>EXTENSION</span> <span>IF</span> <span>NOT</span> <span>EXISTS</span> <span>pg_trgm</span><span>;</span>
<span>CREATE</span> <span>TABLE</span> <span>IF</span> <span>NOT</span> <span>EXISTS</span> <span>files</span> <span>(</span>
    <span>id</span> <span>bigserial</span> <span>PRIMARY</span> <span>KEY</span><span>,</span>
    <span>contents</span> <span>text</span> <span>NOT</span> <span>NULL</span><span>,</span>
    <span>filepath</span> <span>text</span> <span>NOT</span> <span>NULL</span>
<span>);</span>
</code></pre></div></div>

<p>In total, this took around ~8 hours to complete and Postgres’s entire on-disk utilization was 101G.</p>

<h2 id="creating-the-trigram-index">Creating the Trigram index</h2>

<p>We tried three separate times to index the dataset using the following GIN Trigram index:</p>

<div><div><pre><code>CREATE INDEX IF NOT EXISTS files_contents_trgm_idx ON files USING GIN (contents gin_trgm_ops);
</code></pre></div></div>

<ul>
  <li><strong>In the first attempt, we hit an OOM after 11 hours and 34 minutes.</strong> This was due to a rapid spike in memory usage at the very end of indexing. We used a <a href="https://github.com/hexops/pgtrgm_emperical_measurements#configuration-attempt-1-indexing-failure-oom">fairly aggressive</a> Postgres configuration with a very large max WAL size, so it was not entirely unexpected.</li>
  <li><strong>In the second attempt, we ran out of SSD disk space after ~27 hours</strong>. Notable is that the disk space largely grew towards the end of indexing, similar to when we faced an OOM - it was not a gradual increase over time. For this attempt, we used the excellent <a href="https://pgtune.leopard.in.ua/#/">pgtune</a> tool to reduce our first Postgres configuration as follows:</li>
</ul>

<div><div><pre><code>shared_buffers = 4GB → 2560MB
effective_cache_size = 12GB → 7680MB
maintenance_work_mem = 16GB → 1280MB
default_statistics_target = 100 → 500
work_mem = 5242kB → 16MB
min_wal_size = 50GB → 4GB
max_wal_size = 4GB → 16GB
max_parallel_workers_per_gather = 8 → 4
max_parallel_maintenance_workers = 8 → 4
</code></pre></div></div>
<ul>
  <li><strong>In our third and final attempt, we cut the dataset in half and indexing succeeded after 22 hours.</strong> In specific, we deleted half of the files in the database (from 19,441,820 files / 178GiB of data to 9,720,910 files / 82 GiB of data.) The Postgres configuration used was the same as in attempt 2.</li>
</ul>

<h2 id="indexing-performance-memory-usage">Indexing performance: Memory usage</h2>

<p>In our first attempt, we see the reported <code>docker stats</code> memory usage of the container grow up to 12 GiB (chart shows MiB of memory used over time):</p>

<p><img width="981" alt="image" src="https://user-images.githubusercontent.com/3173176/107313722-56bbac80-6a50-11eb-94c7-8e13ea095053.png"></p>

<p>In our second and third attempts, we see far less memory usage (~1.6 GiB consistently):</p>

<p><img width="980" alt="image" src="https://user-images.githubusercontent.com/3173176/107314104-350ef500-6a51-11eb-909f-2f1b524d29b2.png"></p>

<p><img width="980" alt="image" src="https://user-images.githubusercontent.com/3173176/107315387-ce3f0b00-6a53-11eb-886c-410f000f73bd.png"></p>

<h2 id="indexing-performance-cpu-usage">Indexing performance: CPU usage</h2>

<p>Postgres’ Trigram indexing appears to be mostly single-threaded (at least when indexing <em>a single table</em>, we test multiple tables later.)</p>

<p>In our first attempt, CPU usage for the container did not rise above 156% (one and a half virtual CPU cores):</p>

<p><img width="982" alt="image" src="https://user-images.githubusercontent.com/3173176/107313915-cc277d00-6a50-11eb-9282-62159a127966.png"></p>

<p>Our second attempt was around 150-200% CPU usage on average:</p>

<p><img width="980" alt="image" src="https://user-images.githubusercontent.com/3173176/107314168-507a0000-6a51-11eb-8a18-ec18752f7f16.png"></p>

<p>Our third attempt similarly saw an average of 150-200%, but with a brief spike towards the end to ~350% CPU:</p>

<p><img width="980" alt="image" src="https://user-images.githubusercontent.com/3173176/107315239-8324f800-6a53-11eb-9a5b-fcc61d1a7b59.png"></p>

<h2 id="indexing-performance-disk-io">Indexing performance: Disk IO</h2>

<p>Disk reads/writes during indexing averaged about ~250 MB/s for reads (blue) and writes (red). Native in-software tests show the same Macbook able to achieve read/write speeds of ~860 MB/s with &lt;5% affect on CPU utilization.</p>

<p><small>Addition made Feb 20, 2021:</small> We ran tests using native Postgres as well (instead of in Docker with a bind mount) and found better indexing and query performance, more on this below.</p>

<p><img width="599" alt="image" src="https://user-images.githubusercontent.com/3173176/106507903-ec6f9e80-6488-11eb-88a8-78e5b7aacfd6.png"></p>

<h2 id="indexing-performance-disk-space">Indexing performance: Disk space</h2>

<p>The database contains 9,720,910 files totalling 82.07 GiB:</p>

<div><div><pre><code>postgres=# select count(filepath) from files;
  count  
---------
 9720910
(1 row)

postgres=# select SUM(octet_length(contents)) from files;
     sum     
-------------
 88123563320
(1 row)
</code></pre></div></div>

<p><strong>Before indexing</strong>, we find that all of Postgres is consuming 54G:</p>

<div><div><pre><code>$ du -sh .postgres/
 54G	.postgres/
</code></pre></div></div>

<p>After <code>CREATE INDEX</code>, Postgres uses:</p>

<div><div><pre><code>$ du -sh .postgres/
 73G	.postgres/
</code></pre></div></div>

<p>Thus, the index size for 82 GiB of text is 19 GiB (or 23% of the data size.)</p>

<h2 id="database-startup-times">Database startup times</h2>

<p>From an operational standpoint, it is worth noting that if Postgres is starting clean (i.e. previous shutdown was graceful) then startup time is almost instantaneous: it begins accepting connections immediately and loads the index as needed.</p>

<p>However, if Postgres experienced a non-graceful termination during e.g. startup, it can take a hefty ~10 minutes with this dataset to start as it goes through an automated recovery process.</p>

<h2 id="queries-executed">Queries executed</h2>

<p>In total, we executed 19,936 search queries against the index. We chose queries which we expect give reasonably varying amounts of coverage over the trigram index (that is, queries whose trigrams are more or less likely to occur in many files):</p>

<table>
  <thead>
    <tr>
      <th>Regexp query</th>
      <th>Matching # files in entire dataset</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>var</code></td>
      <td>unknown (2m+ suspected)</td>
    </tr>
    <tr>
      <td><code>error</code></td>
      <td>1,479,452</td>
    </tr>
    <tr>
      <td><code>123456789</code></td>
      <td>59,841</td>
    </tr>
    <tr>
      <td><code>fmt\.Error</code></td>
      <td>127,895</td>
    </tr>
    <tr>
      <td><code>fmt\.Println</code></td>
      <td>22,876</td>
    </tr>
    <tr>
      <td><code>bytes.Buffer</code></td>
      <td>34,554</td>
    </tr>
    <tr>
      <td><code>fmt\.Print.*</code></td>
      <td>37,319</td>
    </tr>
    <tr>
      <td><code>ac8ac5d63b66b83b90ce41a2d4061635</code></td>
      <td>0</td>
    </tr>
    <tr>
      <td><code>d97f1d3ff91543[e-f]49.8b07517548877</code></td>
      <td>0</td>
    </tr>
  </tbody>
</table>

<details>
<summary>Detailed breakdown</summary>
<div>

    <table>
      <thead>
        <tr>
          <th>Query</th>
          <th>Result Limit</th>
          <th>Times executed</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>var</code></td>
          <td>10</td>
          <td>1000</td>
        </tr>
        <tr>
          <td><code>var</code></td>
          <td>100</td>
          <td>1000</td>
        </tr>
        <tr>
          <td><code>var</code></td>
          <td>1000</td>
          <td>100</td>
        </tr>
        <tr>
          <td><code>var</code></td>
          <td>unlimited</td>
          <td>4</td>
        </tr>
        <tr>
          <td><code>error'</code></td>
          <td>10</td>
          <td>2000</td>
        </tr>
        <tr>
          <td><code>error'</code></td>
          <td>100</td>
          <td>2000</td>
        </tr>
        <tr>
          <td><code>error'</code></td>
          <td>1000</td>
          <td>200</td>
        </tr>
        <tr>
          <td><code>error'</code></td>
          <td>unlimited</td>
          <td>18</td>
        </tr>
        <tr>
          <td><code>123456789</code></td>
          <td>10</td>
          <td>1000</td>
        </tr>
        <tr>
          <td><code>123456789</code></td>
          <td>100</td>
          <td>1000</td>
        </tr>
        <tr>
          <td><code>123456789</code></td>
          <td>1000</td>
          <td>100</td>
        </tr>
        <tr>
          <td><code>123456789</code></td>
          <td>unlimited</td>
          <td>2</td>
        </tr>
        <tr>
          <td><code>fmt\.Error</code></td>
          <td>10</td>
          <td>1000</td>
        </tr>
        <tr>
          <td><code>fmt\.Error</code></td>
          <td>100</td>
          <td>1000</td>
        </tr>
        <tr>
          <td><code>fmt\.Error</code></td>
          <td>1000</td>
          <td>100</td>
        </tr>
        <tr>
          <td><code>fmt\.Error</code></td>
          <td>unlimited</td>
          <td>2</td>
        </tr>
        <tr>
          <td><code>fmt\.Println</code></td>
          <td>10</td>
          <td>1000</td>
        </tr>
        <tr>
          <td><code>fmt\.Println</code></td>
          <td>100</td>
          <td>1000</td>
        </tr>
        <tr>
          <td><code>fmt\.Println</code></td>
          <td>1000</td>
          <td>100</td>
        </tr>
        <tr>
          <td><code>fmt\.Println</code></td>
          <td>unlimited</td>
          <td>2</td>
        </tr>
        <tr>
          <td><code>bytes.Buffer</code></td>
          <td>10</td>
          <td>4</td>
        </tr>
        <tr>
          <td><code>bytes.Buffer</code></td>
          <td>100</td>
          <td>4</td>
        </tr>
        <tr>
          <td><code>bytes.Buffer</code></td>
          <td>1000</td>
          <td>4</td>
        </tr>
        <tr>
          <td><code>bytes.Buffer</code></td>
          <td>unlimited</td>
          <td>2</td>
        </tr>
        <tr>
          <td><code>fmt\.Print.*</code></td>
          <td>10</td>
          <td>1000</td>
        </tr>
        <tr>
          <td><code>fmt\.Print.*</code></td>
          <td>100</td>
          <td>1000</td>
        </tr>
        <tr>
          <td><code>fmt\.Print.*</code></td>
          <td>1000</td>
          <td>100</td>
        </tr>
        <tr>
          <td><code>fmt\.Print.*</code></td>
          <td>unlimited</td>
          <td>2</td>
        </tr>
        <tr>
          <td><code>ac8ac5d63b66b83b90ce41a2d4061635</code></td>
          <td>10</td>
          <td>1000</td>
        </tr>
        <tr>
          <td><code>ac8ac5d63b66b83b90ce41a2d4061635</code></td>
          <td>100</td>
          <td>1000</td>
        </tr>
        <tr>
          <td><code>ac8ac5d63b66b83b90ce41a2d4061635</code></td>
          <td>1000</td>
          <td>100</td>
        </tr>
        <tr>
          <td><code>ac8ac5d63b66b83b90ce41a2d4061635</code></td>
          <td>unlimited</td>
          <td>2</td>
        </tr>
        <tr>
          <td><code>d97f1d3ff91543[e-f]49.8b07517548877</code></td>
          <td>10</td>
          <td>1000</td>
        </tr>
        <tr>
          <td><code>d97f1d3ff91543[e-f]49.8b07517548877</code></td>
          <td>100</td>
          <td>1000</td>
        </tr>
        <tr>
          <td><code>d97f1d3ff91543[e-f]49.8b07517548877</code></td>
          <td>1000</td>
          <td>100</td>
        </tr>
        <tr>
          <td><code>d97f1d3ff91543[e-f]49.8b07517548877</code></td>
          <td>unlimited</td>
          <td>2</td>
        </tr>
      </tbody>
    </table>

  </div>
</details>

<h2 id="query-performance">Query performance</h2>

<p>In total, we executed 19,936 search queries against the database (linearly, not in parallel) which completed in the following times:</p>

<table>
  <thead>
    <tr>
      <th>Time bucket</th>
      <th>Percentage of queries</th>
      <th>Number of queries</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Under 50ms</td>
      <td>30%</td>
      <td>5,933</td>
    </tr>
    <tr>
      <td>Under 250ms</td>
      <td>41%</td>
      <td>8,088</td>
    </tr>
    <tr>
      <td>Under 500ms</td>
      <td>52%</td>
      <td>10,275</td>
    </tr>
    <tr>
      <td>Under 750ms</td>
      <td>63%</td>
      <td>12,473</td>
    </tr>
    <tr>
      <td>Under 1s</td>
      <td>68%</td>
      <td>13,481</td>
    </tr>
    <tr>
      <td>Under 1.5s</td>
      <td>74%</td>
      <td>14,697</td>
    </tr>
    <tr>
      <td>Under 3s</td>
      <td>79%</td>
      <td>15,706</td>
    </tr>
    <tr>
      <td>Under 25s</td>
      <td>79%</td>
      <td>15,708</td>
    </tr>
    <tr>
      <td>Under 30s</td>
      <td>99%</td>
      <td>19,788</td>
    </tr>
  </tbody>
</table>

<h2 id="query-performance-vs-planning-time">Query performance vs. planning time</h2>

<p>The following scatter plot shows how 79% of queries executed in under 3s (Y axis, in ms), while Postgres’s query planner had planned them for execution in under 100-250ms generally (X axis, in ms):</p>

<p><img width="1252" alt="image" src="https://user-images.githubusercontent.com/3173176/107848471-ef379100-6db0-11eb-8396-4d156a179aae.png"></p>

<p>If we expand the view to include all queries, we start to get a picture of just how outlier these 21% of queries are (note that the small block of dots in the bottom left represents the same diagram shown above):</p>

<p><img width="1250" alt="image" src="https://user-images.githubusercontent.com/3173176/107848517-3cb3fe00-6db1-11eb-9652-e65d7d88fe36.png"></p>

<h2 id="query-time-vs-cpu--memory-usage">Query time vs. CPU &amp; Memory usage</h2>

<p>The following image shows:</p>

<ul>
  <li>(top) Query time in milliseconds</li>
  <li>(middle) CPU usage percentage (e.g. 801% refers to 8 out of 16 virtual CPU cores being consumed)</li>
  <li>(bottom) Memory usage in MiB.</li>
</ul>

<p><img width="1255" alt="image" src="https://user-images.githubusercontent.com/3173176/107848716-efd12700-6db2-11eb-8e8b-a8141a6bdb0b.png"></p>

<p>Notable insights from this are:</p>

<ul>
  <li>The large increase in resource usage towards the end is when we began executing queries with no <code>LIMIT</code>.</li>
  <li>CPU usage does not exceed 138%, until the spike at the end.</li>
  <li>Memory usage does not exceed 42 MiB, until the spike at the end.</li>
</ul>

<p>We suspect <code>pg_trgm</code> is single-threaded within the scope of a single table, but with <a href="https://www.postgresql.org/docs/10/ddl-partitioning.html">table data partitioning</a> (or splitting data into multiple tables with subsets of the data), we suspect better parallelism could be achieved.</p>

<h2 id="investigating-slow-queries">Investigating slow queries</h2>

<p>If we plot the number of index rechecks (X axis) vs. execution time (Y axis), we can clearly see one of the most significant aspects of slow queries is that they have many more index rechecks:</p>

<p><img width="1036" alt="image" src="https://user-images.githubusercontent.com/3173176/107849660-fc0cb280-6db9-11eb-9c10-cb7e74366ab7.png"></p>

<p>And if we look at <a href="https://github.com/hexops/pgtrgm_emperical_measurements/blob/main/query_logs/query-run-3.log#L3-L24">the <code>EXPLAIN ANALYZE</code> output for one of these queries</a> we can also confirm <code>Parallel Bitmap Heap Scan</code> is slow due to <code>Rows Removed by Index Recheck</code>.</p>

<h2 id="table-splitting">Table splitting</h2>

<p>Splitting up the search index into multiple smaller tables seems like an obvious approach to getting <code>pg_trgm</code> to use multiple CPU cores. We tried this by taking the same exact data set and splitting it into 200 tables, and found …</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://devlog.hexops.com/2021/postgres-regex-search-over-10000-github-repositories">https://devlog.hexops.com/2021/postgres-regex-search-over-10000-github-repositories</a></em></p>]]>
            </description>
            <link>https://devlog.hexops.com/2021/postgres-regex-search-over-10000-github-repositories</link>
            <guid isPermaLink="false">hacker-news-small-sites-26254012</guid>
            <pubDate>Wed, 24 Feb 2021 18:56:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Canada's parliament votes to label China's persecution of Uighurs as genocide]]>
            </title>
            <description>
<![CDATA[
Score 311 | Comments 157 (<a href="https://news.ycombinator.com/item?id=26253886">thread link</a>) | @lawrenceyan
<br/>
February 24, 2021 | https://www.cbc.ca/news/politics/uighur-genocide-motion-vote-1.5922711 | <a href="https://web.archive.org/web/*/https://www.cbc.ca/news/politics/uighur-genocide-motion-vote-1.5922711">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>The House of Commons today accused the Chinese government of carrying out genocide against Uighurs and other Turkic Muslims in the western Xinjiang region.</p><div><figure><div><p><img loading="lazy" alt="" srcset="" sizes="" src="https://i.cbc.ca/1.5923257.1614022914!/fileImage/httpImage/image.jpg_gen/derivatives/16x9_780/uighur-protest-on-parliament-hill.jpg"></p></div><figcaption>People gather on Parliament Hill on Monday, Feb. 22, 2021, to protest the Chinese government's treatment of the Uighur minority in China.<!-- --> <!-- -->(Andrew Lee/CBC)</figcaption></figure><p><span><p>The House of Commons&nbsp;today accused the Chinese government of carrying out a campaign of&nbsp;genocide against Uighurs and other Turkic Muslims.</p>  <p>A substantial majority of MPs&nbsp;—&nbsp;including most Liberals who participated&nbsp;—&nbsp;voted in favour of a Conservative motion that says China's actions in its western Xinjiang region meet the definition of genocide set out in the 1948 United Nations Genocide Convention.</p>  <p>The final tally was 266 in favour&nbsp;and zero&nbsp;opposed. Two MPs&nbsp;formally abstained.</p>  <p>Prime Minister Justin Trudeau and almost all of his cabinet colleagues were absent for the vote.&nbsp;Foreign Affairs Minister Marc Garneau&nbsp;was the only cabinet minister present. When it was his turn, he said he abstained "on behalf of the Government of Canada."&nbsp;</p>  <p>The motion also calls on the government to lobby the International Olympic Committee to move the 2022 Winter Olympic Games out of Beijing.</p>  <p>It was passed over the strenuous objections of&nbsp;Chinese Ambassador to Canada&nbsp;Cong Peiwu, who denounced the vote as&nbsp;meddling in China's internal affairs.</p>    <p>China also condemned&nbsp;the motion. At a briefing in Beijing Tuesday, foreign ministry spokesperson Wang Wenbin said China has lodged stern representations with Canada.</p>  <p>After the vote,&nbsp;Garneau issued a statement saying the federal government remains "deeply disturbed by horrific reports of human rights violations in&nbsp;Xinjiang,&nbsp;including the use of arbitrary detention, political re-education, forced labour, torture and forced sterilization.</p>  <p>"The government of Canada will continue to work with international partners to defend vulnerable minorities and we once again repeat our call for transparency and a credible international investigation in response to allegations of genocide.</p>  <p>"This investigation must be conducted by an international and independent body so that impartial experts can observe and report on the situation first-hand."</p>  <h2>'Stop spreading disinformation,' says China</h2>  <p>Media reports and academic and UN experts have accused China of imprisoning Uighurs in concentration and "deradicalization" camps and targeting them for&nbsp;forced labour, sexual violence, population control methods and sweeping surveillance. China's foreign ministry has denied the accusations.</p>  <p>The motion calls on the government to officially adopt the position that China is engaged in genocide, and to coordinate a response with the U.S. and other allies.</p>  <p>While it's not&nbsp;clear what impact —&nbsp;if any —&nbsp;the non-binding resolution will have on the Liberal government's approach to China, it threatens to inflame relations between the two countries at a time when they're already tense due to the arrest of Huawei&nbsp;chief financial officer&nbsp;Meng Wanzhou by Canadian authorities more than&nbsp;two years ago, and China's subsequent imprisonment of Canadians Michael Kovrig and Michael Spavor.</p>  <p>In a statement posted to the Chinese embassy's website prior to the vote, Cong insisted the reports of Uighur persecution&nbsp;are based on lies.</p>  <p>"A few people in Canada and some other western countries are talking about upholding values, but one important part of the values should be: respect facts and stop spreading disinformation and even lies," Cong said in the statement.</p>  <p>"We urge the Canadian side to take seriously China's solemn position … so as not to cause further damages to China-Canada relations."</p>  <h2>'A time for moral clarity'</h2>  <p>At a press conference this morning, Conservative foreign affairs critic Michael Chong said the evidence of China's crimes is overwhelming. He cited survivor testimony, satellite images, video, documents and media reports from major U.S. and international news outlets.</p>  <p>"Today is a time for moral clarity," said Chong. "We can no longer ignore this. We must call it for what it is — a genocide."</p>  <p>Chong and Conservative human rights critic Garnett Genuis were joined at the event by a Uighur woman who fled China and has become an outspoken critic of the Chinese regime.</p>  <p><em><strong>WATCH | Conservatives call on all MPs to support Uighur genocide motion:</strong></em></p>  <p><span><span><div><div title="Conservatives call on all MPs to support Uighur genocide motion" role="button" tabindex="0"><div><div aria-labelledby="1864402499707-metadata-" title="Conservatives call on all MPs to support Uighur genocide motion"><div><p><img src="https://thumbnails.cbc.ca/maven_legacy/thumbnails/369/799/UIGH_7000kbps_1280x720_1864404035954.jpg" alt="" loading="lazy"></p></div></div></div></div></div><span>The House of Commons will vote on whether to formally declare China's treatment of the Uighurs and other Turkic Muslims as a genocide.<!-- --> <!-- -->1:21</span></span></span></p>  <p>Speaking through a translator, Kalbinur Tursun said she was assigned to teach Chinese at a mass detention facility and a women's prison in the city of Ürümqi from March to November 2017.</p>  <p>She said that during her time in the job, she saw or heard of multiple acts of intimidation, violence and rape directed against Uighur people.</p>  <p>"No one should be subjected to such cruelty," she said.</p>  <p>Tursun said she was forcibly sterilized in 2019 through a surgical procedure, along with hundreds of other Uighur women.</p>  <p>Tursun said some of her relatives are still in Chinese prisons and that Chinese authorities have targeted her for harassment and intimidation to punish her for speaking out.</p>  <h2>Canada wants independent investigation</h2>  <p>MPs on the House of Commons subcommittee on international human rights agreed in an October report with the experts who say China's campaign against the Uighurs meets the definition of genocide set out by the UN. The committee heard testimony from several&nbsp;Uighur witnesses who gave first-hand accounts of atrocities</p>  <p>Bob Rae, Canada's ambassador to the United Nations,&nbsp;<a href="https://www.cbc.ca/news/politics/bob-rae-genocide-investigation-uighur-minority-1.5802920">called on the United Nations in November</a>&nbsp;to investigate whether China's persecution of ethnic Muslim Uighurs in Xinjiang constitutes genocide.</p>  <p>Despite these calls, Prime Minister Trudeau and his cabinet ministers have been reluctant to use the word "genocide" to describe China's actions against the Uighurs. Last week, Trudeau said the word is an "extremely loaded" one&nbsp;and he is not prepared to use it at this point.</p>  <p><em><strong>Watch:&nbsp;MPs discuss what's next now that the House has declared China is committing a genocide:</strong></em></p>  <p><span><span><div><div title="MPs discuss what's next now that the House has declared China is committing a genocide" role="button" tabindex="0"><div><div aria-labelledby="1864638019855-metadata-" title="MPs discuss what's next now that the House has declared China is committing a genocide"><div><p><img src="https://thumbnails.cbc.ca/maven_legacy/thumbnails/594/399/PP-PANEL-GENOCIDE.png" alt="" loading="lazy"></p></div></div></div></div></div><span>MPs- Rob Oliphant, Michael Chong and Jack Harris joined Power &amp; Politics Monday to discuss the House vote to declare that China is committing a genocide and what must happen next.<!-- --> <!-- -->8:44</span></span></span></p>  <p>In question period today, Garneau said the government takes allegations against China "very seriously" and has raised its concerns directly with the Chinese government.</p>  <p>Garneau said Canada wants independent investigators to go into China to document abuses and is working with international partners to gain access to the region.</p>  <p>A formal genocide declaration would bring Canada in line with the U.S. ahead of a virtual<a href="https://www.cbc.ca/news/politics/biden-trudeau-tuesday-meeting-1.5921708"> <u>bilateral meeting between Trudeau and U.S. President Joe Biden</u></a> scheduled for Tuesday.</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5915395.1613494147!/cpImage/httpImage/image.jpg_gen/derivatives/original_300/china-olympics-beijing-boycott-letter.jpg 300w,https://i.cbc.ca/1.5915395.1613494147!/cpImage/httpImage/image.jpg_gen/derivatives/original_460/china-olympics-beijing-boycott-letter.jpg 460w,https://i.cbc.ca/1.5915395.1613494147!/cpImage/httpImage/image.jpg_gen/derivatives/original_620/china-olympics-beijing-boycott-letter.jpg 620w,https://i.cbc.ca/1.5915395.1613494147!/cpImage/httpImage/image.jpg_gen/derivatives/original_780/china-olympics-beijing-boycott-letter.jpg 780w,https://i.cbc.ca/1.5915395.1613494147!/cpImage/httpImage/image.jpg_gen/derivatives/original_1180/china-olympics-beijing-boycott-letter.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5915395.1613494147!/cpImage/httpImage/image.jpg_gen/derivatives/original_780/china-olympics-beijing-boycott-letter.jpg"></p></div><figcaption>A man wearing a face mask to protect against the coronavirus walks past the Olympic rings on the exterior of the National Stadium, also known as the Bird's Nest, which will be a venue for the upcoming 2022 Winter Olympics, in Beijing, Tuesday, Feb. 2, 2021. A motion passed by the House of Commons today calls on the government to lobby for relocation of the games out of China due to the country's human rights record.<!-- --> <!-- -->(Mark Schiefelbein/The Associated Press)</figcaption></figure></span></p>  <p>In January, former U.S. secretary of State Mike Pompeo said the Trump administration had determined that China had committed "genocide and crimes against humanity" in Xinjiang region.</p>  <p>U.S. Secretary of State Antony Blinken has continued the former administration's policy of describing China's treatment of the Uighurs as genocide.</p>  <p>"My judgment remains that genocide was committed ... against the Uighurs and that hasn't changed," Blinken said late last month.</p>  <h2>Canada-China tensions continue</h2>  <p>The push by MPs to condemn China and&nbsp;relocate the Olympic Games&nbsp;comes at a time of heightened tensions. Beijing has been demanding for&nbsp;the past two years&nbsp;that Canada release a top executive of communications giant Huawei who is wanted on fraud charges in the United States.</p>  <p>Meng Wanzhou, who is also the daughter of the company's founder, denies the charges, which China says are politically motivated and part of a U.S. effort to stifle the nation's economic expansion.</p>  <p><em><strong>Watch:&nbsp;Government has 'moral obligation' to examine ties with China, says Liberal MP:</strong></em></p>  <p><span><span><div><div title="Government has 'moral obligation' to examine ties with China, says Liberal MP" role="button" tabindex="0"><div><div aria-labelledby="1864675395987-metadata-" title="Government has 'moral obligation' to examine ties with China, says Liberal MP"><div><p><img src="https://thumbnails.cbc.ca/maven_legacy/thumbnails/630/35/Y_ISO_PNP_GUEST_AND_REPORTERS_22FE_frame_203289.jpg" alt="" loading="lazy"></p></div></div></div></div></div><span>Quebec Liberal MP Sameer Zuberi tells Vassy Kapelos on Power &amp; Politics that the government has a 'moral obligation' to examine Canada's relationship with China through the lens of genocide.<!-- --> <!-- -->1:43</span></span></span></p>  <p>Former Canadian diplomat Michael Kovrig and Canadian entrepreneur Michael Spavor were detained&nbsp;by Chinese authorities nine days after the RCMP arrested the Chinese tech scion at the Vancouver airport in December 2018 on a U.S. extradition warrant.</p>  <p>Conservative Leader Erin O'Toole&nbsp;told reporters after the vote that Trudeau and his cabinet missed&nbsp;an opportunity to stand up for human rights —&nbsp;as former prime minister Brian Mulroney did with the campaign against racial apartheid&nbsp;in&nbsp;South Africa.</p>  <p>"There's real suffering going on in China. There's a genocide happening and Canadians, while we're free traders and I'm very proud to be a free market party,&nbsp;our values are not for sale&nbsp;and Mr. Trudeau needed to send that message today," O'Toole said.&nbsp;</p>  <p>The Conservative leader also said that fear of a&nbsp;trade&nbsp;backlash is&nbsp;not a good enough reason to ignore human rights violations in China.</p>  <p>"We will work with any sectors impacted by us standing up for human rights and dignity, as we have done before," he said.</p>  <p><em><strong>Watch:&nbsp;O'Toole reacts after House of Commons declares China is committing genocide:</strong></em></p>  <p><span><span><div><div title="O'Toole calls out Trudeau for missing House of Commons vote on declaring genocide in China" role="button" tabindex="0"><div><div aria-labelledby="1864600643526-metadata-" title="O'Toole calls out Trudeau for missing House of Commons vote on declaring genocide in China"><div><p><img src="https://thumbnails.cbc.ca/maven_legacy/thumbnails/558/762/EOTGEN_2500kbps_1280x720_1864602691895.jpg" alt="" loading="lazy"></p></div></div></div></div></div><span>Conservative Leader Erin O'Toole comments after a vote in the House of Commons that declared China is committing genocide against Uighurs.<!-- --> <!-- -->1:24</span></span></span></p>  <p>Green Party Leader Annamie Paul issued a statement criticizing the&nbsp;Liberal cabinet and the prime minister for abstaining from the vote and urged the federal government to strongly condemn China, lead a discussion with allies to bring China back into compliance with …</p></span></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.cbc.ca/news/politics/uighur-genocide-motion-vote-1.5922711">https://www.cbc.ca/news/politics/uighur-genocide-motion-vote-1.5922711</a></em></p>]]>
            </description>
            <link>https://www.cbc.ca/news/politics/uighur-genocide-motion-vote-1.5922711</link>
            <guid isPermaLink="false">hacker-news-small-sites-26253886</guid>
            <pubDate>Wed, 24 Feb 2021 18:46:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: We helped Point distribute customized fitness advice using Forest Admin]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26253878">thread link</a>) | @L-epstein
<br/>
February 24, 2021 | https://blog.ae.studio/forest-admin-and-point/ | <a href="https://web.archive.org/web/*/https://blog.ae.studio/forest-admin-and-point/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			<figure><img src="https://ae.studio/blog/content/images/2021/02/AE-feature-image.png" alt="" srcset="https://ae.studio/blog/content/images/size/w600/2021/02/AE-feature-image.png 600w, https://ae.studio/blog/content/images/size/w1000/2021/02/AE-feature-image.png 1000w, https://ae.studio/blog/content/images/size/w1600/2021/02/AE-feature-image.png 1600w, https://ae.studio/blog/content/images/size/w2400/2021/02/AE-feature-image.png 2400w" sizes="(min-width: 720px) 720px"></figure><h3 id="about-point"><strong>About Point</strong><br></h3><p><a href="https://www.areyouonpoint.co/"><strong>Point</strong></a> is a new app that uses insights from your wearable devices to provide specific fitness recommendations that help you make the most of your metrics. Last year, Point tapped our team to create their iOS app and recommendation algorithm, bringing their vision to life.</p><h3 id="offering-personalized-dynamic-fitness-advice"><strong>Offering personalized, dynamic fitness advice</strong><br></h3><p>When our teams got together, Point expressed their desire to write and deploy countless actionable fitness recommendations for users. This content would be based on specific metrics like heart-rate variability (HRV), sleep, cardio activity, and more, collected from wearable devices like Apple Watch, Fitbit, Garmin, and Oura Ring, and apps like Apple Health. It looks something like this: <br></p><figure><div><div><p><img src="https://ae.studio/blog/content/images/2021/02/preview-point2.png" width="1266" height="2526" alt="" srcset="https://ae.studio/blog/content/images/size/w600/2021/02/preview-point2.png 600w, https://ae.studio/blog/content/images/size/w1000/2021/02/preview-point2.png 1000w, https://ae.studio/blog/content/images/2021/02/preview-point2.png 1266w" sizes="(min-width: 720px) 720px"></p><p><img src="https://ae.studio/blog/content/images/2021/02/preview-point.png" width="1266" height="2526" alt="" srcset="https://ae.studio/blog/content/images/size/w600/2021/02/preview-point.png 600w, https://ae.studio/blog/content/images/size/w1000/2021/02/preview-point.png 1000w, https://ae.studio/blog/content/images/2021/02/preview-point.png 1266w" sizes="(min-width: 720px) 720px"></p></div></div><figcaption>Point's user interface features health data, insights &amp; recommendations</figcaption></figure><p>To get there, our data scientist, Arun, and developer, Lucas, needed to build a recommendation engine that would analyze an individual’s metrics and behaviors, then generate specific insights and recommendations that would then be delivered to the user. <br></p><h3 id="building-the-recommendation-engine"><strong>Building the recommendation engine </strong><br></h3><p>The core component of the Point product is users’ health data. As soon as a user’s device, like their Apple Watch, registers a new data sample, it connects to the Point app, which uploads the data to its internal servers.</p><p>The servers analyze those inputs and crank out specialized insights, which move to the recommendation engine. <br></p><p>Then, the engine parses and assembles a user-friendly interface based on the insight, tying together 3 components that are written and stored in a CMS:<br></p><ol><li>All of the text the user sees on their screen, including their health metrics &amp; insights</li><li>The specific recommendation content (a type of exercise, rest, a meal, etc.)</li><li>Call-to-action content (the button below the recommendation) <br></li></ol><figure><img src="https://ae.studio/blog/content/images/2021/02/Point---Recommendations-Schematic.jpeg" alt="" srcset="https://ae.studio/blog/content/images/size/w600/2021/02/Point---Recommendations-Schematic.jpeg 600w, https://ae.studio/blog/content/images/size/w1000/2021/02/Point---Recommendations-Schematic.jpeg 1000w, https://ae.studio/blog/content/images/size/w1600/2021/02/Point---Recommendations-Schematic.jpeg 1600w, https://ae.studio/blog/content/images/size/w2400/2021/02/Point---Recommendations-Schematic.jpeg 2400w" sizes="(min-width: 1200px) 1200px"><figcaption>The flow of data from the backend to the frontend</figcaption></figure><p>This architecture worked well, but Point wanted to ensure that its recommendations would vary to keep users engaged and motivated. So every time a user’s HRV decreases by 50%, they receive new tips to optimize their energy and performance. </p><p>A few templated recommendations were written by the Point team initially. The problem was that each time they had an idea for a new recommendation based on a metric already in the database (like the 50% decrease in HRV), they’d have to ask Arun and Lucas to add it instead of doing it themselves. </p><p>Our DevOps team realized that as Point grows, it’d be essential for them to update and add content independently using a CMS. &nbsp;<br></p><p>Enter <a href="http://forestadmin.com/"><strong>Forest Admin</strong></a>. <br></p><h3 id="creating-new-content-seamlessly"><strong>Creating new content seamlessly &nbsp;</strong><br></h3><p>We chose Forest Admin to create Point’s admin panel, where the Point team can now create new user-facing content at any time. Forest Admin was the perfect choice for a few reasons: <br></p><ol><li><strong>Seamless integration:</strong> Forest Admin runs into Point’s servers and databases to collect and store information using the infrastructure we already built, so there’s no need to set up a separate database, server, or API. The Point team can write new content in the Forest Admin panel and connect it to the data and insights already stored in their servers. <br></li></ol><p><em>“We have a product offering that’s rooted in biometric health data, digital content, and data science, yet we’re an early-stage startup that also needs to experiment and iterate quickly. Forest Admin’s CMS allows us to do that because of how seamlessly it integrates with our core architecture.”</em></p><div><p><strong>–Kingsley McGowan, CEO of Point</strong></p></div><p><strong>2. <strong><strong>Quality performance: </strong></strong></strong>Since both the database and CMS are handled internally, the latency involved in connecting the two is dramatically reduced, and content updates and additions can be made quickly. The admin panel’s flexible, customizable features make it intuitive and straightforward to use. &nbsp;<br></p><p><strong>3. <strong><strong>Security: </strong></strong></strong>With both the CMS and database servers managed internally by our DevOps team, we can ensure that users’ personal health data remains secure. It doesn’t need to be sent around to third parties. <br></p><figure><img src="https://ae.studio/blog/content/images/2021/02/Screen-Shot-2021-02-23-at-7.19.18-PM.png" alt="" srcset="https://ae.studio/blog/content/images/size/w600/2021/02/Screen-Shot-2021-02-23-at-7.19.18-PM.png 600w, https://ae.studio/blog/content/images/size/w1000/2021/02/Screen-Shot-2021-02-23-at-7.19.18-PM.png 1000w, https://ae.studio/blog/content/images/size/w1600/2021/02/Screen-Shot-2021-02-23-at-7.19.18-PM.png 1600w, https://ae.studio/blog/content/images/2021/02/Screen-Shot-2021-02-23-at-7.19.18-PM.png 2240w" sizes="(min-width: 720px) 720px"><figcaption>Forest Admin's simple API makes it easy to create &amp; update content</figcaption></figure><p><em>“The UI/UX within Forest Admin allows us to iterate on copy and content while ensuring that if we have any changes, everyone on the team is empowered to do so. If I had to do anything differently, it would be to use Forest Admin sooner.”</em><br></p><h3 id="expanding-possibilities"><strong>Expanding possibilities</strong></h3><p>Forest Admin helped us build a customizable and flexible platform for the Point team to write and serve recommendations to end-users. The platform also complies with our development team’s initial constraints around architecting the recommendation engine.</p><p>But it’s not limited to that. Point can use this same structure to abstract several messaging and marketing strategies.</p><p>Right now, Point’s content exists within its app, but Forest Admin’s flexible admin API could eventually help Point leverage push notifications, SMS, emails, and other forms of messaging to bring customized content to users outside of the app.</p><p>Instead of traditional calls-to-action that rely on buttons and URLs, the team is also considering incorporating additional media components like video streams, podcasts, webinars, and more using Forest Admin.</p><p>We’re excited to see how Point grows and helps people make sense of their health data!</p><p><em>We'd love to jump on a call with you to explore how AE Studio and Forest Admin can drive your business and make you generally happier about things. 😀</em></p><p><em>Book some time <a href="https://calendly.com/jevanfox/ae-studio-forest-admin" rel="noopener noreferrer">here</a> for a deep dive into Forest Admin’s awesome solutions, or just a brief ‘hi, hello, how are you?’ call. Thanks for reading! </em></p>
		</div></div>]]>
            </description>
            <link>https://blog.ae.studio/forest-admin-and-point/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26253878</guid>
            <pubDate>Wed, 24 Feb 2021 18:46:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Mystery of Recursion – Understanding How to Implement It in Python]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26253572">thread link</a>) | @Sandeepg33k
<br/>
February 24, 2021 | https://tmonty.tech/the-mystery-of-recursion-understanding-how-to-implement-it-in-python | <a href="https://web.archive.org/web/*/https://tmonty.tech/the-mystery-of-recursion-understanding-how-to-implement-it-in-python">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section itemprop="articleBody mainEntityOfPage"><meta itemprop="thumbnailUrl image" content="https://cdn.hashnode.com/res/hashnode/image/upload/v1612311419772/nO8756MGq.jpeg?w=1600&amp;h=840&amp;fit=crop&amp;crop=entropy&amp;auto=compress"><div><div itemprop="text"><h2 id="what-is-recursion">What is Recursion?</h2>
<p>If you understand the underlying concept of recursion but struggle to implement it like myself, or you don't even know what it is, then this post if for you.</p>
<p>Recursion is defined as solving a complex problem by breaking the problem into smaller versions of itself that can be solved. In programming, this is done by having a function call itself.</p>
<p>The underlying principle of recursion are these two cases:</p>
<ol>
<li><p><strong>Base Case</strong>: this case defines the smallest instance of a problem. In certain recursive solutions, there can be multiple base cases but for the purpose of this post's explanation, my example will only incorporate one. When coding, the base case prevents an infinite loop of the function calling itself.</p>
</li>
<li><p><strong>Recursive Case</strong>: this case manipulates the problem in order to approach the base case. In programming, this is the case in which the function calls itself.</p>
</li>
</ol>
<p>Put simply, the recursive case will breakdown the problem until it arrives at the base case, after which the the sub solutions build up to solve the original problem.</p>
<p>Do not worry if your understanding of recursion is hazy because the above definitions will make sense when implementing a recursive solution in Python.</p>
<h2 id="the-call-stack">The Call Stack</h2>
<p>In order to truly understand how recursion is implemented in Python, it is necessary to familiarize yourself with the call stack. </p>
<p>The call stack uses the stack data structure to keep track of local variables and previous function calls. The stack is a last-in, first-out data structure. This means that the last item to be placed in the stack will be the first to be removed. To help visualize, think of a stack of plates:</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1612217672194/K8ZCDamI8.jpeg?auto=compress" alt="brooke-lark-sG-PR0BNwb4-unsplash.jpg"></p>
<p>Whatever plate is placed last on the stack is the first one to be removed.</p>
<p>In terms of programming, the stack has two simple operations: push and pop. Push adds an item onto the stack and pop removes an item from the stack, returning its value.</p>
<p>In python, the call stack consists of frames. The bottom most frame is the global or module frame. This consists of all the global variables. Every time a function is called a new frame is pushed onto the stack containing its local variables and function arguments. When a function call returns, the frame is popped off the stack and its value is passed to where it was called in the previous frame.</p>
<h2 id="a-famous-recursion-example-factorial">A Famous Recursion Example - Factorial</h2>
<p>The factorial of a number is defined as so:</p>
<p>4! = 4 * 3 * 2 * 1 = 24</p>
<p>If we were to define the factorial of a number <code>n</code> as a mathematical equation, it would be:</p>
<p><code>factorial(n) = n * factorial(n-1)</code></p>
<p>The right side of the equation will be the <em>recursive case</em> of our solution. Notice, how the recursive case takes the original problem,<code>factorial(n)</code>, and makes it a simpler problem of multiplying <code>n</code> by whatever <code>factorial(n-1)</code> is.</p>
<p>We can define a function <code>factorial</code> that takes a parameter <code>n</code>. However, if we only defined this function with the above equation, it would call itself infinitely leading to an error.</p>
<p>This is because we did not define a <em>base case</em>. The most basic factorial is the factorial of 1 which equals 1. So we can tell the program that once it reaches the factorial of 1, instead of calling <code>1 * factorial(0)</code>, to just <code>return 1</code>. After which, the Python call stack will handle multiplying out the numbers.</p>
<p>After defining both the recursive and base cases, we arrive at the Python program below:</p>
<pre><code><span><span>def</span> <span>factorial</span>(<span>n</span>):</span>
    <span>if</span> n &lt;= <span>1</span>:
        <span>return</span> <span>1</span>
    <span>else</span>:
        <span>return</span> n * factorial(n<span>-1</span>)
</code></pre><h2 id="in-depth-recursive-function-implementation">In Depth Recursive Function Implementation</h2>
<p>Before calling the factorial function, the Python call stack would look like:</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1612222009642/RKv1SGozi.png?auto=compress" alt="Call Stack - 1 (3).png"></p>
<p>Then, we call the factorial function passing in an argument of 4. </p>
<pre><code><span>factorial</span>(<span>4</span>)
</code></pre><p>A frame for the factorial function would be pushed onto to the call stack, setting the argument <code>n</code> equal to <code>4</code>.</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1612222128046/cNmno7-YI.png?auto=compress" alt="Call Stack - 2.png"></p>
<p>The Python interpreter will then process the function and since <code>n</code> is not <code>&lt;= 1</code>, it will evaluate <code>n * factorial(n-1)</code>. However before the function can return a value, it must evaluate <code>factorial(n-1)</code>. This will cause another factorial frame to be pushed on the stack, with the argument <code>n</code> set to <code>3</code>.</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1612222294743/zXgfi23TF.png?auto=compress" alt="Call Stack - 3.png"></p>
<p>Again, since <code>n</code> is not <code>&lt;= 1</code>, the function will evaluate <code>n * factorial(n-1)</code>. Likewise, the function must evaluate <code>factorial(n-1)</code> before returning a value. </p>
<p>This pattern will continue until the factorial frame with the argument n equal to 1 is pushed onto the stack.</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1612222730246/6jJduzt8q.png?auto=compress" alt="Call Stack - 5 (1).png"></p>
<p>When this occurs, the function reaches the base case, so it instead returns 1. As I mentioned early when explaining the call stack, when a function returns, it pops its frame off the stack, transferring its value to where it was called in the previous frame.</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1612222867866/Npx8dueYc.png?auto=compress" alt="Call Stack - 6.png"></p>
<p>Now since the value for <code>factorial(n-1)</code> has been evaluated, the factorial function can evaluate the product and return it to the previous frame, pushing the current frame off the stack.</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1612222963799/kJ7D_a-7I.png?auto=compress" alt="Call Stack - 7.png"></p>
<p>This pattern continues until we reach the original function call...</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1612223032269/rxZsqVaa8.png?auto=compress" alt="Call Stack - 8.png"></p>
<p>As you might have guessed, the factorial function with argument 4 returns a value of 24.</p>
<h2 id="summary">Summary</h2>
<p>When writing a recursive solution in Python, think of the problem in terms of a base case and recursive case. Ask yourself: "How can I define a recursive case that will help me reduce the problem towards a base case?"</p>
<p>When trying to understand a recursive solution, I find it best to visualize the call stack in my head.  Every time a function is called an item is added onto the stack and any time you encounter the return keyword, it pops an item off the stack and returns its value to the previous function call.</p>
<p>If you have made it this far and have enjoyed my post, please follow me on  <a target="_blank" href="https://hashnode.com/@tmonty">Hashnode</a>  and  <a target="_blank" href="https://twitter.com/tmonty_12">Twitter</a>. I plan on posting more content and am open to suggestions or requests!</p>
</div></div></section></div></div>]]>
            </description>
            <link>https://tmonty.tech/the-mystery-of-recursion-understanding-how-to-implement-it-in-python</link>
            <guid isPermaLink="false">hacker-news-small-sites-26253572</guid>
            <pubDate>Wed, 24 Feb 2021 18:25:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tether, Bitfinex settlement reveals commingling of funds, years of shenanigans]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26253549">thread link</a>) | @f430
<br/>
February 24, 2021 | https://amycastor.com/2021/02/23/ny-ag-tether-bitfinex-settlement-reveals-commingling-of-funds-years-of-shenanigans/ | <a href="https://web.archive.org/web/*/https://amycastor.com/2021/02/23/ny-ag-tether-bitfinex-settlement-reveals-commingling-of-funds-years-of-shenanigans/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-6264">
		<div>
		
<p>I wrote a <a href="https://amycastor.com/2021/02/23/tether-bitfinex-to-pay-18-5m-to-nyag-cease-trading-in-new-york/">quick article</a> this morning about the New York attorney general settlement, wherein Bitfinex and Tether agreed to pay $18.5 million in penalties, stop servicing New York customers, and submit quarterly transparency reports.&nbsp;</p>



<p>But there are more details to highlight. Namely, the <a href="https://ag.ny.gov/sites/default/files/2021.02.17_-_settlement_agreement_-_execution_version.b-t_signed-c2_oag_signed.pdf">settlement agreement</a> reveals the games Bitfinex and Tether have played over the years—games they will keep on playing until someone puts an end to their shenanigans.&nbsp;</p>



<p>It also reveals how the firms have long misled the public about Tether’s reserves. From 2014 until late February 2019, Tether advertised that tethers were fully backed 1:1 by cash in some bank accounts somewhere—but that was not true.&nbsp;</p>



<p>Tether now has 34 billion tethers in circulation—a number that is growing by leaps and bounds every day. </p>



<p>Here are my random thoughts and notes from the 17-page agreement. </p>



<h2>Phil Potter</h2>



<p>In the agreement, the office of the NY attorney general writes: “During the time period relevant to the OAG’s investigation, and as late as early-to-mid 2018, one of Bitfinex and Tether’s senior executives lived in, and conducted his work from, New York.”&nbsp;&nbsp;&nbsp;</p>



<p>I’m assuming this is Phil Potter, Bitfinex and Tether’s chief strategy officer, and one of its three top execs. Potter allegedly <a href="https://bitcoinist.com/chief-strategy-officer-of-bitfinex-and-tether-resigns/">stepped away</a> from the company in mid-2018, about the time the NY attorney general started its investigation. Though the public did not learn of the investigation until <a href="https://amycastor.com/2019/04/26/new-york-attorney-general-bitfinex-is-hiding-850-million-in-losses/">April 2019.</a></p>



<p>The fact that Bitfinex and Tether had one executive and large customers in the state—and no <a href="https://en.wikipedia.org/wiki/BitLicense">BitLicense</a>—opened the door to the NY attorney general’s probe. Per the terms of the settlement, Bitfinex and Tether can no longer do any business in the state, which means New York crypto firms can no longer use tethers.&nbsp;</p>



<p>Previously, although Bitfinex and Tether claim to have barred New York residents (retail investors) in January 2017, they still served <a href="https://www.investopedia.com/terms/e/eligible_contract_participant.asp">eligible contract participants,</a> meaning individuals or trading firms with assets in the millions. </p>



<h2>Commingled funds</h2>



<p>Tether and Bitfinex lost their banking in March 2017 when they were cut off by Wells Fargo, a correspondent bank. Subsequently, their banks in Taiwan also dumped them.&nbsp;&nbsp;</p>



<p>Two months later, when Tether had 108 million tethers in circulation, Bitfinex opened an account at Noble Bank in Puerto Rico. (Noble Bank, by the way, was co-founded by Brock Pierce, the child star who also created Tether.)</p>



<p>Tether, however, did not open an account at Noble—or at any bank—until September 2017, according to the office of the NY attorney general’s findings.  </p>



<p>Instead, Tether deposited the “vast majority” of its cash into a trust account held by its general counsel, Stuart Hoegner, at the Bank of Montreal in Canada. The account never held more than $61.5 million dollars. </p>



<p>The rest of Tether’s money was mixed in with Bitfinex customer money at Bitfinex accounts at Noble Bank. Between June 1 and September 2017—Bitfinex held hundreds of millions of dollars in Tether’s funds in its accounts, the prosecutor said. </p>



<p>Commingling of funds is a terrible idea—legally and logistically. (Failed crypto exchange QuadrigaCX also commingled funds. And its now-allegedly-deceased CEO used customer money like his own personal slush fund.)&nbsp;</p>



<h2>Mystery NY trading firm</h2>



<p>Because Tether had no bank account between March and September 2017, it could not directly take money for tethers. At the same time, according to the NY attorney general, “neither the Tether website or Bitfinex allowed for the direct purchase or exchange of tethers in exchange for any other virtual currency, including the two most popular virtual currencies, bitcoin and ether.”  </p>



<p>Between June and September 2017, “Bitfinex’s Noble Bank account received USD deposits from only two institutional trading firms, one of which was located in New York. Neither of those firms purchased tethers directly from Bitfinex or Tether during this time period.”</p>



<p>This part of the NY attorney general’s findings puzzles. Why were these trading firms sending money to Bitfinex if they were not getting tethers in exchange? What were they getting instead?&nbsp;And who was the New York firm?</p>



<p>Mike Novogratz’s Galaxy Digital is based in New York. And we know it was onboarding as a Bitfinex customer in October 2018, based on court documents that point to <a href="https://iapps.courts.state.ny.us/nyscef/ViewDocument?docIndex=neWR7TrbmgYhmz/mrk7drA==">letters</a> Galaxy sent to Bitfinex. But it is not clear if Galaxy was a customer of Bitfinex or Tether in 2017. (In April 2019, <a href="https://web.archive.org/web/20190709094915if_/https://twitter.com/novogratz/status/1121761199547457536">Novogratz claimed</a> Galaxy had “zero exposure” to Bitfinex and Tether.)</p>



<h2>Staging the Friedman audit</h2>



<p>According to the office of the NY attorney general, until September 15, 2017, the only U.S. dollars held by Tether backing 442 million tethers in circulation was $61 million at the Bank of Montreal.&nbsp;</p>



<p>Whatever other money Tether had was held in Bitfinex accounts. </p>



<p>In the summer of 2017, rumors were afoot that tethers were not fully backed. To quash those rumors, Tether and Bitfinex arranged for accounting firm Friedman LLP to perform an <a href="https://tether.to/wp-content/uploads/2017/09/Final-Tether-Consulting-Report-9-15-17_Redacted.pdf">attestation</a> on September 15, 2017. </p>



<p>They had to move quickly to set things up though. </p>



<p>On that morning, Tether opened an account at Noble Bank. And Bitfinex transferred $382 million from Bitfinex’s account at Noble Bank into Tether’s account at Noble Bank. Friedman conducted its verification of Tether’s assets that evening. </p>



<p>“No one reviewing Tether’s representations would have reasonably understood that the $382,064,782 listed as cash reserves for tethers had only been placed in Tether’s account as of the very morning that Friedman verified the bank balance,” the NY attorney general wrote. The attestation included the money at the Bank of Montreal as well.&nbsp;</p>



<p>Friedman’s relationship with Bitfinex <a href="https://www.coindesk.com/tether-confirms-relationship-auditor-dissolved">ended a few months later.</a>&nbsp;</p>



<p>It’s never a good sign when your auditor quits. Worse, there was no official announcement—Friedman simply&nbsp;<a href="https://www.friedmanllp.com/search-results/#/?query=bitfinex">deleted all mention</a>&nbsp;of Bitfinex from its website, including past press releases.</p>



<h2>Massive loss of funds</h2>



<p>In 2017 and 2018, Bitfinex began to increasingly rely on Crypto Capital to handle its customer deposits and withdrawals. Oz Yosef, was Bitfinex’s contact at the Panamanian payment processor.</p>



<p>By 2018, Crypto Capital held over $1 billion of Bitfinex funds.&nbsp;That’s when the real trouble started.</p>



<p>In April 2018, the government of Poland froze a Crypto Capital bank account holding $340 million. Adding to that, Oz told Bitfinex that a Crypto Capital account in Portugal containing $150 million of Bitfinex client funds also had been frozen.&nbsp;</p>



<p>These events threw Bitfinex into a liquidity crisis. And in the summer of 2018, Bitfinex began dipping into Tether’s cash reserves to fund customer withdrawals. Bitfinex told customers that rumors of its insolvency were false, but behind the scenes, the crypto exchange was pleading with Oz to release the money.&nbsp;</p>



<p>(Later we learn that another $350 million in missing Crypto Capital funds were linked to <a href="https://decrypt.co/40020/suspect-in-bitfinex-case-held-accounts-at-a-dozen-of-the-worlds-top-banks">60 accounts</a> held by Arizona businessman Reginald Fowler, who was indicted in April 2019 for bank fraud. Some of these accounts were frozen in 2018. Oz’s sister, Ravid Yosef, was also indicted for her role in assisting Fowler set up those accounts. She is still at large.) </p>



<p>(And in October 2019, Crypto Capital President Molina Lee was <a href="https://www.theblockcrypto.com/post/44591/ceo-of-crypto-capital-arrested-in-alleged-money-laundering-operation">arrested by Polish authorities</a> in connection with laundering money for Columbian drug cartels via Bitfinex.)</p>



<h2>Deltec Bank &amp; Trust</h2>



<p>In October 2018, Bitfinex and Tether ended their relationship with Noble bank. Soon after, they announced they were banking with Deltec in the Bahamas.&nbsp;</p>



<p>In a <a href="https://tether.to/wp-content/uploads/2018/11/Tether-Letter.pdf">letter</a> dated Nov. 1, 2018, Deltec said Tether’s account held $1.8 billion, enough to back the tethers in circulation at the time. The letter was signed but had no name under the signature.&nbsp;The signature itself was illegible. </p>



<p>The following day, Tether began moving hundreds of millions of dollars out of its bank account at Deltec to Bitfinex’s bank account at Deltec. And as part of a “loan arrangement,” between the two closely related firms, Tether assumed Bitfinex’s losses on its own balance sheet. (We can’t be sure of the total loan amount, but an estimate is $750 million.)&nbsp;</p>



<p>Tether’s misrepresentation that tethers were fully backed continued to Feb. 2019 when it updated its <a href="https://tether.to/legal/?__cf_chl_jschl_tk__=7668a26d4d01f6c71aa2a4e2386841f2e201f35b-1610342909-0-AY_w4JoCzqaSyoOGw55agsM3ipnbJEMQqOZXufVTDhfHyDJgPtqJMrB15TqMqiVpiH4fi3cHl8TF038Xyhhx-IrJzDFGLw0KEdRAkQIFlwbDu4u8pXptiipGJ6EU4g5fZ-WV_HpN5AqYabrPiCmsz1B5m4BG4fXUt3aibkmFaxtvodop17vaeJ3QjQ3szVNn6AbuPHV02Rxjjan_wMUoCwiNvehow9kb1BvElZjTD8t44E7C-oRdICUfQZ_Mc0RZ1Q-D9Thlmz3DmF6-fs07YB8nmVP_BVvqy3ko5OVQ_Mz4CV1THXyqhq5R8jf41iBg7Q">terms of service</a>&nbsp;to say that tethers are backed by “traditional currency and cash equivalents and, from time to time, may include other assets and receivables from loans made by Tether to third parties, which may include affiliated entities.”</p>



<p>Bitfinex says it <a href="https://www.bitfinex.com/posts/600">paid off the loan</a> to Tether in January, and <a href="https://amycastor.com/2021/01/10/tethers-paolo-ardoino-stuart-hoegner-do-a-podcast-transcript-and-comments/">the firms now claim tethers are fully backed</a>—but the question is, backed by what? Loans? Bitcoins? We’ll find out in 90 days when Tether and Bitfinex publish their first transparency report. Per the terms of the settlement agreement, the firms will need to publish these reports quarterly for two years. </p>



<p>Also, $18.5 million—the amount of the settlement—is no small number.&nbsp;We have no idea how much cash Tether and Bitfinex actually have on hand. </p>



<p>The bitcoin community is calling the settlement a win for Tether and Bitfinex. They say the fine is nothing but a slap on the wrist. In reality, it’s another way for Tether and Bitfinex to buy time. The NY attorney general has set its trap; now we wait.</p>



<p><em>Updated Feb. 24 to note that Novogratz claimed zero exposure to Bitfinex and Tether in 2019. </em></p>



<p><em>If you benefit from my writing, and my research helps you do your job, please consider supporting my work by subscribing to my&nbsp;<a href="https://www.patreon.com/amycastor">Patreon account</a>&nbsp;for as little as $5 a month.&nbsp;</em></p>
			</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article></div>]]>
            </description>
            <link>https://amycastor.com/2021/02/23/ny-ag-tether-bitfinex-settlement-reveals-commingling-of-funds-years-of-shenanigans/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26253549</guid>
            <pubDate>Wed, 24 Feb 2021 18:23:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rust for web development: 2 years later]]>
            </title>
            <description>
<![CDATA[
Score 66 | Comments 92 (<a href="https://news.ycombinator.com/item?id=26253448">thread link</a>) | @sylvain_kerkour
<br/>
February 24, 2021 | https://kerkour.com/blog/rust-for-web-development-2-years-later | <a href="https://web.archive.org/web/*/https://kerkour.com/blog/rust-for-web-development-2-years-later">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>I started developing web services (JSON APIs) in Rust a little bit more than 2 years ago, so I thought it was time to shake the preconceived ideas and share what I’ve learned.</p>
<blockquote>
<p>I’m writing a book  (available in early access) about Rust where I share everything I’ve learned and more. Here is a <a href="https://academy.kerkour.com/black-hat-rust?coupon=BLOG">coupon to save 10€ on the book</a>.</p>
</blockquote>
<h2 id="the-prejudices">The prejudices</h2>
<p><strong>Rust code is ugly</strong>: Rust is explicit. Undeniably. But when I write code, my IDE helps me a lot, and I don’t have to press that many keys. When I read code, this explicitness is just awesome! No hidden surprises, no weird things.</p>
<p><strong>Memory management is a distraction</strong>: Actually, no. I don’t use that many lexical lifetimes and use instead smart pointers. So yes, I have to understand the differences between an <code>Rc</code> and an <code>Arc</code>, but my productivity is not impacted compared to Node.JS or Go.</p>
<p><strong>Compiler is a pain in the a</strong>**: At the beginning, yes. But after a few months, I was able to understand all the errors instantly and fix them in a blink. Today I really don’t spend much time fighting with the compiler. Instead, it became my best friend, especially when refactoring large portions of code or upgrading dependencies :)</p>
<p><strong>Slow compile times</strong>: I accord you this one. When in Node.JS or Go a medium-sized service’s Docker image takes 3 to 10 mins to build and deploy, in Rust it will be about 30 minutes.</p>
<p><strong>The ecosystem is not there</strong>: Yet. Yes, some pieces are missing, such as official Stripe and AWS SDKs, but the community is really active and built all these missing pieces.</p>
<h2 id="a-few-things-i-particularly-appreciate">A few things I particularly appreciate</h2>
<p><strong>Static linking is remarkably easy</strong>: Creating <a href="https://github.com/skerkour/bloom/blob/main/Dockerfile">small Docker images</a> is a delight.</p>
<p><strong>Rust will make you a better programmer</strong>: Rust is complicated and won’t leave you alone if you don’t understand how it works in detail. It takes time and patience to master, but once you do, you’ll have learned so many things that you’ll never approach programming as before. I understood how Go’s runtime works while learning how <a href="https://github.com/tokio-rs/tokio">tokio</a> works.</p>
<p><strong>Once it compiles, it works</strong> (usually): This is my favorite thing about Rust. When my program compiles, it works as I planned. Just remember not to block the event loop, and the compiler will take care of the rest. You no longer have to spend time writing tests for the quirks of the language.</p>
<p><strong>Rust is productive</strong>: Because Rust is multi-paradigm, it really shines when writing complex business logic, thanks to its functional aspects.</p>
<p><strong>Crates I use</strong>:</p>
<ul>
<li><a href="https://github.com/actix/actix-web">actix-web</a> for the HTTP layer.</li>
<li><a href="https://github.com/launchbadge/sqlx">sqlx</a> for the database (PostgreSQL).</li>
<li><a href="https://github.com/rusoto/rusoto">rusoto</a> to interface with AWS services for storage (S3), background jobs (SQS) and sending emails (SES).</li>
<li><a href="https://github.com/Keats/tera">tera</a> for email templates.</li>
<li><a href="https://github.com/dtolnay/thiserror">thiserror</a> for my error types.</li>
<li><a href="https://github.com/getsentry/sentry-rust">sentry</a> for error monitoring.</li>
</ul>
<h2 id="conclusion">Conclusion</h2>
<p>Rust is a real pleasure to use for web development, and I thoroughly recommend to give it a try.</p>
<!-- It is so versatile that, without a doubt, it's the last programming language I learn. Ever. -->
<p>It’s a <ins>loooong</ins> journey to become effective, but totally worth it, and even if you don’t use it every day, you’ll for sure become a better programmer by learning it and, if lost, rediscover the joy of programming 🤗</p>
<p>In a word: Rust brings calm. No more bad surprises at 3 A.M. No more bugs because a dependency updated its API. No more annoying configuration for auto-scaling or whatever. And welcome response times so small that your users will fall in love with your product.</p>
<p>If you want to learn more from real-world Rust experience, I’m writing a book (available in early access) where, among other things, we will create and deploy HTTP services in Rust. Here is a coupon to save 10€ on the book: <a href="https://academy.kerkour.com/black-hat-rust?coupon=BLOG">https://academy.kerkour.com/black-hat-rust?coupon=BLOG</a></p>

  </div></div>]]>
            </description>
            <link>https://kerkour.com/blog/rust-for-web-development-2-years-later</link>
            <guid isPermaLink="false">hacker-news-small-sites-26253448</guid>
            <pubDate>Wed, 24 Feb 2021 18:17:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: I wrote a book about using data science to solve “everyday” problems]]>
            </title>
            <description>
<![CDATA[
Score 521 | Comments 72 (<a href="https://news.ycombinator.com/item?id=26253281">thread link</a>) | @andrewnc
<br/>
February 24, 2021 | https://andrewnc.github.io/blog/everyday_data_science.html | <a href="https://web.archive.org/web/*/https://andrewnc.github.io/blog/everyday_data_science.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        

        <main role="main">

            <article>
                
                <section>
                    <div>
                        <blockquote>"Young men should prove theorems, old men should write books."</blockquote>
                        <p>- G.H. Hardy</p>
                        <h4>Why I wrote a book?</h4>
                        <p>During my graduate studies, I have been enthralled with how books often stay relevant and how quickly papers sink into obscurity. I wanted to write something that had value and durability. Why a book? Because books can last. </p>
                        <p>I am not old, but I wanted to take a break from theorem proving to write something light-hearted and decidedly non-academic.</p>
                        <h4>Why this book?</h4>
                        <p>My background is in mathematics, theoretical computer science, and machine learning. However, I got started down this path because of my love for data. Data can tell some pretty incredible stories, but it also can be extremely misleading. There are scores of introductory books about data science that start with Aggregation and finish with $z \sim N(0,1)$. They are designed for a technical audience and are often SO boring.</p>
                        <p>Don't get me wrong, I love these books. I helped with the recently released 2nd edition of Kevin Murphy's famed Machine Learning a Probabilistic Perspective. But I wanted my book to be more inspiration and less perspiration.</p>
                        <h4>Who is it for?</h4>
                        <p>This book is for people as untechnical as my Mom or as technical as my Applied Scientist friends working in big tech. The book is a nice, fun, and inspirational collection of stories.</p>
                        <p>These stories about data should get you thinking about your own life. I hope you ask if there are ways you can collect interesting data and learn something about yourself.</p>
                        <h4>So what's in the book?</h4>
                        <p><img src="https://andrewnc.github.io/blog/blog_files/toc.png"></p><p>It is 114 pages long with 8 chapters. The chapters cover a wide range of fun data topics like how to use language models (and word vectors) to improve your resume, or how a man used statistics to qualify for the Olympics. As a fun warm up, chapter 2 shows how to use A/B testing to make the perfect glass of lemonade.</p>
                        <p><img src="https://andrewnc.github.io/blog/blog_files/a:b_out_routing1.png"></p><p>It starts with naive A/B testing then moves to Thompson sampling as a solution to Multi-Armed Bandit problems which are significantly more efficient and only takes a few lines of extra code.</p>
                        <p><img src="https://andrewnc.github.io/blog/blog_files/a:b_bandit1.png"></p><p>Chapter 3 talks about how a man keeping track of his personal health markers detected colon cancer and was able to get life saving treatment just in time. It gives a good example of how to reason about yourself vs the popluation. </p>
                        <p>Further on I analyze our dog's potty habits, weight loss using differential equations, and how you can figure out who is carrying your phone just using on-board accelerometer data.</p>
                        <p>The book has fun illustrations and nice color coded explanations for equations</p>
                        <p><img src="https://andrewnc.github.io/blog/blog_files/Odebirds.png"><img src="https://andrewnc.github.io/blog/blog_files/cosine.png">
                        </p>
                        <p>I've gotten some nice feedback so far, with people saying things like "This is the book I wish I had written", or "I literally have 3 new ideas of how I'm going to use my daily data". Plus, my Mom liked it, so that has to count for something.</p>
                        <p>At the end of the day, I wrote this book to inspire and encourage people to be aware of their lives, be mindful of what is happening around them, and take control with the techniques often used in data science.</p>

                        <p>If any of this sounds interesting, you're welcome to buy a copy for yourself. I tried to make the PDF version affordable so it is accessible to everyone.</p>
                        <p><a href="https://www.amazon.com/dp/B08TZ1MT3W/ref=cm_sw_r_cp_apa_fabc_a0ceGbWECF9A8" target="_blank">
                            Buy Paperback on Amazon ($17.49)</a> (kindle version coming soon)
                            <br>
                        <a href="https://gum.co/everydaydata" target="_blank">
                            Buy PDF/EPUB on Gumroad ($7.99) </a></p><p>Thanks for reading! Feel free to follow me on <a href="https://twitter.com/andrew_n_carr">twitter</a> or <a href="https://forms.gle/iahqDwnmJWUfA1oL7">Subscribe for email updates</a></p>
                        <h5>Bonus Content:</h5>
                        <p>I used the Tufte-Book Latex template, Procreate on my iPad for figures, and Kindle Direct Publishing for the physical copy. </p>
                        <p>I paid a professional editor (but unfortunately there are still a few nice typos) and so far they have made the most from this project.</p>
                        <p>I want to thank my lovely colleagues who encouraged me and have supported me. And also, I want to thank my Wife for letting me spend 150 extra hours at my computer.</p>
                    </div>
                </section>
                <!-- <hr />
                <p id="footnote1">[1] Ok, this is mostly a joke post, but there are some nuggets of truth about the value of being brief.</p> -->
            </article>
            


        </main>
        
    </div></div>]]>
            </description>
            <link>https://andrewnc.github.io/blog/everyday_data_science.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26253281</guid>
            <pubDate>Wed, 24 Feb 2021 18:04:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hidden Maze: Has Anyone Gotten to the End?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26253274">thread link</a>) | @odysseythrwtime
<br/>
February 24, 2021 | https://share.doppler.com/s/oarjigpajqtodoqefoua9o1iisdfaocgfbulmaez#GZPgKEngtasgXHftCjimCwjPquZV7qwwzo8qb1m7rgvjlWXFr8C5jHOuXtxW1SBC | <a href="https://web.archive.org/web/*/https://share.doppler.com/s/oarjigpajqtodoqefoua9o1iisdfaocgfbulmaez#GZPgKEngtasgXHftCjimCwjPquZV7qwwzo8qb1m7rgvjlWXFr8C5jHOuXtxW1SBC">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://share.doppler.com/s/oarjigpajqtodoqefoua9o1iisdfaocgfbulmaez#GZPgKEngtasgXHftCjimCwjPquZV7qwwzo8qb1m7rgvjlWXFr8C5jHOuXtxW1SBC</link>
            <guid isPermaLink="false">hacker-news-small-sites-26253274</guid>
            <pubDate>Wed, 24 Feb 2021 18:04:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Twingate – Building the foundation for identity-first network security]]>
            </title>
            <description>
<![CDATA[
Score 19 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26253196">thread link</a>) | @alexmensch
<br/>
February 24, 2021 | https://www.twingate.com/blog/introducing-identity-first-networking/ | <a href="https://web.archive.org/web/*/https://www.twingate.com/blog/introducing-identity-first-networking/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><div><p>If there's anything we've learned since we <a href="https://www.twingate.com/blog/introducing-twingate">founded Twingate</a>, it's that companies jump through extraordinary hoops to grant, manage, and secure access to their networks. Whether it's whitelisting ever-changing IP addresses; maintaining complex subnet assignments and VLAN segments; or manually piecing together network events across hybrid networks, these heroic tasks all have something in common: making up for the shortcomings of TCP/IP.</p><p>Where open, trusted access made sense at the inception of computer networking almost 50 years ago, the exact opposite is true today. Trust can no longer be assumed based on being physically hardwired to a network, and devices may have multiple IP addresses and hop across many networks in a single day. New layers of authentication, anomaly detection, and monitoring are continually being added to every layer of the network stack, but these approaches do not address the foundational shortcomings.</p><p>Twingate turns this model on its head by rethinking these base assumptions around networking. Rather than attempting to filter every network session looking for anomalies or performing additional checks on every network connection that arrives at a destination, Twingate starts by asking a simple question: should a network request even be allowed to leave a device? And if so, whose identity should be attached to it?</p><p>Once you start to think about every connection on your network as <em>requiring</em> an identity that just <em>happens</em> to have a source IP address, it makes setting parameters and understanding network activity a lot easier. Because network connections are never allowed to enter your network without an identity attached to an explicit authorization, there is no longer any question of who a network connection belongs to and why it was authorized.</p><p>Our <a href="https://www.twingate.com/customers/">customers</a> have been thrilled with the experience of throwing out their clunky VPN and replacing it with Twingate's new approach to managing network access, which we call <strong>Identity-First Networking</strong>. Today we're proud to announce the launch of this foundational approach with the following new product features and partnerships.</p><p><h3>Major identity provider support &amp; SCIM-based synchronization</h3></p><figure><div></div></figure><blockquote><em>Twingate is pushing the boundaries of security and usability in the world of Zero Trust. They have created a product that starts with identity at the center. OneLogin is proud to partner with Twingate to bring Identity-First Network security to the most demanding and innovative companies in the world.<br>— Chelsea Wadsworth, Director of Global Alliances, OneLogin</em></blockquote><p>Modern organizations—with a myriad of applications used by a distributed workforce—depend on centralizing user identity to ease management and improve security. Given the benefits, user identity as a primitive has been applied across virtually every application that enterprises use today, but the network layer has been left behind.</p><p>Twingate enables the benefits of identity at the network transport level (any TCP or UDP connection), allowing our customers to unify both network and application access centrally. Now every resource on your network—including databases, servers, k8s clusters, etc.—that are typically very difficult (if not impossible!) to integrate with your identity provider natively can be managed in one place. If a user is not entitled to access a network destination, their traffic will never traverse your network.</p><p>User authentication is only part of the story. Equally important is ensuring that user lifecycle state and applicable group membership is synchronized promptly and accurately. Twingate supports SCIM for user and group synchronization, extending automatic onboarding and offboarding to every resource on your network. Twingate integrates with the major identity providers including Okta, OneLogin, Google Workspace, and Microsoft Azure AD.</p><p><h3>Universal Two-Factor Authentication</h3></p><figure><div></div></figure><p>Today we're launching <strong>native two-factor authentication</strong> to our Business and Enterprise customers, which will allow more fine-grained controls independent of your chosen identity provider and independent of the destination. We call this experience <strong>Universal 2FA</strong> because it can be applied to any type of resource with zero application changes.</p><p>One of the "wow" moments for our customers is using Twingate's Universal 2FA to apply discretionary security levels to resources according to their sensitivity. For example, admins can ensure that users with production network SSH access are subject to an additional 2FA challenge. The lack of application changes, and flexibility to work with any protocol or resource, means that security changes can be made immediately. The user experience is also seamless, operating in-line with the user's workflow thanks to Twingate's transport-level network routing.</p><p><h3>Identity-indexed network flow logs and analytics</h3></p><figure><div></div></figure><p>With every network connection authenticated against a central user identity and authorized by security policies defined in Twingate, for the first time ever, our customers now have an identity-first view of their private network flow. All private traffic is always directly associated with user identity, including the authorization rule that allowed the connection, network path information, data volume transferred, and port details.</p><p>Identity-indexed network analytics make it straightforward to not only determine who accessed internal resources, but to quickly identify usage patterns, trends, and spot anomalous behavior. For forensic investigations, gone are the days of piecing together time-stamped network logs and IP addresses from disparate systems to try to understand a sequence of events. Identity ties all access information together, regardless of location, device, operating system, or network.</p><p><h3>Secure your internet traffic with DNSFilter</h3></p><figure><div></div></figure><blockquote><em>In 2020 we saw a huge increase in the number of online threats targeting companies who have transitioned to a remote work environment. Our partnership with Twingate allows these companies to, through the use of our products, have access to true end-to-end threat protection while connecting from anywhere on earth. We’re excited to partner with a Zero Trust solution like Twingate that provides an alternative to traditional VPNs. <br>— Ken Carnesi, CEO, DNSFilter</em></blockquote><p>Twingate secures your private network traffic, but we also recognize the risk that public internet access introduces to company devices, particularly as the prevalence of ransomware and phishing attacks has surged in our work-from-anywhere reality. Working from home, without the protection of a corporate firewall, has left devices more vulnerable. DNS filtering is a critical component in protecting employees from these threats.</p><p>Since our inception we've made it an explicit product goal to ensure that we "play nice" with other network security products. Our belief is that a combination of specialized products, with the companies behind them focused on solving their problem space in depth, presents the best possible outcome for customers.</p><p>As we've gotten to know the team at DNSFilter, they couldn't embody this spirit of focus in depth more fully, and we're excited to partner with them to offer a complete solution to protect employees. With DNSFilter’s AI-powered content filtering solution and multi-platform roaming client, admins can now deploy DNSFilter and Twingate side by side to fully protect both private and public user traffic, no matter where they are and what device they’re on.</p><p><h3>The most innovative companies are adopting Twingate</h3></p><figure><div></div></figure><blockquote><em>From our company Zoom call after rolling out Twingate: <br>"Already changed my entire life. Run, don't walk, to Twingate!" <br>— Neal Harris, Director of Security, Persona</em></blockquote><p>Since we launched Twingate, we have been fortunate to partner with some of the most innovative, fastest-growing companies around the world. Most of <a href="https://www.twingate.com/customers">our customers</a> are facing similar challenges—juggling efforts to rapidly scale their teams while dealing with the realities and limitations of remote work using outdated technology.</p><p>Most notably, our customers have found tremendous value in moving away from their existing piecemeal network access solutions built on top of VPNs, which have become brittle and difficult to manage after years of accumulating tech debt. Fast-growing companies like Human Interest, Frame.io, and Persona have been able to simplify access for employees, contractors, and admins, while achieving a more robust security posture by transitioning to Twingate.</p><p>Twingate customers report that they often reduce deployment time by 80% and ongoing client setup and support load by 90% compared to their previous VPN, all while expanding their distributed workforces in a more secure way.</p><p><h3>This is just the beginning</h3></p><p>We have an ambitious 2021 product roadmap that will continue to build on the foundation that we've laid out above. We're proud of our focus on ease of use, which has allowed our customers to adopt our vision of Identity-First Networking with minimal effort.</p><p>Give Twingate a <a href="https://www.twingate.com/">try for free</a> today. We'd love to hear <a href="https://www.twingate.com/contact/">what you think</a>.</p></div></div></div></div></div>]]>
            </description>
            <link>https://www.twingate.com/blog/introducing-identity-first-networking/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26253196</guid>
            <pubDate>Wed, 24 Feb 2021 17:58:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Save and search through your Slack history on the free plan]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26253174">thread link</a>) | @jeanlaf
<br/>
February 24, 2021 | https://docs.airbyte.io/tutorials/slack-history | <a href="https://web.archive.org/web/*/https://docs.airbyte.io/tutorials/slack-history">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><div data-editioncontainer="true"><div data-slate-editor="true" data-key="3eefdf2308c14615bfab0f827058d5dd" autocorrect="on" spellcheck="true" data-gramm="false"><div data-slate-void="true" data-key="3373a377596348259307b265891fc87b"><div><figure data-key="3373a377596348259307b265891fc87b" contenteditable="false"><div><p><img tabindex="0" src="https://gblobscdn.gitbook.com/assets%2F-MHZYvlJGSuz4DxQs3lX%2Fsync%2Fda1a437af110f92c24c84ece332d66e7cca5db30.png?alt=media" loading="lazy"></p></div></figure></div></div><p data-key="d8b652cd2d0341c3bc95df386c196d35"><span><span data-key="b89f1f05276a431182d2f9614e7f2714"><span data-offset-key="b89f1f05276a431182d2f9614e7f2714:0">The </span></span><a href="https://slack.com/pricing/paid-vs-free" target="_blank" rel="noopener noreferrer" data-key="09d58e1938534a32a6fe6afadef6623a"><span data-key="4cbd062d2983426786f277ed4f8823db"><span data-offset-key="4cbd062d2983426786f277ed4f8823db:0">Slack free tier</span></span></a><span data-key="cb230a87997e43c8bc04b022d9e15db3"><span data-offset-key="cb230a87997e43c8bc04b022d9e15db3:0"> saves only the last 10K messages. For social Slack instances, it may be impractical to upgrade to a paid plan to retain these messages. Similarly, for an open-source project like </span></span><a data-key="fa0ea28b09e640e6b33c9c9474854bec" href="https://docs.airbyte.io/architecture/catalog"><span data-key="32a9ecdc5a834b89887ceabed4a34b3f"><span data-offset-key="32a9ecdc5a834b89887ceabed4a34b3f:0">Airbyte</span></span></a><span data-key="2ddd3a33c14b410989ad728060eff864"><span data-offset-key="2ddd3a33c14b410989ad728060eff864:0"> where we interact with our community through a public Slack instance, the cost of paying for a seat for every Slack member is prohibitive.</span></span></span></p><p data-key="3577b746b2014fda9268d04ca727be25"><span><span data-key="b317b076357d4c31ba510e6a82f91287"><span data-offset-key="b317b076357d4c31ba510e6a82f91287:0">However, searching through old messages can be really helpful. Losing that history feels like some advanced form of memory loss. What was that joke about Java 8 Streams? This contributor question sounds familiarâ€”haven't we seen it before? But you just can't remember!</span></span></span></p><p data-key="5e2f7c4ead404690826b5fc2bb3f1d39"><span><span data-key="5e34699cd1604bf39b588adf9849cf53"><span data-offset-key="5e34699cd1604bf39b588adf9849cf53:0">This tutorial will show you how you can, for free, use Airbyte to save these messages (even after Slack removes access to them). It will also provide you a convenient way to search through them.</span></span></span></p><p data-key="cbfa24d9a7254e6c875b3d53ba99ecf5"><span><span data-key="c3bfbee0bd334a2da3030a575bbd0b12"><span data-offset-key="c3bfbee0bd334a2da3030a575bbd0b12:0">Specifically, we will export messages from your Slack instance into an open-source search engine called </span></span><a href="https://github.com/meilisearch/meilisearch" target="_blank" rel="noopener noreferrer" data-key="a526461ebfbf4534a578c3672d29e929"><span data-key="d527aeca630c4002b6971d801e763cd9"><span data-offset-key="d527aeca630c4002b6971d801e763cd9:0">MeiliSearch</span></span></a><span data-key="1c0a298c8e084830b862a7240191e268"><span data-offset-key="1c0a298c8e084830b862a7240191e268:0">. We will be focusing on getting this setup running from your local workstation. We will mention at the end how you can set up a more productionized version of this pipeline.</span></span></span></p><p data-key="1bb3a9a9baa84f438a6649a2df9f1d02"><span><span data-key="428aca0bd97a495b95f6f428f75d4a1c"><span data-offset-key="428aca0bd97a495b95f6f428f75d4a1c:0">We want to make this process easy, so while we will link to some external documentation for further exploration, we will provide all the instructions you need here to get this up and running.</span></span></span></p><p data-key="299b6a4e739a40e1aa7b0712c7c9dbf1"><span><span data-key="d7326c69ecb04f57b8dfedf89359222e"><span data-offset-key="d7326c69ecb04f57b8dfedf89359222e:0">First, let's get MeiliSearch running on our workstation. MeiliSearch has extensive docs for </span></span><a href="https://docs.meilisearch.com/reference/features/installation.html#download-and-launch" target="_blank" rel="noopener noreferrer" data-key="d0eb277eb6854919b263c3d781796d3c"><span data-key="e03395e9cf1343648e890859c955ebf2"><span data-offset-key="e03395e9cf1343648e890859c955ebf2:0">getting started</span></span></a><span data-key="3ec4128e85ae49d3b394644fbb09d31e"><span data-offset-key="3ec4128e85ae49d3b394644fbb09d31e:0">. For this tutorial, however, we will give you all the instructions you need to set up MeiliSearch using Docker.</span></span></span></p><div><pre data-key="7372634cb1d54e42a61a48c05c356809" spellcheck="false"><p><span data-key="8d19d98fb15e4fa4a93e3a22b16600b7"><span data-offset-key="8d19d98fb15e4fa4a93e3a22b16600b7:0">docker run -it --rm \</span></span></p><p><span data-key="fab810b680844665a7bb97279bf2db4d"><span data-offset-key="fab810b680844665a7bb97279bf2db4d:0">  -p 7700:7700 \</span></span></p><p><span data-key="889e62fc17154dc5b6963b7748ed6062"><span data-offset-key="889e62fc17154dc5b6963b7748ed6062:0">  -v $(pwd)/data.ms:/data.ms \</span></span></p><p><span data-key="aa684f032ddf4a11a74c246e767e1895"><span data-offset-key="aa684f032ddf4a11a74c246e767e1895:0">  getmeili/meilisearch</span></span></p></pre></div><p data-key="26161a42b6824d4dac371d0c23d9cab4"><span><span data-key="c0d46e144ad84eaeb51c2f1ea572a633"><span data-offset-key="c0d46e144ad84eaeb51c2f1ea572a633:0">That's it!</span></span></span></p><div data-key="b2de61b8022a495d8e292f097bba835c"><p data-key="6a7c65a1d2944d2d94077e2da5c6e881"><span><span data-key="f800d55bf2a9420fb3e0b7fd607fd2a1"><span data-offset-key="f800d55bf2a9420fb3e0b7fd607fd2a1:0">MeiliSearch stores data in $(pwd)/data.ms, so if you prefer to store it somewhere else, just adjust this path.</span></span></span></p></div><h2 id="a-set-up-airbyte" data-key="151b0a6abbe64c78822804f4d4f39892"><p><span><span data-key="49b15cc69b9c43f9871f819f64f824b1"><span data-offset-key="49b15cc69b9c43f9871f819f64f824b1:0">a. Set Up Airbyte</span></span></span><a href="#a-set-up-airbyte" contenteditable="false"><span><svg preserveAspectRatio="xMidYMid meet" height="1em" width="1em" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor"><g><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></g></svg></span></a></p></h2><p data-key="7ed613ffdffa4cfd90a5ee517e70d147"><span><span data-key="36f8c9f1c0824b2687036b11e756624a"><span data-offset-key="36f8c9f1c0824b2687036b11e756624a:0">Make sure you have Docker and Docker Compose installed. If you havenâ€™t set Docker up, follow the </span></span><a href="https://docs.docker.com/desktop/" target="_blank" rel="noopener noreferrer" data-key="054eacf37fe541768de13c6a2fabae8f"><span data-key="3324fe029eee4f6c90c88e7258e3e7f9"><span data-offset-key="3324fe029eee4f6c90c88e7258e3e7f9:0">instructions here</span></span></a><span data-key="de3ae58e610047578b789096a33b3e5f"><span data-offset-key="de3ae58e610047578b789096a33b3e5f:0"> to set it up on your machine. Then, run the following commands:</span></span></span></p><div><pre data-key="42d0fe8d933a49949327221fe8e2d544" spellcheck="false"><p><span data-key="2f44e589931842e0822bb88b46d128cd"><span data-offset-key="2f44e589931842e0822bb88b46d128cd:0"><span>git</span></span><span data-offset-key="2f44e589931842e0822bb88b46d128cd:1"><span> clone https://github.com/airbytehq/airbyte.git</span></span></span></p><p><span data-key="2ac98766f15f41f5b56e40491b7c2f14"><span data-offset-key="2ac98766f15f41f5b56e40491b7c2f14:0"><span>cd</span></span><span data-offset-key="2ac98766f15f41f5b56e40491b7c2f14:1"><span> airbyte</span></span></span></p><p><span data-key="562a51baeaaa4c1a913e56b9facc378b"><span data-offset-key="562a51baeaaa4c1a913e56b9facc378b:0"><span>docker-compose up</span></span></span></p></pre></div><p data-key="47e6ad1cc7f34480a604059a8264be2e"><span><span data-key="ced94bc7b6f14d68ac770f1188023074"><span data-offset-key="ced94bc7b6f14d68ac770f1188023074:0">If you run into any problems, feel free to check out our more extensive </span></span><a href="https://docs.airbyte.io/getting-started" target="_blank" rel="noopener noreferrer" data-key="43d3a7a7f39c43ae930681837a2761d8"><span data-key="24afb33e30f14eecbd03e3ef3ab600ec"><span data-offset-key="24afb33e30f14eecbd03e3ef3ab600ec:0">getting started</span></span></a><span data-key="b47ccb2d409e4263b22cc0dd6cf70dd1"><span data-offset-key="b47ccb2d409e4263b22cc0dd6cf70dd1:0"> for more help.</span></span></span></p><p data-key="ed263c354352437db056c92085b1992e"><span><span data-key="46a73314524b472e95da8cb452adc6da"><span data-offset-key="46a73314524b472e95da8cb452adc6da:0">Once you see an Airbyte banner, the UI is ready to go at </span></span><a href="http://localhost:8000/" target="_blank" rel="noopener noreferrer" data-key="dfa0a67e24d545fd976e708e7af4da09"><span data-key="5c801bfbb6424b32b1c355ad99060155"><span data-offset-key="5c801bfbb6424b32b1c355ad99060155:0">http://localhost:8000/</span></span></a><span data-key="02367b69f99442d3a5545e1831c5e8c5"><span data-offset-key="02367b69f99442d3a5545e1831c5e8c5:0">. Once you have set your user preferences, you will be brought to a page that asks you to set up a source. In the next step, we'll go over how to do that.</span></span></span></p><h2 id="b-set-up-airbytes-slack-source-connector" data-key="7ea011031ce54e85856e9410354539fe"><p><span><span data-key="9c25a05ad0704970850b2808061e3916"><span data-offset-key="9c25a05ad0704970850b2808061e3916:0">b. Set Up Airbyteâ€™s Slack Source Connector</span></span></span><a href="#b-set-up-airbytes-slack-source-connector" contenteditable="false"><span><svg preserveAspectRatio="xMidYMid meet" height="1em" width="1em" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor"><g><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></g></svg></span></a></p></h2><p data-key="23a1c595392d4dce92ef104eb4cc0205"><span><span data-key="47507fc38471440eacdc59bd213717da"><span data-offset-key="47507fc38471440eacdc59bd213717da:0">In the Airbyte UI, select Slack from the dropdown. We provide step-by-step instructions for setting up the Slack source in Airbyte </span></span><a href="https://docs.airbyte.io/integrations/sources/slack#setup-guide" target="_blank" rel="noopener noreferrer" data-key="c4e09a87ffd64a5c83eece91629aed9e"><span data-key="be9a223a08224f7988c9e3431fa1c643"><span data-offset-key="be9a223a08224f7988c9e3431fa1c643:0">here</span></span></a><span data-key="ffa993a7321042a98c97c88e48020565"><span data-offset-key="ffa993a7321042a98c97c88e48020565:0">. These will walk you through how to complete the form on this page.</span></span></span></p><div data-slate-void="true" data-key="a8df21ad60b84de49d5d71fb819e2d1e"><div><figure data-key="a8df21ad60b84de49d5d71fb819e2d1e" contenteditable="false"><div><p><img tabindex="0" src="https://gblobscdn.gitbook.com/assets%2F-MHZYvlJGSuz4DxQs3lX%2Fsync%2F2f33f057c4212b4f47acb7934bef7b79d38706ea.png?alt=media" loading="lazy"></p></div></figure></div></div><p data-key="3dc38532dd3f4f7a9aab12f0f0c1c296"><span><span data-key="f36f02c2046d4ac48bf3061aba80f5c4"><span data-offset-key="f36f02c2046d4ac48bf3061aba80f5c4:0">By the end of these instructions, you should have created a Slack source in the Airbyte UI. For now, just add your Slack app to a single public channel (you can add it to more channels later). Only messages from that channel will be replicated.</span></span></span></p><p data-key="19b3a9a7bc114b50aabfe918bba95922"><span><span data-key="b89dd72fe219457b8e329f71a785ebb9"><span data-offset-key="b89dd72fe219457b8e329f71a785ebb9:0">The Airbyte app will now prompt you to set up a destination. Next, we will walk through how to set up MeiliSearch.</span></span></span></p><h2 id="c-set-up-airbytes-meilisearch-destination-connector" data-key="472ccd2ff6ee418d8dc5916ae0bc77d8"><p><span><span data-key="cab4fc69a7d84f048ade89a5a664a58a"><span data-offset-key="cab4fc69a7d84f048ade89a5a664a58a:0">c. Set Up Airbyteâ€™s MeiliSearch Destination Connector</span></span></span><a href="#c-set-up-airbytes-meilisearch-destination-connector" contenteditable="false"><span><svg preserveAspectRatio="xMidYMid meet" height="1em" width="1em" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor"><g><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></g></svg></span></a></p></h2><p data-key="ebf2d935cdc342d3bc922c4fefbf9842"><span><span data-key="2d036b87a8004f99bb303d6c1c810c74"><span data-offset-key="2d036b87a8004f99bb303d6c1c810c74:0">Head back to the Airbyte UI. It should still be prompting you to set up a destination. Select "MeiliSearch" from the dropdown. For the </span><span data-offset-key="2d036b87a8004f99bb303d6c1c810c74:1"><code spellcheck="false" data-slate-leaf="true">host</code></span><span data-offset-key="2d036b87a8004f99bb303d6c1c810c74:2"> field, set: </span><span data-offset-key="2d036b87a8004f99bb303d6c1c810c74:3"><code spellcheck="false" data-slate-leaf="true">http://localhost:7700</code></span><span data-offset-key="2d036b87a8004f99bb303d6c1c810c74:4">. The </span><span data-offset-key="2d036b87a8004f99bb303d6c1c810c74:5"><code spellcheck="false" data-slate-leaf="true">api_key</code></span><span data-offset-key="2d036b87a8004f99bb303d6c1c810c74:6"> can be left blank.</span></span></span></p><h2 id="d-set-up-the-replication" data-key="1afadfeef6864ac3beb064998095c55a"><p><span><span data-key="a08888fe6a3a4020ab6eb80147d9afbf"><span data-offset-key="a08888fe6a3a4020ab6eb80147d9afbf:0">d. Set Up the Replication</span></span></span><a href="#d-set-up-the-replication" contenteditable="false"><span><svg preserveAspectRatio="xMidYMid meet" height="1em" width="1em" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor"><g><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></g></svg></span></a></p></h2><p data-key="6a5663cfb60349c59621e574d2d14f02"><span><span data-key="df6bb893e68d4de8b3fcaac778ddb8b9"><span data-offset-key="df6bb893e68d4de8b3fcaac778ddb8b9:0">On the next page, you will be asked to select which streams of data you'd like to replicate. We recommend unchecking "files" and "remote files" since you won't really be able to search them easily in this search engine.</span></span></span></p><div data-slate-void="true" data-key="ea194400596145ecb8fd97980f0cc315"><div><figure data-key="ea194400596145ecb8fd97980f0cc315" contenteditable="false"><div><p><img tabindex="0" src="https://gblobscdn.gitbook.com/assets%2F-MHZYvlJGSuz4DxQs3lX%2F-MUHlMtXjd0N8g3CGtcr%2F-MUHllojB0wYQEodi6Ef%2FAirbyte_Connection%20settings.png?alt=media&amp;token=684382ef-7820-4891-963d-0a9f40d61b39" loading="lazy"></p></div></figure></div></div><p data-key="2db1a7aa86ba4931a6b722fb7658371b"><span><span data-key="97dba15e512c41819f696b54d9a07855"><span data-offset-key="97dba15e512c41819f696b54d9a07855:0">For frequency, we recommend every 24 hours.</span></span></span></p><p data-key="c852844496a34666840cbfc59b8a4ad3"><span><span data-key="2eba1a66885f47cc9f5ee4b0ed97d375"><span data-offset-key="2eba1a66885f47cc9f5ee4b0ed97d375:0">After the connection has been saved, Airbyte should start replicating the data immediately. When it completes you should see the following:</span></span></span></p><div data-slate-void="true" data-key="101c7cecdddc4aa38aba4cdabe593627"><div><figure data-key="101c7cecdddc4aa38aba4cdabe593627" contenteditable="false"><div><p><img tabindex="0" src="https://gblobscdn.gitbook.com/assets%2F-MHZYvlJGSuz4DxQs3lX%2Fsync%2Fa4408da9b960d4541dd161f359ecf827cc9e7bf9.png?alt=media" loading="lazy"></p></div></figure></div></div><p data-key="f82ed81106e7489d82df559119df3d8d"><span><span data-key="2d5be1b924344160a1005779bcfeeac5"><span data-offset-key="2d5be1b924344160a1005779bcfeeac5:0">When the sync is done, you can sanity check that this is all working by making a search request to MeiliSearch. Replication can take several minutes depending on the size of your Slack instance.</span></span></span></p><div><pre data-key="1e1c4e5774c74bf29dea686c35128dde" spellcheck="false"><p><span data-key="cd494b1016a740b4aae457ef195d3cdc"><span data-offset-key="cd494b1016a740b4aae457ef195d3cdc:0"><span>curl</span></span><span data-offset-key="cd494b1016a740b4aae457ef195d3cdc:1"><span> </span></span><span data-offset-key="cd494b1016a740b4aae457ef195d3cdc:2"><span>'http://localhost:7700/indexes/messages/search'</span></span><span data-offset-key="cd494b1016a740b4aae457ef195d3cdc:3"><span> --data </span></span><span data-offset-key="cd494b1016a740b4aae457ef195d3cdc:4"><span>'{ "q": "&lt;search-term&gt;" }'</span></span></span></p></pre></div><p data-key="87fa40419fd84cc6b3f03269c615061b"><span><span data-key="ef98aefb37d643c59d18bc28c8758080"><span data-offset-key="ef98aefb37d643c59d18bc28c8758080:0">For example, I have the following message in one of the messages that I replicated: "welcome to airbyte".</span></span></span></p><div><pre data-key="72a4acd00c8f485b80dad0d2ad0d2eaa" spellcheck="false"><p><span data-key="71b492dd982645599efb56d406a2a6a2"><span data-offset-key="71b492dd982645599efb56d406a2a6a2:0"><span>curl</span></span><span data-offset-key="71b492dd982645599efb56d406a2a6a2:1"><span> </span></span><span data-offset-key="71b492dd982645599efb56d406a2a6a2:2"><span>'http://localhost:7700/indexes/messages/search'</span></span><span data-offset-key="71b492dd982645599efb56d406a2a6a2:3"><span> --data </span></span><span data-offset-key="71b492dd982645599efb56d406a2a6a2:4"><span>'{ "q": "welcome to" }'</span></span></span></p></pre></div><p data-key="0a094b57218841639c930c3450408233"><span><span data-key="b3eab2f2ccad4323966380d6a4a394e1"><span data-offset-key="b3eab2f2ccad4323966380d6a4a394e1:0">Making curl requests to search your Slack History is a little clunky, so we have modified the example UI that MeiliSearch provides in </span></span><a href="https://docs.meilisearch.com/learn/tutorials/getting_started.html#integrate-with-your-project" target="_blank" rel="noopener noreferrer" data-key="a88d316b5cae44b89458286dc2f4890b"><span data-key="7bdb431289da4258bfc133b2822e727d"><span data-offset-key="7bdb431289da4258bfc133b2822e727d:0">their docs</span></span></a><span data-key="af5934ca3a3b415fb11c3cc4e959aab8"><span data-offset-key="af5934ca3a3b415fb11c3cc4e959aab8:0"> to search through the Slack results.</span></span></span></p><p data-key="9a890800655e4de0a9cb7f09b7c6eb80"><span><span data-key="a5ac76647e434e619ff47dc2e88194c3"><span data-offset-key="a5ac76647e434e619ff47dc2e88194c3:0">Download (or copy and paste) this </span></span><a href="https://github.com/airbytehq/airbyte/blob/master/docs/tutorials/slack-history/index.html" target="_blank" rel="noopener noreferrer" data-key="73122348c8604df09f3582beb9d19b43"><span data-key="ccfde78b277a431f8bd83e2529e3ec8d"><span data-offset-key="ccfde78b277a431f8bd83e2529e3ec8d:0">html file</span></span></a><span data-key="2bb7037bcb2b459aaa4e570272e5376f"><span data-offset-key="2bb7037bcb2b459aaa4e570272e5376f:0"> to your workstation. Then, open it using a browser. You should now be able to write search terms in the search bar and get results instantly!</span></span></span></p><div data-slate-void="true" data-key="1a940de2df334205a3a3da2a0e3cec19"><div><figure data-key="1a940de2df334205a3a3da2a0e3cec19" contenteditable="false"><div><p><img tabindex="0" src="https://gblobscdn.gitbook.com/assets%2F-MHZYvlJGSuz4DxQs3lX%2Fsync%2Fa7bbd3396dc964c1f14ed084ad6d2ed6646ff490.png?alt=media" loading="lazy"></p></div></figure></div></div><p data-key="1db0a26822a141ee9d17d828729ca1c7"><span><span data-key="32ff832ab9074a0abf9937b5e605f14a"><span data-offset-key="32ff832ab9074a0abf9937b5e605f14a:0">You can find instructions for how to host Airbyte on various cloud platforms </span></span><a data-key="7b090cc5df144002988f03959da6a8e3" href="https://docs.airbyte.io/deploying-airbyte"><span data-key="e2c58870715247328050f0c651e851dd"><span data-offset-key="e2c58870715247328050f0c651e851dd:0">here</span></span></a><span data-key="3712f817d7ab414ba54ac8c9edaa5a0c"><span data-offset-key="3712f817d7ab414ba54ac8c9edaa5a0c:0">.</span></span></span></p><p data-key="7779c78244634dc4b64b5dedbeee2436"><span><span data-key="3376374716cc4c5a97bba0617bd881f6"><span data-offset-key="3376374716cc4c5a97bba0617bd881f6:0">Documentation on how to host MeiliSearch on cloud platforms can be found </span></span><a href="https://docs.meilisearch.com/running-production/#a-quick-introduction" target="_blank" rel="noopener noreferrer" data-key="046b12c170e6412290e59f822c338c27"><span data-key="7cac8e1feb7e4110952923390b87426c"><span data-offset-key="7cac8e1feb7e4110952923390b87426c:0">here</span></span></a><span data-key="8989265ab13e46f4a0ec426a64ef2612"><span data-offset-key="8989265ab13e46f4a0ec426a64ef2612:0">.</span></span></span></p><p data-key="9bcaa9305eb442708db598e304136c6d"><span><span data-key="270bbdcc8ce84e42b887f10be850e301"><span data-offset-key="270bbdcc8ce84e42b887f10be850e301:0">If you want to use the UI mentioned in the section above, we recommend statically hosting it on S3, GCS, or equivalent.</span></span></span></p></div></div></div></div></div></div>]]>
            </description>
            <link>https://docs.airbyte.io/tutorials/slack-history</link>
            <guid isPermaLink="false">hacker-news-small-sites-26253174</guid>
            <pubDate>Wed, 24 Feb 2021 17:56:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Each extra drink you have per day probably takes an extra year off your life]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26253058">thread link</a>) | @apsec112
<br/>
February 24, 2021 | https://lorienpsych.com/2021/02/23/alcoholism/ | <a href="https://web.archive.org/web/*/https://lorienpsych.com/2021/02/23/alcoholism/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
					<div>	
						<p>.</p>
<p><b>The short version:</b> Each extra drink you have per day probably takes an extra year off your life. This may or may not be true for the first 1-2 drinks per day, but it definitely is after that. If you feel like you’re drinking too much, you may want to quit; although some people succeed at drinking in moderation, people are more likely to succeed if they set out to stop drinking entirely. If you’re currently drinking more than about five drinks per day or so, you will want to take steps to avoid potentially dangerous withdrawal when you quit. Once you’ve quit, you will need to maintain your sobriety; many people find support groups or medication helpful. The support group could be Alcoholics Anonymous, but it doesn’t have to be, and there are various good secular alternatives. The medication could be an anti-craving medication like naltrexone, acamprosate, or gabapentin. You could also “tie yourself to the mast” by taking disulfiram (“Antabuse”), which makes drinking alcohol extremely unpleasant or even dangerous. People who want to pursue moderate drinking can benefit from the Sinclair method, in which they take the medication naltrexone just before drinking, which breaks the link between alcohol and neural reward. Good support and medication can raise your chances, but most people won’t succeed the first time they try to quit, and should be prepared for a two-steps-forward, one-step-back process of gradually achieving better control.</p>
<p><b>The long version:</b></p>

<h5 id="anchor1"><span id="1_Whats_a_safe_amount_to_drink_What_are_the_risks_of_drinking_more_than_that">1. What’s a safe amount to drink? What are the risks of drinking more than that?</span></h5>
<p>I’m going to start with a boring technical answer, and then move on to a meaningful answer later.</p>
<p>The boring technical answer is: experts define a “standard drink” as about the amount of alcohol in a can of beer, a glass of wine, or a shot of whiskey, usually about 12g. If you want to get fancier or more complicated than that, you can use <a href="https://www.rethinkingdrinking.niaaa.nih.gov/tools/calculators/drink-size-calculator.aspx">this calculator</a>.</p>
<p>US guidelines say that women should limit themselves to at most 14 drinks/week, and women to 7 drinks/week. <a href="https://en.wikipedia.org/wiki/Recommended_maximum_intake_of_alcoholic_beverages">Other countries</a> are more permissive; I did some of my medical training in Ireland, which allows 17 for men and 11 for women.</p>
<p>(Why do women get fewer drinks? Women generally weigh less, and store more of their weight <a href="https://www.sciencedaily.com/releases/2009/03/090302115755.htm">as fat</a> to provide an energy reserve for future childbearing. That means they have less lean mass for the alcohol to disperse through. Women also have <a href="https://sci-hub.st/https://pubmed.ncbi.nlm.nih.gov/12696080/">lower levels of alcohol dehydrogenase</a>, a stomach enzyme that breaks down alcohol safely. I have no idea why there would be sex differences in ADH levels – please let me know if you understand this.)</p>
<p>Here’s what the data tell us about drinking and health:</p>
<center><img src="https://lorienpsych.com/htdocs/wp-content/Images/alcohol_mort.jpg"></center>
<p>Risk of death is the lowest (about 80% of the risk of a non-drinker) at about two drinks a week. On the face of it, this suggests people who drink a small amount are much healthier than people who drink nothing at all.</p>
<p>Most researchers are skeptical. Some non-drinkers are alcoholics in recovery (whose bodies have already been damaged by their previous heavy drinking). Others are very sick people who have been warned off alcohol by their doctors. Still others are poor people who can’t afford alcohol. When these unhealthy groups die at increased rates, it looks like teetotaling is bad for you, or like moderate drinking is good for you. The most recent large <a href="https://pubmed.ncbi.nlm.nih.gov/26997174/">big study</a> seems to confirm this critique (though see <a href="http://alcoholresearchforum.org/critique-183-an-unusual-analysis-of-the-association-of-alcohol-consumption-with-mortality-24-march-2016/">these objections</a>). The CDC currently <a href="https://www.cdc.gov/alcohol/fact-sheets/moderate-drinking.htm">sides with</a> the skeptics and says that basically any amount of drinking is at least a little bad for you, even if you stay within the recommended guidelines.</p>
<p>But a few people still believe moderate drinking helps, citing for example <a href="https://www.bmj.com/content/342/bmj.d636">this review article</a> of randomized controlled trials that showed people randomized to moderate drinking saw improvements on some cardiovascular measures. What I would really like to see are animal studies – whether animals randomized to zero vs. light alcohol consumption had higher mortality. Some people <a href="http://alcoholresearchforum.org/archives-april-2010-april-2011/genetic-factors-alcohol-use/">claim</a> these studies have been done and support light drinking, but they don’t provide links and I can’t evaluate them.</p>
<p>Right now I lean to thinking probably there is no protective effect. It’s not obvious what to do with this information. Should we assume healthy teetotalers would do just as well as the current best group, twice a week drinkers? Or extrapolate the line from heavy alcohol consumption backwards and assume they would do better than twice a week drinkers by the same amount that (eg) 30-time-a-week drinkers would do better than 32-time-a-week drinkers?</p>
<p>If we use the first method, we find that men who drink the upper limit of the guidelines have about a 5% higher mortality rate than (extrapolated) teetotalers; if we use the second method, they have more like a 20% higher rate. </p>
<p>Without doing any extrapolation or guesswork at all, just looking at the observed data, we find that men who have two drinks/day more than the limit (ie 4 drinks a day instead of just 2) have about a 10% higher risk of death than the people right at the limit. Bringing back our extrapolations, they also have a 15% – 30% higher risk than (extrapolated) teetotalers.</p>
<p>What does “10% higher risk of death” mean? You can figure it out from this graph (<a href="https://joshmitteldorf.scienceblog.com/files/2012/11/Mortality_and_LifeExpectancy1.png">source</a>):</p>
<p>Someone with a 10% higher risk of death will die about one year earlier; someone with a 30% higher risk of death will die about 4 years earlier.</p>
<p>As a very weak rule of thumb, putting these two graphs together, I think it would make sense to say that each extra drink-per-day will take about one additional year off a man’s life, and a little more off a woman’s life.</p>
<p>That roughly matches results from <a href="https://www.reuters.com/article/us-health-alcohol/even-one-drink-a-day-linked-to-lower-life-expectancy-idUSKBN1I42H6">this study</a>, which finds that people who drink 150 grams of alcohol weekly (a little over one drink a day) live six months shorter than people who drink less than this. People who drink about 300 grams weekly (a little over two drinks a day) live about two years less, and people who drink more than this (a catchall bin anywhere from three drinks/day up) live about five years less.</p>
<p>It also potentially matches <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4402015/">this study</a> from Scandinavia which finds that severe alcoholics (people admitted to a hospital with alcohol use disorder) die about 25 years earlier than the general population (ie around age 50), if we assume these people are drinking about 25 drinks per day, which would not be atypical for a severe alcoholic.</p>
<p>Along with increased risk of death, alcoholics are at increased risk for various unpleasant diseases, and tend to <a href="https://www.medicalnewstoday.com/articles/320091#Heavy-drinking-predicts-signs-of-aging">look</a> and feel older and be less healthy than non-drinkers of the same age. </p>
<h5 id="anchor2"><span id="2_How_can_I_tell_if_Im_an_alcoholic">2. How can I tell if I’m an alcoholic?</span></h5>
<p>Alcoholism probably isn’t <a href="https://lorienpsych.com/2020/10/30/ontology-of-psychiatric-conditions-taxometrics/">a taxon</a>; there isn’t some hard-and-fast line dividing people into alcoholics and non-alcoholics. There are just people who drink more or less, and who find their drinking is harming them more or less. So only you can answer this question. Are you unhappy with the amount you’re drinking? Do you feel like you can’t stop? Is it reaching a point where it’s harmful to your health, your relationship, or your ability to do the things you want to do? Is it harmful enough that it’s worth using the label “alcoholic” to signal that you feel like things are out of control and you need to start thinking about yourself in a medical way?</p>
<p>In case that answer is too vague to be useful, people have come up with various heuristics that you can use to judge how concerned to be. The most famous is the CAGE questions:</p>
<p>1. Have you ever felt you needed to cut down on drinking?<br>
2. Have people ever annoyed you by criticizing your drinking?<br>
3. Have you ever felt guilty about drinking?<br>
4. Have you ever felt you needed a drink in the morning (“eye-opener”) to steady your nerves or get rid of a hangover?</p>
<p>If you answer “yes” to at least two of the questions, you should at least consider the possibility that you might have a drinking problem. When experts do a more thorough evaluation on people who gave at least two “yes” answers to the questions above, they <a href="https://academic.oup.com/occmed/article/64/6/473/1432970">end up diagnosing on average 77% of them</a> with alcoholism.</p>
<p>Doctors very specifically don’t diagnose alcoholism based on number of drinks per day, because some people are able to drink a lot without having too many problems, and other people start having problems even at seemingly low levels. But if doctors <i>did</i> diagnose alcoholism based on drinks per day, I think the cutoff would be around 10 or 11. I’m gathering this from <a href="https://www.washingtonpost.com/news/wonk/wp/2017/08/11/study-one-in-eight-american-adults-are-alcoholics/">this article</a> saying that about 12% of Americans have an alcohol use disorder, plus <a href="https://www.washingtonpost.com/news/wonk/wp/2014/09/25/think-you-drink-a-lot-this-chart-will-tell-you/">this article</a> giving deciles of alcohol use; the heaviest-drinking 10% of the population starts at about 10 drinks a day. So if we wanted to come up with a completely number-of-drinks based criterion for alcohol use disorder, and keep the same percent of the population alcoholic, it would be around 10 or 11 drinks. I have known people (especially women) who were definitely alcoholic even though they drank much less than this. I’ve also known people who seem to be doing okay with more – but these people are probably taking a decade off their lives, so I’m skeptical of their claims that they can “quit any time they want” – why don’t they want to??</p>
<h5 id="anchor3"><span id="21_But_what_is_alcoholism_exactly">— 2.1. But what is alcoholism, exactly?</span></h5>
<p>This is a good question; instead of me answering it, please accept this IOU for a broader Lorien Psychiatry page on the nature of addiction.</p>
<p>The very short version is that, while free will isn’t exactly an illusion, it’s an abstraction on more complicated calculations that your brain uses to determine what to do at any given time. One input into this calculation is based on whether similar actions have gone well or badly in the past. The brain processes information about how well an action is going using a chemical called dopamine in a structure called the nucleus accumbens; the more dopamine, the more surprisingly well the action has gone and the more you try to do it in the future. Alcohol <a href="https://pubmed.ncbi.nlm.nih.gov/12827641/">increases</a> the level of dopamine in this structure. It’s not exactly clear why, but the most likely explanation is something like – it vaguely resembles …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://lorienpsych.com/2021/02/23/alcoholism/">https://lorienpsych.com/2021/02/23/alcoholism/</a></em></p>]]>
            </description>
            <link>https://lorienpsych.com/2021/02/23/alcoholism/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26253058</guid>
            <pubDate>Wed, 24 Feb 2021 17:49:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[AppKit is done – macOS and SwiftUI]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26252926">thread link</a>) | @LinusS1
<br/>
February 24, 2021 | https://kean.blog/post/appkit-is-done | <a href="https://web.archive.org/web/*/https://kean.blog/post/appkit-is-done">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>





<article itemscope="" itemtype="http://schema.org/BlogPosting">

    

    

    <div onscroll="onScroll()" itemprop="articleBody">
        <p>Well, not like Carbon. Don’t be <a href="https://www.youtube.com/watch?v=Cl7xQ8i3fc0">so dramatic</a>!</p>

<p>More like <a href="https://developer.apple.com/documentation/corefoundation">Core Foundation</a>. It’s still there behind the scenes, but programmers use high-level Objective-C and Swift wrappers from Foundation. If something is missing, you can call an underlying C API. The relation between SwiftUI and AppKit is similar, for now<sup id="fnref:6" role="doc-noteref"><a href="#fn:6">1</a></sup>.</p>

<p><img src="https://kean.blog/images/posts/macos/cover-macos.png">
<!-- <img class="NewScreenshot" src="https://kean.blog/images/posts/macos/03-macos-final.png"> --></p>

<p>This is a native <a href="https://github.com/kean/Pulse">macOS app</a> written entirely in SwiftUI, from <code>@main</code> to bottom. Not a prototype, not a toy. A full-featured app. The intention is to deliver the best macOS experience possible.</p>

<p>The two main reasons this app is possible are SwiftUI and Big Sur. I have extensive experience with iOS, so I started with it. When the time came to adopt it for macOS, I was anxious. I had no idea what to expect from SwiftUI on a Mac. But thanks to the <a href="https://developer.apple.com/videos/play/wwdc2020/10041/">new</a> SwiftUI APIs and the Big Sur design changes, everything just made sense!</p>

<p>Total Lines: <strong>7124</strong><br>
iOS: <strong>593 (8%)</strong><br>
macOS: <strong>513 (7%)</strong><br>
Shared: <strong>6018 (85%)</strong><sup id="fnref:1" role="doc-noteref"><a href="#fn:1">2</a></sup><br></p>

<p>App Size: <strong>2.5 MB</strong></p>

<p>Want to learn how to build macOS apps or see some videos with rad UI interactions?<br> This post is for you.</p>
      <h2 id="navigation">
        
        
          Navigation <a href="#navigation">#</a>
        
        
      </h2>

<!-- <img alt="Triple column navigation on macOS using SwiftUI" class="NewScreenshot" src="https://kean.blog/images/posts/macos/00-columns.png"> -->



<p>The <a href="https://twitter.com/a_grebenyuk/status/1363882900136095745?s=20">first step</a> was to get the navigation right. I knew I wanted to use triple-column navigation<sup id="fnref:4" role="doc-noteref"><a href="#fn:4">3</a></sup>. SwiftUI makes this setup ease.</p>

<div><div><pre><code><span>struct</span> <span>ContentView</span><span>:</span> <span>View</span> <span>{</span>
    <span>var</span> <span>body</span><span>:</span> <span>some</span> <span>View</span> <span>{</span>
        <span>NavigationView</span> <span>{</span>
            <span>SidebarView</span><span>()</span>
            <span>Text</span><span>(</span><span>"No Sidebar Selection"</span><span>)</span> <span>// You won't see this in practice (default selection)</span>
            <span>Text</span><span>(</span><span>"No Message Selection"</span><span>)</span> <span>// You will see this</span>
        <span>}</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>The key is the type system. What you used to configure in code, e.g. by passing a number of columns to <code>UISplitViewController</code>, you now configure using generic parameters. In my case, the type of the view is <code>NavigationView&lt;TupleView&lt;(Sidebar, Text, Text)&gt;&gt;</code>.</p>

<p>Use navigation links as usual. To make the first tab active by default, pass <a href="https://developer.apple.com/documentation/swiftui/navigationlink/init(_:destination:isactive:)-3v44"><code>isActive</code></a> in the <a href="https://developer.apple.com/documentation/swiftui/navigationlink"><code>NavigationLink</code></a> initializer with a value of <code>true</code>.</p>

<div><div><pre><code><span>struct</span> <span>SidebarView</span><span>:</span> <span>View</span> <span>{</span>
    <span>@State</span> <span>private</span> <span>var</span> <span>isDefaultItemActive</span> <span>=</span> <span>true</span>

    <span>var</span> <span>body</span><span>:</span> <span>some</span> <span>View</span> <span>{</span>
        <span>List</span> <span>{</span>
            <span>NavigationLink</span><span>(</span><span>destination</span><span>:</span> <span>ConsoleView</span><span>(),</span> <span>isActive</span><span>:</span> <span>$</span><span>isDefaultItemActive</span><span>)</span> <span>{</span>
                <span>Label</span><span>(</span><span>"Console"</span><span>,</span> <span>systemImage</span><span>:</span> <span>"message"</span><span>)</span>
            <span>}</span>
            <span>// ...</span>
        <span>}</span><span>.</span><span>listStyle</span><span>(</span><span>SidebarListStyle</span><span>())</span> <span>// Gives you this sweet sidebar look</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>By default, the toolbar displays a title in the main panel. To disable it, I used <a href="https://developer.apple.com/documentation/swiftui/scene/windowtoolbarstyle(_:)"><code>UnifiedWindowToolbarStyle(showsTitle: false)</code></a>.</p>

<blockquote>
  <p>To learn more about triple-column navigation, see <a href="https://kean.blog/post/triple-trouble"><strong>Triple Trouble</strong></a>.</p>
</blockquote>

<blockquote>
  <p>Don’t use the List <a href="https://developer.apple.com/documentation/swiftui/list#topics"><code>selection</code></a> API for navigation. It only exists to support single or multiple item selection of items in <em>edit</em> mode.</p>
</blockquote>
    
      



<p>The “Toggle Sidebar” button does not appear by default. To add it, use <a href="https://developer.apple.com/documentation/swiftui/rotatedshape/toolbar(content:)-53znx?changes=latest_mino_8"><code>.toolbar</code></a> modifier.</p>

<!-- ```swift
SidebarView(model: model)
    .toolbar {
        Button(action: toggleSidebar) {
            Image(systemName: "sidebar.left")
                .help("Toggle Sidebar")
            }
        }
    }
}
``` -->

<div><div><pre><code><span>SidebarView</span><span>(</span><span>model</span><span>:</span> <span>model</span><span>)</span>
    <span>.</span><a href="https://developer.apple.com/documentation/swiftui/rotatedshape/toolbar(content:)-53znx?changes=latest_mino_8"><span><span>toolbar</span></span></a> <span>{</span>
        <span>Button</span><span>(</span><span>action</span><span>:</span> <span>toggleSidebar</span><span>)</span> <span>{</span>
            <span>Image</span><span>(</span><span>systemName</span><span>:</span> <span>"sidebar.left"</span><span>)</span>
                <span>.</span><span>help</span><span>(</span><span>"Toggle Sidebar"</span><span>)</span>
            <span>}</span>
        <span>}</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>Unfortunately, there doesn’t seem to be a way to hide the sidebar programmatically using <code>NavigationView</code>. I had to use <a href="https://developer.apple.com/documentation/appkit/nsapp"><code>NSApp</code></a> APIs. One of the few AppKit usages in the app.</p>

<div><div><pre><code><span>private</span> <span>func</span> <span>toggleSidebar</span><span>()</span> <span>{</span>
    <span>NSApp</span><span>.</span><span>keyWindow</span><span>?</span><span>.</span><span>firstResponder</span><span>?</span>
        <span>.</span><span>tryToPerform</span><span>(</span><span>#selector(</span><span>NSSplitViewController.toggleSidebar(_:)</span><span>)</span><span>,</span> <span>with</span><span>:</span> <span>nil</span><span>)</span>
<span>}</span>
</code></pre></div></div>

<blockquote>
  <p>The relationship between SwiftUI and AppKit are not documented and not guaranteed to be supported. This workaround is useful for now, but might stop working in the future.</p>
</blockquote>

<p>To add a “Toggle Sidebar” shortcut, use <a href="https://developer.apple.com/documentation/swiftui/sidebarcommands"><code>SidebarCommands</code></a>.</p>

<p><img src="https://kean.blog/images/posts/macos/01-menu-items.png"></p>

<blockquote>
  <p>If you have a group of items, put them in <a href="https://developer.apple.com/documentation/swiftui/toolbaritemgroup"><code>ToolbarItemGroup</code></a>. This will ensure proper positioning and spacing.</p>
</blockquote>

<blockquote>
  <p>Customize the positioning on buttons with <a href="https://developer.apple.com/documentation/swiftui/toolbaritemplacement"><code>ToolbarItemPlacement</code></a>. The positioning that you can see on the video is <a href="https://developer.apple.com/documentation/swiftui/toolbaritemplacement/automatic">the default option</a>, no customization is needed.</p>
</blockquote>
    
      <h2 id="outline-groups">
        
        
          Outline Groups <a href="#outline-groups">#</a>
        
        
      </h2>



<p>To create a collapsing section, use <a href="https://developer.apple.com/documentation/swiftui/disclosuregroup"><code>DisclosureGroup</code></a>. You can even nest sections. To open a section programmatically, use <a href="https://developer.apple.com/documentation/swiftui/disclosuregroup/init(isexpanded:content:label:)"><code>isExpanded</code></a> binding.</p>

<div><div><pre><code><span>DisclosureGroup</span><span>(</span><span>content</span><span>:</span> <span>{</span>
    <span>Toggle</span><span>(</span><span>"Current Session"</span><span>,</span> <span>isOn</span><span>:</span> <span>$</span><span>model</span><span>.</span><span>isCurrentSession</span><span>)</span>
    <span>// ...</span>
<span>},</span> <span>label</span><span>:</span> <span>{</span>
    <span>Label</span><span>(</span><span>"Log Level"</span><span>,</span> <span>systemImage</span><span>:</span> <span>"flag"</span><span>)</span>
<span>})</span>
</code></pre></div></div>

<blockquote>
  <p>To learn more about outlines, see <a href="https://developer.apple.com/videos/play/wwdc2020/10031/">WWDC 2020: Stacks, Grids, and Outlines in SwiftUI</a></p>
</blockquote>
    
      <h2 id="windows">
        
        
          Windows <a href="#windows">#</a>
        
        
      </h2>

<p>With the new <a href="https://developer.apple.com/documentation/swiftui/windowgroup"><code>WindowGroup</code></a> API introduces in Big Sur, SwiftUI takes care of certain platform behaviors. For example, users can open more than one window from the group simultaneously. When the user double-clicks on a list item in the main panel, it opens the details in a separate window. This happens automatically.</p>



<p>It also comes with a standard set of shortcuts: <code>Command-Tilde</code> to switch between open windows, <code>Command+W</code> to close, <code>Command+M</code> to minimize, etc.</p>

<p>You can also open a new window group using <code>Command+N</code>. In my case, the app remembers the database you selected. This way you can have multiple views on the same set of logs with different filters. Very useful when investigating complex issues!</p>

<div><div><pre><code><span>@main</span>
<span>struct</span> <span>PulseApp</span><span>:</span> <span>App</span> <span>{</span>
    <span>@StateObject</span> <span>var</span> <span>model</span> <span>=</span> <span>AppViewModel</span><span>()</span>

    <span>var</span> <span>body</span><span>:</span> <span>some</span> <span>Scene</span> <span>{</span>
        <span>WindowGroup</span> <span>{</span>
            <span>contents</span>
        <span>}</span>
        <span>.</span><span>windowToolbarStyle</span><span>(</span><span>UnifiedWindowToolbarStyle</span><span>(</span><span>showsTitle</span><span>:</span> <span>false</span><span>))</span>
        <span>.</span><span>commands</span> <span>{</span>
            <span>// Adds `Command+Option+S` shortcut to toggle the sidebar</span>
            <span>SidebarCommands</span><span>()</span>
            <span>// ...</span>
        <span>}</span>
    <span>}</span>

    <span>@ViewBuilder</span>
    <span>private</span> <span>var</span> <span>contents</span><span>:</span> <span>some</span> <span>View</span> <span>{</span>
        <span>if</span> <span>let</span> <span>store</span> <span>=</span> <span>model</span><span>.</span><span>selectedStore</span> <span>{</span>
            <span>MainView</span><span>(</span><span>messageStore</span><span>:</span> <span>store</span><span>)</span>
        <span>}</span> <span>else</span> <span>{</span>
            <span>WelcomeView</span><span>()</span>
        <span>}</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>The way <code>WindowGroup</code> works is clever: it’s just struct copying. Every window created from the group maintains independent state. For example, for each new window created from the group the system allocates new storage for any <code>State</code> or <code>StateObject</code> variables instantiated by the scene’s view hierarchy.</p>

<blockquote>
  <p>To learn more about data flow in SwiftUI, see <a href="https://kean.blog/post/swiftui-data-flow">SwiftUI Data Flow</a>.</p>
</blockquote>
    
      <h2 id="list-search">
        
        
          List Search <a href="#list-search">#</a>
        
        
      </h2>



<p>Search is probably the most complex UI feature I built. It felt like I was pushing it.</p>

<p>The search field, the search toolbar, and how the searches are performed is not particularly interesting – same as in AppKit. What is, is how do you scroll to the next item and activate the navigation link each time the user hits the Return (↩) key?</p>

<p>For programmatic scrolling, I used <a href="https://developer.apple.com/documentation/swiftui/scrollviewreader"><code>ScrollViewReader</code></a>.</p>

<div><div><pre><code><span>struct</span> <span>ConsoleContentView</span><span>:</span> <span>View</span> <span>{</span>
    <span>@ObservedObject</span> <span>private(set)</span> <span>var</span> <span>model</span><span>:</span> <span>ConsoleViewModel</span>

    <span>var</span> <span>body</span><span>:</span> <span>some</span> <span>View</span> <span>{</span>
        <span>VStack</span><span>(</span><span>spacing</span><span>:</span> <span>0</span><span>)</span> <span>{</span>
            <span>if</span> <span>!</span><span>model</span><span>.</span><span>isSearchBarHidden</span> <span>{</span>
                <span>searchToolbar</span>
            <span>}</span>
            <span>ScrollViewReader</span> <span>{</span> <span>proxy</span> <span>in</span>
                <span>ConsoleMessageListView</span><span>(</span><span>model</span><span>:</span> <span>model</span><span>)</span>
                    <span>.</span><span>onReceive</span><span>(</span><span>model</span><span>.</span><span>$</span><span>selectedObjectId</span><span>)</span> <span>{</span> <span>objectId</span> <span>in</span>
                        <span>guard</span> <span>let</span> <span>objectId</span> <span>=</span> <span>objectId</span> <span>else</span> <span>{</span> <span>return</span> <span>}</span>
                        <span>proxy</span><span>.</span><span>scrollTo</span><span>(</span><span>objectId</span><span>)</span>
                    <span>}</span>

            <span>}</span>
            <span>filterToolbar</span>
        <span>}</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>When the user hits Return (↩), <code>ConsoleViewModel</code> updates the <a href="https://developer.apple.com/documentation/combine/published">published</a> <code>selectedObjectId</code> property value observed by the view.</p>

<blockquote>
  <p>Every declarative framework is imperative if you try hard enough.</p>
</blockquote>

<p>Now, what about activating the navigation links? We already know how to do that using <a href="https://developer.apple.com/documentation/swiftui/navigationlink/init(_:destination:isactive:)-3v44"><code>isActive</code></a>. But what do you do in a dynamic list? The solution I came up with is to create an array of bindings and grow it every time the number of items increases.</p>

<div><div><pre><code><span>final</span> <span>class</span> <span>ConsoleViewModel</span><span>:</span> <span>ObservableObject</span> <span>{</span>
    <span>@Published</span> <span>private(set)</span> <span>var</span> <span>messages</span><span>:</span> <span>[</span><span>MessageEntity</span><span>]</span>
    <span>@Published</span> <span>var</span> <span>isLinkActive</span><span>:</span> <span>[</span><span>Bool</span><span>]</span>

    <span>private</span> <span>func</span> <span>refresh</span><span>()</span> <span>{</span>
        <span>// ....</span>
        <span>messages</span> <span>=</span> <span>/* new array */</span>
        <span>if</span> <span>isLinkActive</span><span>.</span><span>count</span> <span>&lt;</span> <span>messages</span><span>.</span><span>count</span> <span>{</span>
            <span>isLinkActive</span> <span>+=</span> <span>Array</span><span>(</span><span>repeating</span><span>:</span> <span>false</span><span>,</span> <span>count</span><span>:</span> <span>messages</span><span>.</span><span>count</span> <span>-</span> <span>isLinkActive</span><span>.</span><span>count</span><span>)</span>
        <span>}</span>
    <span>}</span>

    <span>private</span> <span>func</span> <span>scrollToMatch</span><span>(</span><span>_</span> <span>match</span><span>:</span> <span>Match</span><span>)</span> <span>{</span>
        <span>selectedObjectId</span> <span>=</span> <span>match</span><span>.</span><span>objectID</span>
        <span>isLinkActive</span><span>[</span><span>match</span><span>.</span><span>index</span><span>]</span> <span>=</span> <span>true</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<div><div><pre><code><span>struct</span> <span>ConsoleMessageListView</span><span>:</span> <span>View</span> <span>{</span>
    <span>var</span> <span>body</span><span>:</span> <span>some</span> <span>View</span> <span>{</span>
        <span>List</span><span>(</span><span>messages</span><span>,</span> <span>rowContent</span><span>:</span> <span>makeListItem</span><span>)</span>
    <span>}</span>

    <span>private</span> <span>func</span> <span>makeListItem</span><span>(</span><span>message</span><span>:</span> <span>MessageEntity</span><span>)</span> <span>-&gt;</span> <span>some</span> <span>View</span> <span>{</span>
        <span>NavigationLink</span><span>(</span><span>destination</span><span>:</span> <span>DetailsView</span><span>(</span><span>message</span><span>),</span>
                       <span>isActive</span><span>:</span> <span>$</span><span>model</span><span>.</span><span>isLinkActive</span><span>[</span><span>row</span><span>.</span><span>index</span><span>])</span> <span>{</span>
            <span>ConsoleMessageView</span><span>(</span><span>message</span><span>)</span>
        <span>}</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>By the way, this is not the only way to navigate a list with a keyboard. By default, on macOS, List can also be navigated with “Up” and “Down” arrows!</p>

<blockquote>
  <p><code>List</code> is not great. The performance with a large number of items (10000+) is unacceptable. The reason is the diff-based mechanism used for computing animations that you can’t disable. There are other issues, for example the scroll bar sometimes starts jumping if the cell height is dynamic. If you are considering displaying a large number of items in a <code>List</code>, it most likely won’t be acceptable for you.</p>
</blockquote>
    
      <h2 id="text-view">
        
        
          Text View <a href="#text-view">#</a>
        
        
      </h2>



<p>A similar search is also available on a details screen. This is the only place (except for <code>NSSearchField</code>) where I had to use <code>AppKit</code> components directly. SwiftUI doesn’t yet have a wrapper for <code>NSTextView</code> (except for <a href="https://developer.apple.com/documentation/swiftui/texteditor"><code>TextEditor</code></a>, but it doesn’t support attributed strings that I needed for syntax highlighting). So I had to create one.</p>

<p>Now here is the question. Does it mean that SwiftUI is somewhat incomplete? Maybe. After all, text view is a common component. But SwiftUI is built on top of AppKit, it is not going anywhere. Just because I had to wrap two components doesn’t mean that SwiftUI was in the way. Quite the opposite! The AppKit integration works great.</p>
    
      <h2 id="deep-links">
        
        
          Deep Links <a href="#deep-links">#</a>
        
        
      </h2>



<p>Despite the rumors of SwiftUI’s lack of programmatic navigation, it exists.</p>

<p>One of the cool Pulse features is the ability to <em>pin</em> …</p></div></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://kean.blog/post/appkit-is-done">https://kean.blog/post/appkit-is-done</a></em></p>]]>
            </description>
            <link>https://kean.blog/post/appkit-is-done</link>
            <guid isPermaLink="false">hacker-news-small-sites-26252926</guid>
            <pubDate>Wed, 24 Feb 2021 17:39:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Deep Dive into Roam's Data Structure]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26252803">thread link</a>) | @todsacerdoti
<br/>
February 24, 2021 | https://www.zsolt.blog/2021/01/Roam-Data-Structure-Query.html | <a href="https://web.archive.org/web/*/https://www.zsolt.blog/2021/01/Roam-Data-Structure-Query.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div id="post-body-1500861823856164967">
<ul><li>Which are the longest paragraphs in your graph?</li><li>Which pages did you edit or create last week?</li><li>How many paragraphs of text do you have in your database in total?</li><li>Which pages do you have under a given namesapece (e.g. meetings/)?</li></ul> <p><a href="https://roamresearch.com/" target="_blank">Roam Research</a> is a full-featured database and you can ask it many more questions, beyond what is available via the {{[[query]]:}} function. This post should give you a good foundational understanding of the underlying data structure in Roam.&nbsp;</p><p>I have spent the last week deep-diving into Roam's data. I had lots of fun and I have learned a lot. This summary is for myself, as much as for anybody else, attempting to capture my understanding in writing. It is possible, that you will find this too technical. I am sorry for that. I will try my best to convey the information in a way that is easy to follow, building from the most basic concepts to the complex.</p><p>In the course of my explorations I have also built a set of query SmartBlocks and created several example queries which you can find <a href="#querySB">here</a>. Even if you don't want to understand the details, you may find running some examples interesting.</p><p>Through my deep-dive, my appreciation for Roam Research has grown significantly. I am ever more confident that Roam will scale.&nbsp;In a not-so-distant future, Roam will hold, in full-text, everything that I read. My notes, book and article summaries, etc. will conveniently reference back to the original source accessible with a single click within one system. The future of Roam is bright!</p><p>My work in this post builds on many extremely valuable articles and references. In particular, I would like to highlight the following. Once you have read my overview, if you thirst for more, I highly recommend checking these out as well.</p><ul><li><a href="http://www.learndatalogtoday.org/" target="_blank">Learn Datalog Today!</a>&nbsp;by Jonas Enlund</li><li><a href="https://www.putyourleftfoot.in/introduction-to-the-roam-alpha-api" target="_blank">Introduction to the Roam Alpha API - Put Your Left Foot</a></li><li><a href="https://davidbieber.com/snippets/2020-12-22-datalog-queries-for-roam-research/" target="_blank">Datalog Queries for Roam Research</a>&nbsp;by David Bieber</li><li><a href="https://docs.datomic.com/on-prem/query.html" target="_blank">Datomic Queries and Rules | Datomic</a></li><li><a href="https://www.infoq.com/articles/Datomic-Information-Model/" target="_blank">The Datomic Information Model (infoq.com)</a>&nbsp;by&nbsp;Rich Hickey, the author of Clojure and designer of Datomic</li><li><a href="https://roam42.glitch.me/common/commonDatalog.js" target="_blank">Roam42 Source Code</a>, by <a href="https://twitter.com/roamhacker" target="_blank">@RoamHacker</a></li><li><a href="https://clojuredocs.org/clojure.core">clojure.core namespace | ClojureDoc</a></li><li><a href="https://clojuredocs.org/clojure.string">clojure.string namespace | ClojureDocs</a></li></ul><p>You will find two things in this article that I couldn't find in any of the ones above:</p><ol><li>A detailed discussion of the very basics, including a comprehensive introduction of the basic Roam data structures.</li><li>A set of #42SmartBlocks to execute advanced queries right inside Roam. If you are not interested in the basics and want to look at the SmartBlock, <a href="#querySB">jump ahead</a>.</li></ol><p>Let's dive in! I hope you will enjoy the ride as much as I have!</p><p>Roam is built on a Datomic database. In simple terms, a Datom is an individual fact. It is an attribute with a value. Datoms consist of four elements:</p><ul><li>Entity ID</li><li>Attribute</li><li>Value</li><li>Transaction ID</li></ul><p>You can think of Roam as a flat set of Datoms that looks like this:</p><!--HTML generated using hilite.me--><div><pre>[<span>&lt;e-id&gt;</span>	<span>&lt;attribute&gt;</span>	<span>&lt;value&gt;</span>			<span>&lt;tx-id&gt;</span>  ]
<span>...</span>
[<span>4</span> 	<span>:block/children</span>	<span>5</span> 			<span>536870917</span>] 
[<span>4</span> 	<span>:block/children</span>	<span>9</span> 			<span>536870939</span>] 
[<span>4</span> 	<span>:block/uid</span> 	<span>"01-19-2021"</span> 		<span>536870916</span>] 
[<span>4</span> 	<span>:node/title</span> 	<span>"January 19th, 2021"</span> 	<span>536870916</span>] 
[<span>5</span> 	<span>:block/order</span> 	<span>0</span> 			<span>536870917</span>] 
[<span>5</span> 	<span>:block/page</span> 	<span>4</span> 			<span>536870918</span>] 
[<span>5</span> 	<span>:block/parents</span> 	<span>4</span> 			<span>536870918</span>] 
[<span>5</span> 	<span>:block/refs</span> 	<span>6</span> 			<span>536870920</span>] 
[<span>5</span> 	<span>:block/string</span> 	<span>"check [[Projects]]"</span> 	<span>536870919</span>] 
[<span>5</span> 	<span>:block/uid</span> 	<span>"r61dfi2ZH"</span> 		<span>536870917</span>] 
</pre></div>
<p>Datoms that share the <b>transaction-id</b>&nbsp;were added within the same transaction. Amongst others, this transactional approach makes it possible for Roam to synchronize content to your different devices and to manage complex undo operations.</p><p>Datoms that have the same <b>entity-id&nbsp;</b>are facts about the same block.</p><p>If you want to query the <b>entity-id</b> of a block, based on its block reference, you could write:</p><!--HTML generated using hilite.me--><div><pre>[<span>:find</span> <span>?e-id</span>
 <span>:where</span>
 [<span>?e-id</span> <span>:block/uid</span> <span>"r61dfi2ZH"</span>]]
</pre></div>
<p>Considering the data above, this query would return the value 5.</p><h2>Attributes</h2><p>Roam stores facts about <strong>paragraphs</strong> and <strong>pages</strong>&nbsp;using <code>:block/</code> attributes. There are few minor differences between <strong>pages</strong> and <strong>paragraphs</strong>&nbsp;that I will explain in a minute, however, the basic concept you must understand, is that a <strong>page</strong> is just a special type of <strong>block</strong>. Mostly, Roam treats a&nbsp;<strong>page</strong>&nbsp;exactly the same way as a <strong>paragraph. </strong>Both are <b>blocks.</b></p>
<h3>Blocks have 2 IDs</h3>
<p>Hidden ID:&nbsp;</p><ul><li>The <b>entity-id</b>&nbsp;is the real block-id, even though it is not visible through the Roam user interface. This is the ID that is used to tie information together in the database. The Entity ID identifies facts about a block, capturing parent-child relationships, and references to blocks.</li></ul>
<p>Public ID:</p>
<ul>
<li>Is the block reference of a <strong>paragraph</strong>, e.g.: <code>((GGv3cyL6Y))</code>, or</li>
<li>the <code>[[Page Title]]</code> for <strong>pages</strong>. Note that pages also have a nine-character long UID - very much like the block reference, you could use these, for example, for constructing URLs that point to specific pages in your graph.</li></ul><h3>Common attributes for all blocks</h3>
<p>Every block will have the following attributes:</p>
<table><tbody>
  <tr>
    <td><code>:block/uid</code></td><td>The public ID, i.e. nine-character long block reference.</td>
  </tr>
  <tr>
    <td><code>:create/email</code></td><td>The email address of the person who has created the block.</td>
  </tr>
  <tr>
    <td><code>:create/time</code></td><td>Time in milliseconds since epoch (January 1, 1970 midnight UTC/GMT).</td>
  </tr>
  <tr>
    <td><code>:edit/email</code></td><td>The email address of the person who has edited the block.</td>
  </tr>
  <tr>
    <td><code>:edit/time</code></td><td>The time the block was last edited.</td>
  </tr>
  </tbody></table>
<!--HTML generated using hilite.me--><div><pre>[<span>10</span> <span>:block/uid</span>		<span>"p6qzzKa-u"</span>     <span>536870940</span>]
[<span>10</span> <span>:create/email</span>	<span>"foo@gmail.com"</span> <span>536870940</span>]
[<span>10</span> <span>:create/time</span>	<span>1611058803997</span>   <span>536870940</span>]
[<span>10</span> <span>:edit/email</span>		<span>"foo@gmail.com"</span> <span>536870940</span>]
[<span>10</span> <span>:edit/time</span>		<span>1611058996600</span>   <span>536870949</span>]
</pre></div>
<h3 id="tree">Trees in the forest</h3>
<p>The <strong>Roam database is like a forest</strong>. Each page is a tree. The root of the tree is the page, the branches are the higher-level paragraphs; the leaves are the paragraphs at the deepest level of nesting on the page.</p>
<!--HTML generated using hilite.me--><div><pre>[[<span>Page</span>]]
<span>* </span><span>Branch</span>
  <span>* </span><span>Branch</span>
    <span>* </span><span>Leaf</span>
    <span>* </span><span>Leaf</span>
  <span>* </span><span>Leaf</span>
  <span>* </span><span>Branch</span>
    <span>* </span><span>Branch</span>
      <span>* </span><span>Leaf</span>
<span>* </span><span>Branch</span>
  <span>* </span><span>Leaf</span>
<span>...</span>
</pre></div>
<p>For every paragraph, Roam always creates two pointers. Children reference the <b>entity-id</b>&nbsp;of their parents using <code>:block/parents</code> and parents reference the <b>entity-id</b> of their children using <code>:block/children</code>.</p>
<!--HTML generated using hilite.me--><div><pre>[<span>4</span>	<span>:block/children</span>	<span>5</span>	<span>536870917</span>]
[<span>5</span>	<span>:block/parents</span>	<span>4</span>	<span>536870918</span>]</pre></div><p>
Parents keep a list of their children in the <code>:block/children</code> attribute. This list will <u>ONLY</u> include the <b>entity-id</b> of their immediate descendants, not the grandchildren. A page will only list the top-level paragraphs on the page as its children, but not the nested paragraphs. Similarly, a paragraph will only list blocks nested right under it, not the blocks nested under the nested blocks. The lowest level blocks in the nesting (the leaves) will have no <code>:block/children</code> attribute.</p>
<p>Children also keep a list of their parents in the <code>:block/parents</code> attribute. Contrary to <code>:block/children</code>, the list of parents includes the <b>entity-id</b> of <u>ALL</u> ancestors i.e. grandparents, great grandparents, etc. A nested paragraph will have references to the parent paragraph(s) and the page as well. The top-level paragraphs on a page have the <b>entity-id</b> of the page in the <code>:block/parents</code> attribute, while paragraphs nested under another paragraph will have the <b>entity-id</b> of the higher level paragraph and the <b>entity-id</b> of the page.</p><h3>Page-only attributes</h3>
<table><tbody>
  <tr>
    <td><code>:node/title</code></td><td>All pages will have a title, and no paragraphs will have one.</td>
  </tr>
</tbody></table>
<p>If you want to find all pages in your database, you need to query&nbsp;<code>:node/title</code> because this property will only hold value for pages. By executing the following query you will get a table with two columns: the <strong>entity-id</strong> of each page under&nbsp;<code>?p</code> and the title of each page under&nbsp;<code>?title</code>.</p>
<!--HTML generated using hilite.me--><div><pre>[<span>:find</span> <span>?p</span> <span>?title</span>
 <span>:where</span> [<span>?p</span> <span>:node/title</span> <span>?title</span>]]
</pre></div>
<p>If you would also want to see the nine-character UID for each page, for example, to construct a link to the page, you would need to find the <code>:block/uid</code>&nbsp;attribute associated with the <code>?p</code> <strong>entity-id</strong>. Here's how the query would look like. Note how <code>?p</code> appears in both patterns in the where clause. This tells the query engine to find the title and the uid for the same entity.</p>
<!--HTML generated using hilite.me--><div><pre>[<span>:find</span> <span>?p</span> <span>?title</span> <span>?uid</span>
 <span>:where</span> [<span>?p</span> <span>:node/title</span> <span>?title</span>]
        [<span>?p</span> <span>:block/uid</span> <span>?uid</span>]]
</pre></div>

<h3>Paragraph-only attributes&nbsp;</h3>
<p><b>Every paragraph will have the following attributes:</b></p>
<table><tbody>
  <tr>
    <td><code>:block/page</code></td><td>Every paragraph on a page regardless of their level of nesting will also reference the <b>entity-id</b> of their page.</td>
  </tr>
  <tr>
    <td><code>:block/order</code></td><td>This is the sequence of the block within the page or within their level of nesting under a paragraph. You will need to sort this value to retrieve the paragraphs in the proper sequence, as they appear in the document.</td>
  </tr>
  <tr>
    <td><code>:block/string</code></td><td>The contents of the block.</td>
  </tr>
    <tr>
    <td><code>:block/parents</code></td><td>The ancestors of the paragraph. For top-level paragraphs this is only the page. For nested paragraphs, this attribute lists all their ancestors leading up to (and including) the page.</td>
  </tr>
</tbody></table>
<p><b>Optional attributes:</b></p><p>Roam will only set these attributes (only exist in the database for the paragraph) if you change the value from the default for the specific block. e.g. you set the text alignment of the block from left aligned to centered.</p>
<table><tbody>
  <tr>
    <td><code>:children/view-type</code></td><td><p>Specifies how to display the block’s children. Recognized values are ‘bullet’, ‘document’, ‘numbered’.</p></td>
  </tr>
  <tr>
    <td><code>:block/heading</code></td><td>In case you set the heading level of the block to H1, H2, or H3. Allowed values of this are 1,2,3.</td>
  </tr>
  <tr>
    <td><code>:block/props</code></td><td><p>This is where Roam stores the sizing of an image or iframe, the position of the slider, the setting of the Pomodoro timer, etc.</p></td>
  </tr>
  <tr>
    <td><code>:block/text-align</code></td><td>Alignment of the paragraph. Values are 'left', 'center', 'right', 'justify'.</td>
  </tr>
</tbody></table>
<h3>The Roam data-structure</h3>
<p>If you are wondering how to find out what attributes exist in your database, I have good news! Using a simple query, you can list all the attributes in your database.</p>
<!--HTML generated using hilite.me--><div><pre>[<span>:find</span> <span>?Namespace</span> <span>?Attribute</span>
 <span>:where</span> [<span>_</span> <span>?Attribute</span>]
[(<span>namespace </span><span>?Attribute</span>) <span>?</span><span>Namespace</span>]]</pre></div>
<p>Below is the list. Truth be told, the query above will not sort the values, and will not create the last column. I have included the slightly more advanced version of the query, which will do the sorting, in the downloadable roam.json file. I found the <a href="https://clojuredocs.org/clojure.core/namespace" target="_blank">namespace</a> function in the <a href="http://clojure.core/" target="_blank">clojure.core</a> documentation.</p>
<table><tbody>
<tr><th>Namespace</th><th>Attribute</th><th>:Namespace/Attribute</th></tr>
<tr><td>attrs</td><td>lookup</td><td>:attrs/lookup</td></tr>
<tr><td>block</td><td>children</td><td>:block/children</td></tr>
<tr><td>block</td><td>heading</td><td>:block/heading</td></tr>
<tr><td>block</td><td>open</td><td>:block/open</td></tr>
<tr><td>block</td><td>order</td><td>:block/order</td></tr>
<tr><td>bloc…</td></tr></tbody></table></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.zsolt.blog/2021/01/Roam-Data-Structure-Query.html">https://www.zsolt.blog/2021/01/Roam-Data-Structure-Query.html</a></em></p>]]>
            </description>
            <link>https://www.zsolt.blog/2021/01/Roam-Data-Structure-Query.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26252803</guid>
            <pubDate>Wed, 24 Feb 2021 17:31:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[An encrypted message that has different meanings]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26252623">thread link</a>) | @_wldu
<br/>
February 24, 2021 | https://www.go350.com/posts/padder-a-one-time-pad-implementation/#decrypt-the-same-ciphertext-to-multiple-plaintexts | <a href="https://web.archive.org/web/*/https://www.go350.com/posts/padder-a-one-time-pad-implementation/#decrypt-the-same-ciphertext-to-multiple-plaintexts">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><a href="https://github.com/62726164/padder">Padder</a> can encrypt and decrypt small messages using <a href="https://en.wikipedia.org/wiki/One-time_pad">one-time pads</a>. It can also generate fake pads so that one encrypted message can be decrypted to multiple, different plaintexts.</p><h2 id="warning">Warning</h2><p>Padder should not be used in real-world situations that require encryption. It’s only intended for demonstration and experimentation. If you need strong message encryption, do not use padder. Use a well-regarded, open-source OpenPGP implementation such as <a href="https://gnupg.org/">GnuPG</a>.</p><h2 id="the-padder-character-set">The padder character set</h2><div><pre><code data-lang="bash">abcdefghijklmnopqrstuvwxyz0123456789-
</code></pre></div><h2 id="encrypt-a-message">Encrypt a message</h2><div><pre><code data-lang="bash">$ padder -e -m black -p e7vwd
CipherText: fhvyn
</code></pre></div><h2 id="decrypt-a-message">Decrypt a message</h2><div><pre><code data-lang="bash">$ padder -d -m fhvyn -p e7vwd
PlainText: black
</code></pre></div><h2 id="fake-message-and-pad-generation">Fake message and pad generation</h2><div><pre><code data-lang="bash">$ padder -f -m white -c fhvyn
FakePad: uanfj
</code></pre></div><h2 id="message-transmission">Message transmission</h2><p>The padder character set was selected specifically for message transmission over radio (HF, VHF, UHF). However, messages can be transmitted in other ways. Twitter, text messages, phone calls and website forums could all be used to send and receive messages. Encrypted messages could also be embedded in image tags, HTML, or some other inconspicuous place.</p><h2 id="decrypt-the-same-ciphertext-to-multiple-plaintexts">Decrypt the same ciphertext to multiple plaintexts</h2><p>The same one-time pad ciphertext can be decrypted to different plaintext messages by using different pads. This feature is useful for creating diversions. It may also provide for plausible deniability. This requires two (or more) sets of pads.</p><div><pre><code data-lang="bash">$ padder -d -m c2wrbumxvj8gob34mxn46pxg29a6kxnwfhcaam3en-hr-2v -p ryxrvqnlhz04icqq6eg56cuhg10vlx5dff3ba44wg6ic-kd
PlainText: we-are-moving-north-and-will-attack-at-the-pass

$ padder -d -m c2wrbumxvj8gob34mxn46pxg29a6kxnwfhcaam3en-hr-2v -p zifs6d9dgk36k94m9d5x77jhj277ip59gw9btmv4j7in-kc
PlainText: our-group-fled-south-to-the-city-we-sailed-east
</code></pre></div><h2 id="security-considerations-and-precautions">Security considerations and precautions</h2><p>Pads must be random, kept secret, only used once and destroyed immediately after use. Should the same pad be used to encrypt more than one message, those messages will be cracked. Should the pads become lost or stolen, then all the messages should be suspect.</p><p>You must assume that your opponent intercepts and stores all of your ciphertext messages indefinitely. They hope to somehow obtain the pads and decrypt the messages someday.</p><p>When used with appropriate procedures and precautions, one-time pad encrypted messages cannot be cracked. However, how the ciphertext message is sent and received may identify the communicating parties. This may or may not be an acceptable risk in your environment. For example, if a person posted a padder encrypted message to a Twitter account, the IP address, user name and date/time would be logged and stored. And, any IP address that read the message would be logged and stored too. Basically, any transmission method that uses a network (cellular, IP, etc.) may quickly reveal the location of the communicating parties.</p><p>Radio signals are directional and can be tracked. However, radio signals don’t rely on network infrastructure and require more expensive equipment and greater technical knowledge to track. With radio you only know the general time and direction from which the signal emanated. Also, it’s relatively easy to hide the source of radio signals when the transmitter is moving around in densely populated areas. The reception of radio signals cannot be tracked. Stations in range of the signal may relay the messages to stations out of range.</p><h2 id="notes">Notes</h2><ul><li><p>Plaintext messages, pads and ciphertext messages must only contain characters from the Padder Character Set. Capitalization, punctuation and spaces are not allowed. When creating plaintext messages, use the dash symbol ‘-’ rather than spaces to separate words. <strong>this-is-an-example-plaintext-message</strong></p></li><li><p>The pad must be as long or longer than the message. The sender and receiver should have the same numbered list of pads and know in which order to use them. There could be 31 pads for the month of January. The January 1st message would use pad number 1 for that day’s message.</p></li><li><p>One-time pad encrypted messages are not authenticated.</p></li><li><p>Padder is only intended for educational purposes and experimentation.</p></li></ul><ul><li><a href="https://www.go350.com/tags/encryption">encryption</a></li><li><a href="https://www.go350.com/tags/software">software</a></li></ul></div></div>]]>
            </description>
            <link>https://www.go350.com/posts/padder-a-one-time-pad-implementation/#decrypt-the-same-ciphertext-to-multiple-plaintexts</link>
            <guid isPermaLink="false">hacker-news-small-sites-26252623</guid>
            <pubDate>Wed, 24 Feb 2021 17:20:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[JPMorgan tests blockchain payments from space, but it’s no Blockstream]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26252595">thread link</a>) | @CoinPM
<br/>
February 24, 2021 | https://protos.com/jpmorgan-tests-blockchain-payments-from-space-but-its-no-blockstream/ | <a href="https://web.archive.org/web/*/https://protos.com/jpmorgan-tests-blockchain-payments-from-space-but-its-no-blockstream/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-2733">
<header>


</header>
<figure>
<img width="889" height="500" src="https://protos.com/wp-content/uploads/2021/02/Protos-Artwork-JPMorgan.jpg" alt="blockchain, jpmorgan" loading="lazy" srcset="https://protos.com/wp-content/uploads/2021/02/Protos-Artwork-JPMorgan.jpg 1920w, https://protos.com/wp-content/uploads/2021/02/Protos-Artwork-JPMorgan-300x169.jpg 300w, https://protos.com/wp-content/uploads/2021/02/Protos-Artwork-JPMorgan-1024x576.jpg 1024w, https://protos.com/wp-content/uploads/2021/02/Protos-Artwork-JPMorgan-768x432.jpg 768w, https://protos.com/wp-content/uploads/2021/02/Protos-Artwork-JPMorgan-1536x864.jpg 1536w" sizes="(max-width: 889px) 100vw, 889px">

</figure>
<main>
<div>
<p>JPMorgan Chase reckons its blockchain applications are “close to generating revenues,” <a href="https://www.reuters.com/article/us-jpmorgan-blockchain-space/jpmorgans-blockchain-payments-test-is-literally-out-of-this-world-idUSKBN2AO1GL?il=0" target="_blank" rel="noreferrer noopener">reports Reuters</a>.</p>
<p>To drum up interest in those applications, JP Morgan recently tested blockchain-powered payments <strong>using satellites</strong> orbiting Earth.</p>
<p>The idea: perform <strong>decentralization theatre</strong> for corporates — from space.</p>
<p><a href="https://www.gartner.com/en/documents/3987602/hype-cycle-for-the-internet-of-things-2020" target="_blank" rel="noreferrer noopener">Internet of Things</a> (IoT) refers to the array of smart devices that LinkedIn influencers say could one day <strong>seamlessly communicate</strong> (and transact) with each other.</p>
<p>And if smart fridges and speakers are exchanging real value in the future, then banks will assuredly <strong>wedge themselves between</strong> and charge fees.</p>
<figure><p>
<iframe title="JP Morgan to launch its own cryptocurrency" width="500" height="281" src="https://www.youtube.com/embed/s9OyTgYLeG4?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</p><figcaption>Throwback to 2019.</figcaption></figure>
<p>Enter Onyx, JPMorgan’s <a href="https://www.cnbc.com/2020/10/27/jpmorgan-creates-new-unit-for-blockchain-projects-as-it-says-the-technology-is-close-to-making-money.html" target="_blank" rel="noreferrer noopener">blockchain arm</a>. The unit’s chief exec Umar Farooq told Reuters its satellite tests were meant to&nbsp; “explore IoT payments in a fully decentralized way,” and that “nowhere is more decentralized and detached from Earth than space.”</p>
<h2 id="h-jpmorgan-makes-the-blockchain-rules">JPMorgan makes the blockchain rules</h2>
<p>While technically true, it’s disingenuous to suggest paying a Danish satellite company to temporarily run a node for a private DLT system “decentralizes” anything — purely because of the distance between it and Jamie Dimon’s office toilet.</p>
<p>Public blockchains like <a href="https://protos.com/square-bitcoin-jack-dorsey-whitepaper-craig-wright-crypto/" target="_blank" rel="noreferrer noopener">Bitcoin</a> and <a href="https://protos.com/ethereum-name-service-ens-whale-deposits-crypto-darkmarket/" target="_blank" rel="noreferrer noopener">Ethereum</a> are decentralized not because of the space between nodes, but because <strong>anyone at all can participate</strong> in the network, and even <em>change it</em>.</p>
<figure><div>
<blockquote data-width="500" data-dnt="true"><div lang="en" dir="ltr"><p>so what's the sweet spot between:<br>– fast vs secure txns<br>– cheap vs inexpensive txns<br>– centralized vs decentralized<br>– scalable vs inelastic<br>– immutable vs mutable</p><p>we are still trying to figure that out</p><p>all comes back to the Blockchain Trilemma as discussed by <a href="https://twitter.com/VitalikButerin?ref_src=twsrc%5Etfw">@VitalikButerin</a> <a href="https://t.co/8Grm4m2dLJ">pic.twitter.com/8Grm4m2dLJ</a></p></div>— Josh Olszewicz (@CarpeNoctom) <a href="https://twitter.com/CarpeNoctom/status/1106244711256412162?ref_src=twsrc%5Etfw">March 14, 2019</a></blockquote>
</div></figure>
<p>In fact, if enough participants want to <strong>modify the network’s rules</strong>, they can, as long as a majority agrees.</p>
<p>This is decentralization. What JP Morgan is performing decentralization <em>theatre</em>, a practice <a href="https://cointelegraph.com/news/crypto-community-slams-binance-smart-chain-over-centralization" target="_blank" rel="noreferrer noopener">recently perfected</a> by Binance’s Changpang Zhao via Binance Smart Chain.</p>
<p>If Onyx wanted sudden changes to its space-compatible DLT, it could make them — <strong>single-handedly</strong> — and if Onyx felt like reversing or rolling back hypothetical transactions between your Alexa and smart fridge, it could.&nbsp;</p>
<p>In any case, there <strong>already exists</strong> a better example of satellites in a <em>truly</em> decentralized blockchain with Bitcoin.</p>
<p>Bitcoin development giant Blockstream maintains an actual satellite network that <a href="https://blockstream.com/satellite/" target="_blank" rel="noreferrer noopener">beams the entire</a> Bitcoin blockchain to Earth.</p>
<figure></figure>
<p>Unlike JPMorgan’s faux-decentralization, Blockstream’s satellites allow <em>anyone </em>to use Bitcoin <strong>without permission</strong> — especially useful in areas with strict internet censorship.</p>
<p>You can read more about <a href="https://blog.bitmex.com/bitcoin-satellite/" target="_blank" rel="noreferrer noopener">Blockstream’s satellite system here</a>.</p>
</div>
</main>
</article></div>]]>
            </description>
            <link>https://protos.com/jpmorgan-tests-blockchain-payments-from-space-but-its-no-blockstream/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26252595</guid>
            <pubDate>Wed, 24 Feb 2021 17:18:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[So, You Want to Understand Monads?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26252589">thread link</a>) | @inabind
<br/>
February 24, 2021 | https://betterprogramming.pub/so-you-want-to-understand-monads-36ba110b8991?sk=469d3fb2f4b8ce90b4691a1d1ac1c061 | <a href="https://web.archive.org/web/*/https://betterprogramming.pub/so-you-want-to-understand-monads-36ba110b8991?sk=469d3fb2f4b8ce90b4691a1d1ac1c061">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><div><div><div><h2 id="bea8">An intuitive explanation of an unnecessarily perplexing functional programming concept</h2><div><div><div><div><a href="https://mendhekar.medium.com/?source=post_page-----36ba110b8991--------------------------------" rel="noopener"><div><p><img alt="Anurag Mendhekar" src="https://miro.medium.com/fit/c/96/96/0*j0UuzkCUz3yfn4Jt" width="48" height="48"></p></div></a></div></div></div></div></div><figure><div role="button" tabindex="0"><div><div><p><img alt="Coding setup" src="https://miro.medium.com/max/7910/0*FR0OwacLpVc8ttTO" width="3955" height="3164" srcset="https://miro.medium.com/max/552/0*FR0OwacLpVc8ttTO 276w, https://miro.medium.com/max/1104/0*FR0OwacLpVc8ttTO 552w, https://miro.medium.com/max/1280/0*FR0OwacLpVc8ttTO 640w, https://miro.medium.com/max/1400/0*FR0OwacLpVc8ttTO 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/0*FR0OwacLpVc8ttTO?q=20"></p></div></div></div><figcaption>Photo by <a href="https://unsplash.com/@pakata?utm_source=medium&amp;utm_medium=referral" rel="noopener">Pakata Goh</a> on <a href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener">Unsplash</a>.</figcaption></figure><p id="32b8">I was just reading an article in which a poor soul was trying really hard to explain to the reader what a monad is and failing miserably because he himself did not truly understand it. Out of mostly a desire to help him, I thought it might make sense to write an article that allows people to understand the <em>intuition</em> behind monads first without going into crazy functional language syntax.</p><p id="bf0a">Whether or not I have succeeded in doing this is for you to judge, but let us jump right in.</p><p id="d762">I first encountered monads when they were introduced by Eugenio Moggi as a way to structure the semantics of programming languages. The formulation was elegant and clearly gave a nice mathematical shape to a very large class of programming language constructs that, until then, were only dealt with in isolation.</p><p id="ff7c">What Moggi brought forth in <a href="https://person.dibris.unige.it/moggi-eugenio/ftp/ic91.pdf" rel="noopener">that paper</a> (if you can abide the mathematics) was a depth of understanding of computation that only comes by once in a generation. Yes, it is a <em>deeply</em> intuitive paper that maps computer science intuition to solid mathematical foundations. I’m going to leave much of the mathematics out of the exposition here, but I do hope to impart the intuition.</p><p id="1f8a">Let’s start with a very simple expression: <code>getc()</code>. C programmers might recognize this as similar to a function you would call to get one character from a file. Instead of a file here, assume it is getting one character from the keyboard. It’s a simple function that produces a single character. You can use this function anywhere a character expression can be used (i.e. it nominally has the type <code>char</code>). So, for example, if we wanted to check if the user pressed the key <em>q</em>, we could do <code>(getc() == ‘q’)</code>.</p><p id="b9e6">But computationally speaking, <code>getc()</code> is anything but a simple <code>char</code>. It involves a complex set of interactions with the environment outside the program, including the operating system, the hardware, and the user. When we’re thinking about programs, the traditional wisdom (as inherited from the λ-calculus) is to only reason about values. This is fine when you’re dealing with entities entirely inside the program. But <code>getc()</code> here is forcing us to encounter the fact that there is an entire world outside the program that we must also deal with. It brings with it the fact that I/O operations can fail, or that they don’t always produce the same value, and the fact that the user may not ever press a key at all.</p><p id="027f">This is where part 1 of Moggi’s genius comes in. He intuited that a value is qualitatively different from the computation that produces the value. In other words, <code>getc()</code><strong> </strong>is a <em>computation </em>that produces a<em> </em><code>char</code> and<em> should not be conflated </em>with a<em> </em><code>char</code><em>.</em></p><p id="5eba">So, rather than give <code>getc()</code> the type <code>char</code>, let us give it the type <code>T[char]</code>, which is short for saying that it is a compu<strong>T</strong>ation (or a process) that produces a <code>char</code>. At first, this seems like a step backwards. Now we cannot use <code>getc()</code><strong> </strong>in all the places we could have used a <code>char</code>, so <code>(getc() == ‘q’)</code> is no longer correct since the types on either side of the <code>==</code> are different. What are we to do now?</p><p id="ca74">Let me introduce you to a new pair of words: <em>injection</em> and <em>projection</em>. When we take a value of type <code>char</code> and embed it within another type, like <code>T[char]</code>, it is known as an <em>injection</em>. The inverse of an injection is known as a <em>projection</em>. This is where we extract the injected value out of the embedding. In other words, we project the <code>char</code> out of the <code>T[char]</code>. In general, injection and projection are always designed to be inverses of each other: They compose to the identity function.</p><p id="2c33">So, will a projection operator now allow us to get the <code>char</code> out of the <code>T[char]</code>? What does this projection even look like? For a computational process like <code>getc()</code>, we “project<em>”</em> out of <code>T[char]</code> by waiting for the I/O call to terminate, present the value, and then just work with value, using it like we would use another char and any other value derived from it. Once we are out of computation-land and in value-land, however, we have now completely glossed over the fact that there is a whole computation that produced the value and puts us back where we started (i.e., unable to hold on to the outside world that <code>getc()</code> dragged us into. )</p><p id="8b86">This is where part 2 of Moggi’s genius kicks in. He proposed a somewhat limited projection operator that he called <code>let</code> with which we can rewrite our simple test above somewhat like this (this is not the final form, but it’s a good place to start):</p><pre><span id="cb60">let c = getc() in (c == ‘q’)</span></pre><p id="0865">Let me break this down a bit. Here, <code>c</code> has the type <code>char</code> — not <code>T[char]</code>.<strong> </strong>The job of this <code>let</code> here is to project the <code>char</code> out of the <code>T[char]</code>, bind it to the name <code>c</code>, and allow it to be used as a <code>char</code> in the body (the expression after the <code>in</code>). In this case, projection means waiting for <code>getc()</code> to return a character.</p><p id="b1aa">If <code>let</code> were performing a standard projection operation, this expression would produce a boolean at the end. This whole expression, however, <em>still</em> has an I/O operation (i.e. a computation) involved in producing this boolean. This means that this expression does not really represent a boolean but is a <em>computation</em> that produces a boolean. So the right thing to do is to give this whole <code>let</code> expression the type <code>T[boolean]</code>, which means that the body of the <code>let</code> must return the type <code>T[boolean]</code>.</p><p id="afc1">In Moggi’s formulation, this type is <em>required</em> for all projecting <code>let</code><strong> </strong>expressions and is enforced by the type-checker. To make sure we can meet this requirement, we introduce an operator, <code>η</code>, whose sole purpose is to inject a value of type <code>τ</code> into <code>Τ[<em>τ</em>]</code><strong>. </strong>It forces us to remember that this value was generated from a computation. So we rewrite the <code>let</code> above like this:</p><pre><span id="207f">let c = getc() in η(c == ‘q’)</span></pre><p id="708a">Now, the type of this expression is <code>T[boolean]</code>. In general, this means that the fact that a value was generated from a computation is never forgotten. If we must use the value produced by this <code>let</code> elsewhere, we must remember that it was a <code>T[boolean]</code>. To extract this boolean, we would need another <code>let</code>, and whose body would be <code>T[something]</code> and so on. If you’ve understood this paragraph and want to show off to your friends, throw the words “associativity law of monads” around.</p><p id="d5e1">Taking this to its logical conclusion, any program using a computation finally always produces an answer of the type <code>T[x]</code><strong> </strong>instead of a value of the type <code>x</code>. The dirty little secret of monads is that there is one final projection that we need to do to actually extract the <code>x</code> out of the <code>T[x]</code>. In practice, each <code>T</code> is always accompanied by such a projection operation, but it must be used only in very clearly identified areas where we no longer seek to retain computational properties of <code>T[]</code>.</p><p id="b249">The type <code>T[]</code>, along with the accompanying <code>η</code>, and <code>let</code> is the monad (also sometimes given the juicy name of “Kleisli triple”). The actual name comes from a category-theoretic structure that formalizes this idea in more math than most people need to know. That’s it. While <code>T[]</code> is a stand-in for computations involving I/O in our case, it can stand in for a wide range of different types of computations that we’ll see below.</p><p id="3de8">That’s all there is to monads. The purpose of this formulation is that it clearly partitions the ill-behaved world of computations into the bindings (the part of the <code>let</code> before the <code>in</code> which binds names to values projected out of computations) of the <code>let </code>and the well-behaved functional world in the body of the <code>let</code>. The world inside the bindings is full of the uncertainties associated with the bindings, but the world inside the body is clean and yet preserves the fact that the values were derived from computations.</p><p id="de70">So even though I have “effects” (which is the name we give to these computations) in my program, I can reason about most of the program without giving too much thought to the effects because they are now nicely packaged in <code>T[]</code>. The rules of <code>let</code> don’t let me forget when I’m dealing with a computation and when I’m dealing with a value produced by that computation.</p><p id="58a1">The range of computations that can be treated like this is large. I/O is one example above. Another frequently used computation type is “Uncertainty” in the sense that a value may or may not exist. For example, you may be looking up a key in a hash table that may or may not be found. This type of computation is packaged into the <code>Option</code> monad. The way to think about this is that if the <code>let</code> encounters non-existence while extracting the value out of the computation (i.e. the hash table does not have the key we’re looking for), the entire <code>let</code> will be non-existent. Otherwise, when the value exists, the body of the <code>let</code> will have a value as well. In <code>Option</code>, injection of a value (<code>η</code>) is done using <code>Some</code> in Scala or <code>Just</code> in Haskell. Other primitives (such as the <code>get</code> from a hash table, which, in this case, is analogous to <code>getc</code>) automatically produce a value in <code>Option</code>.</p><p id="dba4">Another commonly used computation type is “Asynchronous.” In this case, the computation is occurring asynchronously — possibly in another system altogether (such as a database) — and this computation is going to generate the value of interest. This type of computation is typically packaged as the <code>Future</code> monad. The <code>Future</code> represents a computation that will produce the value we will get eventually. The binding in the <code>let</code> waits for the computation to produce this value and only evaluates the body when the value is ready. Moreover, the <code>let</code> as a whole now represents a computation that will, at some point, produce the value in the body of the <code>let</code>. In keeping with our idea of how <code>let</code> works, the <code>let</code> expression is itself a <code>Future</code>.</p><p id="e308">This is a very clean way to structure programs that include effects. Moggi used it to define the semantics of effects like mutable state, continuations etc., but it was Phil Wadler who <a href="http://homepages.inf.ed.ac.uk/wadler/papers/marktoberdorf/baastad.pdf" rel="noopener">extended</a> their use to functional programming. Along with Simon Peyton Jones and others, he led their incorporation into Haskell. Subsequently, they have been incorporated into many other programming …</p></div></div></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://betterprogramming.pub/so-you-want-to-understand-monads-36ba110b8991?sk=469d3fb2f4b8ce90b4691a1d1ac1c061">https://betterprogramming.pub/so-you-want-to-understand-monads-36ba110b8991?sk=469d3fb2f4b8ce90b4691a1d1ac1c061</a></em></p>]]>
            </description>
            <link>https://betterprogramming.pub/so-you-want-to-understand-monads-36ba110b8991?sk=469d3fb2f4b8ce90b4691a1d1ac1c061</link>
            <guid isPermaLink="false">hacker-news-small-sites-26252589</guid>
            <pubDate>Wed, 24 Feb 2021 17:18:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Our closest neighbor, Alpha Centauri A, may have a planet in its habitable zone]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26252563">thread link</a>) | @tectonic
<br/>
February 24, 2021 | https://orbitalindex.com/archive/2021-02-24-Issue-105/#does-a-planet-orbit-alpha-centauri-a-in-its-habitable-zone | <a href="https://web.archive.org/web/*/https://orbitalindex.com/archive/2021-02-24-Issue-105/#does-a-planet-orbit-alpha-centauri-a-in-its-habitable-zone">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><td id="templateBody"><div> <!--[if mso]><table align="left" border="0" cellspacing="0" cellpadding="0" width="100%" style="width:100%;"><tr> <![endif]--> <!--[if mso]><td valign="top" width="600" style="width:600px;"> <![endif]--><div><p><strong id="this-week-marks-two-years-since-we-started-writing-the-orbital-index">This week marks <em>two years</em> since we started writing The Orbital Index!</strong>&nbsp;<br> &nbsp;</p><p>It’s been an exceptionally rewarding and educational experience. Here are a few favorites from our last 104 issues:</p><ul><li> <a href="https://orbitalindex.com/archive/2019-02-26-archive-Issue-1/" target="_blank">Issue No. 1</a>, our first issue ever! 🆕</li><li>In <a href="https://orbitalindex.com/archive/2020-01-23-Issue-48/" target="_blank">Issue No. 48</a> we took a deep dive into climate change and how it relates to space. 🌍</li><li>Andrew’s fav: <a href="https://orbitalindex.com/archive/2019-12-10-Issue-42/" target="_blank">Issue No. 42</a>, about how you can get involved with space exploration and the CRS-19 launch (which he was thrilled to attend!) 🚀</li><li>Ben’s pick: <a href="https://orbitalindex.com/archive/2020-02-06-Issue-50/" target="_blank">Issue No. 50</a>, all about asteroids and them running into things ☄️</li><li>And, <a href="https://orbitalindex.com/archive/2019-07-16-Issue-21/" target="_blank">Issue No. 21</a> about the Apollo 50th anniversary! 🧑‍🚀</li></ul>We’re now hoping to build on our foundation of nearly 5,000 subscribers (thank you!) to make the newsletter sustainable long term. With this in mind, we’d like to ask you a couple of questions:&nbsp;<ol><li> <em>Would you be up for sponsoring the newsletter </em><a href="https://forms.gle/G7ERxAqjuSDBy8gCA" target="_blank"><em>as an individual</em></a><em> or </em><a href="https://forms.gle/1pvtSdp6hBFYN7VY9" target="_blank"><em>as a business</em></a><em>?</em></li><li> <em>Would you <a href="http://us20.forward-to-friend.com/forward?u=e215b9e6f9a105b2c34f627a3&amp;id=245c4e1273&amp;e=%5BUNIQID%5D" target="_blank">share The Orbital Index</a> with (at least) two friends or colleagues? (handy forward link is right there, but social media works too) </em>🙏</li></ol><p>☙✶❧</p></div><!--[if mso]> <![endif]--> <!--[if mso]></table><![endif]--></div><div> <!--[if mso]><table align="left" border="0" cellspacing="0" cellpadding="0" width="100%" style="width:100%;"><tr> <![endif]--> <!--[if mso]><td valign="top" width="600" style="width:600px;"> <![endif]--><div><p><a href="#percy-has-arrived">¶</a><strong id="percy-has-arrived">Percy has arrived.</strong> As you almost certainly already know, on Thursday, NASA’s $2.7-billion, 1,025 kg science laboratory-on-wheels landed successfully in Jezero Crater. There it will spend the next few years (and hopefully the next decade) <a href="https://www.jpl.nasa.gov/news/searching-for-life-in-nasas-perseverance-mars-samples" target="_blank">looking for signs of ancient life</a> in the 3.5 billion-year-old remains of a Lake Tahoe-sized lakebed, associated river delta system, and nearby terrain. Some of the region outside the crater is <a href="https://www.psi.edu/epo/explorecraters/impactbreccias.htm" target="_blank">brecciated</a> from massive impacts, while other parts have igneous lava flows to explore—<a href="https://www.dlr.de/content/en/articles/news/2021/01/20210216_look-at-the-geological-context-of-the-mars-2020-landing-site.html" target="_blank">here’s a bunch more about the geology of the region</a>. Percy’s entirely autonomous descent involved 76 pyrotechnic devices, 16 rocket engines, 10Gs of deceleration at <a href="https://en.wikipedia.org/wiki/Communications_blackout#Spacecraft_reentry" target="_blank">plasma blackout</a>, the largest supersonic parachute ever, and a jeep-sized rover descending from a hovering skycrane on nylon cables. It went flawlessly, while those back home waited 11 minutes for light to crawl between the planets and let us know. (Meanwhile, Andrew can’t reliably get wifi from his office to his living room.) Percy will <a href="https://www.scientificamerican.com/article/the-first-100-days-on-mars-how-nasas-perseverance-rover-will-begin-its-mission/" target="_blank">spend a little while</a> getting its bearings, calibrating its instruments, aligning its high-gain direct-to-Earth antenna, and then start <a href="https://mars.nasa.gov/mars2020/spacecraft/instruments/" target="_blank">zapping, ranging, imaging, sampling, and listening to Mars</a>. <a href="https://twitter.com/NASAJPL/status/1363930124547022848" target="_blank">You absolutely <em>have</em> to watch the POV video of the landing</a>.</p></div><!--[if mso]> <![endif]--> <!--[if mso]></table><![endif]--></div><div> <!--[if mso]><table align="left" border="0" cellspacing="0" cellpadding="0" width="100%" style="width:100%;"><tr> <![endif]--> <!--[if mso]><td valign="top" width="600" style="width:600px;"> <![endif]--><div><p><a href="#ingenuity">¶</a><strong id="ingenuity">Ingenuity. </strong>Tucked underneath Percy is Ingenuity, a 1.8 kg, $80-million autonomous helicopter. Its counter-rotating carbon-fiber blades are tuned to move about as quickly as they can—their <a href="https://www.theverge.com/2020/7/29/21339544/nasa-mars-helicopter-ingenuity-perseverance-rover-flight-date" target="_blank">tips will be moving at around 70% the speed of sound in the Martian atmosphere</a> (~240 m/s), which is about 1% the density of Earth’s. <a href="https://twitter.com/ginnyhelicopter?s=21" target="_blank">Ginny</a> carries two cameras, <a href="https://www.sparkfun.com/products/14032" target="_blank">a laser altimeter from SparkFun</a>, and no scientific instruments—its singular mission is to demonstrate the first powered flight of an aircraft on another planet. Ingenuity runs Linux (for the first time on Mars) and uses the <a href="https://github.com/nasa/fprime" target="_blank">open-source F' software framework</a> on a 2.26 GHz quad-core Snapdragon 801 processor. Radiation hardened processors aren’t fast enough for the real-time vision requirements of the experiment—but as an unprotected COTS processor, it will fail periodically due to radiation-induced bit flips, possibly as much as every few minutes. NASA’s solution is to use a radiation-tolerant FPGA ProASIC3 to keep an eye on the CPU (<a href="https://trs.jpl.nasa.gov/bitstream/handle/2014/46229/CL%2317-6243.pdf" target="_blank">paper</a>) and software that attempts to double-check operations as much as possible. “<a href="https://news.ycombinator.com/item?id=26181763" target="_blank"><em>[I]f any difference is detected they simply reboot. Ingenuity will start to fall out of the sky, but it can go through a full reboot and come back online in a few hundred milliseconds to continue flying.</em></a>” We talked about Ingenuity in <a href="https://orbitalindex.com/archive/2020-05-12-Issue-64/#and-let-s-talk-about-that-mars-2020-helicopter" target="_blank">more detail in Issue No. 64</a>. The first flight may be in about 30 sols. Next stop: <a href="https://www.nasa.gov/press-release/nasas-dragonfly-will-fly-around-titan-looking-for-origins-signs-of-life" target="_blank">Titan</a>.</p></div><!--[if mso]> <![endif]--> <!--[if mso]></table><![endif]--></div><div> <!--[if mso]><table align="left" border="0" cellspacing="0" cellpadding="0" width="100%" style="width:100%;"><tr> <![endif]--> <!--[if mso]><td valign="top" width="600" style="width:600px;"> <![endif]--><p> <a href="#does-a-planet-orbit-alpha-centauri-a-in-its-habitable-zone">¶</a><strong id="does-a-planet-orbit-alpha-centauri-a-in-its-habitable-zone">Does a planet orbit Alpha Centauri A in its habitable zone?</strong> First, a quick primer on the confusing Alpha Centauri triple star system, our closest stellar neighbor at 4.37 light-years away. Alpha Centauri A and B are Sun-like stars that orbit each other with a period of 80 years, forming the binary system known as Alpha Centauri AB. Meanwhile, Alpha Centauri C (aka Proxima Centauri) is a faint red dwarf star that slowly orbits the AB duo 0.21 light-years away. We already know that <a href="https://en.wikipedia.org/wiki/Proxima_Centauri_b" target="_blank">Proxima Centauri has a planet in its habitable zone</a>, but the planet is likely tidally locked and orbits a flare-prone star, so it’s probably not a great place to find life. Tantalizingly, there’s now early evidence that Alpha Centauri A <a href="https://www.scientificamerican.com/article/is-it-a-planet-astronomers-spy-promising-potential-world-around-alpha-centauri/" target="_blank">might also have a ‘warm Neptune’ or super-Earth planet in its habitable zone</a> (<a href="https://www.nature.com/articles/s41467-021-21176-6" target="_blank">paper</a>). If confirmed (<a href="https://www.syfy.com/syfywire/have-astronomers-finally-found-a-planet-around-alpha-centauri-maaaaaaaaaybe" target="_blank">it could just be dust or noise</a>), this would be the first direct imaging of a planet in a habitable zone, made possible by the <a href="https://www.eso.org/public/teles-instr/paranal-observatory/vlt/vlt-instr/visir/" target="_blank">VISIR mid-infrared spectrometer</a> on the 8.2-meter Very Large Telescope in Chile. The research project, called <a href="https://www.eso.org/sci/activities/vltsv/nearsd.html" target="_blank">NEAR</a>, looks for planets’ blackbody thermal emissions in a tight 10-micron infrared band while blotting out most of their stars’ light with a coronagraph. It was funded by Breakthrough Watch (which is part of the Yuri Milner-funded Breakthrough Initiatives that also hopes to <a href="https://breakthroughinitiatives.org/initiative/3" target="_blank">laser-accelerate a probe to the Alpha Centauri system sometime ‘soon’</a>). NEAR has the only coronagraph on Earth that could potentially image this planet today, but JWST, the Nancy Grace Roman Space Telescope, and a bunch of upcoming ground-based coronagraphs should usher in a new era of direct exoplanet imagery and atmosphere analysis. This is all very exciting because certain atmospheric compositions could be strong indicators of life—<a href="https://www.nap.edu/read/25252/chapter/6" target="_blank">such as methane</a>, or even <a href="https://arxiv.org/abs/2102.05027" target="_blank">pollution</a>—although <a href="https://briankoberlein.com/blog/scale-of-life/" target="_blank">confirming any detection will be incredibly hard</a>.</p><!--[if mso]> <![endif]--> <!--[if mso]></table><![endif]--></div><div> <!--[if mso]><table align="left" border="0" cellspacing="0" cellpadding="0" width="100%" style="width:100%;"><tr> <![endif]--> <!--[if mso]><td valign="top" width="600" style="width:600px;"> <![endif]--><p> <a href="#news-in-brief">¶</a><strong id="news-in-brief">News in brief.&nbsp;</strong><a href="https://www.cnbc.com/2021/02/16/elon-musks-spacex-raised-850-million-at-419point99-a-share.html" target="_blank">SpaceX raised an additional $850 million</a>, valuing the company at $74 billion, 60% more than last August's $46 billion valuation—Musk also shared that Starlink will require an investment of $10 billion, but could generate $30 billion annually; SpaceX also <a href="https://twitter.com/bocachicagal/status/1364352262160572421?s=21" target="_blank">hot fired Starship SN10</a>—launch could happen in the next week if data looks good; <a href="https://blogs.nasa.gov/artemis/2021/02/18/green-run-update-sls-team-finalizing-preparations-for-second-hot-fire-test/" target="_blank">NASA is planning to repeat their SLS hot fire test on the 25th</a>, with <a href="https://blogs.nasa.gov/artemis/2021/01/29/green-run-update-nasa-proceeds-with-plans-for-second-hot-fire-test/" target="_blank">less conservative test parameters</a> (the test will require at least 250 seconds to pass requirements); the Russian <a href="https://blogs.nasa.gov/spacestation/2021/02/17/russian-cargo-craft-arrives-u-s-space-freighter-launches-saturday/" target="_blank">Progress 77</a> and <a href="https://spaceflightnow.com/2021/02/20/antares-rocket-launches-heavy-cargo-load-to-international-space-station/" target="_blank">Northrop Grumman ‘S.S. Katherine Johnson’ Cygnus</a> resupply ships both launched to the ISS, the latter carrying a record quantity of cargo, including an experimental brine processor to convert urine into drinking water, a commercial experiment to <a href="http://www.lambdavision.com/" target="_blank">manufacture artificial retinas</a>, and <a href="https://www.nasa.gov/mission_pages/station/research/news/ng-15-science-highlights" target="_blank">a bunch more</a>; <a href="https://spacenews.com/nasa-delays-launch-of-planetary-defense-mission/" target="_blank">DART’s launch was delayed to November</a>, but it won’t affect its arrival date at Didymos; <a href="https://apnews.com/article/european-space-agency-seeks-diversity-eff64abb2d2409e7a3eff440f8c033cd" target="_blank">ESA launched the Parastronaut Feasibility Project</a>, a program enabling people with lower leg disabilities to become astronauts, and is also seeking more female astronauts; <a href="https://spacenews.com/russia-china-to-sign-agreement-on-international-lunar-research-station/" target="_blank">Russia is moving towards</a> joining <a href="https://spacenews.com/china-is-aiming-to-attract-partners-for-an-international-lunar-research-station/" target="_blank">China’s proposed lunar base</a> instead of joining the Artemis Accords and Lunar Gateway; and, the Inspiration4 mission <a href="https://www.businesswire.com/news/home/20210222005280/en/World" target="_blank">named its first additional crew member</a>, Hayley Arceneaux, a cancer survivor and physician assistant at St Jude hospital.<br> &nbsp;</p><!--[if mso]> <![endif]--> <!--[if mso]></table><![endif]--></div><div> <!--[if mso]><table align="left" border="0" cellspacing="0" cellpadding="0" width="100%" style="width:100%;"><tr> <![endif]--> <!--[if mso]><td valign="top" width="600" style="width:600px;"> <![endif]--><div> <a href="#etc">¶</a><strong id="etc">Etc.</strong><ul><li>A <a href="https://www.scientificamerican.com/article/how-nasa-aims-to-achieve-perseverances-high-stakes-mars-landing/" target="_blank">recent SciAm article</a> discussing JPL’s shrinking landing ellipses. The Viking missions had a target landing ellipse of 300 km x 100 km, Spirit and Opportunity brought that down to 150x20 km, Curiosity introduced active steering and a 20x7 km target, and now with <a href="https://astronomy.com/news/2021/02/nasas-mars-rover-landing-today-is-a-feat-of-perseverance" target="_blank">Range Trigger</a> and <a href="https://mars.nasa.gov/mars2020/mission/technology/#Terrain-Relative-Navigation" target="_blank">Terrain Relative Navigation</a> (TRN), Perseverance’s landing ellipse was just 7.7x6.6 km. As you can see from NASA’s <a href="https://mars.nasa.gov/mars2020/mission/where-is-the-rover/" target="_blank">Where Is The Rover</a>, it landed pretty darn close to the center, and TRN kept it 35+ m from the nearest orbitally-identifiable hazard. (Jatan, who wrote the article, also has an excellent lunar-focused newsletter called <a href="https://moonmonday.jatan.space/" target="_blank">Moon Monday</a>.)</li><li>Scott Manley did a <a href="https://youtu.be/k06c_87A74o" target="_blank">review of the SOHO spacecraft</a>, now 25 years old, and how it was lost and recovered. NASA recently <a href="https://www.nasa.gov/feature/goddard/2021/lro-new-tricks" target="_blank">applied similar tricks</a> to work around a failing Inertial Measurement Unit on their Lunar Reconnaissance Orbiter.</li><li>This is why Perseverance isn’t solar powered: <a href="https://twitter.com/NASAInSight/status/1360314509911412736" target="_blank">Mars InSight’s solar panels are covered in dust</a> and are <a href="https://www.nasa.gov/feature/jpl/insight-is-meeting-the-challenge-of-winter-on-dusty-mars" target="_blank">producing only 27% of their dust-free capacity</a>. InSight recently completed its primary mission but <a href="https://mars.nasa.gov/news/8829/nasa-extends-exploration-for-two-planetary-science-missions/?site=insight" target="_blank">received a mission extension to keep listening for Marsquakes</a>. As Mars comes out of aphelion, and with passing dust devils hopefully providing some cleaning, there should be additional power for further science. (<a href="https://twitter.com/MoonNext/status/1361265316752408581" target="_blank">Shaking the panels didn’t seem to help much</a>.)</li><li> <a href="https://mars.nasa.gov/mars2020/multimedia/raw-images/" target="_blank">Raw images from Percy have started to flow</a>.</li><li> <a href="https://www.centauri-dreams.org/2021/02/12/farfarout-confirmed-far-beyond-pluto/" target="_blank">‘Farfarout’ was recently confirmed as the most distant observable object in our solar system</a> at 132 AU. Originally observed in 2018 by the team currently searching for the proposed <a href="https://en.wikipedia.org/wiki/Planet_Nine" target="_blank">Planet Nine</a>, the ~400-km dwarf planet’s nickname comes from the fact that it is even farther out than the last record-breaking object the team found, <a href="https://en.wikipedia.org/wiki/2018_VG18" target="_blank">‘Farout’</a>. Clever.</li><li>Blue Origin recently released <a href="https://youtu.be/KeqJ0zlMgLg" target="_blank">a video of its pathfinder Lunar descent stage</a>.</li><li>Relating to our SAR piece a couple of weeks back: <a href="http://www2.geog.ucl.ac.uk/~mdisney/teaching/teachingNEW/3051/PPRS_7/esa_sar_tutorial.pdf" target="_blank">this SAR tutorial</a>&nbsp;(pdf) was recommended as an intro by the folks at <a href="https://www.capellaspace.com/" target="_blank">Capella</a>.&nbsp;</li><li> <a href="https://twitter.com/arielwaldman/status/1363545319485501440?s=21" target="_blank">Ariel Waldman and Lisa Ballard have relaunched spaceprob.es</a>, a lovingly designed site that displays information on the 36 active, non-Earth probes, all in one place.</li></ul></div><!--[if mso]> <![endif]--> <!--[if mso]></table><![endif]--></div><div><table><tbody><tr><td> <a href="https://xkcd.com/2428/" title="" target="_blank"> <img alt="" src="https://mcusercontent.com/e215b9e6f9a105b2c34f627a3/images/1bd2a93f-d29b-4ab2-b6d2-9e64eeb82dd9.png" width="564"> </a></td></tr><tr><td> &nbsp;</td></tr></tbody></table></div></td></div></div>]]>
            </description>
            <link>https://orbitalindex.com/archive/2021-02-24-Issue-105/#does-a-planet-orbit-alpha-centauri-a-in-its-habitable-zone</link>
            <guid isPermaLink="false">hacker-news-small-sites-26252563</guid>
            <pubDate>Wed, 24 Feb 2021 17:16:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[GhostWriter is a distraction free Markdown editor]]>
            </title>
            <description>
<![CDATA[
Score 209 | Comments 133 (<a href="https://news.ycombinator.com/item?id=26252472">thread link</a>) | @ekianjo
<br/>
February 24, 2021 | https://wereturtle.github.io/ghostwriter/ | <a href="https://web.archive.org/web/*/https://wereturtle.github.io/ghostwriter/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p><img width="50%" height="50%" src="https://wereturtle.github.io/ghostwriter/images/logo.png" alt="ghostwriter"></p>
        
        <p>Stylish. Open source. Free.</p>
      </div><div>
          <div>
            <h2>Live HTML Preview</h2>
            <p>Preview your Markdown document in HTML.  With the live preview, you can copy the HTML to paste into your blog, or export to another format.  You can even set your own custom style sheet to see how your document will appear once it is posted on your website.</p>
            <p>The live preview is optimized for large documents, so you can work carefree without worrying about the application freezing while you type.</p>
          </div>
          <p><a href="https://wereturtle.github.io/ghostwriter/images/html-preview.png">
              <img data-holder-rendered="true" src="https://wereturtle.github.io/ghostwriter/images/html-preview-thumbnail.png">
            </a>
          </p>
        </div><div>
          <div>
            <h2>Export to Multiple Formats</h2>
            <p>Use the built-in processor, Sundown, to export to HTML.  Alternatively, install any of the following to export to multiple formats in your preferred Markdown flavor:</p>

            <ul>
              <li>Pandoc</li>
              <li>MultiMarkdown</li>
              <li>cmark</li>
            </ul>

            <p><i>ghostwriter</i> will automatically detect their installation, allowing you to export to HTML, Word, ODT, PDF, and more!</p>
          </div>
          <p><a href="https://wereturtle.github.io/ghostwriter/images/export.png">
              <img data-holder-rendered="true" src="https://wereturtle.github.io/ghostwriter/images/export-thumbnail.png">
            </a>
          </p>
        </div></div>]]>
            </description>
            <link>https://wereturtle.github.io/ghostwriter/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26252472</guid>
            <pubDate>Wed, 24 Feb 2021 17:11:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Wadley Loop (2019)]]>
            </title>
            <description>
<![CDATA[
Score 14 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26252373">thread link</a>) | @bilegeek
<br/>
February 24, 2021 | https://lennartb.home.xs4all.nl/wadley.html | <a href="https://web.archive.org/web/*/https://lennartb.home.xs4all.nl/wadley.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"> 



<h2>Introduction</h2>

<p>
  In the history of shortwave receivers, the Wadley loop played an
  important role. It was invented by the South African engineer Trevor
  Wadley in 1946 and it was applied in professional shortwave receivers
  from Racal in the 1950s and 1960s. In the 1970s it was popular in
  amateur shortwave receivers until it gave way to PLL synthesizer
  circuits.

</p><p>
  It is a very clever circuit that made it possible to construct
  shortwave receivers that covered the entire HF spectrum with good
  image rejection, good dial accuracy and good frequency stability
  (adequate for SSB). Circuit complexity and cost were modest compared
  to other receiver designs that met the same requirements.

</p><p>
  The Wadley loop utilizes two tuning knobs that tune two different
  continuously variable frequency oscillators (VFOs). The first tuning
  knob tunes to the required megahertz band from 0 to 29. Though it
  controls a continuously variable oscillator, it appears to act as a
  band switch. Due to drift cancelation, any deviation from an integer
  multiple of 1MHz is canceled out. The second tuning knob tunes to
  the exact frequency within one megahertz band.
 
  
</p><h2>History of shortwave receivers</h2>

<p>
  The very first shortwave receivers used regenerative circuits. They
  typically had one or more RF amplifiers (vacuum tubes) with tuned
  circuits between them. All of these tuned circuits were tuned to the
  received frequency. This is called a TRF (Tuned Radio Frequency)
  receiver. The final RF amplification tube had positive feedback,
  such that it nearly oscillated but not quite. This provided much
  gain and selectivity, but setting the feedback level just right was
  critical. Too much and the circuit would oscillate. Satisfactory
  results could already be had with just the regenerative tube without
  any other amplifiers before it. But if you made such receiver to
  oscillate, the whole neighborhood would be treated to a howling
  sound. This was a problem especially in the normal broadcast bands
  (mediumwave and in Europe also longwave).

</p><p>
  After 1930, the superheterodyne receiver would be used nearly
  universally.  It would provide uniform and good nearby selectivity
  across the tuning range, something a TRF receiver could not do. Plus
  that you did not treat the whole neighborhood to a howling sound if
  you did not know how to tune properly. In a superheterodyne
  receiver, a variable oscillator is used to mix the received signal
  to a fixed frequency, the Intermediate Frequency of IF. Further
  amplification and filtering is performed at that fixed frequency. By
  varying the oscillator frequency you tune to a different station. As
  the oscillator is at a frequency different from the received
  frequency and the signal is not very close to the antenna
  input. radiation from the local oscillator is typically not a
  problem for the neighbors.
  
</p><p>
  Around World War 2, even professional communications receivers were
  still standard superheterodynes. They may have used a higher than
  standard IF and an extra tuned RF stage to improve image rejection,
  but the basic system was the same.

</p><p>
  In the 1950s and 1960s many professional communications receivers
  would use double conversion (two different IF frequencies). Further
  they would use one carefully calibrated Variable Frequency
  Oscillator (VFO) and mix its output with numerous different crystal
  frequencies to obtain the local oscillator signal for all bands.
  This way the VFO could have only one tuning range at a comparatively
  low frequency, so its stability and dial accuracy could be good
  enough for SSB and RTTY. Double conversion for these receivers still
  meant IF frequencies of 1 to 3MHz, certainly not 40MHz or higher.

</p><p>
  For example the German Rohde &amp; Schwarz EK07 receiver of the 1960s
  has a first IF of 3.3MHz (for the higher bands) and it has a VFO at
  a 3.4-6.4MHz, a 3MHz wide range. To obtain the required
  stability and dial accuracy for such a comparatively wide range it
  relied heavily on mechanical precision engineering, rather than clever
  circuit design.
   
</p><p>
  One brand of professional communications receivers however, used
  the Wadley loop. This brand was Racal, producer of the famous RA17
  receivers.  And yes, it does use a first IF of around 40MHz, hence it
  does not require special treatment of the lower bands (which would
  need single conversion if the first IF was lower). Now the RA17 did
  use mechanical precision engineering for the VFO, but the
  requirements were less strict than for the EK07 (having only a third
  of the tuning range). And the number of switches and band-dependent
  filters was drastically reduced compared to the EK07.

</p><p>
  In 1973 the same Wadley loop was introduced in a consumer grade
  receiver, the Barlow Wadley XCR30. Although its performance was much
  less than that of the Racal, it cost only a small fraction (around
  1/25th of price of the Racal). Its performance was much better than
  that of any general coverage receivers you could buy in this price
  range. The Yaesu FRG-7 was introduced in 1977 and it performed
  considerably better than the Barlow Wadley. 
  
</p><p>
  The Wadley loop had its limitations though and in the 1970s,
  professional communications receivers moved to PLL synthesizers to
  generate their tunable local oscillator signals to mix the received
  signal to a high first IF. Amateur receivers followed suit after
  1980. In the meantime there were some very interesting designs that
  combined a VFO (tuning a 1MHz wide range) with a PLL synthesizer to
  generate 1MHz multiples. This system was used by the Kenwood R1000
  and Yaesu FRG-7700.

</p><p>
  Modern receivers use direct digital synthesis (DDS) instead of (or
  combined with) PLL synthesizers. In the 1990s some high end
  communications receivers digitized the final IF signal and did the
  IF filtering and demodulation digitally in a DSP (digital signal
  processor). This technique is now commonplace, even in cheap
  receivers. Instead of a dedicated DSP chip one can use the power of a
  modern personal computer to do the job. There is now a trend to use
  a low first (and only) intermediate frequency, typically less than
  48kHz, in the range of normal sound cards. To suppress the image
  frequency, one can use two mixers and two AD converters, each fed by
  oscillator signals of the same frequency and 90 degrees apart. This
  is called quadrature mixing.

</p><p>
  As of 2016 it is now even possible to directly digitize the entire HF
  spectrum from 0 to 30MHz and do all further processing in a
  computer. No more mixers, no more image frequencies (but you still
  need good anti-aliasing filters).

  
</p><h2>The superheterodyne receiver</h2>

<p>
Let's start with an ordinary superheterodyne circuit for a standard
LW/MW radio, whose diagram is shown below. Such radios were made from
the 1930s to the 1990s. The received signal (either in the longwave
range 150-350kHz or in the mediumwave range 530-1620kHz) is fed
through a preselector, typically a parallel resonant LC circuit of a
fixed coil and a variable capacitor. The coil could be wound on a
ferrite bar, so the coil itself would act as an antenna. The received
signal is mixed with a variable oscillator to obtain the desired 455kHz
intermediate frequency. The oscillator also contains a resonant LC
circuit containing a fixed coil and a variable capacitor. The
variable capacitor is typically a dual variable capacitor where both
capacitors are on a single shaft so they are varied both by rotating
the shaft. Both the preselector and the oscillator have two tuning
ranges. The coils for both ranges can be switched using a band switch.

</p><p>
<img src="https://lennartb.home.xs4all.nl/radio/superhet.svg" width="1000" alt="Block diagram of a superheterodyne receiver">

</p><p>
The 455kHz IF signal is fed through a series of narrow band filters
and amplifiers. The filters select the 455kHz signal with a well
defined bandwidth (around 10kHz in an AM broadcast receiver). The
amplified signal is then demodulated using a diode detector. The
demodulated signal is further amplified and fed to a speaker.

</p><p>
In traditional radios these filters were constructed from transformers
and capacitors. In more modern radios you would find ceramic
resonators. Communications receivers would contain several ceramic
filters with different bandwidths, that can be
selected. Communications receivers would also contain a BFO, a Beat
Frequency Oscillator that oscillates near the 455kHz IF. The diode
detector could then be replaced by a product detector, which is
basically another mixer.

</p><p>
Finally we would have an AGC (Automatic Gain Control) circuit. The
amplified IF signal is detected by another diode and then smoothed
using a much larger capacitor to eliminate all modulation and just
retain the carrier level. This signal is used to control (reduce) the
gain of the IF amplifiers. This reduces the effect of fading and it
reduces the difference in audio level between strong and weak
stations.

  
</p><h2>Problems with the superheterodyne for shortwave</h2>

<p>
  The standard superheterodyne works surprisingly well for mediumwave
  and longwave. But if we move on to shortwave, we will run into the
  problem of image frequencies. In a superheterodyne circuit, two
  frequencies will mix to the desired IF (f1) if you tune the
  oscillator to a given frequency f2. f2+f1 and f2-f1. So if you tune
  the oscillator to 1455kHz and the IF is 455kHz, both an input signal
  of 1000kHz (f2-f1) and an input signal of 1910kHz (f1+f2) will mix
  to the IF. We do have a tunable preselector and 1910kHz (unwanted) is far
  removed from 1000kHz (wanted), so there will be no problem.

</p><p>
  But on shortwave the situation is different. If you tune to
  15100kHz, the image frequency is at 16010kHz, well within the range
  of a single resonant LC circuit used a a preselector.

</p><p>
  There are two straightforward ways to reduce the
  problem. Professional shortwave receivers of the 1940s would
  typically use both methods combined:
  </p><ul>
    <li>Add preselection. A straightforward way to do it is …</li></ul></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://lennartb.home.xs4all.nl/wadley.html">https://lennartb.home.xs4all.nl/wadley.html</a></em></p>]]>
            </description>
            <link>https://lennartb.home.xs4all.nl/wadley.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26252373</guid>
            <pubDate>Wed, 24 Feb 2021 17:05:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Stop Using Icon Fonts]]>
            </title>
            <description>
<![CDATA[
Score 123 | Comments 114 (<a href="https://news.ycombinator.com/item?id=26252348">thread link</a>) | @feross
<br/>
February 24, 2021 | https://www.irigoyen.dev/blog/2021/02/17/stop-using-icon-fonts | <a href="https://web.archive.org/web/*/https://www.irigoyen.dev/blog/2021/02/17/stop-using-icon-fonts">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Just one year before the first web page went live in 1991, Microsoft began shipping perhaps the most well-known icon font, <em>Wingdings</em>. However, it would be nearly 22 years later before icon fonts would become a design trend on the internet.</p><p>The introduction of the <code>@font-face</code> CSS at-rule allowed web designers to specify custom fonts with which to display text. By 2011, all major browsers supported it. This gave birth to the idea that fonts composed of pictograms, like <em>Wingdings</em>, could be used in place of raster images on the web. Considering that real SVG support across all major browsers didn't become stable until early 2020, icon fonts were the defacto way to add vector-based icons on your web site.</p><p>But icon fonts on the web were fundamentally flawed from the beginning. And now, with full SVG support at our disposal, it's time to put a stop to their use, once and for all.</p><h2 id="flawed-icon-fonts">Flawed Icon Fonts</h2><h3 id="flash-of-unstyled-content-(fouc)">Flash of Unstyled Content (FOUC)</h3><p>When utilizing <code>@font-face</code>, you are instructing the browser to make an HTTP request for the required font file. This request isn't immediately dispatched either. When the browser begins parsing the HTML and all linked files referenced in the markup, it is building the Document Object Model (DOM) in realtime. When a linked font is found, the request is fired. How long it takes to retrieve the font can depend on the size of the font asset, network conditions, and user hardware.</p><p>While waiting for the font asset, the browser will choose to display the textual content of the HTML before actually receiving it. This results in a flash of unstyled content (FOUC). These flashes can be very jarring to your visitors. Icon fonts typically assign their glyphs to codepoints outside of the normal range that most normal fonts operate in. However, if they do not, it is possible that random characters or glyphs will appear in place of your icons before the font is fully loaded.</p><blockquote><p><strong>Note</strong>: It is possible to use newer directives, such as <code>preload</code>, on font resources to avoid FOUC. However, this does not solve all the other issues defined in this article and is not recommended.</p></blockquote><h3 id="accessibility">Accessibility</h3><p>Icon fonts are notoriously bad for accessibility and can lead to some frustrating experiences for those who rely on assistive technologies.</p><ol><li><p><strong>Treated like text</strong> — The browser treats fonts like text because that is what fonts are supposed to be. Screen readers have become increasingly smarter over the years, but they still have a hard time discerning what is legible text and what is a pictogram. Most screen readers will read aloud text inserted via CSS, so when they come across your icons they may say "unpronounceable," or they may be skipped entirely.</p></li><li><p><strong>Stylesheet overrides</strong> — Those with <a href="https://www.cdc.gov/visionhealth/basics/ced/fastfacts.htm" rel="noopener nofollow" target="_blank">visual impairments</a> often use custom stylesheets to override default styles of the websites they visit to make them easier to use. This might include changing color schemes, increasing font size or weight, or even changing the font face completely. If your site relies on icons in a non-contextual way, someone using an assistive font (e.g. <a href="https://opendyslexic.org/" rel="noopener nofollow" target="_blank">OpenDyslexic</a>) will cause your icons to be replaced and disappear completely, potentially leaving your web site unusable.</p></li><li><p><strong>Cannot provide metadata</strong> — The process of implementing an icon font on the web requires the use of the <code>::before</code> or <code>::after</code> pseudo-elements. Semantically, the <code>::before</code> and <code>::after</code> pseudo-elements are meant to add cosmetic content to an existing element. For icon fonts, this makes sense as long as the icon is being used contextually with another element. However, there are many times in which an icon is used as the primary focus. For example, an "x" for "close" or a house for returning "home". By themselves, these icons don't provide any semantical information about their contents; You cannot label them or describe them directly.</p></li></ol><h3 id="size-and-maintainability">Size and Maintainability</h3><p>Icon fonts are not cheap assets. Every time a visitor downloads your icon font, they are downloading every icon you intend to use anywhere on your site, regardless if they see them all or not. That fact alone makes icon fonts difficult, and rather annoying, to maintain. If your icon font contains 200 icons and you use 10 of the, you are forcing your visitors to download 190 icons that they'll never see. This will degrade your visitor's experience by increasing load times and extending FOUC.</p><p>Maintaining an icon font means adding and removing icons as necessary to keep the size of the font, and subsequent stylesheets, to a minimal. This also means that every time you update your font, you need to invalidate your visitor's cache of the assets and force them to re-download them.</p><h3 id="degraded-visual-quality">Degraded Visual Quality</h3><p>All modern browsers and operating system employ anti-aliasing on text to some degree. Textual anti-aliasing is agnostic about whether or not your font is made up of letters and numbers or pictograms. This has the potential for negative side-effects in terms of visual quality, especially if you stack glyphs to make multicolor icons. Your icons may look blurry or misaligned.</p><h3 id="difficult-to-style%2Fposition">Difficult to Style/Position</h3><p>As if I haven't said it enough, icon fonts are fonts first and icons second. This mean that your icons follow text-based CSS rules, such as <code>font-size</code>, <code>letter-spacing</code>, <code>line-height</code>, etc. This can make positioning icons more difficult and less consistent. Additionally, icon font glyphs are monochromatic, meaning any stylistic changes you make affect the entire glyph.</p><p><img src="https://www.irigoyen.dev/assets/blog/svg-logo.png" alt="SVG Logo"></p><h2 id="svg's-to-the-rescue!">SVG's to the Rescue!</h2><p>With the release of Chromium-powered version Microsoft's Edge browser in early 2020, Scalable Vector Graphics (SVG) became fully supported across all major browsers. Even before that, SVGs have been supported in all browsers since 2012, <a href="https://caniuse.com/svg" rel="noopener nofollow" target="_blank">albeit with some scaling caveats in Internet Explorer and pre-Chromium Edge</a>. And guess what? SVGs are <em>awesome</em> for web icons!</p><h3 id="icons-just-work">Icons Just Work</h3><p>SVG image data is stored directly in your HTML document. As soon as the browser processes it, it renders it. You don't have to wait for other HTTP requests to complete as you would with an icon font.</p><h3 id="better-accessibility">Better Accessibility</h3><p>SVGs have built-in accessibility features that give them the edge over using icon fonts.</p><ul><li>They are semantically image elements.</li><li>Providing metadata is super easy. Simply provide a <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/title" rel="noopener nofollow" target="_blank"><code>&lt;title&gt;</code></a> or <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/desc" rel="noopener nofollow" target="_blank"><code>&lt;desc&gt;</code></a> element in your SVG container. Screen readers will pick these values up and read something of use to your visitor. And because SVGs are just elements in your HTML, you can use <a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA" rel="noopener nofollow" target="_blank">ARIA attributes</a>, such as <code>aria-labelledby</code> with ease.</li></ul><h3 id="easier-to-maintain">Easier to Maintain</h3><p>Compared one-to-one, a collection of 100 SVGs versus a WOFF2 of 100 icon glyphs will be larger. However, the benefits of SVGs easily outweigh an icon font implementation.</p><p>With SVGs, you will only be including the icons that are required for that individual page, directly in your code. The most efficient way to do this is by using the SVG <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/defs" rel="noopener nofollow" target="_blank"><code>&lt;defs&gt;</code> element</a> to define your icons once, and then referring to them with the <code>&lt;use&gt;</code> element. You can also inline your SVG icons directly, however if you use the same icon multiple times on the same page, you're just adding to overall page weight.</p><blockquote><p><strong>Note:</strong> If you're creating a Single Page Application (SPA), be sure to look into proper <a href="https://developer.mozilla.org/en-US/docs/Glossary/Code_splitting" rel="noopener nofollow" target="_blank">code-splitting</a> techniques to keep your bundle sizes down.</p></blockquote><p>Another advantage is that you do not need to maintain a font and its supporting CSS files outside of your site. A common practice for those who do use icon fonts is to cherry-pick the icons they need and rebuild a smaller font that only includes those icons. Utilizing SVG icons allows you to do this within your codebase without the need for generating the font assets in external tools.</p><h3 id="sharp-dressed-images">Sharp-Dressed Images</h3><p>SVGs are straight up vector images. Anti-aliasing methods employed by your browser or operating system on text have no effect on SVGs and your icons will be noticeably sharper.</p><h3 id="full-css-control">Full CSS Control</h3><p>With SVGs, you have access to all the same CSS controls as with a font and more! You can directly target specific parts of a multi-part icon and apply different style to each. You may also use SVG-specific CSS controls, like the <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke" rel="noopener nofollow" target="_blank"><code>stroke</code></a> property.</p><p>Additionally, SVGs are simply the size they are. They are not affected by text-based CSS rules.</p><h3 id="other-considerations">Other Considerations</h3><p>To fully support the use of SVGs on your site, make sure you're following other common best practices:</p><ul><li><strong>Optimize your SVGs</strong> — <a href="https://jakearchibald.github.io/svgomg/" rel="noopener nofollow" target="_blank">Run your SVG images through an optimizer</a> to get the size down. (Most, if not all, icon libraries that offer SVG packages do this by default.)</li><li><strong>Enable Compression</strong> — Configure your server to send all textual assets (HTML, JS, CSS) with <a href="https://caniuse.com/?search=brotli" rel="noopener nofollow" target="_blank">Brotli</a> (or GZIP). This will include the SVG data in your HTML and/or JS files.</li><li><strong>Cache effectively</strong> — Set appropriate caching headers so your visitors only download things as they change. Since your SVGs will be part of your HTML and/or JS files, you'll only want your visitors to download them again if they change.</li></ul><h2 id="get-started-with-svg-icons">Get Started with SVG Icons</h2><p>Most major icon libraries offer SVG packages of the library. Two popular icon libraries, <a href="https://www.npmjs.com/package/@mdi/svg" rel="noopener nofollow" target="_blank">Material Design Icons</a> and <a href="https://www.npmjs.com/package/@fortawesome/fontawesome-svg-core" rel="noopener nofollow" target="_blank">Font Awesome</a>, both have packages you can install via <code>npm</code>.</p><p>If you're using a framework, many of the major icon libraries also have released packages for the more popular ones so that you can get going fairly quickly. For example, if you're using <a href="https://reactjs.org/" rel="noopener nofollow" target="_blank">React</a>, both Material Design Icons and Font Awesome have easy solutions:</p><ul><li><p><strong>Material Design Icons</strong> - <a href="https://www.npmjs.com/package/@mdi/react" rel="noopener nofollow" target="_blank">@mdi/react</a> &amp; <a href="https://www.npmjs.com/package/@mdi/js" rel="noopener nofollow" target="_blank">@mdi/js</a></p><pre><code><span>import</span> Icon <span>from</span> <span>'@mdi/react'</span><span>;</span>
<span>import</span> <span>{</span> mdiCoffee <span>}</span> <span>from</span> <span>'@mdi/js'</span><span>;</span>

<span>const</span> element <span>=</span> <span>&lt;</span>Icon path<span>=</span><span>{</span>mdiCoffee<span>}</span> size<span>=</span><span>{</span><span>1</span><span>}</span> <span>/</span><span>&gt;</span><span>;</span>
</code></pre></li><li><p><strong>Font Awesome</strong> - <a href="https://www.npmjs.com/package/@fortawesome/react-fontawesome" rel="noopener nofollow" target="_blank">@fortawesome/react-fontawesome</a> &amp; <a href="https://www.npmjs.com/package/@fortawesome/free-solid-svg-icons" rel="noopener nofollow" target="_blank">@fortawesome/free-solid-svg-icons</a></p><pre><code><span>import</span> <span>{</span> FontAwesomeIcon <span>}</span> <span>from</span> <span>'@fortawesome/react-fontawesome'</span><span>;</span>
<span>import</span> <span>{</span> faCoffee <span>}</span> <span>from</span> <span>'@fortawesome/free-solid-svg-icons'</span><span>;</span>

<span>const</span> element <span>=</span> <span>&lt;</span>FontAwesomeIcon icon<span>=</span><span>{</span>faCoffee<span>}</span> <span>/</span><span>&gt;</span><span>;</span>
</code></pre></li></ul><blockquote><p><strong>Note:</strong> Both of these solutions only bundle the icons you use because of <a href="https://developer.mozilla.org/en-US/docs/Glossary/Tree_shaking" rel="noopener nofollow" target="_blank">tree-shaking</a>.</p></blockquote><h2 id="conclusion">Conclusion</h2><p>Continued use of icon fonts is a detriment to your visitors and a time-sink for you. By replacing your existing icon font implementation with SVG icons, you're helping people utilizing assistive technologies, improving …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.irigoyen.dev/blog/2021/02/17/stop-using-icon-fonts">https://www.irigoyen.dev/blog/2021/02/17/stop-using-icon-fonts</a></em></p>]]>
            </description>
            <link>https://www.irigoyen.dev/blog/2021/02/17/stop-using-icon-fonts</link>
            <guid isPermaLink="false">hacker-news-small-sites-26252348</guid>
            <pubDate>Wed, 24 Feb 2021 17:03:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Elixir in Production at Papercups]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26252170">thread link</a>) | @areichert
<br/>
February 24, 2021 | https://serokell.io/blog/elixir-in-production-papercups | <a href="https://web.archive.org/web/*/https://serokell.io/blog/elixir-in-production-papercups">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Elixir in Production is a series where we interview people that have used Elixir for significant projects: apps, services, startup MVPs.</p><p>Our today’s guest is Alex Reichert, the co-founder of <a href="https://papercups.io/">Papercups</a>, an open-source customer messaging tool.</p><p>In the interview, we talk about their open-source involvement, the benefits of Elixir for their startup, and which libraries they have found to be useful for their project.</p><h3 id="could-you-tell-us-a-little-about-your-company-and-your-role-there%3F">Could you tell us a little about your company and your role there?</h3><p>Papercups is an open-source alternative to customer messaging tools like Intercom, Drift, and Crisp. Our goal is to make it easier for businesses to communicate and build relationships with their customers across various channels.</p><p>At the moment, our core product is a customizable live chat widget that people can embed on their websites, through which they can message their customers in real time. Being open-source, we also make it possible for people to host our app on their own servers. This is particularly important for companies that care a lot about data privacy.</p><p>Kam and I started Papercups for a couple of reasons. We had both felt the pain of building out messaging software at our previous companies and wanted to build something extremely developer-friendly and customizable. We also felt that companies should be able to own and have complete control over all of their customer data. So these are the problems we’re striving to solve.</p><p><img src="https://serokell.io/files/ma/majwcz4l.card.jpg" alt="Alex Reichert" loading="lazy"></p><h3 id="could-you-talk-a-little-about-the-stack-of-papercups%3F">Could you talk a little about the stack of Papercups?</h3><p>Papercups is built on top of an Elixir/Phoenix API, backed by a PostgreSQL database. At the moment, all of our frontend code is built with React/TypeScript. (Though I’d love to explore LiveView at some point!)</p><p>For authentication, we’re using the <a href="https://github.com/danschultzer/pow">Pow</a> library. And for our workers and job processing, we use <a href="https://github.com/sorentwo/oban">Oban</a>.</p><h3 id="what-are-the-benefits-of-choosing-elixir-for-a-saas-product-like-papercups%3F">What are the benefits of choosing Elixir for a SaaS product like Papercups?</h3><p>Since our core functionality revolves mostly around real-time communication, Elixir (and Phoenix) gave us a lot of super useful tooling right out of the box. Though we jumped into the project without any prior Elixir experience, I believe it allowed us to move a lot faster than we may have otherwise, even with a more familiar language.</p><p>I mean, we ended up managing to both teach ourselves the basics of Elixir and ship our MVP… all within ~3 weeks! And it’s not like we’re geniuses or anything. Most of the credit goes to the language, the tooling, the documentation, and the community support.</p><p>At a more technical level, Elixir also scales quite nicely for our use case. We use <a href="https://hexdocs.pm/phoenix/channels.html">Phoenix Channels</a> to manage all of our chat threads, where each connection is backed by a lightweight BEAM process, working in parallel and maintaining its own state. As the <a href="https://hexdocs.pm/phoenix/channels.html">docs</a> say:</p><blockquote>
<p>This architecture scales well; Phoenix Channels can support millions of subscribers with reasonable latency on a single box, passing hundreds of thousands of messages per second. And that capacity can be multiplied by adding more nodes to the cluster.</p>
</blockquote><h3 id="are-there-any-libraries-or-frameworks-that-you-would-especially-like-to-feature%3F">Are there any libraries or frameworks that you would especially like to feature?</h3><p>I’m a big fan of <a href="https://github.com/sorentwo/oban">Oban</a>, which we use for our background workers and asynchronous tasks.</p><p>I loved how easy it was to set up. In my experience, most job processing libraries require setting up something like Redis or MongoDB to manage everything, but Oban works with PostgreSQL right out of the box. I loved that it “just works” without requiring any additional dependencies. (This is especially nice for the people that want to self-host our product because it makes it simpler to maintain.)</p><h3 id="what-was-the-biggest-challenge-while-developing-papercups-with-elixir%3F">What was the biggest challenge while developing Papercups with Elixir?</h3><p>Since we jumped into it without any prior knowledge or experience with Elixir, it took some time for me to wrap my head around GenServers and Phoenix Channels. It just wasn’t something I was used to. Reading Saša Jurić’s <em>Elixir in Action</em> definitely helped me understand those concepts better. I highly recommend that book.</p><p>Setting up authentication was also a bit tricky since a lot of the examples I found online were written for server-rendered apps. But auth is always a challenge!</p><h3 id="are-you-satisfied-with-the-result%3F">Are you satisfied with the result?</h3><p>Yes! I’m really proud of how everything has turned out so far. It’s been a lot of fun to work on.</p><h3 id="i%E2%80%99ve-seen-papercups-make-a-lot-of-effort-in-introducing-new-people-to-open-source-elixir-with-beginner-friendly-issues-and-other-assistance.-how-important-is-the-connection-to-open-source-for-papercups%3F">I’ve seen Papercups make a lot of effort in introducing new people to open-source Elixir with beginner-friendly issues and other assistance. How important is the connection to open-source for Papercups?</h3><p>I’d love for our project to give more developers a chance to get their feet wet with Elixir. We still have some work to do to improve engagement with the open-source community, but we have a few ideas in the works that I’m excited about.</p><p>Kam and I really want to make our products more and more “hackable”, in the sense that developers can build completely customizable chat (and other messaging) products on top of our APIs.  For example, we’ve had a few frontend developers reach out about building their own completely custom chat UI on top of our APIs. Some are using Svelte, others are using Flutter, and some want to use Vue. We want to support all of these use cases.</p><p>We’ve also had several backend developers reach out about building “plugins” that would allow them to do things like connecting their own NLP (natural language processing) APIs into Papercups to manage automating responses and building their own bots. This makes me really excited to see what the open-source community will come up with, which is why over the next couple months we want to invest more into our API documentation, webhook events, and other forms of customizability.</p><h3 id="if-a-person-wants-to-contribute-to-papercups%2C-what-are-the-steps-they-should-take%3F">If a person wants to contribute to Papercups, what are the steps they should take?</h3><p>The easiest way to get started is to join our <a href="https://join.slack.com/t/papercups-io/shared_invite/zt-h0c3fxmd-hZi1Zp8~D61S6GD16aMqmg">public Slack workspace</a> and let us know you’re interested in contributing! I’m always happy to help people find a good ticket to start with.</p><p>Otherwise, we try to regularly add “good first issues” on GitHub, which you can find <a href="https://github.com/papercups-io/papercups/issues?q=label%3A%22good+first+issue%22">here</a>.</p><p>For anyone interested in learning Elixir, I’d highly recommend first thinking of a project that excites you, rather than just jumping into tutorials. This was a game changer for me. I had personally spent a bit of time tinkering with Elixir tutorials, but I would either quickly become bored or find that I hadn’t really learned much in the end, since I was mostly just copy/pasting code.</p><p>By having the goal of building a prototype for Papercups, it very much helped me accomplish the secondary goal of learning Elixir. It really motivated me to figure things out for myself.</p><p>Also big thanks to the community on the <a href="https://elixir-slackin.herokuapp.com/">Elixir Slack</a> workspace for helping me out whenever I had any noob questions :)</p><hr><p>I would like to thank Alex for the interview and wish Papercups the best of luck in conquering the market: we love open-source projects like these. ❤️ They have recently launched <a href="https://www.producthunt.com/posts/papercups-2-0">Papercups 2.0</a> on Product Hunt, so I’d highly suggest checking them out if you’re interested.</p><p>If you wish to read more stories like these, don’t forget to follow us on <a href="https://twitter.com/serokell">Twitter</a>, <a href="https://serokell.medium.com/">Medium</a>, or <a href="https://dev.to/serokell">Dev</a>.</p></div></div>]]>
            </description>
            <link>https://serokell.io/blog/elixir-in-production-papercups</link>
            <guid isPermaLink="false">hacker-news-small-sites-26252170</guid>
            <pubDate>Wed, 24 Feb 2021 16:52:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Use Twitter Like Elon]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26252140">thread link</a>) | @coconido
<br/>
February 24, 2021 | https://mailbrew.com/blog/use-twitter-like-elon/ | <a href="https://web.archive.org/web/*/https://mailbrew.com/blog/use-twitter-like-elon/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>Imagine if, to stop you from tweeting memes all day, a personal assistant went through your whole Twitter feed, every morning.</p>
<p>What gems have you missed? What are the links that are going around? What is everyone tweeting about, and what did your favorite thinkers write that you shouldn't miss?</p>
<p>Your personal assistant would go through all of this, carefully catch the best tweets and links, leaving <strong>a concise digest</strong> on your desk with fresh orange juice in the morning.</p>
<p>That's how Elon probably uses Twitter, <em>right?</em></p>
<p><span>
      <a href="https://mailbrew.com/static/bf32c9bcc12785e8ad6c0cf887745f1b/e5166/elon.jpg" target="_blank" rel="noopener">
    <span></span>
  <img alt="elon" title="elon" src="https://mailbrew.com/static/bf32c9bcc12785e8ad6c0cf887745f1b/72e01/elon.jpg" srcset="https://mailbrew.com/static/bf32c9bcc12785e8ad6c0cf887745f1b/e4a55/elon.jpg 256w, https://mailbrew.com/static/bf32c9bcc12785e8ad6c0cf887745f1b/36dd4/elon.jpg 512w, https://mailbrew.com/static/bf32c9bcc12785e8ad6c0cf887745f1b/72e01/elon.jpg 1024w, https://mailbrew.com/static/bf32c9bcc12785e8ad6c0cf887745f1b/e5166/elon.jpg 1200w" sizes="(max-width: 1024px) 100vw, 1024px" loading="lazy">
  </a>
    </span></p>
<p>Well starting today, <strong><a href="https://mailbrew.com/" target="_blank" rel="noopener noreferrer">Mailbrew</a> works exactly this way</strong>. You can be like Elon!</p>
<p>Just like a billionaire, you can now let us do the work for you, and just enjoy the very best content Twitter has to offer you in a beautiful morning digest 📰</p>
<p>With the new Twitter sources we're launching today, <strong>you can finally sit back and relax.</strong></p>
<p><img src="https://mailbrew.com/a186e381fcb78d95f62a38f82bdc3d7f/elon.gif"></p>
<h3>So, what are these "new Twitter sources"?</h3>
<p>Mailbrew sends you a digest every day from your favorite sources.</p>
<p>If you open your digest editor today, you'll find these new sources:</p>
<p><span>
      <a href="https://mailbrew.com/static/34e250350d547ea9847059b1250acc99/47218/new_twitter_sources.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="new twitter sources" title="new twitter sources" src="https://mailbrew.com/static/34e250350d547ea9847059b1250acc99/2bef9/new_twitter_sources.png" srcset="https://mailbrew.com/static/34e250350d547ea9847059b1250acc99/6f3f2/new_twitter_sources.png 256w, https://mailbrew.com/static/34e250350d547ea9847059b1250acc99/01e7c/new_twitter_sources.png 512w, https://mailbrew.com/static/34e250350d547ea9847059b1250acc99/2bef9/new_twitter_sources.png 1024w, https://mailbrew.com/static/34e250350d547ea9847059b1250acc99/47218/new_twitter_sources.png 1344w" sizes="(max-width: 1024px) 100vw, 1024px" loading="lazy">
  </a>
    </span></p>
<p>Just <a href="https://app.mailbrew.com/signup" target="_blank" rel="noopener noreferrer">log in or sign up</a> and add our <strong>new Twitter sources</strong> to your Mailbrew digest to start getting the very best Twitter content in your inbox, on your desired schedule. </p>

<p><span>
      <a href="https://mailbrew.com/static/a8ea8e8a9fdfc1e2eb543e9d03185492/9aa5e/elon_digest.jpg" target="_blank" rel="noopener">
    <span></span>
  <img alt="elon digest" title="elon digest" src="https://mailbrew.com/static/a8ea8e8a9fdfc1e2eb543e9d03185492/72e01/elon_digest.jpg" srcset="https://mailbrew.com/static/a8ea8e8a9fdfc1e2eb543e9d03185492/e4a55/elon_digest.jpg 256w, https://mailbrew.com/static/a8ea8e8a9fdfc1e2eb543e9d03185492/36dd4/elon_digest.jpg 512w, https://mailbrew.com/static/a8ea8e8a9fdfc1e2eb543e9d03185492/72e01/elon_digest.jpg 1024w, https://mailbrew.com/static/a8ea8e8a9fdfc1e2eb543e9d03185492/ac99c/elon_digest.jpg 1536w, https://mailbrew.com/static/a8ea8e8a9fdfc1e2eb543e9d03185492/e1596/elon_digest.jpg 2048w, https://mailbrew.com/static/a8ea8e8a9fdfc1e2eb543e9d03185492/9aa5e/elon_digest.jpg 2556w" sizes="(max-width: 1024px) 100vw, 1024px" loading="lazy">
  </a>
    </span></p>
<p>Feeling rich already?</p>
<p>On a serious note, we've created Mailbrew to help you get rid of the noise, unplug from feeds, and consume the content you love mindfully 🍃 You can even add <strong>YouTube</strong> channels, <strong>Hacker News</strong>, any <strong>blog</strong>, <strong>newsletters</strong>, and much more to your brew.</p>
<p>Once your get your first digest, you'll wonder how you lived without it.</p></div></div></div>]]>
            </description>
            <link>https://mailbrew.com/blog/use-twitter-like-elon/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26252140</guid>
            <pubDate>Wed, 24 Feb 2021 16:51:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[North Dakota House Passes Anti-Mask Mandate Bill]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26252093">thread link</a>) | @qeqweqgr
<br/>
February 24, 2021 | https://insiderpaper.com/north-dakota-house-passes-anti-mask-mandate-bill/ | <a href="https://web.archive.org/web/*/https://insiderpaper.com/north-dakota-house-passes-anti-mask-mandate-bill/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

			

			<div>
				<div>

	
	
				
			
	<p>The House of Representatives in North Dakota passed a bill on Monday to make mask mandates illegal in the future, <a href="https://www.grandforksherald.com/news/government-and-politics/6899976-North-Dakota-House-advances-bill-barring-government-from-mandating-masks">reports</a> Grand Forks Herald.</p>
<h3>North Dakota House votes to make mask mandates illegal</h3>
<p>Rep. Jeff Hoverson who sponsored the bill called the mask mandate diabolical silliness. He added that “our state is not a prison camp,” the Herald reported. <a href="https://insiderpaper.com/new-us-bill-will-help-small-news-publishers-against-big-tech/">The bill</a> comes three months after North Dakota Gov. Doug Burgum (R) imposed a mask mandate across the state.</p>
<p>Moreover, the legislation summarizes that “A state or local elected official, the state, or a political subdivision of the state may not mandate an individual in this state use a <a href="https://insiderpaper.com/apple-face-mask/">face mask</a>, face shield, or other face covering.”</p>
<p>It also rules out using a face mask, shield, or covering a condition for entry, education, employment, or services. The bill to make mask mandates illegal also notes that “If a state or local elected official, the state, or a political subdivision of the state recommends an individual in this state use a face mask, shield, or covering, the official or entity shall provide notice the recommendation is not mandatory.”</p>
<h3>Mask wearing is essential to prevent Covid-19</h3>
<p>Reportedly, there was a decline in the number of COVID-19 cases after Burgum’s mask mandate. According to the Herald, many GOP supporters of the state bill do not believe that mask-wearing prevents the spread of COVID-19. Whereas, several health experts, including the top infectious diseases expert, <span data-behavior="rolloverpeople">Anthony Fauci</span>, have stated that mask-wearing is necessary to control the <a href="https://insiderpaper.com/coronavirus-wuhan-lab-roland-wiesendanger/">coronavirus</a> pandemic.</p>
<p>According to the Centers for Disease Control and Prevention (CDC), wearing a cloth mask over a medical mask can decrease the spread of COVID-19. Whereas, data from the CDC showed North Dakota confirmed over 94,000 coronavirus cases and 1,438 deaths since the <a href="https://insiderpaper.com/top-10-deadliest-pandemics/">pandemic</a> started.</p>
<h3>Bill to make mask mandates illegal passed 50-44</h3>
<p>The Grand Forks Herald&nbsp;reported that the bill passed 50-44 and will now proceed to the state Senate.</p>
<p>Several states, including Iowa, Montana, and Mississippi have started lifting mask mandates. Although Joe Biden made efforts to urge a nation-wide mask mandate which could continue throughout the next year.</p>

	
			
	
				
	
				
	</div>			</div>

			

		</div></div>]]>
            </description>
            <link>https://insiderpaper.com/north-dakota-house-passes-anti-mask-mandate-bill/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26252093</guid>
            <pubDate>Wed, 24 Feb 2021 16:48:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ambition++; Reflecting on a Decade of Work]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26252082">thread link</a>) | @dsr12
<br/>
February 24, 2021 | https://amasad.me/decade | <a href="https://web.archive.org/web/*/https://amasad.me/decade">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <p>It's wild: Almost everything I worked on has become a great success on a global scale. I was struck by this fact earlier today when the news came out that Codecademy, where I was a founding engineer, is now a <a href="https://twitter.com/amasad/status/1364296435059974149">fast-growing business</a>. The news came on the heels of our <a href="https://venturebeat.com/2021/02/18/replit-raises-20-million-for-collaborative-browser-based-coding/">Series A announcement</a> at <a href="https://repl.it/">Replit</a>, where we shared some great numbers too. At Facebook, I was a founding engineer on React Native, which also had a <a href="https://shopify.engineering/react-native-future-mobile-shopify">fantastic last year</a>. And all the <a href="https://amasad.me/2016">open-source projects</a> I've been part of --  Babel and Jest most famously -- became standard tools that measurably increased productivity and changed industries.</p>
<p>Across all my work -- the millions of developers we helped mint, the CS teachers we empowered, and the entrepreneurs we enabled -- I've probably had a significant impact on the world economy, perhaps even meaningfully increased productivity. </p>
<p>Reflecting on this, first, I'm grateful to be able to be useful on such a large scale. After all, just ten years ago, I was a kid in Amman who'd just graduated from university and was interviewing at random companies (including a cigarette factory for VB6 work that comes with a free carton of cigarettes a week).</p>
<p>Second, and more importantly, I think it's time to be more ambitious. With every project, I stopped short of what was possible. I let haters &amp; doubters change my plans and assumed a sense of fake humility because that's what people expected.</p>
<p>The culmination of my work is Replit, where we're working to give people computer superpowers. We want to nudge the world away from rampant digital consumption to one where there are more creators and entrepreneurs. Anyone anywhere can participate in the digital economy and build and leverage software to better themselves and their communities.</p>
<p>Now that I've seen what's possible in a decade while starting from nothing, in this decade, I'd like to create trillions of dollars in value for the world in the form of better access to technology and tools.</p>
<p>My only regret is my mum is not here to see all this. </p>

          </div></div>]]>
            </description>
            <link>https://amasad.me/decade</link>
            <guid isPermaLink="false">hacker-news-small-sites-26252082</guid>
            <pubDate>Wed, 24 Feb 2021 16:47:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Google Cloud vs. AWS Onboarding Comparison]]>
            </title>
            <description>
<![CDATA[
Score 620 | Comments 345 (<a href="https://news.ycombinator.com/item?id=26252010">thread link</a>) | @kevinslin
<br/>
February 24, 2021 | https://www.kevinslin.com/notes/ebd7fd65-988f-422a-93f5-b1fe5c3f29ce.html | <a href="https://web.archive.org/web/*/https://www.kevinslin.com/notes/ebd7fd65-988f-422a-93f5-b1fe5c3f29ce.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

      

      <section itemprop="text">

        

        
<p>As part of <a href="https://www.ycombinator.com/">YCW21</a>, <a href="http://dendron.so/">Dendron</a> was eligible for significant credits from all major cloud providers. This articles goes over my experience redeeming credits in two in particular: AWS and Google Cloud.</p>
<ul>
<li>DISCLAIMER: I used to work at AWS and have both conscious and unconscious biases towards my former employer 😅</li>
</ul>
<h2 id="aws">AWS</h2>
<ul>
<li>reach out to dedicated YC email</li>
<li>response within an hour</li>
<li>scheduling a call a few days out
<ul>
<li>talked to AWS Startup Rep, a team comprised of former startup founders </li>
<li>talk about my use case and also got connected with team leads of folks in respective AWS services where I had questions</li>
<li>got all credits applied immediately after the call</li>
</ul>
</li>
<li>access to AWS YC slack as well as free business support</li>
</ul>
<h2 id="google-cloud">Google Cloud</h2>
<ul>
<li>enroll in a google cloud for startup program</li>
<li>book an appointment with a sales rep 
<ul>
<li>sales rep wanted to know how much money I would spend with google cloud and repeatedly came back to that question (even though we were a pre-revenue startup with no pricing model at this point)</li>
<li>told rep about infrastructure we were thinking of using but they needed a dollar monthly amount since they were in sales and didn't have an understanding of the infrastructure</li>
<li>after some hypothetical numbers, got forwarded to a <em>google cloud partner</em>, a third party consulting firm that would help get me credits</li>
</ul>
</li>
<li>first available slot for partner was three weeks out</li>
<li>got a small chunk of google cloud credit with terms that more would be added if these credits ran out</li>
</ul>
<h2 id="comparison">Comparison</h2>
<ul>
<li>aws process
<ul>
<li>completed in under a week</li>
<li>got all credits and perks right away</li>
<li>access to first party support from AWS</li>
</ul>
</li>
<li>google process
<ul>
<li>process is still ongoing (its been three weeks now)</li>
<li>get credits in chunks and still not sure what the terms are and when they renew</li>
<li>first point of contact was a sales rep, now talking to a third party partner</li>
</ul>
</li>
</ul>
<h2 id="takeaways">Takeaways</h2>
<p>We used to have a joke at Amazon that if someone didn't make it pass the interview loop, then they were once again <em>upgraded</em> to the position of a <strong>customer</strong>. While I personally loved my time there, it is awesome being at the other end of the customer obsessed machine. </p>
<p>As for google, I'm wondering at this point if I'll even get to talk to a google account manager. The initial onboarding call was entirely about how much money I was planning on spending with google (as opposed to the Amazon call where they wanted to help me architect my service). Google Cloud has really nice ergonomics and world class engineers but an awful reputation for customer support. My anecdotal experience seems to support this. </p>
<hr>
<h2 id="backlinks">Backlinks</h2>
<p><a href="https://www.kevinslin.com/notes/b0fa9c3f-8460-4dba-b5c5-2a566a10d50a.html">home.responses.2021.02.25.hacker-news-articles (notes)</a></p><span id="navId" data="b9bc4aa1-4369-446d-91a9-13d4f2a4b8e5"></span>



                
      </section>

      
    </div></div>]]>
            </description>
            <link>https://www.kevinslin.com/notes/ebd7fd65-988f-422a-93f5-b1fe5c3f29ce.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26252010</guid>
            <pubDate>Wed, 24 Feb 2021 16:42:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: I built an AI-powered article generator]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26251855">thread link</a>) | @radhakrsna
<br/>
February 24, 2021 | https://writesonic.com/ai-article-writer-generator | <a href="https://web.archive.org/web/*/https://writesonic.com/ai-article-writer-generator">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><div><div><div><div><p data-aos="zoom-y-out" data-aos-delay="150">Unleash the power of AI to generate 100% original content that reads like it was written by a human - and do it in seconds. No more copy &amp; paste. No more spinning.</p></div></div><p><a href="https://www.producthunt.com/posts/ai-article-writer?utm_source=badge-featured&amp;utm_medium=badge&amp;utm_souce=badge-ai-article-writer" target="_blank"><img src="https://api.producthunt.com/widgets/embed-image/v1/featured.svg?post_id=285242&amp;theme=light" alt="AI Article Writer - Generate articles and blog posts in seconds with AI | Product Hunt" width="250" height="54"></a></p></div></div></section><section><div><div><p><h2>What you can do with Writesonic</h2></p><div><p><svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><rect width="64" height="64" rx="32"></rect><g stroke-width="2"><path d="M34.514 35.429l2.057 2.285h8M20.571 26.286h5.715l2.057 2.285"></path><path d="M20.571 37.714h5.715L36.57 26.286h8"></path><path stroke-linecap="square" d="M41.143 34.286l3.428 3.428-3.428 3.429"></path><path stroke-linecap="square" d="M41.143 29.714l3.428-3.428-3.428-3.429"></path></g></g></svg><h4>Write Articles and Blog Posts</h4></p><p><svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><rect width="64" height="64" rx="32"></rect><g stroke-width="2" transform="translate(19.429 20.571)"><circle stroke-linecap="square" cx="12.571" cy="12.571" r="1.143"></circle><path d="M19.153 23.267c3.59-2.213 5.99-6.169 5.99-10.696C25.143 5.63 19.514 0 12.57 0 5.63 0 0 5.629 0 12.571c0 4.527 2.4 8.483 5.99 10.696"></path><path d="M16.161 18.406a6.848 6.848 0 003.268-5.835 6.857 6.857 0 00-6.858-6.857 6.857 6.857 0 00-6.857 6.857 6.848 6.848 0 003.268 5.835"></path></g></g></svg><h4>Summarize Articles</h4></p><div><svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><rect width="64" height="64" rx="32"></rect><g stroke-width="2"><path d="M34.743 29.714L36.57 32 27.43 43.429H24M24 20.571h3.429l1.828 2.286"></path><path stroke-linecap="square" d="M34.743 41.143l1.828 2.286H40M40 20.571h-3.429L27.43 32l1.828 2.286"></path><path d="M36.571 32H40"></path><path d="M24 32h3.429" stroke-linecap="square"></path></g></g></svg><h4>Draft Professional Emails</h4><p><small>(Soon)</small></p></div><p><svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><rect width="64" height="64" rx="32"></rect><g stroke-width="2"><path d="M32 37.714A5.714 5.714 0 0037.714 32a5.714 5.714 0 005.715 5.714"></path><path d="M32 37.714a5.714 5.714 0 015.714 5.715 5.714 5.714 0 015.715-5.715M20.571 26.286a5.714 5.714 0 005.715-5.715A5.714 5.714 0 0032 26.286"></path><path d="M20.571 26.286A5.714 5.714 0 0126.286 32 5.714 5.714 0 0132 26.286"></path><path d="M21.714 40h4.572M24 37.714v4.572M37.714 24h4.572M40 21.714v4.572" stroke-linecap="square"></path></g></g></svg><h4>Generate Marketing Copy</h4></p><div><svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><rect width="64" height="64" rx="32"></rect><g stroke-width="2"><path d="M19.429 32a12.571 12.571 0 0021.46 8.89L23.111 23.11A12.528 12.528 0 0019.429 32z"></path><path d="M32 19.429c6.943 0 12.571 5.628 12.571 12.571M32 24a8 8 0 018 8"></path><path d="M34.286 29.714L32 32"></path></g></g></svg><h4>Rephrase and Rewrite Content</h4><p><small>(Soon)</small></p></div><div><svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><rect width="64" height="64" rx="32"></rect><g stroke-width="2" stroke-linecap="square"><path d="M29.714 40.358l-4.777 2.51 1.349-7.865-5.715-5.57 7.898-1.147L32 21.13l3.531 7.155 7.898 1.147L40 32.775"></path><path d="M44.571 43.429H34.286M44.571 37.714H34.286"></path></g></g></svg><h4>Fix Grammatical Errors</h4><p><small>(Soon)</small></p></div></div></div></div></section><section><div><div><div><div><div><div><p>1</p><h4>Describe</h4><p>Enter the topic that you would like to write about.</p></div><div><p>2</p><h4>Generate</h4><p>Hit the "Generate" button to generate high-quality, unique articles.</p></div><div><p>3</p><h4>Publish</h4><p>Edit, export, and publish your generated content.</p></div></div></div></div><div x-data="{ tab: '1' }"><div data-aos="zoom-y-out"><div><div x-show="tab === '1'" x-transition:enter="transition ease-in-out duration-700 transform order-first" x-transition:enter-start="opacity-0 translate-y-16" x-transition:enter-end="opacity-100 translate-y-0" x-transition:leave="transition ease-in-out duration-300 transform absolute" x-transition:leave-start="opacity-100 translate-y-0" x-transition:leave-end="opacity-0 -translate-y-16"><p><img src="https://writesonic.com/static/landingpage/dist/images/pro-writer.svg" width="500" height="375" alt="Features bg"></p></div><div x-show="tab === '2'" x-transition:enter="transition ease-in-out duration-700 transform order-first" x-transition:enter-start="opacity-0 translate-y-16" x-transition:enter-end="opacity-100 translate-y-0" x-transition:leave="transition ease-in-out duration-300 transform absolute" x-transition:leave-start="opacity-100 translate-y-0" x-transition:leave-end="opacity-0 -translate-y-16"><p><img src="https://writesonic.com/static/landingpage/dist/images/ideas.svg" width="500" height="375" alt="Features bg"></p></div></div></div></div></div></div></section><section><div><div><div><h2>The world's most innovative businesses choose Writesonic.</h2><p>Thousands of companies choose Writesonic to automate and simplify their content marketing.</p></div></div></div></section><section></section><section><div><div><div><h2 data-aos="zoom-y-out">Start for free. Pay as you grow. Switch at any time.</h2><p data-aos="zoom-y-out" data-aos-delay="150">Whether you're a startup or an individual, Writesonic can help you create content that'll engage, convert, and retain your audience.</p></div><div id="offer"><div><div><p><span><b>Limited Time Offer</b>: Claim <b>60% OFF</b> on any of our Plans with the code <b>SONIC60</b> at checkout.<br><span>Cancel anytime. 7-days money back guarantee.</span></span></p></div></div></div><div x-data="pricingSwitch()"><div><div data-aos="zoom-y-out" data-aos-delay="450"><ul><li><span><b>10 Credits</b></span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>AI Article Writer</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>Blog Ideas</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>Blog Intros</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>Blog Outlines</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>Article Summaries</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>Professional Emails</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.72 1.293a1 1 0 00-1.415 0L6.012 4.586 2.72 1.293a1 1 0 00-1.414 1.414L4.598 6 1.305 9.293a1 1 0 101.414 1.414l3.293-3.293 3.293 3.293a1 1 0 001.414-1.414L7.426 6l3.293-3.293a1 1 0 000-1.414z"></path></svg> <span>Content Expander (Coming Soon)</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.72 1.293a1 1 0 00-1.415 0L6.012 4.586 2.72 1.293a1 1 0 00-1.414 1.414L4.598 6 1.305 9.293a1 1 0 101.414 1.414l3.293-3.293 3.293 3.293a1 1 0 001.414-1.414L7.426 6l3.293-3.293a1 1 0 000-1.414z"></path></svg> <span>Content Rephraser (Coming Soon)</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.72 1.293a1 1 0 00-1.415 0L6.012 4.586 2.72 1.293a1 1 0 00-1.414 1.414L4.598 6 1.305 9.293a1 1 0 101.414 1.414l3.293-3.293 3.293 3.293a1 1 0 001.414-1.414L7.426 6l3.293-3.293a1 1 0 000-1.414z"></path></svg> <span>Priority support</span></li></ul></div><div data-aos="zoom-y-out" data-aos-delay="450"><div><p>Essentials</p><p>For new writers.</p></div><ul><li><span><b>50 Credits</b></span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>AI Article Writer</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>Blog Ideas</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>Blog Intros</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>Blog Outlines</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>Article Summaries</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>Professional Emails</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.72 1.293a1 1 0 00-1.415 0L6.012 4.586 2.72 1.293a1 1 0 00-1.414 1.414L4.598 6 1.305 9.293a1 1 0 101.414 1.414l3.293-3.293 3.293 3.293a1 1 0 001.414-1.414L7.426 6l3.293-3.293a1 1 0 000-1.414z"></path></svg> <span>Content Expander (Coming Soon)</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.72 1.293a1 1 0 00-1.415 0L6.012 4.586 2.72 1.293a1 1 0 00-1.414 1.414L4.598 6 1.305 9.293a1 1 0 101.414 1.414l3.293-3.293 3.293 3.293a1 1 0 001.414-1.414L7.426 6l3.293-3.293a1 1 0 000-1.414z"></path></svg> <span>Content Rephraser (Coming Soon)</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.72 1.293a1 1 0 00-1.415 0L6.012 4.586 2.72 1.293a1 1 0 00-1.414 1.414L4.598 6 1.305 9.293a1 1 0 101.414 1.414l3.293-3.293 3.293 3.293a1 1 0 001.414-1.414L7.426 6l3.293-3.293a1 1 0 000-1.414z"></path></svg> <span>Priority support</span></li></ul></div><div data-aos="zoom-y-out" data-aos-delay="450"><div><p>Growth</p><p>For small businesses.</p></div><ul><li><span><b>250 Credits</b></span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>AI Article Writer</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>Blog Ideas</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>Blog Intros</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>Blog Outlines</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>Article Summaries</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>Professional Emails</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>Content Expander (Coming Soon)</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>Content Rephraser (Coming Soon)</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>Priority support</span></li></ul></div><div data-aos="zoom-y-out" data-aos-delay="450"><div><p>Plus</p><p>For medium businesses who need content writing at scale.</p></div><ul><li><span><b>1500 Credits</b></span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>AI Article Writer</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>Blog Ideas</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>Blog Intros</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>Blog Outlines</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>Article Summaries</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>Professional Emails</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>Content Expander (Coming Soon)</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>Content Rephraser (Coming Soon)</span></li><li><svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M10.28 2.28L3.989 8.575 1.695 6.28A1 1 0 00.28 7.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 2.28z"></path></svg> <span>Priority support</span></li></ul></div></div></div></div></div></section><section><div><div><p><h2>Questions &amp; Answers</h2></p><ul><li x-data="{ expanded: false }"><p>Yes, for you to try the magical content generation with your own hands, we give every new user 10 credits for free to generate landing pages, ads, product descriptions and more. Try it out.</p></li><li x-data="{ expanded: false }"><p>Nope, if you are on a monthly subscription, you may cancel anytime. No contracts what-so-ever. If you go for PAYG, itâ€™s not recurring anyways. Either way, you have total control.</p></li><li x-data="{ expanded: false }"><p>Pay-As-You-Go is suitable for those who only need a few credits at a time and want to purchase them when they need them. These credits do not automatically renew.<br>Monthly recurring subscription is suitable for those who have a more predictable volume of content that they want to write and have the credits automatically renew each month.</p></li><li x-data="{ expanded: true }"><p>Credits let you magically generate articles, landing pages, ads, product descriptions and other types of content. Every time some content is generated, certain number of credits are deducted from your account depending on the type of content.</p></li><li x-data="{ expanded: false }"><p>You do. You retain ownership of all the copy generated in your account. You can use it for both personal and commercial use.</p></li><li x-data="{ expanded: false }"><p>We are happy with it and our customers are very happy too. Please try it yourself with the free credits when you sign up and let us know what you think.</p></li><li x-data="{ expanded: false }"><p>Yes, we do. If you have any custom request, please <a href="https://writesonic.com/cdn-cgi/l/email-protection" data-cfemail="2c49414d45405f595c5c435e586c5b5e4558495f4342454f024f4341">[email&nbsp;protected]</a> and we will look after you.</p></li></ul></div></div></section><section><div><div><div><div><div><h3>Ready to write at the speed of light?</h3><p>See how easy it can be to write amazing content.</p></div></div></div></div></div></section></div></div>]]>
            </description>
            <link>https://writesonic.com/ai-article-writer-generator</link>
            <guid isPermaLink="false">hacker-news-small-sites-26251855</guid>
            <pubDate>Wed, 24 Feb 2021 16:34:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[EU wants to extend roaming rules by 10 years]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26251730">thread link</a>) | @giuliomagnifico
<br/>
February 24, 2021 | https://www.politico.eu/article/eu-wants-to-extend-roaming-rules-by-10-years/ | <a href="https://web.archive.org/web/*/https://www.politico.eu/article/eu-wants-to-extend-roaming-rules-by-10-years/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
									<p>The European Commission Wednesday <a href="https://ec.europa.eu/commission/presscorner/detail/en/IP_21_653" target="_blank">proposed to extend rules</a> for people to use mobile services in another European country without additional costs, known as "roaming," for 10 more years.</p>
<p>The EU <a href="https://www.politico.eu/article/done-roaming-four-acts-no-heroes-plenty-of-pratfalls/">agreed</a> to scrap additional costs for roaming within the EU in 2017, effectively ending sky-high phone bills for people that used their mobile phone in another European country. The policy that was 13 years in the making and was heralded by the institutions as proof of the EU's value toward its citizens. </p>
<p>But the rules are due to expire in 2022. The Commission's proposal to extend the rules needs approval from national governments and the European Parliament, potentially leading to new hiccups in the coming year. </p>

<p>The new proposal also includes requirements to make sure people using mobile services in another European country are entitled to "the same quality and speed of their mobile network" at home, the Commission said.</p>
<p><em>This article is part of </em><span>POLITICO</span><em>’s premium Tech policy coverage: Pro Technology. Our expert journalism and suite of policy intelligence tools allow you to seamlessly search, track and understand the developments and stakeholders shaping EU Tech policy and driving decisions impacting your industry. Email <a href="https://www.politico.eu/cdn-cgi/l/email-protection#8cfcfee3ccfce3e0e5f8e5efe3a2e9f9" target="_blank"><span data-cfemail="2e5e5c416e5e4142475a474d41004b5b">[email&nbsp;protected]</span></a> with the code ‘TECH’ for a complimentary trial.</em></p>
								</div></div>]]>
            </description>
            <link>https://www.politico.eu/article/eu-wants-to-extend-roaming-rules-by-10-years/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26251730</guid>
            <pubDate>Wed, 24 Feb 2021 16:26:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building a Python graph-based fraud detection application from scratch]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26251571">thread link</a>) | @karimtr
<br/>
February 24, 2021 | https://memgraph.com/blog/how-to-develop-a-credit-card-fraud-detection-application-using-memgraph-flask-and-d3js | <a href="https://web.archive.org/web/*/https://memgraph.com/blog/how-to-develop-a-credit-card-fraud-detection-application-using-memgraph-flask-and-d3js">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h3>Introduction</h3>
<p>There is a large and ever-growing number of use cases for graph databases and many of them are centered around one important functionality: <strong>relationship traversals</strong>. While in traditional relational databases the concept of foreign keys seems like a simple and efficient idea, the truth is that they result in very complex joins and self-joins when the dataset becomes too inter-related.</p>
<p>Graph databases offer powerful data modeling and analysis capabilities for many real-world problems such as social networks, business relationships, dependencies, shipping, logistics… and they have been adopted by many of the world’s leading tech companies.</p>
<p>The use case you’ll be working on is <strong>Fraud Detection</strong> in large transaction networks. Usually, such networks contain millions of relationships between POS devices, logged transactions, and credit cards which makes it a perfect target for graph database algorithms.</p>
<p>In this tutorial, you will learn how to build a simple Python web application from scratch. You will get a basic understanding of the technologies that are used, and see how easy it is to integrate a graph database in your development process.</p>
<p>You can also find all of the code <a href="https://github.com/g-despot/card-fraud">here</a> if you don’t want to work on it as you go through the tutorial. If at any point in this tutorial you have a question or something is not working for you, feel free to post on <a href="https://stackoverflow.com/questions/tagged/memgraphdb">StackOverflow</a> with the tag <code>memgraphdb</code>.</p>
<h2>Prerequisites</h2>
<p>Since you will be building a complete web application there is a number of tools that you will need to install before getting started:</p>
<ul>
<li><strong><a href="https://flask.palletsprojects.com/en/1.1.x/quickstart/">Flask</a></strong>: a very powerful web framework that provides you with tools, libraries and technologies used in web development. A Flask application can be as small as a single web page or as complex as a management interface.</li>
<li><strong><a href="https://docs.docker.com/get-docker/">Docker and Compose</a></strong>: an open platform for developing, shipping, and running applications. It enables you to separate your application from your infrastructure (host machine). If you are installing Docker on Windows, Compose will be already included. For Linux and macOS visit <a href="https://docs.docker.com/compose/install/">this site</a>.</li>
<li><strong><a href="https://docs.memgraph.com/memgraph/quick-start">Memgraph DB</a></strong>: a native fully distributed in-memory graph database built to handle real-time use-cases at enterprise scale. Follow the <a href="https://docs.memgraph.com/memgraph/getting-started/installation/docker-installation"><strong>Docker Installation</strong></a> instructions. While it’s completely optional, I encourage you to also install <strong><a href="https://memgraph.com/product/lab">Memgraph Lab</a></strong> so you can execute <strong>Cypher</strong> queries on the database directly and see visualized results.</li>
</ul>
<h2>Understanding the Payment Fraud Detection Scenario</h2>
<p>First, let’s define all the roles in this scenario:</p>
<ul>
<li><strong>Card</strong> - a credit card used for payment.</li>
<li><strong>POS</strong> - a point of sale device that uses a card to execute transactions.</li>
<li><strong>Transaction</strong> - a stored instance of buying something.</li>
</ul>
<p>Your application will simulate how a POS device gets compromised, then a card in contact with that POS device gets compromised as well and in the end, a fraudulent transaction is reported.
Based on these reported transactions, Memgraph is used to search for the root-cause (a.k.a. the compromised POS) of the reported fraudulent transactions and all the cards that have fallen victim to it as shown below.</p>
<p><img src="https://public-assets.memgraph.com/how-to-develop-a-credit-card-fraud-detection-application-using-memgraph-flask-and-d3js/pos-graph.png" alt="Credit card fraud detection graph visualization"></p>
<p>Because this is a demo application you will create a set number of random cards, POS devices, and transactions. Some of these POS devices will be marked as compromised. If you find a compromised POS device, while searching for frauds in the network, then you’ll mark the card as compromised as well. If the card is compromised, there is a 0.1% chance the transaction is fraudulent and detected (regardless of the POS device). You can then visualize all the transactions and cards connected to that POS device and resolve them as not fraudulent if need be.</p>
<h2>Defining the Graph Schema</h2>
<p>After we defined the scenario, it’s time to create the graph schema!</p>
<blockquote>
<p>A graph schema is a “dictionary” that defines the types of entities, vertices, and edges, in the graph and how those types of entities are related to one another.</p>
</blockquote>
<p>Ok, so you know that there are three main entities in your model: <strong>Card</strong>, <strong>POS</strong> and <strong>Transaction</strong>.</p>
<p>The next step is to determine how these entities are represented in the graph and how they are connected. If you are not familiar with graph databases, a good rule of thumb is to use a relational analogy to get you started. All of these entities would be separate tables in a relational database and therefore they could be separate types of nodes in a graph. And so it is!
<img src="https://public-assets.memgraph.com/how-to-develop-a-credit-card-fraud-detection-application-using-memgraph-flask-and-d3js/graph-nodes.png" alt="Nodes"></p>
<p>Each type of node has a different label: <code>Card</code>, <code>Pos</code> and <code>Transaction</code>.
All of them have the property <code>id</code> so you can identify them. The nodes <code>Card</code> and <code>Pos</code> also have the boolean property <code>compromised</code> to indicate if fraudulent activity has taken place. The node <code>Transaction</code> has a similar boolean property with the name <code>fraudReported</code>.</p>
<p>But how are these nodes connected? The nodes labeled <code>Card</code> and <code>Transaction</code> are connected via a relationship of type <code>:USING</code>. Internalize the meaning by reading it out loud: a transaction is executed <em><strong>USING</strong></em> a card. In the same fashion, a transaction is executed <em><strong>AT</strong></em> a POS device so the relationship between <code>Transaction</code> and <code>POS</code> is of type <code>:AT</code>.</p>
<p>Using the Cypher query language notation, the data structure when there are no frauds looks like this:</p>
<pre><code>(:Card {compromised:false})&lt;-[:USING]-(:Transaction)-[:AT]-&gt;(:Pos {compromised: false})
</code></pre>
<p>The data structure when frauds occur:</p>
<pre><code>(:Card {compromised:true})&lt;-[:USING]-(:Transaction)-[:AT]-&gt;(:Pos {compromised: true})
(:Card {compromised:true})&lt;-[:USING]-(:Transaction {fraudReported:true})-[:AT]-&gt;(:Pos)
</code></pre>
<p><img src="https://public-assets.memgraph.com/how-to-develop-a-credit-card-fraud-detection-application-using-memgraph-flask-and-d3js/graph-schema.png" alt="Credit Card Fraud Detection Graph schema"></p>
<h2>Building the Web Application Backbone</h2>
<p>This is presumably the easy part. You need to create a simple Python web application using Flask to be your server. Let’s start by creating a root directory for your project and naming it <code>card_fraud</code>. There you need to create a <code>requirements.txt</code> file containing the necessary PIP installs. For now, only one line is needed:</p>
<pre><code>Flask==1.1.2
</code></pre>
<p>You can install the specified package by running:</p>
<pre><code>pip3 install -r requirements.txt
</code></pre>
<p>Add a new file to your root directory with the name <code>card_fraud.py</code> and the following code:</p>
<pre><code>from flask import Flask
 
app = Flask(__name__)
 
 
@app.route('/')
@app.route('/index')
def index():
   return "Hello World"
</code></pre>
<p>You are probably rolling your eyes while reading this, but don’t mock the <em><strong>Hello World</strong></em> example! Let’s compile and run your server to see if everything works as expected. Open a terminal, position yourself in the root directory and execute the following two commands:</p>
<pre><code>export FLASK_APP=card_fraud.py
export FLASK_ENV=development
</code></pre>
<p>This way, you have defined the entry point of your app and set the environment to <code>development</code>. This will enable development features like automatic code reloading. Don’t forget to change this to <code>production</code> when you’re ready to deploy your app. To run the server, execute:</p>
<pre><code>flask run --host 0.0.0.0
</code></pre>
<p>You should see a message similar to the following, indicating that your server is up and running:</p>
<pre><code>* Serving Flask app "card_fraud"
* Running on http://0.0.0.0:5000/
</code></pre>
<h2>Dockerizing the Application</h2>
<p>In the root directory of the project create two files, <code>Dockerfile</code> and <code>docker-compose.yml</code>. At the beginning of the <code>Dockerfile</code>, you specify the parent image and instruct the container to install CMake, mgclient, and pymgclient. CMake and mgclient are necessary to install pymgclient, the Python driver for Memgraph DB.</p>
<p>You don’t have to focus too much on this part, just copy the code to your <code>Dockerfile</code>:</p>
<pre><code><span>FROM</span> python:<span>3.8</span>
 

<span>RUN</span><span> apt-get update &amp;&amp; \
  apt-get --yes install cmake</span>
 

<span>RUN</span><span> apt-get install -y git cmake make gcc g++ libssl-dev &amp;&amp; \
  git <span>clone</span> https://github.com/memgraph/mgclient.git /mgclient &amp;&amp; \
  <span>cd</span> mgclient &amp;&amp; \
  git checkout dd5dcaaed5d7c8b275fbfd5d2ecbfc5006fa5826 &amp;&amp; \
  mkdir build &amp;&amp; \
  <span>cd</span> build &amp;&amp; \
  cmake .. &amp;&amp; \
  make &amp;&amp; \
  make install</span>
 

<span>RUN</span><span> git <span>clone</span> https://github.com/memgraph/pymgclient /pymgclient &amp;&amp; \
  <span>cd</span> pymgclient &amp;&amp; \
  python3 setup.py build &amp;&amp; \
  python3 setup.py install</span>
 

<span>COPY</span><span> requirements.txt ./</span>
<span>RUN</span><span> pip3 install -r requirements.txt</span>
 
<span>COPY</span><span> card_fraud.py /app/card_fraud.py</span>
<span>WORKDIR</span><span> /app</span>
 
<span>ENV</span> FLASK_ENV=development
<span>ENV</span> LC_ALL=C.UTF-<span>8</span>
<span>ENV</span> LANG=C.UTF-<span>8</span>
 
<span>ENTRYPOINT</span><span> [<span>"python3"</span>, <span>"card_fraud.py"</span>]</span>
</code></pre>
<p>If you are not familiar with Docker, do yourself a favor and take look at this: <a href="https://docs.docker.com/get-started/">Getting started with Docker</a>.</p>
<p>Next, you need to create a <code>docker-compose.yml</code> file. <strong>Compose</strong> is a tool for defining and running multi-container Docker applications. With Compose, you use a YAML file to configure your application’s services. Then, with a single command, you create and start all the services from your configuration. For this project, you’ll need two services. One is the web application (<code>sng_demo</code>) and the other a database instance (<code>memgraph</code>).</p>
<p>If you followed the instructions on <a href="https://docs.memgraph.com/memgraph/getting-started/installation/docker-installation">how to setup Memgraph DB with Docker</a> correctly you only need to add the following code to your <code>docker-compose.yml</code> file to run the container:</p>
<pre><code>version: "3"
services:
  memgraph:
    image: "memgraph"
    ports:
      - "7687:7687"
  card_fraud:
    build: .
    volumes:
      - .:/app
    ports:
      - "5000:5000"
    environment:
      MG_HOST: memgraph
      MG_PORT: 7687
    depends_on:
      - memgraph
</code></pre>
<p>When it comes to the <code>ports</code> key, there is an important distinction between the <strong>HOST_PORT</strong> and the <strong>CONTAINER_PORT</strong>. The first number in the key is the <strong>HOST_PORT</strong> and it can be used to connect from your host machine to the service (for example with <strong>Memgraph Lab</strong>). The second number specifies the <strong>CONTAINER_PORT</strong> which is used for service-to-service communication. More specifically, your service <code>card_fraud</code> can use this port to access the service <code>memgraph</code> and connect to the database.</p>
<p>The <code>environment</code> key contains <code>MG_HOST</code> and <code>MG_PORT</code> which represent environment variables in the service’s container. They store the <code>memgraph</code> service address and port which are needed to establish a database connection.</p>
<p>The <code>depends_on</code> key is used to start services in dependency order because
need the database to start before the web application.</p>
<p>The <code>build</code> key allows us to tell Compose where to find the build instructions as well as the files and/or folders used during …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://memgraph.com/blog/how-to-develop-a-credit-card-fraud-detection-application-using-memgraph-flask-and-d3js">https://memgraph.com/blog/how-to-develop-a-credit-card-fraud-detection-application-using-memgraph-flask-and-d3js</a></em></p>]]>
            </description>
            <link>https://memgraph.com/blog/how-to-develop-a-credit-card-fraud-detection-application-using-memgraph-flask-and-d3js</link>
            <guid isPermaLink="false">hacker-news-small-sites-26251571</guid>
            <pubDate>Wed, 24 Feb 2021 16:17:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Emerging Ship]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26251567">thread link</a>) | @feross
<br/>
February 24, 2021 | https://webup.org/blog/the-emerging-ship/ | <a href="https://web.archive.org/web/*/https://webup.org/blog/the-emerging-ship/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><p>
  <span>
      <a href="https://webup.org/blog/static/3233c1571d6520c4259fdd9de15eab65/0a47e/an-emerging-ship.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="An Emerging Ship" title="An Emerging Ship" src="https://webup.org/blog/static/3233c1571d6520c4259fdd9de15eab65/0a47e/an-emerging-ship.png" srcset="https://webup.org/blog/static/3233c1571d6520c4259fdd9de15eab65/c26ae/an-emerging-ship.png 158w,
https://webup.org/blog/static/3233c1571d6520c4259fdd9de15eab65/6bdcf/an-emerging-ship.png 315w,
https://webup.org/blog/static/3233c1571d6520c4259fdd9de15eab65/0a47e/an-emerging-ship.png 600w" sizes="(max-width: 600px) 100vw, 600px" loading="lazy">
  </a>
    </span>
</p>
<p><strong>Quick summary:</strong> A project is about to fail. Everybody feels it won’t meet the hard deadline. But the app ended up released on time and bug-free. How is that possible?</p>
<p>I want to tell you the real story behind <strong>an ambitious two-month project</strong> my team completed, with a huge impact on our organization. A very stressful, challenging, and full of surprises journey, marked by developers being the leaders. <strong>I intend to reveal why things went bad and how with a proper smart set of decisions the front-end team managed to navigate its boat</strong>.</p>
<h3 id="table-of-contents"><a href="#table-of-contents" aria-label="table of contents permalink"></a>Table of Contents</h3>
<ol>
<li>
<p><a href="#the-project">The Project</a></p>
<ul>
<li><a href="#project-context">Project Context</a></li>
<li><a href="#project-goal">Project Goal</a></li>
</ul>
</li>
<li><a href="#what-compromised-the-project-early-signs">What Compromised the Project (Early Signs)</a></li>
<li><a href="#developers-in-charge">Developers in Charge</a></li>
<li>
<p><a href="#developers-strategy-to-deal-with-impediments">Developers’ Strategy to Deal with Impediments</a></p>
<ul>
<li><a href="#no-clear-leadership">No Clear Leadership</a></li>
<li><a href="#lack-of-domain-knowledge">Lack of Domain Knowledge</a></li>
<li><a href="#incomplete-requirements">Incomplete Requirements</a></li>
<li><a href="#too-many-teams">Too Many Teams</a></li>
</ul>
</li>
<li><a href="#best-practices-summary">Best Practices Summary</a></li>
<li><a href="#final-words">Final Words</a></li>
<li><a href="#resources">Resources</a></li>
</ol>
<hr>
<h2 id="the-project"><a href="#the-project" aria-label="the project permalink"></a>The Project</h2>
<p>The project is intentionally interpreted mostly from a front-end perspective to avoid the risk of having a blurry presentation.</p>
<p><strong>Which parties were involved:</strong></p>
<ul>
<li>Product owner (PO)</li>
<li>Front-end team (2 devs)</li>
<li>Backend team (2 devs)</li>
<li>QA team (2 testers)</li>
<li>UX/Designer</li>
<li>Content manager (translations)</li>
</ul>
<p>In total <strong>9 people</strong> from <strong>6 departments</strong> were allocated for this two-month effort (around 9 weeks). The UX design was done in advance, so it’s not included in the total duration.</p>
<h3 id="project-context"><a href="#project-context" aria-label="project context permalink"></a>Project Context</h3>
<p>Rapidly growing companies are usually investing in new hires and changes in the hierarchy structure. From all the <strong>9 people involved</strong>, 2 were <strong>new employees</strong> (PO and design), 2 had <strong>a year of experience</strong> in the organization, and from all <strong>6 teams</strong> 3 were <strong>newly formed</strong> while the rest were <strong>restructured</strong> to an extent. The <strong>newly formed</strong> UX team was extensively focused on the UIs in Figma  backed with translations delivered by a content manager who <strong>switched departments</strong>. On top of that building applications with a PO was <strong>new for us</strong> - these duties used to be fulfilled by a project manager in the past.</p>
<p>Where was I in the whole picture? You probably know the answer. Yes, I was too part of a <strong>newly formed web apps team</strong> of front-end developers. Up until this moment we were located in different cross-functional teams formed around specific long-term company products.</p>
<p>So many new, new, new.</p>
<p><strong>To summarize:</strong></p>
<blockquote>
<p>Dynamic environment, new colleagues, new company structure. A  dangerous combination for ambitious projects with tight deadlines.</p>
</blockquote>
<h3 id="project-goal"><a href="#project-goal" aria-label="project goal permalink"></a>Project Goal</h3>
<p>The purpose of the application was to allow customers <strong>easily find and operate</strong> on their subscription data, <strong>reducing, as a side effect, the number of related support tickets</strong> significantly.</p>
<p>To make things more complicated the project must account for all services, add-on products, and user edge cases dragged in over the years of product development.</p>
<h2 id="what-compromised-the-project-early-signs"><a href="#what-compromised-the-project-early-signs" aria-label="what compromised the project early signs permalink"></a>What Compromised the Project (Early Signs)</h2>
<p>Getting back from vacation I was immediately thrown into the process, having no idea what this new project is about. All planning and grooming sessions were already in the past, and teams were formed. At the same time, it was left to the individual parties to self-organize somehow and find their way in. I felt very uncomfortable and anxious: no information to start with, no initial setup, but probably the <strong>the most noticeable fact was the lack of clear leadership</strong>. To fill the gap <strong>many project management tasks got “naturally” assigned to the front-end team</strong> and from that point on required additional time for coordination.</p>
<p><strong>A quick side note:</strong> Often a project failure is determined by a few common factors. In one of his recent <a href="https://mailinglist.humanwhocodes.com/" target="_blank" rel="noopener noreferrer">newsletters</a> (<em>“Thoughts on mistakes”</em>) <a href="https://twitter.com/slicknet" target="_blank" rel="noopener noreferrer">Nicholas Zakas</a> grouped them like so: <strong>skills, luck</strong>, and <strong>hidden information</strong>. In such a combination they influence the outcome of a decision, but all of them apply to IT projects in general.</p>
<blockquote>
<p>With a few exceptions, you can control the amount of skill you bring into making a decision, and you can work to uncover hidden information (though sometimes it’s not obvious where to look), but luck is completely out of your control.</p>
</blockquote>
<p>Getting back to the story, and I have to admit, it was a <strong>minefield of hidden information</strong> popping up until the final release. All the skills required were present and even more of that. No unexpected event, call it luck if you want, has ever occurred. To uncover and deal with invisible use cases or wrong assumptions was the project’s most common bottleneck.</p>
<p>What prompted hidden information:</p>
<ol>
<li><strong>No clear leadership.</strong></li>
</ol>
<p>Not having a dedicated PM or a fully available project lead resulted in recurring distractions to handle organizational activities.</p>
<ol start="2">
<li><strong>Lack of domain knowledge.</strong></li>
</ol>
<p>Not understanding the domain well enough — especially by new employees — is interconnected with the number of changes coming later in the development process. The higher the position, the worse.</p>
<ol start="3">
<li><strong>Incomplete requirements.</strong></li>
</ol>
<p>Gaps in domain knowledge led to unclear or too narrow requirements driven by not actively involving people with good matter understanding in the planning stage.</p>
<ol start="4">
<li><strong>Too many teams.</strong></li>
</ol>
<p>Having to coordinate six different teams would be a needless effort if people were otherwise grouped around the project in a single cross-functional unit.</p>
<p>All these implications didn’t give us up, of course, but <strong>forced (the front-end devs at least) to deliberately address problematic areas both code and management-wise</strong>.</p>
<p>But why should developers share the organizational burden, you may ask? Couldn’t you simply pass it down to the PO or someone from the upper management? After all, it is their job and you are just writing code, right? These are legit questions and we asked them ourselves many times, nevertheless the project ended up deliberately led by the dev team. <strong>We were developers in charge.</strong></p>
<h2 id="developers-in-charge"><a href="#developers-in-charge" aria-label="developers in charge permalink"></a>Developers in Charge</h2>
<p>The IT practice confirms whenever a team finds itself in a project storm, the best strategy is to <strong>allow experience developers to navigate the ship</strong>. This should go on until the process can be run in a normal temp with planning phases and iterations — in other words when the storm has already passed.</p>
<blockquote>
<p>Extreme Programming (XP) was created in response to problem domains whose requirements change. Your customers may not have a firm idea of what the system should do. You may have a system whose functionality is expected to change every few months. In many software environments dynamically changing requirements is the only constant. This is when XP will succeed while other methodologies do not.</p>
</blockquote>
<p>The quote from <a href="http://www.extremeprogramming.org/when.html" target="_blank" rel="noopener noreferrer">when should XP be used</a> well describes the situation I was in at that moment. Our tech fellowship took the lead, because: <strong>we knew QA and backend devs well understand the domain, our front-end team can provide fast feedback loops, we are closer to the UI and flexible enough to allow for late changes</strong>.</p>
<p><strong>It was the right move.</strong> Situations like this should be considered extraordinary and avoided whenever possible, though. There is nothing better than working in a constant phase, doing what you do best, while PM handles the cross-team links. Everybody is on their seats and no huge surprises are to be expected. By saying this I also understand it’s largely wishful thinking. The harsh truth is <strong>most of the companies are not agile</strong> or don’t follow any structured methodology or apply frameworks like SCRUM or Kanban. I am a Kanban fan, but even <a href="https://medium.com/better-programming/scrum-is-dead-all-hail-kanban-the-new-king-2cd6249feef8" target="_blank" rel="noopener noreferrer">its obvious benefits</a> are rarely enough to convince organizations to give it a try nowadays. Despite the endless sugary talks and big investments in agile frameworks like SCRUM fx., <strong>most of the companies rely on XP</strong> even if they don’t realize it. Developers’ responsibilities overlap with PM, marketing, SEO, design, etc., and that is not a coincidence.</p>
<p>
  <span>
      <a href="https://webup.org/blog/static/3a2dee7d0c509ae02d262d14c68bb749/0a47e/take-some-rest.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Take some rest" title="Take some rest" src="https://webup.org/blog/static/3a2dee7d0c509ae02d262d14c68bb749/0a47e/take-some-rest.png" srcset="https://webup.org/blog/static/3a2dee7d0c509ae02d262d14c68bb749/c26ae/take-some-rest.png 158w,
https://webup.org/blog/static/3a2dee7d0c509ae02d262d14c68bb749/6bdcf/take-some-rest.png 315w,
https://webup.org/blog/static/3a2dee7d0c509ae02d262d14c68bb749/0a47e/take-some-rest.png 600w" sizes="(max-width: 600px) 100vw, 600px" loading="lazy">
  </a>
    </span>
</p>
<h2 id="developers-strategy-to-deal-with-impediments"><a href="#developers-strategy-to-deal-with-impediments" aria-label="developers strategy to deal with impediments permalink"></a>Developers’ Strategy to Deal with Impediments</h2>
<p>We, in the front-end, built a flexible strategy to deal with project uncertainty, quickly realizing that great code alone won’t be enough for our success.</p>
<p>My colleagues are skilled people who rarely face technical challenges they can’t solve, while sporadic events (like the Covid-19 crisis) are very much unpredictable and difficult to prepare for. With this in mind, the strategy’s focus is put primarily on <strong>dealing with hidden information and minimizing its negative impact project-wise</strong>.</p>
<p>Once more, the four impediments:</p>
<ol>
<li>No clear leadership.</li>
<li>Lack of domain knowledge.</li>
<li>Incomplete requirements.</li>
<li>Too many teams.</li>
</ol>
<p>Solving each problem will eventually catalyze more data discoveries throughout the process, providing you, alongside, with handy tools to handle incoming change requests.</p>
<p>Let’s take a closer look.</p>
<h3 id="no-clear-leadership"><a href="#no-clear-leadership" aria-label="no clear leadership permalink"></a>No Clear Leadership</h3>
<p>I decided to act proactively on this sudden project and conducted a <strong>kick-off meeting</strong> to organize everybody and build-up some confidence. The agenda was:</p>
<ul>
<li>Project requirements</li>
<li>Duties between teams</li>
<li>Front-end tasks</li>
<li>Project repo and codebase</li>
<li>Communication channels</li>
<li>Split and estimation</li>
</ul>
<p>This was an opportunity to meet for the first time and get a feeling the project is finally moving. Further on <strong>regular sync meetings</strong> were set to discuss blockers, progress, or new information collected previously.</p>
<h3 id="lack-of-domain-knowledge"><a href="#lack-of-domain-knowledge" aria-label="lack of domain knowledge permalink"></a>Lack of Domain Knowledge</h3>
<p>It became obvious the QA and backend teams best understand most of the underlying use cases. Two activities helped in this situation:</p>
<ul>
<li>Quick short iterations and early releases.</li>
</ul>
<p>Deployments were performed daily so that QA and backend always had something usable to exercise on.</p>
<ul>
<li>Frequent sync meetings.</li>
</ul>
<p>This is the place to discuss any new findings since the last release and to turn them into development tasks.</p>
<h3 id="incomplete-requirements"><a href="#incomplete-requirements" aria-label="incomplete requirements permalink"></a>Incomplete Requirements</h3>
<p>Incomplete requirements are often “dressed” in a “final” UI design and are usually captured late when QA puts their hands on the front-end prototype. The following recipe was used to answer back:</p>
<ul>
<li>Deploy incomplete prototypes.</li>
</ul>
<p>Releasing usable prototypes with fake backend and English texts to allow for a quick feedback loop is a good idea as often endpoints may not yet exist, translations and production-ready texts may also be in progress.</p>
<ul>
<li>Break the <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself" target="_blank" rel="noopener noreferrer">DRY principle</a>.</li>
</ul>
<p>The DRY principle is of no use when working with frequently changing prerequisites where a <a href="https://overreacted.io/the-wet-codebase/" target="_blank" rel="noopener noreferrer">WET codebase</a> will enable …</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://webup.org/blog/the-emerging-ship/">https://webup.org/blog/the-emerging-ship/</a></em></p>]]>
            </description>
            <link>https://webup.org/blog/the-emerging-ship/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26251567</guid>
            <pubDate>Wed, 24 Feb 2021 16:17:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Do Developers Still Want Swag?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26251472">thread link</a>) | @domrdy
<br/>
February 24, 2021 | https://codesubmit.io/blog/do-developers-want-swag/ | <a href="https://web.archive.org/web/*/https://codesubmit.io/blog/do-developers-want-swag/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <section>
                
                <div>
                    <p>Over the years, company merchandise or, as the cool kids call them, swag (which stands for “stuff we all get”), especially from tech companies, has become something of a talking point and even a status symbol in some circles. </p><p>For some, it’s a status symbol to signal to others that you’re old school, you were around before <em>it all began</em>. As one <a href="https://qr.ae/pNjt1g">Quora user</a> pointed out, “what you really want is the swag from companies that looked impressive, but then died... You want that Enron keychain. You want the stuff that says, <em>I was there. I'm still here. They're not.</em> It makes a statement. ” </p><p>For others, it’s not about getting yet another Google water bottle or Facebook T-shirt. It’s about getting really useful stuff that’s durable, exclusive and memorable. That could be a <a href="https://qr.ae/pNjttJ">messenger bag from Quora</a>, a <a href="https://www.kapwing.com/blog/what-happened-when-we-asked-200-companies-for-free-swag/">Tile from Airtable</a>, or <a href="https://www.kapwing.com/blog/what-happened-when-we-asked-200-companies-for-free-swag/">an apron from Airbnb</a>. </p><p>According to <a href="https://swapnil.net/">Swapnil Agarwal</a>, the developer behind <a href="https://devswag.io/">DevSwag</a>, a site that curates opportunities for developers to collect swag, developers love swag because it helps them find their community. </p><blockquote><em>“For some developers, scoring swag feels like a badge of honor, achievement unlocked! They are more than happy to don a tee with a geeky quote or put a sticker on their laptop. This helps them project their preferences and find their tribe easily.” </em></blockquote><h3 id="why-do-companies-bother-with-swag"><strong>Why do companies bother with swag? </strong></h3><p>Companies invest in swag for various reasons. The most obvious one is to create hype and buzz around your brand. Did you know that one of the <a href="https://brightideaspromotional.co.uk/info/the-history-of-the-promotional-merchandise-industry/">earliest forms of swag</a> were the commemorative buttons produced to celebrate George Washington becoming the first President of the newly formed United States of America in 1789? It was 100 years later when two printers in Ohio, Jasper Meek and Henry Beach, realized that they could print advertisements on school bags, card cases and even horse hats, that the swag industry really began. </p><p>Since then, companies have been using swag to promote their brand, products and services. Think about those Slack socks, and <a href="https://twitter.com/tferriss/status/320447454657003520?lang=en">Tim Ferriss’ favorite Duolingo shirt</a>. The exposure those companies got from their swag, and still do to this day, is an investment that has definitely paid off. </p><p>Swag is also a good way to market to your own employees or show them your appreciation. It is also a great <a href="https://qz.com/work/1860082/employee-swag-is-a-remote-worker-culture-builder/">physical representation of a company's culture</a>. With the pandemic keeping people at home and employees working remotely, company swag offers that little bit of “connectedness” that we used to get from conversations around the coffee machine. &nbsp;</p><p>Companies are also using swag to incentivize people to contribute or engage with a brand or products. “Let's say (a company) wants to get beta users for a dev tool. It's far easier to get them with swag giveaways rather than traditional advertising,” says Swapnil.</p><p>Launched in 2018, <a href="https://devswag.io/">DevSwag</a> curates different opportunities available for developers to collect swag, and ranks the task difficulty for each opportunity. Tasks and rewards range from leaving a review for a podcast in exchange for stickers, to fixing a bug in exchange for a pair of socks. </p><figure><img src="https://codesubmit.io/blog/content/images/2021/02/swapnil-agarwal-devswag-1.png"></figure><h3 id="who-s-giving-out-swag"><strong>Who’s giving out swag? </strong></h3><p>The <a href="https://www.prnewswire.com/news-releases/asi-reports-2019-promo-sales-hit-high-of-25-8-billion-301010174.html">Advertising Speciality Institute</a> (ASI) reported that sales for company merchandise rose by 4.7% compared to 2018, &nbsp;reaching a record high of USD 25.8 billion in 2019. </p><p>At the height of the promotional products industry, the team at <a href="https://www.kapwing.com/blog/what-happened-when-we-asked-200-companies-for-free-swag/">Kapwing</a> noticed that companies seemed to be giving out swag liberally and wanted to test out how common this was. So, they posed as college seniors “fan mailing” 201 companies asking if they could get some swag. </p><figure><img src="https://lh5.googleusercontent.com/rGPMgvcTt4KKhIrcgICRVaaLcLqUBPx6ZDykvj2O426dHotfPZDHP7FBx9dMPLAI9YNP2DzBdetRrZsT6vnX3B2k0_nJ_mTpcKNCUzyfGNX7RxO50JckzK013wyzXDFZT74STRby"><figcaption>Source: Kapwing</figcaption></figure><p>Out of 201 companies, they successfully contacted 188 of them. They eventually received a response from 146 companies. Of those, they noted that B2C companies were more likely to respond than B2B companies, and B2C companies were more likely to offer swag than B2B companies. </p><p>Interestingly, tech or SaaS companies were the least likely to respond compared to other business types like apparel, beverage, and consumer goods. Their response rate was at 64% compared to other business types (82% to 87%). They also found that small to medium sized companies were more likely to give out company swag; these are companies with 11 to 49 employees, or companies with 50 to 249 employees respectively. </p><h3 id="is-swag-losing-its-swag"><strong>Is swag losing its <em>swag</em>?</strong> </h3><p>In 2019, <a href="https://www.theguardian.com/fashion/2019/apr/03/patagonia-fleece-vest-tech-bro-uniform">Patagonia</a> decided to shift its sales program to only work with companies that meet certain social and environmental standards, or in their words “mission-driven companies that prioritize the planet”. &nbsp;The company now requires more information about the type of company “whose name will appear on the Patagonia product and how the product will be used. We reserve the right to refuse service.”</p><p>Just as companies are becoming more conscious about what their brands stand for, their swag, their suppliers and swag recipients are becoming increasingly integrated into the brand’s narrative. The public’s perception of a brand, especially those of global powerhouses like Google, Facebook, Netflix, and Amazon, largely impact the swaggi-ness of a brand’s swag. </p><p>In January 2021, in light of Facebook banning former US President Donald Trump on social media, Facebook’s internal security team released a memo warning employees not to wear or carry Facebook-branded swag in public. As reported by <a href="https://gizmodo.com/facebook-warns-employees-not-to-wear-company-gear-in-pu-1846040220">Gizmodo</a>, “while the memo doesn’t appear to explicitly say Facebook employees are at risk of physical assault by Trump supporters, it’s easy to read between the lines”.</p><p>Public perception and public events also play a large role in the perceived swaggi-ness of a company. Just a week after Facebook’s memo, <a href="https://www.businessinsider.com/goldman-sachs-rebrands-storm-hill-event-capitol-violence-washington-dc-2021-1">Goldman Sachs</a>, had to quickly rebrand a virtual event they had organized to lobby Congress to help small businesses across America. The event that was originally called “Storm the Hill” definitely did not sit well with both organizers nor participants after what happened in Washington DC, and participants were urged not to wear the branded t-shirts that were mailed out to them prior.</p><p>Another factor that keeps swag cool and swaggy is its exclusivity. Slack’s socks, once exclusive, have now made their way to <a href="https://slack.shop/">Slack.shop</a>. Slack fans can now buy a pack of six pairs of socks for €49.80 along with a Slack t-shirt and a baby onesie. </p><figure><img src="https://codesubmit.io/blog/content/images/2021/02/slack-socks-1.png"><figcaption>The exclusivity of Slack's socks are gone, but fans and aspiring employees can <em>almost</em> live the dream by purchasing them online.</figcaption></figure><h3 id="the-environmental-impact-of-swag"><strong>The environmental impact of swag</strong></h3><p>At the end of 2019, the Meeting, Incentives, Conferences and Events (MICE) industry was <a href="https://www.cwt-meetings-events.com/futuretrends/page/3/1">expected to grow by USD 840 billion (8%) in 2020</a> with 52% more event websites popping up compared to 2019. CWT Meetings and Events reported that companies were spending 25% to 30% of their overall marketing budgets on live events. </p><p>It is common for people to attend these conferences and collect as many tote bags, t-shirts, water bottles, usb sticks, pens, stress balls, stickers, notebooks, hats, rubber wrist bands, beer bottle openers, and everything else that can be made cheaply and quickly, with a company’s logo slapped on for swagginess. </p><p>As <a href="https://www.fastcompany.com/90260185/its-time-to-stop-spending-billions-on-cheap-conference-swag">Elizabeth Segran</a> wrote, many of these companies’ merchandise aren’t well made or well designed, meaning that we’re likely to throw them out after just a handful of uses. </p><blockquote><em>“When you think about all the energy and resources that go into making just one of the tote bags that I have just thrown into the trash–only to end up in a landfill–the impact is staggering.”</em></blockquote><p>A quick Google search will show you that companies often compete over costs, but low costs comes at a high price for workers in countries like China, where most of these promotional products are made. By now, we’re aware of <a href="https://www.globalsources.com/NEWS/SIC-making-it-in-china-the-factory-workers-that-make-your-products.HTM">poor working conditions</a>, lack of safety standards, and very low wages. </p><p>This is why companies like Google have a vetted list of merchandise suppliers they work with—companies that sustainably source their materials and do not violate labour laws, meaning without child labour or inhumane working conditions. This could be the way forward for other companies who want to invest in company merchandise. </p><p>For Segran, the answer to both creating hype while reducing swag’s impact on the environment is to get rid of it entirely. As an alternative, she writes, “consider offering experiences. For instance, I’d appreciate a back massage at a conference, or perhaps a yoga class, or a free headshot. I’d even enjoy a good meal instead of a swag bag.” </p><p>She continues, “if you wrap the event in your branding, there’s a good chance your target customer will remember that experience long after the tote bag is stuffed in a landfill somewhere.”</p><h3 id="to-swag-or-not-to-swag"><strong>To swag or not to swag?</strong></h3><p>A quick browse of some HR groups on Facebook and LinkedIn uncover conversations where HR professionals are debating whether to give out company merchandise to employees over the recent year-end holidays, or if they should opt for gift cards as they’re a more “practical” way to support employees in this economic climate. Many rallied behind gift cards, especially the ever-versatile Visa gift cards, accepted nearly everywhere in the United States.</p><p>But if we’re real here, a multi-billion dollar industry is not going to disappear overnight or any time in the near future. In fact, ASI reported that while total swag sales dropped by 44% in Q2 2020, it had recovered about 20% of sales in Q3 2020 and a further 8% in Q4 2020. Total product sales for 2020 was USD 20.7 billion. </p><p>With the world going remote and people working from home, what swag did we spend all that money on? In 2020, it comes as no surprise that products like hand sanitizers contributed USD 1.4 billion in sales (7%), while other pandemic-related swag like branded cloth masks and other PPE made up USD 4.6 billion in sales (22%). </p><p>I believe that companies are becoming more intentional with the swag they give out. <a href="https://blog.duolingo.com/thinking-outside-the-box-engaging-our-team-with-interactive-care-packages/">Duolingo</a>, for example, worked with <a href="https://www.swagup.com/">SwagUp</a> to create monthly “Interactive Care Packages” for employees during the pandemic to break up the monotony of staying at home. The care packages were designed to …</p></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://codesubmit.io/blog/do-developers-want-swag/">https://codesubmit.io/blog/do-developers-want-swag/</a></em></p>]]>
            </description>
            <link>https://codesubmit.io/blog/do-developers-want-swag/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26251472</guid>
            <pubDate>Wed, 24 Feb 2021 16:11:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Gene Pool]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26251240">thread link</a>) | @smusamashah
<br/>
February 24, 2021 | http://www.swimbots.com/genepool/ | <a href="https://web.archive.org/web/*/http://www.swimbots.com/genepool/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://www.swimbots.com/genepool/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26251240</guid>
            <pubDate>Wed, 24 Feb 2021 15:53:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[RonDB: The fastest key-value store, made for AI/ML- now in the cloud]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 9 (<a href="https://news.ycombinator.com/item?id=26251161">thread link</a>) | @kouzant
<br/>
February 24, 2021 | https://www.logicalclocks.com/blog/rondb-the-worlds-fastest-key-value-store-is-now-in-the-cloud | <a href="https://web.archive.org/web/*/https://www.logicalclocks.com/blog/rondb-the-worlds-fastest-key-value-store-is-now-in-the-cloud">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><div><div id="ron_db"><p>We are pleased to introduce <a href="https://www.rondb.com/" target="_blank">RonDB</a>, the world’s fastest key-value store with SQL capabilities, available now in the cloud. RonDB is an open source distribution of NDB Cluster, thus providing the same core technology and performance as NDB, but as a managed platform in the cloud. RonDB is the best low-latency, high throughput, and high availability database available today. In addition, it also brings large data storage capabilities. RonDB is a critical component of the infrastructure needed to build feature stores, and, in general, real-time applications.</p><h2>Introducing RonDB</h2><p>RonDB is an <a href="https://github.com/logicalclocks/rondb" target="_blank">open source</a> distribution of NDB Cluster which has been used as a key-value store for applications for almost 20 years. The name RonDB is a synthesis of its inventor, Mikael Ronström, and its heritage NDB. RonDB is offered as a managed version of NDB Cluster, providing the fastest solution targeting the traditional applications that use NDB Cluster such as those used in telecom, finance, and gaming. RonDB provides a solution as the data layer for operational AI applications. RonDB gives online models access to reliable, low-latency, high-throughput storage for precomputed features.&nbsp;&nbsp;</p><p>RonDB is ideal for developers who require a real-time database that can (1) be quickly deployed&nbsp; (RonDB provides a possibility to set up an RonDB cluster in less than a minute), (2) handle millions of database operations per second, and (3) be elastically scaled up and down to match the current load, reducing operational costs.&nbsp;<br></p><h2>What is a key-value store?</h2><p>A key-value store associates a value with a unique identifier (a key) to enable easy storage, retrieval, searching, and updating of data using simple queries - making them ideal for organisations with large volumes of data that needs to be constantly retrieved and updated.<br></p><p>Distributed key-value stores, such as RonDB, are optimal for organisations with heavy read/write workloads on large data sets, thus being a good fit for businesses operating at scale. For example, they are a critical component of the infrastructure needed to build feature stores and many different types&nbsp; of interactive and real-time applications.</p><h2>The value of RonDB</h2><h3>Key-value store applications</h3><p>RonDB can be used to develop interactive online applications where storing, retrieving and updating data is essential, but there is also the possibility to search for data in the same system. RonDB provides efficient access using a partition key through either native APIs or SQL access.&nbsp;<br></p><p>RonDB supports distributed transactions enabling applications to perform any type of data modification. RonDB enables concurrent complex queries using SQL as part of the online application. Through its efficient partitioning scheme, RonDB can scale nodes to support hundreds of CPUs per node and then scale to hundreds of data nodes (tens of thousands of CPUs in total).</p><h3>SQL applications</h3><p>RonDB supports writing low latency, high availability SQL applications using its full SQL capabilities, providing a MySQL Server API.</p><h2>LATS: low Latency, high Availability, high Throughput, and scalable Storage</h2><p>RonDB is the fastest key-value store currently available and the only one with general purpose query capabilities, through its SQL support. The performance of key-value stores are evaluated based on low Latency, high Availability, high Throughput, and scalable Storage (LATS).&nbsp;</p><figure><p><img src="https://uploads-ssl.webflow.com/5e6f7cd3ee7f51ec3ea4da0f/60364af8c8f5d47b1f1f70ce_graph_white.png" loading="lazy" alt=""></p><figcaption><a href="http://www.irondb.com/"><strong>LATS</strong>: low <strong>L</strong>atency, high <strong>A</strong>vailability, high <strong>T</strong>hroughput, scalable <strong>S</strong>torage.</a></figcaption></figure><h3>Low Latency</h3><p>RonDB has shown the fastest response times: it can respond in 100-200 microseconds on individual requests and in less than a millisecond on batched read requests; it can also perform complex transactions in a highly loaded cluster within 10 milliseconds. Moreover, and perhaps even more importantly, RonDB has predictable latency.</p><h3>High Availability</h3><p>NDB Cluster can provide <a href="https://www.slideshare.net/mikaelronstrom/ndb-cluster-80requirements">Class 6 Availability</a>; in other words, an NDB system is operational 99.9999% of the time, thus <strong>no more than 30 seconds of downtime per year</strong>. RonDB brings the same type of availability now to the cloud, thus <strong>ensuring that RonDB is always available</strong>. RonDB allows you to place replicas within a cloud region on different availability zones, ensuring that failure of availability zones does not result in downtime for RonDB.</p><h3>High Throughput</h3><p>RonDB scales to up to hundreds of millions of read or write ops/seconds. A single RonDB instance on a virtual machine can support millions of key value operations per second,&nbsp; and, without downtime, can be scaled up&nbsp; to a large cluster that supports hundreds of millions of key value operations per second.</p><h3>Scalable Storage</h3><p>RonDB offers large dataset capabilities, being able to store up to petabytes of data.Individual RonDB data nodes can store up to 16TBytes of in-memory data and many tens of TBytes of disk data. Given that RonDB clusters can scale up to 144 data nodes, an RonDB cluster can be scaled to store petabytes of data.</p><h3>LATS Performance</h3><p>The combination of predictable low latency, the ability to handle millions of operations per second, and a unique high availability solution makes RonDB the leading LATS database, that is now also available in the cloud.</p><h2>RonDB as online feature stores</h2><p>RonDB is the foundation of the <a href="https://www.hopsworks.ai/utm_source=rondb">Hopsworks Online Feature Store</a>. For those unfamiliar with the concept of feature store, it is a data warehouse of features for machine learning. It contains two databases: an online database serving features at low latency to online applications and an offline database storing large volumes of historic feature values.&nbsp;</p><p>The online feature store provides the data (features) that underlie the models used in intelligent online applications. For example, it helps inform an intelligent decision about whether a financial transaction is suspected of money laundering or not by providing the real-time information about the user’s credit history, recent card usage, location of the transaction, and so on. Thus, the most important requirements from the feature store are quick and consistent responses (low latency), handling large volumes of key lookups (high throughput), and being always available (high availability). In addition an online feature store should be able to scale as the business grows. RonDB is the only database available in the market that meets all these requirements.<br></p><h2>Get Started</h2><p>We’re not releasing RonDB publicly just yet. Instead, we have made it available as early access. If you think your team could benefit from RonDB, <a href="https://www.rondb.com/">please contact us</a>!<br></p></div></div></div></div></div></div>]]>
            </description>
            <link>https://www.logicalclocks.com/blog/rondb-the-worlds-fastest-key-value-store-is-now-in-the-cloud</link>
            <guid isPermaLink="false">hacker-news-small-sites-26251161</guid>
            <pubDate>Wed, 24 Feb 2021 15:48:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Future of the Web]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26251095">thread link</a>) | @robertblinov
<br/>
February 24, 2021 | https://robertblinov.net/blog/all/the-future-of-the-web/ | <a href="https://web.archive.org/web/*/https://robertblinov.net/blog/all/the-future-of-the-web/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p><span>This is a&nbsp;sponsored post. The&nbsp;text is mine</span></p>
<p>Recently, I’ve written <a href="https://robertblinov.net/blog/all/immune-to-cancel-culture/">a&nbsp;manifesto about being immune to&nbsp;cancel culture</a>. Understanding the&nbsp;gloomy reality, I decided to&nbsp;stop it from affecting me.</p>
<p>In&nbsp;today’s centralised web, the&nbsp;only sure way to&nbsp;avoid being deplatformed is to&nbsp;run a&nbsp;server at&nbsp;home, something that may not&nbsp;always be possible to&nbsp;do. Searching for&nbsp;other ways to&nbsp;resist external restrictions, I found out about Stacks, a&nbsp;network that creates a&nbsp;financial incentive to&nbsp;decentralise the&nbsp;web. Just like miners are paid a&nbsp;fee for&nbsp;running bitcoin nodes, Stackers are paid a&nbsp;fee to&nbsp;run Stacks.</p>
<p>Stacks is versatile: it can be used to&nbsp;run websites with the&nbsp;decentralised storage system Gaia, but&nbsp;also to&nbsp;place smart contracts such as&nbsp;paid subscriptions, auctions, and&nbsp;access control.</p>
<p>It’s time to&nbsp;start transitioning to&nbsp;the&nbsp;decentralised Web 3.0. <a href="https://stacks.co/">Learn&nbsp;more on&nbsp;Stacks.co</a></p>
</div></div>]]>
            </description>
            <link>https://robertblinov.net/blog/all/the-future-of-the-web/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26251095</guid>
            <pubDate>Wed, 24 Feb 2021 15:44:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: App to visualize object detection output for blood cell count]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26250785">thread link</a>) | @TCR19
<br/>
February 24, 2021 | https://share.streamlit.io/matthewbrems/streamlit-bccd | <a href="https://web.archive.org/web/*/https://share.streamlit.io/matthewbrems/streamlit-bccd">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://share.streamlit.io/matthewbrems/streamlit-bccd</link>
            <guid isPermaLink="false">hacker-news-small-sites-26250785</guid>
            <pubDate>Wed, 24 Feb 2021 15:21:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Craig Wright sues Bitcoin Core developers to recover “stolen” coins [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 33 | Comments 40 (<a href="https://news.ycombinator.com/item?id=26250673">thread link</a>) | @wp381640
<br/>
February 24, 2021 | https://www.ontier.net/ia/a1letter-before-action-from-ttl.pdf | <a href="https://web.archive.org/web/*/https://www.ontier.net/ia/a1letter-before-action-from-ttl.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.ontier.net/ia/a1letter-before-action-from-ttl.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-26250673</guid>
            <pubDate>Wed, 24 Feb 2021 15:11:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Nx (Numerical Elixir) is now publicly available]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26250660">thread link</a>) | @clessg
<br/>
February 24, 2021 | https://dashbit.co/blog/nx-numerical-elixir-is-now-publicly-available | <a href="https://web.archive.org/web/*/https://dashbit.co/blog/nx-numerical-elixir-is-now-publicly-available">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <article>
    
<ul>
  <li>
    <i></i> José Valim
  </li>
  <li>
    <i></i> February 18th, 2021
  </li>
  <li>
    <i></i><a href="https://dashbit.co/blog/tags/nx">nx</a>, <a href="https://dashbit.co/blog/tags/gpu">gpu</a>
  </li>
</ul>
<p><img src="https://dashbit.co/images/posts/2021/nx.png" alt="Nx" width="400"></p>
<p>
Sean Moriarity and I are glad to announce that the project we have been working on for the last 3 months, Nx, is finally <a href="https://github.com/elixir-nx/nx">publicly available on GitHub</a>. Our goal with Nx is to provide the foundation for Numerical Elixir.</p>
<p>
In this blog post, I am going to outline the work we have done so far, some of the design decisions, and what we are planning to explore next. If you are looking for other resources to learn about Nx, you can <a href="https://thinkingelixir.com/podcast-episodes/034-jose-valim-reveals-project-nx/">hear me unveiling Nx on the ThinkingElixir podcast</a>.</p>
<h2>
  Nx</h2>
<p>
Nx is a multi-dimensional tensors library for Elixir with multi-staged compilation to the CPU/GPU. Let’s see an example:</p>
<pre><code><span>iex&gt; </span><span>t</span><span> </span><span>=</span><span> </span><span>Nx</span><span>.</span><span>tensor</span><span data-group-id="8618334393-1">(</span><span data-group-id="8618334393-2">[</span><span data-group-id="8618334393-3">[</span><span>1</span><span>,</span><span> </span><span>2</span><span data-group-id="8618334393-3">]</span><span>,</span><span> </span><span data-group-id="8618334393-4">[</span><span>3</span><span>,</span><span> </span><span>4</span><span data-group-id="8618334393-4">]</span><span data-group-id="8618334393-2">]</span><span data-group-id="8618334393-1">)</span><span>
</span><span data-group-id="8618334393-5">#</span><span data-group-id="8618334393-5">Nx.Tensor</span><span data-group-id="8618334393-5">&lt;</span><span>
  </span><span>s64</span><span data-group-id="8618334393-6">[</span><span>2</span><span data-group-id="8618334393-6">]</span><span data-group-id="8618334393-7">[</span><span>2</span><span data-group-id="8618334393-7">]</span><span>
  </span><span data-group-id="8618334393-8">[</span><span>
    </span><span data-group-id="8618334393-9">[</span><span>1</span><span>,</span><span> </span><span>2</span><span data-group-id="8618334393-9">]</span><span>,</span><span>
    </span><span data-group-id="8618334393-10">[</span><span>3</span><span>,</span><span> </span><span>4</span><span data-group-id="8618334393-10">]</span><span>
  </span><span data-group-id="8618334393-8">]</span><span>
</span><span data-group-id="8618334393-5">&gt;</span></code></pre>
<p>
As you see, tensors have a type (s64) and a shape (2x2). Tensor operations are also done with the <code>Nx</code> module. To implement <a href="https://en.wikipedia.org/wiki/Softmax_function">the Softmax function</a>:</p>
<pre><code><span>iex&gt; </span><span>t</span><span> </span><span>=</span><span> </span><span>Nx</span><span>.</span><span>tensor</span><span data-group-id="7355051181-1">(</span><span data-group-id="7355051181-2">[</span><span data-group-id="7355051181-3">[</span><span>1</span><span>,</span><span> </span><span>2</span><span data-group-id="7355051181-3">]</span><span>,</span><span> </span><span data-group-id="7355051181-4">[</span><span>3</span><span>,</span><span> </span><span>4</span><span data-group-id="7355051181-4">]</span><span data-group-id="7355051181-2">]</span><span data-group-id="7355051181-1">)</span><span>
</span><span>iex&gt; </span><span>Nx</span><span>.</span><span>divide</span><span data-group-id="7355051181-5">(</span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="7355051181-6">(</span><span>t</span><span data-group-id="7355051181-6">)</span><span>,</span><span> </span><span>Nx</span><span>.</span><span>sum</span><span data-group-id="7355051181-7">(</span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="7355051181-8">(</span><span>t</span><span data-group-id="7355051181-8">)</span><span data-group-id="7355051181-7">)</span><span data-group-id="7355051181-5">)</span><span>
</span><span data-group-id="7355051181-9">#</span><span data-group-id="7355051181-9">Nx.Tensor</span><span data-group-id="7355051181-9">&lt;</span><span>
  </span><span>f64</span><span data-group-id="7355051181-10">[</span><span>2</span><span data-group-id="7355051181-10">]</span><span data-group-id="7355051181-11">[</span><span>2</span><span data-group-id="7355051181-11">]</span><span>
  </span><span data-group-id="7355051181-12">[</span><span>
    </span><span data-group-id="7355051181-13">[</span><span>0.03205860328008499</span><span>,</span><span> </span><span>0.08714431874203257</span><span data-group-id="7355051181-13">]</span><span>,</span><span>
    </span><span data-group-id="7355051181-14">[</span><span>0.23688281808991013</span><span>,</span><span> </span><span>0.6439142598879722</span><span data-group-id="7355051181-14">]</span><span>
  </span><span data-group-id="7355051181-12">]</span><span>
</span><span data-group-id="7355051181-9">&gt;</span></code></pre>
<p>
The high-level features in Nx are:</p>
<ul>
  <li>
    <p>
Typed multi-dimensional tensors, where the tensors can be unsigned integers (<code>u8</code>, <code>u16</code>, <code>u32</code>, <code>u64</code>), signed integers (<code>s8</code>, <code>s16</code>, <code>s32</code>, <code>s64</code>), floats (<code>f32</code>, <code>f64</code>) and brain floats (<code>bf16</code>);    </p>
  </li>
  <li>
    <p>
<a href="http://nlp.seas.harvard.edu/NamedTensor">Named tensors</a>, allowing developers to give names to each dimension, leading to more readable and less error prone codebases;    </p>
  </li>
  <li>
    <p>
Automatic differentiation, also known as autograd. The <code>grad</code> function provides reverse-mode differentiation, useful for simulations, training probabilistic models, etc;    </p>
  </li>
  <li>
    <p>
Tensors backends, which enables the main <code>Nx</code> API to be used to manipulate binary tensors, GPU-backed tensors, sparse matrices, and more;    </p>
  </li>
  <li>
    <p>
Numerical definitions, known as <code>defn</code>, provide multi-stage compilation of tensor operations to multiple targets, such as highly specialized CPU code or the GPU. The compilation can happen either ahead-of-time (AOT) or just-in-time (JIT) with a compiler of your choice;    </p>
  </li>
</ul>
<p>
For Python developers, <code>Nx</code> currently takes its main inspirations from <a href="https://numpy.org/"><code>Numpy</code></a> and <a href="https://github.com/google/jax"><code>JAX</code></a> but packaged into a single unified library.</p>
<p>
Our initial efforts have focused on the underlying abstractions. For example, while Nx implements dense tensors out-of-the-box, we also want the same high-level API to be valid for sparse tensors. You should also be able to use all functions in the <code>Nx</code> module with tensors that are backed by Elixir binaries and with tensors that are stored directly in the GPU.</p>
<p>
By ensuring the underlying tensor backend is ultimately replaceable, we can build an ecosystem of libraries on top of Nx, and allow end-users to experiment with different backends, hardware, and approaches to run their software on.</p>
<p>
<em>Nx’s mascot is the Numbat, a marsupial native to southern Australia. Unfortunately the Numbat are endangered and it is estimated to be fewer than 1000 left. If you are excited about Nx, consider donating to Numbat conservation efforts, such as <a href="https://www.numbat.org.au/">Project Numbat</a> and <a href="https://www.australianwildlife.org/">Australian Wildlife Conservancy</a>.</em></p>
<h2>
Numerical definitions</h2>
<p>
One of the most important features in <code>Nx</code> is the numerical definition, called <code>defn</code>. Numerical definitions are a subset of Elixir tailored for numerical computing. Here is the <code>softmax</code> formula above, now written with <code>defn</code>:</p>
<pre><code><span>defmodule</span><span> </span><span>Formula</span><span> </span><span data-group-id="4374234550-1">do</span><span>
  </span><span>import</span><span> </span><span>Nx.Defn</span><span>

  </span><span>defn</span><span> </span><span>softmax</span><span data-group-id="4374234550-2">(</span><span>t</span><span data-group-id="4374234550-2">)</span><span> </span><span data-group-id="4374234550-3">do</span><span>
    </span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="4374234550-4">(</span><span>t</span><span data-group-id="4374234550-4">)</span><span> </span><span>/</span><span> </span><span>Nx</span><span>.</span><span>sum</span><span data-group-id="4374234550-5">(</span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="4374234550-6">(</span><span>t</span><span data-group-id="4374234550-6">)</span><span data-group-id="4374234550-5">)</span><span>
  </span><span data-group-id="4374234550-3">end</span><span>
</span><span data-group-id="4374234550-1">end</span></code></pre>
<p>
The first difference we see with <code>defn</code> is that Elixir’s built-in operators have been augmented to also work with tensors. Effectively, <code>defn</code> replaces Elixir’s <code>Kernel</code> with <code>Nx.Defn.Kernel</code>.</p>
<p>
However, <code>defn</code> goes even further. When using <code>defn</code>, <code>Nx</code> builds a computation with all of your tensor operations. Let’s inspect it:</p>
<pre><code><span>defn</span><span> </span><span>softmax</span><span data-group-id="0485630283-1">(</span><span>t</span><span data-group-id="0485630283-1">)</span><span> </span><span data-group-id="0485630283-2">do</span><span>
  </span><span>inspect_expr</span><span data-group-id="0485630283-3">(</span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="0485630283-4">(</span><span>t</span><span data-group-id="0485630283-4">)</span><span> </span><span>/</span><span> </span><span>Nx</span><span>.</span><span>sum</span><span data-group-id="0485630283-5">(</span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="0485630283-6">(</span><span>t</span><span data-group-id="0485630283-6">)</span><span data-group-id="0485630283-5">)</span><span data-group-id="0485630283-3">)</span><span>
</span><span data-group-id="0485630283-2">end</span></code></pre>
<p>
Now when invoked, you will see this printed:</p>
<pre><code><span>iex(3)&gt; </span><span>Formula</span><span>.</span><span>softmax</span><span data-group-id="0315994704-1">(</span><span>Nx</span><span>.</span><span>tensor</span><span data-group-id="0315994704-2">(</span><span data-group-id="0315994704-3">[</span><span data-group-id="0315994704-4">[</span><span>1</span><span>,</span><span> </span><span>2</span><span data-group-id="0315994704-4">]</span><span>,</span><span> </span><span data-group-id="0315994704-5">[</span><span>3</span><span>,</span><span> </span><span>4</span><span data-group-id="0315994704-5">]</span><span data-group-id="0315994704-3">]</span><span data-group-id="0315994704-2">)</span><span data-group-id="0315994704-1">)</span><span>
</span><span data-group-id="0315994704-6">#</span><span data-group-id="0315994704-6">Nx.Tensor</span><span data-group-id="0315994704-6">&lt;</span><span>
  </span><span>f64</span><span data-group-id="0315994704-7">[</span><span>2</span><span data-group-id="0315994704-7">]</span><span data-group-id="0315994704-8">[</span><span>2</span><span data-group-id="0315994704-8">]</span><span>
  
  </span><span>Nx.Defn.Expr</span><span>
  </span><span>parameter</span><span> </span><span>a</span><span>                                 </span><span>s64</span><span data-group-id="0315994704-9">[</span><span>2</span><span data-group-id="0315994704-9">]</span><span data-group-id="0315994704-10">[</span><span>2</span><span data-group-id="0315994704-10">]</span><span>
  </span><span>b</span><span> </span><span>=</span><span> </span><span>exp</span><span> </span><span data-group-id="0315994704-11">[</span><span> </span><span>a</span><span> </span><span data-group-id="0315994704-11">]</span><span>                               </span><span>f64</span><span data-group-id="0315994704-12">[</span><span>2</span><span data-group-id="0315994704-12">]</span><span data-group-id="0315994704-13">[</span><span>2</span><span data-group-id="0315994704-13">]</span><span>
  </span><span>c</span><span> </span><span>=</span><span> </span><span>exp</span><span> </span><span data-group-id="0315994704-14">[</span><span> </span><span>a</span><span> </span><span data-group-id="0315994704-14">]</span><span>                               </span><span>f64</span><span data-group-id="0315994704-15">[</span><span>2</span><span data-group-id="0315994704-15">]</span><span data-group-id="0315994704-16">[</span><span>2</span><span data-group-id="0315994704-16">]</span><span>
  </span><span>d</span><span> </span><span>=</span><span> </span><span>sum</span><span> </span><span data-group-id="0315994704-17">[</span><span> </span><span>c</span><span>,</span><span> </span><span>axes</span><span>:</span><span> </span><span>nil</span><span>,</span><span> </span><span>keep_axes</span><span>:</span><span> </span><span>false</span><span> </span><span data-group-id="0315994704-17">]</span><span>  </span><span>f64</span><span>
  </span><span>e</span><span> </span><span>=</span><span> </span><span>divide</span><span> </span><span data-group-id="0315994704-18">[</span><span> </span><span>b</span><span>,</span><span> </span><span>d</span><span> </span><span data-group-id="0315994704-18">]</span><span>                         </span><span>f64</span><span data-group-id="0315994704-19">[</span><span>2</span><span data-group-id="0315994704-19">]</span><span data-group-id="0315994704-20">[</span><span>2</span><span data-group-id="0315994704-20">]</span><span>
</span><span data-group-id="0315994704-6">&gt;</span><span>
</span><span data-group-id="0315994704-21">#</span><span data-group-id="0315994704-21">Nx.Tensor</span><span data-group-id="0315994704-21">&lt;</span><span>
  </span><span>f64</span><span data-group-id="0315994704-22">[</span><span>2</span><span data-group-id="0315994704-22">]</span><span data-group-id="0315994704-23">[</span><span>2</span><span data-group-id="0315994704-23">]</span><span>
  </span><span data-group-id="0315994704-24">[</span><span>
    </span><span data-group-id="0315994704-25">[</span><span>0.03205860328008499</span><span>,</span><span> </span><span>0.08714431874203257</span><span data-group-id="0315994704-25">]</span><span>,</span><span>
    </span><span data-group-id="0315994704-26">[</span><span>0.23688281808991013</span><span>,</span><span> </span><span>0.6439142598879722</span><span data-group-id="0315994704-26">]</span><span>
  </span><span data-group-id="0315994704-24">]</span><span>
</span><span data-group-id="0315994704-21">&gt;</span></code></pre>
<p>
This computation graph can also be transformed programatically. The transformation is precisely how we implement automatic differentiation, also known as <code>autograd</code>, by traversing each node and computing their derivative:</p>
<pre><code><span>defn</span><span> </span><span>grad_softmax</span><span data-group-id="6961223907-1">(</span><span>t</span><span data-group-id="6961223907-1">)</span><span> </span><span data-group-id="6961223907-2">do</span><span>
  </span><span>grad</span><span data-group-id="6961223907-3">(</span><span>t</span><span>,</span><span> </span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="6961223907-4">(</span><span>t</span><span data-group-id="6961223907-4">)</span><span> </span><span>/</span><span> </span><span>Nx</span><span>.</span><span>sum</span><span data-group-id="6961223907-5">(</span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="6961223907-6">(</span><span>t</span><span data-group-id="6961223907-6">)</span><span data-group-id="6961223907-5">)</span><span data-group-id="6961223907-3">)</span><span>
</span><span data-group-id="6961223907-2">end</span></code></pre>
<p>
Finally, this computation graph can also be handed out to different compilers. As an example, we have implemented bindings for <a href="https://www.tensorflow.org/xla/">Google’s XLA</a> compiler, called EXLA. We can ask the <code>softmax</code> function to use this new compiler with a module attribute:</p>
<pre><code><span>@defn_compiler</span><span> </span><span data-group-id="9487003846-1">{</span><span>EXLA</span><span>,</span><span> </span><span>client</span><span>:</span><span> </span><span>:host</span><span data-group-id="9487003846-1">}</span><span>
</span><span>defn</span><span> </span><span>softmax</span><span data-group-id="9487003846-2">(</span><span>t</span><span data-group-id="9487003846-2">)</span><span> </span><span data-group-id="9487003846-3">do</span><span>
  </span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="9487003846-4">(</span><span>t</span><span data-group-id="9487003846-4">)</span><span> </span><span>/</span><span> </span><span>Nx</span><span>.</span><span>sum</span><span data-group-id="9487003846-5">(</span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="9487003846-6">(</span><span>t</span><span data-group-id="9487003846-6">)</span><span data-group-id="9487003846-5">)</span><span>
</span><span data-group-id="9487003846-3">end</span></code></pre>
<p>
Once <code>softmax</code> is called, <code>Nx.Defn</code> will invoke <code>EXLA</code> to emit a just-in-time and highly-specialized compiled version of the code, tailored to the tensor type and shape. By passing <code>client: :cuda</code> or <code>client: :rocm</code>, the code can be compiled for the GPU. For reference, here are some benchmarks of the function above when called with a tensor of one million random float values on different clients:</p>
<pre><code>Name                       ips        average  deviation         median         99th %
xla gpu f32 keep      15308.14      0.0653 ms    ±29.01%      0.0638 ms      0.0758 ms
xla gpu f64 keep       4550.59        0.22 ms     ±7.54%        0.22 ms        0.33 ms
xla cpu f32             434.21        2.30 ms     ±7.04%        2.26 ms        2.69 ms
xla gpu f32             398.45        2.51 ms     ±2.28%        2.50 ms        2.69 ms
xla gpu f64             190.27        5.26 ms     ±2.16%        5.23 ms        5.56 ms
xla cpu f64             168.25        5.94 ms     ±5.64%        5.88 ms        7.35 ms
elixir f32                3.22      311.01 ms     ±1.88%      309.69 ms      340.27 ms
elixir f64                3.11      321.70 ms     ±1.44%      322.10 ms      328.98 ms

Comparison:
xla gpu f32 keep      15308.14
xla gpu f64 keep       4550.59 - 3.36x slower +0.154 ms
xla cpu f32             434.21 - 35.26x slower +2.24 ms
xla gpu f32             398.45 - 38.42x slower +2.44 ms
xla gpu f64             190.27 - 80.46x slower +5.19 ms
xla cpu f64             168.25 - 90.98x slower +5.88 ms
elixir f32                3.22 - 4760.93x slower +310.94 ms
elixir f64                3.11 - 4924.56x slower +321.63 ms</code></pre>
<p>
Where <code>keep</code> indicates the tensor was kept on the device instead of being transferred back to Elixir. You can see the benchmark in the <a href="https://github.com/elixir-nx/nx/tree/main/exla/bench"><code>bench</code></a> directory and find some examples in the <a href="https://github.com/elixir-nx/nx/tree/main/exla/examples"><code>examples</code></a> directory of the EXLA project.</p>
<h3>
Compiling numerical definitions</h3>
<p>
Before moving forward, it is important for us to take a look at how numerical definitions are compiled. For example, take the <code>softmax</code> function:</p>
<pre><code><span>defn</span><span> </span><span>softmax</span><span data-group-id="0256028582-1">(</span><span>t</span><span data-group-id="0256028582-1">)</span><span> </span><span data-group-id="0256028582-2">do</span><span>
  </span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="0256028582-3">(</span><span>t</span><span data-group-id="0256028582-3">)</span><span> </span><span>/</span><span> </span><span>Nx</span><span>.</span><span>sum</span><span data-group-id="0256028582-4">(</span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="0256028582-5">(</span><span>t</span><span data-group-id="0256028582-5">)</span><span data-group-id="0256028582-4">)</span><span>
</span><span data-group-id="0256028582-2">end</span></code></pre>
<p>
One might think that Elixir takes the AST of the softmax function above and compiles it directly to the GPU. However, that’s not the case! Numerical definitions are first compiled to Elixir code that will emit the computation graph and this computation graph is then compiled to the GPU. The multiple stages go like this:</p>
<pre><code>Elixir AST
-&gt; compiles to .beam (Erlang VM bytecode)
   -&gt; executes into defn AST
      -&gt; compiles to GPU</code></pre>
<p>
This multi-stage programming is made possible thanks to Elixir macros. For example, when you see a conditional inside <code>defn</code>, that conditional looks exactly like Elixir conditionals, but it will be compiled to an accelerator:</p>
<pre><code><span>defn</span><span> </span><span>softmax</span><span data-group-id="3414005179-1">(</span><span>t</span><span data-group-id="3414005179-1">)</span><span> </span><span data-group-id="3414005179-2">do</span><span>
  </span><span>if</span><span> </span><span>Nx</span><span>.</span><span>any?</span><span data-group-id="3414005179-3">(</span><span>t</span><span data-group-id="3414005179-3">)</span><span> </span><span data-group-id="3414005179-4">do</span><span>
    </span><span>-</span><span>1</span><span>
  </span><span data-group-id="3414005179-4">else</span><span>
    </span><span>1</span><span>
  </span><span data-group-id="3414005179-4">end</span><span>
</span><span data-group-id="3414005179-2">end</span></code></pre>
<p>
In a nutshell, <code>defn</code> provides us with a subset of Elixir for numerical computations that can be compiled to specific hardware, such as CPU, GPU, and other accelerators. All of this was possible without making changes or forking the language.</p>
<p>
And while <code>defn</code> is a subset of the language, it is a considerable one. You will find support for:</p>
<ul>
  <li>
Mathematical operators  </li>
  <li>
Pipes (<code>|&gt;</code>), module attributes, the access syntax (i.e. <code>tensor[1][1..-1]</code>), etc  </li>
  <li>
Elixir macros constructs (imports, aliases, etc)  </li>
  <li>
Control-flow with conditionals (both <code>if</code> and <code>cond</code>), loops (coming soon), etc  </li>
  <li>
Transformations, an explicit mechanism to invoke Elixir code from a <code>defn</code> (which enables constructs such as <code>grad</code>)  </li>
</ul>
<p>
And more coming down the road.</p>
<h2>
Why functional programming?</h2>
<p>
At this point, you may be wondering: is functional programming a good fit for numerical computing? One of the main concerns is that immutability can be expensive when working with large blobs of memory. And that’s a valid concern! In fact, when using the default tensor backend, tensors will be backed by Elixir binaries which are copied on every operation. That’s why it was critical for us to design <code>Nx</code> with pluggable backends from day one.</p>
<p>
However, as we move to higher-level abstractions, such as numerical definitions, we will start to reap the benefits of functional programming.</p>
<p>
For example, in order to build computation graphs, immutability becomes an indispensable tool both in terms of implementation and reasoning. The JAX library for Python, which has been one of the guiding lights for Nx design, also promotes functional and immutable principles:</p>
<blockquote>
  <p>
<em>JAX is intended to be used with a functional style of programming</em>  </p>
  <p>
— <a href="https://jax.readthedocs.io/en/latest/jax.ops.html?highlight=functional#indexed-update-operators">JAX Docs</a>  </p>
</blockquote>
<blockquote>
  <p>
<em>Unlike NumPy arrays, JAX arrays are always immutable</em>  </p>
  <p>
— <a href="https://jax.readthedocs.io/en/latest/notebooks/thinking_in_jax.html?highlight=immutable#JAX-vs.-NumPy">JAX Docs</a>  </p>
</blockquote>
<p>
Similarly, frameworks like <a href="https://thinc.ai/">Thinc.ai</a> argue that functional programming can provide better abstractions and more composable building blocks for deep learning libraries.</p>
<p>
We hope that, by exploring these concepts in a language that is functional by design, Elixir can bring new ideas and insights at the higher-level.</p>
<h2>
What is next?</h2>
<p>
There is a lot of work ahead of us and we definitely cannot …</p></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://dashbit.co/blog/nx-numerical-elixir-is-now-publicly-available">https://dashbit.co/blog/nx-numerical-elixir-is-now-publicly-available</a></em></p>]]>
            </description>
            <link>https://dashbit.co/blog/nx-numerical-elixir-is-now-publicly-available</link>
            <guid isPermaLink="false">hacker-news-small-sites-26250660</guid>
            <pubDate>Wed, 24 Feb 2021 15:10:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[RabbitMQ vs. Pub/Sub: Choosing a Message Queue for Your GCP Project – Part 1]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26250642">thread link</a>) | @mnembrini
<br/>
February 24, 2021 | https://engineering.3ap.ch/post/rabbitmq-vs-pubsub-part-1/ | <a href="https://web.archive.org/web/*/https://engineering.3ap.ch/post/rabbitmq-vs-pubsub-part-1/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>RabbitMQ and Google Pub/Sub are both powerful and reliable message queue implementations, and if you need to pick one of them for your Google Cloud Platform (GCP) project, the choice may not be simple. We recently started a new project that required a message broker integrated into the solution, and although there are several choices on the market, we quickly narrowed down our options to these two products. This blog post is the first part of the summary of our analysis.</p><p>The project in question — an apartment rental platform for Swiss clients — had to meet both scalability and geographically restricted hosting requirements. When we began, GCP was the most viable option for meeting these requirements. However, the technology was new to us, which meant we needed to reconsider some of our technology choices.</p><p>In this new software, some of our services were going to communicate via message queues, which meant we also needed to choose a message queue implementation that could be deployed to GCP. Additionally, it was important that we decided on something reliable.</p><p>In a non-GCP project, RabbitMQ would be the preferred choice because it’s well-known among our team, it has a convenient administrative interface, it has extensively configurable message distribution and routing, and most importantly, its documentation is well-maintained and thorough.</p><p>However, RabbitMQ is not a native building block of the GCP infrastructure — we can still install it fairly easily from the GCP Marketplace as a Click to Deploy container, but as a custom install, there’s no service-level agreement (SLA) for it.</p><p>Meanwhile, Pub/Sub is GCP’s native implementation for message queues. We hadn’t used it before, but after a quick look at the official developer documentation, our first impressions were positive. Setting up queues requires just a few clicks, and there’s documentation with examples of how to use the queues with some widely used programming languages.</p><p>Let’s explore the benefits of each solution and see how easy it is to build up a queue topology with RabbitMQ and Pub/Sub.</p><p>The general idea of a message broker is to relay messages from publishers to consumers by routing them to different delivery queues. So, we’ll first look at the basic building blocks of RabbitMQ and Pub/Sub to see how much they differ from one another.</p><figure><img src="https://engineering.3ap.ch/message-broker-generic.svg" alt="publishers routing logic queues consumers" loading="lazy"><figcaption>The idea of a message broker</figcaption></figure><p><em>RabbitMQ</em> is an open source message broker that implements the Advanced Message Queueing Protocol (AMQP) standard, and with its various plugins, it also supports other protocols, including Streaming Text Oriented Messaging Protocol (STOMP) and MQ Telemetry Transport. In this post, we’ll focus on RabbitMQ’s AMQP features.</p><p>In RabbitMQ, the topology is built up from <strong>exchanges</strong> and <strong>queues</strong> that are connected by <strong>bindings</strong>.</p><figure><img src="https://engineering.3ap.ch/rabbitmq-broker.svg" alt="publishers exchanges bindings queues consumers" loading="lazy"><figcaption>The RabbitMQ broker building blocks</figcaption></figure><h2 id="exchanges">Exchanges</h2><p>Exchanges make it possible to define the routing of messages to queues connected to the exchange. Message publishers have to send their messages to exchanges, and from there, they’re routed to queues.</p><p>Exchanges can be created on demand by the publisher or the consumer, and they must be declared with a name and a type. The table below shows the four possible types of exchanges, along with their behaviors:</p><table><thead><tr><th>Exchange Type</th><th>Behavior</th></tr></thead><tbody><tr><td>Direct</td><td>The message goes to the queues with a binding key that matches the routing key of the message exactly.</td></tr><tr><td>Topic</td><td>This routes messages to queues based on a wildcard match between the routing key and the routing pattern.</td></tr><tr><td>Headers</td><td>These are similar to Topic exchanges, but they use headers and optional values for routing.</td></tr><tr><td>Fanout</td><td>This broadcasts all the messages it receives to all the queues it knows. Routing keys are ignored.</td></tr></tbody></table><p>In a <em>topic exchange</em>, wildcards can be used for defining bindings based on routing keys.</p><p>Let’s suppose our broker propagates messages with routing keys following this structure: <code>transaction.&lt;product&gt;.&lt;city&gt;.&lt;productcode&gt;</code> — for example, <code>transaction.stock.london.ABC</code>, <code>transaction.bond.frankfurt.DEF</code>, and <code>transaction.stock.newyork.JKL</code>. We can define the following kinds of binding rules for such routing keys:</p><table><thead><tr><th>Binding Rule</th><th>Meaning</th></tr></thead><tbody><tr><td><code>transaction.stock.london.#</code></td><td>Matches any routing key starting with <code>transaction.stock.london.</code></td></tr><tr><td><code>transaction.*.london.#</code></td><td>Matches routing keys starting with <code>transaction</code>, then with any string as the second element, followed by <code>london</code></td></tr></tbody></table><p>With <em>header exchanges</em>, you can specify matching rules for header attribute values.</p><p>Let’s suppose all our messages have a <code>format</code> and a <code>type</code> header attribute and they look like <code>{format = jpg, type = profilephoto}</code>, <code>{format = pdf, type = workpermit}</code>, or <code>{format = jpg, type = workpermit}</code>. The header exchange may define conjunctive and disjunctive binding rules by listing headers with their expected values, such as:</p><table><thead><tr><th>Binding Rule</th><th>Meaning</th></tr></thead><tbody><tr><td><code>{format = jpg, type = workpermit, x-match = all}</code></td><td>Matches messages with the arguments <code>format = jpg</code> AND <code>type = workpermit</code></td></tr><tr><td><code>{format = jpg, type = profilephoto, x-match = any}</code></td><td>Matches messages with the argument <code>format = jpg</code> OR <code>type = profilephoto</code></td></tr></tbody></table><p>By default, every RabbitMQ broker installation comes with a set of <em>predeclared exchanges</em> for each exchange type:</p><table><thead><tr><th>Exchange Type</th><th>Default Name</th></tr></thead><tbody><tr><td>Direct</td><td><code>amq.direct</code> or empty string</td></tr><tr><td>Topic</td><td><code>amq.topic</code></td></tr><tr><td>Headers</td><td><code>amq.headers</code> (and the AMQP standard <code>amq.match</code>)</td></tr><tr><td>Fanout</td><td><code>amq.fanout</code></td></tr></tbody></table><p>The <em>default exchange</em> is the direct exchange with no name (empty string). It has a useful feature that comes in handy for simple applications: Every queue that’s created is bound to this direct exchange with a routing key that’s the same as the queue name.</p><p>In addition to types, exchanges have some other important features, outlined below:</p><table><thead><tr><th>Feature</th><th>Description</th></tr></thead><tbody><tr><td>Durability</td><td>Durable exchanges survive broker restarts, while transient ones don’t.</td></tr><tr><td>Auto-delete</td><td>An exchange can be deleted automatically as soon as the last queue is unbound from it.</td></tr><tr><td>Internal</td><td>This specifies whether or not the exchange is reserved for internal use by the broker only.</td></tr><tr><td>Arguments</td><td>This is a user-definable attribute list where the values can be of type string, list, number, or Boolean. A reserved argument name is <code>alternate-exchange</code>.</td></tr><tr><td>Alternate exchange</td><td>If the routing of messages isn’t possible via any of the bindings, messages will be sent to the alternate exchange if specified.</td></tr></tbody></table><h2 id="queues">Queues</h2><p>Queues are named resources that store messages consumed by applications. Some important attributes (or arguments, as they’re referred to in RabbitMQ) are outlined below:</p><table><thead><tr><th>Attribute</th><th>Meaning</th></tr></thead><tbody><tr><td><code>x-max-priority</code></td><td>If this is set, the queue can handle message priorities.</td></tr><tr><td><code>x-message-ttl</code></td><td>After the TTL period expires, the message will be discarded from the queue.</td></tr><tr><td><code>x-expires</code></td><td>If the queue remains unused for the specified period, it’ll automatically be deleted.</td></tr><tr><td><code>x-max-length</code></td><td>This is the maximum number of messages in the queue.</td></tr><tr><td><code>x-max-length-bytes</code></td><td>This is the total body size of messages a queue can contain.</td></tr><tr><td><code>x-overflow</code></td><td>This specifies what should happen with messages if the queue is full. It can start dropping the oldest or the newest messages or republish the newest ones to the dead letter queue.</td></tr><tr><td><code>x-dead-letter-exchange</code></td><td>This is an optional dead letter exchange.</td></tr><tr><td><code>x-dead-letter-routing-key</code></td><td>The routing key of dead-lettered messages can be optionally replaced.</td></tr><tr><td><code>x-queue-mode</code></td><td>If this is set to <code>lazy</code>, all the messages are written to disk. This causes some performance degradation, but it eliminates unexpected glitches in performance.</td></tr></tbody></table><p>Consumers get messages from the queues using a push or a pull mechanism. Push-style delivery happens via consumer channels that should be registered by the consumer application with a <code>basic.consume</code> request. When the broker pushes a message to the consumer (<code>basic.deliver</code>), the consumer has to acknowledge the receipt. This acknowledgement can be positive (<code>basic.ack</code>), negative (<code>basic.nack</code>), or a rejection (<code>basic.reject</code>). The broker doesn’t remove the message from the queue until it gets some kind of acknowledgement. Depending on the acknowledgement type, the message can be deleted, requeued, or rerouted.</p><p>The consumer can be registered in auto-acknowledgement mode, but it’s quite risky, because in this case, the queue automatically removes the message from the queue once it’s been pushed to the consumer, and it doesn’t wait for any processing acknowledgement (meaning that if the consumer dies, the message gets lost).</p><p>The other possibility for the consumer is to poll the queues directly by using <code>basic.get</code> requests. This is expensive compared to push-style delivery, because the consumer has to both repeatedly check if there are new messages in the queue and wait for a response.</p><h2 id="dead-letter-exchanges">Dead Letter Exchanges</h2><p>We can use dead letter exchanges to catch messages that weren’t processed by the consumer for some reason. Messages can be republished to a dead letter exchange if:</p><ul><li>The message was negatively acknowledged (<code>basic.nack</code> or <code>basic.reject</code>).</li><li>The message expired due to its TTL.</li><li>The message was dropped because its queue is over the length limit.</li></ul><h2 id="rabbitmq-messages">RabbitMQ Messages</h2><p>A message consists of the message body and additional attributes (some of them are known as headers). Some predefined attributes include:</p><ul><li>Content type</li><li>Encoding</li><li>Routing key</li><li>Delivery mode (persistent or not)</li><li>Priority (effective only on queues that have priorities enabled)</li><li>Publishing timestamp</li><li>Expiration period</li><li>Publisher application ID</li></ul><h2 id="sending-a-message-with-rabbitmq">Sending a Message with RabbitMQ</h2><p>Messages have to be published to exchanges, and the exchanges route them to the queues. When sending a message, the publisher has to specify the routing key and the exchange name. If the exchange name is specified as an empty string, the message is directly routed to the queue that has the same name as its routing key (see the explanation of default exchanges in the <a href="#exchanges">Exchanges section above</a>
).</p><p>Pub/Sub is Google’s message broker implementation. It’s a native building block of the Google Cloud infrastructure and can be used exclusively in Google Cloud. We only have to enable the Pub/Sub Services in our GCP project, and then we can start integrating our application with this service.</p><p>In Pub/Sub, we can build our queue topology from <strong>topics</strong> and <strong>subscriptions</strong>.</p><figure><img src="https://engineering.3ap.ch/pubsub-broker.svg" alt="publishers topics subscriptions consumers" loading="lazy"><figcaption>The Pub/Sub broker building blocks</figcaption></figure><h2 id="topics">Topics</h2><p>Topics…</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://engineering.3ap.ch/post/rabbitmq-vs-pubsub-part-1/">https://engineering.3ap.ch/post/rabbitmq-vs-pubsub-part-1/</a></em></p>]]>
            </description>
            <link>https://engineering.3ap.ch/post/rabbitmq-vs-pubsub-part-1/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26250642</guid>
            <pubDate>Wed, 24 Feb 2021 15:08:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Prophecy: Low Code Data Engineering on Spark – free for small teams]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26250592">thread link</a>) | @ibains
<br/>
February 24, 2021 | https://www.prophecy.io/blogs/prophecy-saas-release | <a href="https://web.archive.org/web/*/https://www.prophecy.io/blogs/prophecy-saas-release">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p><a href="https://app.prophecy.io/metadata/auth/signup" target="_blank"><strong>Sign up for your free Account!</strong></a></p><p>We at Prophecy believe that data engineers do the amazing work of enabling analytics and machine learning by providing them with high quality and up to date data. This is critical to every business and data engineers deserve the best tools.<br></p><p><iframe src="https://www.youtube.com/embed/JAy1CCg_Ik4?rel=0&amp;controls=1&amp;autoplay=0&amp;mute=0&amp;start=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen=""></iframe></p><p>Apache Spark is preferred for data processing since it is powerful, general purpose and open source. However, there are multiple <strong>challenges</strong> in succeeding with Spark:<br></p><ul role="list"><li>Spark has a <strong>high learning curve</strong>, and is not accessible to many of the users in an organization. Visual ETL developers have to learn to write Spark code - in a large organization this can be a few hundred users. Then there are data analysts, machine learning engineers, metadata architects who all need to access and process the same data.</li><li><strong>Code quality</strong> is the next issue. As users start building workflows (or moving them from legacy ETL products such as Informatica or AbInitio), they are learning Spark while writing lots of Spark code. This leads to low performing, non-standard and un-maintainable code mess. Then we've seen a push in many organizations to build the <strong>dreaded internal framework</strong>.</li><li><strong>Best practices</strong> take time to learn - development is just one piece of the puzzle. Teams want to move to agile best practices, and learning how to test, how to go from dev -&gt; test -&gt; production, how to schedule workflows in production - all of this takes time to learn and create discipline.</li></ul><p>Prophecy is a low-code product and you don't need to know Spark to get started. If you can use visual drag-and-drop and can write some SQL expressions - that's all you need.<br></p><p><img src="https://assets.website-files.com/5ec3ebc95538f8302b8dcdf3/60354c01d5cf20ed362550f9_product-visual-development-screenshot.png" loading="lazy" sizes="(max-width: 479px) 87vw, (max-width: 991px) 92vw, 780px" srcset="https://assets.website-files.com/5ec3ebc95538f8302b8dcdf3/60354c01d5cf20ed362550f9_product-visual-development-screenshot-p-500.png 500w, https://assets.website-files.com/5ec3ebc95538f8302b8dcdf3/60354c01d5cf20ed362550f9_product-visual-development-screenshot-p-800.png 800w, https://assets.website-files.com/5ec3ebc95538f8302b8dcdf3/60354c01d5cf20ed362550f9_product-visual-development-screenshot-p-1080.png 1080w, https://assets.website-files.com/5ec3ebc95538f8302b8dcdf3/60354c01d5cf20ed362550f9_product-visual-development-screenshot-p-1600.png 1600w, https://assets.website-files.com/5ec3ebc95538f8302b8dcdf3/60354c01d5cf20ed362550f9_product-visual-development-screenshot-p-2000.png 2000w, https://assets.website-files.com/5ec3ebc95538f8302b8dcdf3/60354c01d5cf20ed362550f9_product-visual-development-screenshot-p-2600.png 2600w, https://assets.website-files.com/5ec3ebc95538f8302b8dcdf3/60354c01d5cf20ed362550f9_product-visual-development-screenshot-p-3200.png 3200w, https://assets.website-files.com/5ec3ebc95538f8302b8dcdf3/60354c01d5cf20ed362550f9_product-visual-development-screenshot.png 3566w" alt=""><img src="https://assets.website-files.com/5ec3ebc95538f8302b8dcdf3/60354c3f591be92858c0e5a2_product-visual-development-detail-writing-expression.png" loading="lazy" sizes="(max-width: 479px) 87vw, (max-width: 991px) 92vw, 780px" srcset="https://assets.website-files.com/5ec3ebc95538f8302b8dcdf3/60354c3f591be92858c0e5a2_product-visual-development-detail-writing-expression-p-500.png 500w, https://assets.website-files.com/5ec3ebc95538f8302b8dcdf3/60354c3f591be92858c0e5a2_product-visual-development-detail-writing-expression-p-800.png 800w, https://assets.website-files.com/5ec3ebc95538f8302b8dcdf3/60354c3f591be92858c0e5a2_product-visual-development-detail-writing-expression-p-1080.png 1080w, https://assets.website-files.com/5ec3ebc95538f8302b8dcdf3/60354c3f591be92858c0e5a2_product-visual-development-detail-writing-expression-p-1600.png 1600w, https://assets.website-files.com/5ec3ebc95538f8302b8dcdf3/60354c3f591be92858c0e5a2_product-visual-development-detail-writing-expression-p-2000.png 2000w, https://assets.website-files.com/5ec3ebc95538f8302b8dcdf3/60354c3f591be92858c0e5a2_product-visual-development-detail-writing-expression-p-2600.png 2600w, https://assets.website-files.com/5ec3ebc95538f8302b8dcdf3/60354c3f591be92858c0e5a2_product-visual-development-detail-writing-expression-p-3200.png 3200w, https://assets.website-files.com/5ec3ebc95538f8302b8dcdf3/60354c3f591be92858c0e5a2_product-visual-development-detail-writing-expression.png 3566w" alt=""></p><p>Prophecy uniquely combines <strong>visual development</strong> &amp; <strong>code development</strong> -you can edit the same workflow in either editor, however, you are always producing<strong> high-quality Apache Spark code</strong> on Git that is 100% open and runs everywhere. You can <strong>develop 10x more productively</strong> in Prophecy than any other way - with agile best practices - code, tests, continuous integration and continuous deployment.<br></p><p><img src="https://assets.website-files.com/5ec3ebc95538f8302b8dcdf3/60354da7fd8c3ea003bbd6ee_product-code-development-screenshot.png" loading="lazy" sizes="(max-width: 479px) 87vw, (max-width: 991px) 92vw, 780px" srcset="https://assets.website-files.com/5ec3ebc95538f8302b8dcdf3/60354da7fd8c3ea003bbd6ee_product-code-development-screenshot-p-500.png 500w, https://assets.website-files.com/5ec3ebc95538f8302b8dcdf3/60354da7fd8c3ea003bbd6ee_product-code-development-screenshot-p-800.png 800w, https://assets.website-files.com/5ec3ebc95538f8302b8dcdf3/60354da7fd8c3ea003bbd6ee_product-code-development-screenshot-p-1080.png 1080w, https://assets.website-files.com/5ec3ebc95538f8302b8dcdf3/60354da7fd8c3ea003bbd6ee_product-code-development-screenshot-p-1600.png 1600w, https://assets.website-files.com/5ec3ebc95538f8302b8dcdf3/60354da7fd8c3ea003bbd6ee_product-code-development-screenshot-p-2000.png 2000w, https://assets.website-files.com/5ec3ebc95538f8302b8dcdf3/60354da7fd8c3ea003bbd6ee_product-code-development-screenshot-p-2600.png 2600w, https://assets.website-files.com/5ec3ebc95538f8302b8dcdf3/60354da7fd8c3ea003bbd6ee_product-code-development-screenshot-p-3200.png 3200w, https://assets.website-files.com/5ec3ebc95538f8302b8dcdf3/60354da7fd8c3ea003bbd6ee_product-code-development-screenshot.png 3570w" alt=""></p><h2>Announcing Prophecy SaaS</h2><div><p>We're releasing our SaaS product today and making it <strong>free forever for teams of up to 3 users </strong>(with no catch, and no credit card required). It runs with Databricks Spark on AWS, Azure and GCP. We'll release support for other Spark providers over the next few months. For more users, you can purchase additional licenses. </p><p>Our existing Enterprise product - that has a stand alone install inside the customer network, runs with most on-premise and cloud Spark providers.</p></div><p>What's included in the SaaS product?</p><ul role="list"><li>Create new Spark workflows using visual drag-and-drop and SQL expressions</li><li>Connect to your Spark cluster and interactively run the workflow</li><li>Workflow code is in Scala or PySpark - connect to your Github/Bitbucket</li><li>Create tests for workflows</li><li>Schedule workflows using Apache Airflow</li></ul><p>You can get setup in 3 minutes, and build your first workflow in 5 minutes. </p><p><a href="https://app.prophecy.io/metadata/auth/signup" target="_blank"><strong>Sign up for your free Account!</strong></a></p><p>For detailed introduction to Prophecy SaaS, the following resources are available</p><ul role="list"><li><a href="https://www.prophecy.io/prophecy-university" target="_blank">Getting Started Video Course</a></li><li><a href="https://docs.prophecy.io/developer/" target="_blank">Developer Documentation</a></li><li><a href="https://join.slack.com/t/prophecytalk/shared_invite/zt-moq3xzoj-~5MSJ6WPnZfz7bwsqWi8tQ" target="_blank">Community Slack Channel</a></li></ul><p>We're excited to contribute toward democratizing data engineering on Spark, making it easier for smaller companies and smaller teams to succeed with an Enterprises grade product. Please use the product, and send us your feedback - feedback@prophecy.io.</p></div></div></div>]]>
            </description>
            <link>https://www.prophecy.io/blogs/prophecy-saas-release</link>
            <guid isPermaLink="false">hacker-news-small-sites-26250592</guid>
            <pubDate>Wed, 24 Feb 2021 15:04:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A new choice for parents of tweens and teens on YouTube]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26250215">thread link</a>) | @alexrustic
<br/>
February 24, 2021 | https://blog.youtube/news-and-events/supervised-experiences-for-families-on-youtube/ | <a href="https://web.archive.org/web/*/https://blog.youtube/news-and-events/supervised-experiences-for-families-on-youtube/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-component="yt-progress-bar">
  <p>
    A new choice for parents of tweens and teens on YouTube
  </p>
  
  



  
</div><div>
      

<div>
  
  <section>
    
    <div>
      
      <div>
        <p><img src="https://storage.googleapis.com/gweb-uniblog-publish-prod/original_images/NEW_Supex_MobileHero_US_MSIN9zE.gif" alt="A new choice for parents of tweens and teens on YouTube">
        
        </p>
      </div>
      <p>
        <article>
          Today, we are announcing a new choice for parents who have decided their tweens and teens are ready to explore YouTube with a supervised account.
        </article>
      </p>
    </div>
  </section>
</div>


      
        
          



<section data-media-type="paragraph">
  <div>
    
    <div>
      <div>
        <div><p>This generation of tweens and teens has grown up online, and it’s where they go to learn, laugh, and connect. Every family has a different approach to how they use technology, access the internet and set digital ground rules. Over the years, we’ve made investments to protect families and kids on YouTube, such as launching a dedicated <a href="https://blog.youtube/news-and-events/youtube-kids/">kids app</a>, better protecting their <a href="https://blog.youtube/news-and-events/an-update-on-kids/">privacy</a>, <a href="https://blog.youtube/news-and-events/an-update-on-our-efforts-to-protect/">restricting features</a> and improving <a href="https://blog.youtube/news-and-events/using-technology-more-consistently-apply-age-restrictions/">age restrictions</a>. Today, we are announcing a <a href="http://youtube.com/myfamily">new choice</a> for parents who have decided their tweens and teens are ready to explore YouTube with a supervised account.&nbsp;</p></div>
      </div>
      
    </div>
  </div>
</section>

        
      
        
          



<section data-media-type="image_paragraph">
  <div>
    <div>
      
        <div>
          
              <p><img src="https://storage.googleapis.com/gweb-uniblog-publish-prod/original_images/BINK_YouTube_ForKids_Graphics_v1_BINK_YouTube_ForKids_Text_QUOTE1.jpg" alt="quote 1">
                
              
              </p>
          
          

          
        </div>
        
      
    </div>
    <div>
      <div>
        <div><h2>Supervised experiences on YouTube</h2><p>From our earliest days, YouTube has been a platform for people <a href="https://support.google.com/accounts/answer/1350409">over 13</a>, and we’ve always recommended that parents co-watch with their kids if they choose to watch YouTube. In 2015, we created <a href="https://kids.youtube.com/">YouTube Kids</a>, a safer destination for kids to explore their interests while providing parental controls. But since then, we’ve heard from parents and older children that tweens and teens have different needs, which weren’t being fully met by our products. As children grow up, they have insatiable curiosity and need to gain independence and find new ways to learn, create, and belong.</p></div>
      </div>
      
    </div>
  </div>
</section>

        
      
        
          



<section data-media-type="image_paragraph">
  <div>
    <div>
      
        <div>
          
              <p><img src="https://storage.googleapis.com/gweb-uniblog-publish-prod/original_images/BINK_YouTube_ForKids_Graphics_v1_BINK_YouTube_ForKids_Text_QUOTE2.jpg" alt="quote 2">
                
              
              </p>
          
          

          
        </div>
        
      
    </div>
    <div>
      <div>
        <div><p>Over the last year, we've worked with parents and experts across the globe in areas related to child safety, child development, and digital literacy to develop a solution for parents of tweens and teens. In the coming months, we’ll launch a new experience in beta for parents to allow their children to access YouTube through a <a href="https://support.google.com/families/answer/7103338?hl=en&amp;ref_topic=7336731">supervised Google Account</a>. This <a href="https://support.google.com/youtube/answer/10314940">supervised experience</a> will come with content settings and limited features. We’ll start with an early beta for families with kids under the <a href="https://support.google.com/accounts/answer/1350409">age of consent</a> to test and provide feedback, as we continue to expand and improve the experience.&nbsp;</p></div>
      </div>
      
    </div>
  </div>
</section>

        
      
        
          



<section data-media-type="image_paragraph">
  <div>
    <div>
      
        <div>
          
              <p><img src="https://storage.googleapis.com/gweb-uniblog-publish-prod/original_images/BINK_YouTube_ForKids_Graphics_v1_BINK_YouTube_ForKids_Text_QUOTE3.jpg" alt="quote 3">
                
              
              </p>
          
          

          
        </div>
        
      
    </div>
    <div>
      <div>
        <div><h2>Giving parents content options on YouTube</h2><p>We know that every parent has a different parenting style and that every child is unique and reaches different developmental stages at different times. That’s why we’ll give parents the ability to choose from 3 different content settings on YouTube.</p></div>
      </div>
      
    </div>
  </div>
</section>

        
      
        
          



<section data-media-type="image_paragraph">
  <div>
    <div>
      
        <div>
          
              <p><img src="https://storage.googleapis.com/gweb-uniblog-publish-prod/original_images/supex_icons_contentsettings_EN_ZVtah85.png" alt="Icon image">
                
              
              </p>
          
          

          
        </div>
        
      
    </div>
    <div>
      <div>
        <div><ul><li><p><b>Explore: </b>For children ready to move on from YouTube Kids and explore content on YouTube, this setting will feature a broad range of videos generally suitable for viewers ages 9+, including vlogs, tutorials, gaming videos, music clips, news, educational content and more.</p></li><li><p><b>Explore More: </b>With content generally suitable for viewers ages 13+, this setting will include an even larger set of videos, and also live streams in the same categories as “Explore.”</p></li><li><p><b>Most of YouTube:</b> This setting will contain almost all videos on YouTube, except for <a href="https://support.google.com/youtube/answer/2802167">age-restricted content</a>, and it includes sensitive topics that may only be appropriate for older teens.</p></li></ul><p>This option was designed for parents who think their children are ready to explore the vast universe of YouTube videos. We will use a mix of user input, machine learning and human review to determine which videos are included. We know that our systems will make mistakes and will continue to evolve over time.</p></div>
      </div>
      
    </div>
  </div>
</section>

        
      
        
          



<section data-media-type="image_paragraph">
  <div>
    <div>
      
        <div>
          
              <p><img src="https://storage.googleapis.com/gweb-uniblog-publish-prod/original_images/BINK_YouTube_ForKids_Graphics_v1_BINK_YouTube_ForKids_Text_QUOTE4.jpg" alt="quote 4">
                
              
              </p>
          
          

          
        </div>
        
      
    </div>
    <div>
      <div>
        <div><p>We recommend parents continue to be involved in guiding and supporting their child’s experience on YouTube. To help parents get started, we’ve developed a <a href="https://kstatic.googleusercontent.com/files/8c008b73566d01df66ef5e487b7feaf08b1bd3620171bed889d95ce13098920fd3dfc0817d7e9f330ef72aa3144c29c233d3c5f97ade838e948b2989c3fcdc51">guide</a> in partnership with <a href="https://www.pta.org/">National PTA</a>, <a href="https://parentzone.org.uk/home">Parent Zone</a> and <a href="https://beinternetawesome.withgoogle.com/en_us/">Be Internet Awesome</a>. We’ll also launch an ongoing campaign that features creators discussing themes like bullying and harassment, misinformation, digital well-being and more.&nbsp;</p></div>
      </div>
      
    </div>
  </div>
</section>

        
      
        
          



<section data-media-type="image_paragraph">
  <div>
    <div>
      
        <div>
          
              <p><img src="https://storage.googleapis.com/gweb-uniblog-publish-prod/original_images/BINK_YouTube_ForKids_Graphics_v1_BINK_YouTube_ForKids_Text_QUOTE5.jpg" alt="quote 5">
                
              
              </p>
          
          

          
        </div>
        
      
    </div>
    <div>
      <div>
        <div><h2>New features for families</h2><p>We understand the importance of striking a balance between empowering tweens and teens to more safely gain independence, while offering parents ways to set controls. In addition to choosing the content setting, parents will be able to manage watch and search history from within their child's account settings. Parents can also use other controls offered by <a href="https://families.google.com/familylink/">Google’s Family Link</a>, including screen timers. We’ll continue adding new parental controls over time, such as blocking content.&nbsp;</p></div>
      </div>
      
    </div>
  </div>
</section>

        
      
        
          



<section data-media-type="image_paragraph">
  <div>
    <div>
      
        <div>
          
              <p><img src="https://storage.googleapis.com/gweb-uniblog-publish-prod/original_images/SupEx_BraveWilderness_LightMode.png" alt="Brave Wilderness">
                
              
              </p>
          
          

          
        </div>
        
      
    </div>
    <div>
      <div>
        <div><p>When a parent grants access to YouTube, their child’s experience will feel much like regular YouTube, but certain features will be disabled to protect younger audiences. For example, we won't serve personalized ads or ads in <a href="https://support.google.com/youtube/answer/9713557?hl=en">certain categories</a>. At launch, we'll also disable in-app purchases, as well as creation and comments features. Since self-expression and community are integral parts of YouTube and children's development, over time we'll work with parents and experts to add some of these features through an age-appropriate and parent controlled approach.</p></div>
      </div>
      
    </div>
  </div>
</section>

        
      
        
          



<section data-media-type="image_paragraph">
  <div>
    <div>
      
        <div>
          
              <p><img src="https://storage.googleapis.com/gweb-uniblog-publish-prod/original_images/NEW_Supex_DesktopHero_US.gif" alt="YTK Hero">
                
              
              </p>
          
          

          
        </div>
        
      
    </div>
    <div>
      <div>
        <div><h2>Investing in YouTube Kids</h2><p>We’re building this new supervised experience for parents who think their older kids are ready to use YouTube, but we still recommend YouTube Kids for younger kids to watch independently and have a more contained viewing experience.&nbsp;</p><p>With availability in <a href="https://support.google.com/youtubekids/answer/6130573">over 80 countries</a>, now over 35 million viewers use YouTube Kids every week. We’ll continue <a href="https://support.google.com/youtubekids/thread/49349707?hl=en">expanding product availability</a>, <a href="https://support.google.com/youtube/thread/12980033?hl=en">adding new features</a>, and offering several new <a href="https://www.youtube.com/kids/parent-resources/">parental tools</a>, such as a highly-requested option for parents to select specific videos and channels from the main YouTube platform that they’d like their child to explore on YouTube Kids.</p><p>We know that we have a long journey ahead of us as we design this experience for parents of tweens and teens. Over the long term, we hope this will provide a safer environment for older children to explore their interests, learn new skills, connect with communities that share their passions, while giving parents more ways to support their kids' online experience.<br></p></div>
      </div>
      
    </div>
  </div>
</section>

        
      

      


<section>
  <article>
    
  </article>
</section>


    </div></div>]]>
            </description>
            <link>https://blog.youtube/news-and-events/supervised-experiences-for-families-on-youtube/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26250215</guid>
            <pubDate>Wed, 24 Feb 2021 14:36:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[DBaaS and Kubernetes: The key to multi-cloud developer productivity?]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26250026">thread link</a>) | @thenoisywatcher
<br/>
February 24, 2021 | https://humanitec.com/webinars/dbaas-kubernetes-multi-cloud-developer-productivity | <a href="https://web.archive.org/web/*/https://humanitec.com/webinars/dbaas-kubernetes-multi-cloud-developer-productivity">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>How automated is your setup really, if you’re not thinking end-to-end? Continuous Delivery with automated provisioning of databases ensures a low-maintenance, self-serving workflow for developers. Humanitec and <a href="https://aiven.io/">Aiven</a> are a power-couple standardizing the delivery experience for the application (K8s-as-a-Service) as well as database layer (DBaaS) on a cloud of your choice. In this webinar Lorna and <a href="https://humanitec.com/author/chris-stephenson" target="_blank">Chris</a> will show you:<br></p><ul role="list"><li>How to build a self-serving continuous delivery pipeline with automated database provisioning on any cloud.</li><li>How to spin up fully provisioned environments with on-demand DB instances (from Cassandra to Postgres and Kafka).</li><li>How to get to a setup that allows migrating your entire app, including DBs (with data) and other dependencies, between Azure, AWS and GCP with one click.<br></li></ul><p>After a 30-minute demo, there will be 15 minutes for Q&amp;A.<br></p><h4>Audience - who should join?</h4><p>DevOps Engineers, Site Reliability Engineers, Platform Engineers, Database Administrator, System Engineers, Infrastructure Kubernetes Administrators, Technical Architects, Application Developers with an affinity with DevOps and Technical Management.</p></div></div></div>]]>
            </description>
            <link>https://humanitec.com/webinars/dbaas-kubernetes-multi-cloud-developer-productivity</link>
            <guid isPermaLink="false">hacker-news-small-sites-26250026</guid>
            <pubDate>Wed, 24 Feb 2021 14:19:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[C++ build systems: our transition from CMake to Meson]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26249925">thread link</a>) | @niekb
<br/>
February 24, 2021 | https://rosemanlabs.com/blog/build-system.html | <a href="https://web.archive.org/web/*/https://rosemanlabs.com/blog/build-system.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
    <header>
        <div>
            
            <div>
                <p><img src="https://rosemanlabs.com/assets/img/builder.png"></p>
            </div>
            <div>
                <p>
                    <h3>Niek Bouman<br></h3>
                    <h4>CTO at Roseman Labs<br></h4>
                    <h6>Published on: 23 February 2021<br></h6>
                </p>
            </div>
        </div>
    </header>
    <section id="article">
        <div>
            <div>
                <div>
                    
                    <div>
                        <div>
                            <h3>How we got to this decision and what we got out of it.<br></h3>
                            <div><p>We develop our main product, the Cranmera MPC engine, in C++20. (Why we chose Modern C++ and not, for example, Rust, is a topic for another blogpost.)&nbsp;Because&nbsp;C++ doesn’t come with a default build system like Rust’s Cargo, it&nbsp;means that it is up to the programmer to choose an appropriate build&nbsp;system.&nbsp;(Strictly speaking, I should say ‘build system generator’, as&nbsp;Ninja is the actual build system that we use, but let’s not get into that today.)</p><p>This choice is of course not just a disadvantage; in that you actually have a choice. As CMake is quite popular in the C++ community these days, I had been using CMake for several years now. (And before that I used GNU’s Automake.) Anyway, in the beginning, I was satisfied with my choice for CMake, although I never had the feeling that I really mastered CMake.</p></div>
                            <h4>"I want to have that ultimate control also over my build system"<br></h4>
                            <div><p>In my previous role as academic researcher, I mainly wrote scientific code for which the build system played a minor role. I&nbsp;liked to view the build system as a part that you ‘mess around with it&nbsp;until it works, and then keep your hands off it’, which served my&nbsp;purpose well enough at the time. Now that I have the role of CTO in a&nbsp;privacy-technology company, I bear much more responsibility for the&nbsp;quality and robustness of the developed codebase.</p><p>Even before you have to choose a build system, there is the choice of&nbsp;the programming language for a new project. In a nutshell: choose the right tool given the problem. For us, that choice happens to be C++, which gives us ultimate control. (There is a price to pay for this level of control, namely that you become responsible for managing all resources within the program, and for protecting yourself against the footguns that any language with low-level features happily offers you. </p><p>The purpose of having all that control is that it should ultimately pay off in terms of better performance: smaller memory footprint, faster code, etc., though it comes with the price of extra cognitive load during development.)<br>I want to have that ultimate control also over my build system, but as I already indicated above, with CMake it never felt like having that level of control.</p></div>
                            <h4>Coming from CMake<br></h4>
                            <div><p>Recently,&nbsp;we have migrated from CMake to Meson, and in the rest of this blogpost I&nbsp;want to tell the story of how we got to this decision and what we got out of it. </p><p>The&nbsp;main reason for migrating our build system, is that I wanted to prevent&nbsp;the scenario where some parts of the codebase, of which you actually know that those are a bit messy (in this case, our CMake scripts), suddenly start playing up at a very bad moment, for example just before&nbsp;the deadline of shipping a new product. </p><p>If&nbsp;you have some engineering experience, you will agree that the more subtle kind of technical problems like to manifest themselves in&nbsp;atypical situations or corner cases. What I mean, in terms of a build system, is that you won’t notice the actual quality of your build system&nbsp;scripts until you start doing special things, like porting to other&nbsp;OSes, architectures and cross-compiling. At that point you will be penalized for every ‘hack’, where you did not follow the idiom prescribed by the makers of the (build) system. And where are those&nbsp;hacks actually located? In your own build scripts, or in the “FindXXX.cmake” scripts you found somewhere on GitHub? </p></div>
                            <h4>Modern CMake<br></h4>
                            <div><p>Then there is the topic of “Modern CMake”, caused by the paradigm shift that&nbsp;took place a few years ago in CMake, due to which we now have the “old”&nbsp;(read: “wrong”) directory-based style, versus the “modern” (and recommended) target-based style. “Modern CMake” is probably coined to make us think of “Modern C++”, the latter being the novel style of C++ that encourages the use of updated and less error-prone language and standard-library constructs.&nbsp;<br>With respect to the language C++, I value the backwards compatibility guarantees that C++ offers, and I agree that those backwards-compatibility benefits make up for the ugly parts of its syntax. With respect to a build system, however, I am not convinced of the value of such backwards compatibility, and in my opinion, a clean syntax and well-thought-out structure is much to be preferred.&nbsp;</p><p>By the way, googling for “modern CMake” yields quite many blog posts in which authors explain the intricacies of Modern CMake. One could view the abundance of such stories as a positive thing, though I can’t help regarding it as an indicator for the poor style of CMake’s own documentation. Compared to that, Meson’s documentation, together with its design, simply feels ‘right’.&nbsp;</p><p>Before deciding to switch our build system, I have tried to convert our CMake scripts to the “Modern CMake” idiom and polish them up. After putting some work in it, meaning reading CMake docs and changing scripts, I was still not satisfied with the result. Probably it was my own fault; I still did not yet fully understand CMake’s new idioms, and as a consequence our build system setup still felt brittle. On the other hand, given that our build system requirements are not that complex, why&nbsp;should I invest more time to become an expert in a system (CMake) that I anyway appreciate less the more I read about it... What about&nbsp;alternatives?&nbsp;</p></div>
                            <h4>Choosing Meson<br></h4>
                            <div><p>Before choosing Meson, I also considered build2 by Boris Kolpackov / Code Synthesis. Build2 is famous for being one of the earliest build systems&nbsp;to support C++20 Modules, and based on its descriptions and the author’s&nbsp;talks (e.g. at CPPCon) this system seems to be well-designed, more&nbsp;advanced than most other build systems, and to have a lot of potential. However, given my limited amount of time, I was unable to quickly figure&nbsp;out from its documentation how I could accomplish common tasks, like linking with libs that are not included in the related cppget.org repository, such as Boost. I think improving documentation-for-the-impatient is something where Build2 could improve.&nbsp;BTW, I am curious to see how Meson’s approach to dealing with C++20&nbsp;modules will develop; we do not yet use them in our project.&nbsp;</p><p>I do not want claim that our build system requirements are very complex, though we do need some special setup:&nbsp;<br>- we need multi-compiler support (Clang for debug and GCC for release builds);<br>- depending on the use of Address Sanitizer, or Valgrind, we need&nbsp;differently compiled versions of some Boost libs (Boost.Context and Boost.Fiber); and<br>- we use a some generated code, which originates from Cap’n Proto, a protobuf-like library for object serialization.</p><p>With&nbsp;Meson, all these were easy to accomplish (for the third I use a little helper Python script), and, maybe even more importantly, in such a way that I fully understand what is going on under the hood.</p><p>Furthermore, some personal favourites about Meson are:<br>-&nbsp;the concept of a dependency, which lets you bundle libraries with include paths, and the different ways to obtain such dependency (automatic vs. manually)<br>- one does not have to specify header files in the executable target to make IDEs happy<br>- integration with pkg-config and CMake, to locate system-installed libs<br>- easy-to-manage configuration options&nbsp;<br>- out-of-the-box support common stuff (sanitizer support, coverage builds, stripping binaries, etc.)<br>- easy-to-extend while maintaining transparency<br>- parallel unit tests</p></div>
                            <h4>To conclude<br></h4>
                            <div><p>A&nbsp;key benefit of a good and transparent build system is that it will save you time, and that it makes it much easier to use helper tools that&nbsp;will improve code quality, like Clang’s static analyzer, Address Sanitizer, coverage builds, etcetera. We are very happy with Meson,&nbsp;thanks Jussi Pakkanen!</p></div>
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <nav id="mainNav">
        <div>
            <div role="dialog" tabindex="-1" id="portfolio-modal-1">
                <div role="document">
                    <div>
                        
                        <div>
                            <div>
                                <div>
                                    <div>
                                        <h2>Project Name</h2>
                                        <hr><p><img src="https://rosemanlabs.com/blog/portfolio/cabin.png"></p><p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Mollitia neque assumenda ipsam nihil, molestias magnam, recusandae quos quis inventore quisquam velit asperiores, vitae? Reprehenderit soluta, eos quod consequuntur itaque. Nam.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>
    </nav>
    
    
    
    
    
    
    
    
    
    


</div>]]>
            </description>
            <link>https://rosemanlabs.com/blog/build-system.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26249925</guid>
            <pubDate>Wed, 24 Feb 2021 14:06:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Writing programs that run systems]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26249645">thread link</a>) | @catern
<br/>
February 24, 2021 | http://catern.com/progsys.html | <a href="https://web.archive.org/web/*/http://catern.com/progsys.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

<p>
The features of modern programming languages
make it easy to write clear and correct programs that run systems.
</p>

<ul>
<li><p>
Express dependencies between components using function arguments.
</p>

<p>
When service A makes use of services B and C, we need to make sure to start B and C before A.
</p>

<p>
This is straightforwardly represented with a function:
</p>
<div>
<pre><span>def</span> <span>start_a</span>(b: B, c: C) -&gt; A:
    ...
      <span>"--b-url"</span>, b.url,
      <span>"--c-url"</span>, c.url,
    ...
    <span>return</span> A(...)
</pre>
</div>

<p>
This defines a function which takes two arguments, of types "B" and "C",
and which returns a value of type "A".
</p>

<p>
Naturally, if you want an A, you've got create a B and a C first:
exactly the invariant we want to enforce.
</p>

<p>
One can define such types for one's own services,
and include all the relevant information in them,
such as URLs to use to interact with them.
</p></li>
<li><p>
Keep track of complex values using types.
</p>

<p>
Suppose service D can run in multiple different modes;
say, it can either listen on an HTTP or HTTP2 URL.
And suppose some other service E can only work with service D if it's in HTTP2 mode.
</p>

<p>
We can represent this with types:
</p>
<div>
<pre><span>def</span> <span>start_e</span>(d: D[HTTP2Url]) -&gt; E:
    ...
      <span>"--d-url"</span>, d.url, <span># </span><span>an HTTP2Url</span>
    ...
    <span>return</span> E(...)


<span>def</span> <span>main</span>(d: D[HTTPUrl]) -&gt; E:
    <span># </span><span>type error!</span>
    <span>return</span> start_e(d)
</pre>
</div>

<p>
The D class here takes a type argument specifying what the type of <code>d.url</code> is.
We can do this with generics or templates in most modern languages.
</p>

<p>
In <code>main</code>, we call <code>start_e</code> with the wrong type of <code>D</code>,
and we'll get a compile-time type error as a result.
</p></li>
</ul>
<ul>
<li><p>
Create different environments by <a href="http://catern.com/config.html">passing different arguments to functions</a>.
</p>

<p>
Suppose service F has an optional dependency on service G;
it can run whether or not service G is available.
</p>

<p>
We can represent this by passing different arguments to our <code>start_f</code> function in different environments:
</p>
<div>
<pre><span>def</span> <span>start_f</span>(g: Optional[G]) -&gt; F:
    ...
    <span>if</span> g:
       ... <span>"--g-url"</span>, g.url ...
    <span>else</span>:
       <span>pass</span>
    <span>return</span> F(...)

<span>def</span> <span>environment_one</span>() -&gt; <span>None</span>:
    g = ...
    <span>f</span> = start_f(g)
    ...


<span>def</span> <span>environment_two</span>() -&gt; <span>None</span>:
    f = start_f(<span>None</span>)
    ...
</pre>
</div>

<p>
We can use <code>environment_one</code> or <code>environment_two</code>, each where appropriate.
</p></li>
<li><p>
Test the distributed system through normal language-level tests.
</p>

<p>
Since our distributed system is started by a normal program,
we can use standard testing libraries to write our tests.
</p>

<p>
For example, Python's standard library has a <code>unittest</code> module which works fine:
</p>
<div>
<pre><span>import</span> unittest

<span>class</span> <span>TestThings</span>(unittest.TestCase):
    <span>def</span> <span>setupTest</span>(<span>self</span>) -&gt; <span>None</span>:
        ...
        <span>self</span>.h = start_h(...)

    <span>def</span> <span>test_some_things</span>(<span>self</span>) -&gt; <span>None</span>:
        <span>self</span>.assertIn(<span>"OK"</span>, requests.get(<span>self</span>.h.url + <span>"/status"</span>))
</pre>
</div>
<p>
These tests should be stored alongside the code,
just as with normal programs.
</p></li>
<li><p>
Explore interactively using the REPL or debugger.
</p>

<p>
The functions that start our system can be called from a REPL or debugger with no additional effort.
</p>
<div>
<pre>&gt;&gt; <span>i</span> = start_i(...)
&lt;I <span>object</span> at 0x7fb3a45a4290&gt;
&gt;&gt; <span>j</span> = start_j(i, ...)
&lt;J <span>object</span> at 0x7fb3a45a4490&gt;
&gt;&gt; j.url
<span>"https://example.com"</span>
</pre>
</div></li>
<li><p>
Use asynchronous code to monitor multiple processes in the background.
</p>

<p>
Each process needs to be monitored for failure.
If, for example, a process exits, appropriate action needs to be taken,
such as restarting that process or a larger collection of processes,
or signaling a fatal error.
</p>

<p>
You can use the asynchronous support in your language to monitor all the <a href="https://github.com/catern/rsyscall">processes</a> at once.
</p>

<p>
If a process exits, that can be indicated through your language's usual error-handling method
(by raising an exception, for Python),
and the error can be caught and reacted to at the appropriate level,
or allowed to propagate.
</p>
<div>
<pre><span>async def</span> <span>start_k</span>(nursery: trio.Nursery) -&gt; <span>K</span>:
    nursery.start_soon(run_command_and_wait_on_subprocess, [<span>"k"</span>, ...])
    <span>return</span> K(...)

<span>async def</span> <span>main</span>():
    <span>async with</span> trio.open_nursery() <span>as</span> nursery:
        k = <span>await</span> start_k(nursery)
</pre>
</div></li>
<li><p>
Avoid external dependencies and special privileges.
</p>

<p>
Most normal programs don't require calling out to external services,
nor do they require that the user hold special privileges in some authorization system.
</p>

<p>
A program or library which starts distributed systems will be more useful
if it likewise can be used without such special setup.
It will be usable in a wider range of environments,
and by a wider range of users.
</p></li>
</ul>

<p>
By using these techniques,
I've found it's even easier to achieve a <a href="http://catern.com/run.html">runnable system</a>.
</p>
</div><div id="postamble">
<p>Created: 2021-02-24 Wed 08:40</p>
<p><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div></div>]]>
            </description>
            <link>http://catern.com/progsys.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26249645</guid>
            <pubDate>Wed, 24 Feb 2021 13:34:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How often should I rotate my SSH keys?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26249380">thread link</a>) | @todsacerdoti
<br/>
February 24, 2021 | https://tailscale.com/blog/rotate-ssh-keys/ | <a href="https://web.archive.org/web/*/https://tailscale.com/blog/rotate-ssh-keys/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <p>If you’re like most people, your answer to this is… “What? Why?”</p>
<p>When ssh was introduced back in the 1990s, its appeal was simple. Passwords are too short, too guessable, too <a href="https://apenwarr.ca/log/20190114">phishable</a>, too often <a href="https://security.stackexchange.com/questions/5586/why-do-people-think-that-this-is-bad-way-to-hash-passwords">stored incorrectly</a>, too MITM-able, too brute-forceable. Also its primary competition was rsh’s classic “no authentication,” but we don’t talk about that.</p>
<p>Compared to that, ssh public-key authentication was a dream. Generate a keypair, don’t ever share the private key with anyone, and if an attacker ever steals your authorized_keys file, the joke’s on them, because all they can do with your public key is authorize <em>you</em> to break into <em>their</em> server. Suckers!</p>
<p>It’s pretty great. And that greatness might lead you to wonder: why, then, 25 years after we learned this important lesson, are all the most secure websites on the Internet still using password authentication? Well, some good reasons, some not-so-good reasons. TLS client-side certs in web browsers have been tried many times and failed many times. That’s a story for another day.</p>
<p>My story for today is about ssh and how even public keys, while much better than simple passwords, are still not a perfect solution.</p>
<p>The danger is credential theft, which is a fancy way of saying “someone stole your private keys.” Back in the 1990s, that problem was pretty far from our minds; Windows 98 didn’t even have the concept of a separate administrator account, never mind the idea of app sandboxing or the inkling that someone might intentionally want to load malware onto your computer and encrypt all your files for ransomware. Those were the days when some people thought ActiveX controls (essentially loading .exe files from web sites) might be a good idea. Actually, maybe even a great idea as long as there was an “are you sure?” dialog box first.</p>
<p>Come to think of it, how did anything ever work? What a time to be alive.</p>
<p>Anyway, public key authentication was an amazingly advanced level of protection at the time. Normal people who used ssh keys didn’t have to worry much about attacks, because there were much easier targets: the <a href="https://wiki.c2.com/?IdontHaveToBeTheFastestJustFasterThanYou">run faster than the bear</a> solution.</p>
<p>Time has passed, though, and attackers are getting more advanced all the time, and some of the limits are starting to show.</p>
<p>Here’s a story someone told me last year: one company had an employee they fired for bad behaviour. A few months later all their production servers got wiped out. They didn’t have enough forensics to identify how it happened, so they hired a consultant to help them reassemble it with a bit more logging for next time. A month later, it happened again! Everything gone.</p>
<p>But this time they had logs. And what the logs showed is that one of their employees had ssh’d into all the servers and smashed everything. The employee, however, had logged in from some other country where the employee demonstrably wasn’t. And it didn’t seem like an employee who couldn’t be bothered to hide their login would have bothered to use a fake IP. What happened?</p>
<p>What happened was that the rogue employee, months before they were fired, had waited until everyone went to lunch, walked around from one PC to the next, and collected the ssh private keys from any of them that weren’t locked. (Note in case you’re thinking of fixing this with a screen-locking policy: that’s not a bad start, but it’s not quite enough defense. Make sure to at least enable full-disk encryption on all your computers too, and you’re getting closer.) Then, a while after getting fired, he used a co-worker’s ssh key to login and destroy everything.</p>
<p>When they rebuilt the server cluster after the first breach, they had been super careful, constructed all the servers from scratch, avoided any possibility of installed backdoors… and then promptly dropped in the same set of ssh public keys as before. Because ssh keys are secure, right? If there’s one thing we know for sure about security, it’s that. It’s even in the name!</p>
<p>And they are secure, right up until they’re stolen. But the problem with static ssh keys is that if they are stolen, it’s undetectable. Many people avoid rotating their public keys for 10+ years. Someone might have stolen your private key 9 years ago, and is just waiting for the right moment to strike.</p>
<p>Key rotation is the simple answer to this problem. Like <a href="https://duo.com/decipher/microsoft-will-no-longer-recommend-forcing-periodic-password-changes">forced password changes (which are out of vogue now)</a>, rotating your ssh keys protects, “eventually,” against key theft, which is a lot better than no protection at all. Of course, it has some of the disadvantages of password rotation too: notably, if you have your ssh private key on several machines, you have to remember to copy it to all those places. And if you have your ssh public key on many machines - which is the whole point - now you have to correctly delete the old one and add the new one. It’s a lot of tedious, error-prone work, which is why people don’t like to do it.</p>
<p>An even more robust approach is to use some kind of hardware token that can sign short-lived ssh keys, and teach all your servers how to deal with those. That’s neat, but it’s hard to deploy (needs custom ssh settings). The deployment could be fixable - convince upstream ssh to do it in an easier way. But you still have the problem of the obnoxious hardware tokens, which then get into USB (which has too many connector types and mostly doesn’t work on a phone) or Bluetooth (which works maybe 97% of the time, which is simply not good enough for your emergency production login credentials).</p>
<p>An easier approach is to set up an <a href="https://www.techrepublic.com/article/how-to-use-ssh-to-proxy-through-a-linux-jump-host/">ssh jumphost</a>, where you can contain your ssh fanciness to a single server (and even if you just use normal ssh keys, you only have to rotate them in that one place). This works pretty well, but creates added latency (the jumphost isn’t always near the server you want to jump to; or if you have a jumphost in every region, now you have to maintain a bunch of jumphosts), and of course, means that you have to do everything through ssh; you can’t route traffic directly.</p>
<p>By the way, all these credential theft problems apply to more than just ssh: WireGuard and OpenVPN private keys can be stolen in the same ways, and are a liability unless you rotate them periodically.</p>
<p>The approach we take in our own infrastructure, modeled after TLS certificate infrastructure and <a href="https://letsencrypt.org/">Let’s Encrypt</a> in particular, is to authenticate each device+person combination with a separate private key; that way, if a credential is stolen, we always know from where. Each device can rotate that device-specific key as often as it wants, since the private key only lives in one place, and the public keys are all distributed rapidly from our coordination server to every other device that needs them. Because of this highly consistent key rotation (which is hard with ssh keys or passwords), we always know exactly when a particular keypair has been retired, once and for all, so we can always detect if that keypair makes a surprise reappearance: it must mean credential theft, which means a breach, which can trigger forensics. After all that, we hide our ssh keys behind this network-layer key rotation, which means that unrotated ssh keys are mostly harmless; only an authorized person with non-stolen credentials can even try to exploit a stolen ssh key.</p>
<p>Anyway, back to our original question: how often should I rotate my ssh keys? More often than never! As often as you can. And make sure you retire old keys when you’re done with them.</p>
    </div></div>]]>
            </description>
            <link>https://tailscale.com/blog/rotate-ssh-keys/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26249380</guid>
            <pubDate>Wed, 24 Feb 2021 13:00:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Android Logging with Style]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26249369">thread link</a>) | @nicolashaan
<br/>
February 24, 2021 | https://blog.bam.tech/developer-news/android-logging-with-style | <a href="https://web.archive.org/web/*/https://blog.bam.tech/developer-news/android-logging-with-style">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p name="a741">Logging can sometimes be seen as the tool to be used as a last resort. You write tons of throwaway log lines such as <code>"being here"</code>, <code>"user=23939"</code>, etc… and delete everything as soon as you understood the root cause of the bug. And the next time, you start again.</p>
<!--more-->
<p name="0284">I suggest that logs can be useful on a daily basis if done correctly. Here are some tips to do <strong>better logging</strong> on your Android App.</p>
<h2>How to&nbsp;log?</h2>
<p name="640e">Of course you can use the built-in Log class and its convenient static methods, <code>d(),e(),i()</code>&nbsp;…</p>
<p name="6446">But this may lack some flexibility.</p>
<p name="194a">An option is to create your own wrapper for this class and inject it into your classes. This will allow you to easily disable the logs in production build, redirect them to another output, or decorate the lines if needed.</p>
<p name="8cf5"><a href="https://github.com/JakeWharton/timber" data-href="https://github.com/JakeWharton/timber" rel="noopener" target="_blank">Timber</a> is a popular library which will allow you to do exactly that.</p>
<h2>Use the relevant Log&nbsp;Level</h2>
<p name="2dde">You should try not to flood the most important log levels. For instance, you may target this kind of pace per log level&nbsp;:</p>
<figure><img data-image-id="1*favlu-6ebBAFSL3aOR7gdA.png" data-width="1226" data-height="1310" src="https://cdn-images-1.medium.com/max/1600/1*favlu-6ebBAFSL3aOR7gdA.png" alt="table with suggestions of usage and flow rate for each log&nbsp;level">
<figcaption>Suggestions of usage and flow rate for each log&nbsp;level</figcaption>
</figure>
<h2>Meaningful Tagging</h2>
<p name="4c98">Although it’s a popular pattern to use the class name as the log tag, I suggest you don’t use a class name for your tag.</p>
<p name="2c16">First it’s leaking implementation details.</p>
<p name="aecc">It also makes filtering more difficult based on this tag, because your feature will often be implemented with multiple classes. It can also lead to tag length greater than 23, which gets truncated in output.</p>
<p name="26c4">You may use a pattern like <code>[PREFIX].[FEATURE]</code></p>
<p name="5d62">For instance for <em>My Good App</em> (MGA), you would define:</p>
<p name="0227"><code>TAG="mga.featureA"</code></p>
<p name="1bf1"><code>TAG="mga.featureB</code></p>
<p name="2666">You can add a <code>module.kt</code> at the root of a feature package containing a const like</p>
<p name="0882"><code><strong>const val </strong><em>TAG </em>= <strong>"mga.user"</strong></code></p>
<p name="3038">This file can also contain other definitions for the module, such as dependency injection definitions.</p>
<h2>What to&nbsp;Log?</h2>
<h3>Important lifecycle events</h3>
<p name="35fe">Lots of Android apps bugs and mis-behaviors are related to the Android lifecycle. You should always be logging this kind of information. If you have a base Fragment inherited by all your Fragments (and you should!) use it to log these events.</p>

<p name="46cd">This also has the advantage of leaving a trace of all navigation actions, and gives easy access to the current Fragment name. This can save a lot of time for a <strong>newcomer discovering the app</strong> and its code base.</p>
<h3>Almost all of the user&nbsp;actions</h3>
<p name="3c87">All user actions should lead to something being printed into logs. This doesn’t mean that all the click handlers in the UI layer should print something, but that the action that is triggered in your domain layer should print something with some relevant parameters.</p>

<h3>App version, buildFlavor</h3>
<p name="82ab">Use your app’s Application class to log some basic information about your App version and variant. This way you will be able to link a log to a specific version without ambiguity, even if some days or months have passed.</p>


<h3>App configuration</h3>
<p name="68c4">In addition to the previous point, also log dynamic configuration at startup and when it is changed. Since this can influence the behavior of your app, it is crucial to have this information to interpret the logs.</p>
<h2>Remote Logging Solutions</h2>
<p name="88ac">Sometimes problems only happen on customer devices and you may need contextual information to figure out what is going on.</p>
<p name="e492">Remote logging is your friend in this situation.</p>
<p name="9eb9">Did you know that <em>Firebase Crashlytics</em> provides a way to log <a href="https://firebase.google.com/docs/crashlytics/customize-crash-reports?platform=android#log-excepts" data-href="https://firebase.google.com/docs/crashlytics/customize-crash-reports?platform=android#log-excepts" rel="noopener" target="_blank">Non-fatal exceptions</a>?</p>
<p name="4a05">It should be enough to get more context on an inconsistent state that you can’t reproduce.</p>
<p name="4bbd">Should you need more contextual information, you could use the remote logging feature provided by <a href="https://bugfender.com/" data-href="https://bugfender.com/" rel="noopener" target="_blank">Bugfender</a>, which basically provides the same output as <em>Logcat</em> (ie. all the traces) as if you were plugging a USB debug cable in to your customer’s device!</p>
<h2>Don’t use Unicode&nbsp;symbols</h2>
<p name="551a">Log content should be simple and reliable, and is not intended to be <a href="https://medium.com/swift-programming/swift-prettify-your-print-statements-pt-1-64832bb7fafa" data-href="https://medium.com/swift-programming/swift-prettify-your-print-statements-pt-1-64832bb7fafa" target="_blank" rel="noopener">eye-candy or fun</a>.&nbsp;</p>
<ul>
<li>
<p>You may have to copy-past it from various terminals, text editors and web sites that may not support UTF-8 well (or at all).&nbsp;</p>
</li>
<li>
<p>You will have to search through it, and it seems that looking for a text pattern instead of a random emojis will be more efficient.</p>
</li>
</ul>

<figure><img data-image-id="0*PQ5hAYve_IYOU1EF" data-width="258" data-height="134" src="https://cdn-images-1.medium.com/max/1600/0*PQ5hAYve_IYOU1EF" alt="Screen capture of logs with a lot of emojis" width="258">
<figcaption>Example of emojis in console log (<a href="https://github.com/ellerbrock/console-emoji" data-href="https://github.com/ellerbrock/console-emoji" rel="nofollow noopener" target="_blank">https://github.com/ellerbrock/console-emoji</a>)</figcaption>
</figure>
<p name="5ae9">In other words don’t give in to the siren song and <strong>keep-it super boring and simple</strong>.</p>
<h2>Use more than Android Studio Log&nbsp;View</h2>
<p name="6642">Although the <em>Logcat</em> tool window is one click away from your code and provides convenient filtering features, you may find it a little bit limited for advanced usage:</p>
<ul>
<li>
<p>You can only have one instance of it</p>
</li>
<li>
<p>Filtering is handy but somehow limited</p>
</li>
<li>
<p>You may randomly lose all the content</p>
</li>
</ul>
<p name="b8e7">Try to use other tools such as <a href="https://github.com/facebook/flipper" data-href="https://github.com/facebook/flipper" rel="noopener" target="_blank">Facebook Flipper</a> or simply dedicated terminal windows</p>
<h2>Use a&nbsp;Terminal</h2>
<p name="39f0">As you pay more attention to logging, using dedicated terminal windows will become obvious.</p>
<p name="7087">First, you will be able to open several logging windows. Why would you want to do this? Because it will allow you to log different parts of your app in different windows.</p>
<p name="b50e">You can have for instance:</p>
<ul>
<li>
<p>Network calls</p>
</li>
<li>
<p>UI events</p>
</li>
<li>
<p>Navigation events</p>
</li>
<li>
<p>Debug log for the feature currently in work</p>
</li>
</ul>
<p name="da16">I also suggest always having an unfiltered <em>Logcat</em> window always running. It will record all the activity with infinite scroll history and will be helpful for transient and hard to reproduce crashes. Also sometimes Android <em>system logs</em> can help you figure out what’s going on.</p>
<p name="6c45">If you are using meaningful tagging, you can then easily see all network logs using&nbsp;:</p>
<p name="79a2"><code>$ adb logcat | grep — line-buffered “mga.network”</code></p>
<p name="3aef">Want to know all emitted analytics events&nbsp;?</p>
<p name="1e97"><code>$ adb logcat | grep — line-buffered “mga.analytics”</code></p>
<p name="63dc">Finally, you are working with the location and booking modules and want to see only the logs related to these?</p>
<p name="9e90"><code>$ adb logcat | grep — line-buffered “mga.location|mga.booking”</code></p>
<h2>Colorize your&nbsp;logs</h2>
<p name="b287">Of course it’s always better to colorize your logs.</p>
<p name="7631"><em>Logcat</em> now provides this option:</p>
<p name="feee"><code>$ adb logcat -v color</code></p>
<figure><img data-image-id="1*jdib5OLOr8jWvqsAx3YcmQ.png" data-width="2590" data-height="1094" src="https://cdn-images-1.medium.com/max/1600/1*jdib5OLOr8jWvqsAx3YcmQ.png" alt="Screen capture of a colored logcat terminal">
<figcaption>colored logcat&nbsp;output</figcaption>
</figure>

<p name="9e35">You may also use a third-party wrapper such as <a href="https://github.com/marshall/logcat-color" data-href="https://github.com/marshall/logcat-color" rel="noopener" target="_blank">logcat-color</a>, that some people will find more readable.</p>
<figure><img data-image-id="1*gQCqFE27Zh_kWpXXxNAPMw.png" data-width="2590" data-height="1094" src="https://cdn-images-1.medium.com/max/1600/1*gQCqFE27Zh_kWpXXxNAPMw.png" alt="Screen capture of a logcat-color terminal">
<figcaption>logcat-color output</figcaption>
</figure>
<p><em>Edit:</em> You may also try <a href="https://github.com/JakeWharton/pidcat" rel="noopener" target="_blank">pidcat</a> which allow to filter logcat output by application package just like Android Studio!</p>
<h2>Intend your logs for non-developer people</h2>
<p name="0fa2">Do you think <em>Logcat</em> is for developers only?&nbsp;</p>
<p name="7d43">You might want to consider having your logs readable by anybody involved in the project, particularly people involved in testing. Sooner or later you will have a bug that will take hours to reproduce and can be detected only by a logged statement, or you may have to leak some information (auth token, database ID…) to people in charge of testing without creating a dedicated “hidden diagnostic” menu entry. Should any of this occur, having your testing team used to read the typical <em>Logcat</em> output of your App may help a lot.</p>
<h2>Remove your logs from your production build</h2>
<p name="90c1">Since logs can contain security and privacy sensitive information, it’s good practice to remove logs from your production build. That’s where custom log module or Timber come handy, but you can simply get rid of <code>Log</code> statements using <em>Proguard</em> (see <a href="https://stackoverflow.com/a/2466662" data-href="https://stackoverflow.com/a/2466662" rel="noopener" target="_blank">https://stackoverflow.com/a/2466662</a>)</p>
<h2>Always keep an eye on your&nbsp;logs</h2>
<p name="98d2">While developing and testing your app, you should always have an eye on your log. This way you will be able to detect unusual behavior more easily. Think about a bug where your app is repeating a network call every 5 seconds. This can be completely invisible from the UI point of view and can therefore pass the QA tests successfully. However, it can have dramatic consequences for your user’s battery and data plan, as well as your server.</p>
<p name="f1a7">A trained eye would have immediately noticed the unusual log flood on the idle app.</p>
<h2>Conclusion</h2>
<p name="af6e">In conclusion, it’s quite easy to pay better attention to your App logs, and it can be of great help in critical times and also help you and your teammates be more effective on a daily basis.</p></span>
</p>
</div></div>]]>
            </description>
            <link>https://blog.bam.tech/developer-news/android-logging-with-style</link>
            <guid isPermaLink="false">hacker-news-small-sites-26249369</guid>
            <pubDate>Wed, 24 Feb 2021 12:59:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Abstract Syntax Trees in Python]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26249326">thread link</a>) | @rbanffy
<br/>
February 24, 2021 | https://pybit.es/ast-intro.html | <a href="https://web.archive.org/web/*/https://pybit.es/ast-intro.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <h2>Index</h2>
<ul>
<li><a href="#what-is-an-abstract-syntax-tree-ast">What is an Abstract Syntax Tree (AST)?</a></li>
<li><a href="#the-ast-python-module-and-its-use">The <code>ast</code> Python module and its use</a></li>
<li><a href="#using-the-ast-module-to-investigate-the-pybites-bite-exercises">Using the <code>ast</code> module to investigate the PyBites Bite exercises</a><ul>
<li><a href="#builtins-popularity"><code>builtins</code> popularity</a></li>
<li><a href="#modules-popularity">Modules popularity</a></li>
</ul>
</li>
<li><a href="#dissecting-an-assignment-instruction-using-the-ast-module">Dissecting an assignment instruction using the <code>ast</code> module</a><ul>
<li><a href="#the-moduletype_ignores-attribute-and-type-comments">The <code>Module.type_ignores</code> attribute and type comments</a></li>
</ul>
</li>
<li><a href="#the-ast-module-apis">The <code>ast</code> module APIs</a><ul>
<li><a href="#visiting-an-ast">Visiting an AST</a></li>
<li><a href="#modifying-an-ast">Modifying an AST</a></li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>Requirement</strong>: All examples are compatible with at least Python v3.6, except for using <code>ast.dump()</code> with the attribute <code>indent=</code> which has been added in Python v3.9. </p>
</blockquote>

<h2>What is an Abstract Syntax Tree (AST)?</h2>
<p>An Abstract Syntax Tree (AST) is a data structure used to reason about the grammar of a programming language in the context of the instructions provided into source code.</p>
<p><img alt="From source code to binary" src="https://pybit.es/images/astintro/pipeline.png"></p>
<p>For instance, compilers use ASTs when transforming source code into binary code:</p>
<ol>
<li>
<p>Given some text source code, the compiler first tokenizes the text to identify programming language keywords, variables, literals, etc. Each token represents an "atom" of an instruction.</p>
</li>
<li>
<p>Tokens are then rearranged into an AST, a tree where nodes are the "atoms" of the instructions, and edges the relationships between the atoms based on the programming language grammar. For instance, the AST make explicit the presence of a function call, the related input arguments, the instructions composing the function, etc.</p>
</li>
<li>
<p>The compiler then can apply multiple optimizations to the AST, and ultimately converts it into binary code.</p>
</li>
</ol>
<p>Despite their role for compilers, ASTs are useful for a broader set of use-cases. Let's discuss this more in details.</p>

<h2>The <code>ast</code> Python module and its use</h2>
<p>The <code>ast</code> module in the Python standard library can be used to create, visit, and modify AST related to Python source code. It has been introduced in <a href="https://docs.python.org/release/2.6/whatsnew/2.6.html#the-ast-module">Python 2.6</a>, and since then it evolved alongside the Python grammar.</p>
<p>Even if it is part of standard library since a long time, it is not common to use it <em>directly</em>. Rather, you might have used it <em>indirectly</em> as popular tools use it under-the-hood:</p>
<ul>
<li>
<p><strong>code testing</strong>: <a href="https://pypi.org/project/MutPy/"><code>mutpy</code></a> is a mutation testing tool used to alters the code under testing to broaden the set of tests in an automated fashion. In practice a mutation is an artificial modification of the AST generated from the code under testing. To see how PyBites uses <code>mutpy</code>, check out <a href="https://pybit.es/guest-mutpy-exploration.html">this article</a>.</p>
</li>
<li>
<p><strong>code coverage</strong>: <a href="https://pypi.org/project/vulture/"><code>vulture</code></a> is a static code analyzer that studies an AST to identify portion of the code not used.</p>
</li>
<li>
<p><strong>code vulnerabilities</strong>: <a href="https://pypi.org/project/bandit/"><code>bandit</code></a> uses the AST representation to identify security vulnerabilities.</p>
</li>
<li>
<p><strong>code autocompletion</strong>: <a href="https://pypi.org/project/jedi/"><code>jedi</code></a> is an IDE and text editors autocompletion tool relying on the <code>ast</code> module functionality to safely evaluate expressions.</p>
</li>
<li>
<p><strong>code reformating</strong>: <a href="https://pypi.org/project/black/"><code>black</code></a> and <a href="https://pypi.org/project/flake8/"><code>flake8</code></a> are two popular tools to enforce code reformatting, and they both use an AST representation of the source code to apply their formatting rules.</p>
</li>
</ul>

<h2>Using the <code>ast</code> module to investigate the PyBites Bite exercises</h2>
<p>Still not convinced of the relevance of an AST? Fair enough: let's consider a more practical, and closer to the PyBites Platform, use-case.</p>
<p>The <a href="https://codechalleng.es/">PyBites Platform</a> is currently offering 300+ Bite exercises, and the number is constantly increasing. Given the (semi)hidden intention of the platform is to offer a varied set of challenges covering different Python modules and functionalities, it starts to be more and more challenging to identify what is covered by already available exercises, and what is instead left to explore.</p>
<p>This is where we can take advantage of the <code>ast</code> module. Specifically, we can process the source code of the solution of the exercises (as provided by the authors of the challenges) and recover some statistics about their content. For instance, which are the popular modules and builtin functions used.</p>
<p>Here some of the results. To follow along check out <a href="https://github.com/pybites/notebooks/tree/main/ast-intro">this Jupyter notebook</a>.</p>

<h3>Builtins popularity</h3>
<p><img src="https://pybit.es/images/astintro/plot_builtins.png" alt="Pybites exercises - builtins popularity" height="600px"></p>
<p>The histogram above shows the Python builtin calls sorted by their popularity. In other words, using the <code>ast</code> module one can detect when a function call has been made, and if it relates to the <code>builtins</code> module or not. Three colors are used to visually distinguish between exception types, the creation of base types (<code>int</code>, <code>float</code>, <code>bool</code>, <code>list</code>, and <code>set</code>), or other functions. The histogram is a normalized frequency count, i.e., the frequency of each element is cumulated across all exercises, and divided by the sum of all elements occurrence across all exercises.</p>
<p>A few observations:</p>
<ul>
<li>
<p>The distribution is heavy tailed, with <code>len()</code> representing 13.4% of all builtin calls, while <code>dir()</code> being used only once. </p>
</li>
<li>
<p>All five base types are used, but <code>bool()</code> is used only in 1 challenge.</p>
</li>
<li>
<p>Only 5 of the standard exceptions are used, with <code>ValueError</code> being the most common.</p>
</li>
<li>
<p>Most of the builtin functions are already used by exercises, but considering the <a href="https://docs.python.org/3/howto/functional.html">functional programming calls</a> you can notice that <code>map()</code> appears while <code>filter()</code> does not (as indeed the common practice is to prefer <a href="https://realpython.com/list-comprehension-python/#profile-to-optimize-performance">list comprehension</a>).</p>
</li>
</ul>

<h3>Modules popularity</h3>
<p><img src="https://pybit.es/images/astintro/plot_modules.png" alt="Pybites exercises - modules popularity" height="600px"></p>
<p>The histogram above shows the ranking for modules. For simplicity we limit to report on the root modules only. If submodules are used, their frequencies are cumulated into the frequency of the respective root modules.</p>
<p>As before, the histogram is heavy tailed, a testament that the PyBites Bite exercises try to "cover a little bit of everything".</p>
<p>We can observe the presence of non-standard modules, such as <code>pandas</code> and <code>pytest</code>, as well more ad-hoc modules such as as <code>zodiac</code> and <code>fibonacci</code> that are created for the purpose of the challenges themselves.</p>
<p>One can easily expand the analysis to understand the functions used in each module/submodule, as well as dive into more specific analysis. What is relevant to highlight is that the results reported here are generated with about 50 lines of Python code and using <code>ast</code> module. Processing the 300+ source code files with tools like <a href="https://www.gnu.org/software/gawk/manual/gawk.html"><code>awk</code></a>, <a href="https://www.gnu.org/software/grep/"><code>grep</code></a>, or anything else would have been significantly harder.</p>
<p>Hopefully this examples gave you a rough idea of what you can achieve with an AST. The next step is to understand how to create such data structures, and investigate their composition.</p>

<h2>Dissecting an assignment instruction using the <code>ast</code> module</h2>
<p>To start familiarize with the <code>ast</code> module, let's see what happens when we analyze a single instruction: <code>one_plus_two = 1+2</code></p>
<div><pre><span></span><span>&gt;&gt;&gt;</span> <span>import</span> <span>ast</span>
<span>&gt;&gt;&gt;</span> <span>code</span> <span>=</span> <span>"one_plus_two = 1+2"</span>
<span>&gt;&gt;&gt;</span> <span>tree</span> <span>=</span> <span>ast</span><span>.</span><span>parse</span><span>(</span><span>code</span><span>)</span>
<span>&gt;&gt;&gt;</span> <span>ast</span><span>.</span><span>dump</span><span>(</span><span>tree</span><span>,</span> <span>indent</span><span>=</span><span>4</span><span>)</span>
</pre></div>


<p>This will output:</p>
<div><pre><span></span><span>Module(</span>
<span>    body=[</span>
<span>        Assign(</span>
<span>            targets=[</span>
<span>                Name(id='one_plus_two', ctx=Store())],</span>
<span>            value=BinOp(</span>
<span>                left=Constant(value=1),</span>
<span>                op=Add(),</span>
<span>                right=Constant(value=2)))],</span>
<span>    type_ignores=[])</span>
</pre></div>


<p>It might not be obvious at first, but the output generated by <code>ast.dump()</code> is actually a tree:</p>
<ul>
<li>
<p>The words starting with capital letter are nodes of the tree.</p>
</li>
<li>
<p>The attributes of the nodes are either edges of the tree or metadata.</p>
</li>
</ul>
<p>Let's rework the output into a diagram with the following conventions:</p>
<ul>
<li>
<p>One rectangle for each node, marking in bold the related node type.</p>
</li>
<li>
<p>Node attributes collecting metadata are reported in blue.</p>
</li>
<li>
<p>Other node attributes are annotated with their type.</p>
</li>
<li>
<p>Nodes are connected based on their attributes.</p>
</li>
</ul>
<p><img alt="AST sketch" src="https://pybit.es/images/astintro/tree-sketch.png"></p>
<p>With this visualization at hand we can observe a few things.</p>
<p>The root of the tree is a <code>Module</code> node. In fact, even if our example is a single line program, it is still a true Python module. The node contains two attributes <code>body</code> and <code>type_ignores</code>. Let's put the aside <code>type_ignores</code> for a moment and focus on <code>body</code>.</p>
<p>As a Python module contains a series of instructions, the <code>Module.body</code> attribute is a list of nodes, one for each instruction in the program. Our example consists of a single assignment operation, hence <code>Module.body</code> contains only one <code>Assign</code> node.</p>
<p>An assignment operation has a <em>right-hand side</em> specifying the <em>operation</em> to perform, and a <em>left-hand side</em> specifying the <em>destination</em> of the operation. The two sides are associated to the <code>Assign.value</code> and <code>Assign.targets</code> attributes of the <code>Assign</code> node.</p>
<p>Considering the right-hand side, the <code>Assign.value</code> attribute is a <code>BinOp</code> node, since the instruction is a binary operation between two operands, which is fully specified with three attributes: </p>
<ul>
<li>
<p><code>BinOp.op</code> is a <code>Add</code> node given we are performing an addition.</p>
</li>
<li>
<p><code>BinOp.left</code> and <code>BinOp.right</code> are the addition operands and consist of <code>Constant</code> nodes, each holding the raw value in the <code>Constant.value</code> attribute.</p>
</li>
</ul>
<p>Considering the left-side, as Python supports multiple assignments and tuple unpacking, the <code>Assign.targets</code> attribute is a list collecting the different destinations of the operation. In our case the assignment is for a single variable, so a single <code>Name</code> node is used. In turn, the <code>Name</code> node has 2 attributes:</p>
<ul>
<li>
<p><code>Name.id</code> stores the name of the variable used in the program (<code>"one_plus_two"</code>). </p>
</li>
<li>
<p><code>Name.ctx</code> specifies how variable reference is used in the program. This can only be one of types <code>ast.Load</code>, <code>ast.Remove</code> or <code>ast.Store</code>, but those are always empty nodes. </p>
</li>
</ul>

<h3>The <code>Module.type_ignores</code> attribute and type comments</h3>
<p>The attribute <code>Module.type_ignores</code> in the vast majority of the cases is going to be an empty list. This is why in the sketch is colored in blue. To understand why this is the case and what is the actual purpose of the attribute, we need to make a digression.</p>
<p>Python 3.0 introduced annotations, and few years later those have been expanded into type hints. If you are not familiar with those concepts, check this <a href="https://realpython.com/lessons/type-comments/">Real Python tutorial</a> and the <a href="https://docs.python.org/3/library/typing.html?highlight=typing#module-typing">official doc</a>.</p>
<p>Those changes were not back ported to Python 2, which instead was using <strong>type comments</strong> as a form of annotation. For more information, see <a href="https://www.python.org/dev/peps/pep-0484/#type-comments">PEP 484</a> or this <a href="https://realpython.com/lessons/type-comments/">Real Python tutorial</a>.</p>
<p>The attribute <code>Module.type_ignores</code> refers to a special type comment <code># type: ignore</code> that was used to indicate to type checker (such as <a href="http://mypy-lang.org/">mypy</a>) to suppress errors if one was found. For legacy reasons, the <code>ast</code> module is still reporting on those comments, but <em>only when asked</em> to do so.</p>
<p>Let's see an example.</p>
<div><pre><span></span><span>&gt;&gt;&gt;</span> <span>code</span> <span>=</span> <span>'one_plus_two = 1+2 # type: int'</span>
<span>&gt;&gt;&gt;</span> <span>tree</span> <span>=</span> <span>ast</span><span>.</span><span>parse</span><span>(</span><span>code</span><span>,</span> <span>type_comments</span><span>=</span><span>True</span><span>)</span>
<span>&gt;&gt;&gt;</span> <span>print</span><span>(</span><span>ast</span>…</pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pybit.es/ast-intro.html">https://pybit.es/ast-intro.html</a></em></p>]]>
            </description>
            <link>https://pybit.es/ast-intro.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26249326</guid>
            <pubDate>Wed, 24 Feb 2021 12:53:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why trademark Open Source software]]>
            </title>
            <description>
<![CDATA[
Score 75 | Comments 43 (<a href="https://news.ycombinator.com/item?id=26249262">thread link</a>) | @samtuke
<br/>
February 24, 2021 | https://lightmeter.io/why-trademark-open-source-software/ | <a href="https://web.archive.org/web/*/https://lightmeter.io/why-trademark-open-source-software/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                <div id="the-content-wrapper">
                    <div id="the-content">
                        <div>
                            


                            <p><span>
                                    <img src="https://secure.gravatar.com/avatar/4b62d60e831369a807450fd74664010f?s=25&amp;d=mm&amp;r=g" alt="">
                                    Sam Tuke 
                                </span>
                                <span>
                                    Feb 23 2021                                </span>
                                <span>
                                    Share     <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Flightmeter.io%2Fwhy-trademark-open-source-software%2F">
        <svg id="facebook-circle" xmlns="http://www.w3.org/2000/svg" width="22" height="21.868" viewBox="0 0 22 21.868">
  <path id="bxl-facebook-circle" d="M14,3a11,11,0,0,0-1.718,21.868V17.184H9.491V14h2.794V11.58c0-2.759,1.642-4.281,4.154-4.281a16.983,16.983,0,0,1,2.464.215v2.705H17.513a1.591,1.591,0,0,0-1.791,1.719V14H18.77l-.487,3.18H15.722v7.688A11,11,0,0,0,14,3Z" transform="translate(-3.003 -3.003)" fill="#7a82ab"></path>
</svg>
        
    </a>
    <a href="https://twitter.com/share?url=https%3A%2F%2Flightmeter.io%2Fwhy-trademark-open-source-software%2F&amp;text=Why+we+trademark+Open+Source+software+and+you+should+too">
        <svg id="twitter" xmlns="http://www.w3.org/2000/svg" width="22.068" height="17.924" viewBox="0 0 22.068 17.924">
  <path id="bxl-twitter" d="M22.854,10.6c.015.2.015.392.015.587A12.782,12.782,0,0,1,10,24.06a12.78,12.78,0,0,1-6.947-2.031,9.453,9.453,0,0,0,1.093.056,9.061,9.061,0,0,0,5.616-1.933,4.532,4.532,0,0,1-4.23-3.136,5.76,5.76,0,0,0,.855.07,4.813,4.813,0,0,0,1.191-.154A4.522,4.522,0,0,1,3.95,12.492v-.056a4.564,4.564,0,0,0,2.044.574,4.53,4.53,0,0,1-1.4-6.048,12.865,12.865,0,0,0,9.327,4.733,5.14,5.14,0,0,1-.112-1.036,4.527,4.527,0,0,1,7.828-3.095,8.935,8.935,0,0,0,2.87-1.093,4.515,4.515,0,0,1-1.989,2.493,9.066,9.066,0,0,0,2.6-.7A9.708,9.708,0,0,1,22.854,10.6Z" transform="translate(-3.053 -6.135)" fill="#7a82ab"></path>
</svg>
        
    </a>
    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Flightmeter.io%2Fwhy-trademark-open-source-software%2F&amp;title=&amp;summary=&amp;source=">
        <svg id="linkedin-square" xmlns="http://www.w3.org/2000/svg" width="22.068" height="22.068" viewBox="0 0 22.068 22.068">
  <path id="bxl-linkedin-square" d="M25.842,5H6.226A1.226,1.226,0,0,0,5,6.226V25.842a1.226,1.226,0,0,0,1.226,1.226H25.842a1.226,1.226,0,0,0,1.226-1.226V6.226A1.226,1.226,0,0,0,25.842,5Zm-14.3,18.8H8.27V13.272h3.276ZM9.908,11.834a1.9,1.9,0,1,1,1.9-1.9A1.9,1.9,0,0,1,9.908,11.834ZM23.8,23.8H20.532V18.682c0-1.221-.022-2.792-1.7-2.792-1.7,0-1.963,1.331-1.963,2.706V23.8H13.6V13.273h3.139v1.439h.045a3.436,3.436,0,0,1,3.094-1.7c3.315,0,3.927,2.18,3.927,5.017V23.8Z" transform="translate(-5 -5)" fill="#7a82ab"></path>
</svg>
        
    </a>
    <a href="http://reddit.com/submit?url=https%3A%2F%2Flightmeter.io%2Fwhy-trademark-open-source-software%2F&amp;title=Why+we+trademark+Open+Source+software+and+you+should+too" target="_blank">
        <svg id="reddit" xmlns="http://www.w3.org/2000/svg" width="21.545" height="21.545" viewBox="0 0 21.545 21.545">
  <circle id="Ellipse_647" data-name="Ellipse 647" cx="1" cy="1" r="1" transform="translate(7 10.562)" fill="#7a82ab"></circle>
  <path id="Path_6705" data-name="Path 6705" d="M19.185,21.67a3.534,3.534,0,0,1-2.251.656,3.524,3.524,0,0,1-2.242-.679.29.29,0,0,0-.408.409,4.122,4.122,0,0,0,2.662.829,4.106,4.106,0,0,0,2.66-.829V22.1a.306.306,0,0,0,.006-.427A.3.3,0,0,0,19.185,21.67Zm.225-3.61a1.077,1.077,0,0,0,0,2.155l-.009.042a.468.468,0,0,0,.055,0,1.1,1.1,0,0,0-.046-2.2Z" transform="translate(-6.161 -7.244)" fill="#7a82ab"></path>
  <path id="Path_6706" data-name="Path 6706" d="M13.773,3A10.773,10.773,0,1,0,24.545,13.773,10.774,10.774,0,0,0,13.773,3Zm6.312,12.205a2.888,2.888,0,0,1,0,.473c0,2.413-2.811,4.376-6.28,4.376s-6.28-1.961-6.28-4.376a2.888,2.888,0,0,1,0-.473,1.572,1.572,0,1,1,1.732-2.575,7.7,7.7,0,0,1,4.2-1.325l.8-3.738v0a.337.337,0,0,1,.4-.254l2.638.528a1.076,1.076,0,1,1-.141.657l-2.3-.485-.7,3.361A7.673,7.673,0,0,1,18.3,12.7a1.561,1.561,0,1,1,1.786,2.51Z" transform="translate(-3 -3)" fill="#7a82ab"></path>
</svg>
        
    </a>
                                    </span>
                            </p>
                        </div>

                        
<p><em><strong>Note:</strong> the author is not a lawyer and this does not constitute legal advice</em> 🦆</p>



<p>Lightmeter uses trademarks for the project (Lightmeter), applications (e.g. Lightmeter Control Center), and technology components or <a href="https://www.linkedin.com/pulse/brand-ingredients-powerful-business-strategy-q-uirino-malandrino/" target="_blank" rel="noreferrer noopener">ingredients</a> (e.g. <a href="https://lightmeter.io/introducing-ray-chaser-email-tracing-engine/">Ray Chaser</a>).</p>



<p>Trademarks are a type of intellectual property, and they therefore restrict people’s freedom to use certain words and images in some contexts. Does this mean that using trademarks contradicts Open Source <a href="https://fsfe.org/freesoftware/freesoftware.en.html" target="_blank" rel="noreferrer noopener">principles</a> of maximising freedom and collaboration?</p>



<p>The short answer is “no”, because some trademark protections are necessary to ensure that broader freedoms exist for everyone.</p>



<h2 id="motivations-to-trademark">Motivations to trademark<a href="#motivations-to-trademark"><i></i></a></h2>



<p>There’s a long history of the abuse and misuse of Open Source software which could have been avoided if trademarks had been effectively used to defend it. </p>



<p>The effects of Open Source trademarks and their absence are not intuitive, and by the time a related problem arises it’s often too late to resolve it, due to the <a href="https://www.legalteamusa.net/trademark-law-first-to-use-v-first-to-file/">central role of timing</a> in trademark litigation.</p>



<p>Neither the terms “Open Source” nor “<a href="https://www.fsf.org/about/what-is-free-software" target="_blank" rel="noreferrer noopener">Free Software</a>” are themselves trademarked, which unfortunately allows anyone to use them to describe anything – companies <a href="https://openwashing.org/" target="_blank" rel="noreferrer noopener">regularly</a> <a href="https://opensource.org/node/1099" target="_blank" rel="noreferrer noopener">exploit</a> this to undermine public understanding of the freedoms which the words originally conveyed.</p>







<p><strong>This is why we are using trademarks early and often in Lightmeter</strong> — to avoid problems for users and ourselves later on.</p>



<h2 id="in-theory-trademarks-protect-freedom">In theory: trademarks protect freedom<a href="#in-theory-trademarks-protect-freedom"><i></i></a></h2>



<p>For many people to posses broad <strong>freedom to</strong> do what they like, they must have <strong>freedom from</strong> certain obstacles to freedom such as, in the extreme, their imprisonment or murder. This is called <a href="https://plato.stanford.edu/entries/liberty-positive-negative/" target="_blank" rel="noreferrer noopener">positive vs negative freedom</a>.</p>



<p><strong>Freedom from</strong> those obstacles entails limits on other people’s <strong>freedom to</strong> do the imprisoning and murdering. Trademarks constrain the freedom of a minority of people who would use it to abuse the freedom of others. In this way trademarks are used to guarantee the freedom of the majority.</p>



<h2 id="in-practice-trademarks-prevent-abuse">In practice: trademarks prevent abuse<a href="#in-practice-trademarks-prevent-abuse"><i></i></a></h2>



<p>Having trademarks impacts many specific avoidable problems; they:</p>



<ul><li>Help guarantee the quality of releases made in our name (e.g. no <a href="https://www.computerworld.com/article/2699814/filezilla-warns-of-large-malware-campaign.html" target="_blank" rel="noreferrer noopener">malware included</a>)</li><li>Help build a brand and identity to attract users and contributors</li><li>Prevent companies from <a href="https://www.elastic.co/blog/why-license-change-AWS" target="_blank" rel="noreferrer noopener">lying about endorsements</a> and support from us</li><li>Prevent companies from <a href="https://www.gerv.net/hacking/pay-download-tour/" target="_blank" rel="noreferrer noopener">charging people</a> to download our Free Software</li><li>Prevent the false attribution of bad behaviour to us</li><li>Avoid legal liability for products which pretend to be made by us</li><li>Allow us to register domains and social media accounts which require trademarks</li><li>Prevent other software pretending to have the same innovations we do</li><li>In the case of a software fork distinguish between the two editions</li></ul>



<p>Additionally opportunities are provided by using trademarks because they:</p>



<ul><li>Help communicate how innovative features are different to competing systems</li><li>Make several aspects of providing future commercial services more viable</li></ul>



<h2 id="proactivity-is-not-optional">Proactivity is not optional<a href="#proactivity-is-not-optional"><i></i></a></h2>



<p>By the time that bad behaviour as occurred which relates to trademarks, new trademarks cannot be registered to help. </p>



<p>Trademarks must be registered early and actively asserted and defended in order to have legal meaning. In many countries whoever registers a particular name or image first gets to own it forever.</p>



<h2 id="our-strategy">Our strategy<a href="#our-strategy"><i></i></a></h2>



<p>Open Source products should not be at a disadvantage to proprietary ones or vulnerable to exploitation. To make empowering new tools we must protect our collective interest and investment, and trademarks are legitimate and necessary means of doing so.</p>



<p>For these reasons we trademark Open Source software at Lightmeter, and you will see the ™ trademark symbol and the ® registered symbol next to some words and images. We look forward to adding more as Lightmeter shares additional innovations in future.</p>



<h2 id="further-reading">Further reading<a href="#further-reading"><i></i></a></h2>



<ul><li><a href="lwn: Trademarks for open-source projects">LWN: Trademarks for open-source projects</a></li><li><a href="https://fossmarks.org/post/" target="_blank" rel="noreferrer noopener">FossMarks.org</a></li><li><a href="https://producingoss.com/en/trademarks.html" target="_blank" rel="noreferrer noopener">Trademarks (Producing OSS)</a></li><li><a href="https://www.youtube.com/watch?v=fiNvDG0ZR3E" target="_blank" rel="noreferrer noopener">Practical Trademark Law For FOSS Projects</a> (video)</li></ul>



<h3 id="thanks">Thanks<a href="#thanks"><i></i></a></h3>



<p>Thanks to Shane Curcuru at <a href="https://punderthings.com/" target="_blank" rel="noreferrer noopener">Punderthings Open Source consulting</a> for providing advice and inspiration for this article.</p>



<h3 id="legal">Legal<a href="#legal"><i></i></a></h3>



<p>The Open Source logo is the property of the <a href="https://opensource.org/" target="_blank" rel="noreferrer noopener nofollow">Open Source Initiative</a> and used in artwork for this article under terms of Fair Use.</p>
                    </div>
                </div>

                                    
                
                


            </div></div>]]>
            </description>
            <link>https://lightmeter.io/why-trademark-open-source-software/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26249262</guid>
            <pubDate>Wed, 24 Feb 2021 12:42:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Python behind the scenes #9: how Python strings work]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26249259">thread link</a>) | @rbanffy
<br/>
February 24, 2021 | https://tenthousandmeters.com/blog/python-behind-the-scenes-9-how-python-strings-work/ | <a href="https://web.archive.org/web/*/https://tenthousandmeters.com/blog/python-behind-the-scenes-9-how-python-strings-work/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<!-- /.post-info -->      <p>In 1991 Guido van Rossum released the first version of the Python programming language. About that time the world began to witness a major change in how computer systems represent written language. The internalization of the Internet increased the demand to support different writing systems, and the Unicode Standard was developed to meet this demand. Unicode defined a universal character set able to represent any written language, various non-alphanumeric symbols and, eventually, emoji 😀. Python wasn't designed with Unicode in mind, but it evolved towards Unicode support during the years. The major change happened when Python got a built-in support for Unicode strings – the <code>unicode</code> type that later became the <code>str</code> type in Python 3. Python strings have been proven to be a convenient way to work with text in the Unicode age. Today we'll see how they work behind the scenes.</p>
<p><strong>Note</strong>: In this post I'm referring to CPython 3.9. Some implementation details will certainly change as CPython evolves. I'll try to keep track of important changes and add update notes.</p>
<h2>The scope of this post</h2>
<p>This post doesn't try to cover all aspects of text encoding in relation to Python. You see, programming language designers have to make several text encoding decisions because they have to answer the following questions:</p>
<ul>
<li>How to talk to the external world (the encodings of command-line parameters, environment variables, standard streams and the file system).</li>
<li>How to read the source code (the encoding of source files).</li>
<li>How to represent text internally (the encoding of strings).</li>
</ul>
<p>This post focuses on the last problem. But before we dive into the internals of Python strings, let's briefly discuss the problem of text encoding on a real life example and clarify what Unicode really is.</p>
<h2>The essence of text encoding</h2>
<p>You see this text as a sequence of characters rendered by your browser and displayed on your screen. I see this text as the same sequence of characters as I type it into my editor. In order for us to see the same thing, your browser and my editor must be able to represent the same set of characters, that is, they must agree on a <strong>character set</strong>. They also need to choose some, possibly different, ways to represent the text internally to be able to work with it. For example, they may choose to map each character to a unit consisting of one or more bytes and represent the text as a sequence of those units. Such a mapping is usually referred to as a <strong>character encoding</strong>. A character encoding is also crucial for our communication. Your browser and my web server must agree on how to <strong>encode</strong> text into bytes and <strong>decode</strong> text from bytes, since bytes is what they transmit to talk to each other.</p>
<p>The character set that your browser and my editor use is Unicode. Unicode is able to represent English as well as any other written language you can think of (文言, Čeština, Ελληνικά, עברית, हिन्दी), 日本語, Português, Русский) and thousands of miscellaneous symbols (₤, ⅐, ↳, ∭, ⌘, , ♫, 👨🏼‍💻, 🍺) . My web server sends this text as a part of the HTML page in the UTF-8 encoding. You browser knows which encoding was used to encode the text because the <code>Content-Type</code> HTTP header declares the encoding:</p>
<div><pre><span></span>Content-Type: text/html; charset=utf-8
</pre></div>


<p>Even if you save this HTML page locally, your browser will still be able to detect its encoding because the encoding is specified in the HTML itself:</p>
<div><pre><span></span><span>&lt;!DOCTYPE html&gt;</span>
<span>&lt;</span><span>html</span> <span>lang</span><span>=</span><span>"en"</span><span>&gt;</span>
<span>&lt;</span><span>head</span><span>&gt;</span>
    <span>&lt;</span><span>meta</span> <span>charset</span><span>=</span><span>"utf-8"</span> <span>/&gt;</span>
    <span>&lt;!-- ... --&gt;</span>
<span>&lt;/</span><span>html</span><span>&gt;</span>
</pre></div>


<p>This may seem absurd to you. How can a browser decode the HTML to read the encoding if it doesn't know the encoding yet? This is usually not a problem in practice because the beginning of an HTML page contains only ASCII characters and most encodings used on the web encode ASCII characters in the same way. Check out the <a href="https://html.spec.whatwg.org/multipage/parsing.html#concept-encoding-confidence">HTML standard</a> to learn more about the algorithm that browsers use to determine the encoding.</p>
<p>Note that the HTTP header and the HTML metatag specify "charset", i.e. a character set. This may seem confusing since UTF-8 is not a character set. What they really specify is a character encoding. The two terms are often used interchangeably because character encodings typically imply a character set of the same name. For example, the ASCII character encoding implies the ASCII character set. The Unicode Standard fixes the terminology by giving precise definitions to all important terms. We'll study them, but before, let's discuss why and how the Unicode project began.</p>
<h2>The road to Unicode</h2>
<p>Before the adoption of Unicode, most computer systems used the <a href="https://en.wikipedia.org/wiki/ASCII">ASCII</a> character encoding that encodes a set of 128 characters using a 7-bit pattern to encode each character. ASCII was sufficient to deal with English texts but that's about it. Other character encodings were developed to support more languages. Most of them <a href="https://en.wikipedia.org/wiki/Extended_ASCII">extended ASCII</a> to 256 characters and used one byte to encode each character. For example, the <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859">ISO 8859</a> standard defined a family of 15 such character encodings. Among them were:</p>
<ul>
<li>Latin Western European ISO 8859-1 (German, French, Portuguese, Italian, etc.)</li>
<li>Central European ISO 8859-2 (Polish, Croatian, Czech, Slovak, etc.)</li>
<li>Latin/Cyrillic ISO 8859-5 (Russian, Serbian, Ukrainian, etc.)</li>
<li>Latin/Arabic ISO 8859-6</li>
<li>Latin/Greek ISO 8859-7.</li>
</ul>
<p>Multi-lingual software had to handle many different character encodings. This complicated things a lot. Another problem was to choose the right encoding to decode text. Failing to do so resulted in a garbled text known as <a href="https://en.wikipedia.org/wiki/Mojibake">mojibake</a>. For example, if you encode the Russian word for mojibake "кракозябры" using the <a href="https://en.wikipedia.org/wiki/KOI8-R">KOI-8</a> encoding and decode it using ISO 8859-1, you'll get "ËÒÁËÏÚÑÂÒÙ".</p>
<p>The problems with different character encodings are not gone completely. Nevertheless, it became much more easier to write multi-lingual software nowadays. This is due to two independent initiatives that began in the late 1980s. One was <a href="https://en.wikipedia.org/wiki/Universal_Coded_Character_Set">ISO 10646</a>, an international standard, and the other was Unicode, a project organized by a group of software companies. Both projects had the same goal: to replace hundreds of conflicting character encodings with a single universal one that covers all languages in widespread use. They quickly realized that having two different universal character sets wouldn't help achieve the goal, so in 1991 the Universal Coded Character Set (UCS) defined by ISO 10646 and Unicode's character set were unified. Today the projects define essentially the same character encoding model. Nevertheless, both continue to exist. The difference between them is that the Unicode Standard has a greater scope:</p>
<blockquote>
<p>The assignment of characters is only a small fraction of what the Unicode Standard and its associated specifications provide. The specifications give programmers extensive descriptions and a vast amount of data about the handling of text, including how to:</p>
<ul>
<li>divide words and break lines </li>
<li>sort text in different languages </li>
<li>format numbers, dates, times, and other elements appropriate to different locales </li>
<li>display text for languages whose written form flows from right to left, such as Arabic or Hebrew </li>
<li>display text in which the written form splits, combines, and reorders, such as for the languages of South Asia </li>
<li>deal with security concerns regarding the many look-alike characters from writing systems around the world</li>
</ul>
</blockquote>
<p>The most important thing that we need to understand about Unicode is how it encodes characters.</p>
<h2>Unicode basics</h2>
<p>Unicode defines <strong>characters</strong> as smallest components of written language that have semantic value. This means that such units as diacritical marks are considered to be characters on their own. Multiple Unicode characters can be combined to produce what visually looks like a single character. Such combinations of characters are called <strong>grapheme clusters</strong> in Unicode. For example, the string "á" is a grapheme cluster that consists of two characters: the Latin letter "a" and the acute accent "´". Unicode encodes some grapheme clusters as separate characters as well, but does that solely for compatibility with legacy encodings. Due to combining characters, Unicode can represent all sorts of grapheme clusters such as "ä́" and, at the same time, keep the character set relatively simple.</p>
<p>Unicode characters are abstract. The standard doesn't care about the exact shape a character takes when it's rendered. The shape, called a <strong>glyph</strong>, is considered to be a concern of a font designer. The connection between characters and glyphs can be quite complicated. Multiple characters can merge into a single glyph. A single character can be rendered as multiple glyphs. And how characters map to glyphs can depend on the context. Check out the <a href="https://www.unicode.org/reports/tr17/#CharactersVsGlyphs">Unicode Technical Report #17</a> for examples.</p>
<p>Unicode doesn't map characters to bytes directly. It does the mapping in two steps:</p>
<ol>
<li>The <strong>coded character set</strong> maps characters to code points.</li>
<li>A <strong>character encoding form</strong>, such as UTF-8, maps code points to sequences of code units, where each code unit is a sequence of one or more bytes.</li>
</ol>
<p>The Unicode coded character set is what we usually mean when we say Unicode. It's the same thing as the UCS defined by ISO 10646. The word "coded" means that it's not actually a set but a mapping. This mapping assigns a code point to each character in the character set. A <strong>code point</strong> is just an integer in the range [0, 1114111], which is written as U+0000..U+10FFFF in the Unicode hexadecimal notation and is called a <strong>code space</strong>. The current Unicode 13.0 assigns code points to 143,859 characters.</p>
<p>Technically, the coded character set is a <a href="https://www.unicode.org/charts/">collection of entries</a>. Each entry defines a character and assigns a code point to it by specifying three pieces of information:</p>
<ul>
<li>the code point value</li>
<li>the name of the character; and</li>
<li>a representative glyph.</li>
</ul>
<p>For example, the entry for the letter "b" looks like this: (U+0062, LATIN SMALL LETTER B, b).</p>
<p>The standard also specifies various character properties such as whether the character is a letter, a numeral or some other symbol, whether it's written from left-to-right or from right-to-left and whether it's an …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-9-how-python-strings-work/">https://tenthousandmeters.com/blog/python-behind-the-scenes-9-how-python-strings-work/</a></em></p>]]>
            </description>
            <link>https://tenthousandmeters.com/blog/python-behind-the-scenes-9-how-python-strings-work/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26249259</guid>
            <pubDate>Wed, 24 Feb 2021 12:41:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[One Way to Represent Things]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26249120">thread link</a>) | @tmfi
<br/>
February 24, 2021 | https://macwright.com/2021/02/23/one-way-to-represent-things.html | <a href="https://web.archive.org/web/*/https://macwright.com/2021/02/23/one-way-to-represent-things.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>I have a theory about the <em>future of programming</em>. I doubt I’m the first to have it, but as far as I can tell this isn’t the mainstream thought in the area, and I want to see if this connects for other folks.</p><p>There’s this idea about having ‘one way to do things’, that I think is most famous in its phrasing from the <a href="https://www.python.org/dev/peps/pep-0020/">Zen of Python</a></p><blockquote><p>There should be one– and preferably only one –obvious way to do it.</p></blockquote><p>Perl has the <a href="https://en.wikipedia.org/wiki/There%27s_more_than_one_way_to_do_it">opposite motto: There’s more than one way to do it</a>. Whether it’s better to have “one way to do things”, as I’d guess is the dictum of Python and Go, or many ways, like Rust, JavaScript, Lisps, etc, it’s sort of undecided.</p><p>But let’s flip the telescope around and peer into the other end.</p><hr><p>Programming is about data structures and the ways you manipulate them. There are few languages that can claim to have <em>one way to store things</em>.</p><p>I claim that most <em>simple</em> programming environments are simple because their datatypes are simple, not because their control flow or statements or expressions are simple. Let’s take a look:</p><p>Excel spreadsheets support sheets, columns, rows, and cells. That’s it. Until very recently (<a href="https://www.microsoft.com/en-us/microsoft-365/blog/2020/10/29/connect-to-your-own-data-with-more-new-data-types-in-excel/">2020</a>), cells were extremely limited in what they could represent, and even with fancy new cells, those types are curated. Excel formulas work, and compose so well, because a column of numbers is generally the same in any kind of document.</p><p>Successful visual programming thrives in constrained environments in which data is mostly homogenous. <a href="https://en.wikipedia.org/wiki/Pure_Data#Language_features">Pure data</a> has four simple kinds of ‘atoms’. <a href="https://en.wikipedia.org/wiki/Max_%28software%29">Max/MSP</a> has a few more, but still limited and non-extensible.</p><p>What has made R and Python such successful platforms for data science isn’t just TensorFlow and ggplot, but the thing that connects the parts of the data science toolkit together: dataframes. The Python ecosystem is far from perfect, but the fact that there are complex datatypes that can handle a wide variety of research data inputs &amp; outputs, and that can be used by multiple packages - that pandas can talk to <a href="https://seaborn.pydata.org/tutorial/relational.html#relating-variables-with-scatter-plots">seaborn</a> to quickly generate a chart - is remarkable.</p><p>In comparison, there are lots of systems in which the common data types are so low-level and people are so hesitant to accept shared definitions that every “computation” problem meets an equal or greater “representation” problem.</p><ul><li>Going to parse a webpage? Is the webpage a DOM? A plain-old nested object? Somewhere in between, like a <a href="https://cheerio.js.org/">cheerio</a> or jQuery wrapper?</li><li>Going to manipulate a color? Is it a RGB triplet in an array, or an object? Or is it an instance of a <a href="https://gka.github.io/chroma.js/">class in a helper module</a>, or a hex string?</li></ul><p>There’s so much energy put into visual programming or functional programming so that we can “connect things,” but not nearly as much time spent on <em>what those things are</em>. So what you get is the ability to connect any “compatible” parts, but a poor definition of what compatibility is, what those types are.</p><p>What if a simpler programming language had first-class representations of a lot more than strings and arrays? Of course this would rankle seasoned developers who want ultimate power and prefer tiny extensible systems. When developers think of advanced type systems, they think of things like <a href="https://wiki.haskell.org/Type">Haskell’s scary-powerful</a> primitives for creating new types, not of ecosystem-supported common types.</p><p>But if the aim is ease of use and giving power to people who otherwise wouldn’t be doing programming, type-rich systems with lots of assumptions seem like a logical first step. And one that doesn’t need a visual editor or a new dialect of a rare programming language.</p></div></div>]]>
            </description>
            <link>https://macwright.com/2021/02/23/one-way-to-represent-things.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26249120</guid>
            <pubDate>Wed, 24 Feb 2021 12:18:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bitcoin Is [Functioning as] a Scam]]>
            </title>
            <description>
<![CDATA[
Score 27 | Comments 26 (<a href="https://news.ycombinator.com/item?id=26249014">thread link</a>) | @ForHackernews
<br/>
February 24, 2021 | https://gauravsharma.com/2021/02/04/bitcoin-is-a-scam/ | <a href="https://web.archive.org/web/*/https://gauravsharma.com/2021/02/04/bitcoin-is-a-scam/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<h2>Introduction</h2>



<p>Later last year (2020) I bought a few bitcoin, that went up in value. A few months later, in January 2021, in a moment’s panic, as the price dropped, I sold them.</p>



<p>I now found myself in a neutral position again to see if it was worth reinvesting what I’d made (and by this time I had done a lot more research). To cut a long story short, yes, but no.</p>



<p>Yes, because for the time being, I expect Bitcoin to continue increasing in value.</p>



<p>No, because Bitcoin has mutated into a monstrous, unethical ponzi scheme that utterly fails to live up to what was described in the original <a href="https://bitcoin.org/bitcoin.pdf">whitepaper</a>. Instead of peer to peer cash-like payments, it is now being used for speculation, as “digital gold”, with holders of Bitcoin egging others on to buy Bitcoin at increasingly ridicolous prices, with little to no regard for those who will be left holding the bag when the music stops.</p>



<h2>Tim Bray</h2>



<p>The first article online that made me pause for thought was written by Tim Bray, who’s been <a href="https://www.google.com/search?q=tim+bray+bitcoin&amp;oq=tim+bray+bit&amp;aqs=chrome.0.69i59j69i57j0i22i30j69i64j69i60l3.3420j0j7&amp;sourceid=chrome&amp;ie=UTF-8">experimenting</a> with Bitcoin for years and is clearly familiar with the technology.</p>



<p>Here’s the key paragraph in his <a href="https://www.tbray.org/ongoing/When/202x/2021/01/20/When-You-Know">recent</a> post:</p>



<blockquote><p><strong>What I see now: Run screaming from Bitcoin</strong> · It is completely unambiguously obvious to me that Bitcoin, a brilliant achievement technically, is functioning as a Ponzi scheme, siphoning money from the pockets of rubes and into those of exchange insiders and China-based miners. I’m less alone in this position than I was in some of those others, I think a high proportion of tech insiders know perfectly well that this is a looming financial disaster.</p></blockquote>



<h2>Amy Castor</h2>



<p>Tim then references <a href="https://twitter.com/ahcastor">Amy Castor</a> who’s been researching various cases of what seems like fraudulent activity at the very centre of Bitcoin, such as USDT: a token used on exchanges to buy Bitcoin, but which hasn’t properly been audited. For all we know these tokens are being produced out of thin air and then being used to buy Bitcoin, encouraging others to then spend their hard-earned <em>real</em> money in fear of missing out of getting rich. </p>



<h2>Crypto Anonymous</h2>



<p>Then I found an <a href="https://crypto-anonymous-2021.medium.com/the-bit-short-inside-cryptos-doomsday-machine-f8dcf78a64d3">article</a> by someone clearly wanting to remain anonymous explaining the rate at which Tether (USDT) is being used to buy Bitcoin and other cryptocurrencies:</p>



<figure><img src="https://f0pub.files.wordpress.com/2021/02/ee7bc-185xfugkrpm_9krgpn8-irw.png" alt="Image for post"></figure>



<p>There’s a shocking level of reliance on these USD-T tokens, and a strong correlation between their issuance and the price of Bitcoin going up. The issuers have a <a href="https://amycastor.com/2019/01/17/the-curious-case-of-tether-a-complete-timeline-of-events/">questionable history</a>, and we don’t even know if their books are clean yet.</p>



<h2><a href="https://davidgerard.co.uk/blockchain/2021/02/03/tether-printer-go-brrrrr/">David Gerard</a></h2>



<blockquote><p>Tether (USDT) is the cryptocurrency trading economy’s favourite substitute US dollar.&nbsp;<em>Most</em>&nbsp;Bitcoin trading is against USDT — not against actual money. There’s about 27 billion tethers in circulation.</p></blockquote>



<h2><a href="https://kalzumeus.com/2019/10/28/tether-and-bitfinex/">Patrick Mackenzie</a></h2>



<blockquote><p>A friend of mine, who works in finance, asked me to explain what <a href="https://tether.to/">Tether</a> was.</p><p>Short version: <strong>Tether is the internal accounting system for the largest fraud since Madoff</strong>.</p></blockquote>



<p>That said, be sure to read the <a href="https://kalzumeus.com/2019/10/28/tether-and-bitfinex/">long version</a> too. Patrick now works at Stripe, and although he probably can’t speak for them, he likely sees the writing on the wall, with his employer planning accordingly. If Stripe too saw Bitcoin as the next big thing, they’d be preparing APIs for it. Instead <a href="https://stripe.com/blog/ending-bitcoin-support">Stripe publicly dropped support for Bitcoin in 2018.</a></p>



<h2>“Decentralisation”</h2>



<p>That bitcoin and other cryptocurrencies are decentralised is just a huge dangerous lie.</p>



<ul><li>The<a href="https://github.com/bitcoin/bitcoin"> source code</a> is controlled by a <a href="https://github.com/orgs/bitcoin/people">central committee</a> of developers who control the direction of the project.<ul><li>They’re human and far from perfect, having previously cancelled <a href="http://gavinandresen.ninja/satoshi">Gavin Andresen</a>, one of the original co-creators of Bitcoin for naming <a href="https://craigwright.net/">Craig Wright</a> as the original creator of Bitcoin (“Satoshi Nakamoto”).</li></ul><ul><li>If only a centralised committee of unaccountable developers can change the protocol that has critical mass at any time, it’s not decentralised. In fact it’s more dangerous than money being in the control of accountable government officials.</li></ul></li><li>Bitcoin is in some sense being sold as decentralised (all users are “equal”) in the way communism is/was sold as decentralised (all people are “equal”). Yet we know from history that such abdication of agency never ends well. When everyone pretends no one is in power and everyone is equal, it only sets the stage for some really dangerous characters to take control.<ul><li>This is no defense of the current financial system – it has flaws, but is also well regulated by the government with appointed staff (by those elected by people) who are accountable for the smooth and fair running of the system.</li><li>With “decentralisation” there is no notion of accountability – how can there be, when every node and user is equal? Who do you go to or appeal to if something goes badly wrong?</li></ul></li></ul>



<p>Even if you on some level buy the decentralised argument, consider this:</p>



<figure><div>
<div><blockquote data-width="550" data-dnt="true"><div lang="en" dir="ltr"><p>Any currency/asset that offers uncapped upside will eventually centralise in its ecosystem. Bitcoin is not an economically decentralised currency. </p><p>In fact its already more centralised than the US economy (0.01% own 42% of the wealth, compared to 12% in the US economy)</p></div>— Oliver Sauter (@BlackForestBoi) <a href="https://twitter.com/BlackForestBoi/status/1362756895581339648?ref_src=twsrc%5Etfw">February 19, 2021</a></blockquote></div>
</div></figure>



<h2>Bitcoin vs Fiat</h2>



<p>Bitcoin is commonly advertised as a hedge against fiat. Yet, put simply:</p>



<figure><div>
<div><blockquote data-width="550" data-dnt="true"><div lang="en" dir="ltr"><p>Fiat is backed by agency.</p><p>Crypto isn't. This renders it vulnerable to takeover by bad actors, which is exactly what we're seeing.</p><p>The real answer is better agency, not abdication of it.</p></div>— Gaurav Sharma (@gsharm1) <a href="https://twitter.com/gsharm1/status/1364356821104885760?ref_src=twsrc%5Etfw">February 23, 2021</a></blockquote></div>
</div></figure>



<h2>Usefulness</h2>



<p>The other argument often made is that Bitcoin has no actual use despite all the money flowing into it and other cryptocurrencies. Patrick explains this well:</p>



<blockquote><p>I don’t hold any position in cryptocurrencies. I continue to believe that they’ve produced substantially no value in the world. I’m not philosophically opposed to shorting them to zero, but the mechanics of doing that are non-trivial.</p><p>…</p><p>My intense skepticism of cryptocurrencies is probably the issue on which I am most in disagreement with many close friends, professional acquaintances, and some of the smartest people I know. That is part of the reason why the hobby of peeling back onion layers here is so engrossing: people really, passionately believe that there is <em>something here.</em> I’m intellectually curious. The thing people have told me exists should <em>smash</em> my interest buttons: <em>programmable money</em>! How could I not look!?</p><p>I have looked, quite a bit. I have not found a good use case yet, or the revolutionary technology advances that my friends tell me exist, but I have found some frauds.</p></blockquote>



<h2>Institutions</h2>



<p>Mark Cuban quips:</p>



<figure><div>
<div></div>
</div></figure>



<p>By whales, one usually means very wealthy individuals or more often institutions who can buy $millions or even $billions worth of bitcoin, like Square did. Yet:</p>



<figure><div>

</div></figure>



<p>As of yet, no answers. Meanwhile I’ll assume Bitcoin is not only unethical but impracticle too. Can you imagine Apple or Tesla having an asset that’s expected to go up and down in orders of magnitude through the years on their balance sheet?</p>



<p>Yet according to Bitcoin proponent <a href="https://en.wikipedia.org/wiki/Michael_J._Saylor">Michael Saylor</a>, you’re expected to believe this is exactly where things are headed:</p>



<figure><div>
<div><blockquote data-width="550" data-dnt="true"><p lang="en" dir="ltr">If you are interested in the legal considerations firms face while integrating <a href="https://twitter.com/hashtag/Bitcoin?src=hash&amp;ref_src=twsrc%5Etfw">#Bitcoin</a> into their corporate strategy, you are not alone.   We have professionals from more than 1400 firms joining us tomorrow for this discussion.  There is still time for your legal team to attend. <a href="https://t.co/fid9nrZUfP">https://t.co/fid9nrZUfP</a></p>— Michael Saylor (@michael_saylor) <a href="https://twitter.com/michael_saylor/status/1356712865827332099?ref_src=twsrc%5Etfw">February 2, 2021</a></blockquote></div>
</div></figure>



<p>The inconsistencies in what’s claimed here just don’t add up. It’s either a stable balance-sheet worthy asset or a strange growing/shrinking cash pile – it can’t possibly be both.</p>



<h2>Drag forces</h2>



<p>Promoters of Bitcoin often mention how Bitcoin went up approximately by 100x during the last cycle before collapsing at a higher base level, and that this cycle will continue. What they forget to take into account is drag forces: it’s easier to find the first 1% who are attracted to such schemes, but harder to find the next 10%.</p>



<p>To assume Bitcoin will continue to grow a similar amount to that in previous cycles disingenuously assumes there’s no saturation point re: interest in Bitcoin, and people will keep paying ever higher prices. In reality, interest levels off. People won’t buy Bitcoin for $100k as casually they will for $100.</p>



<p>There’s an expectation by some Bitcoin proponents that the wealthy (billionaires, etc) will flock to Bitcoin and this will continue to drive up the price. But imagine you actually are a billionaire – why would you want to participate in a chaotic get-rich scheme in the first place? Instead, it’s some of the <a href="https://twitter.com/Tr0llyTr0llFace/status/1358126195926331393?s=20">poorest, desperate and most vulnerable </a>that are targeted to and impacted by such schemes.</p>



<h2>Fear of Missing Out (FOMO)</h2>



<p>There’s a reason why Bitcoin proponents often use the phrase “have fun staying poor” when challenged with logic and they have no logical answers. That phrase is not a statement aimed at the rich (who aren’t poor to begin with). Rather it’s designed to intimidate regular folks into buying Bitcoin in fear of missing out.</p>



<p>What’ll likely be be Bitcoin’s undoing is exactly what’s causing the current bubble – greed. Those piling in primarily for “number goes up” (the overwhelmingly majority of buyers) will just as quickly sell when “number goes down”. Bitcoin isn’t a stable store of value, it’s a macro pump and dump scheme.</p>



<h2>Summary</h2>



<p>The reason I’m reluctant to go back into Bitcoin is that given what it’s turned into (a modified ponzi scheme), as much as I’d like to make money for investing in the right things, Bitcoin does not seem to me like a right thing. Rather it leaves one in the position of just hoping some <a href="https://www.investopedia.com/terms/g/greaterfooltheory.asp">greater fools</a> pay an even higher price further down the line for what is otherwise quite literally a useless asset, so that one earns a profit. Isn’t that how Ponzi schemes work?</p>



<p>Lastly, reading this reddit post for me may have been the nail in the coffin:</p>



<figure><div>
<div></div>
</div></figure>



<blockquote><p>I put my money into things I believe in and want to profit&nbsp;<em>along side of</em>&nbsp;not&nbsp;<em>at the expense of</em>. …</p></blockquote></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://gauravsharma.com/2021/02/04/bitcoin-is-a-scam/">https://gauravsharma.com/2021/02/04/bitcoin-is-a-scam/</a></em></p>]]>
            </description>
            <link>https://gauravsharma.com/2021/02/04/bitcoin-is-a-scam/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26249014</guid>
            <pubDate>Wed, 24 Feb 2021 11:57:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Minimal Email Client]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26248668">thread link</a>) | @reimertz
<br/>
February 24, 2021 | https://manuelmoreale.com/emails | <a href="https://web.archive.org/web/*/https://manuelmoreale.com/emails">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><a href="https://manuelmoreale.com/"></a><p>In a world filled with chats and forums and apps, emails are still one of the most useful tools to communicate with people. I’m not an email power user by any means. My volume of emails is very low so this blog post may not be for you if you’re one of those people who receives hundreds of emails every day and uses dozens of smart folders and filters. If instead you’re looking for a simple way to handle emails this post could be a useful one.</p>
<p>Few premises: I’m on Mac and this post is Mac oriented. So if you’re on Windows or Linux, sorry. You could maybe achieve something similar using a different email clients though. Also, both my emails are hosted by Google. I have one traditional Gmail account for personal stuff and one GSuite account for work related things. Which means the two inboxes are 15 and 30GB respectively and I don’t have to worry about space. With that in mind let’s get started.</p>
<h2>My history with email clients</h2>
<p>I tried a bunch of different clients during the years. I went through Sparrow before it was bought and killed by Google, I tried AirMail, Polymail, Unibox and Spark. To be honest with you, I wasn’t happy with any of those clients. Don’t get me wrong, they were ok and did the job but I’m a weird person and I like simplicity. Sometimes I want a tool that does one thing and nothing more. Smart inbox is nice, filters are great but I don’t want to use them. I want to get my emails, read them, reply to them and archive them. And that’s it.</p>
<h2>My current setup</h2>
<p>My current inbox looks like this</p>
<figure data-template="without"><div><p><img alt="" loading="lazy" sizes="(min-width: 2000px) 1216px, (min-width: 1000px) 1024px, (min-width: 500px) 776px,  340px" src="https://manuelmoreale.com/media/pages/thoughts/emails/f231b1b792-1611495857/inbox.jpg" srcset="https://manuelmoreale.com/media/pages/thoughts/emails/f231b1b792-1611495857/inbox-340x-q70.jpg 340w, https://manuelmoreale.com/media/pages/thoughts/emails/f231b1b792-1611495857/inbox-776x-q70.jpg 776w, https://manuelmoreale.com/media/pages/thoughts/emails/f231b1b792-1611495857/inbox-1024x-q70.jpg 1024w, https://manuelmoreale.com/media/pages/thoughts/emails/f231b1b792-1611495857/inbox-1216x-q70.jpg 1216w"></p></div></figure>
<p>Yes, it’s quite minimal. I want my inbox empty. If there’s something in there, it means I have to do something about it. And that something is either archive it or reply to it. But before I dive into the ins and outs of this set up let’s see how you can set it up.</p>
<h2>The Settings</h2>
<p>The first thing you wanna do is set up Mail as your default client and turn off all notifications. I hate notifications. I don’t want my mac to ding or ring at random. Plus, no email is really urgent in my world. You can adjust this according to your preference though. That’s up to you.</p>
<figure data-template="without"><div><p><img alt="" loading="lazy" sizes="(min-width: 2000px) 1216px, (min-width: 1000px) 1024px, (min-width: 500px) 776px,  340px" src="https://manuelmoreale.com/media/pages/thoughts/emails/d901fbfe07-1611495857/general.jpg" srcset="https://manuelmoreale.com/media/pages/thoughts/emails/d901fbfe07-1611495857/general-340x-q70.jpg 340w, https://manuelmoreale.com/media/pages/thoughts/emails/d901fbfe07-1611495857/general-776x-q70.jpg 776w, https://manuelmoreale.com/media/pages/thoughts/emails/d901fbfe07-1611495857/general-1024x-q70.jpg 1024w, https://manuelmoreale.com/media/pages/thoughts/emails/d901fbfe07-1611495857/general-1216x-q70.jpg 1216w"></p></div></figure>
<p>As for the font, I like to use San Francisco but that’s also a personal preference. Size is also up to you. 14 is the sweet spot in my opinion.</p>
<figure data-template="without"><div><p><img alt="" loading="lazy" sizes="(min-width: 2000px) 1216px, (min-width: 1000px) 1024px, (min-width: 500px) 776px,  340px" src="https://manuelmoreale.com/media/pages/thoughts/emails/1cccd174a5-1611495857/font.jpg" srcset="https://manuelmoreale.com/media/pages/thoughts/emails/1cccd174a5-1611495857/font-340x-q70.jpg 340w, https://manuelmoreale.com/media/pages/thoughts/emails/1cccd174a5-1611495857/font-776x-q70.jpg 776w, https://manuelmoreale.com/media/pages/thoughts/emails/1cccd174a5-1611495857/font-1024x-q70.jpg 1024w, https://manuelmoreale.com/media/pages/thoughts/emails/1cccd174a5-1611495857/font-1216x-q70.jpg 1216w"></p></div></figure>
<p>Next up we have viewing options. A couple of things here. You don’t want to use the classic layout because it need too much horizontal space. You can however turn on the contact photos as well as the list preview.</p>
<figure data-template="without"><div><p><img alt="" loading="lazy" sizes="(min-width: 2000px) 1216px, (min-width: 1000px) 1024px, (min-width: 500px) 776px,  340px" src="https://manuelmoreale.com/media/pages/thoughts/emails/6ed23e49e9-1611495857/viewing.jpg" srcset="https://manuelmoreale.com/media/pages/thoughts/emails/6ed23e49e9-1611495857/viewing-340x-q70.jpg 340w, https://manuelmoreale.com/media/pages/thoughts/emails/6ed23e49e9-1611495857/viewing-776x-q70.jpg 776w, https://manuelmoreale.com/media/pages/thoughts/emails/6ed23e49e9-1611495857/viewing-1024x-q70.jpg 1024w, https://manuelmoreale.com/media/pages/thoughts/emails/6ed23e49e9-1611495857/viewing-1216x-q70.jpg 1216w"></p></div></figure>
<p>I have both turned off because I don’t need to see pictures and I don’t need to have a preview of the message. I want to open the email to see what’s inside and then decide what to do.</p>
<figure data-template="without"><div><p><img alt="" loading="lazy" sizes="(min-width: 2000px) 1216px, (min-width: 1000px) 1024px, (min-width: 500px) 776px,  340px" src="https://manuelmoreale.com/media/pages/thoughts/emails/9a2169b80b-1611495857/options-view.jpg" srcset="https://manuelmoreale.com/media/pages/thoughts/emails/9a2169b80b-1611495857/options-view-340x-q70.jpg 340w, https://manuelmoreale.com/media/pages/thoughts/emails/9a2169b80b-1611495857/options-view-776x-q70.jpg 776w, https://manuelmoreale.com/media/pages/thoughts/emails/9a2169b80b-1611495857/options-view-1024x-q70.jpg 1024w, https://manuelmoreale.com/media/pages/thoughts/emails/9a2169b80b-1611495857/options-view-1216x-q70.jpg 1216w"></p></div></figure>
<p>Next you want to set Archive as the default action to the discard move. This will allow you to swipe left on the message to show the archive icon. As I said at the beginning, I archive everything since I have plenty of space available in my inbox.</p>
<figure data-template="without"><div><p><img alt="" loading="lazy" sizes="(min-width: 2000px) 1216px, (min-width: 1000px) 1024px, (min-width: 500px) 776px,  340px" src="https://manuelmoreale.com/media/pages/thoughts/emails/81246a9853-1611495857/archive.jpg" srcset="https://manuelmoreale.com/media/pages/thoughts/emails/81246a9853-1611495857/archive-340x-q70.jpg 340w, https://manuelmoreale.com/media/pages/thoughts/emails/81246a9853-1611495857/archive-776x-q70.jpg 776w, https://manuelmoreale.com/media/pages/thoughts/emails/81246a9853-1611495857/archive-1024x-q70.jpg 1024w, https://manuelmoreale.com/media/pages/thoughts/emails/81246a9853-1611495857/archive-1216x-q70.jpg 1216w"></p></div></figure>
<p>You also want to have the most recent message at the top. As for the option when you’re composing a new message, I’m not a fan of quoting the entire message every time so I turned off that option.</p>
<figure data-template="without"><div><p><img alt="" loading="lazy" sizes="(min-width: 2000px) 1216px, (min-width: 1000px) 1024px, (min-width: 500px) 776px,  340px" src="https://manuelmoreale.com/media/pages/thoughts/emails/d44436d3dc-1611495857/composing.jpg" srcset="https://manuelmoreale.com/media/pages/thoughts/emails/d44436d3dc-1611495857/composing-340x-q70.jpg 340w, https://manuelmoreale.com/media/pages/thoughts/emails/d44436d3dc-1611495857/composing-776x-q70.jpg 776w, https://manuelmoreale.com/media/pages/thoughts/emails/d44436d3dc-1611495857/composing-1024x-q70.jpg 1024w, https://manuelmoreale.com/media/pages/thoughts/emails/d44436d3dc-1611495857/composing-1216x-q70.jpg 1216w"></p></div></figure>
<p>With the settings done, we can now move into the <strong>View</strong> options and hide everything that’s not necessary. You want to hide the tab bar, sort the messages by date and have the most recent at the top, hide the Mailbox list, disable the Message Filter and hide the Favorites Bar.</p>
<figure data-template="without"><div><p><img alt="" loading="lazy" sizes="(min-width: 2000px) 1216px, (min-width: 1000px) 1024px, (min-width: 500px) 776px,  340px" src="https://manuelmoreale.com/media/pages/thoughts/emails/badcdbc7d2-1611495857/options.jpg" srcset="https://manuelmoreale.com/media/pages/thoughts/emails/badcdbc7d2-1611495857/options-340x-q70.jpg 340w, https://manuelmoreale.com/media/pages/thoughts/emails/badcdbc7d2-1611495857/options-776x-q70.jpg 776w, https://manuelmoreale.com/media/pages/thoughts/emails/badcdbc7d2-1611495857/options-1024x-q70.jpg 1024w, https://manuelmoreale.com/media/pages/thoughts/emails/badcdbc7d2-1611495857/options-1216x-q70.jpg 1216w"></p></div></figure>
<p>You do want to to keep the Toolbar though because that’s where the search fields lives. We can now move to the toolbar. If you right click on it you can customize it. As you can see from the picture below, I deleted everything and the only thing left is the search field. And in order to have the search field centered inside the window I added two spacer on each side of the search field.</p>
<figure data-template="without"><div><p><img alt="" loading="lazy" sizes="(min-width: 2000px) 1216px, (min-width: 1000px) 1024px, (min-width: 500px) 776px,  340px" src="https://manuelmoreale.com/media/pages/thoughts/emails/be8dd9224f-1611495857/toolbar.jpg" srcset="https://manuelmoreale.com/media/pages/thoughts/emails/be8dd9224f-1611495857/toolbar-340x-q70.jpg 340w, https://manuelmoreale.com/media/pages/thoughts/emails/be8dd9224f-1611495857/toolbar-776x-q70.jpg 776w, https://manuelmoreale.com/media/pages/thoughts/emails/be8dd9224f-1611495857/toolbar-1024x-q70.jpg 1024w, https://manuelmoreale.com/media/pages/thoughts/emails/be8dd9224f-1611495857/toolbar-1216x-q70.jpg 1216w"></p></div></figure>
<p>Also make sure to display the icon only. As for the message window, things there are pretty straightforward.</p>
<figure data-template="without"><div><p><img alt="" loading="lazy" sizes="(min-width: 2000px) 1216px, (min-width: 1000px) 1024px, (min-width: 500px) 776px,  340px" src="https://manuelmoreale.com/media/pages/thoughts/emails/92c68c4abf-1611495857/single.jpg" srcset="https://manuelmoreale.com/media/pages/thoughts/emails/92c68c4abf-1611495857/single-340x-q70.jpg 340w, https://manuelmoreale.com/media/pages/thoughts/emails/92c68c4abf-1611495857/single-776x-q70.jpg 776w, https://manuelmoreale.com/media/pages/thoughts/emails/92c68c4abf-1611495857/single-1024x-q70.jpg 1024w, https://manuelmoreale.com/media/pages/thoughts/emails/92c68c4abf-1611495857/single-1216x-q70.jpg 1216w"></p></div></figure>
<p>Each message opens in a new window and as you can see from the picture, the only button left in the toolbar is the reply button. I’m not a fan of replying all but you can tweak that based on your needs.</p>
<figure data-template="without"><div><p><img alt="" loading="lazy" sizes="(min-width: 2000px) 1216px, (min-width: 1000px) 1024px, (min-width: 500px) 776px,  340px" src="https://manuelmoreale.com/media/pages/thoughts/emails/a4674a2eeb-1611495857/message-toolbar.jpg" srcset="https://manuelmoreale.com/media/pages/thoughts/emails/a4674a2eeb-1611495857/message-toolbar-340x-q70.jpg 340w, https://manuelmoreale.com/media/pages/thoughts/emails/a4674a2eeb-1611495857/message-toolbar-776x-q70.jpg 776w, https://manuelmoreale.com/media/pages/thoughts/emails/a4674a2eeb-1611495857/message-toolbar-1024x-q70.jpg 1024w, https://manuelmoreale.com/media/pages/thoughts/emails/a4674a2eeb-1611495857/message-toolbar-1216x-q70.jpg 1216w"></p></div></figure>
<p>And that’s pretty much it. You should now have an uber minimal email client. I particularly like it because it’s super focused. If something is in my inbox I need to act on it. And I have only two options available: reply and archive. If I need to get an old email I have a handy search bar always available at the top.</p>
<figure data-template="without"><div><p><img alt="" loading="lazy" sizes="(min-width: 2000px) 1216px, (min-width: 1000px) 1024px, (min-width: 500px) 776px,  340px" src="https://manuelmoreale.com/media/pages/thoughts/emails/ba6b4b955c-1611495857/empty.jpg" srcset="https://manuelmoreale.com/media/pages/thoughts/emails/ba6b4b955c-1611495857/empty-340x-q70.jpg 340w, https://manuelmoreale.com/media/pages/thoughts/emails/ba6b4b955c-1611495857/empty-776x-q70.jpg 776w, https://manuelmoreale.com/media/pages/thoughts/emails/ba6b4b955c-1611495857/empty-1024x-q70.jpg 1024w, https://manuelmoreale.com/media/pages/thoughts/emails/ba6b4b955c-1611495857/empty-1216x-q70.jpg 1216w"></p></div></figure>
<p>If you decide to give this setup a go let me know. Also let me know if you have ideas about how to improve it. I'm always happy to try new things.</p></div></div>]]>
            </description>
            <link>https://manuelmoreale.com/emails</link>
            <guid isPermaLink="false">hacker-news-small-sites-26248668</guid>
            <pubDate>Wed, 24 Feb 2021 10:52:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Canva buys Company behind Remove.bg]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26248590">thread link</a>) | @franze
<br/>
February 24, 2021 | https://www.kaleido.ai/press.html | <a href="https://web.archive.org/web/*/https://www.kaleido.ai/press.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article> <p><img alt="Kaleido logo" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgNDMwLjE1IDMwMy42Ij4KICA8ZGVmcz4KICAgIDxzdHlsZT4KICAgICAgLmNscy0xIHsKICAgICAgICBmaWxsOiBub25lOwogICAgICB9CgogICAgICAuY2xzLTIgewogICAgICAgIGNsaXAtcGF0aDogdXJsKCNjbGlwLXBhdGgpOwogICAgICB9CgogICAgICAuY2xzLTMgewogICAgICAgIGZpbGw6ICNmZDU4OGM7CiAgICAgIH0KCiAgICAgIC5jbHMtNCB7CiAgICAgICAgZmlsbDogIzAwOWNlYjsKICAgICAgfQoKICAgICAgLmNscy01IHsKICAgICAgICBmaWxsOiAjOTZkMTFmOwogICAgICB9CgogICAgICAuY2xzLTYgewogICAgICAgIGZpbGw6ICNmZmMwMmI7CiAgICAgIH0KCiAgICAgIC5jbHMtNyB7CiAgICAgICAgZmlsbDogI2ZjN2IzZjsKICAgICAgfQoKICAgICAgLmNscy04IHsKICAgICAgICBmaWxsOiAjZDYzODQyOwogICAgICB9CgogICAgICAuY2xzLTkgewogICAgICAgIGZpbGw6ICNkZjRhNTc7CiAgICAgIH0KCiAgICAgIC5jbHMtMTAgewogICAgICAgIGZpbGw6ICNmZjc0YWU7CiAgICAgIH0KCiAgICAgIC5jbHMtMTEgewogICAgICAgIGZpbGw6ICMxZmI5ZWU7CiAgICAgIH0KCiAgICAgIC5jbHMtMTIgewogICAgICAgIGZpbGw6ICNiNGRjM2M7CiAgICAgIH0KCiAgICAgIC5jbHMtMTMgewogICAgICAgIGZpbGw6ICNmZWQxNDk7CiAgICAgIH0KCiAgICAgIC5jbHMtMTQgewogICAgICAgIGZpbGw6ICNmYjk3NGU7CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgICA8Y2xpcFBhdGggaWQ9ImNsaXAtcGF0aCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAwKSI+CiAgICAgIDxyZWN0IGNsYXNzPSJjbHMtMSIgd2lkdGg9IjQzMC4xNSIgaGVpZ2h0PSIzMDMuNiIvPgogICAgPC9jbGlwUGF0aD4KICA8L2RlZnM+CiAgPHRpdGxlPkFzc2V0IDI8L3RpdGxlPgogIDxnIGlkPSJMYXllcl8yIiBkYXRhLW5hbWU9IkxheWVyIDIiPgogICAgPGcgaWQ9IkxheWVyXzEtMiIgZGF0YS1uYW1lPSJMYXllciAxIj4KICAgICAgPGcgaWQ9IkxPR09fUkJHIiBkYXRhLW5hbWU9IkxPR08gUkJHIj4KICAgICAgICA8ZyBjbGFzcz0iY2xzLTIiPgogICAgICAgICAgPHBvbHlnb24gcG9pbnRzPSIzNy40NyAyNDUuMTYgOS43OCAyNzUuMTcgOS43OCAyNDUuMTYgMCAyNDUuMTYgMCAzMDMuMTkgOS43OCAzMDMuMTkgOS43OCAyODguNDMgMTkuNjUgMjc3LjU3IDM4LjcyIDMwMy4xOSA1MC40OSAzMDMuMTkgMjYuNTMgMjY5Ljk1IDQ4Ljk5IDI0NS4xNiAzNy40NyAyNDUuMTYiLz4KICAgICAgICAgIDxwYXRoIGQ9Ik05My41MSwyNTUuNmwxMC45NCwyNS43OUg4Mi41NlptLTQuNzMtMTAuNDQtMjUuNjEsNThINzMuMzZsNS41Ni0xMy4xaDI5LjI2bDUuNTYsMTMuMWgxMC40NGwtMjUuMzctNThaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDApIi8+CiAgICAgICAgICA8cG9seWdvbiBwb2ludHM9IjE0My4wOCAyNDUuMTYgMTQzLjA4IDMwMy4xOSAxNzcuOTggMzAzLjE5IDE3Ny45OCAyOTQuMzIgMTUyLjg2IDI5NC4zMiAxNTIuODYgMjQ1LjE2IDE0My4wOCAyNDUuMTYiLz4KICAgICAgICAgIDxwb2x5Z29uIHBvaW50cz0iMTk4LjU0IDI0NS4xNiAxOTguNTQgMzAzLjE5IDI0MC45OCAzMDMuMTkgMjQwLjk4IDI5NC40IDIwOC4zMiAyOTQuNCAyMDguMzIgMjc4LjQgMjM2LjY3IDI3OC40IDIzNi42NyAyNjkuNyAyMDguMzIgMjY5LjcgMjA4LjMyIDI1My45NSAyMzkuOTkgMjUzLjk1IDIzOS45OSAyNDUuMTYgMTk4LjU0IDI0NS4xNiIvPgogICAgICAgICAgPHJlY3QgeD0iMjY0LjExIiB5PSIyNDUuMTYiIHdpZHRoPSI5Ljc4IiBoZWlnaHQ9IjU4LjAzIi8+CiAgICAgICAgICA8ZyBjbGFzcz0iY2xzLTIiPgogICAgICAgICAgICA8cGF0aCBkPSJNMzU0LjEzLDI3NC4xN2MwLDE2Ljc1LTEyLjY4LDI5LTMwLjI2LDI5SDMwMC4zM3YtNThoMjMuNzljMTcuNDEsMCwzMCwxMi4xOSwzMCwyOW0tOS44Ni4wOUMzNDQuMjcsMjYyLjQsMzM1LjQsMjU0LDMyNCwyNTRIMzEwLjExVjI5NC40aDE0LjI2YzExLjI4LDAsMTkuOS04LjM3LDE5LjktMjAuMTQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgMCkiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTQzMC4xNSwyNzQuMTdjMCwxNi41OC0xMy40MywyOS40My0zMC43NiwyOS40M3MtMzAuNzYtMTIuODUtMzAuNzYtMjkuNDMsMTMuNDQtMjkuMjYsMzAuNzYtMjkuMjYsMzAuNzYsMTIuNjgsMzAuNzYsMjkuMjZtLTUxLjU3LDBhMjAuODEsMjAuODEsMCwwLDAsMjAuOSwyMC42NSwyMC41NiwyMC41NiwwLDEsMC0yMC45LTIwLjY1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDApIi8+CiAgICAgICAgICAgIDxwb2x5Z29uIGNsYXNzPSJjbHMtMyIgcG9pbnRzPSIyNzQuNzYgMTk1LjcyIDIwOS4zIDEzMS4yOSAyNDIuNyAxMjIuMzQgMzMxLjI2IDk3Ljg2IDI3NC43NiAxOTUuNzIiLz4KICAgICAgICAgICAgPHBvbHlnb24gY2xhc3M9ImNscy00IiBwb2ludHM9IjI1MS42NCA4OC45NCAyNzQuNzYgMCAzMzEuMjYgOTcuODYgMjQyLjcgMTIyLjM0IDI1MS42NCA4OC45NCIvPgogICAgICAgICAgICA8cG9seWdvbiBjbGFzcz0iY2xzLTUiIHBvaW50cz0iMjI3LjIgNjQuNSAxNjEuNzYgMCAyNzQuNzYgMCAyNTEuNjQgODguOTQgMjI3LjIgNjQuNSIvPgogICAgICAgICAgICA8cG9seWdvbiBjbGFzcz0iY2xzLTYiIHBvaW50cz0iMTkzLjggNzMuNDQgMTA1LjI2IDk3Ljg2IDE2MS43NiAwIDIyNy4xOSA2NC41IDE5My44IDczLjQ0Ii8+CiAgICAgICAgICAgIDxwb2x5Z29uIGNsYXNzPSJjbHMtNyIgcG9pbnRzPSIxODQuODUgMTA2Ljg0IDE2MS43NiAxOTUuNzIgMTA1LjI2IDk3Ljg2IDE5My44IDczLjQ0IDE4NC44NSAxMDYuODQiLz4KICAgICAgICAgICAgPHBvbHlnb24gY2xhc3M9ImNscy04IiBwb2ludHM9IjIwOS4zIDEzMS4yOSAxODQuODUgMTA2Ljg0IDE2MS43NiAxOTUuNzIgMjc0Ljc2IDE5NS43MiAyMDkuMyAxMzEuMjkiLz4KICAgICAgICAgICAgPHBvbHlnb24gY2xhc3M9ImNscy05IiBwb2ludHM9IjI3NC43NiAxOTUuNzIgMjQwLjE5IDE5NS43MiAxODQuODUgMTA2Ljg0IDIwOS4zIDEzMS4yOSAyNzQuNzYgMTk1LjcyIi8+CiAgICAgICAgICAgIDxwb2x5Z29uIGNsYXNzPSJjbHMtMTAiIHBvaW50cz0iMzMxLjI1IDk3Ljg2IDMxMy45OCAxMjcuODEgMjA5LjMgMTMxLjI5IDI0Mi42NiAxMjIuMzcgMzMxLjI1IDk3Ljg2Ii8+CiAgICAgICAgICAgIDxwb2x5Z29uIGNsYXNzPSJjbHMtMTEiIHBvaW50cz0iMjc0Ljc5IDAuMDEgMjkyLjA3IDI5Ljk2IDI0Mi42OSAxMjIuMzUgMjUxLjY1IDg4Ljk2IDI3NC43OSAwLjAxIi8+CiAgICAgICAgICAgIDxwb2x5Z29uIGNsYXNzPSJjbHMtMTIiIHBvaW50cz0iMTYxLjcgMC4wNCAxOTYuMjggMC4wMSAyNTEuNjYgODguOTMgMjI3LjE5IDY0LjUgMTYxLjcgMC4wNCIvPgogICAgICAgICAgICA8cG9seWdvbiBjbGFzcz0iY2xzLTEzIiBwb2ludHM9IjEwNS4yNiA5Ny44NCAxMjIuNTYgNjcuOSAyMjcuMTkgNjQuNTEgMTkzLjc5IDczLjQ1IDEwNS4yNiA5Ny44NCIvPgogICAgICAgICAgICA8cG9seWdvbiBjbGFzcz0iY2xzLTE0IiBwb2ludHM9IjE2MS45NSAxOTUuODUgMTQ0LjU3IDE2NS45NiAxOTMuNjggNzMuNDIgMTg0LjgzIDEwNi44NCAxNjEuOTUgMTk1Ljg1Ii8+CiAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgICA8L2c+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"> <a href="https://www.canva.com/"> <img alt="Canva logo" src="https://www.kaleido.ai/assets/canva-turquoise-741d4a59.png"> </a> </p>  <h2>Feb 23, 2021</h2>  <p> We’re excited to announce that Kaleido is joining the Canva family, bringing our technology directly into Canva’s leading global design platform and accelerating our mission of making visual AI accessible to everyone around the world. </p> <figure> <a target="_blank" href="https://www.kaleido.ai/assets/kaleido-team-min-f5b1046d.jpg"> <img alt="Kaleido team" src="https://www.kaleido.ai/assets/kaleido-team-min-f5b1046d.jpg"> </a> <figcaption> The Vienna-based Kaleido AI team in a COVID-safe digital montage created using Kaleido’s AI-based background removal technology. </figcaption> </figure> <p> <strong> Kaleido was founded with the belief that visual AI has the potential to revolutionize the way we create images and videos. </strong> Making complex technology accessible became our mission – we wanted to empower individuals with the tools to bring their creative vision to life while equipping professionals with products that would supercharge their productivity and efficiency. </p> <p> <strong> In 2020 our products remove.bg and unscreen.com were used by over 100 million people from more than 180 countries. From individual creators to small businesses and Fortune 500 companies, Kaleido’s technology helped create more than 1 billion photos and videos. </strong> Today, our team of 25 AI experts based in Vienna are working at the forefront of innovative products ready to challenge the traditional notion of design. </p> <figure> <a target="_blank" href="https://www.kaleido.ai/assets/founders-of-kaleido-2-min-f1e22100.png"> <img alt="Kaleido founders" src="https://www.kaleido.ai/assets/founders-of-kaleido-2-min-f1e22100.png"> </a> <figcaption> Kaleido AI founders Benjamin Groessing and David Fankhauser </figcaption> </figure> <p> Since day one, we’ve declined numerous opportunities for investment and decided to bootstrap and grow the company organically. This approach allowed us to radically align ourselves with our users and their needs, rather than that of investors worried about the bottom line. The result has been a rapidly growing suite of visual AI products, solving real-world problems across dozens of industries for millions of people every day. </p> <p> A few years into our journey, we were lucky enough to meet <a href="https://www.canva.com/">Canva</a> – a fellow design technology company deeply rooted in our vision of making complex things simple while also growing just as quickly as we are with a fantastic culture and the same innovative spirit that has guided Kaleido from the beginning. With our deeply aligned missions, overlapping roadmap and synergies across every aspect of the company, it was easy to see the incredible potential and opportunity in joining the Canva family. </p> <p> Founded in 2013, Canva shares our mission of making complex things simple. Today, over 40 million people around the world are designing on Canva each month, with over 100 designs created per second ranging from posters to videos, infographics to presentations, and so much more. Together, we’re looking forward to challenging the traditional notion of design and rolling out Kaleido’s powerful visual AI technology to make designing even easier for millions of people around the world. From advanced photo and video editing through to new design automation tools, the possibilities are truly endless. </p> <p> <strong> If you’ve been using <a href="https://www.remove.bg/">remove.bg</a> or <a href="https://www.unscreen.com/">unscreen.com</a> to edit your images and videos, nothing will change for you. </strong> We will continue to provide the high-quality, one-click background removal products and APIs you know us for today. By joining forces with Canva, we’ll be able to accelerate our mission and double down on development and innovation across our new and existing products as we continue the exciting work we’ve started in the visual AI space. </p> <p> <strong> We want to thank all our users, partners, the whole team at Canva and everyone who has supported us in this exciting new chapter. </strong> There's great things to come and we're only getting started! 🚀 </p> <p> PS: There has never been a better time to join our rapidly growing team - <a href="http://www.remove.bg/careers">check out our open positions and career opportunities!</a> </p>  </article></div>]]>
            </description>
            <link>https://www.kaleido.ai/press.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26248590</guid>
            <pubDate>Wed, 24 Feb 2021 10:38:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The trouble with Cassandra as an object storage metadata database]]>
            </title>
            <description>
<![CDATA[
Score 82 | Comments 73 (<a href="https://news.ycombinator.com/item?id=26248507">thread link</a>) | @jasim
<br/>
February 24, 2021 | https://blog.min.io/the-trouble-with-cassandra-based-object-stores/ | <a href="https://web.archive.org/web/*/https://blog.min.io/the-trouble-with-cassandra-based-object-stores/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
                

                    <figure>
                        <img srcset="https://blog.min.io/content/images/size/w300/2021/01/pexels-pixabay-158826.jpg 300w,
                                    https://blog.min.io/content/images/size/w600/2021/01/pexels-pixabay-158826.jpg 600w,
                                    https://blog.min.io/content/images/size/w1000/2021/01/pexels-pixabay-158826.jpg 1000w,
                                    https://blog.min.io/content/images/size/w2000/2021/01/pexels-pixabay-158826.jpg 2000w" sizes="(max-width: 800px) 400px,
                                    (max-width: 1170px) 700px,
                                    1400px" src="https://blog.min.io/content/images/size/w2000/2021/01/pexels-pixabay-158826.jpg" alt="The Trouble With Cassandra: Why It's a Poor Choice For a Metadata Database for Object Stores">
                    </figure>

                <section>
                    <p>Cassandra is a popular, tried-and-true NoSQL database that supports key-value wide-column tables. Like any powerful tool, Cassandra has its ideal use cases - in particular, Cassandra excels at supporting write-heavy workloads, while having limitations when supporting read-heavy workloads. Cassandra's eventual consistency model and lack of transactions, multi-table support like joins, subqueries can also limit its usefulness.</p><p>However, using Cassandra as a metadata database for an object storage system introduces significant complexity resulting in data integrity and performance issues at scale - particularly if one wants to use their object store as a primary storage system. Object storage needs are far simpler and different from what Cassandra is built for.</p><p>Because the implications of employing Cassandra as a object storage metadata database were not properly understood, many object storage vendors made it a foundational part of their architecture - unfortunately it keeps them from ever moving past simple archival workloads into the modern workloads that define the future of object storage (AI/ML, analytics, web/mobile applications).</p><p>Let’s explore why in a little more detail.</p><ol><li>Cassandra was never designed to manage file or object storage metadata and it is predictably weak in this regard. It is <a href="https://docs.datastax.com/en/cassandra-oss/2.2/cassandra/dml/dmlTransactionsDiffer.html">not ACID compliant</a>. It does not have the rigidity to prevent partially successful writes, dupes, contradictions and the like. Cassandra does not support joins or foreign keys, and consequently does not offer consistency in the ACID sense. Further, there is no capacity to roll back transactions in the event of a failure. <p>While Cassandra supports atomicity and isolation at the row-level, it trades transactional isolation and atomicity for high availability and fast write performance. </p></li><li>Cassandra is categorized as an AP system in CAP. Meaning it trades Consistency for Availability and Partition tolerance. When employing Cassandra as a metadata database for an object store, you can either be fast or consistent - but not both at the same time. <p>Cassandra’s tunable consistency is a compromise, not a feature. Any setting other than <a href="https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/dml/dmlConfigConsistency.html">QUORUM or ALL</a> means you are at risk of reading stale data. It is important to apply this consistency setting for both read and write operations in addition to the object data operations performed outside of it. </p><p>In the object storage world, the implication is that you can be good for archival use cases (write once, read very infrequently) or you choose a different architecture. </p></li><li>Similar to the consistency problem, durability guarantee is also a tradeoff between performance and correctness. The storage engine’s default <a href="https://cassandra.apache.org/doc/latest/architecture/storage_engine.html">commit log</a> is set to sync periodically every 10 seconds. This means you will lose up to 10 seconds worth of latest updates in the event of power failure. The only reasonable way to make Cassandra durable is to use the synchronous batch mode committer which comes with a performance penalty. </li><li>Cassandra’s high-availability guarantee is not suited for erasure coded object stores. With a replication factor of 3 and consistency quorum of 2, Cassandra can only tolerate a single node / drive failure within a replication group. Increasing the replication factor and quorum consistency to 5 or higher serves only to make the meta performance go from bad to worse. Unlike replication, erasure coding can tolerate multiple servers and drives failures in a distributed system. Even if you have configured the erasure code setting to 6 parity (any 6 nodes may fail) in a 16 node setup, you are still limited by the weak link, i.e Cassandra’s replication factor. The ops team is often unaware of these high-availability surprises until it is too late.</li><li>Object storage systems organize the data in a tree structured hierarchical namespace. Since Cassandra does not support a hierarchical key namespace, you will have to build a tree data model on top for each directory prefix and also maintain a flat list for direct lookups without directory walk. Atomically updating multiple tables with batched commit log and full read / write quorum is slow and prone to &nbsp;corruption.</li><li>While objects themselves are immutable, the object storage system is mutable. When you add, remove, overwrite objects and its metadata, apply policies, collect metrics, grant session tokens and rotating credentials, the metadata is always mutating. Cassandra is not designed to handle this level of metadata mutation and definitely not for the primary storage workloads. Long term archival use cases where the objects are large (GBs in size) and infrequently accessed, will work - other use cases will not..<p>The reason is that Cassandra's log structured storage system quickly appends new writes to the end of the log file, but delays the deletes and overwrites with a tombstone marker. Vacuuming these tombstones is an expensive operation, because the actual delete operation is applied by copying the SSTables to a new table sieving the stale entries in the process. This operation has to be performed on all the nodes simultaneously. If you delay vacuuming, excessive tombstones will result in increased read latencies, memory GC pauses and failed queries. Some object storage vendors use an additional Redis database to offload Cassandra’s pressure. Using two databases to manage an object stores metadata is hardly elegant and introduces additional points of failure. &nbsp;</p><p>The biggest gotcha? You won’t see these problems until you are deep into production and it is too late.</p></li><li>Small objects (KB to MB in size) will fill up the metadata drives dedicated to Cassandra much sooner than the data drives. Also small object workloads exacerbate Cassandra’s limitations, because they are sensitive to latency and consistency issues. &nbsp;Some vendors store small objects entirely inside Cassandra to address this problem. At this point, you are merely looking at an S3 proxy on top of Cassandra database. <p>This too is a bad practice. </p><p>If you use your object store for large objects and employ erasure coding and use Cassandra as your data store for small objects and use replication - you have introduced a non-trivial SLA problem. In this approach, data is protected by different guarantees. Given that drives die all the time, the probability of serving an old object or a corrupted object goes up considerably. </p><p>As noted above, your metadata database is now the weak link. Availability, consistency and durability guarantees are only as good as the weakest link. If the weakest link employs replication (three copies) you can only withstand one-node or one drive failure before losing data.</p><p>A counter argument might be to replicate five copies. The result is a massive performance hit and you can still really only withstand two-node or two-drive failure. </p><p>In using replication for small objects and erasure coding for large objects you also undermine the efficiency gains associated with EC. If you only use erasure code for large objects (likely a small percent of your overall object pool) you don’t gain much but increase your exposure considerably.</p></li><li>Employing Cassandra as your metadata database for an object store also introduces a troublesome Java dependency. This in turn can result in bloatware and memory management issues. Cassandra taxes the JVM memory management with constant large scale metadata allocation and mutation resulting in memory exhaustion and garbage collection pauses. </li></ol><p>The obvious takeaway is that it is a lot more complicated to operate a Cassandra cluster than a properly designed object storage system. Cassandra is built for a different purpose and object-storage meta-data is not one of them. The areas where Cassandra struggles are the areas that are core to a performant, scalable and resilient object store.</p><p>The last point is of note - object storage is a natural fit for blob data and that is why Erasure Coding is so effective and efficient. Cassandra is designed for replication. When you use that model for metadata it breaks the object store’s erasure coding advantage (or at the very least makes it brittle and prone to breakage).</p><p><strong>Bottom line. Write your metadata atomically with your object. Never separate them.</strong><br></p><p>We welcome your comments. Feel free to engage us on Twitter, on our Slack channel or by dropping us a note at <a href="mailto:hello@min.io">hello@min.io</a>.</p>

                                    </section>

                <section>
                            <a href="https://blog.min.io/tag/s3-select/">S3 Select</a>
                            <a href="https://blog.min.io/tag/machine-learning/">Machine Learning</a>
                            <a href="https://blog.min.io/tag/s3/">S3</a>
                            <a href="https://blog.min.io/tag/performance/">Performance</a>
                            <a href="https://blog.min.io/tag/security/">Security</a>
                            <a href="https://blog.min.io/tag/brand-design/">Brand/Design</a>
                            <a href="https://blog.min.io/tag/spark/">Spark</a>
                            <a href="https://blog.min.io/tag/high-performance/">High Performance</a>
                            <a href="https://blog.min.io/tag/benchmarks/">Benchmarks</a>
                            <a href="https://blog.min.io/tag/integrations/">Integrations</a>
                            <a href="https://blog.min.io/tag/modern-data-lakes/">Modern Data Lakes</a>
                            <a href="https://blog.min.io/tag/kubernetes/">Kubernetes</a>
                            <a href="https://blog.min.io/tag/presto/">Presto</a>
                            <a href="https://blog.min.io/tag/sql/">SQL</a>
                            <a href="https://blog.min.io/tag/opensource/">opensource</a>
                            <a href="https://blog.min.io/tag/golang-2/">Golang</a>
                            <a href="https://blog.min.io/tag/programming/">Programming</a>
                            <a href="https://blog.min.io/tag/cloud-computing/">Cloud Computing</a>
                            <a href="https://blog.min.io/tag/golang/">golang</a>
                            <a href="https://blog.min.io/tag/microservices/">Microservices</a>
                            <a href="https://blog.min.io/tag/raspberry-pi/">Raspberry Pi</a>
                            <a href="https://blog.min.io/tag/github/">Github</a>
                            <a href="https://blog.min.io/tag/docker/">Docker</a>
                            <a href="https://blog.min.io/tag/aws/">AWS</a>
                            <a href="https://blog.min.io/tag/devops/">DevOps</a>
                            <a href="https://blog.min.io/tag/assembly/">Assembly</a>
                            <a href="https://blog.min.io/tag/compilers/">Compilers</a>
                            <a href="https://blog.min.io/tag/api/">API</a>
                            <a href="https://blog.min.io/tag/nginx/">Nginx</a>
                            <a href="https://blog.min.io/tag/dcos/">DCOS</a>
                            <a href="https://blog.min.io/tag/apache-spark/">Apache Spark</a>
                            <a href="https://blog.min.io/tag/open-source/">Open Source</a>
                            <a href="https://blog.min.io/tag/design/">Design</a>
                            <a href="https://blog.min.io/tag/support/">support</a>
                            <a href="https://blog.min.io/tag/subnet/">SUBNET</a>
                            <a href="https://blog.min.io/tag/vmware/">VMware</a>
                            <a href="https://blog.min.io/tag/news/">News</a>
                            <a href="https://blog.min.io/tag/splunk/">Splunk</a>
                            <a href="https://blog.min.io/tag/intel/">Intel</a>
                            <a href="https://blog.min.io/tag/edge-computing/">edge computing</a>
                            <a href="https://blog.min.io/tag/veeam/">Veeam</a></section></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.min.io/the-trouble-with-cassandra-based-object-stores/">https://blog.min.io/the-trouble-with-cassandra-based-object-stores/</a></em></p>]]>
            </description>
            <link>https://blog.min.io/the-trouble-with-cassandra-based-object-stores/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26248507</guid>
            <pubDate>Wed, 24 Feb 2021 10:24:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How many hours should you work as a professional?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26248321">thread link</a>) | @sehhsucht
<br/>
February 24, 2021 | https://codeandchaos.com/development/2020-12-27-HowManyHoursShouldYouWork/ | <a href="https://web.archive.org/web/*/https://codeandchaos.com/development/2020-12-27-HowManyHoursShouldYouWork/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><div><p>Uncle Bob in his book “The clean coder” has a very clear answer to his question:</p>
<p>”<strong>You should plan on working 60 hours per week</strong>. The first 40 hours are for your employer. The remaining 20 are for you. (…) Perhaps you do not want to make that kind of commitment. That’s fine but you should not think of yourself as a professional. Professionals spend time caring for their profession.”</p>
<p>This is a really bad answer and promotes very bad habits in the industry. If you look at how many hours a programmer works on average it will be in the range from 40-60+ hours a week. Very rarely you will find a part-time programmer.</p>
<p>Let’s try to figure out what the correct number is.</p>
<h2>It is harmful to work above 40 hours</h2>
<p>People that constantly working 60 hours are not professional and should consider this:</p>
<ul>
<li>Assuming you are employed for 40 hours and you work an additional 20 hours - If you would be a freelancer your salary would increase by +50% - however as employee you will probably not be given a pay raise and you will not get any recognition because your extra work is just assumed as the new ‘normal’</li>
<li>You are putting your job as your only priority and will not have time for relationships, friends, family or your own personal interests.</li>
<li>Additionally you are harming other developers. Two developers working 60 hours a week do the same amount of hours as 3 developers working 40 hours a week. You effectively are eliminated a job opening making it more difficult for a junior developer to find a job.</li>
</ul>
<p>I bet you are thinking right now: ”<em>But there is so much to do, I cant work less hours. The project will fail if I do not get all the tasks done. My manager is pressuring me to work long hours</em>”</p>
<p>I am going to let you in on a couple of secrets:</p>
<ul>
<li>There is always a lot of work, the client will always want a new feature, bugfix etc. that is the nature of developing software. In most cases it is not the end of the world if a feature is delivered at a later point in time.</li>
<li>Your managers job is to get the most work out of you for the least cost. If you work more hours for free, hey that’s quite a good deal for the manager in the short term. However great managers will realize that allowing programmers to go home and have a life outside of work will make them more effective at work thus actually improving the projects outcome in the long run.</li>
<li>If you think the project will fail because you are not putting in extra hours, then the projects resources are being miss managed. Management is not aware of the state of the project - You pitching in and doing extra hours, makes the problem worse - as management just believes that the velocity of the project has not changed. You are not signaling to management that the project is not going well and the project cannot continue in this way - they do not know that they are allocating 150% of resources that are available to them. Everything seems to be fine - but in reality management would have to take action to maintain the projects velocity they either have to hire additional people or adjust the deadlines to match the available resources.</li>
<li>And finally the deadline for the project is probably arbitrary. Any project manager knows that things go wrong in a software project. You can assume that there are multiple fallback deadlines. Even if there is the ‘last’ deadline - you are dealing with people and people can be flexible if you communicate with them - also if they already invested months of time and resources into a project, in most cases you do not throw that away immediately.</li>
</ul>
<p>Overtime is sometimes unavoidable, but it always should be a temporary measure, never a permanent state.</p>
<p>It should not become a permanent state because studies have shown that most humans when working more hours just work less efficient. So it is very likely that you can work less hours and achieve the exact same outcome, because you are working more focused.</p>
<p>In short - you should only be working more than 40 hours for a good reason.</p>
<h2>Working for 40 hours is also bad</h2>
<p>If you think you can clock in from 9-5 and just work on your tasks - you will burn out.</p>
<p>You have to stay up to date what is going on in your field. You have to learn multiple programming languages. It is your responsibility as an professional developer.</p>
<p>Managers will not take care of this. Most times they will promise you ‘trainings’, while at the same time they will never have the budget for you to actually attend a training.</p>
<p><em>“But learning a new technology that my employer does not need is just for me”</em></p>
<p>Lets assume you learn an abstract programming language like <a href="https://en.wikipedia.org/wiki/Esoteric_programming_language#Piet">Piet</a> - It seems useless for your employer at first, but maybe at your company for the problem that you have to solve this language may be the easiest solution. It also may be that this technology makes the problem harder and you should avoid using it.</p>
<p>No matter the outcome, you the developer will have sharpened your skills have a deeper understanding of the technologies being currently used by contrasting it with the newly learned technology. Additionally you gain knowledge about technologies you might want to consider or avoid in the future. With the side benefit that you are less frustrated at your job because you know your skills are growing.</p>
<p>But without your effort in learning about the technology, your employer cannot make an educated decision and will just go with whatever they have always been using. The manager may not even be aware of this new technology. In the end it is your job to explain to your employer if they should use a technology or not - they relies on their employees to highlight potential benefits/downsides of using any tech.</p>
<p>You have to plan this time, its part of your self management - just as you would plan time for your emails. Its just part of your job, your manager will not tell you to answer emails, its just part of your job to do that, the manager assumes that you know that.</p>
<p>If you only dedicate 40 hours to complete the tasks that your employer gives you, you are neglecting your skills why your employer hired you in the first place - and risk to be replaced.</p>
<h2>Programming for 20 hours from 9-5</h2>
<p>Now lets take a look at my ideal view of how you should spend your 40 hours a week:</p>
<ul>
<li>20 hours is for working on actual tasks</li>
<li>10 hours is for practicing skills and keeping up to date</li>
<li>10 hours is for meetings, email and socializing</li>
</ul>
<p>25% of your time spent on practicing seems excessive. Coding is equally craftmanship and artistic expression. Consider other professions like a concert musician. A Violinist would be practicing for months for a single concert - 99% training and 1% performance. Nobody would say that is excessive.</p>
<p><strong>Note</strong>: Practicing skills means actively learning and solving problems it is <strong>not</strong> passively watching for hours YouTube talks or listening to podcasts</p>
<p>Meetings in an organization simply take time a lot of time that you are not spending programming, and many times you get the feeling you were in so many meetings you did not get anything done for the day and clock in an extra hour - however attending meetings is work. you did get something done - you are allowed to go home you may not have done fun things like coding - but you did work.</p>
<p>If you miss a deadline because of meeting then you maybe should reconsider if you should’ve attended that meeting in the first place. nobody’s forcing you to attend every meeting. If your manager complains that you’re not going to attend a meeting then you can explain that you have a deadline to meet – The manager can then decide what is more important. You are the one that has inform your manager about the conflicting responsibilities.</p>
<p>The remaining time you can spend working on tasks and that is if you are lucky around 20 hours.</p>
<h2>But I am passionate about programming</h2>
<p>You can have programming as a hobby even while you’re working in the field. But then you have to treat it as a hobby and you only should do it if you have the time and it gives you joy and satisfaction. - this also means working on your own project - not work related and overall it should be relaxing.</p>
<h2>Quality over Quantity</h2>
<p>It all comes down to quality over quantity. It is better to commit to fewer tasks and deliver them on time and in a good quality than deliver many tasks with bugs. Because the bugs will drastically reduce your development velocity over a long period of time.</p>
<p>And in the end your manager will also be happier because your work output becomes more predictable and reliable. As a bonus the manager does not have to explain to people why the software was created with so many defects and then order overtime to fix them as fast as possible.</p>
<p>Working focused we get you much further then overworking and neglecting your life outside of work.</p>
<h2>There is no correct answer</h2>
<p>You have to think about your personal situation and work the way it suits you.</p>
<p>Take your time to think about your current situation, your capabilities and set your priorities.</p>
<p>Take responsibility and control over how many hours you work. This is an active choice - do not passively just do that what everyone else is doing.</p></div></section></div>]]>
            </description>
            <link>https://codeandchaos.com/development/2020-12-27-HowManyHoursShouldYouWork/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26248321</guid>
            <pubDate>Wed, 24 Feb 2021 09:50:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Electric Vehicles: What Is Stopping Them from Becoming Mainstream?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26248281">thread link</a>) | @scottbucks
<br/>
February 24, 2021 | https://www.thedetechtor.com/post/electric-vehicles-stopping-them-becoming-mainstream | <a href="https://web.archive.org/web/*/https://www.thedetechtor.com/post/electric-vehicles-stopping-them-becoming-mainstream">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-hook="post-description"><article><div><div data-rce-version="8.22.8"><div dir="ltr"><div><h3 id="viewer-foo"><span><span>If electric vehicles are to be the future, they'll have to overcome several obstacles </span></span></h3><p id="viewer-fm4jg"><span>There is no doubt that electric vehicles are the future, as the way we get around and produce electricity is transitioning away from fossil fuels, and towards cleaner and greener alternatives.  The entire transport sector accounts for 21% of total CO2 emissions and road travel alone accounts for 15% of total CO2 emissions so getting electric vehicles onto the roads is definitely a priority in tackling the <a href="https://www.thedetechtor.com/post/carbon-capture-usage-and-storage-the-solution-to-the-climate-crisis" target="_blank" rel="noopener"><u>climate crisis</u></a>. However, they're not perfect, and they are faced with obstacles that are stopping them from becoming mainstream.</span></p><h2 id="viewer-1gqqg"><span>Choice</span></h2><p id="viewer-9nibn"><span>Because electric vehicles are fairly new, in the grand scheme of things, companies don't yet offer an electric range anywhere near as big as their gas range and not everybody wants the same type of vehicle. Some people want fast vehicles, others need big ones for their kids, and of course for the moment there are still no pickup trucks although many are in the works (like the famous Tesla Cybertruck). So until we have an electric vehicle for every type of driver out there, they simply can't be mainstream because people will always be drawn to the gas car that fits all their needs.</span></p><h2 id="viewer-6q717"><span>Cost</span></h2><p id="viewer-aprb2"><span>As usual, it always comes down to the money. Although the cost per mile may be reduced thanks to the price of electricity being lower than that of gas, for electric vehicles to be adopted by the masses, the initial price will need to be reduced. The cheapest electric cars come in at around $30 000 and higher end models can climb well into the $100 000, whereas the initial price of gas cars can be much cheaper. Once again, as electric vehicles become more and more popular, we will start to see much more competitive prices, furthermore, many countries will offer rebates and incentives to encourage you to buy them.</span></p><h2 id="viewer-5ncln"><span>Misconceptions </span></h2><p id="viewer-7j63h"><span>Another obstacle that electric vehicles will have to overcome are their misconceptions! Indeed a lot of information that is exaggerated or even fake is spread about electric vehicles. This leads to unnecessary concerns for potential buyers.</span></p><h3 id="viewer-elr1a"><span>Range</span></h3><p id="viewer-v7a0"><span>Range is often a concern to potential electric vehicle buyers, because gas vehicles are commonly believed to be far superior in this domain which is actually no longer the case. The average gas-powered car can reach up to 482 km (300 miles) on a full tank, whilst most electric models have a range of 200-490 km (124-304 miles) on a single charge so it's now very easy to find an EV with a range that fits your needs. Tesla has even managed to breach 500 miles of range, with the new Model S Plaid+ boasting an incredible 520+ miles on a single charge. In addition, with <a href="https://www.thedetechtor.com/post/the-future-of-batteries" target="_blank" rel="noopener"><u>battery technology</u></a> constantly being improved upon, those numbers can only get better! </span></p><h3 id="viewer-3r74r"><span>Charging Infrastructure </span></h3><p id="viewer-8qmjc"><span>If you do end up in a situation where you're on a long trip and need to recharge your vehicle, you will of course need to find a charging station. Although changing infrastructure is constantly growing, once again people are concerned that they'll have difficulty finding a station, whether it be a Tesla Supercharger, or any other charging network. The truth is that most people only really drive 40-90 km a day, meaning you can just recharge your vehicle at home. Furthermore, maps now clearly show EV charging stations and will help you plan out when and where to stop. </span></p><h3 id="viewer-ci2tu"><span>Charging Speed</span></h3><p id="viewer-3a7pg"><span>Charging speed is also a source of worry to people considering electric vehicles as it is often exaggerated. Depending on the charging network, the charging speed will be very different. For example, a 22kW station can charge cars in about 5h, whereas a 150kW station (like a Tesla Supercharger) can charge cars in under an hour. Furthermore, Elon Musk tweeted on December 21st that the Supercharger network will be available to other car manufacturers in reply to a tweet from MKBHD:</span></p><p id="viewer-bi2ii"><span>On top of that, companies are constantly working on making charging faster and more efficient, Tesla even announced plans for a new Megacharger network in 2017,  that could provide the Semi Trucks (that they announced the same day) with 400 miles (645km) of range in 30 minutes!</span></p><p id="viewer-2epup"><span>Of course you're very rarely going to charge your vehicle to 100%, in normal circumstances you will top up every now and then, or spread out charging on a long journey to comply with bathroom breaks. Moreover, electric vehicles have the benefit of being charged at home over night, meaning you'll rarely even need to top up when doing short distances.</span></p><h3 id="viewer-dv8l4"><span>Overloading the Grid</span></h3><p id="viewer-bj766"><span>Finally there are rumours that, with all these new electric vehicles needing charging at once, the electrical grid would overload. This is, however, untrue and exaggerated as electric vehicles will indeed not have a big enough impact to overload the grid. In fact, the adoption of electric vehicles may even help the grid with the introduction of <a href="https://blog.wallbox.com/en/why-bidirectional-charging-is-the-next-big-thing-for-ev-owners/" target="_blank" rel="noopener"><u>Bidirectional charging</u></a> (or “Two-way” Charging). This would allow for electric car batteries to provide electricity to the grid via a DC to AC converter system usually embedded in the EV charger. Vehicle to grid (V2G) can be used to help balance and settle local, regional or national energy needs via smart charging. It allows EVs to charge during off-peak hours and give back to the grid during peak hours, when there is extra energy demand. With careful planning and the right infrastructure, parked and plugged-in EVs could become mass power banks, stabilizing the electric grids of the future</span></p><h2 id="viewer-9dgv5"><span>Bottom Line</span></h2><p id="viewer-7r1k5"><span>The bottom line is, electric vehicles still have a few obstacles to overcome if they're to become mainstream, but at the rate that technology is improving and with the amount of money being invested into electric vehicles increasing, it shouldn't be too long before we start to see a considerable shift away from gas and towards electric.</span></p><h3 id="viewer-83cqm"><span>
<span><strong>More from The Detechtor:</strong></span>

</span></h3><ul><li id="viewer-e5cv"><p><a href="https://www.thedetechtor.com/post/first-hyperloop-passenger-test" target="_blank" rel="noopener"><u><strong>🚄 The First Hyperloop Passenger Test Has Been Completed, What's Next?</strong></u></a></p></li><li id="viewer-c8a4g"><p><strong>🏭 </strong><a href="https://www.thedetechtor.com/post/carbon-capture-usage-and-storage-the-solution-to-the-climate-crisis" target="_blank" rel="noopener"><strong><u>Carbon Capture, Usage and Storage: The Solution to the Climate Crisis?</u></strong></a></p></li><li id="viewer-4mlse"><p><a href="https://www.thedetechtor.com/post/microalgae-facade-renewable-bioenergy-heat" target="_blank" rel="noopener"><strong>🏙 <u>Microalgae Facade, Producing Renewable Bioenergy and Heat</u></strong></a></p></li></ul><h3 id="viewer-basol"><span><span>Stay updated:</span>

</span></h3><ul><li id="viewer-37n8g"><p>📩 Want the latest on the impact of tech? <a href="https://www.thedetechtor.com/subscribe" target="_blank" rel="noopener"><strong><u>Subscribe</u></strong></a> to our <a href="https://www.thedetechtor.com/subscribe" target="_blank" rel="noopener"><strong><u>newsletter</u></strong></a>!</p></li><li id="viewer-ntqo"><p>🎙 <a href="http://thedetechtor.com/" target="_blank" rel="noopener"><u>The Detechtor Podcast</u></a> is available on all podcast players!                              <strong>Subscribe</strong> on <a href="https://podcasts.apple.com/fr/podcast/the-detechtor-podcast/id1537457578?l=en" target="_blank" rel="noopener"><u>Apple Podcasts</u></a> | <a href="https://open.spotify.com/show/5kc8WA6nZC69bQ1sbOrlNi?si=CwAuAtpfRpe7WmLu1PlO8w" target="_blank" rel="noopener"><u>Spotify</u></a> | <a href="https://podcasts.google.com/search/The%20detechtor%20Podcast" target="_blank" rel="noopener"><u>Google Podcasts</u></a> | <a href="https://www.stitcher.com/show/the-detechtor-podcast" target="_blank" rel="noopener"><u>Stitcher</u></a> | <a href="https://tunein.com/podcasts/Technology-Podcasts/The-Detechtor-Podcast-p1377296/?topicid=158813573" target="_blank" rel="noopener"><u>Tunein</u></a></p></li><li id="viewer-22q43"><p>📲 Let's connect! <strong>Follow</strong> <strong>us</strong> on <a href="https://twitter.com/the_detechtor" target="_blank" rel="noopener"><u>Twitter</u></a> | <a href="https://www.instagram.com/thedetechtor/" target="_blank" rel="noopener"><u>Instagram</u></a> | <a href="https://www.facebook.com/thedetechtor" target="_blank" rel="noopener"><u>Facebook</u></a> | <a href="https://www.youtube.com/channel/UCAW--4_mML4A86W3670ix3w" target="_blank" rel="noopener"><u>Youtube</u></a></p></li></ul></div></div></div></div></article></div></div>]]>
            </description>
            <link>https://www.thedetechtor.com/post/electric-vehicles-stopping-them-becoming-mainstream</link>
            <guid isPermaLink="false">hacker-news-small-sites-26248281</guid>
            <pubDate>Wed, 24 Feb 2021 09:43:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Redis Rate Limiter]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26248056">thread link</a>) | @todsacerdoti
<br/>
February 24, 2021 | https://blog.rebased.pl/2021/02/22/redis-rate-limiter.html | <a href="https://web.archive.org/web/*/https://blog.rebased.pl/2021/02/22/redis-rate-limiter.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
      
      <p>At <a href="https://rebased.pl/">Rebased</a> we have an internal time tracking project called Harmonogram.
Its backend is built in Ruby on Rails.
It started as a playground for new hires to get used to company culture and conventions, but over time grew into a fully-functional tool.
When I joined, the application was already being used internally and we were hitting interesting performance problems.
One of them was reaching the rate limit of Toggl API calls.
And since this was my first week at the company, I was tasked with solving this issue.</p>

<h2 id="the-problem">The problem</h2>

<p>The Toggl documentation recommended sending requests at most every second in order to avoid hitting the limit – which we were already doing in a naive way, so the solution wouldn’t be as easy as adding <code>sleep 1</code> to every request.</p>

<div><div><pre><code><span>page</span> <span>=</span> <span>1</span>
<span>loop</span> <span>do</span>
  <span>response</span> <span>=</span> <span>client</span><span>.</span><span>get</span><span>(</span><span>payload</span><span>)</span>
  <span>report_data</span><span>.</span><span>concat</span><span>(</span><span>response</span><span>[</span><span>'data'</span><span>])</span>
  <span>page</span> <span>+=</span> <span>1</span>

  <span>break</span> <span>if</span> <span>report_data</span><span>.</span><span>size</span> <span>&gt;=</span> <span>response</span><span>[</span><span>'total_count'</span><span>]</span>
  <span>sleep</span> <span>1</span> <span># not enough :(</span>
<span>end</span>
</code></pre></div></div>

<p>After looking around, I’ve realised the code above was called from many places and processes: the web server, manual Rake tasks, background jobs and cron.
This made the <code>sleep 1</code> solution ineffective.
I needed something that would synchronise all of these callers in a way that:</p>

<ul>
  <li>doesn’t introduce too many changes to the existing code,</li>
  <li>doesn’t add any new technologies to the current stack,</li>
  <li>guarantees that there’s at least a 1 second delay between calls.</li>
</ul>

<p>In order to pull this off I’d need to setup a semaphore shared by multiple Ruby processes – and a mechanism that would block API calls until at least a second has passed since the last one.
I needed a place to store and share information about those calls.
Redis seemed like a perfect solution, mainly because we can setup keys that expire after a given amount of miliseconds – which would allow us to store a key that expires after one second and have other callers wait until it expires.
Luckily we were already using Redis for background jobs, so I wouldn’t be adding new dependencies.</p>

<h2 id="the-solution">The solution</h2>

<p>To keep the changes to a minimum I’ve decided to create a new class.
It should allow us to execute a block of code with a globally limited rate, but without having to know how that happens.
Ideally we’d initialize that “limiter” and inject it where needed, keeping the rate limiting separate from other logic.</p>

<div><div><pre><code><span>page</span> <span>=</span> <span>1</span>
<span>loop</span> <span>do</span>
  <span># now using rate limiter instead of sleeping</span>
  <span>response</span> <span>=</span> <span>rate_limiter</span><span>.</span><span>with_limited_rate</span> <span>{</span> <span>client</span><span>.</span><span>get</span><span>(</span><span>payload</span><span>)</span> <span>}</span>
  <span>report_data</span><span>.</span><span>concat</span><span>(</span><span>response</span><span>[</span><span>'data'</span><span>])</span>
  <span>page</span> <span>+=</span> <span>1</span>

  <span>break</span> <span>if</span> <span>report_data</span><span>.</span><span>size</span> <span>&gt;=</span> <span>response</span><span>[</span><span>'total_count'</span><span>]</span>
<span>end</span>
</code></pre></div></div>

<p>If we assume that the rate limiter works as needed, this should solve our problem.
But something doesn’t look right.
Rate limiting should be a responsibility of the client.
It’s there to keep us separated from the low-level details of communicating with the API.
That includes rate limiting.</p>

<div><div><pre><code><span>class</span> <span>Client</span>
  <span>def</span> <span>initialize</span><span>(</span><span>token</span><span>,</span> <span>rate_limiter: </span><span>TogglApi</span><span>::</span><span>RateLimiter</span><span>.</span><span>new</span><span>)</span>
    <span># ...</span>
    <span>@rate_limiter</span> <span>=</span> <span>rate_limiter</span>
  <span>end</span>

  <span>def</span> <span>get</span><span>(</span><span>path</span><span>:)</span>
    <span>response</span> <span>=</span> <span>rate_limiter</span><span>.</span><span>with_limited_rate</span> <span>{</span> <span>@client</span><span>.</span><span>get</span><span>(</span><span>path</span><span>)</span> <span>}</span>
    <span>Response</span><span>.</span><span>parse</span><span>(</span><span>response</span><span>)</span>
  <span>end</span>

  <span># ...</span>

  <span>private</span>

  <span>attr_reader</span> <span>:rate_limiter</span>
<span>end</span>
</code></pre></div></div>

<p>This looks better.
Now the API client deals with rate limiting and we can simplify our example from earlier:</p>

<div><div><pre><code><span>def</span> <span>some_method</span>
  <span>page</span> <span>=</span> <span>1</span>
  <span>loop</span> <span>do</span>
    <span># no need to worry about rate limiting now</span>
    <span>response</span> <span>=</span> <span>client</span><span>.</span><span>get</span><span>(</span><span>payload</span><span>)</span>
    <span>report_data</span><span>.</span><span>concat</span><span>(</span><span>response</span><span>[</span><span>'data'</span><span>])</span>
    <span>page</span> <span>+=</span> <span>1</span>

    <span>break</span> <span>if</span> <span>report_data</span><span>.</span><span>size</span> <span>&gt;=</span> <span>response</span><span>[</span><span>'total_count'</span><span>]</span>
  <span>end</span>
<span>end</span>

<span>def</span> <span>client</span>
  <span>@client</span> <span>||=</span> <span>Client</span><span>.</span><span>new</span><span>(</span><span>toggl_api_token</span><span>,</span> <span>rate_limiter: </span><span>RateLimiter</span><span>.</span><span>new</span><span>)</span>
<span>end</span>
</code></pre></div></div>

<h2 id="the-rate-limiter">The rate limiter</h2>

<p>Now that we have an idea of how the limiter interface should look like, we can talk about the implementation details.</p>

<div><div><pre><code><span>class</span> <span>RateLimiter</span>
  <span>TimedOut</span> <span>=</span> <span>::</span><span>Class</span><span>.</span><span>new</span><span>(</span><span>::</span><span>StandardError</span><span>)</span>

  <span>REDIS_KEY</span> <span>=</span> <span>"harmonogram_</span><span>#{</span><span>Rails</span><span>.</span><span>env</span><span>}</span><span>_rate_limiter_lock"</span><span>.</span><span>freeze</span>

  <span>def</span> <span>initialize</span><span>(</span><span>redis</span> <span>=</span> <span>Redis</span><span>.</span><span>current</span><span>)</span>
    <span>@redis</span> <span>=</span> <span>redis</span>
    <span>@interval</span> <span>=</span> <span>1</span> <span># seconds between subsequent calls</span>
    <span>@timeout</span> <span>=</span> <span>15</span> <span># amount of time to wait for a time slot</span>
  <span>end</span>

  <span>def</span> <span>with_limited_rate</span>
    <span>started_at</span> <span>=</span> <span>Time</span><span>.</span><span>now</span>
    <span>retries</span> <span>=</span> <span>0</span>

    <span>until</span> <span>claim_time_slot!</span>
      <span>if</span> <span>Time</span><span>.</span><span>now</span> <span>-</span> <span>timeout</span> <span>&gt;</span> <span>started_at</span>
        <span>raise</span> <span>TimedOut</span><span>,</span> <span>"Started at: </span><span>#{</span><span>started_at</span><span>}</span><span>, timeout: </span><span>#{</span><span>timeout</span><span>}</span><span>, retries: </span><span>#{</span><span>retries</span><span>}</span><span>"</span>
      <span>end</span>

      <span>sleep</span> <span>seconds_until_next_slot</span><span>(</span><span>retries</span> <span>+=</span> <span>1</span><span>)</span>
    <span>end</span>

    <span>yield</span>
  <span>end</span>

  <span>private</span>

  <span>attr_reader</span> <span>:redis</span><span>,</span> <span>:interval</span><span>,</span> <span>:timeout</span>
</code></pre></div></div>

<p>The main element is the <code>with_limited_rate</code> that ends with a <code>yield</code> call.
It calls the private <code>claim_time_slot!</code> in a loop until it either succeeds or runs out of time.
We give it a limited amount of time because we don’t want it to hang forever, causing timeouts in other places.
In case of a timeout we throw a custom error with data for debugging.
Inside the loop, there’s a <code>sleep</code> call with a calculated delay in seconds.</p>

<div><div><pre><code>  <span>def</span> <span>claim_time_slot!</span>
    <span>redis</span><span>.</span><span>set</span><span>(</span><span>REDIS_KEY</span><span>,</span> <span>'locked'</span><span>,</span> <span>px: </span><span>(</span><span>interval</span> <span>*</span> <span>1000</span><span>).</span><span>round</span><span>,</span> <span>nx: </span><span>true</span><span>)</span>
  <span>end</span>
</code></pre></div></div>

<p>The <code>claim_time_slot!</code> method is straightforward.
It calls the Redis instance to set the value <code>'locked'</code> on the <code>REDIS_KEY</code> key.
This value will expire after <code>px</code> milliseconds and <code>nx: true</code> means it will only set the value if it doesn’t exist yet.
The return value of <code>redis.set</code> is truthy when the key was sucessfully created and falsy otherwise.
In other words, if no other instance of the rate limiter called <code>redis.set</code> in the last second, then <code>claim_time_slot!</code> will return true and the block passed to <code>with_limited_rate</code> will be called.</p>

<div><div><pre><code>  <span>def</span> <span>seconds_until_next_slot</span><span>(</span><span>retries</span><span>)</span>
    <span>ttl</span> <span>=</span> <span>redis</span><span>.</span><span>pttl</span><span>(</span><span>REDIS_KEY</span><span>)</span>
    <span>ttl</span> <span>=</span> <span>ttl</span><span>.</span><span>negative?</span> <span>?</span> <span>interval</span> <span>*</span> <span>1000</span> <span>:</span> <span>ttl</span>
    <span>ttl</span> <span>+=</span> <span>calculate_next_slot_offset</span><span>(</span><span>retries</span><span>)</span>
    <span>ttl</span> <span>/</span> <span>1000.0</span>
  <span>end</span>

  <span># Calculates an offset between 10ms and 50ms to avoid hitting the key right before it expires.</span>
  <span># As the number of retries grows, the offset gets smaller to prioritize earlier requests.</span>
  <span>def</span> <span>calculate_next_slot_offset</span><span>(</span><span>retries</span><span>)</span>
    <span>[</span><span>10</span><span>,</span> <span>50</span> <span>-</span> <span>[</span><span>retries</span><span>,</span> <span>50</span><span>].</span><span>min</span><span>].</span><span>max</span>
  <span>end</span>
<span>end</span>
</code></pre></div></div>

<p>The <code>seconds_until_next_slot</code> is more interesting.
It uses the <code>pttl</code> method that returns the current TTL (time to live) of a given key, in miliseconds.
At this point we know that another instance of the limiter has claimed a time slot.
And we want to figure out how long we have to wait.
It is possible though that the key no longer exists because it’s just expired.
In that situation the returned value is negative and we replace it with a full interval to avoid unexpected race conditions or going through retries without waiting.
Then we add a small offset to the TTL, convert it to seconds and return the calculated value to be used in <code>sleep</code>.</p>

<p>Why not ask for seconds in the first place if we’re converting them anyway?
Asking Redis for TTL in seconds will return a rounded value. By asking for miliseconds we can convert them to fractions of a second.</p>

<p>What’s the point of <code>calculate_next_slot_offset(retries)</code>?
This is a trick that will allow us to prioritize calls that have been waiting for a slot longer. A kind of scheduler, if you will.</p>

<div><div><pre><code>calculate_next_slot_offset(0) # =&gt; 50
calculate_next_slot_offset(5) # =&gt; 45
calculate_next_slot_offset(10) # =&gt; 40
calculate_next_slot_offset(15) # =&gt; 35
calculate_next_slot_offset(50) # =&gt; 10
calculate_next_slot_offset(100) # =&gt; 10
</code></pre></div></div>

<p>Calls with higher <code>retries</code> count will get smaller offset and therefore have a higher chance of “claiming” a time slot before others.
Given a 1s interval and offset values ranging from 10 to 50, we will be able to prioritize callers with timeouts of up to ~40s.</p>

<p>The 10ms minimal value is there to make sure we don’t hit the key just before it expires and miss an empty slot.</p>

<h2 id="closing-thoughts">Closing thoughts</h2>

<p>With the rate limiter implemented and the client configured to use it, we can stop worrying about receiving errors from the Toggl API.
But it’s not ready for release just yet.
We still have to write unit tests and make sure they don’t take too long to run.
Stay tuned for part 2, where we’ll do just that.</p>

<p>Meanwhile – <a href="https://github.com/musialik/redis-rate-limiter">a working demo of the rate limiter</a>!</p>

<p>This solution is a version of a distributed lock, you can <a href="https://redis.io/topics/distlock">read more about that on the Redis website</a>.</p>

    </section></div>]]>
            </description>
            <link>https://blog.rebased.pl/2021/02/22/redis-rate-limiter.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26248056</guid>
            <pubDate>Wed, 24 Feb 2021 09:00:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Zero Bug Tolerance]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26248003">thread link</a>) | @karlerss
<br/>
February 24, 2021 | https://karlerss.com/zero-bug-tolerance/ | <a href="https://web.archive.org/web/*/https://karlerss.com/zero-bug-tolerance/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div><p>Paavo contacted me about starting RecruitLab (we called it <em>bestrecruitment</em> then) when his <a href="http://brandem.ee/">employer branding agency</a> could not find a suitable applicant tracking system. They signed with Bullhorn initially but found some promised key features missing.</p>
<p>Within ~2 months we launched our MVP and signed our first client - the agency.</p>
<p>When entering an established (enterprise) software niche, "do one thing well" does not work. You have to do a thing well, but you also have to do a lot of other things good enough - the essentials. In the ATS space, for example, the essentials are applicant management, e-mail messaging, job board integrations, tools for GDPR compliance. Without those features, your software is just not that useful.</p>
<p>We spent the first 6 months pumping out these essential features - at a fast pace. As soon as one was deemed acceptable we moved on to the next one.</p>
<p>In retrospect, maybe the strategy to reach approximate feature parity real fast was not the optimal one. Maybe, if we had just cerebrated hard enough, we could have found some product-market fit with one of our <a href="https://get.recruitlab.co.uk/p/job-builder">unique features</a> as a standalone product.</p>
<p>Bugs don't happen when your SaaS is making $$$ while you sleep. Bugs happen when you change or build features. When you build many features, you get many bugs. During our 6-month building-spree, we started having discussions about our software quality. Not on an abstract level, but in the concrete "some clients are afraid to use some features" sense. Very bad, an existential threat.</p>
<p>We slowed down, held meetings and reflected. Our policy of zero tolerance for bugs was born and we wholeheartedly committed to it.</p>
<p>This does not mean that I stopped building buggy software or Paavo &amp; Marie started catching all bugs in staging. It is a culture of empathy towards our users. We try harder - we test more (both manually and automated). I put more emphasis on non-happy paths, handling faults. Bugs still slip through though, but we do our best to document and understand them, create tickets. When planning development, fixing bugs is always our top priority. We don't build new features before old ones are bug-free (to our knowledge).</p>
<p>The culture shift from yee-haw development to a more careful mode has paid off well for <a href="https://recruitlab.co.uk/">RecruitLab</a>. There are fewer fires to put out. The more diligent testing and development might even be a net time-saver due to fewer distractions from incidents and customer support.</p>
</div>
</div></div>]]>
            </description>
            <link>https://karlerss.com/zero-bug-tolerance/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26248003</guid>
            <pubDate>Wed, 24 Feb 2021 08:51:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Implementing a “Defer” Statement]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26247954">thread link</a>) | @lerno
<br/>
February 24, 2021 | https://c3.handmade.network/blogs/p/7641-implementing_defer | <a href="https://web.archive.org/web/*/https://c3.handmade.network/blogs/p/7641-implementing_defer">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://c3.handmade.network/blogs/p/7641-implementing_defer</link>
            <guid isPermaLink="false">hacker-news-small-sites-26247954</guid>
            <pubDate>Wed, 24 Feb 2021 08:42:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Yet Another Collaboration Tool]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26247940">thread link</a>) | @iamflimflam1
<br/>
February 24, 2021 | https://fibery.io/anxiety | <a href="https://web.archive.org/web/*/https://fibery.io/anxiety">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">

<!-- Google Tag Manager (noscript) -->

<!-- End Google Tag Manager (noscript) -->

<section>
    <a href="https://fibery.io/">
        <p>Bring back<br> the boring <br> website
            <span id="reload"> </span>
        </p>
    </a>


    

    <article>
        

        <p>
            Claims to be all-in-one, is mediocre at everything.
        </p>

        


        
    </article>

</section>

<section>
    <p>
        There are dozens of collaborative productivity tools on the market.<br>
        Not that we are significantly better.
    </p>

    <h2>
        We just can't help building another one.
    </h2>

    <p>
        We have miserably spent 4 years of our lives and are still ashamed of the result.
    </p>


</section>

<section id="build">
    <p>Try.</p>

    <article>
        <div>
            <div>
                <p><span>Brace yourself, it won't be a smooth ride.</span></p><h3>
                    Create<br>
                    custom apps,<br>
                    <span>breathe deeply</span>.
                </h3>
                <p>
                    Maybe, Fibery will be really good 2 years from now.
                </p>
            </div>
            
        </div>

        <div>
            <div>
                <div id="create-1" data-duration="6" data-next="create-2">
                    <p>Learning Curve</p>
                    <p>
                        Unfamiliar terms, new abstractions and an "original" API.
                    </p>
                    

                    <p><img src="https://images-temp.fibery.io/website/0.1.0-ci.n1084.0702b79/img/case1-pic1.jpg" alt="">
                    </p>

                </div>
                <div id="create-2" data-next="create-3" data-duration="6">
                    <p>Missing Features</p>
                    <p>
                        Automations, forms and external sharing, among other things.
                    </p>
                    

                    <p><img src="https://images-temp.fibery.io/website/0.1.0-ci.n1084.0702b79/img/case1-pic2-fun.jpg" alt="">
                    </p>
                </div>
                <div id="create-3" data-next="create-1" data-duration="6">
                    <p>Mobile Last</p>
                    <p>
                        No Android or iOS apps, never tested on a touch screen.
                    </p>
                    

                    <p><img src="https://images-temp.fibery.io/website/0.1.0-ci.n1084.0702b79/img/case1-pic3-fun.jpg" alt="">

                    </p>
                </div>
            </div>
            
        </div>
    </article>
</section>

<section id="use">
    <p>Suffer.</p>

    <article>
        <div>
            <div>
                <p><span>Somehow you've managed to set this up.</span></p><h3>
                    It only
                    <span>gets worse</span><br>
                    from here
                </h3>
                <p>
                    It's not just the creator who suffers, but everyone else too.
                </p>
            </div>
            
        </div>

        <div>
            <div>
                <div id="use-1" data-next="use-2" data-duration="16" data-video="video-organize-work">
                    <p>Intolerable Quality</p>
                    <p><del>No QA engineer</del>, poor test coverage and 500+ open bugs.
                    </p>
                    

                    
                </div>
                <div id="use-2" data-next="use-3" data-duration="6">
                    <p>Unpolished Interface</p>
                    <p>
                        We cut corners to beat the deadline, sorry.
                    </p>
                    

                    <p><img src="https://images-temp.fibery.io/website/0.1.0-ci.n1084.0702b79/img/case2-pic2-fun.gif" alt="">
                    </p>
                </div>
                <div id="use-3" data-next="use-1" data-duration="6">
                    <p>Unknown Uptime</p>
                    <p>
                        Production cluster is a few weeks old, let's pray for the best.
                    </p>
                    

                    <p><img src="https://images-temp.fibery.io/website/0.1.0-ci.n1084.0702b79/img/case2-pic3-fun.jpg" alt="">
                    </p>
                </div>
            </div>
            <div>
                

                <p><img src="https://images-temp.fibery.io/website/0.1.0-ci.n1084.0702b79/img/case2-pic2-fun.gif" alt="">
                </p>

                <p><img src="https://images-temp.fibery.io/website/0.1.0-ci.n1084.0702b79/img/case2-pic3-fun.jpg" alt="">
                </p>
            </div>
        </div>
    </article>
</section>

<section id="grow">
    <p>Quit.</p>

    <article>
        <div>
            <div>
                    <p><span>
                        Why risk your reputation with unproven software?
                    </span></p><h3>
                    Go<br>
                    with the tool <br>
                    that <span>works</span>!
                </h3>
                <p>
                    Nobody ever got fired for buying Atlassian.
                </p>
            </div>
            
        </div>

        <div>
            <div>
                <div id="grow-1" data-next="grow-2" data-duration="6">
                    <p>Notion</p>
                    <p>
                        Pick for a better wiki, more flexible structure and desktop apps.
                    </p>
                    

                    <p><img src="https://images-temp.fibery.io/website/0.1.0-ci.n1084.0702b79/img/case3-pic1-fun.jpg" alt="">
                    </p>
                </div>
                <div id="grow-2" data-next="grow-3" data-duration="6">
                    <p>Airtable</p>
                    <p>
                        Go for fast tables, diverse templates and an intuitive API.
                    </p>
                    

                    <p><img src="https://images-temp.fibery.io/website/0.1.0-ci.n1084.0702b79/img/case3-pic2-fun.jpg" alt="">
                    </p>
                </div>
                <div id="grow-3" data-next="grow-1" data-duration="6">
                    <p>Coda</p>
                    <p>
                        Choose because of powerful formulas and automations.
                    </p>
                    

                    <p><img src="https://images-temp.fibery.io/website/0.1.0-ci.n1084.0702b79/img/case3-pic3-fun.jpg" alt="">
                    </p>
                </div>
            </div>
            
        </div>
    </article>
</section>

<section>
    <article>
        <h2>
            But we have ðŸ�&nbsp; mortgages...
        </h2>
        

        <div>
            <h3>Made for detractors.</h3>
            <div>

                <div>
                    <p>
                        Fibery requires too much attention to get started.
                        It's also more expensive than our current tools, so we will stick with what we have.
                    </p>
                    <p>
                    <span>Technical Product Manager</span>
                </p></div>

                <div>
                    <p>
                        We've gone back to Jira, because it proved too hard for devs to get used to Fibery.
                        Jira is also more stable and functional.
                    </p>
                    <p><span>Anton</span>
                    <span>Founder</span>
                </p></div>

                <div>
                    <p>
                        Any darn fool can make something complex. It takes a genius to make something simple.</p>
                    <p><span>Pete</span>
                    <span>Singer and political activist</span>
                </p></div>
            </div>
            <p><a href="https://www.producthunt.com/posts/fibery-3?utm_source=badge-top-post-badge&amp;utm_medium=badge&amp;utm_souce=badge-fibery-3" target="_blank"><img src="https://api.producthunt.com/widgets/embed-image/v1/top-post-badge.svg?post_id=190544&amp;theme=light&amp;period=daily" alt="Fibery - Connected workspace for teams | Product Hunt Embed" width="250px" height="54px"></a>
        </p></div>
    </article>
</section>

<section>
    <p>
        <h3>Inspired by investors.</h3>
    </p>

    

    <section>
        <article>
            
        </article>
    </section>
</section>










</div>]]>
            </description>
            <link>https://fibery.io/anxiety</link>
            <guid isPermaLink="false">hacker-news-small-sites-26247940</guid>
            <pubDate>Wed, 24 Feb 2021 08:40:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I always hear people say they have 'writer's block']]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26247867">thread link</a>) | @thecodrr
<br/>
February 24, 2021 | https://blog.streetwriters.co/five-ways-writers-block/ | <a href="https://web.archive.org/web/*/https://blog.streetwriters.co/five-ways-writers-block/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2 dir="ltr"><strong>1. Careful what you call it</strong></h2><p dir="ltr">I always hear people say they have 'writer's block'. I have been writing poetry consistently for almost four years now and I can't say I've ever experienced it. Not in the way that other people have, or mean when they say it, anyway. Do I have periods of time where I write less? Sure! But I don't label it or complain about it, in my head or to anyone else. And I think this is part of the reason I do not struggle. I've never worried about those periods of time where I wrote less. I know from my own experience that those phases pass, and are not something to worry about. I always write again.&nbsp;</p><p>Maybe some people really do struggle with some sort of mental blockage for months on end - and if that happens and it feels uncomfortable, I feel for those people. I would recommend not labelling it, for one, and having some faith in your own ability as a writer. Phases with less writing are normal, and should not be viewed as negative. As you'll learn from this post, there are many actions a writer can take if they do experience block and it bothers them, but not letting it bother you seems like a good start to me.</p><h2 dir="ltr"><strong>2. Revisit your old work</strong></h2><p dir="ltr">If I ever did feel like I hadn't written anything groundbreaking in a while, I would revisit my old work. Specifically, not just reading it, but actually rewriting it by hand in a notebook. For me, this worked some sort of magic, getting my brain to 'think in poetry' again. Sometimes my brain is in poetry mode, and sometimes it's not. This was one way I discovered I am able to get it to change lanes and 'activate' poetry mode, and I've used it successfully many times. I have also started making visual representations of my poetry, in the form of collage art. This gives me a new way to interact with my existing art, and gets the creative juices flowing as well.</p><p dir="ltr">Think about some ways you can revisit and reimage your existing body of work. You can copy it by hand to simply reconnect, try rewriting it and see if you like it better, or on the opposite end of the spectrum, try recreating it in different mediums. We should feel safe to explore and play, fail, and find happy surprises in doing so. I have created some really interesting songs and collages that I really loved, just because I decided to sit down and do the work.&nbsp;</p><h2 dir="ltr"><strong>3. Get out of your head (and the house)</strong></h2><p dir="ltr">If you haven't felt like writing in a while, I'd recommend exploring a new place. Or taking a long walk down a slightly different route than normal. Go to a gallery or see a film outside your normal genre. We need to give our brains fuel for creativity, and shake things up. It creates new neural pathways.</p><p dir="ltr">This is best supported and explained by an article from Fast Company:&nbsp;<i>"Perception and imagination are linked because the brain uses the same neural circuits for both functions. Imagination is like running perception in reverse. In order to think creatively, you must develop new neural pathways and break out of the cycle of experience-dependent categorization. You need a novel stimulus, such as a new piece of information or an unfamiliar environment, to jolt the attentional systems awake. The more radical the change, the greater the likelihood of fresh insights."&nbsp;</i>(<a href="https://www.fastcompany.com/1007044/neuroscience-sheds-new-light-creativity" target="_blank" rel="noopener">Source</a>)</p><h2 dir="ltr"><strong>4. Meditate</strong></h2><p dir="ltr">I started meditating at the end of 2016, and since then, I have been writing poetry and lyrics steadily and without much pause. I honestly feel like something changed in my own brain chemistry on the day of my first meditation, which as I later discovered, was quite a special experience. It felt afterwards like an eternal tap of creativity had been turned on, and I can tell you that it has never really stopped. I was changed that day. I had been exploring Buddhism and reading about mindfulness and meditation around that time, so I had already started to purposefully try to become more open-minded. I had been feeling unrest within myself too though, and I felt driven to sit down and meditate for the first time ever that Sunday.</p><p dir="ltr">I saw on my bed, with a candle lit on the windowsill and made sure I was very comfortable. I focused on sitting very still, and relaxing my entire body. This is an alternative to focusing on breath, if you find that doesn't work for you. You'll find your breath actually takes care of itself anyway, with this approach. Soon, I felt my perceptions of the room changing. Although my eyes were closed, I didn't feel like I was in the room anymore. I felt my body slowly disintegrate, and felt only my consciousness floating where my head should be. The space around me expanded, and was dark, but beautiful, like a galaxy of pureness. Like I was IN the source. I could hear my own thoughts, but they were&nbsp;<i>very</i>&nbsp;far away compared to normal, and they didn't bother me. They existed, and so did I - but we were separate. I remember thinking, wow - if anyone walks in the room right now, I don't know if I'll even be able to move right now! It was as if I was in a beautiful, miraculous trance.</p><p dir="ltr">The experience itself was something I learned to not chase after to get again - we should meditate for the sake of it, not to regain a particular experience or feeling. But in a way it did give me a bar to shoot for with future meditations, as long as I didn't hold onto it too tightly. There's also research that shows that meditation can stimulate creativity. An article on&nbsp;<a href="https://www.mindful.org/does-meditation-boost-creativity/" target="_blank" rel="noopener">Mindful.org</a> cites some of these studies, mentioning that "meditation increases cognitive flexibility and reduces cognitive rigidity which are critical to the creative process". The article also says that "the ability to observe is closely related to openness to experience, a personality trait that several studies have shown to be one of the most robust indicators of creative success."</p><p dir="ltr">This also relates back to being open when you're experimenting with your art in different ways, because I believe that this kind of patience and openness is how we uncover our greatest works. Don't be afraid to create a bunch of things you don't like at first - that's a&nbsp;<i>much&nbsp;</i>better rite of passage to adhere to than being able to say you had writer's block. People don't care that you had it - they care how and that you overcame it.</p><h2 dir="ltr"><strong>5. Read more</strong></h2><p dir="ltr">When I'm in a period of less writing, I take the opportunity to catch up on reading. I always have a stack of poetry books I still need to read (because I literally cannot stop ordering them), and I read as widely as I can to keep my mind open, curious and inspired. A couple of books I started years ago and need to finish are <i>Master and Margarita</i>&nbsp;by Mikhail Bulgakov and&nbsp;<i>Nausea</i> by Jean-Paul Sartre. I found them to be difficult to read, but their topics are fascinating - surrealist and existentialist. Those are the themes of my art and writing. I'm highly challenged by these texts, and I learn so much by reading as widely as possible.</p><p dir="ltr">I purchased a thick collection of poems by nobel prize winning poet Louise Gluck recently and I'm terrified of it. I call it (for want of a better phase)&nbsp;<i>high brow poetry</i>&nbsp;because I read a few and they went over my head. I didn't understand what was so wonderful about them. The poems are from across her collection from between 1962 - 2012 and the book has over 600 pages (!!), so clearly the woman is prolific, and she won a nobel prize. I need to discover what's so wonderful about her writing and I'm willing to do it. I'm sure I will learn something about myself in the process too.</p></div></div>]]>
            </description>
            <link>https://blog.streetwriters.co/five-ways-writers-block/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26247867</guid>
            <pubDate>Wed, 24 Feb 2021 08:29:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Functionnal error handling with monads, monad transformer and Cats MTL]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26247864">thread link</a>) | @JoySch
<br/>
February 24, 2021 | https://blog.link-value.fr/functionnal-error-handling-with-monads-monad-transformer-and-cats-mtl-d88a433f029f | <a href="https://web.archive.org/web/*/https://blog.link-value.fr/functionnal-error-handling-with-monads-monad-transformer-and-cats-mtl-d88a433f029f">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><div><div><div><div><div><div><p><a href="https://linkvalue.medium.com/?source=post_page-----d88a433f029f--------------------------------" rel="noopener"><img alt="Linkvalue" src="https://miro.medium.com/fit/c/96/96/1*tJdH0M07SBZGDq_CJRLjYQ.png" width="48" height="48"></a></p></div></div></div></div><p id="d426"><strong><em>Article written by Guillaume Bogard and originally published on the website: </em></strong><a href="https://guillaumebogard.dev/" rel="noopener"><em>https://guillaumebogard.dev/</em></a><em> — produced after the talk on Cats MTL given at the 2020 Typelevel Summit (online).</em></p><figure><div role="button" tabindex="0"><div><div><p><img alt="Linkvalue — Scala and functionnal programming&nbsp;: Functionnal error handling with monads, monad transformer and Cats MTL" src="https://miro.medium.com/max/1600/1*5t2u4reRTHYXFjyFyDadug.jpeg" width="800" height="533" srcset="https://miro.medium.com/max/552/1*5t2u4reRTHYXFjyFyDadug.jpeg 276w, https://miro.medium.com/max/1104/1*5t2u4reRTHYXFjyFyDadug.jpeg 552w, https://miro.medium.com/max/1280/1*5t2u4reRTHYXFjyFyDadug.jpeg 640w, https://miro.medium.com/max/1400/1*5t2u4reRTHYXFjyFyDadug.jpeg 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*5t2u4reRTHYXFjyFyDadug.jpeg?q=20"></p></div></div></div><figcaption>Typelevel Summit — Functionnal error handling with monads, monad transformer and Cats MTL — Photo by <a href="https://unsplash.com/@robertbye?utm_source=medium&amp;utm_medium=referral" rel="noopener">Robert Bye</a> on <a href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener">Unsplash</a></figcaption></figure><p id="c57f">The way we deal with failure in most OOP applications is itself a common source of unexpected behaviors. I believe exceptions and <code>try/catch</code> statements are overused. Most of the time, it isn’t obvious what a method might throw and when. Edge cases should be treated with the same amount of caution, if not more, than the rest of the code, yet they are rendered invisible by error-handling mechanisms that hide failures instead of highlighting them.</p><p id="9aad">In this blog post, I will showcase some functional programming techniques, namely monads, monad transformers and Cats MTL, that can help you deal with failure, in a way that makes it clearly visible. I will also cover the separation of technical failure and business edge cases to keep business logic where it belongs: at the heart of your software. Prior knowledge of the aforementioned concepts is not required, as I will attempt to define them along the way. Be aware though that these definitions neither exhaustive nor the most rigorous. There are as many ways of explaining monads as they have use cases, error handling is just one of them. For a broader definition of monads, I recommend <a href="https://kubuszok.com/2018/different-ways-to-understand-a-monad/#monad" rel="noopener">this article by Mateusz Kubuszok</a>.</p><p id="7724">This article is essentially a more in-depth version of a <a href="https://www.youtube.com/watch?v=6WXgEGbf0iQ&amp;t=387s" rel="noopener">talk on Cats MTL I’ve given at the 2020 Typelevel Summit</a>. If you’re looking for a more condensed introduction to monad transformers and functional error handling, consider watching the talk instead :</p><figure><div></div><figcaption>Talk on Cats MTL I’ve given at the 2020 Typelevel Summit</figcaption></figure><p id="1862">It is common practice, in object-oriented programming, to deal with errors using exceptions and <code>try/catch</code> statements. The way they work is familiar to most developers: something goes wrong, you <code>throw</code> an object that represents the issue, and the object will propagate across the entire call stack, until either a <code>catch</code> block is met, or the application shuts down.</p><p id="e444">This mechanism is convenient and has made is easy to implement common error handling strategies:</p><ul><li id="8253">The way methods can choose to either <code>catch</code> an exception or escalate it forms a <em>chain of delegation</em>, in which supervising methods are responsible for the errors of their subordinates. In a way, exceptions mimic the behavior of hierarchies we can find all around us. Like many OOP concepts, they first seem easier to understand by comparison with the real world.</li><li id="8bb1">The fact that an uncaught exception will eventually shut down the application means it’s easy to implement fatal exceptions: just let them run free. This is surely way more convenient that explicitly calling <code>exit</code> when you need to. Right?</li></ul><p id="5278">But this convenience does not compensate for the risks and mental overhead exceptions produce. When overused, exceptions introduce complexity and potential bugs to the code base, which all come from this single flaw: exceptions are invisible.</p><p id="5d53">When you look at the signature of a method, you cannot know for certain whether it can fail and under which circumstances. Annotating the method with a comment that says “be careful, this might throw these exceptions” is considered a best practice in many languages, and some have a conventional way of doing it, like <code>@throws</code> in Java. But we’ve all witnessed methods that would throw in production without any prior notice, or with annotations that would lie to our face. After all, the compiler does not compel me into telling the truth in comments, only proper code review does. People run out of time, get neglectful, forget comments here and there, and there you have it: uncaught exception in production.</p><p id="31e0">Often, business logic gets added as the software evolves, not everyone is properly informed, obsolete documentation is left behind.</p><pre><span id="e6cf">/**<br>* This never throws, trust me.<br>*/<br><em>def</em> computeDiscountedPrice(originalPrice: Float, discountPercent: Float) = {<br>  <em>if</em> (discountPercent &gt; 75) {<br>    // If you're going to document errors poorly, <br>    // you might as well make sure your messages are cryptic and unhelpful<br>    <em>throw</em> <em>new</em> RuntimeException("Can't apply discount")<br>  } <em>else</em> {<br>    originalPrice - (originalPrice * discountPercent / 100)<br>  }<br>}</span></pre><p id="0d31">In fact, the only way to know for sure the circumstances under which a method may throw is to inspect its implementation and the implementation of all the methods therein recursively. I hope you can get a feel of the ridiculous mental overhead this introduces, particularly in large code bases. When I’m implementing a feature, I should be able to understand the existing code by looking at, and trust what I’m looking at. I should be able to do that without fear of unknown edge cases and unadvertised side effects sneaking behind my back.</p><p id="ee7e">This, for me, is one of the main reasons why functional programming is so compelling. FP is, among other things, about trusting what you see. While the exact definition of <em>functional programming</em> is still subject to some debate, one well-established characteristic is to maximize the use of functions in the mathematical sense. These functions are</p><ul><li id="9116">referentially transparent, or <em>side-effect free</em>, which means they only bind some input to some output, i.e., they do nothing more than suggested by their signature</li><li id="4321">total, which means they are defined for the entire set of arguments they may receive, i.e., they do nothing less than advertised either</li></ul><p id="fc56">Together, these characteristics ensure that you can understand the code at hand quickly, and refactor it with confidence.</p><p id="1451">So clearly, methods that throw exceptions don’t fit this definition. Throwing exceptions usually means failing on a particular subset of arguments, or under specific circumstances, which breaks the rule of totality. We need another way of modeling errors, and I believe the frustration caused by traditional error handling patterns alone is enough to motivate the learning of something else entirely.</p><p id="f55b">So, if not exceptions, what then?</p><p id="f036">To make the invisible errors visible again, we need to stop encoding them as exceptions and start encoding them as regular data. We need a way of showcasing the error cases of our methods directly in their signatures, so they don’t surprise anyone anymore, and we need a way of composing error-prone code safely, because we’re not writing our entire application in a single function, right?</p><p id="2033">One of the ways we can turn errors into data is by using <code>Option</code> to model the potential absence of value, and <code>Either</code> to model computations that may fail while associating additional data to the failure. I will introduce some examples of using these structures to handle errors, but I won’t dwell on them too much,</p><p id="f992">Let’s bring our first example back. If we were to refuse the user a discount in certain cases, instead of throwing an exception, we can expand the return type of our function by using an <code>Option</code> instead.</p><pre><span id="a1a0">/**<br>* This never throws, for real this time.<br>*/<br><em>def</em> computeDiscountedPrice(originalPrice: Float, discountPercent: Float): Option[Float] = {<br>  <em>if</em> (discountPercent &gt; 75) None<br>  <em>else</em> Some(originalPrice - (originalPrice * discountPercent / 100))<br>}</span></pre><p id="de0e">This time, the function never throws. Instead, it returns a data type that encodes optionality, leaving the caller responsible for handling every possible case (and if they don’t, the compiler will warn them)</p><pre><span id="4154"><em>val</em> validDiscount = computeDiscountedPrice(999.95F, 20.0F)    // Some(799.9600219726562)<br><em>val</em> invalidDiscount = computeDiscountedPrice(999.95F, 77.00F) // None</span></pre><p id="745a">Great! No more exceptions blowing up in our faces. Now I know that sometimes this can fail, and I will adapt my code accordingly. But in what circumstances exactly? <code>Option</code> doesn’t give us any detail as to why a value is absent, it just is, deal with it. In some cases it is desirable to convey additional information regarding the nature of the error. For these situations, using an <code>Either</code> instead allows us to fail with a particular value, as demonstrated by the next example:</p><pre><span id="8611"><em>def</em> computeDiscountedPrice(originalPrice: Float, discountPercent: Float): Either[String, Float] = {<br>  <em>if</em> (discountPercent &gt; 75) Left("The discount cannot exceed 75%, that would ruin us!")<br>  <em>else</em> Right(originalPrice - (originalPrice * discountPercent / 100))<br>}</span><span id="24d5"><em>val</em> validDiscount = computeDiscountedPrice(999.95F, 20.0F)     <br>// Right(799.9600219726562)<br><em>val</em> invalidDiscount = computeDiscountedPrice(999.95F, 77.00F)  <br>// Left(The discount cannot exceed 75%, that would ruin us!)</span></pre><p id="9912">When we want to enforce a particular condition, there’s even a shorter way of doing it:</p><pre><span id="5aa8"><em>def</em> computeDiscountedPrice(originalPrice: Float, discountPercent: Float): Either[String, Float] =<br>  // Either.cond requires a boolean<br>  Either.cond(<br>    discountPercent &lt;= 75,<br>    // When true, return this wrapped in a Right <br>    originalPrice - (originalPrice * discountPercent / 100),<br>    // When false, return this on the left side instead<br>    "The discount cannot exceed 75%, that would ruin us!"<br>  )</span></pre><p id="89e5">Note that I chose a <code>String</code> as my error type on the left side, but I could have chosen any other type. In practice, I would argue against using <code>String</code> on the left side, and use a sealed type instead, something I will do in further examples. There are two main reasons for this:</p><ul><li id="8f5f">First, there is no way to enforce exhaustivity when matching against strings. This means the compiler will be able to tell when you haven’t handled <em>any error</em>, but not that you haven’t handled <em>all the errors</em>. Sealed types give you this additional safety.</li><li id="6b81">Secondly, recall how I like my function signature to tell as much as possible? Well, in that case, I know that the method may fail with a message, which is definitely an improvement, but because a <code>String</code> is a very versatile structure, I still have to look at the implementation to know what this message may be. If I use a type purposefully crafted to model the edge cases of my domain, the name of the type itself can tell me a lot about the nature of the error. Let …</li></ul></div></div></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.link-value.fr/functionnal-error-handling-with-monads-monad-transformer-and-cats-mtl-d88a433f029f">https://blog.link-value.fr/functionnal-error-handling-with-monads-monad-transformer-and-cats-mtl-d88a433f029f</a></em></p>]]>
            </description>
            <link>https://blog.link-value.fr/functionnal-error-handling-with-monads-monad-transformer-and-cats-mtl-d88a433f029f</link>
            <guid isPermaLink="false">hacker-news-small-sites-26247864</guid>
            <pubDate>Wed, 24 Feb 2021 08:28:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Telegram bot in Elixir featuring LiveView]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26247755">thread link</a>) | @lawik
<br/>
February 24, 2021 | https://underjord.io/a-telegram-bot-in-elixir.html | <a href="https://web.archive.org/web/*/https://underjord.io/a-telegram-bot-in-elixir.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
        
        <small>2021-02-24</small>
        <p>I <a href="https://twitter.com/lawik/status/1357226010215911425">asked my network on Twitter</a> about noting ideas quickly and got a lot of good responses. One mentioned saving them in Telegram. I don’t think I want to do specifically that but I do want a minimum friction way of noting ideas for later review and refinement. And sending them to a Telegram chat would be quite nice. So I started on the path of something like a note-taking system using Telegram for ingesting quick notes. And I want to share the satisfaction I felt with seeing the near real-time way that it works.</p>
<p>I’ll show some of the process I went through so you can repeat it for your own needs but the repo is open if you want to see where I’ve taken it since. You can find it as <a href="https://github.com/lawik/noted">lawik/noted</a> on GitHub. This guide recreates a simpler approach based off of what I learnt setting that up.</p>
<h2 id="setting-up-your-project">Setting up your project</h2>
<p>I’m using Elixir and Phoenix with LiveView. You need to have the Phoenix project generator installed to follow along, you can follow the Phoenix installation instructions to get it.</p>

  

<p>It should create your project, you can certainly name it something different than <code>noted</code>. I left Ecto in because you’ll likely want it at some point though I won’t use it in this post.</p>
<h2 id="some-initial-setup">Some initial setup</h2>
<p>In <code>lib/noted/application.ex</code> I comment out the <code>Noted.Repo</code> because we’re not using the DB.</p>
<p>In <code>mix.exs</code> for deps I add:</p>

  <div data-file="mix.exs">
  <p>mix.exs</p>
  <div><pre><code data-lang="elixir">    <span>..</span>
      {<span>:telegram</span>, <span>git</span>: <span>"https://github.com/visciang/telegram.git"</span>, <span>tag</span>: <span>"0.7.0"</span>},
      <span># Gun mismatch with telegram and cowboy</span>
      {<span>:cowlib</span>, <span>"~&gt; 2.7"</span>, <span>override</span>: true}
    <span>..</span></code></pre></div>
  </div>

<p>The cowlib thing has to do with some weirdness in the telegram library deps. But adding this should allow you to do <code>mix deps.get</code> and have it work.</p>
<h2 id="get-yourself-a-telegram-bot">Get yourself a Telegram bot</h2>
<p>So get situated with a Telegram account and add <a href="https://t.me/BotFather">The Botfather (Telegram link)</a> as someone to talk to and that’s Telegrams bot for creating bots. Very meta. Pretty convenient.</p>
<p>You write <code>/newbot</code> to him and he’ll guide you through the rest. You’ll receive a secret that you should squirrel away and we’ll use it as a an API key for running our bot.</p>
<p>You’re going to want a convenient client to test things as well. I’m using the MacOS desktop client on this machine, it is nice and native.</p>
<h2 id="minimum-viable-bot">Minimum Viable Bot</h2>
<p>It needs to be self-aware. So let’s make that happen. To protect the bot token I put it in a file in my home dir called <code>.mybotcredentials</code> or something similar. This file is just:</p>

  <div data-file="~/.mybotcredentials">
  <p>~/.mybotcredentials</p>
  <div><pre><code data-lang="shell">export TELEGRAM_BOT_SECRET<span>=</span><span>"my_secret_goes_here"</span></code></pre></div>
  </div>

<p>And before running the server I do: <code>source ~/.mybotcredentials</code></p>
<p>This prevents me from accidentally committing the damned things.</p>
<p>Okay, time to create this bot. Create a file in the project named <code>lib/noted/bot.ex</code>. In this file we do this:</p>

  <div data-file="lib/noted/bot.ex">
  <p>lib/noted/bot.ex</p>
  <div><pre><code data-lang="elixir">defmodule <span>Noted.Bot</span> do
  use <span>GenServer</span>
  require <span>Logger</span>

  def start_link(opts) do
    <span>GenServer</span><span>.</span>start_link(__MODULE__, opts, opts)
  end

  <span>@impl</span> <span>GenServer</span>
  def init(opts) do
    {key, _opts} <span>=</span> <span>Keyword</span><span>.</span>pop!(opts, <span>:bot_key</span>)

    case <span>Telegram.Api</span><span>.</span>request(key, <span>"getMe"</span>) do
      {<span>:ok</span>, me} <span>-&gt;</span>
        <span>Logger</span><span>.</span>info(<span>"Bot successfully self-identified: </span><span>#{</span>me[<span>"username"</span>]<span>}</span><span>"</span>)

        state <span>=</span> %{
          <span>bot_key</span>: key,
          <span>me</span>: me,
          <span>last_seen</span>: <span>-</span><span>2</span>
        }

        {<span>:ok</span>, state}

      error <span>-&gt;</span>
        <span>Logger</span><span>.</span>error(<span>"Bot failed to self-identify: </span><span>#{</span>inspect(error)<span>}</span><span>"</span>)
        <span>:error</span>
    end
  end
end</code></pre></div>
  </div>

<p>This is a GenServer and we want to add it to run when our application starts. So below your Noted.Endpoint, inside the list of children in <code>lib/noted/application.ex</code> add this:</p>

  <div data-file="lib/noted/application.ex">
  <p>lib/noted/application.ex</p>
  <div><pre><code data-lang="elixir"><span>..</span>
{<span>Noted.Bot</span>, <span>bot_key</span>: <span>System</span><span>.</span>get_env(<span>"TELEGRAM_BOT_SECRET"</span>)}
<span>..</span></code></pre></div>
  </div>

<p>Now you can make sure you’ve run <code>mix deps.get</code> and then run <code>mix phx.server</code> to try it out. Check your logs, the happy message should be there.</p>
<h2 id="set-yourself-up-to-receive-updates">Set yourself up to receive updates</h2>
<p>So it still doesn’t really do anything. We will be using long polling which is a neat way of getting updates from a Telegram bot without publishing the server on the web on some real domain and in some systems it might be a bit of a pain. In Elixir, on a GenServer it is comparatively trivial. At least if you know your GenServers.</p>
<p>Just after we set up our state and before we return <code>{:ok, state}</code> in the bot we need to add a call to <code>next_loop()</code>. So the your <code>init/1</code> looks like this:</p>

  <div data-file="lib/noted/bot.ex">
  <p>lib/noted/bot.ex</p>
  <div><pre><code data-lang="elixir"><span>..</span>
  def init(opts) do
    {key, _opts} <span>=</span> <span>Keyword</span><span>.</span>pop!(opts, <span>:bot_key</span>)

    case <span>Telegram.Api</span><span>.</span>request(key, <span>"getMe"</span>) do
      {<span>:ok</span>, me} <span>-&gt;</span>
        <span>Logger</span><span>.</span>info(<span>"Bot successfully self-identified: </span><span>#{</span>me[<span>"username"</span>]<span>}</span><span>"</span>)

        state <span>=</span> %{
          <span>bot_key</span>: key,
          <span>me</span>: me,
          <span>last_seen</span>: <span>-</span><span>2</span>
        }
        next_loop()

        {<span>:ok</span>, state}

      error <span>-&gt;</span>
        <span>Logger</span><span>.</span>error(<span>"Bot failed to self-identify: </span><span>#{</span>inspect(error)<span>}</span><span>"</span>)
        <span>:error</span>
    end
  end
<span>..</span></code></pre></div>
  </div>

<p>Now to add the rest. This GenServer will send itself a message saying “ey, check for updates” and then act on that message until the activity is done and then call <code>next_loop/0</code> again to trigger another message. We’ll start with acting on the message with a <code>handle_info/2</code> callback. In your bot GenServer module:</p>

  <div data-file="lib/noted/bot.ex">
  <p>lib/noted/bot.ex</p>
  <div><pre><code data-lang="elixir"><span>..</span>
  <span>@impl</span> <span>GenServer</span>
  def handle_info(<span>:check</span>, %{<span>bot_key</span>: key, <span>last_seen</span>: last_seen} <span>=</span> state) do
    state <span>=</span>
      key
      <span>|&gt;</span> <span>Telegram.Api</span><span>.</span>request(<span>"getUpdates"</span>, <span>offset</span>: last_seen <span>+</span> <span>1</span>, <span>timeout</span>: <span>30</span>)
      <span>|&gt;</span> case do
        <span># Empty, typically a timeout. State returned unchanged.</span>
        {<span>:ok</span>, []} <span>-&gt;</span>
          state

        <span># A response with content, exciting!</span>
        {<span>:ok</span>, updates} <span>-&gt;</span>
          <span># Process our updates and return the latest update ID</span>
          last_seen <span>=</span> handle_updates(updates, last_seen)

          <span># Update the last_seen state so we only get new updates on the</span>
          <span># next check</span>
          %{state <span>|</span> <span>last_seen</span>: last_seen}
      end

    <span># Re-trigger the looping behavior</span>
    next_loop()
    {<span>:noreply</span>, state}
  end

  defp handle_updates(updates, last_seen) do
    updates
    <span># Process our updates</span>
    <span>|&gt;</span> <span>Enum</span><span>.</span>map(fn update <span>-&gt;</span>
      <span>Logger</span><span>.</span>info(<span>"Update received: </span><span>#{</span>inspect(update)<span>}</span><span>"</span>)
      <span># Offload the updates to whoever they may concern</span>
      broadcast(update)

      <span># Return the update ID so we can boil it down to a new last_seen</span>
      update[<span>"update_id"</span>]
    end)
    <span># Get the highest seen id from the new updates or fall back to last_seen</span>
    <span>|&gt;</span> <span>Enum</span><span>.</span>max(fn <span>-&gt;</span> last_seen end)
  end

  defp broadcast(update) do
    <span># Send each update to a topic for others to listen to.</span>
    <span>Phoenix.PubSub</span><span>.</span>broadcast!(<span>Noted.PubSub</span>, <span>"bot_update"</span>, {<span>:update</span>, update})
  end

  defp next_loop do
    <span>Process</span><span>.</span>send_after(self(), <span>:check</span>, <span>0</span>)
  end
<span>..</span></code></pre></div>
  </div>

<p>Try it out, it should log messages as they are sent to your bot.</p>
<h2 id="getting-real-time-with-liveview">Getting real-time with LiveView</h2>
<p>We can repurpose the existing LiveView that the Phoenix generator gives us. So just open <code>lib/noted_web/live/page_live.ex</code> and its sibling the template <code>lib/noted_web/live/page_live.html.leex</code>. In the <code>page_live.ex</code> file we change it to this:</p>

  <div data-file="lib/noted_web/live/page_live.ex">
  <p>lib/noted_web/live/page_live.ex</p>
  <div><pre><code data-lang="elixir">defmodule <span>NotedWeb.PageLive</span> do
  use <span>NotedWeb</span>, <span>:live_view</span>

  <span>@impl</span> true
  def mount(_params, _session, socket) do
    <span>Phoenix.PubSub</span><span>.</span>subscribe(<span>Noted.PubSub</span>, <span>"bot_update"</span>)
    {<span>:ok</span>, assign(socket, <span>messages</span>: [])}
  end

  <span>@impl</span> true
  def handle_info({<span>:update</span>, update}, socket) do
    {<span>:noreply</span>, assign(socket, <span>messages</span>: [to_message(update) <span>|</span> socket<span>.</span>assigns<span>.</span>messages])}
  end

  defp to_message(%{<span>"message"</span> <span>=&gt;</span> message} <span>=</span> _update) do
    firstname <span>=</span> get_in(message, [<span>"from"</span>, <span>"first_name"</span>])
    lastname <span>=</span> get_in(message, [<span>"from"</span>, <span>"last_name"</span>])
    username <span>=</span> get_in(message, [<span>"from"</span>, <span>"username"</span>])

    from <span>=</span>
      case {firstname, lastname, username} do
        {nil, _, username} <span>-&gt;</span> username
        {firstname, nil, _} <span>-&gt;</span> firstname
        {firstname, lastname, _} <span>-&gt;</span> <span>"</span><span>#{</span>firstname<span>}</span><span> </span><span>#{</span>lastname<span>}</span><span>"</span>
      end

    text <span>=</span> get_in(message, [<span>"text"</span>])
    %{<span>from</span>: from, <span>text</span>: text}
  end
end</code></pre></div>
  </div>

<p>And we change the <code>page_live.html.leex</code> template file to:</p>

  <div data-file="lib/noted_web/live/page_live.html.leex">
  <p>lib/noted_web/live/page_live.html.leex</p>
  <div><pre><code data-lang="html">&lt;<span>section</span> <span>class</span><span>=</span><span>"phx-hero"</span>&gt;
  &lt;<span>h1</span>&gt;<span>&lt;</span>%= gettext "Welcome to my Bot!" %&gt;&lt;/<span>h1</span>&gt;

  <span>&lt;</span>%= for message &lt;<span>-</span> <span>Enum</span><span>.</span><span>reverse</span><span>(@</span><span>messages</span><span>)</span> <span>do</span> <span>%</span>&gt;
  &lt;<span>p</span>&gt;&lt;<span>strong</span>&gt;<span>&lt;</span>%= message.from %&gt;: &lt;/<span>strong</span>&gt;<span>&lt;</span>%= message.text %&gt;&lt;/<span>p</span>&gt;
  <span>&lt;</span>% end %&gt;
&lt;/<span>section</span>&gt;</code></pre></div>
  </div>

<p>Run this and you should see any message to type in the Telegram bot show up. I find it very gratifying just how instantaneous it can be.</p>
<h2 id="in-closing">In closing</h2>
<p>This is just a start and in the <a href="https://github.com/lawik/noted">noted repo</a> you will find some of what I’ve done to push it further, structure the bot a little bit more. Add some responses. You can just try it out by cloning and setting it up.</p>
<p>I implemented some authentication. Currently this means that notes are separated by user. It also means that Noted allows new users by default if they find your bot :D</p>
<p>I implemented the database backing to save notes and tags. I added a bunch more LiveView code. I separated the polling for getUpdates from the handling of the updates a bit more and added a Supervisor to the pairing of GenServers.</p>
<p>Currently on my todo-list is to receive files and media in a nice way and integrate those with the markdown support. If you want practice with Tailwind CSS I’d love for someone to make it look better.</p>
<p>But this particular project aside I find the realtime nature of chat bots very satisfying. Telegram has a well-working API, nice native clients and a hilariously large feature set. And with how fast you can get this up and running when it isn’t your first time I really recommend trying it for things. Heck, you could use it for sending you notices about your app catching fire or occasional status updates from your system. There are so many fun options.</p>
<p>Slightly timely update, especially if you are curious about LiveView or want more of me. Me and a wild gang of Elixir community folks just put our new podcast out there. It is called <a href="https://beamrad.io/">BEAM Radio</a> and you find it at <a href="https://beamrad.io/">beamrad.io</a>.</p>
<p>I hope you’ve enjoyed the post. Let me know if this is something you would like to see more of as I have quite a few things I could go deeper into from this …</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://underjord.io/a-telegram-bot-in-elixir.html">https://underjord.io/a-telegram-bot-in-elixir.html</a></em></p>]]>
            </description>
            <link>https://underjord.io/a-telegram-bot-in-elixir.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26247755</guid>
            <pubDate>Wed, 24 Feb 2021 08:09:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[You don't need video. Audio calls may be enough]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26247665">thread link</a>) | @maguay
<br/>
February 23, 2021 | https://blog.capiche.fm/why-audio-calls-are-better-than-video/ | <a href="https://web.archive.org/web/*/https://blog.capiche.fm/why-audio-calls-are-better-than-video/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            
<div>
    <main>
            <article>
    
    <div>
            <p>Telling a business partner you’d be competing with them would never be easy, especially when both businesses still needed to work together.</p><p>So imagine a young Bill Gates telling Steve Jobs that Microsoft was building Windows and competing directly—on an operating system level, at any rate—with the Macintosh.</p><p>“We had to take a walk,” relayed Gates decades later to Jobs’ biographer Walter Isaacson. Jobs started the meeting taking Gates to task for building what he saw as a rip-off of Apple’s work—where Gates countered both companies had worked off Xerox’ innovation. The meeting was going nowhere. And so Jobs had to get out of the office, asked Gates to go for a walk. Maybe it was the clean air, the open sky, the grounding effect of nature. But it worked: “That was when he began saying things like, ‘Okay, okay, but don’t make it too much like what we’re doing,” recalled Gates. Crisis averted, at least momentarily.</p><hr><p>In the intervening years, as Jobs’ vision of a friendly computer and Gates’ of a computer on every desk morphed into today’s always-on computing, we all left the office. We took our word processing and coding, emails and chats, Photoshop and spreadsheets, into coffee shops and lunch queues. We’d think of things that needed done and do them all, anywhere.</p><p>All, that is, except meetings. Simply by virtue of computers and phones including cameras, video calls became the standard for remote meetings. It’s harder if anything to start a group voice call today; video reigns supreme in the workplace.</p><p>Thus my momentary surprise when, sometime in 2017, my editor started our weekly 1-1 meeting in Slack. My phone buzzed with a Slack notification, I tapped it, and seconds later I was on what seemed like a phone call—voice, with no video. Slack, thoughtfully enough, starts voice calls by default. Video’s a button tap away if you need it, but you might not. I brought the phone to my ear and we chatted about work and goals, no video or even headphones needed.</p><p>Maybe we didn’t need video calls for everything. Maybe audio is enough. And maybe it could get us over our collective Zoom fog.</p><h2 id="this-is-what-you-want-this-is-what-you-get-">This is what you want, this is what you get.</h2><figure><img src="https://blog.capiche.fm/content/images/2021/02/Screen-Shot-2021-02-22-at-5.06.24-PM.png" alt="" srcset="https://blog.capiche.fm/content/images/size/w600/2021/02/Screen-Shot-2021-02-22-at-5.06.24-PM.png 600w, https://blog.capiche.fm/content/images/size/w1000/2021/02/Screen-Shot-2021-02-22-at-5.06.24-PM.png 1000w, https://blog.capiche.fm/content/images/2021/02/Screen-Shot-2021-02-22-at-5.06.24-PM.png 1424w" sizes="(min-width: 720px) 720px"><figcaption>AT&amp;T's original video phone, the MOD I, from 1964.</figcaption></figure><p>“Through television and telephony we shall see and hear one another as perfectly as though we were face to face, despite intervening distances of thousands of miles,” <a href="https://nymag.com/vindicated/2016/11/these-6-visionaries-predicted-the-smartphone.html">predicted</a> the original Tesla in 1926, imagining a future smartphone small enough, “a man will be able to carry one in his vest pocket.”</p><p>The future came, sure enough. We got Twitter instead of flying cars, but video calls came almost exactly as they’d been imagined. If phone calls had revolutionized communications, video calls would surely do even more.</p><p>We were so excited about video calls being possible, we collectively rushed into a future that neglected audio calls, with video being the default way to talk in Skype, Messenger, FaceTime, and more. “In some ways we kind of skipped over audio on the internet,” Capiche founder Austin Petersmith remarked to Protocol’s <a href="https://mailchi.mp/protocol/source-code-the-audio-revival-starts-here?e=188ee6bc42">David Pierce</a>. “The amount of experimentation of video is orders of magnitude more than audio, and I think that's because there's a tendency to go toward the highest-fidelity thing available.”</p><p>When every phone comes with a camera, surely we should use it.</p><blockquote>“We shall see and hear one another as perfectly as though we were face to face.”</blockquote><p>Or perhaps not. Around the same time IBM added the first webcams to laptops in 1996, author David Foster Wallace in <em>Infinite Jest</em> <a href="https://kottke.org/10/06/david-foster-wallace-on-iphone-4s-facetime">imagined a world</a> where we’d try video calls, then decide they were more trouble than they were worth.</p><p>Traditional phone calls, to Wallace, were brilliant for the information they withheld, the fiction they created. “Good old traditional audio-only phone conversations allowed you to presume that the person on the other end was paying com­plete attention to you,” wrote Wallace. We could do anything, look any way you wanted, and the person on the other end of the line would be none the wiser.</p><p>Video calls, he predicted, “rendered the fantasy insupportable.” We’d had to perform for the call, act like we were looking at the speaker, look presentable at the last moment. “There was … no answer-as-you-are informality about visual-video telephone calls.” And perhaps that's what we liked about phone calls all around, without realizing it.</p><p>And so, in <em>Infinite Jest</em>’s imagined world, humanity would switch to video calls for a year, then quickly shift 90% of calls back to audio-only.</p><p>After a year where everything important has been held over video calls, it feels like Wallace may have not been too far off the mark.</p><h2 id="mirror-mirror-on-the-screen">Mirror, mirror on the screen</h2><figure><img src="https://blog.capiche.fm/content/images/2021/02/Screen-Shot-2021-02-22-at-4.56.20-PM.png" alt="" srcset="https://blog.capiche.fm/content/images/size/w600/2021/02/Screen-Shot-2021-02-22-at-4.56.20-PM.png 600w, https://blog.capiche.fm/content/images/size/w1000/2021/02/Screen-Shot-2021-02-22-at-4.56.20-PM.png 1000w, https://blog.capiche.fm/content/images/2021/02/Screen-Shot-2021-02-22-at-4.56.20-PM.png 1012w" sizes="(min-width: 720px) 720px"><figcaption>Searches for "Zoom Fatigue" peaked the end of March 2020, as much of the world went into lockdown and seemingly every interaction was suddenly over video calls.</figcaption></figure><p>It turns out, it’s tiring, being on camera all day.</p><p>You have to look at the camera, fake eye-contact with the speaker. But “in real life, how often do you stand within three feet of a colleague and stare at their face? Probably never,” surmised Liz Fosslien and Mollie West Duffy in the <a href="https://hbr.org/2020/04/how-to-combat-zoom-fatigue">Harvard Business Review</a>. “Having to engage in a ‘constant gaze’ makes us uncomfortable — and tired.”</p><p>You have to perform, keep up appearances, seem engaged and attentive. “When you're on a video conference, you know everybody's looking at you; you are on stage, so there comes the social pressure and feeling like you need to perform. Being performative is nerve-wracking and more stressful.” As the <a href="https://www.bbc.com/worklife/article/20200421-why-zoom-video-chats-are-so-exhausting">BBC quoted INSEAD professor Gianpiero Petriglieri</a>: “You cannot relax into the conversation naturally.”</p><blockquote>"When you're on a video conference, you know everybody's looking at you; you are on stage."</blockquote><p>And for all your effort, tech too often gets in the way. Your mic may not work, your video call app might crash, a siren might go by right as you need to talk. Even a slow internet connection can make you come across worse to your colleagues, as a <a href="https://www.sciencedirect.com/science/article/abs/pii/S1071581914000287">2014 study by Berlin Institute of Technology researchers</a> found that when the audio is delayed more than 1.2 seconds, participants “are perceived less attentive, extraverted and conscientious.”</p><p>You’re performing. You’re trying to decipher unclear facial cues. Add context collapse—where every event happens in the same space, without the familiar separation between work and leisure spaces—and your brain never has time to turn off. All that together gives us “Zoom fog,” the mental blurriness after one too many video calls, and the dread of needing to do more.</p><h2 id="call-me-video-maybe-">Call me. Video, maybe.</h2><p>And so, just as remote meetings are more common than ever, <em>Infinite Jest</em>'s prediction that we might “actually prefer the retrograde old low-tech Bell-era voice-only phone interface after all” is new trend in the remote startup world, at least.</p><p>“Video makes many conversations worse,” <a href="https://twitter.com/jasonfried/status/1358801649381244928?s=21">Tweeted</a> Basecamp CEO Jason Freed recently, after decades of experience leading one of the first remote companies.</p><p>He’s not alone. The Gumroad team is switching meetings to audio talks after founder <a href="https://twitter.com/shl/status/1358799625692479493">Sahil Lavingia</a> says they found “Video is largely unnecessary.” “We almost never use our cameras for internal meetings,” shared @MikeRaia in a <a href="https://capiche.com/q/what-are-your-video-call-defaults">Capiche discussion about video call defaults</a>, where @briana9 mentioned “My team is mostly video off.”</p><blockquote>We might actually prefer the retrograde old low-tech Bell-era voice-only phone interface after all.</blockquote><p><a href="https://twitter.com/hnshah/status/1161361656724635648">Hiten Shah</a>—founder of CrazyEgg, KISSmetrics, and FYI—shared that “having remote meetings while walking” and “sitting in nature during a meeting” were some of the things he does to make remote work more healthy, tips one suspects Jobs might have enjoyed. You could walk during video meetings, at the risk of making your team seasick—switch to audio calls, though, and you can move as much as you please.</p><p>You could even take it to the logical extreme and drop meetings altogether. Todoist founder <a href="https://twitter.com/amix3k/status/1361929937247236097">Amir Salihefendić</a> mentioned that his favorite company perk is “Async-first. This enables you to live wherever and work when it suits you.” You could share your thoughts in Slack or record them in tools like <a href="https://www.yac.com/">Yac</a>, and rethink if meetings are even necessary. Or, go in the other direction, and use something like Discord with always-on audio chat in the background to talk whenever you want, spontaneously.</p><p>Whether spontaneously, location-independent meetings are what your team needs, or working more async, audio’s part of making it happen. You can turn off the camera, relax a bit more on calls, and think more about what’s being said and less about how you look while you’re saying it. You could take a walk, or take the call from wherever you happen to be at the moment, when video's no longer a requirement.</p><p>It's part of the enduring appeal of radio shows and podcasts—you can listen and learn while doing other things, without being glued to a screen for yet another hour. Where video ties us down, audio lets us do more, frees us to work the way that fits best without performing for the camera. We can talk on Facetime Audio and Slack calls, host live audio shows on Capiche FM and more, all with just a microphone.</p><p>Sometimes more isn’t better. <a href="https://capiche.com/e/yo-atomized-communication">Sometimes less data can be more</a>.</p><!--kg-card-begin: html--><figure><a href="https://capiche.fm/"><img src="https://blog.capiche.fm/content/images/2021/02/capichefm-5530d0860607af328a41b93b4c30d7247a7d55a14034c67f418a607f78da30f5.png" alt="" srcset="https://blog.capiche.fm/content/images/size/w600/2021/02/capichefm-5530d0860607af328a41b93b4c30d7247a7d55a14034c67f418a607f78da30f5.png 600w, https://blog.capiche.fm/content/images/2021/02/capichefm-5530d0860607af328a41b93b4c30d7247a7d55a14034c67f418a607f78da30f5.png 800w" sizes="(min-width: 720px) 720px"></a></figure><!--kg-card-end: html--><hr><h5 id="image-credits-microphone-photo-by-jukka-aalho-via-unsplash-mod-i-video-phone-photo-via-bonhams-">Image Credits: Microphone photo by Jukka Aalho via <a href="https://unsplash.com/photos/_t9c-kmMjl8">Unsplash</a>. Mod I video phone photo via <a href="https://www.bonhams.com/auctions/25259/lot/2056/?category=list">Bonhams</a>.</h5>
    </div>
        
        
</article>                            </main>
</div>
        </div></div>]]>
            </description>
            <link>https://blog.capiche.fm/why-audio-calls-are-better-than-video/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26247665</guid>
            <pubDate>Wed, 24 Feb 2021 07:54:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Art of the Desk Setup]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26247501">thread link</a>) | @giuliomagnifico
<br/>
February 23, 2021 | https://www.arun.is/blog/desk-setup/ | <a href="https://web.archive.org/web/*/https://www.arun.is/blog/desk-setup/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><p><img src="https://www.arun.is/static/de98e2d3832beb9d0cd5847b3c983272/cover_wide.jpg" alt="The Art of the Desk Setup"></p><p><img src="https://www.arun.is/static/438390934caa71c4a58fd6fd6bddac42/cover.jpg" alt="The Art of the Desk Setup"></p></div><section><div><p><span><span>Published February 23, 2021</span></span></p></div><div><p>I have invested heavily in my desk setup over my professional life, but I have
always felt some guilt. It felt like overkill. I used it only on the off days
when I stayed home for personal errands.</p><p><span>
      <span></span>
  <img alt="DSCF2754" title="DSCF2754" src="https://www.arun.is/static/660371b86818a1828ae2f12cf5c8cc03/20801/DSCF2754.jpg" srcset="https://www.arun.is/static/660371b86818a1828ae2f12cf5c8cc03/98e5d/DSCF2754.jpg 180w,https://www.arun.is/static/660371b86818a1828ae2f12cf5c8cc03/543cd/DSCF2754.jpg 360w,https://www.arun.is/static/660371b86818a1828ae2f12cf5c8cc03/20801/DSCF2754.jpg 720w,https://www.arun.is/static/660371b86818a1828ae2f12cf5c8cc03/b37e7/DSCF2754.jpg 1080w,https://www.arun.is/static/660371b86818a1828ae2f12cf5c8cc03/33266/DSCF2754.jpg 1440w,https://www.arun.is/static/660371b86818a1828ae2f12cf5c8cc03/93591/DSCF2754.jpg 5547w" sizes="(max-width: 720px) 100vw, 720px" loading="lazy">
    </span></p><p>Before COVID, setting up a home office or desk setup was an interest of remote
workers and tech enthusiasts. Now, with most knowledge workers going remote
because of the pandemic, the desk setup has become essential.</p><p>For me, my desk is both a place for work and play. I spend most of my waking
hours working on <a href="https://www.get-carrot.com/">Carrot</a>, writing this blog,
processing photos, and more. It’s part of a larger studio space that invites me
in every morning and inspires me to do my best work.</p><h2 id="creative-space-as-a-component-of-the-creative-process">Creative space as a component of the creative process</h2><p>In <a href="https://www.arun.is/blog/palma-de-mallorca/">my visit to Mallorca a few years back</a>, I had the
fortune of visiting the studio of artist
<a href="https://en.wikipedia.org/wiki/Joan_Mir%C3%B3">Joan Miró</a>.
<a href="https://en.wikipedia.org/wiki/Josep_Llu%C3%ADs_Sert">Josep Lluís Sert</a>, an
accomplished architect in his own right, envisioned it for his friend. I could
just feel the creativity flowing in the air.</p><p><span>
      <span></span>
  <img alt="L1040719" title="L1040719" src="https://www.arun.is/static/fd350d4299c6b726ed0a05ce7ae7b1e8/20801/L1040719.jpg" srcset="https://www.arun.is/static/fd350d4299c6b726ed0a05ce7ae7b1e8/98e5d/L1040719.jpg 180w,https://www.arun.is/static/fd350d4299c6b726ed0a05ce7ae7b1e8/543cd/L1040719.jpg 360w,https://www.arun.is/static/fd350d4299c6b726ed0a05ce7ae7b1e8/20801/L1040719.jpg 720w,https://www.arun.is/static/fd350d4299c6b726ed0a05ce7ae7b1e8/b37e7/L1040719.jpg 1080w,https://www.arun.is/static/fd350d4299c6b726ed0a05ce7ae7b1e8/33266/L1040719.jpg 1440w" sizes="(max-width: 720px) 100vw, 720px" loading="lazy">
    </span> <span>Palma de Mallorca · Leica Q · f/7.1 ·
1/60 · ISO 320</span></p><p>That inspiration isn’t merely a result of an aesthetic veneer applied to the
buildings. It comes from deep inside — from the values and principles used in
its design, the materials, the textures, and the orientation with the
surrounding landscape.</p><p>Our desks are our artist’s studios. Visit
<a href="https://www.instagram.com/macsetups/?hl=en">@macsetups</a> on Instagram or
<a href="https://www.reddit.com/r/macsetups/">/r/macsetups</a> on Reddit, and you’ll be met
with an endless stream of beautiful photographs of people’s desks.</p><p><span><iframe src="https://player.vimeo.com/video/515057532?background=1" frameborder="0" webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen="" title="vimeo video"></iframe></span></p><p>While I appreciate the effort put into the presentation of the photographs, I
can’t help feeling like something is missing. I don’t just want to know a list
of the exact products used. What are the principles underlying the choices?
What’s the story behind that particular desk? How about that color scheme?</p><p>We have the opportunity not just to create something worthy of sharing on social
media. Why not do more? The ideal desk setup has the potential to immediately
transport us to a frame of mind that leads to the best work. It’s just like how
being dressed to the nines can give us a jolt of confidence when meeting
strangers.</p><p>As Marie Kondō writes
in&nbsp;<a href="https://www.amazon.com/Life-Changing-Magic-Tidying-Decluttering-Organizing/dp/1607747308"><em>The Life-Changing Magic of Tidying Up</em></a>,
“The space in which we live should be for the person we are becoming now, not
for the person we were in the
past.”<sup id="1"><a href="#footnote_1">[1]</a></sup> Said another way, the
environment we work in should reflect the creative work we aspire to create.</p><h2 id="two-principles-to-find-great-design">Two principles to find great design</h2><p>So how exactly do we create a space like that? To build the right creative
environment for myself, I look to a set of principles. The first two of these,
applies broadly to finding well-designed object, regardless of the use.</p><h3 id="principle-1-objects-must-form-an-emotional-bond-with-the-user">Principle 1: Objects must form an emotional bond with the user</h3><p>I have to admit that I love material objects. I’ve written at length about
Dieter Rams, Apple products, cameras, and industrial design. The things I’ve
carefully chosen to live my life with remind me of my job as a designer —
bringing order to the chaos. However, this love of physical items isn’t innate.</p><p>After saving up money from my first high school job, I decided to buy an MP3
player. It’s then that I discovered the world of gadget blogs and review sites.
I pored over them. The sites I was reading all pointed me to the Creative Nomad
Jukebox Zen. Reviews touted its class-leading 30GB storage as its primary
selling point.</p><p>I, however, wasn’t convinced. Besides the fact that some independent reviews
mentioned that the headphone jack was prone to breaking, I thought it looked
ugly.</p><p>There I was, about to spend 20% of my net worth on the first independent
purchase of my life. I wasn’t going to squander it on some plasticky
monstrosity. On a chance visit to the mall, I walked into the Apple store and
played with an iPod. That moment changed my life.</p><p><span>
      <span></span>
  <img alt="mp3" title="mp3" src="https://www.arun.is/static/fa097c9d6c06076172edf59e6afb7924/20801/mp3.jpg" srcset="https://www.arun.is/static/fa097c9d6c06076172edf59e6afb7924/98e5d/mp3.jpg 180w,https://www.arun.is/static/fa097c9d6c06076172edf59e6afb7924/543cd/mp3.jpg 360w,https://www.arun.is/static/fa097c9d6c06076172edf59e6afb7924/20801/mp3.jpg 720w,https://www.arun.is/static/fa097c9d6c06076172edf59e6afb7924/b37e7/mp3.jpg 1080w,https://www.arun.is/static/fa097c9d6c06076172edf59e6afb7924/33266/mp3.jpg 1440w" sizes="(max-width: 720px) 100vw, 720px" loading="lazy">
    </span> <span>One is now forgotten, the other a
classic</span></p><p>I came away not only intending to buy an iPod, but with a new dimension of my
taste. I already had a side of me that read the reviews, did the research, and
tried to find the “best” of something, but this new side didn’t compare numbers
or stats. Instead, it cared about how something felt in hand, the sound it made
when I pressed a button, the typeface used on the interface, the box it came in.</p><p>I realized that objects must not only fulfill their functional purpose, but they
must also form an emotional bond with the user.</p><h3 id="principle-2-prefer-the-preowned-classic-to-the-brand-new-unproven-product">Principle 2: Prefer the preowned classic to the brand new, unproven product.</h3><p>The democratization of information means that nearly everyone wants to have the
best of everything. “A recent PricewaterhouseCoopers study found that eighty per
cent of consumers look at online reviews before making major purchases, and a
host of studies have logged the strong influence those reviews have on the
decisions people make.”<sup id="2"><a href="#footnote_2">[2]</a></sup></p><p>We want the best, from the restaurant for dinner tonight, to our next car, to
something as mundane as a vacuum cleaner. It’s not new. For decades,
<a href="https://en.wikipedia.org/wiki/Consumer_Reports">Consumer Reports</a> has tested
and recommended the best of nearly anything someone could buy.</p><p><span>
      <span></span>
  <img alt="magazines" title="magazines" src="https://www.arun.is/static/d4a039f94b9a9d0da8cf312f274b26ea/20801/magazines.jpg" srcset="https://www.arun.is/static/d4a039f94b9a9d0da8cf312f274b26ea/98e5d/magazines.jpg 180w,https://www.arun.is/static/d4a039f94b9a9d0da8cf312f274b26ea/543cd/magazines.jpg 360w,https://www.arun.is/static/d4a039f94b9a9d0da8cf312f274b26ea/20801/magazines.jpg 720w,https://www.arun.is/static/d4a039f94b9a9d0da8cf312f274b26ea/b37e7/magazines.jpg 1080w,https://www.arun.is/static/d4a039f94b9a9d0da8cf312f274b26ea/33266/magazines.jpg 1440w" sizes="(max-width: 720px) 100vw, 720px" loading="lazy">
    </span></p><blockquote id="3">"Perhaps the most miraculous part of Consumer Reports is that its work is technically a public service: Its parent organization, which publishes the magazine (and is also called Consumer Reports), is a nonprofit. The operation launched in 1936, when consumer-protection laws were practically nonexistent, and for much of its history the magazine has shaped both consumer sentiment and government policy."<sup><a href="#footnote_3">[3]</a></sup></blockquote><p>Today, Consumer Reports is slowly fading away as newer replacements shine in an
internet-first world.</p><p><a href="https://en.wikipedia.org/wiki/Wirecutter_(website)">Wirecutter</a> is one of
those spiritual successors. I used to be a huge fan. I was a tech reporter in a
previous life and looked up to Wirecutter’s founder,
<a href="https://en.wikipedia.org/wiki/Brian_Lam">Brian Lam</a> when he was editor-in-chief
of <a href="https://en.wikipedia.org/wiki/Gizmodo">Gizmodo</a>. I loved that Wirecutter
takes the best of what made Consumer Reports great and mixed it with what makes
Gizmodo great.</p><p><span>
      <span></span>
  <img alt="wirecutter" title="wirecutter" src="https://www.arun.is/static/742db875c92e8667a620732c7932be86/20801/wirecutter.jpg" srcset="https://www.arun.is/static/742db875c92e8667a620732c7932be86/98e5d/wirecutter.jpg 180w,https://www.arun.is/static/742db875c92e8667a620732c7932be86/543cd/wirecutter.jpg 360w,https://www.arun.is/static/742db875c92e8667a620732c7932be86/20801/wirecutter.jpg 720w,https://www.arun.is/static/742db875c92e8667a620732c7932be86/b37e7/wirecutter.jpg 1080w,https://www.arun.is/static/742db875c92e8667a620732c7932be86/33266/wirecutter.jpg 1440w" sizes="(max-width: 720px) 100vw, 720px" loading="lazy">
    </span></p><p>Now, however, I’m not so sure I like it. As Owen Williams writes:</p><blockquote id="4">"Review sites like Wirecutter are incentivized to pick products, even if they aren't perfect, because they don't make money unless you buy something. Instead of running advertising on their pages, Wirecutter relies on affiliate links, offered by sites like Amazon. When you click "buy" on something the site recommends and follow through with the purchase, Wirecutter gets a cut of the sale price, which is higher the more expensive the product is."<sup><a href="#footnote_4">[4]</a></sup></blockquote><p>That’s a fundamental difference with Consumer Reports and its
customer-protection mentality. I’ve never seen Wirecutter simply recommend that
someone look on Craigslist or eBay for something even when that’s probably the
best option.</p><p>Phones, computers, or cars are constantly changing and there are clear
advantages with newer ones. Furniture, clothing, or household appliances, on the
other hand, have changed very little in half a century. It’s silly to constrain
ourselves to the world of what’s available new on a shelf, ready to ship to your
home in two days.</p><p>You tell me. If you are looking for an orange juicer, are you going to buy
Wirecutter’s recommendation? Or, would you rather own
<a href="https://www.arun.is/blog/braun-mpz2/">a piece from the 70s designed by legendary designers at Braun</a>
for the same price?</p><p><span>
      <span></span>
  <img alt="juicers" title="juicers" src="https://www.arun.is/static/6a6c6552e543a71cd6be1492c66fd2ac/20801/juicers.jpg" srcset="https://www.arun.is/static/6a6c6552e543a71cd6be1492c66fd2ac/98e5d/juicers.jpg 180w,https://www.arun.is/static/6a6c6552e543a71cd6be1492c66fd2ac/543cd/juicers.jpg 360w,https://www.arun.is/static/6a6c6552e543a71cd6be1492c66fd2ac/20801/juicers.jpg 720w,https://www.arun.is/static/6a6c6552e543a71cd6be1492c66fd2ac/b37e7/juicers.jpg 1080w,https://www.arun.is/static/6a6c6552e543a71cd6be1492c66fd2ac/33266/juicers.jpg 1440w" sizes="(max-width: 720px) 100vw, 720px" loading="lazy">
    </span></p><p>Sure, you would have to buy it used, but it’s also proven. It has survived half
a century and likely will survive yet another. And, obviously, it’s not ugly.</p><p>As Dieter Rams says in the fifth of his
<a href="https://www.vitsoe.com/us/about/good-design">ten principles for good design</a>,
“Good design is unobtrusive. Products fulfilling a purpose are like tools. They
are neither decorative objects nor works of art. Their design should therefore
be both neutral and restrained, to leave room for the user’s self-expression.”</p><p>By constraining themselves to what’s still made today, sites like Wirecutter
completely miss the attractive, affordable options out there on the used market,
some of which are part of museum collections. The result is more ugliness. If
I’m going to see something every day, it better fit in with its surroundings.</p><p>Therefore when possible, I prefer the preowned classic to the brand new,
unproven product.</p><h2 id="how-i-hunt-for-good-design">How I hunt for good design</h2><p>If we are to ignore the review sites, where do we go? I’m not going to pretend
that I’m an expert, but I’ve learned a few things over the years.</p><p>The first is that museum collections are your friend. I regularly search
the&nbsp;<a href="https://www.moma.org/collection/">MoMA</a>,&nbsp;<a href="https://collection.maas.museum/search?q=radio&amp;p=4">MAAS</a>,
and&nbsp;<a href="https://collection.cooperhewitt.org/">Cooper Hewitt</a>&nbsp;collections when I
need an appliance or furniture. Often, I find something from one of these museum
collections for cheap on the used market. They are so obscure that there isn’t
much demand.</p><p><span>
      <span></span>
  <img alt="moma" title="moma" src="https://www.arun.is/static/cf6248df7fa0b6e66ce401bf90126a27/20801/moma.jpg" srcset="https://www.arun.is/static/cf6248df7fa0b6e66ce401bf90126a27/98e5d/moma.jpg 180w,https://www.arun.is/static/cf6248df7fa0b6e66ce401bf90126a27/543cd/moma.jpg 360w,https://www.arun.is/static/cf6248df7fa0b6e66ce401bf90126a27/20801/moma.jpg 720w,https://www.arun.is/static/cf6248df7fa0b6e66ce401bf90126a27/b37e7/moma.jpg 1080w,https://www.arun.is/static/cf6248df7fa0b6e66ce401bf90126a27/33266/moma.jpg 1440w" sizes="(max-width: 720px) 100vw, 720px" loading="lazy">
    </span></p><p>Some of these classic objects of design may seem expensive to buy. However,
their prices when used are usually quite stable. Buy one with cash. If you ever
decide that you no longer want it, you can sell it back for the same price.
That’s a big contrast to buying something new from Amazon, where there will be
some depreciation.</p><p>When buying office furniture and accessories, look where the big buyers go. Most
office furniture is sold by furniture companies like
<a href="https://www.hermanmiller.com/">Herman Miller</a>,
<a href="https://www.steelcase.com/">Steelcase</a>, and <a href="https://www.haworth.com/">Haworth</a>
directly to businesses, hospitals, etc. The selection you’ll find is vastly
different from consumer-oriented retailers. You’ll find beautiful options that
you’ll never see on Amazon. As an added benefit, these business customers often
upgrade or go out-of-business, so items like chairs, lamps, and monitor arms hit
the used market for great prices in large quantities.</p><p>When buying used, patience is vital. I have found that it can take more than a
year of waiting to find the ideal piece. I’ve spent four years continuously
building my current desk setup.</p><h2 id="my-desk-setup">My desk setup</h2><p>That brings me to my creative space. I’m fortunate enough to have a light and
airy loft that I can call my studio. Perhaps in a future post, I’ll do a proper
tour of the whole space. For now, let’s focus on my desk setup.</p><p>In addition to the two principles that I listed previously, I’ve added three
more that are specific to my desk setup.</p><ol><li>Objects must not just fulfill …</li></ol></div></section></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.arun.is/blog/desk-setup/">https://www.arun.is/blog/desk-setup/</a></em></p>]]>
            </description>
            <link>https://www.arun.is/blog/desk-setup/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26247501</guid>
            <pubDate>Wed, 24 Feb 2021 07:19:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[OpenScan Offers 10-Micron 3D Scanning on a Raspberry Pi and HQ Camera Module]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26247348">thread link</a>) | @ENadyr
<br/>
February 23, 2021 | https://www.hackster.io/news/thomas-megel-s-openscan-offers-10-micron-3d-scanning-on-a-raspberry-pi-and-hq-camera-module-308a2540c5b8 | <a href="https://web.archive.org/web/*/https://www.hackster.io/news/thomas-megel-s-openscan-offers-10-micron-3d-scanning-on-a-raspberry-pi-and-hq-camera-module-308a2540c5b8">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><div><p>Thomas Megel is aiming to bring down the cost and complexity of accurate 3D scanning — and to prove it, he's scanned a Raspberry Pi single-board computer using another Raspberry Pi single-board computer.</p><p>Megel founded OpenScan.eu with a mission to create a low-cost 3D scanner built around an Arduino-powered control unit and off-the-shelf smartphones and cameras. In its latest incarnation, though, the project has shifted focus with a new variant running atop a Raspberry Pi single-board computer and a Raspberry Pi Camera Module or HQ Camera Module.</p><p>"I am able to reach great accuracy with just a Raspberry Pi [and] Pi Camera [Module] v2.1," Megel explains, following the production of a demonstration video and 3D scan of a second Raspberry Pi. "I am currently testing an upcoming cloud processing feature, but it will always be possible to do the processing locally on a PC with Meshroom or similar software." </p><figure><figcaption>The OpenScan system offers 10-micron accuracy when using a Raspberry Pi HQ Camera Module. (📹: Thomas Megel)</figcaption></figure><p>"The [processing technique] is called photogrammetry and basically, the software is looking for common points in two images, matching those, do some math-magic and calculates camera intrinsics, camera positions and finally the coordinates for each point in space. I have implemented auto-scaling in the upcoming cloud processing, without the use of any markers."</p><p>The sample scan provided by Megel to demonstrate the scanner's capabilities took, he claims, less than an hour of wall time and just four clicks of user interaction — though the processing requires the in-beta cloud platform or a more powerful host PC, with the Raspberry Pi unable to provide enough compute itself. In testing, the system has proven capable of sub-50-micron accuracy with the Raspberry Pi Camera Module v2.1 and around 10 microns with the Raspberry Pi HQ Camera Module.</p><p><span>More information is available </span><a href="https://www.reddit.com/r/raspberry_pi/comments/lpndip/3d_scanned_a_raspberry_pi_with_my_diy_raspberry/" rel="nofollow">on Megel's Reddit thread</a><span> and </span><a href="https://github.com/OpenScanEu/OpenScan" rel="nofollow">on the project's GitHub repository</a><span>. The model generated from the scanned Raspberry Pi, meanwhile, </span><a href="https://sketchfab.com/3d-models/raspberry-pi-2b-3d-scan-with-openscan-mini-c392031a5c8c4bd2a859d43a18ebd031" rel="nofollow">can be found on Sketchfab</a><span>.</span></p></div></section></div>]]>
            </description>
            <link>https://www.hackster.io/news/thomas-megel-s-openscan-offers-10-micron-3d-scanning-on-a-raspberry-pi-and-hq-camera-module-308a2540c5b8</link>
            <guid isPermaLink="false">hacker-news-small-sites-26247348</guid>
            <pubDate>Wed, 24 Feb 2021 06:54:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Submodularity in Ranking, Summarization, and Self-Attention]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26247195">thread link</a>) | @vackosar
<br/>
February 23, 2021 | https://vaclavkosar.com/ml/submodularity-in-ranking-summarization-and-self-attention | <a href="https://web.archive.org/web/*/https://vaclavkosar.com/ml/submodularity-in-ranking-summarization-and-self-attention">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>




<div id="video-img" onclick="if (!window.__cfRLUnblockHandlers) return false; loadVid(this)" data-cf-modified-51b8f3e2788c07e935b3091d-="">

<p><img src="https://vaclavkosar.com/images/submodularity-main.png" alt="Submodularity in Ranking, Summarization, and Self-attention"></p><svg id="youtube" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"></path></svg>
</div>

<h3 id="submodular-function-models-diminishing-returns">Submodular function models diminishing returns</h3>
<p>A submodular function is a set function whose value, has the property that the difference in the incremental value of the function that a single element makes when added to an input set decreases as the size of the input set increases.</p>
<p>
\( S_1 \subset S_2 \),
\(i \notin S_2 \),
\( F(\lbrace i \rbrace \cup S_1) - F(S_1) \geq F(\lbrace i \rbrace \cup S_2) - F(S_2) \)
</p>

<p>We encounter this property during shopping in form of quantity discount.
The discount of addition of on more item to the purchase cart, decreases with the size of the cart.
This priciple is called diminishing returns.</p>
<p>For example the price per product price as a function of set of purchased products \( S \) could be dependent on the product count \( | S | \).
From following, we then observe diminishing discount of adding an extra product into the cart.</p>
<p>
\( \mathrm{price}(S) = \exp(-|S|) \)<br>
\( S_1 \subset S_2 \implies | S_1 | \leq | S_2 | \)<br>
\( \mathrm{price}(S_1 + \lbrace x \rbrace) - \mathrm{price}(S_1) \geq \)
\( \mathrm{price}(S_2 + \lbrace x \rbrace) - \mathrm{price}(S_2) \),<br>
because
\( \exp(- | S_1 | )(e^{-1} - 1) \geq \exp(- | S_2 | )(e^{-1} - 1) \)
</p>

<p>Submodular functions appear also in maximization problems where they model notions of diversity, information and coverage.
For example one would like a document summary to cover all important and relevant concepts in the document,
but avoid topic repetition at the same time as repeating a fact has a diminishing return.</p>
<p><a href="https://web.cs.elte.hu/~lovasz/scans/submodular.pdf">Submodular functions can be seen as discrete convexity</a> e.g.</p>
<ul>
<li>polynomial time algo for finding minimum-set.</li>
<li>for non-negative submodular function maximum-set under a budget constraint is approximable with polynomial time greedy algorithm</li>
<li>Submodular functions can be combined, and the resulting function is still submodular.</li>
</ul>
<h3 id="maximum-marginal-relevance-re-ranks-for-diversity-of-results">Maximum-Marginal-Relevance re-ranks for diversity of results</h3>
<p><a href="https://www.cs.cmu.edu/~jgc/publication/The_Use_MMR_Diversity_Based_LTMIR_1998.pdf">Maximum-Marginal-Relevance for re-ranking (1998)</a>
trades off redundancy of query results for small decrease relevance of results for already ranked documents or phrases.
It make the trade off using the following greedy algorithm.</p>
<ul>
<li>\( V \) = a set of documents</li>
<li>\( S \) = a subset of documents in V already selected</li>
<li>\( \lambda \) = a constant in range of \( ( 0, 1 ) \)</li>
</ul>
<p>
\( \mathrm{nextDoc}(S) = \)
\( \mathrm{argmax}_{i \in V \setminus S } ( \lambda \mathrm{sim}_1 (i, Q) - (1 - \lambda) \mathrm{max}_{j \in S} \mathrm{sim}_2 (i, j)) \),
</p>
<ul>
<li>The first part of equation growths with document similarity with the query.</li>
<li>The second part decreases with the document similarity with already selected documents.</li>
</ul>
<h3 id="summarization-as-budgeted-submodularity-maximization">Summarization as budgeted submodularity maximization</h3>
<p><a href="https://www.aclweb.org/anthology/N10-1134.pdf">Multi-document Summarization via Budgeted Maximization of Submodular Functions</a>
formulates summarization as the problem of maximizing a submodular function under a budget constraint,
where \( V \) is set of all sentences, \( S \) are selected sentences, \( c_i \) is word count, \( f \) is submodular function, \( B \) is the word budget, then:</p>
<p>\( S_{max} = \max_{S \subset V} f(S) : \sum_{i \in S} c_i \leq B \)</p>
<p>The paper proposes MMR alternative that is submodular if the similarity is non-negative:</p>
<p>\( f = \sum_{i \in V \setminus S} \sum_{j \in S} \mathrm{sim}(i,j) - \lambda \sum_{i,j \in S: i \neq j} \mathrm{sim}(i,j) \)</p>
<ul>
<li>The first part grows as selected sentences \( S \) become more similar to all sentences \( V \).</li>
<li>The second part decreases as selected sentences become more similar between each other.</li>
</ul>
<p>For which they present greedy algorithm with near-optimality guarantee. The algo repeatedely finds documents maximizing:</p>
<p>\( \mathrm{nextDoc}(S) = \mathrm{argmax_i} \frac{f(S \cup \lbrace i \rbrace) - f(S)}{c_i^r} \)</p>
<p>until the budget is reached. The algo Details are presented in <a href="https://www.aclweb.org/anthology/N10-1134.pdf">the paper</a>.</p>
<p>How is this related exactly to the MMR? If the costs for each item is the same e.g. \( c_i = 1 \), then we get:</p>
<p>
\( f(S \cup \lbrace k \rbrace ) - f(S) = \)
\( \sum_{i \in V \setminus \lbrace k \rbrace} \mathrm{sim} (i, k) - 2 (1 + \lambda) \sum_{i \in S} \mathrm{sim}(i, k) \).
</p>

<div>
<p><b>Proof:</b></p><p>
\( f_1 := \sum_{i \in V \setminus S, j \in S } \mathrm{sim} (i, j) \),<br>
\( f_1(S \cup \lbrace k \rbrace ) - f_1(S) = - \sum_{j \in S} \mathrm{sim}(k, j) + \sum_{i \in V \setminus (S \cup \lbrace k \rbrace )} \mathrm{sim}(i, k) = \)
\( \sum_{j \in V \setminus \lbrace k \rbrace} \mathrm{sim}(k, j) - 2 \sum_{j \in S} \mathrm{sim}(k, j) \)
<br>
\( f_2 := \sum_{i,j \in S : i \neq j } \mathrm{sim} (i, j) \),<br>
\( f_2(S \cup \lbrace k \rbrace ) - f_2(S) = 2 \sum_{j \in S} sim(k, j) \),<br>
\( f = f_1 - \lambda f_2 \)
</p>
</div>

<p>The equation is very much like the Maximum-Marginal-Relevance equation, except \( \lambda \) the diversity term has always non-zero weight.
The cost \( c_k \), can then be added back to rescale according to the sentence length.</p>
<ul>
<li>The first part grows with the sentence \(k \) similarity to all sentences in \( V \) i.e. with sentence centrality in the whole document.</li>
<li>The second part decreases with sentence similarity to the already selected sentences.</li>
</ul>
<p>This setup with idf-modified-cosine similarity matrix achieved SoTA outperforming PageRank based centrality summarization algorithms like <a href="https://arxiv.org/pdf/1109.2128.pdf">LexRank</a>.
LexRank applies PageRank to the idf-modified-cosine similarity matrix to get the centrality scores for the sentences.
The LexRank paper mentions use MMR as a re-ranker, making the comparison with the submodularity solution fair.</p>
<h3 id="wiki-term-disambiguation-for-wiki-using-topic-hierarchy-coverage">Wiki term disambiguation for wiki using topic hierarchy coverage</h3>
<p><a href="https://www.aclweb.org/anthology/P15-1054.pdf">Summarization of Multi-Document Topic Hierarchies using Submodular Mixtures (2015)</a>
suggested generating Wikipedia disambiguation pages using custom crafted submodularity function maximizing disambiguation topics specificity, clarity, relevance, and more.</p>
<figure>
<img alt="Wiki disambiguation problem and submodularity" data-src="/images/submodularity-wiki-disambiguation.png" src="https://vaclavkosar.com/images/submodularity-wiki-disambiguation.png">
<figcaption>
Wiki disambiguation problem and submodularity (<a href="https://www.aclweb.org/anthology/P15-1054.pdf">source</a>)
</figcaption>
</figure>
<p>Wiki articleas are organized into a topic hierarchy. The article looks for the best small subset of topics for an informative disambiguation page.
The submodular function is constructed as optimal linear combination of multiple hand-constructed submodular functions.</p>
<ul>
<li>\( V \) all topics organized into a hierarchy</li>
<li>Collection of D documents associated with one or more topics</li>
<li>\( S \) selected topics</li>
<li>\( B \) topic count budget</li>
<li>\( f_i \) custom monotone submodular functions for selection of the best topics. For example:
<ul>
<li>Weighted set cover function \( f(S) = \sum_d \omega_d \) with weights based on relative importance.</li>
<li>topic specificity - distance from root</li>
<li>topic clarity: fraction of descendats that cover one or more docs</li>
<li>topic relevance: min number of hops needed</li>
</ul>
</li>
<li>\( \omega_i \geq 0 \) the best linear combination of the custom functions</li>
</ul>
<p>We solve:</p>
<p>
\( S_{best} = \mathrm{argmax}_{S \subset V : |S| \leq B} \sum_i \omega_i f_i(S) \)
</p>

<h3 id="diminishing-self-attention-improves-summarization-coverage">Diminishing self-attention improves summarization coverage</h3>
<p>The paper <a href="https://arxiv.org/abs/1911.03014">Resurrecting Submodularity for Neural Text Generation</a> optimizes summarization and translation coverage with diminishing attentions with submodular functions.</p>
<p>End-to-end trained neural encoder-decoder summarizers suffer from repetition and insufficient information coverage.
Previous papers added coverage requirements into the loss.
This paper instead modifies the attention weights using the principle of diminishing returns using a submodular function.</p>
<p>Given decoder step (position) \( t \),
encoder sequence position \( i \),
attention matrix \( a_{i, t} \),
concave non-decreasing function \( F \) with \( F(0) = 0 \) e.g. ,
then diminishing attention is defined as:</p>
<p>\( DimAtt_{i,t} = F(\sum_{\tau = 0}^{t} a_{i, \tau}) - F(\sum_{\tau = 0}^{t - 1} a_{i, \tau}) \)</p>
<figure>
<img alt="Diminishing attention via submodularity" data-src="/images/submodularity-diminishing-attention.png" src="https://vaclavkosar.com/images/submodularity-diminishing-attention.png">
<figcaption>
Diminishing attention via submodularity (<a href="https://arxiv.org/abs/1911.03014">source</a>)
</figcaption>
</figure>
<p>This relatively increases attention to the parts of input text that were not yet used for decoding.
With a slightly more sofisticated approach they call â€œDynamic Dimishing Attentionâ€� they then achive SoTA
with underlying summarization models Pointer-Generator and BART.</p>
<figure>
<img alt="Results of diminishing attention" data-src="/images/diminishing-attention.png" src="https://vaclavkosar.com/images/diminishing-attention.png">
<figcaption>
Results of diminishing attention (<a href="https://arxiv.org/abs/1911.03014">source</a>)
</figcaption>
</figure>
<h2 id="meet-other-ml-enthusiasts-one-on-one-online">Meet Other ML Enthusiasts One-on-One Online</h2>
<p>Video-call each week an interesting person in the machine learning field and break out of your remote isolation.
Network One-on-One Around Your Online Village with RandomMeets.</p>
<p><a href="https://randommeets.com/invite/eyJncm91cF9pZCI6IjZhMzNkMTVjLTc0NjItNGFhMS1hNTc0LWM1NTUwMWQ4NWNkZiJ9.X76oug.2563ghpMTzbST9KPHerGeDqhXRY">
Join Machine Learning @ RandomMeets
</a></p>
</div></div>]]>
            </description>
            <link>https://vaclavkosar.com/ml/submodularity-in-ranking-summarization-and-self-attention</link>
            <guid isPermaLink="false">hacker-news-small-sites-26247195</guid>
            <pubDate>Wed, 24 Feb 2021 06:23:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Modules, Monoliths, and Microservices]]>
            </title>
            <description>
<![CDATA[
Score 305 | Comments 83 (<a href="https://news.ycombinator.com/item?id=26247052">thread link</a>) | @kozmico
<br/>
February 23, 2021 | https://tailscale.com/blog/modules-monoliths-and-microservices/ | <a href="https://web.archive.org/web/*/https://tailscale.com/blog/modules-monoliths-and-microservices/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <p>Lately, I get people asking me when microservices are a good idea. In <a href="https://apenwarr.ca/log/20201227">systems design explains the world</a>, I talked about big-picture issues like second system effect, innovator’s dilemmas, and more. Can systems design answer the microservices question?</p>
<p>Yes, but you might not like the answers. First, we'll need some history.</p>
<h4 id="what-is-a-microservice">What is a microservice?</h4>
<p>You can find various definitions on the Internet. Here's mine: microservices are the most extreme possible backlash against <em>monoliths</em>.</p>
<p>Monoliths are what happen when you link everything your entire app needs into one giant program and deploy it as one big blob. Monoliths have a long history, going back to frameworks like CGI, Django, Rails, and PHP.</p>
<p>Right away, let's abandon the assumption that a monolith and a fleet of microservices are the only two options. There's a wide and nuanced continuum from "one giant service that does everything" to "infinite tiny services that each do nearly nothing."</p>
<p>If you follow fads, you'll have built a monolith at least once (whether on purpose or because that's what traditional frameworks encouraged you to do), then discovered some problems with monoliths, then heard that microservices are the answer, then started rearchitecting everything as microservices.</p>
<p>But don't follow fads. There are many points in between those extremes. One of them is probably right for you. A better approach starts with where you want to put your <em>interfaces</em>.</p>
<h4 id="boxes-and-arrows">Boxes and arrows</h4>
<p>An interface is the connection between <em>modules.</em> A module is a collection of related code. In systems design, we talk about "boxes and arrows" engineering: modules are the boxes, and interfaces are the arrows.</p>
<p>The deeper question then is: how big are the boxes? How much goes in each box? How do we decide when to split one big box into two smaller ones? What's the best way to connect the boxes? There are many approaches to all this. Nobody quite knows what's best. It's one of the hardest problems in software architecture.</p>
<p>Over the decades, we've evolved through many kinds of "boxes." <a href="https://homepages.cwi.nl/~storm/teaching/reader/Dijkstra68.pdf">Goto statements were "considered harmful"</a> largely because they prevented any hierarchy at all. Then we added functions or procedures; those are very simple boxes, with interfaces (parameters and return codes) between them.</p>
<p>Depending which branch of programming you go down, you then discover recursive functions, combinators, static function prototypes, libraries (statically or runtime-linked), objects (OOP), coroutines, protected virtual memory, processes, threads, JITs, namespaces, sandboxes, chroots, jails, containers, virtual machines, supervisors, hypervisors, microkernels, and <a href="https://en.wikipedia.org/wiki/Unikernel">unikernels</a>.</p>
<p>And that's just the boxes! Once you have boxes isolated from each other, then you need to connect them with arrows. For that, we have ABIs, APIs, syscalls, sockets, RPCs, filesystems, databases, message passing systems, and "virtualized hardware."</p>
<p>If you tried to draw a complete boxes-and-arrows diagram of a modern Unix system (which I won't), it would be wild: functions inside threads inside processes inside containers inside userspace, layered under a kernel, inside a VM, running on hardware in a rack in a datacenter in a cloud provider tied together by an orchestration system, and so on.</p>
<p>Each of those boxes at each of the abstraction layers is somehow isolated from and then connected to some of the others, at the same or other layers. Some are inside others. You couldn't draw an honest version of this picture in a mere two dimensions without lines criss-crossing hopelessly.</p>
<p>This all evolved over decades. Fancy people call it "path dependence." I call it a mess. And let's be clear: most of the mess no longer provides much value.</p>
<p>Instead of focusing on what became very ugly evolutionary results, let's talk about what people were <em>trying</em> to do while they invented all that stuff.</p>
<h4 id="the-quest-for-modularity">The quest for modularity</h4>
<p>The top-line goals of module systems are always the same:</p>
<ol>
<li>Isolate each bit of code from the other bits.</li>
<li>Re-connect those bits only where explicitly intended (through a well-defined interface).</li>
<li>Guarantee that bits you change will still be compatible with the right other bits.</li>
<li>Upgrade, downgrade, and scale some bits without having to upgrade all the other bits simultaneously.</li>
</ol>
<p>The computer industry spends an absolutely immense amount of time messing around, trying to find the perfect balance of all these modularity issues, while still trying to keep development as painless and easy as possible.</p>
<p>We are, in short, not succeeding.</p>
<p>By far the part we're worst at is #1, isolation. If we could truly and efficiently isolate one bit of code from another, the other goals would mostly fall into place. But we simply do not know how.</p>
<p>Isolation is a super hard problem. Goodness knows people have tried. Yet browser sandbox escapes still happen regularly, undetected privilege escalation attacks are simply assumed to exist on every OS, iOS still gets jailbroken periodically, DRM never works (for better or worse), virtual machines and containers regularly have vulnerabilities discovered, and systems like <a href="https://blog.alcide.io/insecure-by-default-kubernetes-networking">k8s have their containers configured insecurely by default</a>.</p>
<p>People have even been known to <a href="https://blog.cryptographyengineering.com/2013/02/04/attack-of-week-tls-timing-oracles/">figure out encryption keys on remote servers by sending well-timed packets</a> to them over the Internet. Meanwhile, the most spectacular isolation failures in recent memory were the <a href="https://meltdownattack.com/">Meltdown and Spectre attacks</a>, which allowed any program on a computer, even a javascript app in a web browser, to read the memory of other programs on the same computer, even across sandboxes or virtual machines.</p>
<p>Every new isolation technology goes through a cycle like the following, from optimism to despair:</p>
<ul>
<li>New idea: we'll finally get it right this time, once and for all!</li>
<li>Initial experiments seem to work.</li>
<li>(Users complain that it's even slower and more tedious than the last thing we tried.)</li>
<li>Early fatal flaws are discovered and fixed.</li>
<li>Widespread deployment.</li>
<li>Ever-more-subtle flaws are successively discovered and fixed.</li>
<li>Eventually, we find flaws that we simply don't know how to patch.</li>
<li>Lose hope that efficient isolation is even possible with this method.</li>
<li>But also we can never retire this isolation method because now too many people are depending on it.</li>
<li>Repeat.</li>
</ul>
<p>For example, at this point security people simply don't believe that any of the following (each one the very best technology available at the time) is totally safe:</p>
<ul>
<li>Process isolation and memory protection on a Unix system.</li>
<li>Privilege separation between OS processes when remote code execution ("RCE" for security people) is allowed.</li>
<li>Filtering syscalls to isolate a process.</li>
<li>Mutually untrusted processes sharing a CPU hyperthread.</li>
<li>Memory isolation between virtual machines on a CPU core.</li>
</ul>
<p>As far as I know, the state of the art, the very best isolation, is something like the Chrome sandbox or <a href="https://github.com/google/gvisor">gVisor</a>. The big browser vendors and cloud providers all use tools like these. The tools remain imperfect, but providers do chase down every new breach as fast as they can, and the rate of new flaws is fairly slow.</p>
<p>Isolation is better than it's ever been before… if you put all your isolation at the virtual machine (VM) level so that your cloud provider can do it for you because nobody else knows how, or updates often enough.</p>
<p>If you trust your cloud provider's VM isolation, you can have hope that all known problems are mitigated; but we have every reason to think more problems will be found.</p>
<p>That's… actually pretty good, all things considered. At least we have <em>something</em> that works.</p>
<h4 id="great-vms-for-everything">Great! VMs for everything!</h4>
<p>Well, hold on. Spinning up an isolated VM for every little module is a pain. And how big is a module?</p>
<p>Long ago, when Java first came out, the dream was that every line of every function in every object could have permissions enforced, even between objects in the same application binary, so that CPU-enforced memory protection wouldn't be needed. Nobody believes anymore that they can make that work. And marketing claims like "cloud functions" aside, nobody really thinks you should try.</p>
<p>None of the currently-known isolation methods work <em>perfectly</em>, but each of them works to <em>some approximation</em>. Increasingly skilled attackers, or increasingly valuable targets, require better and more annoying isolation. The best isolation we know right now is inter-VM sandboxing provided by tier-1 cloud providers. The worst, well, it goes down to zero.</p>
<p>Let's also assume, skipping over the evidence, that most systems are so tightly coupled that <strong>a reasonably skilled attacker can break through laterally between modules.</strong> So, for example, if someone can link a malicious library into your Go or C++ program, they can probably take control of that entire program.</p>
<p>Similarly, if your program has write access to a database, attackers can probably make it write <em>anywhere</em> in the database. If it can contact the network, they can probably contact <em>anywhere</em> in the network. If it can execute arbitrary Unix commands or system calls, they can probably get Unix root access. If it's in a container, they can probably break out of the container and into other containers. If malicious data can <a href="https://imagetragick.com/">crash the png decoder</a>, they can probably make it do anything else the decoder program is allowed to do. And so on.</p>
<p>An especially powerful form of attack is getting the ability to commit code, because that code will eventually be run on developer machines, and some developer or production machine somewhere probably has access to do what you want to do.</p>
<p>The above is maybe a little too pessimistic, but making those assumptions can help avoid overcomplicating your systems without improving actual security. In <a href="http://cr.yp.to/qmail/qmailsec-20071101.pdf">Some thoughts on security after ten years of qmail 1.0</a>, Daniel J. Bernstein points out (if I may heavily paraphrase) that many of the defenses he added in qmail, particularly isolating the different components from each other using chroot and different Unix uids, were not worthwhile and have never paid off.</p>
<p>Anyway, let's take it for granted that attackers with the ability to execute code can "usually" jump …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://tailscale.com/blog/modules-monoliths-and-microservices/">https://tailscale.com/blog/modules-monoliths-and-microservices/</a></em></p>]]>
            </description>
            <link>https://tailscale.com/blog/modules-monoliths-and-microservices/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26247052</guid>
            <pubDate>Wed, 24 Feb 2021 05:54:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[“Technical Debt” – That’s not really what “debt” means]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26246834">thread link</a>) | @matthew16550
<br/>
February 23, 2021 | https://dondo.org/2021/02/22/on-technical-debt/ | <a href="https://web.archive.org/web/*/https://dondo.org/2021/02/22/on-technical-debt/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="G018AJE1A4X-1611796593.055700-thread-list_1613059120.112200" tabindex="-1" role="listitem" data-qa="virtual-list-item">
<div role="document" data-qa="message_container" data-qa-unprocessed="false" data-qa-placeholder="false">
<div role="document" data-qa-hover="true">
<div>
<div>
<div data-qa="message_content">
<div>
<div>
<div data-qa="block-kit-renderer">
<div>
<div dir="auto">
<p>The term “<a href="https://en.wikipedia.org/wiki/Technical_debt">technical debt</a>” is a useful one. Unfortunately, as with anything useful, it is overused and used sloppily. It’s also sometimes misused to disparage a historical decision somebody disagrees with. But more than that, I think it is broadly misinterpreted. The term is intended to help justify work that has no immediate customer benefit, but rather is expected to help us execute faster. The business analysis on the value of a new feature customers are clamoring for is easier to quantify than the value of a system re-architecture. It can be hard to justify investment in cleaning up the code.</p>
<h2>But that’s not really what “debt” means.</h2>
<p>Most of us think about <em>debt</em> from the perspective of personal finance – that is, largely as a convenient way to buy things and pay for them later. Or perhaps from a debtor’s prison perspective: something to be avoided, or certainly paid off as quickly as possible. But when engineers raise the topic of <em>technical debt,</em> they’re often communicating with business owners, who often have degrees in business or economics. To such a business person, this is simply not what “debt” means. When an engineer talks about technical debt to scare managers into worrying about operations (“We have a ton of technical debt, we need to fix it!”), it kinda sounds to sophisticated business people like… well, like what those same business people sound like when they try to justify new technologies to technologists: “I want you to blockchain the virtual. Right away. Because it seems like we don’t have enough AI, yet.”</p>
<p>A business leader may be thinking about things very differently. Many may think about debt in terms of <em>leverage. </em>Well-structured debt is a benefit; it provides extra money we can use today. So if you talk to an options trader about having a ton of technical debt, their reaction is likely to be, “That’s fantastic! how do we get more?”</p>
<h2>It’s not about debt.</h2>
<p>The term invites us to focus on the wrong part of the problem. The casual interpretation of <em>debt</em> suggests that problems accrue because we are borrowing time from the future and being lazy about paying off our debts, and that is inaccurate and unfair. In fact what we’re doing is making intentional, mindful decisions about <a href="https://en.wikipedia.org/wiki/Opportunity_cost">opportunity cost</a>.</p>
<p>It’s not debt; it’s <a href="https://en.wikipedia.org/wiki/Future_value">future value</a>. Those are related but different things.</p>
<p>I’ve often said that “<em>every keystroke a developer makes is a business decision.</em>” We are, every day, in almost everything we do, continuously trading off opportunity cost: should I do a thing now, or wait and do it later so we can do something else now? When I decide it’s not worth adding a comment to piece of code, I’m fundamentally trading off the value of investing the time right now to clarify my intent against the time a future developer (usually me) needs to spend figuring out what the hell that code is doing. When I decide not to introduce a new abstraction to make the code more flexible, I’m trading off the value of investing time right now so it will be easier to do something else later. These are all opportunity cost decisions.</p>
<h2>Sometimes… you just do it</h2>
<p>There is a subtle consideration that is often overlooked in these conversations. In many cases, just <em>evaluating</em> the opportunity cost of doing something costs as much or more than doing it. When an activity is small enough, trying to decide whether the investment is worth it can be more work than the work itself. When in doubt, we should just do it. The first question to ask is whether it is even worth worrying about the cost of an investment. Small changes, incremental changes, housekeeping, etc,&nbsp; are all things that often take less time to do than to measure. The&nbsp; concept of “refactoring” is&nbsp; partially founded on this principle! So for small or medium code refactoring:</p>
<div>
<ol data-stringify-type="ordered-list" data-indent="0">
<li data-stringify-indent="0">I always clean as I go. It’s like housework. You never really&nbsp;<i data-stringify-type="italic">need</i>&nbsp;to vacuum, because if you leave it until you&nbsp;<i data-stringify-type="italic">actually</i>&nbsp;need to vacuum, your carpet is [elided].</li>
<li data-stringify-indent="0">If I have trouble understanding some code I need to work on, I’ll often refactor to help clarify. This requires good unit tests, but of course if you don’t have good unit tests what you’re doing isn’t refactoring. So I’ll add unit tests first, which also helps explain the code (“wait, it does what now?” is sometimes a very useful test result). Then if needed I’ll refactor to improve comprehensibility.</li>
</ol>
<p>Continuous housekeeping tasks – especially operational hygiene, such as good logging for diagnostics, operational metrics (you should never ever fail because you run out of disk space!), continuous deployment, keeping operating system and libraries up to date, etc – we should not waste time debating whether these are worth doing. If you have reached the point you have to worry about the investment it takes to upgrade your servers, <strong>the failure happened a long time ago.</strong> That’s not technical debt, it’s poor operational hygiene.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div></div>]]>
            </description>
            <link>https://dondo.org/2021/02/22/on-technical-debt/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26246834</guid>
            <pubDate>Wed, 24 Feb 2021 05:13:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[AI: Diagnosis and Forecasting Spread of Infectious Diseases]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26246741">thread link</a>) | @ShradhaSingh
<br/>
February 23, 2021 | https://www.artiba.org/blog/diagnosis-and-forecasting-spread-of-infectious-diseases | <a href="https://web.archive.org/web/*/https://www.artiba.org/blog/diagnosis-and-forecasting-spread-of-infectious-diseases">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<h2>AI: Diagnosis and Forecasting Spread of Infectious Diseases</h2>
<p><img src="https://www.artiba.org/Content/Images/diagnosis-and-forecasting.jpg" title=""></p>

<p>Artificial intelligence (AI) techniques are becoming the desired method used in the healthcare sector to interpret different characteristics of pathogens.</p>
            <p>The outbreak of such pathogens can cause a disease outbreak like COVID-19. <a target="_blank" href="https://www.artiba.org/blog/latest-ai-led-developments-in-covid-19-prevention-and-management">Advancements in technology</a> like AI and machine learning can help scientists and researchers contain the further spread of these diseases.</p>
            <p>Machine learning models can not only preempt such diseases but also control the spread of the virus worldwide. Using such models can help scientists identify faster clinical trials and quickly identify a relevant drug to help tackle the disease. AI is at the brink of revolutionizing the healthcare system.</p>
            <p>As a result, AI plays a significant role in analyzing swaths of data from multiple sources of infectious diseases such as outbreak investigation reports, social media platforms, national surveillance systems, vaccine reports, and sentinel reporting systems.</p>
            <p>
                The below infographic talks about how the healthcare sector used AI for knowledge discovery.
            </p>
            <p><img src="https://www.artiba.org/content/images/diagnosis-and-forecasting-infographic.png"></p>

 
</div></div>]]>
            </description>
            <link>https://www.artiba.org/blog/diagnosis-and-forecasting-spread-of-infectious-diseases</link>
            <guid isPermaLink="false">hacker-news-small-sites-26246741</guid>
            <pubDate>Wed, 24 Feb 2021 04:57:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Facebook is combining Messenger and Instagram messaging]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26246616">thread link</a>) | @rukshn
<br/>
February 23, 2021 | https://ruky.me/2021/02/24/facebook-is-combining-messenger-and-instagram-messaging/ | <a href="https://web.archive.org/web/*/https://ruky.me/2021/02/24/facebook-is-combining-messenger-and-instagram-messaging/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>Today I received this popup notifying me that soon people using Instagram will be able to find and message me on Facebook.</p>
<figure><img data-attachment-id="307" data-permalink="https://ruky.me/2021/02/24/facebook-is-combining-messenger-and-instagram-messaging/screenshot-2021-02-24-at-09-53-18/" data-orig-file="https://i2.wp.com/ruky.me/wp-content/uploads/2021/02/Screenshot-2021-02-24-at-09.53.18.png?fit=1152%2C990&amp;ssl=1" data-orig-size="1152,990" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Screenshot-2021-02-24-at-09.53.18" data-image-description="" data-medium-file="https://i2.wp.com/ruky.me/wp-content/uploads/2021/02/Screenshot-2021-02-24-at-09.53.18.png?fit=300%2C258&amp;ssl=1" data-large-file="https://i2.wp.com/ruky.me/wp-content/uploads/2021/02/Screenshot-2021-02-24-at-09.53.18.png?fit=1024%2C880&amp;ssl=1" loading="lazy" width="1024" height="880" src="https://i2.wp.com/ruky.me/wp-content/uploads/2021/02/Screenshot-2021-02-24-at-09.53.18.png?resize=1024%2C880&amp;ssl=1" alt="" srcset="https://i2.wp.com/ruky.me/wp-content/uploads/2021/02/Screenshot-2021-02-24-at-09.53.18.png?resize=1024%2C880&amp;ssl=1 1024w, https://i2.wp.com/ruky.me/wp-content/uploads/2021/02/Screenshot-2021-02-24-at-09.53.18.png?resize=300%2C258&amp;ssl=1 300w, https://i2.wp.com/ruky.me/wp-content/uploads/2021/02/Screenshot-2021-02-24-at-09.53.18.png?resize=768%2C660&amp;ssl=1 768w, https://i2.wp.com/ruky.me/wp-content/uploads/2021/02/Screenshot-2021-02-24-at-09.53.18.png?w=1152&amp;ssl=1 1152w" sizes="(max-width: 1024px) 100vw, 1024px" data-recalc-dims="1" data-lazy-srcset="https://i2.wp.com/ruky.me/wp-content/uploads/2021/02/Screenshot-2021-02-24-at-09.53.18.png?resize=1024%2C880&amp;ssl=1 1024w, https://i2.wp.com/ruky.me/wp-content/uploads/2021/02/Screenshot-2021-02-24-at-09.53.18.png?resize=300%2C258&amp;ssl=1 300w, https://i2.wp.com/ruky.me/wp-content/uploads/2021/02/Screenshot-2021-02-24-at-09.53.18.png?resize=768%2C660&amp;ssl=1 768w, https://i2.wp.com/ruky.me/wp-content/uploads/2021/02/Screenshot-2021-02-24-at-09.53.18.png?w=1152&amp;ssl=1 1152w" data-lazy-src="https://i2.wp.com/ruky.me/wp-content/uploads/2021/02/Screenshot-2021-02-24-at-09.53.18.png?resize=1024%2C880&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP/yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "></figure>
<p>It appears that your Messenger inbox will be a universal inbox where you can reply to both instagram messages and messenger messengers.</p>
<p>This is not the first time Facebook is doing this either, earlier last year Facebook unified the inboxes for businesses, where all your instagram DMs and messages to your Facebook page will be delivered to one unified inbox where you can reply to clients though one unified inbox.</p>
<p>I really liked this feature on Facebook business, because I didn’t have to install instagram app to message my clients.</p>
<p>If you are wondering what these changes mean, here’s a summery.</p>
<figure><img data-attachment-id="308" data-permalink="https://ruky.me/2021/02/24/facebook-is-combining-messenger-and-instagram-messaging/screenshot-2021-02-24-at-09-53-42/" data-orig-file="https://i1.wp.com/ruky.me/wp-content/uploads/2021/02/Screenshot-2021-02-24-at-09.53.42.png?fit=1000%2C780&amp;ssl=1" data-orig-size="1000,780" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Screenshot-2021-02-24-at-09.53.42" data-image-description="" data-medium-file="https://i1.wp.com/ruky.me/wp-content/uploads/2021/02/Screenshot-2021-02-24-at-09.53.42.png?fit=300%2C234&amp;ssl=1" data-large-file="https://i1.wp.com/ruky.me/wp-content/uploads/2021/02/Screenshot-2021-02-24-at-09.53.42.png?fit=1000%2C780&amp;ssl=1" loading="lazy" width="1000" height="780" src="https://i1.wp.com/ruky.me/wp-content/uploads/2021/02/Screenshot-2021-02-24-at-09.53.42.png?resize=1000%2C780&amp;ssl=1" alt="" srcset="https://i1.wp.com/ruky.me/wp-content/uploads/2021/02/Screenshot-2021-02-24-at-09.53.42.png?w=1000&amp;ssl=1 1000w, https://i1.wp.com/ruky.me/wp-content/uploads/2021/02/Screenshot-2021-02-24-at-09.53.42.png?resize=300%2C234&amp;ssl=1 300w, https://i1.wp.com/ruky.me/wp-content/uploads/2021/02/Screenshot-2021-02-24-at-09.53.42.png?resize=768%2C599&amp;ssl=1 768w" sizes="(max-width: 1000px) 100vw, 1000px" data-recalc-dims="1" data-lazy-srcset="https://i1.wp.com/ruky.me/wp-content/uploads/2021/02/Screenshot-2021-02-24-at-09.53.42.png?w=1000&amp;ssl=1 1000w, https://i1.wp.com/ruky.me/wp-content/uploads/2021/02/Screenshot-2021-02-24-at-09.53.42.png?resize=300%2C234&amp;ssl=1 300w, https://i1.wp.com/ruky.me/wp-content/uploads/2021/02/Screenshot-2021-02-24-at-09.53.42.png?resize=768%2C599&amp;ssl=1 768w" data-lazy-src="https://i1.wp.com/ruky.me/wp-content/uploads/2021/02/Screenshot-2021-02-24-at-09.53.42.png?resize=1000%2C780&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP/yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "></figure>
<p>But combining Facebook and instagram messages on personal profiles is not the same as combining inboxes for business pages. Here’s why,</p>
<p>We use Facebook more as a private social network. We share content with our friends and relatives, and we only message to friends and relatives on Facebook. However, Instagram is more public oriented social network. That means it’s designed to be public by nature, and content we post on instagram are more for public and we might or might not use it for conversations.</p>
<p>Basically I don’t want random strangers that follow me on Instagram able to send direct messages to my Facebook.</p>
<p>On the other hand, is it a greater plan for Facebook to combine all chat platforms to one? What if in future we will be able to read and reply to WhatsApp conversations though messenger? One unified inbox to chat with everyone in your social sphere.</p>
<p>What do you think? Let me down in the comments.</p>
</div></div>]]>
            </description>
            <link>https://ruky.me/2021/02/24/facebook-is-combining-messenger-and-instagram-messaging/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26246616</guid>
            <pubDate>Wed, 24 Feb 2021 04:36:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Year of Rails]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26246487">thread link</a>) | @momonga
<br/>
February 23, 2021 | https://macwright.com/2021/02/18/a-year-of-rails.html | <a href="https://web.archive.org/web/*/https://macwright.com/2021/02/18/a-year-of-rails.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><picture><source srcset="https://macwright.com/images/2021-02-18-a-year-of-rails-railroad.webp" type="image/webp"><img alt="Railroad" src="https://macwright.com/images/2021-02-18-a-year-of-rails-railroad.jpg"></picture></p><p>I spent most of 2020 working with <a href="https://rubyonrails.org/">Ruby on Rails</a>. I moved a project from <a href="https://nextjs.org/">Next.js</a> + <a href="https://www.rust-lang.org/">Rust</a> to…&nbsp;Rails, baby! Back to the future. My earlier post on <a href="https://macwright.com/2020/05/10/spa-fatigue.html"><em>Second-guessing the modern web</em></a> was inspired by this experience, that for the product we were building, a ‘modern’ stack was not working as well as a traditional one.</p><p>We didn’t do competitive analysis against Laravel, Django, or Phoenix. They’re similar, not radically better or worse. There are multiple acceptable solutions to a problem, and this was more a matter of choosing the right <em>kind</em> of solution than pursuing some kind of perfect choice and burning hours and motivation doing the window-shopping.</p><p>What helped Rails win was that the team had a little more experience in Ruby (with the exception of myself), and we found plenty of resources for developing and deploying the stack. Rails fit perfectly into the ideology of <a href="http://boringtechnology.club/"><em>Choosing boring technology</em></a>. Another part of the product would be the hard, innovative part, so it made no sense to grapple with bleeding-edge web frameworks.</p><p>This was a really fun experience. There’s a lot to love about Rails. Other communities could learn a bit from the Ruby &amp; Rails culture and wisdom. I won’t implement <em>everything</em> in Rails, but it’ll be part of the toolbox.</p><p>Before this, I hadn’t touched the stuff. And I bet a lot of people are like that - they came of age in the world of React and Go, and haven’t tried anything even remotely similar to Rails. For their benefit, and to debrief from 2020, here are some notes on the experience. Plus, <a href="https://macwright.com/2020/10/28/if-not-spas.html">Rails-like projects in JavaScript</a> are ramping up quickly, and it’s fun to know the origins.</p><h2 id="the-good">The good</h2><h3 id="debugging-rails-apps-is-amazing">Debugging Rails apps is amazing</h3><p>A while ago, I <a href="https://twitter.com/tmcw/status/1321133460501585922">wrote on Twitter</a></p><blockquote><p>the real reason why javascript developers don’t use breakpoints and use console.log is that breakpoints don’t work</p></blockquote><p>After years of working in JavaScript, I’m used to bad debugging experiences. The Chrome debugger’s <a href="https://developers.google.com/web/updates/2015/05/automatically-pause-on-any-exception">automatic pause on caught exceptions</a> is amazing, sometimes. But throwing a <code>debugger</code> statement in some React code is dodgy as hell. Sometimes it works, mostly it doesn’t. You have to deal with code that might not have the right <a href="https://www.html5rocks.com/en/tutorials/developertools/sourcemaps/">sourcemap</a> to translate from bundled &amp; minified code to original source. Subtle abstractions like React hooks and advanced transpiler stuff like <a href="https://github.com/facebook/regenerator">Regenerator</a> mean that your code’s stacktrace probably looks nothing like what you expect, with lots of internal garbage. Sure, you can learn better techniques for diagnosing and debugging errors, but it’s not just you - the debugging story in JavaScript is pretty bad. This applies even to Node.js, where one of the debugging stories is to connect Chrome’s debugger to a Node.js instance:&nbsp;a finicky solution that doesn’t consistently work.</p><p>In Rails, there is <a href="https://github.com/deivid-rodriguez/byebug">byebug</a>. You write <strong><code>byebug</code></strong> in your source code, and you get an interactive REPL right there. It works in views, controllers, database migrations, everywhere. It almost always works. Variables are named what you expect. The whole system is paused at that moment, and you can actually interact with it, using all of the Rails utilities and your installed gems.</p><p>If a page crashes unexpectedly, you get a similar REPL experience, in your browser, automatically. With an automatically cleaned-up stacktrace that excludes Rails’s own frames. Like the byebug interface, this REPL actually works and is consistently helpful in finding root causes. Rarely will you need to use <code>puts</code> to print something to the console because this debugging system is so good.</p><h3 id="the-magic-mostly-works">The magic mostly works</h3><p>Our Rails app didn’t have any <code>require</code> statements. You mention a module’s name, and it’s automatically included, using <a href="https://github.com/fxn/zeitwerk">Zeitwork</a>, a tool that comes standard with Rails.</p><p>This kind of system was terrifying to me before. What if you accidentally import something just by mentioning it? What if two things have the same name and you import the wrong one? How do you really know what’s happening? Sure, you’re happy now, with all of that annoying importing and exporting taken care of, but the sky might fall.</p><p>Or maybe it just… doesn’t. Maybe impure, vaguely risky techniques are just a net positive over time, and making everything fully explicit isn’t really necessary? Now when I’m using other systems, I wonder - what if I could just mention one of my React components and it would just… be there? Sure, the system would have to complain if there were two components with the same name, and it would have to make assumptions about directory structure, but overall, wouldn’t this be nice?</p><p>This applies to a lot of other parts of the system too. Rails is famous for doing pluralization - you name a model <code>Post</code> and you automatically get an interface called <code>posts</code>. But what, you ask, of words with uneven pluralization rules? Rails actually&nbsp;<a href="https://weblog.rubyonrails.org/2005/8/25/10-reasons-rails-does-pluralization/">does the right thing</a>, almost always. And when it fails, you can override it. It actually just saves time, reliably.</p><h3 id="testing-works">Testing works</h3><p>I’ve tried to test front-end applications. I’ve set up <a href="https://nightwatchjs.org/">nightwatch</a>, <a href="https://jestjs.io/">jest</a>, <a href="https://enzymejs.github.io/enzyme/">enzyme</a>, <a href="https://www.cypress.io/">cypress</a>, and probably 5-10 other frameworks. <em>Front-end testing is universally terrible.</em> Projects like Cypress are throwing untold hours into making it less terrible, taking on massive amounts of complexity to abstract away from fickle browser behavior and complex interactions.</p><p>But it still sucks. Frontend testing has no good attributes: it’s unreliable, hard to automate, hard to debug when it fails, and often doesn’t even assert for important behaviors, so it doesn’t actually identify regressions. Running frontend tests in CI is resource-heavy, requiring you to set up headless X windows environments on servers or use specialized CI services that produce screencasts of test runs.</p><p>Testing fully-server-rendered applications, on the other hand, is <em>amazing</em>. A vanilla testing setup with Rails &amp; <a href="https://rspec.info/">RSpec</a> can give you fast, stable, concise, and actually-useful test coverage. You can actually assert for behavior and navigate through an application like a user would. These tests are solving a simpler problem - making requests and parsing responses, without the need for a full browser or headless browser, without multiple kinds of state to track.</p><p>Not only do the tests work better, the testing culture is a completely different universe. There are entire books written about how to write RSpec tests that catch bugs, allow software evolution, and aren’t filled with boilerplate.</p><h3 id="gems-are-so-powerful">Gems are so powerful</h3><p>Powerful and dangerous.</p><p>I’m used to modules as they work in other systems - Python, Node, Elm, and so on. They provide objects, functions, and variables that you can import and combine into your code explicitly. Usually they sit on some specific level of abstraction - it’s a utility for connecting to servers or a React component you can use.</p><p>Gems can do so much more. You install something like <a href="https://github.com/heartcombo/devise">Devise</a> into your system and it adds views, routes, methods, utilities, you name it. It’s not like “loading some functions”, it’s more like composing a whole different app <em>into</em> your app, implicitly.</p><p>This is obviously terrifying. It means that you can’t look at your directories of views and your file of <code>routes.rb</code> and know what exists at a glance. There are other layers, lurking in the ephemeral space of third-party code. They interact in serious but uncertain ways.</p><p>But it’s also pretty incredible - the idea that something like <a href="http://www.passportjs.org/">passport</a>, Node’s middleware, could instead be a full-fledged authentication system. It means that you have to write a lot less code, and it also means that the people who <em>use</em> that code have a lot more code in common. That gems can work on a higher level of abstraction, making it possible to cobble together software faster, to write less ‘glue code.’</p><h3 id="theres-so-much-good-writing-about-rails">There’s so much good writing about Rails</h3><p>Even if you don’t write Ruby, you should pay attention to <a href="https://sandimetz.com/">Sandi Metz</a>. She’s incredibly wise and has so many incredible ideas to share.</p><p>And then there’s <a href="https://blog.arkency.com/">arkency</a>, <a href="https://thoughtbot.com/blog/">ThoughtBot</a>, and so many other thoughtful writers with years of experience in Rails. Sometimes it’s a little shocking to google for some obscure problem and see a decade of discussion about it.</p><p>The best practices are also formalized into tools like <a href="https://codeclimate.com/">Code Climate</a> and <a href="https://github.com/troessner/reek">reek</a>. I’ve never seen so many actually-useful suggestions come out of automated systems as I did in the world of Ruby and Rails.</p><h3 id="ruby">Ruby</h3><p>Ruby is a pretty pleasant language to work in. Sure, it has a lot of syntax and a sprawling standard library, but you don’t have to use all of that if you don’t want to. It took me a while to adjust to the object-oriented way of doing things - in particular, the idea that you can’t just have a free-range function floating out there, unassociated with a class or module, like you can in JavaScript. And you can’t just create an arbitrary one-off object - you either need to define a class to create an object, or use a Hash to store data.</p><p>But Ruby’s standard library isn’t that huge. I’ve seen JavaScript’s ‘standard library’ grow a lot too, and frankly it’s nice to have methods like <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/padStart"><code>String.prototype.padStart</code></a> instead of having every little thing in userspace. The only part that felt actively weird was <a href="https://rubygems.org/gems/activesupport/versions/6.1.1">activesupport</a> - a gem that extends Ruby’s core objects, but is part of Rails. It felt weird to have <em>string</em> methods that would only work if your environment was Rails.</p><p>The <a href="https://kapeli.com/dash">Dash</a> app for documentation rocketed from my pile of unused tools to an absolute must-have. In the world of Ruby and Rails, with <em>most</em> gems having pretty good, semi-standard documentation, you can search for, and get answers, super fast. The Ruby language documentation and the Rails documentation is absolutely great. The JavaScript equivalent - <a href="https://developer.mozilla.org/en-US/">MDN</a> - pales in comparison.</p><h2 id="the-bad">The bad</h2><h3 id="the-asset-pipeline">The asset pipeline</h3><p>Remember SASS and the YUI Compressor? These are, unfortunately, defaults in the <a href="https://guides.rubyonrails.org/asset_pipeline.html">asset pipeline</a>. There’s <a href="https://edgeguides.rubyonrails.org/webpacker.html">Webpacker</a> too, which has a parallel approach to CSS and images as the asset pipeline. It has <a href="https://github.com/rails/webpacker#integrations">opinionated integrations</a> with stuff like React. Ah, and I should mention that Rails’s <a href="https://github.com/rails/rails/tree/main/actionview/app/assets/javascripts">JavaScript utilities are written in… CoffeeScript</a>.</p><p>I get it - it’s hard to keep up with the latest trends in frontend. But this is one …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://macwright.com/2021/02/18/a-year-of-rails.html">https://macwright.com/2021/02/18/a-year-of-rails.html</a></em></p>]]>
            </description>
            <link>https://macwright.com/2021/02/18/a-year-of-rails.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26246487</guid>
            <pubDate>Wed, 24 Feb 2021 04:09:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Nx (Numerical Elixir) is now publicly available]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26246484">thread link</a>) | @lobo_tuerto
<br/>
February 23, 2021 | https://dashbit.co/blog/nx-numerical-elixir-is-now-publicly-available | <a href="https://web.archive.org/web/*/https://dashbit.co/blog/nx-numerical-elixir-is-now-publicly-available">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <article>
    
<ul>
  <li>
    <i></i> José Valim
  </li>
  <li>
    <i></i> February 18th, 2021
  </li>
  <li>
    <i></i><a href="https://dashbit.co/blog/tags/nx">nx</a>, <a href="https://dashbit.co/blog/tags/gpu">gpu</a>
  </li>
</ul>
<p><img src="https://dashbit.co/images/posts/2021/nx.png" alt="Nx" width="400"></p>
<p>
Sean Moriarity and I are glad to announce that the project we have been working on for the last 3 months, Nx, is finally <a href="https://github.com/elixir-nx/nx">publicly available on GitHub</a>. Our goal with Nx is to provide the foundation for Numerical Elixir.</p>
<p>
In this blog post, I am going to outline the work we have done so far, some of the design decisions, and what we are planning to explore next. If you are looking for other resources to learn about Nx, you can <a href="https://thinkingelixir.com/podcast-episodes/034-jose-valim-reveals-project-nx/">hear me unveiling Nx on the ThinkingElixir podcast</a>.</p>
<h2>
  Nx</h2>
<p>
Nx is a multi-dimensional tensors library for Elixir with multi-staged compilation to the CPU/GPU. Let’s see an example:</p>
<pre><code><span>iex&gt; </span><span>t</span><span> </span><span>=</span><span> </span><span>Nx</span><span>.</span><span>tensor</span><span data-group-id="8618334393-1">(</span><span data-group-id="8618334393-2">[</span><span data-group-id="8618334393-3">[</span><span>1</span><span>,</span><span> </span><span>2</span><span data-group-id="8618334393-3">]</span><span>,</span><span> </span><span data-group-id="8618334393-4">[</span><span>3</span><span>,</span><span> </span><span>4</span><span data-group-id="8618334393-4">]</span><span data-group-id="8618334393-2">]</span><span data-group-id="8618334393-1">)</span><span>
</span><span data-group-id="8618334393-5">#</span><span data-group-id="8618334393-5">Nx.Tensor</span><span data-group-id="8618334393-5">&lt;</span><span>
  </span><span>s64</span><span data-group-id="8618334393-6">[</span><span>2</span><span data-group-id="8618334393-6">]</span><span data-group-id="8618334393-7">[</span><span>2</span><span data-group-id="8618334393-7">]</span><span>
  </span><span data-group-id="8618334393-8">[</span><span>
    </span><span data-group-id="8618334393-9">[</span><span>1</span><span>,</span><span> </span><span>2</span><span data-group-id="8618334393-9">]</span><span>,</span><span>
    </span><span data-group-id="8618334393-10">[</span><span>3</span><span>,</span><span> </span><span>4</span><span data-group-id="8618334393-10">]</span><span>
  </span><span data-group-id="8618334393-8">]</span><span>
</span><span data-group-id="8618334393-5">&gt;</span></code></pre>
<p>
As you see, tensors have a type (s64) and a shape (2x2). Tensor operations are also done with the <code>Nx</code> module. To implement <a href="https://en.wikipedia.org/wiki/Softmax_function">the Softmax function</a>:</p>
<pre><code><span>iex&gt; </span><span>t</span><span> </span><span>=</span><span> </span><span>Nx</span><span>.</span><span>tensor</span><span data-group-id="7355051181-1">(</span><span data-group-id="7355051181-2">[</span><span data-group-id="7355051181-3">[</span><span>1</span><span>,</span><span> </span><span>2</span><span data-group-id="7355051181-3">]</span><span>,</span><span> </span><span data-group-id="7355051181-4">[</span><span>3</span><span>,</span><span> </span><span>4</span><span data-group-id="7355051181-4">]</span><span data-group-id="7355051181-2">]</span><span data-group-id="7355051181-1">)</span><span>
</span><span>iex&gt; </span><span>Nx</span><span>.</span><span>divide</span><span data-group-id="7355051181-5">(</span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="7355051181-6">(</span><span>t</span><span data-group-id="7355051181-6">)</span><span>,</span><span> </span><span>Nx</span><span>.</span><span>sum</span><span data-group-id="7355051181-7">(</span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="7355051181-8">(</span><span>t</span><span data-group-id="7355051181-8">)</span><span data-group-id="7355051181-7">)</span><span data-group-id="7355051181-5">)</span><span>
</span><span data-group-id="7355051181-9">#</span><span data-group-id="7355051181-9">Nx.Tensor</span><span data-group-id="7355051181-9">&lt;</span><span>
  </span><span>f64</span><span data-group-id="7355051181-10">[</span><span>2</span><span data-group-id="7355051181-10">]</span><span data-group-id="7355051181-11">[</span><span>2</span><span data-group-id="7355051181-11">]</span><span>
  </span><span data-group-id="7355051181-12">[</span><span>
    </span><span data-group-id="7355051181-13">[</span><span>0.03205860328008499</span><span>,</span><span> </span><span>0.08714431874203257</span><span data-group-id="7355051181-13">]</span><span>,</span><span>
    </span><span data-group-id="7355051181-14">[</span><span>0.23688281808991013</span><span>,</span><span> </span><span>0.6439142598879722</span><span data-group-id="7355051181-14">]</span><span>
  </span><span data-group-id="7355051181-12">]</span><span>
</span><span data-group-id="7355051181-9">&gt;</span></code></pre>
<p>
The high-level features in Nx are:</p>
<ul>
  <li>
    <p>
Typed multi-dimensional tensors, where the tensors can be unsigned integers (<code>u8</code>, <code>u16</code>, <code>u32</code>, <code>u64</code>), signed integers (<code>s8</code>, <code>s16</code>, <code>s32</code>, <code>s64</code>), floats (<code>f32</code>, <code>f64</code>) and brain floats (<code>bf16</code>);    </p>
  </li>
  <li>
    <p>
<a href="http://nlp.seas.harvard.edu/NamedTensor">Named tensors</a>, allowing developers to give names to each dimension, leading to more readable and less error prone codebases;    </p>
  </li>
  <li>
    <p>
Automatic differentiation, also known as autograd. The <code>grad</code> function provides reverse-mode differentiation, useful for simulations, training probabilistic models, etc;    </p>
  </li>
  <li>
    <p>
Tensors backends, which enables the main <code>Nx</code> API to be used to manipulate binary tensors, GPU-backed tensors, sparse matrices, and more;    </p>
  </li>
  <li>
    <p>
Numerical definitions, known as <code>defn</code>, provide multi-stage compilation of tensor operations to multiple targets, such as highly specialized CPU code or the GPU. The compilation can happen either ahead-of-time (AOT) or just-in-time (JIT) with a compiler of your choice;    </p>
  </li>
</ul>
<p>
For Python developers, <code>Nx</code> currently takes its main inspirations from <a href="https://numpy.org/"><code>Numpy</code></a> and <a href="https://github.com/google/jax"><code>JAX</code></a> but packaged into a single unified library.</p>
<p>
Our initial efforts have focused on the underlying abstractions. For example, while Nx implements dense tensors out-of-the-box, we also want the same high-level API to be valid for sparse tensors. You should also be able to use all functions in the <code>Nx</code> module with tensors that are backed by Elixir binaries and with tensors that are stored directly in the GPU.</p>
<p>
By ensuring the underlying tensor backend is ultimately replaceable, we can build an ecosystem of libraries on top of Nx, and allow end-users to experiment with different backends, hardware, and approaches to run their software on.</p>
<p>
<em>Nx’s mascot is the Numbat, a marsupial native to southern Australia. Unfortunately the Numbat are endangered and it is estimated to be fewer than 1000 left. If you are excited about Nx, consider donating to Numbat conservation efforts, such as <a href="https://www.numbat.org.au/">Project Numbat</a> and <a href="https://www.australianwildlife.org/">Australian Wildlife Conservancy</a>.</em></p>
<h2>
Numerical definitions</h2>
<p>
One of the most important features in <code>Nx</code> is the numerical definition, called <code>defn</code>. Numerical definitions are a subset of Elixir tailored for numerical computing. Here is the <code>softmax</code> formula above, now written with <code>defn</code>:</p>
<pre><code><span>defmodule</span><span> </span><span>Formula</span><span> </span><span data-group-id="4374234550-1">do</span><span>
  </span><span>import</span><span> </span><span>Nx.Defn</span><span>

  </span><span>defn</span><span> </span><span>softmax</span><span data-group-id="4374234550-2">(</span><span>t</span><span data-group-id="4374234550-2">)</span><span> </span><span data-group-id="4374234550-3">do</span><span>
    </span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="4374234550-4">(</span><span>t</span><span data-group-id="4374234550-4">)</span><span> </span><span>/</span><span> </span><span>Nx</span><span>.</span><span>sum</span><span data-group-id="4374234550-5">(</span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="4374234550-6">(</span><span>t</span><span data-group-id="4374234550-6">)</span><span data-group-id="4374234550-5">)</span><span>
  </span><span data-group-id="4374234550-3">end</span><span>
</span><span data-group-id="4374234550-1">end</span></code></pre>
<p>
The first difference we see with <code>defn</code> is that Elixir’s built-in operators have been augmented to also work with tensors. Effectively, <code>defn</code> replaces Elixir’s <code>Kernel</code> with <code>Nx.Defn.Kernel</code>.</p>
<p>
However, <code>defn</code> goes even further. When using <code>defn</code>, <code>Nx</code> builds a computation with all of your tensor operations. Let’s inspect it:</p>
<pre><code><span>defn</span><span> </span><span>softmax</span><span data-group-id="0485630283-1">(</span><span>t</span><span data-group-id="0485630283-1">)</span><span> </span><span data-group-id="0485630283-2">do</span><span>
  </span><span>inspect_expr</span><span data-group-id="0485630283-3">(</span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="0485630283-4">(</span><span>t</span><span data-group-id="0485630283-4">)</span><span> </span><span>/</span><span> </span><span>Nx</span><span>.</span><span>sum</span><span data-group-id="0485630283-5">(</span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="0485630283-6">(</span><span>t</span><span data-group-id="0485630283-6">)</span><span data-group-id="0485630283-5">)</span><span data-group-id="0485630283-3">)</span><span>
</span><span data-group-id="0485630283-2">end</span></code></pre>
<p>
Now when invoked, you will see this printed:</p>
<pre><code><span>iex(3)&gt; </span><span>Formula</span><span>.</span><span>softmax</span><span data-group-id="0315994704-1">(</span><span>Nx</span><span>.</span><span>tensor</span><span data-group-id="0315994704-2">(</span><span data-group-id="0315994704-3">[</span><span data-group-id="0315994704-4">[</span><span>1</span><span>,</span><span> </span><span>2</span><span data-group-id="0315994704-4">]</span><span>,</span><span> </span><span data-group-id="0315994704-5">[</span><span>3</span><span>,</span><span> </span><span>4</span><span data-group-id="0315994704-5">]</span><span data-group-id="0315994704-3">]</span><span data-group-id="0315994704-2">)</span><span data-group-id="0315994704-1">)</span><span>
</span><span data-group-id="0315994704-6">#</span><span data-group-id="0315994704-6">Nx.Tensor</span><span data-group-id="0315994704-6">&lt;</span><span>
  </span><span>f64</span><span data-group-id="0315994704-7">[</span><span>2</span><span data-group-id="0315994704-7">]</span><span data-group-id="0315994704-8">[</span><span>2</span><span data-group-id="0315994704-8">]</span><span>
  
  </span><span>Nx.Defn.Expr</span><span>
  </span><span>parameter</span><span> </span><span>a</span><span>                                 </span><span>s64</span><span data-group-id="0315994704-9">[</span><span>2</span><span data-group-id="0315994704-9">]</span><span data-group-id="0315994704-10">[</span><span>2</span><span data-group-id="0315994704-10">]</span><span>
  </span><span>b</span><span> </span><span>=</span><span> </span><span>exp</span><span> </span><span data-group-id="0315994704-11">[</span><span> </span><span>a</span><span> </span><span data-group-id="0315994704-11">]</span><span>                               </span><span>f64</span><span data-group-id="0315994704-12">[</span><span>2</span><span data-group-id="0315994704-12">]</span><span data-group-id="0315994704-13">[</span><span>2</span><span data-group-id="0315994704-13">]</span><span>
  </span><span>c</span><span> </span><span>=</span><span> </span><span>exp</span><span> </span><span data-group-id="0315994704-14">[</span><span> </span><span>a</span><span> </span><span data-group-id="0315994704-14">]</span><span>                               </span><span>f64</span><span data-group-id="0315994704-15">[</span><span>2</span><span data-group-id="0315994704-15">]</span><span data-group-id="0315994704-16">[</span><span>2</span><span data-group-id="0315994704-16">]</span><span>
  </span><span>d</span><span> </span><span>=</span><span> </span><span>sum</span><span> </span><span data-group-id="0315994704-17">[</span><span> </span><span>c</span><span>,</span><span> </span><span>axes</span><span>:</span><span> </span><span>nil</span><span>,</span><span> </span><span>keep_axes</span><span>:</span><span> </span><span>false</span><span> </span><span data-group-id="0315994704-17">]</span><span>  </span><span>f64</span><span>
  </span><span>e</span><span> </span><span>=</span><span> </span><span>divide</span><span> </span><span data-group-id="0315994704-18">[</span><span> </span><span>b</span><span>,</span><span> </span><span>d</span><span> </span><span data-group-id="0315994704-18">]</span><span>                         </span><span>f64</span><span data-group-id="0315994704-19">[</span><span>2</span><span data-group-id="0315994704-19">]</span><span data-group-id="0315994704-20">[</span><span>2</span><span data-group-id="0315994704-20">]</span><span>
</span><span data-group-id="0315994704-6">&gt;</span><span>
</span><span data-group-id="0315994704-21">#</span><span data-group-id="0315994704-21">Nx.Tensor</span><span data-group-id="0315994704-21">&lt;</span><span>
  </span><span>f64</span><span data-group-id="0315994704-22">[</span><span>2</span><span data-group-id="0315994704-22">]</span><span data-group-id="0315994704-23">[</span><span>2</span><span data-group-id="0315994704-23">]</span><span>
  </span><span data-group-id="0315994704-24">[</span><span>
    </span><span data-group-id="0315994704-25">[</span><span>0.03205860328008499</span><span>,</span><span> </span><span>0.08714431874203257</span><span data-group-id="0315994704-25">]</span><span>,</span><span>
    </span><span data-group-id="0315994704-26">[</span><span>0.23688281808991013</span><span>,</span><span> </span><span>0.6439142598879722</span><span data-group-id="0315994704-26">]</span><span>
  </span><span data-group-id="0315994704-24">]</span><span>
</span><span data-group-id="0315994704-21">&gt;</span></code></pre>
<p>
This computation graph can also be transformed programatically. The transformation is precisely how we implement automatic differentiation, also known as <code>autograd</code>, by traversing each node and computing their derivative:</p>
<pre><code><span>defn</span><span> </span><span>grad_softmax</span><span data-group-id="6961223907-1">(</span><span>t</span><span data-group-id="6961223907-1">)</span><span> </span><span data-group-id="6961223907-2">do</span><span>
  </span><span>grad</span><span data-group-id="6961223907-3">(</span><span>t</span><span>,</span><span> </span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="6961223907-4">(</span><span>t</span><span data-group-id="6961223907-4">)</span><span> </span><span>/</span><span> </span><span>Nx</span><span>.</span><span>sum</span><span data-group-id="6961223907-5">(</span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="6961223907-6">(</span><span>t</span><span data-group-id="6961223907-6">)</span><span data-group-id="6961223907-5">)</span><span data-group-id="6961223907-3">)</span><span>
</span><span data-group-id="6961223907-2">end</span></code></pre>
<p>
Finally, this computation graph can also be handed out to different compilers. As an example, we have implemented bindings for <a href="https://www.tensorflow.org/xla/">Google’s XLA</a> compiler, called EXLA. We can ask the <code>softmax</code> function to use this new compiler with a module attribute:</p>
<pre><code><span>@defn_compiler</span><span> </span><span data-group-id="9487003846-1">{</span><span>EXLA</span><span>,</span><span> </span><span>client</span><span>:</span><span> </span><span>:host</span><span data-group-id="9487003846-1">}</span><span>
</span><span>defn</span><span> </span><span>softmax</span><span data-group-id="9487003846-2">(</span><span>t</span><span data-group-id="9487003846-2">)</span><span> </span><span data-group-id="9487003846-3">do</span><span>
  </span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="9487003846-4">(</span><span>t</span><span data-group-id="9487003846-4">)</span><span> </span><span>/</span><span> </span><span>Nx</span><span>.</span><span>sum</span><span data-group-id="9487003846-5">(</span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="9487003846-6">(</span><span>t</span><span data-group-id="9487003846-6">)</span><span data-group-id="9487003846-5">)</span><span>
</span><span data-group-id="9487003846-3">end</span></code></pre>
<p>
Once <code>softmax</code> is called, <code>Nx.Defn</code> will invoke <code>EXLA</code> to emit a just-in-time and highly-specialized compiled version of the code, tailored to the tensor type and shape. By passing <code>client: :cuda</code> or <code>client: :rocm</code>, the code can be compiled for the GPU. For reference, here are some benchmarks of the function above when called with a tensor of one million random float values on different clients:</p>
<pre><code>Name                       ips        average  deviation         median         99th %
xla gpu f32 keep      15308.14      0.0653 ms    ±29.01%      0.0638 ms      0.0758 ms
xla gpu f64 keep       4550.59        0.22 ms     ±7.54%        0.22 ms        0.33 ms
xla cpu f32             434.21        2.30 ms     ±7.04%        2.26 ms        2.69 ms
xla gpu f32             398.45        2.51 ms     ±2.28%        2.50 ms        2.69 ms
xla gpu f64             190.27        5.26 ms     ±2.16%        5.23 ms        5.56 ms
xla cpu f64             168.25        5.94 ms     ±5.64%        5.88 ms        7.35 ms
elixir f32                3.22      311.01 ms     ±1.88%      309.69 ms      340.27 ms
elixir f64                3.11      321.70 ms     ±1.44%      322.10 ms      328.98 ms

Comparison:
xla gpu f32 keep      15308.14
xla gpu f64 keep       4550.59 - 3.36x slower +0.154 ms
xla cpu f32             434.21 - 35.26x slower +2.24 ms
xla gpu f32             398.45 - 38.42x slower +2.44 ms
xla gpu f64             190.27 - 80.46x slower +5.19 ms
xla cpu f64             168.25 - 90.98x slower +5.88 ms
elixir f32                3.22 - 4760.93x slower +310.94 ms
elixir f64                3.11 - 4924.56x slower +321.63 ms</code></pre>
<p>
Where <code>keep</code> indicates the tensor was kept on the device instead of being transferred back to Elixir. You can see the benchmark in the <a href="https://github.com/elixir-nx/nx/tree/main/exla/bench"><code>bench</code></a> directory and find some examples in the <a href="https://github.com/elixir-nx/nx/tree/main/exla/examples"><code>examples</code></a> directory of the EXLA project.</p>
<h3>
Compiling numerical definitions</h3>
<p>
Before moving forward, it is important for us to take a look at how numerical definitions are compiled. For example, take the <code>softmax</code> function:</p>
<pre><code><span>defn</span><span> </span><span>softmax</span><span data-group-id="0256028582-1">(</span><span>t</span><span data-group-id="0256028582-1">)</span><span> </span><span data-group-id="0256028582-2">do</span><span>
  </span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="0256028582-3">(</span><span>t</span><span data-group-id="0256028582-3">)</span><span> </span><span>/</span><span> </span><span>Nx</span><span>.</span><span>sum</span><span data-group-id="0256028582-4">(</span><span>Nx</span><span>.</span><span>exp</span><span data-group-id="0256028582-5">(</span><span>t</span><span data-group-id="0256028582-5">)</span><span data-group-id="0256028582-4">)</span><span>
</span><span data-group-id="0256028582-2">end</span></code></pre>
<p>
One might think that Elixir takes the AST of the softmax function above and compiles it directly to the GPU. However, that’s not the case! Numerical definitions are first compiled to Elixir code that will emit the computation graph and this computation graph is then compiled to the GPU. The multiple stages go like this:</p>
<pre><code>Elixir AST
-&gt; compiles to .beam (Erlang VM bytecode)
   -&gt; executes into defn AST
      -&gt; compiles to GPU</code></pre>
<p>
This multi-stage programming is made possible thanks to Elixir macros. For example, when you see a conditional inside <code>defn</code>, that conditional looks exactly like Elixir conditionals, but it will be compiled to an accelerator:</p>
<pre><code><span>defn</span><span> </span><span>softmax</span><span data-group-id="3414005179-1">(</span><span>t</span><span data-group-id="3414005179-1">)</span><span> </span><span data-group-id="3414005179-2">do</span><span>
  </span><span>if</span><span> </span><span>Nx</span><span>.</span><span>any?</span><span data-group-id="3414005179-3">(</span><span>t</span><span data-group-id="3414005179-3">)</span><span> </span><span data-group-id="3414005179-4">do</span><span>
    </span><span>-</span><span>1</span><span>
  </span><span data-group-id="3414005179-4">else</span><span>
    </span><span>1</span><span>
  </span><span data-group-id="3414005179-4">end</span><span>
</span><span data-group-id="3414005179-2">end</span></code></pre>
<p>
In a nutshell, <code>defn</code> provides us with a subset of Elixir for numerical computations that can be compiled to specific hardware, such as CPU, GPU, and other accelerators. All of this was possible without making changes or forking the language.</p>
<p>
And while <code>defn</code> is a subset of the language, it is a considerable one. You will find support for:</p>
<ul>
  <li>
Mathematical operators  </li>
  <li>
Pipes (<code>|&gt;</code>), module attributes, the access syntax (i.e. <code>tensor[1][1..-1]</code>), etc  </li>
  <li>
Elixir macros constructs (imports, aliases, etc)  </li>
  <li>
Control-flow with conditionals (both <code>if</code> and <code>cond</code>), loops (coming soon), etc  </li>
  <li>
Transformations, an explicit mechanism to invoke Elixir code from a <code>defn</code> (which enables constructs such as <code>grad</code>)  </li>
</ul>
<p>
And more coming down the road.</p>
<h2>
Why functional programming?</h2>
<p>
At this point, you may be wondering: is functional programming a good fit for numerical computing? One of the main concerns is that immutability can be expensive when working with large blobs of memory. And that’s a valid concern! In fact, when using the default tensor backend, tensors will be backed by Elixir binaries which are copied on every operation. That’s why it was critical for us to design <code>Nx</code> with pluggable backends from day one.</p>
<p>
However, as we move to higher-level abstractions, such as numerical definitions, we will start to reap the benefits of functional programming.</p>
<p>
For example, in order to build computation graphs, immutability becomes an indispensable tool both in terms of implementation and reasoning. The JAX library for Python, which has been one of the guiding lights for Nx design, also promotes functional and immutable principles:</p>
<blockquote>
  <p>
<em>JAX is intended to be used with a functional style of programming</em>  </p>
  <p>
— <a href="https://jax.readthedocs.io/en/latest/jax.ops.html?highlight=functional#indexed-update-operators">JAX Docs</a>  </p>
</blockquote>
<blockquote>
  <p>
<em>Unlike NumPy arrays, JAX arrays are always immutable</em>  </p>
  <p>
— <a href="https://jax.readthedocs.io/en/latest/notebooks/thinking_in_jax.html?highlight=immutable#JAX-vs.-NumPy">JAX Docs</a>  </p>
</blockquote>
<p>
Similarly, frameworks like <a href="https://thinc.ai/">Thinc.ai</a> argue that functional programming can provide better abstractions and more composable building blocks for deep learning libraries.</p>
<p>
We hope that, by exploring these concepts in a language that is functional by design, Elixir can bring new ideas and insights at the higher-level.</p>
<h2>
What is next?</h2>
<p>
There is a lot of work ahead of us and we definitely cannot …</p></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://dashbit.co/blog/nx-numerical-elixir-is-now-publicly-available">https://dashbit.co/blog/nx-numerical-elixir-is-now-publicly-available</a></em></p>]]>
            </description>
            <link>https://dashbit.co/blog/nx-numerical-elixir-is-now-publicly-available</link>
            <guid isPermaLink="false">hacker-news-small-sites-26246484</guid>
            <pubDate>Wed, 24 Feb 2021 04:09:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[USPS Selects Oshkosh Defense for Next Generation Delivery Vehicle Fleet]]>
            </title>
            <description>
<![CDATA[
Score 61 | Comments 82 (<a href="https://news.ycombinator.com/item?id=26246116">thread link</a>) | @jonbaer
<br/>
February 23, 2021 | https://oshkoshcorp.com/en/news/2-23-21-usps | <a href="https://web.archive.org/web/*/https://oshkoshcorp.com/en/news/2-23-21-usps">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <h3>USPS selects Oshkosh Defense for Next Generation Delivery Vehicle fleet</h3>
        <p><span>2/23/2021</span></p>

<p><span><strong><span>OSHKOSH, Wis. (February 23, 2021)</span></strong>&nbsp;—&nbsp;The U.S. Postal Service (USPS) announced today that it has awarded Oshkosh Defense, a wholly owned subsidiary of Oshkosh Corporation (NYSE: OSK),</span><span> an indefinite delivery, indefinite quantity (IDIQ) contract to produce the Next Generation Delivery Vehicle (NGDV), the USPS’s first large-scale fleet procurement in three decades. The competitively awarded contract allows for the delivery of between 50,000 and 165,000 vehicles over a period of 10 years.</span></p>
<p><span>“Oshkosh operates with unparalleled commitment to those who depend on our products and services to build, protect and serve communities around the world. We are honored to have been selected by the USPS to support their important work by manufacturing American-made Next Generation Delivery Vehicles that will connect every home and business across the United States for decades to come,” said John Pfeifer, President &amp; Chief Operating Officer, Oshkosh Corporation.</span></p>
<p><span>Oshkosh Defense will manufacture <span>both zero emission battery electric vehicles (BEV) and fuel-efficient low-emission internal combustion engine vehicles (ICE), </span>upgrading the USPS fleet to be increasingly sustainable. Under the contract announced today, the USPS has committed to pay Oshkosh Defense $482 million to initiate engineering efforts to finalize the production vehicle design, and for tooling and factory build-out activities that are necessary prior to vehicle production.</span></p>
<p><span>“Our century-long history of delivering products to customers, operating in some of the most demanding and severe conditions on the planet, uniquely positions us to bring exceptional reliability, safety, and maintainability to USPS’s Next Generation Delivery Vehicles,” said John Bryant, Executive Vice President, Oshkosh Corporation, and President, Oshkosh Defense. </span></p>
<p><span>“Partnering with trusted suppliers, we have developed a purpose-built solution to support the current and future needs of the USPS,” Bryant concluded. Production of the next generation delivery vehicle is expected to begin in 2023.</span></p>

<p><strong><span>About Oshkosh Defense</span></strong></p>
<p><span>Oshkosh Defense is a global leader in the design, production and sustainment of best-in-class military vehicles and mobility systems. As a pioneer of combat-ready vehicle solutions, Oshkosh develops and applies emerging technologies that advance troop safety and mission success. Setting the industry standard for sustaining fleet readiness, Oshkosh ensures every solution is supported worldwide throughout its entire life cycle.</span></p>
<p><span>Oshkosh Defense, LLC is an Oshkosh Corporation company [NYSE: OSK].</span></p>
<p><span>Learn more about Oshkosh Defense at </span><a href="https://urldefense.com/v3/__http:/www.oshkoshdefense.com/__;!!N96JrnIq8IfO5w!0oPVjCe_9XKiyt970eFZ2ETGHbOUaHqUzI1RM4BZtfkq8yBh8DIO8xn4LAG9LmLn1gg$"><span>oshkoshdefense.com</span></a><span>.&nbsp; </span></p>

<p><strong><span>About Oshkosh Corporation</span></strong></p>
<p><span>At Oshkosh (NYSE: OSK), we make innovative, mission-critical equipment to help everyday heroes advance communities around the world. Headquartered in Wisconsin, Oshkosh Corporation employs more than 14,000 team members worldwide, all united behind a common cause: to make a difference in people’s lives. Oshkosh products can be found in more than 150 countries under the brands of JLG®, Pierce®, Oshkosh® Defense, McNeilus®, IMT®, Frontline™, Jerr-Dan®, Oshkosh® Airport Products, Pratt Miller, and London™. For more information, visit </span><a href="https://urldefense.com/v3/__http:/oshkoshcorp.com__;!!N96JrnIq8IfO5w!0oPVjCe_9XKiyt970eFZ2ETGHbOUaHqUzI1RM4BZtfkq8yBh8DIO8xn4LAG9WR_C6yk$"><span>oshkoshcorp.com</span></a><span>.</span></p>
<p><sup><span>®</span></sup><span>, ™ All brand names referred to in this news release are trademarks of Oshkosh Corporation or its subsidiary companies.</span></p>



<p><span><strong><span>Forward Looking Statements</span></strong></span></p>
<p><span>This news release contains statements that the Company believes to be “forward-looking statements” within the meaning of the Private Securities Litigation Reform Act of 1995. All statements other than statements of historical fact, including, without limitation, statements regarding the Company’s future financial position, business strategy, targets, projected sales, costs, earnings, capital expenditures, debt levels and cash flows, and plans and objectives of management for future operations, are forward-looking statements. When used in this news release, words such as “may,” “will,” “expect,” “intend,” “estimate,” “anticipate,” “believe,” “should,” “project” or “plan” or the negative thereof or variations thereon or similar terminology are generally intended to identify forward-looking statements. These forward-looking statements are not guarantees of future performance and are subject to risks, uncertainties, assumptions and other factors, some of which are beyond the Company’s control, which could cause actual results to differ materially from those expressed or implied by such forward-looking statements. These factors include the overall impact of the COVID-19 pandemic on the Company’s business, results of operations and financial condition; the duration and severity of the COVID-19 pandemic; actions that may be taken by governmental authorities and others to address or otherwise mitigate the impact of the COVID-19 pandemic; the negative impacts of the COVID-19 pandemic on global economies and the Company’s customers, suppliers and employees; the cyclical nature of the Company’s access equipment, commercial and fire &amp; emergency markets, which are particularly impacted by the strength of U.S. and European economies and construction seasons; the Company’s ability to increase prices or impose surcharges to raise margins or to offset higher input costs, including increased commodity, raw material, labor and freight costs; the Company’s estimates of access equipment demand which, among other factors, is influenced by customer historical buying patterns and rental company fleet replacement strategies; the strength of the U.S. dollar and its impact on Company exports, </span><span>translation of foreign sales and the cost of purchased materials; the expected level and timing of U.S. Department of Defense (DoD) and international defense customer procurement of products and services and acceptance of and funding or payments for such products and services; the Company’s ability to predict the level and timing of orders for indefinite delivery/indefinite quantity contracts with the U.S. federal government; risks related to reductions in government expenditures in light of U.S. defense budget pressures and an uncertain DoD tactical wheeled vehicle strategy; the impact of any DoD solicitation for competition for future contracts to produce military vehicles; potential impacts of budget constraints facing the USPS and continuously changing demands for postal services; risks related to facilities expansion, consolidation and alignment, including the amounts of related costs and charges and that anticipated cost savings may not be achieved; projected adoption rates of work at height machinery in emerging markets; the impact of severe weather, natural disasters or pandemics that may affect the Company, its suppliers or its customers; performance issues with suppliers or subcontractors; risks related to the collectability of receivables, particularly for those businesses with exposure to construction markets; the cost of any warranty campaigns related to the Company’s products; risks associated with international operations and sales, including compliance with the Foreign Corrupt Practices Act; risks that a trade war and related tariffs could reduce the competitiveness of the Company’s products; the Company’s ability to comply with complex laws and regulations applicable to U.S. government contractors; cybersecurity risks and costs of defending against, mitigating and responding to data security threats and breaches; the Company’s ability to successfully identify, complete and integrate acquisitions and to realize the anticipated benefits associated with the same; and risks related to the Company’s ability to successfully execute on its strategic road map and meet its long-term financial goals. Additional information concerning these and other factors is contained in the Company’s filings with the Securities and Exchange Commission. All forward-looking statements speak only as of the date of this news release. The Company assumes no obligation, and disclaims any obligation, to update information contained in this news release. Investors should be aware that the Company may not update such information until the Company’s next quarterly earnings conference call, if at all.</span></p>

<p><span>For more information, contact:</span></p>
<p><span><br>
Financial:<br>
Patrick Davidson<br>
Senior Vice President, Investor Relations<br>
920.502.3266</span></p>
<p><span>Media:<br>
Bryan Brandt<br>
Senior Vice President, Chief Marketing Officer<br>
920.502.3670</span></p>
<p><span>Alexandra Hittle<br>
Director, Global Marketing and Communications<br>
920.410.1929</span></p>
<p><span><br>
Source: Oshkosh Corporation</span></p>
    </div></div>]]>
            </description>
            <link>https://oshkoshcorp.com/en/news/2-23-21-usps</link>
            <guid isPermaLink="false">hacker-news-small-sites-26246116</guid>
            <pubDate>Wed, 24 Feb 2021 02:59:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Making Games on Your Own as an Engineer]]>
            </title>
            <description>
<![CDATA[
Score 340 | Comments 64 (<a href="https://news.ycombinator.com/item?id=26246049">thread link</a>) | @Eyas
<br/>
February 23, 2021 | https://blog.eyas.sh/2021/02/unity-for-engineers-pt11-development-process/ | <a href="https://web.archive.org/web/*/https://blog.eyas.sh/2021/02/unity-for-engineers-pt11-development-process/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>In the <strong><a href="https://blog.eyas.sh/tag/unity-for-software-engineers">Unity for Software Engineers</a></strong>
series, I give an accelerated introduction to game development in Unity.
<a href="http://eepurl.com/gVgusL">Subscribers</a> have been following this series over the
past few months, often suggesting areas to cover or elaborate on. A few months
ago, a reader<!-- -->—<!-- -->also a software engineer<!-- -->—<!-- -->reached out to me (lightly
edited, emphasis mine):</p><blockquote><p><strong>The biggest unknown for me is: How do I start?</strong> What does the process of
creating a game look like? Should I build the scenes first? Should I design
the gameplay mechanics first? With business software, it’s much more familiar.
It’s easy to think, “Well, okay, I need to write the DAO or controller, etc.”
But with games, I’m lost.</p></blockquote><p>While there is no single correct answer, we can still make some distinctions
that can help get us oriented. The answer will also undoubtedly depend on <em>who</em>
is doing the development: an individual, small indie team, or larger studio? If
an individual, the answer will also depend on their primary skillset: a
developer, artist, or designer?</p><p>Here, I’ll give heuristics especially helpful for individual Software Engineers
building a game on their own as a side project, hobby, or proof-of-concept.</p><figure><p><span>
      <a href="https://blog.eyas.sh/static/f30aee52607429436af23a48362a8fd5/56037/irfan-simsar-wxWulfjN-G0-unsplash.jpg" target="_blank" rel="noopener">
    <span></span>
  <picture>
          <source srcset="https://blog.eyas.sh/static/f30aee52607429436af23a48362a8fd5/28a80/irfan-simsar-wxWulfjN-G0-unsplash.webp 400w,https://blog.eyas.sh/static/f30aee52607429436af23a48362a8fd5/8d2ea/irfan-simsar-wxWulfjN-G0-unsplash.webp 800w,https://blog.eyas.sh/static/f30aee52607429436af23a48362a8fd5/43d96/irfan-simsar-wxWulfjN-G0-unsplash.webp 1600w,https://blog.eyas.sh/static/f30aee52607429436af23a48362a8fd5/4293a/irfan-simsar-wxWulfjN-G0-unsplash.webp 2400w,https://blog.eyas.sh/static/f30aee52607429436af23a48362a8fd5/dc28f/irfan-simsar-wxWulfjN-G0-unsplash.webp 2448w" sizes="(max-width: 1600px) 100vw, 1600px" type="image/webp">
          <source srcset="https://blog.eyas.sh/static/f30aee52607429436af23a48362a8fd5/4cda9/irfan-simsar-wxWulfjN-G0-unsplash.jpg 400w,https://blog.eyas.sh/static/f30aee52607429436af23a48362a8fd5/c60e9/irfan-simsar-wxWulfjN-G0-unsplash.jpg 800w,https://blog.eyas.sh/static/f30aee52607429436af23a48362a8fd5/56dca/irfan-simsar-wxWulfjN-G0-unsplash.jpg 1600w,https://blog.eyas.sh/static/f30aee52607429436af23a48362a8fd5/111a0/irfan-simsar-wxWulfjN-G0-unsplash.jpg 2400w,https://blog.eyas.sh/static/f30aee52607429436af23a48362a8fd5/56037/irfan-simsar-wxWulfjN-G0-unsplash.jpg 2448w" sizes="(max-width: 1600px) 100vw, 1600px" type="image/jpeg">
          <img src="https://blog.eyas.sh/static/f30aee52607429436af23a48362a8fd5/56dca/irfan-simsar-wxWulfjN-G0-unsplash.jpg" alt="Scrum board, at an office" title="Scrum board, at an office" loading="lazy">
        </picture>
  </a>
    </span></p><figcaption><p>Photo by İrfan Simsar, <a href="https://unsplash.com/photos/wxWulfjN-G0">via unsplash</a>.</p></figcaption></figure><h2>Questions you should ask yourself</h2><p>Before we start, here are some questions you should ask yourself.</p><h3>Do you know <em>what</em> you’re building?</h3><p>Do you know what your game is about? Do you have a sense of what game mechanics
your game will have? Do you know what genre, controls, and themes this game will
have?</p><p>If <em>yes</em>, you’re ready to decide <strong><a href="#start-coding">where to start coding</a></strong>.
Otherwise, you have a few more questions to ask yourself.</p><h3>Do you <em>want</em> to know what you’re building?</h3><p>It’s totally fine not to have a project in mind! Maybe you’re prototyping.
Perhaps you’re throwing a bunch of mini-games on the wall and seeing what
sticks. Or you’re looking for inspiration and trying to implement random
mechanics to see what feels fun.</p><p><strong>If you’re hoping to begin working on a specific, cohesive game</strong>, you will
likely want to know what you’re building. Consider brainstorming and sketching
out an informal
<a href="https://en.wikipedia.org/wiki/Game_design_document">game design document</a>.
There are
<a href="https://www.google.com/search?q=game+design+document+template">plenty of templates</a>
of various levels of detail you could decide to use. Especially as a software
engineer toying with abstract ideas in my brain, I’ll start with a super
high-level GDD, covering the feel, themes, genre, and mechanics of the game I
have in mind. Maybe a few pictures or sketches for inspiration, and that’s it.
The key part of this exercise will be the list of mechanics I’m working on.</p><p><strong>If you want to prototype and experiment</strong>, you should already have a vague
sense of 1-2 mechanics that could be fun: Maybe unusual movement or a different
control scheme. It could be a traditional mechanic that you’re wondering how to
implement. For instance, I might decide to build a 3rd Person character and
camera controller to see the “feel” of it, experiment with it a tiny bit, and do
something smooth and polish that I feel good about. I might end up keeping that
code in my back pocket for later, or I might use play-through sessions with that
controller to move around a scene, add a few assets, and use that as a starting
place to see the “feel” various mechanics and designs.</p><h2 id="start-coding">I know the mechanics I care about. Now what?</h2><figure><p><span>
      <a href="https://blog.eyas.sh/static/b09385282504ca9896553256d7953148/e8f7f/iterative-development.jpg" target="_blank" rel="noopener">
    <span></span>
  <picture>
          <source srcset="https://blog.eyas.sh/static/b09385282504ca9896553256d7953148/28a80/iterative-development.webp 400w,https://blog.eyas.sh/static/b09385282504ca9896553256d7953148/dfbce/iterative-development.webp 499w" sizes="(max-width: 499px) 100vw, 499px" type="image/webp">
          <source srcset="https://blog.eyas.sh/static/b09385282504ca9896553256d7953148/4cda9/iterative-development.jpg 400w,https://blog.eyas.sh/static/b09385282504ca9896553256d7953148/e8f7f/iterative-development.jpg 499w" sizes="(max-width: 499px) 100vw, 499px" type="image/jpeg">
          <img src="https://blog.eyas.sh/static/b09385282504ca9896553256d7953148/e8f7f/iterative-development.jpg" alt="Spiral graph showing a representation of iterative development, between three axes: Plan, Build, and Test." title="Spiral graph showing a representation of iterative development, between three axes: Plan, Build, and Test." loading="lazy">
        </picture>
  </a>
    </span></p><figcaption><p>By Dave Gray, <a href="https://www.flickr.com/photos/davegray/6865783267">via Flickr</a>.
<a href="https://creativecommons.org/licenses/by-nd/2.0/">CC BY-ND 2.0</a>.</p></figcaption></figure><p>The goal of many iterative software development models is to de-risk software
development. You do that by failing fast and getting feedback early. In game
development, the primary metric for success is a feeling: the game should be
fun. So, when deciding what to start with when working on a game, one good
question to ask is: <em>“How can I see if this game is fun as soon as possible?”</em>
or <em>“How can I implement the ‘fun’ part of the game ASAP?”</em></p><p>One way to do that is to look at a game’s mechanics and implement them in some
order. The advice that resonates with me is implementing game mechanics in order
of what the most <em>“core”</em> mechanic first.</p><figure><p><span>
      <a href="https://blog.eyas.sh/static/94dc51f1aee3ae0db91cc4adef00ac50/a331c/scrolling-shooter-example.png" target="_blank" rel="noopener">
    <span></span>
  <picture>
          <source srcset="https://blog.eyas.sh/static/94dc51f1aee3ae0db91cc4adef00ac50/28a80/scrolling-shooter-example.webp 400w,https://blog.eyas.sh/static/94dc51f1aee3ae0db91cc4adef00ac50/8d2ea/scrolling-shooter-example.webp 800w" sizes="(max-width: 800px) 100vw, 800px" type="image/webp">
          <source srcset="https://blog.eyas.sh/static/94dc51f1aee3ae0db91cc4adef00ac50/a3397/scrolling-shooter-example.png 400w,https://blog.eyas.sh/static/94dc51f1aee3ae0db91cc4adef00ac50/a331c/scrolling-shooter-example.png 800w" sizes="(max-width: 800px) 100vw, 800px" type="image/png">
          <img src="https://blog.eyas.sh/static/94dc51f1aee3ae0db91cc4adef00ac50/a331c/scrolling-shooter-example.png" alt="Example of a space scrolling shooter game" title="Example of a space scrolling shooter game" loading="lazy">
        </picture>
  </a>
    </span></p><figcaption><p>Space Scrolling Shooter. By Beyond2000, via
<a href="https://commons.wikimedia.org/wiki/File:RosAsmGameSpace.png">Wikimedia Commons</a>.
<a href="https://creativecommons.org/licenses/by-sa/3.0/deed.en">CC BY-SA 3.0</a>.</p></figcaption></figure><p>Let’s take <a href="https://en.wikipedia.org/wiki/Strikers_1945">Strikers 1945</a>—the
plane shooting game—as an example. Here’s my attempt at writing its main
mechanics in descending order of importance:</p><ol><li>Movement: Navigate a vertically scrolling world</li><li>Obstacles &amp; Dodging: Player can collide with stationary obstacles and debris</li><li>Shooting: Player can shoot straight ahead to defeat obstacles</li><li>Enemies: Enemies are moving obstacles that can shoot back</li><li>Player Health: A player can take a finite number of hits before losing the
game</li><li>Enemy Health: Some enemies take multiple shots to destroy</li><li>Boosts: The player can pick up boosts that improve health, shooting, etc.</li></ol><p>… and so on.</p><p>If I’m trying to develop <em>1945</em> from scratch, I will implement that list in that
order. The game’s mechanics build on each other, so I can only tell if shooting
is “fun” is if I can move around the screen and if there are obstacles I’m
trying to clear (otherwise, there’s no urgency to just pressing <em>Space</em> and
seeing projectiles coming out of a plane).</p><p>In simpler games, we might order our mechanics so that every new feature adds to
a game’s feel. So, with every new mechanic you add, you can play the game and
tell if it’s adding what you hope for it to add.</p><p>In more complex games, some of the “core” mechanics might be too ‘standard’ to
be “risky” <em>per se</em>, but you’ll still need the core mechanics implemented to
assess how fun the other mechanics are. You might choose to use a simpler
throwaway implementation, like a few lines of input-handling code and Unity’s
<code>CharacterController</code> component. You’ll want your core mechanics just smooth
enough that they don’t ruin the fun of the things you’ll layer on top of it.
Another approach here is to use the asset store. I’ve previously mentioned the
<a href="https://assetstore.unity.com/packages/tools/game-toolkits/ufps-ultimate-fps-106748?aid=1011leWs6">Ultimate FPS (UFPS)</a>
asset, which you might choose to use when building an FPS game, and move on to
implementing the combat or some more unique (but still “core” feature of the
gameplay first).</p><h2>So I picked a mechanic, but where do I start programming <em>within</em> this mechanic?</h2><p><em>Within</em> a mechanic, your traditional software engineering intuition becomes
helpful. I hope to spend subsequent articles discussing patterns that are
especially helpful in Unity, but here are a few to consider:</p><ul><li>Work within Unity’s Object-Component paradigm. If you’re adding a new
<em>capability</em> to your player, write it as its own component.</li><li><em>Tuning</em> is especially important in game development; representing a
mechanic’s interesting pieces as <em>configurable</em>, <em>serializable</em> data that
can be input to a component will help you playtest and iterate.</li><li>Don’t shy away from using plain-old data objects to represent core concepts
you’re working with. E.g., health, ammo information, or powerups. Make it
serializable if you want it passed around in the editor (or saved to disk
across sessions).</li><li>Where pieces of a concept don’t correspond to a single object in a scene,
consider using Scriptable Objects to do the jobs. Scriptable Objects
introduce many patterns that might help represent what you’re doing.</li></ul><p>A few articles I have already written might prove helpful:</p><ul><li><a href="https://blog.eyas.sh/2020/10/unity-for-engineers-pt1-basic-concepts/">Basic Concepts in Unity for Software Engineers</a></li><li><a href="https://blog.eyas.sh/2020/10/unity-for-engineers-pt2-six-practices/">6 Software Practices to Keep, Shed, and Adopt in Unity</a></li><li><a href="https://blog.eyas.sh/2020/09/patterns-in-unity-adventure-tutorial/">Making Sense of Patterns in Unity’s Adventure Game Tutorial</a></li><li><a href="https://blog.eyas.sh/2020/10/unity-for-engineers-pt5-object-component/">Understanding Unity Engine Objects</a></li></ul><p>You might also take a look at patterns covered in:</p><ul><li><a href="https://unity.com/how-to/architect-game-code-scriptable-objects">Three ways to architect your game with ScriptableObjects</a>,
via the Unity Blog (based on
<a href="https://www.youtube.com/watch?v=raQ3iHhE_Kk">his talk</a>)</li><li><a href="https://blog.eyas.sh/2020/10/unity-for-engineers-pt3-input-system/">Unity Input System, from Basic Principles</a></li><li><a href="https://blog.eyas.sh/2020/11/unity-for-engineers-pt10-1-pathfinding/">Pathfinding with NavMesh</a></li><li><a href="https://blog.eyas.sh/2020/11/unity-for-engineers-pt10-2-raycasting/">Physics Raycasting</a></li></ul><p>Once you have a stronger intuition of <em>how</em> you can represent different kinds of
data and abstractions, the reader’s initial comment also becomes the answer:</p><blockquote><p>It’s easy to think, “Well, okay, I need to write the DAO or controller, etc.”
But with games, I’m lost.</p></blockquote><p>Beyond learning about useful patterns and abstractions in game development to
make development clearer and cleaner, the real takeaway is to decide <em>what</em> to
work on at a macro-level.</p><h2>How much time should I spend on one mechanic?</h2><p>As you’re developing a mechanic, what’s a good signal you should move on to the
next on your list? Generally, that would be when you’re convinced:</p><ul><li>This mechanic <em>feels fun</em> and <em>adds to the game</em>,</li><li>Your implementation adds <em>just the
<a href="https://www.e4developer.com/2018/11/21/having-just-the-right-amount-of-technical-debt/">right amount</a></em>
of technical debt.</li></ul><p>Traditionally, folks will often say to worry about polish at the later stages of
your development. In his GDC 2016 micro-talk <em>“Pizzazz First, Polish Later”</em>,
Lee Perry makes a distinction in this traditional wisdom.</p><div> <p> <iframe title="" src="https://www.youtube.com/embed/d8QAVGeEj-U?rel=0" allowfullscreen=""></iframe> </p> </div><p>Certain levels of pizzazz might give you a better sense of your mechanic and how
fun it feels. A certain amount of polish or pizzazz can also help you see your
game in a new light and motivate you to keep going.
<a href="https://gameanalytics.com/blog/squeezing-more-juice-out-of-your-game-design/">Juice</a>
is another form of pizzazz; in certain dull moments of your game design, adding
juice might be a low-cost way to get back into the groove of things.</p><p>I hope the conflicting advice shows there isn’t a silver bullet on what to add
when. Rather—as in traditional software development—this choice is about a
series of trade-offs that depend on the developer, the project, and lots more.</p><h2>Are you developing a game or architecting systems?</h2><p>For some software engineers, we’re often drawn to writing code for systems that
seem <em>interesting</em>. Sometimes, I have a game in mind, but <em>really</em>, I’m
interested in implementing a cool inventory system where <em>everything</em> in the
game is an item. It might not be the core mechanic, but it might be the thing I
want to build.</p><p>It’s important to recognize when you’re not building a game but building a
system. If you just quit your job to be a full-time indie gamedev and have a
year of runway before your run out of cash, it is probably a bad idea to start
building a complex inventory system that you don’t even know you’ll need<sup id="fnref-1"><a href="#fn-1">1</a></sup>.
But if you’re programming on the side to flex your game development muscle, then
go right at it.</p><hr><p>I don’t think I’m qualified <em>per se</em> to answer the …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.eyas.sh/2021/02/unity-for-engineers-pt11-development-process/">https://blog.eyas.sh/2021/02/unity-for-engineers-pt11-development-process/</a></em></p>]]>
            </description>
            <link>https://blog.eyas.sh/2021/02/unity-for-engineers-pt11-development-process/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26246049</guid>
            <pubDate>Wed, 24 Feb 2021 02:49:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[BCC to Libbpf Conversion]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26246012">thread link</a>) | @harporoeder
<br/>
February 23, 2021 | https://facebookmicrosites.github.io/bpf/blog/2020/02/20/bcc-to-libbpf-howto-guide.html | <a href="https://web.archive.org/web/*/https://facebookmicrosites.github.io/bpf/blog/2020/02/20/bcc-to-libbpf-howto-guide.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p><span><p>A practical guide to converting your BCC-based BPF application to libbpf + BPF CO-RE.</p>
<!--truncate-->

<h2>Why libbpf and BPF CO-RE?</h2>
<p>Historically, <a href="https://github.com/iovisor/bcc/">BCC</a> was a framework of choice when you had to develop a BPF application that required peering into the internals of kernel when implementing all sorts of tracing BPF programs. BCC provided a built-in Clang compiler that could compile your BPF code in runtime, tailoring it to a specific target kernel on the host. This was the only way to develop a maintainable BPF application that had to deal with internals of ever-changing kernel. See <a href="https://facebookmicrosites.github.io/bpf/blog/2020/02/19/bpf-portability-and-co-re.html">“BPF Portability and CO-RE”</a> post, which does a better and more detailed job explaining why is that so and why BCC was previously pretty much the only viable choice. It also explains why <a href="https://github.com/libbpf/libbpf">libbpf</a> is a good choice now. Libbpf over last year got a major boost in capabilities and sophistication, closed many existing gaps with BCC, especially for tracing applications, and also gained lots of new and powerful features not available in BCC (for instance, global variables and BPF skeletons).</p>
<p>Granted, BCC is going to great lengths to simplify BPF developer’s life, but sometimes that extra convenience gets in the way and makes it actually harder to figure out what’s wrong and how to fix it. It feels like BCC simply has too much magic at times. You have to remember naming conventions and auto-generated structs for tracepoints. You have to rely on code rewriting to read kernel data and fetch kprobe arguments. You’ll write a semi-object-oriented C code when working with BPF maps, which doesn’t exactly match what really happens in kernel. And despite all the magic, BCC will still make you write a bunch of boilerplate code in user-space part of your application, setting up most trivial pieces by hand.</p>
<p>As mentioned above, BCC relies on runtime compilation and brings the entire huge LLVM/Clang library in and embeds it inside itself. This has many consequences, all of which are less than ideal:</p>
<ul>
<li>heavy resource utilization (both memory and CPU) during compilation, potentially disrupting main workflow on a busy server;</li>
<li>dependency on kernel headers package, that has to be installed on every target host. And even then, if you need something from kernel that is not exposed through public headers – you’ll need to copy/paste type definitions into your BPF code by hand to get your work done;</li>
<li>even a trivial compilation-time errors are detecte only during the runtime, after you’ve rebuilt and restarted your user-space application completely; this significantly reduces development iteration time (and increases frustration levels...)</li>
</ul>
<p>Libbpf + BPF CO-RE (Compile Once – Run Everywhere) chose a different way. Their philosophy is that BPF programs are not much different from any “normal” user-space program: they ought to be compiled once into small binaries and then deployed unmodified in a compact form to target hosts. Libbpf plays the role of BPF program loader, performing mundane set up work (relocations, loading and verifying BPF programs, creating BPF maps, attaching to BPF hooks, etc), letting developers worry only about BPF program correctness and performance. Such approach keeps overhead to the minimum, eliminates heavy dependencies, makes overall developer experience much more pleasant.</p>
<p>In terms of APIs and code conventions, libbpf sticks to the philosophy of the least surprise, which means that most of the things have to be spelled out explicitly: there won’t be any implicitly included headers and no code rewriting. Just plain C code and a healthy dose of helper macro to eliminate most mundane parts. Other than that, what you write is what gets executed and the structure of your BPF application is 1-to-1 with what kernel ultimately verifies and executes.</p>
<p>These guidelines were written to make BCC to libbpf + BPF CO-RE conversion process easier, faster, and less painful. They explain various preliminary set up steps, outline common patterns, explains differences, problems, and gotchas, which you inevitably will encounter due to differences between BCC and libbpf.</p>
<p>Switching from BCC to vanilla libbpf + BPF CO-RE might feel unusual and confusing at first, but you’ll get a hang of it pretty quickly and will appreciate libbpf’s explicitness and straightforwardness next time you run into a compilation or verification problem.</p>
<p><em>Also, keep in mind that a bunch of Clang features used for BPF CO-RE are pretty new, so you’ll need a Clang 10 or newer to make all this work.</em></p>
<h2>Setting up user-space parts</h2>
<h3>Building everything</h3>
<p>Building libbpf-based BPF application using BPF CO-RE consists of few steps:</p>
<ul>
<li>generating <code>vmlinux.h</code> header file with all kernel types;</li>
<li>compiling your BPF program source code using recent Clang (version 10 or newer) into <code>.o</code> object file;</li>
<li>generating BPF skeleton header file from compiled BPF object file;</li>
<li>including generated BPF skeleton header to use from user-space code;</li>
<li>then, at last, compiling user-space code, which will get BPF object code embedded in it, so that you don’t have to distribute extra files with your application.</li>
</ul>
<p>How exactly this is done will depend on your specific setup and build system, which can’t be addressed here in enough details. For one way to do this please check <a href="https://github.com/iovisor/bcc/tree/master/libbpf-tools">BCC’s libbpf-tools</a>, which set up a generic Makefile rules that take care of all this for you in a succinct manner.</p>
<p>When BPF code is compiled and BPF skeleton is generated, include libbpf and skeleton headers in your user-space code to have necessary APIs ready to be used:</p>
<pre><code><span>#<span>include</span> <span>&lt;bpf/bpf.h&gt;</span></span>
<span>#<span>include</span> <span>&lt;bpf/libbpf.h&gt;</span></span>
<span>#<span>include</span> <span>"path/to/your/skeleton.skel.h"</span></span>
</code></pre>
<h3>Locked memory limits</h3>
<p>BPF is using locked memory for BPF maps and various other things. By default, this limit is very low, so unless it’s increased, even a trivial BPF program won’t load successfully into kernel. BCC unconditionally sets this limit to infinity, but libbpf doesn’t do this automatically (by design).</p>
<p>Depending on your production environment, there might be better and more preferred ways of doing this. But for quick experimentation or if there is no better way of doing this, you can do it yourself through <a href="http://man7.org/linux/man-pages/man2/setrlimit.2.html">setrlimit(2)</a> syscall, which should be called at the very beginning of your program:</p>
<pre><code>    <span>#<span>include</span> <span>&lt;sys/resource.h&gt;</span></span>

    rlimit rlim = {
        .rlim_cur = <span>512U</span>L &lt;&lt; <span>20</span>, 
        .rlim_max = <span>512U</span>L &lt;&lt; <span>20</span>, 
    };

    err = setrlimit(RLIMIT_MEMLOCK, &amp;rlim);
    <span>if</span> (err)
        
</code></pre>
<h3>Libbpf log</h3>
<p>When something doesn’t work as expected, the best way to start investigating is to look at libbpf log output. Libbpf outputs a bunch of useful logs at various levels of verbosity. By default, libbpf will emit error-level output to console. We recommend installing a custom logging callback and set up ability to turn on/off verbose debug-level output:</p>
<pre><code><span><span>int</span> <span>print_libbpf_log</span><span>(<span>enum</span> libbpf_print_level lvl, <span>const</span> <span>char</span> *fmt, va_list args)</span> </span>{
    <span>if</span> (!FLAGS_bpf_libbpf_debug &amp;&amp; lvl &gt;= LIBBPF_DEBUG)
        <span>return</span> <span>0</span>;
    <span>return</span> <span>vfprintf</span>(<span>stderr</span>, fmt, args);
}



libbpf_set_print(print_libbpf_log); 
</code></pre>
<h3>BPF skeleton and BPF app lifecycle</h3>
<p>Detailed explanation of using BPF skeleton (and libbpf API in general) is beyond the scope of this document, existing <a href="https://git.kernel.org/pub/scm/linux/kernel/git/bpf/bpf-next.git/tree/tools/testing/selftests/bpf">kernel selftests</a> and BCC <a href="https://github.com/iovisor/bcc/tree/master/libbpf-tools">libbpf-tools examples</a> are probably the best way to get a feel for it. Check out <a href="https://github.com/iovisor/bcc/blob/master/libbpf-tools/runqslower.c">runqslower</a> example as a simple but real tool utilizing skeleton.</p>
<p>Nevertheless, it’s useful to explain main libbpf concepts and phases that each BPF application goes through. BPF application consists of a set of BPF programs, either co-operating or completely independent, and BPF maps and global variables, shared between all BPF programs (allowing them to co-operate on common set of data). BPF maps and global variables are also accessible from user-space (we interchangeably refer to user-space part of application as a “control app”), allowing control app to get or set any extra data necessary. BPF application typically goes through the following phases:</p>
<ul>
<li><strong>Open phase.</strong> BPF object file is parsed: BPF maps, BPF programs, and global variables are discovered, but not yet created. After a BPF app is opened, it’s possible to make any additional adjustments (setting BPF program types, if necessary; pre-setting initial values for global variables, etc), before all the entities are created and loaded.</li>
<li><strong>Load phase.</strong> BPF maps are created, various relocations are resolved, BPF programs are loaded into the kernel and verified. At this point, all the parts of a BPF application are validated and exist in kernel, but no BPF program is yet executed. After the load phase, it’s possible to set up initial BPF map state without racing with the BPF program code execution.</li>
<li><strong>Attachment phase.</strong> This is the phase at which BPF programs get attached to various BPF hook points (e.g., tracepoints, kprobes, cgroup hooks, network packet processing pipeline, etc). This is the phase at which BPF starts performing useful work and read/update BPF maps and global variables.</li>
<li><strong>Tear down phase</strong>. BPF programs are detached and unloaded from kernel. BPF maps are destroyed and all the resources used by BPF app are freed.</li>
</ul>
<p>Generated BPF skeleton has corresponding functions to trigger each phase:</p>
<ul>
<li><code>&lt;name&gt;__open()</code> – creates and opens BPF application;</li>
<li><code>&lt;name&gt;__load()</code> – instantiates, loads, and verifies BPF application parts;</li>
<li><code>&lt;name&gt;__attach()</code> – attaches all auto-attachable BPF programs (it’s optional, you can have more control by using libbpf APIs directly);</li>
<li><code>&lt;name&gt;__destroy()</code> – detaches all BPF programs and frees up all used resources.</li>
</ul>
<h2>BPF code conversion</h2>
<p>In this part, we’ll go over typical conversion flow and will outline typical mismatches between how BCC and libbpf/BPF CO-RE do things. Hopefully, this will make it easy for you to convert your BPF code to be both BCC- and BPF CO-RE compatible.</p>
<h3>Detecting BCC vs libbpf modes</h3>
<p>For cases where you’ll need to support both BCC and libbpf "modes", it’s useful to be able to detect which mode BPF program code is compiled for. Simplest way to do this is to rely on the presence of <code>BCC_SEC</code> macro in BCC:</p>
<pre><code><span>#<span>ifdef</span> BCC_SEC</span>
<span>#<span>define</span> __BCC__</span>
<span>#<span>endif</span></span>
</code></pre>
<p>After …</p></span></p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://facebookmicrosites.github.io/bpf/blog/2020/02/20/bcc-to-libbpf-howto-guide.html">https://facebookmicrosites.github.io/bpf/blog/2020/02/20/bcc-to-libbpf-howto-guide.html</a></em></p>]]>
            </description>
            <link>https://facebookmicrosites.github.io/bpf/blog/2020/02/20/bcc-to-libbpf-howto-guide.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26246012</guid>
            <pubDate>Wed, 24 Feb 2021 02:44:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Use WebSockets with Your Vue Projects]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26245895">thread link</a>) | @saranshk
<br/>
February 23, 2021 | https://masteringjs.io/tutorials/vue/vue-websocket | <a href="https://web.archive.org/web/*/https://masteringjs.io/tutorials/vue/vue-websocket">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
  
  
  <p>
    Feb 18, 2021
  </p>
  
  
  <p><a href="https://masteringjs.io/tutorials/node/websockets">WebSockets</a> are a great tool for when you want to show real time changes in data.
For example, a server can push stock market price changes to the client rather than the client needing to ask for the changes via a HTTP request.
With this being said, below you will find an example of a simple Vue application that shows the current time to the user and where
the user can send a simple message to the websocket.</p>
<pre><code>  <span>const</span> app = <span>new</span> Vue({
    <span>data</span>: <span><span>()</span> =&gt;</span> ({ <span>time</span>: <span>null</span> }),
    <span>template</span>: <span>`
      &lt;div&gt;
        &lt;h2&gt;{{time}}&lt;/h2&gt;
      &lt;/div&gt;
    `</span>,
    <span>mounted</span>: <span><span>function</span>(<span></span>)</span>{
      <span>let</span> connection = <span>new</span> WebSocket(<span>'ws://localhost:3000/'</span>);
      connection.onmessage = <span>(<span>event</span>) =&gt;</span> {
        
        
        
        <span>this</span>.time = event.data;
      }
    }
  });
  app.$mount(<span>"#content"</span>);</code></pre>
<p>Below is an example websocket server that you can use with the above Vue code.</p>
<pre><code><span>"use strict"</span>;

<span>const</span> serverPort = <span>3000</span>;
<span>const</span> express = <span>require</span>(<span>"express"</span>);
<span>const</span> http = <span>require</span>(<span>"http"</span>);
<span>const</span> WebSocket = <span>require</span>(<span>"ws"</span>);

<span>const</span> app = express();
<span>const</span> server = http.createServer(app);
<span>const</span> websocketServer = <span>new</span> WebSocket.Server({ server });


websocketServer.on(<span>"connection"</span>, (webSocketClient) =&gt; {
  
  webSocketClient.send(<span>"The time is: "</span>);
  setInterval(<span><span>()</span> =&gt;</span> {
    <span>let</span> time = <span>new</span> <span>Date</span>();
    webSocketClient.send(<span>"The time is: "</span> + time.toTimeString());
  }, <span>1000</span>);
});


server.listen(<span>3000</span>, () =&gt; {
  <span>console</span>.log(<span>"Websocket server started on port 3000"</span>);
});</code></pre>

  <hr>
<div>
  <p><i>
    <a href="https://vueschool.io/">Vue School</a> has some of our favorite Vue
    video courses. Their Vue.js Master Class walks you through building a real
    world application, and does a great job of teaching you how to integrate Vue
    with Firebase.
    <a href="https://vueschool.io/courses/the-vuejs-master-class?friend=mongoose">Check it out!</a>
  </i></p><p><a href="https://vueschool.io/courses/the-vuejs-master-class?friend=mongoose">
      <img src="https://masteringjs.io/assets/vueschool.png">
    </a>
  </p>
 </div>

  <hr>
  
    <h2>More Vue Tutorials</h2>
    <ul>
    
    <li><a href="https://masteringjs.io/tutorials/vue/vue-d3">How to Use D3.js in Your Vue Projects</a></li>
  

    <li><a href="https://masteringjs.io/tutorials/vue/books">Best Books to Learn Vue in 2021</a></li>
  

    <li><a href="https://masteringjs.io/tutorials/vue/chartjs">How to Use Chart.js with Vue</a></li>
  

    <li><a href="https://masteringjs.io/tutorials/vue/vue-sfc">Vue Single-File Components</a></li>
  

    <li><a href="https://masteringjs.io/tutorials/vue/reactivity">Reactivity in Vue 3</a></li>
  

    <li><a href="https://masteringjs.io/tutorials/vue/vue-3-components">Components in Vue 3</a></li>
  

    <li><a href="https://masteringjs.io/tutorials/vue/vue-3">What's New in Vue 3</a></li>
  
    </ul>
  

      </div></div>]]>
            </description>
            <link>https://masteringjs.io/tutorials/vue/vue-websocket</link>
            <guid isPermaLink="false">hacker-news-small-sites-26245895</guid>
            <pubDate>Wed, 24 Feb 2021 02:26:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Crypto Reinvents Collateralized Debt Obligations]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26245724">thread link</a>) | @angusturner
<br/>
February 23, 2021 | https://businessblockchainhq.com/business-blockchain-news/collateralized-debt-obligations-make-their-way-into-defi-lending/ | <a href="https://web.archive.org/web/*/https://businessblockchainhq.com/business-blockchain-news/collateralized-debt-obligations-make-their-way-into-defi-lending/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-10783" itemscope="" itemtype="http://schema.org/Article"> <div><div itemprop="articleBody"><p><a target="_blank" href="https://opium.finance/" rel="noreferrer noopener">Opium Finance</a> has released collateralized debt obligation products (CDOs) for Compound Finance’s automated lending markets, Opium Protocol founder Andrey Belyakov told CoinDesk in a phone interview Friday.</p><div id="node-1"><p>Investors can put up the Compound debt token cDai – and soon Uniswap LP tokens – to diversify exposure to DeFi lending markets. Opium’s product pays out structured returns to both a senior and junior risk tranche in exchange. The former tranche offers a 7% fixed return on <a target="_blank" data-for="autolink" data-tip="DAI" href="https://www.coindesk.com/price/dai">dai</a> (a collateral-backed stablecoin) at maturity, while the latter pool offers a variable rate paid out after filling up the senior tranche’s return, a <a target="_blank" href="https://medium.com/@andreybelyakov/50028fde8811" rel="noreferrer noopener">blog post</a> shared with CoinDesk states.</p><p><a href="https://businessblockchainhq.com/blockchain-jobs/" target="parent"><img alt="Blockchain jobs in United States and Canada" src="https://businessblockchainhq.com/wp-content/uploads/2019/06/blockchain-jobs2.jpg?ad1fd1&amp;ad1fd1"></a></p></div><p>As depicted in Michael Lewis’ “The Big Short,”<em> </em>CDOs are infamous for their role in monetizing the subprime mortgage crisis that spurred the 2008 financial crisis. Warren Buffet even went as far to <a target="_blank" href="http://www.fintools.com/docs/Warren%20Buffet%20on%20Derivatives.pdf" rel="noreferrer noopener">call</a> CDOs and other derivatives “financial weapons of mass destruction” years before the financial downturn. CDO holders lost out on expected payments when mortgage holders defaulted en masse. Banks that were over leveraged on the then-worthless debt obligations began to default themselves, such as failed financial giant <a target="_blank" href="https://en.wikipedia.org/wiki/Bear_Stearns" rel="noreferrer noopener">Bear Stearns</a>.</p><p>It’s thought the transparent nature of blockchain-based financial applications could limit the downside of using these complex derivatives. Moreover, the risk profile of the average DeFi lending app is vastly different than the reasons CDOs became a household name over a decade ago. DeFi apps have little chance of becoming insolvent due to programmatic liquidation settings. Rather, the risk mostly comes down to software exploits which many poorly put-together DeFi apps experienced this past year.&nbsp;</p><p>Belyakov said risk tranching increases the efficiency of capital on lending markets – a poorly understood problem in young DeFi markets he thinks derivatives can help address.</p><p>It works as follows: A protocol issues a debt token representing a claim to funds deposited or “locked” on a DeFi app, such as cDai. These debt tokens allow those same deposits to gain exposure again on other markets. However, most DeFi investors let these debt tokens sit idle in wallets, re-invest them as collateral for other loans or put them up for yield farming. The problem is these bets often move in the same direction. Placing debt tokens into Opium’s CDO, on the other hand, acts as a categorical alternative to other forms of capital exposure, Belyakov said.</p><p>“What we did was look at the lowest-hanging fruit,” Belyakov said. “And we found that Uniswap LP tokens, Compound cDai and some others are just stored on a wallet; they are not being used as collateral or farming – you don’t utilize this capital.”</p><div id="node-12"><p>The derivative joins other early attempts to protect lenders from the software risks associated with decentralized finance (DeFi). For example, <a target="_blank" href="https://app.saffron.finance/#home" rel="noreferrer noopener">Saffron Finance</a> launched its unaudited protocol in November while little-known protocol <a target="_blank" href="https://barnbridge.com/" rel="noreferrer noopener">Barn Bridge</a> continues to build out an offering similar to Opium’s. The protocol also <a target="_blank" rel="noreferrer noopener" href="https://www.coindesk.com/credit-default-swaps-tether-opium">released</a> a credit default swap (CDS) product for the <a target="_blank" data-for="autolink" data-tip="USDT" href="https://www.coindesk.com/price/tether">tether</a> stablecoin in September.</p><p><a href="https://businessblockchainhq.com/blockchain-e-books/blockchain-e-book-supply-chain/"><img src="https://businessblockchainhq.com/wp-content/uploads/2018/06/supplychain-ebook.jpg?ad1fd1&amp;ad1fd1" alt="" width="728" height="96"></a></p></div><p>Opium is also jumping on the governance token bandwagon. The protocol released its opium (OPIUM) token Monday for decentralizing the protocol’s governance structure. The launch was preceded by a premine and a $3.5 million private sale including participation from venture capitalist Mike Novogratz, Galaxy Digital, QCP Soteria, HashKey and Alameda Research, among others.</p><p><a href="https://www.coindesk.com/collateralized-debt-obligations-cdos-defi-lending" target="_blank">Source</a></p></div></div> </article></div>]]>
            </description>
            <link>https://businessblockchainhq.com/business-blockchain-news/collateralized-debt-obligations-make-their-way-into-defi-lending/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26245724</guid>
            <pubDate>Wed, 24 Feb 2021 02:02:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building an E-Ink Laptop]]>
            </title>
            <description>
<![CDATA[
Score 337 | Comments 153 (<a href="https://news.ycombinator.com/item?id=26245563">thread link</a>) | @alex-a-soto
<br/>
February 23, 2021 | https://alexsoto.dev/building-an-e-ink-laptop.html | <a href="https://web.archive.org/web/*/https://alexsoto.dev/building-an-e-ink-laptop.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><img src="https://alexsoto.dev/static/building-an-e-ink-laptop/eink-t480.jpg"></p><p>A series where I’m documenting my process of designing and building an e-ink laptop.</p><ul><li><span><span title="2021-02-20T16:02"><a href="https://alexsoto.dev/dasung-paperlike-hdft-teardown.html">Dasung Paperlike HD-FT teardown</a><span data-nosnippet="" title="Folgezettel">#</span></span></span></li></ul><h2 id="background">Background</h2><p>Since the E Ink Corporation’s founding in 1997 and the patenting of its microencapsulated electrophoretic display, or epaper, manufacturers started to incorporate e-ink film into consumer devices. <span data-nosnippet=""><sup><a href="#fn1" id="fnref1">1</a></sup></span>. Some of the first devices were ereaders: The Sony Librie in 2004<span data-nosnippet=""><sup><a href="#fn2" id="fnref2">2</a></sup></span> and the Amazon Kindle in 2007 <span data-nosnippet=""><sup><a href="#fn3" id="fnref3">3</a></sup></span>.</p><p>Throughout the years, we’ve seen several e-ink products and prototypes: e-ink film used with larger screens<span data-nosnippet=""><sup><a href="#fn4" id="fnref4">4</a></sup></span>, color<span data-nosnippet=""><sup><a href="#fn5" id="fnref5">5</a></sup></span>, flexible material<span data-nosnippet=""><sup><a href="#fn6" id="fnref6">6</a></sup></span> and most recently have started seeing e-ink displays used in smartphones and tablets, notably from Hisense and Onyx Boox product lines. And while e-ink has been around for 24 years, we have yet to see a laptop with an e-ink panel.</p><h2 id="why-isnt-there-an-e-ink-laptop">Why isn’t there an E Ink Laptop?</h2><p>There have been attempts in the past to create a similar device: Pixel Qi and OLPC<span data-nosnippet=""><sup><a href="#fn7" id="fnref7">7</a></sup></span>, Boox Typewriter<span data-nosnippet=""><sup><a href="#fn8" id="fnref8">8</a></sup></span>, Yoga Book C930<span data-nosnippet=""><sup><a href="#fn9" id="fnref9">9</a></sup></span> and the ThinkBook Plus<span data-nosnippet=""><sup><a href="#fn10" id="fnref10">10</a></sup></span>. These attempts did not materialize, were discontinued, or were not sufficiently suitable to meet users’ demands due to hardware or lack of a cohesive UX/UI paradigm. <strike>To make matters worse, the E Ink Corporation holds the patents for its e-ink technology and only licenses its technology to large manufacturers making availability or mass adoption difficult.</strike><span data-nosnippet=""><sup><a href="#fn11" id="fnref11">11</a></sup></span></p><p>Fortunately, some of the most exciting work and innovation happening today is in the e-ink modding community<span data-nosnippet=""><sup><a href="#fn12" id="fnref12">12</a></sup></span>. There have been attempts to re-purposing ereaders: as a calendar,<span data-nosnippet=""><sup><a href="#fn13" id="fnref13">13</a></sup></span> to display a static image or site<span data-nosnippet=""><sup><a href="#fn14" id="fnref14">14</a></sup></span>, Kobo devices running GNU/Linux<span data-nosnippet=""><sup><a href="#fn15" id="fnref15">15</a></sup></span>, Amazon Kindle devices repurposed as a development platform<span data-nosnippet=""><sup><a href="#fn16" id="fnref16">16</a></sup></span>, the Remarkable 1 running Parabola<span data-nosnippet=""><sup><a href="#fn17" id="fnref17">17</a></sup></span>, and PINE 64 recently announcing a native e-ink single-board computer<span data-nosnippet=""><sup><a href="#fn18" id="fnref18">18</a></sup></span>.</p><p>After following the development of e-ink for some time, I’ve decided to re-use some of the existing hardware I have and create an e-ink laptop.</p><h2 id="why-do-you-want-to-build-an-e-ink-laptop">Why do you want to build an E Ink laptop?</h2><p>From about 6 am to 7 pm, I’m in front of a computer or digital device that’s emitting blue light. Throughout the day, I’m supporting students, attending meetings, reading documentation, news articles, programming, learning, using emacs and org-mode to capture information, write down thoughts, create tasks, and conversing with my knowledge management system.</p><p>I try to use my e-ink monitor as much as possible throughout the day to reduce eye strain, fatigue and lessen distractions while intermittently taking breaks. The Dasung monitors go a long way to make this possible when I’m home or in a stationary place. Though there are times, I’m not working in front of my desktop or would like to work at a different location. The teardown and set-up of my environment when using an e-ink monitor is somewhat tedious, in addition to changes having to make when switching from an LCD to an e-ink monitor:</p><ul><li>making adjustments and tweaks to the window manager.</li><li>adjusting font sizes.</li><li>changing themes in different applications.</li></ul><p>I am then having to switch the changes back when using an LCD for meetings or videos. I’ve already solved some of this by writing some scripts and making adjustments in some applications. Still, I would like to design the experience for using an e-ink monitor with a dedicated device from the ground-up.</p><h2 id="creating-an-e-ink-laptop">Creating an E Ink Laptop</h2><p>I’ll be using a ‘headless’ Thinkpad T480 <span data-nosnippet=""><sup><a href="#fn19" id="fnref19">19</a></sup></span> combined with the Dasung HD-FT <span data-nosnippet=""><sup><a href="#fn20" id="fnref20">20</a></sup></span>.</p><p><img src="https://alexsoto.dev/static/building-an-e-ink-laptop/eink-t480.jpg"></p><h2 id="thinkpad-t480">Thinkpad T480</h2><p>The Thinkpad T480 seems to be an ideal laptop for building an e-ink laptop, The T480 has <span data-nosnippet=""><sup><a href="#fn21" id="fnref21">21</a></sup></span>:</p><ul><li>A hot-swappable battery (internal and external).</li><li>13 hours of battery while web browsing with the 72Wh battery.</li><li>Supports up to 64 GB of ram.</li><li>Two Nvme drives (type 2280 and 2242).</li><li>Standard HDMI port, USB-C, Thunderbolt 3, Headphone Jack, Ethernet, and SD card slot.</li><li>Uses a standard USB-C charger. <span data-nosnippet=""><sup><a href="#fn22" id="fnref22">22</a></sup></span></li><li>Lightweight and portable.</li><li>It can be modded to use the classic 7-row keyboard. <span data-nosnippet=""><sup><a href="#fn23" id="fnref23">23</a></sup></span></li></ul><p>The hot-swappable battery and long battery life are essential for any portable setup, especially with an e-ink monitor. The T480 supports up to 64Gb of ram and two Nvme drives, providing plenty of power and expansion as a daily driver.</p><p>Since the Dasung monitors connect via HDMI and receives power through USB, the T480 has all of the necessary ports without an adapter. Lastly, after removing the lid cover with the T480, there is room here to hack and mod the Dasung screen to the T480.</p><p><img src="https://alexsoto.dev/static/building-an-e-ink-laptop/t480-mobo.jpg"> <img src="https://alexsoto.dev/static/building-an-e-ink-laptop/t480-no-lcd.jpg"></p><h2 id="dasung-hd-ft">Dasung HD-FT</h2><p>Dasung currently is the only manufacturer of e-ink monitors that I’m aware of <span data-nosnippet=""><sup><a href="#fn24" id="fnref24">24</a></sup></span>, and their third-generation monitors are a substantial upgrade from prior generations.</p><p><img src="https://alexsoto.dev/static/building-an-e-ink-laptop/dasung-monitor.jpg"></p><p>Directly from the monitor, you can:</p><ul><li>Change image modes (M1, M2, M3, Fast, Fast+, Fast++, Black, Black+, Black++)</li><li>Adjust contrast</li><li>Clear the screen</li><li>Turn on and off the backlight</li></ul><p>The ability to easily change the monitor’s modes without software, the fast screen refresh, screen resolution of 2200×1650 and the backlight make it a great base to build an e-ink laptop.</p><h2 id="next-steps">Next Steps</h2><p>The first post went over my reasons for building an e-ink laptop, some history about e-ink technology, the e-ink modding community, recent advancements, and the hardware I’ve selected to create an e-ink laptop.</p><p>The next post in the series will be a teardown of the Dasung HD-FT, inspired by Kev Zettler’s work on the Dasung Paperlike Pro.<span data-nosnippet=""><sup><a href="#fn25" id="fnref25">25</a></sup></span></p><p>If this post resonated positively or negatively, send me a <a href="https://twitter.com/messages/compose?recipient_id=4648173315">direct message</a> on <a href="https://twitter.com/alexsotodev">Twitter</a>, and we can talk. Also, ping if you’d like to know the updates on this post or if you have suggestions, comments, questions, or would like to collaborate.</p><p><img id="avatar" src="https://alexsoto.dev/static/profile.jpeg"></p><p>Hi, I’m Alexander Soto.</p><p>I’m a community organizer, educator, software engineer, hacktivist, and agent of social change. My interests are in exploring community-building, social justice, education, and leveraging technology to address social problems.</p><p>In the past, I’ve worked as a labor rights organizer, a teacher, and I’m currently an Expert In Residence at <a href="https://www.resilientcoders.org/">Resilient Coders.</a>.</p><p>I enjoy tinkering/playing/breaking things, 3D printing, painting, playing piano, swimming, and writing in my spare time.</p><p>This site is the <a href="https://alexsoto.dev/impulse.html">scattered and unfinished version of my thoughts</a> while documenting what I’m currently learning and exploring.</p><p>If a post resonated positively or negatively, send me a <a href="https://twitter.com/messages/compose?recipient_id=4648173315">direct message</a> on <a href="https://twitter.com/alexsotodev">Twitter</a>, an <a href="mailto:contact@alexsoto.dev">email</a>, or subscribe to the <a href="https://buttondown.email/alexsotodev">mailing list</a> and we can talk. Also, ping if you’d like to know the updates of a post or if you have suggestions, comments, questions, or would like to collaborate.</p>



</div></div>]]>
            </description>
            <link>https://alexsoto.dev/building-an-e-ink-laptop.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26245563</guid>
            <pubDate>Wed, 24 Feb 2021 01:39:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[China’s first variety show about programmers]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26245527">thread link</a>) | @ydlr
<br/>
February 23, 2021 | https://www.globaltimes.cn/page/202101/1213351.shtml | <a href="https://web.archive.org/web/*/https://www.globaltimes.cn/page/202101/1213351.shtml">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.globaltimes.cn/page/202101/1213351.shtml</link>
            <guid isPermaLink="false">hacker-news-small-sites-26245527</guid>
            <pubDate>Wed, 24 Feb 2021 01:32:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Curry-Howard Is a Scam]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26245497">thread link</a>) | @c-cube
<br/>
February 23, 2021 | https://blag.cedeela.fr/curry-howard-scam/ | <a href="https://web.archive.org/web/*/https://blag.cedeela.fr/curry-howard-scam/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    
    

    <div>
      <p>(<em>original title</em>: "Curry Howard is a scam". See below.)</p>
<p>The
<a href="https://en.wikipedia.org/wiki/Curry%E2%80%93Howard_correspondence">Curry-Howard correspondence</a>
has been talked about a lot recently, not only in Haskell circles, but also
among CiC-based proof assistant practitioners (Coq, Lean, etc.).
In a nutshell, it makes a deep parallel between "programs" (terms of some flavor
of lambda calculus, typically), and "proofs" (these programs are a proof of their type,
or more precisely they are witnesses that their types are inhabited).
The most basic example is <code>id x = x</code> which, in Haskell, would be a proof of
$ \forall a. a \rightarrow a $, a trivial theorem of propositional logic.</p>
<p>That's all good and well, but my point here is that <em>in practice</em>, the equivalence is
not as interesting as it first looks.</p>
<h2 id="programs-are-not-really-proofs">Programs are not really proofs</h2>
<p>A real program (i.e. one that is written to be executed and do something useful)
is not really a proof of anything interesting.
Pedantically, a haskell program has type <code>IO ()</code>, which is not really a valid
proposition. But even beyond that, if we look just below the surface of <code>main</code>,
nothing has that interesting a type:</p>
<p>A classic Haskell program that is used by people is <a href="https://pandoc.org/">pandoc</a>.
Most of what it does could be described as <code>Doc Markdown -&gt; Doc Html</code> (or
a similar pair of document formats). So you have a "proof" that these two trees
can be somehow mapped onto one another. No mathematician will fawn over that.</p>
<p>Servers written in Haskell, like webservers, would have the type <code>request -&gt; IO response</code>
(or something close to that, maybe <code>request -&gt; M response</code> for some custom monad <code>M</code>)
if you look inside the server loop. Again that's not really mathematically interesting.</p>
<p>It's only if you look in combinator libraries (like Parsec, say) that types get more generic,
and start looking more like formulas. Things like <code>flip : (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c</code>
are as generic as it gets… and are proofs of super trivial propositional logic theorems.
In fact you can't even state much in Haskell, any real mathematical statement will at least
require first-order logic (which corresponds to dependent types — no mainstream
language features these beyond, er, C++). Idris could <em>possibly</em>
have some interesting proofs that are also real programs… if it were designed to
be a proof assistant and not a beefed-up programming language.</p>
<p>If anyone has a useful program that is also actually a proof of something non
trivial, I'd be happy to be proven wrong.</p>
<h2 id="proofs-are-not-really-programs">Proofs are not really programs</h2>
<p>What is the program corresponding to a proof of
"there exists an infinite number of primes"?
If I run this program, what input does it takes, and what do I get as an
output?</p>
<p>I don't have a direct answer to that question. If you develop this proof in Coq,
using a <code>Prop</code> typed statement, I don't even think it could be extracted to OCaml
and compiled.</p>
<p>For most of mathematics, I have no idea what the "programs" corresponding to proofs
found in textbooks would look like, nor what they would compute. There are
very complicated lambda terms for these proofs, but what they compute is
unclear.</p>
<h3 id="a-concession">A concession</h3>
<p>A domain where CH <strong>does</strong> make sense to me, is algorithms (written in a functional
style) that are used as <em>existential witnesses</em> of some property.
For example, the Euclid GCD algorithm is, in a very real sense, a proof that
two natural numbers have a GCD. You can write some Coq or Lean code that
computes the GCD of two numbers and proves that it's indeed their greatest divisor.</p>
<p>That said, I don't know of any large program written this way. It's a labor intensive
way of writing programs, even compared to alternatives like <a href="https://why3.lri.fr/">why3</a>
where you can cleanly separate the code and the specification, and ask automatic provers
to do as much proving as possible for you.</p>
<h2 id="but-what-about-compcert-sel4">But what about Compcert/SEL4/… ?</h2>
<p>Let's look at <a href="https://compcert.inria.fr/">Compcert</a>, famously one of the largest
programs written in Coq.
I suppose the main type is <code>compile : C_program -&gt; Option Asm_program</code>
or something like that (I'm no expert on Compcert so I could be very wrong).
However, as far as I know, it's not written in a purely dependent style: proofs are
separated from the "real code" part of the development. This means
we don't get $\forall x: \text{C_program} \rightarrow Option \set{y : \text{ASM_program} | R(x,y) }$
where $R(x,y)$ would mean that $x$ and $y$ have the same semantics; rather you
have <code>C_program -&gt; ASM_program</code> and proofs on the side that the function preserves
its input's semantic.</p>
<p>For SEL4 it's developed with Isabelle/HOL, which isn't dependently typed
and is classical logic.</p>
<h2 id="conclusion">Conclusion</h2>
<p>The title was click-baity, of course 🙂. But I do think that CH is over-hyped,
because the correspondence is <del>only</del> mostly interesting abstractly; in practice things
are either a (interesting) program, or a (interesting) proof, but not both
at the same time.</p>
<p><strong>edit</strong> (2021-02-24):  I regret the over-aggressive title now. Changing it to the
more appropriate "CH is overrated"; it's obviously still a useful mathematical statement
and a valid way of building proofs.</p>




    </div>

    
    

    

    
    
</article></div>]]>
            </description>
            <link>https://blag.cedeela.fr/curry-howard-scam/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26245497</guid>
            <pubDate>Wed, 24 Feb 2021 01:28:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Segway was the 'device of the future,' So why did it fail?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26245350">thread link</a>) | @autoditype
<br/>
February 23, 2021 | https://www.cbc.ca/radio/thecurrent/the-current-for-july-6-2020-1.5638699/segway-was-the-device-of-the-future-in-the-perfect-moment-to-succeed-so-why-did-it-fail-1.5638716 | <a href="https://web.archive.org/web/*/https://www.cbc.ca/radio/thecurrent/the-current-for-july-6-2020-1.5638699/segway-was-the-device-of-the-future-in-the-perfect-moment-to-succeed-so-why-did-it-fail-1.5638716">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Just as the pandemic is driving interest in micro mobility, the last Segways are rolling off the production line. Journalist Mark Wilson says the device may have been ahead of its time, but that doesn't mean it was right.</p><div><figure><div><p><img loading="lazy" alt="" srcset="" sizes="" src="https://i.cbc.ca/1.3712676.1594055131!/fileImage/httpImage/image.jpg_gen/derivatives/16x9_780/segway-tour-u-s-capitol-in-washington.jpg"></p></div><figcaption>A Segway tour makes its way past the U.S. Capitol in 2012.<!-- --> <!-- -->(Kevin Lamarque/Reuters)</figcaption></figure><p><span><div><div role="button" tabindex="0" title="Last Segways roll off production line"><div><p><img src="https://thumbnails.cbc.ca/maven_legacy/thumbnails/815/967/640x360_thecurrent_nohost.jpg" alt=""></p><p><span>The Current</span><span>13:04</span><span>Last Segways roll off production line</span></p></div></div></div></span></p><p><span><p><a href="https://www.cbc.ca/radio/thecurrent/the-current-for-july-6-2020-1.5638699/july-6-2020-episode-transcript-1.5639683">Read story transcript</a></p>  <p>The demise of the Segway is "straight-up ironic" given the increasing public desire for personal transport and "micro mobility," according to journalist Mark Wilson.</p>  <p>"We had the mobility device of the future, we have the moment that it should be taking off — and it did not," said Wilson, a senior writer with business magazine Fast Company.</p>  <p>"But, you know, sometimes, I guess, people just get it wrong," he told <a href="https://www.cbc.ca/radio/thecurrent" target="_blank"><em>The Current's</em></a> guest host Nahlah Ayed.</p>  <p>Chinese company Segway Ninebot, which bought the original U.S. company in 2015, announced last month that <a href="https://www.cbc.ca/news/business/segway-end-production-1.5624599" target="_blank">the final Segways would roll off the production line on July 15</a>. Invented by Dean Kamen, the personal transporters had a much-hyped launch in 2000, but sold only 140,000 units&nbsp;over two decades.&nbsp;</p>    <p>The device allows standing riders to move at speeds of about 16 km/h, leaning in the direction they want to steer. They have proven popular for tourists exploring cities and security personnel covering large areas — but also became known for high-profile crashes over the years.</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.3712668.1470697499!/fileImage/httpImage/image.jpg_gen/derivatives/original_300/former-polish-president-hit-by-camera-man-on-segway.jpg 300w,https://i.cbc.ca/1.3712668.1470697499!/fileImage/httpImage/image.jpg_gen/derivatives/original_460/former-polish-president-hit-by-camera-man-on-segway.jpg 460w,https://i.cbc.ca/1.3712668.1470697499!/fileImage/httpImage/image.jpg_gen/derivatives/original_620/former-polish-president-hit-by-camera-man-on-segway.jpg 620w,https://i.cbc.ca/1.3712668.1470697499!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/former-polish-president-hit-by-camera-man-on-segway.jpg 780w,https://i.cbc.ca/1.3712668.1470697499!/fileImage/httpImage/image.jpg_gen/derivatives/original_1180/former-polish-president-hit-by-camera-man-on-segway.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.3712668.1470697499!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/former-polish-president-hit-by-camera-man-on-segway.jpg"></p></div><figcaption>During celebrations to mark the anniversary of the fall of the Berlin Wall in 2009, Lech Walesa, former Polish president, was himself knocked down by a cameraman on a Segway.<!-- --> </figcaption></figure></span></p>  <p>Wilson said the launch of the Segway coincided with a sense of "techno optimism" around the new millennium.&nbsp;</p>  <p>"We really believed in, I think, technology as this tool to rescue us, to make the world better," he told Ayed.</p>  <p>Twenty years later, he said we can see the mistakes that were made along the way, such as "targeted advertising, tracking our location."</p>  <p>"Along those lines, there was this blip called the Segway, this little transporter that was supposed to replace walking," he said.</p>  <p>"And 20 years later, no, we all still walk."</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5273998.1567801824!/fileImage/httpImage/image.jpg_gen/derivatives/original_300/usa-dailylife.jpg 300w,https://i.cbc.ca/1.5273998.1567801824!/fileImage/httpImage/image.jpg_gen/derivatives/original_460/usa-dailylife.jpg 460w,https://i.cbc.ca/1.5273998.1567801824!/fileImage/httpImage/image.jpg_gen/derivatives/original_620/usa-dailylife.jpg 620w,https://i.cbc.ca/1.5273998.1567801824!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/usa-dailylife.jpg 780w,https://i.cbc.ca/1.5273998.1567801824!/fileImage/httpImage/image.jpg_gen/derivatives/original_1180/usa-dailylife.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5273998.1567801824!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/usa-dailylife.jpg"></p></div><figcaption>People ride e-scooters in Washington D.C., April 2019. <!-- --> <!-- -->(Jeenah Moon/Reuters)</figcaption></figure></span></p>  <p>But Kamen was right about one thing: small, self-balancing, sometimes electrical mobility devices "were going to be a big deal in urban transport," as people grappled with "the last mile problem," Wilson said.</p>  <p>"What I think Dean Kamen saw early on was cities were only getting bigger, they were only getting more congested, and we really needed some sort of device for that last mile — to get to work, maybe even to get from the subway to work," he said.</p>  <p>"Right now, you look at bike shares, you look at electric scooters instead of Segways, and these are really huge markets."</p>  <h2>Pandemic driving interest in&nbsp;micro mobility</h2>  <p>Brent Toderian, an urbanist and former chief planner for Vancouver, thinks "the pandemic has given us opportunities to rethink how we get around safely in a lot of ways," as people try to find alternatives to sharing confined space on public transport.</p>  <p>"It's been particularly good for walking and simple biking, and e-biking is just an extension of human-powered biking, as are scooters," he told <em>The Current</em>.</p>    <p>That's leading to a boom in micro mobility, which Toderian defined as moving away from relying on cars and finding "more ways to get around that are small that we can carry with us, like foldable bikes."</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5624637.1592955168!/fileImage/httpImage/image.jpg_gen/derivatives/original_300/segway-discontinued.jpg 300w,https://i.cbc.ca/1.5624637.1592955168!/fileImage/httpImage/image.jpg_gen/derivatives/original_460/segway-discontinued.jpg 460w,https://i.cbc.ca/1.5624637.1592955168!/fileImage/httpImage/image.jpg_gen/derivatives/original_620/segway-discontinued.jpg 620w,https://i.cbc.ca/1.5624637.1592955168!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/segway-discontinued.jpg 780w,https://i.cbc.ca/1.5624637.1592955168!/fileImage/httpImage/image.jpg_gen/derivatives/original_1180/segway-discontinued.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5624637.1592955168!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/segway-discontinued.jpg"></p></div><figcaption>Segways became popular not only for tourists, but for security personnel covering large areas, such as shopping malls.<!-- --> <!-- -->(Sue Ogrocki/The Associated Press)</figcaption></figure></span></p>  <p>But he warned that there is a risk in just viewing micro mobility as the only solution to building healthier urban spaces.</p>  <p>"The concept of a more multimodal city&nbsp;—&nbsp;a city that has many more enjoyable, healthy, sustainable, economical, equitable ways of getting around&nbsp;— is going to be a lot of solutions," he said.&nbsp;</p>  <p>"Micro mobility … is part of a larger conversation about more and better ways to get around that aren't as space intensive, pollution intensive, etc., as cars are."</p>  <p>He said it's important to note what micro mobility trips replace.&nbsp;</p>  <p>"If they replace car trips, that's a good thing. If they replace walking trips, then we've actually used electricity and lost an opportunity to have some exercise in our lives," he said.</p>  <p>"And that's a bad trade for our cities and for us, individually."</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.3712662.1594055281!/fileImage/httpImage/image.jpg_gen/derivatives/original_300/golfers-ride-segway-personal-transports-down-fairway.jpg 300w,https://i.cbc.ca/1.3712662.1594055281!/fileImage/httpImage/image.jpg_gen/derivatives/original_460/golfers-ride-segway-personal-transports-down-fairway.jpg 460w,https://i.cbc.ca/1.3712662.1594055281!/fileImage/httpImage/image.jpg_gen/derivatives/original_620/golfers-ride-segway-personal-transports-down-fairway.jpg 620w,https://i.cbc.ca/1.3712662.1594055281!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/golfers-ride-segway-personal-transports-down-fairway.jpg 780w,https://i.cbc.ca/1.3712662.1594055281!/fileImage/httpImage/image.jpg_gen/derivatives/original_1180/golfers-ride-segway-personal-transports-down-fairway.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.3712662.1594055281!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/golfers-ride-segway-personal-transports-down-fairway.jpg"></p></div><figcaption>Some golf courses have offered Segways instead of golf carts for players, including this course in Arvada, Colorado in July, 2010. <!-- --> <!-- -->(Rick Wilking/Reuters)</figcaption></figure></span></p>  <h2>Design and cost stalled Segway sales</h2>  <p>Wilson thinks part of the reason Segways failed was their design, and the obstacle of learning how to ride them.</p>  <p>"It was framed as intuitive, but you still actually have to step on there and ... jump over that sort of scary hurdle of: 'Am I going to flip on my back and bump my head open?'" he said.</p>    <p>By contrast, the same technology can be placed in a scooter, and "everyone knows how to ride a scooter," he said.&nbsp;</p>  <p>A bigger issue, however, was the price — with a basic model costing $5,000 US when it first launched.&nbsp;</p>  <p>"You could buy a motorcycle for that much, that could take you across the country, be relatively small, be a whole lot faster," he said.</p>  <p>Segways also became known for high-profile crashes, including <a href="https://www.cbc.ca/news/segway-mishap-kills-company-s-u-k-owner-1.937608" target="_blank">the death of British millionaire Jim Heselden</a>, who bought the company in 2009. That same year, the 62-year-old died when the Segway he was riding went over a cliff near his home north of London.</p>  <p>In 2015, a Segway-riding cameraman ran over Jamaican sprinter Usain Bolt after the athlete won a 200-metre race in Beijing. Neither were injured.</p>  <p><span><span><iframe src="https://www.youtube.com/embed/Dj7ZVznUeE0" frameborder="no" title="YouTube content" allowfullscreen=""></iframe></span></span></p>  <h2>Was Segway ahead of its time?</h2>  <p>Wilson said parent company Segway Ninebot has already moved into the e-scooter market, utilizing hundreds of the patents that originated in the design and construction of the original Segway.</p>  <p>At the tech trade show CES last month, the company also debuted <a href="https://www.fastcompany.com/90446514/segway-is-back-with-a-people-mover-straight-out-of-wall-e" target="_blank">the S-Pod, an electric chair on wheels</a> that the company hopes to launch this year&nbsp;to ferry people around airports and possibly even city streets.</p>    <p>Wilson thinks the original Segway was definitely ahead of its time, "but that doesn't mean it was right."</p>  <p>"I do think if it were simply ahead of its time and the design were around today&nbsp;that we would have seen some sort of uptick in Segway sales," he said.</p>  <p>"The fact that we didn't mean I think there were other issues."</p>  <hr>  <p><em>Written by Padraig Moran. Produced by Peter Mitton.</em></p></span></p></div></div>]]>
            </description>
            <link>https://www.cbc.ca/radio/thecurrent/the-current-for-july-6-2020-1.5638699/segway-was-the-device-of-the-future-in-the-perfect-moment-to-succeed-so-why-did-it-fail-1.5638716</link>
            <guid isPermaLink="false">hacker-news-small-sites-26245350</guid>
            <pubDate>Wed, 24 Feb 2021 01:09:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Keeping Platforms Open]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26244964">thread link</a>) | @pabs3
<br/>
February 23, 2021 | https://seirdy.one/2021/02/23/keeping-platforms-open.html | <a href="https://web.archive.org/web/*/https://seirdy.one/2021/02/23/keeping-platforms-open.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemscope="" itemtype="https://schema.org/BlogPosting">
	<article itemprop="mainEntityOfPage">
		
		<section itemprop="articlebody">
			<p>This article is the second entry of series of posts exploring situations in which <abbr title="free and open-source software">FOSS</abbr> alone isn’t enough to secure user freedom.</p>
<p>My previous article, <a href="https://seirdy.one/2021/01/27/whatsapp-and-the-domestication-of-users.html">Whatsapp and the domestication of users</a>, got more attention than I was expecting. Some responses gave me a lot to think about,<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup> especially regarding <em>actions</em> we can take. I suggest reading that article first; it explained what “user domestication” is and why it’s a problem. It enumerated three countermeasures: FOSS, simplicity, and open platforms.</p>
<p>Hard problems, by definition, lack easy solutions. Simply choosing (or creating) a platform that avoids user domestication isn’t enough if that platform can change. The price of freedom is eternal vigilance; in addition to settling on the right platform, we must ensure that it honors its users in both the present <em>and the future</em>. Keeping a platform FOSS and simple is more straightforward<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup> than keeping a platform “open”.</p>
<p>How do we keep an open platform from becoming a closed platform in the future?</p>
<h2 id="how-open-platforms-become-closed">How open platforms become closed</h2>
<p>There are three ways to close an open platform:</p>
<ol>
<li>A forced migration onto a different platform.</li>
<li>A single implementation growing dominant, blurring the line between specification and implementation.</li>
<li>Dominant implementations adopting too many unstandardized features and behaviors.</li>
</ol>
<p>These three approaches overlap: they frequently feature platform monoculture and a single vendor controlling both clients and servers.</p>
<h3 id="forced-migration">Forced migration</h3>
<p>When one vendor controls all parts of a service (e.g., both a client and server), it has the means to create what I call a <strong><dfn>boxed platform</dfn>:</strong> a subset of a larger open platform that can evolve at its own pace, without concern for compatibility or interoperability.</p>
<p>Controlling both the server and client allows a vendor to update the client and server without worrying about breaking compatibility with other clients/servers in the larger network. It could update the client to point users to a server that uses a completely different, closed protocol. This is what happened to many XMPP users in the early 2000s.</p>
<h4 id="case-study-the-boxing-of-xmpp">Case study: the boxing of XMPP</h4>
<p><a href="https://en.wikipedia.org/wiki/XMPP">XMPP</a> (formerly known as Jabber) is an open and federated instant-messaging protocol; anybody can set up their own XMPP server and talk to users on different XMPP servers, preventing one organization from owning the platform. Between 2005 and 2014, many proprietary chat platforms supported it: Google Talk, AOL Instant Messenger (AIM), Facebook Chat (later known as Facebook Messenger), and Skype were some well-known examples. Some of these platforms even enabled server-to-server federation.</p>
<p>Unfortunately, users of these proprietary services were boxed. Not many Google Talk users talked to Skype users, and Skype users didn’t typically talk to AIM users. Users stayed in their own sub-platforms. The result was that all users limited themselves to talking exclusively using their provider’s software: one provider controlled the entire messaging flow, from a sender’s client to the server to a recipient’s client. <strong>Users were only ever exposed to a single XMPP implementation offered by a single provider.</strong></p>
<p>Each of the listed platforms eventually locked in their users by migrating away from XMPP. This wouldn’t have been possible if multiple implementations and providers interacted with each other. Imagine Bob uses BobClient and BobServer to talk to Alice, and Alice uses AliceClient and AliceServer. BobClient, BobServer, AliceClient, and AliceServer would all have to remain compatible and use the same protocol; a forced migration would be unlikely to occur since it would break compatibility.</p>
<p>Compare the situation with email: despite Gmail’s dominance, other email providers remain popular. Gmail users need to be able to communicate with non-Gmail users, and vice versa. Email is far less “boxed” than the aforementioned proprietary XMPP platforms. As a result, Google hasn’t been able to control the email platform as easily; Google can’t simply migrate Gmail users to a non-email platform that’s incompatible with the rest of the email landscape to further domesticate its users.</p>
<p>XMPP is still alive and well, but its current popularity is a fraction of what it once was.</p>
<h3 id="implementation-clout">Implementation clout</h3>
<p>Standards are a form of agreements made to ensure compatibility between implementations. Such agreements need to be agreed upon by the implementations themselves. When one implementation grows dominant, so too does its leverage in the decision-making process over shared standards. Too much dominance can create a monoculture in which the dominant implementation is the only implementation that conforms to the spec.</p>
<p>With enough leverage, a dominant implementation can serve as a reference implementation. Reference implementations are typically quite helpful, serving as a source of truth to test other implementations against. Problems may arise when development of the spec and production-grade reference implementation grow tightly coupled, leaving third-party implementation feasibility out of the decision-making process.</p>
<h4 id="case-study-matrix-and-element">Case study: Matrix and Element</h4>
<p>One example of this phenomenon is <a href="https://matrix.org/">Matrix</a>. Matrix is an open and federated instant-messaging platform similar to XMPP, with a very large spec boasting many features: server-side history, replies, rich text, reactions, room versions, <abbr title="end-to-end encryption">E2EE</abbr>, avatars, display names, typing indicators, read receipts, device verification…the list goes on and grows every month.<sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup> The only client that implements all the necessary features is Element. In addition to being the most popular client, Element practically serves as the reference client implementation: it’s developed by the same company that builds the dominant servers and most of the spec. The tight coupling between Element and the Matrix spec allow it to add features at a rate too fast for other clients too keep up; pretty much every Matrix user has to open up Element at some point to perform an action that isn’t supported in any other client. On the server side, Synapse is the only server that implements enough of the spec to be usable, with Dendrite coming in second. Both are made by the same company that develops Element.</p>
<p>Since there aren’t any third-party clients and servers that can replace the official ones, one vendor is close to controlling all parts of the platform. The growing complexity required of clients and servers can also further entrench these dominant implementations, as I <a href="https://seirdy.one/2021/01/27/whatsapp-and-the-domestication-of-users.html#simplicity">previously explained</a>. Matrix is close to being a boxed platform because the official client and server can iterate independently of the greater ecosystem.</p>
<p>I don’t think that Matrix is going to become a fully closed platform anytime soon; the blog post <a href="https://matrix.org/blog/2020/01/02/on-privacy-versus-freedom/">“On Privacy versus Freedom”</a> seems to put it on the right side of the closed/open spectrum. Clients like <a href="https://github.com/tulir/gomuks">gomuks</a> and <a href="https://fluffychat.im/">FluffyChat</a> seem to keep up with Element well enough to serve as partial replacements. I do, however, find its current state problematic and much closer to “closed” on the closed/open spectrum than XMPP, IRC, and email.</p>
<h3 id="unstandardized-feature-creep">Unstandardized feature creep</h3>
<p>Platforms are more than their protocols. Different implementations have unique behavior to distinguish themselves. Problems arise when dominant implementations' unique unstandardized features grow past a certain point to make a closed superset of an open platform.</p>
<h4 id="case-studies-email-providers">Case studies: email providers</h4>
<p>After reading my previous article, a few people contacted me to ask for my thoughts regarding certain email providers. There’s not much that can set a standard email provider apart if it just hosts a simple email server. To distinguish themselves, email providers often implement many features beyond email standards compliance.</p>
<p>The vast majority of email accounts come from a small handful of dominant providers backed by large companies (Gmail, Yahoo! Mail, Yandex Mail, Mail.ru, iCloud, and others). Providers such as Gmail are notorious for implementing advanced spam filters prejudiced against non-mainstream email providers. Users who self-host email servers or use small providers frequently trigger false positives and end up having their messages incorrectly labeled as spam until they can build up a “reputation”.<sup id="fnref:4"><a href="#fn:4" role="doc-noteref">4</a></sup> The addition of such a complex spam-prevention filter strengthens the email oligopoly by creating a barrier to entry for newcomers. Low-volume senders are discriminated against, as Migadu <a href="https://archive.is/rJnSs#deliverability">found out</a>:</p>
<blockquote>
<p>We’ve already seen our share of bad spam filters and misconfigured servers. In some cases recipient servers intentionally rejected correct emails just because we are a low volume sender. Ironically that is how an ideal sender should be. To improve the “receiveability” they of course offer their own hosted email service at a hefty price.</p>
</blockquote>
<p>Another example: email providers such as Hey.com, Protonmail, and Tutanota offer many features that are incompatible with IMAP/POP3. Protonmail and Tutanota use their own non-standard E2EE implementation (rather than focusing on improving the UX for vanilla PGP), and Hey.com offers server-side mail organization. Users of these services must use official Web, desktop, and mobile clients.<sup id="fnref:5"><a href="#fn:5" role="doc-noteref">5</a></sup> These three providers control both the client and the server, giving them the means for vendor lock-in. Of course, there’s a limit to the amount of lock-in these providers can achieve: as I explained in the <a href="#case-study-the-boxing-of-xmpp">XMPP case study</a>, these providers still need to support SMTP to stay compatible with the wider email landscape.</p>
<h2 id="solutions">Solutions</h2>
<p>That’s enough doom-and-gloom. Let’s focus on actions that users and vendors can take to keep platforms open.</p>
<h3 id="what-users-can-do">What users can do</h3>
<p>As a user, consider using clients and servers made by different groups of people to make platform boxing more difficult. Pick implementations that suffer from less <a href="https://en.wikipedia.org/wiki/Feature_creep">feature creep</a> beyond spec compliance. What distinguishes a client shouldn’t be <em>what</em> features it has, but <em>how</em> it implements its features. Obviously, having some unique features is great; problems arise when the number of unique features crosses a certain threshold. Following both …</p></section></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://seirdy.one/2021/02/23/keeping-platforms-open.html">https://seirdy.one/2021/02/23/keeping-platforms-open.html</a></em></p>]]>
            </description>
            <link>https://seirdy.one/2021/02/23/keeping-platforms-open.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26244964</guid>
            <pubDate>Wed, 24 Feb 2021 00:27:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Proof That Few If Any Dollars Back Any Stablecoin – They’re All Tether]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26244840">thread link</a>) | @Bluestein
<br/>
February 23, 2021 | https://www.desogames.com/proof-that-few-if-any-dollars-back-any-stablecoin-theyre-all-tether/ | <a href="https://web.archive.org/web/*/https://www.desogames.com/proof-that-few-if-any-dollars-back-any-stablecoin-theyre-all-tether/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-300">

	
	
			<div>
			
<p>I’ve gone through <a href="http://coinlib.io/" data-type="URL" data-id="coinlib.io">coinlib.io</a>‘s data regarding crypto’s money flows. Meaning, the trading volume between many pairs on may exchanges.</p>



<p>In this case, i’ve gone out of my way to highlight Dollar flows. Specifically, Dollar flows into and out of Tether and other stablecoin, notably BUSD and USDC – supposedly audited.</p>



<p>Tracking the trading between crypto and fiat, this turns out to be patently false. If there <em>was</em> organic trading between dollars and stablecoin, there ought to be alot of outflows, considering Tether is the gateway to pretty much every crypto at this point. With a $928 billion marketcap across the crypto space, there should be atleast billions of flow in dollars, especially with a circulationg supply of 24,7+ Billion USDT.</p>



<p>We find that there is almost none. The entire trading volume between USD and USDT is no more then $20 million. EVERYTHING ELSE is Tether, perceived to have the same value as a dollar.</p>



<p>This includes all other stablecoins. The same applies: If there was organic trading, there ought to be <em>Dollar</em> inflows. But that isn’t the case: Even in the supposedly audited USDC’s case, the Majority of inflows into the currency are Tethers.</p>



<p>I made this collage as an answer to a question i have had myself for a long time:</p>



<figure><img loading="lazy" width="445" height="501" src="https://www.desogames.com/wp-content/uploads/2021/01/Tetherunbackedclean.png" alt="" srcset="https://www.desogames.com/wp-content/uploads/2021/01/Tetherunbackedclean.png 445w, https://www.desogames.com/wp-content/uploads/2021/01/Tetherunbackedclean-266x300.png 266w" sizes="(max-width: 445px) 100vw, 445px"></figure>



<p>So far we’ve all been focusing on the change that involves the loan to Bitfinex. But… My question has been for a long time:</p>



<p><em>“What do they mean by Cash “Equivalents”?</em></p>



<p>I mean. Wording means alot. “Which include <span>traditional</span> currency <strong><em><span>AND</span></em></strong> cash equivalents”.</p>



<p>Why not “Which includes cash, cash equivalents and, from time to time….”?</p>



<p><em>Could it be that they count OTHER stablecoin as “Cash Equivalents”?</em></p>



<p>This gave me the thought that Tether might’ve been backed by Tether – but i don’t think they’ve gone that far. Instead, i think it’s a conspiracy. Not a theory, a legitimate conspiracy. Cartels in business exist too, just check the EU’s anti-trust fine history if you want to find them, in all locales.</p>



<p>Coinbase is the entrypoint. Because they only deal in dollars, they deal in <em>trust</em>. Their stablecoin is audited by a supposed reputable Top 5 acocunting agency (Google “Granton &amp; Thornton scandals”). Because people trust coinbase, they’ll put their money into bitcoin on coinbase.</p>



<p>Their latest transparency report still hasn’t been posted as of the 23rd of January, while all other reports are signed between the 12th and 16th, with 17th and 18th days being outlyers – except for November 23rd 2020 for the October report: <a href="https://www.centre.io/usdc-transparency">https://www.centre.io/usdc-transparency</a></p>



<p>Their last report from November says: “US Dollars held in custody accounts = $3,004,921,958” – and i find it notable this is pretty close to the reserves Tether claimed to have audited a few years ago. Also those where the USDC reserves as of November 30th. Their October 31st holdings: $2,973,954,847.</p>



<p>I wonder why their report of December is late?</p>



<figure><img loading="lazy" width="1024" height="675" src="https://www.desogames.com/wp-content/uploads/2021/01/USDC_MO_october-1024x675.png" alt="" srcset="https://www.desogames.com/wp-content/uploads/2021/01/USDC_MO_october-1024x675.png 1024w, https://www.desogames.com/wp-content/uploads/2021/01/USDC_MO_october-300x198.png 300w, https://www.desogames.com/wp-content/uploads/2021/01/USDC_MO_october-768x506.png 768w, https://www.desogames.com/wp-content/uploads/2021/01/USDC_MO_october.png 1112w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<figure><img loading="lazy" width="1024" height="666" src="https://www.desogames.com/wp-content/uploads/2021/01/USDC_MO_november-1024x666.png" alt="" srcset="https://www.desogames.com/wp-content/uploads/2021/01/USDC_MO_november-1024x666.png 1024w, https://www.desogames.com/wp-content/uploads/2021/01/USDC_MO_november-300x195.png 300w, https://www.desogames.com/wp-content/uploads/2021/01/USDC_MO_november-768x499.png 768w, https://www.desogames.com/wp-content/uploads/2021/01/USDC_MO_november.png 1098w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<figure><img loading="lazy" width="1024" height="664" src="https://www.desogames.com/wp-content/uploads/2021/01/USDC_MO_december-1024x664.png" alt="" srcset="https://www.desogames.com/wp-content/uploads/2021/01/USDC_MO_december-1024x664.png 1024w, https://www.desogames.com/wp-content/uploads/2021/01/USDC_MO_december-300x195.png 300w, https://www.desogames.com/wp-content/uploads/2021/01/USDC_MO_december-768x498.png 768w, https://www.desogames.com/wp-content/uploads/2021/01/USDC_MO_december.png 1101w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<figure><img loading="lazy" width="1024" height="663" src="https://www.desogames.com/wp-content/uploads/2021/01/USDC_MO_January-1024x663.png" alt="" srcset="https://www.desogames.com/wp-content/uploads/2021/01/USDC_MO_January-1024x663.png 1024w, https://www.desogames.com/wp-content/uploads/2021/01/USDC_MO_January-300x194.png 300w, https://www.desogames.com/wp-content/uploads/2021/01/USDC_MO_January-768x498.png 768w, https://www.desogames.com/wp-content/uploads/2021/01/USDC_MO_January.png 1102w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>Oh wait no i don’t. They don’t have that much. All those inflows are Tether:</p>



<figure><img loading="lazy" src="https://www.desogames.com/wp-content/uploads/2021/01/Bitcoin_flows.png" alt="" width="2041" height="1189" srcset="https://www.desogames.com/wp-content/uploads/2021/01/Bitcoin_flows.png 8163w, https://www.desogames.com/wp-content/uploads/2021/01/Bitcoin_flows-300x175.png 300w, https://www.desogames.com/wp-content/uploads/2021/01/Bitcoin_flows-1024x596.png 1024w, https://www.desogames.com/wp-content/uploads/2021/01/Bitcoin_flows-768x447.png 768w, https://www.desogames.com/wp-content/uploads/2021/01/Bitcoin_flows-1536x895.png 1536w, https://www.desogames.com/wp-content/uploads/2021/01/Bitcoin_flows-2048x1193.png 2048w, https://www.desogames.com/wp-content/uploads/2021/01/Bitcoin_flows-1366x796.png 1366w" sizes="(max-width: 2041px) 100vw, 2041px"><figcaption>Right-click &gt; View Image for the full size format. It’s quite large due to the amount of data contained. Unavoidable i’m afraid, because separation of data, and people unable to connect it in their head, is the reason this has been able to go on for so long. Complexity offers secrecy. So an overview in one picture that tracks and highlights USD flows (into Tether mainly) offers clarity.</figcaption></figure>



<p>BUSD same thing. HUSD same thing. </p>



<p><em>THEY’RE ALL IN ON IT!</em></p>



<p>Coinbase is the entry gate. Kraken is the side-door to make sure people can still “travel” in and out of the crypto space; The main objective is to keep the majority of the people inside of the Hotel California. Only when they go for the exits in large enough numbers does the scam collapse.</p>



<p>Huobi handles the Asian market. Binance increases demand for Tether and other stablecoin by offering *insane* gains…. Which always materialize because Bitfinex can just print Tethers and hand them over to Binance. There have been many Whale Alerts on Twitter that show as much.</p>



<p>The final piece of evidence for this is the fact that Coinlib shows USD flows between Tether and USD: https://coinlib.io/exchange/kraken</p>



<p>But Tether shows NO flows between It and USD: https://coinlib.io/coin/USDT/Tether</p>



<p>Once you’ve eliminated the impossible, whatever’s left, however improbable must be the truth:</p>



<p><em>There is no USD-USDT trading on Kraken going on. There is no link. People trading USDT-USD on Kraken are trading against Kraken’s personal account filled with Tether or USD. Like Bernie Madoff, who never made a single trade in his trading account during the entire scheme; It could very well be that Kraken has never made a single Tether-USD transaction in their entire existence.</em></p>



<p>While i can’t say anything about Bittrex or smaller exchanges… The big ones: Binance, Bitfinex, Kraken, Huobi and Coinbase are <strong><em><span>ALL</span></em></strong> guilty of <em>both</em> the largest Ponzi scheme, and the largest Dollar Counterfeiting scheme in history.</p>



<p><span>ALL THEIR OFFICES SHOULD IMMEDIATELY BE RAIDED, THEIR TRADING CEASED, AND THE MONEY RECOVERED AS BEST IT CAN BEFORE THEY, AND IT, <strong>COMPLETELY </strong>DISAPPEARS!</span><span></span></p>



<p><strong><span>THIS HAS GONE ON LONG ENOUGH!</span></strong></p>



<p>For more on USDC’s bad auditing i’ve gone deeper into it here: https://twitter.com/DesoGames/status/1352286552215461890</p>
		</div><!-- .entry-content -->
	
	<!-- .entry-footer -->
</article></div>]]>
            </description>
            <link>https://www.desogames.com/proof-that-few-if-any-dollars-back-any-stablecoin-theyre-all-tether/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26244840</guid>
            <pubDate>Wed, 24 Feb 2021 00:11:11 GMT</pubDate>
        </item>
    </channel>
</rss>
