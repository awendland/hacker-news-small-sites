<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 1]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 1. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Thu, 24 Dec 2020 01:29:48 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-1.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Thu, 24 Dec 2020 01:29:48 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[From product analytics to product observability]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25504778">thread link</a>) | @bastienbeurier
<br/>
December 22, 2020 | https://www.lantern.so/blog/from-product-analytics-to-product-observability | <a href="https://web.archive.org/web/*/https://www.lantern.so/blog/from-product-analytics-to-product-observability">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>Early ventures don't start with optimization. You begin with a big, bold bet that whatever you‚Äôre going to make will cause a revolution. Your product goes through several iterations, entirely transforming throughout the process. You test the strength of a founder's dream.</p><p>Products at this stage are simple, characterized by one 'killer' feature. Often the product doesn't have the chance to fulfill the advertised value and that's okay. The goal at this stage is to validate the appetite of the users: attract them, disappoint them, and leave them hungry for more.</p><p>Product development in this context is chaotic. No roadmap, mostly negative feedback, no clear sense of progress, and definitely no certainty when the next pivot will come. No one knows how the product will look in a month. It's the 'build things that don't scale' phase, taking shortcuts that somewhat work and dealing with most problems later.</p><p>This is where your headlight comes in: product analytics. You use product analytics to drill down what works and what doesn't. Product analytics also tell you if people are actually using your product: you choose a 'North Star' metric that guides your company in the right direction and tells you if your efforts are bearing fruit.</p><p>Then, the company moves on to the next phase. The road ahead becomes clear, product development becomes more linear, and the product itself stabilizes. It's all about doing more of the same thing. You start to build things that scale. It's the beginning of the optimization phase.</p><p>Your roadmap is clearer, traffic grows, the product becomes more and more complex and dynamic. A variety of variables start to influence the way your product performs: marketing, sales, product development, customer success, support, business development, partnerships, promotions, etc.</p><p>You realize all of a sudden the data that helped you find your feet is overwhelming you. You're swimming in data from more and more sources about how your user-base is growing, how people are interacting with your brand and your product. As your data stack grows larger and your dashboards multiply, you start getting the feeling that you‚Äôre missing something vital.</p><p>In this fast-growing deluge of data, a missing piece comes into play: product observability. Product observability keeps track of user behavior all the time, at the finest level of granularity to the highest level of abstraction.</p><p>There are many reasons why people change their behavior. Adjustments to the product, holidays, a new offering from a competitor, changing habits, etc. Product observability is capable of spotting those changes and flagging the issue as a problem or, perhaps, an opportunity. Product observability analyzes all your data all the time, noticing the finest-grained changes to overarching trends.</p><p>Product observability is proactive. Product observability informs you that something needs your attention due to a change in user behavior. Or, you learn that what you're doing is working really well and you need to double-down on your efforts. You get details on the origin of the changes and the impact it could have on your business.</p><p>Once you've reached the market with your product, you already know that you're creating value for people. But now the question becomes how much value can you capture? And for how many users? Product observability optimizes your product's ability to create value by automatically giving you feedback on what you need to fix and keep on doing.</p><p>If you‚Äôre interested in trying proactive analytics, sign up for Lantern's early access program <a href="https://lantern.so/">here</a>.</p></div></div><div><div><div><p>Subscribe to our newsletter</p><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><h4>About</h4><p>Ideas and advice on how to leverage analytics in modern product teams.</p></div></div></div></div></div>]]>
            </description>
            <link>https://www.lantern.so/blog/from-product-analytics-to-product-observability</link>
            <guid isPermaLink="false">hacker-news-small-sites-25504778</guid>
            <pubDate>Tue, 22 Dec 2020 10:17:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why can‚Äôt you buy a good webcam?]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25504771">thread link</a>) | @murkt
<br/>
December 22, 2020 | https://vsevolod.net/good-webcams/ | <a href="https://web.archive.org/web/*/https://vsevolod.net/good-webcams/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
        <p>Some people are not satisfied with a webcam from their notebook or an old webcam
they bought many years ago.</p>
<p>My brother decided he wants to try streaming. Some people can just do a thing
and other people want to research all the bits and pieces beforehand. Our chat
history is comparable in length to all my other chats combined, so I learned a
lot of it as well. The craft is full with small details and inconveniences.</p>
<p>He found that there are basically no good webcams. A lot of the time an image
quality is meh, and the rare presence of 4k is usually not better than 1080p,
because resolution is not quality. Some camera apparently does upscaling from
1080p to 4k in its driver, indicated by poor quality and high CPU load. He also
has a really good camera, Fujifilm X-T1. It can't be used as a webcam when
connected to a USB port. Usually it's possible to buy an HDMI-to-USB converter,
but his camera can't output a live stream into HDMI, only a recorded video.</p>
<p>So we had an idea ‚Äî maybe it is possible to create a good webcam
ourselves. Would anybody care? Well, it‚Äôs almost 2021 now, streaming is still on
the rise, pandemic is going strong and video meetings are everywhere. People are
willing to spend some money, as indicated by countless videos on YouTube
regarding the problem.</p>
<p>Let‚Äôs start with defining what is a good webcam.</p>
<p>A good webcam, in my opinion, is a device that provides a decent sound quality,
at least on par with recent MacBooks, and an image quality on par with top
smartphones, such as iPhone 11/12, Huawei P40 Pro, etc. As smartphones have a
good image quality, then we could probably manufacture a webcam from smartphone
parts that are cheap and easily available. How hard can it be?</p>
<p>If you‚Äôve read at least a couple of articles on the topic of video production,
you will know that to make quality content from the technical standpoint you
need three things, in that particular order:</p>
<ol>
<li>Sound</li>
<li>Light</li>
<li>Video quality</li>
</ol>
<p>Let's discuss these properties and later how to manufacture it.</p>
<h3 id="sound">Sound<a href="#sound" aria-label="Anchor link for: sound">üîó</a></h3>
<p>If you have a recent MacBook, it provides a decent sound quality with its
three-mic array. I haven't researched it and don‚Äôt know much about other
notebooks' audio quality. If you have a desktop PC, you have to have some
external mic anyway.</p>
<p>If the web camera has shitty audio quality, you‚Äôll have to buy additional
gear. When I researched the topic, one of the recently released webcams
(available from October 2020) with RRP of $180 was producing a sound as if a
person sits in a big plastic barrel with a closed lid. Their voice was very
muffled with lots of resonant rattles. That level of quality wasn‚Äôt acceptable
10 years ago, how this piece of gear could have been produced in 2020 escapes my
understanding.</p>
<p>There are many good enough USB mics for $50+, you also can buy a great XLR
microphone for $100, but then you‚Äôll need an external sound card with phantom
power supply. A decent one can easily cost you $200.</p>
<p>With almost any of these options you‚Äôll have to install and configure some
software that will provide sound level compression, noise suppression (because
your notebook fans are spinning like hell) and won‚Äôt produce clicks in the
process.</p>
<p>I would like my webcam to do this by itself, no rattling, minimized echo, etc.</p>
<h3 id="light">Light<a href="#light" aria-label="Anchor link for: light">üîó</a></h3>
<p>A lot of what makes a picture great comes from lighting the scene in a correct way.</p>
<p>The simplest thing is to sit in a room so the window is in front of you and the
Sun isn‚Äôt shining into a lens from behind your shoulder.</p>
<p>Webcam cannot provide decent lighting capabilities by itself, so I won‚Äôt spend
much time here. There is a <a href="https://www.razer.com/streaming-cameras/razer-kiyo/RZ19-02320100-R3M1">webcam by
Razer</a>
with a built-in LED circle, but it‚Äôs necessarily small, always shines from a
webcam direction and is mostly a gimmick.</p>
<p>We can rely somewhat on the good sensor here. If it provides good dynamic range,
HDR capabilities and good low-light performance, then a patch of sunlight on the
wall won't turn everything else black, or a poorly lit room won't turn into a
gray noisy picture with a bleak silhouette.</p>
<h3 id="image-quality">Image quality<a href="#image-quality" aria-label="Anchor link for: image-quality">üîó</a></h3>
<p>It‚Äôs impossible to get a good lens and image sensor into a notebook lid, because
lids are very thin. They‚Äôre often something like 4 mm thick all together, and
there is no escaping physics. Of course, it's possible to put a webcam into a
thick part below the lid, but then it'll be useful for expressing anger at our
colleagues with wide-open nostrils and not much else.</p>
<p>Maybe some crazy engineer in the future will develop an array of small sensors
with an array of tiny lenses and somehow combine all that into a good image
quality, but we don't have this tech yet. Any smartphone with a good camera has
that camera with an ugly protruding lens as a thickest part of the phone.</p>
<p>So, if you want something better than a notebook's webcam, you can get some
Logitech webcam with an image quality going back to 2012. It‚Äôs still better than
a laptop, but nowhere close to current smartphones.</p>
<p>What if you want better still? The next option is to install an app on the phone
and use it as a webcam. This gives a very good image quality, but it‚Äôs very
inconvenient and in some applications doesn‚Äôt work at all. For some reason it
isn‚Äôt always presented in applications as an option when choosing a video
source.</p>
<p>I don‚Äôt want to constantly attach, detach, charge my phone and tune the position of
a small tripod. What‚Äôs the next option?</p>
<p>The next option is to just buy a mirrorless photo-camera with a big fat 4/3‚Äù or
even APS-C sensor. It will cost $500+ for a new one (you can buy used for
cheaper). You will also need some gear to hold the camera in place, as it won‚Äôt
just rest on the top of the screen like a regular webcam. You also need an
HDMI-to-USB video grabber, and you need to be sure that the camera you buy can
output full resolution live onto that HDMI. Also make sure that it's possible to
turn off all on-screen info like <code>1/100s F3.5 ISO 800</code>, which is useful when
you're shooting photos and videos through viewfinder, but not so much when
you're in a video meeting. This feature is called "Clean HDMI".</p>
<p>Of course, you will have a lot of control over the whole stuff ‚Äî set a
diaphragm, get good bokeh, set ISO, set white balance, etc. Do you actually need
it? Well, some of you do, and a lot of you do not. I learned all that stuff when
I was 16, but now I‚Äôm pretty happy with how my phone chooses everything for me
and just does great photos.</p>
<p>All that sounds pretty involved, isn‚Äôt it? It is a lot of time to research what
you need, how to set it all up, and a lot of money too.</p>
<h3 id="manufacturing-it">Manufacturing it<a href="#manufacturing-it" aria-label="Anchor link for: manufacturing-it">üîó</a></h3>
<p>So there is a market gap between so-so webcams for $100-200 and a full-blown
setup with a mirrorless camera, an external mic and lighting panels that will
cost almost a grand or two, if you're so inclined.</p>
<p>I thought that it is a good idea to create an "upmarket" webcam for $250-300
that will provide good audio and video quality, on par with current smartphones,
actually using the same parts. As smartphones are made in tens of millions, all
relevant parts should be cheap and easily obtainable.</p>
<p>I quickly contacted some people who could help me do the project ‚Äî firmware
engineer, electric engineer and a company that does mechanical design.</p>
<p>What features are needed for a good webcam for streamers and video meetings?
Audio: good parts (mics and ADC), good mechanical design and assembly (so
nothing would rattle), and some post-processing. We certainly want some
beam-forming capabilities to be able to focus on the person in front of the
webcam, so we will need more than one microphone, maybe up to 4. These parts are
easy to obtain, there are many in stock, it's not a problem.</p>
<p>Even if I think that 4k is not needed, I‚Äôm pretty sure it‚Äôs really a requirement
to have in an upmarket webcam, as it will be really hard to sell a pricey webcam
that can only do 1080p.</p>
<p>Also would be very nice to have some neural network inference on the chip, so we
can run some AI stuff directly on the webcam without bothering a user‚Äôs computer
that can be busy with other things.</p>
<p>I easily found a three-piece assembly for the iPhone 11 Pro for fifty bucks,
two-piece from a Huawei P40 Pro for twenty five and a one-piece from P40 Lite for
ten dollars. That‚Äôs with a lens, and bought in retail. Does it mean it costs
peanuts (less than $5 for a sensor) to buy in bulk to produce my own webcam?
Well... Maybe. I can‚Äôt just go and buy a couple thousands of these sensors. I‚Äôm
pretty sure I can buy a couple thousands of replacement parts for phones, but
sensors themselves are not sold freely. It's easy to buy some "random" sensor
that was around for years and most certainly has "meh" quality by today's
standards, but we need a good one, with good dynamic range, HDR capabilities and
low-light performance.</p>
<p>I wrote to several vendors asking them what are the prices and conditions, and
basically their answer is either silence or ‚Äúwe‚Äôll sell it if you will buy
hundreds of thousands per year‚Äù.</p>
<p>I've found suitable System-on-Chips, and it's the same ‚Äî if we want to have
hardware 4k encoder, it's either "sorry, it was a demo part and we don't do it",
or "we have limited support capabilities, so we can only sell if you will buy
hundreds of thousands, maybe you want some SoMs from our partners?". It is
actually possible to buy System-on-Modules even in very small quantities, but
it's going to be pretty expensive and will be good for a prototype, but for
production it will blow past our budget. System-on-Module will cost almost the
same as the web camera itself.</p>
<p>Oh, and a lead time (from order to shipment) is systematically 16+ weeks. It
means they have no stock and will place an order at semiconductor foundry, have
it produced, packaged and sent to customer. Swiftly.</p>
<p>It means I cannot just build five hundred webcams, see how good are they selling
and build a couple thousand, and so on.</p>
<p>There is also a plastic injection step that requires upfront investment to
manufacture molds, and of course design and engineering costs. All combined it
was tens of thousands ‚Ä¶</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://vsevolod.net/good-webcams/">https://vsevolod.net/good-webcams/</a></em></p>]]>
            </description>
            <link>https://vsevolod.net/good-webcams/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25504771</guid>
            <pubDate>Tue, 22 Dec 2020 10:16:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Functional Architecture Demo]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25504355">thread link</a>) | @simendsjo
<br/>
December 22, 2020 | https://functional.christmas/2020/22 | <a href="https://web.archive.org/web/*/https://functional.christmas/2020/22">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><section>
<p>In this post, I'm going to show the design of a functional program which
solved a difficult problem while being easy to get right and performant.
By avoiding mutation, we were also able to implement "time-travel" to
look how an action would affect the future, easy rollbacks and stale
data detection.</p>
<p>In OOP, there are often deep call-stacks, which I consider a smell
itself, and mutation of state and side-effects often happen at a deep
level. When constructing an application which should be mostly pure with
immutable data, we have to push the side-effects up the call-stack to
the outer boundary. This means that we need to return to the caller
rather than keep diving deeper in the call-stack.</p>
<p>To recap some terminology:</p>
<p>pure<br>
Given the same arguments, it returns the same result. And it has no
effect (other than generating heat) on the outside world. This means no
visible mutation, and no visible side-effects.</p>
<p>immutable<br>
Once a value is set, it cannot be changed. "Mutation" is done by
constructing a new copy rather than modifying in place.</p>
<p>side-effect<br>
A modification to state outside the local environment.</p>
<p>There are some key parts in the architecture I'm demoing here:</p>
<p>State<br>
A record containing all state in the application</p>
<p>Operation<br>
A small language of verbs which describes changes to <code>State</code></p>
<p>ApplicationEvent<br>
Some external event which should trigger changes to our state</p>
<p>Handler<br>
A function which maps from an <code>ApplicationEvent</code> to an <code>Operation</code></p>
<p>You don't need an event driven application to take advantage of the
architecture in this post. Using just immutable state with pure
functions to change the state, will still yield most of the benefits.
Having events and a custom language might be a nice addition, or it
might be over-engineering.</p>
<p>Given the above parts, the flow of the application is then:</p>
<ul>
<li>Something triggers an <code>ApplicationEvent</code></li>
<li><code>Handlers</code> translates to <code>Operations</code></li>
<li>We run each <code>Operation</code> on the <code>State</code>, producing an updated <code>State</code></li>
<li>We use the new state for fun and profit</li>
</ul>
<p>When the new state is produced, we can act on the result by interpreting
the changes. We might validate the changes. We might save to the
database. We might detect stale data by rerunning the application. We
might use it for transactions. Our production implementation does all
this, not just without any side-effects or mutation, but <strong>because</strong>
there are no side-effects or mutations. We can safely rerun things,
throw away things, copy, interpret results, and there are never a chance
of introducing an error outside of our changes ‚Äì Changes in one place
can never affect something else.</p>

<p>We'll go through the key parts of our <a href="https://github.com/simendsjo/functional-christmas-2020_functional-architecture-demo/blob/main/Small.fs">Small</a> demo.
More/different comments are in the actual source file, so I encourage
you to look there as well.</p>
<p>The demo will model changes to an Order Line in an online shopping
chart. It's probably completely overkill for such use, but it's
difficult to create good examples ‚Äì see an actual use-case in the Large
demo.</p>
<p>We can Add an OrderLine, we can Increment and Decrement the count, and
we can Remove an OrderLine. To make things a bit more interesting, I
also added a Reset and Add with another initial count than 1.</p>
<p>We'll use an integer as a unique id for the OrderLine, and a integer for
the actual count and initial value.</p>
<div data-language="fsharp"><pre><code><span>type</span> <span>Key</span> <span>=</span> int
<span>type</span> <span>Value</span> <span>=</span> int</code></pre></div>
<h2>Defining a custom language for our domain</h2>
<p>We encode the possible operations on an OrderLine using a Discriminated
Union (also called a Sum Type). These operations are the verbs in our
domain, and our Embedded Domain Specific Language (EDSL) for
manipulating OrderLine items.</p>
<p>Only Set is needed to support our described operations, but we create
some more constructs in our language. Putting more in the language will
make mapping events to operations simpler as the language is more
expressive, at the cost of a more complex language. It's difficult to
decide what goes in the language, and what should only be helper
functions. If you need to distinguish between different operations (e.g.
increment vs set) when interpreting the operations, having them as
separate operations might be a good idea.</p>
<div data-language="fsharp"><pre><code><span>type</span> <span>Operation</span> <span>=</span>
    <span>|</span> Set <span>of</span> <span>(</span>Key <span>*</span> Value<span>)</span>
    <span>|</span> Reset <span>of</span> <span>Key</span>
    <span>|</span> Remove <span>of</span> <span>Key</span>
    <span>|</span> Incr <span>of</span> <span>Key</span>
    <span>|</span> Decr <span>of</span> <span>Key</span></code></pre></div>
<h2>Application state as an immutable record</h2>
<p>The State is where we hold information about all OrderItems. The state
includes things necessary to execute our lanugage. In addition, we keep
things which is convenient for other usecases, but could in theory just
as well be held in other structures. The <code>Audit</code> field is a list of all
operations which has been executed, which makes it easy to do things
like maintaining an audit log, persisting changes, detecting stale data,
rollback transactions, and so on.</p>
<p>Our last field, <code>LastPersisted</code>, is state for the interpreter which
persists changes to disk. Depending on the interpreter and application,
this state might be better to keep separate.</p>
<p>Having a single structure makes it easy to have a clean architecture
without much boilerplate (just <code>State -&gt; State</code> functions), but it can
be difficult to find out what information is used where, and who changes
what. As with any decision, it's a tradeoff, but having a simple
architecture might be more beneficial than a clean separation of state ‚Äì
remember, there is no mutation or side-effects in the functions which
operates on the state!</p>
<div data-language="fsharp"><pre><code><span>type</span> <span>State</span> <span>=</span> <span>{</span>
    Data <span>:</span> <span>Map</span><span>&lt;</span>Key<span>,</span> <span>(</span>Value <span>*</span> Value<span>)</span><span>&gt;</span> 
    Audit <span>:</span> <span>Operation</span> list
    LastPersisted <span>:</span> <span>Operation</span>
<span>}</span> <span>with</span>
    <span>static</span> <span>member</span> Empty <span>=</span> <span>{</span>
        Data <span>=</span> Map<span>.</span>empty
        Audit <span>=</span> <span>[</span><span>]</span>
        
        LastPersisted <span>=</span> Remove <span>-</span><span>1</span>
    <span>}</span></code></pre></div>
<h2>Helpers for "manipulating" state, i.e. State -&gt; State functions</h2>
<p>As you start creating mappings from <code>ApplicationEvent</code> to <code>Operation</code>,
you'll quickly see patterns repeating for state querying and
manipulation. I like to extract these to helper functions as I go. For
our demo, I've created three helper functions.</p>
<p>Notice that the design here is to "never fail", and rather just return
sensible defaults instead. This of course depends on the application,
but this demo is modelled after our production application, which should
never fail to process an event.</p>
<div data-language="fsharp"><pre><code><span><span>[&lt;</span><span>Literal</span><span>&gt;]</span></span>
<span>let</span> defaultInitial <span>=</span> <span>1</span>


<span>let</span> getValue <span>(</span>key <span>:</span> <span>Key</span><span>)</span> <span>(</span>state <span>:</span> <span>State</span><span>)</span> <span>:</span> <span>(</span>Value <span>*</span> Value<span>)</span> <span>=</span>
    state<span>.</span>Data
    <span>|&gt;</span> Map<span>.</span>tryFind key
    <span>|&gt;</span> Option<span>.</span>defaultValue <span>(</span>defaultInitial<span>,</span> defaultInitial<span>)</span>


<span>let</span> setInitialAndValue <span>(</span>key <span>:</span> <span>Key</span><span>)</span> <span>(</span>initial <span>:</span> <span>Value</span><span>)</span> <span>(</span>value <span>:</span> <span>Value</span><span>)</span> <span>(</span>state <span>:</span> <span>State</span><span>)</span> <span>:</span> State <span>=</span>
    <span>{</span> state <span>with</span> Data <span>=</span> Map<span>.</span>add key <span>(</span>initial<span>,</span> value<span>)</span> state<span>.</span>Data <span>}</span>


<span>let</span> setValue <span>(</span>key <span>:</span> <span>Key</span><span>)</span> <span>(</span>value <span>:</span> <span>Value</span><span>)</span> <span>(</span>state <span>:</span> <span>State</span><span>)</span> <span>:</span> State <span>=</span>
    <span>let</span> initial<span>,</span> _ <span>=</span> getValue key state
    setInitialAndValue key initial value state</code></pre></div>
<h2>Interpreting our language and executing on State</h2>
<p>With the helper functions, we're now able to process our language. We'll
look at each operation, and manipulate the state accordingly. As a final
step, we log the operation we've executed. Even though we "execute" the
language, we're not mutating any existing state or doing any
side-effects. We're creating a new state as we go. It's thus important
that we use immutable/persistent datastructures that's fast for such
use, and that we're using them correctly e.g. by prepending to the list
rather than appending.</p>
<p>You might notice a <code>print</code> inside here, and scream SIDE-EFFECT! And yes,
it's true, but it's for demo purposes, and you shouldn't do this :)</p>
<div data-language="fsharp"><pre><code><span>let</span> execute <span>(</span>op <span>:</span> <span>Operation</span><span>)</span> <span>(</span>state <span>:</span> <span>State</span><span>)</span> <span>:</span> State <span>=</span>
    <span>match</span> op <span>with</span>
    <span>|</span> Set <span>(</span>key<span>,</span> value<span>)</span> <span>-&gt;</span>
        setValue key value state
    <span>|</span> Reset key <span>-&gt;</span>
        <span>let</span> initial<span>,</span> value <span>=</span> getValue key state
        setInitialAndValue key initial value state
    <span>|</span> Remove key <span>-&gt;</span>
        <span>{</span> state <span>with</span> Data <span>=</span> Map<span>.</span>remove key state<span>.</span>Data <span>}</span>
    <span>|</span> Incr key <span>-&gt;</span>
        <span>let</span> _<span>,</span> value <span>=</span> getValue key state
        setValue key <span>(</span>value <span>+</span> <span>1</span><span>)</span> state
    <span>|</span> Decr key <span>-&gt;</span>
        <span>let</span> _<span>,</span> value <span>=</span> getValue key state
        setValue key <span>(</span>value <span>-</span> <span>1</span><span>)</span> state
    <span>|&gt;</span> <span>fun</span> state <span>-&gt;</span>
        printfn <span>"Executed %A"</span> <span>op</span>
        <span>{</span> state <span>with</span> Audit <span>=</span> op <span>::</span> state<span>.</span>Audit <span>}</span></code></pre></div>
<h2>Interpreting our language and auditlog to persist to database</h2>
<p>Now that we have a way of changing the state, we can write an
interpreter that runs side-effects. This simulates writing to a
database. Remember that this interpreter has its state in <code>State</code>, so it
has to return a copy of it. In Haskell, this would be a
<code>State -&gt; IO State</code> function as it has side-effects, but in F#, we just
do side-effects without help from the type-system. The interpreters can
be made more efficient by avoiding unnecessary work. [Add 1, Remove 1]
can be reduced to a noop.</p>
<div data-language="fsharp"><pre><code><span>let</span> persist <span>(</span>state <span>:</span> <span>State</span><span>)</span> <span>:</span> State <span>=</span>
    state<span>.</span>Audit
    <span>|&gt;</span> Seq<span>.</span>takeWhile <span>(</span><span>fun</span> op <span>-&gt;</span> <span>not</span> <span>(</span>obj<span>.</span><span>ReferenceEquals</span><span>(</span>op<span>,</span> state<span>.</span>LastPersisted<span>)</span><span>)</span><span>)</span>
    <span>|&gt;</span> Seq<span>.</span>rev
    <span>|&gt;</span> Seq<span>.</span>fold <span>(</span><span>fun</span> state op <span>-&gt;</span>
        printfn <span>"Saving %A"</span> <span>op</span>
        <span>{</span> state <span>with</span> LastPersisted <span>=</span> op <span>}</span>
    <span>)</span> state</code></pre></div>
<h2>Mapping application events to our custom language</h2>
<p>We still haven't hooked our implementation up to the outer application,
but let's do this now. The key part is our <code>Handler</code> function which does
the mapping. It can access the state in case it needs to look at
anything, and it returns an <code>Operation option</code> in case the
<code>ApplicationEvent</code> should trigger a change in the state. An alternative
implementation could return <code>Operation list</code> instead to support 0+
rather than just 0-1. For events which should trigger more than one
change, we can just write multiple handlers, which is what we did in our
production application. In retrospect, a list would have been more
expressive, and might have made some mappings more readable.</p>
<div data-language="fsharp"><pre><code><span>type</span> <span>ApplicationEvent</span><span>(</span>key<span>)</span> <span>=</span>
    <span>member</span> <span>val</span> Key <span>=</span> key <span>with</span> get<span>,</span> set

<span>type</span> <span>Handler</span> <span>=</span> State <span>-&gt;</span> ApplicationEvent <span>-&gt;</span> Operation option</code></pre></div>
<p>Given an event has happened in the application, we need a way to run
this through all possible handlers, accumulating the changes. This
implementation runs in sequence, where each handler will see the changes
done by the previous. Depending on the use-case, you might want to run
them in parallel, merging the result, or similar.</p>
<div data-language="fsharp"><pre><code><span>let</span> handle <span>(</span>handlers <span>:</span> <span>Handler</span> list<span>)</span> <span>(</span>ev ‚Ä¶</code></pre></div></section></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://functional.christmas/2020/22">https://functional.christmas/2020/22</a></em></p>]]>
            </description>
            <link>https://functional.christmas/2020/22</link>
            <guid isPermaLink="false">hacker-news-small-sites-25504355</guid>
            <pubDate>Tue, 22 Dec 2020 08:59:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Testing your code is not optional]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25504016">thread link</a>) | @alfotis
<br/>
December 21, 2020 | https://www.falexandrou.com/2020/12/20/testing-your-code/ | <a href="https://web.archive.org/web/*/https://www.falexandrou.com/2020/12/20/testing-your-code/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
<h3 id="lets-start-with-a-story">Let‚Äôs start with a story‚Ä¶</h3>
<p>A quadrillion years ago, I used to work for companies none of which had automated tests in place and believe it or not,
testing was not that popular; We wrote the code, tested manually on our local machines, deployed our newly committed
piece of art and called it a day. If however, something went wrong, we tried to replicate the issue on a test environment,
fixed it, deployed the fix and so on, usually hoping that the fix wouldn‚Äôt introduce a <a href="https://en.wikipedia.org/wiki/Software_regression">regression</a>.</p>
<p>Then, writing unit tests somehow gained traction and became popular among developers who liked following best practices but still,
there was a lot of ground to be covered in fast-moving startups and agencies, where delivering projects is a time-sensitive thing.
I even remember debating the lead developer of a VC-backed startup, who at some point insisted that testing is a waste of time and that‚Äôs why they didn‚Äôt do it.</p>
<h4 id="so-is-testing-our-code-a-waste-of-time">So, is testing our code a waste of time?</h4>
<p><strong>No, it‚Äôs not!</strong> Believe it or not though, this was (hopefully isn‚Äôt anymore) a somehow acceptable opinion a few years back.
While testing may require some development time, it actually helps save enormous amounts of time if done properly.</p>
<p>Let‚Äôs think of the following scenario:</p>
<ul>
<li>A developer works on Feature X for a few days, completes their work and pushes code to the testing environment.</li>
<li>Then, a QA or the developer themselves tests manually, finds a couple of issues which are then fixed and the project hits production.</li>
<li>The code then interacts with user-input or other existing data in a database and errors occur.</li>
<li>The Product Owner raises a ticket, assigns the QA, the QA reproduces the issue, adds technical information to the ticket, sends it to the developer,
they apply a fix and the ticket goes back n forth between the stakeholders until the code hits production.</li>
</ul>
<p>In the meantime, there might be regression issues and the back n forth continues until at some point the ticket closes, while several others have been raised.</p>
<p>Chaos? Yes. Reminds you of something? It certainly does for me. This was the daily, fire-fighting routine for the lead developer that was mentioned earlier.</p>
<p>Having an efficient and detailed testing suite in place, saves you some of this trouble; The code and tests are written, the QA does what they‚Äôre supposed to do,
(make sure the finished product meets certain quality standards), instead of getting blocked becaused they stumbled upon a tiny mistake that could have been caught beforehand.
Ideal? Maybe. Let‚Äôs now break down the several ways we can save time.</p>
<h4 id="testing-is-a-safety-net-but-also-a-documentation-and-developer-onboarding-tool">Testing is a safety net, but also a documentation and developer onboarding tool</h4>
<p>Usually, the scope of a function is (or should be) limited and, depending on the input, there are certain outcomes.
Covering a few default cases, should be a nice way to test said function and save ourselves (and the QA) some time being stopped by runtime errors that would easily be prevented.</p>
<p>If however not all cases were covered and some bug gets reported, it‚Äôs fine (in fact great!) because this means we‚Äôre enhancing the testing suite with another case,
making our code even more resilient.</p>
<p>Along with this benefit, there lies another: Tests are a great (yet, not the only) documentation and onboarding tool, which
means that they should be clear, descriptive and be able to provide a high level overview of what the code should accomplish.</p>
<p>For example, here is an excerpt from a few tests I wrote for a Django view that launches deployment operations:</p>
<div><div><pre><code><span>def</span> <span>it_creates_and_runs_an_operation_given_a_commit_reference</span><span>(</span><span>mock_user</span><span>,</span> <span>create_operation_data</span><span>):</span>
    <span># ...
</span>    <span>assert</span> <span>response</span><span>.</span><span>status_code</span> <span>==</span> <span>201</span>
    <span>assert</span> <span>response</span><span>.</span><span>data</span><span>[</span><span>'id'</span><span>]</span>
    <span>assert</span> <span>response</span><span>.</span><span>data</span><span>[</span><span>'kind'</span><span>]</span> <span>==</span> <span>'deployment'</span>
    <span># ...
</span>    <span>assert</span> <span>operation</span><span>.</span><span>is_running</span>

<span>def</span> <span>it_creates_and_runs_an_operation_without_a_commit_reference</span><span>(...):</span>
    <span># ....
</span>    <span>assert</span> <span>operation</span><span>.</span><span>is_running</span>
    <span>assert</span> <span>mock_celery_task</span><span>.</span><span>call_count</span> <span>==</span> <span>1</span>
    <span>assert</span> <span>operation</span><span>.</span><span>reference</span> <span>==</span> <span>expected_commit_information</span><span>[</span><span>'reference'</span><span>]</span>

<span>def</span> <span>it_does_not_start_the_operation_when_another_is_queued_prior_to_it</span><span>(...):</span>
    <span># Create an operation that is queued prior to the one we're queueing
</span>    <span>prior</span> <span>=</span> <span>operation_factory</span><span>.</span><span>create</span><span>(...)</span>
    <span># ...
</span>    <span>assert</span> <span>response</span><span>.</span><span>status_code</span> <span>==</span> <span>201</span>
    <span># ...
</span>    <span>assert</span> <span>not</span> <span>operation</span><span>.</span><span>can_start</span><span>()</span>
    <span>assert</span> <span>not</span> <span>operation</span><span>.</span><span>is_running</span>
    <span>assert</span> <span>not</span> <span>mock_celery_task</span><span>.</span><span>call_count</span>
    <span>assert</span> <span>operation</span><span>.</span><span>is_queued</span>
</code></pre></div></div>
<p>We now have of tests, groupped together with descriptive names, that provide an outline
that an operation can be started with or without a given reference, and what the expected statuses for the model in the database
and the returned HTTP status code should be. When I revisit this example in the future, or whenever a new hire joins the project,
it will hopefully be obvious to them, what the expected behavior should be without having to read long documentation.
Also, it covers three of the most common cases in the system, related to the ‚Äúoperations‚Äù feature.</p>
<h4 id="keeping-tests-fast--testing-the-right-things">Keeping tests fast &amp; testing the right things</h4>
<p>Assuming you are using a web framework like Django or Ruby on Rails and you need to test an ORM or an ActiveRecord model,
it doesn‚Äôt make any sense to test the <code>.save</code> or <code>.get</code> methods, because they‚Äôre already tested for you by
the amazing people that build the framework of choice. However, testing a custom validator you have
added to your model is a requirement.</p>
<p>The scope of a test should be limited as well. Let‚Äôs take the following real-world example where we use pytest (with some syntactic sugar)
to test a <a href="https://docs.celeryproject.org/en/stable/userguide/index.html">celery task</a> that starts a queued deployment operation.
The <code>create_container</code> function runs a Docker container, but testing this is a) out of the given scope and b) slow if we create the actual container.
The solution to this issue would be to <a href="https://en.wikipedia.org/wiki/Mock_object">mock</a> the <code>create_container</code> call within the current scope:</p>
<div><div><pre><code><span>@</span><span>pytest</span><span>.</span><span>mark</span><span>.</span><span>django_db</span>
<span>def</span> <span>describe_start_operation_task</span><span>():</span>
    <span>def</span> <span>it_runs_the_task</span><span>(</span><span>queued_deployment</span><span>,</span> <span>mock_container</span><span>):</span>
        <span>allow</span><span>(</span><span>tasks</span><span>).</span><span>create_container</span><span>.</span><span>and_return</span><span>(</span><span>mock_container</span><span>)</span>
        <span>assert</span> <span>not</span> <span>queued_deployment</span><span>.</span><span>task_id</span>
        <span>assert</span> <span>not</span> <span>queued_deployment</span><span>.</span><span>container_id</span>

        <span># run the task
</span>        <span>celery_task</span> <span>=</span> <span>tasks</span><span>.</span><span>start_operation</span><span>.</span><span>s</span><span>(</span><span>operation_id</span><span>=</span><span>queued_deployment</span><span>.</span><span>id</span><span>).</span><span>apply_async</span><span>()</span>

        <span># make sure the deployment fields were populated accordingly
</span>        <span>queued_deployment</span><span>.</span><span>refresh_from_db</span><span>()</span>
        <span>assert</span> <span>queued_deployment</span><span>.</span><span>task_id</span> <span>==</span> <span>celery_task</span><span>.</span><span>id</span>
        <span>assert</span> <span>queued_deployment</span><span>.</span><span>container_id</span> <span>==</span> <span>mock_container</span><span>.</span><span>id</span>
</code></pre></div></div>
<p><a href="https://twitter.com/sandimetz">Sandi Metz</a> and <a href="https://twitter.com/kytrinyx">Katrina Owen</a> in their
great book <a href="https://sandimetz.com/99bottles">99 Bottles of OOP</a>, clearly and constantly state that
the tests should run upon every line of code that gets changed and they‚Äôre right. In practice, this
means that you should be able to run all your test suite as fast as possible.</p>
<p>In our example, we managed to save quite some time by mocking the docker container creation, which
is handled internally by a well tested library. Other examples might include external network requests,
big files loaded, email sending etc.</p>
<p>You might also have noticed in my examples that there is a certain degree of duplication. This is fine.
The tests are not a place to practice <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">DRY</a>; they
should be explicit and detailed in order for the other person to be able to understand every tiny bit of the process,
but also, doing fancy things usually leads to errors and you do want your tests to be straight-forward and valid.</p>
<h4 id="meet-your-new-best-friends">Meet your new best friends</h4>
<p>In the examples provided above, I introduced a few concepts that you might not be familiar with so far,
but will become your new best friends when you dive deep into testing: Factories, Fakes, Fakes, Stubs and Mocks.
Here‚Äôs some basic guidelines that would help you decide what you need each time:</p>
<ul>
<li>If you want an object and with random data, register a factory.</li>
<li>If you need an object with specific, predictable data, go for a fixture.</li>
<li>If you need a simplified version of a method or a class, with limited functionality, fake it.</li>
<li>If you need a set of predefined data returned by a method, stub it.</li>
<li>If you just need to count the calls to a method, mock it.</li>
</ul>
<h4 id="how-having-a-proper-test-suite-improves-your-code">How having a proper test suite improves your code</h4>
<p>Writing code with testability in mind, eventually leads to cleaner code, simply because in order to keep the tests simple,
one has to write short-scoped code that is limited to specific things. Long methods that do several things
are as hard to test as to maintain so, having testability in mind, meaning that you <strong>have</strong> to test such pieces of code,
practically acts as an incentive to keep the code maintainable.</p>
<p>Finally, refactoring and cleanup tasks, are a lot safer when the code is covered by reliable tests that will
stop your deployment when something breaks, which makes such tasks a breeze for the developer.</p>
<h4 id="theres-no-strategy-thats-better-than-others">There‚Äôs no strategy that‚Äôs better than others</h4>
<p>I am aware that picking a testing strategy and policy could be a difficult task, however I don‚Äôt think that a team should stress about it, also it should be a choice
that‚Äôs adapted to the team‚Äôs modus operandi, so that they adapt easily to it and it doesn‚Äôt seem like a huge shift from what they had been doing so far.</p>
<p>If the team wants to practice <a href="https://en.wikipedia.org/wiki/Behavior-driven_development">BDD</a> and that‚Äôs something that suits the project,
it should be OK. If the team doesn‚Äôt feel OK about doing <a href="https://en.wikipedia.org/wiki/Test-driven_development">TDD</a> where they should write tests in advance,
that should be fine as well, because the purpose is to save the team‚Äôs time, not force strict policies.
I am aware that methodologies exist for a reason, but experience shows that as long as the team are not practicing
<a href="https://www.hanselman.com/blog/fear-driven-development-fdd">FDD</a>, it should be OK.</p>
<h4 id="conclusion">Conclusion</h4>
<p>No matter how experienced or good we are at what we do, we will make that mistake. In order to avoid that annoying RuntimeError that
will disrupt our user‚Äôs delightful experience, we have to make sure that our code works well no matter what and luckily, we have the tools to do so.
Embrace testing, focus on covering as many scenarios as you can and feel comfortable deploying. Even on Friday‚Ä¶</p>
<h4 id="further-reading">Further reading</h4>
<ul>
<li><a href="https://web.stanford.edu/class/archive/cs/cs107/cs107.1212/testing.html">Software Testing Strategies</a> - Written by Julie Zelenski, with modifications by Nick Troccoli</li>
<li><a href="https://martinfowler.com/bliki/TestDouble.html">TestD‚Ä¶</a></li></ul></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.falexandrou.com/2020/12/20/testing-your-code/">https://www.falexandrou.com/2020/12/20/testing-your-code/</a></em></p>]]>
            </description>
            <link>https://www.falexandrou.com/2020/12/20/testing-your-code/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25504016</guid>
            <pubDate>Tue, 22 Dec 2020 07:55:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ampere Altra Wiwynn Mt. Jade Server Review the Most Significant Arm Server]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25503939">thread link</a>) | @rbanffy
<br/>
December 21, 2020 | https://www.servethehome.com/ampere-altra-wiwynn-mt-jade-server-review-the-most-significant-arm-server/ | <a href="https://web.archive.org/web/*/https://www.servethehome.com/ampere-altra-wiwynn-mt-jade-server-review-the-most-significant-arm-server/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <!-- image --><div><figure><a href="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-CPUs-and-Memory-Angled.jpg" data-caption="Wiwynn Mt Jade Ampere Altra CPUs And Memory Angled"><img width="696" height="465" src="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-CPUs-and-Memory-Angled-696x465.jpg" srcset="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-CPUs-and-Memory-Angled-696x465.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-CPUs-and-Memory-Angled-400x267.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-CPUs-and-Memory-Angled-629x420.jpg 629w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-CPUs-and-Memory-Angled.jpg 800w" sizes="(max-width: 696px) 100vw, 696px" alt="Wiwynn Mt Jade Ampere Altra CPUs And Memory Angled" title="Wiwynn Mt Jade Ampere Altra CPUs And Memory Angled"></a><figcaption>Wiwynn Mt Jade Ampere Altra CPUs And Memory Angled</figcaption></figure></div>
            <!-- content --><p>In our Ampere Altra powered Wiwynn Mt. Jade server review, we are going to see why we feel this is the most significant new server of 2020.&nbsp;Wiwynn is far from a household name but it should not be unfamiliar to STH readers. STH got an exclusive tour in Q4 2018 of the company‚Äôs headquarters. You can read about that in <a href="https://www.servethehome.com/where-cloud-servers-come-from-visiting-wiwynn-in-taipei/">Where Cloud Servers Come From Visiting Wiwynn in Taipei</a>. Although Wiwynn may not be called out in press releases such as the&nbsp;<a href="https://www.servethehome.com/idc-3q20-server-tracker-dell-and-hpe-with-big-share-gain-lenovo-inspur-huawei/">IDC 3Q20 Server Tracker</a> it counts large cloud providers such as Facebook and Microsoft among its customers and has revenue of almost $6B USD per year the last time we checked. Compared to the traditional vendors IDC puts in their press releases, that would put them above Lenovo on hardware sales revenue, but with far fewer employees. Having the Wiwynn Mt. Jade server platform with the Arm-based Ampere Altra is a big deal. Wiwynn‚Äôs business model is not to sell low numbers of servers to customers.<span id="more-49470"></span></p>
<p>In this review, we are going to look at the platform, and discuss some of the great features and nuances. We are also going to discuss performance, and then we are going to discuss why this is one of the most important platforms to be released in 2020. Even if you are not interested in Arm servers, this review is going to have some insights that go well beyond just the Altra processor and the server itself.</p>
<h2>Video Version</h2>
<p>As with many of our new pieces, we are going to have a video version of this article as well.</p>
<p><iframe title="Most Significant Server of 2020 Wiwynn Mt Jade Ampere Altra Arm Server" width="696" height="392" src="https://www.youtube.com/embed/jESiMLQVNf4?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
<p>This is a longer video, and has a lot of commentary around the server, and the market impact. As always, we suggest opening a new browser/ tab to watch it as it is a better experience than the embedded player. Also, likes and channel subscriptions are always welcome.</p>
<h2>Ampere Altra Wiwynn Mt. Jade Server Hardware Overview</h2>
<p>With our server reviews going into more detail, we now split our hardware overview into two primary sections. The first is that we look at the exterior of the server to get the basic bits that one servicing the server in a rack would most likely notice. We then get into the internal overview to look at some of the configurability and key features of the server.</p>
<h3>Ampere Altra Wiwynn Mt. Jade Server External Hardware Overview</h3>
<p>Taking a look at the Mt. Jade platform, we can see a fairly typical 2U server layout. This has a single USB port on the left, and a VGA port along with standard power button/ LEDs on the right. The main feature, by far, is storage. There are 24x 2.5‚Ä≥ bays and Wiwynn is leveraging the Ampere Altra platform to deliver one of the most forward-looking designs we have seen to date.</p>
<figure id="attachment_49484" aria-describedby="caption-attachment-49484"><a href="https://www.servethehome.com/ampere-altra-wiwynn-mt-jade-server-review-the-most-significant-arm-server/wiwynn-mt-jade-ampere-altra-front-bays/" rel="attachment wp-att-49484"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Front-Bays.jpg" alt="Wiwynn Mt Jade Ampere Altra Front Bays" width="800" height="462" srcset="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Front-Bays.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Front-Bays-400x231.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Front-Bays-696x402.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Front-Bays-727x420.jpg 727w" sizes="(max-width: 800px) 100vw, 800px"></a><figcaption id="caption-attachment-49484">Wiwynn Mt Jade Ampere Altra Front Bays</figcaption></figure>
<p>Wiwynn is connecting these 24x drive bays using 6x Amphenol PCIe Gen4 x16 cables. This is not a server designed for SAS/ SATA, instead, the company is leveraging the unique capabilities of the Ampere Altra platform to deliver something decidedly ahead of what many traditional vendors such as Dell, HPE, and Lenovo offer. Here the backplane does not have features such as a SAS expander. Instead, this is a NVMe backplane. One can see the backplanes are held in by thumbscrews, but the impact of Ampere Altra is felt immediately here, this is an all-NVMe design. This design provides Wiwynn the flexibility to swap to a SAS/SATA backplane setup if a customer wishes, but we really like this hardline stance to simplify on a next-generation architecture.</p>
<figure id="attachment_49479" aria-describedby="caption-attachment-49479"><a href="https://www.servethehome.com/ampere-altra-wiwynn-mt-jade-server-review-the-most-significant-arm-server/wiwynn-mt-jade-ampere-altra-backplane/" rel="attachment wp-att-49479"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Backplane.jpg" alt="Wiwynn Mt Jade Ampere Altra Backplane" width="800" height="534" srcset="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Backplane.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Backplane-400x267.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Backplane-696x465.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Backplane-629x420.jpg 629w" sizes="(max-width: 800px) 100vw, 800px"></a><figcaption id="caption-attachment-49479">Wiwynn Mt Jade Ampere Altra Backplane</figcaption></figure>
<p>The chassis itself has four of those drive bays (one cable‚Äôs worth) that are optionally connected. Although the cable is connected via the backplane here, the other end can be used in a PCIe Gen4 x16 header that can instead provide PCIe connectivity to rear risers. Ampere Altra has many PCIe lanes, but there are limits. Still, Wiwynn‚Äôs forward-looking design is moving beyond the limitations of PCB and has configurability on where PCIe lanes are directed. We will see more of this type of design in the PCIe Gen4 era but it will become increasingly commonplace as we move to PCIe Gen5 and beyond. Effectively, with Ampere Altra is providing Wiwynn with a platform that is already incorporating these design principles.</p>
<p>On the rear of the server, we see a fairly standard layout. The rear I/O consists of a VGA port, a management LAN port, a serial port, and two USB 3 ports. There are three blocks for I/O risers, two are full-height and one is low-profile. One can also see an OCP NIC 3.0 slot in the middle of the platform.</p>
<figure id="attachment_49490" aria-describedby="caption-attachment-49490"><a href="https://www.servethehome.com/ampere-altra-wiwynn-mt-jade-server-review-the-most-significant-arm-server/wiwynn-mt-jade-ampere-altra-rear/" rel="attachment wp-att-49490"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Rear.jpg" alt="Wiwynn Mt Jade Ampere Altra Rear" width="800" height="479" srcset="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Rear.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Rear-400x240.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Rear-696x417.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Rear-701x420.jpg 701w" sizes="(max-width: 800px) 100vw, 800px"></a><figcaption id="caption-attachment-49490">Wiwynn Mt Jade Ampere Altra Rear</figcaption></figure>
<p>The 2kW power supplies seem a bit large for the relatively lower power consumption of the Ampere Arm server chips. The 80Plus Platinum units are likely larger than a normal server of this class simply as this is also a development platform. As a result, people tend to plug a multitude of devices into this type of server. That can include many high-power NVMe SSDs up front, or even accelerators in the rear. We tried the <a href="https://www.servethehome.com/nvidia-tesla-t4-ai-inferencing-gpu-review/">NVIDIA T4</a> and it worked in this platform.</p>
<figure id="attachment_49489" aria-describedby="caption-attachment-49489"><a href="https://www.servethehome.com/ampere-altra-wiwynn-mt-jade-server-review-the-most-significant-arm-server/wiwynn-mt-jade-ampere-altra-psu/" rel="attachment wp-att-49489"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-PSU.jpg" alt="Wiwynn Mt Jade Ampere Altra PSU" width="800" height="534" srcset="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-PSU.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-PSU-400x267.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-PSU-696x465.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-PSU-629x420.jpg 629w" sizes="(max-width: 800px) 100vw, 800px"></a><figcaption id="caption-attachment-49489">Wiwynn Mt Jade Ampere Altra PSU</figcaption></figure>
<p>Part of the purpose of this piece is to show how similar the server is to a modern x86 server since that is a big question when organizations are looking to add Arm into their data centers.</p>
<p>Next, we are going to look at the internals of the server before proceeding with the remainder of our review.</p>
        </div></div>]]>
            </description>
            <link>https://www.servethehome.com/ampere-altra-wiwynn-mt-jade-server-review-the-most-significant-arm-server/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25503939</guid>
            <pubDate>Tue, 22 Dec 2020 07:42:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Automatically Setup Your MacBook for Development]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25503906">thread link</a>) | @dsteenman
<br/>
December 21, 2020 | https://dannys.cloud/automatically-setup-macbook-development | <a href="https://web.archive.org/web/*/https://dannys.cloud/automatically-setup-macbook-development">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text"><p>As a Cloud Engineer, automation has become a part of my daily life. Automatically deploying Infrastructure using Code has become a safe and fast way to provision servers in the Cloud. Initially, it takes more time to configure the infrastructure as code, but it's reusable and minimizes configuration errors by human mistakes.</p>
<p><strong>What if we could apply the same principle to our local development environment?</strong> This guide will show you how to automatically set up your Macbook or Linux machine using Ansible and dotfiles.</p>
<p><strong>Table of Contents</strong></p>
<ul>
<li><a href="#prerequisite">Prerequisite</a></li>
<li><a href="#homebrew">Homebrew</a></li>
<li><a href="#ansible">Ansible</a></li>
<li><a href="#playbook">Playbook</a></li>
<li><a href="#setup-your-preferred-packages">Setup your preferred packages</a></li>
<li><a href="#configure-dotfiles">Configure dotfiles</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#installation-complete">Installation complete!</a></li>
</ul>
<h2 id="prerequisite">Prerequisite</h2>
<p>Ensure Apple's command-line tools are installed:</p>
<pre><code>xcode-select --install
</code></pre>
<h2 id="homebrew">Homebrew</h2>
<p>The first step is to download  <a target="_blank" href="https://brew.sh/">Homebrew</a>  for your Mac:</p>
<pre><code>/bin/bash -c <span>"<span>$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)</span>"</span>
</code></pre>
<p>Homebrew allows you to easily install packages and applications on your machine without having to go to the download page of the vendor to install it from there. An added benefit is that you can easily update the packages using a simple command like:</p>
<pre><code>brew update &amp;&amp; brew upgrade
</code></pre>
<h2 id="ansible">Ansible</h2>
<p> <a target="_blank" href="https://www.ansible.com/overview/how-ansible-works">Ansible</a>  is a tool that automates provisioning, does configuration management, and is being used widely in the Cloud.</p>
<p>It uses no agents and no additional custom security infrastructure, so it's easy to deploy - and most importantly, it uses a very simple language (YAML, in the form of Ansible Playbooks) that allow you to describe your automation jobs in a way that approaches plain English.</p>
<p>So the next step is to install  <a target="_blank" href="https://www.ansible.com/">Ansible</a> using Homebrew:</p>
<pre><code>brew install python ansible
</code></pre>
<p>An important note when installing Python with Homebrew is that we need to change the PATH on our system for Python, otherwise MacOS will use the system default Python.</p>
<pre><code><span>export</span> PATH=<span>"/usr/local/opt/python/libexec/bin:<span>$PATH</span>"</span>
</code></pre>
<p>We want to avoid using the system default for  <a target="_blank" href="https://towardsdatascience.com/time-to-make-the-switch-9eb719d434de">many reasons</a>, but the most important one is that it still comes with Python2.7 (which is deprecated).</p>
<h2 id="playbook">Playbook</h2>
<p>Ansible is the orchestration tool and uses <a target="_blank" href="https://docs.ansible.com/ansible/latest/user_guide/playbooks.html">Playbooks</a> to record and execute Ansible‚Äôs configuration and deployment on the system.</p>
<p>Playbooks can be seen as an instruction manual at which the system is guided to execute the instructions that you have written. The benefit of using this is that you can apply the same set of instructions to different machines and expect the same outcome every time.</p>
<p>These Playbooks can be shared. So before we proceed with the installation, you need to clone or fork the <a target="_blank" href="https://github.com/geerlingguy/mac-dev-playbook">mac-dev-playbook repository</a>.</p>
<h2 id="setup-your-preferred-packages">Setup your preferred packages</h2>
<p>Every development environment is unique, so you can create a <code>config.yml</code> that contains a list of packages and configuration settings that you want to apply to your environment. As an example you can have a look at the <code>default.config.yml</code> in the root of the folder which contains a list of packages and configurations, as shown below:</p>
<pre><code><span>---</span>
<span>downloads:</span> <span>~/.ansible-downloads/</span>

<span>configure_dotfiles:</span> <span>true</span>
<span>configure_terminal:</span> <span>true</span>
<span>configure_osx:</span> <span>true</span>

<span>configure_sudoers:</span> <span>false</span>
<span>sudoers_custom_config:</span> <span>''</span>





<span>dotfiles_repo:</span> <span>https://github.com/geerlingguy/dotfiles.git</span>
<span>dotfiles_repo_accept_hostkey:</span> <span>true</span>
<span>dotfiles_repo_local_destination:</span> <span>~/Development/GitHub/dotfiles</span>
<span>dotfiles_files:</span>
  <span>-</span> <span>.zshrc</span>
  <span>-</span> <span>.gitignore</span>
  <span>-</span> <span>.inputrc</span>
  <span>-</span> <span>.osx</span>
  <span>-</span> <span>.vimrc</span>

<span>homebrew_installed_packages:</span>
  
  <span>-</span> <span>autoconf</span>
  <span>-</span> <span>bash-completion</span>
  <span>-</span> <span>doxygen</span>
  <span>-</span> <span>gettext</span>
  <span>-</span> <span>gifsicle</span>
  <span>-</span> <span>git</span>
  <span>-</span> <span>github/gh/gh</span>
  <span>-</span> <span>go</span>
  <span>-</span> <span>gpg</span>
  <span>-</span> <span>httpie</span>
  <span>-</span> <span>iperf</span>
  <span>-</span> <span>libevent</span>
  <span>-</span> <span>sqlite</span>
  <span>-</span> <span>mcrypt</span>
  <span>-</span> <span>nmap</span>
  <span>-</span> <span>node</span>
  <span>-</span> <span>nvm</span>
  <span>-</span> <span>php</span>
  <span>-</span> <span>ssh-copy-id</span>
  <span>-</span> <span>cowsay</span>
  <span>-</span> <span>readline</span>
  <span>-</span> <span>openssl</span>
  <span>-</span> <span>pv</span>
  <span>-</span> <span>wget</span>
  <span>-</span> <span>wrk</span>

<span>homebrew_taps:</span>
  <span>-</span> <span>homebrew/core</span>
  <span>-</span> <span>homebrew/cask</span>

<span>homebrew_cask_appdir:</span> <span>/Applications</span>
<span>homebrew_cask_apps:</span>
  <span>-</span> <span>chromedriver</span>
  <span>-</span> <span>docker</span>
  <span>-</span> <span>dropbox</span>
  <span>-</span> <span>firefox</span>
  <span>-</span> <span>google-chrome</span>
  <span>-</span> <span>handbrake</span>
  <span>-</span> <span>licecap</span>
  <span>-</span> <span>sequel-pro</span>
  <span>-</span> <span>slack</span>
  <span>-</span> <span>sublime-text</span>
  <span>-</span> <span>transmit</span>
  <span>-</span> <span>vagrant</span>


<span>mas_installed_apps:</span> []
<span>mas_email:</span> <span>""</span>
<span>mas_password:</span> <span>""</span>

<span>osx_script:</span> <span>"~/.osx --no-restart"</span>




<span>composer_packages:</span> []



<span>gem_packages:</span> []



<span>npm_packages:</span> []



<span>pip_packages:</span> []





<span>post_provision_tasks:</span> []
</code></pre>
<p>This playbook is pretty versatile and allows you to install Homebrew, Mac Application Store (mas) packages, composer, gem, npm, and pip packages.</p>
<h2 id="configure-dotfiles">Configure dotfiles</h2>
<p>Once you've created your own config file with your preferred packages, it's time to add your own Dotfiles repository to setup custom configurations for your software.</p>
<p><strong>So what are dotfiles?</strong> Dotfiles are text-based configuration files that store settings of almost every application, or tool that runs in your environment. In communities like Github, people share their application preferences so others can use them to set up their systems faster by restoring these "dotfile" configuration files. The biggest advantage is that you can backup your application preferences and make sure you're always using the same preferences, irrespective of the machine that you're using.</p>
<p>If you're new to dotfiles you can read more about it in this <a target="_blank" href="https://dotfiles.github.io/">helpful guide on dotfiles</a>. I'll also share a few links below which contain pre-configured dotfiles for your favorite tools:</p>
<ul>
<li><a target="_blank" href="https://github.com/mathiasbynens/dotfiles">Mathias‚Äôs dotfiles</a></li>
<li><a target="_blank" href="https://github.com/Bash-it/bash-it">Community bash framework</a></li>
<li><a target="_blank" href="https://github.com/alrra/dotfiles">Allra macOS / Ubuntu dotfiles</a></li>
<li><a target="_blank" href="https://github.com/geerlingguy/dotfiles">Geerlingguy's dotfiles</a></li>
</ul>
<p><strong>Note: dotfiles contain personal preferences, so it's good to review these files and apply changes where necessary before you copy them to your own repository</strong></p>
<p>Once you have your own repository filled with dotfiles, you can update the <code>dotfiles_repo</code> variable in the <code>config.yml</code> with your own dotfiles repository. Below I've shown an example of what it looks like when I set up my own dotfiles:</p>
<pre><code><span>configure_dotfiles:</span> <span>true</span>
<span>dotfiles_repo_accept_hostkey:</span> <span>false</span>
<span>dotfiles_repo_local_destination:</span> <span>~/Github/dotfiles</span>
<span>dotfiles_repo_version:</span> <span>master</span>
<span>dotfiles_repo:</span> <span>git@github.com:dsteenman/dotfiles.git</span>
<span>dotfiles_files:</span>
  <span>-</span> <span>.aliases.zsh</span>
  <span>-</span> <span>.aws</span>
  <span>-</span> <span>.eslintignore</span>
  <span>-</span> <span>.eslintrc</span>
  <span>-</span> <span>.fzf.zsh</span>
  <span>-</span> <span>.gitconfig</span>
  <span>-</span> <span>.gitconfig.user</span>
  <span>-</span> <span>.gitignore</span>
  <span>-</span> <span>.iterm2</span>
  <span>-</span> <span>.macos</span>
  <span>-</span> <span>.starship</span>
  <span>-</span> <span>.zprofile</span>
  <span>-</span> <span>.zsh_plugins.txt</span>
  <span>-</span> <span>.zshenv</span>
  <span>-</span> <span>.zshrc</span>
</code></pre>
<p>The parameter <code>dotfiles_repo_local_destination</code> is the location where ansible downloads your dotfiles repository. Remember that location, because that's where you'll manage changes in your dotfiles. Ansible automatically creates symlinks of the dotfiles that you enabled in the parameter <code>dotfiles_files</code> and link them to your home folder on your Mac or Ubuntu machine. The advantage of this construction is that when you make adjustments in your dotfiles over time, it will automatically update the repository. You only have to commit and push the changes to update it remotely.</p>
<h2 id="installation">Installation</h2>
<p>Once the requirements have been fulfilled, we can proceed with the actual installation and let Ansible perform it's magic!</p>
<p>In the root of the folder <code>mac-dev-playbook</code> repository that you forked or cloned run the command <code>ansible-galaxy install -r requirements.yml</code> to install the required ansible roles.</p>
<p>Now you can run the playbook and install your packages and dotfiles with the command <code>ansible-playbook main.yml -u [username] --ask-become-pass</code> (substitute <code>[username]</code> for your username). Enter your account password when prompted.</p>
<h2 id="installation-complete">Installation complete!</h2>
<p><strong>Your Macbook should be fully customized and ready for development!</strong> Having automated provisioning of your development machine is very useful if you use lots of different development tools, each with its own unique settings.</p>
<p>If you need to manage these tools then it's a must to keep track of any changes in preferences. By using this playbook solution we save our configurations in Github. That way we have a backup and we're able to reuse these settings irrespective of any machine we use.</p>
<p>Once you've setup your playbook, it takes approximately 30 minutes to install all the development packages and preferred configuration settings.</p>
<hr>
<p>üëã <strong>Liked this article?</strong> Follow me on <a target="_blank" href="https://twitter.com/dannysteenman">Twitter</a> to stay updated!</p>
</div></div>]]>
            </description>
            <link>https://dannys.cloud/automatically-setup-macbook-development</link>
            <guid isPermaLink="false">hacker-news-small-sites-25503906</guid>
            <pubDate>Tue, 22 Dec 2020 07:35:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Facebook hit with privacy issues in Europe]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25503513">thread link</a>) | @attainalexander
<br/>
December 21, 2020 | https://www.mytechgist.com/big-tech/facebook-hit-with-privacy-issues-in-europe/ | <a href="https://web.archive.org/web/*/https://www.mytechgist.com/big-tech/facebook-hit-with-privacy-issues-in-europe/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-td-block-uid="tdi_87_155">

<div>




<p>Facebook is racing to catch up with privacy laws once again. Facebook privacy issues are nothing new, now the social media giant has temporarily disabled a number of Instagram and Messenger features. This is in order to comply with new directives set to go in place later this month. Facebook is taking steps to make sure the services comply with a change in privacy rules, as messaging apps will fulfill under <a href="https://www.mytechgist.com/big-tech/the-eu-is-about-to-announce-new-rules-for-big-tech/">EU regulations</a> ‚Äì the ePrivacy directive ‚Äì from Monday.</p>







<figure><img width="1024" height="683" src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201024%20683'%3E%3C/svg%3E" alt="" data-lazy-srcset="https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-1024x683.jpg 1024w, https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-300x200.jpg 300w, https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-768x512.jpg 768w, https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-1536x1024.jpg 1536w, https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-2048x1365.jpg 2048w, https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-696x464.jpg 696w, https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-1068x712.jpg 1068w, https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-1920x1280.jpg 1920w, https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-630x420.jpg 630w" data-lazy-sizes="(max-width: 1024px) 100vw, 1024px" data-lazy-src="https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-1024x683.jpg"><figcaption>Photo by&nbsp;<strong><a href="https://www.pexels.com/@tracy-le-blanc-67789?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels">Tracy Le Blanc</a></strong>&nbsp;from&nbsp;<strong><a href="https://www.pexels.com/photo/apple-applications-apps-cell-phone-607812/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels">Pexels</a></strong></figcaption></figure>



<p>There is no specific list of disabled features but here is a short list of the features disabled in the past few days:</p>



<ul><li>Media file sends in Messenger</li><li>Chat nicknames in Messenger</li><li>Polls on Messenger</li><li>Personalized replies in Messenger</li><li>Stickers in Instagram DMs</li><li>Polls in Instagram DMs</li><li>AR effects in Instagram DMs</li></ul>



<h2 id="h-will-these-features-be-back">Will these features be back?</h2>



<p>There is currently no concrete timeline for when these features will return to European users. But Facebook is insistent that the changes are temporary, and should be ‚Äúcoming back very soon.‚Äù</p>



<p>Facebook has stated that its reason for disabling these features is for compliance with the <a href="https://eur-lex.europa.eu/LexUriServ/LexUriServ.do?uri=CONSLEG:2002L0058:20091219:EN:HTML" target="_blank" rel="noreferrer noopener">2002 ePrivacy directive</a> from the European Union. This directive goes into effect on December 21st and outlines a number of strict rules for messaging platforms, like Messenger and Instagram.</p>



<p>More specifically, the ePrivacy directive is concerned with ‚Äúthe processing of personal data and the protection of privacy‚Äù. Simply put, it‚Äôs designed to keep tech companies in check when it comes to how they use the information in your messages and the metadata that comes with them. In a statement, Facebook said: ‚ÄúWe‚Äôre still determining the best way to bring these features back‚Äù. It takes time to rebuild products in a way that works seamlessly for people and also comply with the new regulation.‚Äù</p>



<p>In another statement, Facebook said: ‚ÄúWe‚Äôre still determining the best way to bring these features back. ‚ÄúIt takes time to rebuild products in a way that work seamlessly for people and also comply with new regulation.‚Äù</p>



<h2 id="h-conclusion">Conclusion</h2>



<p>Facebook privacy issues are not new, we all remember the <a href="https://en.wikipedia.org/wiki/Facebook%E2%80%93Cambridge_Analytica_data_scandal" target="_blank" rel="noreferrer noopener">Cambridge Analytica</a>, incident where millions of data Facebook users‚Äô data were acquired with the individuals‚Äô consent. Then social media giant is taking precautionary measures to ensure that the company is safe from legal issues.</p>



<p>However, it‚Äôs very likely that Facebook is taking these extra precautions to protect itself as best it can. </p>




</div></div></div>]]>
            </description>
            <link>https://www.mytechgist.com/big-tech/facebook-hit-with-privacy-issues-in-europe/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25503513</guid>
            <pubDate>Tue, 22 Dec 2020 06:20:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why aren't the earliest sunset/latest sunrise on the day of the winter solstice?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25503062">thread link</a>) | @fortran77
<br/>
December 21, 2020 | http://larry.denenberg.com/earliest-sunset.html | <a href="https://web.archive.org/web/*/http://larry.denenberg.com/earliest-sunset.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">

<p><small>
<a href="http://www.larry.denenberg.com/">Larry's home page</a>
</small>
</p>

<h3>
Why aren't the earliest sunset and latest sunrise on the same day as
the winter solstice?
</h3>

<p>The shortest day of the year is the day of the winter solstice, which in
2020 is December 20 or 21 depending on time zone. It seems reasonable that
the latest sunrise and earliest sunset would both occur on the shortest
day.&nbsp; But it's not so; the earliest sunset is a couple of weeks
earlier and the latest sunrise is a couple of weeks later.&nbsp; <a name="back1" href="#note1">[Note&nbsp;1]</a>&nbsp; (The notes contain
additional explanation that can be skipped on first reading.)

</p><p>What explains this peculiarity?&nbsp; Why don't the earliest sunset and
latest sunrise both fall on the shortest day?

</p><p>The time of day when the sun reaches its highest point in the sky is
called <em>solar noon</em>.&nbsp; The length of time from one solar noon to
the next is called the <em>solar day</em>.&nbsp; That is, one solar day is
the time it takes for the sun to return to its highest point in the sky.

</p><p>The length of the solar day varies during the year:&nbsp; Near
the winter and summer solstices the solar day is <em>more</em> than 24
hours long, and near the spring and fall equinoxes it's <em>less</em> than
24 hours long.&nbsp; (Why so?&nbsp;We'll see shortly.)&nbsp;
<!--
So solar noon
rarely occurs exactly at clock noon; it's sometimes before and sometimes
after.&nbsp;
-->
Therefore:&nbsp; <em>near the solstices, solar noon occurs at a slightly
later clock time each day</em> because the solar day is more than 24 hours
and the clock day is always exactly 24 hours.

</p><p>Next: Since solar noon is a little later each day, sunset is also a
little later each day.&nbsp; (This is true because
the time from solar noon to sunset doesn't change very much near the
winter solstice <a name="back2" href="#note2">[Note&nbsp;2]</a>.)&nbsp;
But if sunset is a little later each day, that means
the earliest sunset has already happened!&nbsp; By the same reasoning,
later solar noons at the solstice imply later sunrises, hence sunrise is getting later
and the latest sunrise is yet to occur.&nbsp; [Notes <a name="back3" href="#note3">3</a>, <a name="back4" href="#note4">4</a>]

</p><p>So now we see why a longer-than-average solar day causes both earliest
sunset and latest sunrise to <em>not</em> fall on the solstice. The next
step is to understand why the length of the solar day varies, and in
particular why it is longer at the solstices.

</p><p>There are two factors that change the length of the solar day.&nbsp; The
first is that the earth's axis is tilted with respect to its orbit around
the sun, and the second is that the earth's orbit is not a circle but an
ellipse.&nbsp; The first of these factors, called the <em>obliquity</em> of
the axis, has the larger effect and is the only one we examine
here <a name="back5" href="#note5">[Note&nbsp;5]</a>.&nbsp; So let's study
the length of the solar day assuming that the tilted earth orbits the sun in a
perfect circle.

</p><p>Here's a summary:&nbsp; The length of the solar day is determined mostly
by the rotation of the earth on its axis, but is also affected a little bit
by the revolution of the earth around the sun.&nbsp; The rotation by itself
would create a solar day of constant length whether the axis was tilted or
not.&nbsp; The slight change caused by the revolution would be a constant if
the earth were not tilted, but because of the tilt it is <em>not</em>
constant;&nbsp; this effect varies through the year and makes the
solar day longer near the solstices and shorter near the equinoxes.&nbsp;
Now for the details.&nbsp; [The explanation that follows is based on a
presentation by Andy Latto.]

</p><p>At any instant, there is exactly one point on the earth's surface where
the sun is directly overhead.&nbsp; To find it, draw a line from the center
of the sun to the center of the earth and stand on the point where the line
touches the earth's surface.&nbsp; At that point, and no other, the sun is
exactly overhead.&nbsp; It is solar noon at that point and also everywhere
else at the same longitude.

</p><p>If the earth were motionless with respect to the sun, the
sun-directly-overhead point would always be in the same spot. But the point
moves, both because of the rotation of the earth on its axis and because of
the revolution of the earth around the sun.&nbsp; When the point moves once
around the earth, one solar day has passed.&nbsp;When we say "once
around the earth" we care only about the <em>east-west</em> motion of
the point‚Äîsolar noon recurs when the point traverses 360 degrees of
longitude.&nbsp; The <em>north-south</em> motion of the point doesn't
matter to us since it doesn't count in determining whether solar noon has arrived.

</p><p>First let's examine the effect of the earth's rotation.&nbsp; Imagine an
untilted earth not revolving around the sun, just rotating, and it's
obvious that the sun-directly-overhead point moves along the equator, once
around per day.&nbsp; Now mentally tilt the earth's axis
and you'll see that the point follows
some other parallel of latitude, still once around per
day.&nbsp; <a name="back6" href="#note6">[Note 6]</a>&nbsp; Since the point
moves along a parallel of latitude, it moves in a purely east-west
direction, in fact due west.&nbsp; If we measure speed in degrees of
longitude per hour (not in miles per hour!) we realize that the speed of
the point is constant, no matter what latitude it's at; it goes once
around, 360 degrees, each day.

</p><p>The bottom line is that the rotation of the earth causes the
sun-directly-overhead point to move directly west, crossing lines of
longitude at a constant rate.&nbsp; If this were the only factor to
consider, the length of the solar day would be constant regardless of any
tilt.

</p><p>Now we have to add the effect of the earth's revolution around the
sun.&nbsp; Again, start by imagining the earth with untilted axis, this
time not rotating but just revolving around the sun.&nbsp; You'll see the
sun-directly-overhead point moving once around the earth each year.&nbsp;
And (take my word for this) the point moves eastward, so its motion is
<em>contrary</em> to the motion from the rotation‚Äîwhen added in, this
motion makes each solar day a little <em>longer</em> than it would be from
the rotation alone.&nbsp; (But just a very little, since the motion from
the revolution is so much slower.)&nbsp; If the earth were not tilted, the
motion due to revolution would be due east at constant rate, and would
lengthen each day equally throughout the year.

</p><p>But the earth <em>is</em> tilted!&nbsp; So the earth's revolution around
the sun doesn't move the sun-directly-overhead point along the equator, but
rather around a great circle that's tilted with respect to the
equator.&nbsp; Here's the path that the sun-directly-overhead point would
follow if only revolution around the sun was a factor (and also the
constant-latitude path that the sun-directly-overhead point would follow if
we only take into account the earth's rotation): <img src="http://larry.denenberg.com/sdo-point.jpg" alt="Path of the SDO point">

</p><p>Now the crux of the matter: As the sun-directly-overhead point moves
around this great-circle path, it is <em>not</em> moving directly
east.&nbsp; It moves generally east, but sometimes it's travelling a little
northeast and sometimes a little southeast.&nbsp; It moves due east only at
its most northerly and southerly extent, which happens at the solstices.

</p><p>So even though the overall speed of the point is constant,
the <em>eastward component</em> of the speed is not constant, and that's
what we care about:&nbsp; it's fastest when the point is moving due east
(at the solstices), and is smaller when the point is moving north or south
as well as east.&nbsp; The eastward speed is slowest when the point has the
largest northerly or southerly motion, that is, at the equinoxes, when the
point crosses the equator.&nbsp; <a name="back7" href="#note7">[Note&nbsp;7]</a>

</p><p>Hence this once-around-per-year motion of the point, which makes each
day a little longer, has a different effect at different times of the
year.&nbsp; At the solstices the motion is due east, so its eastward motion
is fastest and lengthens the solar day more.&nbsp; That is, at the
solstices, the solar day is longer than its average length.&nbsp; At the
equinoxes, the point is moving northeast or southeast as much as it ever
does, so the eastward component of its speed is at its slowest and has the
least effect at making the day longer.&nbsp; That is, at the equinoxes, the
solar day is a little shorter than average.&nbsp; And we're done.

</p><p>One last comment:&nbsp; If you take a picture of the sun each day when
your clock says noon (<em>not</em> at local solar noon) the sun is not
always in the same place in the sky.&nbsp; It moves east and west because
of the variation in the length of the solar day, and it moves north and
south with the change of the seasons.&nbsp; The combination of these
motions traces out a figure-eight shape called
the <a href="http://www.analemma.com/"><em>analemma</em></a> which you can
see pictured on some globes.

</p><h3><a name="notes">Notes:</a></h3>

<p><a name="note1">[1]</a> The actual dates of earliest sunset and latest
sunrise depend on latitude‚Äînear the equator, the earliest sunset occurs
in November!&nbsp; Solstices and equinoxes happen at the same instant
worldwide.&nbsp; <a href="#back1"><small>back</small></a>

</p><p><a name="note2"></a> 
[2] You might object to this:&nbsp; "The time
between solar noon and sunset isn't constant!" I hear you cry.&nbsp;
"It gets shorter in December and longer in July, making more or less
daylight!"&nbsp; Yes it does, but that change happens <em>very</em>
slowly near the solstices and can be ignored.

</p><p>Think of it this way:&nbsp; There are two factors that change the time
of sunset.&nbsp; The first is the change in the number of hours of
daylight‚Äîwe get fewer hours of daylight as we move towards December,
which is reflected in earlier sunsets.&nbsp; The second factor is the
difference between solar time and clock time, which we're explaining in
this website (see Note&nbsp;4).&nbsp; The first factor is the dominating factor
through most of the year.&nbsp; Near the summer and winter solstices,
though, the amount of daylight in the day is essentially constant, changing
only a tiny amount from day to day, and the second factor comes into
play.&nbsp; <a href="#back2"><small>back</small></a>

</p><p><a name="note3">[3]</a> We can apply the same reasoning to the summer
solstice to conclude that the <em>latest</em> sunset must <em>follow</em>
the summer solstice, and the <em>earliest</em> sunrise
must <em>precede</em> the summer solstice.&nbsp; Just remember that
<em>at either solstice, both sunrise and sunset are getting later</em> and
you can always tell where the earliest/latest sunrise/sunset occur.
&nbsp; <a href="#back3"><small>back</small></a>

</p><p><a name="note4">[4]</a> Here's another way to look at it:&nbsp; We don't
tell time using the solar day, because we want all days to have exactly the
same length.&nbsp; So we use clocks that run at a constant rate independent
of the sun, ticking off exactly 24&nbsp;hours each day.&nbsp; These clocks
average out the variations in the solar day, making all days the same</p></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://larry.denenberg.com/earliest-sunset.html">http://larry.denenberg.com/earliest-sunset.html</a></em></p>]]>
            </description>
            <link>http://larry.denenberg.com/earliest-sunset.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25503062</guid>
            <pubDate>Tue, 22 Dec 2020 05:03:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Interactive Breadth First Search in a Grid]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25502936">thread link</a>) | @todsacerdoti
<br/>
December 21, 2020 | https://www.henryschmale.org/2020/12/20/bfs-grid-explorer.html | <a href="https://web.archive.org/web/*/https://www.henryschmale.org/2020/12/20/bfs-grid-explorer.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>Interactive Breadth First Search in a Grid</p>
    <p>
        2020 December 20
    </p>
</div><div>
    <p><a href="https://en.wikipedia.org/wiki/Breadth-first_search">Breadth first search(BFS)</a> is a very powerful and useful algorithm for
exploring graph like structures. A BFS searches it‚Äôs nearest neighbors first
before moving on. It‚Äôs main use is to find a path using
the fewest hops. Here we use it to explore a grid that can be modified
by a user. In this grid, we have verticies (the grid boxes), and edges 
(the box north, south, east and west).</p>

<p>A plain english example would be as</p>

<ol>
  <li>Create a queue with your starting element.</li>
  <li>while the queue is not empty
    <ol>
      <li>shift out the first element.</li>
      <li>does that element meet the goal?
        <ol>
          <li>If so quit with success</li>
        </ol>
      </li>
      <li>Otherwise for all neighbors of that element add them to the queue 
if they haven‚Äôt been seen yet. Make a note of where we came from.</li>
    </ol>
  </li>
  <li>Otherwise fail.</li>
</ol>


<ol>
  <li>Change your grid size of anything between 4 and 40 elements wide. 
Hit the reset grid button.</li>
  <li>Set your start point using the ‚Äúplace start point‚Äù button. There must 
be exactly one starting point.</li>
  <li>Place some finish points using the ‚Äúplace finish point‚Äù button. There 
can be many finish points. In a regular BFS these are your target 
points.</li>
  <li>Add some constraints by drawing some walls.</li>
  <li>Hit either ‚ÄúRun‚Äù or ‚ÄúStep‚Äù to start the BFS
    <ol>
      <li>The active node will be surounded with a <span>gold</span> border.</li>
      <li>Discovered nodes are surrounded with a <span>dark blue</span> border.</li>
      <li>The nodes in the queue are surrounded with a <span>light blue</span> border.</li>
    </ol>
  </li>
  <li>After the goal is found it will draw the path back to the starting node. It will be shown in
 <span>light green</span></li>
</ol>






<p>You can view and explore the source code on <a href="https://github.com/HSchmale16/TS_BFS_Graph_Explorer">GitHub</a>. Made with
TypeScript because I can.</p>

<!-- todo: refactor BFS_explorer to be an include -->





</div></div>]]>
            </description>
            <link>https://www.henryschmale.org/2020/12/20/bfs-grid-explorer.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25502936</guid>
            <pubDate>Tue, 22 Dec 2020 04:44:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[This Community is Available in the App]]>
            </title>
            <description>
<![CDATA[
Score 66 | Comments 32 (<a href="https://news.ycombinator.com/item?id=25502828">thread link</a>) | @rukshn
<br/>
December 21, 2020 | https://ruky.me/2020/12/22/this-community-is-available-in-the-app/ | <a href="https://web.archive.org/web/*/https://ruky.me/2020/12/22/this-community-is-available-in-the-app/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>Yesterday‚Äôs <a href="https://ruky.me/2020/12/21/a-to-do-app-that-fits-in-a-single-tweet/">post</a> was an awesome one, I learned a lot in JavaScript and and I was happy to see people doing what I thought impossible. Writing a simple todo app within 280 chars, in plain js.</p>
<p>After I finished writing the post, I wanted to share it on Reddit JavaScript community, r/javascript at the same time I shared it on HackerNews.</p>
<p>I have seen lot of comments on HackerNews criticizing the new Reddit design, using JavaScript and breaking in their mobile website, and constant nags pushing the users to their mobile app.</p>
<p>I was one of those few who liked their new design on desktop, no page loads between posting something, lot of white spaces, I feel most of the average users would be feeling the same, except for the tech community. But as a service Reddit should be looking at the common denominator, not the outliers.</p>
<p>I‚Äôm annoyed with the mobile app nag, when I visit the mobile website, Reddit is always asking me to download the mobile app. But I just cancel it and move along in the mobile browser.</p>
<p>But what happened yesterday just took me off the ledge. When I visited the r/javascript community on my iPad, I was greeted with this screen.</p>
<figure><img data-attachment-id="73" data-permalink="https://ruky.me/2020/12/22/this-community-is-available-in-the-app/img_0041/" data-orig-file="https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?fit=1536%2C2048&amp;ssl=1" data-orig-size="1536,2048" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="img_0041" data-image-description="" data-medium-file="https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?fit=225%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?fit=768%2C1024&amp;ssl=1" loading="lazy" width="768" height="1024" src="https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=768%2C1024&amp;ssl=1" alt="" srcset="https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=768%2C1024&amp;ssl=1 768w, https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=225%2C300&amp;ssl=1 225w, https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=1152%2C1536&amp;ssl=1 1152w, https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?w=1536&amp;ssl=1 1536w" sizes="(max-width: 768px) 100vw, 768px" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=768%2C1024&amp;ssl=1 768w, https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=225%2C300&amp;ssl=1 225w, https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=1152%2C1536&amp;ssl=1 1152w, https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?w=1536&amp;ssl=1 1536w" data-lazy-src="https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=768%2C1024&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>This community is only available in the app.</figcaption></figure>
<p>Why do you block me from from visiting the community from my mobile device?</p>
<p>Will the whole mobile website is scrapped and you end up with a landing page to download the mobile app?</p>
<p><strong>If you want to visit a popular subreddit</strong>, <strong>install our up and use it, or else login. </strong></p>
<p>I‚Äôve managed to see the subreddit by requesting the desktop website, but I‚Äôm sure they will figure out a way, by checking the screen size to block this as well.</p>
<p>I understand that, as a company, you need to push to gain as much users as possible on their mobile devices, that‚Äôs the best way to track, to send notifications and keep you hooked and keep coming back. If I had a company like Reddit I might have done the same.</p>
<p>But for blocking users from their mobile devices, a service they once offered is a very dark pattern, instead what they should do is introduce some awesome features that will make the users download the app by themselves so they can enjoy those features. Not forcing the app though their throats.</p>
<p>Anyone else experienced a similar experience on Reddit mobile?</p>
<p><em>Only after writing the and checking the screenshot again made me see that they allow you to see the subreddit by logging in. But that is obscured and they intend to push users to download the app.</em></p>
</div></div>]]>
            </description>
            <link>https://ruky.me/2020/12/22/this-community-is-available-in-the-app/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25502828</guid>
            <pubDate>Tue, 22 Dec 2020 04:24:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Software Developer's Guide to Career Ownership]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25502812">thread link</a>) | @mooreds
<br/>
December 21, 2020 | https://cult.honeypot.io/reads/developer-career-ownership-guide/ | <a href="https://web.archive.org/web/*/https://cult.honeypot.io/reads/developer-career-ownership-guide/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2 id="Is Your Career Drifting Out To Sea?">Is Your Career Drifting Out To Sea?</h2><p>Like a frog who's slowly being boiled in a pot but doesn't realise it, two years into my career I slowly came to discover that I wasn't progressing anywhere near what I thought I should have.</p><p>I was learning tons and growing in my skills. But it seemed like that didn't matter.</p><p>Failed job interviews, tiny salary increases after delivering on difficult long-term projects, bitterness, etc. were the results.</p><p><b>Have you ever felt the same way as I did? Feel like your quality of work and effort doesn't get the recognition and results you expected?</b></p><p>One year, I was flat-out told that I wouldn't be getting a raise because I had spent some time on parental leave (even though I had delivered on a critical project that year).</p><p>Another time, I failed a job interview due to my poor attitude and bitterness towards a situation which in reality was a very complex project that needed strong ownership, patience and leadership.</p><h2 id="I took ownership of my career">I took ownership of my career</h2><p>Faced with the reality of career progression as a software developer, I decided to make an intentional effort to take ownership of my career.</p><p>What does that mean, you ask?</p><blockquote><p><b>Taking ownership of your career means that you realise your career is an organic thing that you can either nurture and grow, ignore or even damage.</b></p></blockquote><p>It's like a garden: deciding what seeds to plant, where to plant, how to nurture your plants, deciding what plants to sow more of, etc.</p><p>If you are intentional about planting and maintaining your garden then you should get results.</p><p>If you don't maintain your plants then your garden will most likely get grown over with weeds and not do so well!</p><p>And, if you don't plant any seeds yet expect a garden to appear - well, that's kinda crazy.</p><p>Your career is the same! If you simply expect that "doing a good job" will land you promotions or position you as a competitive asset in the job market then it's just like that last analogy of ignoring your garden!</p><h2 id="Does doing good work mean getting recognised?"><b>Does doing good work mean getting recognised?</b></h2><p>For myself, the root falsehood I believed was that <i>doing good work would lead to being recognised.</i></p><p>Sadly, most of the time, that's just not true.</p><p>Our managers are overloaded with their tasks. They are juggling personal issues, internal HR conflicts, overdue projects, etc.</p><p>Is "just doing a good job" going to make you stand-out in their minds? <i>Nope.</i></p><p>This is the biggest piece of advice I give everyone who comes to me with career advice:</p><p><b>You need to simply stand-out.</b></p><p>Whether that's within your company, among other resumes, within the greater developer community, etc.</p><h2 id="Reputation"><b>Reputation</b></h2><h3><b>What is it?</b></h3><p>Reputation just means "how much you stand-out" combined with your overall professional competence.</p><p>Reputation = How much you stand-out + competence.</p><p>Think of your programming "heroes": they are very skilled and competent. <i>Yet</i>, they are constantly putting themselves in public by promoting themselves, sharing their thoughts, sharing their "wins", etc.</p><p>Do you think they have trouble landing new jobs? <i>Nope.</i></p><p>Does that mean you need to become a programming hero to get promoted and land that new job? Not at all.</p><blockquote><p>I'm simply pointing out that self-promotion, helping other people, getting involved in communities, networking with other professionals and building long-lasting relationships are all part of building your reputation.</p></blockquote><p>If you are always helping your manager, discussing your "wins" and asking about how your work has affected the company then you'll ensure that you're top of mind.</p><p>The fact is, most developers hardly talk to their managers about their work and how it's impacting the company.</p><p>Tip: Show an interest in your manager. Make their job easier by doing awesome work. And, ask about how your work is improving the company. <i>One-on-one meetings are a great time to ask about these things.</i></p><h2 id="Questions that others ask about YOU"><b>Questions that others ask about YOU</b></h2><p>Everyone is forming an opinion and view of who you are, how skilled you are, etc.</p><p>Here's a short list to get you thinking about what others are asking themselves about <b>YOU</b>:</p><ul><li><p>Are they kind?</p></li><li><p>Helpful?</p></li><li><p>Intelligent?</p></li><li><p>Do good work?</p></li><li><p>Produce results?</p></li><li><p>Learns quickly?</p></li><li><p>Good at mentoring and teaching others?</p></li></ul><p>Make sure that you can "check" all of those off!</p><p>If you are always complaining and have a poor attitude, then your peers will not see you in a good light.</p><p>On the other hand, if you aren't learning and growing then your peers will see you like a stagnant resource that will, over time, drag down the team!</p><h2 id="Navigating the stages of your career">Navigating the stages of your career</h2><p>Before looking at the specifics of how you can start to grow your reputation and grow in your career, you should get an idea of what general career stage you are at.</p><p>I use a simple framework to layout the common career path stages that most software developers will find themselves in.</p><p>The stages are:</p><ul><li><p>Coder</p></li><li><p>Junior Developer</p></li><li><p>Intermediate Developer</p></li><li><p>Senior Developer</p></li><li><p>Lead Developer</p></li><li><p>Tech Leader</p></li></ul><p>These stages are <b>not job titles.</b> They represent a developer's real experience and competence.</p><p>It's been said that someone with 10 years experience might, in practice, have repeated the same 1 year of experience over-and-over!</p><p>Let's take a look at these stages to get an idea of where you fit and where you might want to go in the future.</p><h3>Coder</h3><p>A coder is a hobbyist.</p><p>If you don't get paid professionally or work with a team of other developers, then you might be a coder.</p><h3>Junior developer</h3><p>A junior developer is entering the IT field as a paid professional and they work with a team of other professionals.</p><p>Are you a junior developer?</p><p>If you've been a professional developer for less than a year (as a very general figure) then you're probably a junior.</p><p>Take a look at the next stage to see if it resonates. If not, then you might still be a junior who's transitioning into becoming an intermediate developer.</p><h3>Intermediate developer</h3><p>An intermediate developer is a competent team member and contributor.</p><p>The telling sign I use for this stage is that <b>intermediate developers usually have a mental urge or "pull" to believe that they know everything they need to know.</b></p><p>Perhaps they feel like their views on how to best architect a system are "complete."</p><p>Perhaps they feel like Javascript is the only programming language they ever need and ever want.</p><p>Whatever it is, there is some degree of feeling like they've "found" the silver bullet or that their current view is finally "the one."</p><blockquote><p><b>The intermediate stage is like stepping into puberty for your career.</b></p></blockquote><p>For example, teens tend to begin believing that they know better than their parents.</p><p>They tend to experiment and be bold about what they believe.</p><p>They begin to tread a path of their own.</p><p>This is the intermediate developer. They are starting to think for themselves.</p><h3>Senior developer</h3><p>The senior developer is becoming very skilled and knowledgeable to the point that those around them are looking to them as a mentor and a "go-to".</p><p>They usually have some specialised or advanced programming knowledge and can build more complex systems using advanced techniques and patterns.</p><p>Seniors are confident in what they know due to their experiences. But they also have a grasp on the fact that there's <i>so much they don't know about.</i></p><p>The biggest telling sign that you are in this stage is whether or not your peers are constantly coming to you for advice and guidance. Are you mentoring others too? These are all signs of being a senior developer.</p><h3>Lead developer</h3><p>The lead developer is focused on providing high-level guidance to their dev team.</p><p>But more importantly, they are a bridge or connector between the development team and the other business-oriented departments in your organisation.</p><p>Are you leading a team of developers? Do you also have to communicate with non-technical managers or other departments about what the development team is working on, etc? If so, you're a lead developer.</p><h3>Tech Leader</h3><p>I hesitate to include this one, but I think it's helpful to see where your career could go in the future.</p><p>A tech leader has made a name for themselves as an expert in some specific area(s) and usually have a very targeted branding/positioning as to what they do well.</p><p>That might be a specific programming language, web security, front-end development with react, a developer mentor, or even a particular industry.</p><p>They could be community builders who have a following of people that look up to them as a direct or indirect mentor.</p><p>They could be thought leaders who champion some specific cause or idea.</p><p>They usually speak publicly about their area of expertise or the ideas that they champion.</p><p>In a nutshell, they are technology experts and very skilled communicators.</p><p>If that sounds like you, then you might be a tech leader.</p><h2 id="How to get to the next stage">How to get to the next stage</h2><p>I've written elsewhere about specific tips to move between each career step. For the moment, I want to highlight some more general pieces of advice that anyone can leverage and use to move forward.</p><h3>Stand-out</h3><p>You need to stand-out within your company if you want to land promotions and be a part of important and growth-inducing projects.</p><p><b>Find a gap within your team or company that could help solve some important problems your company is facing.</b></p><p>Practically speaking, if you are early in your career, just keep an eye out for whenever your peers seem surprised at some skill or way of doing things you have. This might indicate a gap that could be helpful to your organisation!</p><figure><img alt="Tulip standing out" src="https://images.ctfassets.net/cjwb7umaxoxv/21BebbVbTAiiI20dza4oac/a4a8fcfd76d42b38da278dc8a9f8449d/rupert-britton-l37N7a1lL6w-unsplash.jpg"><figcaption>Photo by Rupert Britton on Unsplash</figcaption></figure><p>For example, if you did something fancy with CSS that other developers notice and are impressed with, then that could indicate a gap.</p><p>For more seasoned developers, it should be more apparent what gaps need to be filled. And, the more experienced you are, the more you should naturally drift into a position of mentoring others and having a clear picture of what gaps need to be filled.</p><p>Once you are seasoned, you can use this principle and apply it to the global community - not just your internal company. Try to figure out where there is a need or where certain trends seem to be pointing.</p><p>The specific gap you fill doesn't matter so much. The point is that <b>you need to stand-out as a competent problem-solver who ‚Ä¶</b></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://cult.honeypot.io/reads/developer-career-ownership-guide/">https://cult.honeypot.io/reads/developer-career-ownership-guide/</a></em></p>]]>
            </description>
            <link>https://cult.honeypot.io/reads/developer-career-ownership-guide/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25502812</guid>
            <pubDate>Tue, 22 Dec 2020 04:22:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Double Blind Passwords a.k.a. Horcruxing]]>
            </title>
            <description>
<![CDATA[
Score 146 | Comments 74 (<a href="https://news.ycombinator.com/item?id=25502703">thread link</a>) | @phantom_rehan
<br/>
December 21, 2020 | https://kaizoku.dev/double-blind-passwords-aka-horcruxing | <a href="https://web.archive.org/web/*/https://kaizoku.dev/double-blind-passwords-aka-horcruxing">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section itemprop="articleBody mainEntityOfPage"><meta itemprop="thumbnailUrl image" content="https://cdn.hashnode.com/res/hashnode/image/upload/v1607775961422/elXIChWIZ.png?w=1600&amp;h=840&amp;fit=crop&amp;crop=entropy&amp;auto=compress"><div><div><div><div><p>Subscribe to <!-- -->my<!-- --> newsletter and never miss <!-- -->my<!-- --> upcoming articles</p></div></div></div><div itemprop="text"><p>Before we get into Horcruxing, here's a quick prologue on online security hygiene. You can skip to the  <a href="#double-blind-passwords-aka-horcruxing">Horcruxing section</a>  if it seems redundant.</p>
<h3 id="rules-for-strong-online-security">Rules for Strong Online Security</h3>
<p>1.
<strong>Longer passwords (atleast 16 characters) are better than shorter ones</strong></p>
<pre><code>=&gt; cutesamantha15101995 &gt; cutesamantha
</code></pre><p>2.
<strong>Randomized passwords are better than personally identifiable passwords</strong></p>
<pre><code>=&gt; process-cancel-stingy-garnet &gt; cutesamantha15101995
</code></pre><p><strong>NOTE: </strong> <code>process-cancel-stingy-garnet</code> is technically a passphrase - basically an easy-to-remember password in comparison to randomized strings like <code>B6fSpxMj&amp;f6DU@5^k</code></p>
<p>3.
<strong>Have a <em>significantly</em> different password for each account</strong></p>
<p>Having the same password for different accounts is like using the same key for different locks. It beats the whole point of having multiple locks! Also, having different passwords but with only one easily guessable word different (like the ones below) still poses the same risk. The passwords should be <strong><em>significantly</em></strong> different.</p>
<pre><code>bounce-unfold-stunning-chute        process-cancel-stingy-facebook
symptom-untouched-unpaid-arena  &gt;   process-cancel-stingy-twitter
sediment-tweak-annually-koala       process-cancel-stingy-gmail
</code></pre><p>4.
<strong>Use 2FA/MFA wherever possible</strong></p>
<p>Both Google and Facebook offer a 2FA feature where you need the second factor only when you login from a new device or a new location, instead of needing 2FA every time. That's a rare combination of convenience &amp; security right there! 
Most other sites also offer some variation of 2FA.</p>
<p><strong>NOTE</strong>: Use the  <a target="_blank" href="https://play.google.com/store/apps/details?id=org.shadowice.flocke.andotp">andOTP</a>  (or any other) app's TOTP as the second factor since it cannot be spoofed or spied on lock-screen like the SMS OTP and does not require a mobile network or internet connection. You can also use Biometrics (finger print or face recognition)</p>
<blockquote>
<p>Woah! How do I create a long password for each of the bazillion websites out there, <em>and</em> have them significantly different <em>and</em> remember them? Security seems like such a pain in the ass!</p>
</blockquote>
<h3 id="enter-password-manager">[enter] <strong>PASSWORD MANAGER</strong></h3>
<p>A password manager helps you manage all your passwords in one place, either in the form of a browser extension, mobile app, or website. Good password managers will offer a browser extension and a mobile app with one-click auto-fill-login-page feature by removing the hassle of copy pasting or typing your login details. A few smart ones even detect phishing pages and warn you indirectly, by not showing the login details for such web pages.</p>
<p>They enable all the above measures for strong online security with ease. While I agree it takes some effort to set it up for the very first time. But, after that, it just flows like butter. </p>
<p><br>
For example, password generator in <a target="_blank" href="https://bitwarden.com/">BitWarden</a> lets you custom design your random password in different flavours.</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1607770748804/m93T3kqUH.png?auto=compress" alt="BitWarden's password generator"></p>
<h3 id="yay-im-secure">YAY! I'm Secure!</h3>
<p>You meticulously move all your passwords and secrets to a trusted password manager. Finally, you can rest easy knowing that your digital life is truly secure. Or, is it?  <br></p>
<p><strong>What if </strong></p><ul>
<li>your master password (the password to your password manager) is compromised due to a security breach or you left it in plaintext on a post-it/ email/ notes app</li>
<li>someone gained temporary access to your unlocked system (computer or phone) when you stepped away to get that last coffee for the day and your password manager is still logged in for everyone to see</li>
</ul>
<p>The answer: you're <strong><em>screwed</em></strong>. The cost of putting all your eggs in one basket is that it could all go into oblivion in one fell swoop. How do you overcome this challenge now? </p>
<h3 id="double-blind-passwords-aka-horcruxing">Double Blind Passwords (aka Horcruxing)</h3>
<p>For all his faults, Voldemort did one good thing for us muggles. He gave us the concept of a horcrux. For the uninitiated, a horcrux is any object in which you store a piece of your soul, putting the proverbial eggs of your soul into different baskets, to gain quasi-immortality. </p>
<p><strong>The basic idea</strong>: You split your password into 2 parts - one which is stored in the password manager, and the other which is stored in your head (aka horcrux).</p>
<p>Basically, at any given point in time, you and your password manager know only a piece of the password. It's double-blind. In effect, just like You-Know-Who, you're splitting your password (soul) into pieces and storing them in different places.</p>
<h4 id="before">BEFORE</h4>
<pre><code>
<span>username: rick</span>
<span>password: rollthepeople1732</span>


<span>username: rick</span>
<span>password: rollthepeople1732</span>
</code></pre><h4 id="after">AFTER</h4>
<pre><code>
<span>username: rick</span>
<span>password: roll-the-people-venus</span>


<span>horcrux: papel</span>


<span>username: rick</span>
<span>password: roll-the-people-venuspapel</span>
</code></pre><p>The horcrux adds an additional layer of security that only you can unlock. It's a kind of 2FA. Again, the longer the horcrux the better. But, a simple word should also be fine as long as only you know the horcrux.</p>
<p>If it feels like too much effort, use a horcrux only for the most important logins - your social media, bank accounts etc. </p>
<h3 id="one-last-thing">One Last Thing</h3>
<p>Security is never absolute. One can try to secure a system as tightly as possible, but never really say that it is fully secure (if you see someone claiming otherwise, it's mostly marketing bullshit). If we cannot make systems completely secure, the next best thing to do is to make them as secure as possible and a good way to do it is <a target="_blank" href="https://en.wikipedia.org/wiki/Defense_in_depth_(computing">Defense In Depth</a> - basically make sure that even if one layer of security is breached, there exist other layers to mitigate further damage - which is what we've tried to achieve all along.</p>
<h3 id="summary">Summary</h3>
<p>1.
Use a good password manager </p>
<blockquote>
<p>I use BitWarden (since it is open source and costs just $10 a year for the PRO features)</p>
</blockquote>
<p>2.
Use TOTP/ biometrics instead of SMS-based OTP</p>
<blockquote>
<p>I use andOTP (since it is open source)</p>
</blockquote>
<p>3.
Use a horcrux (a double-blind password) for the most important logins</p>

<p>P.S. Keep in mind that horcruxing only works fine until you connect your brain to NeuraLink and accidentally upload your thoughts online for everyone to see. :P</p>
</div></div></section></div></div>]]>
            </description>
            <link>https://kaizoku.dev/double-blind-passwords-aka-horcruxing</link>
            <guid isPermaLink="false">hacker-news-small-sites-25502703</guid>
            <pubDate>Tue, 22 Dec 2020 03:58:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Unconventional Warfare in Mexico: The US Trained Some of Its Most Brutal Cartels]]>
            </title>
            <description>
<![CDATA[
Score 18 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25502435">thread link</a>) | @AndrewBissell
<br/>
December 21, 2020 | https://narco.news/unconventional-warfare-in-mexico | <a href="https://web.archive.org/web/*/https://narco.news/unconventional-warfare-in-mexico">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-v-120a3898=""><div data-v-120a3898=""><p><a href="https://fas.org/irp/doddir/dod/jp1_02.pdf">Unconventional Warfare</a> (UW): Activities conducted to enable a resistance movement or insurgency to coerce, disrupt, or overthrow a government or occupying power by operating through or with an underground, auxiliary, and guerrilla force in a denied area.</p><figure><div><div><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-20-at-5.49.19-PM.png" width="1000" height="888"></p><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-20-at-5.49.29-PM.png" width="1000" height="888"></p></div></div><figcaption>Unconventional Warfare associated terminology <a href="https://www.soc.mil/ARIS/books/pdf/Unconventional%20Warfare%20Pocket%20Guide_v1%200_Final_6%20April%202016.pdf">Special Operations Command</a></figcaption></figure><hr><p><em>Los Zetas</em> were the highly-trained enforcers of the Gulf cartel made up of supposed deserters from the Mexican special forces known as the <em>Grupo Aerom√É¬≥vil de Fuerzas Especiales </em>(GAFE). The GAFES<em> </em>were formed in 1986 as an elite quick reaction force specializing in counterinsurgency and unconventional warfare. When the North American Free Trade Agreement went into effect in 1994, the GAFES received combat experience in the brutal fight with the leftist <em>Ej√É¬©rcito Zapatista de Liberaci√É¬≥n Nacional</em> (EZLN) in Chiapas. According to <a href="http://historic.edualter.org/material/ddhh/proc1.htm">reporting by Carlos Marin</a>, the army sent the GAFES to Chiapas to <strong>create paramilitaries and displace the population</strong> in order to break the support of the people for the EZLN, an approach which would be used against organized crime years later. In Ioan Grillo's book <em>El Narco</em>, he describes how the mutilated bodies of rebels captured by the GAFES were dumped along a riverbank in the Las Margaritas municipality with their ears and noses sliced off, the sort of spectacular violence that <em>Los Zetas</em> would later standardize in the Drug War.</p><figure><img src="https://publish.narco.news/content/images/2020/10/Screen-Shot-2020-10-26-at-5.09.07-PM-1.png"><figcaption>2005 FBI memo about <em>Los Zetas</em></figcaption></figure><p>Some of the original members of <em>Los Zetas</em> are said to have been <a href="https://nsarchive2.gwu.edu/NSAEBB/NSAEBB499/DOCUMENT01-20050422.PDF">trained by the U.S.</a> at the notorious School of the Americas, although accounts vary about exactly who, where and when. Some say it was at <a href="https://www.kold.com/story/3394374/los-zetas-draw-concern-of-us-government/">Ft. Benning</a> in Georgia, others at <a href="https://www.aljazeera.com/features/2010/11/03/us-trained-cartel-terrorises-mexico/">Ft. Bragg</a> in North Carolina, while other rumors suggest it was at <a href="https://www.army.mil/article/63245/army_north_hosts_mexican_army_leaders_to_strengthen_relationships">Ft. Hood</a> in Texas. According to Lt. Col. Craig Deare (retired), the former Academic Dean at the intellectual center of gravity of U.S. defense policy in Latin America since 1997, the Center for Hemispheric Defense Studies (CHDS), it was likely that more than 500 Mexican GAFES received training from U.S. special operations forces (SOF).</p><p>According to <a href="https://www.aljazeera.com/features/2010/11/03/us-trained-cartel-terrorises-mexico/">reporting</a> in Al Jazeera:</p><p><em>Some of the cartel√¢‚Ç¨‚Ñ¢s initial members were elite Mexican troops, trained in the early 1990s by America√¢‚Ç¨‚Ñ¢s 7th Special Forces Group or √¢‚Ç¨≈ìsnake eaters√¢‚Ç¨ÔøΩ at Ft. Bragg, North Carolina, a former US special operations commander has told Al Jazeera.</em></p><p><em>√¢‚Ç¨≈ìThey were given map reading courses, communications, standard special forces training, light to heavy weapons, machine guns and automatic weapons,√¢‚Ç¨ÔøΩ says Craig Deare, the former special forces commander who is now a professor at the US National Defence University.</em></p><p><em>√¢‚Ç¨≈ìI had some visibility on what was happening, because this [issue] was related to things I was doing in the Pentagon in the 1990s,√¢‚Ç¨ÔøΩ Deare, who also served as [Mexico] director in the office of the US Secretary of Defence, says.</em></p><p>The <a href="https://en.wikipedia.org/wiki/7th_Special_Forces_Group_(United_States)">7th Special Forces Group</a> (SFG) specializes in the approach the U.S. has taken with Latin America since the end of the second world war: unconventional warfare, counterinsurgency and, more recently, counterterrorism. During the Reagan administration in the 1980s, the 7th SFG trained, supported and fought with some of the most brutal and repressive special operations and unconventional forces in El Salvador, Guatemala, Honduras, Panama, Colombia, Peru, Bolivia and Venezuela.</p><figure><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-2.45.27-PM.png"><figcaption>A U.S. special forces Soldier assigned to 7th SF Group, oversees a group of Guatemalan Special Forces "Kaibils" conduct pistol marksmanship training Jan. 28 in Poptun, Guatemala (<a href="https://www.dvidshub.net/image/1749645/kaibil-us-special-forces-promote-security-through-partnership">DVIDS</a>)</figcaption></figure><p>Between 1996 and 1999, <a href="https://www.jornada.com.mx/1998/08/16/mexico.html">3,200 soldiers</a>, including at least 500 GAFES, were reportedly trained by the 7th SFG in the U.S. to create elite "counternarcotics" forces for fighting on behalf of the post-Cold War U.S. national security agenda.</p><p>Conveniently framed as an ironic consequence of the corrupting influence of the cartels, the training from the U.S. special forces diffused into the service of one of Mexico's oldest drug trafficking organizations. In 1997, the same year that the Center for Hemispheric Defense Studies was founded, Arturo Guzm√É¬°n Decena, a GAFE later known by the alias "<a href="https://en.wikipedia.org/wiki/Arturo_Guzm%C3%A1n_Decena">El Zeta-uno</a>", supposedly defected along with other elite Mexican soldiers to work for the Gulf cartel in Tamaulipas. The GAFES trained by the U.S. in counterinsurgency and unconventional warfare to fight drug-trafficking would become one of the most infamous drug-trafficking organizations in Mexico: Los Zetas.</p><p>The School of the Americas changed the way that organized crime operates in Mexico. <em>Los Zetas</em> application of advanced training in insurgency and terror justified President Felipe Calder√É¬≥n's (2006-2012) decision to <a href="https://www.chicagotribune.com/hoy/ct-hoy-8766718-la-guerra-contra-el-narco-en-mexico-costosa-cara-y-mortal-story.html">deploy the military</a> to prosecute the War against Drug-trafficking in his first month in office. The consequences of that decision have been devastating for Mexico.</p><figure><img src="https://publish.narco.news/content/images/2020/10/Screen-Shot-2020-10-19-at-2.08.25-PM-5.png"><figcaption>INEGI</figcaption></figure><p>According to a <a href="https://nsarchive2.gwu.edu/NSAEBB/NSAEBB445/docs/20090700ca.PDF">2009 DEA memo</a>, Los Zetas also recruited other U.S.-trained SOF in Latin America, like the Kaibiles. The Kaibiles and other Guatemalan security forces were trained by the U.S. in counterinsurgency and unconventional warfare before, during and after Guatemala's 36-year <a href="https://www.nytimes.com/1999/02/26/world/guatemalan-army-waged-genocide-new-report-finds.html">genocide</a>. After a 1999 report commissioned by the United Nations determined that the 200,000+ people killed and disappeared by the Guatemalan Army was, <a href="https://www.nytimes.com/1999/02/26/world/guatemalan-army-waged-genocide-new-report-finds.html">in fact, genocide</a>, the School of the Americas briefly closed before opening a year later as the Western Hemisphere Institute for Security Cooperation (WHINSEC). According to <a href="https://www.sfgate.com/default/article/Bay-Area-protesters-sentenced-in-Georgia-Jail-2796779.php">testimony</a> from Major Joseph Blair, a former instructor at the school, the changes were only superficial and an identical curriculum was taught from the exact same instruction manuals. Between 1999 and 2010, <a href="http://www.ghrc-usa.org/Publications/factsheet_kaibiles.pdf">3,555 Guatemalan soldiers</a>, many of them Kaibiles, were trained by the U.S. through WHINSEC and other programs.</p><figure><div><div><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-2.58.27-PM.png" width="1256" height="712"></p><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-10.11.53-AM.png" width="1462" height="944"></p><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-10.11.36-AM.png" width="1462" height="944"></p></div></div><figcaption><a href="https://www.nytimes.com/1999/02/26/world/guatemalan-army-waged-genocide-new-report-finds.html">New York Times</a>; <a href="https://www.aaas.org/sites/default/files/s3fs-public/mos_en.pdf">CEH</a>;</figcaption></figure><p>The Kaibiles are taught to kill without mercy or thought. In training, recruits are given a puppy to look after and bond with for several weeks before being ordered to kill the animal with their bare hands, drink the blood and eat the raw flesh, a method which <a href="https://www.voltairenet.org/Los-Kaibiles-mexicanos">reportedly</a> has since diffused to the Mexican GAFES and other forces that train with the Kaibiles. Like the "snake eaters" of the U.S. 7th SFG, the Kaibiles kill to eat and live to kill. Their motto is: "<em>Si avanzo, s√É¬≠gueme. Si me detengo, apr√É¬©miame. Si retrocedo, m√É¬°tame!</em> / <em>If I advance, follow me. If I stop, urge me on. If I retreat, kill me!"</em></p><figure><div><div><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-23-at-2.12.06-PM-1.png" width="1256" height="946"></p><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-23-at-2.23.00-PM.png" width="1222" height="776"></p></div></div><figcaption>Participant in the Dos Erres massacre and former School of the Americas Instructor Pedro Pimental Rios (<a href="https://www.ocweekly.com/pedro-pimentel-rios-accused-in-guatemalan-massacre-to-be-deported-6479330/">OC Weekly</a>; <a href="https://www.ice.gov/news/releases/ice-removes-former-member-guatemalan-army-linked-1980s-massacre">ICE</a>)</figcaption></figure><p>In 1982, the Kaibiles massacred 226 people in the Dos Erres village in Guatemala. According to the <a href="https://www.aaas.org/sites/default/files/s3fs-public/mos_en.pdf">United Nations Truth Commission Clarification</a> and reporting by <a href="https://www.propublica.org/article/finding-oscar-massacre-memory-and-justice-in-guatemala">ProPublica</a>, they arrived in the middle of the night and accused the residents of being guerrilla sympathizers. The smallest children were killed by smashing their heads against trees and the sides of buildings, while older children were killed with a hammer. Adults were interrogated and tortured, one by one, and the women were raped by the Kaibiles. The Kaibiles also cut fetuses out of pregnant women. After the interrogation, the adults were also killed with a hammer and the corpses were dumped in a well. A few years after the massacre, one of the Kaibil officers who had supervised the atrocity, Pedro Pimental Rios, became an instructor at the School of the Americas. He was extradited from the U.S. in 2012 and sentenced to more than 6,000 years in prison for his involvement.</p><p>According to a declassified <a href="https://nsarchive2.gwu.edu/NSAEBB/NSAEBB32/docs/doc42.pdf">Defense Intelligence Agency (DIA) memo</a> from 1994, intelligence sources described clandestine graves outside of a Guatemalan military facility. The memo described Guatemalan soldiers flying captives over the ocean before pushing them out of helicopters to their deaths, a technique also used in <a href="https://www.nytimes.com/1995/03/13/world/argentine-tells-of-dumping-dirty-war-captives-into-sea.html">Argentina</a>. In 2015, former Chilean military officer Jaime Garcia Covarrubias was <a href="https://www.mcclatchydc.com/news/nation-world/national/national-security/article24781345.html">arrested</a> for torturing and executing seven people in 1973. He had been a faculty member at the Center for Hemispheric Defense Studies for 13 years.</p><figure><div><div><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-2.09.33-PM.png" width="1100" height="1436"></p><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-2.10.15-PM-1.png" width="1100" height="1436"></p></div><div><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-2.10.38-PM.png" width="1100" height="1436"></p><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-23-at-2.29.05-PM.png" width="1238" height="740"></p></div></div><figcaption><a href="https://nsarchive2.gwu.edu/NSAEBB/NSAEBB32/docs/doc42.pdf">National Security Archive</a>; <a href="https://www.nytimes.com/1995/03/13/world/argentine-tells-of-dumping-dirty-war-captives-into-sea.html">New York Times</a></figcaption></figure><p>After the end of the Cold War, the Kaibiles were <a href="https://www.aljazeera.com/features/2011/8/15/guatemalas-feared-special-forces">repurposed</a> to fight the United States' new greatest threat to national security: drugs. From 2007 to 2014, U.S. SOF training <a href="https://www.wola.org/analysis/u-s-special-operations-latin-america-parallel-diplomacy/">tripled</a> in Latin America, mostly in the area of responsibility (AOR) of U.S. Department of Defense's Southern Command (SOUTHCOM) in the Caribbean, Central and South America. The U.S. military continues training the Kaibiles to this day. </p><figure><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-1.03.23-PM.png"><figcaption>U.S. soldiers training with the Kaibiles in Information Operations, July 2019 (<a href="https://www.dvidshub.net/image/5602004/us-soldiers-trek-through-jungles-with-guatemalan-special-forces">DVIDS</a>)</figcaption></figure><hr><p>While the Mexican military was fighting a war nominally against violent drug-trafficking organizations like <em>Los Zetas</em>, the U.S. military was developing and spreading a new doctrine for waging a new regional war on terror in Latin America. A <a href="https://apps.dtic.mil/dtic/tr/fulltext/u2/a475840.pdf">2007 academic paper</a> outlined a new <strong>distributed operational model</strong> for command and control (C2) for Special Operations Command in the U.S. SOUTHCOM AOR based on the approach of the U.S. Marine Corps (USMC). The authors recognized the USMC approach as, "better suited for counterinsurgency and non-combat environments, where the objectives are more ambivalent." According to the authors:</p><p><em>In standard military maneuver operations where missions such as √¢‚Ç¨≈ìattack that position,√¢‚Ç¨ÔøΩ are clearly defined, the [conventional] definition of C2 is sufficient. However, in an ambiguous environment where SOF often operates, the mission (e.g., plan and execute UW [Unconventional Warfare]) is not as clearly defined. As a result, a special operator in the field must be able to operate with maximum authority, flexibility, and agility to respond to immediate changes emerging from dynamic situations. The USMC definition reflects precisely how SOCSOUTH√¢‚Ç¨‚Ñ¢s staff currently approaches C2 in its theater of operations.</em></p><p>Officers from the Colombian military studying at the <strong>United State Marine Corps Command and Staff College</strong> at the Marine Corps University quickly recognized the advantages of the U.S. approach. According to a <a href="https://apps.dtic.mil/dtic/tr/fulltext/u2/a491149.pdf">2008 academic paper</a>‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://narco.news/unconventional-warfare-in-mexico">https://narco.news/unconventional-warfare-in-mexico</a></em></p>]]>
            </description>
            <link>https://narco.news/unconventional-warfare-in-mexico</link>
            <guid isPermaLink="false">hacker-news-small-sites-25502435</guid>
            <pubDate>Tue, 22 Dec 2020 03:11:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Dive into Ray Tracing Performance on the Apple M1]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25502201">thread link</a>) | @phenylene
<br/>
December 21, 2020 | https://www.willusher.io/graphics/2020/12/20/rt-dive-m1 | <a href="https://web.archive.org/web/*/https://www.willusher.io/graphics/2020/12/20/rt-dive-m1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	<div>
		
<p>The Apple M1 available in the MacBook Air, MacBook Pro 13‚Äù, and Mac Mini has
been the focus of a ton of benchmarking writeups and blog posts about
the new chip. The performance overall, and especially performance/watt,
that Apple has achieved with the chip is very impressive.
As a ray tracing person, what caught my eye the most was the
performance AnandTech reported in their
<a href="https://www.anandtech.com/show/16252/mac-mini-apple-m1-tested/2">CineBench benchmarks</a>.
These scores were 1.6x higher than I got on my old Haswell desktop and 2x
higher than my new Tiger Lake laptop!
I had also been interested in trying out the new
<a href="https://developer.apple.com/videos/play/wwdc2020/10012/">ray tracing API for Metal</a>
that was announced at WWDC this year,
which bears some resemblance to the DirectX, Vulkan, and OptiX GPU ray tracing APIs.
So, I decided to pick up a Mac Mini to do some testing
on my own interactive path tracing project,
<a href="https://github.com/Twinklebear/ChameleonRT">ChameleonRT</a>,
and to get it running on the new Metal ray tracing API.
In this post, we‚Äôll take a look at the new Metal ray tracing
API to see how it lines up with DirectX, Vulkan, OptiX and Embree,
then we‚Äôll make some fair (and some extremely unfair) ray tracing
performance comparisons against the M1.</p>

<!--more-->



<p><a href="https://github.com/Twinklebear/ChameleonRT">ChameleonRT</a> is an open source
interactive path tracer that I‚Äôve been working on to learn the different ray tracing APIs,
and to provide an example or starting point for myself and others working with them
in other projects.
ChameleonRT provides backends for the GPU ray tracing APIs:
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/dxr">DirectX Ray Tracing</a>,
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/vulkan">Vulkan KHR Ray Tracing</a>,
and <a href="https://github.com/Twinklebear/ChameleonRT/tree/master/optix">OptiX 7</a>.
Through the work discussed in this post, it also has a new
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/metal">Metal</a> GPU backend.
ChameleonRT also has an <a href="https://github.com/Twinklebear/ChameleonRT/tree/master/embree">Embree backend</a>
for fast multi-threaded and SIMD accelerated ray tracing on CPUs through
<a href="https://www.embree.org/">Embree</a>, <a href="https://ispc.github.io/">ISPC</a>, and <a href="https://github.com/oneapi-src/oneTBB">TBB</a>.
The rendering code in each backend is nearly identical and they produce almost pixel exact outputs,
with some possible small differences due to subtle differences in the ray tracing
libraries or shader languages.</p>

<p>ChameleonRT is different from popular ray tracing benchmark applications like
<a href="https://www.maxon.net/en/cinebench">CineBench</a>, <a href="http://www.luxmark.info/">LuxMark</a>,
and <a href="https://opendata.blender.org/">Blender Benchmark</a>, in that ChameleonRT is
a minimal interactive path tracer. CineBench, LuxMark, and Blender Benchmark are excellent
for getting a full picture of what performance to expect from a production film
renderer, as they are production renderers. However, there‚Äôs a lot more going
on in a production renderer than just ray tracing to support the kind of complex
geometries, materials, and effects used in film; and the large code
bases can be challenging to quickly port to a new architecture or API.
ChameleonRT is the exact opposite, supporting just one geometry type,
triangle meshes, and one material type, the Disney BRDF.
The rest of the code is similarly written to achieve interactive path tracing performance,
though I have tried to balance this with how complex the code is to read.
For example, the renderers use iterative ray tracing instead of recursion,
support only a simple sampling strategy, and don‚Äôt support alpha cut-out effects.
The use of iterative ray tracing is valuable on both the CPU and GPU, but is
especially important on the GPU, as the
overhead of recursive ray tracing calls in the pipeline can have a significant performance impact.
Similarly, ignoring alpha cut-out effects allows the GPU renderers
to skip using an any hit shader (and the Embree on to skip needing an intersection
filter). The any hit shader (or intersection filter) would be called during
BVH traversal after a candidate intersection with a triangle is found.
In the case that the BVH traversal is hardware accelerated, this ends up
producing a lot amount of back and
forth between the fixed function traversal hardware and the shader cores to run the any hit
shader during traversal, limiting the hardware‚Äôs performance.</p>

<blockquote>
  <p>What‚Äôs a path tracer? Path tracing is a technique in computer graphics for
rendering photo-realistic images by simulating the light transport in
the scene. It is a Monte Carlo technique, meaning that it randomly samples
light paths emitted from lights in the scene that reach the camera
by bouncing off objects in the scene. This is done by tracing the paths in reverse,
starting from the camera and tracing the path back through the scene.
A large number of light paths need to be sampled to produce a noise-free
image. Path tracing is not restricted to photo-realism, and is the
core rendering algorithm used in major film renderers, such as: Pixar‚Äôs Renderman,
Disney‚Äôs Hyperion, Autodesk‚Äôs Arnold, and Weta‚Äôs Manuka.
See <a href="https://en.wikipedia.org/wiki/Path_tracing">Wikipedia</a> for more.</p>
</blockquote>



<p>The new ray tracing API in Metal will be familiar to those who‚Äôve used inline ray
tracing in DirectX or Vulkan. For a good introduction to Metal‚Äôs API, check out the <a href="https://developer.apple.com/videos/play/wwdc2020/10012/">Discover ray tracing
with Metal</a> video from WWDC 2020,
and the <a href="https://developer.apple.com/documentation/metal/accelerating_ray_tracing_using_metal?language=objc">accompanying sample</a>.
Inline ray tracing allows applications to make ray tracing calls in any shader stage,
e.g., fragment/pixel shaders, vertex shaders, compute shaders, etc.
Inline ray tracing allows ray tracing effects, for example accurate reflections and shadows,
to be integrated into the regular rasterization pipeline.
Inline ray tracing can also be used from a compute shader to implement a standalone
path tracing based renderer. ChameleonRT is a standalone path tracer, and takes
the compute shader approach for Metal.</p>

<p>At a high-level, ray tracing in Metal proceeds as follows: you upload your
geometry data, build bottom-level primitive acceleration structures over them, then create instances
referencing those acceleration structures and build a top-level acceleration structure over
the instances.
To render the scene you dispatch a compute shader and trace rays against the top-level
acceleration structure to get back intersection results. The intersection results provide
you with the intersected primitive and geometry IDs, and if using instancing, the instance ID.
Your shader can then look up the geometry data for the object that was hit and shade it,
after which it can continue tracing the path.</p>

<p>At this time Metal only supports inline ray tracing, in contrast to DirectX and Vulkan, which
also provide support for ray tracing pipelines. Ray tracing pipelines are used
to implement standalone ray tracing renderers, and is the approach ChameleonRT
uses in its DirectX and Vulkan backends.
OptiX only supports ray tracing pipelines.
Ray tracing pipelines require the creation of a Shader Binding Table to
provide the API with a table of functions to call when specific objects
in the scene are intersected. The SBT can be difficult to setup and debug,
and is a common point of difficulty for developers learning these APIs.
For more information about the SBT, check out my post
<a href="https://www.willusher.io/graphics/2019/11/20/the-sbt-three-ways">‚ÄúThe RTX Shader Binding Table Three Ways‚Äù</a>.
However, the potential benefit of the SBT is that the GPU can reorder or group function
calls to reduce thread divergence. With inline ray tracing, the developer
must do this themselves, or do without
(check out another video from <a href="https://developer.apple.com/videos/play/wwdc2020/10013/">WWDC20</a>
for information here).
Right now, ChameleonRT does not do any reordering to reduce divergence.</p>

<p>Those familiar with Metal may know of the previous
<a href="https://developer.apple.com/documentation/metalperformanceshaders/metal_for_accelerating_ray_tracing?language=objc">Metal Performance Shaders ray intersector</a>.
The new support for inline ray tracing improves on this by allowing the renderer
to move entirely to the GPU. The previous ray intersector worked by taking
batches of rays, finding intersections in the scene, and writing these results
back out to memory. Multiple compute shaders would need to be dispatched to
trace the primary rays and create shadow and secondary rays, then trace the shadow rays
and continue the secondary rays while filtering out paths that terminated.
This requires significantly more memory traffic and compute dispatches, introducing overhead
to the renderer. Such an approach is also not well suited to augmenting traditional
rasterization pipelines with ray tracing effects.
Approaches based on tracing and sorting rays and intersection information to extract
coherence are valuable for complex film renderers, and can be implemented efficiently using inline
ray tracing as well.
For example, <a href="https://www.yiningkarlli.com/projects/hyperiondesign.html">Disney‚Äôs Hyperion renderer</a>
uses sorting and batching extensively to
extract coherent workloads from an otherwise incoherent and divergent distribution of rays.
There‚Äôs also an excellent higher-level <a href="https://youtu.be/frLwRLS_ZR0">video</a> explaining how this
works.</p>

<p>The Metal ray tracing API is quite nice to work with.
It bears a lot of similarity to the other ray tracing APIs, but has been streamlined
to be easier to use.
For example, compare the code required to build and compact a BVH in
<a href="https://github.com/Twinklebear/ChameleonRT/blob/master/dxr/dxr_utils.cpp#L877-L977">DirectX</a>
or <a href="https://github.com/Twinklebear/ChameleonRT/blob/master/vulkan/vulkanrt_utils.cpp#L46-L214">Vulkan</a>
with <a href="https://github.com/Twinklebear/ChameleonRT/blob/master/metal/metalrt_utils.mm#L318-L396">Metal</a>.
OptiX‚Äôs API provides a similar simplification, here‚Äôs the
<a href="https://github.com/Twinklebear/ChameleonRT/blob/master/optix/optix_utils.cpp#L183-L244">BVH build in OptiX</a>
for reference.
It‚Äôs also nice to have templates and C++ style functionality in the shader language,
a feature Metal shares with OptiX, which uses CUDA for the device side code.</p>

<p>This simplicity also has some drawbacks. For example, while in DirectX, Vulkan, and OptiX
you have control over where the acceleration structure memory is allocated,
Metal makes this allocation for you. As a result, you cannot allocate the acceleration
structures on a <code>MTLHeap</code>, and so to make sure they‚Äôre available for your rendering
pipeline, you must individually mark them as used in a loop instead of a single <code>useHeap</code> call.</p>

<figure><pre><code data-lang="objc"><span></span><span>// Use our top level acceleration structure</span>
<span>[</span><span>command_encoder</span> <span>setAccelerationStructure</span><span>:</span><span>bvh</span><span>-&gt;</span><span>bvh</span> <span>atBufferIndex</span><span>:</span><span>1</span><span>];</span>
<span>// Also mark all mesh acceleration structures used, as they're indirectly</span>
<span>// referenced by the top level one</span>
<span>for</span> <span>(</span><span>auto</span> <span>&amp;</span><span>mesh</span> <span>:</span> <span>bvh</span><span>-&gt;</span><span>meshes</span><span>)</span> <span>{</span>
    <span>[</span><span>command_encoder</span> <span>useResource</span><span>:</span><span>mesh</span><span>-&gt;</span><span>bvh</span> <span>usage</span><span>:</span><span>MTLResourceUsageRead</span><span>];</span>
<span>}</span></code></pre></figure>

<p>This can add some overhead if you have a lot of bottom level BVHs, as can be the
case in scenes with many instances.
It‚Äôd be nice to be able to allocate the acceleration structures on a heap, and replace this loop
with a single <code>[command_encoder useHeap:data_heap-&gt;heap];</code></p>

<p>The API is also simplified significantly by not including ray tracing pipelines and
only requiring a Shader Binding Table-esque
structure when implementing custom geometries or other operations that need
to happen ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.willusher.io/graphics/2020/12/20/rt-dive-m1">https://www.willusher.io/graphics/2020/12/20/rt-dive-m1</a></em></p>]]>
            </description>
            <link>https://www.willusher.io/graphics/2020/12/20/rt-dive-m1</link>
            <guid isPermaLink="false">hacker-news-small-sites-25502201</guid>
            <pubDate>Tue, 22 Dec 2020 02:27:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Vintage Basic ‚Äì Games]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25502018">thread link</a>) | @Fjolsvith
<br/>
December 21, 2020 | http://vintage-basic.net/games.html | <a href="https://web.archive.org/web/*/http://vintage-basic.net/games.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div class="page">
  <div><p>
      The classic book <a href="http://www.amazon.com/BASIC-Computer-Games-Microcomputer-David/dp/0894800523">
      <em>BASIC Computer Games</em></a>,
      published by <a href="http://en.wikipedia.org/wiki/Creative_Computing">Creative Computing</a>,
      inspired a generation of programmers.  The games were written by many people, and compiled by
      <a href="http://www.swapmeetdave.com/Ahl/DHAbio.htm">David H. Ahl</a>. The fabulous illustrations
      accompanying each game were done by
      <a href="http://www.bekerbots.com/">George Beker</a>.
      </p>
      <p>
      I've included all the games here for your tinkering pleasure.
      I've tested and tweaked each one of them to make sure they'll run with Vintage BASIC, though you may see
      a few oddities. That's part of the fun of playing with BASIC: it never works quite the same on two machines.
      The games will play better if you keep CAPS LOCK on, as they were designed to be used with capital-letter
      input.
    </p>
    <p>
      The table below includes both links to the pages of the book at
      <a href="http://www.atariarchives.org/basicgames/">atariarchives.org</a>,
      and the source code for each game.  I obtained most of the source code from
      <a href="http://www.classicbasicgames.org/">classicbasicgames.org</a>, with the exception
      of Civil War and Super Star Trek, which I entered myself.  The descriptions mainly come
      from an earlier edition of the book, <em>101 BASIC Computer Games</em>, via the scans at
      <a href="http://www.digibarn.com/collections/books/basicgames/">digibarn.com</a>.
      All book content is provided with the express consent of
      David H. Ahl, editor.
    </p>
    <p>
      You can download the <strong>entire set</strong> of games as a tarball
      (<a href="http://vintage-basic.net/downloads/bcg.tar.gz">bcg.tar.gz</a>)
      or a ZIP archive (<a href="http://vintage-basic.net/downloads/bcg.zip">bcg.zip</a>).
    </p>
  </div>
  <p><small>¬© 2009‚Äì2017 Lyle Kopnicky</small>
  </p></div></div>]]>
            </description>
            <link>http://vintage-basic.net/games.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25502018</guid>
            <pubDate>Tue, 22 Dec 2020 01:54:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Advanced TypeScript Type Tricks]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25501761">thread link</a>) | @dested
<br/>
December 21, 2020 | https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/ | <a href="https://web.archive.org/web/*/https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    <div>
        <div>

            
            <div>

                
                <h3 id="a-journey">A journey</h3>
<p>After spending some time in TypeScript you may begin to crave type safety everywhere in your life. JavaScript is an inherently unsafe language and there are dragons to be found everywhere and in almost every framework. Most frameworks are sufficiently covered, but what if you design a beautiful API internally that needs to be incredibly feature rich, and incredibly safe, but still allow for the best JavaScript idioms. Well at that point you may have to dive into writing some pretty gnarly types.</p>
<p>In general there are a number of TypeScript TYPE libraries out there, <a href="https://github.com/millsp/ts-toolbelt">ts-toolbelt</a>, <a href="https://github.com/piotrwitek/utility-types">utility-types</a>, <a href="https://www.npmjs.com/package/type-fest">type-fest</a> to name a few. These libraries are great, and contain a plethora of information, but they are generally sparse in describing HOW they created their utility types.</p>
<blockquote>
<p>There are a lot of great type libraries, but no great documentation on how they‚Äôre built</p>
</blockquote>
<p>The goal of this post is to not only expose some great utility types, but also some tips and tricks that I realized along the way. Unfortunately this post requires a relatively strong understanding of TypeScript types and tricks. <a href="https://www.typescriptlang.org/docs/handbook/advanced-types.html">Advanced Types</a> is a great place to start before diving in!</p>
<h3 id="esoteric-solutions">Esoteric solutions</h3>
<p>A lot of these solutions (and problems) may feel esoteric, and that‚Äôs because frankly they are. They are not for the faint of heart, they do not need to be known for daily TypeScript use. They are the nitty-gritty realities of writing type libraries for incredibly complex or il-defined JavaScript problems.</p>
<p>Most of these types come from a few TypeScript libraries im working on, namely <a href="https://www.npmjs.com/package/safe-schema">safe-schema</a>, and <a href="https://www.npmjs.com/package/mongo-safe">mongo-safe</a>, both of which I intend to do lengthy blog posts on in the future.</p>
<p>I have tried to organize these with an example of the usage, and the reason why the problem or solution is novel or interesting. They are in no particular order.</p>
<p>
  <img src="https://casualdeveloper.net/img/youshouldnt.gif" alt="I didnt say they couldnt I said you shouldnt">

</p>
<hr>
<h2 id="setting-a-variable-extends-infer">Setting A Variable (<code>extends infer</code>)</h2>
<h3 id="example">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> Shoes&lt;<span>T</span>&gt; <span>=</span> {item: <span>Fancy</span>&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span>} <span>|</span> 
                Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span> <span>|</span> 
                [Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span>, Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span>] <span>|</span> 
                [Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span>];
</code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> Shoes&lt;<span>T</span>&gt; <span>=</span> Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span> <span>extends</span> <span>infer</span> TItem <span>?</span> 
                {item: <span>TItem</span>} <span>|</span> TItem <span>|</span> [TItem, TItem] <span>|</span> [TItem]<span>:</span>
                Impossible;

<span>type</span> Impossible <span>=</span> <span>never</span>;
</code></pre></div>
<h3 id="reason">Reason</h3>
<p>Occasionally you will need to use the same type over and over in your type definition. Every time TypeScript encounters your type it will have to evaluate it again. Using the infer trick you can store a variable in your type that you can use throughout the rest of it.</p>
<p>You will see this <code>extends infer</code> trick pop up in a few places. <code>infer</code> has some interesting properties that make it useful when defining complex types.</p>
<p>Note the use of <code>Impossible</code> here. We can never reach the Impossible branch, so typically we would specify never here, but I have found just putting never there will be confusing in the future when looking at these types again thinking that never branch could possibly be hit. The use of explicit type alias‚Äôs that resolve to basic types is a great way to be explicit in your definitions.</p>
<p><em>Note:</em> This will not work if the result of your type is <code>never</code>. If T or <code>Fancy&lt;Shmancy&lt;Deeply&lt;Nested&lt;T&gt;&gt;&gt;&gt;</code> is never, the whole expression will result in <code>never</code>.</p>
<hr>
<h2 id="type-is-never">Type is <code>never</code></h2>
<h3 id="example-1">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> Shoes&lt;<span>T</span>&gt; <span>=</span> T <span>extends</span> <span>never</span> <span>?</span> 1 : <span>0</span>;

<span>type</span> Test1 <span>=</span> Shoes<span>&lt;</span><span>'hi'</span><span>&gt;</span>; <span>// 0
</span><span></span><span>type</span> Test2 <span>=</span> Shoes&lt;<span>never</span>&gt;; <span>// never
</span></code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> Shoes&lt;<span>T</span>&gt; <span>=</span> [T] <span>extends</span> [<span>never</span>] <span>?</span> 1 : <span>0</span>;
<span>//              ^ ^         ^     ^
</span><span></span><span>type</span> Test1 <span>=</span> Shoes<span>&lt;</span><span>'hi'</span><span>&gt;</span>; <span>// 0
</span><span></span><span>type</span> Test2 <span>=</span> Shoes&lt;<span>never</span>&gt;; <span>// 1
</span></code></pre></div>
<h3 id="reason-1">Reason</h3>
<p>It is not easy to test for <code>never</code>. Once one of the types in your expression is <code>never</code> it will <strong>poison</strong> the rest of the expression to evaluate to <code>never</code>. Typically, this is a useful feature, but when you actually need to check for <code>never</code> you can wrap your expression in a tuple. This will trick the TypeScript compiler to compare apples to apples instead of expanding the <code>never</code>.</p>
<p>It works by comparing the tuple <code>T</code> to the tuple <code>never</code>. We use this tuple trick in a number of places. I am not certain as to why it works, other than the fact that tuples make TypeScript slightly less greedy in its evaluation.</p>
<hr>
<p>
  <img src="https://casualdeveloper.net/img/never.gif" alt="What never? No never.">

</p>
<h2 id="compare-multiple-types-at-once">Compare Multiple Types At Once</h2>
<h3 id="example-2">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> Shoes&lt;<span>T1</span>, <span>T2</span>, <span>T3</span>&gt; <span>=</span> T1 <span>extends</span> {} <span>?</span> 
                              (T2 <span>extends</span> <span>number</span> <span>?</span> 
                                  (T3 <span>extends</span> <span>string</span> <span>?</span> 
                                      1 : 
                                      <span>0</span>)<span>:</span> 
                                  <span>0</span>)<span>:</span> 
                              <span>0</span>;
</code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> Shoes&lt;<span>T1</span>, <span>T2</span>, <span>T3</span>&gt; <span>=</span> 
                        [
                            T1 <span>extends</span> {} <span>?</span> 1 : <span>0</span>, 
                            T2 <span>extends</span> <span>number</span> <span>?</span> 1 : <span>0</span>, 
                            T3 <span>extends</span> Something <span>?</span> 1 : <span>0</span>
                        ] <span>extends</span> 
                        [<span>1</span>, <span>1</span>, <span>1</span>] <span>?</span> 
                        1:
                        <span>0</span>;
</code></pre></div>
<h3 id="reason-2">Reason</h3>
<p>You will often need to deeply check a few things, and only execute some logic if all are a certain value. This can result in an annoying deeply nested structure.</p>
<p>One clean solution to this is to check all of them upfront in a tuple and compare that to the expected results of each. Now your tree is only one level deep and your intent is much clearer!</p>
<hr>
<h2 id="dont-distribute-my-union">Don‚Äôt Distribute My Union</h2>
<h3 id="example-3">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> StringToObject&lt;<span>T</span>&gt; <span>=</span> T <span>extends</span> <span>string</span> <span>?</span> {[key <span>in</span> T]<span>:</span> <span>boolean</span>} <span>:</span> <span>never</span>;

<span>type</span> UnionToObject&lt;<span>T</span>&gt; <span>=</span> StringToObject&lt;<span>T</span>&gt;;
<span>type</span> Nested&lt;<span>T</span>&gt; <span>=</span> {[key <span>in</span> <span>keyof</span> T]<span>:</span> UnionToObject&lt;<span>T</span>[<span>key</span>]&gt;};

<span>const</span> value: <span>Nested</span><span>&lt;</span>{thing<span>:</span> <span>'a'</span> <span>|</span> <span>'b'</span> <span>|</span> <span>'c'</span>}<span>&gt;</span> <span>=</span> {thing<span>:</span> {a: <span>true</span>, c: <span>true</span>}}; <span>// NO ERROR
</span></code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> StringToObject&lt;<span>T</span>&gt; <span>=</span> [T] <span>extends</span> [<span>string</span>] <span>?</span> {[key <span>in</span> T]<span>:</span> <span>boolean</span>} <span>:</span> <span>never</span>;
<span>//                       ^ ^         ^      ^
</span><span></span><span>type</span> UnionToObject&lt;<span>T</span>&gt; <span>=</span> StringToObject&lt;<span>T</span>&gt;;
<span>type</span> Nested&lt;<span>T</span>&gt; <span>=</span> {[key <span>in</span> <span>keyof</span> T]<span>:</span> UnionToObject&lt;<span>T</span>[<span>key</span>]&gt;};

<span>const</span> value: <span>Nested</span><span>&lt;</span>{thing<span>:</span> <span>'a'</span> <span>|</span> <span>'b'</span> <span>|</span> <span>'c'</span>}<span>&gt;</span> <span>=</span> {thing<span>:</span> {a: <span>true</span>, c: <span>true</span>}}; <span>// ERROR Missing 'b'
</span></code></pre></div>
<h3 id="reason-3">Reason</h3>
<p>Sometimes you will pass a union so deeply that when it reaches its final destination the union has been distributed. This <em>can</em> result in unintended behavior as described above. Since the union has been distributed, <code>value</code> in the first example will result in the type</p>
<pre><code>{thing:
    {[key in 'a']:boolean} | 
    {[key in 'b']:boolean} | 
    {[key in 'c']:boolean}
}
</code></pre><p>when your goal was simply <code>{thing: {[key in ('a'|'b'|'c')]:boolean} }</code>.</p>
<p>The solution to this is to wrap <code>T</code> in a tuple to force TypeScript to not distribute your union in subsequent expressions.</p>
<hr>
<h2 id="exclude-never">Exclude <code>never</code></h2>
<h3 id="example-4">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> Bad <span>=</span> {shoes:<span>never</span>; other: <span>boolean</span>}
<span>const</span> value: <span>Bad</span> <span>=</span> {shoes:<span>1</span>, other:<span>true</span>};  <span>// throws an error on shoes but intellisense and type is misleading
</span></code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span>
<span>export</span> <span>type</span> ExcludeNever&lt;<span>T</span>&gt; <span>=</span> {
    [key <span>in</span> <span>keyof</span> T <span>as</span> T[key] <span>extends</span> <span>never</span> <span>?</span> <span>never</span> <span>:</span> key]<span>:</span> T[key];
};


<span>const</span> value: <span>ExcludeNever</span>&lt;<span>Bad</span>&gt; <span>=</span> {shoes: <span>1</span>, other: <span>true</span>} <span>// throws a full error and no intellisense
</span></code></pre></div>
<h3 id="reason-4">Reason</h3>
<p>Occasionally you will process some type in a <code>Record</code> and set a value to never. This is perfectly valid and will throw errors when the user attempts to put a value there.</p>
<p>The problem is, intellisense does not exclude this key from your result list. Sure the type is <code>never</code>, but since the key still exists it will allow you to put a value there.</p>
<p>The solution is to use the new TypeScript <code>as</code> syntax to set the key to <code>never</code> when appropriate, that way it will not be available to the user.</p>
<p>Note: the end result is the same, you cannot put a value for shoes, but the DX is significantly improved in the second case.</p>
<hr>
<h2 id="potential-solution-to-type-instantiation-is-excessively-deep-and-possibly-infinite">Potential Solution To <code>type instantiation is excessively deep and possibly infinite</code></h2>
<h3 id="example-5">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> GoDeep&lt;<span>T</span>&gt; <span>=</span> <span>/*...*/</span> GoDeep&lt;<span>T</span>&gt;; 
</code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> GoDeep&lt;<span>T</span>&gt; <span>=</span> T <span>extends</span> <span>infer</span> R <span>?</span> <span>/*...*/</span> GoDeep&lt;<span>R</span>&gt; <span>:</span> Impossible;
</code></pre></div>
<h3 id="reason-5">Reason</h3>
<p>Now this one is a bit hard to explain, but easily one of the most powerful tricks in this post. It has saved my bacon too many times to count.</p>
<p>The example above is intentionally sparse since it‚Äôs hard to find real world examples. <em>When you need it, you‚Äôll know</em>.</p>
<p>Along your journey to making a complex library completely typesafe you will inevitably create a type that is <em>potentially</em> infinitely deeply nested.</p>
<p>A little background: TypeScript has a rule that it will generally not dive deeper than about 50 levels of type checking before it throws up its hands and resolves the dreaded ‚Äútype instantiation is excessively deep and possibly infinite‚Äù. This means your type is too complex and it would take too long to evaluate, so it wont.</p>
<p>I will say that 90% of the time this is due to an issue in your code that is solvable without use of trickery. Typically, you screwed up somewhere. However, on the rare occasion where you did everything right, your type is properly optimized, but your library requirements actually do push the envelope, you can use the above trick.</p>
<p>How it works is still a bit of a mystery to me. This is a trick I learned from the incredible library <a href="https://github.com/millsp/ts-toolbelt">ts-toolbelt</a>. The best I can tell is it <strong>defers</strong> the evaluation of the type T until it is actually requested. What this means is just because your type <strong>can</strong> be nested infinitely, this outcome will be tested <strong>based on usage</strong> rather than a blanket statement.</p>
<p>That means if you pass a T that does exhaust the 50 cap then TypeScript will be sure to let you know, but until then all of the T‚Äôs that play nice will continue to work.</p>
<p>I dont know if the explanation above is correct and would love to be corrected! In my experience and research this is how it works.</p>
<p>
  <img src="https://casualdeveloper.net/img/deep.gif" alt="Deep">

</p>
<hr>
<h2 id="potential-solution-to-excessive-union">Potential Solution To <code>excessive union</code></h2>
<h3 id="example-6">Example</h3>
<div><pre><code data-lang="typescript"><span>type</span> Depths <span>=</span> <span>1</span> <span>|</span> <span>2</span> <span>|</span> <span>3</span> <span>|</span> <span>4</span> <span>|</span> <span>5</span>;

<span>type</span> NextDepth&lt;<span>TDepth</span> <span>extends</span> <span>Depths</span>&gt; <span>=</span> TDepth <span>extends</span> <span>1</span>
  <span>?</span> 2
  : <span>TDepth</span> <span>extends</span> <span>2</span>
  <span>?</span> 3
  : <span>TDepth</span> <span>extends</span> <span>3</span>
  <span>?</span> 4
  : <span>TDepth</span> <span>extends</span> <span>4</span>
  <span>?</span> 5
  : <span>never</span>;

<span>export</span> <span>type</span> SafeTypes <span>=</span> <span>number</span> <span>|</span> <span>string</span> <span>|</span> <span>boolean</span> <span>|</span> <span>Date</span>

<span>export</span> <span>type</span> DeepKeys&lt;<span>T</span> <span>extends</span> {}, <span>TDepth</span> <span>extends</span> <span>Depths </span><span>=</span> <span>1</span>&gt; <span>=</span> TDepth <span>extends</span> <span>5</span>
  <span>?</span> <span>//                                                           ^^ here is the check ‚Ä¶</span></code></pre></div></div></div></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/">https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/</a></em></p>]]>
            </description>
            <link>https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25501761</guid>
            <pubDate>Tue, 22 Dec 2020 01:11:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[52 Things I Learned in 2020]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25501631">thread link</a>) | @kashd
<br/>
December 21, 2020 | https://www.kashdhanda.com/post/52-things-i-learned-in-2020 | <a href="https://web.archive.org/web/*/https://www.kashdhanda.com/post/52-things-i-learned-in-2020">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Inspired by the great <a href="https://medium.com/@tomwhitwell">Tom Whitwell</a>, I've assembled a list of 52 Things I've Learned in 2020. My hope is that you'll find useful insights, but my guarantee is that you'll find a few fun pieces of trivia to discuss at (socially distanced) parties.</p><p>The learnings are roughly grouped according to my interests, including Public Policy, Creativity and Design, History, The Future, Technology, Global Affairs, Health, Money, and US Politics.</p><ol role="list"><li><strong>Needle Exchange Programs are Ridiculously Cost-Effective</strong>: &nbsp;A $1 government investment in needle exchange programs produces $6 in government savings, almost entirely by reducing the transmission rate of HIV. (<a href="https://kyhrc.org/2020/04/01/needle-exchange-programs-save-money-and-lives/">source</a>)</li><li><strong>Blue Lights Prevent Suicide</strong>: 20 years ago, the Japanese installed blue LED panels on platforms to prevent suicide. A 10 year study found an 84% decline in suicide attempts at stations where lights were installed, with no decline at stations without lights. (<a href="https://pubmed.ncbi.nlm.nih.gov/22980401/">source</a>)</li><li><strong>A Basic Income is Better than a Jobs Guarantee</strong>: Only about 15% of the jobless are your traditional unemployed people looking for a new job. 60% are disabled. Disability has doubled over the past twenty years and continues to increase. A Jobs Guarantee won't actually help most people who are unemployed. (<a href="https://slatestarcodex.com/2018/05/16/basic-income-not-basic-jobs-against-hijacking-utopia/">Scott Alexander</a>)</li><li><strong>Cement produces more air pollution than all the trucks in the world combined:</strong> Manufacturing the stone-like building material is responsible for 7% of global carbon dioxide emissions, more than what comes from all the trucks in the world. (<a href="https://www.bloombergquint.com/business/green-cement-struggles-to-expand-market-as-pollution-focus-grows">source</a>)</li><li><strong>Justice Takes a Backseat to Emotion</strong>: After the LSU football team loses a game, juvenile court judges in Louisiana hand out sentences that are 6.4% longer on average. Sentence length correlates with how far a judge lives from LSU, with the longest sentence lengths handed out by judges who live closest to LSU. (<a href="https://www.nber.org/papers/w22611#:~:text=Employing%20the%20universe%20of%20juvenile,college%20team%20in%20the%20state.)">source</a></li><li><strong>1/3 of White Harvard Students Haven't Earned Their Spot Through Academic Merit:</strong> A staggering 43% of white Harvard students are legacies, athletes, or children of donors. Of those, around 75% would have been rejected if not for their special preference. (<a href="https://www.nbcnews.com/news/us-news/study-harvard-finds-43-percent-white-students-are-legacy-athletes-n1060361">source</a>)</li><li><strong>Being Good Looking is a Privilege, Part 476</strong>: In one study, unattractive criminals were fined 3 times more than attractive criminals for moderate misdemeanours. However, appearance doesn‚Äôt seem to influence verdicts of guilt or innocence (<a href="https://medium.com/fluxx-studio-notes/52-things-i-learned-in-2020-6a380692dbb8">Tom Whitwell</a>).</li></ol><ol role="list"><li><strong>People are Endlessly Creative (or Terrible Spellers)</strong>: ~15% of daily searches on Google have never been searched for before. (<a href="https://www.digitalinformationworld.com/2020/08/google-is-still-not-the-all-knowing-almighty-search-engine-as-15-percent-of-queries-are-never-seen-before-by-tech-giant.html">source</a>)</li><li><strong>Small Design Changes Make a Big Difference</strong>: One Dutch bike manufacturer reduced shipping damage by 70-80% simply by printing the image of a big flatscreen TV on their boxes. (<a href="https://www.theverge.com/2016/9/25/13048668/vanmoof-shipping-damages-dutch-bicycle-design">source</a>)</li><li><strong>The Best Way to Give Writing Feedback</strong>: Use the acryonm CRIBS. Note anything that is Confusing, Repetitive, Interesting, Boring, or Surprising. (<a href="https://www.perell.com/tweetstorms/cribs-my-writing-feedback-formula">David Perell</a>)</li><li><strong>Silly Mistakes Happen to the Best of Us</strong>: In 1999, the $125m Mars Climate Orbiter was lost because one team was using inches, the other was using centimeters. (<a href="https://www.latimes.com/archives/la-xpm-1999-oct-01-mn-17288-story.html">source</a>)</li><li><strong>Sequencing Matters</strong>: The first item in a buffet is taken by 75% of diners, even when the food order was reversed. 66% of all food taken comes from the first 3 items, no matter how long the buffet is. (<a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0077055">David Perell</a>)</li><li><strong>Betteridge's Law of Headlines:</strong> Any headline that ends with a question mark can be answered by the word "No". (<a href="https://en.wikipedia.org/wiki/Betteridge%27s_law_of_headlines">Wikipedia</a>)</li></ol><ol role="list"><li><strong>"Carrots are Good for Your Eyes" was an Anti-Nazi Scheme:</strong> The myth that carrots are beneficial for eyesight started as a military disinformation campaign in WWII by the Brits. They didn't want the Germans to realize that the RAF were shooting down so many enemy planes because they had radar, so they made up a lie about carrots that got stuck in the popular consciousness. (<a href="https://www.smithsonianmag.com/arts-culture/a-wwii-propaganda-campaign-popularized-the-myth-that-carrots-help-you-see-in-the-dark-28812484/">Smithsonian</a>)</li><li><strong>The Craziest Piece of History No One Told Me About:</strong> In 1800s China, a man claiming to be the brother of Jesus started a church. By the end of the story, 20 million people died in perhaps the bloodiest civil war in history. Fact is crazier than fiction. (<a href="https://en.wikipedia.org/wiki/Taiping_Rebellion">Wikipedia</a>)</li><li><strong>When You Don't Have a Lot, Make Use of What You Have</strong>: The Romans used to use stale urine as mouthwash. Due to the ammonia in the urine, it actually worked pretty well! (<a href="https://www.smithsonianmag.com/science-nature/from-gunpowder-to-teeth-whitener-the-science-behind-historic-uses-of-urine-442390/">Smithsonian</a>)</li><li><strong>America Did Not Start as a Democracy</strong>: Only 6% of the population was eligible to vote when George Washington ran for president. (<a href="https://en.wikipedia.org/wiki/1788%E2%80%9389_United_States_presidential_election">Wikipedia</a>)</li><li><strong>The Black Plague May Have Driven the Rise of the West</strong>: The Black Death kills over 40% of Europe's population. Some historians think that the resulting labor scarcity increased the bargaining power of peasants in the West, which led to the end of serfdom and to higher standards of living. Since the Plague was not as deadly in the East, the equivalent institutional changes never took place. [<a href="https://sloanreview.mit.edu/article/the-great-innovation-deceleration">MIT Sloan</a>]</li></ol><ol role="list"><li><strong>Internet History is Evaporating, and the Future is the Victim</strong>: 70% of links within the Harvard Law Review and 50% of URLs within United States Supreme Court opinions do not link to the originally cited information. (<a href="https://harvardlawreview.org/2014/03/perma-scoping-and-addressing-the-problem-of-link-and-reference-rot-in-legal-citations/">Harvard Law Review</a>)</li><li><strong>Deaths of Despair are Rapidly Rising:</strong> Between 1999 and 2017, midlife mortality from drug overdoses increased by nearly 400% (from 6.7 deaths/100,000 to 32.5), alcoholic liver disease increased by 40.6% (from 6.4 to 8.9), and suicide rates increased by 38.3% (from 13.4 to 18.6). (<a href="https://peterattiamd.com/why-is-life-expectancy-in-the-us-declining/">Dr. Peter Attia</a>)</li><li><strong>Clarke's First Law:</strong> When a distinguished but elderly scientist states that something is possible, he is almost certainly right. When he states that something is impossible, he is very probably wrong. (<a href="https://www.lesswrong.com/posts/irbREZtZzPi7WEYex/book-review-human-compatible-1">Scott Alexander</a>)</li><li><strong>Virtual Goods Will be a Trillion Dollar Business Someday</strong>: According to SuperData, virtual marketplaces generated $109 billion in 2019, 85% of which came from the purchase of virtual goods. (<a href="https://www.morningbrew.com/emerging-tech/stories/2020/05/25/todays-largest-games-thriving-virtual-economies?__cf_chl_jschl_tk__=8d4b1676a414c884b7e4d2f8e7f8cc1996fcdd3d-1607583077-0-AaDJV_rUtoKtK77M9bqejnODyJ4Uf98-V_BEjDsytGralRbifDBsYzco65WZVcACLBHKWOm4oEifs-vqH4Xs74o8QFgPphBDGmdv_h92Af-0fptwf5iHxEL2PLR9GhZnQbElXzz2QqqPU0KOpnixifVR90S04Eljx8WmYNAuBtxqOV5iLPoKWQ13iS6j3oNeYqbOzkPmYdO5LGSUxB_6qhIPpfYWZ7AduWDPApMGQvaHZtmJ90_lUXyhgMgZqxL4ciMEpYpT1LAzlBDFTjRKHNoXGmFIV0668Z4oFSUqtzDWDzL4cQJi0c9ADYJnYRzWy_AlJ2njxoCLzp3Bnz1--YA_cjZx_oKUGtg7GmE-8W9_nKri_VMd_-vVGQKqFBkBKLucIwa6po02QC1ZoWiZf1Tcv9tNz4iqgES_PEyCRRoNC7q3MYXapO2NCrgwEyeGIIg1_EQ_ofv0FJV49n03m1w1-os5EH7crBhx9ZcFZJ4r">Morning Brew</a>)</li><li><strong>The Age of the American Internet is Over</strong>: 80-90% of internet users are now outside the USA, there are more smartphone users in China than in the USA and western Europe combined, and the creation of venture-based startups has gone global. American policy preferences will no longer govern how the internet develops. (<a href="https://www.ben-evans.com/benedictevans/2020/10/3/the-end-of-the-american-internet">Benedict Evans</a>)</li></ol><ol role="list"><li><strong>Amazon Prime is Essential to the Fabric of America</strong>: 82% of American homes have Amazon Prime, more than voted in the 2016 election, have a pet, attend church, or decorate a Christmas tree. (<a href="https://twitter.com/profgalloway/status/1288546564374437894?lang=en">Scott Galloway</a>)</li><li><strong>The Big 3 Are The Main Beneficiaries Of The Venture Boom:</strong> Startups spend almost 40 cents of every VC dollar on Google, Facebook, and Amazon. (<a href="https://mobiledevmemo.com/facebook-google-alternative-start-up-user-acquisition/">Chamath Palihapitiya</a>)</li><li><strong>Software Matters More than Hardware:</strong> With today‚Äôs algorithms, computers would have beat the world chess champion already in 1994 (instead of 1997) on a contemporary desk computer. (<a href="https://www.lesswrong.com/posts/75dnjiD8kv2khe9eQ/measuring-hardware-overhang">hippke</a>)</li><li><strong>Public Markets Lead to Short-Termism</strong>: Less than a third of S&amp;P companies actually have R&amp;D budgets. This is largely due to the fact that R&amp;D can take years to produce meaningful revenue benefits.</li><li><strong>There's a Tsunami of Data Created Every Hour</strong>: More data is created every hour in 2020 than was created in all of the year 2000. (<a href="https://www.seagate.com/files/www-content/our-story/rethink-data/files/Rethink_Data_Report_2020.pdf">Seagate</a>)</li></ol><ol role="list"><li><strong>Hindu Nationalism Runs Deeper in India than I Knew:</strong> The RSS, a Hindu nationalist paramilitary organization, runs 30,000 schools, the largest network of farmers and social-welfare organization in the slums, the 2nd largest network of trade unions, and spawned the BJP, India's most powerful political party. (<a href="https://en.wikipedia.org/wiki/Rashtriya_Swayamsevak_Sangh#:~:text=RSS%20was%20founded%20on%2027,Hindu%20Rashtra%20(Hindu%20nation).)">Wikipedia</a></li><li><strong>The Caste System is Alive and Well in Indian Marriages</strong>: Only about 5% of marriages in India are between members of two different castes. (<a href="https://en.wikipedia.org/wiki/Inter-caste_marriages_in_India">Wikipedia</a>)</li><li><strong>Non-Chinese People Don't Want to Live in China:</strong> Sydney, Australia alone has more foreign-born residents than mainland China. (<a href="https://marginalrevolution.com/marginalrevolution/2019/12/china-facts-of-the-day-7.html">Tyler Cowen</a>)</li><li><strong>The UK Conservative Party (a.k.a the Tories) Have a Realllllly Old Support Base</strong>: In 2018, the party received twice as much money from dead members, through wills, as from the living. (<a href="https://www.bbc.co.uk/news/uk-politics-45271284">BBC</a>)</li><li><strong>Shutting Down Nuclear Power is a Really Bad Idea</strong>: After Fukushima, Germany shut down 50% of its nuclear power plants. This study estimates that this decision cost Germany $12 billiondollars, mostly from the cost of 1,100 excess deaths since then attributable to local air pollution from coal plants. (<a href="https://marginalrevolution.com/marginalrevolution/2020/01/nuclear-energy-saves-lives.html">Alex Tabarrok</a>)</li></ol><ol role="list"><li><strong>Don't Get Surgery on the Weekends:</strong> You are 44% more likely to die if you have surgery on a Friday (1.44%) compared to a Monday (1%). That jumps to 82% is you have surgery on a weekend. (<a href="https://danariely.com/2013/08/11/monday-is-good-for-something-after-all-surgery/">Dan Ariely</a>)</li><li><strong>Depression Dulls Your Senses:</strong> Depressed people have worse sense of smell, and people with worse sense of smell are more likely to get depressed. We already know that depression decreases visual contrast, causing the world to literally look washed-out and gray. (<a href="https://slatestarcodex.com/2020/04/17/depression-the-olfactory-perspective/">Scott Alexander</a>)</li><li><strong>America is Obese Partially Because Everyone is Eating Fast Food</strong>: Every day, about 84 million adults in America eat fast food. (<a href="https://www.cdc.gov/nchs/products/databriefs/db322.htm">Centers for Disease Control</a>)</li><li><strong>Zinc Dramatically Helps with Colds, If You Take a Lot Quickly:</strong> Most studies suggest that it'll shorten the cold by 12-48%. Nasal discharge goes down by 34%, congestion by 37%, and muscle ache by 54%. But you need to take a high dose, roughly 80 mg/day, started within 24 hours of the first symptoms. (<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3273967/#:~:text=A%20meta%2Danalysis%20published%20in,were%20present%20after%207%20days.&amp;text=A%20meta%2Danalysis%20published%20in%20June%202011%20concluded%20that%20zinc,at%20daily%20doses%20%3E75%20mg.)">Source</a></li><li><strong>The Amish are Remarkably Healthy</strong>: The Amish outperform the English on every measured health outcome. 65% of Amish rate their health as excellent or very good, compared to 58% of English. Diabetes rates are 2% vs. 8%, heart attack rates are 1% vs. 6%, high blood pressure is 11% vs. 31%. (<a href="https://slatestarcodex.com/2020/04/20/the-amish-health-care-system/">Scott Alexander</a>)</li><li><strong>Calorie Counts are Mostly Lies</strong>: Labels on American packaged foods miss their true calorie counts by an average of 18%. The information on processed frozen foods misstates their calorific content by as much as 70%. (<a href="https://www.economist.com/1843/2019/02/28/death-of-the-calorie">The Economist</a>)</li><li><strong>American Offices are Tougher than I Thought:</strong> 48% of employees in the US alone have cried at work. (<a href="https://go.ginger.io/annual-behavioral-health-report-2019">Ginger</a>)</li></ol><ol role="list"><li><strong>Wealth Fades, Quickly</strong>: 70% of wealthy families lose their wealth by the 2nd generation, and 90% by the 3rd. (<a href="https://twitter.com/marshal/status/1281758727918542848">h/t Marshall Haas</a>)</li><li><strong>People are Less Rational than You Think:</strong> People spend more on lottery tickets than movies, video games, music, sporting events, and books combined. (<a href="https://twitter.com/david_perell/status/1285364113741209600?lang=en">David Perell</a>)</li><li><strong>The US is Rich. Really Rich</strong>: If the United Kingdom was a US state, it would be the third poorest by GDP/capita, only Arkansas and Mississippi are lower. (<a href="https://en.wikipedia.org/wiki/List_of_U.S._states_and_territories_by_GDP_per_capita">Wikipedia</a>)</li><li><strong>Tesla is Big. Really Big</strong>: On July 14th, ‚Ä¶</li></ol></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.kashdhanda.com/post/52-things-i-learned-in-2020">https://www.kashdhanda.com/post/52-things-i-learned-in-2020</a></em></p>]]>
            </description>
            <link>https://www.kashdhanda.com/post/52-things-i-learned-in-2020</link>
            <guid isPermaLink="false">hacker-news-small-sites-25501631</guid>
            <pubDate>Tue, 22 Dec 2020 00:49:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Unicomp New Model M Keyboard]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25501600">thread link</a>) | @todsacerdoti
<br/>
December 21, 2020 | https://www.softinio.com/post/unicomp-new-model-m-keyboard/ | <a href="https://web.archive.org/web/*/https://www.softinio.com/post/unicomp-new-model-m-keyboard/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><article><img src="https://www.softinio.com/img/unicomp_new_model_m.png"><p>Unicomp new Model M keyboard is the latest version of the classic and fabulous IBM Model M keyboard that came out earlier this year. This blog post is my unboxing and review of this timeless keyboard.</p><p>My favorite keyboard of all time was the <a href="https://en.wikipedia.org/wiki/Model_M_keyboard">IBM Model M keyboard</a>. Through out the 1980s and the 1990s I would exclusively use this keyboard. In fact as I type this blog post I can confirm I still have 3 of them in my garage back in London, England.</p><p>Ever since I moved to the USA, both at work and at home I have been using various keyboards by Apple. Though I have nothing bad to say about the Apple keyboards, after all they are cosmetically pleasing, of high build quality and work really well with all things Apple, I started really missing my IBM Model M. This is when I found out Unicomp have released a new Model M and I decided to buy one.</p><h2 id="who-are-unicomp">Who are Unicomp?</h2><p>When IBM decided to stop manufacturing keyboards, a company called Lexmark bought their equipment and all rights to their keyboards and continued making them. In turn Lexmark stopped manufacturing keyboards too and at that point some ex-IBM and ex-Lexmark staff got together, purchased all the manufacturing equipment and rights to continue manufacturing the keyboards (but of course without the IBM and Lexmark branding) and setup a new company called <code>Unicomp</code>. <a href="https://www.pckeyboard.com/">Unicomp</a> has since continued producing these keyboards for like the last 25 years.</p><h2 id="unboxing">Unboxing</h2><p>This is how it was delivered:</p><p><img src="https://www.softinio.com/img/unicomp_model_m_box.png" alt="Unicomp New Model M box"></p><p>When the package arrived I could feel the keyboard moving inside the box, but when I opened the box I saw how well it was packed:</p><p><img src="https://www.softinio.com/img/unicomp_model_m_open_box.png" alt="Unicomp New Model M opened box"></p><p>I took it out of its box and removed all packaging material it was wrapped in:</p><p><img src="https://www.softinio.com/img/unicomp_model_m_out_of_box.png" alt="Unicomp New Model M Keyboard"></p><h2 id="review">Review</h2><p>As I looked at the keyboard, before taking it out of the box, I could immediately tell it was a Model M and its evolution. Super excited and impatient I took it out of the box. My first observation was that it comes with a USB (standard not USB-C) cable that is not removable. It felt lighter in weight than the original IBM Model M I had. Next I looked at its build quality and was overall impressed. The original IBM Model M does feel more robust but I could not fault this new Model M. All this was to be expected though, as I didn‚Äôt have my expectation set to receiving a keyboard that is made by 100% the same materials as the original Model M I had.</p><p>Having one of the newer macbooks with only USB-C ports, I set my new keyboard on my desk and plugged it in via a USB adapter and off I went looking for excuses to type so I can use my new keyboard.</p><p>I am thoroughly enjoying using this keyboard. Its typing feel and size are on par with the original Model M I had. I had forgotten how much more comfortable it is to type on Model M than an Apple keyboard. Comparing now, I can see that my hands are too big for the Apple keyboards so I would try to type in a cramped space to fit my hands in, as opposed to this Model M which is perfect for my hand size. This alone has resulted in me being able type faster, be more comfortable and make virtually no typing mistakes. As always I find the higher actuation point feel and the audible feedback the sound provided by the buckling springs with each keystroke incredibly pleasing. Comparing the sound of the buckling springs with the original IBM Model M, I would say the new Unicomp Model M is slightly quieter.</p><h3 id="how-well-does-it-work-with-macos">How well does it work with macOS</h3><p>When I went to place my order on Unicomp website they only had a windows version of the new Model M listed. Whilst that will work fine with macOS, it does have some features missing compared to a keyboard that has dedicated support for macOS, such as volume control, music play/stop/previous track /next track keys. Good news is I called Unicomp and spoke to Troy about this and he was kind enought to tell me I can place an order and request a custom configuration at a small fee to have the extra macOS features added. I did that and my keyboard has all the extra macOS keys functioning as expected. It even has the window key replaced with the macOS command key.</p><p><img src="https://www.softinio.com/img/unicomp_model_m_mac_keys.png" alt="Unicomp New Model M with macOS layout"></p><h3 id="unicomp-quality-of-service">Unicomp quality of service</h3><p>When you first visit Unicomp website, you get the sense that you just visited a website from 20 years ago with not the best user experience browsing or ordering. When you research Unicomp on the internet you won‚Äôt find much activity on social media or any form of marketing.</p><p>Please do not be put off by this and don‚Äôt judge them because of their dated look. The quality of service I received is one of the best I have ever received. When I called to find out more about the New Model M not only was the help I received exemplarity, but once I placed my order, even though it had the custom configuration of macOS support added was shipped within 24 hours of placing the order and the item received is fantastic in every possible way.</p><h2 id="conclusion">Conclusion</h2><p>I am back again reunited with my old friend a Model M. I am enjoying using it so much after a gap of not having one that I am looking for excuses to use it more and more. So expect more <a href="https://www.softinio.com/">blogs</a> and <a href="https://softinio.substack.com/">newsletters</a> from me going forward, as this keyboard is a joy to use.</p><h2 id="references">References</h2><ul><li><a href="https://www.pckeyboard.com/page/product/NEW_M">Link to Unicomp Model M that I ordered</a></li></ul></article></div></div></div>]]>
            </description>
            <link>https://www.softinio.com/post/unicomp-new-model-m-keyboard/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25501600</guid>
            <pubDate>Tue, 22 Dec 2020 00:44:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The One Hundred Best Albums of 2020]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25501586">thread link</a>) | @jger15
<br/>
December 21, 2020 | http://tedgioia.com/bestalbumsof2020.html | <a href="https://web.archive.org/web/*/http://tedgioia.com/bestalbumsof2020.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://tedgioia.com/bestalbumsof2020.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25501586</guid>
            <pubDate>Tue, 22 Dec 2020 00:41:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Nitro Enclaves reduce the attack surface on EC2]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25501492">thread link</a>) | @boxstream
<br/>
December 21, 2020 | https://www.anjuna.io/amazon-nitro-enclaves | <a href="https://web.archive.org/web/*/https://www.anjuna.io/amazon-nitro-enclaves">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-widget-type="cell" data-x="0" data-w="7">

<div>
<div>
<div data-widget-type="custom_widget" data-x="0" data-w="12">
<p><span id="hs_cos_wrapper_widget_1587145336592_" data-hs-cos-general-type="widget" data-hs-cos-type="rich_text"><h2>Move even the most sensitive applications and data to the cloud.</h2>
<p>Anjuna and AWS have closely collaborated over the last year to optimize Anjuna Enterprise Enclaves running on AWS Nitro Enclaves.</p>
<p>Secure enclaves establish a secure, comprehensive solution that protects data, applications, and storage from insiders and third parties wherever they‚Äôre executed and stored‚Äîon-premises, and in both private and public clouds.&nbsp;</p>
<p>AWS Nitro Enclaves enable customers to further protect and securely process highly sensitive data, such as personally identifiable information (PII), healthcare, financial, and intellectual property within Amazon EC2 instances. Nitro Enclaves use the same Nitro Hypervisor technology that provides CPU and memory isolation for EC2 instances.</p>
<h2>Data is now secure by default.</h2>
<p>With Anjuna Enterprise Enclaves, data is secure by default. Anjuna builds on the enclave-enabling technology in Nitro Enclaves to extend data protection beyond memory and protection to storage and networks.</p>
<p>Anjuna‚Äôs ‚Äúlift and shift‚Äù approach eliminates the need to work with ever-changing applications and software development kits (SDKs). And no changes to applications, recompilation, or operations are required.</p></span></p>

</div><!--end widget-span -->
</div><!--end row-->
</div><!--end row-wrapper -->

</div></div>]]>
            </description>
            <link>https://www.anjuna.io/amazon-nitro-enclaves</link>
            <guid isPermaLink="false">hacker-news-small-sites-25501492</guid>
            <pubDate>Tue, 22 Dec 2020 00:26:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Should web maps be centralized services?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25500989">thread link</a>) | @bdon
<br/>
December 21, 2020 | https://bdon.org/blog/web-map-services/ | <a href="https://web.archive.org/web/*/https://bdon.org/blog/web-map-services/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>Should web maps be centralized services?</p>

<p>
How many web applications or mobile apps do you use that have a map component? Rideshare apps display the location of drivers and passengers; ratings sites show the locations of restaurants; Craigslist and Wikipedia show contextual location for classifieds or encyclopedia articles. High quality, interactive maps are pervasive and simply fade into the background for end users.
</p>

<p>The COVID-19 pandemic has created a surge of new mapping applications. Beyond websites that <a href="https://coronavirus.jhu.edu/map.html">visualize the case count in different regions</a>, maps have become <b>critical computing infrastructure</b> for delivering health services.
</p>

<div>
    <div>
        <h5>Maps as Infrastructure</h5>
        <p>The New York City government uses Google Maps to help residents find a COVID-19 testing location near them.</p>
        
    </div>
    <p><img src="https://bdon.org/blog/web-map-services/NYCCovidSites.png">
    </p>
</div>
<div>
    <div>
        <h5>Maps and Citizen Tech</h5>
        <p>The Taiwan government rationed face masks at pharmacies and published inventories via a public API; this enabled citizen developers, in combination with geocoding services and third-party basemaps, to create a variety of web and smartphone applications.</p>
        
    </div>
    <p><img src="https://bdon.org/blog/web-map-services/Pharmacies.jpg">
    </p>
</div>

<p>
For a developer who wants to integrate a map into their application, the choices are almost always to use a <b>hosted, centralized map service</b>; developer map mindshare is dominated by multinational companies. Some hosted map examples:
</p>
<ul>
    <li>The embeddable native maps on Google's Android or Apple's iOS/iPadOS/macOS/watchOS operating systems</li>
    <li>Google's commercial web map offering (Google Maps JavaScript API)</li>
    <li>Microsoft's recent release of Azure Maps and Amazon's AWS Location Service</li>
    <li>Commercial map GIS companies such as ESRI, MapQuest, CloudMade, HERE and Mapbox; free hosted maps like <a href="https://openstreetmap.org/">OpenStreetMap Carto</a> or <a href="http://maps.stamen.com/">maps by Stamen Design</a></li>
</ul>

<h4>What is a basemap?</h4>

<p>Typical parts of a map application include:</p>
<ul>
    <li>Translation from search tokens or addresses to locations (geocoding)</li>
    <li>Determining the place name or administrative division of a location (reverse geocoding)</li>
    <li>Finding directions between two locations (routing)</li>
    <li>Overlaying of domain-specific geographic features, such as COVID-19 testing sites</li>
    <li><b>Showing physical and cultural context</b> on maps, such as city names, nearby points of interest, and roads</li> 
</ul>

<p>It's this last component that we usually call a <b>basemap</b> - especially if it <b>displays map labels</b>, and is zoomable or <b>multi-resolution, implying the application of <i>cartographic generalization</i></b>.


</p><div>
    <div>
        <h5>Map Labels</h5>
        <p>A basemap is most useful for context if it displays map labels. Labels may be in a single language, but might display more than one language, alternate names, or transcriptions: for example, Romaji labels on maps of Japan.</p>
         
    </div>
    <p><img src="https://bdon.org/blog/web-map-services/LabelScript.jpg">
    </p>
</div>

<div>
    <div>
        <h5>Generalization - More Art than Science</h5>
        <p>When the map scale is decreased - in this case by a factor of 2 - less relevant geographic features can be removed from the map. The ideal generalization <b>keeps the visual density of the map constant as scale is decreased</b>, even though the number of geographic features existing within those bounds increases exponentially.</p>
         
    </div>
    <p><img src="https://bdon.org/blog/web-map-services/Generalize.jpg">
    </p>
</div>
<p>
Single-scale wayfinding maps you see in the real world are labeled and generalized by cartographers; multi-scale basemap services accomplish this in an <b>automated way</b>. The sophistication of computer programs to do this - especially at whole earth scale - can be grossly underestimated, even by experienced programmers. Good labeling and generalization are taken for granted, like good font rendering and typesetting - invisible when successful, glaringly flawed when unsuccessful. 
</p>
<p>This also illustrates the key difference between a basemap and a dataset of geographic features, such as <a href="https://openstreetmap.org/">OpenStreetMap</a>. <b>OSM is not a cartographic product; it does not attempt any generalization or ranking of features. </b> <a href="http://naturalearthdata.com/">Natural Earth</a> is an example of a cartographic product - it include fields such as <code>scalerank</code> to assist in generalization, curated by human editors.
</p>
<p>
<b>In theory, basemaps are fungible</b> - the cartographic context required is similar among diverse applications. So why do developers - and as a consequence, the World Wide Web - gravitate towards a small handful of hosted map platforms?
</p>

<h4>Mapmakers: Victims of Lofty Expectations</h4>

<p>
    The basemap status quo is defined by the cutting edge commercial product, and right now that's Google Maps. <b>Users are accustomed to, and will demand, a seamless abstraction of the physical world.</b> Map panning and zooming should be instantaneous, so designers of a high performance cartographic system must take into account:
</p>
<ul>
    <li>The completeness and quantity of the underlying geodata</li>
    <li>The arrangement and indexing of geodata to achieve low latency</li>
    <li>Tile schemes and partitioning for generalized data</li>
    <li>Protocols for fetching and caching those tiles over the network</li>
    <li>Choice of a rasterization API like Cairo or OpenGL and the flow of vertex data to them</li> 
</ul>
<p>
The desired end product is a videogame-like, sixty-frames-per-second experience, and map systems often make the same technical compromises as games: for example, a map system that smoothly resizes labels in real time may choose to precompute <a href="https://en.wikipedia.org/wiki/Signed_distance_function#Applications">signed distance fields</a> for text glyphs on the server and fetch them by <a href="https://en.wikipedia.org/wiki/Plane_(Unicode)#Basic_Multilingual_Plane">codepoint ranges</a>. This works beautifully for languages that use at most a few hundred Latin characters, but navigating to places that use Han characters such as China or Japan will degrade performance. Thus a cartographic system demands holistic design around tradeoffs such as latency or localization capabilities.
</p>
<div>
    <div>
        <h5>Not Good Enough Anymore</h5>
        <p>Mapquest in the early 2000s required the user to click arrow buttons to pan and zoom; maps in 2020 are expected to respond instantly to mouse wheel scroll and finger pinch gestures.</p>
        
    </div>
    <p><img src="https://bdon.org/blog/web-map-services/mapquest-2.png">
    </p>
</div>

<h4 id="cartography-commodity">Serving Maps: best left to BigCorps?</h4>
<p>
    Given the demanding technical requirements above, it's easy to be led into thinking <b>maps are too hard for individual developers to solve and should be outsourced to a third-party hosted service.</b> A cartographic system is very "full-stack" in nature, but the commoditization of some potential components, like PostGIS or HTTP accelerators, makes the overall task less daunting. Bigness isn't really a constraint; the OpenStreetMap dataset as XML is <a href="https://planet.openstreetmap.org/">about 100 gigabytes</a>. Let's estimate 10x expansion to make a cartographic product; that's still only a terabyte of data to put on a disk somewhere.
</p>
<p>
<b>Developers believe something is too hard, until it isn't.</b> Issuing of SSL Certs was in practice limited to a few Certificate Authorities until Let's Encrypt; Hosting of seekable video content was only done by big sites in concert with CDNs, but now we have the standardized, hardware-accelerated HTML <code>video</code> element and ubiquitous broadband. Email is a notable counterexample; you've been able to run your own Mail Transfer Agent since the beginning, but the Hobbesian underworld of spam and phishing drives users into the oligopoly of a few providers.
</p>

<p>Serving maps is hard but not insurmountable; I'll suggest a factor limiting the landscape of web maps is not data bigness or the speed of slinging geodata down tubes, but licensing and realities of the market.</p>

<h4 id="cartography-commodity">Intellectual Property, Fine Print</h4>
<p>Firstly, mapmaking businesses rightly assert copyright over their cartography. This far predates webmaps: <a href="https://en.wikipedia.org/wiki/Trap_street">Trap Streets</a> are a longstanding practice on print maps. This is often true even if the map is built from open data such as OSM - the derivation of a cartographic product, and quality of output, is "secret sauce" to achieve product differentiation.
</p>
<p><b>Secondly, map serving easily admits a Software-As-A-Service (SaaS) business model.</b> Shrink-wrapped software, or creating a piece of software and "selling it in a box", has been out of vogue for decades, possibly over piracy concerns, or because it has less extractive potential on enterprise budgets. 
In addition to copyright, <b>Terms of Service for hosted maps often prohibit combination with other geographic services, exclude specific use cases, or forbid caching.</b> These contracts work against developers by inventing scarcity: even if you need a small subset of map tiles, they must be fetched and billed; don't scrape the data and put it in version control.</p>
<p>
<b>The freemium, ToS-constrained nature of hosted map services disincentivizes innovation.</b> Inability to swap out the Google Maps frontend means interesting problems like labeling and generalization can't be attacked with piecemeal incrementalism. This tips developer's scales toward <i>Buy</i> rather than <i>Build</i>, especially when the hosted pay-per-hit product starts out free, often as a <a href="https://en.wikipedia.org/wiki/Loss_leader">loss leader</a> for a <a href="https://en.wikipedia.org/wiki/Product_bundling">bundle</a> of geospatial services. These market realities leave some mapping use cases underserved by existing technology.
</p>

<h4>Map applications ought to outlive the SaaS business lifecycle</h4>

<p>Accessing a web map over the network isn't always practical. Maps may need to be displayed on air-gapped internal applications, or work offline without cell tower reception.</p>

<p>Also, websites and mobile applications are often built by organizations separate from their long-term maintainers (e.g. universities, museums, cultural institutions); ambitious visualization projects may be deterred by clients not wanting to foot a pay-per-hit subscription. An application depending on a hosted map service may be permanently disabled if the provider deprecates their API. <b>Hard dependencies on hosted services make software worse</b> - if your data visualization uses Google Maps, don't count on it still working in a couple years.</p>
<div>
    <div>
        <h5>Small-Scale Map Apps</h5>
        <p><a href="https://bdon.org/blog/web-map-services/80s.nyc">80s.nyc</a> is a streetview-like application for navigating historical images of New York City. It can be useful for <a href="https://medium.com/@dougbarclay/nana-at-the-doorway-4cf91888233b">discovering lost pictures of your great-grandmother</a>. Depending on a hosted basemap API would expose non-commercial projects to the whims and business models of SaaS providers.</p>
         
    </div>
    <p><img src="https://bdon.org/blog/web-map-services/80snyc.jpg">
    </p>
</div>

<h4>Developers ought to be able to control their map content</h4>
<p>Self-hosted has some generic advantages - ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://bdon.org/blog/web-map-services/">https://bdon.org/blog/web-map-services/</a></em></p>]]>
            </description>
            <link>https://bdon.org/blog/web-map-services/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25500989</guid>
            <pubDate>Mon, 21 Dec 2020 23:26:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My Engineering Axioms]]>
            </title>
            <description>
<![CDATA[
Score 121 | Comments 20 (<a href="https://news.ycombinator.com/item?id=25500815">thread link</a>) | @mnouquet
<br/>
December 21, 2020 | https://martinrue.com/my-engineering-axioms/ | <a href="https://web.archive.org/web/*/https://martinrue.com/my-engineering-axioms/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
            <h3>My Engineering Axioms</h3>

            <p>A few months back I gave a talk in which I shared a list of my personal engineering axioms ‚Äì things that, over the years, I've come to think of as generally true and useful to have in mind when writing code, building things, and working with others.</p>

            <p>Axiom is a fancy word, but popping a few layers off the etymology stack we arrive neatly at the ancient Greek word <a href="https://en.wiktionary.org/wiki/%E1%BC%80%CE%BE%CE%AF%CF%89%CE%BC%CE%B1">·ºÄŒæŒØœâŒºŒ±</a>, or "that which is thought fit or worthy". I like that, and consider each item on the list at least worthy of consideration.</p>

            <p>Of course they're <b>my</b> engineering axioms ‚Äì things I believe to be useful based on my own experience. Your experience may well differ. Maybe you already knew about <a href="https://martinrue.com/zzuy-a-lesson-in-perseverance/">zero termination</a>, or have better tools than <a href="https://martinrue.com/give-yourself-more-playtime/">scissors to remove bugs</a> from your programs.</p>

            <p>In any case, I thought it would be fun to share the list here, with a few brief clarifications. Some things are pretty unsurprising, but hopefully others will generate some provocative thoughts and/or interesting disagreements.</p>

            <h4>1. Change is constant.</h4>

            <p>This one shouldn't be too controversial. Almost everything is always changing, including the rate of change itself. We need to acknowledge not only that our ability to respond to change is crucial, but that how well we do it (time, cost, quality, reliability) is often a dimension of our competitiveness.</p>

            <h4>2. Your product is an asset, but code is a liability.</h4>

            <p>Your product solves your customer's problem(s), and therefore is your asset. The code itself is the cost of creating the asset. The more code you have, the more it needs to be read, tested, changed, and understood. This is especially relevant when you consider axiom 1. Accept new code (and dependency on external code) conservatively. The best code is code you don't have to write.</p>

            <h4>3. Duplication is less costly than premature abstraction.</h4>

            <p>Until you have a high degree of confidence that your abstraction is going to pay for itself because it solves a real, abstract problem you really do have, don't do it. Wait and learn more. Until then, repeating code can help avoid dependency, which itself makes the code easier to change independently or delete. A premature abstraction creates complexity through dependency and indirection, and can become a bottleneck to your ability to respond to change.</p>

            <h4>4. Code should be easy to delete.</h4>

            <p>Write code to be removable, which in large part is the same as saying "decoupled". For sure not all code needs to be similarly removable, but minimising dependencies, having clear boundaries via well-defined interfaces, and having a thoughtful overall system design allows parts to be removed/changed more easily. I once heard someone use the expression "code spent", as an alternative to "code written" and I love that. I like the implication that removing code is reducing future cost.</p>

            <h4>5. Existing code exerts a powerful influence.</h4>

            <p>The very fact it's there suggests it's correct and necessary. Hopefully it is, but not always. We need to maintain both the confidence to change it, and the ability to reason about whether we should. Don't let the existence of code itself create doubt that it can't be removed. As per axiom 4, it should be easy to remove, and the system design should be good enough to enable us to understand whether we still need it.</p>

            <h4>6. Accidental complexity is one of the biggest risks.</h4>

            <p>Accidental complexity is complexity that can be avoided, and occurs due to things like poor design, bad decisions, and not prioritising an appropriate level of simplicity within a system. If simplicity is not a goal, accidental complexity is more likely to occur as a system grows, and will gradually negatively affect almost everything from changing the system to even being able to understand it. The 2006 paper <a href="http://curtclifton.net/papers/MoseleyMarks06a.pdf">Out of the Tar Pit</a> is a worthwhile read on this subject.</p>

            <h4>7. Technical excellence can be shadowed by bad personal skills.</h4>

            <p>Unless you're working completely alone, it's not just your ability to solve technical problems, to write good code, etc, that matters. To the contrary, they matter even less if you make the people around you unhappy and less productive. Just like learning to write good code, you have to learn "to people" good as well. Empathy is a big part of this, as is recognising that people are different ‚Äì be caring, be understanding, help others and ask for help yourself, be nice. Be an engineer others want to work with.</p>

            <h4>8. You are not your code. Be kind to the coder, not to the code.</h4>

            <p>Code is merely a moment in time that captured what we thought we knew about something. It's not you. You may have wrote it, but since that moment (even if it was 3 minutes ago) you've grown, but the code has not. A conversation about code, good or bad, should never be personal. Keep it professional. Talk about the code, or about the problem, but don't make it about the person who wrote it. Use "we" instead of "you". Sometimes I try to pretend I wrote the code someone else wrote, which helps me avoid accidentally sounding personal.</p>

            <h4>9. Treat people who know less than you with respect and patience.</h4>

            <p>We all start somewhere, and the journey is a lot more joyful when you're surrounded by patient people who want you to succeed, rather than those who make you feel like you don't belong. If you struggle with this, it may be helpful to remember that the newbie programmer almost certainly does something better than you do ‚Äì perhaps they're fluent in another language, or cook amazingly, or play a sport. Just imagine yourself in the reverse role. How would you like them to treat you, the total newbie? Again: be an engineer others want to work with.</p>

            <h4>10. The only true authority stems from knowledge, not from position.</h4>

            <p>Knowledge and understanding of the problem, the domain, the customer, are all far more important than whatever the first 3 letters on your business card are. <a href="https://youtu.be/cISYzA36-ZY?t=85">Even if it does have a watermark</a>. Understand how something works from first principles, build a solid understanding, and authority will follow.</p>

            <h4>11. Teaching is a form of learning in disguise.</h4>

            <p>If you think you know something, try teaching it. Often the very act of trying to explain what you know to someone else forces you to formalise your own thoughts much more clearly. Writing things down seems to have a similar effect. I've lost count of the number of times I've begun explaining something only to find I don't quite understand it as well as I thought.</p>

            <h4>12. Lift the skills of people around you, not just yourself.</h4>

            <p>A great team is never a great because of one amazing person. It's a great team because everyone challenges each other and everybody grows together. When you learn something cool, share it ‚Äì help the people around you get better. As they do the same, everybody benefits and nobody gets left behind. It's also far more fun. Secondary benefit: axiom 11.</p>

            <h4>13. The longer you wait the more you'll know.</h4>

            <p>I'm still learning this and trying hard to avoid my almost default desire to decide quickly. The truth is, the longer you delay non-essential decisions the more information you'll have to lean on when the time comes to make it. Of course you can't always procrastinate a decision, but often you can, and as a minimum you should at least consider whether not knowing the answer right now is actually OK.</p>

            <h4>14. A good type system is worth its weight plus some.</h4>

            <p>Having gone backwards and forwards through various static and dynamic languages over my career, I'm currently of the opinion that a good type system is worth its overhead. A good type system shouldn't carry all that much overhead. If the type system is designed well, it can almost feel like a dynamic language (via features like inference and flow analysis) while removing a whole class of issues that the compiler can handle far better and quicker than you can. Developments like ownership in Rust are a nice example of how this has gone even further than people would have imagined years back.</p>

            <h4>15. The right team of people trumps everything else.</h4>

            <p>Having a team of people who just want to work together and build great things makes a lot of other problems easier to deal with. The word "right" here is highly subjective and contextual, but at least anecdotally, empathy, respect, and friendship have been recurring elements of great teams I've been part of.</p>

            <h4>16. Stick to boring technology, unless there's a good reason not to.</h4>

            <p>Boring tech is often older and better understood. There's battle-hardened experience of how to use it effectively, better understanding of its failure modes, and it's easier to find people and resources on how to best apply it. I really like Dan McKinley's idea of <a href="https://mcfunley.com/choose-boring-technology">innovation tokens</a>. You only get 3. Use them to adopt or build brand new stuff ‚Äì ideally stuff that will make you better at your core competency ‚Äì but any more than 3 and the risk of never reaching stability/maturity starts to grow.</p>

            <h4>17. Have the smallest team possible, but no smaller. Grow it carefully.</h4>

            <p>A play on a well-known quote, and your mileage may vary on this one. In my career so far, I've reliably seen smaller teams be more effective than larger ones. There's a balance to be found, for sure, which depends on the magnitude and complexity of the problem you're solving. That said, smaller teams benefit from less communication overhead, less room for miscommunication, and more space for everyone's voice to be heard. In a smaller team, it also feels more personal, and I feel more responsible, and I like that.</p>

            <h4>18. Rest.</h4>

            <p>I'm happy to see the gradual de-sexification of ‚Ä¶</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://martinrue.com/my-engineering-axioms/">https://martinrue.com/my-engineering-axioms/</a></em></p>]]>
            </description>
            <link>https://martinrue.com/my-engineering-axioms/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25500815</guid>
            <pubDate>Mon, 21 Dec 2020 23:08:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Write code. Not too much. Mostly functions.]]>
            </title>
            <description>
<![CDATA[
Score 619 | Comments 260 (<a href="https://news.ycombinator.com/item?id=25500671">thread link</a>) | @brundolf
<br/>
December 21, 2020 | https://www.brandonsmith.ninja/blog/write-code-not-too-much-mostly-functions | <a href="https://web.archive.org/web/*/https://www.brandonsmith.ninja/blog/write-code-not-too-much-mostly-functions">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article itemprop="articleBody">
      

      

      

      


      <p>There's a well-known quote by author <a href="https://en.wikipedia.org/wiki/Michael_Pollan">Michael Pollan</a>:
        "Eat food. Not too much. Mostly plants." I like it because it doesn't
        attempt to be dogmatic: it encapsulates some basic guiding principles that get
        you 90% of the way there 90% of the time. Wikipedia describes the book the quote
        is from (emphasis mine):</p>
      <blockquote>
        <p>He explains...the notion that nutritionism and, therefore, the whole Western
          framework through which we intellectualize the value of food <strong>is more a religious
and faddish devotion to the mythology of simple solutions than a convincing and
reliable conclusion of incontrovertible scientific research</strong>.</p>
      </blockquote>
      <p>That...sounds familiar.</p>
      <h2 id="write-code">Write code </h2>
      <p>Code, like food, has value. I think those of us who write it can (hopefully)
        agree on that. Some, though, are so afraid of writing/eating
        <em>too much</em> that they avoid writing/eating what they should.</p>
      <p>In the context of programming, I think this translates to an unhealthy fear
        (again, for some) of duplication. A little bit of duplication - writing
        something in a way that doesn't completely maximize conciseness - isn't the end
        of the world. Sometimes it's the best path forward. Sometimes it's okay to
        copy-and-modify here and there, especially when you're still figuring out what
        your application will end up being.</p>
      <h2 id="not-too-much">Not too much </h2>
      <p>Of course too much code, like too much food, can also be a bad thing. This is
        a well-trodden topic so I don't feel the need to go too far into it here.</p>
      <p>Just be aware of your project's "appetite": write what needs to be written,
        and then try not to over-indulge.</p>
      <h2 id="mostly-functions">Mostly functions </h2>
      <p>By "functions" here I mean "pure functions". You could make a case that pure
        functions aren't the "plants" of code, though I feel
        that they are. In my experience most codebases have a pure functional
        subset, and I believe writing that subset in a pure-functional style is nearly
        always a win for the long-term health of the project.</p>
      <p>Of course the qualifier is "mostly": this isn't a dogma. Writing a 100%
        functional system ("going vegan", if you will) often requires you to jump
        through a bunch of extra hoops to get all the functionality you need. Looking
        at it solely from the perspective of health, those extra complications may not
        be worth it.</p>
      <p>And then different projects have different needs: just as an athlete may need
        a larger percentage of protein, or individuals may have certain nutrient
        deficiencies, a project may only have a very small functional subset, or may not
        be able to afford to return new values each time due to data size or
        performance-sensitivity. There's nothing wrong with that.</p>
      <h2 id="%22real-code%22">"Real code" </h2>
      <p>Pollan later qualifies his snappy statement a bit further:</p>
      <blockquote>
        <p>He contends that most of what Americans now buy in supermarkets, fast food
          stores, and restaurants is not in fact food, and that a practical tip is to eat
          only those things that people of his grandmother's generation would have
          recognized as food.</p>
      </blockquote>
      <p>At the risk of stretching the analogy, maybe the equivalent is
        "code only those things that people at a junior level would recognize for what
        they do". Code in simple, straightforward terms. Don't get too clever,
        "manufacturing artificial ingredients". Use the primitives that are there, when
        possible. Write what is simple, and natural, and human.</p>


    </article></div>]]>
            </description>
            <link>https://www.brandonsmith.ninja/blog/write-code-not-too-much-mostly-functions</link>
            <guid isPermaLink="false">hacker-news-small-sites-25500671</guid>
            <pubDate>Mon, 21 Dec 2020 22:53:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Writing a custom iterator in modern C++]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25500563">thread link</a>) | @tblr
<br/>
December 21, 2020 | https://internalpointers.com/post/writing-custom-iterators-modern-cpp | <a href="https://web.archive.org/web/*/https://internalpointers.com/post/writing-custom-iterators-modern-cpp">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>‚Äî Written by Triangles on December 13, 2020 
								‚Ä¢ updated on December 19, 2020  
								‚Ä¢ ID 86 ‚Äî</p><p>An experimental Forward Iterator written from scratch to boost up hand-made containers.</p><div>
				
<!-- internalpointers responsive -->
<p>An iterator is an object that points to an element inside a container. Like a pointer, an iterator can be used to access the element it points to and can be moved through the content of the container. Each container in the C++ Standard Library provides its own iterator, as well as some methods to retrieve it. Using iterators is quite easy: obtain an instance from a container, move it around where needed and then get the pointed element.</p>
<p>Concretely, an iterator is a simple class that provides a bunch of operators: increment <code>++</code>, dereference <code>*</code> and few others which make it very similar to a pointer and the arithmetic operations you can perform on it. In fact, iterators are a generalization of pointers, which are often used as a foundation when writing the iterator itself.</p>
<p>Iterators are one of the building blocks of the Standard Library containers, but they are also useful when you want to provide the ability to iterate over elements of a custom container that you wrote yourself: this is what I want to investigate in the present article. Adding iterators to your containers will make them compatible with the <a href="https://en.cppreference.com/w/cpp/language/range-for">range-based for loops</a> and the <a href="https://en.cppreference.com/w/cpp/algorithm">C++ Algorithms library</a>: a collection of functions for searching, sorting, counting and manipulating containers, based on iterators.</p>
<h2>A dummy container for our experiments</h2>
<p>Before digging deeper, let's define a silly custom container that we want to spice up with iterators:</p>
<pre><code>class Integers
{
private:
    int m_data[200];
};
</code></pre>
<p>The <code>Integers</code> class is a wrapper around a raw array of <code>int</code>s: we want to be able to access elements of that private array through an iterator, as well as to loop over it or pass it to any of the Standard Library algorithms. Let's start by making some design decisions.</p>
<h2>Choose the nature of our iterator</h2>
<p>The first step is to choose the type of iterator we want to implement. Modern C++ defines six types:</p>
<table>
<thead><tr>
<th>#</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/InputIterator">Input Iterator</a></strong></td>
<td>Can scan the container forward only once, can't change the value it points to (read-only);</td>
</tr>
<tr>
<td>2</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/OutputIterator">Output Iterator</a></strong></td>
<td>Can scan the container forward only once, can't read the value it points to (write-only);</td>
</tr>
<tr>
<td>3</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/ForwardIterator">Forward Iterator</a></strong></td>
<td>Can scan the container forward multiple times, can read and write the value it points to;</td>
</tr>
<tr>
<td>4</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/BidirectionalIterator">Bidirectional Iterator</a></strong></td>
<td>Same as previous one but can scan the container back and forth;</td>
</tr>
<tr>
<td>5</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/RandomAccessIterator">Random Access Iterator</a></strong></td>
<td>Same as previous one but can access the container also non-sequentially (i.e. by jumping around);</td>
</tr>
<tr>
<td>6</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/ContiguousIterator">Contiguous Iterator</a></strong></td>
<td>Same as previous one, with the addition that logically adjacent elements are also physically adjacent in memory.</td>
</tr>
</tbody>
</table>
<p>The six categories are hierarchical: a Bidirectional Iterator is also a Forward Iterator and a Random Access Iterator is both a Bidirectional and a Forward Iterator and so on. Normally, all iterators are Input Iterators (1) which makes them read-only, also known as <strong>constant iterators</strong>. Iterators that both support read and write operations are also Output Iterators (2) and are called <strong>mutable iterators</strong>.</p>
<div>
<p><img src="https://raw.githubusercontent.com/monocasual/internalpointers-files/master/2020/12/iterators/iterator-hierarchy.png" alt="Iterators hierarchy"></p><p>1. Iterators hierarchy in C++. All iterators are Input Iterators, Output Iterators or both.</p>
</div><p>Input and Output iterators are often used for low-level components such as input and output streams (the so-called <strong>single-pass algorithms</strong>) and thus have limitations. We want to do more with our custom container, so we will skip those two and jump straight to the mutable Forward Iterator.</p>
<h2>Prepare the custom iterator</h2>
<p>An iterator is usually declared inside the class it belongs to, for example:</p>
<pre><code>class Integers
{
public:
    struct Iterator { /* ... */ };

    // ...
};
</code></pre>
<p>The first thing to do is to assign the iterator some properties. Until C++17 this is done by <em>tagging</em> it with the <a href="https://www.fluentcpp.com/2018/04/27/tag-dispatching/"><strong>tag dispatch</strong></a> mechanism, while C++20 uses <strong>concepts</strong>: in this article I will follow the traditional approach.</p>
<p>C++ expects some properties from an iterator:</p>
<ul>
<li><code>iterator_category</code> ‚Äî one of the six iterator categories we have seen above. The full list is available <a href="https://en.cppreference.com/w/cpp/iterator/iterator_tags">here</a>. The <code>std::forward_iterator_tag</code> tag is what we need;</li>
<li><code>difference_type</code> ‚Äî a signed integer type that can be used to identify distance between iterator steps. Our iterator is basically a wrapper around a pointer and leverages pointer arithmetic, so the default <a href="https://en.cppreference.com/w/cpp/types/ptrdiff_t"><code>std::ptrdiff_t</code></a> is a good choice;</li>
<li><code>value_type</code> ‚Äî the type the iterator iterates over. <code>int</code> in our case;</li>
<li><code>pointer</code> ‚Äî defines a pointer to the type iterated over. <code>int*</code> in our case;</li>
<li><code>reference</code> ‚Äî defines a reference to the type iterated over. <code>int&amp;</code> in our case;</li>
</ul>
<p>Translated into code:</p>
<pre><code>#include &lt;iterator&gt; // For std::forward_iterator_tag
#include &lt;cstddef&gt;  // For std::ptrdiff_t

struct Iterator 
{
    using iterator_category = std::forward_iterator_tag;
    using difference_type   = std::ptrdiff_t;
    using value_type        = int;
    using pointer           = int*;  // or also value_type*
    using reference         = int&amp;;  // or also value_type&amp;
};
</code></pre>
<h3>Why are tags useful?</h3>
<p>Some of the tags above might seem useless at first. In fact, you will notice how they will never get mentioned during the definition of our iterator. Tags are used to select the most efficient algorithm if your container is passed to one of the Standard Library functions from the <code>&lt;algorithm&gt;</code> library. Wrong tags mean sub-optimal performance! The iterator category is also used to set algorithm requirements, for example: <a href="https://en.cppreference.com/w/cpp/algorithm/fill"><code>std::fill</code></a> wants a Forward Iterator, while <a href="https://en.cppreference.com/w/cpp/algorithm/reverse"><code>std::reverse</code></a> wants a Bidirectional Iterator. Passing the wrong iterator will result in a compilation error.</p>
<h2>Define the iterator constructors</h2>
<p>All iterators must be <em>constructible</em>, <em>copy-constructible</em>, <em>copy-assignable</em>, <em>destructible</em> and <em>swappable</em>. Let's translate those requirements into code for our iterator:</p>
<pre><code>struct Iterator 
{
    // Iterator tags here...

    Iterator(pointer ptr) : m_ptr(ptr) {}

private:

    pointer m_ptr;
};
</code></pre>
<p>Easy! We just need a custom constructor to initialize the private member variable <code>m_ptr</code>, which points to an element of the <code>Integers</code> container. The custom constructor satisfies the <em>constructible</em> requirement, while all others are covered by the implicitly-declared constructors and operators kindly provided by the compiler.</p>
<h2>Implement operators</h2>
<p>We are building a mutable Forward Iterator, which inherits properties from both Input and Output Iterators. The resulting iterator must support the following operations:</p>
<ul>
<li><code>*iterator</code> and <code>iterator-&gt;x</code> ‚Äî dereferenceable, to get the value it points to;</li>
<li><code>++iterator</code> and <code>iterator++</code> ‚Äî incrementable, to move it one step forward, both prefix and postfix versions. The latter must return something dereferenceable;</li>
<li><code>iterator_a == iterator_b</code> and <code>iterator_a != iterator_b</code> ‚Äî comparable with another iterator;</li>
</ul>
<p>This is done by implementing some custom operators in the <code>Iterator</code> class, like this:</p>
<pre><code>struct Iterator 
{
    // Iterator tags here...

    // Iterator constructors here...

    reference operator*() const { return *m_ptr; }
    pointer operator-&gt;() { return m_ptr; }

    // Prefix increment
    Iterator&amp; operator++() { m_ptr++; return *this; }  

    // Postfix increment
    Iterator operator++(int) { Iterator tmp = *this; ++(*this); return tmp; }

    friend bool operator== (const Iterator&amp; a, const Iterator&amp; b) { return a.m_ptr == b.m_ptr; };
    friend bool operator!= (const Iterator&amp; a, const Iterator&amp; b) { return a.m_ptr != b.m_ptr; };     

private:

    pointer m_ptr;
};
</code></pre>
<p>As you can see every operator involves the usage of the private pointer <code>m_ptr</code>. Also, notice the <code>friend</code> declaration for the two comparison operators: this is handy way to define the operators as non-member functions, yet being able to access private parts of the <code>Iterator</code> class (rationale  <a href="https://stackoverflow.com/questions/4421706/what-are-the-basic-rules-and-idioms-for-operator-overloading/4421729#4421729">here</a>).</p>
<h2>Prepare the container</h2>
<p>Our iterator is good to go. The last step is to give our custom container the ability to create <code>Iterator</code> objects. This is done by adding two public methods <code>begin()</code> and <code>end()</code> that return instances of the <code>Iterator</code> class, representing the first and the last element respectively:</p>
<pre><code>class Integers
{
public:

    // Iterator definition here ...

    Iterator begin() { return Iterator(&amp;m_data[0]); }
    Iterator end()   { return Iterator(&amp;m_data[200]); } // 200 is out of bounds
};
</code></pre>
<p>The <code>end()</code> method returns an iterator that refers to an <em>invalid</em> memory address, past the end of our raw array. Such iterator is just a placeholder used to determine when the boundary has been reached: it should never be accessed directly.</p>

<!-- internalpointers responsive -->
<h2>Time to test our iterator</h2>
<p>Both the custom container and its iterator are now ready. Let's test them with the range-based for loop:</p>
<pre><code>Integers integers;
for (auto i : integers)
    std::cout &lt;&lt; i &lt;&lt; "\n";
</code></pre>
<p>This code will magically print the value of each integer in the container. It works because the range-based for loop is just syntactic sugar created by the compiler for the following:</p>
<pre><code>for (auto it = integers.begin(), end = integers.end(); it != end; ++it) { 
    const auto i = *it; 
    std::cout &lt;&lt; i &lt;&lt; "\n";
}
</code></pre>
<p>In words: two iterators <code>it</code> and <code>end</code> are created. The first one points to the beginning of the container, the other one points to the end. Then, on each loop, the <code>it</code> iterator is incremented until it's equal to <code>end</code>, that is until the end of the container has been reached. The actual value is obtained by dereferencing <code>it</code> in a local variable before being printed.</p>
<p>Notice how the compiler makes use of all the operators and functions we have previously implemented: the <code>begin()</code> and <code>end()</code> methods in the custom container, the ability to compare the two iterators with the <code>!=</code> operator, the ability to increment <code>it</code> with the prefix syntax and finally the ability to dereference it to grab the actual value it points to.</p>
<p>Let's now try a function from the Algorithm library, <a href="https://en.cppreference.com/w/cpp/algorithm/fill"><code>std::fill</code></a> for example:</p>
<pre><code>Integers integers;

std::fill(integers.begin(), integers.end(), 3);
</code></pre>
<p>The function assigns all elements in the container the value <code>3</code>. It works because <code>std::fill</code> is usually implemented like this:</p>
<pre><code>template &lt;typename ForwardIterator, ‚Ä¶</code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://internalpointers.com/post/writing-custom-iterators-modern-cpp">https://internalpointers.com/post/writing-custom-iterators-modern-cpp</a></em></p>]]>
            </description>
            <link>https://internalpointers.com/post/writing-custom-iterators-modern-cpp</link>
            <guid isPermaLink="false">hacker-news-small-sites-25500563</guid>
            <pubDate>Mon, 21 Dec 2020 22:43:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A full blood count of Covid-19 patients could predict disease severity]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25500537">thread link</a>) | @finphil
<br/>
December 21, 2020 | https://nuadox.com/post/638153014113370112/full-blood-count-covid19-prediction | <a href="https://web.archive.org/web/*/https://nuadox.com/post/638153014113370112/full-blood-count-covid19-prediction">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> 
                 
                    
                    <article id="638153014113370112">
                        <div>
                            <div>
                                <a href="https://nuadox.com/post/638153014113370112/full-blood-count-covid19-prediction"><h2>A full blood count of COVID-19 patients could predict disease severity</h2></a>
                                <figure data-orig-width="1920" data-orig-height="1070"><img src="https://64.media.tumblr.com/f62c11a7b8380d973c89a0f8b2e19be4/7eaa33c312b31484-c4/s1280x1920/eaa8739dee2bddd12b02049f0462be5b4ee4a9af.jpg" alt="image" data-orig-width="1920" data-orig-height="1070" width="1280" height="713"></figure><p><b>- By&nbsp;<a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.radboudumc.nl%2Fen%2F&amp;t=ZWI4YjIxMTUxZTljN2VlZTk4YmZlZmEyOGQxNDgzNDk2MGVjMGEzZCxPdnJTNlR3WA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638153014113370112%2Ffull-blood-count-covid19-prediction&amp;m=0&amp;ts=1608773394">Radboud University Medical Center</a> -</b></p><p>International research led by the Radboud university medical center in the Netherlands shows that a full blood count of COVID-19 patients predicts fairly accurately whether the infection will have a complicated course or not. This could make it easier for healthcare providers to estimate the expected clinical picture.</p><p>This study, conducted in eleven hospitals, has now been published in the scientific journal <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Felifesciences.org%2Farticles%2F63195&amp;t=NmE1MjUyMDk0NjgzYTBlMzc1NDZmOTliMDQ3NTk2NDdhYzYxZWZhYixPdnJTNlR3WA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638153014113370112%2Ffull-blood-count-covid19-prediction&amp;m=0&amp;ts=1608773394"><i>eLife</i></a>.</p><p>In patients presenting to hospitals with a COVID-19 infection, full blood count analysis (hemocytometry) are commonly performed at the emergency department and during hospitalization. COVID-19 is accompanied by specific changes in the circulating blood cells that are analyzed by a full blood count. These changes in the blood cells, especially those that can be identified using new techniques, are used to create an algorithm with a predictive value. The developed algorithm appears to predict the course of COVID-19 better than the value of the individual blood cells, as used so far. The reliability increases to 93% after six days.</p><h2><b>Predicting disease progression</b></h2><p>Using data generated by full blood count measurements, the researchers wanted to know whether it is possible to predict whether a hospitalized COVID-19 patient will become seriously ill and needs treatment at the Intensive Care. For this purpose, they examined the data of 982 adult patients in eleven different hospitals across Europe. And this turned out to be possible: specific changes in the circulating blood cells of COVID-19 patients proved to be of use as indicators whether a serious course of events was expected. New laboratory techniques make it possible to detect whether immune cells in the blood are activated and it turned out that especially these activated cells were more present of COVID-19 patients with a severe course, including during the early course of the disease. In a second study population the researchers were able to confirm the value of the prognostic score.</p><h2><b>Cheap and available</b></h2><p>Internist-infectiologist and principal investigator Andr√© van der Ven of Radboud university medical center explains: ‚ÄúA full blood count is a fully automated, inexpensive, immediately available measurement and one of the most requested laboratory determinations in the world. Full blood count measurements are also routinely requested from COVID-19 patients who present to the hospital. By using certain techniques, the character of certain blood cells can be better determined and by using these new techniques, we have been able to develop a reliable prognostic score. This score gives a good insight into whether a serious course of events can be expected and can help healthcare professionals to make treatment decisions‚Äù.</p><p>‚Äì</p><p><b>Source:&nbsp;<a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.radboudumc.nl%2Fen%2Fnews-items%2F2020%2Ffull-blood-count-covid-19-patients-predict-disease-severity&amp;t=NTcwOWQzMWVlMWI5YTBjNWIwMTFlOGUwMjcxMWEyZWJjNGJjODQ2MyxPdnJTNlR3WA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638153014113370112%2Ffull-blood-count-covid19-prediction&amp;m=0&amp;ts=1608773394">Radboud University Medical Center</a></b></p><p><b>Full study:</b>&nbsp;‚ÄúA novel haemocytometric COVID-19 prognostic score developed and validated in an observational multicentre European hospital-based study‚Äù, <i>eLife</i>.</p><p><a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fdoi.org%2F10.7554%2FeLife.63195&amp;t=YzI1ZjQwODA5OTkyZTI3Y2Y1Y2NlMDhjYzc4Y2U2YTE1YTA0ZDAxYixPdnJTNlR3WA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638153014113370112%2Ffull-blood-count-covid19-prediction&amp;m=0&amp;ts=1608773394">https://doi.org/10.7554/eLife.63195</a><br></p><h2><b>Read Also</b></h2><p><a href="https://nuadox.com/post/632175500576653312/blood-test-covid19-infection-prediction">Novel blood test predicts which COVID-19 patients will develop severe infection</a></p>
                    
                      
                    
                    
                    
                    
                    
                    
                    
                    
                                             
                                <p><span>
                                    <p>
                                    
                                        <a href="https://nuadox.com/tagged/covid19">covid19</a>
                                    
                                        <a href="https://nuadox.com/tagged/coronavirus">coronavirus</a>
                                    
                                        <a href="https://nuadox.com/tagged/pandemic">pandemic</a>
                                    
                                        <a href="https://nuadox.com/tagged/health">health</a>
                                    
                                        <a href="https://nuadox.com/tagged/medicine">medicine</a>
                                    
                                        <a href="https://nuadox.com/tagged/virus">virus</a>
                                    
                                    </p>
                                </span></p>
                                
<ol><!-- START NOTES --><!-- END NOTES --></ol></div>
                        </div>
                    </article>
                 
                </div></div>]]>
            </description>
            <link>https://nuadox.com/post/638153014113370112/full-blood-count-covid19-prediction</link>
            <guid isPermaLink="false">hacker-news-small-sites-25500537</guid>
            <pubDate>Mon, 21 Dec 2020 22:39:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[On Stress and Comfort]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25500461">thread link</a>) | @greenrd
<br/>
December 21, 2020 | https://www.spakhm.com/p/on-stress-and-comfort | <a href="https://web.archive.org/web/*/https://www.spakhm.com/p/on-stress-and-comfort">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Many people report they're feeling depressed during the pandemic. The gyms are closed so exercise options are limited. You don't get to see people as much. The routines are all different‚Äî you might have lost touch with friends, there are no serendipitous conversations at work, you can't go out to a restaurant or to see a movie. That would put anybody in low spirits.</p><p>But not me. I'm extremely well adapted to the pandemic. I can busy myself with reading, studying or programming and almost never get bored. Chatting over text feels as real to me as meeting in person. In many ways text is <em>better‚Äî</em> I can multitask, talk to different groups of friends, be in my pajamas. I don't miss going out. Restaurants are filled with annoyances like noise and waiting for the check. The food delivery experience feels strictly better. I don't have to sit in traffic or go to events I never liked. The new routine has made me surprisingly happy.</p><p>Because I spend so much time at home I made everything cozy. I'm surrounded by my favorite books. I get the exact amount and the type of light I need (which is dim and incandescent orange). I get more and better sleep, the kitchen is stocked with the food I like, the pajamas are soft. I can take baths in the middle of the day! There is good coffee. People get to control only some aspects of our environment, but now my home <em>is</em> the environment. I get to control all of it. I can't remember a time when I was as comfortable.</p><p>Comfort begets comfort. I've always said no to unnecessary errands, but the pandemic made it clear how much further that can go. If I was too conservative saying no before, could I be too conservative saying it now? I tested it, and it turned out that I was. For example, when people asked for Zoom I tried saying "let's work it out over text". And that turned out to be enough! I've always preferred conversations to meetings, and text feels far more conversational than Zoom. Now people know to reach me via text. Over the last six months I've eliminated nearly everything I don't want to do.</p><p>One outcome of this experiment is tranquility. The other is that I get more done than ever. I read, write, study, code and talk to people <em>more</em> than I did before. I can't remember the last time I sat down and read for two uninterrupted hours before the pandemic. Now I do it regularly. The combination of extra time, fewer interruptions, and less frustration feels like I'm operating at a lower frequency. This frequency feels optimal for productivity. The frequency prior to the pandemic was far too high.</p><p>But there are negative side effects to comfort. I find myself saying no where I should be saying yes. Less physical movement means it's harder to keep a healthy weight. Lack of strenuous exercise makes me downright lazy‚Äî I notice myself resisting anything that would cause even small amounts of stress. I don't lose a sense of urgency, but I do find it harder to convince myself to perform entire classes of work. None of this makes me unhappy. My limbic system is ok with it, but the rational part of my brain knows these effects aren't good for me. They remind me of an excerpt from Kahlil Gibran:</p><blockquote><p>    Or have you only comfort, and the lust for comfort, that stealthy thing that enters the house a guest, and then becomes a host, and then a master?</p><p>    Ay, and it becomes a tamer, and with hook and scourge makes puppets of your larger desires.<br>    Though its hands are silken, its heart is of iron.<br>    It lulls you to sleep only to stand by your bed and jeer at the dignity of the flesh.<br>    It makes mock of your sound senses, and lays them in thistledown like fragile vessels.<br>    Verily the lust for comfort murders the passion of the soul, and then walks grinning in the funeral.</p><p>    But you, children of space, you restless in rest, you shall not be trapped nor tamed.<br>    Your house shall be not an anchor but a mast.</p></blockquote><p>So it isn't enough to be comfortable. Comfort needs to be balanced with stress. What type of stress is the right stress? I'm still experimenting, but I have early results. This is <code>N=1</code> and I don't know if the conclusions generalize. YMMV.</p><p>High intensity interval training (HIIT) always lifts my mood, gives me more energy, and makes it much easier to take on the day or to handle bad news. The stock market tanking is bad,  but not nearly as bad if you did twenty minutes of burpees. This effect is stronger after doing martial arts. I don't know yet if it's because the intensity is higher and longer, or because there is a social component. I noticed I don't get any of these effects after long slow runs, or after lifting heavy weights. I am not sure why.</p><p>Cold water has roughly the same psychological effects on me as HIIT. The effects plateau after about fifteen seconds under a cold shower. It works much better if the head and face are under the stream. There is effect without that, but it's more limited. I haven't looked at the data and I don't know if this is safe to do consistently. People make all sorts of pseudoscientific claims about health benefits of cold water‚Äî I'm not doing that; I just know it has an effect on my psychology.</p><p><a href="https://en.wikipedia.org/wiki/SMART_criteria">SMART</a> goals have incredibly powerful effects, but only with an additional property‚Äî I have to care about the goal. If I have to ship a feature by Monday and I care about the product, I will be focused and excited all through the weekend. It works even better if I know other people are depending on me. But the inverse, if people depend on me but I don't care about the goal, is destructive stress. Those situations make me miserable beyond belief.</p><p>Sleep matters a lot, and it's surprisingly fussy. About 8.5 hours is optimal. Less than 8 or more than 9 leaves me grumpy for the rest of the day.</p><p>I found that contrary to conventional wisdom diet quality makes no difference. I can eat pizzas all day or healthy gourmet meals‚Äî if I get the calories in it doesn't matter. On the other hand my weight does matter. About 165lbs (the uppermost point of my healthy BMI) is optimal. Any less and I start feeling weak. More than 175lbs and my mood starts to suffer. Meditation, supplements, and proximity to nature also don't matter.</p><p>I have a much longer list of how different conditions affect me, but from talking to friends I know these mappings are idiosyncratic. The meta argument is that tinkering with the right and wrong types of comfort and stress can make a dramatic difference on your productivity and subjective experience. It doesn't even require much work! You have to pay attention to how your psychology responds to situations and be willing to make changes. After a while it becomes automatic. And since your life situation and priorities change with time, the tinkering process never ends.</p></div></div>]]>
            </description>
            <link>https://www.spakhm.com/p/on-stress-and-comfort</link>
            <guid isPermaLink="false">hacker-news-small-sites-25500461</guid>
            <pubDate>Mon, 21 Dec 2020 22:32:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Auth Made Easy: FusionAuth Review]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25500321">thread link</a>) | @mooreds
<br/>
December 21, 2020 | https://www.gmork.tech/blog/2 | <a href="https://web.archive.org/web/*/https://www.gmork.tech/blog/2">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.gmork.tech/blog/2</link>
            <guid isPermaLink="false">hacker-news-small-sites-25500321</guid>
            <pubDate>Mon, 21 Dec 2020 22:20:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Architect 8.4: say hello to Lambda treeshaking]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25500305">thread link</a>) | @brianleroux
<br/>
December 21, 2020 | https://blog.begin.com/architect-8-4-say-hello-to-lambda-treeshaking-898bf5008c70 | <a href="https://web.archive.org/web/*/https://blog.begin.com/architect-8-4-say-hello-to-lambda-treeshaking-898bf5008c70">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><div><div><div><div><div><div><p><a href="https://medium.com/@ryan?source=post_page-----898bf5008c70--------------------------------" rel="noopener"><img alt="Ryan Block" src="https://miro.medium.com/fit/c/96/96/2*EfV_5cNqDQE8MFejOm6FKg.png" width="48" height="48"></a></p></div></div></div></div><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/1996/0*xCxxLQouKeUJLD2b.png" width="998" height="182" srcset="https://miro.medium.com/max/552/0*xCxxLQouKeUJLD2b.png 276w, https://miro.medium.com/max/1104/0*xCxxLQouKeUJLD2b.png 552w, https://miro.medium.com/max/1280/0*xCxxLQouKeUJLD2b.png 640w, https://miro.medium.com/max/1400/0*xCxxLQouKeUJLD2b.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/0*xCxxLQouKeUJLD2b.png?q=20"></p></div></div></div></figure><p id="e7ed">One of the thing that sets OpenJS Architect apart from other serverless tools is its opinion that serverless apps work best when composed of many small, discrete Lambda cloud functions.</p><p id="ce55">This approach offers the greatest coldstart performance, security isolation, deployment speed, and mean time to bug resolution. However, this approach also comes with a minor drawback: the need to manage many Lambdas‚Äô dependencies.</p><p id="7083">Or at least it used to! Architect 8.4 introduces a new concept we call Lambda Node.js modules treeshaking.</p><h2 id="3e13">How Lambda treeshaking works</h2><p id="a062">If you‚Äôd like to take advantage of the nearly 1.5 million publicly published Node.js modules, your Architect app may have numerous individual <code>package.json</code> files spread across its various Lambdae. Here‚Äôs an example file tree of how such a project might look:</p><pre><span id="2740">/<br>‚îú‚îÄ src/<br>‚îÇ  ‚îî‚îÄ http<br>‚îÇ     ‚îú‚îÄ get-index<br>‚îÇ     ‚îÇ  ‚îú‚îÄ index.js<br>‚îÇ     ‚îÇ  ‚îî‚îÄ package.json<br>‚îÇ     ‚îú‚îÄ post-api<br>‚îÇ     ‚îÇ ‚îú‚îÄ index.js<br>‚îÇ     ‚îÇ ‚îî‚îÄ package.json<br>‚îÇ     ‚îî‚îÄ put-api<br>‚îÇ        ‚îú‚îÄ index.js<br>‚îÇ        ‚îî‚îÄ package.json<br>‚îú‚îÄ app.arc<br>‚îî‚îÄ package.json</span></pre><p id="3adc">Architect 8.4‚Äôs Lambda Node.js modules treeshaking now automatically statically analyzes all of your Lambdas‚Äô business logic and manages each of their dependencies from the root. This means:</p><ul><li id="2067">You only ever have to install dependencies one time in one place: your root <code>package.json</code></li><li id="a93c">Similarly, upgrading, removing, or otherwise maintaining dependencies happens in your root as well</li><li id="388e">Perhaps our favorite: no more having to keep dozens (or hundreds) of individual <code>package[-lock].json</code> files in your repo</li></ul><p id="ddab">Now the project above looks like this:</p><pre><span id="2f19">/<br>‚îú‚îÄ src/<br>‚îÇ  ‚îî‚îÄ http<br>‚îÇ     ‚îú‚îÄ get-index<br>‚îÇ     ‚îÇ  ‚îî‚îÄ index.js<br>‚îÇ     ‚îú‚îÄ post-api<br>‚îÇ     ‚îÇ  ‚îî‚îÄ index.js<br>‚îÇ     ‚îî‚îÄ put-api<br>‚îÇ        ‚îî‚îÄ index.js<br>‚îú‚îÄ app.arc<br>‚îî‚îÄ package.json</span></pre><h2 id="c769">Get started with Lambda treeshaking</h2><p id="a614">For starters, make sure you‚Äôre running Architect 8.4 (<code>npm i @architect/architect@latest</code>)!</p><p id="4815">For new projects, taking advantage of Lambda treeshaking is as simple as adding dependencies to your project‚Äôs root <code>package.json</code> file (and <code>require()</code>ing¬π them in your business logic).</p><p id="2815">For existing projects, any Lambdas that already have their own <code>package.json</code> will continue to have their dependencies wholly managed by you, meaning you can choose to mix and match dependency management on a per-Lambda basis.</p><p id="11fd">We think this is a massive step forward in the ergonomics of building cloud function-native applications ‚Äî we‚Äôd love to hear what you think in <a href="https://architecture-as-text.slack.com/archives/C6BGT0D08/p1600199636147600" rel="noopener">Architect‚Äôs Slack</a>!</p><p id="6444">¬π Architect will ship ESM support when Lambda ships Node.js 14 support; dynamic requires are not supported</p><figure><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/552/0*gLbMxDzidLVqVwjW.png" width="276" height="400" data-old-src="https://miro.medium.com/max/42/0*gLbMxDzidLVqVwjW.png?q=20"></p></div></div><figcaption>Art by <a href="https://www.michaelramstead.com/" rel="noopener">Michael Ramstead</a></figcaption></figure></div></div></section></div></div>]]>
            </description>
            <link>https://blog.begin.com/architect-8-4-say-hello-to-lambda-treeshaking-898bf5008c70</link>
            <guid isPermaLink="false">hacker-news-small-sites-25500305</guid>
            <pubDate>Mon, 21 Dec 2020 22:18:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Fuck Amazon Vine]]>
            </title>
            <description>
<![CDATA[
Score 40 | Comments 35 (<a href="https://news.ycombinator.com/item?id=25500255">thread link</a>) | @fivedogit
<br/>
December 21, 2020 | https://thingamagig.com/vine/WhyAmazonVineSucks.html?x=3 | <a href="https://web.archive.org/web/*/https://thingamagig.com/vine/WhyAmazonVineSucks.html?x=3">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://thingamagig.com/vine/WhyAmazonVineSucks.html?x=3</link>
            <guid isPermaLink="false">hacker-news-small-sites-25500255</guid>
            <pubDate>Mon, 21 Dec 2020 22:13:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Carbon offsets aren't working, and probably can't]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25499746">thread link</a>) | @wcerfgba
<br/>
December 21, 2020 | https://www.volts.wtf/p/carbon-offsets-arent-working-and | <a href="https://web.archive.org/web/*/https://www.volts.wtf/p/carbon-offsets-arent-working-and">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>All right, Voltaires, today we have the second part of my conversation with Danny Cullenward and David Victor, authors of the new book <em><a href="https://politybooks.com/bookdetail/?isbn=9781509541799">Making Climate Policy Work</a></em>. (See <a href="https://www.volts.wtf/p/why-carbon-pricing-will-never-be">part one</a> for their credentials and background.)</p><p>The book, you will recall, is an extended argument that carbon pricing schemes, despite their attractiveness in economic theory, run afoul of fundamental forces in political economy.</p><p>In <a href="https://www.volts.wtf/p/why-carbon-pricing-will-never-be">part one</a> we talked about why people love carbon pricing so much and why, despite promises of expansion, most carbon pricing system still only cover a narrow band of economic sectors. </p><p>Today we tackle two more of the book‚Äôs big topics. </p><p>The first is carbon offsets. A carbon offset is basically a payment to a third party to take some carbon-reducing action ‚Äî plant trees, prevent deforestation, capture and bury carbon, what have you. The idea is that entities for whom reducing direct emissions is expensive or impossible can still pay for reductions. </p><p>In the context of carbon pricing systems, offsets are designed to play two roles. First, they are supposed to hold prices down, since they are often cheaper than direct reductions. And second, they are supposed to allow carbon pricing systems to reduce emissions even in sectors that are not covered by the system and are otherwise difficult to reach. </p><p>Like carbon pricing itself, carbon offsets are an appealing idea. Pay less, for more emission reductions, and help save forests while you do it! More and more cities, states, and companies are making net-zero pledges without really knowing how to get there, so lots of them are looking around for cheap reductions, and carbon offsets are sitting right there.</p><p>But the model only works in practice if the carbon reductions represented by carbon offsets are real ‚Äî verifiable and verified. Cullenward and Victor argue that they rarely are, and furthermore, that the incentives created by the programs themselves work against reliable verification. Large-scale offsets programs inevitably spark a race to the bottom.</p><p>Second, we talk about linkages. Just as carbon pricing programs were supposed to expand to cover more economic sectors, they were supposed to expand to bring in more jurisdictions, more states and countries. That hasn‚Äôt happened either, and the explanation turns out to be more or less the same.</p><p>Let‚Äôs jump in!</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F4c4410c8-248f-43fe-80bf-04301a359d0c_1100x55.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F4c4410c8-248f-43fe-80bf-04301a359d0c_1100x55.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/4c4410c8-248f-43fe-80bf-04301a359d0c_1100x55.png&quot;,&quot;height&quot;:55,&quot;width&quot;:1100,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:2227,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><h3>Carbon offsets haven‚Äôt worked, don‚Äôt work, and won‚Äôt work</h3><h4>David Roberts</h4><p>Let‚Äôs talk about carbon offsets, a perpetually hot topic. Offsets do a lot of work in carbon pricing systems, easing the political difficulties that the pricing systems themselves create. That would be fine if they were reliable and verifiable. But you guys say they're not, and what‚Äôs more, never will be. Explain. </p><h4>Danny Cullenward</h4><p>There's two parts. First is the difficulty in saying what a good offset is. The second is the politics ‚Äî what offsets are for and how the money gets used. </p><p>The fundamental problem with offsets is that we can't observe what doesn't happen. The offset project is making a claim: if you didn't pay us, we wouldn't do this thing. It's a counterfactual claim that's factually unobservable. You can only infer, by evidence, reasoning, and detailed sector-specific knowledge, what might or might not happen. That's a challenging problem in the best of circumstances. </p><p>Everyone imagines there's this vast army of people working on this problem, ensuring that there's a good outcome, but in practice, you see understaffed regulators ‚Äî very few people paying close attention to this who have no financial interests. And you see special-interest nonprofit organizations figuring out if they line up behind these offset programs, they can direct the revenues to particular causes. </p><p>An offset is basically a way of channeling a compliance obligation on a polluter to some third-party activity. So if you can direct the flow of those funds, that's powerful. Just a quick data point: in California, there's over 200 million offset credits, easily worth 10 bucks apiece. That's $2 billion in private financial flows that have moved through a regulatory program that has fewer than a dozen full-time staff members. </p><p>That problem is massive ‚Äî you lose that fight every time, because of the fundamental political economy of offsets. Almost everywhere they've been used in compliance programs, they‚Äôve been used for cost containment. </p><p>The story is, I can deliver a climate pollution reduction somewhere else at lower cost. If the quality of that offset credit is identical to a reduction inside the program, you have no change in emissions, you just have lower costs.</p><h4>David Roberts</h4><p>Again, a very appealing theory.</p><h4>Danny Cullenward  </h4><p>It's very elegant. </p><p>It's important to point out some of the environmental justice [EJ] concerns. If you don't reduce your pollution here, the people who experience the local air pollution associated with, say, a refinery have sincere and legitimate concerns. But assuming we solved the local air-quality problem and the EJ problem, it's an appealing theory, for sure. </p><p>The political problem is that these programs want offsets to keep costs down. To be honest, they don't particularly care about quality. At the end of the day, their bottom line is about increasing the volume at the lowest possible cost. </p><p>So the fundamental political economy is structured around massive volumes of low-priced offsets ‚Äî the most problematic ones. It becomes a race to the bottom, where people compete on price and not quality. </p><p>And nobody really cares about quality in these public markets. That's why in every single major compliance offsets program, you see this downward spiral in quality. They are not about achieving comparable environmental aims. They are about reducing compliance costs. </p><p data-attrs="{&quot;url&quot;:&quot;https://www.volts.wtf/p/carbon-offsets-arent-working-and?&amp;utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share&quot;,&quot;text&quot;:&quot;Share&quot;,&quot;class&quot;:null}"><a href="https://www.volts.wtf/p/carbon-offsets-arent-working-and?&amp;utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share"><span>Share</span></a></p><h4>David Roberts</h4><p>Is there not a single offset program you could point to that has fought off these trends and maintained high quality?</p><h4>Danny Cullenward</h4><p>I'll be honest, I spend a lot of time working on this and it's hard for me to point to a lot that's working well. </p><p>The counter-examples are, you're starting to see some companies in the private sector say that they don't care what the price is, they‚Äôre only concerned with quality. Those private sector buyers are going to help create markets for quality offsets. </p><p>There are some small-scale things you can point to, but when you look to large volumes of offset credits at low prices, I don't think there's a single program that's delivered that successfully.</p><h4>David Victor</h4><p>I agree. The place to watch is voluntary markets amongst folks who understand the quality problem, understand the logic of why offsets, if they can be done with integrity, are important. </p><p>One of the reasons offsets persist, keep coming back like bell-bottoms, is that you now see a bunch of companies and governments under enormous pressure to make net-zero pledges. </p><p>It‚Äôs coming from the right place. But when they go do the numbers, they have a heart attack. They don't know what to do, especially if you go all the way up to scope-three emissions. [Scope-three emissions ‚Äî indirect emissions embedded in a company‚Äôs or jurisdiction‚Äôs supply chains ‚Äî are explained <a href="https://www.carbontrust.com/resources/briefing-what-are-scope-3-emissions">here</a>.]</p><p>So they all say the right things in public: we want to make all the reductions ourselves to the extent possible, yada yada. Meanwhile, the analysts say, you've made this public pledge, how are you going to do this? The only backstop answer is offsets. </p><p>So they almost have to imagine that these problems of quality don't exist, or can be solved ‚Äî ‚Äú<a href="https://www.climatechangenews.com/2020/11/10/mark-carney-oversees-blueprint-scaling-carbon-market-offset-demand-soars/">Mark Carney is working on it</a>, so it'll be fine.‚Äù Once that magic wand is waved and offsets are available, net zero is possible. The sad irony here is that a lot of companies and governments are trying to do the right thing, but net-zero pledges are propagating the belief that offsets are working fine.</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F438ea9bb-ba85-4280-a2e0-7c77cfb3cadb_5000x3328.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F438ea9bb-ba85-4280-a2e0-7c77cfb3cadb_5000x3328.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/438ea9bb-ba85-4280-a2e0-7c77cfb3cadb_5000x3328.jpeg&quot;,&quot;height&quot;:969,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:2927396,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null}" alt=""></a><figcaption>Alaskan forests, shrouded and opaque, much like carbon offsets. (Photo: Getty Images)</figcaption></figure></div><h4>David Roberts</h4><p>There‚Äôs an argument to be made that if these companies and governments didn‚Äôt have access to offsets, and just had to reduce their direct and indirect emissions on their own, it would appear so daunting and terrifying that you'd get less support. Perhaps having a release valve in offsets is enabling these corporations and jurisdictions to feel confident enough to step up at all. Do you worry about cutting that off?</p><h4>Danny Cullenward</h4><p>That's the political trap of starting with a flawed paradigm. </p><p>I'm trying to make a slightly different case to them for what to do. Take a company that has made a bold pledge and set aside a budget for this. I don't want them to reduce the funds they‚Äôre putting into climate, I want them to grow that over time, and I think a lot of companies get that and want to do that. But is that money going to good things?</p><p>When you're competing on price and nobody's looking over quality, difficult things that are real can't compete. So we need to break the current relationship between price and effort in these systems. People need to stop pretending that we can cheaply offset our way to net-zero goals. </p><p>To a company that has been blindly purchasing generic offsets and is becoming aware of these problems ‚Äî don't stop. Take the money and make the most of it. That means not fetishizing tonnage claims and the implementation of net zero. </p><p>That's a difficult thing to do, because people have made all these bold pledges. But we have to figure out a way to search for quality. We don't see that working in offsets. </p><h4>David Roberts</h4><p>What about the fact that there are big emitting sectors that are problematic and don't fit well under a carbon pricing system? Are there ways to get at them other than offsets?</p><h4>Danny Cullenward</h4><p>When people say offsets can help us get to sectors we can't otherwise get to, you need to remember two things. </p><p>First, what does it take to do a good offsets program? It means you know a great deal about what's going on in that sector, what's possible, what's not possible, who's doing it ‚Äî you need all of this detailed information. To set your additionality standards and baselines and all the technical ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.volts.wtf/p/carbon-offsets-arent-working-and">https://www.volts.wtf/p/carbon-offsets-arent-working-and</a></em></p>]]>
            </description>
            <link>https://www.volts.wtf/p/carbon-offsets-arent-working-and</link>
            <guid isPermaLink="false">hacker-news-small-sites-25499746</guid>
            <pubDate>Mon, 21 Dec 2020 21:24:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Thoughts on Clubhouse]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25499615">thread link</a>) | @ggoo
<br/>
December 21, 2020 | https://julian.digital/2020/12/21/thoughts-on-clubhouse/ | <a href="https://web.archive.org/web/*/https://julian.digital/2020/12/21/thoughts-on-clubhouse/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
 		
<p>Today marks the 77th day since I got onboarded to <a href="https://www.joinclubhouse.com/">Clubhouse</a>.</p>



<p><a href="https://techcrunch.com/2020/04/18/clubhouse-app-chat-rooms/">Clubhouse, for those not familiar with it, is essentially an audio-first social network.</a> It‚Äôs kind of a mix between Reddit and a podcast. An interactive radio show. The app lets you jump into different chat rooms and participate in ‚Äì or just listen to ‚Äì live audio conversations around different topics.</p>



<p>It‚Äôs an exciting product. <br>And yet, in these last 77 days, I have actively used Clubhouse exactly three times.</p>



<p>The problem with Clubhouse is that you can only listen to conversations live as they happen. Given that the majority of the current user base is in North America, the most interesting conversations usually happen in the middle of the (European) night when I‚Äôm asleep.</p>



<p>The first thing I see on my phone after I wake up are a handful of Clubhouse notifications telling me about the all the interesting conversations I missed. I wish I could just download these conversations as podcasts and listen to them later.</p>



<p><img src="https://julian.digital/wp-content/uploads/2020/12/clubhouse.png"></p><p>Some have pointed out that the live nature of Clubhouse is exactly what makes it so special, comparing it to the ephemerality of Snapchat. And while I disagree on the Snapchat comparison <span>(ephemerality ‚â† synchronous creation and consumption)</span>, I do think it makes sense for Clubhouse to find its own native format rather than compete with podcasts directly.</p>



<p>While Clubhouse feels like live podcasts at the moment, I think over time it will probably evolve into something else. Something more unique.</p>



<p>The current state of Clubhouse reminds me of the early days of Twitter: People knew it was a unique new form factor, but they didn‚Äôt know how to use it yet. Most tweets were just short status updates. It took some time until the platform found its current form and use cases.</p>



<p>One of those use cases is ‚ÄúTwitter as a second screen‚Äù: Live commenting TV shows and sports events. I strongly suspect that this will become one of Clubhouse‚Äôs main uses cases as well.</p>



<p>As I pointed out in <a href="http://julian.digital/2020/04/19/airpods-as-a-platform/">Airpods as a Platform</a>, I see audio primarily as a secondary interface: You listen to music while you‚Äôre working out, for example. You consume podcasts while you are driving or commuting. You talk on Discord while you‚Äôre playing a game.</p>



<p>Audio is a medium that supports and augments other activities.</p>



<p>So instead of thinking about whether Clubhouse should make conversations available as downloads, a perhaps more interesting question is what activities could best be augmented with live audio? What does Clubhouse as an audio layer for other content look like?</p>



<p>The most obvious use case seems to be sports (and other events that have to be consumed live). I would love to replace the audio track of my TV sports broadcasters with a select group of (Clubhouse) experts whose opinions I‚Äôm <em>actually</em> interested in.</p>



<p>I wonder what other events or activities this would work for. <br><a href="https://twitter.com/lehrjulian/status/1341044261526130691">Do you have any ideas?</a></p>
 	</div></div>]]>
            </description>
            <link>https://julian.digital/2020/12/21/thoughts-on-clubhouse/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25499615</guid>
            <pubDate>Mon, 21 Dec 2020 21:12:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Declarative Simplicity in React with useInterval]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25499328">thread link</a>) | @hydroxideOH-
<br/>
December 21, 2020 | https://micahcantor.xyz/blog/practical-react-use-interval | <a href="https://web.archive.org/web/*/https://micahcantor.xyz/blog/practical-react-use-interval">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div>
<p>In Dan Abramov's blog post <a href="https://overreacted.io/making-setinterval-declarative-with-react-hooks/">"Making setInterval Declarative with React Hooks"</a>, he writes about a custom React hook to wrap the native Javascript function, setInterval. The first time I read the article, I thought it was interesting, but I was not convinced by the power of custom hooks until I got the chance to use it in action. That opportunity came when I was designing a music progress bar component. The switch from using <code>setInterval</code> to <code>useInterval</code> resulted in a dramatic reduction in code size and a cleaner design.</p>
<p>The design of <code>useInterval</code> is fairly simple. It looks similar to <code>useEffect</code>, where the first parameter is a callback function. It differs though in the second parameter, which is a number in milliseconds:</p>
<div data-language="jsx"><pre><code><span>let</span> <span>[</span>count<span>,</span> setCount<span>]</span> <span>=</span> <span>useState</span><span>(</span><span>0</span><span>)</span><span>;</span>
<span>useInterval</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>    
  
  <span>setCount</span><span>(</span>count <span>+</span> <span>1</span><span>)</span><span>;</span>  
<span>}</span><span>,</span> <span>1000</span><span>)</span><span>;</span></code></pre></div>
<p>Importantly, the second parameter can also be a ternary conditional expression as well, which is key to the design I explain in this article. If it is a conditional, like <code>shouldCount <span>?</span> <span>1000</span> <span>:</span> <span>null</span></code> then it will only run the callback function if <code>shouldCount</code> is true. </p>
<p>I won't go into the gory details about how <code>useInterval</code> works behind the scenes here. For that, read Abramov's blog; it will do a much better job than I can.</p>
<h2>The original progress bar design</h2>
<p>With some omissions for brevity, here is what the original progress bar looked like:</p>
<div data-language="jsx"><pre><code><span>export</span> <span>const</span> <span>ProgressBar</span> <span>=</span> <span>(</span><span><span>{</span> elapsed<span>,</span> songs<span>,</span> runtime<span>,</span> isPaused<span>,</span> deviceID<span>,</span> room<span>,</span> dispatch <span>}</span></span><span>)</span> <span>=&gt;</span> <span>{</span>

  <span>const</span> <span>[</span>runtimeMS<span>,</span> setRuntimeMS<span>]</span> <span>=</span> <span>useState</span><span>(</span><span>null</span><span>)</span><span>;</span>
  <span>const</span> <span>[</span>progressActive<span>,</span> setProgressActive<span>]</span> <span>=</span> <span>useState</span><span>(</span><span>false</span><span>)</span><span>;</span>
  <span>const</span> <span>[</span>progressIntervalID<span>,</span> setProgressIntervalID<span>]</span> <span>=</span> <span>useState</span><span>(</span><span>null</span><span>)</span><span>;</span>

  <span>{</span> <span>...</span> <span>}</span>

  
  <span>useEffect</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
    
    <span>if</span> <span>(</span>elapsed <span>&gt;=</span> runtimeMS <span>&amp;&amp;</span> progressIntervalID<span>)</span> <span>{</span>
      <span>clearInterval</span><span>(</span>progressIntervalID<span>)</span><span>;</span>
      <span>setProgressActive</span><span>(</span><span>false</span><span>)</span><span>;</span>
      <span>onProgressComplete</span><span>(</span><span>)</span><span>;</span>
    <span>}</span>
    
    <span>else</span> <span>if</span> <span>(</span><span>!</span>isPaused <span>&amp;&amp;</span> <span>!</span>progressActive<span>)</span> <span>{</span>
      <span>const</span> intervalID <span>=</span> <span>setInterval</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span>
        <span>dispatch</span><span>(</span><span>{</span> type<span>:</span> <span>'increment-elapsed'</span><span>,</span> increment<span>:</span> <span>50</span> <span>}</span><span>)</span><span>,</span>
        <span>50</span> 
      <span>)</span><span>;</span>
      <span>setProgressActive</span><span>(</span><span>true</span><span>)</span><span>;</span>
      <span>setProgressIntervalID</span><span>(</span>intervalID<span>)</span><span>;</span>
    <span>}</span>
    
    <span>else</span> <span>if</span> <span>(</span>isPaused <span>&amp;&amp;</span> progressActive<span>)</span> <span>{</span>
      <span>setProgressActive</span><span>(</span><span>false</span><span>)</span><span>;</span>
      <span>clearInterval</span><span>(</span>progressIntervalID<span>)</span><span>;</span>
    <span>}</span>
  <span>}</span><span>,</span> <span>[</span>elapsed<span>,</span> isPaused<span>,</span> progressActive<span>,</span> runtimeMS<span>,</span> progressIntervalID<span>,</span> onProgressComplete<span>,</span> dispatch<span>]</span><span>)</span>

  
  <span>useEffect</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>dispatch</span><span>(</span><span>{</span> type<span>:</span> <span>'set-elapsed'</span><span>,</span> elapsed<span>:</span> <span>0</span> <span>}</span><span>)</span><span>;</span>
    <span>setRuntimeMS</span><span>(</span><span>parseFloat</span><span>(</span>runtime<span>)</span><span>)</span><span>;</span>
    <span>setProgressActive</span><span>(</span><span>false</span><span>)</span><span>;</span>
  <span>}</span><span>,</span> <span>[</span>songs<span>[</span><span>0</span><span>]</span><span>,</span> runtime<span>,</span> dispatch<span>]</span><span>)</span>

  
  <span>useEffect</span><span>(</span><span><span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>return</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
      <span>clearInterval</span><span>(</span>progressIntervalID<span>)</span><span>;</span>
    <span>}</span>
  <span>}</span><span>,</span> <span>[</span>progressIntervalID<span>]</span></span><span>)</span>

  <span>{</span> <span>...</span> <span>}</span>

  <span>return</span> <span>(</span>
    <span><span><span>&lt;</span><span>SliderInput</span></span> <span>className</span><span><span>=</span><span>"</span>w-full pb-6 mb-1 md:mb-0<span>"</span></span> <span>min</span><span><span>=</span><span>{</span><span>0</span><span>}</span></span> <span>max</span><span><span>=</span><span>{</span>runtimeMS<span>}</span></span> <span>value</span><span><span>=</span><span>{</span>elapsed<span>}</span></span> <span>onChange</span><span><span>=</span><span>{</span>onChange<span>}</span></span><span>&gt;</span></span><span>
  );</span></code></pre></div>
<p>As you can see, even with some of the other logic removed, this component was a bit of a beheamoth. Most of the ugliness stems from the three separate <code>useEffect</code> calls that were responsible for updating the progress bar. </p>
<p>The first function intended to carefully manage the state of the timers when the pause state changed or the song ended. This probably would have been cleaner if it were split up into multiple reducers managing the state of the progress bar and the pause/play button, but that's not the design I had at the time. Instead, the function would trigger when <code>isPaused</code> changed. Then, if the song were playing (<code>!isPaused</code>) and the timer was not already active, it would create a new interval timer that updated every 50 ms. If the song was paused and the timer was already active, it would stop the clock. It would do the same when the song ended (<code>elapsed &gt;= runtimeMS</code>).</p>
<p>Alongside this, the second function would reset the progress bar when a song had been skipped, and the third function would clear all timers when React dismounted the component. Adding to the overhead is the need for local state variables for tracking the id of the setInterval function, and for tracking whether the timer was active.</p>
<p>Yikes. I won't pretend this was good design. It's confusing, difficult to read, and very fragile for such an important component in a music player. There may have been ways to improve the design while retaining setInterval, but after coming across <code>useInterval</code>, I decided to rewrite it using the custom hook in order to simplify the component.</p>
<h2>Switching to useInterval</h2>
<p>First of all, I installed <a href="https://github.com/donavon/use-interval">an implementation of useInterval</a> with <code>npm i @use-it/interval</code>. Here's the new version:</p>
<div data-language="jsx"><pre><code><span>export</span> <span>const</span> <span>ProgressBar</span> <span>=</span> <span>(</span><span><span>{</span> elapsed<span>,</span> songs<span>,</span> runtime<span>,</span> isPaused<span>,</span> deviceID<span>,</span> room<span>,</span> dispatch <span>}</span></span><span>)</span> <span>=&gt;</span> <span>{</span>
  
  <span>const</span> <span>[</span>shouldIncrement<span>,</span> setShouldIncrement<span>]</span> <span>=</span> <span>useState</span><span>(</span><span>false</span><span>)</span><span>;</span>
  
  
  <span>useInterval</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>dispatch</span><span>(</span><span>{</span> type<span>:</span> <span>'increment-elapsed'</span><span>,</span> increment<span>:</span> <span>50</span> <span>}</span><span>)</span><span>;</span>
  <span>}</span><span>,</span> shouldIncrement <span>?</span> <span>50</span> <span>:</span> <span>null</span><span>)</span>

  
  <span>useEffect</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>setShouldIncrement</span><span>(</span><span>!</span>isPaused <span>&amp;&amp;</span> songs<span>.</span>length <span>&gt;</span> <span>0</span><span>)</span>
  <span>}</span><span>,</span> <span>[</span>isPaused<span>,</span> songs<span>]</span><span>)</span>

  
  <span>useEffect</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>if</span> <span>(</span>elapsed <span>&gt;=</span> runtime<span>)</span> <span>{</span> 
      <span>if</span> <span>(</span>songs<span>.</span>length <span>===</span> <span>0</span><span>)</span> <span>{</span> 
        <span>setShouldIncrement</span><span>(</span><span>false</span><span>)</span><span>;</span>
      <span>}</span>
      <span>dispatch</span><span>(</span><span>{</span> type<span>:</span> <span>'next-song'</span> <span>}</span><span>)</span><span>;</span>
    <span>}</span>
  <span>}</span><span>,</span> <span>[</span>elapsed<span>,</span> runtime<span>,</span> room<span>,</span> songs<span>,</span> dispatch<span>]</span><span>)</span>

  <span>{</span> <span>...</span> <span>}</span>

  <span>return</span> <span>(</span>
    <span><span><span>&lt;</span><span>SliderInput</span></span> <span>className</span><span><span>=</span><span>"</span>w-full pb-6 mb-1 md:mb-0<span>"</span></span> <span>min</span><span><span>=</span><span>{</span><span>0</span><span>}</span></span> <span>max</span><span><span>=</span><span>{</span>runtimeMS<span>}</span></span> <span>value</span><span><span>=</span><span>{</span>elapsed<span>}</span></span> <span>onChange</span><span><span>=</span><span>{</span>onChange<span>}</span></span><span>&gt;</span></span><span>
  );</span></code></pre></div>
<p>You should be able to see at a glance that this has a much cleaner design. Instead of the confusing and long first <code>useEffect</code> in the original design, most of that behavior is now handled by a conditional usage of <code>useInterval</code>. Again, I'll emphasize here the importance of the second parameter to <code>useInterval</code>: <code> shouldIncrement <span>?</span> <span>50</span> <span>:</span> <span>null</span></code>. This simple ternary sets the callback function to trigger every 50 ms if <code>shouldIncrement</code> is true. In that callback function, all we have to do is increment the state of the progress bar. This kind of conditional is a powerful and expressive change to the design of setInterval which makes this hook such a joy to use.</p>
<p>How do we know what <code>shouldIncrement</code> should be? that's what the other two <code>useEffect</code> calls are for. The first updates shouldIncrement if a song is playing and there is a song in queue. The second one simply turns off the interval when the song reaches the end.</p>
<p>This new design is simpler, easier to read, and less buggy since manually managing the timer has been abstracted away with <code>useInterval</code>. That means there is no need for additional state variables to hold the id of the timer and whether it is active in this new design.</p>
<p>Now, it's certainly not perfect, since it still relies on <code>useEffect</code> to update state when other state changes. That is usually not a best practice, but fixing that problem involved a better global state management design that I did not understand how to implement at the time I wrote this component. I'm also still a student of React, so forgive me for any other design errors.</p>
<p>Still, switching to <code>useInterval</code> resulted in a marked improvement, and if your React code requires carefully managing timers, I would recommend considering a switch to it.</p></div></div></div>]]>
            </description>
            <link>https://micahcantor.xyz/blog/practical-react-use-interval</link>
            <guid isPermaLink="false">hacker-news-small-sites-25499328</guid>
            <pubDate>Mon, 21 Dec 2020 20:43:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Work Remotely]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25499327">thread link</a>) | @bbu
<br/>
December 21, 2020 | https://bueti-online.ch/blog/remote-work/ | <a href="https://web.archive.org/web/*/https://bueti-online.ch/blog/remote-work/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><p>After a nice and calm summer the second wave caught up with us here in Switzerland and we are back to working from home full time.</p><p>When the federal government mandated that people work from home whenever possible, many companies were thrown into a situation they weren‚Äôt prepared to handle. Nevertheless, all over the world people proved how adaptable humans are. Given the circumstances, I think this big experiment was mostly a success.</p><p>Luckily, even before the Coronavirus Pandemic and prior to my <a href="https://www.granviaje.ch/">sabbatical</a>, I had experience with remote work as I worked with distributed teams and I managed a team of engineers in three different timezones.</p><p>I can‚Äôt stress enough that you cannot just transplant your office processes into the remote world and think things will work the same. They might for a while, but long-term your team will burn-out.</p><p>Working from home (or working with a distributed team) requires a different philosophy.</p><h2 id="accommodate-the-people-who-do-not-have-a-home-office">Accommodate the people who do not have a ‚Äúhome office‚Äù</h2><p>We need to acknowledge and keep in mind that not everybody has the environment at home to work full time.</p><p>For people in smaller apartments with families and kids, for example, it can be difficult to get something done. This is especially true when schools are closed. Give your employees the time to breathe they need, support them by providing the necessary equipment to work from home, and let them chose the hours that work best for them. If they are not able to put in 8 hours of work, that‚Äôs ok too. A lockdown is temporary. Family goes first. <a href="https://m.signalvnoise.com/the-company-isnt-a-family/">No, we are not family at work</a>.</p><h2 id="asynchronous-communication">Asynchronous Communication</h2><p>Working with a fully remote team provides some unique chances to improve on what most people don‚Äôt like about offices: Constant interruptions, noise, and long meetings</p><p><strong>If</strong> you have a dedicated home office, the quietness and calmness of working from home can be a godsend. However, we need to be mindful of the attention hogs like Slack and other real-time communication tools.
One of the most frequent complaints I hear is that people can‚Äôt focus on a task because of constant interruptions.</p><p>As a team lead, set the guidelines and embrace asynchronous communication.</p><p>It takes a while to get used to, but writing down a question properly often results in new insights and you might not even need somebody else‚Äôs input after formulating the question.</p><h2 id="keeping-the-spirit">Keeping the Spirit</h2><p>Many people say that ‚Äúcompany culture‚Äù gets lost when everybody is remote. That‚Äôs not true. If your culture gets lost when people cannot go to the office, there wasn‚Äôt much of a culture to begin with. What is true, however, is that your company‚Äôs culture might change.</p><p>When everybody is in their own home it‚Äôs harder to keep a personal connection. Schedule some additional time in your rituals at the beginning so people can just chat. We also have a ‚Äúvirtual water fountain‚Äù channel where people can share non-work related stuff and hang out at coffee breaks.
We also have an ongoing ‚Äúopen window‚Äù-meet where people can hang out during work to see each other. This is completely optional and not everybody likes to do that. But I like to have a place that I can join when I take a coffee break or before ending the day just to hang out.
I am not a big fan of forcing the team to have a good time together. Listen to them and ask them what they would like to do. Maybe your team would like a little hackathon afternoon or a game night or just having a drink while chatting in the open window?</p><h2 id="reduce-interruptions">Reduce Interruptions</h2><p>If you are using Slack as a primary means of communication, agree on when it‚Äôs ok to <code>@</code> mention someone. For example, in my team we have the following three categories of questions:</p><ol><li>Non-urgent: Are prefixed with a ‚ùì</li><li>Questions that need answers in a few minutes have a üö® prefix</li><li>For truly important questions, we tag the ‚Äúon-duty‚Äù engineer in your question</li></ol><p>Since we are operating the platform behind <a href="https://www.ricardo.ch/">Ricardo</a> interruptions can happen anytime. To reduce the impact on the team, we have a weekly rotation of an ‚ÄúSRE on Duty‚Äù. The SoD is responsible to answer questions from the developers, on-call engineers, or is the first to jump into incidents. They also tackle any unplanned work that needs to be taken care of.</p><p>This setup allows the rest of the team to disable most notifications and work uninterrupted.</p><h2 id="personal-well-being">Personal Well-Being</h2><p>Everybody is different and has different needs. Following are a few recommendations that have worked for me in the past and might be helpful for others. In the end, you have to figure out what works and what is important for your well-being.</p><ul><li>Don‚Äôt forget to treat yourself. Go for a walk over lunch, eat fruits, do something to relax. Not going to the office also means you will miss out on all the walking you usually do to get to the office and inside the office.</li><li>Make your home office comfortable and ergonomic. Get an adjustable desk and chair. Invest in a good 4k screen (e.g. HP Z27 or Dell U2720Q), a good keyboard and a mouse (e.g. Logitech MX Master 3).</li><li>There are no hero awards for working overtime. Of course, sometimes there is the need for a short sprint, but we are in it for the long haul.</li><li>Track your time for yourself. You‚Äôll be surprised how much you work.</li><li>If you have trouble winding down at the end of the day, one thing that can help is to ask yourself ‚ÄúHave I done a good day‚Äôs work?‚Äù Answering that question is liberating. Often, if the answer is an easy ‚Äúyes‚Äù, you can stop working feeling satisfied that something important got accomplished. Should the answer be ‚Äúno‚Äù, you can treat it as an off-day and explore the <a href="https://en.wikipedia.org/wiki/Five_whys">Five Whys</a>.</li><li>Creating a routine can help to get into a working mood and out of working wood. Eg. walk around the block before and after work.</li><li>It‚Äôs recommended that you have separate devices for work and pleasure. For example, if you want to watch something in the evening on Netflix, it is very tempting to ‚Äújust check an email‚Äù and get sucked back into work.</li></ul><h2 id="resources">Resources</h2><p>The following blog posts and books inspired the content of this blog post:</p><ul><li><a href="https://www.hanselman.com/blog/LoveInATimeOfCoronaVirusTipsTricksAndBestPracticesForWorkingRemotely.aspx">Love in a time of Corona Virus - Tips, Tricks and Best Practices for Working Remotely</a></li><li><a href="https://about.gitlab.com/company/culture/all-remote/guide/">GitLab‚Äôs Guide to All-Remote</a></li><li>Remote: Office Not Required <a href="https://www.amazon.de/gp/product/B00CZ7OC46/ref=ppx_yo_dt_b_d_asin_title_o00?ie=UTF8&amp;psc=1">[Amazon]</a></li><li>Rework: It doesn‚Äôt have to be crazy at work <a href="https://www.amazon.com/Doesnt-Have-Be-Crazy-Work/dp/0062874780">[Amazon]</a></li><li><a href="https://dev.to/nebojsac/slack-keeps-interrupting-you-but-you-can-stop-it-883">Slack keeps interrupting you, but you can stop it</a></li></ul></section></div>]]>
            </description>
            <link>https://bueti-online.ch/blog/remote-work/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25499327</guid>
            <pubDate>Mon, 21 Dec 2020 20:43:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[No, soy is not bad for the environment]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25499257">thread link</a>) | @shafyy
<br/>
December 21, 2020 | https://blog.yeticheese.com/no-soy-is-not-bad-for-the-environment/ | <a href="https://web.archive.org/web/*/https://blog.yeticheese.com/no-soy-is-not-bad-for-the-environment/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
				<p>Soy is the main ingredient in our cheese. Surprisingly often, we get asked some version of this question: "Isn't soy bad for the environment?"</p><p>The short answer is: No, quite the contrary.</p><p>The rest of this post is devoted to the long answer.</p><p>Since we started working on <a href="https://yeticheese.com/">Yeti Cheese</a>, we realized that there's a lot of misinformation around soybean. Over and over, we read and hear stuff about soy that is just plain wrong from people that otherwise seem smart. I wonder who might be behind this? <em>*cough* meat and dairy lobbies *cough*</em></p><p>A lot of this misinformation is around environmental concerns. This belief originates from the fact that soy is a major driver of deforestation, especially in the Amazon and neighboring regions in South America. Which is true. But that's not the end of the story. What is often left out is that the vast majority of soy is grown to be used as animal feed. There are different estimates to what this number exactly is, but most are upwards of 90%.</p><figure><img src="https://blog.yeticheese.com/content/images/2020/12/EoDe4BMWMAAMl_c.jpg" alt="" width="993" height="1121" srcset="https://blog.yeticheese.com/content/images/size/w600/2020/12/EoDe4BMWMAAMl_c.jpg 600w, https://blog.yeticheese.com/content/images/2020/12/EoDe4BMWMAAMl_c.jpg 993w" sizes="(min-width: 720px) 720px"><figcaption>Break-down of soybean usage based on USDA data.</figcaption></figure><p>As the above diagram shows, the USDA reports that only 6% of soy are used as food for humans (e.g. as tofu or Yeti Cheese üòù). The rest is used either directly as animal feed, or processed to soy cake (also called soy meal) and then given to cows, pigs and chickens.</p><h3 id="but-what-about-soy-oil">But what about soy oil?</h3><p>The astute reader will now raise a remark about soy oil. After all, 19% of the processed soybean is made into oil which is consumed mostly by humans. Soy oil is one of the most used oils globally, but only because it is cheaply available as a by-product of soy cake production. Soy cake has great nutritional values and almost no fat (which has been separated into the soy oil) and is therefore sought after as livestock feed. Hence, soy cake is the main driver of soy demand, and not soy oil. There's nothing unique about soy oil, and it can easily be substituted with other plant-based oils.</p><figure><img src="https://blog.yeticheese.com/content/images/2020/12/soy-meal-vs-soy-oil.jpg" alt="" width="853" height="636" srcset="https://blog.yeticheese.com/content/images/size/w600/2020/12/soy-meal-vs-soy-oil.jpg 600w, https://blog.yeticheese.com/content/images/2020/12/soy-meal-vs-soy-oil.jpg 853w" sizes="(min-width: 720px) 720px"><figcaption>Soy oil vs soy meal. Pretty clear why soy oil is separated from soy before feeding it to animals. Source: <a href="https://www.nutritionvalue.org/">nutritionalvalue.org</a></figcaption></figure><h3 id="soy-is-one-of-the-best-food-sources">Soy is one of the best food sources</h3><p>In summary, people think that soy is bad for the environment because it is grown in insane quantities for the livestock agriculture industry. It's clear that shifting the population to a plant-based diet will reduce the demand for soy dramatically. This shift will also make free a lot of land where wild vegetation and biodiversity can be restored, capturing loads of carbon in the process.</p><p>So no, soy is not bad for the environment. Quite the contrary: It's one of the best food sources we have available on this little blue planet of ours.</p><h3 id="further-reading">Further reading</h3><p><a href="https://www.fertstert.org/article/S0015-0282(09)00966-2/fulltext">Clinical studies show no effects of soy protein or isoflavones on reproductive hormones in men: results of a meta-analysis</a></p><p><a href="https://globalforestatlas.yale.edu/amazon/land-use/soy">Soy Agriculture in the Amazon Basin</a></p>
			</section></div>]]>
            </description>
            <link>https://blog.yeticheese.com/no-soy-is-not-bad-for-the-environment/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25499257</guid>
            <pubDate>Mon, 21 Dec 2020 20:35:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Sacklers‚Äô group chat of pain]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25499198">thread link</a>) | @benrapscallion
<br/>
December 21, 2020 | https://the.ink/p/sacklers | <a href="https://web.archive.org/web/*/https://the.ink/p/sacklers">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><em>Welcome to The.Ink, my newsletter about money and power, politics and culture. If you‚Äôre joining us for the first time, hello! Click the orange button below to get this in your inbox, free. Please consider becoming a paid subscriber to support this work.</em></p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F33eaf6dc-2dbc-400c-919c-d497823cef13_2346x728.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F33eaf6dc-2dbc-400c-919c-d497823cef13_2346x728.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/33eaf6dc-2dbc-400c-919c-d497823cef13_2346x728.png&quot;,&quot;height&quot;:452,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:122105,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><p>For years, as an opioid crisis ravaged America, the Sackler family, which founded Purdue Pharma, the company that made OxyContin, remained largely out of the public eye, free <a href="https://www.forbes.com/sites/angelauyeung/2020/12/17/despite-years-of-litigation-the-sackler-family-behind-oxycontin-is-still-worth-billions/?sh=26a512645047">to accumulate billions of dollars of wealth in tranquility</a>. But in recent years, the walls began to close in, as the press and regulators and lawyers and state attorneys general began to investigate Purdue‚Äôs role in the epidemic. And as pressure rose, to whom did the Sacklers turn to vouch for them?</p><p>The museums that had taken their philanthropy.</p><p>The Ink has seen a tranche of the Sacklers‚Äô WhatsApp group chats as members of the family sought to cope with and strategize about their fall from grace and growing legal risk. They were quietly released as part of an ongoing bankruptcy proceeding, thanks to <a href="https://restructuring.primeclerk.com/purduepharma/Home-DownloadPDF?id1=MTEzMTYxMQ==&amp;id2=0">demands by multiple news organizations</a>. A source provided them to The Ink, which is the first publication to report on them. (To assist better-resourced follow-up reporting, The Ink will now offer to collaborate with larger news organizations.)</p><p>The messages show how, in the plutocratic echelons, it is assumed that philanthropic gifts made in sunny times can buy you public support from prestigious institutions on a rainy day. They show how a family that could no longer deny the scale of pain and death in the country tended to view the problem primarily through the prism of public relations, their anger concentrated on the difficulty of crafting statements, not curbing the hurt. And the messages show how a profound sense of victimhood descended on some members of the family, perhaps blinding them to the need to address the problem in the way one relative suggested: at a cost to their bottom line.</p><p>‚ÄúWe are the most vulnerable of the opponents (as we are a private family owned business) and in their view the easiest prey to get lots of money from!,‚Äù <a href="https://www.theguardian.com/us-news/2018/feb/13/meet-the-sacklers-the-family-feuding-over-blame-for-the-opioid-crisis">Mortimer Sackler</a>, son of a deceased family patriarch by the same name, texted the group in 2018, fretting about legal cases.</p><p>Two years later, the walls have closed in further. The Sacklers and Purdue are enmeshed in <a href="https://www.washingtonpost.com/national-security/2020/10/21/purdue-pharma-charges/">complex settlement negotiations</a> in cases from across the country, although they continue, <a href="https://www.nytimes.com/2020/12/17/health/opoids-sacklers-purdue-testimony.html">as The New York Times reported this week</a>, to refuse ‚Äúto be held personally or criminally responsible and to turn over substantial portions of their fortune.‚Äù On Thursday, they faced scathing criticism from lawmakers on Capitol Hill.</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F2935287f-fbc5-4388-b927-518adea55695_600x600.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F2935287f-fbc5-4388-b927-518adea55695_600x600.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/2935287f-fbc5-4388-b927-518adea55695_600x600.jpeg&quot;,&quot;height&quot;:600,&quot;width&quot;:600,&quot;resizeWidth&quot;:48,&quot;bytes&quot;:71098,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><p>In one way, the WhatsApps revealed the Sackler family to be like you and me. They had the usual group-chat issues. When <a href="https://www.theguardian.com/us-news/2018/feb/13/meet-the-sacklers-the-family-feuding-over-blame-for-the-opioid-crisis">Mortimer</a> apparently wanted relatives to keep their discussions ‚Äúoff email‚Äù and on WhatsApp, it was tricky to get everyone on board.</p><p>‚ÄúI can‚Äôt, because Marissa is the admin of the group,‚Äù <a href="https://www.theguardian.com/us-news/2018/feb/13/meet-the-sacklers-the-family-feuding-over-blame-for-the-opioid-crisis">Michael Sackler</a>, a film producer and founder of Rooks Nest Ventures, texted. (The messages at times only list senders‚Äô first names, so The Ink has tried to match messages to names of family members.)</p><p>Someone else complained that their mother didn‚Äôt have WhatsApp. Marissa Sackler replied, ‚ÄúIf she can Instagram I‚Äôm pretty sure she can master what‚Äôs app.‚Äù <a href="https://www.crunchbase.com/person/marissa-sackler">Marissa is described on Crunchbase</a> as ‚Äúcontinuing the family tradition of philanthropy,‚Äù having started an incubator that assists ‚Äúemerging nonprofits.‚Äù</p><p>At times, their family struggles were mundane and logistical: ‚ÄúHi I would love to make a dinner happen Saturday. Want to do a casual dinner with my kiddos? Or were you thinking fancy adult thing?‚Äù wrote Jeffrey Lefcourt, a <a href="https://www.nytimes.com/2006/08/06/fashion/weddings/06hitchcock.html">family member</a> and <a href="https://ctrnyc.com/about/">proprietor</a> of the popular New York City restaurant brand The Smith.</p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F2935287f-fbc5-4388-b927-518adea55695_600x600.jpeg"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F2935287f-fbc5-4388-b927-518adea55695_600x600.jpeg" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/2935287f-fbc5-4388-b927-518adea55695_600x600.jpeg&quot;,&quot;height&quot;:600,&quot;width&quot;:600,&quot;resizeWidth&quot;:48,&quot;bytes&quot;:71098,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><p>But as pressure against the Sacklers ratcheted up, the texts turned serious. And the reflex for managing it came naturally: let‚Äôs hit up those to whom we‚Äôve given back.</p><p>For example, in November 2016, the Dia Art Foundation in New York had announced, according to <a href="https://www.artnews.com/art-news/news/dia-art-foundation-creates-sackler-institute-focused-on-programming-research-and-education-with-generous-gift-7226/">a report in ARTnews</a>, that ‚Äúfollowing a gift from the Dr. Mortimer and Theresa Sackler Foundation, it has created the Sackler Institute, which a release describes as ‚Äòa center without walls.‚Äô‚Äù In years past, the Sacklers had given similar gifts to the <a href="https://www.theguardian.com/artanddesign/2019/mar/21/tate-art-galleries-will-no-longer-accept-donations-from-the-sackler-family">Tate</a> group of British galleries, the <a href="https://www.theguardian.com/artanddesign/2019/jul/10/v-and-a-boss-tristram-hunt-sacklers-family-funding">Victoria and Albert Museum</a> in London, and <a href="https://www.newyorker.com/news/our-columnists/nan-goldin-leads-a-protest-at-the-guggenheim-against-the-sackler-family">the Guggenheim</a> and <a href="http://www.sackler.org/sackler-wing-the-metropolitan-museum-of-art-new-york-ny/">the Metropolitan Museum of Art</a> and <a href="https://www.amnh.org/exhibitions/permanent/human-origins/sackler-educational-laboratory">the American Museum of Natural History</a> in New York.</p><p>Well, to quote the title of <a href="https://www.versobooks.com/books/2344-no-such-thing-as-a-free-gift">a book by Linsey McGoey</a>, there is ‚Äúno such thing as a free gift.‚Äù</p><p>In late October 2017, Marissa Sackler texted the family: ‚ÄúI just spoke to head of communications at dia. They and many other art institutions plus bio medical schools have been reached out to by the New York Times. / Dia shares pr representation with the tate and a number of other art institutes who‚Äôve been contacted. They are all planning to give short positive statements about us being supporters of theirs. / They expect the article to come out in the next week.‚Äù</p><p>She was wrong only about timing. On December 1, 2017, <a href="https://www.nytimes.com/2017/12/01/arts/design/sackler-museum-donations-oxycontin-purdue-pharma.html">a report in The New York Times</a> showed how there is no silencer as effective as money. ‚ÄúThe New York Times surveyed 21 cultural organizations listed on tax forms as having received significant sums from foundations run by two Sackler brothers who led Purdue,‚Äù <a href="https://twitter.com/ColinRMoynihan">Colin Moynihan</a> wrote, adding: ‚ÄúNone indicated that they would return donations or refuse them in the future.‚Äù</p><p>Another message ‚Äî sent to the group chat by <a href="https://www.tatler.com/article/sackler-scandal">Samantha Sackler Hunt</a> ‚Äî suggested that emails sent by reporters to cultural institutions, asking about Sackler gifts, were being relayed back to the family, apparently via the public-relations firm Edelman:</p><blockquote><p>From Edelman</p><p>Hi all</p><p>I just wanted to keep you in the loop that a reporter from The Times (London) has also been emailing various cultural institutions that have benefitted from Sackler Family philanthropy. It seems as though she is doing a very similar exercise to the reporter from the New York Times that you have already been made aware of. Below is the request that got sent through to the V&amp;A. She appears to be sending versions of this to a number of others. From what I‚Äôve seen so far most are responding with the same types of generic statements they gave the New York Times and all appear supportive. Georgie Keate, the reporter in question, is a general home news reporter and joined The Times in 2014 as a graduate trainee so is still relatively junior. This could indicate that it may not be a large story for them or she may be doing the spade work for someone else. We will make Josie aware.</p><p>[The reporter <a href="https://twitter.com/georgiekeate">Georgie Keate</a>‚Äôs email supposedly begins here]</p><blockquote><p><em>I am doing a story on the Sackler family and their family fortune - which derives from the extremely controversial drug Oxycontin which their company Purdue Pharma is accused of marketing falsely by claiming it was safe and non-addictive. They have faced thousands of lawsuits and paid out tens of millions over the last decade over their aggressive marketing campaigns and refusal to take responsibility for the fact the drug is dangerous. Having been held to account in America, the family continue to push it in developing countries.</em></p><p><em>Obviously, the family has donated to scores of theatres, museums and colleges across the UK while keeping their connection to Purdue and Oxycontin completely secret.</em></p><p><em>Many people who are becoming aware of this are astonished and question whether the art world should be so heavily funded by a family who have been involved in such serious wrongdoing. Some have compared it to the 100s of notables who petitioned to have BP removed from the Tate. The V&amp;A is obviously one of these beneficiaries - would you be able to comment for an article?</em></p></blockquote></blockquote><p>Some months later, in March 2018, the family could continue to feel that museums were on their team. Mortimer WhatsApped the family: ‚ÄúJackie spoke with the Met this morning and they are going to stand by us.‚Äù</p><p>Referring to the protests led by the artist Nan Goldin that were moving public opinion against the Sacklers, Mortimer wrote: ‚ÄúBetter that the company use her protests as an opportunity to speak to the industry leading work they have been doing to combat prescription drug abuse. What we SHOULD do is make sure that the Guggenheim, AMNH, DIA, etc are not going to say something unhelpful. We should compile a list of organizations and decide who should speak with which.‚Äù</p><p><a href="https://www.theguardian.com/us-news/2018/feb/13/meet-the-sacklers-the-family-feuding-over-blame-for-the-opioid-crisis">Marissa Sackler</a> volunteered: ‚ÄúI speak regularly with dia on all of this and they fully support us and think Nan Goldin is crazy.‚Äù</p><p><a href="https://www.theguardian.com/us-news/2018/feb/13/meet-the-sacklers-the-family-feuding-over-blame-for-the-opioid-crisis">Ilene Sackler Lefcourt</a> chimed in: ‚ÄúI am reaching out to the AMNH through the chairman of the board‚Äôs best friend.‚Äù</p><p>Nevertheless, the following year, a growing number of institutions began to <a href="https://www.nytimes.com/2019/05/15/arts/design/met-museum-sackler-opioids.html">change their minds</a>, declaring that they would no longer take Sackler money and, in some cases, removing the Sackler name from their facilities. The institutions included the Met, the Guggenheim, the Tate Modern, the American Museum of Natural History, New York University, and Tufts.</p><p>When one of the announcements came, the first words about it in the group chat, from <a href="https://www.theguardian.com/us-news/2018/feb/13/meet-the-sacklers-the-family-feuding-over-blame-for-the-opioid-crisis">Sophie Sackler</a>, were: ‚ÄúDid anyone know this was happening?‚Äù</p><p>And alarm grew as even that most mercenary of sectors ‚Äî banking ‚Äî seemed to turn its back on Purdue. ‚ÄúDoes anyone know why <a href="https://www.reuters.com/article/us-purdue-pharma-jp-morgan-exclusive/exclusive-jpmorgan-cuts-ties-with-oxycontin-maker-purdue-pharma-sources-idUSKCN1ST2EA">JPM is not doing Purdue banking</a>?‚Äù Jeffrey Lefcourt texted the family on May 24, 2019, just days after <a href="https://www.nytimes.com/2019/05/15/arts/design/met-museum-sackler-opioids.html">a wave of museum disavowals</a>, apparently referring to the banking giant J.P. Morgan Chase. ‚ÄúWhat‚Äôs their reason? Any concern they will stop doing banking for family? Have any of you spoken to them?‚Äù</p><p>Mortimer responded: ‚ÄúThey told Purdue it was for ‚Äòreputation‚Äô reasons but that they were (so far) limiting it only to Purdue and not to the family.‚Äù</p><p>The timing suggests, though hardly proves, that the museums‚Äô abrupt reversal on support for the family coincided with problems closer to the core of their business operations. Which raises the question of whether the arts institutions‚Äô years of silence helped a machinery of death ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://the.ink/p/sacklers">https://the.ink/p/sacklers</a></em></p>]]>
            </description>
            <link>https://the.ink/p/sacklers</link>
            <guid isPermaLink="false">hacker-news-small-sites-25499198</guid>
            <pubDate>Mon, 21 Dec 2020 20:30:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Zero-Downtime ECS Cluster Upgrades]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25499038">thread link</a>) | @christinebeta
<br/>
December 21, 2020 | https://eatcodeplay.com/zero-downtime-ecs-cluster-upgrades-da70f3a8a3fd | <a href="https://web.archive.org/web/*/https://eatcodeplay.com/zero-downtime-ecs-cluster-upgrades-da70f3a8a3fd">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><div><div><p id="fd6c">As part of the DataOps team at RealScout, I recently worked on a project to tackle infrastructure issues that plagued us for some time. We struggled with ongoing maintenance in keeping our Amazon ECS clusters up to date on the latest AMIs. Our instances, in particular, use the ECS-optimized AMIs. These AMIs include ECS container agents that are responsible for keeping instances registered and managing tasks within the cluster.</p><p id="3ab4">New AMIs are regularly released and include updated ECS container agents along with any other OS or security updates. However, the steps to upgrade instances to the latest AMI while avoiding disruptions to running tasks were extremely manual and tedious. The lack of automation hindered timely AMI updates to our EC2 instances. We observed that the more out of date agents became, the more likely they were to get disconnected. Instances would enter a zombie-like state, no longer picking up tasks.</p><p id="efc0">This resulted in major disruptions to our infrastructure that impacted our entire data ingestion pipeline. This article describes our solution to automate the AMI upgrades to our cluster without any downtime. Challenges that we encountered along the way are also addressed here.</p><p id="4416"><strong>Our Infrastructure</strong></p><p id="345f">At a high-level, our infrastructure consists of EC2 instances in an ECS cluster. The EC2 instances are part of an Auto Scaling group to maintain our required capacity. We use CloudFormation to manage and provision our AWS resources consistently across our stacks.</p><p id="8d05"><strong>Our Old Process</strong></p><p id="2672">Our old process involved a series of steps performed within the AWS console. We first created a CloudFormation change set with the new AMI and executed it. This would update the template for our stack.</p><p id="c32a">Before applying the new AMI updates to the instances themselves, we needed to ensure running tasks did not get disrupted. To do so, each ECS instance is set to a state of ‚ÄúDRAINING.‚Äù This prevents the instance from picking up new tasks while allowing running tasks to complete. Once the instances are completely drained, we terminate the instances. We then let the Auto Scaling Group bring up new, updated instances with the latest AMI version defined in the CloudFormation template.</p><p id="3587"><strong>Our Goal</strong></p><p id="107a">We wanted to automate, as much as possible, the task of upgrading the AMI on our cluster instances with no downtime. The system needed to replicate our manual steps to terminate and bring up new instances. All running tasks should run to completion without interruption.</p><p id="47a9">We also wanted to incorporate metrics and monitoring of the ECS cluster. We know that the latest AMI versions would also include the latest agent as well. In the past, we occasionally encountered agents getting disconnected and remaining disconnected, preventing task placements on instances. We wanted peace of mind that should this scenario creep up, it would be resolved in a timely manner.</p><p id="2b37"><strong>Our Implementation</strong></p><p id="4821">We wrote a Lambda, using the boto3 SDK with the appropriate APIs for each AWS resource. Aside from the Lambda, several other AWS resources were used:</p><ul><li id="5997">SNS ‚Äî the Lambda subscribes to two SNS topics: one is an AWS defined topic where AMI updates are published. The other is an SNS topic we set up to publish our own series of events.</li><li id="abfe">CloudFormation ‚Äî used to define all resources within our stack. It also defines IAM roles and permissions for each resource.</li><li id="a688">CloudWatch Event ‚Äî essentially, a scheduler used to trigger our Lambda every 15 minutes, where we then perform some basic health monitoring. This includes checking whether an instance is running the latest AMI and initiates a termination if not.</li><li id="1bb7">CloudWatch Alarm ‚Äî we set up an alarm to monitor CPU usage across our instances. It publishes to our SNS topic anytime CPU usage drops below 10%. We use this to determine when our instance is idle and therefore, no longer running any tasks.</li><li id="fe86">Auto Scaling Group ‚Äî our EC2 instances are part of an auto scaling group. The auto scaling group is responsible for maintaining our required capacity. It automatically provisions new instances as needed to meet capacity.</li><li id="0448">LifeCycle Hooks ‚Äî as its name implies, these allow us to hook into the lifecycle of an EC2 instance. It lets us pause a termination event and run some custom actions before resume termination.</li></ul><p id="fbef">High-level descriptions along with some code snippets are provided below to describe the three main functions of the Lambda.</p><p id="d81f">1) When a new AMI is available, we update our CloudFormation template to include the new version. We subscribe to the <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ECS-AMI-SubscribeTopic.html" rel="noopener">Amazon ECS-optimized AMI</a> topic to receive update notifications. Once our Lambda receives an event that a new AMI is published, it creates and executes a change set for our CloudFormation template. We notify our team of the new AMI and when the change set gets executed via DataDog and Slack integrations. At this point, the only actual change is only to our CloudFormation template. We do not apply the change to the instances yet.</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/3108/1*F0wPMc_1Ijtb5FMU05A0bw.png" width="1554" height="422" srcset="https://miro.medium.com/max/552/1*F0wPMc_1Ijtb5FMU05A0bw.png 276w, https://miro.medium.com/max/1104/1*F0wPMc_1Ijtb5FMU05A0bw.png 552w, https://miro.medium.com/max/1280/1*F0wPMc_1Ijtb5FMU05A0bw.png 640w, https://miro.medium.com/max/1400/1*F0wPMc_1Ijtb5FMU05A0bw.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*F0wPMc_1Ijtb5FMU05A0bw.png?q=20"></p></div></div></div><figcaption>Updating CloudFormation template with new AMI</figcaption></figure><p id="1b15">2) Our next step performs a couple of health checks. We configure a CloudWatch event that runs every 15 minutes to check for any EC2 instances with disconnected agents. Since it is possible for agents to periodically get disconnected for various reasons and reconnect on their own, we implemented a check to detect agents disconnected for longer than 30 minutes. Instances disconnected for longer than our grace period are terminated. The auto scaling group then brings up a new, healthy instance. This does rely on some higher-level architecture to reschedule any ECS tasks that are killed as a result of this, so consider that for your own setup.</p><p id="ccfd">The second health check verifies if all instances are running on the latest AMI as specified in our CloudFormation template. Since we immediately update our template when a new AMI is published, our scheduled health check detects any instances not on the AMI within a 15 minute interval at most. To kick off this chain of events, we simply terminate the out-of-date instances, and again, rely on the auto scaling group to bring up new instances containing the latest AMI.</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/1682/1*VbksgDN871WDKXTWIAl0_g.png" width="841" height="240" srcset="https://miro.medium.com/max/552/1*VbksgDN871WDKXTWIAl0_g.png 276w, https://miro.medium.com/max/1104/1*VbksgDN871WDKXTWIAl0_g.png 552w, https://miro.medium.com/max/1280/1*VbksgDN871WDKXTWIAl0_g.png 640w, https://miro.medium.com/max/1400/1*VbksgDN871WDKXTWIAl0_g.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*VbksgDN871WDKXTWIAl0_g.png?q=20"></p></div></div></div><figcaption>Check for outdated instance AMIs and agent health</figcaption></figure><p id="3088">3) The final step is where the bulk of the work is in our Lambda. The importance here, however, is that we ensure instances are gracefully terminated. A lifecycle hook plays a major part in doing so. We set up a life cycle hook that subscribes to an SNS event when an instance is terminating. The hook allows us to pause the termination and perform a series of actions before completing the instance terminations.</p><p id="31bb">Once a termination is detected, we set the status of each instance to DRAINING. We then re-publish an event to request termination again for the instance. This new termination request event will trigger our Lambda again. This time, we check for any running tasks on instances marked as DRAINING.</p><p id="3220">For any instances that are still draining, we set a CloudWatch alarm to check when the instance becomes idle, indicating it is no longer running any tasks. This is slightly different than similar implementations where an event is re-published (i.e, continues to loop) to check for running tasks. This introduces an additional AWS resource to the layer. Since we occasionally have some very long running tasks (e.g, 12 hours), we decided to go with using an alarm to detect CPU usage to determine when the instance was likely drained. If the CPU usage on an instance drops to less than 10%, the CloudWatch alarm triggers an event, where we then check again if all tasks are complete. This approach cut out wasteful, continuous looping for very long running tasks.</p><pre><span id="869f">cloudwatch.put_metric_alarm(<br> AlarmName=f"Check_Idle_{instance['ec2InstanceId']}",<br> AlarmDescription='Instance pending termination appears idle (&lt;= 10%)',<br> AlarmActions=[topic_arn],<br> MetricName='CPUUtilization',<br> Namespace='AWS/EC2',<br> Statistic='Average',<br> Dimensions=[{'Name': 'InstanceId', 'Value': instance['ec2InstanceId']}],<br> Period=60, # seconds<br> EvaluationPeriods=1,<br> Threshold=10,<br> ComparisonOperator='LessThanOrEqualToThreshold',<br> TreatMissingData='breaching'<br>)</span></pre><p id="0bfe">Once instances no longer have running tasks, we allow the termination to complete:</p><pre><span id="ba48">asg.complete_lifecycle_action(<br> LifecycleHookName=msg['LifecycleHookName'],<br> AutoScalingGroupName=msg['AutoScalingGroupName'],<br> LifecycleActionResult='CONTINUE',<br> InstanceId=instance['ec2InstanceId'])</span></pre><p id="dc64">Our implementation was influenced by AWS‚Äôs <a href="https://aws.amazon.com/blogs/compute/automatically-update-instances-in-an-amazon-ecs-cluster-using-the-ami-id-parameter" rel="noopener">example</a> implementation. The main tweak we made was using CloudWatch alarms to notify when an instance has completed all running tasks.</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/3680/1*aLUt_mnySqq087XIXLipLg.png" width="1840" height="762" srcset="https://miro.medium.com/max/552/1*aLUt_mnySqq087XIXLipLg.png 276w, https://miro.medium.com/max/1104/1*aLUt_mnySqq087XIXLipLg.png 552w, https://miro.medium.com/max/1280/1*aLUt_mnySqq087XIXLipLg.png 640w, https://miro.medium.com/max/1400/1*aLUt_mnySqq087XIXLipLg.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*aLUt_mnySqq087XIXLipLg.png?q=20"></p></div></div></div><figcaption>Using a lifecycle hook to gracefully terminate instances</figcaption></figure><p id="08aa"><strong>Challenges along the way</strong></p><p id="8a4e">One of the biggest challenges was the various AWS resources needed (on top of our existing AWS resources) to fully automate the instance upgrades. The complexity of configuring each component in the CloudFormation templates, along with proper IAM roles and permissions was a big task. Wading through the AWS documentation and understanding how to hook up the APIs to communicate with each resource was also a big undertaking. Through a bit of trial and error, we were able to get all pieces working together.</p><p id="4686"><strong>Results</strong></p><p id="b9ef">Since our implementation, we have observed that new Optimized ECS AMIs are generally released about two or three times a month. For us, it is a great feeling each time to see a Slack notification alerting our team of a new AMI quickly followed by a notification of the AMI update to our CloudFormation template. The template update itself occurs within 2 minutes of a newly published AMI. And from there, the rolling upgrade gets initiated in less than 15 minutes, making us very happy campers! On top of that, the additional scheduled monitoring gives us confidence that our container agents are healthy and connected as expected. Needless to say, our efforts were rewarded with a much more resilient system and time saved cumulatively each month!</p></div></div></section></div>]]>
            </description>
            <link>https://eatcodeplay.com/zero-downtime-ecs-cluster-upgrades-da70f3a8a3fd</link>
            <guid isPermaLink="false">hacker-news-small-sites-25499038</guid>
            <pubDate>Mon, 21 Dec 2020 20:15:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Be a 10x Developer]]>
            </title>
            <description>
<![CDATA[
Score 42 | Comments 41 (<a href="https://news.ycombinator.com/item?id=25498696">thread link</a>) | @mooreds
<br/>
December 21, 2020 | https://chelseatroy.com/2020/12/18/how-to-be-a-10x-developer/ | <a href="https://web.archive.org/web/*/https://chelseatroy.com/2020/12/18/how-to-be-a-10x-developer/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p><span><span>Reading Time: </span> <span>13</span> <span>minutes</span></span></p><p>It‚Äôs not a clickbait title, but I understand why it looks that way.</p>



<p>I‚Äôve made my thoughts about the 10x developer trope <a href="https://chelseatroy.com/2019/12/06/listening-7-deliberate-appreciation/">extremely clear</a>. I think that someone who produces 10x as much code as someone else has left a wake of destruction that will slow down other developers. I don‚Äôt think 10x counts if you achieve it by slowing down everyone else. I think 10x has to take into account how you impact other people.</p>



<p>And <em>that,</em> paradoxically, suggests a path for how to become a 10x developer: empower and enable other people such that nine additional developers‚Äô worth of work gets done. You can do that by making nine other developers‚Äô workflows 2x smoother. You can also do that by making 18 other developers‚Äô workflows 50% smoother, or 90 other developers‚Äô workflows 10% smoother.</p>



<div><figure><a href="https://i0.wp.com/chelseatroy.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-18-at-12.53.49-AM.png?ssl=1"><img data-attachment-id="8295" data-permalink="https://chelseatroy.com/2020/12/18/how-to-be-a-10x-developer/screen-shot-2020-12-18-at-12-53-49-am/" data-orig-file="https://i0.wp.com/chelseatroy.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-18-at-12.53.49-AM.png?fit=1200%2C1202&amp;ssl=1" data-orig-size="1200,1202" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Screen Shot 2020-12-18 at 12.53.49 AM" data-image-description="" data-medium-file="https://i0.wp.com/chelseatroy.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-18-at-12.53.49-AM.png?fit=300%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/chelseatroy.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-18-at-12.53.49-AM.png?fit=723%2C724&amp;ssl=1" loading="lazy" src="https://i0.wp.com/chelseatroy.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-18-at-12.53.49-AM.png?resize=310%2C310&amp;ssl=1" alt="owl holding a red leaf in its beak" width="310" height="310" srcset="https://i0.wp.com/chelseatroy.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-18-at-12.53.49-AM.png?w=1200&amp;ssl=1 1200w, https://i0.wp.com/chelseatroy.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-18-at-12.53.49-AM.png?resize=300%2C300&amp;ssl=1 300w, https://i0.wp.com/chelseatroy.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-18-at-12.53.49-AM.png?resize=1022%2C1024&amp;ssl=1 1022w, https://i0.wp.com/chelseatroy.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-18-at-12.53.49-AM.png?resize=150%2C150&amp;ssl=1 150w, https://i0.wp.com/chelseatroy.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-18-at-12.53.49-AM.png?resize=768%2C769&amp;ssl=1 768w, https://i0.wp.com/chelseatroy.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-18-at-12.53.49-AM.png?resize=450%2C450&amp;ssl=1 450w, https://i0.wp.com/chelseatroy.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-18-at-12.53.49-AM.png?resize=60%2C60&amp;ssl=1 60w, https://i0.wp.com/chelseatroy.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-18-at-12.53.49-AM.png?resize=550%2C550&amp;ssl=1 550w" sizes="(max-width: 310px) 100vw, 310px" data-recalc-dims="1"></a><figcaption>PC @templephotobetsy on Instagram</figcaption></figure></div>



<p>At some point, your biggest gains in your X are gonna be in improving the ecosystem for other developers. On occasions when I have succeeded at that, from <a href="https://chelseatroy.com/2018/02/25/how-to-socialize-big-changes-at-work-part-1-start-at-the-grassroots-level/">driving workplace changes</a> to <a href="https://chelseatroy.com/category/teaching/">teaching computer science classes</a>, I have noticed that I‚Äôm using one or more of three techniques. So I thought I‚Äôd list them here.</p>



<h3>First, establish the motivation.</h3>



<p>Learning is work. Sometimes, it‚Äôs boring or difficult work. Folks don‚Äôt undertake that kind of work unless they understand why they should. That‚Äôs not as simple as <em>telling</em> them why. Understanding comes from engaging with the material.</p>



<p>Suppose you want to make a major code change that affects your team‚Äôs workflow. If you blaze forward and do that without buy-in, the team will resent it (<a href="https://chelseatroy.com/2018/02/25/how-to-socialize-big-changes-at-work-part-1-start-at-the-grassroots-level/">as we‚Äôve discussed in more detail here</a>). So I recommend starting with individual conversations about the reasons for the change:</p>



<blockquote><p><span>What is bothering you about your team‚Äôs current workflow that motivates you to push your solution? Are you annoyed at having to write the same code over and over in different places? Are you tired of trying to poke your way around an opaque tool? Are you losing track of things that cost you time and money? Before you&nbsp;</span><em>push</em><span>&nbsp;your solution,&nbsp;</span><em>pull</em><span>&nbsp;your coworkers to it by making sure they feel the pain that you feel.</span></p><p>Before I do a major refactor, I‚Äôll deliberately pair program with key people on my team on the kind of problems that my refactor would solve. I want them to experience the pain firsthand; I want to hear them say ‚Äòoh my&nbsp;<em>god&nbsp;</em>this is annoying.‚Äô After I have that admission of pain from a critical mass of people on my team, I‚Äôll propose my solution, and I‚Äôll offer to spearhead the refactor. I will craft a concise explanation of how our workflow changes after the refactor, and I‚Äôll point out why I think the new way is nicer for us than the way we‚Äôre doing it now.&nbsp;&nbsp;I have ‚Äònegative testimonials‚Äô about the old way, which I can whip out to capture the attention and agreement of others on my team. This approach allows me to muster support for my refactor and then, in spearheading the refactor, look like I‚Äôm taking one for the team.</p><p>Imagine the same scenario, same refactor, but instead of socializing my solution, I go off on my own, do the refactor, and push. My team didn‚Äôt understand the pain that the refactor solved, so all they‚Äôre seeing is the pain of learning the&nbsp;<em>new</em>&nbsp;way to do things. To them, it looks like I made a unilateral decision that screwed them over‚Äîthe&nbsp;<em>opposite</em>&nbsp;of what a team player would do. Keep in mind, in both circumstances, I wrote the&nbsp;<em>same code</em>. The only difference is how I introduced it.</p></blockquote>



<p>In effect, even the right code changes need to be <em>sold</em>. </p>



<p>How do we know what the right code changes are? This one is tricky, but one guiding principle has helped me out a lot:</p>



<h3>Look for bonehead solutions to convoluted technical issues.</h3>



<p>Michael Feathers talks a great deal about technical simplification options in his various discussions on edge-free programming (<a href="https://chelseatroy.com/2020/05/28/lessons-from-space-edge-free-programming/">here‚Äôs a more detailed look at some of those principles)</a>. But for exemplary purposes, here are a few simple solutions to complex problems that I‚Äôm especially proud of:</p>



<ul><li>I solved a thorny issue with a sometimes camouflaged, sometimes unreliable delete button by ripping it out (<a href="https://github.com/zooniverse/mobile/pull/345">Here‚Äôs the PR if you want more details</a>)</li><li>I resolved the issue of a laggy metronome in React-Native, where computationally expensive operations can result in delays for scheduled tasks. The app happened to also need to play back tracks at various multiples of their original speed. So I recorded a sound file of a metronome at 120 BPM, calculated what speed to play it by dividing the BPM the musician requested by 120, and wrote one method that shelled out to <code>expo-av</code> to play accurate-to-tempo sound files for both the metronome and the backtracks.</li><li>I resolved an issue of regulating how often a person should be allowed to log their mood by realizing the issue was fake (assumed foil to ‚Äúlet‚Äôs make sure they log it at least this often‚Äù) and letting them log as often as they want (<a href="https://chelseatroy.com/2020/05/28/lessons-from-space-edge-free-programming/">more details here</a>).</li></ul>



<p>Each of these solutions made the code cleaner and eliminated<em> </em>multiple problems with the product. But they were not genius solutions. In fact, they were easy to miss precisely because complex problems don‚Äôt scream ‚ÄúI have a bonehead solution.‚Äù</p>


	
	


<p><strong>One drawback: </strong>the tech industry generally rewards churning out tons of code <em>over</em> elegant solutions. Chen Lin recently <a href="https://twitter.com/votecapgood/status/1337920511095918592">tweeted about</a> his experience with this at Uber. Chen is responding to <a href="https://twitter.com/mountain_ghosts/status/1337552024821510144">this commentary</a>, which starts out salty but goes on to articulate a rarely-discussed element of how the tech industry functions: tech executives <em>have</em> to make their work appear innovative in order to secure VC funding. So they‚Äôre forced to artificially ‚Äúmake it innovative‚Äù by filing patents or hopping on the latest trends. In the case of Uber and iOS development, that imperative <a href="https://twitter.com/StanTwinB/status/1336890442768547845">burned them badly</a>.</p>



<p>Academia is similar: <a href="https://www.mccormick.northwestern.edu/research-faculty/directory/affiliated/watt-jeremy.html">Dr. Jeremy Watt</a>, author of <em><a href="https://github.com/jermwatt/machine_learning_refined">Machine Learning Refined</a></em>, articulates how academics <em>have</em> to make their work appear novel in order to get published, and they have to get published to keep their jobs, so they‚Äôre forced to artificially differentiate similar concepts‚Äîto convolute rather than simplify.</p>



<p>There‚Äôs a great <a href="https://twitter.com/mekkaokereke/status/1027552576454021120">explanation from Mekka Okereke</a> about how to counteract some of this as an engineer. It shares a lot with our ‚Äúfirst establish the motivation‚Äù approach‚Äînamely, by starting from the <em>problem</em>, not the solution.</p>



<p><strong>Also, a giant caveat: </strong>This solution is not always there. Sometimes the solution just has to be clever, or complicated, or messy. Sadly I can‚Äôt give you an ironclad heuristic for how to find them or how to confirm their existence. I can tell you this: in most cases where I have found them, I have found them by popping <em>up</em> a level from the implementation level to the design level. </p>



<p>Also, this recommendation applies specifically to technical solutions: it does not apply, for example, to racism or fascism. The problems we‚Äôre talking about here are de facto circumscribed by the scope of an application. When we‚Äôre talking about a generational cultural, political, and structural phenomenon, ‚Äújust rip out X‚Äù doesn‚Äôt work.</p>


	<div>
		<figure>
							
										<figcaption>Nor does one simply solve [insert insidious social issue here].</figcaption>
					</figure>
	</div>
	


<p>White supremacy culture in tech alone is so insidious and multifaceted that I‚Äôve got <a href="https://chelseatroy.com/2020/02/07/the-price-of-whiteness-in-tech/">an ongoing series</a> about reimagining different parts of tech through a not-white-supremacist lens. But also, listen to <a href="https://twitter.com/polotek/status/1249908489826099201">Marco Rogers about this caveat</a>. He knows more things than I do.</p>



<p>ANYWAY, anyway, anyway. </p>



<p>So we‚Äôve talked about selling our changes, and we‚Äôve talked about making changes that reduce the scope of complexity. Naturally, the third thing I find myself doing, is selling new knowledge <em>by</em> reducing the scope of complexity. Here we go:</p>



<h3>Try to spread intuition with as few prerequisites as possible.</h3>



<p>One of my Mobile Software Development students asked me what frameworks he should consider for testing a Python app he‚Äôs working on. Here‚Äôs what I said:</p>



<blockquote><div><p>In Python there are two leading options: unittest and pytest. Both work fine. When I‚Äôm working on teams, I tend to go with pytest because the output is a little nicer.&nbsp;</p><p>But‚Ä¶when I‚Äôm&nbsp;<em>teaching</em>&nbsp;Python, I don‚Äôt use a testing framework at all. I write methods that call the method I‚Äôm testing, and then I use Python‚Äôs&nbsp;<a rel="noreferrer noopener" href="https://www.w3schools.com/python/ref_keyword_assert.asp" target="_blank">built in assert keyword</a>&nbsp;to check the state of the modified objects or return values. Reason being, I don‚Äôt want to jump into the complexity of all the different stuff you can use to test until students understand&nbsp;<em>why</em>&nbsp;we test. I try to use the minimum toolset that gets the point across.</p></div></blockquote>



<p><br>One of the big things that educational approaches manage to screw up, in my view, is to introduce prerequisites that make the topic in question <em>harder</em> instead of <em>easier</em>. Fluent Forever founder Gabriel Wyner <a href="https://youtu.be/bPVeIHcgfTs?t=74">articulates how language learning often depends on translation</a>‚Äîwhich is a whole, separate, <em>difficult</em> skill. So when I‚Äôm trying to help someone build intuition, I‚Äôll try to eliminate as many dependencies as possible. </p>



<p>I‚Äôll show you an example for teaching testing in Python. I pulled this example out of a notebook that I share with my <a href="https://www.emergentworks.org/">Emergent Works</a> and <a href="https://centerforjustice.columbia.edu/justicethroughcode">Justice Through Code</a> mentee. She was working on writing a Sudoku solver. Of course, to solve a Sudoku, it helps to know when a Sudoku is solved. </p>



<p>Suppose we start with a similar but simpler puzzle; each row and each column must each possess one copy of each number, like this:</p>



<pre><code>puzzle = [
    [1, 2, 3, 4],
    [2, 1, 4, 3],
    [3, 4, 1, 2],
    [4, 3, 2, 1],
]</code></pre>



<p>This is a valid puzzle, albeit smaller than your typical 9 x 9. </p>



<p>It shows a way of <em>representing</em> our problem space‚Äîa list of lists. We could make a <code>Puzzle </code>class for this, with all kinds of methods on it. I‚Äôm not doing that yet. I‚Äôm doing the <em>minimum thing</em> that gets the point across: we need a way to represent our data. Here is a way to represent our data with minimal dependencies and indirection. </p>



<p>We‚Äôre gonna do the same thing for the test, no test framework involved (yet!):</p>



<pre><code>def valid_puzzle(puzzle):
    try: 
        # Python is duck-typed, so ‚Ä¶</code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://chelseatroy.com/2020/12/18/how-to-be-a-10x-developer/">https://chelseatroy.com/2020/12/18/how-to-be-a-10x-developer/</a></em></p>]]>
            </description>
            <link>https://chelseatroy.com/2020/12/18/how-to-be-a-10x-developer/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25498696</guid>
            <pubDate>Mon, 21 Dec 2020 19:49:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Obsidian Release v0.10.1]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25498416">thread link</a>) | @parsecs
<br/>
December 21, 2020 | https://forum.obsidian.md/t/obsidian-release-v0-10-1/10085 | <a href="https://web.archive.org/web/*/https://forum.obsidian.md/t/obsidian-release-v0-10-1/10085">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          


          <p><span>
              <meta itemprop="datePublished" content="2020-12-16T21:24:26Z">
              <time itemprop="dateModified" datetime="2020-12-21T17:40:29Z">
                December 21, 2020,  5:40pm
              </time>
          <span itemprop="position">#1</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <h2>Shiny new things</h2>
<ul>
<li>Pasting HTML content will now be automatically converted to Markdown. Same for drag and drop. For example, links you drag from web pages will now generate <code>[Display text](https://url)</code> instead of previously just the URL.</li>
</ul>
<h2>Improvements</h2>
<ul>
<li>Creating new notes from the file explorer or using the hotkey now always open in edit mode.</li>
<li>When setting up sync on a vault that‚Äôs older than the synced remote vault, the older files will be ignored and overwritten to avoid a mass rollback.</li>
<li>Navigation history has been slightly tweaked to be more intuitive, and also remembers scroll sync properly.</li>
<li>On macOS, closing the last vault and re-activating Obsidian will now re-open the last vault instead of opening the vault switcher.</li>
</ul>
<h2>No longer broken</h2>
<ul>
<li>On macOS, quitting and restarting the app will properly restore the opened vaults.</li>
<li>Translucency should now work again on app start on macOS.</li>
<li>Drag and drop a file to open in a pane will now properly push the navigation history so going backwards feels more natural.</li>
<li>Spellchecker will now split words that are adjacent to CJK characters.</li>
<li>The ‚Äúexplain search term‚Äù button now works properly again.</li>
</ul>
        </div>

        <meta itemprop="headline" content="Obsidian Release v0.10.1">
          <meta itemprop="keywords" content="">

        

         

            
      </div></div>]]>
            </description>
            <link>https://forum.obsidian.md/t/obsidian-release-v0-10-1/10085</link>
            <guid isPermaLink="false">hacker-news-small-sites-25498416</guid>
            <pubDate>Mon, 21 Dec 2020 19:27:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Personal Infrastructure with Inlets, K3s, and Pulumi]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25498394">thread link</a>) | @alexellisuk
<br/>
December 21, 2020 | https://andrewmeier.dev/personal-infrastructure | <a href="https://web.archive.org/web/*/https://andrewmeier.dev/personal-infrastructure">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://andrewmeier.dev/personal-infrastructure</link>
            <guid isPermaLink="false">hacker-news-small-sites-25498394</guid>
            <pubDate>Mon, 21 Dec 2020 19:25:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Parsing JSON at the CLI: A Practical Introduction to jq and more]]>
            </title>
            <description>
<![CDATA[
Score 252 | Comments 88 (<a href="https://news.ycombinator.com/item?id=25498364">thread link</a>) | @sequoia
<br/>
December 21, 2020 | https://sequoia.makes.software/parsing-json-at-the-cli-a-practical-introduction-to-jq-and-more/ | <a href="https://web.archive.org/web/*/https://sequoia.makes.software/parsing-json-at-the-cli-a-practical-introduction-to-jq-and-more/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="content"><p><code>jq</code> is a command line tool for parsing and modifying JSON. It is useful for extracting relevant bits of information from tools that output JSON, or REST APIs that return JSON. Mac users can install <code>jq</code> using homebrew (<code>brew install jq</code>); see <a href="https://stedolan.github.io/jq/download/">here</a> for more install options.</p>
<p>In this post we'll examine a couple "real world" examples of using <code>jq</code>, but let's start with...</p>
<h2 id="-code-jq-code-basics">
    <a href="#-code-jq-code-basics">
      
    </a>
    <code>jq</code> Basics</h2><p>The most basic use is just tidying &amp; pretty-printing your JSON:</p>
<pre><code>$ USERX=<span>'{"name":"duchess","city":"Toronto","orders":[{"id":"x","qty":10},{"id":"y","qty":15}]}'</span>
$ <span>echo</span> <span>$USERX</span> | jq <span>'.'</span>
</code></pre>
<p>outputs</p>
<pre><code>{
  <span>"name"</span>: <span>"duchess"</span>,
  <span>"city"</span>: <span>"Toronto"</span>,
  <span>"orders"</span>: [
    {
      <span>"id"</span>: <span>"x"</span>,
      <span>"qty"</span>: <span>10</span>
    },
    {
      <span>"id"</span>: <span>"y"</span>,
      <span>"qty"</span>: <span>15</span>
    }
  ]
}
</code></pre>
<p>I like this pretty-printing/formatting capability so much, I have an alias that formats JSON I've copied (in my OS "clipboard") &amp; puts it back in my clipboard:</p>
<pre><code><span>alias</span> jsontidy=<span>"pbpaste | jq '.' | pbcopy"</span>
</code></pre>
<p>The <code>'.'</code> in the <code>jq '.'</code> command above is the simplest jq "filter." The dot takes the input JSON and outputs it as is. You can read more about filters <a href="https://stedolan.github.io/jq/manual/#Basicfilters">here</a>, but the bare minimum to know is that <code>.keyname</code> will filter the result to a property matching that key, and <code>[index]</code> will match an array value at that index:</p>
<pre><code>$ <span>echo</span> <span>$USERX</span> | jq <span>'.name'</span>
<span>"duchess"</span>
$ <span>echo</span> <span>$USERX</span> | jq <span>'.orders[0]'</span>
{
  <span>"id"</span>: <span>"x"</span>,
  <span>"qty"</span>: 10
}
</code></pre>
<p>And <code>[]</code> will match <em>each</em> item in an array:</p>
<pre><code><span>echo</span> <span>$USERX</span> | jq <span>'.orders[].id'</span>
<span>"x"</span>
<span>"y"</span>
</code></pre>
<p>Filtering output by value is also handy! Here we use <code>|</code> to output the result of one filter into the input of another filter and <code>select(.qty&gt;10)</code> to select only orders with <code>qty</code> value greater than 10:</p>
<pre><code><span>echo</span> <span>$USERX</span> | jq <span>'.orders[]|select(.qty&gt;10)'</span>
{
  <span>"id"</span>: <span>"y"</span>,
  <span>"qty"</span>: 15
}
</code></pre>
<p>One more trick: filtering by <strong>key</strong> name rather than value:</p>
<pre><code>$ ORDER=<span>'{"user_id":123,"user_name":"duchess","order_id":456,"order_status":"sent","vendor_id":789,"vendor_name":"Abe Books"}'</span>
$ <span>echo</span> <span>$ORDER</span> | jq <span>'.'</span>
{
  <span>"user_id"</span>: 123,
  <span>"user_name"</span>: <span>"duchess"</span>,
  <span>"order_id"</span>: 456,
  <span>"order_status"</span>: <span>"sent"</span>,
  <span>"vendor_id"</span>: 789,
  <span>"vendor_name"</span>: <span>"Abe Books"</span>
}
$ <span>echo</span> <span>$ORDER</span> | jq <span>'with_entries(select(.key|match("order_")))'</span>
{
  <span>"order_id"</span>: 456,
  <span>"order_status"</span>: <span>"sent"</span>
}
</code></pre>
<p>(cheat sheet version: <code>with_entries(select(.key|match("KEY FILTER VALUE")))</code>)</p>
<p>Check out <a href="#more-resources">more resources</a> below to learn about other stuff jq can do!</p>
<h2 id="a-usecase-debugging-some-prometheus-metrics">
    <a href="#a-usecase-debugging-some-prometheus-metrics">
      
    </a>
    A Usecase: Debugging Some Prometheus Metrics</h2><p>I have a prometheus metric showing up locally that doesn't look quite right:</p>
<pre><code>async_task_total{task_name="/Users/duchess/charmoffensive/toodle-app/pkg/web/page/globals.go(189):(*GlobalsPopulator).Populate"} 6
</code></pre>
<p>The fact that the <code>task_name</code> value is a <em>filename</em> is a red flag‚Äì<a href="https://prometheus.io/docs/practices/naming/#labels">it's bad to have labels with high cardinality</a> and I'm not sure how many of these there are. I want to find out:</p>
<ol>
<li>What do these <code>task_name</code> labels look like in production?</li>
<li>How many unique values are there for these labels?</li>
</ol>
<h3 id="1-getting-the-label-values-in-production">
    <a href="#1-getting-the-label-values-in-production">
      
    </a>
    1. Getting the label values in production</h3><p>At my company there is a <abbr title="Command Line Interface">CLI</abbr> tool we'll call <code>pquery</code> that allows prometheus metrics to be queried from the command line, and it outputs JSON‚Äìhow conventient! I use this tool in the following examples. You don't have this tool, but fear not: <a href="https://learndevops.substack.com/p/hitting-prometheus-api-with-curl">this wonderful post</a> explains how to query prometheus using <a href="https://curl.se/">curl</a> which is essentially what <code>pquery</code> does.</p>
<p>Using <code>pquery</code> we can view prometheus metrics from our various clusters. But even if we filter for this exact metric name, it's more data than we can easily look at. We'll use <code>wc -l</code> (wordcount: count lines) to get a rough idea of how much data we're working with:</p>
<pre><code>$ pquery <span>'async_task_total'</span> | wc <span>-l</span>
316117
</code></pre>
<p>316,117 lines of JSON! Oof! We want to iterate over the metrics. But what jq filter do we need to access the array of metrics? I find <code>head</code> useful for figuring out what the top level keys are for a large json structure:</p>
<pre><code>$ pquery <span>'async_task_total'</span> | head -n 20
{
    <span>"data"</span>: {
        <span>"result"</span>: [
            {
                <span>"metric"</span>: {
                    <span>"__name__"</span>: <span>"async_task_total"</span>,
                    <span>"app"</span>: <span>"toodle-app-alpha"</span>,
                    <span>"instance"</span>: <span>"10.55.55.55:9393"</span>,
                    <span>"job"</span>: <span>"toodle-app-alpha"</span>,
                    <span>"kubernetes_pod_name"</span>: <span>"toodle-app-b446b7ccd-6mls6"</span>,
                    <span>"namespace"</span>: <span>"noweb"</span>,
                    <span>"netpol"</span>: <span>"toodle-app"</span>,
                    <span>"node_name"</span>: <span>"gke-production-04-3455c6df-j526"</span>,
                    <span>"release"</span>: <span>"toodle-app"</span>,
                    <span>"task_name"</span>: <span>"/charmoffensive/toodle-app/pkg/core/user/user.go(67):GetAccountDetails"</span>
                },
                <span>"value"</span>: [
                    1600981630.344,
                    <span>"2"</span>
</code></pre>
<p>You can also use <code>jq 'keys'</code> if you just want the key names:</p>
<pre><code>$ pquery <span>'async_task_total'</span> | jq <span>'keys'</span>
[
  <span>"data"</span>,
  <span>"status"</span>
]
</code></pre>
<p>Anyway we can see from above that <code>.data.result</code> is the "filter" path for the metrics themselves. Let's get the <strong>first result</strong> (<code>[0]</code>) of this array so we can see what one metric looks like:</p>
<pre><code>$ pquery <span>'async_task_total'</span> | jq <span>'.data.result[0]'</span>
{
  <span>"metric"</span>: {
    <span>"__name__"</span>: <span>"async_task_total"</span>,
    <span>"app"</span>: <span>"toodle-app-alpha"</span>,
    <span>"instance"</span>: <span>"10.55.55.55:9393"</span>,
    <span>"job"</span>: <span>"toodle-app-alpha"</span>,
    <span>"kubernetes_pod_name"</span>: <span>"toodle-app-b446b7ccd-6mls6"</span>,
    <span>"namespace"</span>: <span>"noweb"</span>,
    <span>"netpol"</span>: <span>"toodle-app"</span>,
    <span>"node_name"</span>: <span>"gke-production-04-3455c6df-j526"</span>,
    <span>"release"</span>: <span>"toodle-app"</span>,
    <span>"task_name"</span>: <span>"/charmoffensive/toodle-app/pkg/core/user/user.go(67):GetAccountDetails"</span>
  },
  <span>"value"</span>: [
    1600981906.069,
    <span>"2"</span>
  ]
}
</code></pre>
<p>Oops! That <code>app</code> value (<code>toodle-app-alpha</code>) indicates a mistake: I'm only interested in results from the <code>toodle-app</code> app, <em>not</em> from other apps that may also emit this metric (such as the <code>alpha</code> deployment we see here). We could <code>select</code> for this using jq, but <a href="https://prometheus.io/docs/prometheus/latest/querying/basics/"><code>promql</code> already lets us filter by metric names</a> so we'll do that instead: <code>pquery 'async_task_total{app="toodle-app"}'</code>.</p>
<p>We're interested in the <code>task_name</code> value in the <code>metric</code> object, so let's pluck that from <strong>each</strong> item in the array above:</p>
<pre><code>$ pquery <span>'async_task_total{app="toodle-app"}'</span> \
| jq <span>'.data.result[].metric.task_name'</span>
<span>"/charmoffensive/toodle-app/pkg/core/guides/guides.go(411):generateGuideFromDefinition"</span>
<span>"/charmoffensive/toodle-app/pkg/core/place/place.go(122):FetchPlaceDetailForCollection"</span>
<span>"/charmoffensive/toodle-app/pkg/core/place/place.go(132):FetchPlaceDetailForCollection"</span>
<span>"/charmoffensive/toodle-app/pkg/core/user/user.go(67):GetAccountDetails"</span>
<span>"/charmoffensive/toodle-app/pkg/core/user/user.go(73):GetAccountDetails"</span>
<span>"/charmoffensive/toodle-app/pkg/web/page/area.go(160):(*areaView).fetchData"</span>
<span>"/charmoffensive/toodle-app/pkg/web/page/area.go(166):(*areaView).fetchData"</span>
<span>"/charmoffensive/toodle-app/pkg/web/page/area.go(172):(*areaView).fetchData"</span>
<span>"/charmoffensive/toodle-app/pkg/web/page/area_category.go(140):(*areaCategoryView).fetchData"</span>
<span>"/charmoffensive/toodle-app/pkg/web/page/area_category.go(146):(*areaCategoryView).fetchData"</span>
{... + 18009 more lines}
</code></pre>
<blockquote>
<p>üìù Update: It was pointed out to me that as this is a post about <code>jq</code>, not about <code>promql</code>, a <code>jq</code> solution is more appropriate here. I'd originally used promql because it's more efficient to filter on the server when possible. Here's the <code>jq</code> version which uses the <a href="https://stedolan.github.io/jq/manual/#select(boolean_expression)"><code>select</code> filter</a>:</p>
<pre><code>$ pquery <span>'async_task_total'</span> \
| jq <span>'.data.result[].metric | select(.app == "toodle-app").task_name'</span>
</code></pre>
<p>Back to the post...</p>
</blockquote>
<p>Eighteen thousand values for that label!? That's bad!! But wait a tic‚Äìif other labels are varying, some of these may actually be duplicates. Let's sort them and see:</p>
<pre><code>$ pquery <span>'async_task_total{app="toodle-app"}'</span> \
| jq <span>'.data.result[].metric.task_name'</span> | sort | head -n10
<span>"/charmoffensive/toodle-app/pkg/core/collection/resolvers/query.go(221):(*queryResolver).Verticals"</span>
<span>"/charmoffensive/toodle-app/pkg/core/collection/resolvers/query.go(221):(*queryResolver).Verticals"</span>
<span>"/charmoffensive/toodle-app/pkg/core/collection/resolvers/query.go(221):(*queryResolver).Verticals"</span>
<span>"/charmoffensive/toodle-app/pkg/core/collection/resolvers/query.go(221):(*queryResolver).Verticals"</span>
<span>"/charmoffensive/toodle-app/pkg/core/collection/resolvers/query.go(221):(*queryResolver).Verticals"</span>
<span>"/charmoffensive/toodle-app/pkg/core/collection/resolvers/query.go(221):(*queryResolver).Verticals"</span>
<span>"/charmoffensive/toodle-app/pkg/core/collection/resolvers/query.go(221):(*queryResolver).Verticals"</span>
<span>"/charmoffensive/toodle-app/pkg/core/guides/guides.go(411):generateGuideFromDefinition"</span>
<span>"/charmoffensive/toodle-app/pkg/core/guides/guides.go(411):generateGuideFromDefinition"</span>
<span>"/charmoffensive/toodle-app/pkg/core/guides/guides.go(411):generateGuideFromDefinition"</span>
</code></pre>
<p>Yep: most of these are actually not unique names. <code>uniq</code> to the rescue!</p>
<pre><code>$  pquery <span>'async_task_total{app="toodle-app"}'</span> \
| jq <span>'.data.result[].metric.task_name'</span> | sort | uniq
<span>"/charmoffensive/toodle-app/pkg/core/collection/resolvers/query.go(221):(*queryResolver).Verticals"</span>
<span>"/charmoffensive/toodle-app/pkg/core/guides/guides.go(411):generateGuideFromDefinition"</span>
<span>"/charmoffensive/toodle-app/pkg/core/place/place.go(122):FetchPlaceDetailForCollection"</span>
<span>"/charmoffensive/toodle-app/pkg/core/place/place.go(132):FetchPlaceDetailForCollection"</span>
<span>"/charmoffensive/toodle-app/pkg/core/user/user.go(67):GetAccountDetails"</span>
<span>"/charmoffensive/toodle-app/pkg/core/user/user.go(73):GetAccountDetails"</span>
<span>"/charmoffensive/toodle-app/pkg/web/page/area.go(160):(*areaView).fetchData"</span>
<span>"/charmoffensive/toodle-app/pkg/web/page/area.go(166):(*areaView).fetchData"</span>
<span>"/charmoffensive/toodle-app/pkg/web/page/area.go(172):(*areaView).fetchData"</span>
<span>"/charmoffensive/toodle-app/pkg/web/page/area_category.go(140):(*areaCategoryView).fetchData"</span>
{... more}
</code></pre>
<p>Now I've got a full list of all the <em>distinct</em> values for this label, which answers my first question.</p>
<h3 id="how-many-unique-values-are-there-for-these-labels-">
    <a href="#how-many-unique-values-are-there-for-these-labels-">
      
    </a>
    How many unique values are there for these labels?</h3><p>Well that's pretty easy at this point...</p>
<pre><code>$ pquery <span>'async_task_total{app="toodle-app"}'</span> \
| jq <span>'.data.result[].metric.task_name'</span> | sort | uniq | wc <span>-l</span>
92
</code></pre>
<p>Ninety-two! Not so bad. Mystery solved, and I can say with reasonable confidence "the cardinality of these labels isn't terribly high, I'm ‚Ä¶</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://sequoia.makes.software/parsing-json-at-the-cli-a-practical-introduction-to-jq-and-more/">https://sequoia.makes.software/parsing-json-at-the-cli-a-practical-introduction-to-jq-and-more/</a></em></p>]]>
            </description>
            <link>https://sequoia.makes.software/parsing-json-at-the-cli-a-practical-introduction-to-jq-and-more/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25498364</guid>
            <pubDate>Mon, 21 Dec 2020 19:22:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Filling the Void of a Physical Whiteboard]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25498031">thread link</a>) | @verletx64
<br/>
December 21, 2020 | https://blog.tawhidhannan.co.uk/practices/fill-void-physical-whiteboard/ | <a href="https://web.archive.org/web/*/https://blog.tawhidhannan.co.uk/practices/fill-void-physical-whiteboard/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
          <p>
We're pretty deep into the whole COVID thing. Where I am in the world, we've been in some variation of lockdown for nine months now. It has meant a lot of changes to my working life, but one of the larger changes to my workflow is that there's no longer a giant whiteboard mounted directly behind me. "Diagrams as code" tools such as <a href="https://plantuml.com/">PlantUML</a> and <a href="https://mermaid-js.github.io/mermaid/#/">Mermaid</a> have gone some way towards filling the void, and I'll examine how far they go in helping me communicate software architecture.
<span id="continue-reading"></span></p>
<h2 id="why-did-i-like-the-whiteboard-so-much">Why did I like the whiteboard so much?&nbsp;<a href="#why-did-i-like-the-whiteboard-so-much" aria-label="Anchor Link For: why-did-i-like-the-whiteboard-so-much">
    
</a></h2>
<p>I think the main thing here is the speed of iteration. When scribbling out an architectural idea, there's usually a bit of back and forth. As long as the diagram is on the whiteboard still, it's easy to erase a few lines here and there and add a few elsewhere.&nbsp;</p>
<p>Using the drag and drop functionalities of tools such as <a href="https://www.lucidchart.com/pages/">LucidChart</a> or <a href="https://app.diagrams.net/">Draw.io</a> can work for this. With that said, I've suffered the indignity of a stray arrow magnetising itself to the wrong box. It's not the worst thing to happen, nor the hardest thing to fix, but I felt I could go faster. </p>
<h2 id="heaping-praise-on-diagrams-as-code">Heaping praise on diagrams as code<a href="#heaping-praise-on-diagrams-as-code" aria-label="Anchor Link For: heaping-praise-on-diagrams-as-code">
    
</a></h2>
<p>Being able to delegate how the diagram looks to something else is a boon for my productivity. I know that I can smash out a diagram in Mermaid syntax and the diagram will look pretty good. Don't get me wrong - no graphics design awards are coming my way, but by and large, the diagram is correct and looks clean.&nbsp;</p>
<p>Here's a simple example that I wrote with Mermaid. Take the following scenario. Service A schedules a task to run at some point with an external service - think of some kind of process that can't be immediately actioned, such as a scheduled task. We're immediately told whether task scheduling worked. If all goes well, the job is eventually delegated to a worker, which carries out it's assigned task. Once that's done, the worker dispatches a webhook notification to service B, allowing us to do whatever further processing logic we need to. Now, I want to describe that using Mermaid syntax. This is what that looks like:</p>
<pre><code><span>sequenceDiagram  
&nbsp;&nbsp;&nbsp;participant Service A  
&nbsp;&nbsp;&nbsp;participant External Service  
&nbsp;&nbsp;&nbsp;participant External Service Worker  
&nbsp;&nbsp;&nbsp;participant Service B  
&nbsp;&nbsp;&nbsp;Service A -&gt;&gt;+ External Service: createJob(notifyEndpoint, jobParameters)  
&nbsp;&nbsp;&nbsp;External Service -&gt;&gt;+ Service A: jobScheduleStatus(id, status)  
&nbsp;&nbsp;&nbsp;External Service --&gt;&gt;+ External Service Worker: startProcessingJob(id)  
&nbsp;&nbsp;&nbsp;External Service Worker -&gt;&gt;+ External Service Worker: processJob(id)  
&nbsp;&nbsp;&nbsp;External Service Worker -&gt;&gt;+ Service B: dispatchWebhookToNotifyEndpoint(notification)  
&nbsp;&nbsp;&nbsp;Service B -&gt;&gt;+ Service B: handleWebhook(notification)
</span></code></pre>
<p>And that produces a diagram that looks something like this<sup><a href="#fn:1">1</a></sup> :</p>
<p><img src="https://blog.tawhidhannan.co.uk/practices/fill-void-physical-whiteboard/mermaid-diagram-20201218194918.png" alt="Visual Diagram for the above Mermaid Sequence Diagram code"></p>
<p>The sequence diagram allows me to express this chain of events tersely in code, but richly in the diagram. I'm able to quick and easily represent operational quirks. For instance, the initialisation of job processing is asynchronous. It doesn't occur immediately, but at some unspecified time in the future. In the diagram, I can express that with a dashed line, and in the code for the diagram, that's as easy as <code>--&gt;&gt;+</code>. Sequence numbers make it easy for me to discuss the diagram with other people, as we can refer to steps by their number. And to add them in was as easy as including a parameter when generating the diagram:&nbsp;</p>
<pre><code><span>{
&nbsp;&nbsp;</span><span>"theme"</span><span>: </span><span>"default"</span><span>,
&nbsp;&nbsp;</span><span>"sequence"</span><span>: {&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;</span><span>"showSequenceNumbers"</span><span>: </span><span>true&nbsp;
&nbsp;&nbsp;</span><span>}
}
</span></code></pre>
<p>Now all the example is perhaps not the most powerful use case. It's a little simple, and it's not tricky to put together a diagram that looks like this with a GUI. In reality these diagrams have a fair bit more going on.</p>
<p>But putting it together in code feels a lot faster for me. The diagram is unsullied by my clumsiness at getting arrows to magnetise to the right box in a WSYWIG web GUI. And this whole thing took me two or three minutes to write - I spent more time coming up with the scenario. I can take the generated image and put it in a ticket, or a slack message, and use it as a visual aid for communicating my thought processes.&nbsp;Even though architectures are more complex in reality, I don't feel like a sense of not being able to express them using these tools.</p>
<p>What's interesting is that I'm more likely to be able to evolve this diagram over time. It doesn't rely on me preserving a whiteboard for all eternity. I can come back later, and make a quick tweak or edit, based on feedback or what have you. I write code every day, so as a method of building something - I'm used to it. Should I make a mistake, or if I want to make some tweak somewhere, I can do that without much fuss. I could even commit these into source control if I wanted to.&nbsp;</p>
<p>The ability to construct diagrams whilst sustaining speed, correctness and clarity are pretty much all I need. If I want to make a particularly pretty diagram (maybe it's for external eyes) I'd use the drag and drop tools. The more complex autogenerated diagrams tend to have a few visual quirks. But where I want the diagram to be evolvable, these tools fill the niche well. The hosted services that provide diagramming as a service see the value in these tools. For example, LucidChart supports its own flavour of syntax, and Draw.IO supports PlantUML and Mermaid syntax.</p>
<h2 id="but-does-it-replace-a-whiteboard">But does it replace a whiteboard?<a href="#but-does-it-replace-a-whiteboard" aria-label="Anchor Link For: but-does-it-replace-a-whiteboard">
    
</a></h2>
<p>Ish. Scribbling on a whiteboard feels faster still - at least for initial construction. And the back and forth with people when etching on a board feels easier.</p>
<p>But, I've gotten faster generating diagrams from code. The syntax for mermaid and PlantUML is pretty simple and easy to remember after a spot of practice. And in a way, it feels accessible in a different way to a whiteboard. We don't have to be in the same room to collaborate. The escape hatch here is that we can always switch to using the WSYWIG to construct the diagram instead. It's slower, but if someone's not up to speed with the syntax and it's not worth them getting up to speed, it's an option.&nbsp;</p>
<p>And beyond that, it lets me get a head start on any artefacts we need for documentation. Producing a quick diagram in the planning phases of a ticket that I can evolve later into something more formal is a big win for sure.&nbsp;</p>
<h2 id="calling-it">Calling It<a href="#calling-it" aria-label="Anchor Link For: calling-it">
    
</a></h2>
<p>Constructing diagrams as code does not replace everything a whiteboard does for me. But it's fast enough, it's easy to get started, and it makes it easy to involve remote people. If everyone knows the syntax, remote collaboration is easy, and you've still got the escape hatch of WSYWIG tools, though they feel slower to use.&nbsp;</p>
<p>I have found that a quick sequence diagram, to help communicate a mental model of a solution can grease the wheels of progress a great deal.</p>


        </div></div>]]>
            </description>
            <link>https://blog.tawhidhannan.co.uk/practices/fill-void-physical-whiteboard/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25498031</guid>
            <pubDate>Mon, 21 Dec 2020 18:49:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Scaled-YOLOv4 Is Now the Best Model for Object Detection]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25497774">thread link</a>) | @rocauc
<br/>
December 21, 2020 | https://blog.roboflow.com/scaled-yolov4-tops-efficientdet/ | <a href="https://web.archive.org/web/*/https://blog.roboflow.com/scaled-yolov4-tops-efficientdet/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
              <div>
                <div><p><em>(based on Microsoft COCO benchmarks)</em></p><p>The object detection space remains white hot with the recent publication of <a href="https://arxiv.org/abs/2011.08036">Scaled-YOLOv4</a>, establishing a new state of the art in <a href="https://blog.roboflow.com/object-detection/">object detection</a>.</p><p>In a David and Goliath fashion, authors Chien-Yao Wang, Alexey Bochkovskiy, and Hong-Yuan Mark Liao (more commonly known by their GitHub monikers, <a href="https://github.com/WongKinYiu">WongKinYiu</a> and <a href="https://github.com/AlexeyAB">AlexyAB</a>) have propelled the YOLOv4 model forward by efficiently scaling the network's design and scale, surpassing the previous state-of-the-art EfficientDet published earlier this year by the Google Research/Brain team. <a href="https://github.com/WongKinYiu">WongKinYiu</a> and <a href="https://github.com/AlexeyAB">AlexyAB</a> scale the YOLO model up and down, beating prior benchmarks from previous small and large object detection models on both ends of the speed vs. accuracy frontier.</p><figure><img src="https://blog.roboflow.com/content/images/2020/12/image.png" alt="" srcset="https://blog.roboflow.com/content/images/size/w600/2020/12/image.png 600w, https://blog.roboflow.com/content/images/2020/12/image.png 650w"><figcaption>Scaled-YOLOv4 achieves record breaking performance on <a href="https://blog.roboflow.com/coco-dataset/">the COCO benchmark</a>, not pictured <a href="https://blog.roboflow.com/train-yolov4-tiny-on-custom-data-lighting-fast-detection/">YOLOv4-tiny</a>, running at 1774 FPS on the RTX 2080ti (<a href="https://arxiv.org/pdf/2011.08036.pdf">cite</a>)</figcaption></figure><p>In this blog, we break down the research involved and the creation of Scaled-YOLOv4 and contextualize the advancement within the current object detection landscape - the most interesting twist being that <em>the Scaled-YOLOv4 implementation is written in the YOLOv5 PyTorch</em> framework.</p><figure><iframe width="459" height="344" src="https://www.youtube.com/embed/HWHHthgek6w?start=9&amp;feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></figure><h2 id="background-on-the-models">Background on the Models</h2><h3 id="object-detection">Object Detection</h3><p><a href="https://blog.roboflow.com/object-detection/">Object detection</a> involves the task of teaching a computer to recognize objects in an image by drawing a box around them (called a <a href="https://blog.roboflow.com/glossary/#:~:text=Bounding%20Box">bounding box</a>), and correctly classifying that box among a limited scope of class labels. In the computer vision landscape today there are many custom object detectors that recognize objects from farm animals to phone defects. </p><h3 id="the-coco-dataset">The COCO Dataset</h3><p><a href="https://blog.roboflow.com/coco-dataset/">The COCO dataset</a> is the gold standard benchmark for evaluating object detection models. The COCO (<a href="https://roboflow.com/formats/coco-json">Common Objects in COntext</a>) dataset contains over 120,000 images for training and testing, with 80 object class labels that are commonly observed in everyday life. Generally, if a model does well on the COCO dataset, it is believed that the model will generalize well to new custom domains - in the spirit of <a href="https://arxiv.org/abs/1612.08242">YOLO9000</a>, for 9000 objects.</p><figure><img src="https://blog.roboflow.com/content/images/2020/12/image-1.png" alt="" srcset="https://blog.roboflow.com/content/images/size/w600/2020/12/image-1.png 600w, https://blog.roboflow.com/content/images/2020/12/image-1.png 617w"><figcaption>Detecting the many objects in the world in <a href="https://arxiv.org/pdf/1612.08242.pdf">the original YOLO9000 model</a></figcaption></figure><h3 id="efficientdet-models-model-scaling">EfficientDet Models - Model Scaling</h3><p>The <a href="https://blog.roboflow.com/breaking-down-efficientdet/">EfficientDet</a> family of models has been the preferred object detection models since it was published by the Google Research/Brain team in recent months. The most novel contribution in the EfficientDet paper was to think strategically about how to scale object detection models up and down. </p><figure><img src="https://blog.roboflow.com/content/images/2020/12/model_scaling.png" alt="" srcset="https://blog.roboflow.com/content/images/size/w600/2020/12/model_scaling.png 600w, https://blog.roboflow.com/content/images/2020/12/model_scaling.png 688w"><figcaption>Model scaling in EfficientDet (<a href="https://arxiv.org/pdf/1911.09070.pdf">cite</a>)</figcaption></figure><p>Object detection models can be scaled by using a large image input resolution, scaling the width of the convolutional network layer, scaling the depth of convolutional layers, and scaling all of these things together. The EfficientDet authors use search to find an optimal scaling threshold from EfficientDet-D0 to EfficientDet-D1, and use this setting to linearly scale up to the famed EfficientDet-D7.</p><h3 id="yolo-models">YOLO Models</h3><p>The YOLO family of models, written in the Darknet framework, has a <a href="https://blog.roboflow.com/a-thorough-breakdown-of-yolov4/">rich history</a> starting with Joseph Redmon (Github moniker <a href="https://pjreddie.com/">pjreddie</a>). Recently, the YOLO name and architecture have been picked up recently by a number of computer vision researchers.</p><p><strong>YOLOv4 - </strong>Early this spring, <a href="https://github.com/AlexeyAB">AlexyAB</a> formalized his fork of the Darknet repo, publishing the state-of-the-art <a href="https://blog.roboflow.com/a-thorough-breakdown-of-yolov4/">YOLOv4 model</a>. YOLOv4 was considered one of the best models for speed and accuracy performance, but did not top EfficientDet's largest model for overall accuracy on the COCO dataset.</p><p><strong>YOLOv5 - </strong>Shortly after the release of YOLOv4, Glenn Jocher (Github moniker <a href="https://github.com/glenn-jocher">glenn-jocher</a>) published his version of the YOLO model in PyTorch as <a href="https://blog.roboflow.com/yolov5-improvements-and-evaluation/">YOLOv5</a>. Comparing how YOLOv4 and YOLOv5 models stacked up against each other was nuanced ‚Äì we wrote a bunch on the <a href="https://blog.roboflow.com/yolov4-versus-yolov5/"></a><a href="https://blog.roboflow.com/yolov4-versus-yolov5/">YOLOv4 vs</a>.<a href="https://blog.roboflow.com/yolov4-versus-yolov5/"> YOLOv5 </a>debate here.</p><p>The YOLOv5 PyTorch training and architecture conversion was the most notable contribution, making YOLO easier than ever to train, <em>speeding up training time 10x relative to Darknet</em>. </p><p>One of the main reasons Scaled-YOLOv4 is implemented in the YOLOv5 PyTorch framework is, no doubt, the training routines. Glenn Jocher notably gets a shoutout in the Acknowledgments of Scaled-YOLOv4.</p><p><strong>PP-YOLO - </strong>This summer, researchers at <a href="https://www.baidu.com/">Baidu</a> released their version of the YOLO architecture, <a href="https://blog.roboflow.com/pp-yolo-beats-yolov4-object-detection/">PP-YOLO, surpassing YOLOv4 and YOLOv5</a>. The network, written in <a href="https://www.paddlepaddle.org.cn/">the Paddle-Paddle framework</a>, performed well but has yet to gain much traction among practitioners.</p><p><strong>But all of that's old news:</strong> Scaled-YOLOv4 is here and YOLOv4 has been fully <a href="https://arxiv.org/pdf/1911.11929.pdf">CSP-ized</a>!</p><h2 id="scaled-yolov4-techniques">Scaled-YOLOv4 Techniques</h2><p>To scale the YOLOv4 model, the Scaled-YOLOv4 authors explore the following strategies.</p><figure><img src="https://blog.roboflow.com/content/images/2020/12/image-3.png" alt="" srcset="https://blog.roboflow.com/content/images/size/w600/2020/12/image-3.png 600w, https://blog.roboflow.com/content/images/size/w1000/2020/12/image-3.png 1000w, https://blog.roboflow.com/content/images/2020/12/image-3.png 1376w" sizes="(min-width: 720px) 720px"><figcaption>A visualization of the YOLO network, courtesy of <a href="https://arxiv.org/pdf/2007.12099.pdf">PP-YOLO</a>. For more on one-stage object detection architecture see <a href="https://blog.roboflow.com/breaking-down-efficientdet/">breaking down EfficientDet</a> or <a href="https://blog.roboflow.com/pp-yolo-beats-yolov4-object-detection/">breaking down PP-YOLO</a>.</figcaption></figure><p>In general, the Scaled-YOLOv4 authors are holding a few scaling concepts in balance as they are working on the construction of their models - image size, number of layers, and number of channels, while optimizing for model performance and inference speed. They consider a few CSP-ized CNN backbones in their network, ResNet, ResNeXt, and the traditional Darknet backbone.</p><h3 id="csp-izing">"CSP-izing"</h3><p>In the <a href="https://arxiv.org/abs/2011.08036">Scaled-YOLOv4</a> paper the authors often write that they "CSP-ized" a given portion of the network. To CSP-ize means to apply the concepts laid out in the <a href="https://arxiv.org/pdf/1911.11929">Cross-Stage Partial Networks</a> paper, written by <a href="https://github.com/WongKinYiu">WongKinYiu</a>. The CSP is a new way to architect convolutional neural networks that saves on computation for various CNN networks - up to 50% (for the Darknet backbone in FLOPs).</p><h3 id="scaling-the-yolov4-tiny-model">Scaling the YOLOv4-tiny model</h3><p>The YOLOv4-tiny model had different considerations than the Scaled-YOLOv4 model because, on the edge, different constraints come into play, like memory bandwidth and memory access. For the YOLOv4-tiny's shallow CNN, the authors look to <a href="https://arxiv.org/pdf/2011.08036.pdf">OSANet</a> for its favorable computational complexity at little depth.</p><h3 id="scaling-the-yolov4-csp-models">Scaling the YOLOv4-CSP models </h3><p>To detect large objects in large images, the authors find that it is important to increase the depth and number of stages in in the CNN backbone and neck. (Increasing the width reportedly has little effect.) This allows them to first scale up input size and number of stages, and dynamically adjust width and depth according to realtime inference speed requirements. In addition to these scaling factors, the authors also adjust the configuration of their model's architecture in the paper.</p><figure><img src="https://blog.roboflow.com/content/images/2020/12/image-2.png" alt="" srcset="https://blog.roboflow.com/content/images/size/w600/2020/12/image-2.png 600w, https://blog.roboflow.com/content/images/2020/12/image-2.png 695w"><figcaption>YOLOv4-P5/P6/P7 architectures (<a href="https://arxiv.org/pdf/2011.08036.pdf">cite</a>)</figcaption></figure><h3 id="data-augmentations">Data Augmentations</h3><p><a href="https://towardsdatascience.com/data-augmentation-in-yolov4-c16bd22b2617">Data augmentation in YOLOv4</a> was one of the key contributions to YOLOv4's impressive performance. In Scaled-YOLOv4, the authors train on a less augmented dataset first, then turn up the augmentations for fine-tuning at the end of training. They also use "Test Time Augmentations," where a number of augmentations are made on the test set. Predictions are then averaged across those test augmentations to further boost their non-real time results. &nbsp;</p><h2 id="scaled-yolov4-results">Scaled-YOLOv4 Results</h2><p>Evaluations show that the Scaled-YOLOv4 models set the standard for both large and small object detection models.</p><figure><img src="https://blog.roboflow.com/content/images/2020/12/image.png" alt="" srcset="https://blog.roboflow.com/content/images/size/w600/2020/12/image.png 600w, https://blog.roboflow.com/content/images/2020/12/image.png 650w"><figcaption>Scaled-YOLOv4 results, inference speed on the X-axis and COCO average precision on the Y-axis (<a href="https://arxiv.org/pdf/2011.08036.pdf">cite</a>)</figcaption></figure><p>The language in the Scaled-YOLOv4 paper speaks for itself:</p><blockquote>We can see that all scaled YOLOv4 models, including YOLOv4-CSP, YOLOv4-P5, YOLOv4-P6, YOLOv4- P7, are Pareto optimal on all indicators. When we compare YOLOv4-CSP with the same accuracy of EfficientDetD3 (47.5% vs 47.5%), the inference speed is 1.9 times [that of EfficientDetD3]. When YOLOv4-P5 is compared with EfficientDet-D5 with the same accuracy (51.4% vs 51.5%), the inference speed is 2.9 times [that of EfficientDet-D5]. The situation is similar to the comparisons between YOLOv4-P6 vs EfficientDet-D7 (54.3% vs 53.7%) and YOLOv4-P7 vs EfficientDet-D7x (55.4% vs 55.1%). In both cases, YOLOv4-P6 and YOLOv4-P7 are, respectively, 3.7 times and 2.3 times faster in terms of inference speed. </blockquote><p>And notably for YOLOv4-tiny:</p><blockquote>In addition, if one uses TensorRT FP16 to run YOLOv4-tiny on general GPU RTX 2080ti, when the batch size respectively equals to 1 and 4, the respective frame rate can reach 773fps and 1774fps, which is extremely fast.</blockquote><p><strong>If you want to push the ceiling for performance or speed for your object detection task, Scaled-YOLOv4 is the new place to look.</strong></p><p>The authors provide myriad ablation studies and many more research insights than we have written here. Learn more in <a href="https://arxiv.org/pdf/2011.08036.pdf">the paper</a>!</p><h2 id="how-to-train-scaled-yolov4-on-your-own-task">How to Train Scaled-YOLOv4 on Your Own Task</h2><h3 id="how-to-train-yolov4-tiny">How to Train YOLOv4-tiny</h3><p>If you want to train an object detector that is lightning fast and can be deployed on edge devices, then you can train it on YOLOv4-tiny. We have written a nice guide here on <a href="https://blog.roboflow.com/train-yolov4-tiny-on-custom-data-lighting-fast-detection/">how to train and deploy YOLOv4-tiny</a> on your custom data to detect your custom objects.</p><p><em>Note: YOLOv4-tiny is implemented in the Darknet framework, not PyTorch. </em></p><h3 id="how-to-train-yolov4-csp-p5-p6-p7">How to Train YOLOv4-CSP/P5/P6/P7</h3><p>If you want to use a medium sized model, you'll want to use YOLOv4-CSP, and this can be a good place to start iterating on the Scaled-YOLOv4 models. </p><p>If you want to scale up from there for ultimate accuracy, the YOLOv4-P5/P6/P7 models will be of use. </p><p>Here is <a href="https://github.com/WongKinYiu/ScaledYOLOv4/blob/yolov4-large/models/yolov4-csp.yaml">t</a><a href="https://github.com/WongKinYiu/ScaledYOLOv4/blob/yolov4-large/models/yolov4-csp.yaml">he Scaled-YOLOv4 repo</a>, though you will notice that <a href="https://github.com/WongKinYiu">WongKinYiu</a> has provided it there predominantly for research replication purposes and there are not many instructions for training on your own dataset. To train on your own data, our guide on <a href="https://blog.roboflow.com/how-to-train-yolov5-on-a-custom-dataset/">training YOLOv5 in PyTorch on custom data</a> will be useful, as it is a very similar training procedure.</p><p>As is customary with new models, we expect that the implementation of this network on custom tasks will become easier with time and development ‚Äì including work we will be doing here at <a href="https://blog.roboflow.com/p/155ed7e4-7885-4596-9156-79335139fc87/app.roboflow.com">Roboflow</a>. <a href="https://blog.roboflow.com/p/155ed7e4-7885-4596-9156-79335139fc87/blog.roboflow.com">Stay tuned</a>! </p><!--kg-card-begin: html--><!--kg-card-end: html--><h2 id="conclusion">Conclusion</h2><p>The computer vision landscape is more exciting than ever before. In 2020 alone, a new standard for object detection (as measured on the COCO dataset) has been set four times. </p><p>Faster and more accurate models are making tasks that were marginally outside the reach for vision developers more achievable, whether it is in providing the required accuracy for a given task or making it less expensive to deploy ‚Ä¶</p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.roboflow.com/scaled-yolov4-tops-efficientdet/">https://blog.roboflow.com/scaled-yolov4-tops-efficientdet/</a></em></p>]]>
            </description>
            <link>https://blog.roboflow.com/scaled-yolov4-tops-efficientdet/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25497774</guid>
            <pubDate>Mon, 21 Dec 2020 18:28:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The San Francisco That Could Have Been]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25497335">thread link</a>) | @ivanagas
<br/>
December 21, 2020 | https://jayriverlong.github.io/2020/12/16/sf.html | <a href="https://web.archive.org/web/*/https://jayriverlong.github.io/2020/12/16/sf.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main" role="main"> <article role="article">  <p>I‚Äôm running through Lands End. It‚Äôs 8AM on a winter day. Cool mist hangs in the air, and the gravel crunches under my running shoes. I‚Äôm looking at my Apple Watch, checking the time as I run down the hill, past the Cliff House, looking at the Pacific as it shines in the morning sun like a pool of liquid silver stretching to the horizon. California is good. I hear the waves crashing, and the air softly smells of salt and pines. To my left, I see the Pacific Towers: eight fifty-five story glass obelisks stretching into the sky, all connected by a public park up top, six hundred feet in the air. A marvel of modern engineering, only paralleled by a few buildings in Shanghai. The year is 2030. I‚Äôm fortunate to rent a one-bedroom in the Pacific Towers for $2700 a month. I live on the fourteenth floor.</p> <p>I shower while Siri reads me my emails. ‚ÄúArchive, archive, skip, schedule for 10AM‚Äù: speech recognition lets me take care of a full night of notifications. Though my executive and product leaders are in San Francisco, my company otherwise runs on a 24/7 global team, so work accumulates throughout the night.</p> <p>I step out of the shower. My bathroom‚Äôs ceiling fans all immediately point hot air at me to help me dry off faster. (It‚Äôs cozy, too.) I‚Äôm rubbing my hair with a towel when soft ringing emanates throughout the apartment. ‚ÄúWho is it?‚Äù I ask. ‚ÄúIt‚Äôs Jess Bergman‚Äù Siri replies. Six hundred speakers and microphones hidden in the walls throughout my 900 square feet make it feel remarkably natural to talk to my virtual assistant.</p> <p>‚ÄúPick up‚Äù. Jess is on the phone. She‚Äôs telling me that one of our customers, an oil-shipping company, suffered some kind of bizarre bug where we dispatched one of their tankers without filling it entirely. It‚Äôs a costly error ‚Äì $8M in oil that‚Äôs left sitting somewhere. Jess and I suspect some of the customer‚Äôs tanker sensors are defective, and we line up a diagnostic team to take a look. We sell logistical optimization software.</p> <p>I‚Äôm heading down the elevator to the Pacific Towers to the underground BAMF stop. BAMF was the 2022 successor to BART ‚Äì everyone recognized ‚ÄúBay Area Rapid Transit‚Äù as a hilarious oxymoron, an embarrassment compared to our global peers, so our local government and industry leaders created Bay Area Mega Fast: an autonomous metro system modeled after the Hong Kong and Tokyo subways ‚Äì just twice as fast. Trains arrive every 30 seconds, and I‚Äôll be at my office in the Tenderloin in exactly 114 seconds.</p> <p>There‚Äôs only one stop in-between. I‚Äôm proud to say that my company helped design some of the BAMF network for optimal throughput ‚Äì like all Bay Area projects, it‚Äôs a public-private partnership, and the government brought in the best logistical optimizers from industry. Even eight years ago, I‚Äôm flattered to say that was us. We‚Äôre better now, but we still have a long way to go.</p> <p>I‚Äôm wearing my Raycasters inside the BAMF train. They‚Äôre one brand of many smart glasses that overlay useful information on my field of vision. I usually turn off the auto-recognize, subtitles, and maps, but keep on my vital sign displays. The data is beamed straight from my apple watch. Eyeball control makes it super easy to navigate the interface. It seems that my blood sugar is a little low. I flick through the suggestions. ‚ÄúEat a quarter of a Snickers bar‚Äù, it says. Great, I‚Äôve got some at the office.</p> <p>I‚Äôm out the BAMF and straight up the elevator. My company has half the 85th floor of the Civic Spiral. The building is a glass tornado. It was completed two years ago, and it‚Äôs the tallest office building in the world. Rent here is unbelievably expensive ‚Äì nearly $200 per square foot per year. But it‚Äôs a good splurge.</p> <p>I have a meeting to talk about the status on the oil shipping bug and get a little more clarity. I‚Äôm chatting with the team in Dubai, and my EARS2 earphones do real-time translation from Arabic to English. It‚Äôs amazing. The EARS2 founder is a buddy of mine, his office is just the floor below. He‚Äôs got an unbelievable view of the Golden Gate Bridge and the Alcatraz International Airport, where Elon Musk‚Äôs grasshopper rockets land and take off all day, sending San Francisco residents around the globe at Mach 2 for lunch meetings. I think it‚Äôs extravagant, but to each their own.</p> <p>I step out for lunch with Sam Fultzmann. He‚Äôs the craziest guy I know, which is why I love having lunch with him. We step outside the Civic Spiral and grab little electric longboards to scoot to our favorite Shawarma shop. The longboards recognize me by RFID sensor and automatically bill my Stripe bank account, accurately to the millionth of a dollar. We arrive at Bilal‚Äôs Bar and Grill on Market Street. The line for seating is forever long. The GDP of the Tenderloin is nearly a trillion dollars now, but some things just don‚Äôt change. We register ourselves for a seating spot with a watch tap, and go for a walk under the trees while we wait. San Francisco got a lot greener after human-driven cars were banned in 2023. The streets were narrowed since autonomous vehicles and personal things like bicycles and skateboards just needed much less space. The fact that just seven years ago, people were driving around twenty-foot-long trucks <em>for just themselves</em> that they left parked 92% of the time is so crazy that I can hardly fathom it.</p> <p>Even though it‚Äôs winter, it‚Äôs pretty warm outside. There isn‚Äôt a building <em>under</em> 300 feet around me, it‚Äôs glass and concrete as far as the eye can see. That makes it a little warmer on the ground, but the trees help, and there‚Äôs a Fremont company experimenting with upper-stratosphere reflective seeding to mitigate global warming, which is the overarching culprit here. I‚Äôm due to stop by there later today, actually.</p> <p>Over lunch, Sam tells me that he angel invested in Telomize, a Palo Alto company that does telomere lengthening for anti-aging. (Everyone‚Äôs an angel investor now that there‚Äôs an income tax break if you invest your income in early-stage companies.) We haven‚Äôt cracked the aging nut yet, but we‚Äôre close. I quiz Sam about the prospects of the company, and he admits that he invested just to get early access to their product. He‚Äôs on it right now. I joke that it could be harmful, but Sam doesn‚Äôt care: whatever, there‚Äôs no regulatory body that can stop him from experimenting with novel treatments. He has an 8G feed continuously streaming 200 GB a second of vital sign data back to Telomize company to track the effectiveness and safety of the treatment. There are 35,000 other crazies like him, and between the lot of them they‚Äôre constructing a pretty good medical study in real time.</p> <p>I tell Sam about the oil problem. He tells me he read a book the other day about Rockefeller and the Oil Magnates of the turn of the 20th century: ‚Äúdid you know that Cleveland, Ohio used to be the wealthiest city in the United States?‚Äù he bursts out, guffawing. ‚ÄúCleveland? These guys don‚Äôt even have a space program‚Äù, I laugh. (The Bay Area has three now, all private enterprise with some public backing.)</p> <p>‚ÄúWhat happened?‚Äù I ask Sam. ‚ÄúWell, jeez, it‚Äôs like Cleveland just sort of found itself in the middle of an oil boom, geographically. One year they were like any other second-tier industrializing city, and then they suddenly had this huge influx of wealth and enterprise that they didn‚Äôt really understand‚Ä¶ or know how to keep, once things started moving.‚Äù</p> <p>‚ÄúSo what happened, specifically?‚Äù I ask. ‚ÄúWell, the same thing that happens whenever you try to hold sand with your hands and don‚Äôt get a bucket: phoosh, it runs through your fingers and then it‚Äôs gone. A few decades later the oil industry was in Oklahoma, Texas, everywhere, and then Cleveland was just a small part of it. Standard Oil and what-have-you relocated to New York City.‚Äù Sam takes a bite from his meatless burger. ‚ÄúI think the people of Cleveland were so caught off-guard by the enormous opportunity that hit them in the face that they reacted with some level of arrogance, hubris, and spent their time kind of pooh-poohing the industry, not realizing how lucky they were to be in pole position in the <em>competition</em> for this ginormous industry. So they were asleep at the wheel, and only when the industry moved into other cities did the people of Cleveland understand, by the sheer voracity of competition, how valuable this new industry was.‚Äù</p> <p>‚ÄúYou‚Äôre telling me the golden goose made a nest in their back yard and they basically just stayed inside drinking beers and jacking off.‚Äù</p> <p>‚ÄúYeah. And sometimes plucking the goose for feathers.‚Äù</p> <p>‚ÄúThat‚Äôs the dumbest fucking thing I‚Äôve ever heard.‚Äù I‚Äôm looking up the Four Seasons Master Suites. Eight hundred feet of commercial and residential real estate. In the top ten floors, each apartment has a private pool. It‚Äôs some of the most valuable real estate on the planet, 4th and Market, downtown San Francisco, the heart of the safest city in the United States, a technological metropolis, a smoothly running engine generating compound growth of wealth every year, the altar of innovation. A testament to the power of courageous people coming together to build the future. Hong Kong and Singapore look sleepy by comparison. ‚ÄúI guess if people fail to seize opportunity, that‚Äôs on them, and they kinda self-select, they probably weren‚Äôt the right stewards of that opportunity in the first place.‚Äù A little delivery drone flies by silently and drops off a package through an apartment window.</p> <p>I get through the rest of the workday just fine. Our weekly 5PM resident‚Äôs poll was pretty interesting: one item on the poll asked me to vote on whether or not San Francisco should petition to host the 2032 International Kite Surfing Championships at a cost of about $311.60 per taxpayer. I‚Äôm a big fan, so I voted in favor.</p> <p>Rapidfire direct democracy is a great way to make small changes, while the larger changes deserve much more diligent debate. There‚Äôs currently a big discussion about whether the Sunset should have its housing density increased ‚Äì the average ‚Ä¶</p></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://jayriverlong.github.io/2020/12/16/sf.html">https://jayriverlong.github.io/2020/12/16/sf.html</a></em></p>]]>
            </description>
            <link>https://jayriverlong.github.io/2020/12/16/sf.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25497335</guid>
            <pubDate>Mon, 21 Dec 2020 17:50:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Exploiting a Single Instruction Race Condition in Binder]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25497303">thread link</a>) | @pizzalife
<br/>
December 21, 2020 | https://www.longterm.io/cve-2020-0423.html | <a href="https://web.archive.org/web/*/https://www.longterm.io/cve-2020-0423.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
					<div>
						<div>
								<div>
<div>
<h2 id="introduction">Introduction</h2>
<p>In the <a href="https://source.android.com/security/bulletin/2020-10-01">Android Security Bulletin of October</a>, the vulnerability <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-0423">CVE-2020-0423</a> was made public with the following description:</p>
<blockquote>
<p>In binder_release_work of binder.c, there is a possible use-after-free due to improper locking. This could lead to local escalation of privilege in the kernel with no additional execution privileges needed. User interaction is not needed for exploitation.</p>
</blockquote>
<p><strong>CVE-2020-0423</strong> is <a href="https://labs.bluefrostsecurity.de/blog/2020/03/31/cve-2020-0041-part-1-sandbox-escape/">yet</a> <a href="https://googleprojectzero.blogspot.com/2019/11/bad-binder-android-in-wild-exploit.html">another</a> vulnerability in Android that can lead to privilege escalation. In this post, we will describe the bug and construct an exploit that can be used to gain
root privileges on an Android device.</p>
<h2 id="root-cause-analysis-of-cve-2020-0423">Root Cause Analysis of CVE-2020-0423</h2>
<h3 id="a-brief-overview-of-binder">A Brief Overview of Binder</h3>
<p>Processes on Android are isolated and cannot access each other's memory directly. However they might require to, whether it's for exchanging data between a client and a server or simply to share information between two processes.</p>
<p>Interprocess communication on Android is performed by <strong>Binder</strong>. This kernel component provides a user-accessible character device which can be used to call routines in remote process and pass arguments to it. Binder acts as a proxy between two tasks and is also responsible, among others, for handling memory allocations during data exchange as well as managing shared object's lifespans.</p>
<p>If you're not familiar with Binder's internals, we invite you to read articles on the subject, such as <a href="https://www.synacktiv.com/en/publications/binder-transactions-in-the-bowels-of-the-linux-kernel">Synacktiv's "Binder Transactions In The Bowels of the Linux Kernel"</a>. It will come in handy to understand the rest of this post.</p>
<h3 id="patch-analysis-and-brief-explanation">Patch Analysis and Brief Explanation</h3>
<p>The <a href="https://github.com/torvalds/linux/commit/f3277cbfba763cd2826396521b9296de67cf1bbc#diff-8aa818b39daaf6497eaab2ec0b404bcabf43616362fe9551ed7dd2278682af08">patch</a> for CVE-2020-0423 was upstreamed on October 10th in the Linux kernel with the following commit message:</p>
<blockquote>
<p>binder: fix UAF when releasing todo list</p>
<p>When releasing a thread todo list when tearing down
a binder_proc, the following race was possible which
could result in a use-after-free:</p>
<ol>
<li>Thread 1: enter binder_release_work from binder_thread_release</li>
<li>Thread 2: binder_update_ref_for_handle() -&gt; binder_dec_node_ilocked()</li>
<li>Thread 2: dec nodeA --&gt; 0 (will free node)</li>
<li>Thread 1: ACQ inner_proc_lock</li>
<li>Thread 2: block on inner_proc_lock</li>
<li>Thread 1: dequeue work (BINDER_WORK_NODE, part of nodeA)</li>
<li>Thread 1: REL inner_proc_lock</li>
<li>Thread 2: ACQ inner_proc_lock</li>
<li>Thread 2: todo list cleanup, but work was already dequeued</li>
<li>Thread 2: free node</li>
<li>Thread 2: REL inner_proc_lock</li>
<li>Thread 1: deref w-&gt;type (UAF)</li>
</ol>
<p>The problem was that for a BINDER_WORK_NODE, the binder_work element
must not be accessed after releasing the inner_proc_lock while
processing the todo list elements since another thread might be
handling a deref on the node containing the binder_work element
leading to the node being freed.</p>
</blockquote>
<p>It gives a rough overview of the different steps required to trigger a Use-After-Free, or UAF, using this bug. These steps will be detailed in the next section, for now let's look at the patch to understand where the vulnerability comes from.</p>
<p>In essence, what this patch does is to inline the content of the function <code>binder_dequeue_work_head</code> in <code>binder_release_work</code>. The only difference being that the <code>type</code> field of the <code>binder_work</code> struct is read while the lock on <code>proc</code> is still held.</p>
<div><pre><span></span><code><span>// Before the patch</span>

<span>static</span> <span>struct</span> <span>binder_work</span> <span>*</span><span>binder_dequeue_work_head</span><span>(</span>
                    <span>struct</span> <span>binder_proc</span> <span>*</span><span>proc</span><span>,</span>
                    <span>struct</span> <span>list_head</span> <span>*</span><span>list</span><span>)</span>
<span>{</span>
    <span>struct</span> <span>binder_work</span> <span>*</span><span>w</span><span>;</span>

    <span>binder_inner_proc_lock</span><span>(</span><span>proc</span><span>);</span>
    <span>w</span> <span>=</span> <span>binder_dequeue_work_head_ilocked</span><span>(</span><span>list</span><span>);</span>
    <span>binder_inner_proc_unlock</span><span>(</span><span>proc</span><span>);</span>
    <span>return</span> <span>w</span><span>;</span>
<span>}</span>

<span>static</span> <span>void</span> <span>binder_release_work</span><span>(</span><span>struct</span> <span>binder_proc</span> <span>*</span><span>proc</span><span>,</span>
                <span>struct</span> <span>list_head</span> <span>*</span><span>list</span><span>)</span>
<span>{</span>
    <span>struct</span> <span>binder_work</span> <span>*</span><span>w</span><span>;</span>

    <span>while</span> <span>(</span><span>1</span><span>)</span> <span>{</span>
        <span>w</span> <span>=</span> <span>binder_dequeue_work_head</span><span>(</span><span>proc</span><span>,</span> <span>list</span><span>);</span>
        <span>/*</span>
<span>         * From this point on, there is no lock on `proc` anymore</span>
<span>         * which means `w` could have been freed in another thread and</span>
<span>         * therefore be pointing to dangling memory.</span>
<span>         */</span>
        <span>if</span> <span>(</span><span>!</span><span>w</span><span>)</span>
            <span>return</span><span>;</span>

        <span>switch</span> <span>(</span><span>w</span><span>-&gt;</span><span>type</span><span>)</span> <span>{</span> <span>/* &lt;--- Use-after-free occurs here */</span>

<span>// [...]</span>
</code></pre></div>

<div><pre><span></span><code><span>// After the patch</span>

<span>static</span> <span>void</span> <span>binder_release_work</span><span>(</span><span>struct</span> <span>binder_proc</span> <span>*</span><span>proc</span><span>,</span>
                <span>struct</span> <span>list_head</span> <span>*</span><span>list</span><span>)</span>
<span>{</span>
    <span>struct</span> <span>binder_work</span> <span>*</span><span>w</span><span>;</span>
    <span>enum</span> <span>binder_work_type</span> <span>wtype</span><span>;</span>

    <span>while</span> <span>(</span><span>1</span><span>)</span> <span>{</span>
        <span>binder_inner_proc_lock</span><span>(</span><span>proc</span><span>);</span>
        <span>/*</span>
<span>         * Since the lock on `proc` is held while calling</span>
<span>         * `binder_dequeue_work_head_ilocked` and reading the `type` field of</span>
<span>         * the resulting `binder_work` stuct, we can be sure its value has not</span>
<span>         * been tampered with.</span>
<span>         */</span>
        <span>w</span> <span>=</span> <span>binder_dequeue_work_head_ilocked</span><span>(</span><span>list</span><span>);</span>
        <span>wtype</span> <span>=</span> <span>w</span> <span>?</span> <span>w</span><span>-&gt;</span><span>type</span> <span>:</span> <span>0</span><span>;</span>
        <span>binder_inner_proc_unlock</span><span>(</span><span>proc</span><span>);</span>
        <span>if</span> <span>(</span><span>!</span><span>w</span><span>)</span>
            <span>return</span><span>;</span>

        <span>switch</span> <span>(</span><span>wtype</span><span>)</span> <span>{</span> <span>/* &lt;--- Use-after-free not possible anymore */</span>

<span>// [...]</span>
</code></pre></div>

<p>Before this patch, it was possible to dequeue a <code>binder_work</code> struct, have another thread free and reallocate it to then change the control flow of <code>binder_release_work</code>. The next section will try to give a more thorough explanation as to why this behavior occurs and how it can be triggered arbitrarily.</p>
<h3 id="in-depth-analysis">In-Depth Analysis</h3>
<p>In this section, as an example, let's imagine that there are two processes communicating using binder: a sender and a receiver.</p>
<p>At this point, there are three prerequisites to trigger the bug:</p>
<ol>
<li>a call to <code>binder_release_work</code> from the sender's thread</li>
<li>a <code>binder_work</code> structure to dequeue from the sender thread's <code>todo</code> list</li>
<li>a free on the <code>binder_work</code> structure from the receiver thread</li>
</ol>
<p>Let's go over them one by one and try to figure out a way to fulfill them.</p>
<h4 id="calling-binder_release_work">Calling <code>binder_release_work</code></h4>
<p>This prerequisite is pretty straightforward. As explained earlier, <code>binder_release_work</code> is part of the clean up routine when a task is done using binder. It can be called explicitly in a thread using the ioctl command <code>BINDER_THREAD_EXIT</code>.</p>
<div><pre><span></span><code><span>// Userland code from the exploit</span>

<span>int</span> <span>binder_fd</span> <span>=</span> <span>open</span><span>(</span><span>"/dev/binder"</span><span>,</span> <span>O_RDWR</span><span>);</span>
<span>// [...]</span>
<span>ioctl</span><span>(</span><span>binder_fd</span><span>,</span> <span>BINDER_THREAD_EXIT</span><span>,</span> <span>0</span><span>);</span>
</code></pre></div>

<p>This ioctl will end up calling the kernel function <a href="https://android.googlesource.com/kernel/common/+/13abe236365485368755fb76c57a67a9b1f640d8/drivers/android/binder.c#4977"><code>binder_ioctl</code></a> located at <code>drivers/android/binder.c</code>.</p>
<p><code>binder_ioctl</code> will then reach the <a href="https://android.googlesource.com/kernel/common/+/13abe236365485368755fb76c57a67a9b1f640d8/drivers/android/binder.c#5038"><code>BINDER_THREAD_EXIT</code></a> case and call <code>binder_thread_release</code>. <code>thread</code> is a <code>binder_thread</code> structure containing information about the current thread which made the <code>ioctl</code> call.</p>
<div><pre><span></span><code><span>static</span> <span>long</span> <span>binder_ioctl</span><span>(</span><span>struct</span> <span>file</span> <span>*</span><span>filp</span><span>,</span> <span>unsigned</span> <span>int</span> <span>cmd</span><span>,</span> <span>unsigned</span> <span>long</span> <span>arg</span><span>)</span>
<span>{</span>
    <span>// [...]</span>

    <span>case</span> <span>BINDER_THREAD_EXIT</span><span>:</span>
        <span>binder_debug</span><span>(</span><span>BINDER_DEBUG_THREADS</span><span>,</span> <span>"%d:%d exit</span><span>\n</span><span>"</span><span>,</span>
                    <span>proc</span><span>-&gt;</span><span>pid</span><span>,</span> <span>thread</span><span>-&gt;</span><span>pid</span><span>);</span>
        <span>binder_thread_release</span><span>(</span><span>proc</span><span>,</span> <span>thread</span><span>);</span>
        <span>thread</span> <span>=</span> <span>NULL</span><span>;</span>
        <span>break</span><span>;</span>

    <span>// [...]</span>
</code></pre></div>

<p>Near the end of <a href="https://android.googlesource.com/kernel/common/+/13abe236365485368755fb76c57a67a9b1f640d8/drivers/android/binder.c#4691"><code>binder_thread_release</code></a> appears the call to <a href="https://android.googlesource.com/kernel/common/+/13abe236365485368755fb76c57a67a9b1f640d8/drivers/android/binder.c#4772"><code>binder_release_work</code></a>.</p>
<div><pre><span></span><code><span>static</span> <span>int</span> <span>binder_thread_release</span><span>(</span><span>struct</span> <span>binder_proc</span> <span>*</span><span>proc</span><span>,</span>
                 <span>struct</span> <span>binder_thread</span> <span>*</span><span>thread</span><span>)</span>
<span>{</span>
    <span>// [...]</span>

    <span>binder_release_work</span><span>(</span><span>proc</span><span>,</span> <span>&amp;</span><span>thread</span><span>-&gt;</span><span>todo</span><span>);</span>
    <span>binder_thread_dec_tmpref</span><span>(</span><span>thread</span><span>);</span>
    <span>return</span> <span>active_transactions</span><span>;</span>
<span>}</span>
</code></pre></div>

<p>Notice that the call to <a href="https://android.googlesource.com/kernel/common/+/13abe236365485368755fb76c57a67a9b1f640d8/drivers/android/binder.c#4551"><code>binder_release_work</code></a> has the value <code>&amp;thread-&gt;todo</code> for the parameter <code>struct list_head *list</code>. This will become relevant in the following section when we try to populate this list with <code>binder_work</code> structures.</p>
<div><pre><span></span><code><span>static</span> <span>void</span> <span>binder_release_work</span><span>(</span><span>struct</span> <span>binder_proc</span> <span>*</span><span>proc</span><span>,</span>
                <span>struct</span> <span>list_head</span> <span>*</span><span>list</span><span>)</span>
<span>{</span>
    <span>struct</span> <span>binder_work</span> <span>*</span><span>w</span><span>;</span>

    <span>while</span> <span>(</span><span>1</span><span>)</span> <span>{</span>
        <span>w</span> <span>=</span> <span>binder_dequeue_work_head</span><span>(</span><span>proc</span><span>,</span> <span>list</span><span>);</span> <span>/* dequeues from thread-&gt;todo */</span>
        <span>if</span> <span>(</span><span>!</span><span>w</span><span>)</span>
            <span>return</span><span>;</span>

    <span>// [...]</span>
</code></pre></div>

<p>Now that we know how to trigger the vulnerable function, let's determine how we can fill the <code>thread-&gt;todo</code> list with arbitrary <code>binder_work</code> structures.</p>
<h4 id="dequeueing-a-binder_work-structure-of-the-sender-thread">Dequeueing a <code>binder_work</code> Structure of the Sender Thread</h4>
<p><code>binder_work</code> structures are enqueued into <code>thread-&gt;todo</code> at two locations:</p>
<ol>
<li><a href="https://android.googlesource.com/kernel/common/+/13abe236365485368755fb76c57a67a9b1f640d8/drivers/android/binder.c#824"><code>binder_enqueue_deferred_thread_work_ilocked</code></a></li>
</ol>
<div><pre><span></span><code><span>static</span> <span>void</span>
<span>binder_enqueue_deferred_thread_work_ilocked</span><span>(</span><span>struct</span> <span>binder_thread</span> <span>*</span><span>thread</span><span>,</span>
                        <span>struct</span> <span>binder_work</span> <span>*</span><span>work</span><span>)</span>
<span>{</span>
    <span>binder_enqueue_work_ilocked</span><span>(</span><span>work</span><span>,</span> <span>&amp;</span><span>thread</span><span>-&gt;</span><span>todo</span><span>);</span>
<span>}</span>
</code></pre></div>

<ol>
<li><a href="https://android.googlesource.com/kernel/common/+/13abe236365485368755fb76c57a67a9b1f640d8/drivers/android/binder.c#842"><code>binder_enqueue_thread_work_ilocked</code></a></li>
</ol>
<div><pre><span></span><code><span>static</span> <span>void</span>
<span>binder_enqueue_thread_work_ilocked</span><span>(</span><span>struct</span> <span>binder_thread</span> <span>*</span><span>thread</span><span>,</span>
                   <span>struct</span> <span>binder_work</span> <span>*</span><span>work</span><span>)</span>
<span>{</span>
    <span>binder_enqueue_work_ilocked</span><span>(</span><span>work</span><span>,</span> <span>&amp;</span><span>thread</span><span>-&gt;</span><span>todo</span><span>);</span>
    <span>thread</span><span>-&gt;</span><span>process_todo</span> <span>=</span> <span>true</span><span>;</span>
<span>}</span>
</code></pre></div>

<p>These functions are used in different places in the code, but an interesting code path is the one starting in <a href="https://android.googlesource.com/kernel/common/+/13abe236365485368755fb76c57a67a9b1f640d8/drivers/android/binder.c#2524"><code>binder_translate_binder</code></a>. This function is called when a thread sends a transaction containing a <code>BINDER_TYPE_BINDER</code> or a <code>BINDER_TYPE_WEAK_BINDER</code>.</p>
<p>A binder node is created from this binder object and the reference counter for the process on the receiving end is increased. As long as the receiving process holds a reference to this node, it will stay alive in Binder's memory. However, if the process releases the reference, the node is destroyed, which is what we will try to achieve later on to trigger the UAF.</p>
<p>First, let's explain how the binder node and the <code>thread-&gt;todo</code> list are related
in the call to <a href="https://android.googlesource.com/kernel/common/+/13abe236365485368755fb76c57a67a9b1f640d8/drivers/android/binder.c#2553"><code>binder_inc_ref_for_node</code></a>.</p>
<div><pre><span></span><code><span>static</span> <span>int</span> <span>binder_translate_binder</span><span>(</span><span>struct</span> <span>flat_binder_object</span> <span>*</span><span>fp</span><span>,</span>
                   <span>struct</span> <span>binder_transaction</span> <span>*</span><span>t</span><span>,</span>
                   <span>struct</span> <span>binder_thread</span> <span>*</span><span>thread</span><span>)</span>
<span>{</span>
    <span>// [...]</span>
    <span>ret</span> <span>=</span> <span>binder_inc_ref_for_node</span><span>(</span><span>target_proc</span><span>,</span> <span>node</span><span>,</span>
            <span>fp</span><span>-&gt;</span><span>hdr</span><span>.</span><span>type</span> <span>==</span> <span>BINDER_TYPE_BINDER</span><span>,</span>
            <span>&amp;</span><span>thread</span><span>-&gt;</span><span>todo</span><span>,</span> <span>&amp;</span><span>rdata</span><span>);</span>
    <span>// [...]</span>
<span>}</span>
</code></pre></div>

<p><code>binder_inc_ref_for_node</code> parameters are as follows:</p>
<ul>
<li><code>struct binder_proc *proc</code>: process that will hold a reference to the node</li>
<li><code>struct binder_node *node</code>: target node</li>
<li><code>bool strong</code>: true=strong reference, false=weak reference</li>
<li><code>struct list_head *target_list</code>: worklist to use if node is incremented</li>
<li><code>struct binder_ref_data *rdata</code>: the id/refcount data for the ref</li>
</ul>
<p><code>target_list</code> in our current path is <code>thread-&gt;todo</code>. This parameter is only used in <code>binder_inc_ref_for_node</code> in the call to <code>binder_inc_ref_olocked</code>.</p>
<div><pre><span></span><code><span>static</span> <span>int</span> <span>binder_inc_ref_for_node</span><span>(</span><span>struct</span> <span>binder_proc</span> <span>*</span><span>proc</span><span>,</span>
            <span>struct</span> <span>binder_node</span> <span>*</span><span>node</span><span>,</span>
            <span>bool</span> <span>strong</span><span>,</span>
            <span>struct</span> <span>list_head</span> <span>*</span><span>target_list</span><span>,</span>
            <span>struct</span> <span>binder_ref_data</span> <span>*</span><span>rdata</span><span>)</span>
<span>{</span>
    <span>// [...]</span>
    <span>ret</span> <span>=</span> <span>binder_inc_ref_olocked</span><span>(</span><span>ref</span><span>,</span> <span>strong</span><span>,</span> <span>target_list</span><span>);</span>
    <span>//‚Ä¶</span></code></pre></div></div></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.longterm.io/cve-2020-0423.html">https://www.longterm.io/cve-2020-0423.html</a></em></p>]]>
            </description>
            <link>https://www.longterm.io/cve-2020-0423.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25497303</guid>
            <pubDate>Mon, 21 Dec 2020 17:48:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building Your Digital Attic]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25497117">thread link</a>) | @etherio
<br/>
December 21, 2020 | https://www.uzpg.me/tech/2020/12/21/building-your-digital-attic.html | <a href="https://web.archive.org/web/*/https://www.uzpg.me/tech/2020/12/21/building-your-digital-attic.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
        <div>

  

  <p><span>knowledge</span></p><p>21 Dec 2020</p>


<p>3 minute read</p>

<p>A <strong>digital attic</strong> is a collection of the links and content you‚Äôve found on the web. I store mine in a <a href="https://uzpg.me/attic.html">markdown file</a> (<a href="https://github.com/Uzay-G/portfolio/blob/master/attic.md">source</a>). It‚Äôs meant to be easy to move around and share, and I usually update mine every once in a while by pooling from my bookmarks.</p>

<p>This ‚Äúattic‚Äù has two purposes:</p>

<ul>
  <li>Have a readable, clear organization of all the cool stuff you find online. This allows you to look back on old content easily. The problem with the way most browsers handle bookmarks is that you always have to go through a certain amount of effort to have some sort of flexible, readable and clean organization of your links.</li>
  <li>Be able to share the things you‚Äôve found interesting and also exchange with other people‚Äôs attics.</li>
</ul>

<p>I‚Äôve found some similar implementations of <a href="https://zalberico.com/about/">digital attics</a> online, and always found them insightful and useful.</p>

<p>However, this process of indexing and then revisiting these links showed me another problem with the way content persists on the web.</p>
      <h2 id="link-rot">
        
        
          Link rot <a href="#link-rot">#</a>
        
        
      </h2>
    

<p>I updated <a href="https://uzpg.me/attic.html">my attic</a> yesterday, and noticed that quite a few links no longer returned anything.</p>

<p>This is <strong>link rot</strong>, the gradual abandonment of websites / content that leads to a loss of information and <strong>public record</strong>.</p>

<p><img src="https://www.visualcapitalist.com/wp-content/uploads/2017/08/linkrot-1.jpg" alt="link rot visualization"></p>

<p>This loss is linked to the financial / time commitment needed to run a website. <a href="https://jeffhuang.com/designed_to_last/">Jeff Huang‚Äôs manifesto ‚ÄúDesigned to Last‚Äù</a> also describes this problem and potential ways to simplify serving content and make your websites more resilient.</p>

<p>Another approach, proposed by the Internet Archive and its amazing <a href="http://web.archive.org/">Wayback Machine</a> initiative is to actually store copies of websites as they were in the past.</p>

<p>A similar way I‚Äôm trying to work on this problem is <a href="https://archivy.github.io/">Archivy</a>, a knowledge base tool that stores local copies of web-pages in Markdown. One of its core focuses is <a href="https://archivy.github.io/difference/">extensibility</a> and building in ways for users to interact with their knowledge programmatically.</p>
      <h2 id="making-things-easy">
        
        
          Making things easy <a href="#making-things-easy">#</a>
        
        
      </h2>
    

<p>Organizational tasks like these can sometimes get tedious (especially if you have to check if the links still work), and it can be annoying to waste too much time on updating your attic. This is why in my case I wrote a <a href="https://github.com/Uzay-G/garret">simple Crystal script</a> that converts the Firefox JSON bookmark export to clean Markdown.</p>

<p>Since there are obviously some links I don‚Äôt think are useful to put into my attic, I also added some functionality where you can store a file with links to be ignored.</p>

<p>This process helps me quickly update my attic whenever I feel like it, but more than that, it would make it easy for me to download web-pages automatically, preventing them from degrading with link rot.</p>

<p>I‚Äôm thinking about adding a few features to this tool that would work against this problem:</p>

<ul>
  <li>The code could connect to the <a href="https://archivy.github.io/reference/web_api/">Archivy Web API</a> and pass it the page URLs for it to save and mirror them.</li>
  <li>Automatic checking of which links are no longer up.</li>
</ul>

<p>I recommend finding a way to automate the action of updating your attic if you build one, because it‚Äôll help make the process more fun.</p>

<p>This concept is merely an idea for a manner in which you can index this information, but I‚Äôm sure there are many other innovative and creative way to go about this (and I‚Äôd love to hear about them!).</p>

<p>If you find any other intriguing attics, please link them! I‚Äôm always curious :)</p>


<p>Check out the <a href="https://tinyletter.com/uzpg_/">blog newsletter</a> to know when there are new posts / updates!</p>

<br>
<hr id="bottom">
<br>
<applause-button color="#5d5b6a">


</applause-button></div>

    </div></div>]]>
            </description>
            <link>https://www.uzpg.me/tech/2020/12/21/building-your-digital-attic.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25497117</guid>
            <pubDate>Mon, 21 Dec 2020 17:29:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[New Psychoactive Substances: Global Markets, Local Threats, & COVID-19 Pandemic [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25497079">thread link</a>) | @infodocket
<br/>
December 21, 2020 | https://www.emcdda.europa.eu/system/files/publications/13464/20205648_TD0320796ENN_PDF_rev.pdf | <a href="https://web.archive.org/web/*/https://www.emcdda.europa.eu/system/files/publications/13464/20205648_TD0320796ENN_PDF_rev.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div √à√≠‚Ñ¢5=";b≈†¬§6XÔøΩM&amp;¬ªM√¥M#D≈Ω]&quot;√§Àú&amp;≈∏S√¥RFo:6¬•U@!√Å¬±√ã≈Ω√Ü¬∏‚Ç¨¬ßU¬°√å√≠√©√ë^.√∞@q&quot;(VPÔøΩJ‚Ä¢c≈∏$≈í'√ßv√£√õ¬ø¬£√¥√ç√¢√®‚Ä†bQ¬≥5*√É0GeKkH√ä‚Äô&nbsp;≈æ)LJE" √ã="">√ì√©‚Ä∫ÔøΩCDdT√èr√Ç√Ü‚Ä¢√óe¬•jv"	√¨√¥√®M25-db√≤√µx√Ü√Ü¬µ4¬Æ]H√ï√©]√ÆK‚Ç¨r‚Ä∞u5¬≠J√ñ¬¨
2a√ñ+¬∂‚Ä†-/¬§¬ß√±‚Äö√õ2@‚Äú¬∏‚Äò¬∞t√∂]( a@√∏ZQÀÜ√∞√ñ‚Ä°√é¬∑w√õ√ñ*‚Äö∆í,‚Ñ¢)"O√î]cEE√≤√∏‚Äî=(xA‚Ä¶&amp;do¬®&lt;‚Äôv‚Äò¬∏√öls$‚Ç¨5-¬∞tl¬≠3¬£√£¬ø√ÇV@ÔøΩLOJ√¢¬©¬¢H√êm√∂‚ÄúD√©ÀÜH≈Ω√≠2¬≤1√ÅFl√î√Ø\√´ÔøΩ&nbsp;√å√àX√É‚Äö‚Äò4o≈°d¬≤'Jw√Ω#c¬µwc¬æ√ñ√ë¬¥‚Ä∞s‚Ä¶%s√é√£.¬≠‚Äù¬∏U¬∏¬∏‚ÄùÔøΩH√à¬°√åZ‚ÄúEh≈†t¬º^√è &lt;√Ø:√Éi7¬∂√ó¬≤H"‚Ä¢√¢k≈ì≈†2√É(¬ß#}¬±u1C-‚Äôl‚Äì¬£r‚ÄùDJ"√â√±	U¬°ÀÜ≈í¬´\
√†√ê!√™√®I¬Æy¬©√ã¬Ø¬≥‚Äô&nbsp;≈æ√í√ïR¬∫¬´√Ñ‚Ç¨‚Äπ)¬°F√∂]‚Äùs√ï√î√¥m:7¬´M√ò&nbsp;&gt;√ß√ö9C≈†¬¥¬≠‚Äì√ØÔøΩ√ç√∞‚Ä°7X≈í√ø√ï≈∏¬•∆í√ü.‚Ä∫¬∫&lt;¬∞¬∫¬©√Æ√¢
,‚Äò√Ñ@4-√É‚Äû√Ü√§
 √ã‚Äû‚ÄôC¬∂≈ì≈æ√É#√ózZ‚ÄúJh√Åx‚Äù^√†c¬´Z$a,F7JG R¬¶¬∂(≈°ÔøΩ√àb¬Æ;√â≈íÀÜ‚Ä¢|,X√Öa¬ª¬±g√èÔøΩYOa√ó√Ç¬øGx‚Ñ¢L‚ÄîI‚Ñ¢√ãaP0√Ö!¬∞≈íÔøΩ0¬™‚Ä∞c‚Ñ¢√ôe√ûQnhQ√±‚Ä¶√â8%√Çi%¬∞¬≥¬´¬∂√ª0¬∑√µ‚ÄòXI‚Äú‚Äì
$C‚Äû"eL*¬¥¬ÆY‚Äú¬∂√à√íF¬¶1H≈ìÔøΩ∆í6‚Ä∞√í7√¶f7‚Ç¨√∞‚ÄòT¬ØPÀÜ¬ΩZ¬™7(√öwZ√ßCh√àtrqe‚Ä¶)Z√§√É&lt;2q√´5√¶√∑)+√†√íI*√ç!√É√Ç√Ä. √°¬Ø‚Äù¬•¬§¬£√©BA≈Ω√ÆÀÜEx√íHXÔøΩ√õKQE[=¬ª¬≠h¬≠√ò‚Äù‚ÄôI'f¬ª√à¬∑WjÔøΩK√ÅcLÔøΩ9√ë8@YM3ÔøΩn¬≥W¬≠t¬æ‚Äò4√ä√´‚Ç¨¬≥√±A¬∞√≤Qw6√≥hÔøΩÔøΩ&amp;2o√†√†1√¢√Ä√åp√ûÔøΩ≈Ω√õH‚Ä¶/√ë¬πoG0¬®ÔøΩ(Tl2¬µ@¬¶V√ÉLÔøΩta∆í¬´w√´;‚Ä†b≈°√àEk√ãP¬∞)√ì¬µ√ç√ö5‚Äû¬£J&amp;I¬≥	¬•E¬¢Àúd√ã‚Ä¢h≈ì√Æ¬°√≥1RÔøΩ√∞√•√û!z6√ö√ù!√™√ç#eL√§s‚Äîb√ñ√Ü√≤'D1√õ¬±%‚Ä¢Àú√îF]ZÀÜ√°¬™¬°√ä√°¬¢1≈°V¬•√Ü√õ1x√†o2¬∞ÔøΩ¬π√ç¬§¬ß‚Ä¶x√å:¬´.√Ñ
‚Äì.¬∑P3@I√ã&lt;√ª{mb¬ª¬°¬¢F¬´√ì
-ÔøΩ√£#,0D√•√î"√ì¬´ÔøΩ¬≤;hR≈æ≈Ω√ä[¬°‚Äî,P)√É\¬≤NI[¬£i≈†B(X¬¨‚Ä∫√≠
√¶√∞‚Ä†bJgQ¬∑Xl√∏√Ä‚Ä¢:√é√ª%≈°:√ê3R¬•ÔøΩEs‚Äû≈°U‚Ä°‚Äùw∆í‚ÄîN√ñE√ô¬≤¬∂hfmÔøΩ√¶C≈†√∂¬Ω√É‚ÄöCA@'√Ç¬µ√ú(√¢√µ&nbsp;{;‚ÄôDÀú*‚ÄöI11A¬≥"√ç2√à√Ö¬§¬©√õ√õR-*¬µ¬Æ√ôl}b‚Äû√ì√óa-
nB≈í√™¬§ÔøΩ¬∏√≠a√µ≈∏C( p∆í-ÔøΩ‚Äò‚Äû√é√´√ñ{¬ªm¬ß¬¥1¬∂√ëf√º√ÑOA√¨-ÔøΩ¬°≈íP≈í¬∫√è¬¢Hj√ç!√Ö‚Äû‚Äô√ë?g¬®¬ªj‚ÄòÔøΩ‚Ä¢√úGt‚Ä¢√∏8b‚Äì√≤[¬´¬µS&amp;|B¬∏‚Ä†√¢,√¥¬∞$√ÅVXÔøΩ¬¢d¬¢∆í.√à4.F√ïD~V∆íM(.¬Æ√≤√û'‚Äù√ãx$¬π?√ì¬±√®‚Ä∫Y#)[F¬¢∆íP(,&nbsp;√§‚Ä†%3√ïl√à`m¬∂X√õfY¬®s¬∂√Å√ø√ñ‚Äî%7√ô‚ÄîR√Ç‚ÄìuÀÜb7L‚Ä¶4z\√∏IdV‚Äî:≈°√ì¬£‚Ä¢¬´	√ê¬§{≈ìN√Ñ:√´√ÖlÔøΩÔøΩEL
=JZ√∫D√ëkKfft;√¥≈Ω√±j√ã√Ñ¬±bQqdN√ò¬°‚ÄπZ√ê√õd¬ºKM‚ÄìÔøΩM‚Ä∫b-D|4√ªh
r¬≥√å,√û2¬¥≈í

Qm¬´√Ü√â√à%≈ì)Z	
	√õ‚Ä¢¬±√∞ √•T√ö;N
√îV√ç‚ÄöX√¥klr0J‚Ä°¬Æ$√Æ√õkW{¬≠√ö√§!ÀÜ+J√§3¬π¬™3¬¢√ß‚Äîej¬ª¬•√¢;¬≥	¬¶‚Ä∫ÔøΩ ≈æ√ä√ç√â{iÔøΩK¬∏ZD√ßÀú√à√ï,O_d√Ö¬æ√ê√ûBI
s6√Ñ‚Äò¬∂¬≤√ò¬±≈†qg¬∂¬∂√ì1;l√ë‚Äô∆í-¬∂H}√∂ÔøΩ!√ö¬≠+d√£√è+4d√ùl¬ÆU6√ÅÔøΩ√ö‚Äö√ª4X‚Äúm`

+f√òÔøΩm$√¥ke+U‚Ä¶l√ëj√¶,‚Äú%¬≠¬∞H‚Äù√íV√ëCZ√ñ√õ‚ÄôLY√ôÔøΩT√≠√õl3?√ø√ó‚ÄúZf{5ÔøΩ$ÔøΩe¬∏5¬Æ√´$√ßKV√ëbE+K4√ô√Ω‚Ä¶‚Äì√å¬©√ê/‚Äî‚Äú1CÀúc‚Ç¨√ìo√ú√í{a√Ü^√≥
√≠q‚Ä¢7√¥rn[√é‚ÄπP6i¬∞√¥√´hj√ò¬®√É	¬®√Ü√Ç‚Ä∫¬®Y‚Ä°cE"√à‚ÄôL:¬¶*L√†√ëA√™√Ä√Ø√®Y‚Äô‚Ä†¬Ω¬±R√ÅY√í¬¢¬¥√äÔøΩM¬¥5√ä√à7‚Ä∞√ÅV√´√∫U√¨r√õfVZ?;√ûK¬≠)¬µkVSSÔøΩ¬ß$√õ8¬§¬ß√¥√®s"¬£qW4√é√ò√òC√èze;≈†≈°√°aÀú*
1
T‚Ä∫-√Å√õ‚Äî!√ñ‚Ä∫)‚Ä°:≈ì¬™:5√èe‚Äî‚Ä¶≈†q√Ä5;√Ö`√û‚Ä¶+‚ÄòmV¬´X¬•35√à√Ø"¬¥√ò√áq¬¥$%B\r¬§¬™Ml¬µev¬ß¬ºI%√ï√∏ZÔøΩ‚Äö√ä¬£¬≤√è¬Æ¬¶√ù√∂≈æ‚Äô¬±PF√Ébn	O"¬Øv6√åEA0¬µ√öv√ôXÔøΩMlV0-H¬≠M¬∂√ÆI√ã¬¥¬≥A√∏√î¬∂√â√ül√å¬ÆvK¬∏√Çv6l√âL¬¨√ô}√¶√ò¬±ÔøΩ√•55,¬≤√Ç¬¥¬≥Q≈ì¬ß¬≤¬≥o&amp;v√ác√¶@√â'¬£√£√üK-^¬ª-B¬±gK$√âS‚Ä¢¬µ!&nbsp;¬≥d√ê[08√å=4¬Ø‚Ñ¢√é√âi2√é√àV√å√õ√ø√ê‚Äôs¬≥mÔøΩ¬•l¬≤l‚Äú√ë¬µAÀÜ¬∑¬πJD√â‚Äπ0 7C¬¢m^√à(T√§‚Äù√∞√•D=}3ai¬∑‚Ä¶i$\4f√ÑRNY√¨√ä√ó%√ë:+∆í‚Ä¢√∞w*√ï‚Ä∫√âKW≈†
wt√ç¬¨A	j"‚Ä∞GL¬ªqT√≠¬¶√™o√é¬µQJmSDa¬®Q‚Ñ¢#¬ßA¬∑¬™¬≥S my¬¨ZR√Ø&lt;ÔøΩ√Æ√ê√ì
J-8√Ñ√ómF√É1√ü√í√≤aY*I9≈íDÔøΩ√Ä¬¶c :vA¬µ√≠F‚Äòz&amp;≈†√ÑÀÜ√™√Ä‚Äô¬µ√ÑT8¬ßÀÜhW3√ë¬µ√•√áD√ù√¶Ro‚Äî‚Äö‚Ä°
Fb¬µ5[q"¬πZ‚Äì√´4h√∏√û¬©√Å≈†Nb¬µ&nbsp;$r¬∫5√ùi‚Ä∫5V"¬ªH√≠¬≠≈íFL‚Ä¢‚Ñ¢$√¨√Ñ√≠'w√ë√ó0√çv≈∏√Æ
‚Ä†√Ä6¬ª¬•jI¬§ÔøΩ√®√ò√â-¬∞∆í≈æT‚Ä°DPP.√π#L‚Äû¬ªz$√î√ö‚Äì√ßx&amp;√∂√∑g¬°3SQÀú¬≠
s‚Ä∫¬≠‚Ä†a2Àú‚Ä†√á"5¬¨≈íK¬ºF√çu‚Ä¢I5√Ä√î¬¶√í¬®¬•i‚Ä¢Nb√ít|‚Ä†[¬¥MZ√ïA¬≤p6√•≈æf‚Ç¨√ß\√é√ä6C¬Ø¬≥z¬´sD√´S√òX&amp;5‚Ä∞√ômb[√ì+3#h,`Qq≈†¬∂Q|T¬≠Àú&amp;‚Ä∫m¬∞√õ√Ö¬°bH8√ú¬™mN√ö√ç√£;M¬≥"‚Ä°m¬∞`[ISf√â¬•‚ÄúZm¬≤K‚Ä¢¬∞b‚Äö√±‚Äπm"B√Æj¬¢√ãV
¬§¬©√å√öHP#y√é√â~(√à√≠¬≥e√à√ô¬∂√â/S‚Ñ¢¬∂$√ñ√ò‚Ä†√ç¬¥‚Ñ¢√í√ö+ÔøΩ¬∞√åH√ø√ëXÔøΩ‚Ä∫e	√∂‚ÄìhV¬∂V"mXb-√°√ñ9¬∂G:Z;√å√Ü¬§‚Äú‚Ñ¢¬≠¬∑¬§√±,j√ªHaJZ/
‚Äò‚Äì
≈∏B√âp8≈ì√õR¬™‚Äî¬¥&lt;Àú√Å';-√≠√Æ√∫\√ÑÔøΩ‚Ä¶vÔøΩ@(F[F√º√≠u}¬Ω¬≠√ôK√Ö`6Z‚Äö√°‚Äî¬´√≥√ûp≈ì,√ô
√í¬¥√ô√ê√ôi3Q‚Äπ ¬¶≈°√í$¬≠exP¬ø√ÉP¬´+Q(W}i≈æ√≠¬µ¬≠,√≥pL√Ä√îÔøΩs√õJ√ö9‚Ñ¢
≈ì-≈æf¬ß sj¬ªl√É√ê[Gs4B‚Ä∞¬∞rÔøΩ¬≠Wm√ÉS‚ÄîelS√ë¬¨√Åe¬¢√êZ	¬∫3Z√Ñ√π√ôc‚Äû√ç@√ä¬Ω&gt;‚Ä¶‚Ä°n√øI√âx¬¶$
L√∂√´√∂‚Äúx[√Ω√¥‚Ñ¢¬©a√ù√ñ‚Ä†√ä√ô√ª¬•√â.√â√Ö√ä¬≠√ë¬°&nbsp;&nbsp;4¬ßV√ôb√•c¬¨¬¥Z√§H¬¢√®ÔøΩk@4P‚Ä†√ÄI√è1¬∂‚Äì‚Äπ¬¢&amp;(√ì√É√ñen√ó1√õ√ô√ºJi‚Äö≈ìc≈†∆í!Q]‚Ñ¢√§s¬¥]‚Äú¬æ‚Äì¬Ω√ù√¢≈í¬ª1Wf:dt-‚Ä†√§i^E¬∂"√ï&amp;√ç‚ÄúCg|¬ø∆íU¬Ω‚Ä¢Y√âRH¬ßD√•√öZ¬™{√ªC.1≈Ω√ãD7√ç%-N√∫);¬¨‚Ä¢nÔøΩ¬¢-√πF √â‚Äπf!J√ô√∏√òm6∆í%8≈ΩVKqzvO	ÔøΩ
ÔøΩ√èh¬∏Y%¬∞√ô√Å¬∂[`√Ä¬¨U√ôe¬¢√í√å)5¬≤‚ÄπÔøΩ‚Äò¬∂
rjM‚Ä∫.+ÔøΩ¬∑≈†¬¢¬¢√ç¬∫S6√ä√ò¬±∆ínl‚Ä¢ ‚Ä∫4√íV√äÀÜ¬©'¬•&nbsp;`√ø√í√ë¬™≈ì√¨≈ìV[q‚Ä¶‚Äò‚ÄûÔøΩ¬´E¬Ω¬∞√†X≈°√§+√Ö9√•¬∂‚Äûo¬µ#B$√§‚Ä†B@¬°Z√í‚Ñ¢√¨$‚Ä∫_H)[kEh¬∏/√í^‚Ñ¢‚Äì¬™y‚ÄöjI¬≠k≈æ√ã$*A i¬øL√à√†√Éh‚Ä¢‚Ä¢¬´;‚Äî√ã,√∏¬¶‚Ä°≈í√Éo@ÔøΩ√ë¬≥√âw≈Ω√¨‚Ä†5lV^√ÑQv√§√Ü‚Ñ¢√ò¬£M√èk√Å√ù.√´xF!C6F¬≠√ë√é¬ª√¨&gt;‚Äò0√åcÀú‚Äù√ÇR¬•1W¬µ≈Ω√°√ê¬¥¬®ÀÜ^‚Ä∫A¬¨√ö√û≈°√±¬°√Ü8ÀÜZP≈ΩUv√•‚Ä°#√ëAi‚Äî+∆í√ü]bV
√åx¬§≈ì√Öv¬∞45¬≠vZ5 2√†]√ä3¬•+@¬≠‚Ä¢GF√ñ7i√ö3P√ô¬°√Ç‚Ä¶r√ãy√©a
√öM$≈°¬©‚Äô;1e¬§√¥&gt;≈í√ë¬∞√°‚Ñ¢√ß√é¬°H	ÀÜ√ñ‚ÄûR)\√≥5¬∞√Ω√¶T≈†l0≈ΩU#ve¬´AC‚Ä¢¬¶√û//2√ë¬®{√èbs¬µÀúV‚Ä∞xe√™¬ªm‚Ä†d6√ö≈í√ç¬¶i-fNLO√Ü1≈Ω‚Ç¨ ÔøΩ∆í*√å√µ≈°√ñ√ï√ó‚ÄùÀú√©8¬¢≈íG@√¨√•F!‚Ç¨ÔøΩ‚Ä†‚Ä¢√é¬∂ÔøΩuv¬º√ù√£ÔøΩ)<q‚Ñ¢√å√î√Ø¬Æum‚Äìm√´ 7ÀÜ‚Ç¨¬•√Ñ≈†)¬∞ÔøΩkq√ê¬¥:¬¨tqi¬¨‚Äö):4‚Ä∞ba¬º¬®l6ufc√∂¬¨¬ø√Ö√Ç√Üh√õ¬∫√ío¬≥¬∏√†√é[r&√§q¬§≈°h-¬¶d√ö¬°="" √¢√§¬Æ@ÔøΩ\f¬µ¬™u√ù+[#uc="" √¢√ï7d"6^¬ºÔøΩ¬π‚Äì4¬•¬≠t¬°zÔøΩx¬§8n√é√≤7≈†‚Ä∫l√îÔøΩ‚Ç¨¬®¬≥¬∏w√õd√òÀÜ="" !;m‚Äùi¬•‚Äôs√ôm≈Ω*q¬≥6√ÅÔøΩj√î√•y¬≥!f√ày√à¬ßm¬¥2¬∂="" p‚Ä¶;;5$≈ír&√âs√ë¬≤b6ÔøΩ∆íy√ó-√∂√ò46√í≈°m√é√ä¬¢‚Äú‚Äò¬∂="" √ø√ìn#[cfu¬≥l√ô√≠¬∂Àú√§-xcr√¨¬¥a{x¬≥ÀÜ√°e¬®¬®√õ‚Ñ¢¬≠{[="">√§≈†‚Äú√ôZ¬≠√ü¬¨‚Ä°#[J7 ≈°HY√æ¬ßN/?PS‚ÄôjX√î≈ì√â;mC¬¨)H¬´‚Äú&amp;u√©Z√©ÔøΩB√ó¬µ¬µ.‚Ñ¢‚Ñ¢g√±‚Äû√Ñe√óg√∂‚Äú¬©≈Ω$√äMZ)¬∑T¬∂¬Ø√¥yw¬π¬£C@T√ì!√êci√®√∏¬±√¶ju√õ¬∫¬∂‚Ä¶u¬¨q‚ÄòP0≈í¬∫ 
√¶vv√é¬ª¬∞‚Äú"¬¶¬§Z‚Ä†g¬¢m≈Ω√á	b5√ëh5‚Ä∞4ÔøΩ√ãB$¬µf‚Ñ¢`√ór∆íkd¬§=√•‚Ç¨!5¬ßC-¬¥√¨¬≠.¬≤^%^+M√ãZV¬§PgL√≠7‚Ñ¢,√¶‚Äú√¶d‚ÄöM√Üd¬≠‚Äî¬£√£e¬∏G‚Ä°‚Äô%¬™¬∑a¬°√¢√ö.‚Ä¢X‚Ä°∆ía'≈∏¬≠[√ñ√ã@zY√≠¬µ‚Äö
‚Äö#9√ó*eS√ì√íÀú¬≤6ÔøΩ¬•H¬Ω&lt;aJ¬ªp≈Ω2¬®‚ÄúR((s¬∂ÔøΩ√ÇÀÜ√çk!¬¶√°)√Å‚ÄìV#¬∞√æ‚Äö√ë≈ìM)≈†‚Äò]√ô√ê√Ø¬µ≈°√ù¬≤r√õ¬ª¬°g"¬ª*SV&amp;ÔøΩ¬Ω&amp;[Y$I√Ü√îE¬π√ùi6ÔøΩ∆í:≈∏_iEl√†B	¬≠¬¥S;≈†Ct√ã;6√î¬≥≈í,√ìl¬•¬∞√ÜP∆íAd¬ΩM≈ì¬¶Vm√≥ÔøΩÔøΩ¬Æ‚Ñ¢¬∂¬•¬¥√Ñ√ô5√ÅÔøΩ-√ì¬≤I‚Ä¢¬±√õ¬°dt√≠‚ÄöC‚Ä¢¬®¬∂¬≥¬Ø√¢[√é'!g√ßE0T(¬ßmw√ñ√ê1N√ø√î≈í√ú¬°e
‚ÄìKr‚Ä¶‚Äù6Z&nbsp;√É2√≠¬µÔøΩf√∞v√πÔøΩ√ñ¬æ‚Äîm¬®4‚Ä°ÔøΩ¬∑√´‚Äì√â	{J_+√àÔøΩ#¬ø√ãÀÜ√ê¬∞¬®¬≠¬°.w‚Ä∞+≈∏m√´√≠2NA√´√≠
&lt;‚ÄûI√´Q√≥√°iHm¬≥≈í√ú^&lt;4√≤√£;√ãÔøΩOJ‚Äπ‚Ä¢‚ÄúRc‚Äô¬ª¬™GHÔøΩ¬∂Q√•E√´¬°√≠‚Äì√â√Æ≈ì¬Ωu¬∞ÔøΩ
" √ß¬®√ò√ë√ì¬•Usl,V√≥√Ö$r≈Ω]¬∂v√É√à≈∏√ñ√ë√º√µ√≠¬¶√≤:√¶√ª5¬≤¬§0OEV¬¶ 8S≈∏F¬±√ö¬™√©√Ü¬Ω√é√≠‚Ä∫Tq≈Ωg`√ükX√∑z√†¬ø&gt;≈Ω√ïW/!3√µ√£¬∂¬±7GyN√±‚Äö√âv(m¬≤W`¬∂√Ü√õ#√ç¬∂√õ8√ñm¬∂√öC√ô¬≥¬≤√é=ÔøΩv[`m¬∑Y¬π6Y√Ü√ùf¬§√ôl1!¬ß√§√ô[√≤l‚Äπ@√Ä‚Ä†¬∂c[f√ò$Xh`8yN√±√í9Y√ù.¬™¬≠PAJ≈ì√¨√ñ‚Ä†√±√∫o\‚Ä∫√¨,√∂‚Ñ¢√•C√´A√∂6‚Äö‚Äî‚ÄûÔøΩ√ø√ô
endstream
endobj
1917 0 obj
&lt;&gt;/Filter/FlateDecode/Height 210/Intent/RelativeColorimetric/Length 74/Name/X/Subtype/Image/Type/XObject/Width 206&gt;&gt;stream
H‚Ä∞√¨√Å0√Ω{Q‚Äπ√ºm¬´J√íAf'√Ä√®P`√≤
endstream
endobj
1918 0 obj
&lt;&gt;stream
√ø√ò√ø√ÆAdobed√ø√õ√Ö






		




		




√ø√ù
√ø√Ä√í√é"√ø√Ñ¬¢	
	
{!1"2AQ#BaqÔøΩ$ERd‚Äû‚Äò¬°¬¢¬±√Å√Ç√ë√í√±	
%&amp;'()*3456789:CDFGHIJSTUVWXYZbcefghijrstuvwxyz‚Äö∆í‚Ä¶‚Ä†‚Ä°ÀÜ‚Ä∞≈†‚Äô‚Äú‚Äù‚Ä¢‚Äì‚ÄîÀú‚Ñ¢≈°¬£¬§¬•¬¶¬ß¬®¬©¬™¬≤¬≥¬¥¬µ¬∂¬∑¬∏¬π¬∫√É√Ñ√Ö√Ü√á√à√â√ä√ì√î√ï√ñ√ó√ò√ô√ö√°√¢√£√§√•√¶√ß√®√©√™√∞√≤√≥√¥√µ√∂√∑√∏√π√∫‚Ä∞1!2AQaqCRÔøΩ‚Äò‚Äô¬±√ë√°√∞	
"#$%&amp;'()*3456789:BDEFGHIJSTUVWXYZbcdefghijrstuvwxyz‚Äö∆í‚Äû‚Ä¶‚Ä†‚Ä°ÀÜ‚Ä∞≈†‚Äú‚Äù‚Ä¢‚Äì‚ÄîÀú‚Ñ¢≈°¬°¬¢¬£¬§¬•¬¶¬ß¬®¬©¬™¬≤¬≥¬¥¬µ¬∂¬∑¬∏¬π¬∫√Å√Ç√É√Ñ√Ö√Ü√á√à√â√ä√í√ì√î√ï√ñ√ó√ò√ô√ö√¢√£√§√•√¶√ß√®√©√™√±√≤√≥√¥√µ√∂√∑√∏√π√∫√ø√ö?≈°≈ì√¶¬∏6¬™¬¶pL(√û√≠‚Ñ¢R¬§√∑e1V√¢w{Pac¬∏6|]‚Äú^,¬¨√ç7u¬•√ö√ïÀÜ√ô√¨=√âe√•Y¬¨k√û )B√Ω‚Ñ¢[≈ím√º/√°‚Ä∫&gt;√¨√ç√úX4;≈∏√Ç√æ¬≥√†8¬§!:¬§Àú‚Ç¨√™b"¬±DÔøΩ√Ñ√Æ-\¬Ø¬≤6|5√ô‚Ä¢¬∏√ê8G¬≤6&lt;%¬∞√µ¬≥ÀÜ¬º¬¥¬¥¬£‚Äòo‚Äô.I=/*¬ªdq√Ñ‚Äπ`q√Ä‚Ä¶fQUls‚Ä¢5)-3
Vt√Ñ‚Ç¨J√à‚Ç¨‚Ä¶{3wM¬∑?‚Ä¶√º3g√Ä#Cq¬ª‚Äπ¬≠‚Ä†|3g√Ä √•¬ºH)9√çÀÜ*9J4√ö‚Äö95T=k√ÉT‚ÄòD¬™¬π@¬™ÔøΩ√Æ +S[#‚Äπ≈Ω&amp;IY(*√µ¬≠√ÄnNb√çn{
=√Ç3~√¨≈Ω¬∏M√à5P√¶‚Ä†‚Ä¶#&amp;√è‚Ç¨EÀúpyV‚Ä¢@‚Ä¶≈†$‚Ä∞ √êÔøΩEo‚Äùi~!o√É√¶y√•¬∫‚ÄöÔøΩB‚Äùn3Y7¬∫t√å¬£√òFI5j"¬™√Æ√å√ç√áW√â‚Ä°√∏h√è‚Ç¨F√ª37√®ÔøΩ‚Ä¶√º3g√Ä"√ë≈ì√ÇEF√Ö¬£8 ¬®≈í¬µN√æ¬∑¬£w√óSe√∑=‚Äö‚Ä¶ *Q¬≥[√Ø‚Ä∞;√öq√Å5¬∞√ñ2¬™cX¬™N√å√ù√áz a√ô√∞√ófn√£¬´√§√É‚Ä†|4g√Ä"√†V
‚Ç¨!5vZ]#|T	¬ø√ë7√§C'p¬º%¬º√î‚Äìi	¬™≈†A‚ÄöUF√ÆU√íÔøΩ¬ßd+VQ¬™Ugfn√£ÔøΩj3√°‚Ä∫&gt;;ÔøΩ√úp4√¨∆í‚Ä†|4g√Ä"√çk√É≈†√ä\‚Äùm&lt; ¬§‚Ä¶l¬™P¬∫43)T¬∞√¢√£‚Ä°'√ÉA9¬§√ö@A	9‚Ç¨!√çeQY√©y;√éI¬≠YhUjw¬∏√öyG√∞¬æ√ÜM≈∏≈Ω√ë¬∏}√à,√∂o√°‚Ç¨{$c¬ºd‚ÄπBs
√ÉP‚Äî6rÔøΩ¬£.√¥U7√çck¬∫x¬∏¬¢-√ÜZJrl√íÔøΩ√å‚Äû√ô@'z7√É3√∂¬∏√ì¬Ω√§≈°√ï@¬™√ú6√£√µ√∞√ç≈∏‚Äû√ª2¬∑√®√ü√Ç√æ¬≥√†o¬∞‚ÄîS¬§‚ÄìR‚Äì√≥√•¬¢EH¬°H√à‚Ç¨\¬¢ÔøΩ=0√êw‚Ä¢y√ñKdh
r√¥¬∏√û¬∂J≈Ωu_~O2J√ÄPK‚Äû√ú∆í√é√ì‚Ç¨ad≈æ√ú√ô√∞‚Ä¢V√¢y≈∏H¬¥√¨√ú√Çs¬¶√ç$√Å√Ø‚ÄπD¬¨√§¬∫ZIR[¬•
√â}√µ√®√í¬π¬≠7√ã√¢ÔøΩ√π‚Ñ¢‚Ä∞ÔøΩ¬≥B¬£‚Ñ¢Dt&gt;‚Ñ¢C¬•E¬∏)√©‚Äùu√ØEjÔøΩR‚Ñ¢√õ≈†.‚Ä¢vn√°4√≠≈ærb≈∏H≈Ω¬∏¬≠√ÜV¬Ω‚Ä∫√∏X√™s‚Ä∫	¬™zu¬©)w9H_T]√†√¢W¬¥w‚Ä°c
y√Ö¬∑6√®
√âQJ≈Ω3√î'‚Äô ‚Ä¢3¬≠ÔøΩ√Ö√Æ+ÔøΩs√òW√É6|kq;‚Ä∞5√±≈Ω√°G¬∏&amp;&lt;‚Ä¶WH{&amp;‚Äö¬§¬®√µc(¬®_√ø√ê¬∞‚Äú0√∫≈°√ßqT6:T≈°Tua%¬≤‚Äì‚Ä†z
C√π≈í9√ôu√¥5√≠A√í√î1√¨√äÔøΩv\J¬∑Z√Ñ√öem¬¨oq¬©‚Ç¨ÔøΩ√ö√¢3√å¬§0√µ¬°¬≤√¢T√¨√Ç√úN`8#QJÔøΩn{√úXm"E¬£≈æ‚Ä¶√•√±√±'¬≠√ã≈Ω√Æ√ùX√∂ √®9‚Äî`
‚Äì*5¬π√Æ¬µ‚Ä∞≈í
‚Ñ¢l¬∞e*ÀÜ¬µ.w1/ÔøΩ√é√¢N¬∞¬¨Y√ñ√ê‚Äû¬£1i-&nbsp;‚Ä¢8≈í√ô.(‚ÄúMU[7√Ç√∞√ô√ô¬µ0√§√æ$R4wh√õhVEe¬ÆT√ëI‚Ä∞'‚Ä¶¬©ÔøΩ√±zF"√ªl==4‚Äì]}√≥V√ôi&nbsp;¬≥‚Äì‚Ä¢ ‚Ä∫√Ü¬Æ¬¥X{≈∏Z√ó‚Äπ√é¬•q¬≥‚ÄòT	‚Ç¨¬•√î‚Ä¢R√∑√ãj√ó¬Ø√õ‚Ä†‚Ñ¢5d≈°≈†√í¬∑R‚Äî√Ö√ì√ñ¬¢√ÄÔøΩ√åD¬∞'jfEMZh√∂‚Ç¨K√é‚Ä∞LC≈ì3E√¶ÔøΩ`√ç‚Äô√©q√åÔøΩ
B¬´¬µ$√©¬¢E√°~v√ú¬£ÀÜ√Ç‚Äπ¬∏¬°|¬π¬∞J‚Ä∫\√ä√ö√ö√Ø¬§¬•√Å¬º+¬™√í¬Æ*√í≈æ‚Ä∫[¬ª¬ß%¬π√áS$√î√í‚Äù[
ÀúC‚Äπma¬≤&nbsp;√¢‚ÄöCus-√íNR:¬∞¬≥8‚Äúx√é1¬±√Ç√ù*‚Äîo
¬æ‚ÄùK√ã¬°9√ë‚Ñ¢JojS&nbsp;√ï ‚Äú‚Äùf¬§l√ò‚Ä∫¬°	L√é√Ñ¬¢j¬¶√ë¬∑UkPXV‚ÄìQ‚Äô√π¬°¬°B√úBG	√ú¬≥ÔøΩ9ÀÜ+L√äX*nA;gÔøΩ¬≤√í3A¬©¬™	¬°R¬∏√°√í√∞√≠√Å√°√â√≠&gt;y¬¥¬≠*ÔøΩf‚Äì¬•¬©C‚Äò¬™
≈Ω√ò:ÔøΩb+≈°^√©¬¶√•&amp;√ì¬π√ñD¬®y&nbsp;√º√ú√™¬®YZ‚ÄùR¬™I¬Øu√´√ÑN√£√∑+‚Äöb√òÀÜa√π7'√•√íÔøΩ¬´¬™na)w!¬ØD¬¢¬®≈ì‚Äì5¬∏:E‚Äîm‚Ä†P‚Ç¨[N√©U+¬Ω¬πo)[√ñj‚Äû¬∂¬¢m¬£&lt;7√ú~"‚Ñ¢√É√ê&amp;¬•√™¬ßD√í√ÇÔøΩ¬´UJl‚Ç¨¬™T¬≠√©~(‚Äù;‚Äú√ú√É.¬∂√™d√â	Q√ëH$'~‚Ä∫√ùG¬∂x¬°5a{‚Ñ¢√ú√©3;ÀúÔøΩp√•√ùKk¬¢ÀÜQP*¬™‚Äì¬•)‚Äî≈íÀÜ‚Ä∞√Å¬∑Q9‚Ä∞Mm9e√≥¬©BÔøΩ‚Äû‚Äû‚Ç¨√öV¬¶¬™T¬•¬∫Jj¬£ZS@!√ò¬≥-2Ze‚Äì`MA¬∞ÔøΩ+
B√Ü√ë40[]‚ÄòSCs≈æi¬§-r
¬§&nbsp;‚Ä¢)iR‚Ä¢‚Ä¢K√£@¬æe≈æ&gt;H√ù√©√ú√Ü√•%√§√π√ûMÔøΩ¬ª‚Äπ 7W]-$¬§‚Äô¬¨¬®¬≠T¬™√™¬´(6‚Äò√ÑÀú≈æ√Ç\√Ü¬•R‚Ä¢5.√ö‚Äì‚ÄûfB[RÔøΩÀÜW√î¬´ÔøΩ√öwy/≈†√¢X\‚Äû√Ñ√Ñ√õx¬≤ÔøΩR√∂m^V√≤¬•JR¬¥z≈æ¬¥QJ‚Ä°n≈°h2&amp;¬≠√´√í¬∫QJi{‚Ä°O¬æm‚Ä†≈°1d¬∂√ôÀÜÔøΩ6pB2X√æ√§¬πÀúc	‚ÄîRYl√ÄS√¥E‚Äù¬¢(HR‚Ä∞¬Ø√∞c√©√∞¬µ‚Äìd‚Ä†[√éJ‚Äù8√π√ô√ñ¬µA9‚Ä†e*¬º;ÔøΩ¬∏¬ªnH)crn]L¬∫¬¶‚Äù‚Ñ¢√ã¬ørÔøΩ‚Äò‚Ñ¢≈°≈°8d√¨√Ç.‚Äô√†	√ö!N‚Äù‚Ä∫√ê‚Äù.¬≤(i√öÔøΩ‚Ä∞¬¥U√Ö√çoi;¬¶[fC-ÔøΩ@5‚Äö√ûB%¬¶c.‚Ä¶≈†¬∂gpI‚Ä†0'¬•√ô[
√Ñ‚Ä∞i√î!√ßV‚Äù$!JSH$‚ÄôV@;√æ.√Ç√∞3√íXt‚Äù¬≥√™L√ì¬ªf√ß-¬µ√è+AC!jJ√ëb	pW|√Øt‚Ä∞\WzGs8√¨K‚Ñ¢‚Ä°ÔøΩ∆í¬∑R¬¥-;0≈ì¬™+E√çUc√ïÔøΩlC√Å[√ú√∞≈æÔøΩ‚Ä∫Z1'\k3(Xo`√ö√≤¬®‚Ä°EEr&nbsp;iJ√≤Gr√©√õl;√Å‚Äô@‚Ä∞ U√î√±‚Äπ‚Äúie-¬•n¬©K√±{√Ø∆í¬Ωm‚ÄìD¬¶ÔøΩh
&amp;¬°9rZ]OO‚Ñ¢Y√ó√ü‚Äî‚Ä¢√ã¬≥C3.T¬©e¬™!¬µgW8√•√§¬≠√¢Q¬º=¬∞√´r√®ÔøΩ≈æn¬≤¬•√•lf√ñ√û√î¬°≈ì√†PqT¬ΩI¬µ {‚Äì‚Äú‚ÄùgÀúm¬ß‚ÄπN%‚Äô√òZ√âP	O‚ÄòÔøΩÔøΩAK‚Ä∞√ãsx‚Äô√Ä≈ìÔøΩÀú‚Ä∫Q[≈†≈ìixpK*~¬≥L√âFl¬°(H	J¬±&nbsp;¬°¬Ω‚Äô√•√îYfn√àyT_!K3u¬£_Rj√Ç√©√©9√á√ö‚Äù√òc`√å√¶JvnfB‚Äô‚Äπ)-√¶H!¬æ5¬©T√Ø√ë8≈æ≈í√ã√é√Ñ¬ßm√Ä‚Äù¬≠√Ñ¬∂√í‚Äò‚Äù*ÔøΩ5¬®¬¢‚Äì¬µV$≈æ√Ö√ô√Ép¬º.ft‚Äô√´ÔøΩ¬∫Ah‚Äù!√í√ûd‚Äì√ëD≈í¬≠b,T{¬§n?!ÀÜ¬ª‚Ä¶√°√õ¬£√Ö√±.1L√Å‚Ñ¢@√éeE√Ç‚Äô√∑¬©¬ßR¬±[√∑L10"y‚Ä∞¬´‚Ä¶Z√ò¬§‚Äù¬≠√ª√¶√Äl¬ªh9‚Ä°s√Ç3‚ÄìW3Xf√®I(√Ö√õx(K‚Äô√©)XO√ãJ iNX∆í√ù3$¬©r‚Äú¬π¬∑√Ä‚Ä¶)¬•(;√¶√¢≈Ω7dp√Üd√•‚Äî"¬Ω¬≤√∂¬°W‚Ä¢¬¶‚Äù‚Ç¨ÔøΩ√∞U\Mk√òDs≈†√É≈í‚Äû¬ª√´‚Ä¢J√¶Y‚Äîm-‚ÄùL7¬Ω-√¶	√äT≈ì;√´e√§¬∏
eF√¢V¬ªt¬≠¬¢Hi‚Ä°MCH√ôg&nbsp;x√î¬∏√å^kt(Z,¬¶√ãD¬°$(.¬•&amp;≈†√™√≤√Å√ú¬æ√ì-ÔøΩ4√™['A¬Øx≈†√£‚Ä∫N0‚Äù;"¬•))√©‚Äìj¬°√á√áÀÜ}j%N(¬©GRMb
6‚Ñ¢√êl‚Ä†≈í&nbsp;√àf¬∞Fi'ÔøΩ_√ø√ë¬∂W‚ÄìU√ôU√≠PoBkN¬¥E¬∏√ú¬∫√Ü√ê2¬§¬≠d√ßRÔøΩ¬∞√•√ñCÔøΩfaJ@¬©¬Ø\i
‚Äî8√£.‚ÄìfjyVX‚Äò-≈ì¬©√û√ì[k¬æ8√´-√¢‚Äúx!I397√§$Z¬™√úQl0e3M+*x√åU3n6¬ºA√Ö¬©
XzeyN\√Äo‚Ä∞\∆í¬´√ãRT)
√Ç√Æq¬¨_t≈ìJÔøΩ‚Ä¢ÔøΩ&amp;‚ÄπQJB_.¬©IJ‚Äô	$-Z√∑gH`fIK}¬≠I}j!¬µ¬•(	9‚Ä∞$R√§√™¬™≈æ¬Ø√ÆW≈æ$¬≤$¬©‚Ä°Q0√´√àP√ä¬™‚Ç¨¬≥ÔøΩ¬µ
&nbsp;hI$√êr√Å¬æ√∫S4√ó&lt;0¬∂‚Ñ¢√ê‚Äù¬∫]√ã\¬©H¬™ÀÜ√´A	√†√Åu√ï)0√∞‚Ä°m¬≥%B‚Äû≈í
Y1‚Ä¶‚Ä†b8¬æ5:'≈í√à≈∏ry√ú‚Ä¶2l‚Ä∞}√™√úi¬∫Y√öt‚Ä¶%Y¬µ¬πv¬•_√Üd∆í¬¨¬≤‚ÄîÔøΩ≈°sdR√ï√í‚Äì√≤√í√£o%√¢√´≈Ω(¬¨√ëTÔøΩ√®¬•c¬§c¬Ω≈ì[¬´‚Äùd&gt;¬∂√∞√ì4¬∑*%√òK≈Ω¬≠	uh‚ÄîR√öR‚Äù‚Ä¢√ó~Po¬¶jC√ñ√•1¬∑Z√Ö√ú√ÇZ‚Äì‚ÄúT‚Ä∫3‚Ñ¢¬±‚Äò‚Ñ¢ÔøΩ	√è‚Ä¢
¬≠k2‚Äù≈ì√ñ7¬∏√óu¬®‚Ç¨√ë‚Ä¶√¨P&amp;0P¬©ÔøΩd√µEj	GT
≈°¬¨√ö√î¬Æ√™w∆í√¢√Ø?‚Äπ√¢≈†R√ù¬´e¬¥ÔøΩ¬¶‚Äò‚ÄìÔøΩ.‚Äò¬ΩQQ¬©&lt;‚Ä†#XÀú≈ì√Çd\‚Äî\‚Äö√ú√É√äQ(FR≈ì√Å)JÔøΩR3Z√ëZ√±V[√ù2¬™RUE¬•D¬§%#8Q4√û¬•9≈Ω√ë√û√öwJ‚Ä∞n√™nw√ú√º√ád√åG‚Äô`‚Ä†√ö[
√ï√á\
ZB√´√ê√äj‚Ç¨n	≈æ(√ìaÀú¬∂√à-
√Öy$\‚Ä†1√≠√ñ¬ß√Ö‚Ä†∆í√ßqJ‚ÄùRU‚Äô‚Äù#*‚Äô‚Äì√∑√™≈Ω√Ü'¬∞¬©)¬¨‚Ä¢#o!.√å¬∫‚Äù¬∂¬§OAZs6‚Äù√•Vj√Ç*√û√∂√à¬§#ÔøΩ√àn+r¬Æ√å*I√û|√Ñ‚Ä¶QN¬∑‚Äòi√åRI‚Äô¬§f=¬µAhÔøΩ√Ç&amp;√Ü3≈íM√¢√®B√òT√â‚Ñ¢m.2‚Äò¬øKL¬©#ÔøΩ√®3Z¬ÆÔøΩM¬©√áL¬≥hQÔøΩd¬™&amp;$W¬´s¬≥√≠√ã¬•¬∂%√ê√©√à‚Äö√õJJJ	]	EV&nbsp;@¬≠I'S√ó6ÔøΩ√ô5‚Ä†a¬≤Àúv√ó&lt;8¬•¬∏_q\+¬∑B‚Äù‚Äπ√•√óAo0√õ√õÔøΩL≈°I√ß‚Ä†R√£xu¬∫Àú¬æ√µ#¬ß4¬ß,W√ª¬Ø√ú√§¬º¬≥
¬ØÔøΩ/%Y√π√ë√πV√ë¬≥q¬¥¬∂3,%J√çc√òucN‚Äì√¢√ìz√à√õ√Ç√¢vÔøΩ√≤jI¬£F¬´5h@‚Ä∞√ù#a√©Pj¬≤‚Äπ@@¬©9‚Äù¬•√©√Ü`¬©	D≈í‚Äì‚Äî√ñ¬•,¬¥Xb√âK¬¥¬•TÔøΩ√©I√ôÔøΩTUZ¬Ø#YI=√áHJ¬≤√¨≈ì¬®}√Ω≈†√≤;2U@
V‚Äû‚Ä¶√Ø‚Ä¶E√ï&nbsp;√•‚Ä†¬≥Àú¬¢¬±√∞√•¬∂‚Äô‚Äû)¬≤2¬¢‚Ñ¢≈ì&nbsp;¬¢‚Äù(√Ö¬∑√•Z√±u8l‚Äò86√¢¬π√à<i‚Ä†d¬¢√ãm√å≈°ÔøΩ≈†√™√®qvvw≈ì‚Äì√ú√Ñ√É,"e¬©e √©√â≈ì‚ÄûÔøΩov¬°*√î‚Äòn*≈ìm√áw[ÀÜ="" c√él√éb#o0√•cl¬Ø6ÔøΩj="" √•n¬µ="k√Å,¬≥N¬Æ_s.¬≥≈°a¬º‚Ä¶.√Ç‚ÄöJCv" !@"y4&‚Ä¢¬ø`√Ø="" okr]‚Ñ¢‚Ä†√•≈°^="" ¬£0¬∂√ú√ò√≠uwtto‚Äùa¬†="{Gr0i√ù≈°√ç¬º√±¬´‚Äò)i√Ç[√Ωmyo@¬ª&nbsp;}¬¨;≈∏√•ÔøΩ√§¬ª9‚Ä∫J‚ÄìJ≈†√à¬¢Tkbjn9nFX¬ø¬πi‚Ä∞‚Äì√Üd!&nbsp;‚Äù¬°J¬¶j'0" $e¬µopc√≠√ñ√°¬ª‚Ä∫√Ñ‚Ñ¢≈ì≈°‚Ä∫i‚Ñ¢t¬¶‚Ç¨yÔøΩ¬¶‚Ä¶)="" n√∑¬Æd6√Ö√∑a="" p‚Äì¬∞|]i‚Äôjk¬°¬•0r*]x√¥‚Ä∞m*‚Äò]√µ‚Ç¨¬∂¬¢√ë√Ü√úÔøΩ¬π√£√∏‚Äû¬æ*√Æ√™c√å¬≠jqxc√®a¬°5jai¬†fpÔøΩ¬æ¬¶‚ÄìÀÜ√ç√ío√£‚Ä∫¬†‚Ä∫fnem¬Ø))i¬†ÔøΩ¬£`$ÔøΩ‚Äûy)="" !√î√∞frz]√ç√∞m√ÜÔøΩyn-;2√†¬≠6√™hh(ol¬∂.u¬§1~gi√ä√ä8√£a!![5ÔøΩ¬¢‚Äôs#0√©i√§¬¨¬¥`(√Çzjnz‚Äôc5√¢="" 't√©‚Ñ¢[r√≠n¬∫√î¬∂m¬¢≈Ω√ïyhÔøΩ¬¶q]k[k3¬¥‚Äù‚Äì‚Ä∫i9‚Äö‚Äôl√¢‚Äùd(‚Äö¬≤k¬®¬°\‚Äò!ÔøΩ√à¬∏="" 3hb≈ìe‚Ä¢,*e√ùÔøΩ*¬†r@vbh√í¬¢√§‚Äò‚Ä∞¬∑*√™√úsÀÜc[∆ít&√Ñhi:ua0hd0(d¬¢¬¨="" nmc¬≠&¬§√ñ‚Ç¨√ò√î√ì¬∫eÀÜ‚Äû¬•76‚Ç¨√ä0¬¶√±d¬πna√´≈†w¬∏:md√î√Öi‚Ñ¢‚Äî√ø√í9√É√±¬§46s5√ãn¬º="√Ñ&amp;e'≈°" ‚Ä¢e="" m¬Ø√óÔøΩ¬µ√´a="" 72√£c*td)gf‚Äì¬§∆íup√í¬∫e‚Äπn¬´≈∏‚Äî="" 4√™‚Ñ¢k2‚Äì‚Äì√ê¬¢¬≤((¬™‚Ç¨ÔøΩ¬©¬†√¨`√©a¬ßÔøΩs9t√ì{√∫√ê√ï√¨6^i*[¬®i√ã√ã="" !e="" ‚Äù!‚Äû√≥l√Ép7z√É&j(r‚Äù≈°="" $≈°‚Äù√∞¬¥√ñ√º¬∞√∂k‚Ä∫Àúz‚Äî‚Äôjc"¬™e¬¢¬•<d√™3ÔøΩ‚Äû="">‚Äù]AJ‚Äô!¬Øy¬¨4V√§¬§‚Äìs¬¥UT√´T¬§≈Ω√±¬ß√ï(Y~l‚Äú√≠‚Äù)√π¬µUA√ï¬∂r‚Ä¶V≈†N¬¥tP
¬°¬≠Ej9a0¬Ω√ù≈í's√ße:√éq	S√âJ√´f√ûZ‚Äì√¢
√∑√Ñ√ö√∞j76¬§‚ÄöP√ØR‚Ñ¢Xh√¶√£‚Äû√Ö√úw0&nbsp;√É√ß≈í‚Ä†∆í&amp;¬° (‚Ä¶‚Ä°f‚Ä∞≈íEÀú¬ø√ç‚Ç¨&gt;‚Ä¶¬°R.¬§,d√û¬πt&nbsp;V√©&amp;¬πVx√ï~√ø≈†√≥Bk‚ÄùzX√ä¬∏√ëx%$¬∑‚Äùj≈ì¬¢√πI¬¶√º√¥√ù√¶u√ç√Ö¬∂-≈∏(:U¬±
√ú√ú[7T≈∏r¬¶ÔøΩN(¬•
&nbsp;‚Äî¬ª‚Ä†√ù≈ìzm√âwz4¬Ø;(%t&nbsp;&nbsp;(	¬©¬•√ço¬∞m√û¬≥‚Ä†√é¬ø8¬πW\A¬≥J√Ç‚Äù¬®X¬§\$‚ÄôNjj-F√¢‚Äô‚ÄúP¬§|√É/f‚Äî[√ç√ÑiHa√ª√Ä1&nbsp;D&amp;‚Äîn√£q¬•k√¶¬Æg√∞‚Äú‚Ä†8¬ß&gt;B√°J√≤ √¨√î‚Äù&nbsp;'"L‚Äù‚Ä∫√≤ÀÜ‚Ç¨√ù.√≠_√ù‚ÄπR[2NU,¬¨¬®ÔøΩ√®HJhT√ö√†k√û'&amp;¬∑58¬µQ√≠≈°√ïK¬´≈í√ìJ√ö9¬πG√ÇH¬£√ó¬∞‚Ç¨√ô/,¬µDV¬´\&lt;¬±v√É√óX%¬∞y√Åz√ÇPo&gt;LÔøΩ9√ì‚Äú!H% i@≈°‚Ä¢6¬∫F¬∞√°¬°¬¥¬∏√àQJ‚Äö√îE≈†¬®(
j‚Äùr¬§X√∑‚Äö3¬π'¬∏∆íu1¬°¬∏√∑¬´¬™;¬¨V\¬±Uo[l√òZ‚Ä¢¬≥3√öÀú√å√âÀú∆íUX¬ß≈°J√ñ√î‚Äö√Ç√öqr¬°¬¨&lt;√´uH√≤&nbsp;ÔøΩ¬≥¬∞¬™x√ª√Ég√∑=3,¬πg¬§√ôZ^wh√Ω	N√ï √ï
+%:¬ß
√á¬ª[¬©u¬°f√∑"‚ÄùÔøΩ√≤√ì√ò¬∞6√ì LX¬¥‚Ä∫,¬ºi¬¶√öi¬¢I5d√é¬£g¬∑o‚Ä∞bR√éK.U8≈ì¬Æ*¬™%@P‚Äô,2¬¶‚Ç¨√áN√Æ√óy‚Äö√â‚Äúh¬©c¬¢-ej.*‚ÄùJ‚Äì*√ã√Ñ4‚Ä∞√Üw'(‚Äπ¬©√Ö¬µ,ÔøΩ√åa√â√ï%]s5lV`≈†¬§ ≈ì4√∑;%o¬¥‚ÄúG‚ÄùU‚Ñ¢K&amp;¬•f√¥'ÔøΩh!tcÀú√õ√â
5(√ò√î#Z¬§¬´‚Äû¬Æ¬™ÔøΩ)√ì≈†
√Ä0√î&nbsp;√à={√Ñ≈í¬Æ,∆íP‚Äù&nbsp;
‚Ä†-‚Äô¬¢,‚Ä∞‚Äö¬Æ√ó‚Äû√¢x¬º√äL√ú¬£vHo&gt;√º‚Ç¨‚Äπ√±TWSs{≈æX≈æ‚Äì√¶h_Àús≈°√Ö√Ñ¬ª‚Ä∞√ü%‚Äì√õ^√â√Ä¬≤¬®:√ÑAZ≈°BN√∂mc.UFD√ç&nbsp;√ó∆í`‚Ä∞√ÉV¬ß√°uE9A k`"m‚ÄùZZ8NL‚Äû√î√¶√¢H√Ü√ï¬¨DF+√ø√ì'¬°	√çH√ôPRh¬§≈†√Ü¬ß¬ße¬§Àúrjiim¬¶√ÅR‚Äì¬¢;‚Ñ¢¬¥√ç√Æ√ã
‚Ñ¢+‚ÄùYi‚Ä¶t¬§R‚Äπ¬µ√â√¢)√¨`√§√òt√±√•i¬™√†M¬π√≥¬∫‚Äìw‚Äò√ä‚Ñ¢q4√å{√ø]≈ì¬∏95sm8¬¢√≤√ä6√ôv‚Äù/¬¥√¢6¬¨(√Ü√©¬∑:‚Ä†√í‚Äú&gt;‚Ä¶PEg¬¢‚Ä¶√™‚Ä°hl¬°√¶I√£√Ø)‚Äπ8Z√Ç¬∞RJRfr√∂√òj√†‚Äπ6m&nbsp;	|‚ÄúJv¬≥ÔøΩK¬∫‚Äò√é√≠‚Ä†I¬≤‚Ç¨√ê√æ¬º
¬µ¬∫√ú,√å¬¨‚Ä¢ÔøΩ√¢].¬®¬°¬Ω¬¶√π:ÔøΩ√ï√´{¬¨√Å≈†0¬Ω¬≠R√ì.¬Ø-(√õF¬ª√ôÔøΩJ¬≠_√î√å¬∂,√¶mjlF‚Ä¢‚Ä∫ √∂√òj√†¬§¬π√ï5	√å≈°≈ì¬∑"¬µ;#(√ù%ZR‚ÄìlJ‚Ä¶ÔøΩ5¬¶¬±√û√´0&nbsp;‚Äù√§L√õ¬•√°‚Äù‚Ä†%√ñÔøΩ√®Af√â√©‚Ä∫mM√ûTF√≠p√µ¬ß.√Çrd?p‚ÄìSI|&amp;¬¥
√õ¬°√ó√õ}Z√ü/q‚Äπ8)¬±
W‚Ä∫/-PN'√ß¬ß\s!HQ¬™E√ç√í√±√§≈°√´≈ì¬•@√®a√Ä√ùt¬¥√âJL‚Äù√¨√í¬°‚Ä¢√ô¬¶h¬¶¬¥"¬©√®m¬¢¬∑7cu‚Äî¬∫√•√ç‚Äò‚Äû√¢a√†¬•≈ì√å%¬¥√çd¬©,e√®IF¬©OM√ï√£√âlY√úb√ã¬•Y¬∑
√≤√à¬∑‚Äù√ê2¬¥TVJEU¬Ω6¬¶√öZ2cn¬§√§Se¬∞ÔøΩ√±H¬±√£¬øX√áon¬¢a√î%j√Å¬ß&amp;‚Äô√∂g^Je5	‚Ä¶</i‚Ä†d¬¢√´m√¨≈°ÔøΩ≈°√™√®qvvw≈ì‚Äì√º√§√£,"e¬©e></q‚Ñ¢√¨√¥√Ø¬Æum‚Äìm√´></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.emcdda.europa.eu/system/files/publications/13464/20205648_TD0320796ENN_PDF_rev.pdf">https://www.emcdda.europa.eu/system/files/publications/13464/20205648_TD0320796ENN_PDF_rev.pdf</a></em></p>]]>
            </description>
            <link>https://www.emcdda.europa.eu/system/files/publications/13464/20205648_TD0320796ENN_PDF_rev.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25497079</guid>
            <pubDate>Mon, 21 Dec 2020 17:25:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I rewrote a Clojure tool in Rust]]>
            </title>
            <description>
<![CDATA[
Score 157 | Comments 59 (<a href="https://news.ycombinator.com/item?id=25497050">thread link</a>) | @praveenperera
<br/>
December 21, 2020 | https://timofreiberg.github.io/clojure-vs-rust/ | <a href="https://web.archive.org/web/*/https://timofreiberg.github.io/clojure-vs-rust/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
        <div>
            
<p>2020-12-20</p>


<p>About two years ago, I wrote a quite complicated diff tool in Clojure.<br>
It was complicated enough that I struggled to fit the algorithm in my head and the inputs were large enough that I had to make some efforts to improve performance.</p>
<p>About half a year later, I started learning Rust, ported the current state of the Clojure program into Rust, was very happy with the change<sup><a href="#hooked-on-rust">1</a></sup> and continued exclusively with Rust.<br>
While working on that project, I've developed some opinions about the two languages, especially about error handling and performance:</p>
<p>I think that these are areas where Rust excels, while they are among the weaker spots of Clojure<sup><a href="#not-hating-on-clojure">2</a></sup>.</p>
<p>To put my experience in context:
I had a bit more than one year of experience in Clojure when I moved to Rust.
The diff tool was by far the largest Clojure program I've ever written, and it was only about 3000 lines.<br>
When I started writing Rust, reimplementing the existing Clojure code was among my first Rust code.
I've continued learning Rust since then and have mostly stopped writing Clojure.<br>
If things have changed in Clojure recently, please let me know and I'll update the article.</p>
<h2 id="error-handling"><a href="#error-handling" aria-label="Anchor link for: error-handling">üîó</a>Error Handling</h2>
<p>The error handling requirements in this project were not very complicated.
All errors just needed to be logged and returned to the user.<br>
The only slightly unusual requirement was that parsing and validation logic should show all errors for each row in both uploaded excel files
(instead of just the first error) so I had to accumulate errors.</p>
<h3 id="error-handling-in-clojure"><a href="#error-handling-in-clojure" aria-label="Anchor link for: error-handling-in-clojure">üîó</a>Error Handling in Clojure</h3>
<p>Error handling in Clojure is not opinionated.<br>
<a href="https://lispcast.com/clojure-error-messages-accidental/">Similar to error messages</a>
, what error handling idioms exist in Clojure seem to me to be largely accidental or inherited from Java.</p>
<p>The standard library mostly supports <a href="https://clojuredocs.org/clojure.core/ex-info">exceptions</a>.<br>
There are some libraries that support returning error values instead of throwing exceptions like the error handling library <a href="https://github.com/adambard/failjure"><code>failjure</code></a>.<br>
Others, like the parsing library <a href="https://github.com/Engelberg/instaparse"><code>instaparse</code></a>, return their own custom error values<sup><a href="#insta-result">3</a></sup>.</p>
<p>I used failjure to help accumulate errors in a nicer way (and because it appealed to my Haskell-influenced taste).</p>
<p>Let's look at a Clojure function from my diff tool that uses <a href="https://github.com/adambard/failjure#attempt-all">attempt-all</a> to parse and validate the input data.
If any errors occur, all errors are aggregated into a string:</p>
<pre><code><span>(</span><span>defn </span><span>parse
  </span><span>[country-mapping data]
  #_"</span><span>   üëá the attempt-all function exits early 
           if any binding returned a failure</span><span>"
  (</span><span>fail/attempt-all
   </span><span>[headers (</span><span>header-row</span><span> data)
    parsed (</span><span>map
             </span><span>#(</span><span>parse-rule</span><span> headers country-mapping %)
             (</span><span>content-rows</span><span> data))
    #_"</span><span>           üëá list of failures is aggregated here</span><span>"
    failed-parses (</span><span>-&gt;&gt;</span><span> parsed
                    (</span><span>filter</span><span> fail/failed?)
                    (</span><span>map</span><span> fail/message))
    #_"</span><span>          üëá this can return a failure,
                    triggering an early exit</span><span>"
    parse-result (</span><span>if </span><span>(</span><span>empty?</span><span> failed-parses)
                   parsed
                   #_"</span><span>üëá a single failure value containing the
                         list of failures concatenated into a string</span><span>"
                   (</span><span>fail/fail
                    </span><span>(</span><span>let </span><span>[msg (</span><span>str
                               </span><span>"</span><span>Failed to parse </span><span>"
                               (</span><span>count</span><span> failed-parses)
                               "</span><span> rules:</span><span>")]
                      (</span><span>str</span><span> msg "</span><span>\n</span><span>" failed-parses))))
    #_"</span><span>          üëá This can also return a failure</span><span>"
    spec-result (</span><span>util/check-specs </span><span>"</span><span>Rules</span><span>"
                                  </span><span>:rule/id
                                  ::spec/rule</span><span>
                                  parse-result)]
   #_"</span><span>üëá if everything was successful, this is returned</span><span>"
   spec-result
   #_"</span><span>üëá if any failure occurred, this is returned</span><span>"
   (</span><span>fail/when-failed </span><span>[failure]
                       (</span><span>do
                         </span><span>(</span><span>log/warn
                           </span><span>(</span><span>str </span><span>"</span><span>Failed to parse data </span><span>"
                             data "</span><span>:</span><span>\n</span><span>" (</span><span>fail/message</span><span> failure)))
                         failure))))
</span></code></pre>
<p>Nice things about this:</p>
<ul>
<li>The identifier-expression pairs in the square brackets use the same syntax as Clojure's <a href="https://clojuredocs.org/clojure.core/let"><code>let</code>-form</a>
which makes it look familiar.</li>
<li>I can optionally add an error handling function to the very end, which is helpful to, e.g., log the argument of the function, as I did here.</li>
</ul>
<p>Not so nice things about this:</p>
<ul>
<li>I can't see which functions can actually fail. I have to read them to find out.</li>
<li>Since the Clojure ecosystem doesn't have a uniform error handling style, I have to manually convert exceptions or other errors like <code>instaparse</code> error values to <code>failjure</code> errors.</li>
</ul>
<p>My verdict is:<br>
Since Clojure is a Lisp, it's possible to use most kinds of error handling and make it look fine, if you really want to.
The most pragmatic solution in most cases will be to use exceptions.</p>
<p>I found that readability could suffer when using less explicit error handling, especially in a dynamic language.</p>
<p>Due to the freedom of choice in error handling approacher, I was tempted to experiment more than with a more opinionated language.</p>
<h3 id="error-handling-in-rust"><a href="#error-handling-in-rust" aria-label="Anchor link for: error-handling-in-rust">üîó</a>Error handling in Rust</h3>
<p>Rust is quite opinionated about error handling.
The Rust community has worked on developing and improving common idioms, some of which were incorporated into the standard library, thereby improving the baseline error handling.</p>
<p>There's no improvement without change though, and the frequent changes have been a source of complaints.
While backwards compatibility was never broken, people that wanted their code to be idiomatic had to update it anyway.
Old tutorials and guides have therefore also become outdated.</p>
<p>There are lots of good, up-to-date articles about error handling in Rust<sup><a href="#rust-error-handling-links">4</a></sup>, which help learn the current idioms.</p>
<p>In Rust, functions that can error return the <a href="https://doc.rust-lang.org/std/result/index.html"><code>Result</code></a> type<sup><a href="#panic-ref">5</a></sup>.<br>
There are several libraries that make creating your own errors or handling errors from libraries easier, but they (mostly) just use the types from the standard library instead of introducing new stuff that's incompatible with the rest of the ecosystem.</p>
<p>Let's look at the same function as before, but this time in Rust:</p>
<pre><code><span>pub fn </span><span>parse</span><span>(
    </span><span>workbook</span><span>: &amp;</span><span>mut</span><span> Workbook,
    </span><span>country_mapping</span><span>: CountryMapping,
) -&gt; Result&lt;Vec&lt;Rule&gt;&gt; {
    </span><span>let</span><span> range = workbook
        .</span><span>worksheet_range</span><span>("</span><span>Rules</span><span>")
        </span><span>// this question mark triggers an early exit
        // there are two because we have an Option
        // containing a Result                    üëá
        </span><span>.</span><span>ok_or</span><span>(format_err!("</span><span>Missing Rules sheet</span><span>"))??;
        </span><span>//                               üëá
    </span><span>let</span><span> range = </span><span>skip_to_header_row</span><span>(range)?;
    </span><span>let</span><span> parsed = RangeDeserializerBuilder::new()
        .</span><span>has_headers</span><span>(</span><span>true</span><span>)
        .</span><span>from_range</span><span>(&amp;range)
        </span><span>//                                    üëá
        </span><span>.</span><span>context</span><span>("</span><span>Failed to read Rules sheet</span><span>")?;
    </span><span>let</span><span> rules = </span><span>collect_errs</span><span>(parsed.</span><span>map</span><span>(|</span><span>parse_result</span><span>| {
        parse_result
            </span><span>// üëá mapping a lambda over the error value
            </span><span>.</span><span>map_err</span><span>(|</span><span>e</span><span>| e.</span><span>into</span><span>())
            </span><span>// üëá this would be called flatMap in some other languages
            </span><span>.</span><span>and_then</span><span>(|</span><span>row</span><span>| row.</span><span>parse</span><span>(&amp;country_mapping))
    }))
    </span><span>// üëá this converts a list of errors into a single error
    //    containing a string
    </span><span>.</span><span>map_err</span><span>(|</span><span>es</span><span>| {
        format_err!(
            "</span><span>Failed to parse {} rules:</span><span>\n</span><span>{}</span><span>",
            es.</span><span>len</span><span>(),
            </span><span>// üëá very elegant...
            //    this would just be one .joinToString call in Kotlin
</span><span>            es.</span><span>into_iter</span><span>()
                .</span><span>map</span><span>(|</span><span>e</span><span>| e.</span><span>to_string</span><span>())
                .collect::&lt;Vec&lt;_&gt;&gt;()
                .</span><span>join</span><span>("</span><span>\n</span><span>")
        )
   </span><span>// üëá
    </span><span>})?;
    Ok(rules)
}
</span></code></pre>
<p>Nice things about this:</p>
<ul>
<li>The standard library, every Rust library I've ever seen and my own application code is always using the same <a href="https://doc.rust-lang.org/std/result/enum.Result.html"><code>Result</code></a> type, which keeps things pretty compatible.</li>
<li><a href="https://doc.rust-lang.org/edition-guide/rust-2018/error-handling-and-panics/the-question-mark-operator-for-easier-error-handling.html">The <code>?</code> operator</a> makes fallible functions visible but keeps it succinct.<br>
It also automatically converts error types where possible, which reduces the need for manual type conversion.</li>
<li>The error type I'm using here from the library <a href="https://docs.rs/anyhow/*/anyhow/index.html"><code>anyhow</code></a> supports a <a href="https://docs.rs/anyhow/*/anyhow/trait.Context.html"><code>.context</code></a> method, which gives otherwise unhelpful low-level errors the necessary context.<br>
This is usually done in exception-based languages by catching, wrapping and rethrowing, but this looks a lot more pleasant.</li>
</ul>
<p>Not so nice things about this:</p>
<ul>
<li>I have to keep the error types compatible, which I accomplish in this case by not distinguishing between different error types at all<sup><a href="#anyhow-usecase">6</a></sup>.<br>
I still have to return a single error value, which means I have to manually and verbosely convert the list of errors into a single one - in this case a newline-delimited string.</li>
<li>If I want to log something when this entire function returns an error or add some <code>.context</code> to it, I would like to have the equivalent of a <code>try/catch</code>-block around the entire function body.<br>
This doesn't exist yet<sup><a href="#try-blocks">7</a></sup>, the current best practice seems to be do move the entire body into an inner function or lambda.</li>
</ul>
<p>My verdict is:<br>
In Rust, you will use the <code>Result</code> type and you will like it<sup><a href="#and-you'll-like-it">8</a></sup>.<br>
The main design decisions are whether you use some of the helper libraries and how you design your error types.</p>
<p>Designing the error types can be a challenge though, especially because it's a bit different than designing e.g. Java exception hierarchies.<br>
I was lucky that keeping up to date with the evolving error handling idioms wasn't too hard for me as I was not under time pressure and often worked in my spare time with learning as my primary objective.
It might have been painful for teams maintaining bigger production systems.<br>
The large number of error handling tutorials and articles should hopefully make it easier to learn now than it was a few years ago.</p>
<p>The learning curve aside:
To me, Rust's error handling feels like part of the secret sauce that makes it the most promising language for correctness that I know of.</p>
<h2 id="performance"><a href="#performance" aria-label="Anchor link for: performance">üîó</a>Performance</h2>
<p>The part of the program that caused performance issues was the diff algorithm and, to a slightly lesser extent, a data normalization step before that.<br>
The type of performance problems I had were mostly being CPU bound, having to generate and compare a lot of temporary data.
The large amount of data also often caused memory issues in both languages.</p>
<h3 id="clojure-performance"><a href="#clojure-performance" aria-label="Anchor link for: clojure-performance">üîó</a>Clojure Performance</h3>
<p>In ‚Ä¶</p></div></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://timofreiberg.github.io/clojure-vs-rust/">https://timofreiberg.github.io/clojure-vs-rust/</a></em></p>]]>
            </description>
            <link>https://timofreiberg.github.io/clojure-vs-rust/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25497050</guid>
            <pubDate>Mon, 21 Dec 2020 17:23:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Netflix's Metaflow: Reproducible machine learning pipelines]]>
            </title>
            <description>
<![CDATA[
Score 240 | Comments 97 (<a href="https://news.ycombinator.com/item?id=25497008">thread link</a>) | @ChefboyOG
<br/>
December 21, 2020 | https://www.cortex.dev/post/reproducible-machine-learning-pipelines-with-metaflow-and-cortex | <a href="https://web.archive.org/web/*/https://www.cortex.dev/post/reproducible-machine-learning-pipelines-with-metaflow-and-cortex">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p><h4>From training to deployment with Metaflow and Cortex</h4></p><div content-type="article"><p>If we were to design an optimal machine learning pipeline, it would be:</p><ul role="list"><li><strong>Scalable</strong>. As workloads increased, it would scale up without issue.</li><li><strong>Reproducible</strong>. We would be able to draw a line from any model to its data.</li><li><strong>Configurable</strong>. It wouldn‚Äôt lock us into particular frameworks or tools.</li></ul><p>Typically, pipelines will tradeoff in at least one of these areas. A pipeline might be scalable, but will rely on a platform that puts limits on data scientists. Or, a pipeline will be completely configurable, but will also be glued together by a mess of ad hoc code and will be impossible to reproduce.</p><p>In this piece, I want to introduce a way to build this kind of ideal pipeline without any tradeoffs. To do this, we‚Äôll be using <a href="https://metaflow.org/" target="_blank">Metaflow, the open source data science framework from Netflix</a>, and <a href="https://github.com/cortexlabs/cortex" target="_blank">Cortex, our open source deployment platform for machine learning</a>. </p><p>Let‚Äôs start by defining our pipeline.</p><h3>Defining a pipeline in Metaflow</h3><p>Metaflow is a data science framework that provides a single API for managing different pieces of the infrastructure stack. It places an emphasis on scalability, reproducibility, and usability.</p><div><p>
	<iframe width="560" height="315" src="https://www.youtube.com/embed/XV5VGddmP24" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</p></div><p>At a high level, Metaflow allows us to define pipelines as DAGs, called ‚Äúflows,‚Äù in which data undergoes a sequence of transformations called ‚Äùsteps.‚Äù These steps persist transformed data as ‚Äúdata artifacts,‚Äù which are accessible by subsequent steps throughout the flow. </p><p>For example, say we had a training flow that loaded data (probably produced by another flow), trained multiple models with different strategies, evaluated the different models, and saved the top performer:</p><p>This is just a snapshot of our full pipeline, which I‚Äôll be adding to in the next section, but even with just this snippet we have a repeatable training pipeline that can scale to run on many machines. We also have, thanks to Metaflow‚Äôs Client API, a way to version, audit, and reproduce these training runs.</p><p>For example, to instantiate a given step from a previous flow, we can simply pass in the flow name, run id, and step name to the Metaflow Client:</p><p>To access an artifact from a particular run, the logic is very similar:</p><p>This means that every time a flow is executed, Metaflow automatically versions and records it using a standard taxonomy. As a result, we can trace any given model‚Äôs lineage from raw data to final export. </p><p>There is much more to Metaflow, and I‚Äôd encourage you to check out their <a href="https://docs.metaflow.org/" target="_blank">documentation</a> to learn more, but as an introduction, this should serve to get us started. </p><p>Now, let‚Äôs talk a bit about triggering deployments in Metaflow.</p><h3>Deploying models with Cortex</h3><p>In this section, I‚Äôm going to take our training flow from before and add a step for deploying our model as a production API on AWS. To do this, we‚Äôre going to use Cortex.</p><p>Cortex is a deployment platform for machine learning. On the surface, it provides simple interfaces for building prediction services, deploying them to production, and managing an inference cluster. </p><p>Under the hood, Cortex automates all of the cloud infrastructure needed for inference‚Äîautoscaling, GPU/ASIC support, load balancing, prediction tracking, etc‚Äîand implements a automated deployment process in which model serving code is packaged, versioned, and deployed to the cluster.</p><p>We can trigger a deployment using Cortex‚Äôs Python client within our training flow like this:</p><p>You‚Äôll notice the client includes a deploy() method, which takes a configuration object for defining our API. This configuration works with the Metaflow client to extract the location of the model, and the metadata of the flow for logging purposes. Now, when we audit our deployments, we can connect it all the way back to the run that produced it, extending our lineage from data to deployment.</p><p>The configuration object also references a predict.py script, which is where the actual prediction service is defined. A Cortex predictor looks like this:</p><p>The structure is very simple. We initialize our model in the init() function, which runs on initial deployment, and we generate predictions in the predict() function. Similar to steps in Metaflow, these Python methods can contain whatever logic you want to implement.</p><p>Now, when we run the flow, the model will be trained, evaluated, and deployed to production with zero downtime or extra configuration needed. </p><p>Because Cortex provides native support for A/B testing and traffic splitting, we can even run complex deployment strategies without breaking Metaflow‚Äôs lineage.</p><p>For example, if after selecting a best model, we wanted to test how the model performed in different formats‚Äîsay ONNX vs TensorFlow‚Äîwe could export two versions of the model, deploy them both in an A/B test, and log their performance. Because our training flow is connected to our deployment, we can then pass this information back and forth between Cortex and Metaflow without issue.</p><h3>An easier path to production machine learning</h3><p>Over the years, a number of end-to-end data science platforms have been released, and most of them fall into the same traps:</p><ul role="list"><li>Providing a smooth interface, with zero transparency into what‚Äôs happening under the hood, killing reproducibility and auditing.</li><li>Solving one part of the stack well, like training, but ‚Äúbolting on‚Äù under-developed solutions for other parts, like deployment.</li><li>Locking data scientists and machine learning engineers into a narrow stack by only supporting specific frameworks and integrations.</li></ul><p>The result is a platform that makes production machine learning easy‚Äîif you stay strictly within the confines of the system. When you have a diverse set of problems to solve, however, this is difficult to do.</p><p>Metaflow and Cortex represent a fundamentally different, human-centric approach. The emphasis is not on providing a magic solution to a narrow set of problems, but on providing an easy interface for building solutions to any problem.</p><p>If you‚Äôre interested in digging into either platform, check out the links below:</p><ul role="list"><li><strong>Metaflow documentation: </strong> <a href="https://docs.metaflow.org/" target="_blank">https://docs.metaflow.org/</a></li><li><strong>Metaflow GitHub: </strong><a href="https://github.com/Netflix/metaflow" target="_blank">https://github.com/Netflix/metaflow</a></li><li><strong>Cortex documentation: </strong><a href="https://docs.cortex.dev/" target="_blank">https://docs.cortex.dev/</a></li><li><strong>Cortex GitHub: </strong><a href="https://github.com/cortexlabs/cortex" target="_blank">https://github.com/cortexlabs/cortex</a></li></ul><p>‚Äç</p></div></div>]]>
            </description>
            <link>https://www.cortex.dev/post/reproducible-machine-learning-pipelines-with-metaflow-and-cortex</link>
            <guid isPermaLink="false">hacker-news-small-sites-25497008</guid>
            <pubDate>Mon, 21 Dec 2020 17:20:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Project Oberon 2013 on RISC-V]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25496993">thread link</a>) | @homarp
<br/>
December 21, 2020 | http://lists.inf.ethz.ch/pipermail/oberon/2020/015269.html | <a href="https://web.archive.org/web/*/http://lists.inf.ethz.ch/pipermail/oberon/2020/015269.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
   
    <b>Rikke Solbj√∏rg</b> 
    <a href="mailto:oberon%40lists.inf.ethz.ch?Subject=Re:%20Re%3A%20%5BOberon%5D%20Project%20Oberon%202013%20on%20RISC-V&amp;In-Reply-To=%3CCAGsQOdE4PTnJS8dqpkpV6zroT8wR%2BWzRRn3yNMwqv_cfP0dcSg%40mail.gmail.com%3E" title="[Oberon] Project Oberon 2013 on RISC-V">rikke.solbjorg at gmail.com
       </a><br>
    <i>Sun Dec 20 17:54:17 CET 2020</i>
    <ul>
        <li>Previous message: <a href="http://lists.inf.ethz.ch/pipermail/oberon/2020/015281.html">[Oberon] simple arcade games (Oleg N. Cher)
</a></li>
        <li>Next message: <a href="http://lists.inf.ethz.ch/pipermail/oberon/2020/015270.html">[Oberon] Project Oberon 2013 on RISC-V
</a></li>
         <li> <b>Messages sorted by:</b> 
              <a href="http://lists.inf.ethz.ch/pipermail/oberon/2020/date.html#15269">[ date ]</a>
              <a href="http://lists.inf.ethz.ch/pipermail/oberon/2020/thread.html#15269">[ thread ]</a>
              <a href="http://lists.inf.ethz.ch/pipermail/oberon/2020/subject.html#15269">[ subject ]</a>
              <a href="http://lists.inf.ethz.ch/pipermail/oberon/2020/author.html#15269">[ author ]</a>
         </li>
       </ul>
    <hr>  
<!--beginarticle-->
<pre>Hi,

I saw your recent discussion on running Project Oberon on RISC-V. I've been
working on a RISC-V port for the last few months, which might be
interesting to you. A port of Project Oberon to RISC-V (i.e. a RV32IM
compiler and a port of the rest of the system), as well as an emulator that
can run it, can be found in these repositories:

<a href="https://github.com/solbjorg/oberon-riscv">https://github.com/solbjorg/oberon-riscv</a>
<a href="https://github.com/solbjorg/oberon-riscv-emu">https://github.com/solbjorg/oberon-riscv-emu</a>

If you just want to try it, there's a disk image included with the emulator.

To my knowledge, this RISC-V port is more complete than others that I have
found: the compiler can compile the Oberon system as well as itself, and
the system runs well in the emulator. It lacks support for REALs and
interrupts at the moment, but most programs are able to run without them.

The port is built on top of several other Oberon-related projects, which
I've credited in oberon-riscv's readme.

I'm planning to make it run on an FPGA in the future too, although that
will have to come after the holidays.

Kind regards,
Rikke
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<a href="http://lists.inf.ethz.ch/pipermail/oberon/attachments/20201220/2aa09666/attachment.html">http://lists.inf.ethz.ch/pipermail/oberon/attachments/20201220/2aa09666/attachment.html</a>&gt;
</pre>









<!--endarticle-->
    <hr>
    <ul>
        <!--threads-->
	<li>Previous message: <a href="http://lists.inf.ethz.ch/pipermail/oberon/2020/015281.html">[Oberon] simple arcade games (Oleg N. Cher)
</a></li>
	<li>Next message: <a href="http://lists.inf.ethz.ch/pipermail/oberon/2020/015270.html">[Oberon] Project Oberon 2013 on RISC-V
</a></li>
         <li> <b>Messages sorted by:</b> 
              <a href="http://lists.inf.ethz.ch/pipermail/oberon/2020/date.html#15269">[ date ]</a>
              <a href="http://lists.inf.ethz.ch/pipermail/oberon/2020/thread.html#15269">[ thread ]</a>
              <a href="http://lists.inf.ethz.ch/pipermail/oberon/2020/subject.html#15269">[ subject ]</a>
              <a href="http://lists.inf.ethz.ch/pipermail/oberon/2020/author.html#15269">[ author ]</a>
         </li>
       </ul>

<hr>
<a href="https://lists.inf.ethz.ch/mailman/listinfo/oberon">More information about the Oberon
mailing list</a><br>

</div>]]>
            </description>
            <link>http://lists.inf.ethz.ch/pipermail/oberon/2020/015269.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25496993</guid>
            <pubDate>Mon, 21 Dec 2020 17:18:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Volta ‚Äì The Hassle-Free JavaScript Tool Manager ‚Äì Hits 1.0.0]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25496900">thread link</a>) | @charlespierce
<br/>
December 21, 2020 | https://blog.volta.sh/2020/12/21/announcing-volta-100/ | <a href="https://web.archive.org/web/*/https://blog.volta.sh/2020/12/21/announcing-volta-100/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <p>The Volta team is thrilled to announce that Volta 1.0.0 is now available! Volta is a fast, reliable utility for declaring your JavaScript <a href="http://calculist.org/blog/2020/12/21/tac/">Toolchains as Code</a>. In much the same way that Infrastructure as Code frees teams from manually managing their server infrastructure, <strong>Volta takes the hassle out of installing and coordinating JavaScript tools</strong>‚Äîsuch as Node, package managers, and package binaries‚Äîso that you can focus on creating awesome software.
<!--more--></p>



<p>The 1.0.0 release means that Volta is ready for general use in projects of all sizes. The new features included in version 1.0.0 are the last pieces in a string of work‚Äîbegun with Volta 0.9.0‚Äîto make the most common tools work seamlessly with the benefits that Volta provides.</p>

<p>At the same time, 1.0.0 means more than, ‚Äúwe implemented some high-impact functionality and finally closed some long-standing issues.‚Äù From the beginning, Volta was built to empower engineers and engineering teams to build amazing JS applications without having to worry about their environment or tooling. For individual engineers, Volta unobtrusively makes sure your tooling is aligned with the needs of your project, allowing you to stay focused on your work. For engineering teams, Volta allows you to manage your infrastructure decision-making centrally without slowing down individual team members. When the team decides to change versions of Node, for example, that doesn‚Äôt require explicit effort on the part of each developer. With version 1.0.0, we believe Volta delivers on the promise of making tool management disappear.</p>

<p>Last, version 1.0.0 represents a commitment to stability. As we continue to add new features and support for more tools, we are committed to doing so in a backwards-compatible way. You can be confident that new releases won‚Äôt break your workflows or scripts.</p>



<h2 id="support-for-npm-link">Support for <code>npm link</code></h2>

<p>With the <a href="https://blog.volta.sh/2020/10/22/announcing-volta-090/">release of Volta 0.9.0</a>, we added support for installing tools directly with your package manager while still taking advantage of the benefits that Volta provides. We have extended that support to include linking your local packages with <code>npm link</code>, even across different npm versions. Additionally, if you try to link two projects that are using different Node versions, Volta will alert you that there might be incompatibilities that cause unexpected behavior.</p>

<h2 id="support-for-upgrading-global-packages">Support for upgrading global packages</h2>

<p>You can now upgrade your installed global packages directly with your package manager, using <code>npm update -g</code> or <code>yarn global upgrade</code>. Volta will make sure that the package manager can locate all of the packages so that they can be upgraded to their latest versions.</p>



<p>While we believe that Volta 1.0.0 achieves the goals for the project, that doesn‚Äôt mean that we are done! Active development will continue on Volta: adding new features, support for new tools, and fixing any bugs that crop up. A few items on our near-term roadmap include:</p>

<ul>
  <li>Native builds for Apple M1 devices</li>
  <li>Support for using <a href="https://pnpm.js.org/"><code>pnpm</code></a> as your package manager</li>
  <li>Improvements to <code>volta list</code>, making it easier to visualize the state of your tools</li>
</ul>



<p>To try Volta for the first time or upgrade your existing installation, follow the instructions on our <a href="https://docs.volta.sh/guide/getting-started">Getting Started</a> page!</p>

<p>Finally, this release is the culmination of more than two years of work from a whole host of contributors. It wouldn‚Äôt have been possible without all of your ideas, feedback, bug reports, code, and encouragement. We would like to extend our heartfelt thanks to everyone in the community for your support.</p>

<p><em>Interested in getting involved? Join our <a href="https://discord.gg/hgPTz9A">Discord server</a>!</em></p>

        </div></div>]]>
            </description>
            <link>https://blog.volta.sh/2020/12/21/announcing-volta-100/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25496900</guid>
            <pubDate>Mon, 21 Dec 2020 17:10:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building My Own Chess Engine]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25496809">thread link</a>) | @healeycodes
<br/>
December 21, 2020 | https://healeycodes.com/building-my-own-chess-engine/ | <a href="https://web.archive.org/web/*/https://healeycodes.com/building-my-own-chess-engine/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><header><p>December 20, 2020<!-- --> in<!-- --> <span><a href="https://healeycodes.com/tags/python">Python</a></span></p></header><section><p>I have been learning chess (again) and how to program a chess engine (for the first time) over the last month. After skimming some introductory texts, I was convinced that building a simple chess engine ‚Äî one that would put up a fair fight against a casual player ‚Äî would take no more than a few days.</p>
<p>I was wrong.</p>
<p>But I made it there in the end and created a toy chess engine (<a href="https://github.com/healeycodes/andoma">healeycodes/andoma</a>) that I am proud of. It can play a game of chess and solve simple chess puzzles like mate-in-two or mate-in-three. It has a slim UCI interface which means it can be hooked up to lichess.org via <a href="https://github.com/ShailChoksi/lichess-bot">lichess-bot</a> ‚Äî a bridge between the lichess API and chess bots.</p>
<p>The first speed bump in its development was grasping the computational the complexity of chess ‚Äî how fast, and wide, the search tree grows. When a chess game starts, white can open in twenty different ways and black can respond in twenty different ways also. After the first full turn, there are 400 variations possible. After the third full turn, there are <a href="https://en.wikipedia.org/wiki/Shannon_number#Shannon's_calculation">over 119 million</a>.</p>
<p>Claude Shannon calculated that there are around <code>10^120</code> possible games of chess in his seminal paper <em>Programming a Computer for Playing Chess</em> in 1950. In <em>Rage Against the Machines</em>, Nate Silver <a href="https://fivethirtyeight.com/features/rage-against-the-machines/">quotes</a> Diego Rasskin-Gutman, who said:</p>
<blockquote>
<p>There are more possible chess games than the number of atoms in the universe.</p>
</blockquote>
<p>Given unlimited resources, it actually doesn‚Äôt take many lines of code to calculate every legal variation of chess. Here, the Python package <a href="https://python-chess.readthedocs.io/en/latest/">python-chess</a> is used for board representation and legal move generation.</p>
<div data-language="python"><pre><code><span>from</span> chess <span>import</span> Board<span>,</span> Move<span>,</span> STARTING_FEN


positions <span>=</span> <span>{</span><span>}</span>


<span>def</span> <span>generate_tree</span><span>(</span>fen<span>)</span><span>:</span>
    board <span>=</span> Board<span>(</span>fen<span>)</span>
    legal_moves <span>=</span> <span>list</span><span>(</span>board<span>.</span>legal_moves<span>)</span>
    <span>if</span> fen <span>in</span> positions<span>:</span>
        positions<span>[</span>fen<span>]</span> <span>+=</span> legal_moves
    <span>else</span><span>:</span>
        positions<span>[</span>fen<span>]</span> <span>=</span> legal_moves

    <span>for</span> move <span>in</span> legal_moves<span>:</span>
        board<span>.</span>push<span>(</span>move<span>)</span>
        next_fen <span>=</span> board<span>.</span>fen<span>(</span><span>)</span>
        board<span>.</span>pop<span>(</span><span>)</span>
        
        generate_tree<span>(</span>next_fen<span>)</span>

<span>try</span><span>:</span>
    generate_tree<span>(</span>STARTING_FEN<span>)</span>
<span>except</span> RecursionError<span>:</span> 
    <span>print</span><span>(</span><span>len</span><span>(</span>positions<span>)</span> <span>+</span> <span>sum</span><span>(</span><span>len</span><span>(</span>p<span>)</span> <span>for</span> p <span>in</span> positions<span>)</span><span>)</span></code></pre></div>
<p>This program throws a <code>RecursionError</code> and prints <code>59691</code> ‚Äî the number of different positions the search tree contained when it crashed. All we need to fix this, is another universe to run the program in.</p>
<p>Given that there are computational limits to abide by, as well as the time control rules of chess, improvements over a naive brute force search must be made.</p>
<h2 id="evaluation"><a href="#evaluation" aria-label="evaluation permalink"></a>Evaluation</h2>
<p>In order to search for good positions, it is necessary to understand what makes a good position <em>good</em>. The most simplistic way of describing a position‚Äôs strength is to compare the total value material of each side.</p>
<p>Tomasz Michniewski, author of the <a href="https://www.chessprogramming.org/Simplified_Evaluation_Function">Simplified Evaluation Function</a>, defined some values that are ‚Äúdesigned specifically to compensate for the lack of any other chess knowledge‚Äù. This is perfect for me ‚Äî a beginner chess player.</p>
<p>This snippet sums the material on the initial board using Michniewski‚Äôs piece values.</p>
<div data-language="python"><pre><code><span>import</span> chess

piece_values <span>=</span> <span>{</span>
    chess<span>.</span>PAWN<span>:</span> <span>100</span><span>,</span>
    chess<span>.</span>ROOK<span>:</span> <span>500</span><span>,</span>
    chess<span>.</span>KNIGHT<span>:</span> <span>320</span><span>,</span>
    chess<span>.</span>BISHOP<span>:</span> <span>330</span><span>,</span>
    chess<span>.</span>QUEEN<span>:</span> <span>900</span><span>,</span>
    chess<span>.</span>KING<span>:</span> <span>20000</span>
<span>}</span>

board <span>=</span> chess<span>.</span>Board<span>(</span>chess<span>.</span>STARTING_FEN<span>)</span>
white_material <span>=</span> <span>0</span>
black_material <span>=</span> <span>0</span>

<span>for</span> square <span>in</span> chess<span>.</span>SQUARES<span>:</span>
    piece <span>=</span> board<span>.</span>piece_at<span>(</span>square<span>)</span>
    <span>if</span> <span>not</span> piece<span>:</span>
        <span>continue</span>
    <span>if</span> piece<span>.</span>color <span>==</span> chess<span>.</span>WHITE<span>:</span>
        white_material <span>+=</span> piece_values<span>[</span>piece<span>.</span>piece_type<span>]</span>
    <span>else</span><span>:</span>
        black_material <span>+=</span> piece_values<span>[</span>piece<span>.</span>piece_type<span>]</span></code></pre></div>
<p>Michniewski also provides <a href="https://www.chessprogramming.org/Piece-Square_Tables">piece-square tables</a>, which alter the value of a piece depending on which square it sits on. For example, it‚Äôs better for pawns to progress up the board and it‚Äôs better for knights to be near the center of the board.</p>
<p>The bonus of a square may be positive, neutral, or negative. The piece-square tables are presented from White‚Äôs POV and must be mirrored for Black.</p>
<div data-language="text"><pre><code># a knight's bonuses depending on square
-50,-40,-30,-30,-30,-30,-40,-50,
-40,-20,  0,  0,  0,  0,-20,-40,
-30,  0, 10, 15, 15, 10,  0,-30,
-30,  5, 15, 20, 20, 15,  5,-30,
-30,  0, 15, 20, 20, 15,  0,-30,
-30,  5, 10, 15, 15, 10,  5,-30,
-40,-20,  0,  5,  5,  0,-20,-40,
-50,-40,-30,-30,-30,-30,-40,-50,</code></pre></div>
<p>For the king, Michniewski provides two tables ‚Äî one for the middle game and one for the end game. He defines the end game as being either if:</p>
<blockquote>
<p>Both sides have no queens or</p>
</blockquote>
<blockquote>
<p>Every side which has a queen has additionally no other pieces or one minorpiece maximum.</p>
</blockquote>

<p>The evaluation of a chess board is one of the things that‚Äôs kept me interested in chess engines. Evaluation rules are easy to add and take away. I refactored the code from Go to Python to be able to prototype different rules faster.</p>
<p>After piece-square tables, one might look at pawn structure, mobility, center control, connectivity, trapped pieces, king safety, space, tempo, and other patterns (this list is taken from the Chess Programming Wiki‚Äôs <a href="https://www.chessprogramming.org/Evaluation">Evaluation</a> page).</p>
<h2 id="searching-with-minimax"><a href="#searching-with-minimax" aria-label="searching with minimax permalink"></a>Searching With Minimax</h2>
<p><a href="https://en.wikipedia.org/wiki/Minimax">Minimax</a> is a search algorithm that finds the next optimal move by minimizing the potential loss in a worst case scenario. Chess is a game of perfect information ‚Äî by looking at the board it‚Äôs possible to know exactly what an opponent is capable of. However, this search for moves is limited by the evaluation function and the depth that computing resources are able to reach.</p>
<p>The search space is a tree of legal moves which grows exponentially at every level (the average branching factor is around 35). By the time the tree is explored, the path to many future boards is known as well as which path restricts the opponent‚Äôs possible gains the most.</p>
<p>The leaf nodes of the tree return the evaluation of their current state. Non-leaf nodes inherit their value from a descendant node. Eventually, the recursive function reduces down to a value for the given board.</p>
<p>This function can be used to pick the next best move by calling it on every legal move available in the current turn. A great visual resource for this algorithm is Sebastian Lague‚Äôs <a href="https://www.youtube.com/watch?v=l-hh51ncgDI">Algorithms Explained ‚Äì minimax and alpha-beta pruning</a>.</p>
<div data-language="python"><pre><code><span>def</span> <span>minimax</span><span>(</span>board<span>,</span> depth<span>,</span> maximizing_player<span>)</span><span>:</span>
    <span>if</span> depth <span>==</span> <span>0</span> <span>or</span> board<span>.</span>is_game_over<span>(</span><span>)</span><span>:</span>
        <span>return</span> evaluate<span>(</span>board<span>)</span>
    <span>if</span> maximizing_player<span>:</span>
        value <span>=</span> <span>-</span><span>float</span><span>(</span><span>'inf'</span><span>)</span>
        <span>for</span> move <span>in</span> board<span>.</span>legal_moves<span>:</span>
            board<span>.</span>push<span>(</span>move<span>)</span>
            value <span>=</span> <span>max</span><span>(</span>value<span>,</span> minimax<span>(</span>board<span>,</span> depth <span>-</span> <span>1</span><span>,</span> <span>False</span><span>)</span><span>)</span>
            board<span>.</span>pop<span>(</span><span>)</span>
	    <span>return</span> value
    <span>else</span><span>:</span>
        value <span>=</span> <span>float</span><span>(</span><span>'inf'</span><span>)</span>
        <span>for</span> move <span>in</span> board<span>.</span>legal_moves<span>:</span>
            board<span>.</span>push<span>(</span>move<span>)</span>
            value <span>=</span> <span>min</span><span>(</span>value<span>,</span> minimax<span>(</span>board<span>,</span> depth <span>-</span> <span>1</span><span>,</span> <span>True</span><span>)</span><span>)</span>
            board<span>.</span>pop<span>(</span><span>)</span>
        <span>return</span> value</code></pre></div>
<h2 id="alpha-beta-pruning"><a href="#alpha-beta-pruning" aria-label="alpha beta pruning permalink"></a>Alpha-beta pruning</h2>
<p>My chess engine uses <a href="https://en.wikipedia.org/wiki/Alpha%E2%80%93beta_pruning">alpha-beta pruning</a> as an improvement over the naive minimax algorithm ‚Äî which does not fare well against the exponential nature of chess. Branches of the search tree can be eliminated when it is clear that another branch shows more promise. This significantly reduces the number of moves required to be generated.</p>
<p><span>
      <a href="https://healeycodes.com/static/a99200aacf6d6cfc643aaa45317d65aa/42a19/alpha-beta-pruning.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Branches of a minimax search tree being stopped early" title="Branches of a minimax search tree being stopped early" src="https://healeycodes.com/static/a99200aacf6d6cfc643aaa45317d65aa/42a19/alpha-beta-pruning.png" srcset="https://healeycodes.com/static/a99200aacf6d6cfc643aaa45317d65aa/a8a0d/alpha-beta-pruning.png 300w,
https://healeycodes.com/static/a99200aacf6d6cfc643aaa45317d65aa/dface/alpha-beta-pruning.png 600w,
https://healeycodes.com/static/a99200aacf6d6cfc643aaa45317d65aa/42a19/alpha-beta-pruning.png 1024w" sizes="(max-width: 1024px) 100vw, 1024px" loading="lazy">
  </a>
    </span></p>
<p>By reducing the depth of branches that will not bear fruit we can search deeper down the better parts of the tree.</p>
<p>The speed of alpha-beta pruning can be increased by applying <a href="https://www.chessprogramming.org/Move_Ordering">move ordering</a>. This is where the more promising branches of the search tree are searched first ‚Äî which means less time is spent in the worst branches as they will be cut off early.</p>
<p>Move ordering cannot be 100% accurate but it‚Äôs a powerful optimization.</p>
<p>In <a href="https://github.com/healeycodes/andoma">my engine</a>, a cheap (but not perfect) <code>move_value</code> function is used to sort the initial legal move nodes from best to worst. The logic of this function is capture in its docstring:</p>
<div data-language="python"><pre><code><span>'''
How good is a move?
A promotion is great.
A weaker piece taking a stronger piece is good.
A stronger piece taking a weaker piece is bad.
Also consider the position change via piece-square table.
'''</span></code></pre></div>
<h2 id="communication-and-the-uci-protocol"><a href="#communication-and-the-uci-protocol" aria-label="communication and the uci protocol permalink"></a>Communication and the UCI Protocol</h2>
<p>The <a href="https://github.com/healeycodes/andoma/blob/main/uci-interface.md">Universal Chess Interface</a> (UCI) is a open protocol to hook up chess engines to user interfaces. The communication is done through standard input and standard output and messages end with <code>\n</code>. The move format is long algebraic notation ‚Äî like <code>e2e4</code>, or <code>e1g1</code> for white short castling, and an example of a promotion to queen is <code>a7a8q</code>.</p>
<p>There are many configuration commands in the specification and it initially seemed overwhelming. After debugging, I found that not many were required to get a chess engine to the <em>Hello World</em> stage.</p>
<p>In order to hook my chess engine up to lichess via <a href="https://github.com/ShailChoksi/lichess-bot">lichess-bot</a>, I implemented the following. These commands are send to the engine from lichess-bot:</p>
<ul>
<li><code>uci</code> - the engine reports its name, authors, and <code>uciok</code></li>
<li><code>isready</code> - the engine reports that it‚Äôs ready: <code>readyok</code></li>
<li><code>position startpos moves e2e4</code> - the engine sets it‚Äôs internal state to match the list of moves</li>
<li><code>go</code> - the engine should now calculate and respond with the next best move, like <code>g8f6</code></li>
</ul>
<h2 id="a-promise"><a href="#a-promise" aria-label="a promise permalink"></a>A Promise</h2>
<p>I have found a great joy interacting with the chess community over the last month. Lichess is a fantastic resource and endlessly fun to play on. The UI is slick and light ‚Äî and the post-match analysis is revealing and simple to use. It‚Äôs <a href="https://github.com/ornicar/lila">open source</a> and relies on donations and sponsorships.</p>
<p>I took breaks from writing this article to play chess against Dad on a real board. We‚Äôre missing a white rook and use a pencil sharpener as a replacement piece. He has been telling me stories about playing chess decades ago ‚Äî before IBM‚Äôs <a href="https://en.wikipedia.org/wiki/Deep_Blue_(chess_computer)">Deep Blue</a> emerged and beat Garry Kasparov, the reigning world champion, on its second attempt in 1997.</p>
<p>If you are within my social circle, you will have experienced me evangelizing chess and chess engines over the last month ‚Äî now that I have published this, I promise to chill out a little bit ‚ôüÔ∏è</p>
<h2 id="other-resources"><a href="#other-resources" aria-label="other resources permalink"></a>Other Resources</h2>
<p>To build <a href="https://github.com/healeycodes/andoma">healeycodes/andoma</a>, I used the following resources (and recommend all of them).</p>
<ul>
<li><a href="https://www.chessprogramming.org/Main_Page">Chess Programming Wiki</a> ‚Äî an incredible wealth of knowledge exists here. I spent hours reading through intermediate and advanced concepts just for fun</li>
<li><a href="https://www.youtube.com/watch?v=l-hh51ncgDI">Algorithms Explained ‚Äì minimax and alpha-beta pruning</a> ‚Äî Sebastian Lague‚Äôs breakdowns ‚Ä¶</li></ul></section></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://healeycodes.com/building-my-own-chess-engine/">https://healeycodes.com/building-my-own-chess-engine/</a></em></p>]]>
            </description>
            <link>https://healeycodes.com/building-my-own-chess-engine/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25496809</guid>
            <pubDate>Mon, 21 Dec 2020 17:03:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[EU's new Decryption Platform to tackle the challenge of encrypted material]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25496787">thread link</a>) | @DyslexicAtheist
<br/>
December 21, 2020 | https://alecmuffett.com/article/13075 | <a href="https://web.archive.org/web/*/https://alecmuffett.com/article/13075">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-13075">
		<!-- .entry-header -->

	
	<div>
		
<p>So, this <a href="https://www.europol.europa.eu/newsroom/news/europol-and-european-commission-inaugurate-new-decryption-platform-to-tackle-challenge-of-encrypted-material-for-law-enforcement">press release</a> just dropped:</p>



<hr>



<blockquote><p>This week Europol launched an innovative decryption platform, developed in close cooperation with the&nbsp;<a rel="noreferrer noopener" href="https://ec.europa.eu/info/departments/joint-research-centre_en" target="_blank">European Commission‚Äôs Joint Research Centre</a>. It will significantly increase Europol‚Äôs capability to decrypt information lawfully obtained in criminal investigations.</p><p>The launch of the new decryption platform marks a milestone in the fight against organised crime and terrorism in Europe. In full respect of fundamental rights and without limiting or weakening encryption, this initiative will be available to national law enforcement authorities of all Member States to help keep societies and citizens safe and secure. A virtual inauguration ceremony brought together senior representatives from Europol, the&nbsp;<a rel="noreferrer noopener" href="https://www.europarl.europa.eu/portal/en" target="_blank">European Parliament</a>, the&nbsp;<a rel="noreferrer noopener" href="https://www.consilium.europa.eu/en/" target="_blank">Council of the EU</a>&nbsp;and the&nbsp;<a rel="noreferrer noopener" href="https://ec.europa.eu/info/index_en" target="_blank">Commission</a>.</p><cite><a href="https://www.europol.europa.eu/newsroom/news/europol-and-european-commission-inaugurate-new-decryption-platform-to-tackle-challenge-of-encrypted-material-for-law-enforcement">https://www.europol.europa.eu/newsroom/news/europol-and-european-commission-inaugurate-new-decryption-platform-to-tackle-challenge-of-encrypted-material-for-law-enforcement</a></cite></blockquote>



<hr>



<p>Now my gut reaction when anyone refers to ‚Äúthe launch of a new platform‚Äù with glowing descriptions and prescriptive outlook, is to remember Geoffrey James‚Äô ‚ÄúTao of Programming‚Äù ‚Äì but this is more important than mere nerd flippancy, and so worthy of some deeper consideration. </p>



<p>The announcement continues:</p>



<hr>



<blockquote><p>Europol‚Äôs&nbsp;<a href="https://www.europol.europa.eu/about-europol/european-cybercrime-centre-ec3">European Cybercrime Centre (EC3)</a>&nbsp;will operate the platform and leverage its in-house expertise in providing the most effective support to national Member State investigations.</p><cite>q.v.</cite></blockquote>



<hr>



<p>‚Ä¶which links to a <a href="https://www.europol.europa.eu/about-europol/european-cybercrime-centre-ec3">fairly terrifying page</a>, with some particularly egregious military-code-word-security-cyber-spooky-stuff:</p>



<hr>



<figure><img data-attachment-id="13078" data-permalink="https://alecmuffett.com/article/13075/organigram_2020_just-titles" data-orig-file="https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles.jpg" data-orig-size="1191,635" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="organigram_2020_just-titles" data-image-description="" data-medium-file="https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles-300x160.jpg" data-large-file="https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles-1024x546.jpg" loading="lazy" width="1024" height="546" src="https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles-1024x546.jpg" alt="" srcset="https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles-1024x546.jpg 1024w, https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles-300x160.jpg 300w, https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles-150x80.jpg 150w, https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles-768x409.jpg 768w, https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles.jpg 1191w" sizes="(max-width: 767px) 89vw, (max-width: 1000px) 54vw, (max-width: 1071px) 543px, 580px" data-lazy-srcset="https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles-1024x546.jpg 1024w, https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles-300x160.jpg 300w, https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles-150x80.jpg 150w, https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles-768x409.jpg 768w, https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles.jpg 1191w" data-lazy-src="https://alecmuffett.com/wp-content/uploads/2020/12/organigram_2020_just-titles-1024x546.jpg?is-pending-load=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>What the hell is ‚ÄúAP CYBORG‚Äù? And ‚Ä¶ ‚ÄúTWINS‚Äù? Ick.</figcaption></figure>



<hr>



<p>So, basically, this sounds something along the lines of <em>‚Äúwe bought a whole pile of GPUs and/or rented them from somewhere, and we‚Äôre announcing it before Christmas so that people know that we are <strong>‚Äòdoing something about cyber‚Ñ¢‚Äô</strong>‚Äú</em></p>



<p>But why would that be interesting? Why announce something? And why now?</p>



<p><strong>Gut feeling</strong>, followed by a <strong>wild, unsubstantiated guess</strong>: this is not a capability which one would normally announce. Stuff like this is very nerdy, and best kept in-house. Therefore it is being announced for a ‚Äúsoft goal‚Äù, done for the sake of being seen to be done. </p>



<p>What‚Äôs a good soft goal? Well, based upon my corporate (rather than Government) experience, there are two obvious options:</p>



<ol><li>‚ÄúWe have budget that we have to spend, and which we have to be seen to be spending, so that we can get the same or increased budget, next year‚Äù; or, more interestingly‚Ä¶</li><li>Someone with an ounce of sense regarding strategic face-saving, is looking at all the European Commission-led brouhaha regarding <a href="https://www.consilium.europa.eu/en/press/press-releases/2020/12/14/encryption-council-adopts-resolution-on-security-through-encryption-and-security-despite-encryption/">‚ÄúWe need to have good security IN SPITE of good security, oh, wait, did I say security? I meant ‚Äòencryption‚Äô, of course‚Äù</a> ‚Äì and  is announcing this in order to have a face-saving programme in the (likely? I hope likely) instance that all of that political sound and fury, comes to nothing.</li></ol>



<p>Number 2 is particularly interesting to me because the European Commission is called-out on the press release headline; I can‚Äôt imagine that as happening on a more mundane, geek- or budget-led press release. Hence thinking that the EC want to be seen to be taking a diversity of approaches towards encryption. </p>



<p>Maybe I am wrong, so perhaps someone who knows more about the operations of Europol press releases, can comment? Anonymously, via Strong Encryption and Tor, if desired?</p>



<hr>



<p>[1] This:</p>



<figure><img data-attachment-id="13077" data-permalink="https://alecmuffett.com/article/13075/screenshot-2020-12-21-at-16-11-51" data-orig-file="https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51.png" data-orig-size="1956,1164" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Screenshot-2020-12-21-at-16.11.51" data-image-description="" data-medium-file="https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51-300x179.png" data-large-file="https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51-1024x609.png" loading="lazy" width="1024" height="609" src="https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51-1024x609.png" alt="" srcset="https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51-1024x609.png 1024w, https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51-300x179.png 300w, https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51-150x89.png 150w, https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51-768x457.png 768w, https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51-1536x914.png 1536w, https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51.png 1956w" sizes="(max-width: 767px) 89vw, (max-width: 1000px) 54vw, (max-width: 1071px) 543px, 580px" data-lazy-srcset="https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51-1024x609.png 1024w, https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51-300x179.png 300w, https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51-150x89.png 150w, https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51-768x457.png 768w, https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51-1536x914.png 1536w, https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51.png 1956w" data-lazy-src="https://alecmuffett.com/wp-content/uploads/2020/12/Screenshot-2020-12-21-at-16.11.51-1024x609.png?is-pending-load=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>One of my favourite extracts from ‚ÄúThe Tao of Programming‚Äù, <a href="http://motd.ambians.com/quotes.php/name/linux_computers/toc_id/1-1-4/s/741">via</a></figcaption></figure>
	</div><!-- .entry-content -->

	 <!-- .entry-footer -->
</article></div>]]>
            </description>
            <link>https://alecmuffett.com/article/13075</link>
            <guid isPermaLink="false">hacker-news-small-sites-25496787</guid>
            <pubDate>Mon, 21 Dec 2020 17:01:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Textyle ‚Äì Online Tilemap Editor (ReactJS, WebGL and Rust (WASM))]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25496710">thread link</a>) | @dark-phobia
<br/>
December 21, 2020 | https://textyle.app/edit/ | <a href="https://web.archive.org/web/*/https://textyle.app/edit/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://textyle.app/edit/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25496710</guid>
            <pubDate>Mon, 21 Dec 2020 16:55:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[eBPF Updates 2nd issue. Collection of news and links about eBPF]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25496621">thread link</a>) | @genbit
<br/>
December 21, 2020 | https://ebpf.io/news/ebpf-updates-2020-12 | <a href="https://web.archive.org/web/*/https://ebpf.io/news/ebpf-updates-2020-12">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><div>
<h2 id="foreword"><a href="#foreword" aria-label="foreword permalink"></a>Foreword</h2>
<p>Welcome to the second issue of the <em>eBPF Updates</em>! This time we have
interesting resources about how to write eBPF programs with Zig, or with Rust,
or on how to manage them with libbpf. On the kernel side, modules now support
BTF, and improvements to memory accounting for eBPF should help to solve the
limitations of rlimit. Did this just sound incomprehensible to you? Do not
fear, we also have some gentle introductions to eBPF in the list. This issue
also introduces a ‚ÄúDid You Know‚Äù section, and this time the focus is on CO-RE.
Read, learn, trace, and filter!</p>
<h2 id="important-news"><a href="#important-news" aria-label="important news permalink"></a>Important News</h2>
<p>The calls for participation (CFPs) for the devrooms for
<a href="https://fosdem.org/2021/">FOSDEM 2021</a> (online event) are open. Some of the
devrooms have hosted multiple talks about eBPF over the last year. In
particular:</p>
<ul>
<li>The SDN devroom (<a href="https://mdr78.github.io/2020/12/01/fosdem-cfp.html">CFP</a>)
accepts submissions until the 20th of December 2020.</li>
<li>The Containers devroom
(<a href="https://discuss.linuxcontainers.org/t/fosdem-2021-containers-devroom-call-for-papers/9625">CFP</a>)
accepts submissions until the 22th of December 2020.</li>
</ul>
<p>Recent start-up acquisitions highlight the growing adoption and the maturity of
eBPF:</p>
<ul>
<li><a href="https://www.flowmill.com/">Flowmill</a>, offering a solution for network
observability relying on eBPF,
<a href="https://techcrunch.com/2020/11/24/splunk-acquires-network-observability-service-flowmill/">has been acquired</a>
by <a href="https://www.splunk.com/en_us/newsroom/press-releases/2020/splunk-to-acquire-network-performance-monitoring-leader-flowmill.html">Splunk</a>.</li>
<li><a href="https://pixielabs.ai/">Pixie Labs</a>, which uses eBPF for visibility in
Kubernetes,
<a href="https://techcrunch.com/2020/12/10/new-relic-acquires-kubernetes-observability-platform-pixie-labs/">has been acquired</a>
by <a href="https://blog.newrelic.com/product-news/pixie-developer-first-observability/">New Relic</a>.</li>
</ul>
<p>Readers from Brazil may be interested in the <a href="https://ebpfbr.org/">eBPF Brasil</a>
website, which aims at gathering, translating, and sharing knowledge about
eBPF.</p>

<p>eBPF was named as one of the 5 technologies to watch in 2021 by CNCF TOC chair
<a href="https://twitter.com/lizrice">Liz Rice</a>, and the eBPF community just keeps on
growing every day.</p>
<p><span>
      <a href="https://ebpf.io/static/46c6d0cb6279e137c838606098a3a67b/91608/community.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="community" title="community" src="https://ebpf.io/static/46c6d0cb6279e137c838606098a3a67b/8c557/community.png" srcset="https://ebpf.io/static/46c6d0cb6279e137c838606098a3a67b/4edbd/community.png 175w,
https://ebpf.io/static/46c6d0cb6279e137c838606098a3a67b/13ae7/community.png 350w,
https://ebpf.io/static/46c6d0cb6279e137c838606098a3a67b/8c557/community.png 700w,
https://ebpf.io/static/46c6d0cb6279e137c838606098a3a67b/e996b/community.png 1050w,
https://ebpf.io/static/46c6d0cb6279e137c838606098a3a67b/91608/community.png 1251w" sizes="(max-width: 700px) 100vw, 700px" loading="lazy">
  </a>
    </span></p>
<h2 id="new-resources"><a href="#new-resources" aria-label="new resources permalink"></a>New Resources</h2>
<h3 id="blog-posts-presentations"><a href="#blog-posts-presentations" aria-label="blog posts presentations permalink"></a>Blog Posts, Presentations</h3>
<ul>
<li><a href="https://blog.container-solutions.com/the-top-reasons-why-you-should-give-ebpf-a-chance"><em>The Top Reasons Why You Should Give eBPF a Chance</em></a>,
from Lucas Severo Alves.<br>
Several factors are responsible for eBPF's success and should make readers
consider learning about, or using, this technology. This post cites its
powerful tracing capabilities, with the ability to attach to nearly any
function in the kernel with little impact on performance. Another reason is
that more and more companies, including large ones, are adopting eBPF; a
detailed list follows. At last, eBPF makes it possible to quickly develop
tools to instrument new parts of the kernel, without the need to go through a
longer process to upstream new attach points.</li>
<li><a href="https://cmd.com/blog/making-bpf-easy-with-libbpf-and-zig/"><em>Making BPF easy with libbpf and Zig</em></a>,
from Matt Knight.<br>
The <a href="https://ziglang.org/">Zig</a> programming language is used to create and
handle a simple eBPF program in this tutorial, both for the user space loader
and the eBPF program itself. The objective is mostly to understand how libbpf
manipulates the ELF object containing a program in order to load it, but
compiling from Zig, which aims at competing with C while offering some newer
features, may open new perspectives. The code is available
<a href="https://github.com/mattnite/zig-bpf-intro">on GitHub</a>.</li>
<li><a href="https://github.com/cilium/cilium/pull/13943">Weight support for Cilium's eBPF-based Maglev load balancer implementation</a>,
from Fankaixi Li.<br>
A new pull request by a software engineer at ByteDance (TikTok) popped up,
adding weight support to the eBPF-based
<a href="https://cilium.io/blog/2020/11/10/cilium-19#maglev">Maglev implementation in Cilium</a>.
Maglev provides consistent hashing for high-availability scenarios, and
balance packets to the same backends even if they arrive at different load
balancing nodes. The feature adds the possibility to assign weights to favor
some backends. It is still being discussed, but should land soon.</li>
<li><a href="https://kccncna20.sched.com/event/ekDR/beyond-the-buzzword-bpfs-unexpected-role-in-kubernetes-andrew-randall-alban-crequy-kinvolk"><em>Beyond the Buzzword: BPF‚Äôs Unexpected Role in Kubernetes</em></a>,
from Andrew Randall and Alban Crequy.<br>
After a high-level overview of eBPF, this presentation depicts the landscape
of the projects gravitating around this technology. The authors explain that
there are many powerful tools based on eBPF, although none of them would
cover Kubernetes clusters. As an answer to fill the gap, they introduce
Inspektor Gadget, which reuses some elements from the bcc tools to provide a
new set of monitoring gadgets for examining Pods. Note that the wording in
the slides might be misleading: If there was no equivalent to bcc for tracing
containers before Inspektor Gadget, there <em>are</em> other tools targeting the
platform, such as Cilium/Hubble for network and observability or BPFd for
running bcc scripts in containers.</li>
<li><a href="https://filipnikolovski.com/posts/ebpf/"><em>TIL: eBPF is awesome</em></a>,
from Filip Nikolovski.<br>
We all agree on this! This post is a gentle introduction to eBPF. A bit of
history, some details on the core infrastructure and its components, and a
simple ‚ÄúHello, World!‚Äù example extracted from
<a href="https://github.com/iovisor/bcc/blob/34cada17f798b8e00268d1ba4a4a8d765b948532/examples/tracing/hello_fields.py">the bcc tools</a>.
A nice read if you just got started with eBPF.</li>
<li><a href="https://suchakra.wordpress.com/2020/11/20/building-an-esoteric-filesystem-tracing-tool-with-ebpf/"><em>Building an Esoteric Filesystem Tracing Tool with eBPF</em></a>,
from Suchakra Sharma.<br>
This post has a focus on the read-ahead mechanism in the Linux kernel. After
providing a refresher on how read-ahead works, Suchakra explains in details
how eBPF can monitor the hit rate and efficiency of this mechanism. It turns
out that the program used to do that already exists in two versions, one with
a mix of C and Python proper to the bcc tools, and another one based on
libbpf and the newer features brought by the library, like CO-RE (Compile
Once, Run Everywhere). The last section details the benefits of the latter
version and the motivations to port tools to libbpf.</li>
<li><a href="https://lac2020.sciencesconf.org/data/proceedings.pdf#section*.12"><em>eXpress Data Path Kernel Objects for Real-Time Audio Streaming Optimization</em></a> (PDF),
from Christoph Kuhr and Alexander Car√¥t.<br>
Focusing on audio packet processing, this work aims at facilitating the set
up of a rehearsal environment for conducted orchestras via the Internet with
up to sixty musicians. The system may be susceptible to latency issues when
the different UDP streams must be processed and combined. The authors
investigated the use of XDP for processing these UDP streams, aggregating
them in the kernel and reporting only the final audio sample to the user
application. The authors found that XDP was not ideal, because of its lack of
floating-point operations and because it does not permit to retrieve hardware
timestamps. They were also limited by the incompatibility between LLVM, used
to compile the eBPF programs, and their build system, and could not
experiment on one part of their frontend. And although XDP increased the
performance, they realized that they could obtain similar speeds for their
use case with an optimized handling of a generic raw socket. Still, the use
case and experiment remain an interesting read.<br>
Video of the presentation may be available in the future from
<a href="https://lac2020.sciencesconf.org/">the page of the conference</a>, if it gets
uploaded.</li>
<li><a href="https://thenewstack.io/primer-how-xdp-and-ebpf-speed-network-traffic-via-the-linux-kernel/"><em>Primer: How XDP and eBPF Speed Network Traffic via the Linux Kernel</em></a>,
from Jack Wallen.<br>
There is a resolute focus on XDP in this article which describes how this
eBPF hook can speed up network traffic on Linux. This is followed by a simple
tutorial, where bcc is used to attach a XDP program and to track UDP packets
sent to a given port.</li>
<li><a href="https://nakryiko.com/posts/libbpf-bootstrap/"><em>Building BPF applications with libbpf-boostrap</em></a>,
from Andrii Nakryiko.<br>
You want to start developing an eBPF application, but you feel intimidated by
libbpf's complexity or lack of documentation? You <em>must</em> have a look at
libbpf-bootstrap. This project builds simple application templates, on which
you can directly build your software. Of the two available templates, the
simplest one (<code>minimal</code>) manipulates an eBPF program that simply logs the PID
of the process that calls it. The more advanced template (<code>bootstrap</code>) sets
up an application with more advanced features like eBPF maps, read-only
configuration variables, eBPF ring buffer, or CO-RE which needs a BTF (BPF
Type Format) description of the kernel's internals. This means that using
these features gets simple and immediate, all is set up for you in the
template. This article goes into a thorough description of the mechanisms
involved. This is a long read, but well worth it if you want to program
applications working with eBPF.</li>
<li><a href="https://pluginized-protocols.org/xbgp/2020/11/29/xbgp-hello.html"><em>A first xBGP plugin</em></a>,
from Thomas Wirtgen.<br>
As a follow-up from the link to the paper for xBGP in the previous issue of
these <em>eBPF Updates</em>, this is the introduction of a first eBPF-based xBGP
plugin. The idea is that, quoting the post, ‚Äú<em>a network operator would like
to ignore the BGP UPDATE messages that contain an unknown attribute. A
practical example of this usage is when problems with the processing of BGP
Path attribute 128 caused the failure of BGP sessions</em>‚Äù. All steps required
for running this example are provided. The code is hosted on
<a href="https://github.com/pluginized-protocols/xbgp_plugins.git">GitHub</a>, but there
is also a
<a href="https://github.com/pluginized-protocols/libxbgp/blob/master/misc/Dockerfile_xbgp">Dockerfile</a>
packaging all the required elements.</li>
<li><a href="https://docs.google.com/presentation/d/1cB4rJcdxTolIIUy5IEcb9iiUJHlMNmyT7c5eYY9D5LU/edit?usp=sharing"><em>Cilium &amp; eBPF - From Device to Service-Centric Networking</em></a>,
from Thomas Graf.<br>
In this presentation at the NAG (Network Architecture Geeks) Cafe in
December, Thomas outlines how eBPF allows to build powerful service-centric
networking models and how to evolve away from the old device-centric
networking architecture to meet requirements of containers and cloud-native
environments.</li>
<li><a href="https://medium.com/simplestaking/integrating-an-ebpf-based-firewall-into-the-tezedge-node-with-multipass-validations-769d4c6ccd93"><em>Integrating an eBPF-based firewall into the TezEdge node with multipass validations</em></a>,
from Juraj Selep.<br>
TezEdge peer-to-peer nodes validate blocks for the decentralized
<a href="https://en.wikipedia.org/wiki/Tezos">Tezos</a> blockchain, providing smart
contracts. Blockchain networks are subject to DDoS (Distributed Denial of
Service) attacks, generally mitigated with a firewall. In the current case,
XDP is used to implement it. The eBPF program checks that each connection
starts with a valid and unique proof of work, making it expensive for an
adversary to start many connections. This is further integrated with the
‚Äúmultipass validation‚Äù scheme that aims at detecting erroneous blocks as soon
as possible. Note that the eBPF programs are written in Rust.</li>
<li><a href="https://en.pingcap.com/blog/why-we-switched-from-bcc-tools-to-libbpf-tools-for-bpf-performance-analysis"><em>Why We Switched from bcc-tools to libbpf-tools for BPF Performance Analysis</em></a>,
from Wenbo Zhang.<br>
Another article on the benefits brought by CO-RE, for which libbpf provides
good support. After comparing bcc-based and libbpf-based tracing tools in
terms of features and memory footprint, the author provide a list of tools
and invocation patterns they use to analyze I/O performance.</li>
<li><a href="https://cilium.io/blog/2020/12/11/kube-proxy-free-cve-mitigation"><em>How to mitigate Kubernetes CVE-2020-8554 with eBPF</em></a>
from Jed Salazar.<br>
<a href="https://github.com/kubernetes/kubernetes/issues/97076">CVE-2020-8554</a>
represents a MITM (Man-in-the-middle) attack in Kubernetes where the
ExternalIP service feature can be used to attack a workload and redirect
egress network traffic from a unsuspecting Pod to another destination. In
this blog, Jed describes how Cilium is able to ‚Ä¶</li></ul></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://ebpf.io/news/ebpf-updates-2020-12">https://ebpf.io/news/ebpf-updates-2020-12</a></em></p>]]>
            </description>
            <link>https://ebpf.io/news/ebpf-updates-2020-12</link>
            <guid isPermaLink="false">hacker-news-small-sites-25496621</guid>
            <pubDate>Mon, 21 Dec 2020 16:47:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Annoying Technology]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25496558">thread link</a>) | @ggoo
<br/>
December 21, 2020 | https://annoying.technology/posts/c7cd70e3bb013f89/ | <a href="https://web.archive.org/web/*/https://annoying.technology/posts/c7cd70e3bb013f89/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><img src="https://d33wubrfki0l68.cloudfront.net/d9030eaef3d2c4f4f44c22d105bb531d05aa17d9/a04c1/media/dhl.png"></p><p>I simply clicked the tracking link in the confirmation email I got from DHL. This number (I redacted it via web inspector for the screenshot) comes from <strong>you</strong>, not from me. Check yourself.</p></div></div>]]>
            </description>
            <link>https://annoying.technology/posts/c7cd70e3bb013f89/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25496558</guid>
            <pubDate>Mon, 21 Dec 2020 16:42:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Who I think CentOS Stream is and isn't for]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25496527">thread link</a>) | @andyjpb
<br/>
December 21, 2020 | https://utcc.utoronto.ca/~cks/space/blog/linux/CentOSStreamWhoFor | <a href="https://web.archive.org/web/*/https://utcc.utoronto.ca/~cks/space/blog/linux/CentOSStreamWhoFor">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2>Who I think CentOS Stream is and isn't for</h2>

	<p><small>December 20, 2020</small></p>
</div><div><p>As time goes by and <a href="https://blog.centos.org/2020/12/balancing-the-needs-around-the-centos-platform/">Red Hat people write more official posts</a>
(<a href="https://lobste.rs/s/qrtyaa/balancing_needs_around_centos_platform">via</a>), I've
grown some opinions on who it feels that CentOS Stream is for and
is not for. Since I also feel that Red Hat people are not being
<a href="https://twitter.com/thatcks/status/1340488916613390337">completely straightforward</a>, I am going to
write out my views, as an outsider to the CentOS project but someone who
uses CentOS (and Ubuntu LTS) and has in the past used RHEL.</p>

<p>If you want to see if your software will work with upcoming package
updates for the latest version of Red Hat Enterprise, CentOS Stream
is definitely for you. Giving people a preview of RHEL updates is
the expressed purpose of CS. You will not necessarily always be
able to build software for RHEL using CentOS Stream, because of
periodic ABI and API issues, but Red Hat will probably have a
solution for that at some point. CentOS Stream is also probably
for you if you operate RHEL systems and want some 'canary' ones
to see how future package updates are likely to affect you (and
if you see any new bugs or issues).</p>

<p>It's quite possible that for an open source project, using CentOS
Stream will also be the easiest way of testing if your software
(probably) works on the latest version of RHEL (at least in a fully
updated state). However, I'm not all that familiar with the options
Red Hat has here (such as their 'Universal Base Image'), and Red
Hat may introduce more in the future. If you're a commercial
company, <a href="https://centos.org/distro-faq/">the CentOS project distro FAQ</a>
makes it clear that Red Hat wants you to buy commercial RHEL licenses.</p>

<p>(Since CentOS Stream for 8 will end package updates in mid 2024,
open source projects who want to continue testing for RHEL 8 beyond
that point are going to have a problem. I expect that at least some
open source projects will simply drop official compatibility with
RHEL 8 at that point.)</p>

<p>If for some reason you want to contribute to Red Hat Enterprise,
CentOS Stream is also officially for you. The most likely case I
can imagine is that you use RHEL (or CentOS) and you have a bugfix
or small improvement that you want to push for and contribute, one
that Red Hat itself seems unlikely to take on. If you intend to
make larger contributions, I hope that you have a strong commercial
reason for helping a commercial company with its commercial product.</p>

<p>(To me, this raises significant questions about the future of <a href="https://fedoraproject.org/wiki/EPEL">EPEL</a>. However, Red Hat funds Fedora
too, so it could decide to work on funding EPEL should a supply of
outside volunteers start to dry up.)</p>

<p>If you want a free RPM based Linux distribution that probably has
a five-year support period, CentOS Stream may deliver what you're
looking for. Officially it's supposed to, at least at the moment,
<a href="https://utcc.utoronto.ca/~cks/space/blog/linux/CentOSStreamSuitability">but one can have concerns about the future</a>
and as far as I can tell this is not what CentOS Stream is 'supposed'
to be for, at least in the eyes of Red Hat (and Red Hat calls the
shots). <a href="https://www.opensuse.org/">openSUSE Leap</a> is RPM based
and free, but <a href="https://en.opensuse.org/Lifetime">it's only supported for 3 years</a>. Fedora, of course, is RPM based
and free but only supported for one year, with version to version
migration and an expectation that you'll always be on the most
current version.</p>

<p>If you want a well supported Linux distribution with an extremely
long support period and fast security updates, CentOS was never
really for you in the first place and CentOS Stream is worse (because
it definitely has no more than five years of package updates and
may have longer delays for security updates). In the past you could
press CentOS into service as such a thing and ignore, for example,
the delay between RHEL security updates and the rebuilt CentOS
security updates that corresponded to them, but you were always
accepting a compromise. Now that compromise has blown up on you,
although so far only for users of CentOS 8.</p>

<p>(CentOS currently says it will continue supporting CentOS 7 through
the end of life of RHEL 7 itself. Since Red Hat calls the shots, I
am not certain we should be as confident of that as we might have
been before.)</p>

<p>If you want a free version of Red Hat Enterprise Linux, the traditional
purpose of CentOS, Red Hat more or less says that CentOS Stream is
not for you. It is extremely likely that one goal of Red Hat's
management is to make it so that no such thing exists any more (and
certainly not one that they help pay for). At the moment the closest
you can probably come is Oracle Linux, which is also a rebuild of
RHEL, but that's if you're willing to put your trust in Oracle (many
people are not). It's possible that you can use CentOS Stream for
this anyway, but if a lot of people do so I expect Red Hat to take
additional steps to discourage this, such as by dropping 'CentOS
Stream for 8' support when RHEL 9 comes out (or even before then).</p>

<p>Since 'a free version of RHEL, including its long support period'
<a href="https://twitter.com/thatcks/status/1340488916613390337">was in fact what many people used CentOS for</a>, this
leaves a significant number of CentOS users without an obvious Linux
distribution to use at the moment, although options may well appear
in the future.</p>
</div></div>]]>
            </description>
            <link>https://utcc.utoronto.ca/~cks/space/blog/linux/CentOSStreamWhoFor</link>
            <guid isPermaLink="false">hacker-news-small-sites-25496527</guid>
            <pubDate>Mon, 21 Dec 2020 16:39:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[New Release of the Terraform Provider for OpenNebula]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25496477">thread link</a>) | @amarti
<br/>
December 21, 2020 | https://opennebula.io/new-release-of-the-terraform-provider-for-opennebula/ | <a href="https://web.archive.org/web/*/https://opennebula.io/new-release-of-the-terraform-provider-for-opennebula/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main">
			    <!-- .entry-header -->

				
					
<article id="post-29538">

    <!-- .entry-header -->

    <div>

		
<p>It‚Äôs been a year since the <a rel="noreferrer noopener" href="https://registry.terraform.io/providers/OpenNebula/opennebula/latest" target="_blank">Terraform Provider for OpenNebula</a>‚Äîa Community initiative led by <a rel="noreferrer noopener" href="https://www.iguanesolutions.com/" target="_blank">Iguane Solutions</a> and <strong>OpenNebula Systems</strong>‚Äîwas <a href="https://opennebula.io/terraform-provider-for-opennebula-now-officially-approved/" target="_blank" rel="noreferrer noopener">officially approved by HashiCorp</a>. A provider is responsible for understanding API interactions with the underlying infrastructure, in this case OpenNebula. The <strong>Provider Development Program</strong> allows vendors to build Terraform providers that are<strong> officially approved and tested by HashiCorp</strong>.</p>



<p>In mid-2020 we released a <a rel="noreferrer noopener" href="https://github.com/OpenNebula/terraform-provider-opennebula/blob/master/CHANGELOG.md" target="_blank">second version</a> of the Terraform Provider, which included a number of interesting new features, including support for VM Groups and ACL, and enhancements like VM templates, tags, and timeout on some of those resources that can take a while to get ready (i.e. images and VMs). We discussed some of these back in July during an <strong>OpenNebula Webinar</strong> in which we participated along with <strong>Taylor Dolezal</strong> (Senior Developer Advocate at HashiCorp):</p>



<figure><p>
<iframe title="OpenNebula Webinar - Infrastructure as Code in OpenNebula using Terraform (Jul 20, 2020)" width="640" height="360" src="https://www.youtube.com/embed/JP-tzfz3R74?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</p></figure>



<p>Now, after several months of intense work, we are excited to announce the <strong>third version of the Terraform Provider for OpenNebula</strong>! üöÄ These are some of the <a href="https://github.com/OpenNebula/terraform-provider-opennebula/blob/master/CHANGELOG.md" target="_blank" rel="noreferrer noopener">improvements</a> that this new version brings along:</p>



<p>New Resources:</p>



<ul><li>User management: creation, update and deletion.</li><li>Service management (<a href="https://docs.opennebula.io/5.12/advanced_components/application_flow_and_auto-scaling/overview.html" target="_blank" rel="noreferrer noopener">OneFlow</a>).</li></ul>



<p>Important improvements:&nbsp;</p>



<ul><li>Attach / Detach NIC on a Virtual Machine</li><li>Attach / Detach Disk on a Virtual Machine</li><li>Resize a disk on a Virtual Machine</li><li>Add importer for Groups, Users and VDC</li></ul>



<p>As you see, this release is a <strong>huge step forward</strong> in making it easier for users to manage a running cluster. Until now, Terraform was really helpful for the deployment and deletion of a platform. However, updating running resources was still quite painful. Thanks to this new release, you can update running VMs without using Sunstone or CLI!</p>



<p>Kudos to all the people that made this new release possible! üëè</p>



<p><strong>Iguane Solutions team</strong>:</p>



<ul><li><a href="https://github.com/jaypif" target="_blank" rel="noreferrer noopener">Jean-Philippe Four√®s</a></li><li><a href="https://github.com/treywelsh" target="_blank" rel="noreferrer noopener">Pierre Lafievre</a></li></ul>



<p><strong>OpenNebula Systems team</strong>:</p>



<ul><li><a href="https://github.com/christian7007" target="_blank" rel="noreferrer noopener">Christian Gonz√°lez</a></li><li><a href="https://github.com/tinova" target="_blank" rel="noreferrer noopener">Tino V√°zquez</a></li></ul>



<p><strong>External contributors</strong>:</p>



<ul><li><a href="https://github.com/puppetmaster" target="_blank" rel="noreferrer noopener">Philippe Caseiro</a></li><li><a href="https://github.com/noroute" target="_blank" rel="noreferrer noopener">Florian Thiel</a></li><li><a href="https://github.com/yoheiW" target="_blank" rel="noreferrer noopener">Yohei Watanabe</a></li><li><a href="https://github.com/BeryJu" target="_blank" rel="noreferrer noopener">Jens Langhammer</a></li></ul>



<p>As usual, comments, questions and contributions are more than welcome! ü§ì</p>







<h2><strong>Relevant Links</strong></h2>



<ul><li><a rel="noreferrer noopener" href="https://registry.terraform.io/providers/OpenNebula/opennebula/latest" target="_blank">Terraform Provider for OpenNebula</a></li><li><a rel="noreferrer noopener" href="https://registry.terraform.io/providers/OpenNebula/opennebula/latest/docs" target="_blank">Official Documentation</a></li><li><a rel="noreferrer noopener" href="https://github.com/OpenNebula/terraform-provider-opennebula" target="_blank">GitHub Repository</a></li></ul>
		
		


        <div>
            <p><img alt="" src="https://secure.gravatar.com/avatar/55d4ce03cedbf452a4e8a7e02207be2e?s=96&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/55d4ce03cedbf452a4e8a7e02207be2e?s=192&amp;d=mm&amp;r=g 2x" height="96" width="96">            </p>
            
        </div>
	</div><!-- .entry-content -->

</article><!-- #post-## -->

					
<!-- #comments -->

				
			</div></div>]]>
            </description>
            <link>https://opennebula.io/new-release-of-the-terraform-provider-for-opennebula/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25496477</guid>
            <pubDate>Mon, 21 Dec 2020 16:36:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[AI Economist: Improving Equality and Productivity with AI-Driven Tax Policies]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25496410">thread link</a>) | @looshfarmer
<br/>
December 21, 2020 | https://blog.einstein.ai/the-ai-economist/ | <a href="https://web.archive.org/web/*/https://blog.einstein.ai/the-ai-economist/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
  <div>
      <div>
          <figure><iframe width="480" height="270" src="https://www.youtube.com/embed/4iQUcGyQhdA?feature=oembed" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><figcaption>The AI Economist learns dynamic tax policies that optimize equality along with productivity in simulated economies, outperforming alternative tax systems.</figcaption></figure><ul><li>Economic inequality is accelerating globally and is a growing concern due to its negative impact on economic opportunity, health and social welfare. Taxes are important tools for governments to reduce inequality. However, finding a tax policy that optimizes equality along with productivity is an unsolved problem. The AI Economist brings reinforcement learning (RL) to tax policy design for the first time to provide a purely simulation and data-driven solution. </li><li>The AI Economist uses a two-level RL framework (agents and tax policy) to learn dynamic tax policies in principled economic simulations. This framework does not use prior world knowledge or modeling assumptions, can directly optimize for any socioeconomic objective, and learns from observable data alone.</li><li>Our experiments show the AI Economist can improve the trade-off between equality and productivity by 16%, compared to a prominent tax framework proposed by Emmanuel Saez, with even larger gains over an adaptation of the US Federal income tax and the free market. </li><li>Without endorsing this particular schedule, it is interesting that the AI Economist implements qualitatively different tax schedules than the baselines, with higher top tax rates and lower rates for middle incomes. Furthermore, it is robust in the face of emergent tax gaming strategies.</li><li>Moreover, the AI Economist is effective in simulations with human participants, achieving competitive equality-productivity trade-offs with the baselines and significantly higher income-weighted average social welfare. This suggests promise in using this approach to improve social outcomes in real economies.</li><li>Our vision for the AI Economist is to enable an objective study of policy impact on real-world economies, at a level of complexity that traditional economic research cannot easily address. We believe the intersection of machine learning and economics presents a wide range of exciting research directions, and gives ample opportunity for machine learning to have positive social impact.</li></ul><p>Our work fits within a larger context of recent advances in RL. RL has been used to train AIs to win competitive games, such as Go, Dota, and Starcraft. In those settings, the RL objective is inherently adversarial (√¢‚Ç¨≈ìbeat-the-other-team√¢‚Ç¨ÔøΩ). Machine learning has also been used for the design of auction rules. In this work, we instead focus on the opportunity to use AI to promote social welfare through the design of optimal tax policies in dynamic economies.</p><!--kg-card-begin: html--><ul>
    <li><strong><a href="https://doi.org/10.1038/nature24270" target="_blank">Mastering The Game Of Go Without Human
                Knowledge.</a></strong> Silver, David, Julian Schrittwieser, Karen Simonyan, Ioannis Antonoglou, Aja
        Huang, Arthur Guez, Thomas Hubert et al. Nature 550, no. 7676 (2017): 354-359.</li>
    <li><strong><a href="https://doi.org/10.1038/s41586-019-1724-z" target="_blank">Grandmaster Level In Starcraft Ii
                Using Multi-Agent Reinforcement Learning.</a></strong> Vinyals, Oriol, Igor Babuschkin, Wojciech M.
        Czarnecki, Micha√É¬´l Mathieu, Andrew Dudzik, Junyoung Chung, David H. Choi et al. Nature 575, no. 7782 (2019):
        350-354.</li>
    <li><strong><a href="https://arxiv.org/abs/1912.06680" target="_blank">Dota 2 With Large Scale Deep Reinforcement
                Learning.</a></strong> Berner, Christopher, Greg Brockman, Brooke Chan, Vicki Cheung, Przemys√Ö‚Äöaw D√Ñ‚Ñ¢biak,
        Christy Dennison, David Farhi et al. arXiv preprint arXiv:1912.06680 (2019).</li>
    <li><strong><a href="https://arxiv.org/abs/1706.03459" target="_blank">Optimal Auctions Through Deep
                Learning.</a></strong> D√É¬ºtting, Paul, Zhe Feng, Harikrishna Narasimhan, David C. Parkes, and Sai
        Srivatsa Ravindranath. In International Conference on Machine Learning, pp. 1706-1715 (2019).</li>
</ul><!--kg-card-end: html--><h2 id="the-challenge-of-optimal-tax-design">The Challenge of Optimal Tax Design</h2><p>Many studies have shown that high income inequality can negatively impact economic growth and economic opportunity. Taxes can help reduce inequality, but it is hard to find the optimal tax policy. Economic theory cannot fully model the complexities of the real world. Instead, tax theory relies on simplifying assumptions that are hard to validate, for example, about the effect of taxes on how much people work. Moreover, real-world experimentation with taxes is almost impossible.</p><!--kg-card-begin: html--><ul>
    <li><a href="https://www.un.org/esa/socdev/documents/reports/InequalityMatters.pdf" target="_blank"><strong>Inequality Matters.</strong></a> United Nations.</li>
    <li><a href="https://publications.jrc.ec.europa.eu/repository/bitstream/JRC76149/lbna25574enn.pdf" target="_blank"><strong>Literature Review On Income Inequality And The Effects On Social
                Outcomes.</strong></a> Beatrice d√¢‚Ç¨‚Ñ¢Hombres, Anke Weber, and Leandro Elia. JRC Scientific and Policy
        Reports, 2012</li>
    <li><a href="https://doi.org/10.1093/epirev/mxh003" target="_blank"><strong>Income Inequality and Health: What Have
                We Learned So Far?</strong></a> S. V. Subramanian, Ichiro Kawachi. Epidemiologic Reviews, Volume 26,
        Issue 1, July 2004, Pages 78√¢‚Ç¨‚Äú91</li>
    <li><a href="https://news.un.org/en/story/2020/01/1055681" target="_blank"><strong>Rising Inequality Affecting More
                Than Two-Thirds Of The Globe, But It√¢‚Ç¨‚Ñ¢s Not Inevitable: New UN Report.</strong></a> UN News.</li>
    <li><a href="https://inequality.org/facts/global-inequality" target="_blank"><strong>Global Inequality.</strong></a>
        Inequality.org.</li>
    <li><a href="https://wir2018.wid.world/files/download/wir2018-summary-english.pdf" target="_blank"><strong>World
                Inequality Report.</strong></a> 2018</li>
</ul><!--kg-card-end: html--><h3 id="the-economic-model-of-income-labor-skill-and-utility">The Economic Model of Income, Labor, Skill, and Utility</h3><p>Classic tax theory focuses on people who earn <strong>income</strong> by performing <strong>labor</strong>. A worker gains utility from income but incurs the cost of labor effort. At some point, the extra utility from additional income does not outweigh the cost of additional effort. </p><p><em>For instance, working on weekends might earn you more money, but the effort might not be worth it to you.</em></p><p>A key assumption is that people differ in their <strong>skill</strong> level. Low-skilled workers receive a lower hourly wage, and so earn less money than high-skilled workers for the same amount of labor. This leads to inequality.</p><h3 id="the-central-tax-dilemma">The Central Tax Dilemma</h3><p>As a policy goal, a government may prefer to tax and redistribute income in order to improve equality. However, higher taxation can discourage work and may particularly affect high-skilled workers. An optimal tax policy optimizes this balance between equality and productivity. </p><!--kg-card-begin: html--><figure><img src="https://blog.einstein.ai/content/images/2020/04/figure-5-4.png"><figcaption>An illustrative view of how taxes can impact social outcomes. Left: Taxes can improve equality by transferring income. However, taxes can also decrease productivity, because they can discourage work. The AI Economist seeks a tax policy that optimizes this trade-off. The Pareto boundary is the set of maximal trade-offs. Right: Taxes impact productivity (total income, represented by the area of the big squares), and equality (the relative difference in sizes of the smaller squares). In this illustration, the AI Economist achieves the best trade-off.</figcaption></figure><!--kg-card-end: html--><p>A prominent tax framework, proposed by Emmanuel Saez, derives a simple optimal tax formula. However, this formula requires knowing how labor responds to changes in tax rates (√¢‚Ç¨≈ìelasticity√¢‚Ç¨ÔøΩ) and makes strong assumptions, for example, that the economy is static and workers do not gain new skills. Other work has studied dynamic economic systems, but needs simplifying assumptions in order to attain analytical solutions. For an extended overview of related work, see our technical paper.</p><!--kg-card-begin: html--><ul>
    <li><strong><a href="https://eml.berkeley.edu/~saez/derive.pdf" target="_blank">Using Elasticities To Derive Optimal
                Income Tax Rates.</a></strong> Saez, Emmanuel<br>
        The Review Of Economic Studies 68.1 (2001): 205-229.</li>
    <li><strong>The New Dynamic Public Finance.</strong> Kocherlakota, Narayana R.<br>
        Princeton; Oxford: Princeton University Press, 2010.</li>
</ul><!--kg-card-end: html--><h2 id="economic-simulation-as-a-learning-environment">Economic Simulation as a Learning Environment</h2><p>The AI Economist is a <strong>purely simulation and data-driven approach</strong> to the design of optimal tax policies. It uses a principled economic simulation with both workers and a policy maker (a "planner" in the economics literature), all of whom are collectively learning<strong> </strong>using reinforcement learning. </p><figure><img src="https://blog.einstein.ai/content/images/2020/04/freemarket-ai-1.gif"><figcaption>Left: Economic simulation in which four agents collect and trade resources, build houses and earn income. Right: wealth is not distributed evenly. The size of the disk shows total productivity, while colors show the percentage each agent owns. The trade-off between equality and productivity is measured by multiplying equality and productivity.&nbsp;</figcaption></figure><h3 id="gathering-trading-and-building">Gathering, Trading and Building</h3><p>The simulation uses a two-dimensional world. There are two types of resources: wood and stone. Resources are scarce: they appear in the world at a limited rate. Workers move around, gather and trade resources, and earn income by building houses (this costs stone and wood). Houses block access: workers cannot move through the houses built by others. The simulation runs this economy over the course of an episode, which is analogous to a √¢‚Ç¨≈ìworking career.√¢‚Ç¨ÔøΩ </p><h3 id="skill-and-utility">Skill and Utility</h3><p>A key feature is that workers have different skills<strong>. </strong>Higher-skilled workers earn more income for building houses, and thus more utility. Building houses also takes effort, which lowers utility. Workers also pay income taxes and the collected tax is redistributed evenly among the workers. Together, these economic factors and the various competitive drivers mean that workers need to be strategic in order to maximize their utility. </p><h3 id="emergent-specialization">Emergent Specialization</h3><p>Our economic simulation produces rich behavior when AI agents (the agents are the workers in the economy) learn to maximize their utility. A salient feature is specialization: AI agents with lower skill become <strong>gatherer-and-sellers </strong>and earn income by collecting and selling stone and wood. Agents with higher skill specialize as <strong>buyer-and-builders</strong> and purchase stone and wood in order to more quickly build houses. </p><!--kg-card-begin: html--><figure><img src="https://blog.einstein.ai/content/images/2020/04/group-embed.svg"><figcaption>Top: The state of the simulation over the course of a single play-through. Middle: Highly skilled agents choose to do more work, and earn larger incomes and experience more utility. Bottom: Agents trade with each other throughout. Upward bars indicate the agent mostly sold resources (earning coin) and downward bars indicate that it mostly bought resources (spending coin).</figcaption></figure><!--kg-card-end: html--><p>We do not impose such roles or behaviors directly. Rather, specialization emerges because differently skilled workers learn to balance their income and effort. This demonstrates the richness of the economic simulation and builds trust that agents respond to economic drivers. Complex emergent economic behavior has been previously studied in economics through agent-based modeling, but this has largely proceeded without the benefit of recent advances in AI.</p><!--kg-card-begin: html--><ul>
    <li><strong><a href="https://www.pnas.org/content/99/suppl_3/7280" target="_blank">Agent-Based Modeling: Methods And
                Techniques For Simulating Human Systems.</a></strong> Bonabeau, ‚Ä¶</li></ul></div></div></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.einstein.ai/the-ai-economist/">https://blog.einstein.ai/the-ai-economist/</a></em></p>]]>
            </description>
            <link>https://blog.einstein.ai/the-ai-economist/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25496410</guid>
            <pubDate>Mon, 21 Dec 2020 16:30:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Haskell Documentation with Haddock: Wishes'n'Tips]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25496349">thread link</a>) | @kowainik
<br/>
December 21, 2020 | https://kowainik.github.io/posts/haddock-tips | <a href="https://web.archive.org/web/*/https://kowainik.github.io/posts/haddock-tips">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <div>
              <div>
              <p>Haskell has a stigma of having poor or no documentation at all. Though more and more maintainers are doing a hell of a job to improve the quality of their libraries and applications, it is still not enough. We need to strengthen our vision of documentation collectively and as a consequence, master the existing tools for doing that.</p>
<p>There are <a href="https://documentation.divio.com/">different types of documentation</a>. Today we want to talk about API and libraries documentation inside your library, and accordingly about Haskell gear for that ‚Äì <a href="https://www.haskell.org/haddock/">Haddock</a>.</p>
<p>The blog post is going to give Haddock overview, suggest documentation best practices, reveal the specialities of the Haddock tool, and show-and-tell lots of different examples of how to squeeze more out of your documentation. It should be interesting to library maintainers, developers who want to improve their documenting skills and everyone interested in documentation techniques in Haskell.</p>
<h2 id="what-is-haddock">What is Haddock<a href="#what-is-haddock">üîó</a></h2>
<p>Haddock is the Haskell way to document exposed API of your library or application. Writing special comments alongside your code helps to keep code and documentation synchronised and up-to-date (as outdated documentation is a painful problem to deal with). It also makes the docs comfy both for maintainers and users. And Haddock provides precisely that. Haskell is not always beginner-friendly, so giving a helping hand to users of your code in a convenient way is greatly appreciated.</p>
<p>You write documentation using the special Haddock markup language right near the structures you want to document, and it can be rendered to different formats, including styled HTML, that could be viewable later on <a href="http://hackage.haskell.org/">Hackage</a>, <a href="https://www.stackage.org/">Stackage</a> or even locally. Moreover, if you upload your library to Hackage or Stackage, <a href="https://hoogle.haskell.org/">Hoogle</a> will search for definitions by name or type across all packages, including yours.</p>
<p>Here is how a typical Haddock documentation page for a module looks like:</p>
<figure>
<img src="https://kowainik.github.io/images/haddock/haddock-membrain.png" alt=""><figcaption>Haddock Module Example</figcaption>
</figure>
<p>To produce the documentation, Haddock needs to build the project first because it uses build-time information. But you don‚Äôt need to worry about it usually, because build tools do that automatically when you ask them to output documentation.</p>

<p>Haddock is written in Haskell comments with the special annotations. There are two types of Haddock marked comments ‚Äì <strong>pre-</strong> (starting with the <code>|</code> symbol) and <strong>post-comments</strong> (starting with the <code>^</code> symbol), which means that Haddock comments could be put right before or after the function/type/class definitions.</p>
<div id="cb1"><pre><code><span id="cb1-1"><span>-- | I am the 'foo' function's Haddock pre-comment.</span></span>
<span id="cb1-2"><span>foo ::</span> <span>Int</span> <span>-&gt;</span> <span>Int</span></span>
<span id="cb1-3"></span>
<span id="cb1-4"><span>bar ::</span> <span>Int</span> <span>-&gt;</span> <span>Int</span></span>
<span id="cb1-5"><span>-- ^ I am the 'bar' function's Haddock post-comment</span></span></code></pre></div>
<p>For multi-line Haddock comments you can use either <strong>per-line</strong> or <strong>block</strong> style comments for both pre and post types. The special Haddock symbol needs to be added just to the first line of the multi-line comment, and Haddock will consume following lines until the first non-comment line.</p>
<div id="cb2"><pre><code><span id="cb2-1"><span>-- | This is multiline</span></span>
<span id="cb2-2"><span>-- per-line Haddock pre-comment</span></span>
<span id="cb2-3"><span>foo ::</span> <span>Int</span> <span>-&gt;</span> <span>Int</span></span>
<span id="cb2-4"></span>
<span id="cb2-5"></span>
<span id="cb2-6"><span>bar ::</span> <span>Int</span> <span>-&gt;</span> <span>Bool</span></span>
<span id="cb2-7"><span>-- ^ Another per-line Haddock</span></span>
<span id="cb2-8"><span>-- post-comment</span></span>
<span id="cb2-9"></span>
<span id="cb2-10"><span>{- | Multiline Haddock</span></span>
<span id="cb2-11"><span>block pre-comment</span></span>
<span id="cb2-12"><span>-}</span></span>
<span id="cb2-13"><span>baz ::</span> <span>Double</span> <span>-&gt;</span> <span>Text</span></span></code></pre></div>
<p>If you write multi-line comments in your code, we strongly advise using <strong>block</strong> comments by default over per-line ones because of the number of reasons:</p>
<ul>
<li><p>There are fewer chances to lose part of your documentation due to the extra newline with multiline comments syntax, unlike per-line comments. Remember, that Haddock consumes comments marked as documentation until the first non-comment line, and a newline without <code>--</code> separates such comments into ordinary independent groups.</p>
<div id="cb3"><pre><code><span id="cb3-1"><span>-- | I am a normal line of documentation.</span></span>
<span id="cb3-2"><span>-- I will be in the docs too.</span></span>
<span id="cb3-3"></span>
<span id="cb3-4"><span>-- I am not going to make it due to the missing @--@ in the previous line.</span></span>
<span id="cb3-5"><span>foo ::</span> <span>Int</span></span></code></pre></div></li>
<li><p>As a consequence, it‚Äôs impossible to have conditional documentation chunks under the <a href="https://guide.aelve.com/haskell/cpp-vww0qd72">C Preprocessor (CPP)</a> pragmas when using the <code>--</code> style of comments, as CPP pragmas are stripped to empty lines.</p></li>
<li><p>Multiline comments contain less noise (no <code>--</code> on each line), making it easier to read and update.</p></li>
<li><p>They are more suitable for inserting/copying/updating code snippets quickly.</p></li>
<li><p>They also occupy less space horizontally on average, because you don‚Äôt waste 3 characters on each line.</p></li>
</ul>
<h3 id="what-can-be-documented">What can be documented<a href="#what-can-be-documented">üîó</a></h3>
<p>Generally, Haddock documents the exposed API of your Haskell libraries and applications.</p>
<p>More specifically, Haddock can be applied to document the following parts of the Haskell code:</p>
<ul>
<li>Top-level module headers</li>
<li>Type definitions: <code>data</code>, <code>type</code> and <code>newtype</code></li>
<li>Constructors and fields</li>
<li>Typeclasses ‚Äî <code>class</code> declarations</li>
<li>Typeclasses methods</li>
<li>Instances</li>
<li>Derived typeclasses</li>
<li>Top-level functions</li>
<li>Arguments and return results of functions</li>
<li>More exotic top-level definitions: <code>pattern</code>, <code>type family</code>, <code>data family</code>, <code>type instance</code> and <code>data instance</code></li>
</ul>
<p>The below example showcases some Haddock syntax and features:</p>
<div id="cb4"><pre><code><span id="cb4-1"><span>{- | Our example sum type.</span></span>
<span id="cb4-2"></span>
<span id="cb4-3"><span>__Examples:__</span></span>
<span id="cb4-4"></span>
<span id="cb4-5"><span>@</span></span>
<span id="cb4-6">empty <span>=</span> <span>'Empty'</span></span>
<span id="cb4-7">full <span>=</span> <span>'CharCode'</span> <span>42</span> \'a\'</span>
<span id="cb4-8"><span>@</span></span>
<span id="cb4-9"><span>-</span>}</span>
<span id="cb4-10"><span>data</span> <span>CharWithInt</span></span>
<span id="cb4-11">    <span>=</span> <span>Empty</span> <span>-- ^ First constructor</span></span>
<span id="cb4-12"></span>
<span id="cb4-13">      <span>-- | Second constructor</span></span>
<span id="cb4-14">    <span>|</span> <span>CharCode</span></span>
<span id="cb4-15">        <span>Int</span> <span>-- ^ first field of 'CharCode'</span></span>
<span id="cb4-16">        <span>Char</span> <span>-- ^ second field of 'CharCode'</span></span>
<span id="cb4-17">    <span>deriving</span> stock</span>
<span id="cb4-18">        ( <span>Show</span>  <span>{- ^ Derived to show.</span></span>
<span id="cb4-19"></span>
<span id="cb4-20"><span>                 @since 0.1.0.0</span></span>
<span id="cb4-21"><span>                -}</span></span>
<span id="cb4-22">        , <span>Eq</span>  <span>-- ^ Derived to check for equality</span></span>
<span id="cb4-23">        )</span>
<span id="cb4-24"></span>
<span id="cb4-25"><span>{- | Type class to eject some fields from the data types.</span></span>
<span id="cb4-26"></span>
<span id="cb4-27"><span>@since 0.0.0.0</span></span>
<span id="cb4-28"><span>-}</span></span>
<span id="cb4-29"><span>class</span> <span>Eject</span> a <span>where</span></span>
<span id="cb4-30">   <span>{-# MINIMAL getInt #-}</span></span>
<span id="cb4-31">   <span>-- | Get 'Int' if applicable.</span></span>
<span id="cb4-32">   getInt</span>
<span id="cb4-33"><span>       ::</span> a  <span>-- ^ The whole data type.</span></span>
<span id="cb4-34">       <span>-&gt;</span> <span>Maybe</span> <span>Int</span>  <span>-- ^ Result. 'Nothing' if no 'Int' in data type.</span></span>
<span id="cb4-35"></span>
<span id="cb4-36">   <span>-- | Get 'Char' if applicable.</span></span>
<span id="cb4-37"><span>   getChar ::</span> a <span>-&gt;</span> <span>Maybe</span> <span>Char</span></span>
<span id="cb4-38"></span>
<span id="cb4-39"><span>-- | The instance for our sum type written manually</span></span>
<span id="cb4-40"><span>instance</span> <span>Eject</span> <span>CharWithInt</span> <span>where</span></span>
<span id="cb4-41"><span>    getInt ::</span> <span>CharWithInt</span> <span>-&gt;</span> <span>Maybe</span> <span>Int</span></span>
<span id="cb4-42">    getInt <span>Empty</span>          <span>=</span> <span>Nothing</span></span>
<span id="cb4-43">    getInt (<span>CharCode</span> i _) <span>=</span> <span>Just</span> i</span>
<span id="cb4-44"></span>
<span id="cb4-45"><span>    getChar ::</span> <span>CharWithInt</span> <span>-&gt;</span> <span>Maybe</span> <span>Char</span></span>
<span id="cb4-46">    <span>getChar</span> <span>Empty</span>          <span>=</span> <span>Nothing</span></span>
<span id="cb4-47">    <span>getChar</span> (<span>CharCode</span> _ c) <span>=</span> <span>Just</span> c</span></code></pre></div>
<p>When documentation is built, it will look like on the screenshot below:</p>
<figure>
<img src="https://kowainik.github.io/images/haddock/haddock-overall-example.png" alt=""><figcaption>Haddock Overall Example</figcaption>
</figure>
<hr>
<p>We don‚Äôt recommend using the Haddock comment syntax for other places where they cannot be applied by specification because this breaks Haddock. Even though the documentation states that such comments should be ignored, it is not what you would get on the output.</p>
<p>For example, the following innocent-looking Haddock results in the documentation error:</p>
<div id="cb5"><pre><code><span id="cb5-1"><span>var ::</span> <span>Int</span></span>
<span id="cb5-2">var <span>=</span> <span>42</span> <span>-- ^ The answer</span></span></code></pre></div>
<pre><code>Haddock coverage:

src/BlogpostHaddock.hs:57:10: error:
    parse error on input '-- ^ The answer'
   |
57 | var = 42 -- ^ The answer
   |          ^^^^^^^^^^^^^^^
</code></pre>
<p>This issue will prevent the documentation appearing at Hackage and Stackage, which means that users won‚Äôt be able to read package documentation easily or search by the package in Hoogle.</p>
<p>Correct documentation looks like this:</p>
<div id="cb7"><pre><code><span id="cb7-1"><span>var ::</span> <span>Int</span> <span>-- ^ The answer</span></span>
<span id="cb7-2">var <span>=</span> <span>42</span></span></code></pre></div>
<p>If you wanted to leave an ordinary (non-documentation) comment:</p>
<div id="cb8"><pre><code><span id="cb8-1"><span>var ::</span> <span>Int</span></span>
<span id="cb8-2">var <span>=</span> <span>42</span> <span>-- The answer</span></span></code></pre></div>
<hr>
<p>We are not going to cover all annotation syntax. You can learn more from the <a href="https://haskell-haddock.readthedocs.io/en/latest/index.html">official documentation</a>. Instead, we will try to focus on best practices, advice and more explanation of suitability and usability of some various pieces of documentation on different levels.</p>
<h2 id="haddock-fishing">Haddock Fishing<a href="#haddock-fishing">üîó</a></h2>
<p>As most of us are looking at the libraries‚Äô documentation through Hackage/Stackage/Haddock or local options of the same format, we are going to cover each layer of the documentation on the page piece by piece from top to bottom and see how we can use 100% of each element.</p>
<p>Every page is responsible for one Haskell module and correspondingly reflects its structure, though in a user-configurable way (we will cover later the ways to take control over that). So, with respect to that, let‚Äôs start diving into the meaning of each and every documentation piece.</p>
<div>
<p>Though, sometimes you are interested only in specific types and functions, not in reading the full documentation. Hackage helps here as well. You can press the <kbd>s</kbd> button on a package page to quickly jump to definitions.</p>
<figure>
<img src="https://kowainik.github.io/images/haddock/haddock-relude-search.png" alt=""><figcaption>Haddock Search Example</figcaption>
</figure>
</div>
<h3 id="top-level">Top Level<a href="#top-level">üîó</a></h3>
<p>First thing you see on the module documentation page is this:</p>
<figure>
<img src="https://kowainik.github.io/images/haddock/haddock-top-level-header.png" alt=""><figcaption>Haddock top-level header</figcaption>
</figure>
<p>This whole information is taken from the top-level Haddock comment for the module. The comment is attached to the <code>module</code> construction in the source file. You can put extensions (<code>{-# LANGUAGE ... #-}</code>) and options (e.g.&nbsp;<code>{-# OPTIONS_GHC ... #-}</code>) either <em>before</em> the module header comment or <em>after</em>, but we recommend putting module Haddock comment closer to the module keyword itself, <strong>after</strong> all language extensions and module-specific options.</p>
<p>So the module layout may look like this:</p>
<div id="cb9"><pre><code><span id="cb9-1"><span>{-# LANGUAGE ScopedTypeVariables #-}</span></span>
<span id="cb9-2"><span>{-# LANGUAGE TypeApplications    #-}</span></span>
<span id="cb9-3"></span>
<span id="cb9-4"><span>{- | ... Module header comment</span></span>
<span id="cb9-5"><span>-}</span></span>
<span id="cb9-6"></span>
<span id="cb9-7"><span>module</span> <span>MyModule</span> (<span>...</span>) <span>where</span></span></code></pre></div>

<p>The meta-information in the border to the right is the result of special annotations at the beginning of the top-level Haddock. If it isn‚Äôt present in the file, then none will be shown in there (except for automatically determined info by the tool you are using).</p>
<p>These annotations include the following information:</p>
<ul>
<li><code>Module</code> ‚Äì Module name</li>
<li><code>Description</code> ‚Äì Short description</li>
<li><code>Copyright</code> ‚Äì Copyright note (preserves newlines)</li>
<li><code>License</code> or <code>Licence</code> or <code>SPDX-License-Identifier</code> ‚Äì the name of the license used in the project</li>
<li><code>Maintainer</code> ‚Äì information about current maintainer, can include email</li>
<li><code>Stability</code> ‚Äì <em>experimental</em> or <em>stable</em></li>
<li><code>Portability</code> ‚Äì <em>portable</em> or <em>non-portable</em>, but you can put anything basically. This field meaning is not strictly defined. Some people use it for OS-portability and write something like POSIX, Windows, portable. Other people mean ‚Äúthe Haskell compiler according to standard portability‚Äù and put ‚Äúnon-portable‚Äù here if a module uses GHC-only extensions.</li>
</ul>
<p>Auto-filled, no manual fill-in is possible:</p>
<ul>
<li><code>Safe Haskell</code> ‚Äì <code>Safe</code>, <code>Trustworthy</code>, <code>Unsafe</code> or <code>None</code> (default)</li>
<li><code>Language</code> ‚Äì Haskell report: 98 or 2010</li>
</ul>
<p>All of the fields are optional, in free format and don‚Äôt have any requirements. Adding this header to each module is advisable.</p>
<blockquote>
<p>üë©‚Äçüè´ You ‚Ä¶</p></blockquote></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://kowainik.github.io/posts/haddock-tips">https://kowainik.github.io/posts/haddock-tips</a></em></p>]]>
            </description>
            <link>https://kowainik.github.io/posts/haddock-tips</link>
            <guid isPermaLink="false">hacker-news-small-sites-25496349</guid>
            <pubDate>Mon, 21 Dec 2020 16:26:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Apple Car said to be released in third quarter of 2021]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25495953">thread link</a>) | @bookofjoe
<br/>
December 21, 2020 | https://j3onakwrnmmdhlpoecrnirxutq-adwhj77lcyoafdy-money-udn-com.translate.goog/money/story/5612/5108191 | <a href="https://web.archive.org/web/*/https://j3onakwrnmmdhlpoecrnirxutq-adwhj77lcyoafdy-money-udn-com.translate.goog/money/story/5612/5108191">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="article_body"> 
         
         <figure>
          <a href="https://translate.google.com/website?sl=auto&amp;tl=en&amp;nv=1&amp;u=https://pgw.udn.com.tw/gw/photo.php?u%3Dhttps://uc.udn.com.tw/photo/2020/12/20/realtime/9668576.jpg%26x%3D0%26y%3D0%26sw%3D0%26sh%3D0%26sl%3DW%26fw%3D1050%26exp%3D3600%26exp%3D3600" rel="prettyPhoto[pp_gal]"><img src="https://pgw.udn.com.tw/gw/photo.php?u=https://uc.udn.com.tw/photo/2020/12/20/realtime/9668576.jpg&amp;x=0&amp;y=0&amp;sw=0&amp;sh=0&amp;sl=W&amp;fw=1050&amp;exp=3600&amp;exp=3600" alt="‰æõÊáâÈèàÂÇ≥Âá∫ÔºåËòãÊûúApple CarÊòéÂπ¥Á¨¨3Â≠£ÁôºË°®ÔºåËøëÊúüÁ©çÊ•µÂêëÂè∞Âª†ÊãâË≤®„ÄÇÔºàÊ≠êÊñ∞Á§æÔºâ" title="‰æõÊáâÈèàÂÇ≥Âá∫ÔºåËòãÊûúApple CarÊòéÂπ¥Á¨¨3Â≠£ÁôºË°®ÔºåËøëÊúüÁ©çÊ•µÂêëÂè∞Âª†ÊãâË≤®„ÄÇÔºàÊ≠êÊñ∞Á§æÔºâ"></a>
          <figcaption>
           ‰æõÊáâÈèàÂÇ≥Âá∫ÔºåËòãÊûúApple CarÊòéÂπ¥Á¨¨3Â≠£ÁôºË°®ÔºåËøëÊúüÁ©çÊ•µÂêëÂè∞Âª†ÊãâË≤®„ÄÇÔºàÊ≠êÊñ∞Á§æÔºâ
          </figcaption>
          
         </figure>
         <!-- /.photo -->
         
         
         <p> ÁâπÊñØÊãâÊúÄÂ§ßÂãÅÊïµ‰æÜ‰∫ÜÔºåËòãÊûúÈ¶ñÊ¨æÈõªÂãïËªä„ÄåApple Car„ÄçÂ∞áÊèêÂâçÂïè‰∏ñ„ÄÇ‰æõÊáâÈèàÈÄèÈú≤ÔºåËòãÊûúÊØîÁÖßiPhoneÂÇôÊñôÁî±Èõ∂ÁµÑ‰ª∂ÈñãÂßãÂÇ¨Ë≤®ÁöÑÊÖ£‰æãÔºåËøëÊúüÂêëÂíåÂ§ßÔºà1536Ôºâ„ÄÅË≤øËÅØ-KY„ÄÅÂíåÂã§„ÄÅÂØåÁî∞Á≠âÂè∞ÁÅ£Ê±ΩËªäÈõ∂ÁµÑ‰ª∂Âª†ÊèêÂá∫ÂÇôË≤®Ë¶ÅÊ±ÇÔºåÂ∞áÁõ∏ÈóúÊ•≠ËÄÖÂÖ•ÂàóÈ¶ñÊ≥¢‰æõÊáâÈèà„ÄÇ</p>
         <!--1-->
         
         <p> Âè∞ÁÅ£ÈóúÈçµ‰æõÊáâÈèàË≠âÂØ¶ÔºåËòãÊûúÈ†êË®àÊòéÂπ¥9ÊúàÁôºË°®Apple CarÔºåÊØîÂéüÂÖàË¶èÂäÉÊèêÊó©Ëá≥Â∞ëÂÖ©Âπ¥ÔºåÂÖ∂ÂéüÂûãËªäÂ∑≤Á∂ìÂú®ÁæéÂúãÂä†Â∑û‰∏äË∑ØÊ∏¨Ë©¶ÔºåÂõ†ÊáâApple CarÊãâË≤®ÈúÄÊ±ÇÔºåÂíåÂ§ß„ÄÅË≤øËÅØÁ≠âÂè∞Âª†ÂøôÁøªÂ§©ÔºåÂÖ®Èù¢ÁàÜÂñÆ„ÄÇ </p>
         
         <!--2-->
         
         <figure>
          <a href="https://translate.google.com/website?sl=auto&amp;tl=en&amp;nv=1&amp;u=https://pgw.udn.com.tw/gw/photo.php?u%3Dhttps://uc.udn.com.tw/photo/2020/12/21/2/9675610.jpg%26x%3D0%26y%3D0%26sw%3D0%26sh%3D0%26sl%3DW%26fw%3D1050%26exp%3D3600%26exp%3D3600" rel="prettyPhoto[pp_gal]"><img src="https://pgw.udn.com.tw/gw/photo.php?u=https://uc.udn.com.tw/photo/2020/12/21/2/9675610.jpg&amp;x=0&amp;y=0&amp;sw=0&amp;sh=0&amp;sl=W&amp;fw=1050&amp;exp=3600&amp;exp=3600" alt="" title=""></a>
          <figcaption></figcaption>
          
         </figure>
         <!-- /.photo -->
         
         <p> ÂÑòÁÆ°ÈÅ≠ÈªûÂêçÁöÑÂè∞Âª†ÈÉΩÁõ∏Áï∂‰ΩéË™øÔºå‰ΩÜËøëÊúüÂ∑≤Êúâ‰∏çÂ∞ëÂúãÂÖßÊ±ΩËªäÈõ∂ÁµÑ‰ª∂Âª†ÈñãÂßã„ÄåÂãïËµ∑‰æÜ„ÄçÔºåÈÄèÈú≤Apple CarÂ§ßÂñÆÂ∞áËá≥ÁöÑË®äÊÅØ„ÄÇÂÖ∂‰∏≠ÔºåÂíåÂ§ß‰ΩçÊñºÂòâÁæ©Â§ßÂüîÁæéÂúíÂçÄÁöÑÊñ∞Âª†ÔºåÊ≠£Âä†ÈÄüAIÊô∫ËÉΩÂåñÁî¢Á∑öÂ∏ÉÂª∫ÔºåÊòéÂπ¥Á¨¨2Â≠£Â∞áÂèØÊñ∞Â¢ûÂÖ≠Ê¢ùÁî¢Á∑öÊäïÁî¢„ÄÇ</p>
         <!--3-->
         
         <p> ÂíåÂã§‰πüÁ©çÊ•µÈÄ≤Ë°åÂÖ©Â≤∏Êì¥Áî¢ÔºåÂè∞ÁÅ£ÂÖ®ËààÂª†È†êË®àÂπ¥Â∫ïÂÆåÊàêÊê¨ÈÅ∑ÂèäÈáèÁî¢ÔºåÂòâËààÂíåÊñ∞Âª†Á¨¨‰∫îËªäÈñìÊì¥Âª†Ë®ÇÊòéÂπ¥Á¨¨2Â≠£ÂÆåÊàêÊê¨ÈÅ∑„ÄÇ</p>
         <!--4-->
         
         <p> ÂØåÁî∞‰ΩçÊñºÈäÖÈëºÁöÑ‰∫åÊúüÂª†È†êË®àÊòéÂπ¥ÊäïÁî¢Ôºå‰∏Ä„ÄÅ‰∫åÊúüÂª†ÈõªÂãïËªäÂãïÂäõÈ¶¨ÈÅîÈõ∂ÁµÑ‰ª∂Áî¢ËÉΩÔºåÂèØÁî±ÁõÆÂâçÁöÑÊØèÂπ¥40Ëê¨Â•óÔºå‰∏ÄËàâÊãâÂçáËá≥100Ëê¨Â•óÔºåÂãïÂäõÈõÜÊàêÁ≥ªÁµ±ÂâáÂ¢ûËá≥40Ëê¨Â•ó‰ª•‰∏ä„ÄÇ</p>
         <!--5-->
         
         <p> Ê•≠ÁïåÊåáÂá∫ÔºåÈô§‰∫ÜÈõªÂãïËªäÈæçÈ†≠ÁâπÊñØÊãâ‰πãÂ§ñÔºåÂúãÂÖßÈõªÂãïËªä‰æõÊáâÈèàÊúÄËøëÂá∫Áèæ‰∏ÄÂÄãÊñ∞ÁöÑÁôºÁáíÂêçË©û„ÄåÁæéÂúãÈõôA„ÄçÔºåÁ©çÊ•µÂêëÂè∞Âª†‰∏ãÂñÆ„ÄÇ</p>
         <!--6-->
         
         <p> ÂÑòÁÆ°‰æõÊáâÈèàÂª†ÂïÜÈÉΩÁ∞ΩÁΩ≤‰øùÂØÜÂçîÂÆöÔºå‰∏çÈ°òÈÄèÈú≤Á¥∞ÁØÄÔºå‰ΩÜÁü•ÊÉÖÁöÑÊ•≠ËÄÖÂù¶Ë®ÄÔºå„ÄåÁæéÂúãÈõôA„ÄçÊåáÁöÑÂ∞±ÊòØËòãÊûúÔºàAppleÔºâËàá‰∫ûÈ¶¨ÈÅúÔºàAmazonÔºâÂÖ©ÂÆ∂Âª†ÂïÜÔºåÊ•≠ËÄÖÊö±Á®±ÁÇ∫„Äå‰∏ÄÂÄãÂ§ßAÔºå‰∏ÄÂÄãÂ∞èA„Äç„ÄÇ</p>
         <!--7-->
         
         <p> ËòãÊûúÂ∞çÈõªÂãïËªäÁöÑÈÄ≤Â∫¶ÂßãÁµÇÁßòËÄå‰∏çÂÆ£ÔºåÂ§ñÁïåÂéüÊú¨È†êÊúüÔºåËá≥Â∞ëÂà∞2023Âπ¥ÊâçÊúÉÁôºË°®Apple Car„ÄÇ‰∏çÈÅéÔºåÂúãÂÖß‰æõÊáâÈèàÂ§ßÂª†Ëë£Â∫ßÁõ¥Ë®ÄÔºåÂÆ¢Êà∂Ë¶èÂäÉApple CarÊòéÂπ¥9ÊúàÂ∞áÁôºË°®ÔºõÂè¶Â§ñÔºå‰∫ûÈ¶¨ÈÅúËàáRivianÂêà‰ΩúÁöÑÈõªÂãïË≤®Âç°ËªäÔºåÊòéÂπ¥8ÊúàÊê∂ÂÖàÂïè‰∏ñÔºåÈóúÈçµ‰æõÊáâÈèà‰πüÈÉΩÊòØÂè∞Âª†„ÄÇ</p>
         <!--8-->
         
         <p> ÈõªÂãïËªä‰æõÊáâÈèàÂ§ßÂª†È´òÂ±§ÈÄèÈú≤ÔºåÈö®ËëóË®ÇÂñÆÂá∫Ë≤®„ÄÅÁµÑË£ùÂÆåÊàêÔºåApple CarÈ¶ñÊ¨æÂéüÂûãËªäÔºåÂ∑≤ÊúâÊï∏ÂçÅËºõÁßòÂØÜÂú®ÁæéÂúãÂä†Â∑û‰∏äË∑ØÊ∏¨Ë©¶‰∏≠ÔºåÈ†êÊñôÊîæÈáèÂá∫Ë≤®ËàáÂïÜÊ©üÊïàÁõäÊòéÂπ¥ÁôºÈÖµÔºå2022Âπ¥ÂÖ®Èù¢ÁàÜÁôº„ÄÇ</p>
         <!--9-->
         
         <p> Âè¶Â§ñÔºåÈõªÂãïËªäÊñ∞ÂâµÂÖ¨Âè∏RivianÔºåÂéªÂπ¥Áç≤Âæó‰∫ûÈ¶¨ÈÅú10Ëê¨ËºõÈõªÂãïË≤®ËªäË®ÇÂñÆÔºåÈõôÊñπÂØÜÂàáÁ†îÁôºÂÆ¢Ë£ΩÂåñÁ¥îÈõªÂ∞èË≤®ËªäÔºåÁõ∏ÈóúÈõ∂ÁµÑ‰ª∂‰πüÊòØÂÄöÈù†Âè∞ÁÅ£‰æõÊáâÈèàÔºåÊñ∞ËªäÈ†êË®àÊòéÂπ¥8ÊúàÂú®ÁæéÂúã‰∏äË∑ØÔºå2022Âπ¥Âú®ÂÖ®ÁêÉÈñãÂßãÊúçÂãô„ÄÇ</p>
         <!--10-->
         
         <p> Êìö‰∫ÜËß£ÔºåÈÖçÂêàÁâπÊñØÊãâÂ¢ûÁî¢Ôºå‰ª•Âèä„ÄåÁæéÂúãÈõôA„ÄçÁ≠âÊñ∞ÂÆ¢Êà∂ÁöÑÂä†ÂÖ•ÔºåÂúãÂÖß‰∏ªË¶ÅÈõªÂãïËªä‰æõÊáâÈèàÂåÖÊã¨ÂíåÂ§ß„ÄÅË≤øËÅØ„ÄÅÂíåÂã§„ÄÅÂØåÁî∞Á≠âÈÉΩÂá∫Áèæ„ÄåÁàÜÂñÆ„ÄçÁöÑÊÉÖÂΩ¢Ôºå‰∏¶Á©çÊ•µÊì¥Âª†„ÄÅÊì¥Áî¢„ÄÇ</p>
         <!--11-->
         
         <p> ÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØÔºå‰∏äÈäÄÈõÜÂúò‰πüÂä†ÈÄüÂ∏ÉÂ±ÄÈõªÂãïËªäÈ†òÂüüÔºåÁõÆÂâçÊ≠£ËàáÊ≠êÊ¥≤Âèä‰∏≠ÂúãÂ§ßÈô∏ÈõªÂãïËªäÈõ∂‰ª∂Â§ßÂª†Ê¥ΩË´áÂÆ¢Ë£ΩÂåñÊô∫ÊÖßÊªæÁè†Ëû∫Ê°øÔºåÊúÄÂø´ÊòéÂπ¥Â∫ïÂâçÈñãÂßãÂá∫Ë≤®Ôºå‰∏ªË¶ÅÁî®ÊñºÈõªÂãïËªäËΩâÂêëËàáÂâéËªäÁ≥ªÁµ±„ÄÇ</p>
         <!--12-->
         
         <!--99--> 
        </div></div>]]>
            </description>
            <link>https://j3onakwrnmmdhlpoecrnirxutq-adwhj77lcyoafdy-money-udn-com.translate.goog/money/story/5612/5108191</link>
            <guid isPermaLink="false">hacker-news-small-sites-25495953</guid>
            <pubDate>Mon, 21 Dec 2020 15:50:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Guide to Secure Infrastructure Access]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25495926">thread link</a>) | @gk1
<br/>
December 21, 2020 | https://goteleport.com/resources/white-papers/secure-infrastructure-access/ | <a href="https://web.archive.org/web/*/https://goteleport.com/resources/white-papers/secure-infrastructure-access/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
      <div>

        
          <p><a href="#form">Download the Full Tech Paper</a></p>

<p>VPNs, firewalls, jump hosts, and other networking components have been fundamental in managing permissioned access to company resources like servers, databases, internal applications, and more. But as cloud computing has matured, these resources have become widely decentralized, and the IT stack compartmentalized and abstracted.</p>

<p>As compute resources change dynamically and communicate via public networks, the current implementation of access controls and policy enforcement is becoming an increasingly inexact science. This whitepaper takes a deep look at these trends, the challenges posed by relying on a purely networking-based security policy, and how to reframe this problem in a realistic light. Distilled into key principles used by engineers from small startups to Fortune 5 companies, these four practices provide a strong framework in reconsidering how companies authenticate and authorize users access to critical infrastructure.</p>

<p>Download the PDF to learn how‚Ä¶</p>

<p>(1) Basing decisions on identity,</p>

<p>(2) Designing for ease-of-use,</p>

<p>(3) Inherently distrusting all networks, and</p>

<p>(4) Centralizing auditing and monitoring,</p>

<p>‚Ä¶will prepare organizations to secure infrastructure, meet compliance requirements, reduce operational overhead, and get better visibility into user behavior.</p>

<h2 id="form">Download Best Practices for Secure Infrastructure Access</h2>






        


        
        
        

        
      </div>
    </article></div>]]>
            </description>
            <link>https://goteleport.com/resources/white-papers/secure-infrastructure-access/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25495926</guid>
            <pubDate>Mon, 21 Dec 2020 15:47:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[End of 2020 rough database landscape]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25495668">thread link</a>) | @StianOvrevage
<br/>
December 21, 2020 | https://stian.tech/end-of-2020-rough-database-landscape/ | <a href="https://web.archive.org/web/*/https://stian.tech/end-of-2020-rough-database-landscape/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>There seems to exist a database for every niche, mood or emotion. And they seem to change just as fast.</p>

<p>How do you balance the urge for the new and shiny but without risking too much headache down the road?</p>

<p>This post is an attempt to lay out the rough landscape of databases that you might encounter or consider as of late 2020.</p>

<p>There will be broad generalizations for brevity.</p>

<p>The goal is not to be exhaustive or take all possible precautions. Consider it a starting point for further research and planning.</p>

<!--more-->


<hr>



<p>TLDR: Scroll to the <a href="#Landscape">diagrams</a> or view the <a href="https://stian.tech/images/2020-11-27-end-of-2020-rough-database-landscape/map-complete.png">big picture</a>.</p>



<p><strong>Table of contents</strong></p>

<ul>
  <li><a href="#Background">Background</a>
    <ul>
      <li><a href="#ProjectPhase">Project phase overview</a></li>
    </ul>
  </li>
  <li><a href="#Planning">Planning</a>
    <ul>
      <li><a href="#DatabaseCategories">Database categories</a>
        <ul>
          <li><a href="#SQL">SQL</a></li>
          <li><a href="#NoSQL">NoSQL</a></li>
          <li><a href="#KeyValue">KeyValue</a></li>
          <li><a href="#Timeseries">Timeseries</a></li>
          <li><a href="#Graph">Graph</a></li>
          <li><a href="#OtherNiceThings">Other nice things</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#Landscape">The Landscape</a>
    <ul>
      <li><a href="#SQLMap">SQL</a></li>
      <li><a href="#NoSQLMap">NoSQL</a></li>
      <li><a href="#KeyValueMap">KeyValue</a></li>
      <li><a href="#TimeseriesMap">Timeseries</a></li>
      <li><a href="#GraphMap">Graph</a></li>
    </ul>
  </li>
  <li><a href="#FurtherReading">Further reading</a></li>
  <li><a href="#Conclusion">Conclusion</a></li>
</ul>




<p>I√¢‚Ç¨‚Ñ¢m a consultant doing development, DevOps and cloud infrastructure. I also have the occasional side project trying out the Tech Flavor of the Month.</p>


<h2 id="project-phase-overview">Project phase overview</h2>
<p>The typical phases in projects I√¢‚Ç¨‚Ñ¢m involved in follow no scientific or trademarked methodology, so YMMV:</p>

<h3 id="starting-out">Starting out</h3>

<p>Get something working as fast as possible. Take all the shortcuts. Use some opinionated framework or platform.</p>

<h3 id="moving-from-development-to-production">Moving from development to production</h3>

<p>People like it, people use it. Move the thing from a single √¢‚Ç¨≈ìpet server√¢‚Ç¨ÔøΩ to a more robust cloud environment.</p>

<h3 id="scaling-production">Scaling production</h3>

<p>Bottlenecks and scaling problems start to emerge. Refactor or replace some pieces to remove the bottlenecks.</p>

<h3 id="challenges">Challenges</h3>

<p>Moving between these phases might be a major PITA if the wrong shortcuts were taken in the previous phases.</p>

<p><em>This of course applies to all technology choices and not just databases. But we have to start somewhere, right?</em></p>




<p>When starting out I try to envision all the phases of the project and which directions it may take in the future.</p>

<p>First I want the technology or software I choose to be instantly usable. A Docker image. Great. An <code>apt-get install</code>. Sweet. <code>npm install</code>. Sure, why not. Downloading a tarball. Installing some C dependencies. Setting some flags. Compiling. Symlinking and fixing permissions. Creating some configuration from scratch. Making my own systemd service definitions. Going back and doing every step again because it failed. <em>Mkay, no thanks, I√¢‚Ç¨‚Ñ¢m out.</em></p>

<p>At least for me it√¢‚Ç¨‚Ñ¢s a plus if it√¢‚Ç¨‚Ñ¢s easy to deploy on Kubernetes since I use it for everything already. I always have a cluster or three laying around so I can get a prototype or five up and running quickly before later spending money for cloud hosting.</p>

<p>Does the thing have momentum and a community? If it does it probably has high quality tooling either by the vendor or the open source community (preferably both). It probably also has lots of common questions answered on blogs and StackOverflow and Github issues.</p>

<p><strong>So we managed to build something and the audience likes it.</strong></p>

<p>How easy is it to move it from a production environment into something stable and low-maintenance? For databases that would typically involve using a managed service for hosting it. You do not want to be responsible for operating your own databases. Is it common enough that there are competitors in the marketplace offering it as a managed service? If there is only a single option expect prices to be very steep. Preferably also a managed service by one of the big known cloud platforms. They are usually cheaper. They are less likely to vanish. It might make integration with other systems easier later.</p>

<p><strong>We hit some problems either because of raw scale or some type of usage we did not anticipate in the beginning.</strong></p>

<p>Are there compatible implementations that might solve some common problems? Typically this is because an implementation has to make a decision about it√¢‚Ç¨‚Ñ¢s trade-offs. For a database system this is usually around the CAP theorem. A database system (or anything that keeps state) can be:</p>
<ul>
  <li><em>Partition Tolerant</em> - The system still works if a node or the network between nodes fail.</li>
  <li><em>Available</em> - All requests receive a response.</li>
  <li><em>Consistent</em> - The data we read is the current data and not an earlier state.</li>
</ul>

<p>But, you can only have two at the same time. And distributed systems tends to need to be partition tolerant. So we are stuck between consistency and availability.</p>

<p>It might be a good to have an idea of the CAP tradeoffs an implementation has done, and whether there are compatible implementations with different tradeoffs that can be used if later we find out we need to tweak our trade-offs for speed and/or scale.</p>

<blockquote>
  <p><em>More information about CAP theorem <a href="https://en.wikipedia.org/wiki/CAP_theorem">here</a> and <a href="https://towardsdatascience.com/cap-theorem-and-distributed-database-management-systems-5c2be977950e">here</a>. Jepsen have also <a href="https://jepsen.io/analyses">extensively tested</a> many popular databases to see how they break and if they are true to their stated trade-offs.</em></p>
</blockquote>


<h2 id="database-categories">Database categories</h2>

<p>Databases can be roughly sorted into categories. I√¢‚Ç¨‚Ñ¢ll keep it simple and use the everyday lingo and not go into details about semantics and definitions (forgive me).</p>

<p>https://www.prisma.io/dataguide/intro/comparing-database-types</p>


<h3 id="sql">SQL</h3>

<p>The oldest category is the relational database, also known as SQL based on the typical interface used to access these databases.</p>

<p>In general these databases have tables with names, a set of pre-defined columns and an arbitrary number of rows. You should have an idea of the data types to be stored in each column (such as text or numbers).</p>

<p>The downside of this is that you have to start with a rough model of the data you want to store and work with. The benefit of this is that later you know something about the model of the data you are working with. Most of the time I√¢‚Ç¨‚Ñ¢ll happily do this in the database rather than handle all the potential inconsistencies in all systems that use that database.</p>

<p><em>Main contenders: PostgreSQL. MySQL &amp; MariaDB.</em></p>


<h3 id="nosql">NoSQL</h3>

<p>All the rage the last decade. You put data in you get data out. The data is structured but not necessarily predefined. Think JSON object with values, arrays and lists.</p>

<p>The benefit is productivity when developing. The drawback is that you may pay a price for those shortcuts later if you√¢‚Ç¨‚Ñ¢re not careful.</p>

<p><em>Main contender: MongoDB.</em></p>


<h3 id="keyvalue">KeyValue</h3>

<p>Technically a sub-category of NoSQL, and should probably be called caches. But I feel it deserves it√¢‚Ç¨‚Ñ¢s own category.</p>

<p>A hyper-fast hyper-simple type of database. It has two columns. A key (ID) and value. The value can be anything, a string, a number, an entire JSON object or a blob containing binary data.</p>

<p>These are typically used in combination with another type of database. Either by storing very commonly used data for even quicker access. Or for certain types of simple data that requires insane speed or throughput and you don√¢‚Ç¨‚Ñ¢t want to overload the main database.</p>

<p><em>Main contender: Redis.</em></p>


<h3 id="timeseries">Timeseries</h3>

<p>A lesser known type of database optimized for storing a time series. A time series is a specific data type where the index is typically the time of a measurement. And the measurement is a number.</p>

<p>A time series is almost never changed after the fact. So these databases can be optimized for writing huge amounts of new data and reading and calculating on existing data. At the cost of performance for deleting or updating old data which is sloooow. Since the values are always numbers that tend to change somewhat predictably compression and deduplication can save us massive amounts of storage.</p>

<p><em>Main contenders: Prometheus, InfluxDB, TimescaleDB (plugin for PostgreSQL).</em></p>


<h3 id="graph">Graph</h3>

<p>Graph databases are cool. In a graph database the relationship between objects is a primary feature. Whereas in SQL you need to join an element from one table with another object in another table with some kind of common identifier.</p>

<p>For most simple use cases a regular SQL database will do fine. But when the number of objects stored (rows) and the number of intermediary tables (joins) become large it gets slow, or expensive, or both.</p>

<p>I don√¢‚Ç¨‚Ñ¢t have much experience with graph databases but I suspect they are less suited to general tasks and should be reserved for solving specific problems.</p>

<p><em>Main contenders: Neo4j. Redis + RedisGraph.</em></p>

<blockquote>
  <p>PS: Graph databases and GraphQL are completely separate things.</p>
</blockquote>


<h3 id="other-nice-things">Other nice things</h3>

<p>When researching this post I√¢‚Ç¨‚Ñ¢ve come across things that look promising but are hard to categorize or fall in their own very niche categories.</p>

<ul>
  <li><a href="https://dgraph.io/">Dgraph</a> - A GraphQL and backend in one.</li>
  <li><a href="https://prestodb.io/">PrestoDB</a> - An SQL interface on top of whatever database or storage you want to connect.</li>
  <li><a href="https://rethinkdb.com/">RethinkDB</a> - A NoSQL database focused on real-time streaming/updating clients.</li>
  <li><a href="https://www.foundationdb.org/">FoundationDB</a> - A transactional key-value store by Apple.</li>
  <li><a href="https://clickhouse.tech/">ClickHouse</a> - An SQL database that stores data (on disk) in columns instead of rows. Makes for blazingly fast analytical and aggregation queries.</li>
  <li><a href="https://aws.amazon.com/qldb/">Amazon Quantum Ledger Database</a> - A managed distributed ledger database (aka blockchain).</li>
  <li><a href="https://www.enterprisedb.com/products/edb-postgres-advanced-server-secure-ha-oracle-compatible">EDB Postgres Advanced Server</a> - An Oracle compatible PostgreSQL variant.</li>
</ul>




<p><em>How to use these maps:</em></p>

<p>Version compatibility are in parenthesis. I have not mapped every version and how much breaking they are compared to previous versions but included some notes where I know there might be issues.</p>

<p><em>API/Protocol/Interface</em> - This is decided by the framework, tool or driver you want to use. Sometimes it might be easier to choose the framework first and then a fitting database protocol. Or you might be lucky to choose the database features you need first and then select frameworks, tools and drivers that support it.</p>

<blockquote>
  <p>I think interfaces are really important when creating and choosing technology. I had a <a href="https://speakerdeck.com/stianovrevage/avoiding-lock-in-without-avoiding-managed-services">presentation</a> about it a while ago and I think it√¢‚Ç¨‚Ñ¢s still relevant.</p>
</blockquote>

<p><em>Engine</em> - Database implementations that are independent but try to be compatible. If there are alternatives to the √¢‚Ç¨≈ìoriginal√¢‚Ç¨ÔøΩ implementation they might have done different tradeoffs with regards to the CAP theorem or solve other specific problems.</p>

<p><em>Big three managed</em> - Available managed services by the big three clouds, Amazon (AWS), Google (GCP) or Microsoft (Azure). Having an option to host in the big three is most likely the cheapest method as well as having a variety ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://stian.tech/end-of-2020-rough-database-landscape/">https://stian.tech/end-of-2020-rough-database-landscape/</a></em></p>]]>
            </description>
            <link>https://stian.tech/end-of-2020-rough-database-landscape/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25495668</guid>
            <pubDate>Mon, 21 Dec 2020 15:17:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Corona: Germany and Europe Could Fall Short on Vaccine Supplies ‚Äì DER Spiegel]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25495657">thread link</a>) | @amadeuspagel
<br/>
December 21, 2020 | https://www.spiegel.de/international/europe/the-planning-disaster-germany-and-europe-could-fall-short-on-vaccine-supplies-a-3db4702d-ae23-4e85-85b7-20145a898abd | <a href="https://web.archive.org/web/*/https://www.spiegel.de/international/europe/the-planning-disaster-germany-and-europe-could-fall-short-on-vaccine-supplies-a-3db4702d-ae23-4e85-85b7-20145a898abd">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-article-el="body">
<section data-app-hidden="">


</section>
<section>
<div>
<figure data-component="Image" data-zoom-id="2eadab8d-3037-4e51-936e-c4fb1acf7980" data-settings="{&quot;id&quot;:&quot;43082d97-6d92-4000-8257-10d0b6dbad2d&quot;, &quot;zoomable&quot;:true,&quot;zoomId&quot;:&quot;2eadab8d-3037-4e51-936e-c4fb1acf7980&quot;}">
<p><span>
<span data-image-el="aspect">
<span>
<img data-image-el="img" src="https://cdn.prod.www.spiegel.de/images/43082d97-6d92-4000-8257-10d0b6dbad2d_w948_r1.77_fpx53_fpy52.jpg" srcset="https://cdn.prod.www.spiegel.de/images/43082d97-6d92-4000-8257-10d0b6dbad2d_w520_r1.77_fpx53_fpy52.jpg 520w, https://cdn.prod.www.spiegel.de/images/43082d97-6d92-4000-8257-10d0b6dbad2d_w948_r1.77_fpx53_fpy52.jpg 948w" width="948" height="536" sizes="948px" title="German Health Minister Jens Spahn: Optimism hasn't been matched by reality." alt="German Health Minister Jens Spahn: Optimism hasn't been matched by reality.">
</span>
</span>
</span>

</p>
<figcaption>
<p><strong>German Health Minister Jens Spahn:</strong> Optimism hasn't been matched by reality.</p>
<span>
Foto:‚ÄÇ<p>GETTY IMAGES</p>
</span>
</figcaption>
</figure>
</div><div>
<p>Such are images of hope: Nurses getting vaccinated. Pallets of packaged vaccines distributed on special flights. Mayors exulting over "the beginning of the end of the pandemic.‚Äù A president who is preparing the country for better times.</p>


<div>
<p>These images are from the United States.</p><p>In Germany, on the other hand, you see desolate shopping streets, shuttered restaurants and a government that is preparing its population for long, dark days.</p><p>The contrast is unmistakable. On the one hand, there is the supposedly incompetent Trump administration, which will provide vaccines to 20 million Americans in the next two to three weeks alone. By the end of March, the plan is for around 100 million Americans to have received the two vaccine injections they need.</p><p>On the other hand, there is the supposedly well-prepared Europeans, who continue to have to wait for a vaccine that was developed in Germany. And who still don‚Äôt know exactly how much of the vaccine they will be getting in the coming months.</p>
</div>

<p>Initially, Germany‚Äôs health minister has announced, there will probably only be 400,000 vaccine doses for Germany, with another 11 to 13 million to follow by March -- a fraction of the amount the Americans are getting.</p>

<section data-area="contentbox">

</section>
<p>It‚Äôs a politically dangerous situation that has now been recognized by the German government. Since last week, it has been taking hectic countermeasures. The European Medicines Agency (EMA) now wants to approve the vaccine a week earlier than planned, and vaccinations are slated to begin in Europe on Dec. 27. Negotiations are also underway with manufacturers to obtain more doses. On Thursday, German Chancellor Angela Merkel even spoke with BioNTech founders √ñzlem T√ºreci and Uƒüur »òahin in a livestream, part of which was broadcast publicly. The message couldn‚Äôt be any clearer: Vaccination is now the chancellor‚Äôs business.</p>

<div>
<p>That realization has come too late, however. For months, it has been clear that other countries would have more doses of the vaccine, would start vaccinating sooner and, as a result, would be able to take more effective action against the pandemic.</p><p>But in Berlin and at European Union headquarters in Brussels, too little action was taken for too long, and it was often justified with complacent arguments: In Europe, medicines are tested better and more precisely than elsewhere in the world, and vaccines are available in abundance thanks to good planning. Health Minister Jens Spahn announced that the critical mass of around 60 percent of the German population could be vaccinated.</p>
</div>

<div>
<h3>Too Little, Too Late</h3><p>But, so far at least, his optimism hasn‚Äôt been matched by reality.</p><p>And the late approval of the active ingredient in the BioNTech and Pfizer vaccine by the European Medicines Agency (EMA) appears to be the least of the problems. The bigger issue is that if the situation remains as it is now, there will not be enough vaccine available to get the pandemic under control in Germany before next autumn. The EU appears to have bought too little, too late and at times from the wrong producers. And it appears that it turned down hundreds of millions of vaccine doses that are now lacking.</p><p>Dramatic consequences are brewing for the German government: Without being able to vaccinate on a broad scale, the country won‚Äôt be able to stop the virus. Which means that the fall and winter of 2021 could be similar to this year, with high infection rates, contact restrictions and lockdowns. The only remedy would be a massive increase in the number of vaccines that are approved for use.</p><p>But Berlin has made an uncompromising commitment to European solidarity on the vaccination issue. And that means it‚Äôs not only the influential and economically strong member states that will have access, but also smaller countries like Romania and Slovenia. If Germany were to go out on its own and buy up vaccine doses that are in short supply, it would massively threaten cohesion in a Europe that is already fragile.</p><p>At the same time, though, the German federal government has an obligation to do all it can to protect its people.</p>
</div>

<div>
<p>Scientists estimate that 60 to 70 percent of Germany‚Äôs population would need to be vaccinated in order to stop the virus. That would require 100 to 120 million doses because, with one exception, all the vaccines currently available have to be administered in two doses before they deliver immunity.</p><p>The EU has ordered a total of 1.3 billion doses from six different manufacturers. Germany is entitled to 18.6 percent of those doses in a distribution mechanism calculated according to its share of the EU population. That amounts to around 250 million doses. But the number is misleading.</p><p>Currently, the only deliveries that are certain are those from German-American consortium BioNTech/Pfizer and the American biotech company Moderna.</p><p>BioNTech, whose vaccine is to be approved by the EU on Dec. 21, will be able to supply around 45 million doses to Germany in the first half of the year, according to current estimates. Moderna, whose vaccine is due to be authorized for use in Europe on Jan. 6, could supply around 15 million doses. Together, that‚Äôs a total of 60 million doses, which is far too little.</p><h3>But When?</h3><p>Additional supplies are to come from four other producers with whom the EU has contracts. But it remains highly uncertain when they will be able to deliver. No matter what happens, no significant quantities are expected before the summer.</p><p>The Anglo-Swedish pharmaceutical company AstraZeneca had to interrupt its vaccine trial and delivered disappointing testing data. French company Sanofi has postponed possible approval for its vaccine candidate to the end of 2021. Meanwhile, the vaccine from CureVac, based in T√ºbingen, Germany, isn‚Äôt expected until this summer. The only company that is close to delivering another vaccine candidate is Johnson &amp; Johnson in the U.S., and it isn‚Äôt expected until March.</p>
</div>

<div>
<p>Of course, not all of these developments could have been foreseen. The U.S., for example, believed that Sanofi would be quicker in delivering its vaccine. Still, the procurement of vaccines in Europe has been a bumpy road from the start.</p><p>Germany initiated a small vaccine alliance in the spring together with France, Italy and the Netherlands. In a first step, they reached an agreement with AstraZeneca for 400 million doses. The move was primarily intended as a means of exerting pressure because there wasn‚Äôt enough happening in Brussels. "Many countries around the world have already secured vaccines, but Europe hasn‚Äôt yet,‚Äù Health Minister Spahn warned at the time.</p><p>In mid-June, the European Commission subsequently presented an EU vaccine strategy to "ensure fair and equitable access for all across the EU.‚Äù Sufficient supplies for the member states were to be ensured by providing purchasing guarantees to manufacturers.</p><p>Health care is actually one of the competencies that is reserved for the member states in the EU. But the vaccine supply was meant to serve as a symbol of solidarity in contrast to the U.S., where Donald Trump was propagating his "America First‚Äù stance and fueling merciless global competition for the coveted vaccines.</p><p>Between August and October, the EU concluded the first of its contracts: with the pharmaceutical giants Sanofi, Johnson &amp; Johnson and AstraZeneca. Even at the time, though, it was conspicuous that the companies with the most promising vaccine candidates were not given firm contracts. BioNTech and Moderna had already obtained promising results from their studies in July and were entering the home stretch.</p><h3>No Comment</h3><p>Behind the scenes, this was the source of anger and irritation within government circles in Berlin. The irritation grew significantly in November, when the companies published data that their vaccine candidates are each up to 95 percent effective.</p><p>The manufacturers have repeatedly made it clear that they intend to distribute the vaccine according to two criteria: population size and when the contract was signed.</p><p>Way back in July, the U.S. secured 600 million doses of the BioNTech vaccine and 500 million doses from Moderna. Japan, Canada, Hong Kong and others signed contracts in the summer and autumn. The EU only reserved doses. It didn‚Äôt place concrete orders until mid-November. And even then, it ordered far less than it could have.</p>
</div>
<figure>
<div data-component="Image" data-zoom-id="cbf2316b-41c2-4fc3-afb5-964cb1d53461" data-settings="{&quot;id&quot;:&quot;e3d11ac4-de28-47c9-ae87-3d80262ec5a1&quot;, &quot;zoomable&quot;:true,&quot;zoomId&quot;:&quot;cbf2316b-41c2-4fc3-afb5-964cb1d53461&quot;}">
<div>
<div>
<p><span>
<span data-image-el="aspect">
<span>

<img data-image-el="img" src="https://cdn.prod.www.spiegel.de/images/e3d11ac4-de28-47c9-ae87-3d80262ec5a1_w718_r1.6042128603104213_fpx31.17_fpy50.jpg" srcset="https://cdn.prod.www.spiegel.de/images/e3d11ac4-de28-47c9-ae87-3d80262ec5a1_w488_r1.6042128603104213_fpx31.17_fpy50.jpg 488w, https://cdn.prod.www.spiegel.de/images/e3d11ac4-de28-47c9-ae87-3d80262ec5a1_w616_r1.6042128603104213_fpx31.17_fpy50.jpg 616w, https://cdn.prod.www.spiegel.de/images/e3d11ac4-de28-47c9-ae87-3d80262ec5a1_w718_r1.6042128603104213_fpx31.17_fpy50.jpg 718w" width="718" height="448" sizes="718px" loading="lazy" data-srcset="https://cdn.prod.www.spiegel.de/images/e3d11ac4-de28-47c9-ae87-3d80262ec5a1_w488_r1.6042128603104213_fpx31.17_fpy50.jpg 488w, https://cdn.prod.www.spiegel.de/images/e3d11ac4-de28-47c9-ae87-3d80262ec5a1_w616_r1.6042128603104213_fpx31.17_fpy50.jpg 616w, https://cdn.prod.www.spiegel.de/images/e3d11ac4-de28-47c9-ae87-3d80262ec5a1_w718_r1.6042128603104213_fpx31.17_fpy50.jpg 718w" title="A future vaccination center in Husum, the Netherlands: a fraction of what the Americans are getting" alt="A future vaccination center in Husum, the Netherlands: a fraction of what the Americans are getting">
</span>
</span>
</span>
</p><figcaption>
<p><strong>A future vaccination center in Husum, the Netherlands: </strong>a fraction of what the Americans are getting</p>
<span>
Foto:‚ÄÇShutterstock
</span>
</figcaption>
</div>
</div>
</div>
</figure><div>
<p>The EU only secured 200 million doses from BioNTech, with an option for 100 million more that would be manufactured later. According to sources with knowledge of the negotiations, BioNTech had additional capacity and apparently offered that capacity to the EU: up to 500 million doses in the first round.</p><p>But the European Commission reportedly rejected the offer. European Health Commissioner Stella Kyriakides would not comment on the exact reason. "We do not comment on the progress of negotiations," a commission spokesman said.</p><p>Why were only 300 million doses of a vaccine secured that had already demonstrated 95 percent efficacy in clinical trials at the time? One that had been hailed as a sensation and was already on its way to regulatory approval? German Health Minister Spahn pushed for more to be purchased, but he failed to prevail in the end due to opposition from several EU member countries -- in part, apparently, because the EU had ordered only 300 million doses from the French company Sanofi. "That‚Äôs why buying more from a German company wasn't in the cards,‚Äù says one insider familiar with the negotiations. The European Commission has denied that version of events,&nbsp;saying it isn‚Äôt true that Paris took massive steps to protect Sanofi.</p>
</div>
<section>

</section>
<div>
<p>However, similar reports have emerged from the negotiations with the U.S. producer Moderna. Studies also showed its product to have efficacy of 95 percent. But the EU only ordered ‚Ä¶</p></div></div></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.spiegel.de/international/europe/the-planning-disaster-germany-and-europe-could-fall-short-on-vaccine-supplies-a-3db4702d-ae23-4e85-85b7-20145a898abd">https://www.spiegel.de/international/europe/the-planning-disaster-germany-and-europe-could-fall-short-on-vaccine-supplies-a-3db4702d-ae23-4e85-85b7-20145a898abd</a></em></p>]]>
            </description>
            <link>https://www.spiegel.de/international/europe/the-planning-disaster-germany-and-europe-could-fall-short-on-vaccine-supplies-a-3db4702d-ae23-4e85-85b7-20145a898abd</link>
            <guid isPermaLink="false">hacker-news-small-sites-25495657</guid>
            <pubDate>Mon, 21 Dec 2020 15:16:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Sight of Jupiter and Saturn Together Is a Beautiful Thing]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25495448">thread link</a>) | @CapitalistCartr
<br/>
December 21, 2020 | http://m.nautil.us/blog/the-sight-of-jupiter-and-saturn-together-is-a-beautiful-thing | <a href="https://web.archive.org/web/*/http://m.nautil.us/blog/the-sight-of-jupiter-and-saturn-together-is-a-beautiful-thing">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			

			<figure data-alt=""><img src="http://static.nautil.us/18044_3ff5042bc9d37fc481ca2b15f46618d7.jpg" width="733" alt=""><figcaption><span><i>A conjunction is a good time to reflect on our cosmic heritage, and on the long shadows cast by the gas giants.</i></span><span>Illustration by SN VFX / Shutterstock</span></figcaption></figure><p><span>T</span>oday, December 21, Jupiter and Saturn will appear extremely close to each other in the sky, less than a tenth of a degree apart, about one fifth the width of the full Moon.<sup>1</sup> ‚ÄúConjunctions‚Äù like this happen all the time but, for us, here on Earth, it‚Äôs special because‚Äîthough the planets will still be more than a half-billion kilometers apart‚Äîfrom our point of view, the planets could almost touch.<sup>2</sup></p><p>A conjunction is a good time to reflect on our cosmic heritage, and on the long shadows cast by the gas giants. After all, Jupiter and Saturn influenced Earth‚Äôs growth and evolution. Evidence suggests there were at least three occasions on which they (Jupiter especially) chose Earth‚Äôs evolutionary path, some 4.5 billion years ago, helping to shape the planet we know and love today.</p><p>The wee infant Earth was just sitting there growing<span><br></span>Some rocky things flying by, crashing and glowing.<span><br></span>But far from the Sun, way out in the cold<span><br></span>The giants were stirring. A force to behold!<sup>3</sup></p><p>Planets grow within swirling disks of gas and dust around young stars. We have images of these disks taken with our biggest telescopes, especially the giant radio telescope ALMA. Here is one of ALMA‚Äôs classics:</p><figure data-alt=""><img src="http://static.nautil.us/18046_4fea1a6421a72296a12cd7898b93858e.jpg" width="733" alt=""><figcaption><span><i>ALMA image of the planet-forming disk around the nearby star TW Hydrae. The disk as a whole is similar in size to the solar system, and the inner hole in the inset is about the size of Earth‚Äôs orbit.</i></span><span>S. Andrews (Harvard-Smithsonian CfA), ALMA (ESO / NAOJ / NRAO)</span></figcaption></figure><p>Jupiter starved the growing Earth. This may sound like a bad thing, but without Jupiter, Earth would probably have become a colossal ‚Äúsuper-Earth‚Äù and moved inward, onto a roasting-hot orbit close to the Sun. Not great for life.</p><p>Planets grow out of dust. It drifts around in a disk, then piles up to form 100 kilometer-scale ‚Äúplanetesimals,‚Äù the real building blocks of the planets. Think of these like the potato-shaped asteroids from <i><a href="http://nautil.us/blog/the-emodiversity-of-star-wars" target="_blank">Star Wars</a></i>‚Äîjust bigger, farther apart, and without the giant space slugs. The rings in the ALMA image are pile-ups of sand-sized dust, where these objects may be forming right now.</p><p>Planetesimals grow further by bashing into each other, and also by sweeping up dust drifting inward. When a growing planetesimal gets massive enough, it blocks the drifting dust, not only starving itself but also blocking the dust from getting to any planetesimal closer to the Sun. These planetesimals can keep growing by self-collisions but not by any new dust originating in the outer solar system.</p><p>Jupiter‚Äôs growing core‚Äîa super-big planetesimal about ten times the mass of Earth‚Äîmay have done exactly that. It grew big enough, fast enough, to stop the flow of dust. Scientists don‚Äôt know exactly why Jupiter‚Äôs core formed so much faster than Earth‚Äôs, but the reason likely has something to do with the fact that Jupiter started forming further from the Sun, where (sticky) ices could exist and contribute to its growth.&nbsp;</p><p>Meteorites corroborate this idea. The thousands of meteorites in NASA <a href="https://ares.jsc.nasa.gov/astromaterials3d/" target="_blank">collections</a> can be divided into two main classes, based on their isotopes‚Äîthe relative amounts of the same elements with different numbers of neutrons. These meteorites are made out of dust that‚Äôs just the right size to drift really fast within the disk. Yet the two types of meteorites didn‚Äôt mix. Why not? Jupiter‚Äôs dust-blocking core.</p><p>Our system was neatly just sliced right in two<span><br></span>As Jupiter‚Äôs core stopped the dust flowing through.<span><br></span>If not for this, Earth would have just kept on growing <span><br></span>And wound up so close to the Sun we‚Äôd be glowing!</p><p>Jupiter and Saturn also stunted Mars‚Äô growth. The Red Planet gets a lot of press, but it‚Äôs a runt. Mars is nine times less massive than its closest neighbor, Earth. Decades of computer simulations (starting in the late 1970s) have shown that, without an outside perturbation, Mars would have grown to be about as big as Earth‚Äîeven with Jupiter blocking the flow of dust into the inner solar system.</p><figure data-alt=""><img src="http://static.nautil.us/18039_62b4521aec8fe13ad75560a2b41b2f95.jpg" width="733" alt=""></figure><figure data-alt=""><img src="http://static.nautil.us/18040_152c97a9bb6f2ababc2c73a46cfef7a3.jpg" width="733" alt=""><figcaption><span><i>The actual inner solar system (top), and what the inner solar system would look like today if not for a strong outside perturbation during the planets‚Äô growth (bottom; according to computer simulations).</i></span><span>planetplanet.net</span></figcaption></figure><p>So why isn‚Äôt Mars bigger? There are a few different ideas out there. One scenario‚Äîcalled the <a href="https://planetplanet.net/2013/08/02/the-grand-tack/" target="_blank">Grand Tack</a>‚Äîhas Jupiter‚Äôs orbit shifting, or ‚Äúmigrating,‚Äù as it grew. On its own, Jupiter would have migrated inward and probably ended up somewhere close to Earth‚Äôs orbit, which is where most of the Jupiter-mass planets around other stars are found.</p><p>This is where Saturn comes in. Jupiter and Saturn together migrate outward instead of inward. This is a neat hydrodynamical effect that takes place when two gas giants are close to each other in the same disk, and the inner one is more massive than the outer one. The flow of gas changes and creates a pileup interior to the inner planet‚Äôs orbit, which acts to push both planets outward. Like two good friends, they have the wherewithal to go against the flow and migrate outward together, whereas each would migrate inward on its own.</p><figure data-alt=""><img src="http://static.nautil.us/18041_a4396f61160d9bfa1ea9114dacd37247.png" width="733" alt=""><figcaption><span><i>A hydrodynamical simulation of Jupiter and Saturn (circled) migrating in the sun‚Äôs disk.</i></span><span>Arnaud Pierens</span></figcaption></figure><p>Jupiter and Saturn‚Äôs migration emptied out Mars‚Äô feeding zone, stunting its growth. As long as their migration turned around (‚Äútacked‚Äù in sailing jargon) early enough, the gas giants would not have disrupted Earth‚Äôs growth.&nbsp;</p><p>Like dinosaurs, Saturn and Jupiter roamed<span><br></span>They sculpted this system that humans call home<span><br></span>Their orbits first shrank, then shifted and grew.<span><br></span>Our Earth was constructed from rocks they plowed through.</p><p>We may be observing something similar in another system almost 400 light-years away. The disk around the star PDS70 appears to be shaped by two giant baby planets, locked in an orbital resonance, and migrating around right now!&nbsp;</p><figure data-alt=""><img src="http://static.nautil.us/18042_7e132d103ce54fda527e88a13a3d1540.png" width="733" alt=""><figcaption><span><i>Artist‚Äôs impression of the exoplanets PDS70 b and c as they are migrating around within their birth disk.</i></span><span>J. Olmsted (StSci)</span></figcaption></figure><p>The gas giants eventually became unstable, pelting all of the other, more inner planets with stray rocks and ice. There are several pieces of circumstantial evidence leading scientists to suspect that our solar system suffered a dynamical instability, an event during which the giant planets‚Äô orbits changed in sudden, dramatic fashion. For instance, the giant planets‚Äô orbits are not circles, but modestly stretched out ellipses. The Kuiper belt is almost empty, yet Pluto and Eris, another dwarf planet (discovered in 2005), needed a lot more mass to grow as big as they are. The giant planets are surrounded by clouds of ‚Äúirregular satellites‚Äù that seem to have been captured from somewhere else. The orbits of Jupiter‚Äôs Trojan asteroids are strangely tilted. The list goes on.</p><div id="inpagesub">
	<p>Get the <span>Nautilus</span> newsletter</p>
<p>
	The newest and most popular articles delivered right to your inbox!
</p>
			<!-- Begin MailChimp Signup Form -->
			




</div><p>The <a href="https://en.wikipedia.org/wiki/Nice_model" target="_blank">Nice model</a>, a scenario of how our solar system dynamically evolved, developed in the French city of the same name, proposes that the giant planets‚Äô orbits went unstable hundreds of millions of years after the planets formed (more on that later). The instability may looked something like this:&nbsp;</p><figure data-alt=""><img src="http://static.nautil.us/18043_877d85181eb41f6b8db45bd2d29a97b4.png" width="733" alt=""><figcaption><span><i>Snapshots of the giant planet‚Äôs instability (from a computer simulation). The colored lines represent the orbits of the giant planets, and the white dots are leftover planetesimals.</i></span><span>Gomes et al. 2005 / Wikicommons</span></figcaption></figure><p>During the instability, the ice giants, Uranus and Neptune, were kicked all over the place. The outer disk of planetesimals‚Äîbasically, a huge pile of leftover comets‚Äîwas almost completely cleared out. Those leftovers rained down on the planets and a few were captured (like the irregular satellites).</p><p>And later on there was a big instability<span><br></span>This time the giants expressed their hostility<span><br></span>The ice giants‚Äô orbits were strongly affected<span><br></span>An extra one may have been fully ejected!<span><br></span>(The Earth was bombarded; no planet protected.)</p><p>There is a new twist in this story related to the timing of these events. As you know, the Moon is covered in craters. Since the 1970s, the ages of craters were thought to show a big spike in the rate of impacts hundreds of millions of years after the planets formed (remember, that was still billions of years ago). This was called the ‚Äúlate heavy bombardment.‚Äù&nbsp;</p><p>New analysis shows that this spike is probably just the tail end of an early bombardment, the one that grew the planets in the first place. Not a ‚Äúlate‚Äù heavy bombardment. This doesn‚Äôt call the past instability into question, because it can explain so many features of the solar system at the same time. But it must have happened much earlier, maybe during the growth of the rocky planets. There‚Äôs a cherry on top: New simulations show that an early giant-planet instability can even <a href="https://planetplanet.net/2018/05/29/mars-growth-stunted/" target="_blank">explain</a> why Mars is smaller than Earth.&nbsp;</p><p>In modeling events billions of years ago, we are really only constrained by two things: the laws of physics (and available evidence) and our imaginations.</p><p>We don‚Äôt have a time machine, can‚Äôt see the past<span><br></span>But models can answer some questions we‚Äôve asked<span><br></span>To test our ideas, we use simulations<span><br></span>On giant computers, with huge calculations.</p><p>Some people like to call Jupiter and Saturn the ‚Äúarchitects‚Äù of the solar system, as though they had a clear plan for how our system should turn out. Not us. We think of the gas giants as bullies that pushed Earth around and made a lot of decisions for us.</p><p>Some even call Jupiter Earth‚Äôs ‚Äúprotector.‚Äù This is because, over the past 4 billion years, its massive gravity has scattered comets and asteroids away that might otherwise have hit our planet. But on closer inspection, this doesn‚Äôt hold up. Jupiter only protects Earth from comets that Jupiter put on Earth-crossing orbits in the first place. It‚Äôs like a bully‚Äîalbeit, quite a beautiful one‚Äîasking for a handout to protect you from his fist.</p><p><i>Sean Raymond is an American astrophysicist working at the Bordeaux Astrophysical Laboratory in France. He also writes a blog at the ‚Ä¶</i></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://m.nautil.us/blog/the-sight-of-jupiter-and-saturn-together-is-a-beautiful-thing">http://m.nautil.us/blog/the-sight-of-jupiter-and-saturn-together-is-a-beautiful-thing</a></em></p>]]>
            </description>
            <link>http://m.nautil.us/blog/the-sight-of-jupiter-and-saturn-together-is-a-beautiful-thing</link>
            <guid isPermaLink="false">hacker-news-small-sites-25495448</guid>
            <pubDate>Mon, 21 Dec 2020 14:58:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Processing 12T rows during Black Friday]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25495440">thread link</a>) | @xoelop
<br/>
December 21, 2020 | https://blog.tinybird.co/2020/12/21/how-we-setup-real-time-analytics-service-to-process-12-trillion-rows-during-black-friday/ | <a href="https://web.archive.org/web/*/https://blog.tinybird.co/2020/12/21/how-we-setup-real-time-analytics-service-to-process-12-trillion-rows-during-black-friday/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content"> <div> <article itemscope="" itemtype="http://schema.org/BlogPosting">  <div id="post-content" itemprop="articleBody"> <p><em>By <a href="https://twitter.com/javisantana">Javi Santana</a></em></p> <p>One month before Black Friday, one of our clients in the retail space asked us to host for them the real time analytics API that feeds the dashboards that everyone in the company uses to see what‚Äôs going on (and of course, make decisions based on it).</p> <p>We knew it was tight but we specialize in running real-time stuff at scale: for example, while at Carto we served the Wall Street Journal frontpage map on 2012 during the election night, we hosted a website with a link from google.com‚Äôs home page (and a bunch of other countries) for 24 hours and some other high load events.</p> <p>In an ideal world you would setup a Kafka cluster, a streaming system to materialize some metrics on some fast key value store like redis and serve them using a lightweight backend through an API. With that you would get likely thousands of requests per second without much hardware.</p> <p>And while we can easily ingest Kafka streams, not every company works with streams, not all analytics can be precalculated easily and not all dashboards are simple counters.</p> <p>In this case we had to deal with data from a transactional database. And the analytics needed to be flexible due to filtering requirements as well as different configurations that needed to be changed on the fly and reflected instantly on the dashboard.</p> <h2 id="the-data-input">The data input</h2> <p>In order to ‚Äústream‚Äù data from the transactional database to our system, the client set up 5 parallel threads sending once per second all the rows that changed during the last second. Sounds easy but it gets complicated - wait for it.</p> <p>That means that even when just a column changes in an already existing row, the row needs to be sent again. And in a system like this, rows change quite a lot. Of course there are better ways to do this but for the use case it was good enough and allowed them to have high quality data (one of the requirements of the project)</p> <h2 id="the-infrastructure">The infrastructure</h2> <p>We used our product for the setup. It looks like:</p> <ul> <li>An Nginx load balancer</li> <li>A Varnish behind Nginx</li> <li>Our Tinybird backend. It runs the API endpoints, the load balancing for Clickhouse replicas and also the ingestion part. It‚Äôs a Python application with small bits of C++ for critical request paths.</li> <li>A Clickhouse cluster</li> <li>A Zookeeper cluster for data replication within Clickhouse</li> </ul> <p>It‚Äôs pretty simple (because we like to keep things as simple as possible) and using components we know pretty well. To be clear, in this case the amount of QPS was not going to be crazy high (less than 200QPS) so Nginx and Varnish acted just as routing tools with not so much load (more on this later) but any other load balancer would work pretty well too.</p> <h2 id="the-initial-numbers">The initial numbers</h2> <p>The plan was to have between 50-100QPS (with 120 QPS peaks) with a response time under 150ms over datasets with some millions of rows (trying not to be too specific here on purpose). The queries were not simple: they needed several joins with tables which were changing quite often so we couldn‚Äôt precalculate too many things.</p> <p>Around 5 ingestions happened per second with millions of rows ingested per minute.</p> <p>Every hour, many millions of rows would be imported to resync last hours‚Äô with changes that might had been missed in the original database.</p> <h2 id="the-approach">The approach</h2> <p>The best way to run any analytics service is to serve static data. That‚Äôs the perfect world because it is inexpensive and fast as hell.</p> <p>With dynamic data, what you want to do is to convert the data as it‚Äôs ingested into static data so that you only process the data once. That‚Äôs possible when the amount of combinations you have to generate is low. A static blog generator with a few posts a day is one example of this.</p> <blockquote> <p>But when the amount of combinations is high you have to process the data as it comes in as much as you can so it‚Äôs fast to query, but taking into account the processing time should be low because you don‚Äôt want to add lag (if not, it would not be real-time)</p> </blockquote> <p>Our product uses Clickhouse and that‚Äôs what we used for the data storage and queries. It‚Äôs almost perfect for this use case: it allows to run queries over large amounts of data pretty fast, the latency is low and scales horizontally and vertically.</p> <p>So the plan was easy: using materialized views from Clickhouse, generating views to cover the most frequent use cases. Take into account that Clickhouse matviews are incremental - you don‚Äôt need to recalculate the whole view when new data is added. If you use Clickhouse and you are not using them you should take a look, you may save several orders or magnitude in query time.</p> <h2 id="ingestion">Ingestion</h2> <p>But there is one big problem: as I said we need to run upserts because the data comes from a transactional database. And Clickhouse (like other databases in the same space) doesn‚Äôt deal with upserts in real time.</p> <p>So what we did was to <em>split the main table</em>, the one with all the sales, in two: one (we call it RT) for the latest 30 minutes and another one for the rest (HISTORIC). Each table has the same materialized views but obviously they are different.</p> <p>The RT one is really easy to work with because the amount of rows in there is not going to be crazy, so we can recalculate it completely to run the upserts in real time. It takes less than 1 second with several million rows to run all the upserts and recalculate all the mat views for that ‚Äúsmall‚Äù table.</p> <p>The HISTORIC one works as an incremental table and data older than 30 minutes is appended to the table. We don‚Äôt expect too many changes in rows after 30 minutes, that‚Äôs why we move data to this table.</p> <p>For rows that change after 30 minutes we run an hourly process to update parts of the HISTORIC table and recalculate all the materialized views for that table, only for data that has changed.</p> <p>The important part: we run this in several machines but taking into account we can never return inconsistent results, every operation needs to be aware of replication lag (pretty low I have to say) and run all the changes in an atomic way. This sounds easy but it isn‚Äôt; however, it is something that comes out of the box with Tinybird so we didn‚Äôt have to pay too much attention to it.</p> <p>For the table schema we tried to use the smallest possible data types to save as much space as possible since everything should be in memory to be fast. Also we used LZ4 compression (default for Clickhouse) since it provides a good ratio between compression and decoding speed, so it saves quite a lot of memory bandwidth.</p> <p>In order to optimize the ingestion process we also used one of the recently added features in Clickhouse, the in memory data parts, that lets you insert rows into a MergeTree table without actually syncing them to disk, which improves performance. All the tables were replicated (multi-master) so in case of a problem with the machine running the ingestion processes, we could switch to a different one without downtime. Data loss was really unlikely since the ingestion process would send the rows again in case of a failed insert.</p> <h2 id="querying">Querying</h2> <p>Once you have the materialized views, the queries are easy: just regular SQL following the real time rules:</p> <ul> <li>The best data is the one you don‚Äôt have to read. Using Clickhouse indexing to skip non needed data is key</li> <li>Lightweight operations first: filtering always goes first.</li> <li>Replacing joins with ‚ÄúWHERE column IN (SELECT ‚Ä¶)‚Äù when possible, generally much faster. Using <a href="https://gist.github.com/javisantana/07c689564874cea6e4a31bd40fc770b1">transform function</a> when possible.</li> <li>Monitoring and optimizing query times, but also minimising the amount of bytes scanned. We always aim to scan as few bytes as possible in the first steps of the query and then try optimize to reduce the times. We split queries in several chunks so we know how many resources each part of the query takes, see <a href="https://ui.tinybird.co/snapshot/7437e5efa1f944a0b7cc017751696ea3">an example</a>.</li> </ul> <p>Also to be able to run queries over two tables without overlapping data, we used a simple but powerful technique: using a table to store the split date.</p> <div><div><pre><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
9
</pre></td><td><pre><span>WITH</span> <span>(</span>
   <span>select</span> <span>split_date</span> <span>from</span> <span>split_table</span>
<span>)</span> <span>as</span> <span>split_date</span>
<span>select</span> <span>‚Ä¶</span> <span>from</span> <span>historic</span> <span>where</span> <span>date</span> <span>&lt;</span> <span>split_date</span>
<span>union</span> <span>all</span>
<span>WITH</span> <span>(</span>
   <span>select</span> <span>split_date</span> <span>from</span> <span>split_table</span>
<span>)</span> <span>as</span> <span>split_date</span>
<span>select</span> <span>‚Ä¶</span> <span>from</span> <span>RT</span> <span>where</span> <span>date</span> <span>&gt;=</span> <span>split_date</span>
</pre></td></tr></tbody></table></code></pre></div></div> <p>We have to run the Common Table Expression twice because its scope only covers one select, something that is being improved in Clickhouse as I write this.</p> <p>The objective was to run all the queries under 150ms with just one core. This is important because there was a lot of concurrency and also we have to leave some spare cores to work on the ingestion process. In our standard setup the load balancer routes more read requests to the machines not ingesting data at that moment so query time percentiles stay low.</p> <p>For the read load balancer we used a round-robin policy (all the requests take more or less the same time) but ideally the load balancer should try to route requests that use the same part of the data to the same machines to use caching as much as possible. In this case it wasn‚Äôt critical because the tables we were querying were not huge and we were running in large machines (32 cores, 64gb ram), so read tables fit in memory.</p> <p>We also used Varnish to avoid duplicate requests. When running dashboards, it‚Äôs pretty common for many browsers to request the same url at the same time, so using <a href="https://varnish-cache.org/docs/trunk/users-guide/vcl-grace.html#grace-mode">Varnish grace mode</a> we avoided extra work in the database.</p> <p>Varnish was also ready for plan B: in case of an unexpected load peak well outside of our predictions, we could enable caching with a small TTL to save some requests to the database.</p> <blockquote> <p>One final comment: we optimized queries and materialized views taking into account the distribution of calls to different endpoints. It‚Äôs much better to speed up an endpoint which is run 80% of the times than another one which is 2x slower.</p> </blockquote> <p>And this sounds like obvious but developers sometimes forget about two things: basic maths and the big picture. If you are interested we published a blog post on <a href="https://blog.tinybird.co/2020/12/15/eating-our-own-dog-food-how-we-investigate-performance-bottlenecks-using-our-product-and-google-sheets/">how we optimize our endpoints based on basic statistics</a></p> <h2 id="final-numbers-and-results">Final numbers and results</h2> <p>Numbers after Black Friday days (4 in our case):</p> <ul> <li>We ingested +650B rows.</li> <li>All the queries read a total of ‚Ä¶</li></ul></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.tinybird.co/2020/12/21/how-we-setup-real-time-analytics-service-to-process-12-trillion-rows-during-black-friday/">https://blog.tinybird.co/2020/12/21/how-we-setup-real-time-analytics-service-to-process-12-trillion-rows-during-black-friday/</a></em></p>]]>
            </description>
            <link>https://blog.tinybird.co/2020/12/21/how-we-setup-real-time-analytics-service-to-process-12-trillion-rows-during-black-friday/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25495440</guid>
            <pubDate>Mon, 21 Dec 2020 14:56:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cold Weather Increases Fomite Spread of SARS-CoV-2]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25495380">thread link</a>) | @bookofjoe
<br/>
December 21, 2020 | https://smosa.com/bad-news-cold-weather-will-help-the-spread-of-sars-cov-2/ | <a href="https://web.archive.org/web/*/https://smosa.com/bad-news-cold-weather-will-help-the-spread-of-sars-cov-2/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

					<!-- .post-header -->


					<div>
						<p>The holiday season is still not done delivering bad news. With ICUs at 0% capacity in some parts of the United States, Public health officials wonder if the seasonal change alone will affect the transmission of SARS-CoV-2. A recent research study has studied the influence of temperature and humidity on the properties of individual virus-likes.</p><blockquote>When it comes to fighting the spread of this virus, you kind of have to fight every particle individually. And so you need to understand what makes each individual particle degrade. People are also working on vaccines and are trying to understand how the virus is recognized? All of these questions are single particle questions. And if you understand that, then that enables you to fight a hoard of them.</blockquote><p>The results indicate cold weather could have a preserving effect on the virus. The first study to evaluate the mechanics of the virus at a single particle stage, found that other coronaviruses tend to infect more people during the winter months.</p><figure><img src="https://smosa.com/content/images/2020/12/Picture1.png" alt="" srcset="https://smosa.com/content/images/size/w600/2020/12/Picture1.png 600w, https://smosa.com/content/images/size/w1000/2020/12/Picture1.png 1000w, https://smosa.com/content/images/2020/12/Picture1.png 1302w" sizes="(min-width: 720px) 720px"><figcaption>Source: <a href="https://edition.cnn.com/interactive/2020/health/coronavirus-us-maps-and-cases/">CNN; Johns Hopkins University</a></figcaption></figure><p>"You would expect that temperature makes a huge difference, and that's what we saw. To the point where the packaging of the virus was completely destroyed by even moderate temperature increases," said Michael Vershinin, assistant professor at the University of Utah and co-senior author of the paper. "What's surprising is how little heat was needed to break them down -- surfaces that are warm to the touch, but not hot. The packaging of this virus is very sensitive to temperature."</p><figure><img src="https://images.unsplash.com/photo-1491002052546-bf38f186af56?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fHdpbnRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000" alt="Snowshoeing on a snowy day at Gold Creek Pond." srcset="https://images.unsplash.com/photo-1491002052546-bf38f186af56?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fHdpbnRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=600 600w, https://images.unsplash.com/photo-1491002052546-bf38f186af56?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fHdpbnRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1000 1000w, https://images.unsplash.com/photo-1491002052546-bf38f186af56?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fHdpbnRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1600 1600w, https://images.unsplash.com/photo-1491002052546-bf38f186af56?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fHdpbnRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2200 2200w" sizes="(min-width: 720px) 720px"><figcaption>Photo by <a href="https://unsplash.com/@sametomorrow?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Adam Chang</a> / <a href="https://unsplash.com/?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Unsplash</a></figcaption></figure><p>The SARS-CoV-2 virus is typically transmitted by spreading respiratory particles (e.g. sneezing or coughing), which ejects droplets of the microscopic aerosols from the lungs. These mucus droplets have a high volume-to-surface ratio and dry fast, so that wet and dry virus particles come in contact with a surface.</p><p>Scientists examined virus-like particles on both dry and humid glass surfaces. They found relatively little variation between humidity levels on the surfaces. But scientists point out that humidity potentially matters when the particles in the air by impacting how easily the aerosols dry out.</p>
					</div><!-- .post-content -->

					<!-- .post-footer -->


				</article></div>]]>
            </description>
            <link>https://smosa.com/bad-news-cold-weather-will-help-the-spread-of-sars-cov-2/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25495380</guid>
            <pubDate>Mon, 21 Dec 2020 14:49:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[SCD1 ‚Äì Genetics, Metabolism, Neurodegeneration]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25495335">thread link</a>) | @parsimony
<br/>
December 21, 2020 | https://www.geneticlifehacks.com/scd1-a-lynchpin-of-metabolism/ | <a href="https://web.archive.org/web/*/https://www.geneticlifehacks.com/scd1-a-lynchpin-of-metabolism/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text">
			<p>There is a growing body of evidence showing that many of our current chronic diseases (diabetes, metabolic syndrome, obesity) all revolve around the balance of utilizing fatty acids for energy, normalizing blood glucose levels, and maintaining a healthy muscle mass and weight. The SCD1 gene impacts all of these topics.</p>
<p>This article explains the function of stearoyl-CoA desaturase 1 (SCD1) and then dives into the genetic variants that impact your base levels. We will end with the research on how diet impacts SCD1 and how you may be able to manipulate it for weight loss.</p>

<h2><span id="StearoylCoA_Desaturase_1_%E2%80%93_converting_fatty_acids_in_your_cells"></span>Stearoyl-CoA Desaturase 1 ‚Äì converting fatty acids in your cells<span></span></h2>
<p>Stearoyl-CoA desaturase (SCD1 gene) is the rate-limiting enzyme needed for the body‚Äôs creation of monounsaturated fatty acids from saturated fatty acids.</p>
<p>First, some background information for context (skip ahead if you know this), and then I‚Äôll get into the SCD1 gene and how it affects overall health, weight, and metabolic health.</p>
<h3><span id="Background_how_your_body_uses_food_as_fuel"></span>Background: how your body uses food as fuel<span></span></h3>
<p>Your cells create energy from <strong>two fuel sources: carbohydrates</strong>, which break down into glucose, <strong>and fat</strong>, which can be utilized in fatty acid oxidation for energy. When glucose is available, it is used preferentially for creating energy, and when glucose levels fall, fatty acids get used for energy.</p>
<p>We survive as a species because we are flexible in our ability to survive eating different diets ‚Äî from hunter-gatherers eating mammoths and tubers to agrarian cultures eating mainly grains to my Irish ancestors who likely made it through famine times eating potatoes.</p>
<p><img src="https://i1.wp.com/www.geneticlifehacks.com/wp-content/uploads/2020/12/fat-fuel.jpg?resize=100%2C100&amp;ssl=1" alt="" width="100" height="100" srcset="https://i1.wp.com/www.geneticlifehacks.com/wp-content/uploads/2020/12/fat-fuel.jpg?w=100&amp;ssl=1 100w, https://i1.wp.com/www.geneticlifehacks.com/wp-content/uploads/2020/12/fat-fuel.jpg?resize=96%2C96&amp;ssl=1 96w" sizes="(max-width: 100px) 100vw, 100px" data-recalc-dims="1" data-lazy-srcset="https://i1.wp.com/www.geneticlifehacks.com/wp-content/uploads/2020/12/fat-fuel.jpg?w=100&amp;ssl=1 100w, https://i1.wp.com/www.geneticlifehacks.com/wp-content/uploads/2020/12/fat-fuel.jpg?resize=96%2C96&amp;ssl=1 96w" data-lazy-src="https://i1.wp.com/www.geneticlifehacks.com/wp-content/uploads/2020/12/fat-fuel.jpg?resize=100%2C100&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>The body can convert glucose into fat for storage(called <em>de novo lipogenesis</em>), and it can convert fat back into glucose if needed (<em>gluconeogenesis</em>). While most cells can run on fatty acids for fuel, the brain needs glucose and thus the conversion of fat to glucose if needed.</p>
<p>When you eat foods containing fat, the fat gets broken down in a couple of ways with different lipase enzymes. These lipase enzymes (gastric, pancreatic) break up the fat into fatty acids and glycerol, and then bile acids act as emulsifiers, allowing the fatty acid to cross the mucous layer for absorption. (more thorough <a href="https://med.libretexts.org/Bookshelves/Nutrition/Book%3A_An_Introduction_to_Nutrition_(Zimmerman)/05%3A_Lipids/5.04%3A_Digestion_and_Absorption_of_Lipids#:~:text=In%20the%20stomach%20fat%20is,fats%20through%20the%20lymph%20system." target="_blank" rel="noopener noreferrer">explanation here</a>)</p>
<h4><span id="Background_Fatty_acids_in_the_body"></span>Background: Fatty acids in the body<span></span></h4>
<p>While we often just think of ‚Äòfat‚Äô as the extra padding around our waist and hips, fatty acids have <strong>three different roles</strong> in the body:</p>
<ol>
<li>Fatty acids, mainly unsaturated fatty acids, make up the<strong> cell membranes</strong> of all the cells in the body.</li>
<li>Fatty acids can break down for the mitochondria use them to create <strong>energy</strong> in the form of ATP. Fatty acids are also the main way of storing fuel for later use.</li>
<li>Fatty acids can act as <strong>signaling molecules</strong>, causing many different downstream effects.</li>
</ol>
<p>So keep in mind that as we dig into this topic of saturated and monounsaturated fatty acids, the body is regulating and using these fats in multiple ways.</p>
<h4><span id="Background_Types_of_fatty_acids"></span>Background: Types of fatty acids<span></span></h4>
<p>Fatty acids consist of carbon and hydrogen and referred to as saturated or unsaturated. Saturated fats have all of their carbons bound to hydrogens, and unsaturated fats have at least one carbon bound to another carbon instead of a hydrogen. This change in the structure of the fatty acid differentiates saturated from unsaturated fats.</p>
<p>Saturated fats are generally solids at room temperature, and unsaturated fats are liquids.</p>
<p>Fatty acids are named based on the number of carbons in the chain and how many unsaturated double bonds between carbons exist. Saturated fats have no unsaturated double bonds. Monounsaturated fatty acids (MUFA) have one unsaturated double bond, and polyunsaturated fatty acids (PUFA) have two unsaturated double bonds.</p>
<table>
<tbody>
<tr>
<td><strong>Saturated fatty acids (# carbon atoms):</strong>
<ul>
<li>Caprylic acid (8)</li>
<li>Capric acid (10)</li>
<li>Lauric acid (12)</li>
<li>Myristic acid (14)</li>
<li>Palmitic acid (16)</li>
<li>Stearic acid (18)</li>
<li>Arachidic acid (20)</li>
</ul>
</td>
<td><strong>Unsaturated fatty acids (# carbon atoms, # unsaturated double bonds):</strong>
<ul>
<li>Myrisoleic acid (14, 1)</li>
<li>Palmitoleic acid (16, 1)</li>
<li>Oleic acid (18,1)</li>
<li>Linoleic acid (18, 2)</li>
<li>Œ±-Linolenic acid (18, 3)</li>
<li>Arachidonic acid (20, 4)</li>
<li>Eicosapentaenoic acid ‚Äì EPA (20, 5)</li>
<li>Docosahexaenoic acid ‚Äì DHA (22, 6)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<h3><span id="SCD1_converting_saturated_fat_to_monounsaturated_fat"></span>SCD1: converting saturated fat to monounsaturated fat<span></span></h3>
<p>Getting back on topic here, the stearoyl-CoA desaturase enzyme is found in all cell types and in all animals and plants. The SCD1 gene codes for the stearoyl-CoA desaturase enzyme which converts saturated fatty acids into monounsaturated fatty acids.</p>
<p>The cell membrane surrounding all of your cells consists of fatty acids. Some of those fatty acids can be saturated, but most of them need to be unsaturated, in order to give more fluidity to the cell membrane. Saturated fats, which are solids at room temperature, are less fluid in cell walls.</p>
<p>The stearoyl-CoA desaturase enzyme changes the bond in the saturated fat to make it unsaturated and more flexible.</p>
<p>Specifically, the SCD enzyme converts stearic acid (saturated fat with 18 carbons) into oleic acid (unsaturated fat, 18 carbons, and one unsaturated double bond).&nbsp; It can also convert palmitic acid into palmitoleic acid.</p>
<p><img src="https://i2.wp.com/www.geneticlifehacks.com/wp-content/uploads/2020/12/SCD1.jpg?resize=343%2C274&amp;ssl=1" alt="" width="343" height="274" srcset="https://i2.wp.com/www.geneticlifehacks.com/wp-content/uploads/2020/12/SCD1.jpg?w=500&amp;ssl=1 500w, https://i2.wp.com/www.geneticlifehacks.com/wp-content/uploads/2020/12/SCD1.jpg?resize=300%2C240&amp;ssl=1 300w, https://i2.wp.com/www.geneticlifehacks.com/wp-content/uploads/2020/12/SCD1.jpg?resize=150%2C120&amp;ssl=1 150w" sizes="(max-width: 343px) 100vw, 343px" data-recalc-dims="1" data-lazy-srcset="https://i2.wp.com/www.geneticlifehacks.com/wp-content/uploads/2020/12/SCD1.jpg?w=500&amp;ssl=1 500w, https://i2.wp.com/www.geneticlifehacks.com/wp-content/uploads/2020/12/SCD1.jpg?resize=300%2C240&amp;ssl=1 300w, https://i2.wp.com/www.geneticlifehacks.com/wp-content/uploads/2020/12/SCD1.jpg?resize=150%2C120&amp;ssl=1 150w" data-lazy-src="https://i2.wp.com/www.geneticlifehacks.com/wp-content/uploads/2020/12/SCD1.jpg?resize=343%2C274&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>Saturated and unsaturated fats are also found in foods that you eat. Stearic acid is found in beef fat (tallow), chocolate (cacao butter), and dairy fat. Palmitic acid is found in palm oil.</p>
<p>I‚Äôll come back to the dietary aspects of SCD1 in the Lifehacks section‚Ä¶</p>
<p><strong>Does SCD1 alter your ability to burn off stored fat?&nbsp;</strong></p>
<p>To lose weight, you have to use your stored fat for energy at a rate that is higher than your rate of replacing that fat.</p>
<p>Researchers discovered that <strong>SCD1 (stearoyl-CoA desaturase) is increased in people with obesity and metabolic syndrome.</strong> Additionally, people who are obese have higher ratios of monounsaturated fat to saturated fat (MUFA:SFA ratio).[<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5701860/" target="_blank" rel="noopener noreferrer">ref</a>][<a href="https://pubmed.ncbi.nlm.nih.gov/30754064/" target="_blank" rel="noopener noreferrer">ref</a>]</p>
<p>The question, though, is whether the increased SCD1 caused obesity or whether it was elevated in response to having metabolic syndrome.</p>
<p>Animal research may give us the answer. Research consistently shows that lower SCD1 levels keep the animal lean, even on a diet that normally would make them fat. The researchers decrease the SCD1 levels through manipulating the gene in various tissues of the animal, seeing the results of knocking out the gene in different organs.</p>
<p><em>Why does a lower SCD1 level keep mice lean?</em> The lack of SCD1 enzyme causes an increase in the rate of using up fat for fuel in the mitochondria. This increased fatty acid Œ≤-oxidation is through activation of the AMPK pathway.[<a href="https://pubmed.ncbi.nlm.nih.gov/31241768/" target="_blank" rel="noopener noreferrer">ref</a>]</p>
<p>decreased SCD1 = increased burning of fat</p>
<p>Additionally, mice with <strong>SCD1 deficiency had better insulin sensitivity and reduced liver fat</strong>. They were ‚Äòhypermetabolic‚Äô, burning off fat at a faster rate, irrespective of a fattening diet. The researchers were able to pinpoint that the <strong>deletion of SCD1 in skin and muscle tissue</strong> is what keeps the mice lean through increasing overall metabolism.[<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5701860/" target="_blank" rel="noopener noreferrer">ref</a>][<a href="https://pubmed.ncbi.nlm.nih.gov/31241768/" target="_blank" rel="noopener noreferrer">ref</a>]</p>
<p>While <strong>decreased SCD1</strong> gives the benefit of decreasing weight gain, it also <strong>increases oxidative stress in the mitochondria and stress in the endoplasmic reticulum</strong>. Specifically, it seems that the decrease in oleic acid drives the ER stress, while low palmitoleic acid does not seem to matter.[<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5701860/" target="_blank" rel="noopener noreferrer">ref</a>]</p>

<p><em>Let‚Äôs dig into some more details here‚Ä¶</em></p>
<h4><span id="Liberating_fat_from_your_adipose_tissue"></span>Liberating fat from your adipose tissue:<span></span></h4>
<p>Lipolysis is the release of fatty acids from adipose tissue for use in the body as energy or in other ways.</p>
<p>Most cells in the body get replaced at the end of their lifecycle. This happens quickly for some cell types, like intestinal cells that turn over in a matter of days, and more slowly for other types, like heart cells which turnover very slowly, if at all.</p>
<p>Adipose cells are around for about 9 years, on average. Interestingly, the fat stored in adipose tissue has an average age of 1.4 years. This means that once the fat is stored, it doesn‚Äôt get used up and replaced very fast. As people who are obese get older, the usage of fat from fat cells for fuel tends to slow down and accumulation speeds up a bit.[<a href="https://pubmed.ncbi.nlm.nih.gov/21947005/" target="_blank" rel="noopener noreferrer">ref</a>]</p>
<p>The SCD1 enzyme is key in the fatty acid composition in your adipose tissue. Animal studies show that knocking out the SCD1 gene alters the fatty acid make up of adipocytes.[<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5625094/" target="_blank" rel="noopener noreferrer">ref</a>]</p>
<h4><span id="Brown_fat,_beige_fat,_and_white_fat"></span>Brown fat, beige fat, and white fat:<span></span></h4>
<p>Brown fat, found in small amounts in adults, is an active type of fat cell that burns through a lot of fuel and produces a lot of heat. Lean people usually have more brown adipose tissue, and people who are obese usually have little to no brown fat. Brown fat is brown due to the high number of mitochondria in each cell, and it helps to both produce heat and burn off excess energy.[<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7034754/" target="_blank" rel="noopener noreferrer">ref</a>]</p>
<p>White fat (white adipose tissue) is what you typically think of for fat cells. It is a storage cell, keeping fat on board for a time of famine. Not as many mitochondria, not producing the heat or energy that the brown fat does.</p>
<p>Recently, researchers discovered that white adipose tissue can be induced to become more like brown adipose tissue. This in-between fat cell type is termed beige or brite adipose tissue. Exposure to cold is one way that white adipose tissue can be induced to become the heat-producing, metabolically active beige fat.[<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7034754/" target="_blank" rel="noopener noreferrer">ref</a>]</p>
<p>A 2020 research paper published in <em>PNAS</em> shows that when adipose cells are formed from stem cells, they can take two paths: white or beige. SCD1 is key to which path the stems cells take. The animal study showed that decreased SCD1 caused the stem cells to differentiate into beige adipose tissue, rather than white. The decreased SCD1 only affected the formation of new adipose cells ‚Äì it didn‚Äôt convert existing white adipose tissue to beige.[<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7007576/" target="_blank" rel="noopener noreferrer">ref</a>]</p>
<p>Succinate is an intermediary formed when the mitochondria produce ATP in the electron transport chain. The researchers also found that the rising succinate levels due to the lack of SCD1 were the trigger for beige adipose differentiation. In cell culture, succinate alone is capable of causing adipose stem cells to differentiate as beige cells instead of white. The increase in succinate accompanies an increase in reactive oxygen species (ROS) in the cell.</p>
<p>To bring this full ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.geneticlifehacks.com/scd1-a-lynchpin-of-metabolism/">https://www.geneticlifehacks.com/scd1-a-lynchpin-of-metabolism/</a></em></p>]]>
            </description>
            <link>https://www.geneticlifehacks.com/scd1-a-lynchpin-of-metabolism/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25495335</guid>
            <pubDate>Mon, 21 Dec 2020 14:44:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The anatomy of the modern window manager (2019) [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25495304">thread link</a>) | @a-nikolaev
<br/>
December 21, 2020 | https://www.cs.ru.nl/bachelors-theses/2019/Max_van_Deurzen___4581903___The_anatomy_of_the_modern_window_manager_-_a_case_study_for_X_in_an_Agile_manner.pdf | <a href="https://web.archive.org/web/*/https://www.cs.ru.nl/bachelors-theses/2019/Max_van_Deurzen___4581903___The_anatomy_of_the_modern_window_manager_-_a_case_study_for_X_in_an_Agile_manner.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>√ï√òc/√®√±/g‚Äö√°
endstream
endobj
462 0 obj
&lt;&lt; /Filter /FlateDecode /Length 709 &gt;&gt;        
stream
x√ö‚Ä¢‚Äù√ân√õ0‚Ä†√Ø~
¬•∆í√Æ{j‚Äì¬¶h≈†m√£‚Äö‚Ä∞¬±‚Ä¶√ö‚Äù"√äNÔøΩ¬ß√ØH‚Äù√¨8¬±√õ‚Ä†=\f√æ‚Ñ¢ÔøΩ≈°&nbsp;"√®√£‚Äû¬±g√ì√â√â%√•QÔøΩ‚Ä¢B&nbsp;√©√Ω‚Äû√ÇA1¬¶¬∞√ñi¬£¬∞bh¬∫D7√ëY3√•s¬ª¬®≈°8√°ZG√≠√ú√∫√í√á¬∑√ì¬´] Àúq‚Ä∞tJ√Ä¬™y^-√´U[¬∫Y¬ª√éK√´r√õ√á}Àú√ÆB¬•√ÑZ¬•HqÔøΩ‚Ä∞(_N&amp; ¬¢Y√Ø¬∞√µ\rLD?≈í≈í√´'≈∏‚Äì]T‚Äúo√∞u‚ÄúQ8y¬¶¬º¬£Àú‚Äπ√±9&lt;√ájW‚ÄùaF‚Ä†√ØYqW¬≠≈†@√∞√É‚Ä¢k√õ√∏¬≤√ù≈í√õh	'f8‚Äô)√áJu¬©nna¬Ω‚Ç¨√Ø"Àú‚Ä∫=√∂≈æK$R≈†S√É¬∫‚Ä†z‚Ä°‚Äô√¥√Å¬°Ta!¬®L‚Ä¢5M√ß√™Q*√ä\√ñV√ãM7√ëQul;√Æ.+¬∞4*l√£√Ç√Çc√©≈†*f&amp;z ~f‚Ä∫≈æe(ÔøΩb#%√ï¬ØJ&nbsp;P‚Äö√†Àú¬ß2‚Äùp√≤√å√õÔøΩ√ï¬∑¬´b√ã8¬°√ëÔøΩ¬≤¬∞k√®‚Ä∫:√¥¬∏e√Å¬∏
‚Äì∆íG[√ï√â√ÇS5¬∂√ébN√Ä¬∫¬°s√ÄgQ√∫6¬π∆í\√Ö^√ìQ%¬±4H2∆í√ì¬±√ß√ör¬±
;√Ü√õO√Æ√ªÔøΩ~"¬£≈∏!y√©‚Ä†*‚Ä°√™Og√•¬¢∆í¬±√õx7√ó√Å¬´¬ß√ç√ø√ß√Æ?NA^‚ÄûNA≈æ"!¬°√®√∂Àú≈ΩV√≠¬º√™l√≥n{‚Ä¢√¶¬Ø
\√≠≈°√©K√∂√®Àú≈†√ñ=5.√¨¬™y¬≤n√Ø¬®√áHOc√∏_√∞B¬¶√î√û√ª¬Ω9N√ÅÔøΩ√Ä‚Äô‚Ä∞}≈í√ã¬≤√±m√à√ÆWu≈ì≈ím√ñ}#√π‚Ç¨v‚Äôyo¬Ωgh√ü-'‚Äö√ã√®|√£√öy‚Ñ¢‚Ä¶t≈∏c√∏¬©√™QP¬∞#‚ÄöP¬¨N√∑√∏s√º¬´¬™√ü√ß7+√¨[ÔøΩ√É√î‚ÄöAo(√Ñ5√Ö‚Äö√ë pm√≥√ä¬Ø¬©;H√µHÔøΩi*‚Äî-^@~√≠√ä¬∂}¬∑∆í√öi'‚Ñ¢√è[wO√≥¬∞¬∞¬®ÔøΩ‚Äô√É∆í‚ÄîlxW5√é¬∫p√∑
√∏Hu,`√éÔøΩ2Àú04¬°√¶`¬∑√Äk√∫)ÔøΩY
endstream
endobj
460 0 obj
&lt;&lt; /Type /XObject /Subtype /Image /Width 1471 /Height 1750 /BitsPerComponent 8 /ColorSpace /DeviceRGB /SMask 470 0 R /Filter /FlateDecode /Length 605281 &gt;&gt;     
stream
x√ö√¨√ùTT√ó√ö√øq¬Ω√óa@z√Ø 
‚Äö"`√Ø¬ΩwÔøΩ¬Ω√∑√û{ÔøΩ1‚Äì√òE¬±‚Äî√ò[,¬±T¬∞b√ÅE‚Äò¬™√∑¬ø‚Ä°c¬∏√æs√ü√∏√¶5≈°;√ä√∑¬≥≈æ5w¬¢0sf≈∏3¬Æ√µ√º√Æ&gt;{√ø√´_√Ä¬∑√©]ÔøΩ¬∑√≤‚ÄîW¬¥‚Ä∞ÔøΩD≈íWE\NNNFF√Ü√≥√ß√è¬§¬§√ú¬ºy3)))√±j√¢√ï+W.)%\J¬∏≈ìp√π‚Ä∫w√•√≤e√±a/≈ì?/J&lt;¬øu√´√ñ∆í√ÑÀú¬ºy√≥√¶√≠√õ¬∑√í@¬§P4edd<y√≤√§√¶√çg√è≈ì√ô¬∑w√Ø≈Ω√≠√õ¬∑n√ô¬∫y√ì¬¶√µq√´√ñ√Ö√Ö¬≠_¬∑nc|√º√Ü√∏ √ü|√Ö¬≠ÔøΩ[¬µb√•¬™+6m√òx`√ø√æ¬≥g√é√û¬ºy√´√Ö‚Äπ√π√π√π√í@≈æÔøΩÔøΩÔøΩÔøΩÔøΩp4¬Ωh}q√ª√ñ¬≠√ì¬ßnn√õ¬≤e√°?√å≈ì6m√ä¬§√â√áÔøΩ9|√ÑÀÜ¬°√ÉfÔøΩ1f√î√®¬±¬£√á|√≥5|√®√ê}√ª‚Ä∞?f√¨√¢e?n√õ¬∫√≠√¥¬©√ì<√à√ç√ç¬£√¥¬Æ√†√∂&¬ÆÔøΩÔøΩÔøΩÔøΩÔøΩ≈†¬†√áÔøΩ_8~√ß≈Ω√≠√≥√¶√å√©√ì¬´w¬ª6¬≠[6k√û¬§a¬£≈°√ï¬™w¬Ør¬µv√µ√µj√ó¬©_¬ß√Æ7_√ïb¬´d‚Ä†uÀÜ="" ox¬Ø√æ‚Ç¨~√Ω√¶√èÔøΩ¬∑s√á√é7ndgg√ø¬´="" <)¬ºÔøΩÔøΩÔøΩÔøΩÔøΩ)√∑√Æ√ù;~√¨√ò√™‚Ä¢+‚Ä°="" r¬Øv√≠√à¬∞√∞√ê¬†√†@_?'';{w'g="" 7wow√èo¬Ω<l√≠d&f2s?="" √Ø√Ü="" ="" :l√µ√ä√ï="" yyy√ø"<ÔøΩÔøΩÔøΩÔøΩ¬†¬ª{√ß√Æ‚Äò√Ég‚Äì-]√ö¬øo√ü¬™11√ÅÔøΩ="">≈æ^nN.Vr¬π‚Ñ¢¬π¬µ√ú√í√û¬¶¬¥Ci√õo¬æ,L√çt4¬¥t√î5ÔøΩ√≠jU¬Ø&gt;¬∞_√øeK‚Äî]¬ºp√°√ç‚Ä∫7√ø"&lt;&nbsp;¬ª{√∑√Æ/G≈Ω,√ø√©¬ß√Ω√∫UÔøΩ¬≠R¬∂LÔøΩ≈∏‚Äî¬∑‚Ä°‚Äπ¬´ÔøΩ¬•B!¬≥(¬≠¬∞r¬¥¬µs¬≤¬≥√ø¬∂K|FKs‚Ñ¢≈æ‚Äì¬∂≈æ¬¶¬∂¬´¬£SÔøΩ5√∂¬∞√º¬ße/^|≈æ¬º#&lt;&nbsp;ÀÜ¬∫{√ß√Æ/G~Y√æ√ì¬≤}	O&gt;O√∫+√É‚Äú√Ç‚Ñ¢'‚Äû'Uw‚Äô√Ø:xx√©√¢%}z√∂≈†≈Ω¬¨√§√ß√≠√£√Æ√¨√¢¬®\√Ñ√î√î√Ä√ê√Ç√î√åZnic¬©√∏¬∂K|F}¬µ√¢%√î≈†‚Ä¢¬∞¬≥¬∂¬©√õ¬∑wo1&amp;√é≈∏'&lt;&nbsp;ÀÜ+O-Y¬¥¬∏wÔøΩ≈æ‚Ä¢#+√∫zy¬ª99;‚Äù¬∂5726√ñ7ÔøΩ‚Ä∫XY√à¬≠√•‚Äì√üvY√â,≈í√¥√¥K+.√ä√ñ√ä¬∫jtL≈∏^¬Ω√ÑÀú≈æ‚Ç¨¬ª√âw:√º√ì√¢¬•}{√µ≈Ω¬©√†√´√ß√©√™√¶l√Ø`ajffd,73/m¬©¬∞UX}√õec¬©054√í(YJ¬£D)‚Ä°√í¬∂√ïc¬´√¥√´√ì√ß'f≈æ‚Ç¨√Ø¬∂√≥S√ø&gt;}¬´F√á√∫xx¬∫99¬©√ùv√Ñg,√òmG√≥√Ωn;√ï¬™√®√óO≈í	k≈æ√Ç√Ç√∞‚Äû'‚Äû'√†#OO√ÄG≈æ≈æ‚Ç¨ÔøΩ <!--<ÔøΩÔøΩÔøΩÔøΩÔøΩAxBxÔøΩÔøΩÔøΩÔøΩÔøΩ-->‚Äö√∞‚Äû√∞|√°	√°	√∏√Ç√Ç√∞‚Äû'‚Äû'√†#OO√ÄG≈æ≈æ‚Ç¨ÔøΩ <!--<ÔøΩÔøΩÔøΩÔøΩÔøΩAxBxÔøΩÔøΩÔøΩÔøΩÔøΩ-->‚Äö√∞‚Äû√∞|√°	√°	√∏√Ç√Ç√∞_4<q¬¥¬µ‚Äú¬¢ ;k[+√´√í="" +k‚Ä¶xm¬©√Ñ[√º_k√º‚Äìx√±:√¢√ï√Ñk≈†w√æ,√ô√°="" ÔøΩÔøΩÔøΩÔøΩÔøΩ√∏3_.<q¬≤¬≥√•hkggmcc¬©¬∞4‚Äî‚Ñ¢‚Ä∫√´√®√®h√´√®‚Äπ√í√í√ñ+(√±d_√∫‚Äú√ø¬±√Ñ√èhj√©jh‚Ä∞g√±¬ª√Ü√∫ff√Ü√í¬±f(rp#e5‚Äû'ÔøΩÔøΩÔøΩÔøΩÔøΩ√†3√∫¬¢√°‚Ä∞¬≥¬Ω∆íx¬¥¬µ¬≤¬Ø&315√ñ7√ê√ï√î√í*¬•¬¶y¬≤‚Äù(ÔøΩ%√ï‚Äπ‚Äît="" qrcy¬•√æ¬¨√Ñ¬®="" q¬™xq√±¬®uj]os√ãpw√è√å√àx!¬≥(¬≠¬∞"<ÔøΩÔøΩÔøΩÔøΩÔøΩ_√î‚Äîo¬§4c‚Äùx[+kk‚Ä¶√¥≈°&f2s¬©√åÔøΩmd√æ√ß√ø\√Ü?f¬§√ºis3√±="" ‚Ñ¢√Ö‚Ä°√ìnoÔøΩÔøΩÔøΩÔøΩÔøΩ√Ä‚Äî√≥√•√ÇiÔøΩ√±√®l√Ø√†√°√¢√™√´√©√§p="">$4¬¢|XdXxdxx√Ö
‚Ä¢""*UÀÜO*‚Ä†W√∏√ì¬™Y¬πb%√±(~¬∑|√ôÔøΩ√†√Ä2√æ√û&gt;≈æ¬Æn.≈ΩNv‚Ä¶+¬´|√≤¬°≈æ‚Ç¨?√≥‚Ä¶√Ç√±[6‚Äì
‚Ä¶√åB&lt;¬∫;¬ª√πT¬¨P¬°vÔøΩ¬≠[¬¥√¨√í¬±S√ó√é]¬∫u√©√í¬≥[¬∑√û=z√∂√Æ√ëC&lt;√©√ë¬µ√´≈∏U√èn√ù√ª√µ√Æ=¬∞_√±√ò¬πC√á‚Äì√ç≈°√ó¬ØS76¬™r√ô√Ä2^√Æ√¢PÔøΩ√≠¬§√â-¬¢&gt;√πh	O√Ä√ø√®‚Ä¶'v√ñ6√í
¬±
‚Ñ¢‚Ä¶‚Äî¬ªGdx‚Ä¶√∫u√™v√≠√úy√úÀú1sf√ç√∫~√û¬º√≥√¶/Z¬∏√∞¬ß%K‚Äì.^"≈æ√º¬∏√†‚Ä°?¬´√Ö?√æ¬∏r√π√≤uk√ñ≈†√á√ô3g≈Ω9¬™w√è≈æ-≈°6‚Äπ≈†ÀÜ√∞√µ√≥tuwut‚Äô¬≤Q√¢}	O√Äg√¥‚Ä¶√Ç[+k‚Ñ¢‚Ä∞¬©‚Äò≈æ¬æ‚Ä¶¬©‚Ñ¢¬øÔøΩoÔøΩ¬™√ï:w√®8q√º√∏√∏u√´8p√¨√®√ë√£GÔøΩÔøΩ9}√∫√¢‚Ä¶√é≈∏ONÔøΩ&lt;√πgu√∂√å‚Ñ¢¬´‚Äî¬Ø√ú¬∫qC&lt;√ò¬ø√≠√™5¬≥g√åG[¬ßF√ç√ê&nbsp;`_OoW;k‚Ä¶√åB¬≥x_√Ç√∞}¬π√∞√Ñ√Ñ√ÄPWS√ã√å√àX¬ºf√£‚Ä†ÔøΩ‚Ä†¬ºr√π√≤K/&gt;{√∂,=-√≠UzznN≈ΩJÀÜ'√ôYYVy¬π¬π‚Ä¶G√ª√§√±√£¬≥g√él√û¬∏q√ö√§)-‚Ä∫6‚Äπ√¥√µ√∑rs¬∑¬≥¬∂Gki.#&lt;≈∏√ó
OJ+¬¨≈í√µ
¬¥√ï4L√ã‚Äìi√ë¬¥√ôÀúQ¬£6n√òp√ßN√≤‚Ä°a√à√øUvv√∂ÔøΩk√ó√∑√Æ√ô3o√∂≈ìv¬≠ZW¬¨Q√Ü/√Ä√õ√ù√É√é√öF√öÀÜG¬º/√°	√∏≈í¬ælx¬¢¬ÆajhX¬¶y‚Äú¬¶¬£G≈Ω≈í_¬ø√æ√ñ¬≠‚Ä∫√ôYY√Ø√û¬Ω√ª¬¥¬£√ç√å√åLJL√ú¬Ωk√ó≈ìY¬≥√õ¬∂l√µ‚Ä°√∞√Ñ√í\Fx&gt;¬Ø/≈æÀú√™¬®k*√É‚Äú‚Ç¨√Ä¬¶ÔøΩÔøΩ6l√≠≈°5‚Ä∞‚Ä∞W√ì√ì√í¬≤¬≤¬≤¬≤¬≥¬≥?&lt;≈íw√Æ√ÉKMM¬Ωt√±√í≈Ωm√õfN≈∏√ë¬∫y√ã√à√∞
e√º√º	O√Ä‚Äî√≥ÔøΩ‚Ä¶'#‚Ä°ÔøΩ[¬ª√∂√∫√µk¬Ø32rss√≥√≤√≤&gt;√°h√ì√ì√ì¬Ø\¬æ¬ºs√ª≈ΩY3f¬∂i√ë≈†√∞|i_6<q{≈æ4k√úd√îÀÜ√´√ó¬≠¬ªy√≥√Ü‚Ä∫√å√å√º√º√ºo√ã"222¬Æ^¬Ω¬≤k√ß√è¬≥g√éj√ìb¬∫m‚Ä°√∞ÔøΩÔøΩÔøΩÔøΩÔøΩ|a√ø√å√å‚ÄúfÔøΩ‚Ä∫≈í>|]\√úÔøΩ√ó3_¬ø√é√ã√ã√ã√è√è√ø‚Äû¬£}√µ√™√ï‚Ä¢+‚Äî√û¬±S
OÀúy¬æ¬¥r√ç‚Äú¬∏¬µk¬Ø]K√äx√µ*'''√∑‚Äú√∂√úIKK¬ª≈ìÔøΩ¬∞s√ª√ñ&lt;√ø≈íx√Å√ò¬§¬§√ÑW√©√©√ô√ô√ô999≈∏p¬¥/_¬æL¬∏ti√á¬∂√≠‚Äû'√†≈∏AxBx&gt;‚Äö√∞‚Äû√∞|√°	√°	√∏√Ç√Ç√∞‚Äû'‚Äû'√†#OO√ÄG≈æ≈æ‚Ç¨ÔøΩ <!--<ÔøΩÔøΩÔøΩÔøΩÔøΩq√ø√û√Ω_≈Ω√º¬≤√º¬ße√∫√∂#<)O√∂√Ø/√Ü√§√í√Ö‚Äπ√¢P¬πHÔøΩÔøΩÔøΩÔøΩÔøΩ(√ä-->xx√¢√∏‚Ä∞U+V√¨√ó¬øZLlp`‚Ñ¢"≈æh¬´kh¬´i8√õ;√î¬Æ^c√ê‚Ç¨bL¬Æ^¬π‚Äô≈∏≈∏√èE@Q√∂√§√±‚Äú_O√º¬∫z√•¬™A√ΩT'&lt;)O√™√î¬®9x√†@1&amp;I‚Ä∞‚Ä∞√Ø√û¬Ω√£"&nbsp;({ÔøΩ√≤√†√ò√ëc+‚Äì-‚Äîf≈æp√õN√°√å1&amp;‚Äîrss¬πH√∏≈í√û¬Ω{‚Äî≈∏≈∏≈∏‚Äî‚Äî'≈°√ÆA¬®ql√πrsro√û¬∏y`√øÔøΩ%‚Äπ√∑√≠√ï¬ªJ√•√® √ø‚Ç¨"≈æ√®jj√©jh9√õ;√î¬¨Z¬≠_≈∏&gt;bL√é≈æ9‚Äú≈æ‚Äì¬¶&lt;ÔøΩ√ô√ôYYY¬π‚Äô≈ì√úU¬•&lt;¬≥yyo√ü¬æe√Ç@E‚Äú‚Äú)√∑d√â√ãS‚Ä†√äv√ªM√ñ‚Ä∫Y*F¬¥√òRs-√≤√∫¬µ√´√ª√∂√Æ[¬¥√∞√á&gt;={√ÖV≈Ω.√≥AxbYT√É‚ÄúU¬´√∂√≠√ù{√±ÔøΩ?≈æ&gt;u*555+;[≈ì√Ñ√å√åL)&nbsp;ÔøΩ‚Äö‚Äù√ø¬æ7U√∏_‚Äî‚Ñ¢8:)#&lt;¬®lx‚Äô‚Äî‚Äî‚Äî‚ÄúÔøΩ#:√ô≈í≈í√ó√©i¬Ø√í^¬¶¬ß¬•¬•¬•+¬ΩRÔøΩ‚Ä°‚Äî≈∏¬Ø≈ì≈ìÔøΩ‚Äò‚Äòq√•√≤‚Ä¢]?√Ø√∫√°√ª¬Ω¬∫√∑ÀÜ‚Ä∞¬™,e¬Æ≈ΩN√ñr√ã¬¢≈æÀÜ‚Äô‚Ä∫‚Ñ¢+√ÉMexR¬ΩJ‚Ä¢√û={.\¬∞√†√Ñ√±√£O≈∏&gt;}‚Ä¢‚Äò!N¬°8ÔøΩ¬Ø_g≈†∆í¬¶2¬ß¬≤√∞¬∫R√û¬´W√©¬Ø_¬ø‚Äì√Ç16V¬®¬¶¬∑√Ø√û¬æy√≥√¶e√™√ã'ÔøΩ≈∏√ú¬Ω{√Ø√Ü√µI‚Ä∞III√ó√Ñ‚Äú‚Ä∫7n¬™N√ù¬ª{√Ø√©‚Äú¬ß¬ø=√ª√≠√∂¬≠√õG‚Ä∞[¬≥v√™√§)ÔøΩ;t¬¨√†√£√´√•√¶.‚Ä¶'
sY√ë	O√Ñ√Ø√™k√´ÀÜr¬≤¬≥ÔøΩ¬≠\¬πK¬ßN√ì¬¶L√ô¬±}√ª‚Ä¢+‚Äîo√ù¬∫uC¬∏~√£N√≤Qb√êT√°$√û¬∏!≈Ω√™¬¶√§√∫√µ√ó¬Æ%‚Ä∞?¬∫√Ø√û¬≥¬ßO√Ö√ö√∞√∞‚Äû'√è≈∏?ÔøΩ√≠√©S¬ß√∑√¨√û¬≥~√≠¬∫‚Ä¢√ãV¬¨Z¬πj}√ú¬∫ÔøΩ√±T¬ß¬∂m√ù¬∂w√è√û√Ω√ª√∂o√ö¬∏i√°‚Äö&amp;≈í√ü¬ªG√è‚Ä†√µ√™‚Äî+√¢√£√°√©√°√¢√™l√ØPZaem!ÔøΩE$&lt;¬±¬≤ÔøΩ‚ÄπC√•dg^¬Æ\¬£
√∫√¥√¨9k√Üq√å7n√ú¬øa}√º‚Äì√ç[D‚Ä∞AS‚Ä¶‚Äú¬ø^‚Äù√∏≈∏
¬¢√¢√ñ√Ü¬≠^¬µ*~√ù¬∫√Ω{√∑≈æ?w√Æ√ÆÔøΩ;√©√©√©|*(√øm~JJ√ä√â_On√û¬∏√©√ªy√≥G√û¬∑W≈∏√Ω√∫ÔøΩ6|√¨¬®1¬™S√áOÀú1m√∫√å√©3√ÜÔøΩ√õ¬øo¬ø√é:6i√ò(¬¶RT&nbsp;¬Ø≈∏‚Ä°‚Äπ¬´¬´¬£‚Äú‚ÄúÔøΩ¬Ω¬≠‚Ä¢uiK‚Ä¶x,"√°‚Ä∞ÔøΩ¬•B¬º‚Äö(G[¬ª&nbsp;‚Ç¨‚Ç¨Àú√ä‚Ä¢‚Ä∫6j√î¬≥{√∑‚Äò√É‚Ä°ÔøΩ3f√å√®√ëcFÔøΩ≈æ0n¬º(1h¬™pGÔøΩ=z√§(qT¬¢‚Ä†
:¬®√ø‚Ç¨‚Äò√ÉG,\¬∞`√ß√∂√≠√è_x√∂√¨√üG‚Ç¨√™(\≈ì3??√ø√¶√ç‚Ä∫¬ªw√≠√æ√°√ª¬¢‚Ñ¢m√í&nbsp;a¬µÀú√òZ√ï¬™7i√ò¬®U√≥¬™Sm[¬µ√Æ√ò¬Æ}¬ß√∂Z¬∑h√ô¬∞~∆í≈°√ï¬™W¬ÆX)$(√ò¬´`¬µg{G[;;k[+k√±√∏iY√ÑW≈æÀÜke!%&gt;¬ªÔøΩ‚Ä°ghp¬∞‚Äú¬∫¬µk¬∑h√ö¬¥U‚Äπ‚Äì-√Ü¬≠M√ãV¬¢√Ñ&nbsp;¬©√ÇIl√ë¬¥y‚Äπ¬¶√çZ6k!¬™a¬Ωuj√î∆í<t√ê√†≈∏‚Äì,√π√•√∞‚Äò√∞√ÖÔøΩÔøΩÔøΩÔøΩ¬®`x‚Äô‚Äî‚Äîw√•√ä‚Ä¢uq√´√Ü≈Ω√ù¬ºq‚Äú2¬æ√æ¬¢wsr√≤ uÔøΩ="" -q="">LTXh¬πÔøΩ&nbsp;`qx√æ√û&gt;^n√Æ.sN√Ñ1‚Äπ¬≤¬∑)-U	O√Ñ'¬µ¬µ¬≤%≈æ¬ª::‚Ä∞√ëcX¬¶|√ô1J‚Ä¶√£&amp;¬™√∞?√ø¬ªU.8¬§\pYqx¬¢√º¬Ω}=\√ú‚Äö√Ω[5k&gt;u√í√§ÔøΩ√õw$''√≥√Ö¬®fxr√∂√¨√ô.√¨√ñ√•;√ëej√´+V¬¨D¬±bFz√∫r3s‚Ä¢*√©√±Da.¬≥¬≤ÔøΩ[√ã-K+¬¨√¨¬¨m√æN`√≤U‚Ä°'¬¢¬§√îH&lt;¬Ø¬¶\√≤En¬©ÔøΩY¬®√ö‚Ä∞+,‚Ñ¢‚Ä∞¬©(√©&lt;√™ih‚Ä¢*V√úX√ó 2,¬º≈∏¬ækW¬Ø¬πv√≠_L‚Ç¨j‚Ä†'¬ßNÔøΩ≈°7wN¬ª√ñm√º¬Ω}≈†{¬ØD¬±b:≈°¬™S√ö√™Zj√™Z¬•√î√Ñsmc}s#c)y(√åO¬§$A
≈†Bx"&gt;¬©¬≥¬Ω∆í(i√Ω√±RfF√Ü‚Ä†¬∫z¬∫≈°Z√ø:u
e¬©√ÜIT≈æA5uq*EI‚ÄîY√âb√Ö√Ñht√Ø√íu√Ö¬≤√•‚Ä∞‚Ä∞‚Ä∞|1¬™≈æ≈ì&gt;}√∫√ª√π√≥;¬µk¬®Q¬¢¬§√î√ïj‚ÄìR3√í√ìWÔøΩ2√î√ï3√î√ë5√ê√ë√èM
√çÔøΩM√§f√¶Vri‚Äòi√¶IO≈ì√¨√¨EI/FC≈í‚Ä∞‚Ñ¢‚Äò¬±¬±≈æ√Å¬ø‚Ä°NWOY¬™q
√é&nbsp;√≤T√™√™‚Ä¢*¬¶√™¬¥J¬©‚Ä°√∑√™√ûc√ï≈†‚Ä¢III|1¬™≈æ≈ì;wn√±¬¢{t√≠nj`(zZÔøΩ%En-¬∑T√ç¬≤¬±T‚ÄùVX}‚Ä∫|‚Äì√∫¬™o√õ√£ ¬≠‚Äî[√öRa¬£¬™'N!¬≥%-rk¬§¬´¬ØUJ√ù√ú√à$*"rP√ø√´√ñ√Ü]¬ø~ÔøΩ/&amp;@5√É‚Äú√≥√ß√è/]¬≤¬§O√è^√ë+Y≈°‚Ñ¢k‚Äù(¬©¬ß¬©%≈°√ú√èJ|-√µ5‚Ä†'_W‚Ä∞ÔøΩ\xÔøΩ‚Ä¢√å√ò√î@[√óJ&amp;¬ØR9z√®&nbsp;√Å√±√´√ñ√ü¬∏q∆í/&amp;‚Ç¨√∞‚Äû√∞‚Äû√∞‚Äû√∞@xBxBxBx <!--<!<!<ÔøΩÔøΩÔøΩÔøΩ≈æ≈æ≈æ≈æÔøΩÔøΩÔøΩÔøΩÔøΩOOOOÔøΩÔøΩÔøΩÔøΩÔøΩ <!<!<ÔøΩÔøΩÔøΩÔøΩ‚Ç¨√∞‚Äû√∞‚Äû√∞ÔøΩÔøΩÔøΩÔøΩÔøΩ√Ç√Ç√ÇÔøΩÔøΩÔøΩÔøΩÔøΩOOOÔøΩÔøΩÔøΩÔøΩÔøΩ <!<!<!<ÔøΩÔøΩÔøΩÔøΩ≈æ≈æ≈æ≈æÔøΩÔøΩÔøΩÔøΩÔøΩOOOOÔøΩÔøΩÔøΩÔøΩÔøΩ‚Äû'‚Äû'‚Äû'‚Äû'ÔøΩÔøΩÔøΩÔøΩÔøΩ√Ç√Ç√Ç√ÇÔøΩÔøΩÔøΩÔøΩÔøΩOOOÔøΩÔøΩÔøΩÔøΩÔøΩ <!<!<ÔøΩÔøΩÔøΩÔøΩ√†+
O¬§¬ÆYe√ã√ÜRa¬¨o¬†¬≠¬¶ab`√§√ê¬§a¬£C‚Ä°~√û√∞¬§U¬≥a√°ÔøΩ¬æ~^n√Æ¬∂V√ñ2S¬π‚Ñ¢¬πx_√ÇÔøΩÔøΩÔøΩÔøΩÔøΩ√°√â
O√¨K‚Äî-¬≥¬≠‚Ä¢ui‚Ä¶‚Ä¢ÔøΩ\ae!¬∑‚ÄôY(K<Q¬•¬≤05√ì√ï√î*Y¬¨Àú≈æ‚Äì¬∂≈∏‚Äîw∆í¬∫√µ‚Ä†¬¥j√•√ä√Ñ√Ñ¬´'<I}‚Ñ¢z√©√¢√Öm[¬∂N‚Ä∫2¬µY¬£&√•√ä‚Ä†√∏xx¬∫:8Z≈°√ã≈í√¥√¥M√Ö√ª¬™√öPÀÜ¬≥¬Ø(8A√ñrKq√ñ√Ñ¬π‚Äú"G[;√ÇÔøΩÔøΩÔøΩÔøΩÔøΩ√°√â√ßOlJ‚Äπ√Æ[¬¥√°√¢5√•f√¶2S3#cQ√¶√Ü&2U*c}√µ√¢%‚Äπ+¬¶Q¬¢‚Äù¬ß‚Äπ[ÔøΩ¬µ√∂√´¬∑b√π√≤¬´W¬Ø¬§¬ß¬•}zx‚Äô≈°z√°√º√π-‚Ä∫6O≈æ8¬©Q¬ΩAÔøΩ√ÆN√ébLL
ÔøΩt44√µ¬¥¬¥√Ö√ª¬™√î8ÀÜ√≥Rx‚Äö√Ñ√πg√ç√ÜRagm√£hk'√°	ÔøΩÔøΩÔøΩÔøΩ‚Ç¨√∞√§K‚Äû'¬¢WNi0‚Äî√âM‚Ä¢√π‚Ä∞(3S*SC#√ç‚Äô¬•≈†+¬¶UJ√ç√ã√ç¬Ωn¬≠√ö∆íX¬πb√Ö√üO.^¬∏¬∞e√ì√¶)‚Äú&7¬Æ√ü¬∞l‚Ñ¢ WG[;sc=Mm]√±¬æ*5¬¢√û≈∏¬†‚Äö%Y¬¨-‚Äù‚ÄúO√¨¬¨m¬§‚Ñ¢'‚Äû'ÔøΩÔøΩÔøΩÔøΩÔøΩ√Ç‚Äú/¬±√¶‚Ä∞√®¬∏ÔøΩ√¨√¨ÔøΩ√≠\]ÔøΩ\ÔøΩ
√äQ¬µJ¬§‚Ä¶¬©‚Ñ¢¬°¬Æ≈æ√ú√å¬º\√ô¬≤-‚Ä∫5=r√§¬∫¬∏¬∏k√ó‚Äô√æ√¶≈°'‚Äî~√û¬±s√∂√åY√≠Z¬∑¬≠\¬±RHPp‚Ç¨ÔøΩ¬Ø
√©¬¶√±¬æ¬™6¬ÆN√énN√é√¢‚Ä∞8_√¢8√Ö¬π{≈∏‚Ñ¢√ò¬∞√¶	ÔøΩÔøΩÔøΩÔøΩ‚Ç¨√∞√§3‚Äû'XeT√¥√ù¬¢√∑pq√µ√∂√∞√∞√≥√∂	√¥√≥/[¬¶≈í¬®√†‚Ç¨√Ä2√æ√æ¬™S√æ√û-->√é¬•V.≈Ω≈Ω1Q‚Ä¢;w√®8i√¢√ÑM7≈†¬¶&gt;√£√ï¬´≈ì≈∏0√î√©i√©‚Ä∞W¬Ø√Æ√ù¬Ω√ß‚Ä°√Øt√Ø√í¬µN√çZb≈ì+‚Äù+√†√´√´√°√™√™√•√¶.√ûW¬•√Ü!( 0¬§LPHPpP@‚Ç¨86owwgg{qN¬•√®∆í√∞@x√≤¬π√Ç√©.';{√ë}√ªyz√π‚Äù.%**222&lt;\u*&lt;¬¥\‚Ç¨ÔøΩ¬Ø¬ß¬´[&nbsp;≈∏_√ùZ¬µz√µ√®9s√Ü≈í√≠√õ¬∂√ù¬∫u√´uFFNNNnn√Æ'√µ¬´√¥W√ó‚Äô¬Æ<p`√©√¢%√Ω√ª√¥k√ñ¬∏i√≠5¬´√Ü√Ñv(_¬æl¬†2¬¶√Ø¬´r√£p)"26¬™r‚Ä¢√®√®j√•√ä‚Ä†(7v√∂√∞tqp‚Äùn¬ø‚Äô√Æ√ü√π¬¥‚Ä¶√∞ÔøΩÔøΩÔøΩÔøΩ@x√≤aÔøΩ\¬∏¬æ¬®‚Äπ¬Ω¬£ÔøΩ‚Ä°ghp¬∞h√Ü¬´u¬©r¬øn√ù‚Äì√ç≈°¬∑l√û¬ºi√£√Ü √´√ïsÔøΩ¬™w¬ªn‚Ä¢√®Àú¬®ÀÜÀÜ¬™¬±¬±√ö¬µ5r√§¬¢e‚Äπ√∂√≠√õw√∑√Æ√ù√å√å√å√ú≈∏0√î¬Ø2n√ù¬ºu√º√ò¬±uk√£√ÜÔøΩ√õ√Ω¬ªn√≠[¬∑#p¬øn√ù≈°√ï¬™√ï¬¨^]¬º¬ØjÔøΩc‚ÄúfÔøΩz5o√û¬¶e√ã&="" √ñ¬®r¬µbx¬∏r‚Äò[gqnm√§="" [+√´wÔøΩ&<ÔøΩÔøΩÔøΩÔøΩ≈æ|√ö√≤¬∞¬¢¬§9'√äi'n.!e‚Äöd√û¬≤y¬≥n√ü}7l√àÔøΩi&l≈°8a√úÀú1#‚Ä°wÔøΩ="">th√ø¬æ}{√∑√¨1&nbsp;_¬ø¬©‚Äú'√ø¬¥t√©√∂√≠√õ√è≈æ=√ª√§√â‚Äú¬¨¬¨¬¨¬º≈∏0√îo2√ü&lt;|√∞√∞rB√Ç√Å√ΩV,[&gt;k√¶√å)'ÔøΩ;n√Ñ¬∞a∆í<p¬†x_‚Ä¢‚Ä°¬±¬£go≈æ8q≈í√ÄÀúq¬£zt√≠√ñ¬¥q¬£√®jq~^√û¬•v s√•√é;‚Äû'ÔøΩÔøΩÔøΩÔøΩÔøΩ√Ç‚Äú¬ø≈æÀÜ√Æxt√ô√í:¬®√é√∂¬¢¬º√ù<*uÀÜh√ù¬¢√Ö√†fl≈∏¬æz√ï¬™¬≠[¬∂l√ù¬∫e√ì√ÜÔøΩ√´√¢√¢t¬ß√¢√ñ¬Æ]¬πb√Ö√≤≈∏‚Äì¬Æz¬±b√°¬°∆í√è≈æ;w√ª√∂√≠‚Äî="" √ìrss√≥|√Çp√ßd√ß¬§¬æh¬Ω√Ø√û‚Ä¢‚Äû√ãg√û¬πc√ß√ñ√ç‚Ä∫7np~√∂5¬´w‚Ä∞√ë√Ø¬´r√£¬∞q√É‚Ä†m[¬∑√Æ√ò¬æ}c|√º√¨‚Ñ¢3√ª√µ√©√ù¬∞^√Ω√†‚Ç¨@k¬π¬•√å√òt¬∫0oÔøΩÔøΩÔøΩÔøΩÔøΩ‚Äû'≈∏≈æh¬ª‚Äπr¬≤¬≥wqp√•√´√°u-&¬∂g√ó¬Æ√ì¬¶l^¬ªz√µ="" ¬ø√ºr¬Æ√Ä‚Ñ¢√ì¬ßo√æ√∫¬´√™√î¬Ø'n;z√¥‚Äî#g√Ñ√£¬π¬≥g¬Ø^m¬æs√ß√©√ì¬ß‚Ñ¢‚Ñ¢‚Ñ¢√π√π√πo|√Çp‚Äπ~ÔøΩ√±√∫√π√≥√ß)√∑s‚Äô="" ≈ì¬øp√∂√å√ô√ì¬ßn‚Äπ7<~√º√ò√±c√á√Ñ√ª¬™√î8≈ì="">}√™√º¬πs.≈ì?}√™√î√∫¬∏¬∏	√£√Ü¬µm√ï¬∫|√ô+¬π¬©ÔøΩ‚Äò¬•¬πL
O¬§$‚Äû√∞@x√≤	√°‚Ä∞¬µ√úR‚Äù2<qttut√¥√∑√≤¬©s¬£√¶√†ÔøΩ \¬∏o√è≈æ‚Ä∫7n¬§¬∏√ø√æ¬Ω¬ªwu¬ß‚Äû√§√§√§√õ¬∑o√üin‚Ä°√∑√§√â‚Äú="" ^d(‚Äî≈†√ç}√ª√∂√≠¬ª≈∏0√î√¢wsrr2_¬øn{√π√≤√©‚Äú¬ß<l¬π¬Ø√º√¨√¢√≠√Æ¬∏¬´j∆í="" √™√æ¬Ω{rr<x="" ≈æ<p`√æ√ú¬π];w‚Ä∞(¬¶0‚Äî√´√à√ç√å¬•√¥∆í√∞ÔøΩÔøΩÔøΩÔøΩ@x√≤i√°ii‚Ä¶‚Ä¢‚Ä¢‚Ä¶\‚Äù‚ÄúÔøΩ¬Ω¬´‚Äú‚Äú‚Ä∫‚Äús¬†¬Ø_¬£√∫√µ'≈í¬∑1="">√æ√í√Ö‚Äπ√íD√ï'M5√π√§√å√§¬£-H/Àú√øU¬πz√π√ä√™U¬´√¥√≠W9¬≤¬¢¬∏6tte&amp;¬¶‚Äû'√Ç‚Äú¬ø≈æÀÜ√ü¬•O≈ìÔøΩ√úÔøΩÔøΩ√ä√∏√π7o√íd√¶√¥√©{w√Ø¬æw√∑.∆í√øy√∏√∞√Å√ñ¬≠[GUYnj¬¶¬ß¬≠mnlBx(
O√∞W<z√∏p√° ÔøΩÔøΩÔøΩÔøΩ¬†h√∫'o√õ)√£√ß√ü¬¥q¬£¬©‚Äú'√Ø√ò¬∂√≠√Ü√µ√´="" √æw$√π√∂√≠="" √±√±c‚Äô¬Æ="" }mn√õÔøΩÔøΩÔøΩÔøΩ√ø√∞≈°'ÔøΩ4Àú8~√º√¶ÔøΩ="" '$√§√§√§0√æ_‚Äπ¬§√Ñ√Ñ¬µk√ñ="" √¨√ó≈∏5oÔøΩÔøΩÔøΩÔøΩÔøΩe√ç1<√â√é√éf√º¬ø‚Äû'ÔøΩÔøΩÔøΩÔøΩ‚Ç¨"‚Äπ√∞√°="" ÔøΩÔøΩÔøΩÔøΩ¬†√à"<√Å_axÔøΩÔøΩÔøΩÔøΩ(¬≤o√∞w≈æÔøΩÔøΩÔøΩÔøΩÔøΩ≈†,√Ç√º‚Äû'ÔøΩÔøΩÔøΩÔøΩ‚Ç¨"‚Äπ√∞√°="" ÔøΩÔøΩÔøΩÔøΩ¬†√à"<√Å_axÔøΩÔøΩÔøΩÔøΩ(¬≤o√∞w≈æÔøΩÔøΩÔøΩÔøΩÔøΩ≈†,√Ç√º‚Äû'ÔøΩÔøΩÔøΩÔøΩ‚Ç¨"√´≈∏="" o√ä√∏√π7k√úx√∫√î¬©¬ªv√Æ¬º}√ª6∆í√ø¬π√Ø√û√¶m‚Ä∫‚Ä†="" s)jnj¬¶¬Ø¬≠cnlbxÔøΩÔøΩÔøΩÔøΩ(="" ¬æ\xbc¬©¬ø+√ä√â√é√û√ç√ô√ô√ù√ô9√à?¬†u√≥√¶√≥√¶√å9r√∏√∞¬≥go√º¬Ø√à√ã√î√î√ù¬ªwÔøΩ9¬™j√•h¬π¬©‚Ñ¢¬Æ¬¶‚Äì‚Ñ¢‚Äò1√°="" ÔøΩÔøΩÔøΩÔøΩ¬†(√∏√ß√É‚Äú√πs√ß√ær√∏√∞o√è≈æ1√∏_‚Äò¬¥‚Äî="" √∑√¨√û="f√î√®¬™√ë1‚Äû'ÔøΩÔøΩÔøΩÔøΩ‚Ç¨&quot;√•≈∏_√≥d√Ç¬∏q‚Ä∫6lH¬∏t)++√´¬≠√ä{√∑ÔøΩ√è5√†√∞√∂kÔøΩx√µ√™≈°√ï¬´√¥√≠√á≈°'ÔøΩÔøΩÔøΩÔøΩÔøΩ√Ç‚Äú√è≈æ√òZY√õX*D9√ô√ô¬ª8:¬∫::√∫zzU‚ÄπÔøΩ√≠√ë¬≠√õ¬¥)S√¢√ñ¬¨9√∫√ã√ëS'O¬™`ÔøΩ√º√µ√ó√£√á≈Ω=√≤‚Äπx<√Æ\√¢√ï√Ñ;w√Æ<}√∫4333??_JT">a¬®√Ö¬ø~√Ω√∫√π√≥√ß)))√ó‚Äô‚Äô.^¬∏x√Æ√¨√ô3¬ß√èÀÜ¬∑;q√º√∏‚Ä∞√£'√Ñ√ïQ√±√´√ñM?¬æm¬´√ña!¬°V2SC#Ks√°	‚Ç¨√∞√§√Ø‚Äû'¬¢;.¬≠¬∞√•hk√ßl√Ø √ä√ì√ï-¬º\¬π‚Ä†√µ√™w√≠√úy√∏√ê¬°¬≥f√å≈ì7g¬Æ
√ñ≈ìY¬≥¬ßM‚Ñ¢:i√Ç√Ñ√©S¬ß.]¬ºx√≥√ÜM‚Ä°¬∫r√•√ä√≥√ß¬ø√•dg√ß√∏‚Äû¬°√é√ä√äz√∫√¥√©√ç7NÔøΩ&lt;¬πm√ã√ñ‚Ä¢√ãW,Y¬¥h√°‚Äö√¶√é≈æ3s√∫√¥Y3fÀÜ√∑U√ç5r√∏√∞N√≠;√î¬¨V=√ê√ó√è√ÜR!73¬∑‚Äì[J√©‚Ä°T‚Äû'√Ç‚Äú√øk√éIp¬¥¬µs¬¥¬≥s¬≤¬≥sut√≤√≥√∂/W¬æJtL¬Ω√öuZ4m√ñ¬™y¬¨√¶M≈°√ñ¬ØS¬ßf√ï√™√µ√´√î√≠√ë¬µ√õ√Ñ√±‚Äì/[v√®√†√Å√ª√∑√Ø¬Ω√â√å√å√ç√çc√µ	CÔøΩ‚Äò‚Äò‚Äò≈ì≈ì|√™√ó‚Äú‚Ä∫6l≈ì:yJ√ø¬æ√Ω¬∫u√π¬ÆS√ª-‚Ä∫5oT¬øA‚Äú‚Ä†
√Ö√ª¬™√¶‚Ç¨ÀÜCU94(√ò√ì√ï√ç¬Æ`N‚Äò¬≠‚Ä¢u√°‚Ä∞&amp;&lt;≈æ|‚Äìr¬¥¬µs¬≤¬≥w¬∂wputrsrvwv√±pqU√Årqp≈∏√ö√Ñ√Ä√ê√äBZ¬Æu‚Äπ‚ÄìcFÔøΩZ¬øn√ù¬µkI¬Ø√í√ì¬≥¬≥¬≥srr&gt;a¬®√ì√í√í¬Æ\¬æ¬ºk√ß√èsg√è√©√ê¬∂}L√•√®√≤eC√ä√∏√π‚Äπ¬°¬∞¬µ¬≤¬∂¬∑)-√ûW5D‚Äù8Hq√ñ√Ñ¬π'Q
L√æ√é‚Ä¢@x &lt;‚Äò¬¢¬©
''ÀÜ~√ô√äBnnlb¬§¬ß¬Ø¬´¬©¬•Q¬≤‚Äùz‚Ä∞‚Äô*X%≈†√Ω‚Ä∫¬µ√ú¬≤rd√Ö√Æ]¬ª.√æ√±√á‚Äû‚ÄûKi/_feeegg√ÇP¬øx√±√¢√¨‚Ñ¢3√´√£√ñÔøΩ1¬≤ZLW'g‚Ä¶¬π√åD√ü&nbsp;T¬±√¢√í{‚Ä∞√∑U√ç¬•¬´¬°i¬¨g`ajVx‚Äì‚ÄúÔøΩ=√°	‚Ç¨√∞√§K‚Äû'fF√Ü‚Ä†¬∫z:≈°√™√ÖK¬®S√Ö√∫ ;)f%¬≥¬®√ô√≠¬ª√Ø)√É‚Äú‚Äπ≈∏!<y¬ªn√î√∞‚Äòu¬£c]ÔøΩ√§f√¶fz√∫%?x;√ïq√ö√™√¢p-llm,‚Äû'ÔøΩÔøΩÔøΩÔøΩÔøΩ√Ç‚Äú t√õ≈Ω√®‚Äù¬•√Ω‚Äπ√•f√¶2ssc#√ï,c])√ê(u¬¨¬∏‚Ä∫‚Äús¬≠√™5√∫√∑√≠¬ª|√ô¬≤+w.¬ß¬ß¬•}√≤m;¬©¬©¬©√é≈∏√ü¬ºq√ì√Ñ√±√î¬©√®√ß√Ø√¢√†h¬´¬∞6√ñ7√ê,¬•¬¶¬≠¬Æ!√ûwe√ádflji.¬≥‚Äì[¬æ_√Ñ√¶√∑x≈í√∞ÔøΩÔøΩÔøΩÔøΩ@x√≤√É‚Äúsu.k‚Ä¶¬±¬æÔøΩ¬∂≈°‚Ä†‚Ä∞ÔøΩaÔøΩ@‚Äú‚Ä†ÔøΩ‚Ä†¬∫v√ç≈°¬§¬§√Ñ¬ø¬≥√¶√â√ã‚Äî="" .]√ö¬±m√ª≈íi√ì[5k√®√´√ß√•√¶nke-31‚Ä¢‚Ä∫‚Ñ¢‚Äπ√∑u√±‚Äò√π\ÔøΩ√°="" ÔøΩÔøΩÔøΩÔøΩ‚Ç¨√∞√§¬´¬Æ√í="" +cumsc¬£√†‚Ç¨√Ä¬¶ÔøΩÔøΩ6√¨3‚Ä†'3¬ß√èh√ù¬ºedx‚Ä¶2~√æ√û√Æv√ñ6¬¶f‚Äì√¶2√±¬æed‚Äû="" oÔøΩÔøΩÔøΩÔøΩÔøΩ‚Äû'‚Äû'‚Äû'‚Äû'ÔøΩÔøΩÔøΩÔøΩÔøΩ√Ç√Ç√Ç√ÇÔøΩÔøΩÔøΩÔøΩÔøΩ√°="" √°="" ÔøΩÔøΩÔøΩÔøΩ‚Ç¨√∞‚Äû√∞‚Äû√∞‚Äû√∞ÔøΩÔøΩÔøΩÔøΩÔøΩ√Ç√Ç√ÇÔøΩÔøΩÔøΩÔøΩÔøΩoooÔøΩÔøΩÔøΩÔøΩÔøΩ="" <!<!<ÔøΩÔøΩÔøΩÔøΩ‚Ç¨√∞‚Äû√∞‚Äû√∞ÔøΩÔøΩÔøΩÔøΩÔøΩ√Ç√Ç√Ç√ÇÔøΩÔøΩÔøΩÔøΩÔøΩ√°="" ÔøΩÔøΩÔøΩÔøΩ‚Ç¨√∞‚Äû√∞‚Äû√∞‚Äû√∞ÔøΩÔøΩÔøΩÔøΩ@xbxbxbxÔøΩÔøΩÔøΩÔøΩ="" <!<!<!<ÔøΩÔøΩÔøΩÔøΩ‚Ç¨√∞‚Äû√∞‚Äû√∞ÔøΩÔøΩÔøΩÔøΩÔøΩ√Ç√Ç√ÇÔøΩÔøΩÔøΩÔøΩÔøΩoooÔøΩÔøΩÔøΩÔøΩÔøΩ√∏$$$,_¬∂¬¨_√Ø="">1‚Ä¢¬¢,√ç√å√ï‚Äπ‚Äî√ê√ì√ê$<!--<√πg√Ç‚Äú¬™√ë1√É‚Ä°√ù¬¥acrr2_FÔøΩÔøΩÔøΩÔøΩ‚Ç¨j¬∫~√Ω√∫√ö5k√µU√ô√í√îL¬≠Xq]√Ç√Ç‚Äú/≈æ√®k√©X√â√§√ïbbGÔøΩ)√Ü√ß√°√É‚Ä°|ÔøΩÔøΩÔøΩÔøΩ¬™√©√¶¬≠[√´√¢√¢X¬•r¬¥¬º <√ëQ√óM=√°	√°√âO≈í√û‚Ä°'√ïc¬´≈í9√™√ß;?y√å‚ÄîÔøΩÔøΩÔøΩÔøΩ¬†≈°√æ‚Ä°√õvX√≥‚Äû√∞‚Äû√õvÔøΩÔøΩÔøΩÔøΩÔøΩE√õ√õ¬∑osss√ü¬ºy√≥√º√π√≥C√é≈æ5√´¬ª≈ΩÔøΩ*UÀÜPÀú√ã¬¥J¬©h√´XY√à	OO¬æ`xbbj¬®¬£g%‚ÄúW≈Ω¬¨√ò¬∑W√Ø≈∏/9s√¶L√Ü¬´W¬π9¬π√¢√¢√§
ÔøΩÔøΩÔøΩÔøΩP¬π¬π¬πiiiw‚Äô√Øl√û¬∏i√¨√®1mZ¬¥¬¨P¬Æ¬ºBf¬°¬´¬°i¬§¬´GxBx√≤‚Äû'
s‚Äπ≈†√°¬∫v√™<g√¶¬¨√ª√∑?y√≤$''‚Äî√Ø&ÔøΩÔøΩÔøΩÔøΩ@E¬º~√Ω√∫√°√É‚Ä°√ß√é≈æ[√≤√£¬¢~¬Ω√ª4¬¨W¬ø\pY+¬π¬æ¬∂≈Ω‚Ä∞¬æÔøΩ¬µ√ú‚Äô√∞‚Äû√∞√§√≥‚Äì‚Ä∫HO,L√å≈ít√µ√Ñ√á	m√ì¬¢√•√òQ¬£√£√ó¬Ø¬øq√ΩzF√Ük¬æ‚Ä∫ÔøΩÔøΩÔøΩÔøΩÔøΩU√∞√º√π√≥7¬Æ≈∏<yrc√º‚Ä†√ë√ÉG¬¥l√ö<¬∂r¬¥h√™¬≠√•‚Äì&‚Ä†√¶√Ü&6‚Äì
√Ç√Ç‚Äú/≈æ√à√ç√åM√¥
√¶b¬®√´√ñ¬¨√ï¬≠√ãw3¬¶M√ü¬∑g√ØÔøΩ√´7~{√∫,33‚Äú/)ÔøΩÔøΩÔøΩÔøΩ√†√∞√Æ√ù¬ª√ú√ú√ú¬¨¬¨¬¨≈í≈í≈í√î√î√î√áÔøΩ?x√∞√†√æ√Ω√ªW√∑√≠√ù¬∑v√≠√ü?r√òÀÜÔøΩ‚Ä∫FET,XFt√¥¬¢‚Äò]¬≠BfakeMxBx√≤√•√Ç+¬π‚Ä¶‚Ä∞¬©x√¥√±√∞¬¨P¬Æ|¬≠√™5:¬µ√Ø0m√ä√î√µq√´√∂√¨√ö}√º√®¬±√´I√ó¬§¬§<z√¥√®√ô√ì¬ßb333√Ö√∏√ß√ß√ß√≥¬ΩÔøΩÔøΩÔøΩÔøΩ|^¬¢√üLKK{√º√®√ë¬µ¬§¬§√£√áÔøΩ√Ø√ü¬∑√Ø√ß;√ó¬Æ];m√™√îaC‚Ä†√¥√™√ë¬£e¬≥√¶1+√πÀÜv√û√ç√âYt√¥√ñrKK‚Ä¶xBxBx√≤√•RqÔøΩ)d√¢√ë√ù√ô%√ê√ó/,¬¥\ÔøΩ¬™√ï¬∫t√¨4j√∏√à¬©‚Äú&√è≈∏;o√É¬∫√µ√ª√∂√Æ√Ω√•√à‚Äò3¬ßO√ü¬ºq√£√π√≥√ßY√ôY|¬£ÔøΩÔøΩÔøΩÔøΩ≈∏√ù√´√å√å√áÔøΩ_KJ<|√®√†≈†√•√ã√ß√å≈æ=y√¢√Ñ!∆í¬µi√ï¬∫A√ùz¬µ¬™√óÀÜ¬©R0√ß√Ñ√ù√â√ô√Ö√ÅQt¬µ¬¢‚Äî¬∑¬µ¬≤‚Äìf≈æ≈æ|¬°√óÀúÔøΩ¬•B<≈†¬´√é√ã√ç√ù√ü√õ¬ß\√ôÔøΩ≈°√ï¬™7k√ú¬§u‚Äπ‚ÄìÔøΩ;t1t√ò√¨‚Ñ¢3‚Äî,Z¬ø~√Ω¬±¬£G√Ø√ù¬Ω√ª√™√ï¬´w√Ø√û√±¬•ÔøΩÔøΩÔøΩÔøΩ|Fo¬≤¬≤‚Äô‚Äú‚Äú√è≈∏;¬∑o√è≈æ%‚Äπ4¬®C√õvM6¬™[%8¬∞≈í¬Ø¬ß‚ÄîT≈æ¬Æn¬¢ÔøΩu¬≤¬≥eoSZ√ö¬•¬∂√≥‚Äû'√ø√∞√§√©JWÔøΩ¬≥¬Ω∆í¬´¬£‚Äú‚Ä°¬´[¬†¬Ø_P@`ÔøΩ@¬π¬≤!¬µ¬™√óh√ó¬¶u≈∏≈æ=√áÔøΩ¬Ωr√π√≤'≈Ω√ü¬ºy√≥¬∑g√è√≤¬∏sÔøΩÔøΩÔøΩÔøΩ√∞‚Äî‚Äî‚Äî'Z√ª√å√å√åW¬Ø^¬Ωx√±√¢√±√£√á-->LNN&gt;y√≤√§¬¶ÔøΩ‚Ä∫‚Äì,^<u√≤√§√ù¬∫uÔøΩÔøΩm¬©¬ª¬≥‚ÄπÔøΩ¬•√Çpwoos√ãho_v¬∞√Æ‚Äû√∏√ë√Çk‚Ñ¢‚Ä∞¬£¬≠ÔøΩ(√Ç√Ç‚Äú z√íe&j≈°√¨$.b¬π‚Ñ¢¬πq="" ttÔøΩ√µ="" √Ñ≈∏√∫√∫u¬¨p¬°a√ù¬∫√Ω√∫√¥y√∞√Ω√∑√±√±√±{√∑√¨9w√Æ√ú∆í‚Äù‚Äùg√è≈æ="√ø√≠yjj√™√´√ó¬Ø¬≥¬≥¬≤rssYÔøΩÔøΩÔøΩÔøΩ√∞√±√∞DZ√ò√§√ñ√ç‚Ä∫g√è≈ì9p`√ø¬Æ≈∏√û¬ºi√ìÔøΩ≈Ω5¬™_√Ø">√õ¬µ¬Ø]¬£F‚Ç¨¬Ø¬Ør‚ÄπXS3√ë≈ì¬™/Q¬™Xq-5uC]=‚Ñ¢‚Ä∞¬©¬¥√∫‚Äûh√ßE3+MA)‚Äö√π	√°√â?≈æH‚Äî‚Ñ¢¬≠‚Ä¢¬µr√±XS31√¨√¢j√îVS¬ßz‚Ä∞‚Äô√Ü√∫√¢¬Ø&lt;]]√ã7¬®[¬∑wÔøΩ≈æ#G≈íÀú:y√≤‚Äô√Ö‚Äπw√Æ√òq√®√†√Å√£√á≈Ω]8√æ√û¬Ω{¬©¬©¬©YY,‚Ä°√∏√ë√î?~√¥()1√±√ò¬±¬£√´√£√¢√¶,l2z√Ñ√à≈æ√ù¬∫7m√ú¬∏n¬≠Z√ïbb√É√ã‚Ä¢√∑tu
¬ª√Ç√ú√Ç√å√à√ò@GW_[√áX√è√Ä√ú√òDJNÀúyBx√≤_‚Ñ¢y"√Ü¬°p√¶‚Ä∞¬∏ÔøΩ√µ
√Ñ√Öi¬®¬£+31‚Ä¢VD√±√µ√≤∆íV¬∑V√≠&amp;ÔøΩ¬∑n√ë¬≤W√∑√áÔøΩ≈∏3{√∂‚ÄôE‚Äπ7o√öt^9√•~√Ü¬´W√º;√∏ÀÜ¬ßO≈æ\¬ºxa√ø¬æ¬Ω¬´W¬Æ;zT¬ß√∂√≠‚Ä∫6jT¬∑f¬≠¬®√à≈†A√æ√æ&gt;¬æ&gt;¬æ¬æ^√ûn√é√éNv√∂¬¢o¬µ¬≥¬≤¬±¬±TH¬ª√™ÀÜ√æTZz¬¢h¬ÆsBx¬¢:√´≈∏ÀÜKQ‚Äù
qYJ√≥&nbsp;√Ñ√•√™√¢√†√®√Æ√¢√¢√Ø√≠#√éHP@`p`‚Ñ¢J‚ÄòÔøΩ√´7h√ü¬∂M√Ø≈æ¬Ω¬¶L≈°¬¥u√≥√¶sg√é√ú¬ªs'#∆í√º√∞¬Ø¬∑o√ü√¶√ß√•√ß√¶√¶≈†F√æ√ï¬´W¬©/^&lt;{√∂√¨√ñ¬≠[√∂√Ø_¬±|√π√¥¬©S√¥√´W¬Øv√≠`√ø7gg√ëÔøΩZ≈°√â≈í√¥√¥ÔøΩ√µ
d&amp;¬¶√ñrK√ë‚Äì≈†‚Ä†¬¥√à¬ÆKx√≤5&amp;*R‚Äì"¬Æ^¬π‚Ñ¢¬π‚Ä∞¬æÔøΩ4#√Ö√Ö√Å1√Ä√á'",¬ºi√£√ÜcGÔøΩ√æi√â‚Äô√õ¬∂ÔøΩ√º√µ√óGddd¬º~√Ω:33S≈ì¬¨¬º¬º&lt;√±‚Ä¢a∆í(RD√∏√¶M√ñ√ã√î√î))¬¢?q√º√∏¬°∆í7o√ö4k√Ü≈í√Ω√∫uh√õ¬∂^√≠:√Å¬•--M√µ¬µu¬¥J¬©‚Ä¢*V\¬£DI=-m3Cc√ë¬ßF(E√π√∂√Ç√ï¬ø¬£√ß√Ω^√Ür‚Ä¶i9=Mm√µ√¢%≈†+¬¶\EO_!‚Äú9√õ;‚Äù	m√ï¬º√π‚Ç¨¬æ}'≈í¬∑p√Å‚Äö=¬ªvÔøΩ&gt;u√™√¢‚Ä¶√ó‚Äô‚Äô?~√º√∫u¬´√à@‚Äù‚Äò√±√∫√°∆í¬¢=√ú¬æm√õ¬≤¬•K√¶√çÔøΩ;~√¨√ò√é;√ñ¬´S¬ßJttD√π0/7wk¬π‚Ñ¢¬±¬±r√≠m]]M-√•√ö&amp;√∫¬¢¬µ¬≤ÔøΩ‚Äπ&gt;]¬∫O‚Ä°√∞‚Äû√∞D√ÖK≈°vbma)‚Ä†Hfb*¬Æa=-mmu
√±(NÔøΩ√∏C√±~^√û¬±‚Ä¢¬£√ñ¬´√ó¬∫y‚Äπ≈æ√ù¬∫√èÀú:m√πO?mÀÜÔøΩ√ü¬øo_RRRj√™‚Äπ¬∑o	O&nbsp;hy√≥√¶MJ√ä∆íK.√¨√ú¬±c√¶√¥√©√∫√∑√´√í¬©c√ì√ÜÔøΩ+EF‚Äì√±√∞√∑√∂√±√≥√∂√±pqu¬¥Q√æ¬ø√∂¬•nvP√à,‚Äù;√ãY√õ‚Äû√∞√§√´¬ªm¬ßp-√©√¶+‚Ñ¢\a¬Æ¬º≈æ√Ö≈∏√ò√õ(w‚Ä†√≤pug*4(8,$4&amp;*¬™m¬´√ñ√∫√∂?v√å¬¢~8x√∞`√≤√≠[√©ii√º¬ª√ü¬§w‚Äù+≈ì√§+W8‚Äò√º√∂√¨¬∑√ß/√¨√ù¬Ωw√ç¬™U‚Äú'Nl√ù¬≤etT¬•¬≤e√äx¬π¬ª[√ã√•fF√Ü¬¢‚Äî‚Äì√ô¬¥¬∑&amp;!!&lt;√π√∂√ß¬•H√å≈†R√à,√ÑHZ√ã-√Ω¬Ω}¬¢""√´√ó¬©√ì¬≠K‚Äî¬πs√¶√¨√ú¬±√Ω√î√â‚Äú√ó¬Ø_OMM√ü&nbsp;¬º¬º¬º√º¬º|iB‚Ç¨o@~~~ff¬¶¬¥√¨√ï+W.≈æ¬øp`√üÔøΩ¬•‚Äπ‚ÄîL‚Ñ¢4y√à√ÄÔøΩm[¬µ
/W√û√ï√â√ëJtÔøΩ‚Ä†‚Ä†Zj√™√™√ÖK√™¬®kÀÜ√û_4√£‚Ä¶√≥L&gt;√ú‚Äìv‚Ä∫√∞√§√õ√ò√ùXJNl,Rf"N‚Ñ¢¬Æ‚Ä†¬¶z‚Ä∞‚Äô≈°¬•√î,LLÔøΩ√¨√¨||b¬£¬¢¬∫v√©2i√Ç‚Äû,ÀÜ[¬ª√∂√à√°√ÉW._¬æy√£F√ä√Ω‚Äù‚ÄîA
√ø√Ç√Ä¬∑√†√ù¬ª√¥√¥t√ë√Æ&gt;|x√´‚Äì-kV¬≠≈æ3sV√ü^}√ö¬µn√ì¬§A√Éj1¬±~√û√ûv66r3sSCC=-m
M]sc√ëQ‚Äì¬∂¬¥*√úR‚Ä°√§‚Äû√∞√§‚Ä∫O√Ñ&nbsp;YY√à√Ö√®‚Ñ¢‚Äπ+_\√ø¬∫≈°Z√¢√∫√Æ√™√®$N_ÔøΩZ¬µ:¬¥m√õ¬≥[√∑¬°∆í‚Ä°|?o√û¬¶
√¨√ü√Æ√¨¬π‚Äù√ª)¬π¬πy√º√ü‚Ç¨,√•√≤&amp;)√á≈Ω]¬∂t√©‚ÄùI‚Ä°√î¬±m¬ªj√ë¬±√ä‚Ä°‚Ä¢	
)√§√©√™√¶hg¬ß√ú‚Äò√ÑR¬π#‚Ä∞√ú√å\!¬≥√èY√õ‚Äû√∞¬§ÀÜ√¨b\¬∏≈†¬∏√≤√Ö√µ_8‚Äô√ébx√ÉBC+W¬¨[¬πr√≠5¬ªt√¨4a√¨¬∏X¬∏e√≥‚Äì‚Äπ√ß/¬§¬•¬•√≥/|√ï√≤√≤√≥?~≈ìx√µ√™√°C‚Ä°‚Äì,Z√î¬∑w√Ø¬¶ÔøΩU¬©-√öy{√ë,√ä,D‚Ä°√®dg_√òE√íJ≈æPXE‚Äù¬≥¬Ω∆í¬£¬≠ÔøΩx"¬æ,¬°A√Å
√´√ñ√´√ñ√•¬ª√±c√Ü¬≠_w√±√Ç√Ö¬§¬Ω|√â√Ω;√∞√â√â√âNKK{√∫√§√â¬Ω{√∑v√Ø√ö¬µf√µ√™¬π¬≥g√∑√©√ô¬≥jll‚Ç¨ÔøΩ¬Øhe√Ü&amp;%J¬©+¬Æ¬£¬°√¨√Æ√•f√¶√ñ‚Äì√í
¬±√ü√∞√≠9√í≈°√Ç‚Ñ¢‚Äì√î#√Ü96_ux√≤√°‚Ä∞‚Äù√∂¬§√æ¬£¬§√ä¬∑√≥ÀÜ√èk-¬∑_
s#q√µ¬µ¬¥5J‚Äì√í*¬•&amp;75√∑√µ√¥¬™T!¬¢I√É√Ü√ÉY¬±|√Ö√è;&gt;√∂√ã√ë¬´W¬Æ<z√∏0555333?≈∏mÔøΩÔøΩÔøΩÔøΩ@¬•ege=x√∞@¬¥r√á≈ΩÔøΩÔøΩÔøΩ≈∏1m√ö√∞¬°c{v√´√ñ¬∞^¬Ω¬†‚Ç¨@g;{‚Ä¶√åb√¥√µ¬¢ √ç¬†≈æ‚Äì¬∂‚Ñ¢¬°¬±2<‚Äò[≈†√πo‚Äù-¬ø√®√Ω√íÔøΩk¬π√©%√ã‚Äö{4‚Äù[0p‚Ä∫ra]t√Ç‚Äúw‚Äìn√†‚Äôn`="" +¬Ø\p'‚Äî¬∏h√Ñ≈∏k√ó√â¬∑≈°≈∏√º!<c*36u‚Ä†'√ö:z¬•√î¬µ√î√î√ç="" ÔøΩ√Ñ√∏zze‚Äùk√ë¬§√©√∞!c√Öwl√ë√Ç¬∑m√ôz√æ√ú¬π¬ªw√Ø¬æ|‚Ñ¢√Ü√æ;ÔøΩÔøΩÔøΩÔøΩ¬†√¢d}√πr√Ç√æ}{w¬≠x1v√åÀúm√õ6jp¬øvÔøΩ‚Äò√°√°^n√Æ≈Ω¬•√≠¬§√•1e√Ü&√¶√Ü&¬¢5√èk√ø√ø¬π√Å¬∑‚Äù≈ì~‚Äì√Ç√ô6rke,`j&31∆í="" ¬•√ò¬°0="">√∫,¬´√£~ÔøΩ√°‚Ä∞‚ÄúÔøΩ¬Ωt‚Äî%qU√à√ç√å√Ö√†Àú‚Ä∫‚Äπ'√≤√≤√±√ü√ºM^√¢*'√ûXZ‚Ä∞ÔøΩ√º~4≈íM√Ö8ÀÜ√øc√•√™√®√§√´√°Y¬©B‚Äû8¬≥√õ¬µ√Ø√õ¬ª√è√¥¬©√ì¬∂m√ùz√Æ√ú√ô‚Äù√ª)√ô≈∏tr√ø‚Ç¨w√ø√∫‚Äîh√å/]¬∫¬¥y√ì¬¶ys√¶0&nbsp;a√Ω√∫¬°AA¬æ^^&gt;≈æ√Æ..√ä~P√±~√ü√°√Ç{X≈†√î√í&nbsp;¬Æ√∫a}√∂¬•q¬ø√Ü√õv
√≥¬¢?¬¨¬°*√ç6√π√ÉÔøΩ;Ep]Y¬©√Ñ‚Ä∞G√•ec¬©put√£_&gt;$4&amp;¬™r√õV¬≠¬ßN≈°¬º..√Æ‚Äî#¬ø√ú¬∫}‚Äπ;w@EÀÜM¬¥√°¬¢√∏√∞√°√ç7¬Ø\¬πr√º√®√ë√•?√Ω$√∫√¥m√õ√ñ¬®R√Ö√ã√ÉCfll¬®¬ßgjhhfllfdla¬¢≈ìj¬¢√åOl¬ø‚Ä∞√õs&gt;X√Ü√§√É‚Ä¢L¬§HDt√Ω√ñr√ã√Ç‚Ä∫M‚Äù¬Ω¬øMi';{7'gOW7owOQ√¢‚Ä∞√∏OwgGg{i√∂√Ö√üR√æ3&lt;9|x√ú√ö¬µ√ó¬Æ%¬Ω√é√à√à√ç√ç√ç√ã√ª‚Äù-n√ì√í√ì/'$√¨√ú¬æc√ñ≈í‚Ñ¢≈∏7&lt;)C√±\≈í∆í
o7w_O/?/o_Oo√±.¬Æ¬Æ≈ΩN‚Ä¶K¬ß¬æ√èU
√Ü¬∂¬∞
3‚Äì?,ÔøΩ√≤m‚Äû-‚Ä¶[‚Äπq'√ó@[√áHO_flbif.¬Æ¬´ÔøΩ2A-‚Ä∫5<pÔøΩ85√±√´√ó_¬ºp√°√û√ù{ÔøΩ>z√∂√¨¬´&nbsp;√Ä‚Äî√®√ã&gt;xx√∂√å√ô√ù¬ªvo≈íÔøΩ_¬¥p√°&nbsp;≈°4j%zv;C]]]--√±(√ö=3C¬£√Ç√∞√§√É5.¬æ√™MfC‚Ä¶√å√Ç¬¢√†fsc3#cc}C]}-m=-mm]√ë√ß≈†ÔøΩ‚Ñ¢Àú‚Ä∞¬æ√û√ù√ô√Ö√ü√õG≈íÔøΩhx√ã‚Äî

√≤√∞√≥√≤√∂tussr‚Äì√≤√©√Ö?¬π√´‚Äî√Çm5
SC¬£¬≤ÔøΩe≈°5n:j√Ñ√ëS√ü¬∫u3;+√´‚Äú√ó√Ñ¬ß;)1q√∑√è¬ª√¶√å≈°√ù¬∂e√´≈†"√Ñ‚Äò¬Æ√∞√ÑVae[√∞√´.¬Æb|√Ñ√†‚Äû‚Ä¶‚Äû‚Ä†‚Ä°‚Äì+X√Ü√ó√ì√ã√ï√ëI√ºÀúj1√àb&lt;
¬¥u√¥¬µutt
u√µ≈ít√µÔøΩ√µ√¥√Ö‚Ä°‚Ä¢√Æ‚Äú√ø¬æ‚Äô√å‚Ä°¬≥z¬æÔøΩ√∞D|≈ì√Ç√∞D|v√±¬©M√¥
d¬¶f√¢√ä‚Ä∞¬ÆX¬©q√É‚Ä†ÔøΩ;t5b√§≈°U¬´√∑√Ø√õw√™√ó‚ÄúI‚Ä∞I¬©¬©¬©¬¨‚Äö√ø-¬¢#{√±√¢√Ö√ï+W¬∂l√û&lt;√Æ√ú√±c√Ü√∂√≠√ï¬´~ÔøΩ¬∫a¬°¬°¬æ¬æ¬¢¬ßv¬∞¬µ‚Ä¢V¬ÆP6¬≥2‚Ñ¢¬¥f‚Ä¶√®g¬øÔøΩ¬µM¬§U)l,¬¢IWÀú√ã,L√åD√≥n¬¨o ym]
MÔøΩ‚Äô¬•J+^¬™X1√µ%¬µ√î√î√µ¬¥¬¥√Ö√òZ√õ√∏zz‚Ä¢/S¬©r‚Ä¢√®Àú√ò¬®√ä‚Äò√°B‚Äö‚Äö√≥';{i√ã'w√ΩbÔøΩ√Ö‚Äòh¬´iÀÜ.¬ªl`‚Ñ¢√¶M≈°≈Ω5jC||r√≤√≠√ú¬ø¬± FVV√ñ√µk√ó√∂√Æ√û3w√∂≈ì¬∂-√õ|√Ü√∞D¬º‚Äör‚Ä∞√úR&lt;√∑√±√∞,\6¬∫b¬•U¬™√ñ¬™V¬Ωz‚Ä¢¬™‚Ä¢#+‚Ä†‚Äù	√≤ts√ó≈í√≠‚Äö\H]¬Ωx	¬µb%4J‚Äù√î,√ò‚Ä†F[]C_K√õHO√ü√î√Ä√ê√å√àX≈°‚ÄôQ¬∏F≈†4¬ß√•√õ√ò¬ºX|"1√îb√Ä¬•1‚Äî√åqqp'¬∫B√π¬∞√®JQM66d√à√º¬π√≥√ñ¬≠‚Ä∞;|√®p√ä√Ω‚Äù¬º<f≈æÔøΩÔøΩÔøΩÔøΩ√Äa^^√û‚Äú√áo._¬æ√º√≥≈ΩÔøΩs&m√æ¬Æs‚Äî√Ü √Ñfu√∂√µ√≤‚Äìfm√º¬æ√æg√©√Ç['¬æ¬µun="" 6√ê)\≈°c≈°|"√≠¬°#¬∫zsc√ë√£l≈†√ê¬Ω¬º√∏s‚Ä¶‚Ä¢¬≥∆ícp@`‚Ä¢√ä√ëÔøΩ√™7h√ì¬≤u‚Ä°¬∂√≠:¬¥i√õ¬™y‚Äπ√∫u√™≈†≈æw≈°_√°√°√¢*√Ü¬≠`¬±p√Ö√ü="" o‚Äù¬∑√≠¬®¬Ω¬øm¬ßy√£&¬£f≈íx¬øn√ù√ç‚Ä∫7√ûdf√¶¬ø}√ªis222¬Ø^√ù¬µ√≥√ß√ô3g¬µi√ë¬™b‚Ä¶ÀÜ√èu√õ≈Ω√∏e√ã‚Äö¬Ω‚Ä°m√≠‚Äö√º¬™de7m√ò¬®s√ª="¬æ√´√ö¬µ√ãwm[¬µ¬Æ_¬ªN√•√à≈†¬°√Åe√Ω¬º¬ºÔøΩ√≠√Ñ{‚Ñ¢‚Ñ¢≈†(U√Å¬º¬¶√∑√´√äZ‚Ä∞√∫`¬£ol‚Ñ¢‚Äù√Ç;√Ö">√ºN‚Ä∞1)¬º√≥√ã√ü√õ¬ßv√µÔøΩ;t5l√Ñ‚ÄôE‚Äπ=√±√´√É‚Ä°ÔøΩ233√πW¬æ¬¥wo√üfgg‚Ä∞√∂955√µ√©‚Äú¬ß√è_√ò¬≥k√è¬™‚Ä¢+'ÔøΩ≈∏√ê¬ºI√ì¬∞ÔøΩr≈æ¬Æn¬∂
+C]=-5u}m‚Ñ¢‚Ä∞i√°$‚Äú?¬¨√∫√ï¬≠√í√π‚Ä°%M
√ã¬æ`
gGWG'WOO?o≈∏√ü2~√æ!e‚ÄöB‚Äö‚Äö‚Ä¢7√¶‚Äù
¬©Y5&amp;¬∂V√µ
√´7√®√ò¬Æ√Ω&nbsp;&amp;≈Ω?k√Ü√åys√¶L≈∏2u√¥ÀÜ‚Äò=¬∫uoT¬øADXx&nbsp;¬Ø≈∏‚Äî‚Ä∫¬ªhÔøΩ‚Ä¢iL√Å]''&lt;√ë√ï√ê‚Äô√Çi*‚Äö8Y‚Äî^&lt;.N√¢√´√ó¬Øs?ÔøΩ‚Äú√≥¬ß%-ÔøΩ‚Äô≈∏≈∏/≈∏={v√æ√ú¬π-‚Ä∫6O‚Ä∫2¬µU¬≥√¶√¢‚Ç¨?Wxb-¬∑4+@√ÑR¬°\√π¬¶
√µ√´√ùg√™√§)?√æ¬∞P√î√¨3√á≈í√ù¬ØO√ü√Ø:un√ì¬≤e√Éz√µ¬´DGGUÀÜÀÜ¬ØP&gt;¬¨\p√ô√†√Ä2AA√æ√æ&gt;¬æ¬æ≈æ^√¢ÔøΩ√Ñ0√û%M√ò(\‚Ä∫√∑√ÉEQ√æ¬ΩN√ØW‚Ä¢¬Æ|¬∏¬∏¬Æ4√ΩI&nbsp;8‚Ä†:¬∫√¢√õg&nbsp;¬≠+.Kq√π√ï¬ÆV¬≥{√ón√º¬∞{√ó√ÆS'O&amp;%&amp;√æ√∂√õo√©√©√©o√û¬º¬ß‚Ä¢√ì√†Kx√µ√™√ï∆í‚ÄùW¬Ø^=q√º√∏√™‚Ä¢¬´¬¶OÔøΩ&gt;|√à√ê≈Ω√≠√öG‚Ä†G¬∏9:[√â,L¬•√ª)J‚Äù√î√ï√î232
ÔøΩ√≤v	√ë√¢}e√°√â√ªÔøΩb¬•)%‚Äì‚Äì√¶2i√õ\SC#CcQ√∫√¢‚Ä∞hW√ÖÔøΩ‚Ä∞F√ï√ù√Ö%√Ä√ó¬∑B√π√≤‚Ä¢+V}}¬≠√™5≈°5n√í¬¶e¬´√∂m√öv√©√òIt√Ω√É‚Ä†=r√î‚Äû√±√£√ß√é≈æ¬≥b√ô√≤ÔøΩ√±vn√ü¬±√ª√ß]√´√£√ñ√Ω√∞√Ω‚ÄöQ#F¬∂m√ï:*¬≤¬¢t≈í¬´¬£‚Äú4ÔøΩE¬º√ª√üO√Ñ1‚Äπ√ól√ú&nbsp;√°√ê√Å∆íW._~√©√¢√Ö√ü≈æ=KO
√¥¬´√¨√¨l)6O¬≤√æ≈ì√∏[√•r¬£√Ø‚Äù√´?y√º√§√¨‚Ñ¢3‚Ä∫7n≈°:yJ√ã¬¶√ç¬•¬¥√ß¬≥‚Äû'√¢√É√©√©√©√™‚Äπ√Å¬¨Y¬±C√õ¬∂√£√á≈í]¬µb√•√û={√∂√Ø√õ/√Üj]\√úOK‚Äì|?o√æ√å√©√ì'≈Ω?t√ê√†√æ}√∫√¥√Æ√ô¬´√ªw]√õ¬∂n√ù¬¨I√ì√Ü
√î¬´]'¬∂rtD√π¬∞reC‚Äö¬Ω√ú&lt;√Ñ+√õ√à‚Äìf√¶f‚Ä†√Ü√¢√Ö
u√µ√Ñ‚Ä∞√ªpiiÔøΩ‚ÄîF√πz√É√±A√Ñ¬πg\¬≠x	√çRj&amp;¬¶N√∂A~5¬´U√Ø√ü¬ª√Ø¬¨√©3~Z¬≤t√≥¬¶√ç√¢√¥%''¬øx√æ&lt;‚Ä°√≠≈í√†√ãx√∂√¥iBB√Ç¬æ¬Ω√ªD√ª?L‚Ä∫th√ñ¬∏I√ç¬™√ï√Ω√ºK√õY[√àE7jj`h¬¨¬ß/√∫8‚Ä¶¬π‚Ä¶√≠N≈ì¬∞√Ωj√¶≈ìÀÜ‚Ä†¬∫pX√ën√™√®√™jj√©¬®kh¬´¬©‚Äπ√¶T¬£d)-5u√ë√Ø√õ(√é√û≈æa¬°¬°uj√ñl√ñ¬∏q‚Ä∫V-¬ªv√©2b√ò¬∞)'√ç≈ì1c√Å√º√ØW¬≠Z¬µi√£√Üm[¬∂√Æ√ú¬æ√£√Ä√æ√Ω'≈Ω?w√∂√¨¬•‚Äπ‚Äî.'\&gt;t√†`√ú≈°¬µ√ì¬ßL√Ω¬ÆS√ß√®JQA√æ&gt;≈æRx¬¢¬º√ì√ßo‚Äû'√¢Àú¬•K¬ºf¬£√∫
¬∏l√©R√±¬æÔøΩ=|√æ√õ√≥√è_¬º√éxÔøΩ√µ&amp;√´√ç‚Ä∫7√¢√â¬´?'√æ67'√∑√ù¬ª‚Ä∞√á‚Äù‚Äù‚Äù‚Äú¬ø≈æ≈í_?y√¢¬§M≈°V(&amp;M‚Ä¢¬±¬≥¬∂‚Äò√ñh√Ω¬¥√∞D|F√±¬ª√äP¬µu≈ì√¨√¨¬´T≈Ω√Æ√ñ¬•√ã√å√©3v√Æ√ò!F)11Q&lt;≈æ&gt;u√™√ò√ë¬£‚Ä°√ú¬ªgÔøΩ√∏√≥√∏√µ√´√ó¬¨^%¬Æ√É.≈ì:y√ä¬®‚Äò#‚Ä°√î¬ªg¬Ø√ñ√ç[√ñ¬≠U¬ªZLl¬•
√¢√òK√õ*√åe¬¶√äIS¬≠x‚Ä∞R√Ö≈†‚Äπ¬ß¬£¬°)mUc¬¢o`nl"¬≠"√•'_K√Ñ√∑≈∏√õ:K¬°ÀÜ√ì-}.+‚Ñ¢‚Ä¶√∏+wg√ó√ê√†¬≤√¢√¨w√≠√úe`√ø√æ√¢¬¨mÀÜÔøΩ#y√Ø√Æ=√Æ√¢‚Ç¨/√°Mff√Ç¬•K;¬∂o_√∞√Ω‚ÄöA√Ω√î¬©Y+¬º\X√ÅN1ÔøΩn√é.¬ø/√Ç M√ò√∏√ö¬∑8)√º ¬¢¬≠¬∂‚Äô√â-L√ç‚Äù√®√®(√ó0√ë√ì/Àú#¬°gbhdci√•√≠√°T)2¬≤A¬Ωz=¬ªu:x√∞√ò√ë¬£f√éÀú¬±v√ç≈°];w≈†f√ø√§¬Ø¬ø&amp;&amp;%√ù¬Ωs√ß√æ√Ω√ª)√∑√Ø?z√¥√®√©√ì¬ß¬ø√Ω√∂√õ‚Äπ/R_¬ºH¬∏‚Äù√∞√≥√é≈∏√∏~A¬Ø√Æ=b¬£*√∫xx¬∫99[Y√à¬•√µN?m√Ö√Å‚Äπ√ñ√ó√ñ176	√¥√µ¬´[¬´V¬Ø=√¶√ç≈æ¬Ω√ü¬æ‚Äû‚Äû‚ÄûkII√ó¬Æ]¬ø‚Äú|'E√ë¬Ω√ª√¢√â√≠[¬∑√ø¬¨√Ñ√ü&gt;~√¥√∏√π√≥√¢√±√¢‚Ä¶¬ª~√û¬µd√±‚Äô√É‚Ä†7¬™W¬ø|H¬®¬ø¬∑ÔøΩ¬ß¬´‚Ä∫¬¥¬ÆBf!√•≈∏0√ör3s=M-Q√é√∂√ïc¬´√¥√Æ√ôs√°‚Äö≈Ω;√∂√∏√±√£√î√î√î√ß√è≈∏‚ÄπA{√≤√§√â√£GÔøΩ&gt;|√∏ %√•√∂¬≠[√ó¬Æ%]¬π|√π√¥√©√ì¬ªw√≠≈†_¬ør√Ö
qe≈Ω1R≈íd¬ßv√≠[4mV5:6√à√è√ü√ù√ôE≈æ√å√ÑT≈í‚Ä†¬Æ¬¶‚Äìr‚Ä°≈°√ü'≈∏ÀÜ?¬¥4√ªwr√≤~√¶‚Ä∞√≠W¬º</f≈æÔøΩÔøΩÔøΩÔøΩ√†a^^√æ‚Äú√ßo._¬æ√º√≥≈æÔøΩs&m√æ¬Æs‚Äî√¶></pÔøΩ85√±√´√ó_¬ºp√°√æ√Ω{ÔøΩ></z√∏0555333?√ømÔøΩÔøΩÔøΩÔøΩ@¬•ege=x√∞@¬¥r√ß≈æÔøΩÔøΩÔøΩ√ø1m√∫√∞¬°c{v√´√∂¬∞^¬Ω¬†‚Ç¨@g;{‚Ä¶√¨b√¥√µ¬¢></u√≤√§√Ω¬∫uÔøΩÔøΩm¬©¬ª¬≥‚ÄπÔøΩ¬•√¢pwoos√´ho_v¬∞√Æ‚Äû√∏√±√¢k‚Ñ¢‚Ä∞¬£¬≠ÔøΩ(√¢√¢‚Äú></y¬ªn√¥√∞‚Äòu¬£c]ÔøΩ√§f√¶fz√∫%?x;√µq√∫√™√¢p-llm,‚Äû'ÔøΩÔøΩÔøΩÔøΩÔøΩ√¢‚Äú></z√∏p√°></qttut√¥√∑√≤¬©s¬£√¶√†ÔøΩ></p¬†x_‚Ä¢‚Ä°¬±¬£go≈æ8q≈ì√†Àúq¬£zt√≠√∂¬¥q¬£√®jq~^√æ¬•v></p`√©√¢%√Ω√ª√¥k√∂¬∏i√≠5¬´√¶√§v(_¬æl¬†2¬¶√Ø¬´r√£p)"26¬™r‚Ä¢√®√®j√•√™‚Ä†(7v√∂√∞tqp‚Äùn¬ø‚Äô√Æ√ü√π¬¥‚Ä¶√∞ÔøΩÔøΩÔøΩÔøΩ@x√≤aÔøΩ\¬∏¬æ¬®‚Äπ¬Ω¬£ÔøΩ‚Ä°ghp¬∞h√¶¬´u¬©r¬øn√Ω‚Äì√≠≈°¬∑l√æ¬ºi√£√¶></t√∞√†√ø‚Äì,√π√•√∞‚Äò√∞√•ÔøΩÔøΩÔøΩÔøΩ¬®`x‚Äô‚Äî‚Äîw√•√™‚Ä¢uq√´√¶≈æ√Ω¬ºq‚Äú2¬æ√æ¬¢wsr√≤></q{≈æ4k√ºd√¥ÀÜ√´√ó¬≠¬ªy√≥√¶‚Ä∫√¨√¨√º√º√ºo√´"222¬Æ^¬Ω¬≤k√ß√Ø¬≥g√Æj√≥b¬∫m‚Ä°√∞ÔøΩÔøΩÔøΩÔøΩÔøΩ|a√ø√¨√¨‚ÄúfÔøΩ‚Ä∫≈ì></q¬¥¬µ‚Äú¬¢></y√≤√§√¶√≠g√Ø≈ì√π¬∑w√Ø≈æ√≠√ª¬∑n√π¬∫y√≥¬¶√µq√´√∂√•√•¬≠_¬∑nc|√º√¶√∏></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.cs.ru.nl/bachelors-theses/2019/Max_van_Deurzen___4581903___The_anatomy_of_the_modern_window_manager_-_a_case_study_for_X_in_an_Agile_manner.pdf">https://www.cs.ru.nl/bachelors-theses/2019/Max_van_Deurzen___4581903___The_anatomy_of_the_modern_window_manager_-_a_case_study_for_X_in_an_Agile_manner.pdf</a></em></p>]]>
            </description>
            <link>https://www.cs.ru.nl/bachelors-theses/2019/Max_van_Deurzen___4581903___The_anatomy_of_the_modern_window_manager_-_a_case_study_for_X_in_an_Agile_manner.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25495304</guid>
            <pubDate>Mon, 21 Dec 2020 14:39:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Exploring Wikipedia with Python]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25495282">thread link</a>) | @nanayaw1221
<br/>
December 21, 2020 | https://www.pythonstacks.com/blog/exploring-wikipedia-python/ | <a href="https://web.archive.org/web/*/https://www.pythonstacks.com/blog/exploring-wikipedia-python/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <p>In this short tutorial, you will learn to search, browse, and retrieve wiki data from Wikipedia.</p>

<p>For this, we will be using a python library called <span>Wikipedia-API</span> which is quite impressive. Wikipedia-API is an easy to use Python wrapper for <a href="https://www.mediawiki.org/wiki/API:Main_page" rel="nofollow">Wikipedia‚Äôs</a> API. It supports extracting texts, sections, links, categories, translations, etc from Wikipedia.</p>

<p>It even allows you to retrieve the wiki information as HTML so that you could use it in web apps or websites.</p>



<p>We will begin by installing the library:</p>

<pre><code>pip install wikipedia-api</code></pre>



<h2>Searching Wikipedia</h2>

<p>Let's search for the term "Computer Programming"</p>

<pre><code>import wikipediaapi

wiki = wikipediaapi.Wikipedia('en')

page = wiki.page("Computer Programming")</code></pre>

<p>The <span>first line of code imports the<tt> wikipediaapi</tt></span> and the<span> second line creates a Wikipedia object</span>. The last line searches for the page on<em> "Computer Programming"</em> and returns a <span>WikipediaPage object </span>which is then stored in the <code>page</code> variable.</p>

<p>To check if the page exists:</p>

<pre><code>print(page.exists())          # True</code></pre>

<p><br>
To retrieve a page summary:</p>

<pre><code>print(page.summary)</code></pre>

<p><br>
For the full URL of the page:</p>

<pre><code>print(page.fullurl)           # https://en.wikipedia.org/wiki/Computer_programming</code></pre>



<h2>Extracting all information from the Wikipedia page.</h2>

<p>Ok, now let's do more like extracting the whole page in a text format. Putting it all together,</p>

<pre><code>import wikipediaapi

wiki = wikipediaapi.Wikipedia('en')

page = wiki.page("Computer Programming")

print("---------- title ----------")
print(page.title)

print("----------- Page URL ---------")
print(page.fullurl)

print("---------- summary ----------")
print(page.summary[:100])             # slicing summary
print()

print("---------- Main text information -----------")
print(page.text)</code></pre>

<p><br>
<strong><span>output:</span></strong></p>

<pre><code>---------- title ----------
Computer Programming
----------- Page URL ---------
https://en.wikipedia.org/wiki/Computer_programming
---------- summary ----------
Computer programming is the process of designing and building an executable computer program to acco

---------- Main text information -----------
Computer programming is the process of designing and building an executable 
computer program to accomplish a specific computing result or to perform a specific task. Programming involves tasks such as: analysis, generating algorithms, profiling algorithms
 accuracy and resource consumption...(it's more)</code></pre>



<p>Note that the <strong>main text information </strong>is a lot of information and I've truncated it here for simplicity.</p>



<h2>Extracting page in HTML</h2>

<p>To extract a wiki page in HTML, we must tweak our wiki object a little bit:</p>

<pre><code>import wikipediaapi

wiki_html = wikipediaapi.Wikipedia(language="en",
                                   extract_format=wikipediaapi.ExtractFormat.HTML)

page_html = wiki_html.page("Computer Programming")

print("---------- HTML ----------")
print(page_html.text)</code></pre>

<p><br>
<span><strong>output (truncated):</strong></span></p>

<pre><code>---------- HTML ----------
&lt;p class="mw-empty-elt"&gt;

&lt;/p&gt;
&lt;p&gt;&lt;b&gt;Computer programming&lt;/b&gt; is the process of designing and building an executable computer program to accomplish a specific computing result or to perform a specific task. 
Programming involves tasks such as: analysis, generating algorithms, profiling algorithms' accuracy and resource consumption, and the implementation of algorithms in a chosen 
programming language (commonly referred to as &lt;b&gt;coding&lt;/b&gt;). The source code of a program is
 written in one or more languages that are intelligible to programmers, rather than machine code, which is directly executed by the central processing unit. 
The purpose of programming is to find a sequence of instructions that will automate the performance of a task (which can be as complex as an operating system) 
on a computer, often for solving a given problem. 
Proficient programming thus often requires expertise in several different subjects, including knowledge of the...(truncated)</code></pre>



<h2>How to get all Wikipedia pages under a category</h2>

<p>Wikipedia puts its pages under categories like Physics, Science, Programming, Medicine, Company, Celebrity, Countries, Books, etc.</p>

<p>To retrieve all pages in a particular category:</p>

<pre><code>import wikipediaapi

wiki_html = wikipediaapi.Wikipedia('en')

page = wiki_html.page("Category:Physics")

for c in page.categorymembers.values():
    print(c)</code></pre>

<p><strong>output</strong></p>

<pre><code>Physics (id: ??, ns: 0)
Outline of physics (id: ??, ns: 0)
Portal:Physics (id: ??, ns: 100)
Apriorics (id: ??, ns: 0)
Computational anatomy (id: ??, ns: 0)
Conformon (id: ??, ns: 0)
Diffeomorphometry (id: ??, ns: 0)
Dispersive medium (id: ??, ns: 0)
Galilean non-invariance of classical electromagnetism (id: ??, ns: 0)
Homeokinetics (id: ??, ns: 0)
...
...
...</code></pre>



<p>Well, that is it for this tutorial, this is useful when you want to use some data from Wikipedia inside your web applications or any programs you may write.</p>
        </div></div>]]>
            </description>
            <link>https://www.pythonstacks.com/blog/exploring-wikipedia-python/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25495282</guid>
            <pubDate>Mon, 21 Dec 2020 14:37:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[EMA recommends first Covid-19 vaccine for authorisation in the EU]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25495167">thread link</a>) | @cookie0
<br/>
December 21, 2020 | https://www.ema.europa.eu/en/news/ema-recommends-first-covid-19-vaccine-authorisation-eu | <a href="https://web.archive.org/web/*/https://www.ema.europa.eu/en/news/ema-recommends-first-covid-19-vaccine-authorisation-eu">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <div>
          <div>
    <div>
              <div>


<div>
          <div>
              <div><div><p><span>Update:</span>&nbsp;Comirnaty is now authorised across the EU. This follows the granting of a conditional&nbsp;<a href="https://www.ema.europa.eu/en/glossary/marketing-authorisation" id="glossary-term-43236" target="_blank" title="The approval to market a medicine in one, several or all European Union Member States.">marketing authorisation</a> by the European Commission on 21 December 2020.&nbsp;</p></div><p>EMA has recommended granting a <a href="https://www.ema.europa.eu/en/glossary/conditional-marketing-authorisation" id="glossary-term-43109" target="_blank" title="The approval of a medicine that addresses unmet medical needs of patients on the basis of less comprehensive data than normally required. The available data must indicate that the medicine‚Äôs benefits outweigh its risks and the applicant should be in a position to provide the comprehensive clinical data in the future.&nbsp;More information can be found under 'Conditional marketing authorisation'.">conditional marketing authorisation</a> for the vaccine <a href="https://www.ema.europa.eu/en/medicine/summary-opinion/comirnaty-pending-ec-decision" target="_self">Comirnaty</a>, developed by BioNTech and Pfizer, to prevent coronavirus disease 2019 (COVID-19) in people from 16 years of age. EMA‚Äôs scientific opinion paves the way for the first <a href="https://www.ema.europa.eu/en/glossary/marketing-authorisation" id="glossary-term-43236" target="_blank" title="The approval to market a medicine in one, several or all European Union Member States.">marketing authorisation</a> of a COVID-19 vaccine in the EU by the European Commission, with all the safeguards, controls and obligations this entails.</p><p>EMA‚Äôs human medicines committee (<a href="https://www.ema.europa.eu/en/glossary/chmp" id="glossary-term-43090" target="_blank" title="Committee for Medicinal Products for Human Use -  the committee that is responsible for preparing the Agency's opinions on questions concerning human medicines.&nbsp;  More information can be found under 'Committee for Medicinal Products for Human Use (CHMP)'.">CHMP</a>) has completed its rigorous evaluation of Comirnaty, concluding by consensus that sufficiently robust data on the quality, safety and <a href="https://www.ema.europa.eu/en/glossary/efficacy" id="glossary-term-43193" target="_blank" title="The measurement of a medicine's desired effect under ideal conditions, such as in a clinical trial.">efficacy</a> of the vaccine are now available to recommend a formal <a href="https://www.ema.europa.eu/en/glossary/conditional-marketing-authorisation" id="glossary-term-43109" target="_blank" title="The approval of a medicine that addresses unmet medical needs of patients on the basis of less comprehensive data than normally required. The available data must indicate that the medicine‚Äôs benefits outweigh its risks and the applicant should be in a position to provide the comprehensive clinical data in the future.&nbsp;More information can be found under 'Conditional marketing authorisation'.">conditional marketing authorisation</a>. This will provide a controlled and robust framework to underpin EU-wide vaccination campaigns and protect EU citizens.</p><p>‚ÄúToday‚Äôs positive news is an important step forward in our fight against this pandemic, which has caused suffering and hardship for so many,‚Äù said Emer Cooke, Executive Director of EMA. ‚ÄúWe have achieved this milestone thanks to the dedication of scientists, doctors, developers and trial volunteers as well as many experts from all EU Member States.</p><p>‚ÄúOur thorough evaluation means that we can confidently assure EU citizens of the safety and <a href="https://www.ema.europa.eu/en/glossary/efficacy" id="glossary-term-43193" target="_blank" title="The measurement of a medicine's desired effect under ideal conditions, such as in a clinical trial.">efficacy</a> of this vaccine and that it meets necessary quality standards.&nbsp;However, our work does not stop here. We will continue to collect and analyse data on the safety and effectiveness of this vaccine to protect people taking the vaccine in the EU.‚Äù</p><p>A very large <a href="https://www.ema.europa.eu/en/glossary/clinical-trial" id="glossary-term-43092" target="_blank" title="A study performed to investigate the safety or efficacy of a medicine. For human medicines, these studies are carried out in human volunteers.">clinical trial</a> showed that Comirnaty was effective at preventing COVID‚Äë19 in people from 16 years of age.</p><p>The trial involved around 44,000 people in total. Half received the vaccine and half were given a dummy injection. People did not know whether they received the vaccine or the dummy injection.</p><p><a href="https://www.ema.europa.eu/en/glossary/efficacy" id="glossary-term-43193" target="_blank" title="The measurement of a medicine's desired effect under ideal conditions, such as in a clinical trial.">Efficacy</a> was calculated in over 36,000 people from 16 years of age (including people over 75 years of age) who had no sign of previous infection. The study showed a 95% reduction in the number of symptomatic COVID-19 cases in the people who received the vaccine (8 cases out of 18,198 got COVID-19 symptoms) compared with people who received a dummy injection (162 cases out of 18,325 got COVID-19 symptoms). This means that the vaccine demonstrated a 95% <a href="https://www.ema.europa.eu/en/glossary/efficacy" id="glossary-term-43193" target="_blank" title="The measurement of a medicine's desired effect under ideal conditions, such as in a clinical trial.">efficacy</a> in the <a href="https://www.ema.europa.eu/en/glossary/clinical-trial" id="glossary-term-43092" target="_blank" title="A study performed to investigate the safety or efficacy of a medicine. For human medicines, these studies are carried out in human volunteers.">clinical trial</a>.</p><p>The trial also showed around 95% <a href="https://www.ema.europa.eu/en/glossary/efficacy" id="glossary-term-43193" target="_blank" title="The measurement of a medicine's desired effect under ideal conditions, such as in a clinical trial.">efficacy</a> in the participants at risk of severe COVID-19, including those with asthma, chronic lung disease, diabetes, high blood pressure or a body mass index ‚â•&nbsp;30&nbsp;kg/m2. The high <a href="https://www.ema.europa.eu/en/glossary/efficacy" id="glossary-term-43193" target="_blank" title="The measurement of a medicine's desired effect under ideal conditions, such as in a clinical trial.">efficacy</a> was maintained across genders, racial and ethnic groups.</p><p>Comirnaty is given as two injections into the arm, at least 21 days apart.&nbsp;The most common side effects with Comirnaty were usually mild or moderate and got better within a few days after vaccination. They included pain and swelling at the injection site, tiredness, headache, muscle and joint pain, chills and fever. The safety and effectiveness of the vaccine will continue to be monitored as it is used across the Member States, through the <a href="https://www.ema.europa.eu/en/documents/other/pharmacovigilance-plan-eu-regulatory-network-covid-19-vaccines_en.pdf">EU pharmacovigilance system</a> and additional studies by the company and by European authorities.</p><p><strong>Where to find more information</strong></p><p>The <a href="https://www.ema.europa.eu/en/glossary/product-information" id="glossary-term-43231" target="_blank" title="Documents providing officially approved information for healthcare professionals and patients on a medicine. The product information includes the summary of product characteristics, package leaflet and labelling.&nbsp;  More information can be found under&nbsp;'Product-information requirements'.">product information</a>&nbsp;approved by the <a href="https://www.ema.europa.eu/en/glossary/chmp" id="glossary-term-43090" target="_blank" title="Committee for Medicinal Products for Human Use -  the committee that is responsible for preparing the Agency's opinions on questions concerning human medicines.&nbsp;  More information can be found under 'Committee for Medicinal Products for Human Use (CHMP)'.">CHMP</a> for Comirnaty contains prescribing information for healthcare professionals, a <a href="https://www.ema.europa.eu/en/glossary/package-leaflet" id="glossary-term-43212" target="_blank" title="The leaflet in every pack of medicine that contains information on the medicine for end-users, such as patients and animal owners.">package leaflet</a> for members of the public and details of conditions of the vaccine‚Äôs authorisation.</p><p>An assessment report, with details of EMA‚Äôs evaluation of Comirnaty, and the full <a href="https://www.ema.europa.eu/en/glossary/risk-management-plan" id="glossary-term-43172" target="_blank" title="A detailed description of the activities and interventions designed to identify, characterise, prevent or minimise risks relating to medicines.">risk management plan</a> will be published within days. <a href="https://www.ema.europa.eu/en/glossary/clinical-trial" id="glossary-term-43092" target="_blank" title="A study performed to investigate the safety or efficacy of a medicine. For human medicines, these studies are carried out in human volunteers.">Clinical trial</a> data submitted by the company in the application for <a href="https://www.ema.europa.eu/en/glossary/marketing-authorisation" id="glossary-term-43236" target="_blank" title="The approval to market a medicine in one, several or all European Union Member States.">marketing authorisation</a> will be published on the Agency‚Äôs <a href="https://clinicaldata.ema.europa.eu/web/cdp/home">Clinical data website</a> in due course.</p><p>More information is available in <a href="https://www.ema.europa.eu/en/medicines/human/summaries-opinion/comirnaty">an overview of the vaccine in lay language</a>, including a description of the vaccine‚Äôs benefits and risks and why EMA recommended its authorisation in the EU.</p><p><strong>How Comirnaty works</strong></p><p>Comirnaty works by preparing the body to defend itself against COVID-19. It contains a molecule called messenger RNA (mRNA) which has instructions for making the spike protein. This is a protein on the surface of the SARS-CoV-2 virus which the virus needs to enter the body‚Äôs cells.</p><p>When a person is given the vaccine, some of their cells will read the mRNA instructions and temporarily produce the spike protein. The person‚Äôs immune system will then recognise this protein as foreign and produce antibodies and activate T cells (white blood cells) to attack it.</p><p>If, later on, the person comes into contact with SARS-CoV-2 virus, their immune system will recognise it and be ready to&nbsp;defend the body against it.</p><p>The mRNA from the vaccine does not stay in the body but is broken down shortly after vaccination.</p><p><strong><a href="https://www.ema.europa.eu/en/glossary/conditional-marketing-authorisation" id="glossary-term-43109" target="_blank" title="The approval of a medicine that addresses unmet medical needs of patients on the basis of less comprehensive data than normally required. The available data must indicate that the medicine‚Äôs benefits outweigh its risks and the applicant should be in a position to provide the comprehensive clinical data in the future.&nbsp;More information can be found under 'Conditional marketing authorisation'.">Conditional marketing authorisation</a></strong></p><p>A <a href="https://www.ema.europa.eu/en/glossary/conditional-marketing-authorisation" id="glossary-term-43109" target="_blank" title="The approval of a medicine that addresses unmet medical needs of patients on the basis of less comprehensive data than normally required. The available data must indicate that the medicine‚Äôs benefits outweigh its risks and the applicant should be in a position to provide the comprehensive clinical data in the future.&nbsp;More information can be found under 'Conditional marketing authorisation'.">conditional marketing authorisation</a> is one of EU‚Äôs regulatory mechanisms for facilitating early access to medicines that fulfil an unmet medical need, including in emergency situations such as the current pandemic.</p><p>A <a href="https://www.ema.europa.eu/en/glossary/conditional-marketing-authorisation" id="glossary-term-43109" target="_blank" title="The approval of a medicine that addresses unmet medical needs of patients on the basis of less comprehensive data than normally required. The available data must indicate that the medicine‚Äôs benefits outweigh its risks and the applicant should be in a position to provide the comprehensive clinical data in the future.&nbsp;More information can be found under 'Conditional marketing authorisation'.">conditional marketing authorisation</a> is a formal authorisation of the vaccine, covering all batches produced for the EU and providing a robust assessment to underpin vaccination campaigns.</p><p>As Comirnaty is recommended for a <a href="https://www.ema.europa.eu/en/glossary/conditional-marketing-authorisation" id="glossary-term-43109" target="_blank" title="The approval of a medicine that addresses unmet medical needs of patients on the basis of less comprehensive data than normally required. The available data must indicate that the medicine‚Äôs benefits outweigh its risks and the applicant should be in a position to provide the comprehensive clinical data in the future.&nbsp;More information can be found under 'Conditional marketing authorisation'.">conditional marketing authorisation</a>, the company that markets Comirnaty will continue to provide results from the main trial, which is ongoing for 2 years. This trial and additional studies will provide information on how long protection lasts, how well the vaccine prevents severe COVID-19, how well it protects immunocompromised people, children and pregnant women, and whether it prevents asymptomatic cases.</p><p>The company will also carry out studies to provide additional assurance on the pharmaceutical quality of the vaccine as the manufacturing continues to be scaled up.</p><p><strong>Monitoring the safety of Comirnaty</strong></p><p>In line with the EU‚Äôs <a href="https://www.ema.europa.eu/en/news/ema-publishes-safety-monitoring-plan-guidance-risk-management-planning-covid-19-vaccines">safety monitoring plan for COVID-19 vaccines</a>, Comirnaty will be closely monitored and subject to several activities that apply specifically to COVID-19 vaccines. Although large numbers of people have received COVID-19 vaccines in <a href="https://www.ema.europa.eu/en/glossary/clinical-trial" id="glossary-term-43092" target="_blank" title="A study performed to investigate the safety or efficacy of a medicine. For human medicines, these studies are carried out in human volunteers.">clinical trials</a>, certain side effects may only emerge when millions of people are vaccinated.</p><p>Companies are required to provide monthly safety reports in addition to the regular updates required by the legislation and conduct studies to monitor the safety and effectiveness of the vaccines as they are used by the public. Authorities will also conduct additional studies to monitor the vaccines.</p><p>These measures will allow regulators to swiftly assess data emerging from a range of different sources and take appropriate regulatory action to protect public health if needed.</p><p><strong>Assessment of Comirnaty</strong></p><p>During the assessment of Comirnaty, the <a href="https://www.ema.europa.eu/en/glossary/chmp" id="glossary-term-43090" target="_blank" title="Committee for Medicinal Products for Human Use -  the committee that is responsible for preparing the Agency's opinions on questions concerning human medicines.&nbsp;  More information can be found under 'Committee for Medicinal Products for Human Use (CHMP)'.">CHMP</a> had the support of <a href="https://www.ema.europa.eu/en/committees/pharmacovigilance-risk-assessment-committee-prac">EMA‚Äôs safety committee, PRAC</a>, who assessed the <a href="https://www.ema.europa.eu/en/glossary/risk-management-plan" id="glossary-term-43172" target="_blank" title="A detailed description of the activities and interventions designed to identify, characterise, prevent or minimise risks relating to medicines.">risk management plan</a> of Comirnaty, and the <a href="https://www.ema.europa.eu/en/human-regulatory/overview/public-health-threats/coronavirus-disease-covid-19/emas-governance-during-covid-19-pandemic#covid-19-ema-pandemic-task-force-section">COVID-19 EMA pandemic task force (COVID-ETF)</a>, a group that brings together experts from across the <a href="https://www.ema.europa.eu/en/glossary/european-medicines-regulatory-network" id="glossary-term-43201" target="_blank" title="The system for regulating medicines in Europe is based on a closely coordinated regulatory network of national competent authorities in the Member States of the European Economic Area working together with the European Medicines Agency and the European Commission.&nbsp;  More information can be found under 'European medicines regulatory network'.">European medicines regulatory network</a> to facilitate rapid and coordinated regulatory action on medicines and vaccines for COVID-19.</p><p>The European Commission will now fast-track the decision-making process to grant a decision on the <a href="https://www.ema.europa.eu/en/glossary/conditional-marketing-authorisation" id="glossary-term-43109" target="_blank" title="The approval of a medicine that addresses unmet medical needs of patients on the basis of less comprehensive data than normally required. The available data must indicate that the medicine‚Äôs benefits outweigh its risks and the applicant should be in a position to provide the comprehensive clinical data in the future.&nbsp;More information can be found under 'Conditional marketing authorisation'.">conditional marketing authorisation</a> for Comirnaty, allowing&nbsp;vaccination programmes to be rolled out across the EU.</p></div>
          </div>
  </div>

</div>
          </div>
  </div>
    </div>
</div></div>]]>
            </description>
            <link>https://www.ema.europa.eu/en/news/ema-recommends-first-covid-19-vaccine-authorisation-eu</link>
            <guid isPermaLink="false">hacker-news-small-sites-25495167</guid>
            <pubDate>Mon, 21 Dec 2020 14:23:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Predictions for Making Money in 2021 and Beyond]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25495119">thread link</a>) | @ericvanular
<br/>
December 21, 2020 | https://ericvanular.com/future-of-work/ | <a href="https://web.archive.org/web/*/https://ericvanular.com/future-of-work/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>2020 has brought permanent change to the working world and the way that economic incentives are pointed. Let‚Äôs walk through how the effects we‚Äôre starting to see today will reward those who can position themselves well. A vaccine is starting to be deployed as of the time of writing and we can imagine how a post COVID world will play out. Having worked with data for some time, I can confidently say that forecasting is generally wrong for most things - <em>but forecasts that anticipate how incentives will affect behaviour are usually right</em>.</p>
<h3 id="the-concept-of-distinct-countries-is-starting-to-crack"><a href="#the-concept-of-distinct-countries-is-starting-to-crack" aria-label="the concept of distinct countries is starting to crack permalink"></a>The concept of distinct countries is starting to crack.</h3>
<p>Everyday people have never had so much individual freedom and autonomy. The immense but quiet transition happening is the world moving away from geography-based local economies to a single global cyber-based economy. Profound implications result from this tectonic shift. </p>
<p>An increase in human mobility across borders will mean that skilled individuals will move to wherever suits them best at that point in time. Personal quality of life considerations will weigh heavily into this, favouring lower cost of living locales with good weather, culture, and social opportunities. Countries with high taxation will see brain drain and capital flight in increasing amounts. When money can be earned anywhere, you won‚Äôt be obligated to subjugate yourself to high taxes. Rather than being tied to the work opportunities in your local city, you can live in one country and be employed in another, using financial arbitrage to your advantage. Of course, this only works for those who can work online - any career relating to physical goods or services will remain local. The flipside of this is that you now compete globally for work! Companies that don‚Äôt offer remote work will lose the talent war and won‚Äôt be able to draw the ‚ÄúA Players‚Äù they seek. The age of the sovereign individual is here. In an extreme example, it is possible to declare tax non-residency from your home country, instead choosing to be taxed in a nation state with minimal or no tax requirements - potentially avoiding paying taxes altogether. Governments that charge too much will drive away their best customers. The digital nomad movement is a prime example of this. The nation-state will not endure these changes in its present form. </p>
<p><strong>For greater future flexibility and options, you should do everything that you can to make your career remote. It will give you much more career capital and let you work with the most successful people.</strong></p>
<h3 id="introducing-you-incorporated"><a href="#introducing-you-incorporated" aria-label="introducing you incorporated permalink"></a>Introducing "You, Incorporated"...</h3>
<p>One change that has been accelerated is the trend of rapidly changing jobs rather than having a long career in one company. The incentives are increasingly against those who stay in their jobs for more than a few years. Performance evaluations, corporate politics, wage structures all advantage those who jump between opportunities more often. The corporate ladder is now more diagonal for those with the highest aspirations. Nothing here is a revolutionary prediction but here is what is: <strong>eventually the idea of having a job will go away altogether</strong>. The late game of this trend is that employees will become companies of one - independent contractors for contracted services. Your financial success will be completely dependent on your ability to provide goods or services that actually provide value. ‚ÄúWhat are you working on right now?‚Äù will be a more relevant question than ‚Äúwhat do you do?‚Äù. The days of irrelevant paper-pushing jobs are numbered - eventually automation and technology will trim most of the fat from all but the biggest companies. </p>
<p><strong>To get an advantage, start looking at yourself as a company of one today. Start thinking about exactly why a business would pay you, not in terms of the skills you possess but because of the revenue you bring in or the costs you cut.</strong></p>
<h3 id="get-skilled--get-focused"><a href="#get-skilled--get-focused" aria-label="get skilled  get focused permalink"></a>Get Skilled &amp; Get Focused</h3>
<p>A lot of these changes are going to be acutely painful for unskilled workers. I‚Äôm sure you‚Äôve noticed that the middle class is disappearing quickly. At some point, this could reach a boil and prompt strong negative reactions from those who are underemployed due to automation. There could be a widespread push back against those leveraging technology. We are already seeing the beginnings of this today but the momentum is continuing in this direction. Main Street businesses have been decimated by COVID and have concentrated power even more in the tech giants‚Äô hands. It‚Äôs hard to predict how this ends when so much of the global power is concentrated in the hands of so few. The economy runs fine when there is a relatively wealthy middle class who keep it moving but we are entering the age of exclusively haves and have-nots. We could see large political movements rise up to tackle the issue with regulation. We could also see a larger subset of people opting out of the default working arrangements. </p>
<p><strong>If you want to avoid being on the wrong side of this widening chasm, it is time to double down on a skill that is in demand today. Ignore most other things. Programming, effective business writing, digital distribution, and video making are all very in demand skill sets as a starting point.</strong></p>
<h3 id="businesses-are-harder-to-track-online"><a href="#businesses-are-harder-to-track-online" aria-label="businesses are harder to track online permalink"></a>Businesses Are Harder To Track Online</h3>
<p>Information is power. Those who have it will win, those who don‚Äôt will lose. In parallel, technology is getting faster and more capable. If your business is not online, it does not exist. This is going to make it harder for governments to track business activity, again undermining their strength. Cryptocurrencies feed directly into this. As more money moves online, governments won‚Äôt be able to track or control it anymore. They‚Äôll lose their power over commerce and won‚Äôt be able to treat their citizens as revenue sources. They also have the ability to erode savings held in fiat currencies through inflation and money printing. Part of the appeal of digital currencies is the hedge against inflation, though there are still many barriers to their widespread use for transactions. Digital businesses having a country of origin will largely lose meaning.</p>
<h2 id="so-what-can-i-do-today-to-help-my-future-self"><a href="#so-what-can-i-do-today-to-help-my-future-self" aria-label="so what can i do today to help my future self permalink"></a>So What Can I Do Today To Help My Future Self?</h2>
<p><strong>In the future, wealth will be measured by your ability to structure your affairs to complete individual autonomy and independence.</strong> </p>
<p>For some, there will be unprecedented financial independence in the new economy based on information. There is no doubt that the cyber economy is the greatest economic phenomenon in history so far. It enables infinite leverage. As access to technology grows and becomes more accessible, we can multiply our abilities as individuals by getting computers to complete tasks for us. </p>
<p><strong>For you to place yourself in a good spot, you need to focus on finding a point of leverage somewhere. Leverage means reaching more customers with less work. Tools that give you leverage include code (servers work for you), money (can be invested to earn compound returns), and media (create once, distribute forever). Would-be millionaires need to identify and capitalize on their specific points of leverage.</strong></p>
<blockquote>
<p>If you can teach yourself to solve problems, you have a bright career ahead. No matter where you live, you will find problems galore in need of solving. Those who would benefit from solutions to their problems, will pay you handsomely to solve them.</p>
</blockquote></div><p>I write about how you can improve your life, technology, &amp; saving the planet. Keep up with new posts. Unsubscribe whenever. I promise I won't spam you.</p></div>]]>
            </description>
            <link>https://ericvanular.com/future-of-work/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25495119</guid>
            <pubDate>Mon, 21 Dec 2020 14:18:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Yash, yet another shell, a Posix-compliant command line shell written in C99]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25495020">thread link</a>) | @codesections
<br/>
December 21, 2020 | https://yash.osdn.jp/index.html.en | <a href="https://web.archive.org/web/*/https://yash.osdn.jp/index.html.en">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
<p>This web page is also available in <a href="https://yash.osdn.jp/index.html.ja" lang="ja">Êó•Êú¨Ë™û</a>.

</p>

<p id="summary">Yash, yet another shell,
is a POSIX-compliant command line shell written in C99 (ISO/IEC 9899:1999).
Yash is intended to be the most POSIX-compliant shell in the world
while supporting features for daily interactive and scripting use.
Notable features are:
</p><ul>
<li>Global aliases
</li><li>Arrays
</li><li>Socket redirection, pipeline redirection, and process redirection
</li><li>Brace expansion and extended globbing
</li><li>Fractional numbers in arithmetic expansion
</li><li>Prompt command and command-not-found handler
</li><li>Command line completion with predefined completion scripts for more than 100 commands
</li><li>Command line prediction based on command history
</li></ul>
<p>Yash can be modified/redistributed under the terms of the <a href="http://www.gnu.org/licenses/gpl.html">GNU General Public License</a>
(Version 2) but the use of this program is
<strong>without any warranty</strong>.
</p><p><a href="https://osdn.net/"></a>:
Yash is an OSDN-hosted project. See also the
<a href="https://osdn.net/projects/yash/">project summary page</a>.

</p><h2 id="progress">Current Development Status</h2>
<p>Yash now fully supports POSIX.1-2008 (IEEE Std 1003.1, 2016 Edition)
except for the limitations listed in <a href="https://github.com/magicant/yash/blob/trunk/README">README</a>.
</p><p>Yash is stable. A maintenance update is released every three months or so.
For the change history, see <a href="https://github.com/magicant/yash/blob/trunk/NEWS">NEWS</a>.
</p><p>The source code is versioned in the <a href="https://osdn.net/projects/yash/scm/svn/">Subversion repository</a> and mirrored
on <a href="https://github.com/magicant/yash">GitHub</a>.

</p><h2 id="requirements">Requirements</h2>
<p>Yash is supposed to build and run on any POSIX.1-2001 environment
with the Software Development Utilities and the C-Language Development Utilities
options.
Currently, yash is mainly tested on Fedora, macOS, and Cygwin.

</p><h2 id="downloads">Installation</h2>
<p>The source tarball can be downloaded from the
<a href="https://osdn.net/projects/yash/releases/">release page</a>
(or the <a href="https://yash.osdn.jp/releases">release list</a>).
</p><p>On <a href="https://getfedora.org/">Fedora</a>, the yash package can be installed by <kbd>sudo dnf install yash</kbd>. On <a href="https://www.debian.org/">Debian</a> and <a href="https://www.ubuntu.com/">Ubuntu</a>, the yash package can be installed by <kbd>sudo apt-get install yash</kbd>. For macOS, <a href="https://www.macports.org/">MacPorts</a> and <a href="http://brew.sh/">Homebrew</a> provide yash installation.
</p><p>After installation, enter <kbd>yash</kbd> in the terminal to start yash.
The <a href="https://yash.osdn.jp/doc/">manual</a> can be viewed by <kbd>man yash</kbd>.

</p><h2 id="configuration">Basic Configuration</h2>

<h3>Initialization scripts</h3>
<p>When yash is started as a login shell, it reads ~/.yash_profile.
This file is a shell script in which you define environment variables using the export command.
</p><p>When yash is started for an interactive use, it reads ~/.yashrc (after reading ~/.yash_profile if it is a login shell also).
In this file, you make other configurations such as aliases, prompt strings, key bindings for command line editing, and command-not-found handler.
Use the <a href="https://github.com/magicant/yash/blob/trunk/share/initialization/sample">sample yashrc</a> as a template for your ~/.yashrc.

</p><h3>Making yash your login shell</h3>
<p>In many Unix-like OSes, a shell must be listed in /etc/shells to be set as a login shell. Edit this file and ensure that the path to yash is written in the file.
</p><p>Then, run the <kbd>chsh</kbd> command in the terminal and follow instructions from the command.
Depending on your system, you may have to use another command to change the login shell.
See documentation on your system.

</p><address id="about_this_document">
¬© 2009-2017 <a href="mailto:magicant@users.osdn.me">magicant</a> / Last modified: 2017-01-18
</address>



</div>]]>
            </description>
            <link>https://yash.osdn.jp/index.html.en</link>
            <guid isPermaLink="false">hacker-news-small-sites-25495020</guid>
            <pubDate>Mon, 21 Dec 2020 14:05:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Make a Language in Rust: Errors]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25494909">thread link</a>) | @azhenley
<br/>
December 21, 2020 | https://arzg.github.io/lang/18/ | <a href="https://web.archive.org/web/*/https://arzg.github.io/lang/18/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>So far, our parser has only concerned itself with input that is correct. In a world of IDEs and language servers, however, the input to our parser will be wrong more often than not. Therefore, it is important that our parser can:</p><ul><li>recover gracefully from errors</li><li>infer as detailed a syntax tree from the input as possible</li><li>report errors in a user-friendly manner</li></ul><p>Unfortunately for us, the only thing our parser currently supports is arithmetic expressions, which don‚Äôt make error recovery techniques easy to demonstrate. Let‚Äôs first implement a parser for variable definitions.</p><p>Since variable definitions aren‚Äôt expressions, we shouldn‚Äôt put them in the <code>expr</code> module. Let‚Äôs create a new <code>stmt</code> module for statements:</p><div><pre><code data-lang="rust"><span>// grammar.rs
</span><span></span><span>
</span><span></span><span>mod</span> <span>expr</span><span>;</span><span>
</span><span></span><span>mod</span> <span>stmt</span><span>;</span><span>
</span></code></pre></div><div><pre><code data-lang="rust"><span>// crates/parser/src/grammar/stmt.rs
</span><span></span><span>
</span><span></span><span>use</span><span> </span><span>super</span>::<span>*</span><span>;</span><span>
</span><span>
</span><span></span><span>pub</span><span>(</span><span>super</span><span>)</span><span> </span><span>fn</span> <span>stmt</span><span>(</span><span>p</span>: <span>&amp;</span><span>mut</span><span> </span><span>Parser</span><span>)</span><span> </span>-&gt; <span>Option</span><span>&lt;</span><span>CompletedMarker</span><span>&gt;</span><span> </span><span>{</span><span>
</span><span>    </span><span>todo</span><span>!</span><span>()</span><span>
</span><span></span><span>}</span><span>
</span></code></pre></div><p>We‚Äôll use the same syntax for variable definitions as we used before the rewrite:</p><pre><code>let name = expr
</code></pre><p>A test:</p><div><pre><code data-lang="rust"><span>#[cfg(test)]</span><span>
</span><span></span><span>mod</span> <span>tests</span><span> </span><span>{</span><span>
</span><span>    </span><span>use</span><span> </span><span>crate</span>::<span>check</span><span>;</span><span>
</span><span>    </span><span>use</span><span> </span><span>expect_test</span>::<span>expect</span><span>;</span><span>
</span><span>
</span><span>    </span><span>#[test]</span><span>
</span><span>    </span><span>fn</span> <span>parse_variable_definition</span><span>()</span><span> </span><span>{</span><span>
</span><span>        </span><span>check</span><span>(</span><span>
</span><span>            </span><span>"let foo = bar"</span><span>,</span><span>
</span><span>            </span><span>expect</span><span>!</span><span>[[</span><span>r#"
</span><span>Root@0..13
</span><span>  VariableDef@0..13
</span><span>    LetKw@0..3 "let"
</span><span>    Whitespace@3..4 " "
</span><span>    Ident@4..7 "foo"
</span><span>    Whitespace@7..8 " "
</span><span>    Equals@8..9 "="
</span><span>    Whitespace@9..10 " "
</span><span>    VariableRef@10..13
</span><span>      Ident@10..13 "bar""#</span><span>]],</span><span>
</span><span>        </span><span>);</span><span>
</span><span>    </span><span>}</span><span>
</span><span></span><span>}</span><span>
</span></code></pre></div><p>We can now implement parsing of variable definitions:</p><div><pre><code data-lang="rust"><span>pub</span><span>(</span><span>super</span><span>)</span><span> </span><span>fn</span> <span>stmt</span><span>(</span><span>p</span>: <span>&amp;</span><span>mut</span><span> </span><span>Parser</span><span>)</span><span> </span>-&gt; <span>Option</span><span>&lt;</span><span>CompletedMarker</span><span>&gt;</span><span> </span><span>{</span><span>
</span><span>    </span><span>match</span><span> </span><span>p</span><span>.</span><span>peek</span><span>()</span><span> </span><span>{</span><span>
</span><span>        </span><span>Some</span><span>(</span><span>SyntaxKind</span>::<span>LetKw</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>variable_def</span><span>(</span><span>p</span><span>),</span><span>
</span><span>        </span><span>_</span><span> </span><span>=&gt;</span><span> </span><span>None</span><span>,</span><span>
</span><span>    </span><span>}</span><span>
</span><span></span><span>}</span><span>
</span><span>
</span><span></span><span>fn</span> <span>variable_def</span><span>(</span><span>p</span>: <span>&amp;</span><span>mut</span><span> </span><span>Parser</span><span>)</span><span> </span>-&gt; <span>Option</span><span>&lt;</span><span>CompletedMarker</span><span>&gt;</span><span> </span><span>{</span><span>
</span><span>    </span><span>assert</span><span>!</span><span>(</span><span>p</span><span>.</span><span>at</span><span>(</span><span>SyntaxKind</span>::<span>LetKw</span><span>));</span><span>
</span><span>    </span><span>let</span><span> </span><span>m</span><span> </span><span>=</span><span> </span><span>p</span><span>.</span><span>start</span><span>();</span><span>
</span><span>    </span><span>p</span><span>.</span><span>bump</span><span>();</span><span>
</span><span>
</span><span>    </span><span>assert</span><span>!</span><span>(</span><span>p</span><span>.</span><span>at</span><span>(</span><span>SyntaxKind</span>::<span>Ident</span><span>));</span><span>
</span><span>    </span><span>p</span><span>.</span><span>bump</span><span>();</span><span>
</span><span>
</span><span>    </span><span>assert</span><span>!</span><span>(</span><span>p</span><span>.</span><span>at</span><span>(</span><span>SyntaxKind</span>::<span>Equals</span><span>));</span><span>
</span><span>    </span><span>p</span><span>.</span><span>bump</span><span>();</span><span>
</span><span>
</span><span>    </span><span>expr</span>::<span>expr</span><span>(</span><span>p</span><span>)</span><span>?</span><span>;</span><span>
</span><span>
</span><span>    </span><span>Some</span><span>(</span><span>m</span><span>.</span><span>complete</span><span>(</span><span>p</span><span>,</span><span> </span><span>SyntaxKind</span>::<span>VariableDef</span><span>))</span><span>
</span><span></span><span>}</span><span>
</span></code></pre></div><p>Instead of handling errors, we repeatedly <code>assert</code> the token we‚Äôre at; since we know at that point the token we‚Äôre at, we can just <code>bump</code> past it.</p><p>Let‚Äôs quickly define <code>SyntaxKind::VariableDef</code>:</p><div><pre><code data-lang="rust"><span>// crates/syntax/src/lib.rs
</span><span></span><span>
</span><span></span><span>#[derive(Debug, Copy, Clone, PartialEq, FromPrimitive, ToPrimitive)]</span><span>
</span><span></span><span>pub</span><span> </span><span>enum</span> <span>SyntaxKind</span><span> </span><span>{</span><span>
</span><span>    </span><span>// snip
</span><span></span><span>    </span><span>Root</span><span>,</span><span>
</span><span>    </span><span>InfixExpr</span><span>,</span><span>
</span><span>    </span><span>Literal</span><span>,</span><span>
</span><span>    </span><span>ParenExpr</span><span>,</span><span>
</span><span>    </span><span>PrefixExpr</span><span>,</span><span>
</span><span>    </span><span>VariableDef</span><span>,</span><span>
</span><span>    </span><span>VariableRef</span><span>,</span><span>
</span><span></span><span>}</span><span>
</span></code></pre></div><p>Our parser compiles, but we get a failing test because <code>root</code> doesn‚Äôt use <code>stmt</code>. The solution is to have <code>stmt</code> fall back to calling <code>expr</code> if it isn‚Äôt sure what it‚Äôs looking at:</p><div><pre><code data-lang="rust"><span>// crates/parser/src/grammar/stmt.rs
</span><span></span><span>
</span><span></span><span>pub</span><span>(</span><span>super</span><span>)</span><span> </span><span>fn</span> <span>stmt</span><span>(</span><span>p</span>: <span>&amp;</span><span>mut</span><span> </span><span>Parser</span><span>)</span><span> </span>-&gt; <span>Option</span><span>&lt;</span><span>CompletedMarker</span><span>&gt;</span><span> </span><span>{</span><span>
</span><span>    </span><span>match</span><span> </span><span>p</span><span>.</span><span>peek</span><span>()</span><span> </span><span>{</span><span>
</span><span>        </span><span>Some</span><span>(</span><span>SyntaxKind</span>::<span>LetKw</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>variable_def</span><span>(</span><span>p</span><span>),</span><span>
</span><span>        </span><span>_</span><span> </span><span>=&gt;</span><span> </span><span>expr</span>::<span>expr</span><span>(</span><span>p</span><span>),</span><span>
</span><span>    </span><span>}</span><span>
</span><span></span><span>}</span><span>
</span></code></pre></div><p>We can now call <code>stmt</code> from <code>root</code>:</p><div><pre><code data-lang="rust"><span>// grammar.rs
</span><span></span><span>
</span><span></span><span>pub</span><span>(</span><span>crate</span><span>)</span><span> </span><span>fn</span> <span>root</span><span>(</span><span>p</span>: <span>&amp;</span><span>mut</span><span> </span><span>Parser</span><span>)</span><span> </span>-&gt; <span>CompletedMarker</span><span> </span><span>{</span><span>
</span><span>    </span><span>let</span><span> </span><span>m</span><span> </span><span>=</span><span> </span><span>p</span><span>.</span><span>start</span><span>();</span><span>
</span><span>    </span><span>stmt</span>::<span>stmt</span><span>(</span><span>p</span><span>);</span><span>
</span><span>
</span><span>    </span><span>m</span><span>.</span><span>complete</span><span>(</span><span>p</span><span>,</span><span> </span><span>SyntaxKind</span>::<span>Root</span><span>)</span><span>
</span><span></span><span>}</span><span>
</span></code></pre></div><pre><code data-lang="-">$ cargo t -q --lib

running 18 tests
..................
test result: ok. 18 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out


running 18 tests
...............F..
failures:

---- grammar::stmt::tests::parse_variable_definition stdout ----
thread 'grammar::stmt::tests::parse_variable_definition' panicked at 'Markers need to be completed', /Users/aramis/.cargo/registry/src/github.com-1ecc6299db9ec823/drop_bomb-0.1.5/src/lib.rs:113:13
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    grammar::stmt::tests::parse_variable_definition

test result: FAILED. 17 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out
</code></pre><p>What seems to have happened is that <code>expr</code> has returned <code>None</code>, causing <code>variable_def</code> to return early, which in turn means the marker isn‚Äôt completed. Since we don‚Äôt care about error handling yet, we can add an <code>unwrap</code>:</p><div><pre><code data-lang="rust"><span>// stmt.rs
</span><span></span><span>
</span><span></span><span>pub</span><span>(</span><span>super</span><span>)</span><span> </span><span>fn</span> <span>stmt</span><span>(</span><span>p</span>: <span>&amp;</span><span>mut</span><span> </span><span>Parser</span><span>)</span><span> </span>-&gt; <span>Option</span><span>&lt;</span><span>CompletedMarker</span><span>&gt;</span><span> </span><span>{</span><span>
</span><span>    </span><span>match</span><span> </span><span>p</span><span>.</span><span>peek</span><span>()</span><span> </span><span>{</span><span>
</span><span>        </span><span>Some</span><span>(</span><span>SyntaxKind</span>::<span>LetKw</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>Some</span><span>(</span><span>variable_def</span><span>(</span><span>p</span><span>)),</span><span>
</span><span>        </span><span>_</span><span> </span><span>=&gt;</span><span> </span><span>expr</span>::<span>expr</span><span>(</span><span>p</span><span>),</span><span>
</span><span>    </span><span>}</span><span>
</span><span></span><span>}</span><span>
</span><span>
</span><span></span><span>fn</span> <span>variable_def</span><span>(</span><span>p</span>: <span>&amp;</span><span>mut</span><span> </span><span>Parser</span><span>)</span><span> </span>-&gt; <span>CompletedMarker</span><span> </span><span>{</span><span>
</span><span>    </span><span>assert</span><span>!</span><span>(</span><span>p</span><span>.</span><span>at</span><span>(</span><span>SyntaxKind</span>::<span>LetKw</span><span>));</span><span>
</span><span>    </span><span>let</span><span> </span><span>m</span><span> </span><span>=</span><span> </span><span>p</span><span>.</span><span>start</span><span>();</span><span>
</span><span>    </span><span>p</span><span>.</span><span>bump</span><span>();</span><span>
</span><span>
</span><span>    </span><span>assert</span><span>!</span><span>(</span><span>p</span><span>.</span><span>at</span><span>(</span><span>SyntaxKind</span>::<span>Ident</span><span>));</span><span>
</span><span>    </span><span>p</span><span>.</span><span>bump</span><span>();</span><span>
</span><span>
</span><span>    </span><span>assert</span><span>!</span><span>(</span><span>p</span><span>.</span><span>at</span><span>(</span><span>SyntaxKind</span>::<span>Equals</span><span>));</span><span>
</span><span>    </span><span>p</span><span>.</span><span>bump</span><span>();</span><span>
</span><span>
</span><span>    </span><span>expr</span>::<span>expr</span><span>(</span><span>p</span><span>).</span><span>unwrap</span><span>();</span><span>
</span><span>
</span><span>    </span><span>m</span><span>.</span><span>complete</span><span>(</span><span>p</span><span>,</span><span> </span><span>SyntaxKind</span>::<span>VariableDef</span><span>)</span><span>
</span><span></span><span>}</span><span>
</span></code></pre></div><pre><code data-lang="-">$ cargo t -q --lib

running 18 tests
..................
test result: ok. 18 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out


running 18 tests
..............F...
failures:

---- grammar::stmt::tests::parse_variable_definition stdout ----
thread 'grammar::stmt::tests::parse_variable_definition' panicked at 'called `Option::unwrap()` on a `None` value', crates/parser/src/grammar/stmt.rs:21:19
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    grammar::stmt::tests::parse_variable_definition

test result: FAILED. 17 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out
</code></pre><p>Huh, that‚Äôs weird; why is <code>expr</code> returning <code>None</code>? The only places where it can do so are <code>let lhs = lhs()?;</code> and if it doesn‚Äôt see an operator. Oh, <em>wait.</em></p><p>We should be returning <code>lhs</code> at that point instead:</p><div><pre><code data-lang="rust"><span>fn</span> <span>expr_binding_power</span><span>(</span><span>p</span>: <span>&amp;</span><span>mut</span><span> </span><span>Parser</span><span>,</span><span> </span><span>minimum_binding_power</span>: <span>u8</span><span>)</span><span> </span>-&gt; <span>Option</span><span>&lt;</span><span>CompletedMarker</span><span>&gt;</span><span> </span><span>{</span><span>
</span><span>    </span><span>let</span><span> </span><span>mut</span><span> </span><span>lhs</span><span> </span><span>=</span><span> </span><span>lhs</span><span>(</span><span>p</span><span>)</span><span>?</span><span>;</span><span> </span><span>// we‚Äôll handle errors later.
</span><span></span><span>
</span><span>    </span><span>loop</span><span> </span><span>{</span><span>
</span><span>        </span><span>let</span><span> </span><span>op</span><span> </span><span>=</span><span> </span><span>match</span><span> </span><span>p</span><span>.</span><span>peek</span><span>()</span><span> </span><span>{</span><span>
</span><span>            </span><span>// snip
</span><span></span><span>            </span><span>_</span><span> </span><span>=&gt;</span><span> </span><span>break</span><span>,</span><span> </span><span>// we‚Äôll handle errors later.
</span><span></span><span>        </span><span>};</span><span>
</span><span>
</span><span>        </span><span>// snip
</span><span></span><span>    </span><span>}</span><span>
</span><span>
</span><span>    </span><span>Some</span><span>(</span><span>lhs</span><span>)</span><span>
</span><span></span><span>}</span><span>
</span></code></pre></div><pre><code data-lang="-">$ cargo t -q --lib

running 18 tests
..................
test result: ok. 18 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out


running 18 tests
..................
test result: ok. 18 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out
</code></pre><p>Let‚Äôs say the parser is being used as part of a language server, and the user has typed out a variable definition:</p><pre><code>let b = a
</code></pre><p>They realise they haven‚Äôt defined <code>a</code>, so they define it above:</p><pre><code>let a = 10
let b = a
</code></pre><p>While the user is in the middle of typing that, our parser sees this:</p><pre><code>let a =
let b = a
</code></pre><p>What we want is for our parser to recognise two variable definitions, with the first missing an expression. This way, language intelligence like Go To Definition can continue working in spite of an incomplete file; if we tell the editor to ‚Äògo to the definition of <code>a</code>‚Äô, it will know where to go because it‚Äôs recognised two separate variable definitions. The parser would also report an error on the second <code>let</code> keyword along the lines of</p><pre><code>expected number, identifier, ‚Äò-‚Äô or ‚Äò(‚Äô, but found ‚Äòlet‚Äô
</code></pre><p>Our goal for the rest of this part is to make Eldiro have this behaviour.</p><p>This is the simplest of all the error recovery techniques; if you expect to see a <code>Foo</code>, but see something else, you skip tokens until you find a <code>Foo</code>. This is simple to implement but doesn‚Äôt deliver the best output, since it throws away a lot of possibly-useful tokens. For example, all the underlined tokens here are thrown away:</p><pre><code data-lang="-">let a =
let b = a
-------
</code></pre><p>Here the IDE‚Äôs Go To Definition on <code>a</code> wouldn‚Äôt work, and the user would get an ‚Äòundefined variable <code>a</code>‚Äô error. Evidently, this error recovery strategy doesn‚Äôt let us achieve the ideal case we laid out before.</p><p>The idea is to start with the above approach, but <em>don‚Äôt skip certain tokens.</em> For example, let‚Äôs say we have the following code:</p><pre><code>{
  let a = {
    let bar =
  }
  10
}
</code></pre><p>The naive approach would start looking for an expression after the <code>let bar =</code>, and would stop throwing away tokens at <code>10</code>. It now consumes the final <code>}</code> to close the <code>let a = {</code> block. This doesn‚Äôt leave a <code>}</code> to close the surrounding block, though, which means the user gets an ‚Äòunclosed <code>{</code>‚Äô error. Here‚Äôs roughly what the parser sees if you don‚Äôt include errors and fix the indentation:</p><pre><code>{
  let a = {
    let bar = 10
  }
</code></pre><p>With the fancier approach, we can tell the parser not to skip <code>}</code> tokens, since those are important for recognising program structure. In languages with explicit statement terminators, parsers are often constructed so that <code>;</code> is never skipped. These tokens that aren‚Äôt to be skipped by the parser during error recovery are called ‚Äòrecovery sets‚Äô.</p><p>We can improve on this approach by only ever skipping one token, which means we throw away even less of the input.</p><p>Remember that ideal example from earlier?</p><pre><code>let a =
let b = a
</code></pre><p>We can achieve the goal of recognising two variable declarations by including <code>let</code> in the parser‚Äôs recovery set. This way, whenever the parser encounters an unexpected <code>let</code>, it will stop parsing what it‚Äôs up to and keep returning from subparsers until it gets to a state in which <code>let</code> can be recognised.</p><p>Let‚Äôs write a test for the case we just discussed:</p><div><pre><code data-lang="rust"><span>// stmt.rs
</span><span></span><span>
</span><span></span><span>#[cfg(test)]</span><span>
</span><span></span><span>mod</span> <span>tests</span><span> </span><span>{</span><span>
</span><span>    </span><span>// snip
</span><span></span><span>
</span><span>    </span><span>#[test]</span><span>
</span><span>    </span><span>fn</span> <span>recover_on_let_token</span><span>()</span><span> </span><span>{</span><span>
</span><span>        </span><span>check</span><span>(</span><span>
</span><span>            </span><span>"let a =\nlet b = a"</span><span>,</span><span>
</span><span>            </span><span>expect</span><span>!</span><span>[[</span><span>r#"
</span><span>Root@0..17
</span><span>  VariableDef@0..8
</span><span>    LetKw@0..3 "let"
</span><span>    Whitespace@3..4 " "
</span><span>    Ident@4..5 "a"
</span><span>    Whitespace@5..6 " "
</span><span>    Equals@6..7 "="
</span><span>    Whitespace@7..8 "\n"
</span><span>  VariableDef@8..17
</span><span>    LetKw@8..11 "let"
</span><span>    Whitespace@11..12 " "
</span><span>    Ident@12..13 "b"
</span><span>    Whitespace@13..14 " "
</span><span>    Equals@14..15 "="
</span><span>    Whitespace@15..16 " "
</span><span>    VariableRef@16..17
</span><span>      Ident@16..17 "a""#</span><span>]],</span><span>
</span><span>        </span><span>);</span><span>
</span><span>    </span><span>}</span><span>
</span><span></span><span>}</span><span>
</span></code></pre></div><p>Let‚Äôs write an <code>expect</code> method on <code>Parser</code> that takes a given <code>SyntaxKind</code> and <code>bump</code>s past it if the parser is up to it; if it isn‚Äôt, then we might skip the token depending on whether it‚Äôs part of the recovery set:</p><div><pre><code data-lang="rust"><span>// parser.rs
</span><span></span><span>
</span><span></span><span>const</span><span> </span><span>RECOVERY_SET</span>: <span>[</span><span>SyntaxKind</span><span>;</span><span> </span><span>1</span><span>]</span><span> </span><span>=</span><span> </span><span>[</span><span>SyntaxKind</span>::<span>LetKw</span><span>];</span><span>
</span><span>
</span><span></span><span>// snip
</span><span></span><span>
</span><span></span><span>impl</span><span>&lt;</span><span>'t</span><span>,</span><span> </span><span>'input</span><span>&gt;</span><span> </span><span>Parser</span><span>&lt;</span><span>'t</span><span>,</span><span> </span><span>'input</span><span>&gt;</span><span> </span><span>{</span><span>
</span><span>    </span><span>// snip
</span><span></span><span>
</span><span>    </span><span>pub</span><span>(</span><span>crate</span><span>)</span><span> </span><span>fn</span> <span>expect</span><span>(</span><span>&amp;</span><span>mut</span><span> </span><span>self</span><span>,</span><span> </span><span>kind</span>: <span>SyntaxKind</span><span>)</span><span> </span><span>{</span><span>
</span><span>        </span><span>if</span><span> </span><span>self</span><span>.</span><span>at</span><span>(</span><span>kind</span><span>)</span><span> </span><span>||</span><span> </span><span>!</span><span>self</span><span>.</span><span>peek</span><span>().</span><span>map_or</span><span>(</span><span>false</span><span>,</span><span> </span><span>|</span><span>k</span><span>|</span><span> </span><span>RECOVERY_SET</span><span>.</span><span>contains</span><span>(</span><span>&amp;</span><span>k</span><span>))</span><span> </span><span>{</span><span>
</span><span>            </span><span>self</span><span>.</span><span>bump</span><span>();</span><span>
</span><span>        </span><span>}</span><span>
</span><span>    </span><span>}</span><span>
</span><span>
</span><span>    </span><span>// snip
</span><span></span><span>}</span><span>
</span></code></pre></div><p>Let‚Äôs use this method in <code>variable_def</code>:</p><div><pre><code data-lang="rust"><span>// stmt.rs
</span><span></span><span>
</span><span></span><span>fn</span> <span>variable_def</span><span>(</span><span>p</span>: <span>&amp;</span><span>mut</span><span> </span><span>Parser</span><span>)</span><span> </span>-&gt; <span>CompletedMarker</span><span> </span><span>{</span><span>
</span><span>    </span><span>assert</span><span>!</span><span>(</span><span>p</span><span>.</span><span>at</span><span>(</span><span>SyntaxKind</span>::<span>LetKw</span><span>));</span><span>
</span><span>    </span><span>let</span><span> </span><span>m</span><span> </span><span>=</span><span> </span><span>p</span><span>.</span><span>start</span><span>();</span><span>
</span><span>    </span><span>p</span><span>.</span><span>bump</span><span>();</span><span>
</span><span>
</span><span>    </span><span>p</span><span>.</span><span>expect</span><span>(</span><span>SyntaxKind</span>::<span>Ident</span><span>);</span><span>
</span><span>    </span><span>p</span><span>.</span><span>expect</span><span>(</span><span>SyntaxKind</span>::<span>Equals</span><span>);</span><span>
</span><span>
</span><span>    </span><span>expr</span>::<span>expr</span><span>(</span><span>p</span><span>).</span><span>unwrap</span><span>();</span><span>
</span><span>
</span><span>    </span><span>m</span><span>.</span><span>complete</span><span>(</span><span>p</span><span>,</span><span> </span><span>SyntaxKind</span>::<span>VariableDef</span><span>)</span><span>
</span><span></span><span>}</span><span>
</span></code></pre></div><p>Although‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://arzg.github.io/lang/18/">https://arzg.github.io/lang/18/</a></em></p>]]>
            </description>
            <link>https://arzg.github.io/lang/18/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25494909</guid>
            <pubDate>Mon, 21 Dec 2020 13:52:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Entire Linux Source Code Development History Visualized]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25494737">thread link</a>) | @pro_metheu5
<br/>
December 21, 2020 | https://www.visualsource.net/repo/github.com/torvalds/linux.git | <a href="https://web.archive.org/web/*/https://www.visualsource.net/repo/github.com/torvalds/linux.git">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.visualsource.net/repo/github.com/torvalds/linux.git</link>
            <guid isPermaLink="false">hacker-news-small-sites-25494737</guid>
            <pubDate>Mon, 21 Dec 2020 13:33:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[GraphQL vs. REST. Which to Choose? Tough Decision. Pros and Cons of Using Each]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25494698">thread link</a>) | @relu_mesaros
<br/>
December 21, 2020 | https://flawless-bits.com/blog/rest-vs-graphql | <a href="https://web.archive.org/web/*/https://flawless-bits.com/blog/rest-vs-graphql">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://flawless-bits.com/blog/rest-vs-graphql</link>
            <guid isPermaLink="false">hacker-news-small-sites-25494698</guid>
            <pubDate>Mon, 21 Dec 2020 13:28:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The SQLizer file conversion API is now available on the free plan]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25494533">thread link</a>) | @wgx
<br/>
December 21, 2020 | https://blog.sqlizer.io/posts/sqlizer-free-file-conversion-api/?referrer=hn | <a href="https://web.archive.org/web/*/https://blog.sqlizer.io/posts/sqlizer-free-file-conversion-api/?referrer=hn">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
    <h3 id="api-powered-file-conversion-to-mysql-postgresql-and-ms-sql-server-all-for-0">API-powered file conversion to MySQL, PostgreSQL, and MS SQL Server, all for $0.</h3>

<p>We‚Äôre excited to announce that from today, customers on the <strong>SQLizer free plan</strong> will have access to the <a href="https://sqlizer.io/help/api/">SQLizer API</a>.</p>

<p>Previously only available on our paid plans, the SQLizer API allows programmatic access to our file conversion engine, with its intelligent format detection algorithms.</p>

<p>SQLizer converts ‚Äòflat‚Äô data files (like CSV, Excel, or JSON) into database insert statements in SQL, ready to run, importing data into your preferred database.</p>

<h3 id="intelligent-format-detection">Intelligent format detection</h3>

<p>Database columns need to know which type of data they hold - but many data files don‚Äôt state which type of data they contain. This makes importing data difficult because you need to work out which columns are in which formats. 
SQLizer works this out intelligently, and automatically.</p>

<h2 id="to-get-started-with-the-sqlizer-api">To get started with the SQLizer API</h2>

<ol>
  <li>Visit <a href="https://sqlizer.io/signup/">SQLizer Signup</a> and create a new account, you can select the <strong>free plan to process fewer than 5,000 rows of data</strong></li>
  <li>Visit <a href="https://sqlizer.io/account/">your SQLizer account</a> and copy your API key</li>
  <li>Visit the <a href="https://sqlizer.io/help/api/">SQLizer API documentation</a> for instructions on making your first request to the API</li>
</ol>

<p>We hope you enjoy working with the SQLizer API.</p>

<p><strong>.NET framework fans!</strong> If you work with .NET, then check out the <a href="https://github.com/sqlizer-io/sqlizer-client-dotnet">SQLizer .NET Client</a> on Github.</p>

<p>See also: <a href="https://www.nuget.org/packages/sqlizer-client-dotnet/">The NuGet package page for the SQLizer .NET Client</a>.</p>

<p>üñ§ The SQLizer Team</p>

  </div></div>]]>
            </description>
            <link>https://blog.sqlizer.io/posts/sqlizer-free-file-conversion-api/?referrer=hn</link>
            <guid isPermaLink="false">hacker-news-small-sites-25494533</guid>
            <pubDate>Mon, 21 Dec 2020 13:03:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Takeaways from the 2020 UX Tools Survey]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25494382">thread link</a>) | @jrdnbwmn
<br/>
December 21, 2020 | https://learnuxd.io/posts/7-takeaways-from-2020-ux-tools-survey | <a href="https://web.archive.org/web/*/https://learnuxd.io/posts/7-takeaways-from-2020-ux-tools-survey">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><figure>
    <img src="https://learnuxd.io/img/posts/2020-tools-survey/cover.svg" alt="7 Takeaways from the 2020 UX Tools Survey">
    <figcaption>From <a href="">uxtools.co</a></figcaption>
</figure>

<p>Over 4,000 designers responded to <a href="https://taylorpalmer.co/" target="_blank">Taylor Palmer</a>‚Äôs annual <a href="https://uxtools.co/" target="_blank">UX Tools</a> survey.</p>

<p>Here are some key takeaways from the results.</p>

<h2 id="1miro-had-massive-growth">1)&nbsp;&nbsp;Miro had massive growth</h2>

<figure>
    <img src="https://learnuxd.io/img/posts/2020-tools-survey/miro.svg" alt="Miro had massive growth">
</figure>

<p>In the brainstorming category, <a href="https://miro.com/" target="_blank">Miro</a> grew from 5% usage in 2019 to 33% in 2020. This has become one of my personal favorite tools.</p>

<h2 id="2people-love-whimsical">2)&nbsp;&nbsp;People love Whimsical</h2>

<figure>
    <img src="https://learnuxd.io/img/posts/2020-tools-survey/whimsical.svg" alt="People love whimsical">
</figure>

<p>Most tools averaged a rating of 3.5 out of 5, but <a href="https://whimsical.com/" target="_blank">Whimsical</a> achieved a great score of 4.5. Miro also had high scores, but Whimsical looks to be a great contender.</p>

<h2 id="3windows-adoption-is-climbing">3)&nbsp;&nbsp;Windows adoption is climbing</h2>

<figure>
    <img src="https://learnuxd.io/img/posts/2020-tools-survey/windows-vs-mac.svg" alt="Windows adoption is climbing">
</figure>

<p>More designers are using <a href="https://www.microsoft.com/en-us/windows" target="_blank">Windows</a>. 25% of respondents used Windows as one of their platforms for design this year, up from 18% last year.</p>

<h2 id="4figma-usage-skyrocketed">4)&nbsp;&nbsp;Figma usage skyrocketed</h2>

<figure>
    <img src="https://learnuxd.io/img/posts/2020-tools-survey/figma.svg" alt="Figma usage skyrocketed">
</figure>

<p>Taylor said the <a href="https://www.figma.com/" target="_blank">Figma</a> numbers were so high, Taylor had to double-check them. They were the clear winner in multiple categories, including the ‚ÄúWhich tools are you most excited to try in 2021?‚Äù section.</p>

<h2 id="5testers-like-zoom--maze">5)&nbsp;&nbsp;Testers like Zoom &amp; Maze</h2>

<figure>
    <img src="https://learnuxd.io/img/posts/2020-tools-survey/user-testing.svg" alt="Testers favor Zoom &amp; Maze">
</figure>

<p><a href="https://zoom.us/" target="_blank">Zoom</a> is the clear winner here, especially as it becomes a household name. <a href="https://maze.design/" target="_blank">Maze</a> also had a strong showing and high user rating. 25% don‚Äôt use software at all.</p>

<h2 id="6notion-is-a-budding-favorite">6)&nbsp;&nbsp;Notion is a budding favorite</h2>

<figure>
    <img src="https://learnuxd.io/img/posts/2020-tools-survey/notion.svg" alt="Notion is a budding favorite">
</figure>

<p>There were several surprise appearances from <a href="https://www.notion.so/" target="_blank">Notion</a> in multiple categories. It‚Äôs clearly becoming a popular solution for many designers.</p>

<h2 id="7adobe-xd-is-slowly-emerging">7)&nbsp;&nbsp;Adobe XD is slowly emerging</h2>

<figure>
    <img src="https://learnuxd.io/img/posts/2020-tools-survey/adobe-xd.svg" alt="Adobe XD is slowly emerging">
</figure>

<p><a href="https://www.adobe.com/products/xd.html" target="_blank">Adobe XD</a> grew 10x from being used by 1% of respondents in 2019 to 11% for managing a design system. However, it‚Äôs still behind Figma and Sketch.</p>

<h2 id="wrapping-up">Wrapping up</h2>

<p>Big thanks to <a href="https://twitter.com/_taylorpalmer" target="_blank">Taylor</a> for putting this together every year! Be sure to visit <a href="https://uxtools.co/survey-2020/" target="_blank">uxtools.co/survey-2020</a> to see all the results.</p>

<p>Have you changed tools in 2020? Let me know on the <a href="https://twitter.com/learn_uxd/status/1340991771795484677" target="_blank">Twitter thread</a>. If you‚Äôre feeling generous, perhaps like or retweet the thread, too:</p>


</div></div>]]>
            </description>
            <link>https://learnuxd.io/posts/7-takeaways-from-2020-ux-tools-survey</link>
            <guid isPermaLink="false">hacker-news-small-sites-25494382</guid>
            <pubDate>Mon, 21 Dec 2020 12:42:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Interfaces for Explaining Transformer Language Models]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25494310">thread link</a>) | @jalammar
<br/>
December 21, 2020 | https://jalammar.github.io/explaining-transformers/ | <a href="https://web.archive.org/web/*/https://jalammar.github.io/explaining-transformers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        











<p>Interfaces for exploring transformer language models by looking at input saliency and neuron activation.</p>

<div>

<div>
<figure>
    <figcaption>
        <strong>Explorable #1:</strong>  Input saliency of a list of countries generated by a language model<br>
         <strong>Tap or hover over</strong> the <strong>output tokens</strong>:</figcaption>
    
    <br>
    <figcaption>
    <br>
        <strong>Explorable #2:</strong>  Neuron activation analysis reveals four groups of neurons, each is associated with generating a certain type of token<br>
        <strong>Tap or hover over</strong> the sparklines on the left to isolate a certain factor:</figcaption>
    
    <br>
</figure>
    </div>
</div>

<!--
<div class="toc">
    <h3>Contents</h3>
    <ul>
        <li>
            <a href="#introduction">Introduction</a>
        </li>
        <li>
            <a href="#saliency">Input Saliency</a>
        </li>
        <li>
            <a href="#evolution">Evolution of Hidden States</a>
        </li>
        <li>
            <a href="#activations">Neuron Activations</a>
        </li>
        <li>
            <a href="#conclusion">Conclusion & Future Work</a>
        </li>
    </ul>
</div>
-->

<p id="introduction">The Transformer architecture<cite key="vaswani2017attention"></cite>
    has been powering a number of the recent advances in NLP. A breakdown of this architecture is provided <a href="https://jalammar.github.io/illustrated-transformer/">here</a> <cite key="alammar2018illustrated"></cite>. Pre-trained language models based on the architecture,
    in both its auto-regressive<cite key="liu2018generating,radford2018improving,radford2019language,brown2020language"></cite> (models that use their own output as input to next time-steps and that process tokens from left-to-right, like GPT2)
    and denoising<cite key="devlin2018bert,liu2019roberta,lan2019albert,lewis2019bart,raffel2019exploring"></cite> (models trained by corrupting/masking the input and that process tokens bidirectionally, like BERT)
    variants continue to push the envelope in various tasks in NLP and, more recently, in computer vision<cite key="dosovitskiy2020image"></cite>. Our understanding of why these models work so well, however, still lags behind these developments.
</p>

<p>This exposition series continues the pursuit to interpret<cite key="rogers2020primer,atanasova2020diagnostic"></cite>
    and visualize<cite key="vig2019visualizing,madsen2019visualizing,hoover2020,tenney2020language,wallace2019allennlp"></cite>
    the inner-workings of transformer-based language models.

We illustrate how some key interpretability methods apply to transformer-based language models. This article focuses on auto-regressive models, but these methods are applicable to other architectures and tasks as well.
     
</p>

<p>This is the first article in the series. In it, we present explorables and visualizations aiding the intuition of:</p>
<ul>
    <li>
        <strong>Input Saliency</strong> methods that score input tokens importance to generating a token.
    </li>
    <li>
        <strong>Neuron Activations</strong> and how individual and groups of model neurons spike in response to
        inputs and to produce outputs.
    </li>
</ul>

<p>The next article addresses <strong>Hidden State Evolution</strong> across the layers of the model and what it may tell us about each layer's role.</p>

<!--more-->

<!--
    <li>
        <strong>Attention</strong>, a central concept in transformers, and how recent work<cite key="abnar2020quantifying"></cite>
        leads to visualizations that are more faithful to its role.
    </li>
-->

<p>In the language of Interpretable Machine Learning (IML) literature like Molnar et al.<cite key="molnar2020interpretable"></cite>, input saliency is a method that explains individual predictions. The latter two methods fall under the
    umbrella of "analyzing components of more complex models", and are better described as increasing the transparency<cite key="du2019techniques,carvalho2019machine"> </cite> of transformer models.
</p>

<p>Moreover, this article is accompanied by <a href="https://github.com/jalammar/ecco/tree/main/notebooks">reproducible notebooks</a> and <a href="https://github.com/jalammar/ecco/">Ecco - an open source library</a> to create similar
    interactive interfaces directly in Jupyter notebooks<cite key="ragan2014jupyter"></cite>
    for GPT-based<cite key="radford2018improving"></cite> models from the HuggingFace transformers library<cite key="wolf2019huggingface"></cite>.
</p>

<p>If we're to impose the three components we're examining to explore the architecture of the transformer, it would look like the following figure.</p>
<figure>
    <img src="https://jalammar.github.io/images/explaining/transformer-input-saliency-hidden-states-neuron-activations.png">
    <figcaption>
        <strong>
            Figure: Three methods to gain a little more insight into the inner-workings of Transformer language models.
        </strong> <br>
        By introducing tools that visualize input saliency, the evolution of hidden states, and neuron activations, we aim to enable researchers to build more intuition about Transformer language models.
    </figcaption>
</figure>

<hr>

<h2 id="saliency">Input Saliency</h2>

<p>When a computer vision model classifies a picture as containing a husky, saliency maps can tell us whether the classification was made due to the visual properties of the animal itself, or because of the snow in the background<cite key="ribeiro2016whyribeiro2016why"></cite>. This is a method of <i>attribution</i> explaining the relationship between a model's output and inputs -- helping us detect errors and biases, and better understand the behavior of the system.</p>

<figure>
    <img src="https://jalammar.github.io/images/explaining/dog-saliency-map.jpg">
    <figcaption>
        <strong>
            Figure: Input saliency map attributing a model's prediction to input pixels.
        </strong> <br>
    </figcaption>
</figure>

<p>Multiple methods exist for assigning importance scores to the inputs of an NLP model<cite key="li2015visualizing,arrieta2020explainable"></cite>. The literature is most often concerned with this application for classification tasks, rather than natural
    language generation. This article focuses on language generation. Our first interface calculates feature importance after each token is generated, and by
    hovering or tapping on an output token, imposes a saliency map on the tokens responsible for generating it.
</p>

<p>
    The first example for this interface asks GPT2-XL<cite key="radford2019language"></cite> for William Shakespeare's date of birth. The model is correctly able to produce the date (1564, but broken into two tokens: " 15" and "64", because the model's vocabulary does not include " 1564" as a single token). The interface shows the importance of each input token when generating each output token:
</p>
<figure>

    
    
    <figcaption>
        <strong>Explorable: Input saliency of Shakespeare's birth
            year using Gradient √ó Input.</strong>
        <strong>Tap or hover over</strong> the output tokens.<br>
        GPT2-XL is able to tell the birth date of William Shakespeare expressed in two tokens. In generating the
        first token, 53% of the importance is assigned to the name (20% to the first name, 33% to the last name).
        The next most important two tokens are " year" (22%) and " born" (14%). In generating the second token to
        complete the date, the name still is the most important with 60% importance, followed by the first portion
        of the date -- a model output, but an input to the second time step. <br>
        This prompt aims to probe world knowledge. It was generated using greedy decoding. Smaller variants of GPT2
        were not able to output the correct date.
    </figcaption>
</figure>

<p>Our second example attempts to both probe a model's world knowledge, as well as to see if the model
    repeats the patterns in the text (simple patterns like the periods after numbers and like new lines, and
    slightly more involved patterns like completing a numbered list). The model used here is DistilGPT2<cite key="sanh2020distilbert"></cite>.
</p>

<p>This explorable shows a more detailed view that displays the attribution percentage for each token -- in case you need that precision.</p>

<figure>
   
    
    <br>
    <figcaption>
        <strong>Explorable: Input saliency of a list of EU countries</strong> <br>
        <strong>Tap or hover over</strong> the output tokens.<br>
        This was generated by DistilGPT2 and attribution via Gradients X Inputs. Output sequence is cherry-picked to
        only include European countries and uses sampled (non-greedy) decoding. Some model runs would include China,
        Mexico, and other countries in the list. With the exception of the repeated " Finland", the model continues
        the list alphabetically.

    </figcaption>
</figure>

<p>Another example that we use illustratively in the rest of this article is one where we ask the model to complete
    a simple pattern:</p>

<figure>
   
    
    
    <figcaption>
        <strong>Explorable: Input saliency of a simple
            alternating pattern of commas and the number one.</strong>
        <strong>Tap or hover over</strong> the output tokens.<br>
        Every generated token ascribes the first token in the input the highest feature importance score. Then
        throughout the sequence, the preceding token, and the first three tokens in the sequence are often the most
        important. This uses Gradient √ó Inputs on GPT2-XL. <br>
        This prompt aims to probe the model's response to syntax and token patterns. Later in the article, we build
        on it by switching to counting instead of repeating the digit ' 1'. Completion gained using greedy decoding.
        DistilGPT2 is able to complete it correctly as well.
    </figcaption>
</figure>

<p>It is also possible to use the interface to analyze the responses of a transformer-based conversational agent.
    In the following example, we pose an existential question to DiabloGPT<cite key="zhang2020dialogpt"></cite>:
</p>

<figure>

    
    
    <figcaption>
        <strong>Explorable: Input saliency of DiabloGPT's answer to the ultimate question</strong> <br>
        <strong>Tap or hover over</strong> the output tokens.<br>
        This was the model's first response to the prompt. The question mark is attributed the highest score in the
        beginning of the output sequence. Generating the tokens " will" and " ever" assigns noticeably more importance to
        the word " ultimate".
        This uses Gradient √ó Inputs on DiabloGPT-large.

    </figcaption>
</figure>

<p><a href="https://colab.research.google.com/github/jalammar/ecco/blob/main/notebooks/Ecco_Input_Saliency.ipynb"><img src="https://jalammar.github.io/images/explaining/colab-badge.svg"></a>
</p>

<h3>About Gradient-Based Saliency</h3>
<p>Demonstrated above is scoring feature importance based on Gradients X Inputs<cite key="denil2015extraction,shrikumar2017just"></cite>-- a gradient-based saliency method shown by Atanasova et al.<cite key="atanasova2020diagnostic"></cite>
    to perform well across various datasets for text classification in transformer models.
</p>

<p>To illustrate how that works, let's
    first recall how the model generates the output token in each time step. In the following figure, we see how
    <span>‚ë†</span>
    the
    language model's final hidden state is projected into the model's vocabulary resulting in a numeric score for
    each
    token in the model's vocabulary. Passing that scores vector through a softmax operation results in a probability
    score for each token. <span>‚ë°</span> We proceed to select a token
    (e.g. select the highest-probability scoring token, or sample from the top scoring tokens) based
    on
    that vector.</p>

<figure>
    <img src="https://jalammar.github.io/images/explaining/111.PNG">
    <figcaption>
        <strong>
            Figure: Gradient-based input saliency
        </strong>
    </figcaption>
</figure>

<p><span>‚ë¢</span> By calculating the gradient of the
    selected logit (before the softmax) with respect to the inputs by back-propagating it all the way back to the
    input tokens, we get a signal of how important each token was in the calculation resulting in this generated
    token.
    That assumption is based on the idea that the smallest change in the input token with the highest
    feature-importance
    value makes a large change in what the resulting output of the model would be.</p>

<figure>
    <img src="https://jalammar.github.io/images/explaining/gradXinput.PNG">
    <figcaption>
        <strong>
            Figure: Gradient X input calculation and aggregation
        </strong>
    </figcaption>
</figure>

<p>The resulting gradient vector per token is then multiplied by the input embedding of the respective token. Taking
    the L2 norm of the resulting vector results in the token's feature importance score. We then normalize the
    scores by dividing by the sum of these scores.</p>

<p>More formally, <span>gradient</span> √ó <span>input</span> is described as follows:</p>

<p>
    <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">‚à•</mo><msub><mi mathvariant="normal">‚àá</mi><msub><mi>X</mi><mi>i</mi></msub></msub><msub><mi>f</mi><mi>c</mi></msub><mo stretchy="false">(</mo><msub><mi>X</mi><mrow><mn>1</mn><mo>:</mo><mi>n</mi></mrow></msub><mo stretchy="false">)</mo><msub><mi>X</mi><mi>i</mi></msub><msub><mo stretchy="false">‚à•</mo><mn>2</mn></msub></mrow><annotation encoding="application/x-tex"> \lVert \nabla _{X_i} f_c (X_{1:n})  X_i\lVert_2</annotation></semantics></math></span></span>
</p>

<p>
    Where <span id="input_term"></span> is the embedding vector of the input token at timestep <i>i</i>, and <span id="grad"></span> is the back-propagated gradient of the score of the selected token unpacked as follows:
</p>
<ul>
    <li>
        <span id="input_embeddings"></span> is the list of ‚Ä¶</li></ul></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://jalammar.github.io/explaining-transformers/">https://jalammar.github.io/explaining-transformers/</a></em></p>]]>
            </description>
            <link>https://jalammar.github.io/explaining-transformers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25494310</guid>
            <pubDate>Mon, 21 Dec 2020 12:32:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Raft does not guarantee liveness in the face of network faults]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25494002">thread link</a>) | @fanf2
<br/>
December 21, 2020 | https://decentralizedthoughts.github.io/2020-12-12-raft-liveness-full-omission/ | <a href="https://web.archive.org/web/*/https://decentralizedthoughts.github.io/2020-12-12-raft-liveness-full-omission/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article role="main">
        <p>Last month, <a href="https://blog.cloudflare.com/a-byzantine-failure-in-the-real-world/">Cloudflare published a postmortem</a> of a recent 6-hour outage caused by a partial switch failure which left <a href="https://etcd.io/">etcd</a> unavailable as it was unable to establish a stable leader. This outage has understandably led to <a href="https://twitter.com/heidiann360/status/1332711011451867139">discussion online</a> about exactly what liveness guarantees are provided by the <a href="https://raft.github.io/">Raft</a> consensus algorithm in the face of network failures.</p>

<p>The <a href="https://raft.github.io/raft.pdf">original Raft paper</a> makes the following claim:</p>
<blockquote>
  <p>[Consensus algorithms] are fully functional (available) as long as any majority of the servers are operational and can communicate with each other and with clients.</p>
</blockquote>

<p>This statement implies that consensus algorithms such as Raft should tolerate network failures (also known as <a href="https://decentralizedthoughts.github.io/2019-06-07-modeling-the-adversary/">omission faults</a>) as long as they do not impact communication between the majority of servers.
In this post, we will consider whether Raft can guarantee liveness, and specifically whether it can establish a stable leader, if a network fault means that some servers are no longer connected to each other.</p>

<h2 id="does-raft-guarantee-liveness-in-the-presence-of-network-failures">Does Raft guarantee liveness in the presence of network failures?</h2>

<p>Unfortunately, Raft, as described in the original paper, does not guarantee liveness in all such cases. Consider the following example.</p>

<p>We have 5 servers and servers 1, 2, and 3 are connected to each other. Server 4 is only connected to server 2 and server 5 is only connected to server 3. Initially, server 3 is the leader. Server 4 is not connected to the leader so it will timeout, increment its term and send a RequestVote RPC to server 2. Server 2 will update its term and then force server 3 to do the same and thus step down. Eventually, a new leader will be elected (either server 1, 2, or 3) but either server 4 or server 5 (or both) will not be connected to the leader and thus will timeout, updating its term and forcing the leader to step down. This system will not be able to establish a stable leader.</p>

<figure>
  <img src="https://decentralizedthoughts.github.io/uploads/RAFT%201.jpg" width="80%">
  <figcaption><center>Partially connected servers 4 and 5 constantly interrupt the elected leader.</center></figcaption>
</figure>

<p>In order to guarantee liveness, Raft must ensure that if a leader is up and connected to a majority of responding servers then it will not be forced to step down. Fortunately, section 9.6 of <a href="https://web.stanford.edu/~ouster/cgi-bin/papers/OngaroPhD.pdf">Diego Ongaro‚Äôs thesis</a> suggests how this can be achieved using <strong>PreVote</strong>. PreVote requires potential candidates to run a trial election to test if they can win an election before incrementing their term and running a normal election using RequestVote. A server only pre-votes for a potential candidate during the PreVote phase if it would vote for it during a normal election, and importantly, if it has not received an AppendEntries RPC from the leader with in the election timeout. PreVote fixes the problem have we described as servers 4 and 5 will not update their terms as they will not receive pre-votes from the majority of servers.</p>

<p>An alternative fix is to require servers to ignore RequestVote RPCs if they have received an AppendEntries RPC from the leader within the election timeout. This was suggested in section 6 in the <a href="https://raft.github.io/raft.pdf">Raft paper</a> as mitigation for liveness issues during reconfiguration. However, we will focus on PreVote instead.</p>

<h2 id="so-does-raft-with-prevote-guarantee-liveness-then">So, does Raft with PreVote guarantee liveness then?</h2>

<p>Unfortunately not. In fact, PreVote introduces new liveness issues to Raft. Consider the following example. We have 5 servers and servers 1, 2, and 3 are connected to each other. Server 4 is connected only to server 2 and server 5 has failed.</p>

<p>Initially, server 4 is the leader. It was elected before its links to the other servers (except server 2) failed. Server 4 is now unable to make progress as it is not connected to a majority of servers. Servers 1 and 3 will not hear from the leader so they will timeout and begin the PreVote phase. Neither server will complete its PreVote phase as server 2 will not pre-vote for either server as it still receives regular AppendEntries from the leader (server 4). This system will not able to elect a new leader and the old leader will not be able to make progress.</p>

<figure>
  <img src="https://decentralizedthoughts.github.io/uploads/RAFT%202.jpg" width="80%">
  <figcaption><center>The leader, Server 4, suffers partial network faults but does not step down. Server 2 does not timeout, severs 1 and 3 will fail PreVote because of server 2.</center></figcaption>
</figure>

<p>This can be addressed by requiring leaders to actively step down if they do not receive AppendEntries responses from a majority of servers. This optimisation is sometimes referred to as CheckQuourm and related matters are mentioned in section 6.2 of <a href="https://web.stanford.edu/~ouster/cgi-bin/papers/OngaroPhD.pdf">Ongaro‚Äôs thesis</a> and in <a href="https://github.com/etcd-io/etcd/issues/3866">raft discussions</a>.</p>

<h2 id="does-raft-with-prevote-and-checkquorum-guarantee-liveness">Does Raft with PreVote and CheckQuorum guarantee liveness?</h2>

<p>Yes. If there is no leader, then an election (or series of elections) will occur and eventually, a server will be elected leader. To be elected leader, the server must be connected to a majority of servers as it received votes from a majority of servers in the PreVote and RequestVote phases.</p>

<p>CheckQuorum ensures that if the elected leader is no longer connected to a majority of responding servers, it will step down and allow a new leader to be elected.</p>

<p>There will always be at least one server that can win an election. This is the server (or servers) with the most up-to-date log (logs) within the subset of servers which are all online and connected to a majority of responding servers. PreVote ensures that once a leader from this set has been elected, the system will be stable as it will not be forced to step down.</p>

<p>Please answer/discuss/comment/ask on <a href="https://twitter.com/heidiann360/status/1338564664523943936?s=20">Twitter</a>.</p>

      </article></div>]]>
            </description>
            <link>https://decentralizedthoughts.github.io/2020-12-12-raft-liveness-full-omission/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25494002</guid>
            <pubDate>Mon, 21 Dec 2020 11:43:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Future Is Here Have You Checked OpenAI‚Äôs GPT-3 Yet?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25493892">thread link</a>) | @ShradhaSingh
<br/>
December 21, 2020 | https://www.artiba.org/blog/the-future-is-here-have-you-checked-openais-gpt-3-yet | <a href="https://web.archive.org/web/*/https://www.artiba.org/blog/the-future-is-here-have-you-checked-openais-gpt-3-yet">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<h2>The Future is Here! Have You Checked OpenAI‚Äôs GPT-3 Yet?</h2>
<p><img src="https://www.artiba.org/Content/Images/future-is-here.png" title=""></p>

<p>Ever wonder how close has AI gotten to impersonating human beings?</p>
            <p>You‚Äôd be surprised!</p>

            <p>The latest GPT-3 can code computer programs, compose tweets, summarize emails, write news, answer questions, translate languages, and write fiction and poetry too. </p>
            <p>It can take up almost any virtual English language task. In the latest recent milestone on YouTube, it created an app that functions similar to Instagram.</p>
            <p>Dubbed as one of the most important <a target="_blank" href="https://www.artiba.org/blog/neuromorphic-computing-the-next-level-artificial-intelligence">advancements in AI</a> in recent years, GPT-3 or Generative Pre-Trained Transformer 3 has raised the AI goal posts many notches toward the stratosphere. It is the <b>largest artificial neural network</b> ever created.</p>
            <h4>The Impact of GPT-3 on the Artificial Intelligence Sphere</h4>

            <p>
                In September this year, Elon Musk had criticized exclusive licensing of the model to Microsoft. When tech heavyweights like Musk root for and track the developments and distribution of a technology, you know that it‚Äôs the next big thing out there.
            </p>
            <p>
                The first version of GPT-3 was unveiled in February last year, and the private beta version was launched in June this year. The second version of the technology was so promising that it scared its makers about potential misuse. They waited a year to bring it in open and, as expected, the results were mind-boggling.
            </p>
            <p>
                GPT-3 wrote a blog piece elaborating on an experiment with bitcoin and called itself the biggest thing since bitcoin. It said: ‚ÄúGPT-3‚Äôs predicted sentences, when published on the bitcointalk.org forum, attracted lots of positive attention from posters there, including suggestions that the system must have been intelligent (and/or sarcastic) and that it had found subtle patterns in their posts.‚Äù
            </p>
            <p> The blog piece was trending on the Internet some months back.</p>
<p>  Arram Sabeti, a user, in his post-test blog said: ‚ÄúIt‚Äôs far more coherent than any AI language system I‚Äôve ever tried‚Ä¶ all you have to do is write a prompt and it‚Äôll add text it thinks would plausibly follow. I‚Äôve gotten it to write songs, stories, press releases, guitar tabs, interviews, essays, technical manuals. It‚Äôs hilarious and frightening. I feel like I‚Äôve seen the future.‚Äù</p>
<p>
                Another user, Merzmensch Kosmopol, posted his conversation with GPT-3 on Twitter.
            </p>
          
            <p><img src="https://www.artiba.org/Content/Images/playground-chat.png"></p>
                <h4> Decoding the Method in the Magic: How GPT-3 works</h4>
<p> GPT-3 is a technology that generates text using pre-trained algorithms. It is the third-generation language prediction model in the GPT-n series and uses <a target="_blank" href="https://www.artiba.org/blog/advances-in-deep-learning-2020">deep learning</a> to give human-like text. It works on 175 billion parameters</p>
<p> The technology has been fed the complete data it needs to carry out its tasks. 570GB of text information from texts by OpenAI and data collected from CommonCrawl, a publicly available dataset, drive this titan.</p>
            <p> GPT-3 can generate text that appears to have been written by a human.</p>
<p>  How precise is it? In the words of pop psychologist Scott Barry Kaufman, the impersonating AI definitely sounded like something he would say.</p>
<p>
                When asked the question ‚ÄúHow do we become more creative?‚Äù, the AI, replicating the thoughts and speech patterns of its archetype, said:
            </p>
            <p>
                ‚ÄúI think creative expression is a natural byproduct of growing up in a diverse world. The more diverse the world is, the more you get exposed to different people, to different opportunities, to different places and to different challenges. And the more diverse that is, the more likely you‚Äôll be to be able to put the dots together to form something new. And in many ways, I think if you want to be creative, you have to go for it. If you want to be a writer, you have to write, if you want to be a musician, you have to create music, if you want to be a comedian, you have to create comedy, and the more you create, the more likely it is that you‚Äôll stumble onto some interesting stuff.‚Äù
            </p>
                <h4>Round-up</h4>
<p> The precision and usability of GPT-3 have already carved a formidable niche for it in researched journalism, news, politics, and advertisements. But this is just the beginning.</p>
            <p>  GPT-3 is a massive breakthrough in artificial intelligence. It can change the way we interact with technology.</p>
<p> Not surprisingly, the Internet is flooded with use cases. In a recent one, user Mario Klingemann posted this conversation of GPT-3 with an imaginary character on Twitter:</p>
            <p><img src="https://www.artiba.org/Content/Images/importance-of-twitter.png"></p>
<p>
                Ready to dive in GPT-3? You can request access from OpenAI to integrate the API into your product and develop an entirely new application. OpenAI is also welcoming user suggestions to help them explore the strengths and limits of their technology.
            </p>
            <p>
                Get the latest in Artificial Intelligence. Subscribe now!
            </p>

 
</div></div>]]>
            </description>
            <link>https://www.artiba.org/blog/the-future-is-here-have-you-checked-openais-gpt-3-yet</link>
            <guid isPermaLink="false">hacker-news-small-sites-25493892</guid>
            <pubDate>Mon, 21 Dec 2020 11:19:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building IDE from Scratch in 60 days]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25493884">thread link</a>) | @milansuk
<br/>
December 21, 2020 | https://skyalt.com/blog/sprint.html | <a href="https://web.archive.org/web/*/https://skyalt.com/blog/sprint.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="header2">
	<div>
<p>
<i>
In the <a href="https://skyalt.com/blog/repl.html">last article</a>, I wrote about the new IDE and programming language. It's just a prototype(not easy to read C code and many important features are missing), so the next logical move is to re-write it to the production-ready product.
</i></p><p><i>

Coincidentally, <a href="https://www.startupschool.org/">Startup school</a> is announcing YC Build Sprint, starting on August 24. My goal of the Sprint is to rewrite and launch SkyAlt. Can I build IDE in 4 weeks? Hell no, but maybe 8. Let's find out.
</i></p><p><i>

I will program in different fields. From rendering/UI, over network/cryptography, to parser/interpreter. Let the hacking begin!
</i></p></div>



	<h2>Week 1</h2>
	<div><p>
The first thing I wanna build is the ability to run SkyAlt on the server(run apps) and connect from a remote client(rendering, keyboard, mouse). For rendering, I chose SDL, mainly because it supports many operation systems. Network connections are TCP/IP handled by SDL_Net with simple custom protocol. Connections are encrypted. For that, I'm using functions from the OpenSSL library. The client needs a valid key to log-in.
</p><p>

The Protocol synchronize communication so the Client tells the server when it's ready for the next frame data. Also If the frame takes more time to finish, then Server tells the Client how much work on the frame was done and the Client shows the progress. The bottom-left conner shows FPS(frames per seconds) and bandwidth.
</p><p>

Rendering is bases on SDL2, SDL_image, SDL_ttf(fonts). It can draw rectangles, images, texts. The server sends only UTF-8 text, so fonts are on Client only. Every letter of the text is handled by my code(left, right, center align, ...). If apps include images(icons, ...), they are on the server, which sends (as files) them to the client's cache, where they are decompressed and converted into texture.
</p><p>

Also, I have one source code, but thanks to #define I can compile it like a Server(run apps) or a Client(remote, only rendering, mouse, keys) or a ClientServer(all inside).
</p><p>

By end of the week, I optimize the protocol cache for images and texts. Also, I clean up the code a little bit.
</p><p>

The video shows Client-Server where Server is sending commands(there are no apps, yet) what to draw to Client(window). Looks awful, but there is a lot of engineering behind it.
	</p></div>
	<video controls="" poster="https://skyalt.com/blog/sprint/3.png">
	<source src="https://skyalt.com/blog/sprint/3.mp4" type="video/mp4">
	</video> 



	<h2>Week 2</h2>
	<div><p>
The week starts with working on the dictionary. SkyAlt is dynamically-typed(static typing will be optional later, something like Javascript -&gt; Typescript) and the memory model is an associative array(dictionary data structure, every record has value and sub-records and so on). I chose this model because I care a lot about developer's experience and If you think about it, in statically typed language you have to start with designing data structures and if you run the program it does nothing because there are no algorithms and that's frustrating. I want SkyAlt users to start with algorithms right away and <b>thanks to REPL and preview they can see what they are making from the beginning</b>. Overall time to build an app is the same, but the experience is different.
</p><p>

The next day, I write and run a few extra tests for the dictionary and slowly pivot my focus into integrating the dictionary to the SkyAlt memory model(record - sub-records). I constantly think about performance vs memory footprint for the dictionary.
</p><p>

Then I write .json importer and exporter.
</p><p>


I start working on Parser for the SkyAlt language. I try to parse some simple source codes, fixing a few bugs and it seems to work. So for the next few days, I work on the Interpreter and improving parser as well. I run more and more advanced tests.
</p><p>

There was a problem with the order of parsing assets(files), when one app uses multiple assets and that assets use other assets and there can be cycles, but around an hour later I solve it.
</p><p>

The video shows allocating 10M records and creating 5 sub-records for everyone. Then it's computing summary of one sub-record: The first 'sum' is for pure implementation in C, the second 'sum' is for search sub-record through the dictionary. Then It's just deallocating memory.
	</p></div>
	<video controls="" poster="https://skyalt.com/blog/sprint/8.png">
	<source src="https://skyalt.com/blog/sprint/8.mp4" type="video/mp4">
	</video> 



	<h2>Week 3</h2>
	<div><p>
I start the week with implementing catching pressed keys, mouse buttons &amp; position on Client and sending them on Server. The great thing about SDL is that everything is UTF-8(across different OSs).
</p><p>

Then I try to compile code on Linux. I fixed a lot of bugs and many warnings(GCC is more aggressive than MSVC). I also optimized a few places in code so there is less (de)alloc every frame. FPS goes up. This is probably the worst day working on this project so far. So many things were broken.
</p><p>

The next day I focus on the UI layout system. Early on working on project I set that <b>content is more important than design</b>(layout, shapes, colors). So when you work with SkyAlt language, It's super easy to create GUI and define layouts under them, but of course there are tradeoffs. There is only one layout(grid layout), but it can expand/stretch(different screen sizes). I end up the day with a system where you can set column/row size and optional maximum size. Also, It's super easy for developers to change column/row size.
</p><p>

Implementing scrolling(mouse wheel, arrows, home/end/pageUp/pageDown) was quick since most of the parts already exist, so I only connect them together.
</p><p>

I start working on a Single-line editbox - text selection, copy/paste.
</p><p>


I finish the week by fixing bugs, few performance issues and cleaning the code. I'm not really making aggressive optimizations, because <b>I need to see the big picture first</b>. I also avoid multi-threading.
</p><p>

Sorry, I didn't make a video.
	</p></div>



	<h2>Week 4</h2>
	<div><p>
Ok, 4th week, here we come.
</p><p>

I had to rewrite code that handling layouts. It's using less memory, hopefully, bug-free and cleaner code.
</p><p>

I fixed text-align, working with keys and implemented dialogs(center screen or like a context menu). Also, You can change GUI theme colors.
</p><p>

The Info panel on the client shows server FPS. This is not the real number of frames computed, because it computes only frames which the client needs(max. 60), but it's a number of frames which the server is possible to compute.
</p><p>

I start working on the Multi-line editbox - text selection, copy/paste. You can also scroll text! Uff;)
</p><p>

The video shows work in progress Settings app, where you will be able to change language, theme, etc. You can also change the row size. That was just for testing purposes, I've removed it after capturing video.
	</p></div>
	<video controls="" poster="https://skyalt.com/blog/sprint/26.png">
	<source src="https://skyalt.com/blog/sprint/26.mp4" type="video/mp4">
	</video> 



	<h2>Week 5</h2>
	<div><p>
When you work hard for a few weeks, why not work harder?
</p><p>

When you change language, all assets are automatically re-parse. Also, You can put an image(file) into an asset folder and App can render it.
</p><p>

I've finished the Settings app from the previous week and make the Menu app(New/Open project, Settings, About, etc.). You can switch between Windowed / Fullscreen mode and save app(code, data, translations). Also I make the Translation app, where you can translate apps to different languages.
</p><p>

I rewrite how URL works: checking for cycles, safely removing records and better language syntax. I hope, I will not have to touch it again.
</p><p>

I implement Context help - when you move the mouse over the button, edit-box, etc. the description shows up with little delay.
</p><p>

I try making a more advanced version of multi-line edit-box to use it as a code editor. So I add line numbers, syntax highlighting, showing warnings/errors in code. I add auto-break lines that are longer than a view into Multi-line. Also work on selections: 2 clicks for selecting a word and 3 clicks for the line.
</p><p>

The next day I start implementing Folding. When you call a function in source-code, you can "expand" it and It will show you the body of the function.
</p><p>

I spend some time putting down CPU usage when the user is not active. When the user stops moving the mouse and pressing keys, it will go to 0%(no drawing) and every 5seconds it will go 0.2%(drawing one frame, so the user can see possible new/changed data) =&gt; minimum CPU clock speed. On another side, When the user is active, then it renders 60 frames per second and has a maximum CPU clock speed. That's how ImGui works. I will try to deal with that later.
</p><p>

I finally trace one stupid memory-leak which I knew of for over a week. I fixed save() when record(text) has quote character inside.
</p><p>

For the first time, my TODO list starts to become shorter.
</p><p>

The video shows basic code editor with (un)folding capability. There is a small bug which I fixed after making this video: when I unfold function, it unfolds all function with the same name.
	</p></div>
	<video controls="" poster="https://skyalt.com/blog/sprint/41.png">
	<source src="https://skyalt.com/blog/sprint/41.mp4" type="video/mp4">
	</video> 



	<h2>Week 6</h2>
	<div><p>
Still motivated, I'm not slowing down!
</p><p>

I start with the cleaning code from the previous week. I compile it for Linux and discover some new warnings in code and few bugs.
</p><p>

I implement accounts. You can log-in with a username and 128bits key. Also, the Client window remembers position and size when it's closed and opened again.
</p><p>

I work on REPL. You can Alt+click into code and it will execute code up to that line and show you in preview. You can also Alt+click into app preview and it will unfold code to the line which draws the part of the app. It works well and it's quick. Although it doesn't work very well when an app has more than one layer(context menu, dialogs). I'll back into that later.
</p><p>

I also fix not-precise syntax/error highlights and change syntax highlight colors. Also, I fix the saving/reading json file. This is quite normal, I change code in one part and in some cases, I will have to change some other parts of the code as well. That's why I optimize code only when it hurts because optimize code is harder to rewrite.
</p><p>

The video shows simple IDE, where you can edit code(left) and see a preview of the app(right). You can also see folding and REPL in action.
	</p></div>
	<video controls="" poster="https://skyalt.com/blog/sprint/49.png">
	<source src="https://skyalt.com/blog/sprint/49.mp4" type="video/mp4">
	</video> 



	<h2>Week 7</h2>
	<div><p>
On Monday, I noticed that If the code in SkyAlt language had errors, the Interpreter would still execute it. So I quickly fix that.
I also implement key shortcuts(copy, cut, paste, etc.) and text selection with arrows. Also, the parser will not run when you are ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://skyalt.com/blog/sprint.html">https://skyalt.com/blog/sprint.html</a></em></p>]]>
            </description>
            <link>https://skyalt.com/blog/sprint.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25493884</guid>
            <pubDate>Mon, 21 Dec 2020 11:17:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[GDPR Meaning for SaaS Entrepreneurs]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25493704">thread link</a>) | @pplonski86
<br/>
December 21, 2020 | https://saasitive.com/tutorial/gdpr-meaning/ | <a href="https://web.archive.org/web/*/https://saasitive.com/tutorial/gdpr-meaning/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p>Earn users trust by respecting and securing their data. Since 2018 the European Union (EU) has imposed a new obligation on entrepreneurs to protect customers personal data. A duty for one another is a right, a tool to defend one‚Äôs rights. Each user should have the right to decide on providing information about himself, resign from using his data, delete his account. It‚Äôs a strong right that should be obeyed by everyone. Why? Because of substantial penalties, up to 20 mln euro! Be well prepared with Privacy Policy, Terms of Service, and GDPR requirements.</p>

<p><img src="https://saasitive.com/tutorial/gdpr-meaning/Flag_of_EU.png" alt="EU flag"></p>



<p>The General Data Protection Regulation is an EU law regulation on data protection and privacy in the European Union and the European Economic Area (EEA). It also regulates how to proceed when personal data are transferred outside the EU and EEA areas.</p>

<p><strong>Personal data is any information relating to an identified or identifiable person</strong>, also known as the data subject. Example of personal data:</p>

<ul>
  <li>first name and last name,</li>
  <li>address,</li>
  <li>ID /Passport number,</li>
  <li>Income,</li>
  <li>cultural features,</li>
  <li>IP address.</li>
</ul>

<p>That law gives a strong right for people to manage their data. It protects us, physical people, before the abuse. It imposes an obligation on companies to ensure everyone the right to: get information about his data, obtain access to personal data, correct his data, erased data - to be forgotten, object to the processing of personal data for marketing purposes, request the restriction of the processing of personal data, data portability - receive personal data in a machine-readable format and send it to another controller, request that decisions based on automated processing concerning or significantly affecting the user and based on his data are made by natural persons, not only by computers and the right to be notified - if data has been a breach (a person should be informed within 72 hours of first having become aware of the violation). How to ensure that these rights are respected for SaaS users?</p>

<p><img src="https://saasitive.com/tutorial/gdpr-meaning/Facilities_for_User.png" alt="Facilities for users"></p>

<p>On the EU GDPR webpage (https://gdpr.eu/what-is-gdpr/), we can find this phrase:</p>

<blockquote>
  <p><em>‚Äú(GDPR) is the toughest privacy and security law in the world.‚Äù</em></p>
</blockquote>

<p>And we fully agree. It is limited and requires small businesses to be fully committed to protecting user rights. On the other hand, there is a risk that profiling and making automated decisions on our behalf may limit our freedom.</p>

<p>The GDPR provides broad protection of the individual‚Äôs rights while imposing several new obligations on entrepreneurs. Until now, the entities, confirming their due diligence, have applied for ISO certificates in the field of data security. The current regulations impose the obligation to ensure the processed data‚Äôs safety - on all entities dealing with personal data. One of these obligations is appointing a Personal Data Protection Inspector (DPO) in certain cases and keeping detailed documentation describing data processing.</p>



<p>GDPR relates to companies based in the European Union, citizens and people lived in the EU, and those who want to offer services for them. If you‚Äôre outside of the EU, but your customers are from the EEA (The EEA covers more countries than the EU itself), it refers to you as well.</p>

<p>GDPR applies to every company, both sole proprietorships and companies - operating in the European Union, which processes personal data. It does not matter the nationality of the persons whose data is processed, where the processing takes place, or where the servers are located.</p>

<p>Examples of entities covered by the GDPR:</p>
<ul>
  <li>an entrepreneur with a headquarters outside the EU, but performing activities on its territory,</li>
  <li>entities that offer their services to clients outside the Union but have their offices in the Union,</li>
  <li>companies processing data via cloud computing - it does not matter where the servers are located,</li>
  <li>an entrepreneur who does not have organizational units in the EU but offers EU citizens goods and services (e.g., an online store).</li>
</ul>

<p><img src="https://saasitive.com/tutorial/gdpr-meaning/RODO_stages.svg" alt="GDPR Implementation Stages"></p>

<p>The GDPR may apply to entities (controllers and processors) that do not have an organizational unit in the EU, also in the scope of the obligation to appoint a personal data protection officer, when the processing activities carried out by them are related to:</p>

<ul>
  <li>offering goods or services to such data subjects in the EU, whether or not they are required to pay; or</li>
  <li>monitoring their behavior as far as this behavior occurs in the EU.</li>
</ul>

<h2 id="data-protection-officer-do-you-need-it">Data Protection Officer, do you need it?</h2>

<p>When your company is established in the EU, you are obliged to appoint a DPO if:</p>

<ol>
  <li>
    <p>You are a public authority or body and have appointed a DPO (except if you are a court acting in our judicial capacity).</p>
  </li>
  <li>
    <p>Your main activity is processing operations requiring regular and systematic monitoring of data subject on a large scale by their nature, scope, or purposes (e.g., you‚Äôre Google ;-)).</p>

    <p>Here it is crucial to explain ‚Äúlarge-scale‚Äù meaning. The GDPR doesn‚Äôt define the concept of ‚Äúlarge-scale‚Äù data processing. However, it is recommended to consider the following factors in order to determine whether large-scale processing takes place: the number of data subjects (a specific number or percentage of a particular group of the population), the scope of personal data processed, the period for which the data is processed, geographical scope of personal data processing. Thus, describing the process with this term is quite relative. The concept of ‚Äúregular and systematic monitoring‚Äù of data subjects is also not defined in the GDPR. However, ‚Äúmonitoring of data subjects‚Äô behavior‚Äù is mentioned in Recital 2415 and includes all online tracking and profiling forms, including for advertising purposes behavioral.</p>
  </li>
  <li>
    <p>Your main activity is the large-scale processing of special categories of personal data and personal data related to criminal convictions and offenses.</p>

    <p>Now, what does it mean ‚Äúspecial categories of personal data‚Äù? Data of a special category can be included revealing racial or ethnic origin, political opinions, religious or philosophical beliefs, trade union membership, and the processing of genetic data, biometric data allowing the identification of a natural person.</p>
  </li>
</ol>

<p>As mentioned above, if your company is not an EU resident and your clients are EU residents, you should (as the data controller) have a representative registered in the EU. According to its competence, the DPO appointment should be notified to the relevant Member State‚Äôs supervisory authority.</p>

<p><img src="https://saasitive.com/tutorial/gdpr-meaning/DPO_obligation.svg" alt="Do you need a DPO?"></p>

<p>The DPO should:</p>

<ul>
  <li>be aware of national and European data protection laws;</li>
  <li>be familiar with the practices in the field of personal data protection;</li>
  <li>have business and industry knowledge regarding the administrator‚Äôs activities;</li>
  <li>know the data processing processes,</li>
  <li>know the information systems and security measures used by the controller and its data protection needs;</li>
  <li>demonstrate knowledge of the entity‚Äôs administrative procedures and operations.</li>
</ul>

<p>The inspector is, therefore, to play a crucial role in supporting the ‚Äúdata protection culture‚Äù and help in the implementation of the necessary elements of the GDPR, i.e.:</p>

<ul>
  <li>rules for the processing of personal data;</li>
  <li>the rights of data subjects;</li>
  <li>data protection by design and data protection by default;</li>
  <li>keep a register of processing activities;</li>
  <li>processing security requirements;</li>
  <li>reporting violations.</li>
</ul>

<p>DPO suppose to be easily accessible as a point of contact for employees, individuals, and Information Commissioner‚Äôs Officer (ICO). His contact details should be published on your website. If you are not obliged to appoint a DPO, you can designate a person who will track the newest trends, UE recommendations and keep a hand on your company‚Äôs personal data security.</p>

<p><strong>Note from the author:</strong></p>

<p>Even though it contains a lot of practical information about legal stuff, you cannot treat it as legal advice. Each case is different and requires an individual approach. The purpose of this article is to help you to understand the essence of its subject.</p>



		<hr>

		


		<h4>Let's stay in touch!</h4>
		<p>
			Would you like to be notified about new posts? Please fill this
			<a href="https://forms.gle/rgAG9gkhUEH2wUVt5" target="_blank">form</a>.
		</p>
		<p>
			Have you found a bug in the code? Please add a <a href="https://github.com/saasitive/django-react-boilerplate/issues/new" target="_blank">GitHub
				issue</a>.
		</p>
		<p>
			Do you have problems with running the code or setup and need help? Please add a <a href="https://stackoverflow.com/">StackOverflow</a> question with <b>django-react</b> tag.
		</p>

		<hr>


		

	</div></div>]]>
            </description>
            <link>https://saasitive.com/tutorial/gdpr-meaning/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25493704</guid>
            <pubDate>Mon, 21 Dec 2020 10:41:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Chef cofounder on CentOS: It‚Äôs time to open source everything]]>
            </title>
            <description>
<![CDATA[
Score 187 | Comments 89 (<a href="https://news.ycombinator.com/item?id=25493606">thread link</a>) | @ashitlerferad
<br/>
December 21, 2020 | https://planetstoryline.com/chef-cofounder-on-centos-its-time-to-open-source-everything/ | <a href="https://web.archive.org/web/*/https://planetstoryline.com/chef-cofounder-on-centos-its-time-to-open-source-everything/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Commentary: Red Hat has been in hot water about changing the way CentOS operates, but that model looks like the exact right way for open source entrepreneurs to operate.</p><div data-component="lazyloadImages">
<figure><span></span><figcaption></figcaption></figure>
<p>Red Hat switched up CentOS to make it less of a Red Hat Enterprise Linux (RHEL) clone and more of a feeder project into RHEL (as Fedora was always supposed to be, yet wasn‚Äôt). Some people are mad, as <a href="https://www.zdnet.com/article/red-hat-resets-centos-linux-and-users-are-angry/" target="_blank" rel="noopener noreferrer" data-absolute="true" data-component="externalLink">Steven J. Vaughan-Nichols has written</a> on sister site ZDNet. Some people, like former Disney employee Justin Garrison, <a href="https://twitter.com/rothgar/status/1337818039799070722" target="_blank" rel="noopener noreferrer" data-absolute="true" data-component="externalLink">think</a> it sounds perfect (the hipper, slightly edgier version of RHEL). If you‚Äôre a billion-dollar company upset that Red Hat appears to be trying to charge for something you value, the <a href="https://www.zdnet.com/article/goodbye-centos-hello-rocky-linux/" target="_blank" rel="noopener noreferrer" data-absolute="true" data-component="externalLink">founder of CentOS has a new way for you to get something for nothing</a>: Rocky Linux.</p>

<p>But if you‚Äôre an open source entrepreneur wondering what this means for you, well, Chef cofounder and System Initiative CEO <a href="https://twitter.com/adamhjk/status/1337062314357514251" target="_blank" rel="noopener noreferrer" data-absolute="true" data-component="externalLink">Adam Jacob has you covered</a>. In a series of tweets, he walks through how Red Hat‚Äôs CentOS strategy can play out for you. (He should know, as the company he co-founded, Chef, <a href="https://www.techrepublic.com/article/why-chefs-100-open-source-move-is-smart-business/" data-absolute="true">last year open sourced everything</a>.)</p>
<p>Let‚Äôs observe.</p>
<h2>Open source all the things</h2>
<p><a href="https://twitter.com/adamhjk/status/1337062314357514251" target="_blank" rel="noopener noreferrer" data-absolute="true" data-component="externalLink">Jacob‚Äôs first rule</a>? Open it up. Completely. ‚ÄúIf I do an open source strategy for a company ever again, I will own the upstream, it will be fully open source, and I‚Äôll happily collaborate with anyone downstream.‚Äù But not just an open upstream‚Äìit‚Äôs also important to, ‚ÄúProduce a commercial distribution [and c]ollaborate on downstream non-commercial ones, in the open,‚Äù he <a href="https://twitter.com/adamhjk/status/1337062321982758912" target="_blank" rel="noopener noreferrer" data-absolute="true" data-component="externalLink">argued</a>.</p>
<p>What does he mean by ‚Äúupstream‚Äù and ‚Äúdownstream‚Äù? In open source, think of the <a href="https://opensource.stackexchange.com/questions/993/what-does-upstream-mean" target="_blank" rel="noopener noreferrer nofollow" data-absolute="true" data-component="externalLink">upstream</a> as the parent, the head, the initial open source project. Downstream might be forks or distributions (packaging up of a particular build of the upstream code) of the upstream.</p>
<p>What Red Hat announced was basically that CentOS would move from being downstream to upstream. It becomes a place, as <a href="https://twitter.com/adamhjk/status/1337062318451068929" target="_blank" rel="noopener noreferrer" data-absolute="true" data-component="externalLink">Jacob noted</a>, that others <a href="https://www.redhat.com/en/blog/centos-stream-building-innovative-future-enterprise-linux" target="_blank" rel="noopener noreferrer nofollow" data-absolute="true" data-component="externalLink">like Facebook</a> can collaborate with Red Hat in a way they simply couldn‚Äôt before (as Fedora wasn‚Äôt closely enough aligned with RHEL). CentOS as a downstream RHEL community was mostly one of users, of consumers, not of collaborators. It was somewhere to get RHEL, but rebranded CentOS, for free.</p>
<p>As such, Jacob pointed out, ‚ÄúThey weren‚Äôt invested in it beyond using it.‚Äù And when someone removes the downstream they get mad ‚Äúbecause it‚Äôs like someone threatened the water supply,‚Äù <a href="https://twitter.com/adamhjk/status/1337062319558434822" target="_blank" rel="noopener noreferrer" data-absolute="true" data-component="externalLink">he argued</a>. It‚Äôs therefore far better to condition people to participate as collaborators with an open source project, and through the commercial distribution to also condition users to become customers, if they want the certified distribution.</p>
<h2>Open source + cloud</h2>
<p>One way that open source companies are doing this model to fantastic effect is by open sourcing their upstream and creating a cloud distribution (read: managed service). A variety of companies have embraced this model to greater or lesser extents.</p>
<p>Yugabyte, for example, ditched its Open Core model a year ago and open sourced 100% of its database code. A year later, CTO Karthik Ranganathan told me in an interview, ‚ÄúIt increased our adoption like crazy,‚Äù growing the number of Yugabyte clusters 10x, but it also has dramatically accelerated their business without them losing any known pipeline. Could someone take that upstream and create a competitive downstream competitor? Of course. But no one should be able to out-Yugabyte on their home turf.</p>
<p>Or take Redis Labs. The company has fiddled with licensing over the last few years, but has kept core Redis completely open while encouraging a growing community (which includes downstream competitors) to lend a hand to improving the code. While Redis Labs doesn‚Äôt publish results, its business is booming, even as 10 or so other companies have created competitive downstream managed service offerings.</p>
<p>Which brings us back to Jacob: ‚ÄúRun an open upstream from the jump. Produce a commercial distribution. Collaborate on downstream non-commercial ones, in the open.‚Äù</p>
<p>That‚Äôs the strategy. That‚Äôs the magic. You don‚Äôt need to go Open Core or any other permutation of kind-of, sort-of open source. You can open source everything and just ensure you have a rock-solid managed cloud service. This reliance on cloud is what‚Äôs driving MongoDB, Confluent, DataStax, Redis Labs, and others to great success. It can be your model, too.</p>
</div></div>]]>
            </description>
            <link>https://planetstoryline.com/chef-cofounder-on-centos-its-time-to-open-source-everything/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25493606</guid>
            <pubDate>Mon, 21 Dec 2020 10:22:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pijul: Commutation and Scalability]]>
            </title>
            <description>
<![CDATA[
Score 142 | Comments 27 (<a href="https://news.ycombinator.com/item?id=25493577">thread link</a>) | @Ygg2
<br/>
December 21, 2020 | https://pijul.org/posts/2020-12-19-partials/ | <a href="https://web.archive.org/web/*/https://pijul.org/posts/2020-12-19-partials/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>


<p>Sunday, December 20, 2020</p>
<p>I just finished the implementation of an important feature of Pijul: clones, pushes and pulls on partial repositories. In this post, I explain why this matters.</p>
<h2 id="change-commutation">Change commutation</h2>
<p>Pijul is based on <em>changes</em>, also called <em>patches</em> or <em>diffs</em>.
This doesn‚Äôt mean that its only internal datastructure is patches, quite to the contrary: it was only by departing from a patch-only internal representation that we were able to solve the algorithmic challenges inherent to patch-based systems.</p>
<p>However, being change-based does mean that the core operations of Pijul are defined on changes, and that Pijul is designed in such a way that changes satisfy basic intuitive properties, similar to algebraic operations. One basic thing is that applying a change is an <em>associative</em> operation, like matrix multiplication: applying $A$ and $B$ at once, and then later $C$, is the same as applying $A$, and then $B$ and $C$ at once. In matrix multiplication, $(AB)C = A(BC)$. Moreover, in Pijul, all changes are invertible (whereas only some matrices are): for any change $A$, there is an ‚Äúinverse change‚Äù $A^{-1}$ such that applying $A^{-1}$ after $A$ is the same as applying neither. Of course, both $A$ and $A^{-1}$ will appear in the log, but the contents of the repository will be the same as applying neither $A$ nor $A^{-1}$.</p>
<p>There is another property that users want from version control systems, and that is <strong>commutation</strong>.
Matrix multiplication rarely commutes<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup>.
In Git, commutation is usually <em>simulated</em> using branches and rebase: indeed, rebasing a branch A on top of another branch B really means commuting the commits of A since the divergence between A and B, and the commits of B since the divergence. However, that commutation isn‚Äôt perfect, since the commits must change their hash when rebased.</p>
<p>Things are simpler in Pijul, because any two changes that <em>could have been written independently</em> always commute, meaning that if the two changes could be written without knowledge of each other, they can be applied in any order.</p>
<p>This of course raises a potential concern:</p>
<blockquote>
<p>If I can apply $A$ and $B$ in any order, how do I know which order is the <strong>right</strong> one?</p>
</blockquote>
<p>In Pijul, this question <strong>does not matter</strong>: both orders will yield <strong>the exact same result</strong>, the only difference is that the log will list the changes in the order in which they were applied. And I‚Äôm not saying that it doesn‚Äôt matter because I‚Äôm careless, but because it truly is the same thing.</p>
<blockquote>
<p>I disagree: it does matter, I still prefer to have a ‚Äú<em>linear</em>‚Äù order for my changes/commits.</p>
</blockquote>
<p>Indeed, everybody wants to see the order of operations in a repository, for many reasons. For example:</p>
<ul>
<li>We want to keep a record of the operations performed on our repository.</li>
<li>We want to go back in time.</li>
</ul>
<p>And in fact, Pijul allows you to do exactly that, but in a more rigorous way than Git. Indeed, take the scenario where Alice and Bob work together, Alice makes a change $A$ while Bob makes $B$. When they put their work together, Alice applies Bob‚Äôs change, resulting in the log $AB$, while Bob applies Alice‚Äôs change, resulting in the log $BA$. In this case, there is no ‚Äútrue‚Äù linear history, since they worked on different things, and took different steps at different times. However, both of them want to be able to go back in time, step-by-step, and not just ‚Äú<em>step-by-step-according-to-Bob‚Äôs-order</em>‚Äù.</p>
<h2 id="commutation-and-massive-repositories">Commutation and massive repositories</h2>
<p>One of the biggest challenge for Pijul up to the recent releases was scalability: even modestly-sized repositories like Pijul‚Äôs source code would use a lot of disk space. This was even more disappointing since, as I‚Äôm about to explain, commutation was suposed to allow it to scale to gigantic repository sizes‚Ä¶ in theory. The same problem also made massive tests impossible, meaning that getting past the ‚Äú0.x releases‚Äù seemed more and more impossible as time passed.</p>
<p>Now that this phase is mostly behind us, the cool bits of the theory finally become practical.</p>
<p>In particular, in Pijul, each change contains a reference to the files it modifies. Note that, because we want operations on repositories (such as renaming files) to commute with edits inside files, we don‚Äôt identify files and directories by name, but by a unique identifier made from the hash of the change that introduced that file or directory.</p>
<p>For repositories with multiple projects, this makes it possible to clone and pull just parts of a repository, and work on that part as if we had the entire thing. Indeed, imagine we have a repository with the following log:</p>
<ol>
<li>A, adding file <em>x</em></li>
<li>B, editing <em>x</em></li>
<li>C, adding file <em>y</em></li>
<li>D, adding file <em>z</em></li>
<li>E, renaming <em>x</em> to <em>w</em></li>
<li>F, editing <em>y</em> and <em>z</em></li>
</ol>
<p>All these changes do not necessarily commute; however, since B and C touch completely different files (namely, <em>x</em> and <em>y</em>), they could be produced in parallel, and hence they commute. This means that we can pull only the changes related to a specific file, say <em>x</em>, and make the following history: A, B, E<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup>.</p>
<p>Moreover, any change made on top of that sequence will commute with C, D and F: indeed, if we edit file <em>x</em> again, producing a change G, then since G can be made in parallel to C, D and F, we can push G after any patch that comes after B in that history, for example getting history ‚ÄúABCDEFG‚Äù.</p>
<p>Note that this is done without changing the changes nor their hash.</p>
<h2 id="another-trick-for-large-files">Another trick for large files</h2>
<p>As explained in previous posts on this blog, Pijul changes have a bit more information than diffs, and operate on graphs rather than files. This means that changes can be split into two parts, a short-ish one with a binary specification of the graph operations, and then the new content inserted by the change.</p>
<p>The change format is designed to be downloadable in two stages: one can download the operations without downloading the contents. One issue with this is security: if we don‚Äôt download the contents, how can we make sure that the hash is right? This is done by including a hash of the change in the ‚Äúoperations‚Äù section of the change, and letting the hash of a change be the hash of the ‚Äúoperations‚Äù section.</p>
<p>This makes it possible for someone to make five versions of a large binary file in a day, where each change deletes the entire file, and adds it again, the operation sections only contain the length of the different versions, not the actual bytes. In order to get the latest version of the file, a client will therefore only have to download the latest change completely, and only the operations section of the previous ones.</p>
<p>Note that this makes the following ‚Äúattack‚Äù possible: a server might trick a client into believing that the server has a change with hash $A$, which inserts $n$ bytes into a file, and then another change with hash $B$, deleting all these bytes. When the client downloads $A$ and $B$, it doesn‚Äôt need to download the contents. However, if the client later decides to unrecord $B$, the contents of $A$ will have to be downloaded, and the client will be able to tell that the hash of $A$ was incorrect. This should make it impossible to unrecord $B$ without also unrecording $A$. However, if $A$ made other edits, and other changes depend on $A$, this could be problematic.</p>
<h2 id="what-is-next">What is next?</h2>
<p>There is one remaining painpoint for very large repositories, and this is the fact that in order to clone a repository with a very large history, one must download and apply all the changes, one by one. Even though our apply function is quite fast<sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup>, this can still be problematic for dozens or hundreds of thousands of changes.</p>
<p>In my next post, I will talk about a solution to this problem, which I have started to implement.</p>
<section role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>Matrices that are simultaneously diagonalizable do, for example, but for two arbitrary matrices $A$ and $B$, $AB$ is often different from $BA$. <a href="#fnref:1" role="doc-backlink">‚Ü©Ô∏é</a></p>
</li>
<li id="fn:2" role="doc-endnote">
<p>Note that in this case, we could also pull A, E, B, since renaming a file commutes with editing it. However, we must start with A, since adding a file could not be possibly done in parallel to editing or renaming it. <a href="#fnref:2" role="doc-backlink">‚Ü©Ô∏é</a></p>
</li>
<li id="fn:3" role="doc-endnote">
<p>The complexity of apply is in $O(|p| |c| \log |H|)$, where $|p|$ is the size of the change, $|c|$ is the size of the largest conflict in which $p$ is involved, and $|H|$ is the number of edits made since the start of the repository. <a href="#fnref:3" role="doc-backlink">‚Ü©Ô∏é</a></p>
</li>
</ol>
</section>
</div></div>]]>
            </description>
            <link>https://pijul.org/posts/2020-12-19-partials/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25493577</guid>
            <pubDate>Mon, 21 Dec 2020 10:14:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tips for on Call Engineers During the Holidays]]>
            </title>
            <description>
<![CDATA[
Score 26 | Comments 27 (<a href="https://news.ycombinator.com/item?id=25493498">thread link</a>) | @kiyanwang
<br/>
December 21, 2020 | https://www.transposit.com/blog/2019.12.23-tips-for-on-call-engineers-during-the-holidays/ | <a href="https://web.archive.org/web/*/https://www.transposit.com/blog/2019.12.23-tips-for-on-call-engineers-during-the-holidays/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><img src="https://transposit.imgix.net/img/2019.12.23a.jpg?auto=format&amp;ch=Width,DPR&amp;q=95&amp;w=800" alt="Picture of fire burning in a fireplace"></p><p>Are you sitting by the fire sipping cocoa, worrying secretly about whether you‚Äôll have to put out an engineering fire any minute?</p><p>If only everyone could enjoy a well-earned break from on call life, the week would be more relaxing, but there is no rest for the technology that keeps our world running. This week certain industries are reaching a holiday high, and DevOps, SREs, and on call engineers everywhere will have to don their invisible superhero capes and keep us humans and our devices connected, just like they always do.</p><p>At Transposit, we know the pain of on call ourselves, and so we‚Äôve banded together to come up with some of our top tips for making holiday on call shifts as painless as possible.</p><h2 id="on-call-tip-number-one%3A">On Call Tip Number One: <a href="#on-call-tip-number-one%3A">#</a></h2><p>Whether on-callers are planning on having a Rockwellian Christmas, lighting the menorah with Bubbe, visiting family abroad, or taking a tropical trip with the two federal holidays padding their vacation request, there is one consistent truth about the holiday week between Christmas and New Years: Mass exodus from the office. So, before we even get into the challenges of answering a page when no one is around to help you, how can you avoid that conundrum in the first place?</p><p>On call engineering managers should be careful to adjust on call schedules so that the same people are not on call during multiple peak times. Which times are most painful are up to the individual, so giving each person the opportunity to sign up for what works for them first is always a best practice. Perhaps someone doesn‚Äôt mind being on call Christmas morning, but absolutely can‚Äôt do it on New Years Eve. Start by letting people pick what is ideal for them, and then fill in the remaining gaps, being sure not to unduly burden any one member of the team.</p><p>When making the on call schedule, make sure that there are primaries and secondaries who are committed to each shift, since they will likely be working together without quick access to the rest of the team when something goes wrong.</p><p>To reduce the pain further, consider upping on call bonuses for the entire week as an incentive for taking on undesirable shifts, and once everyone is back in the office in January, be sure to acknowledge the on-callers who responded quickly to keep the business running while everyone else was enjoying their time away from work.</p><h2 id="on-call-tip-number-two%3A">On Call Tip Number Two: <a href="#on-call-tip-number-two%3A">#</a></h2><h3 id="communicate-early-and-often%2C-with-and-without-runbooks.">Communicate early and often, with and without runbooks. <a href="#communicate-early-and-often%2C-with-and-without-runbooks.">#</a></h3><p>Without easy access to the rest of the team, good playbook/runbook documentation during this period is even more important than it is the rest of the year. If your typical on call process involves opening up a collaborative team Slack thread or Jira ticket and then letting various experts or senior SREs weigh in, you might face a rude awakening when your reliable experts are MIA during the holiday week.</p><p>Make sure your runbooks are updated and everyone has easy access to the DevOps systems they need before everyone leaves on vacation, because if on-callers are left to search half-empty wikis by themselves, the speed to resolution is going to be stressful for everyone - engineers, managers, and executives alike.</p><p>Additionally, make sure that primary and secondary on-callers know exactly who they are paired with for a particular shift. Make sure that both are committed to being fully available and sober during their shifts, so that in the absence of the whole team, they are secure in having at least one problem-solving partner.</p><h2 id="on-call-tip-number-three%3A">On Call Tip Number Three: <a href="#on-call-tip-number-three%3A">#</a></h2><h3 id="plan-around-potential-travel-problems">Plan around potential travel problems <a href="#plan-around-potential-travel-problems">#</a></h3><p>While it may seem obvious to plan your travel around your on call shifts so that you aren‚Äôt in the air while you‚Äôre supposed to be available, these days, we sometimes have too much faith in our connectivity during travel. Airports and even some planes have wifi, many airplane seats have built-in electricity and jacks, what could possibly go wrong?</p><p>Remember, this week is one of the busiest travel weeks of the year in the US, so our already strained infrastructure will be at the edge of capacity in the best of circumstances. You won‚Äôt be very effective at troubleshooting an outage if you are standing in a 2-hour long airport security line or sitting in a traffic jam on the way up to the mountains. Add unpredictable winter weather to the mix, and we have on call disasters in the making. So, what should on-callers do?</p><p>First, you should plan wider time-frames for travel around your on call shifts to avoid accidentally being unavailable. You also shouldn‚Äôt count on access to wifi on your flights (only some planes are equipped, and airlines often shift which plane is flying a certain route based on weather and mechanical issues). Don‚Äôt expect access to electricity in the airport to charge your computer or phone, as the high number of travelers may easily keep the charging stations fully occupied, and make sure you have your computer and charger easily accessible, so that if you are forced to gate-check a bag on your crowded flight, you will be sure to keep these precious items on your person.</p><p>Traveling on-callers should also remember that time zones are a thing - your on call planning will need to be adjusted accordingly. If you are the secondary, your primary may be in a different time zone (or vice versa), and you should discuss your plans with them beforehand so that you are prepared for them to be asleep at different hours.</p><p>Finally, if you are traveling anywhere that has inclement weather or otherwise unreliable access to internet, you should have a back-up plan, such as tethering your computer to your phone‚Äôs data service to get around unreliable wifi. If you arrive at your destination and realize that you have bad data service, finicky wifi, or (gasp) the possibility of power outages, you should admit your defeat early and find an understanding colleague to take your shift, rather than hoping for the best and leaving any alerts to your back-ups.</p><h2 id="on-call-tip-number-four%3A">On Call Tip Number Four: <a href="#on-call-tip-number-four%3A">#</a></h2><p>We‚Äôve already talked about the importance of secondaries as problem-solving partners, but what about the other, more social challenges of being on call during this time? Let‚Äôs say you‚Äôre sitting down to a nice family dinner, and, just like you were dreading, there goes your phone dinging with an urgent alert. How are you going to explain this situation to your relatives, who in many cases, don‚Äôt really understand what you do?</p><p>This is where a friendly ally can help serve as your secondary within your social situation. If you arm a sibling or supportive partner with talking points to explain why you have to get up from the festive table to crouch frantically over your laptop in the back room, you will be able to focus on troubleshooting without worrying about the familial fallout.</p><h2 id="on-call-tip-number-five%3A">On Call Tip Number Five: <a href="#on-call-tip-number-five%3A">#</a></h2><h3 id="pat-yourself-and-your-team-on-the-back">Pat yourself and your team on the back <a href="#pat-yourself-and-your-team-on-the-back">#</a></h3><p>It should go without saying, and so often it does, that there is a reason the world functions so smoothly during this week, despite its unique circumstances. While a lot of the credit is due to excellent engineering and team planning throughout the rest of the year, there are always unanticipated incidents that simply can‚Äôt be avoided. That‚Äôs why on call shifts, DevOps, and SREs exist in the first place! And so, as we look back on the year, and the incidents resolved during this special last week of 2019, let‚Äôs remember to give a shout out to all the engineering heroes who stepped forward to make it happen. Cheers to you!</p></div></div>]]>
            </description>
            <link>https://www.transposit.com/blog/2019.12.23-tips-for-on-call-engineers-during-the-holidays/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25493498</guid>
            <pubDate>Mon, 21 Dec 2020 09:59:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Getting Started with Lisp (2019)]]>
            </title>
            <description>
<![CDATA[
Score 82 | Comments 63 (<a href="https://news.ycombinator.com/item?id=25493495">thread link</a>) | @wheresvic4
<br/>
December 21, 2020 | https://smalldata.tech/blog/2019/08/16/getting-started-with-lisp-in-2019 | <a href="https://web.archive.org/web/*/https://smalldata.tech/blog/2019/08/16/getting-started-with-lisp-in-2019">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>
  It's 2019 and Lisp stories are on fire at HackerNews. While there exist multiple Lisp dialects, Common Lisp is the
  oldest and most mentioned. Thus, if you're looking to get started with programming in Common Lisp, then there are 2
  options:
</p>

<ul>
  <li>Use <a href="https://portacle.github.io/">portacle</a> to get up and running with SBCL + Emacs.</li>
  <li>
    Use
    <a href="https://github.com/roswell/roswell">roswell</a> to install multiple Lisp implementations + build and bundle
    lisp applications. Roswell installs SBCL by default.
  </li>
</ul>

<p>
  As for me, I did not feel like learning a brand new text editor just to get started with Lisp so I went with Roswell.
  Follow the instructions on installing Roswell for your platform. In my case, I decided to install it under
  <code>$HOME/bin</code> on my linux machine via:
</p>

<pre>$ sudo apt install rlwrap
$ mkdir $HOME/bin
$ git clone -b release https://github.com/roswell/roswell.git
$ cd roswell/
$ sh bootstrap
$ ./configure --prefix=$HOME/bin
$ make
$ make install</pre>

<p>
  Make sure to add the roswell path to your <code>~/.bashrc</code> (note that roswell installed itself under
  <code>~/bin/bin</code> and if this looks odd to you, install it under <code>$HOME/apps</code> or something of the
  sort):
</p>

<pre>if [ -d "$HOME/bin/bin" ] ; then
  PATH="$HOME/bin/bin:$PATH"
fi</pre>

<p>
  Open a new terminal and setup roswell:
</p>

<pre>$ which ros
/home/xxx/bin/bin/ros
$ ros --version
roswell 19.06.10.100
$ ros setup </pre>

<p>
  We will now setup VSCode to run lisp. First install the
  <a href="https://marketplace.visualstudio.com/items?itemName=mattn.Lisp">vscode-lisp</a> extension. Open a new file
  and type the following in:
</p>

<pre>(defun main ()
  (format t "Hello world"))
</pre>

<p>
  Then <a href="https://code.visualstudio.com/docs/editor/integrated-terminal">launch a terminal</a> inside VSCode. In
  the terminal run <code>rlwrap ros run</code> to start the REPL (Read/Eval/Print Loop). Select the above defined
  function and use the "Run Selected Text in Active Terminal" from the Command Palette (F1) to run your code!
  Note that you can exit the REPL via: <code>(SB-EXT:EXIT)</code>. The <code>rlwrap</code> utility remembers previously
  typed commands which makes for a much nicer REPL experience.
</p>

<p>
  What is amazing about Roswell is that is comes with a scripting / build ability that allows you to easily distribute
  your application. To see this in action first create a roswell script via <code>ros init hello-world</code>. Then add
  in the following code so that your script looks like the following:
</p>

<pre>#!/bin/sh
#|-*- mode:lisp -*-|#
#|
exec ros -Q -- $0 "$@"
|#
(progn ;;init forms
  (ros:ensure-asdf)
  ;;#+quicklisp(ql:quickload '() :silent t)
  )

(defpackage :ros.script.hello-world.3774807541
  (:use :cl))
(in-package :ros.script.hello-world.3774807541)

(defun helloWorld
  ()
  (format t "Hello world")
)

(defun main (&amp;rest argv)
  (declare (ignorable argv))
  (helloWorld))
;;; vim: set ft=lisp lisp:
</pre>

<p>
  We can now simply run this script via <code>ros hello-world.ros</code> but more interestingly, we can actually compile
  a binary via <code>ros build hello-world.ros &amp;&amp; ./hello-world</code>.
</p>

<p>
  Interestingly enough, I am not a complete noob to Common Lisp, I actually programmed it 15 years ago during my
  undergrad years. A colleague and I
  <a href="https://smalldata.tech/api/to/847c726edff337b818ba86914d9e71b6">compared an experimental genetic algorithm against an ant colony optimization algoritm on a path-finding problem</a>. Once I had lisp running I opened up the project and basically executed <code>ants.lisp</code> in the REPL, ran
  <code>(INITIALIZE-ANT-WORLD)</code> followed by <code>(DISPATCH-ANTS)</code> and voila, my ants were able to find
  their food!
</p>

<p>
  No guide to getting started with Lisp would be complete without a list of further reading that will keep you busy for
  the next 100 years so here we go:
</p>

<ul>
  <li>
    A very basic Lisp <a href="https://lisp-lang.org/learn/first-steps">tutorial</a> which also features an excellent
    <a href="https://lisp-lang.org/books/">list</a> of Lisp books
  </li>
  <li>
    <a href="https://smalldata.tech/api/to/3c02f249908494a961ac4b28e33f1ec5">A road to common lisp</a> - Steve Losh's excellent guide to
    getting into Lisp programming. The following is a small snippet of useful information from the post:
    <ul>
      <li>
        Files are files on your hard drive.
      </li>
      <li>Packages are containers of symbols. They are orthogonal to files.</li>
      <li>
        Systems are collections of code, instructions on how to load that code, dependency lists, and metadata. They are
        orthogonal to packages.
      </li>
      <li>
        Projects are high-level collections of "stuff" such as code, documentation, maybe some image assets,
        etc. They are (mostly) orthogonal to systems.
      </li>
      <li>Common Lisp itself knows about files and packages.</li>
      <li>ASDF adds systems.</li>
      <li>Quicklisp adds the internet.</li>
    </ul>

    This guide also provides a very nice review of libraries and is definitey worth a read.
  </li>
  <li>
    Another <a href="https://smalldata.tech/api/to/cb5d30e9026cba3d1d0b838611d1624c">article</a> that recommends roswell and provides
    instructions for Atom integration along with project and library management.
  </li>
</ul>

<p>
  Well, that's about it - Lisp is beautiful and I'm off to wrap my head around some 15 year old code that doesn't look
  too bad, go functional programming!
</p>
<p><a href="https://news.ycombinator.com/submitlink?u=https%3A%2F%2Fsmalldata.tech%2Fblog%2F2019%2F08%2F16%2Fgetting-started-with-lisp-in-2019&amp;t=Getting%20started%20with%20Lisp%20in%202019">HackerNews submission / discussion</a></p></div></div>]]>
            </description>
            <link>https://smalldata.tech/blog/2019/08/16/getting-started-with-lisp-in-2019</link>
            <guid isPermaLink="false">hacker-news-small-sites-25493495</guid>
            <pubDate>Mon, 21 Dec 2020 09:58:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[To Bind and Loose a Reference]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25493274">thread link</a>) | @aw1621107
<br/>
December 21, 2020 | https://thephd.github.io/to-bind-and-loose-a-reference-optional | <a href="https://web.archive.org/web/*/https://thephd.github.io/to-bind-and-loose-a-reference-optional">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
  
      <p>‚Ä¶ Let‚Äôs talk about something that has haunted me for over a year now.<!--more--></p>

<p>Seeing discussion after discussion, paper after paper, point after point being made about references inside nullable types like <code>variant&lt;T&amp;, monostate&gt;</code>, <code>optional&lt;T&amp;&gt;</code>, <code>expected&lt;T&amp;&gt;</code> and its friends, I am now beyond compelled to speak. The straws that finally tipped me from my year+ hiatus on this subject were <a href="https://wg21.link/p2070">a paper by Professor Peter Sommerlad</a> in the latest C++ mailing, asking for a simplified <code>optional&lt;T&amp;&gt;</code> (and <code>object_ptr</code>) in the interest of safety for MISRA C++-type folk, as well as another paper by James Berrow, who pursued his <a href="https://wg21.link/p2005">objections to the 2D Graphics Proposal with a thorough scholarship</a> that demanded both respect and attention.</p>

<p><code>optional&lt;T&amp;&gt;</code> (and <code>object_ptr</code>) are minefields. Since MISRA‚Äôs paper cites my old paper ‚Äì <a href="https://wg21.link/p1175">p1175</a> ‚Äì it seems I can no longer blissfully turn a blind eye and pretend what went down at the November 2018 San Diego meeting just didn‚Äôt happen. During that meeting, I explicitly told the room that I would not bring another paper forward to help resolve this issue. I will not be‚Ä¶ but I did promise that I would fully vet the design space.</p>

<p>That vetting is done in a yet-unpublished C++ paper <a href="https://thephd.github.io/_vendor/future_cxx/papers/d1683.html">d1683</a>, a secret paper I have been never quite been able to force myself to finish writing. I could not write it because I feel I grossly misled myself and walked into a trap. In fact, I still do feel that way. It makes me feel sick that I am even picking up my pen to once more write about this utter travesty of a topic, most certainly not for the reasons you may expect. In an effort to do a good job and not sabotage Professor Sommerlad‚Äôs generally excellent work and consideration, I have bottled (nearly) all of the purely technical observations into <a href="https://thephd.github.io/_vendor/future_cxx/papers/d1683.html">d1683</a>.</p>

<p>The rest of this reading is for those of you who can stomach messy, non-technical humanity that birthed the fullness of the viscerally methodical and mechanical understanding I leave for you in the paper. You may stop here if you wish,</p>

<p>though I certainly wish I could stop here with you, dear reader.</p>



<p>In late 2018, I was one meeting fresh of being a ‚ÄúCommittee Member‚Äù. Brimming with ideas from <a href="https://thephd.github.io/rapperswil-2018-c++-committee-trip-report">my first real interaction</a> with the Committee and incensed by community problems ‚Äì some listed in <a href="https://www.youtube.com/watch?v=0Lwy4_sKeJM">my second ever recorded conference presentation</a> ‚Äì I endeavored to tackle lots of ‚Äúwe should clean this up‚Äù problems. On that list was putting references inside of <code>std::optional</code>. I only spoke to a few people at C++Now 2018 about the idea, and they nodded their heads and said ‚Äúthis is a solved problem, we should fix it‚Äù. If only I had asked the right people at C++Now (literally, just one question at a lunch or break!), I would have known that this was not the case. Of course, there were additional warning signs that I was about to walk into one of the most one-sided fights of my life.</p>

<h3 id="a-deafening-silence">A Deafening Silence</h3>

<p>After attending your first Committee Meeting, dear reader, you get access to what is called ‚ÄúThe Reflector‚Äù. It‚Äôs a fancy name for ‚Äúprivate e-mail lists for Committee Members to discuss technical stuff‚Äù. Post-Rapperswil I joined the Reflector, verified my access, and then posted my very first message on the Reflector to some 100+ people:</p>

<blockquote>
  <p>Dear LEWG,</p>

  <p>I am doing some research on optional references‚Ä¶</p>
</blockquote>

<p>Nobody replied.</p>

<p>‚ÄúIt‚Äôs okay,‚Äù I told myself as I swallowed down my anxiety. ‚ÄúI‚Äôm just new and they just don‚Äôt feel like talking about it to a newbie about this stuff; there‚Äôs a long paper trail after all.‚Äù I sent another follow-up e-mail six days later, stating the intent of my research and a link to a survey. Again, my e-mail was met with the sound of my own increasingly shallow and worried breathing, albeit it seemed like they had received the post because some survey results trickled in. I was perplexed and confused. Despite probing a few people here and there to verify <em>did my e-mail actually send?!</em>, I received little to no information about <em>why</em> everyone was so quiet‚Ä¶ until a sudden DM later after the survey was published:</p>

<blockquote>
  <p>‚Ä¶ Thanks for pursuing this. Regardless of what comes out, it‚Äôs a worthwhile effort and it‚Äôs probably going to be brutal.</p>
</blockquote>

<p>‚Ä¶ Uh. <em>Excuse</em> me?</p>



<p>Ha! If only I had known that the descriptor ‚Äòbrutal‚Äô was, in fact, taking it easy on me. In doing my survey, I journeyed to the dark and unlit places in C++ and gathered information:</p>

<p><img src="https://thephd.github.io/assets/img/2020-01-24/WusDisWusDat%20-%20Mythical%20Lies%20-%20Page%200.jpg" alt="Journeying through the C++ Dark Woods"></p>

<p>I completed the survey with just shy of 130ish participants. 110 responded to the survey directly, 20ish people and companies ‚Äì including the original author of Boost.Tuple, Boost <code>reference_wrapper</code>, <code>std::reference_wrapper</code>, and more ‚Äì replied either on a public mailing list to certain pieces / direct inquiries, or VIA private e-mail. As I reviewed the results, a steady drip of indignation slowly filled me. The reason, dear reader, was that I had been lied to. Everyone was lied to for at least 13 years by counting to the November 2018 San Diego meeting, and nearly 15 years to today‚Äôs very date.</p>



<p>If you read the technical paper, dear reader, you‚Äôll see a detailed writing about the two most prominent directions that are <em>always</em> brought up when someone talks about references in X-or-Value style wrappers like <code>expected</code>, <code>variant</code>, and <code>optional</code>. There are actually four directions in total, but we will use the two most often discussed: the ‚ÄúAssign-through‚Äù <code>optional</code> direction, and the ‚ÄúRebind‚Äù <code>optional</code> direction.</p>

<p>To illustrate this, observe the following snippet:</p>

<div><div><pre><code><span>#include &lt;optional&gt;
#include &lt;iostream&gt;
</span>
<span>int</span> <span>main</span> <span>(</span><span>int</span><span>,</span> <span>char</span><span>*</span><span>[])</span> <span>{</span>
	<span>int</span> <span>x</span> <span>=</span> <span>5</span><span>;</span>
	<span>int</span> <span>y</span> <span>=</span> <span>24</span><span>;</span>
	<span>std</span><span>::</span><span>optional</span><span>&lt;</span><span>int</span><span>&amp;&gt;</span> <span>opt</span> <span>=</span> <span>x</span><span>;</span>

	<span>opt</span> <span>=</span> <span>y</span><span>;</span>
	<span>std</span><span>::</span><span>cout</span> <span>&lt;&lt;</span> <span>"x is "</span> <span>&lt;&lt;</span> <span>x</span> <span>&lt;&lt;</span> <span>std</span><span>::</span><span>endl</span><span>;</span>
	<span>std</span><span>::</span><span>cout</span> <span>&lt;&lt;</span> <span>"y is "</span> <span>&lt;&lt;</span> <span>y</span> <span>&lt;&lt;</span> <span>std</span><span>::</span><span>endl</span><span>;</span>

	<span>return</span> <span>0</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>Some people will shout from the rooftops that <code>x</code> and <code>y</code> should be <code>24</code> (the optional ‚Äúassigns through‚Äù itself and into the referred-to object). Others say that <code>x</code> and <code>y</code> should be <code>5</code> and <code>24</code>, respectively (the optional ‚Äúrebinds‚Äù to another object, like <code>std::reference_wrapper</code>). This ‚Äúambiguity‚Äù of potential semantic choices led to a figurative holy war breaking out in not only Boost when this was first proposed, but in the Committee when it was brought up again. Back almost 15 years ago from today in Boost, Fernando Cacciola ‚Äì the originator of Boost.Optional ‚Äì had <a href="https://lists.boost.org/Archives/boost/2005/10/95487.php">this discussion and debate</a>. The full discussion ‚Äì if you hunt <a href="https://lists.boost.org/Archives/boost/2005/10/95079.php">down all the pieces</a> ‚Äì was over 100 e-mails long and featured some of today‚Äôs prominent (and today‚Äôs currently retired) C++ giants like Alisdair Meredith, Beman Dawes, Eric Niebler, and others.</p>

<p>The decision Boost made earlier was that <code>optional&lt;T&amp;&gt;</code> should rebind. This was based on a fact that Jonathan M√ºller observed over a decade later in his talk Rethinking Pointers and <a href="https://foonathan.net/blog/2018/07/12/optional-reference.html">more explicitly in a blog</a> on his opinions on <code>optional&lt;T&amp;&gt;</code> and why assign-through was the <em>wrong</em> behavior:</p>

<blockquote>
  <p>Now some people think that having that behavior in the <code>operator=</code> of <code>optional&lt;T&amp;&gt;</code> itself is even a possibility they need to consider.</p>

  <p>It isn‚Äôt.</p>

  <p>It absolutely isn‚Äôt.</p>

  <p>Ignoring any other counter argument, those semantics would lead to confusion as <code>operator=</code> would do completely different things depending on the state of the <code>optional</code>!</p>
</blockquote>

<p>And he‚Äôs right:</p>

<div><div><pre><code><span>void</span> <span>function</span> <span>(</span><span>std</span><span>::</span><span>optional</span><span>&lt;</span><span>int</span><span>&amp;&gt;</span> <span>maybe_obj</span><span>)</span> <span>{</span>
	<span>// blah blah </span>
	<span>// work ...</span>
	<span>if</span> <span>(</span><span>some_condition</span><span>)</span> <span>{</span>
		<span>int</span> <span>better_obj</span> <span>=</span> <span>...;</span>
		<span>maybe_obj</span> <span>=</span> <span>better_obj</span><span>;</span>
	<span>}</span>
	<span>// blah blah</span>
<span>}</span>
</code></pre></div></div>

<p>Imagine this code has a value for <code>maybe_obj</code> in the 95% case. You test it and it works for the cases you care about. Then, one day, <code>some_condition</code> becomes <code>true</code> <strong>and</strong> <code>maybe_obj</code> is empty; the double-whammy you never prepared you or your code for. Well, now you have a dangling reference to <code>better_obj</code> inside <code>some_condition</code>, a problem that is rarely discovered because you might use it in the time before the value becomes some wild overwritten garbage and still just ‚Äúhappens‚Äù to contain the value you like anyways and ships just fine. It‚Äôs a dangling reference to a stack variable ‚Äì a vulnerability waiting to happen ‚Äì but it compiles, runs, and ships.</p>

<p>In a rebinding world, that code is <em>always</em> wrong, and <em>always</em> gets rejected. Not by the compiler, no, but by Code Review, the <a href="https://twitter.com/Cor3ntin/status/1219897942343081986">upcoming <code>-Wlifetime</code></a>, and other tools. Static analyzers can sniff this in a heartbeat and issue a <em>hard</em> error, telling you to fix your mistake. If you have any degree of code auditing, testing, or checking, this will blow up right quick and can always be flagged down as ‚Äúthis is wrong, stop‚Äù.</p>

<p>In an assign-through world, dear reader, no static analyzer can diagnose that code with 100% certainty because Maybe That Is What You Intended But Why On God‚Äôs Holy Green Goddamned Earth Would You Write Code To Do This?! But there is an even more sinister way of writing this that looks correct, smells correct, and behaves mostly correct until it does not:</p>

<div><div><pre><code><span>std</span><span>::</span><span>optional</span><span>&lt;</span><span>int</span><span>&amp;&gt;</span> <span>cache</span><span>::</span><span>retrieve</span> <span>(</span><span>std</span><span>::</span><span>uint64_t</span> <span>key</span><span>)</span> <span>{</span>
	<span>std</span><span>::</span><span>optional</span><span>&lt;</span><span>int</span><span>&amp;&gt;</span> <span>opt</span> <span>=</span> <span>this</span><span>-&gt;</span><span>get_default_resource_maybe</span><span>();</span>
	<span>// blah blah work</span>
	<span>auto</span> <span>found_a_thing</span> <span>=</span> <span>this</span><span>-&gt;</span><span>lookup_resource</span><span>(</span><span>key</span><span>);</span>
	<span>if</span> <span>(</span><span>found_a_thing</span><span>)</span> <span>{</span>
		<span>int</span><span>&amp;</span> <span>resource</span> <span>=</span> 
		  <span>this</span><span>-&gt;</span><span>get_specific_resource</span><span>(</span><span>found_a_thing</span><span>);</span>
		<span>// do stuff with resource, return</span>
		<span>opt</span> <span>=</span> <span>resource</span><span>;</span>
	<span>}</span>
	<span>return</span> <span>opt</span><span>;</span> <span>// optional says if we got something!</span>
<span>}</span>
</code></pre></div></div>

<p>In both an assign-through world and a rebinding world, this code works. Unfortunately, they work in different ways. In the Rebinding world if you do not have a cached default resource, assigning into <code>opt</code> will re-point to <code>resource</code>. It also happens if there is a resource, too, taking <code>opt</code> and rebinding it to point at the specific <code>resource</code> in the <code>found_a_thing</code> conditional.</p>

<p>The empty case is the same for assign-through (it rebinds, because there is no other option). But if you have a default resource, <em>then that resource will be <strong>overwritten</strong> by the assignment</em>. This is by far the most sinister bug: subtle overwrites of default resources for seemingly innocuous code that is, by a decent eyeballing of it, non-offensive. Not even a static analyzer can tell you this isn‚Äôt what you meant to do. And yet, it is the thing that bit people who implemented assign-through optionals.</p>

<p>Mysel‚Ä¶</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://thephd.github.io/to-bind-and-loose-a-reference-optional">https://thephd.github.io/to-bind-and-loose-a-reference-optional</a></em></p>]]>
            </description>
            <link>https://thephd.github.io/to-bind-and-loose-a-reference-optional</link>
            <guid isPermaLink="false">hacker-news-small-sites-25493274</guid>
            <pubDate>Mon, 21 Dec 2020 09:04:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Training a YOLOv3 Object Detection Model with a Custom Dataset]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25493070">thread link</a>) | @jonbaer
<br/>
December 21, 2020 | https://blog.roboflow.com/training-a-yolov3-object-detection-model-with-a-custom-dataset/ | <a href="https://web.archive.org/web/*/https://blog.roboflow.com/training-a-yolov3-object-detection-model-with-a-custom-dataset/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
              <div>
                <div><p><em>Following this guide, you only need to change a single line of code to train an <a href="https://models.roboflow.ai/object-detection">object detection model</a> on your own dataset.</em></p><figure><img src="https://blog.roboflow.com/content/images/2020/01/chess-detection-longer.gif" alt=""><figcaption>In our guided example, we'll train a model to recognize chess pieces. (Full <a href="https://www.youtube.com/watch?v=XLispu-Yb_0">video</a>)</figcaption></figure><p><strong>Note</strong>: <a href="https://models.roboflow.ai/object-detection/yolov5">YOLOv5</a> was released recently. You may also want to consider visiting our post on <a href="https://blog.roboflow.com/training-yolov4-on-a-custom-dataset/">how to train YOLO v5 in PyTorch tutorial</a> as it gets much better results than YOLO v3.</p><p><a href="https://models.roboflow.ai/object-detection">Object detection models</a> are extremely powerful‚Äîfrom finding dogs in photos to <a href="https://arxiv.org/pdf/1702.05747.pdf">improving healthcare</a>, training computers to recognize which pixels constitute items unlocks near limitless potential. However, one of the biggest blockers keeping new applications from being built is adapting state-of-the-art, open source, and free resources to solve custom problems.</p><p>In this post, we‚Äôll walk through how to prepare a custom dataset for object detection using tools that simplify image management, architecture, and training. In each section, we‚Äôll first follow what I‚Äôve done for a specific example and and then detail what modifications you‚Äôll need to make for your custom dataset. My recommendation is that you follow along step-by-step to duplicate my process before adapting these steps to your problem.</p><p>Let‚Äôs start with a clear description of our process.</p><p>Any given machine learning problem begins with a well-formed problem statement, data collection and preparation, model training and improvement, and inference. Often, our process is not strictly linear. For instance, we may find our model performs very poorly on one type of image label, and we need to revisit collecting more data on that example.</p><figure><img src="https://blog.roboflow.com/content/images/2020/01/data-process.png" alt=""><figcaption><em>The general machine learning workflow.</em></figcaption></figure><hr><h2 id="problem-statement">Problem Statement</h2><p>Chess is a fun game of wit and strategy. Improving your playing ability requires understanding where you‚Äôve previously made notable mistakes and what move(s) a superior player to you may have made in the same situation. </p><p>Thus, having a system that recognizes the state of the game and records each move would be valuable. This requires not just determining what a given chess piece is, but where that piece is on the board‚Äîa leap from image recognition to object detection. For the purposes of this post, we will constrain the problem to focus on the object detection portion: <u>can we train a model to identify which chess piece is which and to which player (black or white) the pieces belong, and a model that finds at least half of the pieces in inference.</u></p><figure><img src="https://blog.roboflow.com/content/images/2020/01/computer-vision-problems-1.png" alt=""><figcaption><em>Image Processing Problems, adapted from Stanford‚Äôs CS231N course</em></figcaption></figure><p><em>For your non-chess problem statement</em>, consider constraining the problem space to a specific piece. Moreover, consider the minimal acceptable criteria for the model‚Äôs performance. (In this example, we are constraining to just the identification of correct bounding boxes, and setting a relatively low bar for acceptable criteria. To be more rigorous, we may want to identify our model‚Äôs <a href="https://giou.stanford.edu/">IOU</a> or <a href="https://blog.roboflow.com/what-is-mean-average-precision-object-detection/">mAP</a> - but that is for <a href="https://blog.roboflow.com/what-is-mean-average-precision-object-detection/">a different post</a>.)</p><hr><h2 id="data-collection">Data Collection</h2><p>To identify chess pieces, we need to collect and annotate chess images.</p><p>I made a few assumptions in my data collection. First, all my images were captured from the same angle. I set up a tripod on the table near my chess board. For inference, this would require that my camera is at the same angle as the training data was captured ‚Äî and not all chess players may be setting up tripods before their games. Second, I created 12 different classes: one for each of the six pieces times the two colors.</p><figure><img src="https://blog.roboflow.com/content/images/2020/01/IMG_0167.JPG" alt=""><figcaption>An (unlabeled) image example from our dataset.</figcaption></figure><p>Ultimately, I collected 292 images. I labeled all the pieces in each of these images, totaling 2894 <a href="https://blog.roboflow.com/glossary/#:~:text=annotation">annotations</a>. This <a href="https://public.roboflow.ai/object-detection/chess-full">chess dataset</a> is publicly available on <a href="https://public.roboflow.ai/">Roboflow Public Datasets</a>. For labelling, there are many high quality, free, and <a href="https://blog.roboflow.com/getting-started-with-labelimg-for-labeling-object-detection-data/">open source tools available like LabelImg</a>. I happened to use <a href="https://rectlabel.com/">RectLabel</a>, which is $3/month.</p><figure><img src="https://blog.roboflow.com/content/images/2020/01/rectLabel-example.png" alt=""><figcaption><em>An example image I labeled in RectLabel.</em></figcaption></figure><p><em>For your non-chess problem</em>, consider collecting images that are in-context of where your model will perform in production. This means ensuring you have a similar angles, lighting, quality, and objects in frame. The more situations your training set takes into account that your model may encounter in production, the better its performance will be. When labelling, it is best to draw bounding boxes that include the entirety of your objects, even if there‚Äôs a small amount of space between the object and the bounding box. Simply put, do not cut out any of the underlying object with your bounding boxes. If one piece blocks view (occludes) that of another, label as though you could see the full object (see the white-bishop and white-rook example above).</p><p>If you‚Äôre seeking already annotated images, consider <a href="https://public.roboflow.ai/object-detection">object detection datasets</a> on sites like <a href="https://public.roboflow.ai/">Roboflow Public Datasets</a> which hosts a variety of free, high quality datasets.</p><hr><h2 id="data-preparation">Data Preparation</h2><p>Going straight from data collection to model training leads to suboptimal results. There may be problems with the data. Even if there aren‚Äôt, <a href="https://blog.roboflow.com/tag/augmentation/">applying image augmentation</a> expands your dataset and reduces overfitting.</p><p>Preparing images for object detection includes, but is not limited to:</p><ul><li>Verifying your annotations are correct (e.g. none of the annotations are out of frame in the images)</li><li><a href="https://blog.roboflow.com/exif-auto-orientation/">Ensuring the EXIF orientation of your images is correct</a> (i.e. your images are stored on disk differently than how you view them in applications, <a href="https://news.ycombinator.com/item?id=21207411">see more</a>)</li><li><a href="https://blog.roboflow.com/you-might-be-resizing-your-images-incorrectly/">Resizing images and updating image annotations to match</a> the newly sized images</li><li>Various color corrections that may improve model performance like <a href="https://blog.roboflow.com/when-to-use-grayscale-as-a-preprocessing-step/">grayscale</a> and <a href="https://blog.roboflow.com/when-to-use-contrast-as-a-preprocessing-step/">contrast adjustments</a></li><li>Formatting annotations to match the requirements of your model‚Äôs inputs (e.g. generating <a href="https://blog.roboflow.com/how-to-create-to-a-tfrecord-file-for-computer-vision/">TFRecords for TensorFlow</a> or a flat text file for some <a href="https://models.roboflow.ai/object-detection/yolov4">implementations of YOLO</a>).<br></li></ul><p>Similar to tabular data, cleaning and augmenting image data can improve your ultimate model‚Äôs performance more than architectural changes in your model.</p><p><a href="https://roboflow.ai/">Roboflow Organize</a> is purpose-built to seamlessly solve these challenges. In fact, Roboflow Organize cuts the code you need to write <a href="https://blog.roboflow.com/eliminating-boilerplate-code-with-roboflow-to-monitor-security-footage/">roughly in half</a> while giving you access to more <a href="https://blog.roboflow.com/tag/preprocessing/">preprocessing</a> and <a href="https://blog.roboflow.com/tag/augmentation/">augmentation</a> options.</p><figure><img src="https://blog.roboflow.com/content/images/2020/01/tweet-loading-images.png" alt="Twitter Poll from Vicki Boykis (@vboykis): Learning PyTorch by doing a project. Which part am I stuck on so far? Winner: Loading image data (40.1%)"><figcaption><em>One of the biggest challenges with computer vision is simply adapting tutorials to your own dataset, not the complex modeling! (<a href="https://twitter.com/vboykis/status/1211109331489501184">Source</a>)</em></figcaption></figure><p>For our specific chess problem, our already <a href="https://public.roboflow.ai/object-detection/chess-full">preprocessed chess data is available on Roboflow.</a></p><p>We‚Äôll be working with the Download version titled, ‚Äú<a href="https://public.roboflow.ai/object-detection/chess-full/1">416x416-auto-orient</a>‚Äù.</p><p>In the case of our tutorial, we‚Äôre using 416x416 images because (1) we want smaller images than the originally captured 2284‚Ää√ó‚Ää1529 dimensions for faster training and (2) for <a href="https://models.roboflow.ai/object-detection/yolo-v3-pytorch">YOLOv3</a>, multiples of 32 are most performant for its architecture.</p><figure><img src="https://blog.roboflow.com/content/images/2020/01/public-chess-dataset-416x416.png" alt="Roboflow screenshot showing annotated chess images and pre-processing steps."><figcaption>Note in this export, our preprocessing includes "Auto-Orient" and "Resize."</figcaption></figure><p>Our images also have had ‚Äú<a href="https://blog.roboflow.com/exif-auto-orientation/">auto-orient</a>‚Äù applied to them, a Roboflow preprocessing step that <a href="https://blog.roboflow.com/exif-auto-orientation/">strips the EXIF data of unintuitive orientations</a>. Auto-orient is important because images are sometimes stored on disk in different orientations than the applications we use to view them. If left uncorrected, this can cause silent failures in our models (see a discussion on HackerNews <a href="https://news.ycombinator.com/item?id=21207411">here</a>). At <a href="https://roboflow.ai/">Roboflow</a>, we often default leave this option on.</p><p>To download this dataset, select ‚Äú<a href="https://public.roboflow.ai/object-detection/chess-full/1">416x416-auto-orient</a>‚Äù. Then, in the upper righthand corner, select ‚ÄúDownload.‚Äù You‚Äôll be prompted to create a free account, and redirected back to the <a href="https://public.roboflow.ai/object-detection/chess-full">chess public dataset page</a>.</p><p>Now, <a href="https://roboflow.ai/">Roboflow</a> allows you to download your images and annotations in a variety of formats. You can also download them locally to your computer, or have Roboflow generate a code snippet you can use to download them directly to a Jupyter Notebook (including Colab) or Python script.</p><p>For our problem, we‚Äôll be using a <a href="https://models.roboflow.ai/object-detection/yolov3-keras">Keras YOLOv3 implementation</a> that calls for a flat text file of annotations. We‚Äôll also be making use of Google Colab for training, so select the ‚Äúshow download code‚Äù in the export options.</p><figure><img src="https://blog.roboflow.com/content/images/2020/01/show-download.png" alt="Roboflow screenshot: Download Dataset dialog (YOLO v3 Keras)"><figcaption>These are the options you'll select for your Download format.</figcaption></figure><figure><img src="https://blog.roboflow.com/content/images/2020/01/code-snippt.png" alt="Roboflow Screenshot: Download Dataset, showing Jupyter notebook curl links."><figcaption>Roboflow generates a code snippet you can drop directly into a Jupyter Notebook, including Colab. Be sure you never share your Roboflow keys publicly!</figcaption></figure><p><em>For your non-chess problem</em>, you can <a href="https://app.roboflow.ai/">create a free Roboflow account</a>, upload images, preprocess, augment, and export them to any annotation format your model may require. To do so, follow our <a href="https://blog.roboflow.com/getting-started-with-roboflow/">Quick Start</a>.</p><hr><h2 id="model-training">Model Training</h2><p>The model architecture we‚Äôll use is called <a href="https://models.roboflow.ai/object-detection/yolov3-keras">YOLOv3</a>, or You Only Look Once, <a href="https://arxiv.org/abs/1804.02767">by Joseph Redmon</a>. This specific model is a one-shot learner, meaning each image only passes through the network once to make a prediction, which allows the architecture to be very performant, viewing up to 60 frames per second in predicting against video feeds. Fundamentally, <a href="https://models.roboflow.ai/object-detection/yolov3-keras">YOLO is a convolutional neural network (CNN)</a> that divides an image into subcomponents, and conducts convolutions on each of those subcomponents before pooling back to create a prediction. A recommended deeper dive on <a href="https://models.roboflow.ai/object-detection/yolov3-keras">YOLO</a> is available <a href="https://blog.roboflow.ai/a-thorough-breakdown-of-yolov4/">here</a>.</p><p>Now, even though we‚Äôre training our model on a custom dataset, it is still advantageous to use another already trained model‚Äôs weights as a starting point. Think of this like we want to climb a mountain as quickly as possible, and instead of starting completely from scratch in creating our own trail, we‚Äôll start with assuming that someone else‚Äôs trail is a better faster than us randomly trying to guess twists and turns to follow.</p><p>To power our model‚Äôs computation, we‚Äôll be using Google Colab, which provides free GPU compute resources (up to 24 hours with your browser open).</p><figure><img src="https://blog.roboflow.com/content/images/2020/01/training-loss.png" alt="Google Colab Screenshot: loss over time (171/500 epochs, 15s 2s/step - loss: 75.3233, val_loss - 63.4790)"><figcaption>As validation loss drops, our model is improving.</figcaption></figure><p>In our notebook, we are predominantly doing six things:</p><ol><li>Selecting up our environment, model architecture, and pre-fit weights (someone else‚Äôs ‚Äútrail‚Äù)</li><li>Loading in our data via the Roboflow code snippet shared above</li><li>Determining our model configuration, like how many epochs to train, training batch sizes, the size of our training vs test set, and our learning rate</li><li>Initiating training (...and waiting!)</li><li>Using our trained model for inference (predictions!)</li><li>(Optional bonus) Save our newly trained weights to our Google Drive so we can ‚Ä¶</li></ol></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.roboflow.com/training-a-yolov3-object-detection-model-with-a-custom-dataset/">https://blog.roboflow.com/training-a-yolov3-object-detection-model-with-a-custom-dataset/</a></em></p>]]>
            </description>
            <link>https://blog.roboflow.com/training-a-yolov3-object-detection-model-with-a-custom-dataset/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25493070</guid>
            <pubDate>Mon, 21 Dec 2020 08:19:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cog-UK update on SARS-CoV-2 Spike mutations of special interest [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25492659">thread link</a>) | @cft
<br/>
December 20, 2020 | https://www.cogconsortium.uk/wp-content/uploads/2020/12/Report-1_COG-UK_19-December-2020_SARS-CoV-2-Mutations.pdf | <a href="https://web.archive.org/web/*/https://www.cogconsortium.uk/wp-content/uploads/2020/12/Report-1_COG-UK_19-December-2020_SARS-CoV-2-Mutations.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.cogconsortium.uk/wp-content/uploads/2020/12/Report-1_COG-UK_19-December-2020_SARS-CoV-2-Mutations.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492659</guid>
            <pubDate>Mon, 21 Dec 2020 06:47:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The ‚ÄúOffice Hours‚Äù Meetup (2014)]]>
            </title>
            <description>
<![CDATA[
Score 32 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25492576">thread link</a>) | @luu
<br/>
December 20, 2020 | https://ideolalia.com/essays/the-office-hours-meetup.html | <a href="https://web.archive.org/web/*/https://ideolalia.com/essays/the-office-hours-meetup.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

	

	<div>
		<article>
			<p>Consider the meetup speaker.  She‚Äôs had a topic in mind for while, and so when the request went out for speakers, she volunteered.  But that was three months ago, and now the meetup‚Äôs only a few weeks away, and she hasn‚Äôt even begun.  She starts to outline the talk, but can‚Äôt quite figure out where to start.  She can explain all the details easily, but the order in which they should be introduced, the organizing structure of the talk, remains elusive.  Giving a talk about a subject, it turns out, is not the same as having a conversation about it.</p>

<p>Consider the first-time meetup attendee.  He‚Äôs been interested in the technology for a few months, but there doesn‚Äôt seem to be any guides that help him progress from the ubiquitous ‚Äúhello world‚Äù or ‚Äúdistributed word count‚Äù examples to actual, effective production usage.  Maybe, he thinks, there will be some people at the meetup who can guide him through this awkward adolescence.  So after a long day at work, he wanders over to the meetup space, where everyone‚Äôs hanging around the open pizza boxes.  A few are eyeing the kegerator in the corner, wondering if it‚Äôs off-limits.  He stands next to them and eats his pizza, listening to their conversation, wondering if he should introduce himself or just wait for the talk to begin.</p>

<p>Consider the long-time meetup attendee.  He‚Äôs been using the technology for a few years, and wants its adoption to grow, so every month he comes to the meetup, eats the pizza, makes small talk with the other regular attendees, and dutifully listens to the talk.  The talk, unfortunately, is usually either too remedial or focused on something not very relevant to his day-to-day usage.  Also, the talks tend to be scattered, introducing concepts out of order, with lots of mental throat-clearing as the speaker tries to remember what was going through their head when they made the slide.  Usually within ten minutes half the audience is looking at their laptops, with only the occasional glance up to confirm that the talk is, in fact, still going on.  He attends almost every month, and often leaves wondering why he bothers.</p>

<p>In this based-on-a-true-story scenario, everyone‚Äôs motivations are good: they want to educate and to learn, to nurture and grow the community, to meet people who share their enthusiasm.  And yet, a typical meetup is at best weakly successful in all of these dimensions.  This is for a variety of reasons:</p>

<ul>
  <li><strong>Any growing community is at least half-filled with novices.</strong>  Very few assumptions can be made about what vocabulary and concepts are universally understood.  The speaker needs to make a conscious choice to either build up from first principles, greatly delaying the time it takes to get to the actual topic at hand, or leave a significant part of the audience behind.</li>
  <li><strong>Understanding something well enough to use it doesn‚Äôt mean you can explain it well.</strong>  We should all aspire to a clarity of understanding that lets us easily explain an idea to people from a variety of backgrounds, but that doesn‚Äôt come for free.  Details need to be synthesized into broader concepts, without losing sight of the practical knowledge necessary to apply those concepts.  Unsurprisingly, speakers are often still ascending that learning curve.</li>
  <li><strong>The standard lecture format expects and enforces passive participation.</strong> Ostensibly the attendees are making an active choice to learn and grow by attending a meetup, but upon arriving all that‚Äôs expected of them is to eat and listen.  Each attendee likely has interests and projects of their own, but unless the talk directly addresses them, any discussion must be crammed into the margins of the meetup - either before, when people are eating and the speaker is fussing with the projector, or after, when the hosts are tidying up and giving not-so-subtle looks to everyone who‚Äôs lingering.</li>
</ul>

<p>The lecture format still has value, of course, but much less so than its widespread usage would suggest.</p>

<p>In <a href="http://en.wikipedia.org/wiki/Seeing_Like_a_State">Seeing Like a State</a>, James Scott contrasts two Ancient Greek words for knowledge, <em>techne</em> and <em>metis</em>.  <em>Techne</em> is universal and timeless: the Pythagorean theorem and the <a href="http://en.wikipedia.org/wiki/Musica_universalis">harmony of the spheres</a>.  <em>Metis</em> is local and contextual: Odysseus infiltrating Troy and escaping the Cyclops.  Our educations are anchored in <em>techne</em> - data structures, algorithms, and exams with objectively correct answers - but upon entering the real world, we find the <em>techne</em> only takes us so far.  The problems we solve are not universal, they‚Äôre bounded by the context of our particular domains.  This is fortunate, because needing to solve the general form of every problem we come across would slow our work to a standstill.  However, this means our <em>metis</em> is unavoidably tangled up in the context in which we developed it.</p>

<p>Looking back, leaving the <em>techne</em> of school for the <em>metis</em> of our jobs can feel like a fall from grace.  What was once clear is now hopelessly muddled, littered with a thousand half-remembered details.  The promise of the lecture format is a return to that higher plane, an escape from the endless minutiae that awaits below.  And yet, most of what we‚Äôve learned in our careers is within that minutiae.  There is enormous practical knowledge available at every meetup, and the lecture format uses almost none of it.</p>

<p>And so, at Factual we‚Äôve been experimenting with <a href="http://www.meetup.com/The-Bay-Area-Clojure-User-Group/events/181057342/">a Clojure meetup</a> modeled on a different academic tradition: office hours.  At a university, students who have questions about the lecture content or coursework can visit the professor, and have a one-on-one conversation.  This can be enormously freeing for both parties: the student can ask questions without fear of looking stupid or holding up the rest of the class, and the professor can focus on giving an explanation that makes sense to this particular student, rather than the entire class.</p>

<p>At the beginning of every meetup, we give everyone a name tag, and provide a whiteboard with two columns, ‚Äúteachers‚Äù and ‚Äústudents‚Äù.  Attendees are encouraged to put their name and interests in both columns.  From there, everyone can eat their food and read the whiteboard, and go in search of someone from the opposite column who shares their interests.  Typically they form groups of two or three, sometimes with a few more people listening in.</p>

<p>We‚Äôve only had three meetups so far, each time with around twenty attendees, but the results have been promising.  It has been especially encouraging seeing novice Clojure users bring in their first project to get a critique of their approaches, and discuss how they can better use Clojure‚Äôs core abstractions.  These are precisely the sorts of conversations that create a healthy, growing community.</p>

<p>It‚Äôs unclear what the maximum practical size for this sort of meetup is.  Given the small size of each group it may scale fairly well, but at some point it becomes impossible for people to find each other.  Some sort of pre-event registration where people list their interests, and popular topics are assigned a physical location, may offset this.  However, for the vast majority of tech meetups, where the attendees number in the dozens rather than hundreds, this can be an enormously useful and engaging alternative to the lecture format.  We encourage everyone to give it a try.  And if you find yourself in San Francisco and have even a passing interest in Clojure, <a href="http://www.meetup.com/The-Bay-Area-Clojure-User-Group/events/181057342/">give us a visit</a>.</p>

<hr>

<p>This post was originally on the Factual blog, which has since been taken down post-acquisition.</p>


		</article>
	</div>

</div></div>]]>
            </description>
            <link>https://ideolalia.com/essays/the-office-hours-meetup.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492576</guid>
            <pubDate>Mon, 21 Dec 2020 06:24:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Do Interesting Work]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25492561">thread link</a>) | @eliotpeper
<br/>
December 20, 2020 | https://www.eliotpeper.com/2020/12/how-to-do-interesting-work.html | <a href="https://web.archive.org/web/*/https://www.eliotpeper.com/2020/12/how-to-do-interesting-work.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-body-3023080801982171274" itemprop="articleBody">
<p>If you want to do interesting work, a great starting point is to work on things you find interesting. Instead of trying to optimize for what you think others are likely to find interesting‚Äîchasing the market is a Sisyphean task‚Äîjust keep digging deeper into what <i>you</i>&nbsp;find interesting.</p><p>That way, making your work interesting to others is simply a matter of sharing your enthusiasm. I took a geology class my freshman year of college. It‚Äôs easy to imagine how boring a class about rocks could be. But my professor <i>loved</i>&nbsp;rocks. She had contributed to the discovery of plate tectonics. She took us up into the mountains and showed us how you could decode geological layers laid bare by erosion to reveal the violence and wonder of how the Earth took shape. She could forge a path through the entire universe starting from a single grain of sand. Another professor could have taught the same curriculum to no effect. My professor‚Äôs love for the material brought it to life. She used her enthusiasm to ignite our curiosity.</p><p>But working on things you find interesting is not sufficient to make your work interesting to other people. We‚Äôve all been bored to death by experts who speak in impenetrable acronyms or super-fans who get lost in their own rabbit holes. Their individual interest in the material may be genuine, but it isn‚Äôt contagious because they lack empathy. You (probably) wouldn‚Äôt tell a dirty joke to your grandmother in the same way you‚Äôd tell it to your best friend. Empathy is meeting people where they are so you can take them someplace new. That‚Äôs why rock stars shout out the name of the city they happen to be performing in. Despite her academic fame and scientific expertise, my geology professor didn‚Äôt get stuck in solipsistic obsession. Instead, she <i>used</i>&nbsp;her enthusiasm as a tool to inspire her students, to pry open new worlds for us. As a result, we found her work tremendously interesting.</p><p>So doing interesting work doesn‚Äôt require guessing what others might like or a benevolent hiring manager offering you your dream job. Doing interesting work requires working on things you find interesting, and then cultivating sufficient empathy to find effective ways to share your enthusiasm with the right people. Empathy is the catalyst that makes curiosity contagious. You‚Äôll know you‚Äôre doing it right when the people you seek to reach find your work at least as interesting as you do.</p><p>*</p><p>Complement with <a href="https://www.eliotpeper.com/2020/12/quantity-is-route-to-quality-not-its.html">Quantity is a route to quality, not its opposite</a>, <a href="https://www.eliotpeper.com/2020/10/lasting-value.html">Lasting value</a>, and <a href="https://www.eliotpeper.com/2020/07/creativity-is-choice.html">Creativity is a choice.</a></p><p><b>Get new posts delivered straight to your inbox:</b></p><!--Begin MailChimp Signup Form-->




<p><a href="https://www.eliotpeper.com/p/about.html">Eliot Peper</a>&nbsp;is the author of <a href="https://www.eliotpeper.com/p/blog-page.html">nine novels</a>, including <i><a href="https://www.amazon.com/gp/product/B01E4L5L6S/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;tag=eliotpeper-20&amp;camp=1789&amp;creative=9325&amp;linkCode=as2&amp;creativeASIN=B01E4L5L6S&amp;linkId=cabf238d0378965558ee1c5666331431">Cumulus</a></i>, <i><a href="https://www.amazon.com/gp/product/B075CLV95J/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;tag=eliotpeper-20&amp;camp=1789&amp;creative=9325&amp;linkCode=as2&amp;creativeASIN=B075CLV95J&amp;linkId=56525ceda172bdcc3306737eea07155b">Bandwidth</a></i>, and, most recently, <i><a href="https://www.amazon.com/gp/product/B085PSTJNC/ref=as_li_qf_asin_il_tl?ie=UTF8&amp;tag=eliotpeper-20&amp;creative=9325&amp;linkCode=as2&amp;creativeASIN=B085PSTJNC&amp;linkId=53ae2de44bd14f1b5b598c595ba676b0">Veil</a></i>. He sends <a href="https://www.eliotpeper.com/p/inner-circle.html">a monthly newsletter</a>&nbsp;documenting his journey as a reader and writer, <a href="https://twitter.com/eliotpeper" target="_blank">tweets</a> more than he probably should,&nbsp;and lives in Oakland, CA.</p>
</div></div>]]>
            </description>
            <link>https://www.eliotpeper.com/2020/12/how-to-do-interesting-work.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492561</guid>
            <pubDate>Mon, 21 Dec 2020 06:18:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Herald ‚Äì Bluetooth contact tracing protocol]]>
            </title>
            <description>
<![CDATA[
Score 54 | Comments 26 (<a href="https://news.ycombinator.com/item?id=25492423">thread link</a>) | @npad
<br/>
December 20, 2020 | https://vmware.github.io/herald/ | <a href="https://web.archive.org/web/*/https://vmware.github.io/herald/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
      
      <div>
  <div>
    <div>
      <div>
        
        <p>Herald provides reliable Bluetooth communication and range finding across a wide range of mobile devices, allowing Contact Tracing and other applications to have regular and accurate information to make them highly effective.</p>        
      </div>
      
    </div>
  </div>
</div> <!-- /home-hero -->



<!--
<div class="section pb-0">
    <div class="section-content">
      <div class="row">
        <div class="col">
          <h2 class="text-center"></h2>
          <p></p>
  
          <ul>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
--> 

<div>
  <div>
    <div>
      <p>
        <h2>Herald solves risk estimation problems</h2>
      </p>          
    </div>
    <p><img src="https://vmware.github.io/herald/images/EstimationBenefits.png" alt="Herald estimation benefits">
  </p></div>
</div>

<div>
  <div>
    
    
    
<div>
  
    <div>
      
      <div>
        <div>
          
          <h5>Detect nearby phones</h5>
          
          
<p>100% detection of phones in the foreground and background across iOS and Android devices. <a href="https://vmware.github.io/herald/efficacy/herald">Herald supports</a>) 100% of the phones in the UK that support advertising, as well as the 35% of Android phones (<a href="https://vmware.github.io/herald/efficacy/statistics">~14% of all phones overall</a>) that cannot act as ‚Äòadvertisers‚Äô and so remain unseen by advertising-only based protocols.</p>

          
        </div>
      </div>
    </div>
    
  
    <div>
      
      <div>
        <div>
          
          <h5>Provide regular distance readings</h5>
          
          
<p>Herald performs distance estimations every few seconds, with higher frequency on modern phones. This allows for a more accurate data and risk picture over time. Maximum frequency can be configured to optimise battery use. At <a href="https://vmware.github.io/herald/efficacy/herald">~4s per reading battery use is 6-11% over 8 hours</a>), depending on the age of the phone and its battery capacity.</p>

          
        </div>
      </div>
    </div>
    
  
    <div>
      
      <div>
        <div>
          
          <h5>Interoperate internationally</h5>
          
          
<p>By providing a common packet header we allow for <a href="https://vmware.github.io/herald/payload/interop">international interoperability</a> amongst all contact tracing applications, whether designed for centralised or decentralised contact matching and risk scoring.</p>

          
        </div>
      </div>
    </div>
    
        
</div>

  </div>
</div>

<div>
  <div>
    
    
    <div>

    
        
        


    <div>
    <div>
        <div>
            <p><img src="https://vmware.github.io/herald/img/herald.png" alt="New guides added to website">
                
            </p>
            <article>
                <h5>
                    <a href="https://vmware.github.io/herald/blog/guides">New guides added to website</a>
                </h5>
                <p>
                    We‚Äôve been busy getting ready for the upcoming V1.1 release. For this release we‚Äôve dramatically changed
our documentation on this website.


                </p>
            </article>
        </div>
    </div>
</div>
        
        


    <div>
    <div>
        <div>
            <p><img src="https://vmware.github.io/herald/img/herald.png" alt="New logo and website">
                
            </p>
            <article>
                <h5>
                    <a href="https://vmware.github.io/herald/blog/website">New logo and website</a>
                </h5>
                <p>
                    Quite a few things have happened in the first month since Herald was published as Open Source Software
under the MIT license. [29 Nov 2020 NOTE: Code now under the Apache-2.0 license]


                </p>
            </article>
        </div>
    </div>
</div>
        
         
</div>
    
  </div>
</div>


<div>
  <div>
    
<p>
A lot of work has gone in to mobile app based contact tracing protocol 
research, design, testing and collaboration worldwide. We'd like to thank 
all of those in VMware Pivotal Labs and elsewhere worldwide that have 
assisted with various national and state governments to use mobile contact 
tracing to help save lives. ‚ù§Ô∏è
</p>
  </div>
</div>

<div>
  <div>
    
<p>

All Herald works are Copyright 2020 Herald Authors.
</p>
<p>
The code for Herald (Android, iOS, Analysis Scripts, Calibration tool) are Apache-2.0 licensed. The documentation for Herald, including this website, are under the Creative Commons Attribution 4.0 International Public License.
</p>
<p>
See LICENSE.txt and NOTICE.txt for details.
</p>
  </div>
</div>


<div>
  <div>
    
<div>
  <div>
    <p>Herald Project is released as open source software and provides community support through our GitHub project page.
        If you encounter an issue or have a question, feel free to reach out on the <strong><a href="https://vmware.github.io/herald/issues">GitHub issues page for Herald Project</a></strong>.</p>
    <p>The Herald project team welcomes contributions from the community ‚Äî please see our <strong><a href="https://github.com/vmware/herald/blob/master/contributing.md">contributing documentation</a></strong>.</p>
  </div>
</div>



  </div>
</div>
      <div>
    <div>
        <div>
            <div>
                <h5>Getting Started</h5>
                <p>To help you get started, see the documentation.</p>
            </div>
            
        </div>
    </div>
</div>




<!-- JS -->







    </div>
  </div></div>]]>
            </description>
            <link>https://vmware.github.io/herald/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492423</guid>
            <pubDate>Mon, 21 Dec 2020 05:44:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: A TO-DO app that fits inside a single tweet]]>
            </title>
            <description>
<![CDATA[
Score 46 | Comments 50 (<a href="https://news.ycombinator.com/item?id=25492302">thread link</a>) | @rukshn
<br/>
December 20, 2020 | https://ruky.me/2020/12/21/a-to-do-app-that-fits-in-a-single-tweet/ | <a href="https://web.archive.org/web/*/https://ruky.me/2020/12/21/a-to-do-app-that-fits-in-a-single-tweet/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>Sunday morning while I was scrolling through my Twitter feed one tweet caught my eye,</p>
<blockquote data-width="500" data-dnt="true"><div lang="en" dir="ltr"><p><a href="https://twitter.com/hashtag/JavaScript?src=hash&amp;ref_src=twsrc%5Etfw">#JavaScript</a> Challenge:</p><p>Can you make a TO-DO app within a single Tweet? (280 chars)</p><p>The app should be able to add tasks, strike-through finished tasks &amp; clear all tasks.</p><p>Any general-purpose library is allowed.<br>Starting HTML body should be empty except the &lt;script&gt;.<a href="https://twitter.com/hashtag/JS?src=hash&amp;ref_src=twsrc%5Etfw">#JS</a> <a href="https://twitter.com/hashtag/code?src=hash&amp;ref_src=twsrc%5Etfw">#code</a></p></div>‚Äî Dumi (@dumindaxsb) <a href="https://twitter.com/dumindaxsb/status/1340539549890404354?ref_src=twsrc%5Etfw">December 20, 2020</a></blockquote>
<p>The challenge was to make a todo app that fits in a single tweet, just like any other todo app, you should be able to add or remove tasks and clear the task list. I thought how hard this can get, I thought to myself this is doable just by using plain JavaScript.</p>
<p>So since I don‚Äôt have a laptop, what resulted was a whole day of torture having to code though my iPad on codepen.</p>
<h2><strong>Plain JavaScript</strong> </h2>
<p>Soon after I started using plain JavaScript it became obvious that I was not able to make it within one tweet, the DOM manipulation was taking too much characters<em>, document.createElements, document.getElements. </em></p>
<p>It was obvious that was not the right approach.</p>
<h2>Using vue</h2>
<p>Vue framework won‚Äôt require any build tools, so I don‚Äôt have to go through setting up Webpack,</p>
<p>Also I can easily create the DOM within the script tag using simple HTML. So that will save some characters for me in DOM manipulation.</p>
<p>The first version I made use the <em>method</em> option in Vue app to handle button clicks, the button click event will call the function in methods to add new tasks and clear the task list.</p>
<p>However, I was unable to reduce it to one tweet. Then I went back to in-line functions, the same methods were added to button click events inline and not within the <em>methods</em> section.</p>
<p>Also I had to change buttons to anchor tags, in order to save some characters, and I had to use emojis instead of button text to save some more characters.</p>
<p>I also had to drop few buttons like a button to add a task, and instead I had to go with pressing enter key to add a task instead.</p>
<p>So I made the final version, the JavaScript code looked like this, </p>
<p data-height="300" data-theme-id="dark" data-default-tab="js" data-user="rukshn" data-slug-hash="qBaXmpE" data-pen-title="qBaXmpE">
<span>See the Pen <a href="https://codepen.io/rukshn/pen/qBaXmpE">
qBaXmpE</a> by Rukshan Ranatunge (<a href="https://codepen.io/rukshn">@rukshn</a>)
on <a href="https://codepen.io/">CodePen</a>.</span>
</p>

<p>Then I ran the code through an online JavaScript minifier and then the whole HTML though an HTML minifier, and ended up with this piece of code,</p>
<pre><code>&lt;body&gt;&lt;script src=https://unpkg.com/<a href="https://ruky.me/cdn-cgi/l/email-protection" data-cfemail="b7c1c2d2f7d9d2cfc3">[email&nbsp;protected]</a>&gt;&lt;/script&gt;&lt;script&gt;var x={data:()=&gt;({t:[],k:""}),template:'&lt;input @keyup.enter="t.push(k)" v-model="k"&gt;&lt;a @click="t=[]"&gt;‚ùé&lt;/a&gt;&lt;p v-for="(v,i) in t"&gt;&lt;a @click="t.splice(i,1)"&gt;üÖæÔ∏è&lt;/a&gt;{{v}}&lt;/p&gt;'};Vue.createApp(x).mount("body")&lt;/script&gt;</code></pre>
<p>With my fingers crossed, I copied the code on to Twitter, and guess what it fits perfectly inside a single Tweet.</p>
<blockquote data-width="500" data-dnt="true"><p lang="en" dir="ltr">&lt;body&gt;&lt;script src=<a href="https://t.co/FY9eWOxLgZ">https://t.co/FY9eWOxLgZ</a>&gt;&lt;/script&gt;&lt;script&gt;var x={data:()=&gt;({t:[],k:""}),template:'&lt;input <a href="https://twitter.com/keyup?ref_src=twsrc%5Etfw">@keyup</a>.enter="t.push(k)" v-model="k"&gt;&lt;a <a href="https://twitter.com/Click?ref_src=twsrc%5Etfw">@click</a>="t=[]"&gt;‚ùé&lt;/a&gt;&lt;p v-for="(v,i) in t"&gt;&lt;a <a href="https://twitter.com/Click?ref_src=twsrc%5Etfw">@click</a>="t.splice(i,1)"&gt;üÖæÔ∏è&lt;/a&gt;{{v}}&lt;/p&gt;'};Vue.createApp(x).mount("body")&lt;/script&gt;</p>‚Äî Rukshan (@JustRuky) <a href="https://twitter.com/JustRuky/status/1340862545322762240?ref_src=twsrc%5Etfw">December 21, 2020</a></blockquote>
<p>And here is the code in action, <a href="https://jsbin.com/venihiliha/1/edit?html,output">link</a> </p>
<p data-height="265" data-theme-id="dark" data-default-tab="result" data-user="rukshn" data-slug-hash="qBaXmpE" data-pen-title="qBaXmpE">
<span>See the Pen <a href="https://codepen.io/rukshn/pen/qBaXmpE">
qBaXmpE</a> by Rukshan Ranatunge (<a href="https://codepen.io/rukshn">@rukshn</a>)
on <a href="https://codepen.io/">CodePen</a>.</span>
</p>

<h2>What I failed to achieve </h2>
<p>The original Tweet says, that the completed tasks should have a strike through.</p>
<p>But because css was costing me too much characters I had to fall back to remove completed tasks instead, but I‚Äôm sure someone will figure a solution for that as well.</p>
<p>At the same time, I think you can save even more characters by using <a href="https://mithril.js.org/">mithril</a>, because you have short-codes for DOM elements as well, but I haven‚Äôt tried mithril in awhile.</p>
<h4>One last thing</h4>
<p>No I didn‚Äôt waste my whole Sunday on this problem, but I had to spend few hours, thinking and trying different versions. </p>
<p>I would have cut back some more time if I had a laptop. Somerimes I feel like buying an old laptop and refurbishing it and installing Ubuntu on it.</p>
<p>Sunday well spent? Absolutely yes.</p>
<h2>Best answer?</h2>
<p>One thing I love about HN is the fact that there are lot of bright minds out there. Since I posted this on HN I knew it was just a matter of time since someone figures this out.</p>
<p>I guess this is the best answer and also ticks all the boxes, well done.</p>
<pre><code> &lt;script&gt;document.write(`&lt;style&gt;:checked+*{text-decoration:line-through}#t{display:none}&lt;/style&gt;&lt;p id="t"&gt;&lt;input type="checkbox"&gt;&lt;input&gt;&lt;div id="f"&gt;&lt;/div&gt;&lt;p&gt;&lt;button onclick="f.appendChild(t.cloneNode(true)).id=''"&gt;+&lt;/button&gt;&lt;button onclick="f.innerHTML=''"&gt;√ó&lt;/button&gt;`)&lt;/script&gt;</code></pre>
<p><strong>HN link to this answer</strong>: https://news.ycombinator.com/item?id=25493533</p>
<p><strong>Original thread on HN</strong>: https://news.ycombinator.com/item?id=25492302</p>
</div></div>]]>
            </description>
            <link>https://ruky.me/2020/12/21/a-to-do-app-that-fits-in-a-single-tweet/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492302</guid>
            <pubDate>Mon, 21 Dec 2020 05:12:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Coercing Windows 10 to install on a NVMe drive]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25492288">thread link</a>) | @pngmangi
<br/>
December 20, 2020 | https://ansonvandoren.com/posts/clean-win10-install-nvme/ | <a href="https://web.archive.org/web/*/https://ansonvandoren.com/posts/clean-win10-install-nvme/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
<p>My daily driver is a desktop that I originally built as a Hackintosh for my wife's use. She outgrew it a year
or so ago for a new iMac, and I inherited it. Over the year, I've been using macOS less and less, and have spent
much more time on the dual-booted Windows 10 installation, especially since WSL is getting better and better
all the time. It's almost not painful to use for just about all the coding, writing, and occasional photography
or design projects I undertake.</p>
<p>Two days ago, I noticed while doing some file cleanup that there really was a terrific lot of crap that had
accumulated on the Windows drive. I'm fairly certain that this drive started out as a Windows 7 install, then
probably skipped Windows 8 and has been on Windows 10 through several Insider Ring upgrades over the years.
Anyway, I thought I'd just finish my backup and then re-install Windows to have a nice clean start. At the same
time, I figured since I wasn't really using the macOS installation that much, I'd move that one to a slower SATA
SSD and move Windows over to the <a href="https://amzn.to/2KGpd3x">Western Digital 500GB NVMe M.2 drive</a> that previously
hosted the Hackintosh boot drive.</p>
<p>Based on my recollection of the last time I'd installed/updated Windows, it seemed like a reasonable afternoon
project that should be pretty straightforward. As it turns out, the actual installation of Windows 10 is even quicker
than I had remembered, but the getting to the point where installation was possible was more than I bargained for.</p>
<p>This is a write-up because I ran into a few problems that were difficult to find great answers for, and I'm sure
there's someone else out there who will get into a similar situation. That someone is most likely to be a future
version of me‚Ä¶</p>

<p><strong>Windows 10 install media</strong></p>
<p>This is the easy part. I remembered having had issues in the past with the <a href="https://www.microsoft.com/en-us/software-download/windows10">Windows Media Creation Tool</a>,
and so I went out of my way to download the plain old ISO.</p>
<blockquote>
<p>Pro-tip: if you want to do this you need to
<a href="https://www.howtogeek.com/427223/how-to-download-a-windows-10-iso-without-the-media-creation-tool/">spoof your User-Agent</a>
if you're on Windows.</p>
</blockquote>
<blockquote>
<p>Pro-pro-tip: you probably don't need to do this. I ended up using WMCT and had no issues.</p>
</blockquote>
<p>Anyway, if you want to get the ISO then you'll probably want something like <a href="https://rufus.ie/">Rufus</a> to help
you burn it into a USB thumb drive. As I mentioned above, during the course of about 15 installation attempts,
I ended up recreating the bootable media with WMCT and that's the version I ultimately successfully used. The
other failures weren't due to the ISO or Rufus, but it's probably easier to just use WMCT unless you have some
other burning reason not to.</p>
<p><strong>Hard drive prep</strong></p>
<p>I had already cleaned everything I needed off of the M.2 drive, and had reformatted it before leaving macOS.
The drive doesn't need to be in any particular state, format, or partitioning scheme - you can take care
of that in the Windows installer.</p>
<p>Some motherboards have little quirks about whether you can actually have more than one M.2 drive connected,
and if so, what other SATA ports you might lose access to, or which other PCIe slots get degraded lanes or
just stop working altogether. In my case, I'd already connected it up correctly several years ago and didn't
need to make any changes, but worth checking if you're using the M.2 drive for the first time.</p>
<p><strong>BIOS prep</strong></p>
<p>I'm going to skip all of the many, many things I tried that didn't work with BIOS settings for this, and
just make note of what I ended up finding was important. Obviously all BIOSs are different and so this won't
be an exact prescription unless you also happen to have a GIGABYTE GA-Z170X-UD5 on F21 BIOS version, but
it may be helpful nonetheless.</p>
<p><strong>CSM needs to be turned off.</strong> This is Compatibility Support Module, and it (possibly among other things) will
force the boot media into MBR mode, and not UEFI mode. You want UEFI mode unless your motherboard is somehow
so old that it's not enabled. But if that were the case you're probably not trying to install Windows 10 on it.</p>
<p>If you have CSM enabled, it's very likely that you'll see an error message like ‚ÄúWindows cannot be installed to this disk.
The selected disk is of the GPT partition style.‚Äù</p>
<figure>
    <img src="https://ansonvandoren.com/images/the-selected-disk-is-of-the-gpt-partition-style.png#center" alt="This may mean you have CSM enabled"> <figcaption>
            <p>This may mean you have CSM enabled</p>
        </figcaption>
</figure>

<p>I also needed to set <strong>Secure Boot to Disabled</strong> otherwise I couldn't even get to the BIOS screen‚Ä¶ I needed to
hard-reset the CMOS a few times before I figured this out definitively.</p>
<p>The final setting that mattered was the <strong>‚ÄúWindows 8/10 Features‚Äù</strong>, which needed to be set to ‚ÄúWindows 8/10‚Äù.
The WHQL setting isn't needed, and the ‚ÄúOther OS‚Äù had been my previous setting when the boot manager was
Clover from the Hackintosh EFI partition, but didn't work with a Windows EFI boot loader.</p>
<p>I also had ‚ÄúFast Boot‚Äù turned off, but I don't think it should matter either way. All these settings (in my BIOS)
were under the tab labeled ‚ÄúBIOS‚Äù.</p>

<p>I don't know why this is a problem. Others seem to have it as well, but not consistently. I don't know if
it's related to this being a clean install with multiple internal hard drives connected, or to something
about USB 3.x vs USB 2.0 for the installer media, or maybe something entirely different. Either way, as I made
it through the initial few steps of the Windows 10 installation, I kept running into a failure with the error
message ‚ÄúWindows could not prepare the computer to boot into the next phase of installation. To install Windows,
restart the installation.‚Äù Of course, restarting the installation doesn't change anything.</p>
<p>Before getting to this point, I had used the partition manager in the installer to delete all partitions from
the target NVMe drive, then chose the Unallocated Space on which to install Windows. I also tried creating
the partitions manually myself, with the same error message.</p>
<p>After much swearing both at the installer and the garbage that is the Microsoft Community Forums, I finally
found my way to a gentleman who went by <a href="https://answers.microsoft.com/en-us/profile/7a26b9f6-6f40-419f-a7bd-9fc6389899c8?sort=LastReplyDate&amp;dir=Desc&amp;tab=Threads&amp;forum=allcategories&amp;meta=&amp;status=&amp;mod=&amp;advFil=&amp;postedAfter=undefined&amp;postedBefore=undefined&amp;threadType=All&amp;page=1">RichardKay1</a> and seemed
to have not only the same exact problem as I, but also a solution that <a href="https://answers.microsoft.com/en-us/windows/forum/all/windows-10-fresh-install-fails/f9614ae4-6dbd-4715-9a81-8586b16dfaf7?page=2">looked like it might have merit</a>.</p>
<p>His steps outlined on the forum were not exact, and mostly dealt with the <code>diskpart</code> utility, with which
I am not all that familiar, so I also spent some time trying to figure out how to safely use that tool
without deleting all the data on the 4 other disks that I had connected still.</p>
<blockquote>
<p>Pro-tip: probably safer to disconnect all the other disks you're not using for the actual install
before messing around with <code>diskpart</code>. Unless you're very careful. Or brave/stupid.
I decline to identify into which category I fell.</p>
</blockquote>
<blockquote>
<p>WARNING: <code>diskpart</code> can seriously ruin your day. BE CAREFUL BEFORE YOU HIT ENTER. You have been warned.</p>
</blockquote>
<p>According to Mr. RichardKay1, the root cause is that the USB installer <em>actually</em> tries to install Windows
onto the same USB stick, despite me having chosen an internal drive as the target. I don't really know how
to verify this, but regardless, his solution worked.</p>

<p>This is the key takeaway to solve the ‚ÄúWindows could not prepare the computer to boot into the next phase
of installation‚Äù. Or it was in my case, anyway.</p>
<p><strong>Reformat the target drive</strong></p>
<ol>
<li>Boot into the USB installer (I assume you can do this, else you probably the target audience.).</li>
<li>Select the language, time, and keyboard type, click Next.</li>
<li>Click ‚ÄúRepair your computer‚Äù, then ‚ÄúTroubleshoot‚Äù, then ‚ÄúCommand Prompt‚Äù.</li>
</ol>
<p>This puts you on the X: drive (temporary RAM disk with some command line utilities) and able to access
the rest of the connected drives. First step is to fully erase the target disk.</p>
<blockquote>
<p>NOTE: it's up to you to choose the correct disks, and make sure that erasing them is actually what you
want to do!</p>
</blockquote>
<ol start="4">
<li>From the command prompt, type <code>diskpart</code> to start the utility. You'll get a little prompt like <code>DISKPART&gt;</code>
and not much else.</li>
<li>Type <code>list disk</code> to show all disks, and identify (by size or whatever) which is your target.</li>
</ol>
<div><pre><code data-lang="cmd">DISKPART<span></span>&gt; list disk

  Disk ###  Status         Size     Free     Dyn  Gpt
  --------  -------------  -------  -------  ---  ---
  Disk 0    Online          111 GB      0 B
  Disk 1    Online          931 GB  1024 KB        *
  Disk 2    Online          465 GB  2048 KB        *
  Disk 3    Online          111 GB      0 B        *
  Disk 4    Online          111 GB      0 B        *
  Disk 5    No Media           0 B      0 B
  Disk 6    Online           14 GB      0 B

DISKPART&gt;
</code></pre></div><p>My target in this case was a 500GB disk, so here shown as Disk 2 (it's not exact).</p>
<ol start="6">
<li>Type <code>select disk 2</code> to choose this disk for manipulation.</li>
</ol>
<blockquote>
<p>WARNING: the next step will erase EVERYTHING on the disk you have selected!</p>
</blockquote>
<ol start="7">
<li>Type <code>clean</code> to erase all partitions on this disk. If you run <code>list disk</code> again after this you should
see that the value in the ‚ÄúFree‚Äù column has gone up to the full drive capacity.</li>
</ol>
<p><strong>Prep the internal drive</strong></p>
<ol start="8">
<li>We eventually want to boot in UEFI mode, and so need the partition scheme to be GPT. Type
<code>convert gpt</code> to accomplish this.</li>
</ol>
<p>This is where I diverged a bit from the forum answer. I wanted to create a EFI partition manually so that
I could keep it big enough to later use <code>grub</code> for a dual-boot Linux install, and also to get the EFI partition
in the right spot on the disk so when I collapsed partitions later I wouldn't leave a gap.</p>
<ol start="9">
<li>Create an EFI partition with <code>create partition EFI size=500</code> (size is in MB).</li>
<li>Format the EFI partition to FAT32 (important) with <code>format FS=FAT32 label=System</code>.</li>
</ol>
<p>Now that EFI was ready to go, I wanted to create a ~10GB partition to hold the install media that was currently
on the USB thumb drive. The process is similar to creating the EFI partition except that it's a ‚Äòprimary‚Äô partition
and formatted as NTFS:</p>
<ol start="11">
<li>Create installer partition with <code>create partition primary size=10000</code>.</li>
<li>Format installer partition with <code>format quick FS=NTFS label=Installer</code>.</li>
</ol>
<p>Next, I needed to access files on both the installer USB and also on the new internal partition. To do that
I needed to assign a drive letter.</p>
<ol start="13">
<li>To see what letters are assigned, type <code>list volume</code></li>
</ol>
<div><pre><code data-lang="cmd">DISKPART<span></span>&gt; list volume

  Volume ###  Ltr  Label        Fs     Type        Size     Status     Info
  ----------  ---  ‚Ä¶</code></pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://ansonvandoren.com/posts/clean-win10-install-nvme/">https://ansonvandoren.com/posts/clean-win10-install-nvme/</a></em></p>]]>
            </description>
            <link>https://ansonvandoren.com/posts/clean-win10-install-nvme/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492288</guid>
            <pubDate>Mon, 21 Dec 2020 05:09:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A survey of rust GUI libraries]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25492179">thread link</a>) | @tetraodonpuffer
<br/>
December 20, 2020 | https://www.boringcactus.com/2020/08/21/survey-of-rust-gui-libraries.html | <a href="https://web.archive.org/web/*/https://www.boringcactus.com/2020/08/21/survey-of-rust-gui-libraries.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    
    <p>a popular trend in the Rust community is to ask "Are We X Yet" for various things that it would be nice to be able to develop easily in Rust - <a href="https://arewegameyet.rs/">game</a> and <a href="https://www.arewewebyet.org/">web</a> are the most prominent ones as far as i can tell - and one such question is <a href="https://areweguiyet.com/">Are We GUI Yet</a>.
that's a good question; <em>are</em> we GUI yet?
Are We GUI Yet has a list of libraries for building GUIs: let's go through them in alphabetical order and see if we can build a simple to-do list with them without too much struggle.</p>
<p>some notes before we get started.</p>
<ol>
<li>this is all extremely subjective.</li>
<li>the only ui toolkits i have used and not hated are Swing (i know), Electron (<em>i know</em>), and wxWidgets, which doesn't have Rust bindings because Rust bindings to C++ libraries are generously described as a nuisance to create (i've tried, and i'm writing this post instead of trying harder).
as such, i might be using some of these wrong, who knows.</li>
<li>i use windows, and so anything that's a nuisance to set up on windows is not going to fare well regardless of how cool it is once you get it working.
it could be the best thing since sliced bread or Meteor on release and i wouldn't care.
do not @ me.</li>
<li>the people who wrote these libraries have done more than i have to make the rust gui ecosystem not suck, and i don't want any of this to come across as suggesting that they suck and their work is bad.
the strongest thing i want to say is that a library is not designed in a way that i would want it to be designed, or that it doesn't work for me.
doing this shit at all is really goddamn difficult, and i don't want to minimize that by being unhappy with the results.</li>
<li>i started drafting this post in early July 2020, and finished it in late August 2020.
some things may have changed in the meantime while i wasn't paying attention.</li>
</ol>
<h2>azul</h2>
<p>first on our list is <a href="https://azul.rs/">azul</a>:</p>
<blockquote>
<p>A free, functional, immediate-mode GUI framework for rapid development of desktop applications written in Rust, supported by the Mozilla WebRender rendering engine.</p>
</blockquote>
<p>the wiki says we need cmake installed, which is never a good sign, but conveniently, i've already got that set up on my computer, for reasons i forget but probably didn't enjoy.
the runtime dependencies on linux are a mile long, but fortunately i don't have to care.
azul isn't currently available on crates.io for reasons that presumably exist but are difficult to explain, so we have to add it directly as a git dependency.</p>
<p>once we've got it added as a dependency, we can attempt to run our test crate, just to make sure everything's not on fire. unfortunately:</p>
<div><pre><span></span>error: failed to run custom build command for `servo-freetype-sys v4.0.5`

Caused by:
  process didn't exit successfully: `D:\Melody\Projects\we-are-not-gui-yet\target\debug\build\servo-freetype-sys-1fae054761ff82c5\build-script-build` (exit code: 101)
--- stdout
running: "cmake" &lt;snip&gt;

--- stderr
CMake Error: Could not create named generator Visual Studio 16 2019
</pre></div>
<p>this is an inauspicious beginning.
one version history crawl later and it looks like my cmake is from April 2019, which is not all that old but maybe they hadn't caught up on the latest visual studio yet, who knows.
this is already more work than i was prepared to do, but i've come this far, so it's time to update my cmake.</p>
<p>okay one installer later and it's time to try again.
armed with a cmake from May 2020, let's give this another shot:</p>
<div><pre><span></span>error[E0433]: failed to resolve: could not find `IoReader` in `bincode`
   --&gt; C:\Users\Melody\.cargo\registry\src\github.com-1ecc6299db9ec823\webrender_api-0.60.0\src\display_list.rs:270:35
    |
270 |             let reader = bincode::IoReader::new(UnsafeReader::new(&amp;mut self.data));
    |                                   ^^^^^^^^ could not find `IoReader` in `bincode`
</pre></div>
<p>welp.
the cmake update fixed things, i guess, but now we've got a whole other pile of mess.
this might be fixable, it may have been fixed by the time you read this.
regardless, this library does not work for me.</p>
<h2>conrod</h2>
<p>next up is <a href="https://github.com/pistondevelopers/conrod">conrod</a>:</p>
<blockquote>
<p>An easy-to-use, 2D GUI library written entirely in Rust.</p>
</blockquote>
<p>i've actually used this one before in a couple of projects, but it's been a minute, so i forget the details.</p>
<p>they do not have a real tutorial, which is unfortunate, but they do have some examples.
unfortunately, step one is to pick which of the half dozen backends i want.
do i want glium or vulkano or rendy or piston?
do i look like i know what a vulkano is?
i just want a picture of a <a href="https://youtu.be/EvKTOHVGNbg">god dang hot dog</a>.
okay that's not quite fair, i recognize three of those and can infer from context what the fourth one is, but that's only because i've been down this road before, and i still have no clue which one is the right one to pick.
all the examples live under glium, though, so let's go with that.</p>
<p>wait actually i'm staring at these examples and there's an entire ass event loop in the support code for the examples.
something in here mentions a <code>GliumDisplayWinitWrapper</code> and i'm scared.
i have literally used this library before - on two different projects - and i'm at a loss.
i don't want to just copy and paste the examples without actually understanding what's going on, i can't understand what's going on in the examples, and there's nowhere else to get started.
so there goes that i guess.</p>
<h2>core-foundation</h2>
<blockquote>
<p>Bindings to Core Foundation for macOS.</p>
</blockquote>
<p>oh hey, it's an OS i don't have access to at all.
next.</p>
<h2>druid</h2>
<p>our next contender is <a href="https://linebender.org/druid/">druid</a>:</p>
<blockquote>
<p>Druid is a framework for building simple graphical applications.</p>
</blockquote>
<p>apparently this sprung out of that vi-like text editor a couple googlers were working on, so apparently it's at least possible to use it for real software.
there's a tutorial, they're on crates.io, they're describing it as "conceptually simple and largely non-magical" which i am always a fan of, i am cautiously optimistic.
if we throw it in our dependencies and just see if anything breaks, we find the surprising result that everything just works.</p>
<p>oh hey the first real chapter in the tutorial starts with</p>
<blockquote>
<p>this is outdated, and should be replaced with a walkthrough of getting a simple app built and running.</p>
</blockquote>
<p>you love to see it.
fortunately, we can just ignore that and skip to the hello world example, reproduced here in its entirety:</p>
<div><pre><span></span><span>use</span><span> </span><span>druid</span>::<span>{</span><span>AppLauncher</span><span>,</span><span> </span><span>WindowDesc</span><span>,</span><span> </span><span>Widget</span><span>,</span><span> </span><span>PlatformError</span><span>};</span><span></span>
<span>use</span><span> </span><span>druid</span>::<span>widget</span>::<span>Label</span><span>;</span><span></span>

<span>fn</span> <span>build_ui</span><span>()</span><span> </span>-&gt; <span>impl</span><span> </span><span>Widget</span><span>&lt;</span><span>()</span><span>&gt;</span><span> </span><span>{</span><span></span>
<span>    </span><span>Label</span>::<span>new</span><span>(</span><span>"Hello world"</span><span>)</span><span></span>
<span>}</span><span></span>

<span>fn</span> <span>main</span><span>()</span><span> </span>-&gt; <span>Result</span><span>&lt;</span><span>(),</span><span> </span><span>PlatformError</span><span>&gt;</span><span> </span><span>{</span><span></span>
<span>    </span><span>AppLauncher</span>::<span>with_window</span><span>(</span><span>WindowDesc</span>::<span>new</span><span>(</span><span>build_ui</span><span>)).</span><span>launch</span><span>(())</span><span>?</span><span>;</span><span></span>
<span>    </span><span>Ok</span><span>(())</span><span></span>
<span>}</span><span></span>
</pre></div>
<p>and somehow, this actually works.</p>
<p>the tutorial ends here, which is unfortunate, but there's more documentation, including explanations of core concepts with examples that are... todo lists!
with even more features than what i was planning to include here!
so that's convenient.
the UI hierarchy is based on CSS Flexbox, which i also appreciate.
this is what peak UI layout API looks like:</p>
<div><pre><span></span><span>fn</span> <span>build_new_todo</span><span>()</span><span> </span>-&gt; <span>impl</span><span> </span><span>Widget</span><span>&lt;</span><span>TodoState</span><span>&gt;</span><span> </span><span>{</span><span></span>
<span>    </span><span>let</span><span> </span><span>textbox</span><span> </span><span>=</span><span> </span><span>TextBox</span>::<span>new</span><span>()</span><span></span>
<span>        </span><span>.</span><span>with_placeholder</span><span>(</span><span>"New todo"</span><span>)</span><span></span>
<span>        </span><span>.</span><span>lens</span><span>(</span><span>TodoState</span>::<span>next_todo</span><span>);</span><span></span>
<span>    </span><span>let</span><span> </span><span>button</span><span> </span><span>=</span><span> </span><span>Button</span>::<span>new</span><span>(</span><span>"Add"</span><span>)</span><span></span>
<span>        </span><span>.</span><span>on_click</span><span>(</span><span>|</span><span>_</span><span>,</span><span> </span><span>data</span>: <span>&amp;</span><span>mut</span><span> </span><span>TodoState</span><span>,</span><span> </span><span>_</span><span>|</span><span> </span><span>data</span><span>.</span><span>create_todo</span><span>());</span><span></span>

<span>    </span><span>Flex</span>::<span>row</span><span>()</span><span></span>
<span>        </span><span>.</span><span>with_flex_child</span><span>(</span><span>textbox</span><span>.</span><span>expand_width</span><span>(),</span><span> </span><span>1.0</span><span>)</span><span></span>
<span>        </span><span>.</span><span>with_child</span><span>(</span><span>button</span><span>)</span><span></span>
<span>}</span><span></span>
</pre></div>
<p>1 hour and 80 lines of code later, we've got ourselves a perfectly valid and working todo list!</p>
<p><img src="https://www.boringcactus.com/assets/2020-08-21-survey-of-rust-gui-libraries-1.png" alt="our sample druid application, showing a todo list"></p>
<p>i'm not quite happy with this, though: we can type text and hit the button and it adds the todo, but pressing enter in the text field doesn't do anything.
there's no way out-of-the-box to make that happen; let's see if we can build that ourselves.</p>
<p>~30 lines of code later, we've got it!
the <code>Controller</code> trait is designed for exactly this sort of thing, when you need to wrap the behavior of an existing component and intercept some events to inject your own logic.</p>
<p>if you're curious, you can take a look at <a href="https://git.sr.ht/~boringcactus/survey-of-rust-gui-libraries/tree/main/druid-test">the source for our druid example</a>.</p>
<p>so apparently druid is actually pretty darn usable.
i only have a couple tiny issues with it:</p>
<ol>
<li>it doesn't use platform native UI widgets, so it doesn't look quite like a windows app should, and it won't look quite like a mac or linux app should either if i test it there.
this one is a feature as far as some people are concerned, but i am not on that list.</li>
<li>accessibility features like being able to tab between UI widgets (<em>update 2020-12-14</em>: and also literally any screen reader support) are missing, so you'd have to roll those yourself in a real application.
 maybe they'll add that by default in future versions, maybe not, but it would be neat if it existed.</li>
<li>high-level documentation is incomplete.
the individual struct/function docs are really good, but at a high level you don't really have a convenient place to jump in.</li>
</ol>
<p>i was about to add "no support for web" to that list, but even though the high-level docs don't mention it, the crate root docs and the examples do.
on the plus side, it just works, and i didn't have to make any changes to my code because i use <a href="https://github.com/rustwasm/wasm-pack/pull/736">this patch to wasm-pack that lets you just use binary crates in wasm-pack</a> even though it hasn't been merged yet upstream.
on the minus side, it points everything at a <code>&lt;canvas&gt;</code> tag, which means you get none of the accessibility features of actually using the DOM.
so that one's a mixed bag.</p>
<p>but yeah, overall druid is perfectly usable for gui development.
i was originally calling this post "we are not gui yet" but i guess we are at least a little bit gui already.
pleasant surprises are the best kind.</p>
<h2>fltk</h2>
<p>following up that success is <a href="https://github.com/MoAlyousef/fltk-rs">fltk</a>:</p>
<blockquote>
<p>The FLTK crate is a crossplatform lightweight gui library which can be statically linked to produce small, self-contained and fast gui applications.</p>
</blockquote>
<p>cross-platform and statically linked are both good things.
the upstream FLTK website makes my eyes bleed, which is never a good sign for a UI library, but that doesn't mean much one way or the other.
the simple hello world example is once again a mere handful of lines:</p>
<div><pre><span></span><span>use</span><span> </span><span>fltk</span>::<span>{</span><span>app</span>::<span>*</span><span>,</span><span> </span><span>window</span>::<span>*</span><span>};</span><span></span>

<span>fn</span> <span>main</span><span>()</span><span> </span><span>{</span><span></span>
<span>    </span><span>let</span><span> </span><span>app</span><span> </span><span>=</span><span> </span><span>App</span>::<span>default</span><span>();</span><span></span>
<span>    </span><span>let</span><span> </span><span>mut</span><span> </span><span>wind</span><span> </span><span>=</span><span> </span><span>Window</span>::<span>new</span><span>(</span><span>100</span><span>,</span><span> </span><span>100</span><span>,</span><span> </span><span>400</span><span>,</span><span> </span><span>3‚Ä¶</span></pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.boringcactus.com/2020/08/21/survey-of-rust-gui-libraries.html">https://www.boringcactus.com/2020/08/21/survey-of-rust-gui-libraries.html</a></em></p>]]>
            </description>
            <link>https://www.boringcactus.com/2020/08/21/survey-of-rust-gui-libraries.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492179</guid>
            <pubDate>Mon, 21 Dec 2020 04:39:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Modeling TLA+ in Z3Py (2020)]]>
            </title>
            <description>
<![CDATA[
Score 34 | Comments 9 (<a href="https://news.ycombinator.com/item?id=25492150">thread link</a>) | @philzook
<br/>
December 20, 2020 | https://www.philipzucker.com/Modelling_TLA_in_z3py/ | <a href="https://web.archive.org/web/*/https://www.philipzucker.com/Modelling_TLA_in_z3py/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>It‚Äôs that time of year again where I‚Äôm fiddling around with Z3Py. I‚Äôm booting it back up because I‚Äôm scheduled to do a <a href="https://fmie2021.github.io/agenda.html">tutorial on Z3</a> on Feb 3. It‚Äôs kind of silly because I probably already have too much content, and the tutorial is aimed at newbies, but there are some fun new things that I‚Äôve learned in the last year I can do in Z3. As one example, it‚Äôs not so hard to build a pretty reasonable simulacrum of TLA+ in Z3.</p>

<p><a href="https://lamport.azurewebsites.net/tla/tla.html">TLA+</a> is a modelling/specification language for computational processes. It is particularly useful for modeling concurrency, where our intuitions fail us <a href="http://deadlockempire.github.io/">http://deadlockempire.github.io/</a>. It‚Äôs the mind child of Leslie Lamport, the same guy behind <a href="https://en.wikipedia.org/wiki/LaTeX">LaTex</a> and <a href="https://en.wikipedia.org/wiki/Paxos_(computer_science)">Paxos</a>. The language doesn‚Äôt aim for deep verification of your actual code as is sometimes the goal with tools like Coq, but because of that it is significantly more lightweight and easy to use. 
The <a href="https://lamport.azurewebsites.net/tla/toolbox.html">TLA+ Toolbox</a> is a freely available IDE and checker to TLA+, but I think it is kind of a neat idea to replicate something in the flavor of TLA+ in all too familiar python. By leveraging Z3, we can get a lot of logical mileage and solver power for free.</p>

<p><a href="https://rise4fun.com/z3/tutorial">Z3</a> is an SMT solver. Its input language <a href="http://smtlib.cs.uiowa.edu/examples.shtml">smtlib2</a> is a kind of typed first order logic with special support for things like booleans, integers, reals, bitvectors, and algebraic datatypes. You can ask Z3 if propositions are valid, or if not it can provide a counterexample. It works pretty crazy good, especially if you work around its weaknesses (mostly quantifiers and nasty nonlinear stuff). Z3 has top class performance and its <a href="https://z3prover.github.io/api/html/namespacez3py.html">python bindings</a> are widely regarded as very good.</p>

<p>The main unusual things TLA brings into play compared to bog standard logics is the primed variables \(x'\), representing the values of variables at the next time step, and some temporal operators like always \(\Box\) and eventually \(\Diamond\).</p>

<p>We could mark primes by creating variables in pairs</p>
<div><div><pre><code><span>from</span> <span>z3</span> <span>import</span> <span>*</span>
<span>x</span><span>,</span> <span>xnxt</span> <span>=</span> <span>Ints</span><span>(</span><span>"x x'"</span><span>)</span>
</code></pre></div></div>

<p>But I‚Äôve chosen to mark the prime variables using a special uninterpreted function, which we strip out later.</p>

<div><div><pre><code><span>def</span> <span>nxt</span><span>(</span><span>x</span><span>):</span> <span># next is a special function for generators in python, so we shouldn't use that name
</span>    <span>assert</span> <span>is_const</span><span>(</span><span>x</span><span>)</span>
    <span>assert</span> <span>f</span><span>.</span><span>decl</span><span>().</span><span>kind</span><span>()</span> <span>==</span> <span>Z3_OP_UNINTERPRETED</span><span>:</span>
    <span>s</span> <span>=</span> <span>x</span><span>.</span><span>sort</span><span>()</span>
    <span>return</span> <span>Function</span><span>(</span><span>"nxt"</span><span>,</span> <span>s</span><span>,</span> <span>s</span><span>)(</span><span>x</span><span>)</span>
</code></pre></div></div>

<p>One breakage here as compared to with TLA+ is the use of types. TLA+ curiously insists on a lack of intrinsic types and argues against them as a foundational feature. Types are instead propositions that are proved in the system. This just is really not convenient for using with Z3, so from the get-go I‚Äôm going to take liberties.</p>

<p>We can implement an <code>always</code> operator via a fairly simple procedure, we just roll out the execution of any formula for <code>n</code> time steps. This is the trick of bounded model checking. This rollout can be achieved by using the Z3 <code>substitute</code> function, a surprisingly useful little fellow.</p>

<div><div><pre><code><span># collects up all the variable from a formula
# https://stackoverflow.com/questions/14080398/z3py-how-to-get-the-list-of-variables-from-a-formula
</span><span>def</span> <span>get_vars</span><span>(</span><span>f</span><span>):</span>
    <span>r</span> <span>=</span> <span>set</span><span>()</span>
    <span>def</span> <span>collect</span><span>(</span><span>f</span><span>):</span>
      <span>if</span> <span>is_const</span><span>(</span><span>f</span><span>):</span> 
          <span>if</span> <span>f</span><span>.</span><span>decl</span><span>().</span><span>kind</span><span>()</span> <span>==</span> <span>Z3_OP_UNINTERPRETED</span><span>:</span>
              <span>r</span><span>.</span><span>add</span><span>(</span><span>f</span><span>)</span>
      <span>else</span><span>:</span>
          <span>for</span> <span>c</span> <span>in</span> <span>f</span><span>.</span><span>children</span><span>():</span>
              <span>collect</span><span>(</span><span>c</span><span>)</span>
    <span>collect</span><span>(</span><span>f</span><span>)</span>
    <span>return</span> <span>r</span>


<span>#https://theory.stanford.edu/~nikolaj/programmingz3.html#sec-bounded-model-checking
# rolls out the transition relation for n steps
# it replaces x with x_i and prime(x) with x_(i+1)
</span><span>def</span> <span>always</span><span>(</span><span>p</span><span>,</span><span>n</span><span>=</span><span>20</span><span>):</span>
    <span>orig_vs</span> <span>=</span> <span>get_vars</span><span>(</span><span>p</span><span>)</span>
    <span>nextvs</span> <span>=</span> <span>orig_vs</span>
    <span>t</span> <span>=</span> <span>True</span>
    <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>1</span><span>,</span><span>n</span><span>):</span>
        <span>vs</span> <span>=</span> <span>nextvs</span>
        <span>nextvs</span> <span>=</span>  <span>[</span> <span>Const</span><span>(</span> <span>f"</span><span>{</span><span>str</span><span>(</span><span>v</span><span>)</span><span>}</span><span>_</span><span>{</span><span>i</span><span>}</span><span>"</span><span>,</span> <span>v</span><span>.</span><span>sort</span><span>())</span> <span>for</span> <span>v</span> <span>in</span> <span>orig_vs</span>  <span>]</span>
        <span>p1</span> <span>=</span> <span>substitute</span><span>(</span><span>p</span><span>,</span> <span>[</span> <span>(</span><span>nxt</span><span>(</span><span>v</span><span>),</span> <span>nextv</span><span>)</span> <span>for</span> <span>v</span><span>,</span> <span>nextv</span> <span>in</span> <span>zip</span><span>(</span><span>orig_vs</span><span>,</span><span>nextvs</span><span>)</span>  <span>])</span> 
        <span>p2</span> <span>=</span> <span>substitute</span><span>(</span><span>p1</span><span>,</span> <span>[</span> <span>(</span><span>orig_v</span><span>,</span> <span>v</span><span>)</span> <span>for</span> <span>orig_v</span><span>,</span> <span>v</span> <span>in</span> <span>zip</span><span>(</span><span>orig_vs</span><span>,</span><span>vs</span><span>)</span>  <span>])</span>
        <span>t</span> <span>=</span> <span>And</span><span>(</span><span>t</span><span>,</span><span>p2</span><span>)</span>
    <span>return</span> <span>t</span>
</code></pre></div></div>

<p>Here for example is the specification of a clock from the <a href="https://www.microsoft.com/en-us/research/uploads/prod/2018/05/book-02-08-08.pdf">Specifying Systems</a> book. The clock starts with an hour between 0 and 12, and at each time step increases unless it‚Äôs wrapped around 12.</p>

<div><div><pre><code><span>hr</span> <span>=</span> <span>Int</span><span>(</span><span>"hr"</span><span>)</span>
<span>HCini</span> <span>=</span> <span>And</span><span>(</span><span>1</span> <span>&lt;=</span> <span>hr</span><span>,</span> <span>hr</span> <span>&lt;=</span> <span>12</span><span>)</span>
<span>HCnxt</span> <span>=</span> <span>nxt</span><span>(</span><span>hr</span><span>)</span> <span>==</span> <span>If</span><span>(</span><span>hr</span> <span>!=</span> <span>12</span><span>,</span> <span>hr</span> <span>+</span> <span>1</span><span>,</span> <span>1</span><span>)</span>
<span>HC</span> <span>=</span> <span>And</span><span>(</span><span>HCini</span><span>,</span> <span>always</span><span>(</span><span>HCnxt</span><span>))</span> 
<span>prove</span><span>(</span><span>Implies</span><span>(</span><span>HC</span><span>,</span>  <span>always</span><span>(</span><span>HCini</span><span>)))</span> <span># prove clock always stays between 0 and 12 (for 20 times steps)
</span></code></pre></div></div>

<p>You do have to be careful with using always. Arbitrarily nesting it‚Äôs usage may give unexpected results. Lamport makes an argument that specs very rarely do or should make sophisticated use of the temporal operators. Maybe this is good enough or maybe there is a way to patch this up.</p>

<p>Here are some other useful TLA+ like features and functions transcoded.</p>

<div><div><pre><code><span>def</span> <span>elem</span><span>(</span><span>x</span><span>,</span><span>S</span><span>):</span>
    <span>return</span> <span>Or</span><span>([</span><span>x</span> <span>==</span> <span>s</span> <span>for</span> <span>s</span> <span>in</span> <span>S</span><span>])</span>

<span>def</span> <span>unchanged</span><span>(</span><span>*</span><span>args</span><span>):</span>
    <span>return</span> <span>And</span><span>([</span><span>prime</span><span>(</span><span>x</span><span>)</span> <span>==</span> <span>x</span> <span>for</span> <span>x</span> <span>in</span> <span>args</span><span>])</span>

<span>def</span> <span>eventually</span><span>(</span><span>p</span><span>,</span> <span>n</span><span>=</span><span>20</span><span>):</span>
    <span>return</span> <span>Not</span><span>(</span><span>always</span><span>(</span><span>Not</span><span>(</span><span>p</span><span>),</span><span>n</span><span>=</span><span>n</span><span>))</span>

<span>def</span> <span>stutter</span><span>(</span><span>p</span><span>,</span> <span>vars</span><span>=</span><span>None</span><span>):</span>
    <span>if</span> <span>vars</span> <span>==</span> <span>None</span><span>:</span>
        <span>vars</span> <span>=</span> <span>get_vars</span><span>(</span><span>p</span><span>)</span>
    <span>return</span> <span>Or</span><span>(</span><span>p</span><span>,</span> <span>unchanged</span><span>(</span><span>*</span><span>vars</span><span>))</span>

<span>def</span> <span>enabled</span><span>(</span><span>A</span><span>):</span>
    <span>vs</span> <span>=</span> <span>get_vars</span><span>(</span><span>A</span><span>)</span>
    <span>nxtvs</span> <span>=</span>  <span>[</span> <span>FreshConst</span><span>(</span>  <span>v</span><span>.</span><span>sort</span><span>(),</span> <span>prefix</span><span>=</span><span>str</span><span>(</span><span>v</span><span>)</span> <span>)</span> <span>for</span> <span>v</span> <span>in</span> <span>vs</span><span>]</span>
    <span>p1</span> <span>=</span> <span>substitute</span><span>(</span><span>A</span><span>,</span> <span>[</span> <span>(</span><span>nxt</span><span>(</span><span>v</span><span>),</span> <span>nextv</span><span>)</span> <span>for</span> <span>v</span><span>,</span> <span>nextv</span> <span>in</span> <span>zip</span><span>(</span><span>vs</span><span>,</span><span>nxtvs</span><span>)</span>  <span>])</span> 
    <span>return</span> <span>Exists</span><span>(</span><span>nxtvs</span><span>,</span> <span>p1</span><span>)</span>

<span># backports useful logical operator notation for z3 that it does not have by default
</span><span>BoolRef</span><span>.</span><span>__and__</span> <span>=</span> <span>lambda</span> <span>self</span><span>,</span> <span>rhs</span><span>:</span> <span>And</span><span>(</span><span>self</span><span>,</span><span>rhs</span><span>)</span>
<span>BoolRef</span><span>.</span><span>__or__</span> <span>=</span> <span>lambda</span> <span>self</span><span>,</span> <span>rhs</span><span>:</span> <span>Or</span><span>(</span><span>self</span><span>,</span><span>rhs</span><span>)</span>
<span>BoolRef</span><span>.</span><span>__xor__</span> <span>=</span> <span>lambda</span> <span>self</span><span>,</span> <span>rhs</span><span>:</span> <span>Xor</span><span>(</span><span>self</span><span>,</span><span>rhs</span><span>)</span>
<span>BoolRef</span><span>.</span><span>__invert__</span> <span>=</span> <span>lambda</span> <span>self</span><span>:</span> <span>Not</span><span>(</span><span>self</span><span>)</span>
<span>BoolRef</span><span>.</span><span>__rshift__</span> <span>=</span> <span>lambda</span> <span>self</span><span>,</span> <span>rhs</span><span>:</span> <span>Implies</span><span>(</span><span>self</span><span>,</span><span>rhs</span><span>)</span>
</code></pre></div></div>

<p>Here as another example is the <a href="http://lamport.azurewebsites.net/video/video4.html">Die Hard puzzle</a></p>

<div><div><pre><code><span>small</span><span>,</span> <span>big</span> <span>=</span> <span>Ints</span><span>(</span><span>"small big"</span><span>)</span>

<span>TypeOk</span> <span>=</span> <span>And</span><span>(</span>
   <span>elem</span><span>(</span><span>small</span><span>,</span> <span>range</span><span>(</span><span>4</span><span>)),</span>
   <span>elem</span><span>(</span><span>big</span><span>,</span> <span>range</span><span>(</span><span>6</span><span>))</span>
<span>)</span>
<span>Init</span> <span>=</span> <span>And</span><span>(</span>
   <span>big</span> <span>==</span> <span>0</span><span>,</span>
   <span>small</span> <span>==</span> <span>0</span>
<span>)</span>

<span>FillSmall</span> <span>=</span> <span>And</span><span>(</span><span>prime</span><span>(</span><span>small</span><span>)</span> <span>==</span> <span>3</span><span>,</span> <span>unchanged</span><span>(</span><span>big</span><span>))</span>
<span>FillBig</span> <span>=</span> <span>And</span><span>(</span><span>prime</span><span>(</span><span>big</span><span>)</span> <span>==</span> <span>5</span><span>,</span> <span>unchanged</span><span>(</span><span>small</span><span>))</span>
<span>Goal</span> <span>=</span> <span>big</span> <span>!=</span> <span>4</span>
<span>SmallToBig</span> <span>=</span> <span>If</span><span>(</span><span>big</span> <span>+</span> <span>small</span> <span>&lt;=</span> <span>5</span><span>,</span>   
                 <span>And</span><span>(</span> <span>nxt</span><span>(</span><span>big</span><span>)</span> <span>==</span> <span>big</span> <span>+</span> <span>small</span><span>,</span> <span>nxt</span><span>(</span><span>small</span><span>)</span> <span>==</span> <span>0</span> <span>)</span> <span>,</span> 
                 <span>And</span><span>(</span><span>nxt</span><span>(</span><span>small</span><span>)</span> <span>==</span> <span>small</span> <span>-</span> <span>(</span><span>5</span> <span>-</span> <span>big</span><span>),</span> <span>nxt</span><span>(</span><span>big</span><span>)</span> <span>==</span> <span>5</span><span>)</span>
               <span>)</span>

<span>BigToSmall</span> <span>=</span> <span>If</span><span>(</span> <span>big</span> <span>+</span> <span>small</span> <span>&lt;=</span> <span>3</span><span>,</span>
                 <span>And</span><span>(</span> <span>nxt</span><span>(</span><span>small</span><span>)</span> <span>==</span> <span>big</span> <span>+</span> <span>small</span><span>,</span> <span>nxt</span><span>(</span><span>big</span><span>)</span> <span>==</span> <span>0</span><span>),</span>
                 <span>And</span><span>(</span> <span>nxt</span><span>(</span><span>small</span><span>)</span> <span>==</span> <span>3</span><span>,</span> <span>nxt</span><span>(</span><span>big</span><span>)</span> <span>==</span> <span>big</span> <span>-</span> <span>(</span><span>3</span> <span>-</span> <span>small</span><span>)</span> <span>)</span>
                <span>)</span>

<span>EmptyBig</span> <span>=</span> <span>And</span><span>(</span><span>nxt</span><span>(</span><span>big</span><span>)</span> <span>==</span> <span>0</span><span>,</span>  <span>unchanged</span><span>(</span><span>small</span><span>))</span> 
<span>EmptySmall</span> <span>=</span> <span>And</span><span>(</span><span>nxt</span><span>(</span><span>small</span><span>)</span> <span>==</span> <span>0</span><span>,</span>  <span>unchanged</span><span>(</span><span>big</span><span>))</span> 
<span>Next</span> <span>=</span> <span>Or</span><span>(</span><span>FillSmall</span><span>,</span> <span>FillBig</span><span>,</span> <span>EmptySmall</span><span>,</span> <span>EmptyBig</span><span>,</span> <span>SmallToBig</span><span>,</span> <span>BigToSmall</span><span>)</span>

<span>Spec</span> <span>=</span> <span>Init</span> <span>&amp;</span> <span>always</span><span>(</span><span>Next</span><span>,</span> <span>n</span><span>=</span><span>8</span><span>)</span>
<span>prove</span><span>(</span> <span>Implies</span><span>(</span><span>Spec</span>  <span>,</span> <span>always</span><span>(</span><span>Goal</span><span>,</span> <span>n</span> <span>=</span> <span>8</span><span>)))</span>
</code></pre></div></div>

<p>Z3 does in fact return a counter model that fills the buckets up as desired.</p>

<p>TLA+ has a tendency to use functions/records which are not so obvious how to encode. There are different ways of going about this. One aspect of playing around with Z3py is that it makes extremely clear the existence of the logic language and a metalanguage. The logic is Z3 expressions, but the metalanguage is python and they are obviously very different. But there is often a choice of whether to encode things in the logic vs the metalanguage. It is usually better I think to encode as much in python as possible if you can get away with it. Z3 likes piles of simple constraints more than it likes complicated quantifiers and things.</p>

<p>For example, we can want to encode an Enum type in python or in Z3.</p>

<div><div><pre><code><span>from</span> <span>enum</span> <span>import</span> <span>Enum</span><span>,</span> <span>auto</span>
<span>#python enum
</span><span>class</span> <span>RMState</span><span>(</span><span>Enum</span><span>):</span>
     <span>WORKING</span> <span>=</span> <span>auto</span><span>()</span>
     <span>PREPARED</span> <span>=</span> <span>auto</span><span>()</span>
     <span>COMMITTED</span> <span>=</span> <span>auto</span><span>()</span>
     <span>ABORTED</span> <span>=</span> <span>auto</span><span>()</span>

<span># z3 enum
</span><span>RMState</span> <span>=</span> <span>Datatype</span><span>(</span><span>"RMState"</span><span>)</span>
<span>RMState</span><span>.</span><span>declare</span><span>(</span><span>"working"</span><span>)</span>
<span>RMState</span><span>.</span><span>declare</span><span>(</span><span>"prepared"</span><span>)</span>
<span>RMState</span><span>.</span><span>declare</span><span>(</span><span>"committed"</span><span>)</span>
<span>RMState</span><span>.</span><span>declare</span><span>(</span><span>"aborted"</span><span>)</span>
<span>RMState</span> <span>=</span> <span>RMState</span><span>.</span><span>create</span><span>()</span>
</code></pre></div></div>

<p>Or we can choose to encode records in Z3 vs python.</p>

<div><div><pre><code><span>#python record of z3 values
</span><span>val</span> <span>=</span> <span>Int</span><span>(</span><span>"val"</span><span>)</span>
<span>rdy</span><span>,</span> <span>ack</span> <span>=</span> <span>Bools</span><span>(</span><span>"rdy ack"</span><span>)</span>
<span>chan</span> <span>=</span> <span>{</span><span>val</span> <span>:</span> <span>val</span><span>,</span> <span>rdy</span> <span>:</span> <span>rdy</span><span>,</span> <span>ack</span> <span>:</span> <span>ack</span><span>}</span>

<span># Z3 record of Z3 values
</span><span>Chan</span> <span>=</span> <span>Datatype</span><span>(</span><span>"Chan"</span><span>)</span>
<span>ChanCon</span> <span>=</span> <span>Chan</span><span>.</span><span>declare</span><span>(</span><span>"constr"</span><span>,</span> <span>(</span><span>"val"</span><span>,</span> <span>IntSort</span><span>())</span> <span>,</span> <span>(</span><span>"rdy"</span><span>,</span> <span>BoolSort</span><span>()),</span>  <span>(</span><span>"ack"</span><span>,</span> <span>BoolSort</span><span>())</span> <span>)</span>
<span>Chan</span> <span>=</span> <span>Chan</span><span>.</span><span>create</span><span>()</span>
<span>record</span> <span>=</span> <span>Chan</span><span>.</span><span>constr</span><span>(</span><span>val</span><span>,</span><span>rdy</span><span>,</span><span>ack</span><span>)</span>
<span>chan</span> <span>=</span> <span>Const</span><span>(</span><span>"chan"</span><span>,</span> <span>Chan</span><span>)</span>
</code></pre></div></div>

<p>Or we can choose to encode functions in z3 or python</p>

<div><div><pre><code><span># python square. Works of Z3 values too
</span><span>def</span> <span>square</span><span>(</span><span>x</span><span>):</span>
    <span>return</span> <span>x</span><span>*</span><span>x</span>

<span># Internalized Z3 square function
</span><span>square</span> <span>=</span> <span>Function</span><span>(</span><span>"square"</span><span>,</span> <span>IntSort</span><span>(),</span><span>IntSort</span><span>())</span>
<span>x</span> <span>=</span> <span>Int</span><span>(</span><span>"x"</span><span>)</span>
<span>square_axiom</span> <span>=</span> <span>ForAll</span><span>([</span><span>x</span><span>],</span> <span>square</span><span>(</span><span>x</span><span>)</span> <span>==</span> <span>x</span> <span>*</span> <span>x</span><span>)</span>
</code></pre></div></div>

<h3 id="bits-and-bobbles">Bits and Bobbles</h3>

<p>Downsides:</p>

<ul>
  <li>Very ad hoc. The use of special autogenerated names is a great way to inadvertently smash things together</li>
  <li>TLA syntax is designed to be readable. The python adds a lot of noise</li>
  <li>TLA toolbox can format specs nicely using latex.</li>
  <li>TLA has a lot of thought gone into it. Making changes to it in an afternoon of thought is probably not to be trusted</li>
</ul>

<p>Upsides:</p>
<ul>
  <li>Better fits Z3, so we get good automation from the get go</li>
  <li>python is lingua franca of computing. It is comforting compared to TLA+, even if Z3py might be discomfiting.</li>
  <li>Having to download the toolbox and figure out how to use it is always going to be a slight speedbump. There is a TLA+ vscode extension now though. That might help</li>
</ul>

<p>Using Python ast parsing <a href="https://greentreesnakes.readthedocs.io/en/latest/index.html">https://greentreesnakes.readthedocs.io/en/latest/index.html</a>, we could probably use regular simple python syntax as a PlusCal like DSL and compile it into the above Z3-TLA+ hybrid.</p>

<p>I‚Äôm not sure if the CHOOSE operator of TLA+ will be easy to implement. It kind of seems like it requires nested solves? Can it be encoded using</p>

<p>I don‚Äôt particularly understand the TLA+ module system yet and I‚Äôm not so sure how to emulate it. Python modules might be one way, or perhaps classes.</p>

<p>Although I tried to copy exactly, perhaps one shouldn‚Äôt spec in precisely the style of standard TLA+.</p>

<h3 id="links">Links</h3>

<ul>
  <li><a href="https://www.learntla.com/introduction/">https://www.learntla.com/introduction/</a> Hillel Wayne‚Äôs tutorial</li>
  <li><a href="https://www.microsoft.com/en-us/research/uploads/prod/2018/05/book-02-08-08.pdf">https://www.microsoft.com/en-us/research/uploads/prod/2018/05/book-02-08-08.pdf</a> Specifying Systems</li>
  <li><a href="https://pron.github.io/tlaplus">https://pron.github.io/tlaplus</a>  Very impressive essays by Ron Pressler</li>
  <li><a href="https://github.com/cobusve/TLAPLUS_DeadlockEmpire">https://github.com/cobusve/TLAPLUS_DeadlockEmpire</a> Very neat way to learn TLA+</li>
  <li><a href="https://github.com/tlaplus/Examples">https://github.com/tlaplus/Examples</a></li>
  <li>Apalache is a Z3 backed model checker for TLA+ <a href="https://github.com/informalsystems/apalache">https://github.com/informalsy‚Ä¶</a></li></ul></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.philipzucker.com/Modelling_TLA_in_z3py/">https://www.philipzucker.com/Modelling_TLA_in_z3py/</a></em></p>]]>
            </description>
            <link>https://www.philipzucker.com/Modelling_TLA_in_z3py/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25492150</guid>
            <pubDate>Mon, 21 Dec 2020 04:31:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Virtual Events Suck]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25491847">thread link</a>) | @gmays
<br/>
December 20, 2020 | https://aparker.io/posts/virtual-events-suck/ | <a href="https://web.archive.org/web/*/https://aparker.io/posts/virtual-events-suck/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
  
  <p><time datetime="2020-12-10T09:30:00-0500">Thu, Dec 10, 2020</time></p><p><img src="https://aparker.io/images/virtualeventssuckheader.png" alt="image"></p>
<p>I mean, is this even up for argument?</p>

<p>One of the whitest-ass things in the world is our people‚Äôs obsession with songs at sporting events, and indeed, in large crowds. If you‚Äôre reading this and you‚Äôre from Europe, feel free to replace my references to Sweet Caroline with Seven Nation Army, same diff. That said, you can fairly reliably trigger this behavior in most cultures in most parts of the world by finding a sufficiently rowdy bar around midnight and playing <em>something</em> on the jukebox that gets folks going. Humans, we‚Äôre social creatures, yeah? A few bars of Neil Diamond, a couple people singing along, and by the time you‚Äôre at ‚ÄòHands, touching hands‚Äô you‚Äôll have a swelling crescendo that culminates in a ear-shattering and atonal screech of ‚ÄòSWEEEEEEEEEEEEET CAR-O-LINE (WOAH OH OH)‚Äô making the bartenders silently plot the murder of everyone in their line of sight.</p>
<p>People like being around people, and most people don‚Äôt treat everyone around them as some sort of incredibly delicate faberge egg. There‚Äôs a lot of ‚Äúwow look at all these accomodations people are making that disabled people have asked for now that nobody is supposed to leave their house! hypocrisy, much??‚Äù and I‚Äôm like, yeah, duh? Pointing out hypocrisy is the lowest form of engagement in 2020. This is why virtual events suck ‚Äì because nobody is actually planning on doing them any longer than they need to.</p>

<blockquote>
<p>One of the benefits of in-person conferences is that they temporarily remove you from your day-to-day work and immerse you in a community of like-minded individuals. It‚Äôs not just about getting to hear new ideas, but also about the break from your daily routine. This is one of the things that is hardest to replicate in a virtual event. DIDevOps was perhaps the most successful virtual conference I‚Äôve seen in making their event feel like An Event. This event was clever and whimsical, the community was engaged, and it definitely didn‚Äôt feel like just another video call.</p>
</blockquote>
<p><a href="https://redmonk.com/rstephens/2020/04/30/deserted-island-devops/">Rachel Stephens, RedMonk</a></p>
<p>I wrote earlier this year about the idea of a <a href="https://aparker.io/posts/deserted-island-devops/">decisive moment</a> and how that influenced the thinking behind Deserted Island DevOps. To elaborate a bit, Cartier-Bresson was a street photographer who coined this phrase in the introduction to his 1947 book.</p>
<blockquote>
<p>Photography is the simultaneous recognition, in a fraction of a second, of the significance of an event as well as of a precise organisation of forms which give that event its proper expression.</p>
</blockquote>
<p>What is, then, the ‚Äòdecisive moment‚Äô of a tech conference? My original criteria was that an event was <em>etherial</em> or placeless; From the smallest DevOpsDays to the largest re:Invent, an event is defined less by the where than by the who. As an attendee, you are swept away from the status quo for a time (even as it inorexably pulls you back in, given the amount of people I see working on laptops during events) into a convention center or hotel or theater or whatever, specifically to focus on something other than what you normally would. Quite literally, you are being moved out of your comfort zone. This can prime you to accept ideas that normally you wouldn‚Äôt, can rejigger your brain chemistry for a few hours to make you see things from a different perspective. That‚Äôs valuable! As a speaker, you‚Äôre transported to a new stage, with a new audience, a new set of eyes and ears to reflect off of. It‚Äôs almost like being a comedian and testing out material ‚Äì you try some new lines, some new jokes, add an anecdote here, shave one off there. Repetition builds mastery. Next week, or next month, you‚Äôre going to do it all again. Our traversal through the liminal spaces between these potemkin stages lends itself to inward focus where we must Do The Work to shut out the world around us. To be less floral about it, the demands of the road make us better speakers because the only way we don‚Äôt go fuckin‚Äô mad is to focus on the work.</p>
<p>Virtual events offer none of this, unfortunately. As attendees, another Slack, another Zoom call, another wave of talking heads and PowerPoint. As speakers, our audience disappears behind a chat window. We lose our reflection. It‚Äôs sad and terrible and great for some people, but on the balance I think we dislike it more than we like it.</p>
<p>The bad is part of the fun! You can‚Äôt replicate the feeling of gnawing on an underripe banana while chugging overly-hot-but-not-terribly-flavorful coffee watching someone who‚Äôs company paid way too much for a keynote while mentally ticking off the people you need to talk to that day while working out the soreness in your back from the bed that isn‚Äôt yours that you got maybe four productive sleeping hours in due to jet lag while figuring out who you‚Äôre going to catch up with after the show wraps that day as you muse about how it looks like your competitors have a much nicer booth than yours, and you wonder if they‚Äôre hiring except that one asshole still works there and so on and so forth. ‚ÄúThat sounds terrible!‚Äù you may be musing, <em>and you‚Äôd be right</em>, but I love the terrible. I thrive in the terrible. I‚Äôm drinking single origin fair trade coffee beans that were roasted in small batches locally brewed in a fancy coffee maker and I can tell you that when this is all over and I can have a cuppa brewed in the backroom of a Hilton it is going to be the sweetest thing I can possibly imagine for five seconds right before I start hating everything about it again and <em>that‚Äôs fine</em>.</p>
<p>The bad of an in-person event is terrible, but it‚Äôs a terrible I can work with. I go outside like once or twice a week now to get groceries and that‚Äôs all I‚Äôve done for the past nine months. <em>I want the workable terrible, not this horrific stasis</em>.</p>

<p>The reason that virtual events suck is that we‚Äôre trying to replicate in-person events. We‚Äôre doing old-school iOS skeumorphism but for primarily social gatherings. No wonder they suck! There‚Äôs a few broad reasons:</p>
<ul>
<li><em>Bad UX</em>: Sometimes I like to style on babies by displaying object permanance, but you wouldn‚Äôt know that given the utter contempt event platforms seem to have for their audiences by doing dumb skeumorphic ‚Äúconference halls‚Äù with badly ‚Äòshopped people standing around.</li>
</ul>
<p><img src="https://aparker.io/images/kubeconlobby.png" alt="KubeCon EU ‚ÄòLobby‚Äô"></p>
<ul>
<li>
<p><em>Pervasive Surveillence</em>: I use ad blockers but a bunch of people don‚Äôt, on principle though it‚Äôs really fuckin‚Äô creepy that every click you make on one of these event platforms is tracked. Simply navigating to a sponsor booth counts as a ‚Äòlead‚Äô to the sponsor. Yikes!</p>
</li>
<li>
<p><em>Poor AV Quality</em>: I get that people have to record from their homes but maybe recording someone‚Äôs Zoom isn‚Äôt the best way to do this? I‚Äôm sympathetic, this is legit a hard problem to solve, but many large conferences are still charging an arm and a leg to sponsors (and less for attendees but that‚Äôs a different point) so how about you do local recording then edit things later? If you‚Äôre going to charge me at <em>all</em> then I expect the production values to at least beat out a random Twitch streamer.</p>
</li>
<li>
<p><em>Poor Viewing Experience</em>: A tiny pop-out 720p video that artifacts when I change the size is‚Ä¶ not great. Integrate chat and Q&amp;A better. Do <em>something</em> unique with the format. I sit on enough Zoom calls. Like, why would I <em>pay money</em> to <em>watch videos</em> with a <em>worse player than YouTube</em>? There‚Äôs millions of hours of shit out there for free!</p>
</li>
<li>
<p><em>Yet Another Slack</em>: I just don‚Äôt want to join more Slack channels where people are randomly @here‚Äôing and I never know if it‚Äôs an event organizer with an announcement or some salesperson trying to coax people into their virtual booth.</p>
</li>
<li>
<p><em>Did I Mention Virtual Booths Yet</em>: I have never interacted with anyone in a Virtual Booth and I never will. This appears to be a common sentiment.</p>
</li>
</ul>

<p>Alright, let‚Äôs flip the script. I‚Äôm wearing my business hat now.</p>
<ul>
<li>
<p><em>Bad UX</em>: You think the <em>attendee</em> experience is bad, the admin/sponsor controls and views on these platforms is worse. Arbitrary requirements, poor control over look and feel, nah fam miss me with this.</p>
</li>
<li>
<p><em>Poor Interactivity</em>: You know what‚Äôs great about a real booth? People wander by and they get interested. Why do they wander by? Because they‚Äôre not at home, they need to kill time, and the snacks are on the trade floor. Maybe they just want a t-shirt or whatever, fine, but we do actually get a lot of really valuable feedback and eyes on the product by doing demos. This is extremely useful, and it simply doesn‚Äôt happen at virtual events.</p>
</li>
<li>
<p><em>Attendee Impedence Mismatch</em>: This is more of a theory but I suspect that the attendee mix for virtual events in terms of titles is significantly out-of-balance compared to in-person events. One popular (<em>n</em> = ~1300) virtual event this year had self-reported attendance of only 4% for management roles, but over 40% IC (developer/devops/ops) roles. My hypothesis is that ‚Äúdecision makers‚Äù are less likely to attend virtual events because they‚Äôre intensely overbooked during the in-person -&gt; distributed team transition period and are oversubscribed on other things, which translates into less useful direct sales conversations, but I could be off-base here. If nothing else, my anecdata from talking about this seems to indicate that attendees just don‚Äôt really go to virtual booths.</p>
</li>
<li>
<p><em>Success Looks Different</em>: This is one of those ‚Äòtwo-way street‚Äô problems, but I don‚Äôt think organizers did a great job in general making sponsors successful, and I don‚Äôt think sponsors had the muscle to make themselves successful in a lot of ways. Trying to be too different caused a lot of friction, however, and during a time of reinvention this friction reduced experimentation in my opinion.</p>
</li>
</ul>

<p>Last part - the speaker experience.</p>
<ul>
<li>
<p><em>My Home Is Not Your Home</em>: One of the low key worst things about the pandemic has been the idea of us ‚Äòopening up our homes‚Äô and letting people see how we live. Could we fuckin‚Äô not? Like I don‚Äôt believe that I even have to discuss this but we should probably put the Room Rater person on trial for crimes against humanity. I don‚Äôt <em>want</em> to have to be super concious about my webcam or audio or whatever, I don‚Äôt <em>want</em> to ‚Ä¶</p></li></ul></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://aparker.io/posts/virtual-events-suck/">https://aparker.io/posts/virtual-events-suck/</a></em></p>]]>
            </description>
            <link>https://aparker.io/posts/virtual-events-suck/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491847</guid>
            <pubDate>Mon, 21 Dec 2020 03:21:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Unix Recovery Legend (1986)]]>
            </title>
            <description>
<![CDATA[
Score 162 | Comments 95 (<a href="https://news.ycombinator.com/item?id=25491790">thread link</a>) | @signa11
<br/>
December 20, 2020 | https://www.ee.ryerson.ca/~elf/hack/recovery.html | <a href="https://web.archive.org/web/*/https://www.ee.ryerson.ca/~elf/hack/recovery.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">

<h4>This classic article from Mario Wolczko first
appeared on Usenet in 1986.  </h4>

Have you ever left your terminal logged in, only to find when you
came back to it that a (supposed) friend had typed "<kbd>rm -rf
~/*</kbd>" and was hovering over the keyboard with threats along the
lines of "<em>lend me a fiver 'til Thursday, or I hit return</em>"?
Undoubtedly the person in question would not have had the nerve to
inflict such a trauma upon you, and was doing it in jest.  So you've
probably never experienced the worst of such disasters....<p>


It was a quiet Wednesday afternoon.  Wednesday, 1st October, 15:15
BST, to be precise, when Peter, an office-mate of mine, leaned away
from his terminal and said to me, "<em>Mario, I'm having a little
trouble sending mail.</em>" Knowing that msg was capable of confusing
even the most capable of people, I sauntered over to his terminal to
see what was wrong.  A strange error message of the form (I forget
the exact details) "<kbd>cannot access /foo/bar for userid 147</kbd>"
had been issued by msg.  My first thought was "<em>Who's userid 147?;
the sender of the message, the destination, or what?</em>" So I leant
over to another terminal, already logged in, and typed</p><blockquote>        <kbd>grep 147 /etc/passwd</kbd></blockquote>

<p>only to receive the response</p><blockquote>        <kbd>/etc/passwd: No such file or directory.</kbd></blockquote>

Instantly, I guessed that something was amiss.  This was confirmed
when in response to<blockquote>        <kbd>ls /etc</kbd></blockquote>

<p>I got</p><blockquote>        <kbd>ls: not found.</kbd></blockquote>

I suggested to Peter that it would be a good idea not to try anything
for a while, and went off to find our system manager.<p>

When I arrived at his office, his door was ajar, and within ten
seconds I realised what the problem was.  James, our manager, was
sat down, head in hands, hands between knees, as one whose world has
just come to an end.  Our newly-appointed system programmer, Neil, was
beside him, gazing listlessly at the screen of his terminal.  And at
the top of the screen I spied the following lines:</p><blockquote>
        <kbd># cd <br>
        # rm -rf *</kbd>
</blockquote>

<p>Oh, shit, I thought.  That would just about explain it.</p><p>


I can't remember what happened in the succeeding minutes; my memory
is just a blur.  I do remember trying <kbd>ls</kbd> (again),
<kbd>ps</kbd>, <kbd>who</kbd> and maybe a few other commands beside,
all to no avail.  The next thing I remember was being at my terminal
again (a multi-window graphics terminal), and typing</p><blockquote>
        <kbd>cd /<br>
        echo *</kbd>
</blockquote>
<p>I owe a debt of thanks to David Korn for making <kbd>echo</kbd> a
built-in of his shell; needless to say, <kbd>/bin</kbd>, together
with <kbd>/bin/echo</kbd>, had been deleted.  What transpired in the
next few minutes was that <kbd>/dev</kbd>, <kbd>/etc</kbd> and
<kbd>/lib</kbd> had also gone in their entirety; fortunately Neil had
interrupted <kbd>rm</kbd> while it was somewhere down below
<kbd>/news</kbd>, and <kbd>/tmp</kbd>, <kbd>/usr</kbd> and
<kbd>/users</kbd> were all untouched.</p><p>


Meanwhile James had made for our tape cupboard and had retrieved what
claimed to be a dump tape of the root filesystem, taken four weeks
earlier.  The pressing question was, "<em>How do we recover the
contents of the tape?</em>".  Not only had we lost
<kbd>/etc/restore</kbd>, but all of the device entries for the tape
deck had vanished.  And where does <kbd>mknod</kbd> live?  You
guessed it, <kbd>/etc</kbd>.  How about recovery across Ethernet of
any of this from another VAX?  Well, <kbd>/bin/tar</kbd> had gone,
and thoughtfully the Berkeley people had put <kbd>rcp</kbd> in
<kbd>/bin</kbd> in the 4.3 distribution.  What's more, none of the
Ether stuff wanted to know without <kbd>/etc/hosts</kbd> at least.
We found a version of <kbd>cpio</kbd> in <kbd>/usr/local</kbd>, but
that was unlikely to do us any good without a tape deck.</p><p>


Alternatively, we could get the boot tape out and rebuild the root
filesystem, but neither James nor Neil had done that before, and we
weren't sure that the first thing to happen would be that the whole
disk would be re-formatted, losing all our user files.  (We take dumps
of the user files every Thursday; by Murphy's Law this had to happen
on a Wednesday).  Another solution might be to borrow a disk from
another VAX, boot off that, and tidy up later, but that would have
entailed calling the DEC engineer out, at the very least.  We had a
number of users in the final throes of writing up PhD theses and the
loss of a maybe a weeks' work (not to mention the machine down time)
was unthinkable.</p><p>


So, what to do?  The next idea was to write a program to make a
device descriptor for the tape deck, but we all know where
<kbd>cc</kbd>, <kbd>as</kbd> and <kbd>ld</kbd> live.  Or maybe make
skeletal entries for <kbd>/etc/passwd</kbd>, <kbd>/etc/hosts</kbd>
and so on, so that <kbd>/usr/bin/ftp</kbd> would work.  By sheer
luck, I had a <kbd>gnuemacs</kbd> still running in one of my windows,
which we could use to create <kbd>passwd</kbd>, etc., but the first
step was to create a directory to put them in.  Of course
<kbd>/bin/mkdir</kbd> had gone, and so had <kbd>/bin/mv</kbd>, so we
couldn't rename <kbd>/tmp</kbd> to <kbd>/etc</kbd>.  However, this
looked like a reasonable line of attack.</p><p>


By now we had been joined by Alasdair, our resident UNIX guru, and as
luck would have it, someone who knows VAX assembler.  So our plan
became this: write a program in assembler which would either rename
<kbd>/tmp</kbd> to <kbd>/etc</kbd>, or make <kbd>/etc</kbd>, assemble
it on another VAX, <kbd>uuencode</kbd> it, type in the uuencoded file
using my gnu, <kbd>uudecode</kbd> it (some bright spark had thought
to put <kbd>uudecode</kbd> in <kbd>/usr/bin</kbd>), run it, and hey
presto, it would all be plain sailing from there.  By yet another
miracle of good fortune, the terminal from which the damage had been
done was still <kbd>su</kbd>'d to root (<kbd>su</kbd> is in
<kbd>/bin</kbd>, remember?), so at least we stood a chance of all
this working.</p><p>


Off we set on our merry way, and within only an hour we had managed
to concoct the dozen or so lines of assembler to create
<kbd>/etc</kbd>.  The stripped binary was only 76 bytes long, so we
converted it to hex (slightly more readable than the output of
<kbd>uuencode</kbd>), and typed it in using my editor.  If any of you
ever have the same problem, here's the hex for future reference:</p><blockquote>
   <kbd>070100002c000000000000000000000000000000000000000000000000000000<br>
        0000dd8fff010000dd8f27000000fb02ef07000000fb01ef070000000000bc8f<br>
		8800040000bc012f65746300</kbd>
</blockquote>

<p>

I had a handy program around (doesn't everybody?) for converting
ASCII hex to binary, and the output of <kbd>/usr/bin/sum</kbd>
tallied with our original binary.  But hang on---how do you set
execute permission without <kbd>/bin/chmod</kbd>?  A few seconds
thought (which as usual, lasted a couple of minutes) suggested that
we write the binary on top of an already existing binary, owned by
me...problem solved.

So along we trotted to the terminal with the root login, carefully
remembered to set the umask to 0 (so that I could create files in it
using my gnu), and ran the binary.  So now we had a <kbd>/etc</kbd>,
writable by all.  From there it was but a few easy steps to creating
<kbd>passwd</kbd>, <kbd>hosts</kbd>, <kbd>services</kbd>,
<kbd>protocols</kbd>, (etc), and then <kbd>ftp</kbd> was willing to
play ball.  Then we recovered the contents of <kbd>/bin</kbd> across
the ether (it's amazing how much you come to miss <kbd>ls</kbd> after
just a few, short hours), and selected files from <kbd>/etc</kbd>.
The key file was <kbd>/etc/rrestore</kbd>, with which we recovered
<kbd>/dev</kbd> from the dump tape, and the rest is history.</p><p>


Now, you're asking yourself (as I am), what's the moral of this
story?  Well, for one thing, you must always remember the immortal
words, <strong>DON'T PANIC</strong>.  Our initial reaction was to
reboot the machine and try everything as single user, but it's
unlikely it would have come up without <kbd>/etc/init</kbd> and
<kbd>/bin/sh</kbd>.  Rational thought saved us from this one.</p><p>


The next thing to remember is that UNIX tools really can be put to
unusual purposes.  Even without my <kbd>gnuemacs</kbd>, we could have
survived by using, say, <kbd>/usr/bin/grep</kbd> as a substitute for
<kbd>/bin/cat</kbd>.</p><p>


And the final thing is, it's amazing how much of the system you can
delete without it falling apart completely.  Apart from the fact that
nobody could login (<kbd>/bin/login</kbd>?), and most of the useful
commands had gone, everything else seemed normal.  Of course, some
things can't stand life without say <kbd>/etc/termcap</kbd>, or
<kbd>/dev/kmem</kbd>, or <kbd>/etc/utmp</kbd>, but by and large it
all hangs together.</p><p>


I shall leave you with this question: if you were placed in the same
situation, and had the presence of mind that always comes with
hindsight, could you have got out of it in a simpler or easier way?
Answers on a postage stamp to:</p><pre>Mario Wolczko
------------------------------------------------------------------------
Dept. of Computer Science       ARPA:   miw%uk.ac.man.cs.ux@cs.ucl.ac.uk
The University                  USENET: mcvax!ukc!man.cs.ux!miw
Manchester M13 9PL              JANET:  miw@uk.ac.man.cs.ux
U.K.                            061-273 7121 x 5699
------------------------------------------------------------------------
</pre>

<hr>

<address><a href="https://www.ee.ryerson.ca/~elf/hack/index.html">Hacker's Wisdom</a>: Unix Recovery
Legend</address>

<!-- hhmts start -->
Last modified: Thu Mar  7 13:47:40 EST 1996
<!-- hhmts end --></div>]]>
            </description>
            <link>https://www.ee.ryerson.ca/~elf/hack/recovery.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491790</guid>
            <pubDate>Mon, 21 Dec 2020 03:11:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What Makes CSS Hard to Master]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25491789">thread link</a>) | @gmays
<br/>
December 20, 2020 | https://timseverien.com/posts/2020-12-06-what-makes-css-hard-to-master/ | <a href="https://web.archive.org/web/*/https://timseverien.com/posts/2020-12-06-what-makes-css-hard-to-master/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Last week, <a href="https://twitter.com/EmmaBostian/status/1334435314673348609">Emma Bostian tweeted about how she was sick of ‚Äú[CSS]‚Äôs shit.‚Äù</a> <a href="https://twitter.com/EmmaBostian/status/1334863522749145096">She later apologised</a>, but her wording suggests she still thinks it isn‚Äôt lack of knowledge. It‚Äôs fairly common for software engineers to complain about CSS. Interestingly enough, that portion of the web development community also thinks CSS is easy.</p>
<p>In contrast, <a href="https://twitter.com/meyerweb/status/1334862797822373889">Eric Meyer</a>, <a href="https://twitter.com/SaraSoueidan/status/1334796914831855617">Sara Soueidan</a>, <a href="https://twitter.com/brucel/status/1334818455275626499">Bruce Lawson</a>, and more (principal) web developers seem to agree that CSS is hard to master. It‚Äôs interesting how experts say CSS is hard, while a group of people who specialise in other technology say otherwise.</p>
<p>I feel we, the community, have to acknowledge that CSS is easy to get started with and hard to master. Let‚Äôs reflect on the language and find out what makes it hard.</p>
<h2 id="syntax-and-common-properties"><a href="#syntax-and-common-properties">#</a> Syntax And Common Properties</h2>
<p>Back in 2013, Hugo ‚ÄúKitty‚Äù Giraudel published <a href="https://hugogiraudel.com/2013/04/15/css-is-easy/">CSS is Easy</a>, in which they also write about how CSS is perceived as easy. In the article, Kitty makes an excellent point: ‚ÄúCSS is easy‚Ä¶ syntactically.‚Äù I wholeheartedly agree. Consider the following example:</p>
<pre><code><span>body</span> {
  <span>background-color</span>: black;
  <span>color</span>: white;
}

<span>@media</span> (<span>min-width:</span> <span>64em</span>) {
  <span>body</span> {
    <span>background-color</span>: white;
    <span>color</span>: black;
  }
}
</code></pre>
<p>In this snippet, you can see much of the syntax used in CSS. There are selectors, declarations, I even added an at-rule (<code>@media</code>). The properties and values in this example are straight-forward; they just work. The at-rule, although syntactically simple, adds some cognitive load to understanding this snippet. It creates a relationship between what‚Äôs inside and outside the at-rule. In other words, to determine what colour the <code>body</code> is, we have to parse the entire file mentally.</p>
<p>This snippet isn‚Äôt too complex, but as we get more code the number of relationships (like the at-rule) do too.</p>
<h2 id="a-web-of-relationships"><a href="#a-web-of-relationships">#</a> A Web Of Relationships</h2>
<p>Syntax and basic properties are pretty easy, indeed. However, the learning curve of CSS quickly gets steeper when you start dealing with various relationships. Let‚Äôs look at some.</p>
<h3 id="property-sets"><a href="#property-sets">#</a> Property Sets</h3>
<p>Many properties are part of a set, meaning you may need several others to make one work. For instance, the <code>left</code>, <code>right</code>, <code>top</code>, <code>bottom</code>, and the <code>z-index</code> properties are ignored until you add the <code>position</code> property and set it to anything but <code>static</code>. That means that you have to learn a couple of properties of a set and how they relate to each other before being able to use one. If you‚Äôre unaware which properties rely on others, it can be extremely frustrating because it may appear that a declaration just doesn‚Äôt work.</p>
<p>Additionally, it‚Äôs not always obvious which pieces of the set are declared. Consider the following example:</p>
<pre><code><span>.snackbar</span> {
  <span>position</span>: fixed;
  <span>bottom</span>: <span>1rem</span>;
  <span>left</span>: <span>1rem</span>;
  <span>right</span>: <span>1rem</span>;
}

<span>@media</span> (<span>min-width:</span> <span>64em</span>) {
  <span>.snackbar</span> {
    <span>bottom</span>: <span>2rem</span>;
    <span>left</span>: <span>2rem</span>;
    <span>right</span>: <span>2rem</span>;
  }
}
</code></pre>
<p>If we look at the first rule, we can easily tell how an element with the <code>snackbar</code> class would be positioned on our page. If we look at the second rule, the one in the <code>@media</code> at-rule, we‚Äôre not so sure. We‚Äôd have to look up the <code>.snackbar</code> rule outside the at-rule. This example is fairly obvious, but it can get pretty obscure. The <code>position: fixed</code> declaration could be set elsewhere, on another selector, or inline.</p>
<h3 id="the-dom"><a href="#the-dom">#</a> The <abbr title="Document Object Model">DOM</abbr></h3>
<p>We can‚Äôt determine which styles are applied just by looking at your CSS. The HTML, or rather the DOM, also affects them. We have to consider the tag name of the element, its attributes, its siblings, its parents all the way up to the root node, and all relevant styles. If you render HTML server- or client-side, all of this may be dynamic and influenced by the application state.</p>
<p>The adjacent sibling combinator (<code>+</code>) is a simple example of how HTML influences CSS. The following style is only applied when a <code>li</code> is followed by another:</p>
<pre><code><span>li</span> + <span>li</span> { <span>margin-top</span>: <span>1rem</span>; }
</code></pre>
<p>This example is quite expressive but doesn‚Äôt have to be. Another example that took me a while to get as a beginner was using <code>position: absolute</code> on an element with a parent with <code>position: relative</code>. The element with <code>position: absolute</code> is positioned relative to the viewport or relative to an ancestor element with <code>position: relative</code>. In order to place this <code>absolute</code> element correctly in the interface, we have to know whether the element sits in a container with <code>position: relative</code>. Again, we‚Äôd have to look at the DOM, and at all it‚Äôs states, to be sure this is the case.</p>
<p>A similar, perhaps more familiar, example is the <code>flex</code> property. It only works if the element is a direct child of an element with the <code>display: flex</code> declaration.</p>
<p>When we write CSS, we always have to consider the DOM.</p>
<h3 id="cascade"><a href="#cascade">#</a> Cascade</h3>
<p>Let‚Äôs say I want text and links in the <code>&lt;nav&gt;</code> element to be red. We might write the following CSS:</p>
<pre><code><span>nav</span> { <span>color</span>: red; }
<span>nav</span> <span>a</span> { <span>color</span>: inherit; }
</code></pre>
<p>These two simple declarations imply various relationships. The link colour is now dependent on the colour of the text. Because of that, we can set the text colour of the <code>&lt;nav&gt;</code> element and the link will inherit this colour. If we remove either of these two declarations, the link colour won‚Äôt be red anymore.</p>
<p>The flexibility cascade gives has its benefits, but it‚Äôs not hard to imagine that it can get difficult to track the relationships between all styles. It‚Äôs no surprise that many opt to use cascade as little as possible.</p>
<h2 id="compatibility"><a href="#compatibility">#</a> Compatibility</h2>
<p>Designing an interface with CSS that doesn‚Äôt break is no easy task. There are numerous devices, browsers, resolutions, and users we have to take into account. We can also account for device settings, like dark mode using <code>prefers-color-scheme: dark/light</code>. On top of that, there are often various conditions in the interface that affect the styling as well.</p>
<p>Every combination of all these states and overrides have to be taken into account to produce the right output style. Again, this is no easy feat. It often involves a lot of tools and testing during and after development.</p>
<h2 id="maintainability"><a href="#maintainability">#</a> Maintainability</h2>
<p>Like all other code, CSS should be clean, readable, and maintainable. We can group styles into various files, or prefix selectors, but all rules live globally. This is a challenge, but also greatly contributes to keeping the code <abbr title="Don‚Äôt Repeat Yourself">DRY</abbr>.</p>
<p>I earlier explained various types of relationships in CSS. They play a part in maintainability as well. Some of the methodologies used in CSS ‚Äî like atomic design, <abbr title="Block Element Modifier">BEM</abbr>, <abbr title="Inverted Triangle CSS">ITCSS</abbr>, and others ‚Äî help to keep the coupling in check. They‚Äôre similar to paradigms and best practises in programming, and also steepen the learning curve and requires additional knowledge.</p>
<p>Then there are also preprocessors. We have a lot of them (e.g. PostCSS, Sass, LESS, and Stylus) at our disposal to do things we can‚Äôt do with vanilla CSS. This usually improves maintainability but does add another layer of complexity.</p>
<p>Finally, not unlike other languages, there often are various solutions to one problem. A common example is deciding between <code>display: inline-block</code>, the <code>float</code> property, flexbox, or grid to horizontally stack a list of items. Each has its pros and cons. When mentoring beginners, I found this is a challenge for them. It‚Äôs also difficult to convey the differences of these options ‚Äî that are often subtle ‚Äî and which is the most robust in a given situation.</p>
<p>All together, maintainability in CSS is a tradeoff. The code gets more complex syntactically and bound by self-imposed rules, but (hopefully) reduces the effort it takes to understand and modify the code.</p>
<h2 id="concluding"><a href="#concluding">#</a> Concluding</h2>
<p>CSS may seem simple at first, but the learning curve isn‚Äôt linear; mastering it is hard. By no means is the language perfect, but it‚Äôs amazingly efficient at what it‚Äôs designed to do. Despite its simple syntax, there‚Äôs little it can‚Äôt do.</p>
<p>I think mastering CSS comes down to having a good amount of knowledge about it, recognising the subtle dependencies between different declarations, rules, and the DOM, understanding how they make your CSS complex, and how to best avoid them. Reaching that point is naturally frustrating because you will run into code that is a tangled mess where the tiniest edit might change the interface in unexpected ways.</p>
<p>I worry that the way we think about CSS might affect how beginners perceive the language. If they are taught that CSS is easy, they might be discouraged from seeking help when they struggle or just blame the language. Admitting you struggle with something is difficult enough. Let‚Äôs not make it worse for them.</p>
<p>I feel it‚Äôs better if we acknowledge the complexity of writing CSS. We might also stop looking down on CSS specialists. Today, they‚Äôre often considered half a developer, whilst (JavaScript) software engineers (or UI engineers, or whatever they‚Äôre called nowadays) that know little about the complexities of CSS are considered full-fledged front-end developers. We see this on social media, in job openings, and in pay.</p>
<p>Thanks to Danielle, Hidde, Sven, and Thijs for reviewing this post.</p>
</div></div>]]>
            </description>
            <link>https://timseverien.com/posts/2020-12-06-what-makes-css-hard-to-master/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491789</guid>
            <pubDate>Mon, 21 Dec 2020 03:11:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Russian Covid vaccine scientist dead w stab wounds after falling from 14th floor]]>
            </title>
            <description>
<![CDATA[
Score 32 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25491576">thread link</a>) | @bookofjoe
<br/>
December 20, 2020 | https://www.thesun.ie/news/6309990/russian-scientist-covid-vaccine-dead-stab-wounds/ | <a href="https://web.archive.org/web/*/https://www.thesun.ie/news/6309990/russian-scientist-covid-vaccine-dead-stab-wounds/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.thesun.ie/news/6309990/russian-scientist-covid-vaccine-dead-stab-wounds/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491576</guid>
            <pubDate>Mon, 21 Dec 2020 02:30:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cakelisp: A Programming Language for Games]]>
            </title>
            <description>
<![CDATA[
Score 174 | Comments 62 (<a href="https://news.ycombinator.com/item?id=25491568">thread link</a>) | @makuto
<br/>
December 20, 2020 | https://macoy.me/blog/programming/CakelispIntro | <a href="https://web.archive.org/web/*/https://macoy.me/blog/programming/CakelispIntro">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
<p><em>Update:</em> See the <a href="https://news.ycombinator.com/item?id=25491568">Hacker News thread</a>, <a href="https://www.reddit.com/r/programming/comments/kh6ox0/cakelisp_a_programming_language_for_games/">/r/programming</a>, <a href="https://www.reddit.com/r/ProgrammingLanguages/comments/kh6gh2/cakelisp_a_programming_language_for_games/">/r/ProgrammingLanguages</a>, and <a href="https://www.reddit.com/r/gamedev/comments/kh1p0a/cakelisp_a_programming_language_for_games/">/r/gamedev</a> posts for discussions on this article and Cakelisp.</p>
<p>I have been working on a new programming language since the end of August 2020. It is hosted on <a href="https://github.com/makuto/cakelisp/">Github</a>, and mirrored on <a href="https://macoy.me/code/macoy/cakelisp/">my site</a>.</p>
<p>If you want to see a working example first, <a href="https://macoy.me/code/macoy/gamelib/src/branch/master/test/src/VocalGame.cake">VocalGame.cake</a> is a simple audio looper with Ogre 3D graphics and SDL for windowing, input, and audio. This demo supports code hot-reloading and doesn't require an external build system, only Cakelisp. You can also check <a href="https://macoy.me/code/macoy/cakelisp/src/branch/master/runtime/Macros.cake">Macros.cake</a>, which demonstrates some use-cases for compile-time code.</p>
<p>I figured showing non-trivial examples would be much more interesting. It also proves that Cakelisp is working.</p>

<p>Cakelisp is built for me first, but it should appeal to fellow programmers who know what they're doing and want to try a more powerful language.</p>
<p>Cakelisp might be for you if you want‚Ä¶</p>
<ul>
<li><strong>Uncompromised performance</strong></li>
<li><strong>Trust in you, the programmer</strong></li>
<li><strong>Powerful code generation</strong></li>
</ul>
<p>If any of the things in that list don't make sense to you, or you think you're already getting them in language <em>X</em>, then Cakelisp isn't for you, and that's okay! We have different domains and different problems, so it makes some sense to use different languages and methodologies.</p>
<p>While many languages have these features, few have the combination of all three. Lisp has extremely powerful code generation, but makes serious performance compromises. C is great for performance but can require extremely repetitive code writing to accomplish tasks a simple code generator could handle. Rust is fast (well, apart from compilation, which is very important for iterative development to be productive), but doesn't trust the programmer.</p>

<p>My goal is to "have my cake and eat it too", meaning all three of these features in one coherent package. Importantly, there isn't one dominating principle in Cakelisp (no <a href="https://www.youtube.com/watch?v=TH9VCN6UkyQ">Big Idea</a>). I've found that the small things like removing the need for header files, no longer dealing with external build systems, or being able to run Cakelisp files like scripts, end up making a big difference when combined in one package.</p>
<p>It is useful to go over the goals in detail so you can understand my decisions.</p>
<h2 id="uncompromised-performance">Uncompromised performance</h2>
<p>This means no garbage collection, no type boxing/unboxing, etc. Fewer abstractions (besides the ones you create) between you and what the computer is actually doing. Idiomatic usage of the language should result in performance comparable with C (in most cases, it should be identical, because it's only a thin layer on C).</p>
<h2 id="trust-in-you-the-programmer">Trust in you, the programmer</h2>
<p>While languages like Rust offer benefits in terms of security and stability, they cost programmers in terms of productivity. It makes sense to value safety so highly if your code is safety-critical (operating systems, aerospace, automotive, etc.), but it's much less valuable when safety isn't as important (e.g. in games).</p>
<p>In a perfect world all programs would be as robust as space flight software, but in reality, that level of robustness is unnecessary for most programs. It's important to realize that the safety focus is just one way of doing things, not the <em>One True Way</em> or anything.</p>
<h2 id="powerful-code-generation">Powerful code generation</h2>
<p>In my opinion, most languages offer far too little opportunity for the programmer to automate the actual writing of code. This power also relates to trusting in the programmer, because gone wild, the code can become incomprehensible.</p>
<p>The company I work for has what I consider to be a state-of-the-art code generator built for the company's use-case: multi-platform MMOs. It's used very effectively on serialization, RPC, automatic commands, monitoring, automatic documentation, and more.</p>
<p>To give more credence to the use of code generation in games, <a href="https://docs.unrealengine.com/en-US/ProgrammingAndScripting/GameplayArchitecture/index.html">Unreal</a> and <a href="https://www.youtube.com/watch?v=wiJqUWfR90I">Naughty Dog</a> also rely on code generation.</p>
<h2 id="simplify-project-setup-and-management">Simplify project setup and management</h2>
<p>I want to dramatically reduce time wasted on C++ project set-up and "code logistics". This includes setting up build systems, creating header files, adding and managing new C/C++ 3rd party libraries, and other things of that ilk.</p>
<h2 id="gain-more-power">Gain more power!</h2>
<p>Every language has limitations. The lack of straightforward, all-powerful code generation was my primary gripe with C++.</p>
<p>For example, automatically creating function and structure bindings using C++ template metaprogramming is very complex. These are two very useful tools in game development: function bindings for commands, scripting languages, and RPC; structure bindings for serialization or game monitors.</p>
<p>I also wanted features like hot-reloading (being able to load new versions of the code without restarting the program/losing runtime state). Cakelisp made it possible to implement hot-reloading entirely in "user-space", thanks to code modification.</p>
<h2 id="have-my-cake-and-eat-it-too.">"Have my cake and eat it too."</h2>
<p>By this I mean lose little-to-nothing on metrics I care about, which include build time, runtime performance, overall complexity, and various other things. I looked into several languages in my <a href="https://macoy.me/code/macoy/LanguageTests">LanguageTests</a> experiment and found they all had major drawbacks I couldn't accept.</p>
<h2 id="unexpected-freedom">Unexpected freedom</h2>
<p>I did not realize when I started Cakelisp how freeing it felt. All of the sudden, I got to decide what made sense to <em>me</em>, not what made sense to previous language designers.</p>
<h3 id="freedom-in-syntax">Freedom in syntax</h3>
<p>A simple example is type declarations. In C:</p>

<p>The same variable, in Cakelisp:</p>

<p>In my opinion C type declarations are much harder to parse than my explicit type declarations. You need to work backwards from the name to properly interpret the type. The parentheses do add more typing, but they're more clear, machine-parseable, and can be read naturally (e.g. read left to right "pointer to constant character" vs. C's "constant character pointer", which seems worse in my mind).</p>
<p>My form also handles arrays as part of the type: <code>(var my-array ([] 5 int))</code> rather than <code>int myArray[5];</code>, another way it is more consistent, readable, and parsable.</p>
<p>I chose to swap the order of name and type because it places more emphasis on the name. A well-written program will convey more useful information in the name than in the type, so it makes sense to me to have it come first for the reader.</p>
<h3 id="freedom-in-process">Freedom in process</h3>
<p>I also found that having an executable which preprocesses my code exactly how I want it opens the door to a huge amount of awesome features:</p>
<ul>
<li>Compile-time code execution. "Macros" and "Generators" are defined in-line with the rest of your code, making them feel like a natural part of your code. Defining them in-line makes it acceptable to add one-off macros, whereas adding such a thing to an external code generator would quickly become unmaintainable</li>
<li>Build optimization. A recent idea I discovered is automatically creating precompiled headers for large batches of 3rd-party headers. This would be a complex task that would need to be integrated in whatever build system you use, whereas Cakelisp can have it built-in</li>
<li>Other data processing. Compile-time code execution means you can do things like prepare assets, download 3rd-party code, run tests, etc. without having to set up all these additional tools</li>
</ul>

<p>I was inspired by Naughty Dog's use of <a href="https://en.wikipedia.org/wiki/Game_Oriented_Assembly_Lisp">Game Oriented Assembly Lisp</a>, GOOL, and <a href="https://www.youtube.com/watch?v=oSmqbnhHp1c">Racket/Scheme</a> (on their modern titles). I've also taken several ideas from Jonathan Blow's <a href="https://www.youtube.com/user/jblow888">talks on Jai</a>.</p>
<p>I'm a software engineer in the game industry. I've been working since July 2015 at a studio that makes cross-platform MMOs. The company has a custom engine written in C (with some C++).</p>
<p>I <a href="https://macoy.me/code/macoy/LanguageTests">experimented</a> with other languages before deciding I needed to write my own.</p>

<p>Now that my goals are clear, I will show you how I approached achieving them.</p>
<h2 id="notation">Notation</h2>
<p>Cakelisp uses an <a href="https://en.wikipedia.org/wiki/S-expression">S-expression</a>-style notation. Here is some Cakelisp code from <a href="https://macoy.me/code/macoy/gamelib/src/branch/master/test/src/VocalGame.cake">VocalGame</a>:</p>

<p>There are a few things you can notice from reading this code:</p>
<ul>
<li>Types. Cakelisp is strongly- and explicitly-typed. I prefer reading code with explicit types because I can better imagine what the computer is actually doing, and what possibilities I have with each variable</li>
<li>Name-type order. I talked about this in a previous section. I wanted to emphasize the name of a variable for conveying meaning, especially when you may have many variables of the same type</li>
<li>Explicit <code>return</code>. I find I prefer code where return points are made explicit. Lisp will implicitly return the result of the last evaluation</li>
<li>Lisp-y style. The parentheses, plus keywords like <code>unless</code>, <code>defun</code>, <code>var</code>, <code>at</code>, and <code>incr</code>. I matched Lisp only when I didn't have strong opinions for a better notation. I am not trying to create something which is compatible with existing Lisps</li>
<li>C types and function calls. Cakelisp has seamless C interop, which means Cakelisp's "standard library" <em>is</em> C's standard library. No bindings had to be written to use the C types or make the function calls</li>
</ul>
<p>You can read more Cakelisp code in <a href="https://macoy.me/code/macoy/gamelib/src/branch/master/src">Gamelib</a>.</p>
<p>You should think of Cakelisp more as "C in S-expressions" rather than "Lisp with C performance". If you know C, you'll have a relatively smooth transition to Cakelisp. If you only know Lisp, you're going to have a rougher time.</p>
<h3 id="why-s-expressions">Why S-expressions?</h3>
<p>When I set out to make Cakelisp, I decided on S-expressions syntax for several reasons:</p>
<ul>
<li>Parsability. S-expressions shift the burden of creating a syntax tree onto the programmer. This does result on more work for the human, but I value its extremely explicit nature. It also facilitates simpler tokenization, domain-specific-language implementation, and external tool support</li>
<li>Consistency. There are only four types of tokens in Cakelisp: open and close parenthesis, symbol, and string. The consistency is admittedly limiting, so things like paths (<code>myThing-&gt;member.member</code>) become much more verbose to type, unfortunately. However, this limitation keeps Cakelisp code parsable, and has an elegant feel that I appreciate</li>
</ul>
<p>I don't believe there is one notation to rule them all, especially after I've encountered the disadvantages of using S-exprs. I'm still happy with the decision though, and it does give Cakelisp a novel and distinguishing characteristic from the many ‚Ä¶</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://macoy.me/blog/programming/CakelispIntro">https://macoy.me/blog/programming/CakelispIntro</a></em></p>]]>
            </description>
            <link>https://macoy.me/blog/programming/CakelispIntro</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491568</guid>
            <pubDate>Mon, 21 Dec 2020 02:28:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Dive into Ray Tracing Performance on the Apple M1]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25491450">thread link</a>) | @Twinklebear
<br/>
December 20, 2020 | https://www.willusher.io/graphics/2020/12/20/rt-dive-m1 | <a href="https://web.archive.org/web/*/https://www.willusher.io/graphics/2020/12/20/rt-dive-m1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	<div>
		
<p>The Apple M1 available in the MacBook Air, MacBook Pro 13‚Äù, and Mac Mini has
been the focus of a ton of benchmarking writeups and blog posts about
the new chip. The performance overall, and especially performance/watt,
that Apple has achieved with the chip is very impressive.
As a ray tracing person, what caught my eye the most was the
performance AnandTech reported in their
<a href="https://www.anandtech.com/show/16252/mac-mini-apple-m1-tested/2">CineBench benchmarks</a>.
These scores were 1.6x higher than I got on my old Haswell desktop and 2x
higher than my new Tiger Lake laptop!
I had also been interested in trying out the new
<a href="https://developer.apple.com/videos/play/wwdc2020/10012/">ray tracing API for Metal</a>
that was announced at WWDC this year,
which bears some resemblance to the DirectX, Vulkan, and OptiX GPU ray tracing APIs.
So, I decided to pick up a Mac Mini to do some testing
on my own interactive path tracing project,
<a href="https://github.com/Twinklebear/ChameleonRT">ChameleonRT</a>,
and to get it running on the new Metal ray tracing API.
In this post, we‚Äôll take a look at the new Metal ray tracing
API to see how it lines up with DirectX, Vulkan, OptiX and Embree,
then we‚Äôll make some fair (and some extremely unfair) ray tracing
performance comparisons against the M1.</p>

<!--more-->



<p><a href="https://github.com/Twinklebear/ChameleonRT">ChameleonRT</a> is an open source
interactive path tracer that I‚Äôve been working on to learn the different ray tracing APIs,
and to provide an example or starting point for myself and others working with them
in other projects.
ChameleonRT provides backends for the GPU ray tracing APIs:
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/dxr">DirectX Ray Tracing</a>,
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/vulkan">Vulkan KHR Ray Tracing</a>,
and <a href="https://github.com/Twinklebear/ChameleonRT/tree/master/optix">OptiX 7</a>.
Through the work discussed in this post, it also has a new
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/metal">Metal</a> GPU backend.
ChameleonRT also has an <a href="https://github.com/Twinklebear/ChameleonRT/tree/master/embree">Embree backend</a>
for fast multi-threaded and SIMD accelerated ray tracing on CPUs through
<a href="https://www.embree.org/">Embree</a>, <a href="https://ispc.github.io/">ISPC</a>, and <a href="https://github.com/oneapi-src/oneTBB">TBB</a>.
The rendering code in each backend is nearly identical and they produce almost pixel exact outputs,
with some possible small differences due to subtle differences in the ray tracing
libraries or shader languages.</p>

<p>ChameleonRT is different from popular ray tracing benchmark applications like
<a href="https://www.maxon.net/en/cinebench">CineBench</a>, <a href="http://www.luxmark.info/">LuxMark</a>,
and <a href="https://opendata.blender.org/">Blender Benchmark</a>, in that ChameleonRT is
a minimal interactive path tracer. CineBench, LuxMark, and Blender Benchmark are excellent
for getting a full picture of what performance to expect from a production film
renderer, as they are production renderers. However, there‚Äôs a lot more going
on in a production renderer than just ray tracing to support the kind of complex
geometries, materials, and effects used in film; and the large code
bases can be challenging to quickly port to a new architecture or API.
ChameleonRT is the exact opposite, supporting just one geometry type,
triangle meshes, and one material type, the Disney BRDF.
The rest of the code is similarly written to achieve interactive path tracing performance,
though I have tried to balance this with how complex the code is to read.
For example, the renderers use iterative ray tracing instead of recursion,
support only a simple sampling strategy, and don‚Äôt support alpha cut-out effects.
The use of iterative ray tracing is valuable on both the CPU and GPU, but is
especially important on the GPU, as the
overhead of recursive ray tracing calls in the pipeline can have a significant performance impact.
Similarly, ignoring alpha cut-out effects allows the GPU renderers
to skip using an any hit shader (and the Embree on to skip needing an intersection
filter). The any hit shader (or intersection filter) would be called during
BVH traversal after a candidate intersection with a triangle is found.
In the case that the BVH traversal is hardware accelerated, this ends up
producing a lot amount of back and
forth between the fixed function traversal hardware and the shader cores to run the any hit
shader during traversal, limiting the hardware‚Äôs performance.</p>

<blockquote>
  <p>What‚Äôs a path tracer? Path tracing is a technique in computer graphics for
rendering photo-realistic images by simulating the light transport in
the scene. It is a Monte Carlo technique, meaning that it randomly samples
light paths emitted from lights in the scene that reach the camera
by bouncing off objects in the scene. This is done by tracing the paths in reverse,
starting from the camera and tracing the path back through the scene.
A large number of light paths need to be sampled to produce a noise-free
image. Path tracing is not restricted to photo-realism, and is the
core rendering algorithm used in major film renderers, such as: Pixar‚Äôs Renderman,
Disney‚Äôs Hyperion, Autodesk‚Äôs Arnold, and Weta‚Äôs Manuka.
See <a href="https://en.wikipedia.org/wiki/Path_tracing">Wikipedia</a> for more.</p>
</blockquote>



<p>The new ray tracing API in Metal will be familiar to those who‚Äôve used inline ray
tracing in DirectX or Vulkan. For a good introduction to Metal‚Äôs API, check out the <a href="https://developer.apple.com/videos/play/wwdc2020/10012/">Discover ray tracing
with Metal</a> video from WWDC 2020,
and the <a href="https://developer.apple.com/documentation/metal/accelerating_ray_tracing_using_metal?language=objc">accompanying sample</a>.
Inline ray tracing allows applications to make ray tracing calls in any shader stage,
e.g., fragment/pixel shaders, vertex shaders, compute shaders, etc.
Inline ray tracing allows ray tracing effects, for example accurate reflections and shadows,
to be integrated into the regular rasterization pipeline.
Inline ray tracing can also be used from a compute shader to implement a standalone
path tracing based renderer. ChameleonRT is a standalone path tracer, and takes
the compute shader approach for Metal.</p>

<p>At a high-level, ray tracing in Metal proceeds as follows: you upload your
geometry data, build bottom-level primitive acceleration structures over them, then create instances
referencing those acceleration structures and build a top-level acceleration structure over
the instances.
To render the scene you dispatch a compute shader and trace rays against the top-level
acceleration structure to get back intersection results. The intersection results provide
you with the intersected primitive and geometry IDs, and if using instancing, the instance ID.
Your shader can then look up the geometry data for the object that was hit and shade it,
after which it can continue tracing the path.</p>

<p>At this time Metal only supports inline ray tracing, in contrast to DirectX and Vulkan, which
also provide support for ray tracing pipelines. Ray tracing pipelines are used
to implement standalone ray tracing renderers, and is the approach ChameleonRT
uses in its DirectX and Vulkan backends.
OptiX only supports ray tracing pipelines.
Ray tracing pipelines require the creation of a Shader Binding Table to
provide the API with a table of functions to call when specific objects
in the scene are intersected. The SBT can be difficult to setup and debug,
and is a common point of difficulty for developers learning these APIs.
For more information about the SBT, check out my post
<a href="https://www.willusher.io/graphics/2019/11/20/the-sbt-three-ways">‚ÄúThe RTX Shader Binding Table Three Ways‚Äù</a>.
However, the potential benefit of the SBT is that the GPU can reorder or group function
calls to reduce thread divergence. With inline ray tracing, the developer
must do this themselves, or do without
(check out another video from <a href="https://developer.apple.com/videos/play/wwdc2020/10013/">WWDC20</a>
for information here).
Right now, ChameleonRT does not do any reordering to reduce divergence.</p>

<p>Those familiar with Metal may know of the previous
<a href="https://developer.apple.com/documentation/metalperformanceshaders/metal_for_accelerating_ray_tracing?language=objc">Metal Performance Shaders ray intersector</a>.
The new support for inline ray tracing improves on this by allowing the renderer
to move entirely to the GPU. The previous ray intersector worked by taking
batches of rays, finding intersections in the scene, and writing these results
back out to memory. Multiple compute shaders would need to be dispatched to
trace the primary rays and create shadow and secondary rays, then trace the shadow rays
and continue the secondary rays while filtering out paths that terminated.
This requires significantly more memory traffic and compute dispatches, introducing overhead
to the renderer. Such an approach is also not well suited to augmenting traditional
rasterization pipelines with ray tracing effects.
Approaches based on tracing and sorting rays and intersection information to extract
coherence are valuable for complex film renderers, and can be implemented efficiently using inline
ray tracing as well.
For example, <a href="https://www.yiningkarlli.com/projects/hyperiondesign.html">Disney‚Äôs Hyperion renderer</a>
uses sorting and batching extensively to
extract coherent workloads from an otherwise incoherent and divergent distribution of rays.
There‚Äôs also an excellent higher-level <a href="https://youtu.be/frLwRLS_ZR0">video</a> explaining how this
works.</p>

<p>The Metal ray tracing API is quite nice to work with.
It bears a lot of similarity to the other ray tracing APIs, but has been streamlined
to be easier to use.
For example, compare the code required to build and compact a BVH in
<a href="https://github.com/Twinklebear/ChameleonRT/blob/master/dxr/dxr_utils.cpp#L877-L977">DirectX</a>
or <a href="https://github.com/Twinklebear/ChameleonRT/blob/master/vulkan/vulkanrt_utils.cpp#L46-L214">Vulkan</a>
with <a href="https://github.com/Twinklebear/ChameleonRT/blob/master/metal/metalrt_utils.mm#L318-L396">Metal</a>.
OptiX‚Äôs API provides a similar simplification, here‚Äôs the
<a href="https://github.com/Twinklebear/ChameleonRT/blob/master/optix/optix_utils.cpp#L183-L244">BVH build in OptiX</a>
for reference.
It‚Äôs also nice to have templates and C++ style functionality in the shader language,
a feature Metal shares with OptiX, which uses CUDA for the device side code.</p>

<p>This simplicity also has some drawbacks. For example, while in DirectX, Vulkan, and OptiX
you have control over where the acceleration structure memory is allocated,
Metal makes this allocation for you. As a result, you cannot allocate the acceleration
structures on a <code>MTLHeap</code>, and so to make sure they‚Äôre available for your rendering
pipeline, you must individually mark them as used in a loop instead of a single <code>useHeap</code> call.</p>

<figure><pre><code data-lang="objc"><span></span><span>// Use our top level acceleration structure</span>
<span>[</span><span>command_encoder</span> <span>setAccelerationStructure</span><span>:</span><span>bvh</span><span>-&gt;</span><span>bvh</span> <span>atBufferIndex</span><span>:</span><span>1</span><span>];</span>
<span>// Also mark all mesh acceleration structures used, as they're indirectly</span>
<span>// referenced by the top level one</span>
<span>for</span> <span>(</span><span>auto</span> <span>&amp;</span><span>mesh</span> <span>:</span> <span>bvh</span><span>-&gt;</span><span>meshes</span><span>)</span> <span>{</span>
    <span>[</span><span>command_encoder</span> <span>useResource</span><span>:</span><span>mesh</span><span>-&gt;</span><span>bvh</span> <span>usage</span><span>:</span><span>MTLResourceUsageRead</span><span>];</span>
<span>}</span></code></pre></figure>

<p>This can add some overhead if you have a lot of bottom level BVHs, as can be the
case in scenes with many instances.
It‚Äôd be nice to be able to allocate the acceleration structures on a heap, and replace this loop
with a single <code>[command_encoder useHeap:data_heap-&gt;heap];</code></p>

<p>The API is also simplified significantly by not including ray tracing pipelines and
only requiring a Shader Binding Table-esque
structure when implementing custom geometries or other operations that need
to happen ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.willusher.io/graphics/2020/12/20/rt-dive-m1">https://www.willusher.io/graphics/2020/12/20/rt-dive-m1</a></em></p>]]>
            </description>
            <link>https://www.willusher.io/graphics/2020/12/20/rt-dive-m1</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491450</guid>
            <pubDate>Mon, 21 Dec 2020 02:07:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Chess Boom Moves Online]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25491402">thread link</a>) | @jonbaer
<br/>
December 20, 2020 | https://www.bloomberg.com./graphics/2020-chess-boom/ | <a href="https://web.archive.org/web/*/https://www.bloomberg.com./graphics/2020-chess-boom/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
        <section>
            <h3>Why did this happen?</h3>
            <p>Please make sure your browser supports JavaScript and cookies and that you are not blocking them from loading. For more information you can review our <a href="https://www.bloomberg.com./notices/tos">Terms of Service</a> and <a href="https://www.bloomberg.com./notices/tos">Cookie Policy</a>.</p>
        </section>
        <section>
            <h3>Need Help?</h3>
            <p>For inquiries related to this message please <a href="https://www.bloomberg.com./feedback">contact our support team</a> and provide the reference ID below.</p>
            <p>Block reference ID: </p>
        </section>
    </section></div>]]>
            </description>
            <link>https://www.bloomberg.com./graphics/2020-chess-boom/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491402</guid>
            <pubDate>Mon, 21 Dec 2020 01:57:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[PicoLisp Chess]]>
            </title>
            <description>
<![CDATA[
Score 65 | Comments 12 (<a href="https://news.ycombinator.com/item?id=25491356">thread link</a>) | @simonpure
<br/>
December 20, 2020 | https://software-lab.de/chess/README | <a href="https://web.archive.org/web/*/https://software-lab.de/chess/README">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>|<n>|<b>|<q>|<k>|<b>|<n>|<r>|
      +---+---+---+---+---+---+---+---+
    7 |<p>|</p><p>|</p><p>|</p><p>|</p><p>|</p><p>|</p><p>|</p><p>|
      +---+---+---+---+---+---+---+---+
    6 |   | - |   | - |   | - |   | - |
      +---+---+---+---+---+---+---+---+
    5 | - |   | - |   | - |   | - |   |
      +---+---+---+---+---+---+---+---+
    4 |   | - |   | - |   | - |   | - |
      +---+---+---+---+---+---+---+---+
    3 | - |   | - |   | - |   | - |   |
      +---+---+---+---+---+---+---+---+
    2 | P | P | P | P | P | P | P | P |
      +---+---+---+---+---+---+---+---+
    1 | R | N | B | Q | K | B | N | R |
      +---+---+---+---+---+---+---+---+
        a   b   c   d   e   f   g   h

For a local installation, supply instead of "pil" the actual path like "./pil"
or "../pil21/pil".

The pieces are indicated by the letters 'K'ing, 'Q'ueen, 'R'ook, 'B'ishop,
k'N'ight and 'P'awn, with black pieces in angular brackets.

You can enter your moves with the field names (in lower case) for the "from" and
"to" positions:

: (go e2 e4)

Castling may be entered by just specifying the king's move:

: (go e1 g1)

To promote a pawn to some piece other than a queen, you can specify a class:

: (go h7 h8 +Knight)

To undo one or several moves, enter

: (go -)

and to redo them

: (go +)

To switch sides (and have the computer play against itself), call 'go' without
arguments:

: (go)

The initial board position can be restored with

: (main)

The global variable '*Depth' holds the maximal depth of the alpha-beta tree
search. It defaults to 5. You may change it to some smaller value for a faster
response, or to a larger value for a deeper search:

: (setq *Depth 7)

The same effect can be achieved by passing the desired depth as the first
argument to 'main':

: (main 7)

The second (optional) argument to 'main' is your color ('NIL' for white and 'T'
for black).

To setup some given board position, call 'main' with a list of triples, with
each describing:

   1. The field
   2. The piece's classes
   3. An optional flag to indicate that the piece did not move yet

: (main 5 NIL
   (quote
      (a2 (+White +Pawn) T)
      (b1 (+White +King))
      (d4 (+Black +King)) ) )
   +---+---+---+---+---+---+---+---+
 8 |   | - |   | - |   | - |   | - |
   +---+---+---+---+---+---+---+---+
 7 | - |   | - |   | - |   | - |   |
   +---+---+---+---+---+---+---+---+
 6 |   | - |   | - |   | - |   | - |
   +---+---+---+---+---+---+---+---+
 5 | - |   | - |   | - |   | - |   |
   +---+---+---+---+---+---+---+---+
 4 |   | - |   |<k>|   | - |   | - |
   +---+---+---+---+---+---+---+---+
 3 | - |   | - |   | - |   | - |   |
   +---+---+---+---+---+---+---+---+
 2 | P | - |   | - |   | - |   | - |
   +---+---+---+---+---+---+---+---+
 1 | - | K | - |   | - |   | - |   |
   +---+---+---+---+---+---+---+---+
     a   b   c   d   e   f   g   h

At any time, you can print the current board position in the above format to a
file with

: (ppos "file")

which later can be restored with

: (load "file")


   === PilBox and Web App ===

If you have the PilBox App installed on your Android device, just type "chess"
in the settings and press the "Download" button.

To start the Web application, use

   $ pil chess/main.l -chess~main -go +

Alternatively, you can start it with German localization as

   $ pil chess/main.l -'chess~main "DE" "de"' -go +

then point your browser to http://localhost:8080

In both cases you can interact with the chess board in this way:

   √¢‚Ç¨‚Äù To enter a move, drag a piece to the new field.
   √¢‚Ç¨‚Äù A click on the board does an auto-move and then switches sides.
   √¢‚Ç¨‚Äù The search depth can be changed with a drop-down menu.
   √¢‚Ç¨‚Äù The "New" button starts a new game, and the "Undo" and "Redo" buttons
     navigate in the history.
   √¢‚Ç¨‚Äù The text "White" or "Black" indicate who is to move next. It changes to
     "White ..." or "Black ..." while the computer is thinking.
   √¢‚Ç¨‚Äù After a move, the moved piece and the old and new positions are indicated
     above that text.

The "Setup" button switches to edit mode and allows you to change the position
manually:

   √¢‚Ç¨‚Äù A click on a piece removes it from the board.
   √¢‚Ç¨‚Äù Dragging a piece moves it to another field.
   √¢‚Ç¨‚Äù A new piece can be placed on the board by dragging it from the setup area.
   √¢‚Ç¨‚Äù The "Clear" button removes all pieces from the board.
   √¢‚Ç¨‚Äù The "New" button sets up all pieces for a new game.
   √¢‚Ç¨‚Äù The "Game" button switches back to play mode.

As in any PilBox app, you can go to the settings (wheel icon on top right) and

   √¢‚Ç¨‚Äù switch to another language in the "Language" tab or
   √¢‚Ç¨‚Äù view the App's source code by clicking on the app name "chess" in the
     "PILs" tab.


   === Credits and Copying ===

The pieces and board colors are from https://chessboardjs.com

The icon is from
   https://commons.m.wikimedia.org/wiki/File:Chess logo.PNG

(MIT/X11 License)
</k></p></r></n></b></k></q></b></n></div></div>]]>
            </description>
            <link>https://software-lab.de/chess/README</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491356</guid>
            <pubDate>Mon, 21 Dec 2020 01:51:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cyberpunk Apology Generator]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25491304">thread link</a>) | @rossmohax
<br/>
December 20, 2020 | https://foone.github.io/Cyberpunk2077Apology/ | <a href="https://web.archive.org/web/*/https://foone.github.io/Cyberpunk2077Apology/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		<div>
			<div>
				<div>

						<!-- copyright footnote -->
								<p><a href="https://github.com/foone/Cyberpunk2077Apology">Code</a> by <a href="https://twitter.com/Foone">@Foone</a><span id="extra-contrib"></span>, content by <a href="#">somebody</a><span id="content-contrib"></span>. 
								<a id="playlink" href=""><span id="how-to-use"><!-- this gets replaced by scripts.js based on the generator, but the default option is "Play this game" --></span> on 
								<span id="where-to-use"><!-- This gets replaced by scripts.js based on the generator, and the default is "the Internet Archive" --></span>!</a></p><div id="main-container">
							<div>
								

								<!-- Screenshot/Canvas -->
								<canvas id="death">No canvas!</canvas>
								<canvas id="border">No canvas!</canvas>

								<!-- Customization -->
								<p>
									
									<a href="#" id="save"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgAQMAAADYVuV7AAAABlBMVEX///8AAABVwtN+AAAAAWJLR0QAiAUdSAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB+IBBRQ0G7eG+BwAAACiSURBVDjLzdIxCsMwDAVQgQePOkIuIvDRmqP5Br2CS4eM8ZhBxHUUt8gE09KQtNoefGRbFgAkKQapFbNGqtBreAHbAGBTEEyCMSoM0wvdcGeF26wQksZFw2l0ZwDsB1hGsAfrYP8G7Ysa+ey3DarY7mcfN7ey606vcvoaPymMLRC1gDlIVMIVjM9JKuEKEJGJHG+xRHIL2AIjXo1/nqNxfj0AmAoaBZSWo6oAAAAASUVORK5CYII=" width="96" height="96" alt="Save image"></a>
								</p>
								<p><label>Automatic wordwrapping</label></p>
								
							</div>
							
						</div>
				</div>
			</div>
		</div>

	</div></div>]]>
            </description>
            <link>https://foone.github.io/Cyberpunk2077Apology/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25491304</guid>
            <pubDate>Mon, 21 Dec 2020 01:40:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[First release of quantum operating system, Deltaflow]]>
            </title>
            <description>
<![CDATA[
Score 38 | Comments 42 (<a href="https://news.ycombinator.com/item?id=25490816">thread link</a>) | @kristianpaul
<br/>
December 20, 2020 | https://www.riverlane.com/news/2020/12/riverlane-release-first-version-of-quantum-operating-system-deltaflow-os/ | <a href="https://web.archive.org/web/*/https://www.riverlane.com/news/2020/12/riverlane-release-first-version-of-quantum-operating-system-deltaflow-os/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
            <div>
                <article>
                    

                    <div>
                        
                        <div>
                            <p>In May 2020, Riverlane revealed that they will lead a consortium which has been <a href="https://www.riverlane.com/news/2020/05/uk-companies-to-build-radically-new-operating-system-for-quantum-computers/">awarded a ¬£7.6m grant to build a radically new operating system</a> for quantum computers. We marked a ‚Äòhello world‚Äô moment in September, with the first <a href="https://www.riverlane.com/news/2020/09/commercial-breakthrough-following-success-of-deltaflow-os-trials/">successful trials of Deltaflow.OS</a>, using quantum hardware belonging to leading trapped-ion company, <a href="https://www.oxionics.com/">Oxford Ionics</a>.</p>
<p>The latest milestone is the public release of the first version of Deltaflow.OS; ‚ÄòDeltaflow-on-ARTIQ‚Äô. The product has been built to enable quantum hardware companies as well as algorithm and app developers to accelerate their research by making collaboration easier and reduce down-time in labs. This version uses simulated hardware and <a href="http://m-labs.hk/experiment-control/artiq/">ARTIQ</a> as a backend. ARTIQ is a control system which is widely used in the trapped-ion community.</p>
<p>Deltaflow-on-ARTIQ consists of the Deltaflow language (Deltalanguage), and various hardware models on which the language can be run, including an emulator of the ARTIQ control system. The Deltalanguage lets users define a graph of different hardware nodes corresponding to the type of hardware elements found in labs. After defining a programme, users can test it on increasingly realistic hardware models.</p>
<p>Robert J√∂rdens of M-Labs commented, ‚ÄúMy hands are twitching because I really want to see and try that&nbsp;emulator and Deltaflow. There are so many valuable pieces in there.‚Äù</p>
<p>A first <a href="https://vimeo.com/480247763/d8fd4a0708">public demonstration of Deltaflow.OS</a> took place at the virtual National Quantum Technologies Showcase on 6 November 2020, where the team demonstrated how a Rabi-Oscillation would be performed.</p>
<p>The release of Deltaflow-on-ARTIQ marks a significant step towards Riverlane‚Äôs mission to build a quantum operating system that is high performance, portable across all qubit technologies and scalable to millions of qubits.</p>
<p>Access <a href="https://www.riverlane.com/products/">Deltaflow-on-ARTIQ</a></p>





                        </div>
                    </div>

                </article>
            </div>
        </section></div>]]>
            </description>
            <link>https://www.riverlane.com/news/2020/12/riverlane-release-first-version-of-quantum-operating-system-deltaflow-os/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25490816</guid>
            <pubDate>Mon, 21 Dec 2020 00:06:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Improving Linux Startup Time]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25490751">thread link</a>) | @EstIgnavus
<br/>
December 20, 2020 | https://www.sporelab.io/updates/2020/12/21/improving-linux-startup-time | <a href="https://web.archive.org/web/*/https://www.sporelab.io/updates/2020/12/21/improving-linux-startup-time">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

  
  <article id="article-5fdfcb4e7f4e6a3367419e89" data-item-id="5fdfcb4e7f4e6a3367419e89">

    

    <div>
      
        <div data-layout-label="Post Body" data-type="item" data-updated-on="1608502170327" id="item-5fdfcb4e7f4e6a3367419e89"><div><div><div data-block-type="2" id="block-bdf991a0b97667eb45b2"><div><p>Linux provides an amazing suite of functionality for embedded systems, and it is hard to overstate the benefits of using such a feature rich and well tested base. </p><p>This functionality comes at a price however, as when compared to non-Linux systems it generally means increased complexity, binary size, and more often than not startup time. For some systems, this longer startup time can be mitigated by never fully shutting down, and relying on sleep modes to reduce power consumption when the system is not in use. However for some systems, such as non-battery-backed devices where each usage requires a full power-on sequence, it is important that the cold power-on time is minimised.</p><p>As is often the case with complex systems, slow boot speed is generally not caused by one single issue, but rather a large collection of smaller factors. Following that, we find that fast overall startup time tends to be achieved as the result of the culmination of say 10 to 20 minor improvements.</p><p>When looking at startup time, we typically break the boot time of a Linux system down into three broad stages:</p><ol data-rte-list="default"><li><p>Power-on to Linux kernel load. This is typically referred to as the bootloader, but on some systems this can be entirely performed by the boot ROM. This phase starts when power is applied to the system, and is finished when the Linux kernel has been loaded from non-volatile storage into RAM.</p></li><li><p>Linux boot. This covers the time it takes the Linux kernel to unpack itself and initialise sufficient hardware to mount a root filesystem and begin executing application (userspace) software.</p></li><li><p>Application startup. This phase covers not just the start of the final application itself, but also all of the dependencies it might have - such as mounting filesystems, initialising network interfaces, performing any pre-run checks and so on.</p></li></ol><p>Before attempting any improvements, it is important to analyse the existing system to determine the baseline boot speed. </p><p>For some systems this can be done by simply monitoring the console output, however this has two drawbacks - it cannot capture any time taken before the serial port is initialised, and as the serial port is often one of the slowest peripherals, outputting to it will actually slow the boot down. For these reasons, it is often good to instrument some lower level timing mechanisms. The simplest is to use spare GPIO pins, toggling them at various stages in the boot. Monitoring these signals on an oscilloscope can produce highly accurate timing without interfering with the boot itself. This kind of system can also be left enabled in the production software to make regression testing of boot speed easier (or even automated).</p><p>Once a baseline has been established, various techniques can then be used to begin making improvements. There are far more of these techniques than can reasonably be covered here, however the main areas we focus on are:</p><ul data-rte-list="default"><li><p>Ensuring that the initial kernel load is being performed as fast as the hardware can support. Typically backing storage systems, such as SPI, often have multiple modes or speeds. Often conservative defaults are supplied for these to ensure maximum compatibility with hardware designs. However if the particular hardware design has faster chips, this speed may not be being exploited in the default configuration.</p></li><li><p>Ensuring that busy-wait loops in the bootloader are minimised. Before Linux has started, the bootloader tends to be a much simpler, single-threaded system. This means that one operation will not be started until the previous operation has fully completed. However overlapping some operations (such as beginning kernel uncompression in parallel with loading it from storage), can provide significant gains.</p></li><li><p>Ensuring that only the drivers used on the embedded system are included in the kernel. By default Linux provides support for a massive array of hardware. For desktop environments, this is ideal as it provides maximum flexibility. However embedded systems typically have a much narrower target, and as such do not benefit from this flexibility. Reducing the drivers in the kernel will not only reduce the binary size (which makes for a faster kernel load time), it will also drop the driver initialisation code, which directly impacts boot speed.</p></li><li><p>Choosing the correct filesystem for the application. In particular, using a read-only filesystem for the core system, and using a read-write filesystem for user data. This allows for the read-write filesystem to be initialised in parallel with the application startup.</p></li><li><p>Ensuring parallel execution of application startup. This may require some rework of the application, but having a system that can cope with some subsystems not being immediately available can provide significant speedups. For instance, it may be that the user cannot save new data for the first 2-3 seconds of the application startup. However this allows other functionality to be fully available in that time, and can dramatically improve the perceived performance of the system.</p></li></ul><p>Boot speed is an issue heavily discussed online, and is constantly evolving as new hardware becomes available and new software is written. There are some excellent resources on the topic available, such as:</p><ul data-rte-list="default"><li><p><a href="https://elinux.org/Boot_Time" target="_blank">Embedded Linux Wiki - Boot Time</a></p></li><li><p><a href="https://elinux.org/images/9/97/Boot_one_second_altenberg.pdf" target="_blank">How to boot Linux in one second</a></p></li></ul></div></div></div></div></div>
      
    </div>


    

    
      
    

    

  </article>

  

  

  
  
  

</div></div>]]>
            </description>
            <link>https://www.sporelab.io/updates/2020/12/21/improving-linux-startup-time</link>
            <guid isPermaLink="false">hacker-news-small-sites-25490751</guid>
            <pubDate>Sun, 20 Dec 2020 23:53:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cyberpwned: Beating Cyberpunk 2077's hacking minigame in 50 lines of Python]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25490741">thread link</a>) | @nicolas-siplis
<br/>
December 20, 2020 | https://nicolas-siplis.com/blog/cyberpwned | <a href="https://web.archive.org/web/*/https://nicolas-siplis.com/blog/cyberpwned">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <h3>
                Cyberpwned: Beating Cyberpunk 2077's hacking minigame in 50 lines of Python
            </h3>
            <p>
                December 20, 2020
            </p><p>
                If you have a passing interest in anything gaming related and haven't been living under a rock for the last couple years, you're probably somewhat familiar with Cyberpunk 2077.
                After a long and repeatedly extended wait, it's finally here! And it has a hacking minigame! And getting a good score gets you better gear! 
                Can some quick Python magic give us the edge we need in this cruel, cruel Net? You bet. 
            </p>
            
            <p>
                A quick overview of the minigame: You're given a square matrix and one or more sequences of hexadecimal numbers, along with a buffer of certain length. 
                Your goal is to complete the most amount of sequences choosing as many nodes as the buffer allows.
                Each sequence will advance in progress if the node chosen is the next node in the sequence.
                When the game starts, you may choose any of the values in the first row of the matrix.
                After that, the values you can choose will alternate between the Nth column/row each turn, with N being the index of the last picked value.
                If this horrible description wasn't helpful, click <a href="https://www.rockpapershotgun.com/2020/12/14/cyberpunk-2077-hacking-minigame-breach-protocol-explained/">here</a> for a more detailed one, courtesy of RPS.
            </p>
            
            <p>
                All valid paths are considered and the final score of each path is calculated depending on how many sequences were completed by traversing it.
                The path with the best score is then printed to screen.
                The algorithm itself isn't particularly interesting nor efficient, unfortunately. However, it should be fast enough to solve any of Cyberpunk's minigames in a few seconds, so fast enough!
                I'm sure there's some low hanging fruit that could speed up execution, but I thought I'd share what I have so far and update the post as new ideas/suggestions come up.
            </p>
            

            <p>
                Let's start off with the game's components:
                    </p><ul>
                        <li>Code Matrix: Multidimensional array containing hexadecimal values (nodes), the "gameboard"</li>
                            <pre><code>
code_matrix = [
    [0x1c, 0xbd, 0x55, 0xe9, 0x55], 
    [0x1c, 0xbd, 0x1c, 0x55, 0xe9],
    [0x55, 0xe9, 0xe9, 0xbd, 0xbd],
    [0x55, 0xff, 0xff, 0x1c, 0x1c],
    [0xff, 0xe9, 0x1c, 0xbd, 0xff]
]
                            </code></pre>
                        <li>Buffer: Number indicating maximum number of chosen coordinates</li>
                            <pre><code>
buffer_size = 7
                            </code></pre>
                        <li>Coordinate: Specific point in the code matrix</li>
                        <li>Path: Ordered collection of unique coordinates which the user accessed</li>
                            <pre><code>
# The same coordinate can't be chosen more than once per path
class DuplicatedCoordinateException(Exception):
    pass

# All paths match the following pattern:
# [(0, a), (b, a), (b, c), (d, c), ...]
class Path():
    def __init__(self, coords=[]):
        self.coords = coords

    def __add__(self, other):
        new_coords = self.coords + other.coords
        if any(map(lambda coord: coord in self.coords, other.coords)):
            raise DuplicatedCoordinateException()
        return Path(new_coords)

    def __repr__(self):
        return str(self.coords)
                            </code></pre>
                        <li>Sequence: Paths that offer varying quality rewards if completed</li>
                            <pre><code>
sequences = [
    [0x1c, 0x1c, 0x55],
    [0X55, 0Xff, 0X1c],
    [0xbd, 0xe9, 0xbd, 0x55],
    [0x55, 0x1c, 0xff, 0xbd]
]
                            </code></pre>
                        <li>Score: Calculation that can be tweaked to prioritize different rewards</li>
                            <pre><code>
class SequenceScore():

    def __init__(self, sequence, buffer_size, reward_level=0):
        self.max_progress = len(sequence)
        self.sequence = sequence
        self.score = 0
        self.reward_level = reward_level
        self.buffer_size = buffer_size

    def compute(self, compare):
        if not self.__completed():
            if self.sequence[self.score] == compare:
                self.__increase()
            else:
                self.__decrease()

    # When the head of the sequence matches the targeted node, increase the score by 1
    # If the sequence has been completed, set the score depending on the reward level
    def __increase(self):
        self.buffer_size -= 1
        self.score += 1
        if self.__completed():
            # Can be adjusted to maximize either:
            #   a) highest quality rewards, possibly lesser quantity
            self.score = 10 ** (self.reward_level + 1)
            #   b) highest amount of rewards, possibly lesser quality
            # self.score = 100 * (self.reward_level + 1)

    # When an incorrect value is matched against the current head of the sequence, the score is decreased by 1 (can't go below 0)
    # If it's not possible to complete the sequence, set the score to a negative value depending on the reward 
    def __decrease(self):
        self.buffer_size -= 1
        if self.score &gt; 0:
            self.score -= 1
        if self.__completed():
            self.score = -self.reward_level - 1

    # A sequence is considered completed if no further progress is possible or necessary
    def __completed(self):
        return self.score &lt; 0 or self.score &gt;= self.max_progress or self.buffer_size &lt; self.max_progress - self.score

class PathScore():
    
    def __init__(self, path, sequences, buffer_size):
        self.score = None
        self.path = path
        self.sequence_scores = [SequenceScore(sequence, buffer_size, reward_level) for reward_level, sequence in enumerate(sequences)]
    
    def compute(self): # Returns the sum of the individual sequence scores
        if self.score != None:
            return self.score
        for row, column in self.path.coords:
            for seq_score in self.sequence_scores:
                seq_score.compute(code_matrix[row][column])
        self.score = sum(map(lambda seq_score: seq_score.score, self.sequence_scores))
        return self.score
                            </code></pre>
                    </ul>
            

            <p>
                The path generation is pretty similar to a DFS graph traversal. 
                The only significant difference is that the nodes accessible will vary depending on the current turn and the previous node's coordinates.  
            </p>
            <pre><code>
# Returns all possible paths with size equal to the buffer
def generate_paths(buffer_size):
    completed_paths = []

    # Return next available row/column for specified turn and coordinate.
    # If it's the 1st turn the index is 0 so next_line would return the 
    # first row. For the second turn, it would return the nth column, with n
    # being the coordinate's row
    def candidate_coords(turn=0, coordinate=(0,0)):
        if turn % 2 == 0:
            return [(coordinate[0], column) for column in range(len(code_matrix))]
        else:
            return [(row, coordinate[1]) for row in range(len(code_matrix))]

    # The stack contains all possible paths currently being traversed.
    def _walk_paths(buffer_size, completed_paths, partial_paths_stack = [Path()], turn = 0, candidates = candidate_coords()):
    
        path = partial_paths_stack.pop()
        
        for coord in candidates:
            try:
                new_path = path + Path([coord])
            
            # Skip coordinate if it has already been visited
            except DuplicatedCoordinateException:
                continue

            # Full path is added to the final return list and removed from the partial paths stack
            if len(new_path.coords) == buffer_size:
                completed_paths.append(new_path) 
            else: # Add new, lengthier partial path back into the stack
                partial_paths_stack.append(new_path) 
                _walk_paths(buffer_size, completed_paths, partial_paths_stack, turn + 1, candidate_coords(turn + 1, coord))

    _walk_paths(buffer_size, completed_paths)
    return completed_paths
            </code></pre>

            <p>
                Let's run it and check that everything is working correctly.
                While most of the breach protocol minigames have randomized values, the "Spellbound" quest involves a fixed state and the best solution is already known. Courtesy of GamerJournalist:
                <img src="https://img.gamerjournalist.com/spai/w_1024+q_lossy+ret_img+to_webp/https://cdn.gamerjournalist.com/primary/2020/12/How-to-decrypt-the-Book-of-Spells-in-Cyberpunk-2077.jpg">
            </p>

            <pre><code>
paths = [(path, PathScore(path, sequences, buffer_size).compute()) for path in generate_paths(buffer_size)]
max_path = max(paths, key=lambda path: path[1])
# [(0, 1), (2, 1), (2, 3), (1, 3), (1, 0), (4, 0), (4, 3)] -&gt; Should traverse 3rd and 4th sequences, finishes in ~3 seconds
print(max_path[0])
            </code></pre>

            <p>
                Success! Out of curiosity, I thought I'd try increasing the buffer size until I could find a path which cleared all sequences. 
                Be warned though, the result might take some time to compute since it has to go through every possible path of length 11.
            </p>
            <pre><code>
buffer_size = 11
paths = [(path, PathScore(path, sequences, buffer_size).compute()) for path in generate_paths(buffer_size)]
max_path = max(paths, key=lambda path: path[1])

# [(0, 0), (1, 0), (1, 3), (3, 3), (3, 1), (0, 1), (0, 3), (2, 3), (2, 0), (4, 0), (4, 2)] -&gt; Should traverse all sequences, finishes in ~40 seconds
print(max_path[0], max_path[1])
            </code></pre>

            <p>
                OK, optimization time! We'll assume that there's at least 1 path with a non-negative score.
                That way, we can actually stop traversing a partial path if its current score (adjusted depending on buffer's size and current turn) is lower than 0.
            </p>

            <pre><code>
def generate_paths(...):
    ...
    def _walk_paths(...):
    ...

                # Full path is added to the final return list and removed from the partial paths stack
                if len(new_path.coords) == buffer_size:
                    completed_paths.append(new_path)
                # If the partial path score is already lower than 0 we should be able to safely stop traversing it
                elif PathScore(new_path, sequences, buffer_size).compute() &lt; 0:
                    continue
                else: # Add new, lengthier partial path back into the stack
                    partial_paths_stack.append(new_path) 
                    _walk_paths(buffer_size, completed_paths, partial_paths_stack, turn + 1, candidate_coords(turn + 1, coord))
    ...
            </code></pre>

            <p>
                Let's try to get our original result with a buffer of length 7 again: 
            </p>

            <pre><code>
buffer_size = 7
paths = [(path, PathScore(path, sequences, buffer_size).compute()) for path in generate_paths(buffer_size)]
max_path = max(paths, ‚Ä¶</code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://nicolas-siplis.com/blog/cyberpwned">https://nicolas-siplis.com/blog/cyberpwned</a></em></p>]]>
            </description>
            <link>https://nicolas-siplis.com/blog/cyberpwned</link>
            <guid isPermaLink="false">hacker-news-small-sites-25490741</guid>
            <pubDate>Sun, 20 Dec 2020 23:49:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Static analysis with semgrep: practical examples using Docker]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25490249">thread link</a>) | @eatonphil
<br/>
December 20, 2020 | https://notes.eatonphil.com/static-analysis-with-semgrep.html | <a href="https://web.archive.org/web/*/https://notes.eatonphil.com/static-analysis-with-semgrep.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        <p>In this post we'll get a basic semgrep environment set up in Docker
running some custom rules against our code.</p>
<h3 id="existing-linters">Existing linters</h3><p>Linters like <a href="https://www.pylint.org/">pylint</a> for Python or
<a href="https://eslint.org/">eslint</a> for JavaScript are great for general,
broad language standards. But what about common nits in code review
like using print statements instead of a logger, or using a defer
statement inside a for loop (Go specific), or the existence of
multiple nested loops.</p>
<p>Most developers don't have experience working with language
parsing. So it's fairly uncommon in small- and medium-sized teams to
see custom linting rules. And while no single linter or language is
that much more complex than the other (it's all just AST operations),
there is a small penalty to learning the AST and framework for each
language linter.</p>
<h3 id="semgrep">Semgrep</h3><p><a href="https://semgrep.dev/">Semgrep</a> is a generic tool for finding patterns
in source code. Unlike traditional regex (and traditional grep) it can
find recursive patterns. This makes it especially useful as a tool to
learn for finding patterns in any language.</p>
<p>An advantage of semgrep rules is that you can learn the semgrep
pattern matching syntax (which is surprisingly easy) and then you can
write rules for any language you'd like to write rules for.</p>
<p>And while the <a href="https://semgrep.dev/editor">online rule tester</a> is
awesome, I had a hard time going from that to a working sample on my
own laptop with Docker. We'll do just that.</p>
<h3 id="catching-print-statements-in-python">Catching print statements in Python</h3><p>Let's say we want a script to fail on any use of print statements in
Python:</p>
<pre><code>$ cat test/python/simple-print.py
def main():
  print("DEBUG: here")
  print("DEBUG: ", "now here")
</code></pre>
<p>The current <a href="https://semgrep.dev/editor">default example</a> shown in the
online editor happens to be for just this. Click the Advanced tab and
you'll see the following:</p>
<pre><code>rules:
- id: fail-on-print
  pattern: |
    print("...")
  message: |
    Semgrep found a match
  severity: WARNING
</code></pre>
<p>Copy this into <code>config.yml</code>. Let's modify the pattern to
warn on all print calls, not just print calls with a single string
argument:</p>
<pre><code>rules:
- id: fail-on-print
  pattern: |
    print(...)
  message: |
    Semgrep found a match
  severity: WARNING
</code></pre>
<p>The editor doesn't mention it (nor do any docs I can find) but we also
need to include two keys in the individual rule
object: <code>mode</code> and <code>languages</code>.</p>
<pre><code>rules:
- id: fail-on-print
  pattern: |
    print(...)
  message: |
    Semgrep found a match
  severity: WARNING
  mode: search
  languages: ["generic"]
</code></pre>
<p>Semgrep fails really weirdly if you set <code>mode</code> to
anything other than <code>search</code>, but it won't warn you that
what you set is garbage. The <code>languages</code> setting is
similarly fickle and doesn't give you much feedback if you set it
incorrectly.</p>
<p>
  Also, I'm using the "generic" language here because I don't
  understand the difference between languages and as far as I'm
  concerned the syntax I'm using here is already pretty generic.
</p><p>We run the semgrep Docker image:</p>
<pre><code>$ docker run -v "${PWD}:/src" returntocorp/semgrep --config=config.yml test/python
A new version of Semgrep is available. Please see https://github.com/returntocorp/semgrep#upgrading for more information.
running 1 rules...
test/python/simple-print.py
severity:warning rule:fail-on-print: Semgrep found a match

2:print("DEBUG: here")
ran 1 rules on 1 files: 1 findings"")
</code></pre>
<p>And there we've got our warning!</p>
<p>
  Not completely clear to me why we're getting warned about a new
  version when we've pulled <code>latest</code> as the linked docs
  suggest. Maybe there's a newer version that hasn't made it into a
  Docker image yet.
</p><h3 id="catching-fmt.print*-statements-in-go">Catching fmt.Print* statements in Go</h3><p>Let's say we also want to fail on print statements in Go (because we
should use a logger instead):</p>
<pre><code>$ cat test/golang/simple-print.go
package main

import "fmt"

func main() {
  a := fmt.Sprintf("here")
  fmt.Println(a)
  fmt.Printf("%s\n", a)
  e := fmt.Errorf("My crazy error")
}
</code></pre>
<p>We could try to look for any <code>import "fmt"</code> code in a file
but that would fail on uses of <code>fmt.Sprintf</code>
or <code>fmt.Errorf</code> which are fine. Instead we'll just focus on
uses of <code>fmt.Printf</code> or <code>fmt.Println</code>:</p>
<pre><code>$ cat go-config.yml
rules:
- id: fail-on-print
  pattern-either:
    - pattern: fmt.Printf(...)
    - pattern: fmt.Println(...)
  message: |
    Semgrep found a match
  severity: WARNING
  mode: search
  languages: ["generic"]
</code></pre>
<p>Run the Go config against the Go files:</p>
<pre><code>$ docker run -v "${PWD}:/src" returntocorp/semgrep --config=go-config.yml test/golang
A new version of Semgrep is available. Please see https://github.com/returntocorp/semgrep#upgrading for more information.
running 1 rules...
test/golang/simple-print.go
severity:warning rule:fail-on-print: Semgrep found a match

8:fmt.Printf("%s\n", a)
--------------------------------------------------------------------------------
7:fmt.Println(a)
ran 1 rules on 1 files: 2 findings
</code></pre>
<p>Cool! Making some sense. Now let's try a harder pattern.</p>
<h3 id="catching-triple-nested-for-loops">Catching triple-nested for loops</h3><p>Let's try to warn on the triple-nested loop in this code:</p>
<pre><code>$ cat test/golang/loopy.go
package main

import "log"

func main() {
  doneFirst := false
  for i := 0; i &lt; 10; i++ {
    log.Print(i)

    for j := 0; j &lt; 100; j++ {
      c := i * j

      going := true
      k := 0
      for going {
        if k == c {
          break
        }

        k++
        log.Print(k)
      }
    }

    doneFirst = true
  }
}
</code></pre>
<p>If we want to catch the use of nested for loops here then we'll need
to search for the loops surrounded by arbitrary
syntax. Semgrep's <code>...</code> syntax makes this easy.</p>
<pre><code>$ cat go-config2.yml
rules:
- id: fail-on-3-loop
  pattern: |
    for ... {
      ...
      for ... {
        ...

        for ... {
          ...
        }
        ...
      }
      ...
    }
  message: |
    Semgrep found a match
  severity: WARNING
  mode: search
  languages: ["generic"]
</code></pre>
<p>And run semgrep:</p>
<pre><code>$ docker run -v "${PWD}:/src" returntocorp/semgrep --config=go-config2.yml test/golang
A new version of Semgrep is available. Please see https://github.com/returntocorp/semgrep#upgrading for more information.
running 1 rules...
test/golang/loopy.go
severity:warning rule:fail-on-3-loop: Semgrep found a match

7:for i := 0; i &lt; 10; i++ {
8:              log.Print(i)
9:
10:             for j := 0; j &lt; 100; j++ {
11:                     c := i * j
12:
13:                     going := true
14:                     k := 0
15:                     for going {
16:                             if k == c {
-------- [hid 10 additional lines, adjust with --max-lines-per-finding] --------
ran 1 rules on 2 files: 1 findings
</code></pre>
<p>That's just swell.</p>
<h3 id="limits-of-static-analysis">Limits of static analysis</h3><p>Now let's say we refactor one of the inner loops into its own
function.</p>
<pre><code>$ cat test/golang/loopy.go
package main

import "log"

func inner(i, j int) {
  c := i * j

  going := true
  k := 0
  for going {
    if k == c {
      break
    }

    k++
    log.Print(k)
  }
}

func main() {
  doneFirst := false
  for i := 0; i &lt; 10; i++ {
    log.Print(i)

    for j := 0; j &lt; 100; j++ {
      inner(i, j)
    }

    doneFirst = true
  }
}
</code></pre>
<p>And run semgrep again:</p>
<pre><code>$ docker run -v "${PWD}:/src" returntocorp/semgrep --config=go-config2.yml test/golang
 A new version of Semgrep is available. Please see https://github.com/returntocorp/semgrep#upgrading for more information.
 running 1 rules...
 ran 1 rules on 2 files: 0 findings
</code></pre>
<p>Well great. The 3-nested loop still exists but we can't find it
anymore because it's not syntactically obvious anymore.</p>
<p>At this point we'd need to start getting into linting based on runtime
analysis. If you know of a tool that does this and lets you write
rules like semgrep for it, please tell me!</p>
<h3 id="in-summary">In summary</h3><p>In the end though, it's still very useful to be able to learn a single
language for writing syntax rules at a high level to enforce behavior
in code. Furthermore, a generic syntax matcher helps you write easily
write rules for things that don't already have linters like YAML
or JSON configuration or Vagrantfiles.</p>
<p>It can be annoying to work around some missing docs in semgrep but
overall it's a great tool for the kit.</p>
<h4 id="feedback">Feedback</h4><p>As always, I'd love to <a href="mailto:me@eatonphil.com">hear from you</a> with
questions or ideas.</p>
<blockquote><p lang="en" dir="ltr"><a href="https://twitter.com/hashtag/semgrep?src=hash&amp;ref_src=twsrc%5Etfw">#semgrep</a> is a really neat tool for syntactic analysis. Here are a few simple examples (catch print statements, triple nested loops, etc.) using Docker. Includes some necessary info the docs don't get into<a href="https://t.co/UDHEH5JmOa">https://t.co/UDHEH5JmOa</a></p>‚Äî Phil Eaton (@phil_eaton) <a href="https://twitter.com/phil_eaton/status/1340785372364738562?ref_src=twsrc%5Etfw">December 20, 2020</a></blockquote> 

      </div>
    </div></div>]]>
            </description>
            <link>https://notes.eatonphil.com/static-analysis-with-semgrep.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25490249</guid>
            <pubDate>Sun, 20 Dec 2020 22:37:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[eBPF Is Awesome]]>
            </title>
            <description>
<![CDATA[
Score 255 | Comments 43 (<a href="https://news.ycombinator.com/item?id=25490138">thread link</a>) | @filipn
<br/>
December 20, 2020 | https://filipnikolovski.com/posts/ebpf/ | <a href="https://web.archive.org/web/*/https://filipnikolovski.com/posts/ebpf/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>I was doing some research at work for tracing and observability for microservices, when I came across <a href="https://pixielabs.ai/">Pixielabs</a>. This tool advertises that you can instantly troubleshoot applications without any instrumentation or special code inside the apps, which sounded ‚ú®magical‚ú® to me. So naturally I wanted to know a little more about what enables this technology to work, and after scrolling through the site, under the ‚ÄúNo Instrumentation‚Äù section was this acronym <strong>eBPF</strong>.</p><p>After some further digging on the internet, reading the <a href="https://www.tcpdump.org/papers/bpf-usenix93.pdf">design papers</a> and watching several videos, it was safe to say this technology caught my attention, so I wanted to write some notes on it and I hope this post will spark some further interest in you as well.</p><h2 id="so-what-is-ebpf-exactly">So what is eBPF exactly?</h2><p>The TL;DR version is that this technology enables sandboxed user space applications to run in the Linux kernel itself. In a way it makes the kernel <em>programmable</em> which unlocks tremendous possibilities.</p><p>You can pick <strong>any function</strong> from the kernel and execute the program every time that function runs. Running a program that ‚Äúattaches‚Äù to network sockets, tracepoints and perf events can be extremely useful. Developers can debug the kernel without having to re-compile it. There are plenty of use cases such as:</p><ul><li>Application performance &amp; troubleshooting</li><li>Networking &amp; security</li><li>Runtime security</li><li>Application tracing</li><li>Observability</li></ul><p>That‚Äôs what enables tools like Pixie to do blackbox analysis, without requiring any tinkering inside the applications that we‚Äôre trying to debug.</p><p>Originally BPF was <a href="https://www.tcpdump.org/papers/bpf-usenix93.pdf">designed</a> for capturing and filtering network packets that matched specific rules, discarding any unwanted packets. That‚Äôs why it was called the ‚ÄúBerkeley Packet Filter‚Äù. If you‚Äôve ever used <strong>tcpdump</strong> you‚Äôve probably already used it. Nowadays eBPF can be used for many different things and not just packet filtering but the name stuck for some reason.</p><p>This architecture of network monitoring was vastly superior to the current existing packet capture technologies in terms of performance, mainly because the filtering was done in the kernel instead of copying all of the packets in user space and doing
the calculations there. But with the advancement of processors it didn‚Äôt hold up so well with it‚Äôs initial design. That‚Äôs why the <strong>extended BPF</strong> (eBPF) design was introduced, to take advantage of the modern processing power.</p><p>Initially eBPF was to be also used as a network packet filtering solution, but the ability to run user-space programs inside the kernel proved to be very powerful. The new design extended what the BPF virtual machine could do, which was to allow it to run on all kinds of events, not just packets, and also do certain actions instead of just the ability to filter things.</p><h2 id="how-does-it-work">How does it work?</h2><p>An eBPF program is just a sequence of 64-bit instructions. The virtual machine‚Äôs instruction set is fairly limited and it has two goals in mind:</p><ol><li>The code needs to be executed as fast as possible.</li><li>All BPF instructions must be verifiable at load time to ensure the safety of the kernel.</li></ol><p>Okay so, eBPF code is run in a safe virtual machine inside the kernel. Writing these programs is done with the help of some frameworks (like <a href="https://github.com/iovisor/bcc">bcc</a> and <a href="https://github.com/iovisor/bpftrace">bpftrace</a>) and the program bytecode is then loaded via the <a href="https://man7.org/linux/man-pages/man2/bpf.2.html"><code>bpf</code></a> system call.</p><p>To nullify the security and stability risks when running a user space program inside the kernel, several checks are performed
to ensure that the code we run is safe and that it terminates so our computer won‚Äôt freeze up.</p><p>Firstly, to even be able to run a user program which loads eBPF code, it needs root privileges to do so, unless unprivileged eBPF is enabled, in which case the process can load a program with a reduced functionality. Secondly, there‚Äôs the eBPF verifier which all eBPF programs must go through before they can be executed.</p><p>The verifier runs several checks on the code that safeguards the kernel. The first check ensures that any unbounded
loops which could freeze up the kernel are prohibited. The second check, which is more extensive, simulates the execution of the code making sure that all paths of the code run to completion, no out of bounds memory is accessed and overall the state of the virtual machine is valid.</p><p>The last step of the verification process involves restricting the eBPF program abilities, which kernel functions are callable and which data it can access. The verifier knows how to apply those restrictions because of the <strong>program type</strong>. The program type is determined when we associate the program with a certain event.</p><p>After the verification process is done, the BPF bytecode is then interpreted, or compiled by a JIT compiler, into native instructions that run efficiently whenever an event happens in the kernel.</p><h2 id="kprobes--uprobes">kprobes &amp; uprobes</h2><p>We can create and insert kernel probes or kprobes for short to virtually any function in the kernel, and attach an eBPF program so that it executes each time that function is invoked.</p><p>Here‚Äôs a simple hello world example from the <a href="https://github.com/iovisor/bcc/tree/master/examples">bcc</a> repository:</p><div><pre><code data-lang="python"><span>from</span> bcc <span>import</span> BPF
<span>from</span> bcc.utils <span>import</span> printb
<span># define BPF program</span>
prog <span>=</span> <span>"""
</span><span>int hello(void *ctx) {
</span><span>    bpf_trace_printk("Hello, World!</span><span>\\</span><span>n");
</span><span>    return 0;
</span><span>}
</span><span>"""</span>
<span># load BPF program</span>
b <span>=</span> BPF(text<span>=</span>prog)
b<span>.</span>attach_kprobe(event<span>=</span>b<span>.</span>get_syscall_fnname(<span>"clone"</span>), fn_name<span>=</span><span>"hello"</span>)
<span># header</span>
<span>print</span>(<span>"</span><span>%-18s</span><span> </span><span>%-16s</span><span> </span><span>%-6s</span><span> </span><span>%s</span><span>"</span> <span>%</span> (<span>"TIME(s)"</span>, <span>"COMM"</span>, <span>"PID"</span>, <span>"MESSAGE"</span>))
<span># format output</span>
<span>while</span> <span>1</span>:
    <span>try</span>:
        (task, pid, cpu, flags, ts, msg) <span>=</span> b<span>.</span>trace_fields()
    <span>except</span> <span>ValueError</span>:
        <span>continue</span>
    <span>except</span> <span>KeyboardInterrupt</span>:
        exit()
    printb(<span>b</span><span>"</span><span>%-18.9f</span><span> </span><span>%-16s</span><span> </span><span>%-6d</span><span> </span><span>%s</span><span>"</span> <span>%</span> (ts, task, pid, msg))
</code></pre></div><p>The eBPF program is written in a pseudo-C code and it‚Äôs placed in the variable <code>prog</code> as a string. The bcc framework does all the heavy lifting of generating the bytecode, loading the programs and all that stuff, which makes writing these programs a bit easier.</p><p>In this example, the hello function invokes a bpf helper function called <code>bpf_trace_printk</code> which outputs a ‚ÄúHello, World!‚Äù trace. Then we load the program and we attach a kernel probe for the <a href="https://man7.org/linux/man-pages/man2/clone.2.html"><code>clone</code></a> event, basically saying that we want to call the <code>hello</code> program each time <code>clone</code> is called.</p><p>After that the script waits for new traces to arrive, fetches the fields and prints the values to the screen.</p><p>Let‚Äôs try running it:</p><pre><code>$ sudo python3 hello-ebpf.py
TIME(s)            COMM             PID    MESSAGE
</code></pre><p>The script has successfully loaded the program and now we wait for the traces to arrive. The next thing to do is to try and invoke the <code>clone</code> syscall. We can run any command on the terminal, such as <code>ls</code> and a child process will be created. Since I had firefox running, it created some child processes in the meantime and traces started to show up:</p><pre><code>611.247475000      firefox          5378   Hello, World!
</code></pre><p>As we can see, the message ‚ÄúHello, World!‚Äù is printed on the screen along with the other trace fields. Super cool!</p><p>Besides attaching to kernel functions, we could also observe functions invoked in user space, such as <strong>malloc</strong> or <strong>strlen</strong>. This is possible via another Linux kernel feature - <strong>uprobes</strong>.</p><p>Here‚Äôs an interesting script that counts frequencies of strings by tracing strlen() and using a hash map to store the strings along with the count of their recurrence: <a href="https://github.com/iovisor/bcc/blob/master/examples/tracing/strlen_count.py">https://github.com/iovisor/bcc/blob/master/examples/tracing/strlen_count.py</a></p><h2 id="helper-functions">helper functions</h2><p>Since arbitrary kernel functions are prohibited to be called by ebpf programs, there are several helper functions which the kernel provides for us, such as the <code>bpf_trace_printk</code> function. We can use them to:</p><ul><li>Get the current time</li><li>Interact with eBPF maps</li><li>Manipulate network packets</li><li>Print debugging messages</li></ul><p>Note that each program can only use a subset of these helpers because of the different contexts the programs can run in. Here‚Äôs the extensive <a href="https://man7.org/linux/man-pages/man7/bpf-helpers.7.html">list</a> of bpf helpers.</p><h2 id="map-storage">map storage</h2><p>To write more complicated programs you‚Äôll need some type of data store, and that is where <strong>maps</strong> come in. They are an important part of the BPF internal system, which allows programs to store information that can be accessed from userspace.</p><p>BPF supports different <a href="https://github.com/iovisor/bcc/blob/master/docs/reference_guide.md#maps">types</a> of data stores - you can use a hash map, an array, or even a stack or a queue, depending on the use case of course.</p><h2 id="conclusion">conclusion</h2><p>eBPF opens up all kinds of possibilities for observability. You can treat a system as a blackbox, without really knowing anything about it, and run all kinds of interesting analysis: count the most frequently called functions, trace network packets, do performance tracing and debugging, etc.</p><p>There are a myriad of tools that you can use to observe every component of the system: the CPU, memory, file system, networking, containers, applications‚Ä¶</p><figure><img src="https://d33wubrfki0l68.cloudfront.net/b19abde4b1ccfe4ce140969c8bf44f39d1c2fe70/f9ed3/images/ebpf/bcc_tracing_tools_early2019.png" alt="ebpf-tracing-tools"><figcaption>BCC performance tools (courtesy of Brendan Gregg)</figcaption></figure><p>I‚Äôve only scratched the surface on this subject and I can‚Äôt wait to learn more about it, as well as Linux performance in general. There‚Äôs tons of great posts and videos on this exciting technology, and I‚Äôve left some links below for you. Cheers!</p><h2 id="references">References</h2><ul><li><a href="https://www.tcpdump.org/papers/bpf-usenix93.pdf">https://www.tcpdump.org/papers/bpf-usenix93.pdf</a> ‚Äì BPF paper</li><li><a href="https://lwn.net/Articles/740157/">https://lwn.net/Articles/740157/</a> ‚Äì A thorough introduction to eBPF</li><li><a href="https://www.youtube.com/watch?v=16slh29iN1g">https://www.youtube.com/watch?v=16slh29iN1g</a> ‚Äì interesting talk by Brendan Gregg on BPF performance analysis at Netflix</li><li><a href="http://www.brendangregg.com/ebpf.html">http://www.brendangregg.com/ebpf.html</a> ‚Äì eBPF trace tools</li><li><a href="https://github.com/iovisor/bcc/blob/master/docs/reference_guide.md">https://github.com/iovisor/bcc/blob/master/docs/reference_guide.md</a> ‚Äì BCC reference guide</li></ul></div></div>]]>
            </description>
            <link>https://filipnikolovski.com/posts/ebpf/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25490138</guid>
            <pubDate>Sun, 20 Dec 2020 22:24:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Can China‚Äôs Covid News Be Trusted?]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25490119">thread link</a>) | @amoorthy
<br/>
December 20, 2020 | https://blog.thefactual.com/can-chinas-covid-news-be-trusted | <a href="https://web.archive.org/web/*/https://blog.thefactual.com/can-chinas-covid-news-be-trusted">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>


<p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p>China has received abundant ridicule for its role in Covid-19, from its <a href="https://www.ft.com/content/82574e3d-1633-48ad-8afb-71ebb3fe3dee" rel="noopener" target="_blank"><span>early negligence</span></a>, to its <a href="https://www.theatlantic.com/politics/archive/2020/05/china-global-influence-who-united-states/611227/" rel="noopener" target="_blank"><span>influence</span></a> over the World Health Organization, to its <a href="https://time.com/5796425/china-coronavirus-lockdown/" rel="noopener" target="_blank"><span>draconian measures</span></a> to control the virus. Part of the negative perception in the West was an assumption that reporting on Covid cases and deaths within China was not to be trusted ‚Äî just as the Chinese political system had failed to acknowledge the emergence of the virus, surely the government would use its extensive societal control to downplay the disease‚Äôs impacts within China.&nbsp;</p>
<!--more-->
<div><p>Months later, however, the evidence suggests that China indeed succeeded in controlling the virus. While many advanced Western democracies <a href="https://ourworldindata.org/covid-cases" rel="noopener" target="_blank"><span>continue to flounder</span></a>, China is almost entirely open, with kids in school, families traveling, and economic growth returning to normal. This week, The Factual used 30 articles from 20 sources across the political spectrum to explore how China achieved this outcome, whether official data for China can be trusted, and what this apparent success portends.</p></div>
<p><img src="https://lh5.googleusercontent.com/LhbaqO6B3R89g-SeB_4ce3UsWk3ZyK_XDD2KnfJImK5eO-ZEXwgr-B2xihV_cIVrJKPiIETuD34ZBAZnUHLFzK06JxqbxYFYTyiVV_o8drZB5GxnhDpA5YAHPi8GpvRwGIjujqeq" width="624" height="417"></p>
<div><p>Note: China‚Äôs case count is imperceptible in comparison to the U.S., EU, and UK counts. (U.S. population = 328 million; EU population = 446 million; UK population = 67 million; China population = 1.39 billion)<br>Source: <a href="https://ourworldindata.org/covid-cases" rel="noopener" target="_blank"><span>Our World in Data</span></a></p></div>
<h4><strong>By Controlling Its Population, China Controlled The Virus</strong></h4>
<p>As Wuhan experienced the first severe urban outbreak of Covid-19, media attention focused on the dystopian elements of China‚Äôs response. Citizens were locked in their residences, <a href="https://slate.com/technology/2020/02/how-china-is-using-drones-to-contain-the-coronavirus.html" rel="noopener" target="_blank"><span>drones</span></a> played out public health warnings, and government entities assumed responsibility for the delivery of necessities to citizens. But these responses were part of one of the world‚Äôs <a href="https://www.nytimes.com/2020/10/30/world/asia/china-covid-coronavirus.html" rel="noopener" target="_blank"><span>most effective</span></a> Covid-19 interventions.</p>
<div><p>On April 7, as case counts and deaths climbed around the world, China reported its <a href="https://www.forbes.com/sites/carlieporterfield/2020/04/07/china-heavily-criticized-for-its-coronavirus-numbers-claims-no-new-deaths/?sh=3ba3b7ae77ad" rel="noopener" target="_blank"><span>first day without a Covid-19 fatality</span></a>. By that point, Wuhan ‚Äî the epicenter of the disease ‚Äî had only reported two new cases in the prior week. The Chinese government, learning rapidly, exercised its societal control to avoid similar outbreaks in other cities. Today, China‚Äôs official statistics show a total of around 90,000 cases and less than 5,000 deaths. By contrast, the U.S. has officially registered 17 million cases, almost 190 times more than China, despite having just a quarter of China‚Äôs population.</p></div>
<p><img src="https://lh6.googleusercontent.com/38aoRz3ugRGds0xMtDZjr8SoGZWFX_9peIj-dXLtJvgvahsA-Y8KoY4DiwyHd81_WfSLm8RVdfhe-2wKl4KWJTzXuGcud5fs0T-L_xtQ5xOk1XTAkdpEJzCCgz7iQnscB3RZc6Qg" width="676"></p>

<p>At the most extreme, China‚Äôs interventions involved <a href="https://reason.com/2020/03/30/the-world-must-not-mimic-chinas-authoritarian-model-to-fight-covid-19/" rel="noopener" target="_blank"><span>intensive restrictions</span></a> on the movement of citizens on as many as <a href="https://www.factcheck.org/2020/06/china-didnt-stop-virus-cold-outside-wuhan/" rel="noopener" target="_blank"><span>750 million people</span></a>. However, since the intense first weeks, the measures have seemed comparatively less extreme, relying mostly on the routine monitoring of citizens. <a href="https://www.nbcnews.com/news/world/covid-19-runs-riot-across-world-china-controls-pandemic-n1246587" rel="noopener" target="_blank"><span>These measures</span></a> include ‚Äúcolor-coded designations based on a person‚Äôs health status,‚Äù widespread testing, <a href="https://www.newyorker.com/magazine/2020/08/17/how-china-controlled-the-coronavirus" rel="noopener" target="_blank"><span>routine temperature taking</span></a>, and careful monitoring of people entering the country ‚Äî now seen as the <a href="https://www.npr.org/sections/coronavirus-live-updates/2020/10/16/924382187/city-in-china-tests-10-million-people-after-13-covid-19-cases-are-found" rel="noopener" target="_blank"><span>primary source</span></a> of most new cases in China. Mask wearing was compulsory, though such orders have largely been lifted now.</p>
<p>New cases are comprehensively attacked through a combination of <a href="https://www.washingtontimes.com/news/2020/nov/23/china-tests-millions-after-coronavirus-flare-ups-i/" rel="noopener" target="_blank"><span>testing</span></a>, contact tracing, and quarantines. For example, in October in the port city of Qingdao, the emergence of a handful of new cases led local authorities to conduct over <a href="https://www.businessinsider.com/china-testing-qingdao-city-9-million-after-12-cases-hospital-2020-10" rel="noopener" target="_blank"><span>9 million tests</span></a> in the course of five days, ultimately identifying around a dozen cases. Similarly, <a href="https://www.forbes.com/sites/siladityaray/2020/11/23/china-launches-mass-testing-in-three-cities-chaotic-scenes-follow-at-shanghai-airport/?sh=783168a93ede" rel="noopener" target="_blank"><span>a video emerged</span></a> in Western media in November of a confrontation between workers in a Shanghai airport and hazmat-wearing government officials. It was later revealed that, upon learning of a potential case, <a href="https://apnews.com/article/tianjin-shanghai-coronavirus-pandemic-china-united-states-8d46e90bc0a3b75c1b5a66c196e45025" rel="noopener" target="_blank"><span>17,719 workers were tested</span></a> to locate a single positive case.</p>
<div><p>While it‚Äôs easy to see China‚Äôs purported success in controlling the virus as solely the result of the government‚Äôs active measures, citizen compliance and appreciation for science and health messaging has also likely <a href="https://www.nbcnews.com/news/world/covid-19-runs-riot-across-world-china-controls-pandemic-n1246587" rel="noopener" target="_blank"><span>played a consequential role</span></a>, as has the clarity and consistency of official messaging and pre-existing proclivities toward mask usage. There has not been similar skepticism toward virus mitigation efforts nor a <a href="https://www.nytimes.com/2020/10/30/world/asia/china-covid-coronavirus.html" rel="noopener" target="_blank"><span>politicization of the pandemic</span></a>, as seen in Western democracies. High levels of compliance meshed with government action to bring about what is likely one of the fullest and fastest recoveries anywhere in the world.</p></div>
<h4><strong>Can China‚Äôs Numbers Be Trusted?</strong></h4>
<p>Skepticism of China‚Äôs handling of Covid-19 has been consistent, and it‚Äôs no surprise that many also doubt the official tallies of cases and deaths. Already receiving flak as the origin of the virus and for a <a href="https://www.ft.com/content/82574e3d-1633-48ad-8afb-71ebb3fe3dee" rel="noopener" target="_blank"><span>failure to contain its spread early</span></a>, China has much to gain from positive press, meaning that ‚Äúconquering‚Äù the virus would be the beginning of a much-needed win. But while this nominally gives China a motivation to underreport cases and deaths, and it by many accounts has much of the control needed to do so (consider China's <a href="https://www.propublica.org/article/leaked-documents-show-how-chinas-army-of-paid-internet-trolls-helped-censor-the-coronavirus" rel="noopener">extensive censorship efforts</a> early on), there is no evidence that it is hiding significant numbers of either ‚Äî at least not at a magnitude that would alter its narrative of success.&nbsp;</p>
<p>Critics point to a number of choices and anecdotes to substantiate the claim that China is obfuscating the real extent of the virus within its borders. For example, China has altered its definition of a confirmed case <a href="https://time.com/5813628/china-coronavirus-statistics-wuhan/" rel="noopener" target="_blank"><span>numerous times</span></a> over the course of the pandemic and made the choice not to include asymptomatic cases in the official tally, moves that some argue are aimed at limiting the official extent of the virus. However, others have pointed out that some of these redefinitions <a href="https://quillette.com/2020/09/06/the-china-syndrome-part-iv-did-china-fudge-its-data/" rel="noopener" target="_blank"><span>have resulted</span></a> in case counts being revised upward as well as downward and that some changes in definition are expected, given the novelty of the virus. Furthermore, the decision to exclude asymptomatic cases, while perhaps counterintuitive, has been both ridiculed and defended by experts as a plausible epidemiological choice.&nbsp;</p>
<p>Similarly, the anecdotes used to suggest significantly worse outcomes in China do not hold up to scrutiny. For example, one such popular story from Wuhan suggested that crematoriums were <a href="https://time.com/5813628/china-coronavirus-statistics-wuhan/" rel="noopener" target="_blank"><span>distributing huge numbers of burial urns</span></a> during the worst part of Wuhan‚Äôs outbreak, and extrapolations were made to suggest that many times more people were dying. Further scrutiny, however, suggests that such evidence is rather <a href="https://quillette.com/2020/09/06/the-china-syndrome-part-iv-did-china-fudge-its-data/" rel="noopener" target="_blank"><span>flimsy</span></a>, and while we can‚Äôt be sure just how many people died in the worst days in Wuhan, there‚Äôs scant evidence to suggest that there‚Äôs been any coordinated coverup of a large number of cases and deaths.</p>
<div><p>Quite plainly, if China was trying to hold back more severe outbreaks or impacts, Chinese society would not be so <a href="https://www.nbcnews.com/news/world/covid-19-runs-riot-across-world-china-controls-pandemic-n1246587" rel="noopener" target="_blank"><span>obviously recovering</span></a>, with 240 million students in school and 637 million Chinese <a href="https://www.cnbc.com/2020/10/09/china-attractions-630-million-people-travel-during-golden-week.html" rel="noopener" target="_blank"><span>travelling in the first week of October</span></a> for the mid-autumn festival, not far behind the 782 million that travelled during the same period in 2019. <a href="https://www.newyorker.com/magazine/2020/08/17/how-china-controlled-the-coronavirus" rel="noopener" target="_blank"><span>Full flights</span></a>, classrooms, and events returned fairly quickly to China, with authorities gathering that the risk was sufficiently low in many areas. And while China has first-rate censorship capabilities and enormous influence on the behavior of citizens, it lacks the ability to cover up or hide a serious crisis on the scale of Covid-19 outbreaks. People would be <a href="https://quillette.com/2020/09/06/the-china-syndrome-part-iv-did-china-fudge-its-data/" rel="noopener" target="_blank"><span>documenting, discussing, and sharing</span></a> the events the same way they were able to in Wuhan at the onset of the pandemic ‚Äî from watching out for family, friends, and neighbors, to recording videos of government officials, to noticing the construction of new <a href="https://www.wsj.com/articles/how-china-can-build-a-coronavirus-hospital-in-10-days-11580397751" rel="noopener" target="_blank"><span>Covid-specific hospitals</span></a>. The Chinese government knows its strengths, but probably also its limitations, and seems to understand that containing the actual virus is far more beneficial and feasible than containing information about its spread.&nbsp;</p></div>
<h4><strong>China‚Äôs Wins</strong></h4>
<div><p>Given what we know about the virus in China, the evidence suggests that the country really has Covid-19 under control, that the Chinese government has strategies that effectively and comprehensively keep it at bay, and that the reported numbers of cases and deaths are likely not hugely different from what has been officially reported. Western media has at times been distracted by China‚Äôs behavior in the first weeks of the pandemic, allowing those decisions to <a href="https://www.theguardian.com/science/2020/oct/11/china-coronavirus-covid-19-medical-research" rel="noopener" target="_blank"><span>color or even discount</span></a> what has happened since. A sober assessment now reveals <a href="https://www.nytimes.com/2020/08/25/world/asia/china-xinjiang-covid.html" rel="noopener" target="_blank"><span>heavy-handed</span></a> but exceedingly effective management of the virus on a scale likely impossible anywhere else in the world.</p></div>

<p>While questions are still being asked about China‚Äôs early role in the virus‚Äôs spread, attention must also be paid to what this apparent success means for China. Economically, it has managed a rapid recovery, <a href="https://www.reuters.com/article/us-china-economy-gdp/chinas-economic-recovery-quickens-as-consumption-returns-idUSKBN27404Z" rel="noopener" target="_blank"><span>growing by 4.9%</span></a> between July and September and profiting handsomely from a world stuck at home and dependent Chinese goods. In terms of global health, its success in managing the virus has allowed it to engage in <a href="https://www.sciencemag.org/news/2020/11/global-push-covid-19-vaccines-china-aims-win-friends-and-cut-deals" rel="noopener" target="_blank"><span>vaccine diplomacy</span></a> (rather than vaccine nationalism), helping develop and disseminate vaccines in close collaboration with other countries. And internally, some surveys show Chinese citizens indicating <a href="https://www.npr.org/2020/09/23/913650298/as-u-s-views-of-china-grow-more-negative-chinese-support-for-their-government-ri" rel="noopener" target="_blank"><span>more faith in the Chinese government,</span></a> especially in contrast to the dawdling responses seen elsewhere around the world. At least internally, China‚Äôs pandemic successes seem to be quickly outweighing the costs of its mistakes.</p>
<div><p>To assume that China has been similarly afflicted by the virus as other advanced countries and has simply hidden the truth would be to ignore the fundamental differences in pandemic response and government that many so keenly point out. All things considered, China‚Äôs experience with Covid-19 first reflects its weaknesses, in the hiding of the initial outbreak, but then demonstrates its <a href="https://www.factcheck.org/2020/06/china-didnt-stop-virus-cold-outside-wuhan/" rel="noopener" target="_blank"><span>strengths</span></a>, through intense control and <a href="https://www.washingtonpost.com/health/2020/11/10/us-has-absolutely-no-control-over-coronavirus-china-is-top-tiniest-risks/" rel="noopener" target="_blank"><span>exacting management of risks</span></a>. It turns out the truth might be rather boring: China has the capacity to implement effective physical restraints to stop the virus but probably not the ability to cover up huge numbers of Covid-related deaths. In short, the story adds up.</p></div>
<h4><strong>Appendix</strong></h4>
<p>This appendix shows each of the articles used to inform the findings of this article, as well as how the articles scored according to The Factual's credibility algorithm. To learn more, ‚Ä¶</p></span></p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.thefactual.com/can-chinas-covid-news-be-trusted">https://blog.thefactual.com/can-chinas-covid-news-be-trusted</a></em></p>]]>
            </description>
            <link>https://blog.thefactual.com/can-chinas-covid-news-be-trusted</link>
            <guid isPermaLink="false">hacker-news-small-sites-25490119</guid>
            <pubDate>Sun, 20 Dec 2020 22:23:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Four Arguments for Eliminating Television by Jerry Mander (2005) [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25490035">thread link</a>) | @johntfella
<br/>
December 20, 2020 | http://onthewing.org/user/Ev_Four%20Arguments%20for%20Eliminating%20Television.pdf | <a href="https://web.archive.org/web/*/http://onthewing.org/user/Ev_Four%20Arguments%20for%20Eliminating%20Television.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://onthewing.org/user/Ev_Four%20Arguments%20for%20Eliminating%20Television.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25490035</guid>
            <pubDate>Sun, 20 Dec 2020 22:13:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Distributed Charge: Real Time Machine to Machine Micropayments for Car Chargers]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25489949">thread link</a>) | @fortran77
<br/>
December 20, 2020 | http://andyschroder.com/DistributedCharge/ | <a href="https://web.archive.org/web/*/http://andyschroder.com/DistributedCharge/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://andyschroder.com/DistributedCharge/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25489949</guid>
            <pubDate>Sun, 20 Dec 2020 22:03:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Create Postcode map from OpenStreetMap data]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25489905">thread link</a>) | @konsalexee
<br/>
December 20, 2020 | https://blog.alexoglou.com/postcode-map/ | <a href="https://web.archive.org/web/*/https://blog.alexoglou.com/postcode-map/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><figure>
    
  <span>
    <span>
      <picture>
        <source srcset="https://blog.alexoglou.com/static/1b247a8b4c55df7e62caa409403daeb9/03f31/featured.webp 1000w,
https://blog.alexoglou.com/static/1b247a8b4c55df7e62caa409403daeb9/2c6ed/featured.webp 1833w" sizes="(max-width: 1833px) 100vw, 1833px" type="image/webp">
        <source srcset="https://blog.alexoglou.com/static/1b247a8b4c55df7e62caa409403daeb9/da8b6/featured.png 1000w,
https://blog.alexoglou.com/static/1b247a8b4c55df7e62caa409403daeb9/4c920/featured.png 1833w" sizes="(max-width: 1833px) 100vw, 1833px" type="image/png">
        <img src="https://blog.alexoglou.com/static/1b247a8b4c55df7e62caa409403daeb9/4c920/featured.png" alt="featured" title="">
      </picture>
      </span>
  </span>
  
    <figcaption>The final result in Kepler.gl.
    </figcaption>
</figure>
<h2>Why I even started working on this madness?</h2>
<p>Anyone who is working with geospatial data, will probably sometime in h/er/is career will need to aggregate data based on a common field. For a project of mine, I wanted to provide insights about neighborhoods and how they are evolving over time.</p>
<p>As I started mining the web and aggregate the data, the Least Common Multiple I could find, the foreign key for all the tables or name it however you want, was the Postcode or Postal Code or Zipcode.</p>
<p>So far so good, but when I started searching for ways to visualize the data, I quickly found out that there is not a single postcode boundary map on the web to serve my needs. If you live in the U.S. someone else has probably worked to help you. But many countries lack those data.</p>
<h2>Using Open Data to solve this problem</h2>
<p>After searching for quite a long time and writing on forums like <a href="https://help.openstreetmap.org/questions/77790/postal-code-clustering-from-osm-dataf">help.openstreetmap.org</a> I started having a feeling that there is a chance that I can produce an approximate map myself using open data.</p>
<p>Below are the steps I followed to create my country‚Äôs (Greece) postcode boundary map. You can perform similar steps to produce your map.</p>
<h3>Step 1: Finding the right data</h3>
<p>OpenStreetMap dataset is huge. Even if you try to parse the whole dataset, I am sure that your PC will have a really hard time. The best thing to do when you are working for a specific country is to download a specific dataset from a website like <a href="https://www.geofabrik.de/">Geofabrik</a>.</p>
<p>Geofabrik is a company offering consulting services for OSM related projects. For our luck, they offer clean datasets for each country. <a href="https://download.geofabrik.de/europe/greece.html">Here</a> you can find the OSM data for Greece.</p>
<p>Download the latest <code>pbf</code> file and then we will continue with the next step.</p>
<blockquote>
<p>What is <code>pbf</code>? <code>pbf</code> is a Protocol Buffer Binary Format and is used as a more efficient alternative of XML. For more info about <code>pbf</code> and why OSM are using it read <a href="https://wiki.openstreetmap.org/wiki/PBF_Format">here</a></p>
</blockquote>
<h3>Step 2: Cleaning the data</h3>
<div data-language="bash"><pre><code><span>.</span>
‚îî‚îÄ‚îÄ <span>[</span><span>4</span>.1G<span>]</span>  greece-latest.osm</code></pre></div>
<p>I downloaded the file, and now I have a <code>4GB</code> file, full of data. Most of them are not essential to our task, so let‚Äôs find out how we can reduce the data to the minimum.</p>
<p>For the process of pruning the dataset, there is a beautiful tool, called <a href="https://wiki.openstreetmap.org/wiki/Osmfilter">osmfilter</a>.</p>
<p>After reading the documentation, I figured out which data was essential for producing the map, all the addresses that included a postcode. The command to keep only these data is the following</p>
<div data-language="bash"><pre><code>osmfilter greece-latest.osm --keep<span>=</span><span>"addr:postcode"</span> <span>&gt;</span> greece-post-only.osm</code></pre></div>
<p>This will take some time, so don‚Äôt worry if you cannot see anything printing for a while in the bash.</p>
<p>Now our file size went from <code>4.1GB</code> to <code>37M</code>. Now it is easier for programs like QGIS to handle our file.</p>
<div data-language="bash"><pre><code><span>.</span>
‚îú‚îÄ‚îÄ <span>[</span><span>4</span>.1G<span>]</span>  greece-latest.osm
‚îî‚îÄ‚îÄ <span>[</span> 37M<span>]</span>  greece-post-only.osm</code></pre></div>
<p>If we want further pruning of our data, let‚Äôs keep only the nodes that have a postcode and drop ways and relations. Feel free to read OSM documentation on what do these data represent.</p>
<p>Execute the following command and let‚Äôs check the result.</p>
<div data-language="bash"><pre><code>osmfilter greece-latest.osm --drop-ways --drop-relations --keep<span>=</span><span>"addr:postcode"</span> <span>&gt;</span> greece-post-only-nodes.osm</code></pre></div>
<p>Now you will see that the resulted document will be smaller (hopefully). In our case, it is <code>9MB</code> smaller than the previous one.</p>
<div data-language="bash"><pre><code><span>.</span>
‚îú‚îÄ‚îÄ <span>[</span><span>4</span>.1G<span>]</span>  greece-latest.osm
‚îú‚îÄ‚îÄ <span>[</span> 28M<span>]</span>  greece-post-only-nodes.osm
‚îî‚îÄ‚îÄ <span>[</span> 37M<span>]</span>  greece-post-only.osm</code></pre></div>

<p><strong>Update</strong></p>
<p>As I imported the data in the GQIS, I found that the postcode attribute is nested inside the <code>other_tags</code> field. Find the relevant post I made <a href="https://gis.stackexchange.com/questions/380685/unpacking-attributes-from-osm">at gis.stackexcange</a>, but I did not have any luck.</p>
<p>A workaround I found, is to get the data I wanted from Overpass Turbo, executing this query, and download them as GeoJSON:</p>
<div data-language="js"><pre><code>
<span>[</span>out<span>:</span>json<span>]</span><span>[</span>timeout<span>:</span><span>25</span><span>]</span><span>;</span>

<span>{</span><span>{</span>geocodeArea<span>:</span>Greece<span>}</span><span>}</span><span>-</span><span>&gt;</span><span>.</span>searchArea<span>;</span>

<span>(</span>
  
  node<span>[</span><span>"addr:postcode"</span><span>]</span><span>(</span>area<span>.</span>searchArea<span>)</span><span>;</span>

<span>)</span><span>;</span>

out body<span>;</span>
<span>&gt;</span><span>;</span>
out skel qt<span>;</span></code></pre></div>
<h3>Step 3: Import them to QGIS</h3>
<blockquote>
<p>QGIS is a Free and Open Source Geographic Information System</p>
</blockquote>
<p>Now it‚Äôs time to import our data to QGIS and start playing around to create our boundary map. Not sure what QGIS is? Do not worry, I did not know anything either, but there is a ton of documentation and a lovely community ready to support you.</p>
<p>Open the QGIS app and import the file we downloaded from Overpass Turbo.</p>
<p>To import our data perform the following steps:</p>
<ol>
<li>Click Layer ‚Üí Add Layer ‚Üí Add Vector Layer</li>
<li>Then Navigate to the file you created in the previous step and select it</li>
<li>Click Add</li>
</ol>
<p>You should see a screen like the one below if everything worked right.</p>
<figure>
    
  <span>
    <span>
      <picture>
        <source srcset="https://blog.alexoglou.com/static/681b6911c9fa16f46da9e76553f1ca02/03f31/overpass-nodes.webp 1000w,
https://blog.alexoglou.com/static/681b6911c9fa16f46da9e76553f1ca02/7e36f/overpass-nodes.webp 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/webp">
        <source srcset="https://blog.alexoglou.com/static/681b6911c9fa16f46da9e76553f1ca02/da8b6/overpass-nodes.png 1000w,
https://blog.alexoglou.com/static/681b6911c9fa16f46da9e76553f1ca02/88b03/overpass-nodes.png 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/png">
        <img src="https://blog.alexoglou.com/static/681b6911c9fa16f46da9e76553f1ca02/88b03/overpass-nodes.png" alt="overpass nodes" title="">
      </picture>
      </span>
  </span>
  
    <figcaption>Our data successfully loaded.
    </figcaption>
</figure>
<p>Also, click a node and you should see in the Feature window the attribute <code>addr:postcode</code>.</p>
<p>If you wish to display a map behind to get a better feeling of your data, in the Browser panel on your left click <code>XYX tiles ‚Üí OpenStreetmap</code> and voila.</p>
<h3>Step 4: Voronoi to the rescue</h3>
<p>Now that we imported the data what? We need to find an algorithm to somehow connect all these dots and occupy the space they deserve.</p>
<p>Voronoi, a Russian Mathematician, gave us a pretty elegant solution for this problem. The theory behind although technically is pretty complex, the following GIF will help you visualize what we are going to perform with the help of QGIS.</p>
<figure>
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Voronoi_growth_euclidean.gif/220px-Voronoi_growth_euclidean.gif">
    <figcaption>How Voronoi works.
    </figcaption>
</figure>
<p>Read more about how Voronoi works <a href="https://en.wikipedia.org/wiki/Voronoi_diagram">here</a> and let‚Äôs continue building this map.</p>
<p>To run the Voronoi algorithm perform the following steps:</p>
<ol>
<li>Click on the layer that contains our data</li>
<li>Click on Vector ‚Üí Geometry Tools ‚Üí Voronoi Polygons</li>
</ol>
<p>Now you can press <code>Run</code> immediately or you can play around with the <code>Buffer region</code> variable. <code>Buffer region</code> is explained <a href="https://gis.stackexchange.com/questions/220894/what-does-buffer-mean-in-qgis-voronoi-dialog">here</a>, but also take a look at the meaning in the image below.</p>
<figure>
    <img src="https://i.stack.imgur.com/oYk9j.png">
    <figcaption>Voronoi Buffer factor.
    </figcaption>
</figure>
<p>Now let‚Äôs click Run and check the results (note that the process takes some time, hopefully they enable parallelization of the process in the future).</p>
<figure>
    
  <span>
    <span>
      <picture>
        <source srcset="https://blog.alexoglou.com/static/3342b284fa979f330b73f72df3700463/03f31/voronoi.webp 1000w,
https://blog.alexoglou.com/static/3342b284fa979f330b73f72df3700463/7e36f/voronoi.webp 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/webp">
        <source srcset="https://blog.alexoglou.com/static/3342b284fa979f330b73f72df3700463/da8b6/voronoi.png 1000w,
https://blog.alexoglou.com/static/3342b284fa979f330b73f72df3700463/88b03/voronoi.png 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/png">
        <img src="https://blog.alexoglou.com/static/3342b284fa979f330b73f72df3700463/88b03/voronoi.png" alt="voronoi" title="">
      </picture>
      </span>
  </span>
  
    <figcaption>Our created Voronoi polygons.
    </figcaption>
</figure>
<h3>Step 5: Connecting Polygons</h3>
<p>Our polygons are ready. But many of them have the same postcode. To merge them into one polygon we will use the <code>Dissolve</code> function.</p>
<ol>
<li>Click on the layer that contains our Voronoi Polygons</li>
<li>Click on Vector ‚Üí Geometry Tools ‚Üí Dissolve</li>
<li>In the Dissolve fields select the <code>addr:postcode</code> to tell our algorithm to merge them based on the postcode attribute</li>
</ol>
<figure>
    
  <span>
    <span>
      <picture>
        <source srcset="https://blog.alexoglou.com/static/b6b6fa4d48e6f004e9d5829de9fd4cd9/03f31/dissolve.webp 1000w,
https://blog.alexoglou.com/static/b6b6fa4d48e6f004e9d5829de9fd4cd9/7e36f/dissolve.webp 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/webp">
        <source srcset="https://blog.alexoglou.com/static/b6b6fa4d48e6f004e9d5829de9fd4cd9/da8b6/dissolve.png 1000w,
https://blog.alexoglou.com/static/b6b6fa4d48e6f004e9d5829de9fd4cd9/88b03/dissolve.png 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/png">
        <img src="https://blog.alexoglou.com/static/b6b6fa4d48e6f004e9d5829de9fd4cd9/88b03/dissolve.png" alt="dissolve" title="">
      </picture>
      </span>
  </span>
  
    <figcaption>And now we have the polygons grouped  based on the postcode. But they overflow the land.
    </figcaption>
</figure>
<h3>Step 6: Union</h3>
<p>As you can see in the picture above, our polygons are spread across the sea. To avoid that, we can import a boundary map of our country.</p>
<p>I found one map for Greece from <a href="https://geodata.gov.gr/en/dataset/op1a-anuot1kwv-ko1votntwv/resource/b387a8a0-69b9-42a4-a08b-e33136096b95">GeoData.gov</a> and imported the shapefile. This shapefile includes the boundaries for all the municipalities, but it fits our needs.</p>
<figure>
    
  <span>
    <span>
      <picture>
        <source srcset="https://blog.alexoglou.com/static/5dc08c2191d5252625072451b9caf43f/03f31/municipalities.webp 1000w,
https://blog.alexoglou.com/static/5dc08c2191d5252625072451b9caf43f/7e36f/municipalities.webp 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/webp">
        <source srcset="https://blog.alexoglou.com/static/5dc08c2191d5252625072451b9caf43f/da8b6/municipalities.png 1000w,
https://blog.alexoglou.com/static/5dc08c2191d5252625072451b9caf43f/88b03/municipalities.png 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/png">
        <img src="https://blog.alexoglou.com/static/5dc08c2191d5252625072451b9caf43f/88b03/municipalities.png" alt="municipalities" title="">
      </picture>
      </span>
  </span>
  
    <figcaption>Now our map should look like this.
    </figcaption>
</figure>
<p>To create the file map, follow the next steps:</p>
<ol>
<li>Click on the layer that contains our Dissolved layer and the Country‚Äôs boundaries map</li>
<li>Click on Vector ‚Üí Geometry Tools ‚Üí Intersection</li>
<li>In the Intersection input fields to keep, select only the <code>addr:postcode</code></li>
</ol>
<figure>
    
  <span>
    <span>
      <picture>
        <source srcset="https://blog.alexoglou.com/static/d13e5e4408079071282a273ac568fbca/03f31/post-map.webp 1000w,
https://blog.alexoglou.com/static/d13e5e4408079071282a273ac568fbca/7e36f/post-map.webp 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/webp">
        <source srcset="https://blog.alexoglou.com/static/d13e5e4408079071282a273ac568fbca/da8b6/post-map.png 1000w,
https://blog.alexoglou.com/static/d13e5e4408079071282a273ac568fbca/88b03/post-map.png 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/png">
        <img src="https://blog.alexoglou.com/static/d13e5e4408079071282a273ac568fbca/88b03/post-map.png" alt="post map" title="">
      </picture>
      </span>
  </span>
  
    <figcaption>Our map is ready to use now, with all the postcodes.
    </figcaption>
</figure>
<h3>Feedback</h3>
<p>The results seem promising. I can see a pretty high accuracy in some areas, but unfortunately some areas with only a few nodes are not able to get represented appropriately.</p>
<figure>
    
  <span>
    <span>
      <picture>
        <source srcset="https://blog.alexoglou.com/static/dc40d4fb43921d630c34bd30f20b3de5/03f31/false-postcode.webp 1000w,
https://blog.alexoglou.com/static/dc40d4fb43921d630c34bd30f20b3de5/7e36f/false-postcode.webp 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/webp">
        <source srcset="https://blog.alexoglou.com/static/dc40d4fb43921d630c34bd30f20b3de5/da8b6/false-postcode.png 1000w,
https://blog.alexoglou.com/static/dc40d4fb43921d630c34bd30f20b3de5/88b03/false-postcode.png 1920w" sizes="(max-width: 1920px) 100vw, 1920px" type="image/png">
        <img src="https://blog.alexoglou.com/static/dc40d4fb43921d630c34bd30f20b3de5/88b03/false-postcode.png" alt="false postcode" title="">
      </picture>
      </span>
  </span>
  
    <figcaption>Areas like the selected have only one node, leading to false postcode polygon.
    </figcaption>
</figure>
<p>If by any means you are someone from the QGIS or OSM community, I would appreciate your feedback on how to make the map even more accurate. Although this method worked, I feel that higher accuracy can be achieved!</p>
<p>The simplest way to achieve higher accuracy would be to generate more nodes with postcodes. If anyone knows how, please comment or reach me directly on my <a href="https://twitter.com/CostasAlexoglou">twitter</a>.</p></div></div>]]>
            </description>
            <link>https://blog.alexoglou.com/postcode-map/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25489905</guid>
            <pubDate>Sun, 20 Dec 2020 21:56:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Threat Assessment Brief ‚Äì Rapid increase of a SARS-CoV-2 variant observed in UK [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25489855">thread link</a>) | @qb
<br/>
December 20, 2020 | https://www.ecdc.europa.eu/sites/default/files/documents/SARS-CoV-2-variant-multiple-spike-protein-mutations-United-Kingdom.pdf | <a href="https://web.archive.org/web/*/https://www.ecdc.europa.eu/sites/default/files/documents/SARS-CoV-2-variant-multiple-spike-protein-mutations-United-Kingdom.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.ecdc.europa.eu/sites/default/files/documents/SARS-CoV-2-variant-multiple-spike-protein-mutations-United-Kingdom.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25489855</guid>
            <pubDate>Sun, 20 Dec 2020 21:50:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Perceptual Control Theory]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25489735">thread link</a>) | @optimalsolver
<br/>
December 20, 2020 | https://randommathgenerator.com/2020/12/20/perceptual-control-theory/ | <a href="https://web.archive.org/web/*/https://randommathgenerator.com/2020/12/20/perceptual-control-theory/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<section id="primary">
		<main id="main">

			
<article id="post-1907">

	

	
	<div>
		
<p><a href="https://en.wikipedia.org/wiki/Perceptual_control_theory">Perceptual Control Theory</a> is a very popular model of how the brain works. Its basic premise is this: our perception of the world is not merely based on what our senses perceive. It is also based on what we ‚Äúexpect to perceive‚Äù. For instance, when I am in a car driving down a road, I ‚Äúexpect‚Äù to see some trees, perhaps some houses, people walking on the sidewalk, etc. Hence, on staring out of the window of the car, if I continue seeing just these things, the conscious part of my mind will zone out, while my unconscious brain will keep registering these things passing by the window. However, if I suddenly see a Royal Bengal tiger jumping on my car, the unconscious brain will make the conscious brain zap back into attention, and I will reflexively crouch, or perhaps shield my body somehow. </p>



<p>If I were to re-phrase what perceptual control theory says, I would say that it talks about expectation, and how that expectation aligns with the world around us. When I sleep, I expect to be surrounded by relative peace and calm. Hence, on hearing a loud noise, this expectation has been falsified, and I wake up in order to understand what is happening around me. I need to create a new model of the world, in which such disturbances are possible while I sleep. The good thing about these expectations and models of the world is that they can be corrected quickly and decisively. If I don‚Äôt expect to see snakes in my house, and I suddenly see a snake one day, my mental model of my house will change to include the possibility of snakes. I‚Äôll now be more careful when I open cupboards and peer down drain pipes, in order to improve my chances of survival. </p>



<p>However, our brain also forms expectations and models of the world that cannot be corrected so quickly and decisively. Hence, we stick to these models for a long period of time, almost always to our detriment. Why am I writing about this? Because I have often made mental models of the world that were incorrect, and proved to have significant impacts on my life in terms of career, social life, etc. In this article, I will talk about one particular example. </p>



<p>I have a mental model of the world which is perhaps more aspirational than realistic. When I pick up a book, or a paper, I expect that if I <strong>really focus</strong>, I will be able to able to read it within a few hours, and well within a day. This is my expectation. However, reality is different. Time after time, I have noticed that I am not able to read more than a couple of pages of a mathematics paper or textbook in one sitting. It is possible that I am slower than usual, or maybe this is the pace at which everybody reads. However, I refuse to accept that this is fundamentally true for me, because I may have ambitions of blazing through lots of books and papers in no time, and doing good research as a consequence. Hence, one part of my brain has an expectation that aligns with my lofty goals, and there is another part of my brain that knows that this is not possible. </p>



<p>What happens as a result of this incoherence? When my ‚Äúexpectation‚Äù and ‚Äúreality‚Äù are different, instead of crouching like I did when I saw the tiger, I decide to not read that book or paper at all. I decide to do something completely different, like reading another book. Note the difference: sense perception forces us to change our model of the world much more quickly and easily. If I expect to not see a tiger on the road, and I see a tiger, my model of the world changes instantaneously to include the possibility of tigers on the road. If I expect to see Trump-Pence banners on the roads, and I see Biden-Harris banners instead, my model of the world quickly changes to accommodate the fact that there may be many Democrats in my neighborhood. However, when I have two models of productivity in my brain, even though one may have resulted from past experience, it is very difficult to abandon the aspirational model for the more realistic model. </p>



<p>In this case, the aspirational and ambitious model in my brain suggests that I should be able to blaze through thick tomes in no time if I <strong>really focus</strong>. However, the more realistic model, which has been informed by past experiences, suggests that on average, I do not read more than 4 pages of math in a day. At this stage my brain does two things: it says that the former model may still not be wrong, because I didn‚Äôt <strong>really focus</strong> when I read only 4 pages. When I do, I will obviously be able to read more. This is perhaps similar to ‚ÄúTrue Communism has never really been tried. When the one true Communist establishes a state, humanity will progress like never before.‚Äù The other thing that my brain does is that it recognizes that I will probably not be able to truly focus and read large parts of this book. Hence, in order to avoid potentially falsifying my ambitious model, it forces me to read something completely different, through which I can escape judgement. </p>



<p>I have suffered because of this for a long time. I don‚Äôt work on homework assignments until the last moment because I think that I will be able to do them the day before class. I don‚Äôt work on papers on time because I think that I will be able to do them at the last minute. I don‚Äôt read the texts I am supposed to. Because I cannot find a way to falsify the ambitious part of my brain. </p>



<p>Yesterday, I attended a productivity workshop. In that workshop, one interesting perspective that I gained was that I need to manage my expectations. To think ‚ÄúI will be happy if I am able to read 4 pages of this book‚Äù as opposed to ‚ÄúI will be happy only when I am able to read this whole book in a short time‚Äù. Although it may sound counterintuitive, lowering expectations over the short term may lead to much better results in the long run. Perhaps managing expectations is an extremely important part of my life that I never quite recognized before. If I have a model of the world, I should write down the circumstances in which I will accept it as an accurate model of the world, and also the circumstances in which I will abandon it. In this case, I should write down that if I am not able to read 50 pages of a textbook in a day, I will probably never be able to do it, and hence this expectation is false. I should revise my expectations, until my model of the world aligns with the actual world. </p>



<p>In some ways, this is akin to the scientific method. And it is equally powerful when falsifying theories of black magic, as it is in falsifying delusional theories of the self. </p>




	</div><!-- .entry-content -->

	<!-- .entry-footer -->

			<div>
	
	<p>
		Hello! My name is Ayush Khaitan, and I'm a graduate student in Mathematics.

I am always excited about talking to people about their research. Please please set up a meeting with me if you feel that I might have an interesting perspective to offer- https://calendly.com/ayushkhaitan/meeting-with-ayush		<a href="https://randommathgenerator.com/author/ayushkhaitan3437/" rel="author">
			View more posts		</a>
	</p><!-- .author-description -->
</div><!-- .author-bio -->
	
</article><!-- #post-${ID} -->

	<nav role="navigation" aria-label="Posts">
		<h2>Post navigation</h2>
		
	</nav>
<!-- #comments -->

		</main><!-- #main -->
	</section><!-- #primary -->


	</div></div>]]>
            </description>
            <link>https://randommathgenerator.com/2020/12/20/perceptual-control-theory/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25489735</guid>
            <pubDate>Sun, 20 Dec 2020 21:33:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Find bulk stores near you that allow bring your own container]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25489549">thread link</a>) | @heratyian
<br/>
December 20, 2020 | https://www.biggreen.company/zero_waste_map | <a href="https://web.archive.org/web/*/https://www.biggreen.company/zero_waste_map">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.biggreen.company/zero_waste_map</link>
            <guid isPermaLink="false">hacker-news-small-sites-25489549</guid>
            <pubDate>Sun, 20 Dec 2020 21:11:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[(sci-fi) What if time had another dimension]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25489359">thread link</a>) | @dusted
<br/>
December 20, 2020 | http://dusted.dk/pages/phlog/2020-12-20.txt | <a href="https://web.archive.org/web/*/http://dusted.dk/pages/phlog/2020-12-20.txt">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://dusted.dk/pages/phlog/2020-12-20.txt</link>
            <guid isPermaLink="false">hacker-news-small-sites-25489359</guid>
            <pubDate>Sun, 20 Dec 2020 20:44:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[New Tesla update increases new Model 3 range, fully using the new 82 kWh battery]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25489040">thread link</a>) | @CarCooler
<br/>
December 20, 2020 | https://www.teslaoracle.com/2020/12/20/latest-tesla-update-increases-new-model-3-range-fully-utilizing-the-new-82-kwh-battery/ | <a href="https://web.archive.org/web/*/https://www.teslaoracle.com/2020/12/20/latest-tesla-update-increases-new-model-3-range-fully-utilizing-the-new-82-kwh-battery/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-content" role="main">

	
<article id="post-7090">
	
	<!-- .cover-header -->

	<div id="post-inner">

		<div>
        
			<figure data-amp-original-style="margin-bottom:30px;">
            <figcaption data-amp-original-style="border:1px dotted blue; margin:2px 0; text-align:center;">Advertisement</figcaption>
            <amp-ad width="100vw" height="320" type="adsense" data-ad-client="ca-pub-0923072950810999" data-ad-slot="4076643206" data-auto-format="rspv" data-full-width="" i-amphtml-layout="fixed">
              
            </amp-ad>
            </figure>
				<!-- .Adsense Ad -->

		
<p>Tesla unlocks the full range of the new 2021 Tesla Model 3 with its latest software update version 2020.48.12.1. Tesla started offering all the <a href="https://www.teslaoracle.com/2020/10/16/tesla-launches-the-refreshed-2021-tesla-model-3-with-range-boost/#range-boost">new Model 3 variants with range boost</a> back in October, but the cars were showing the old ranges on the center display screen.</p>



<p>In the meantime, the owners of imported Tesla Model 3 cars in Germany found out that the new versions of the car had an 82 kWh battery pack instead of the usual ~74 kWh. This discovery was posted by a German Model 3 owner on a local Tesla forum when he took the following screenshot from his vehicle registration book.</p>



<figure><amp-img width="740" height="585" src="https://www.teslaoracle.com/wp-content/uploads/2020/12/2021-Model-3_82-kWh-battery-proof.jpg" alt="Documented proof of the 2021 Tesla Model 3 having an 82 kWh battery pack." srcset="https://www.teslaoracle.com/wp-content/uploads/2020/12/2021-Model-3_82-kWh-battery-proof.jpg 740w, https://www.teslaoracle.com/wp-content/uploads/2020/12/2021-Model-3_82-kWh-battery-proof-300x237.jpg 300w" sizes="(max-width: 740px) 100vw, 740px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="740" height="585" src="https://www.teslaoracle.com/wp-content/uploads/2020/12/2021-Model-3_82-kWh-battery-proof.jpg" alt="Documented proof of the 2021 Tesla Model 3 having an 82 kWh battery pack." srcset="https://www.teslaoracle.com/wp-content/uploads/2020/12/2021-Model-3_82-kWh-battery-proof.jpg 740w, https://www.teslaoracle.com/wp-content/uploads/2020/12/2021-Model-3_82-kWh-battery-proof-300x237.jpg 300w" sizes="(max-width: 740px) 100vw, 740px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzU4NScgd2lkdGg9Jzc0MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img><figcaption>Documented proof of the 2021 Tesla Model 3 having an 82 kWh battery pack. Source: Discussion on <a href="https://tff-forum.de/t/model-3-refresh-aus-oktober-2020/82613/2770" target="_blank" rel="noreferrer noopener">tff-forum.de</a></figcaption></figure>



<p>So, the mystery of the boosted <a href="https://www.teslaoracle.com/topic/model-3/">Tesla Model 3</a> range is solved. This has been possible due to Panasonic producing more energy-dense 2170 cells at its Gigafactory Nevada cell production plant.</p>



<div><figure><a href="https://evannex.com/?ref=Iqtidar_TeslaOracle_EVANNEX_Banner" target="_blank" rel="sponsored noopener noreferrer"><amp-img src="https://www.teslaoracle.com/wp-content/uploads/2020/10/evannex_googlead_300x250.jpg" alt="" width="300" height="250" layout="intrinsic" i-amphtml-layout="intrinsic"><img src="https://www.teslaoracle.com/wp-content/uploads/2020/10/evannex_googlead_300x250.jpg" alt="" width="300" height="250" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzI1MCcgd2lkdGg9JzMwMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img></a><figcaption>‚Äì Sponsored ‚Äì</figcaption></figure></div>



<p>The 2020.48.12.1 release notes state the newly extended / unlocked range as:</p>



<blockquote><p><strong>Range Display</strong></p><p>Your car will now display a slightly higher range to more accurately reflect the capacity of the battery.</p><cite>Get the full release notes (2020.48.12.1) at <a href="https://teslascope.com/teslapedia/software/2020.48.12.1" target="_blank" rel="noreferrer noopener">TeslaScope.com</a></cite></blockquote>



<p>The North American reservation holders of the <a href="https://www.teslaoracle.com/2020/10/16/tesla-launches-the-refreshed-2021-tesla-model-3-with-range-boost/">new and refreshed Tesla Model 3</a> have not been able to verify the larger battery pack because the European owners received their deliveries first.</p>



<p>Just yesterday I was talking to several new Model 3 reservation holders from the United States, mostly from California, they are all still waiting for their deliveries. Some are hoping their cars will be delivered after Christmas.</p>



<p>The biggest beneficiary of this range boost will be the owners of the Tesla Model 3 Long Range AWD, as it got a staggering +30 miles of extended range in the new 2021 Model 3 version.</p>



<p>Besides this, Tesla is soon going to release the most exciting <a href="https://www.teslaoracle.com/topic/ota-updates/">software update</a> of the year, the feature-packed <a href="https://www.teslaoracle.com/tag/v11-update/">firmware version v11</a>. Elon Musk had <a href="https://www.teslaoracle.com/2020/11/19/elon-musk-teases-tesla-v11-holiday-season-software-release/">teased about this upcoming major software update</a> last month, V11 is most probably going to start rolling out any day now. The best thing is all Tesla owners will be getting it without spending a dime.</p>



<p>Stay tuned for the latest from the Tesla universe, follow us on:<br><a rel="noreferrer noopener" href="https://news.google.com/publications/CAAqBwgKMOarmgswgLayAw" target="_blank">Google News</a>&nbsp;|&nbsp;<a href="https://flipboard.com/@TeslaOracle" target="_blank" rel="noreferrer noopener nofollow">Flipboard</a>&nbsp;|&nbsp;<a href="https://feedly.com/i/subscription/feed%2Fhttps%3A%2F%2Fwww.teslaoracle.com%2Ffeed%2F" target="_blank" rel="noreferrer noopener nofollow">RSS (Feedly)</a></p>




		<!-- Adsense Matched -->
        <figure>
        <amp-ad width="100vw" height="320" type="adsense" data-ad-client="ca-pub-0923072950810999" data-ad-slot="9763094783" data-auto-format="mcrspv" data-full-width="" i-amphtml-layout="fixed">
          
        </amp-ad>
        </figure><!-- Adsense Matched End -->
		</div><!-- .entry-content -->
		
		<!-- .post-meta-wrapper -->

		<div>
	<!-- .author-name -->
	<div>
		<p>Iqtidar has been writing about Tesla, Elon Musk, and EVs for more than 3 years on XAutoWorld.com, many of his articles have been republished on CleanTechnica and InsideEVs, maintains a healthy relationship with the Tesla community across the Social Media sphere.</p>
		<p><a href="https://www.teslaoracle.com/author/iqtidarali/" rel="author">
			View Archive 		</a>
	</p></div><!-- .author-description -->
</div><!-- .author-bio -->

	</div><!-- .post-inner -->

	
	<!-- .pagination-single -->

	
		<!-- .comments-wrapper -->

		
</article><!-- .post -->

</div></div>]]>
            </description>
            <link>https://www.teslaoracle.com/2020/12/20/latest-tesla-update-increases-new-model-3-range-fully-utilizing-the-new-82-kwh-battery/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25489040</guid>
            <pubDate>Sun, 20 Dec 2020 19:57:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Whatever happened to Steve Moraff? (2010)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25489017">thread link</a>) | @bluedino
<br/>
December 20, 2020 | https://intotheverticalblank.com/2010/09/15/what-ever-happened-to-steve-moraff/ | <a href="https://web.archive.org/web/*/https://intotheverticalblank.com/2010/09/15/what-ever-happened-to-steve-moraff/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page">

			<!-- #masthead -->

			<div id="content">

	<section id="primary">
		<main id="main" role="main">

		
			<article id="post-5134">
	
	
		

	<div>
		<p>His name might not spark wild-eyed fascination with many retro gaming enthusiasts, but Steve Moraff was a little bit of a legend in his own time. When we first <a href="https://intotheverticalblank.com/encyclopedia/go/" target="_self" title="Mt. Fuji towers 3776 meters as Japan‚Äôs highest mountain range &nbsp; It‚Äôs a striking landmark, that rises almost impossibly out of an unassuming plain, to a pinnacle of ice-capped beauty.&nbsp; After it‚Äôs mammoth breadth is realized, it settles back down again into a valley as if it was never there. &nbsp; It was formed by‚Ä¶">go</a>t a PC (non-Atari machine) in the early 1990‚Äôs, we jumped on the early CD-Rom craze. &nbsp;The best use of CDs at that time was for ‚Äúshovel-ware‚Äù compilations of share-ware games. One developer out-shined all but Apogee and Id. The developer‚Äôs name &nbsp;was Moraffware. &nbsp;Started by Steve Moraff &nbsp;in the mid-80‚Äôs, Moraffware would pioneer shareware and especially the shareware &nbsp;RPG genre on DOS machines.</p>
<p>As we plunged into the the various piles of shareware games we found on the shovel-ware cds, Steve Moraff‚Äôs name kept surfacing on some very nice titles. He was one of the first developers anywhere to use SVGA graphics so his titles were always colorful and unique to play.</p>
<p><a href="http://en.wikipedia.org/wiki/Moraff%27s_Revenge">Moraff‚Äôs Revenge</a> was one of the first 3D RPGs on the PC Dos platform. These early PCs didn‚Äôt have the raw speed on an Atari ST or Amiga, but Steve made some great games given the limitations of the hardware.</p>
<p>I remember some other various Moraff games such as a beautiful Arkanoid clone and probably the best Mahjongg game of its‚Äô time. &nbsp;It seems that Steve has shifted his focus to Mahjongg almost entirely. His <a href="http://www.softwarediversions.com/">current site focuses of on this game type</a>, but also has pages (and the ability to purchase) his classic RPG games:</p>
<p><a href="http://www.softwarediversions.com/catalog/product_info.php?cPath=28&amp;products_id=68">Moraff‚Äôs World</a></p>
<p><a href="http://www.softwarediversions.com/catalog/product_info.php?cPath=28&amp;products_id=69">Moraff‚Äôs revenge</a></p>
<p>and probably his best game,</p>
<p><a href="http://www.softwarediversions.com/catalog/product_info.php?cPath=28&amp;products_id=70">Moraff‚Äôs Dungeons of the Unforgiven</a></p>
<p>There is also a<a href="http://www.softwarediversions.com/catalog/index.php?cPath=31"> World Of Games link</a> on his site that lists some of the other&nbsp; classic and relatively recent games he has created.</p>
<p>It looks like Steve is doing well. I would certainly like to see some of his classic RPGs re-made for today‚Äôs machines, but with DosBox or Boxster, the originals can still be enjoyed today.</p>
<p>(8bitjeff is Jeff D. Fulton)</p>
			</div><!-- .entry-content -->

	<!-- .entry-footer -->

</article><!-- #post-## -->

			
<!-- #comments -->

		
		</main><!-- #main -->
	</section><!-- #primary -->

	<!-- #secondary -->

	</div><!-- #content -->

	<!-- #colophon -->
</div></div>]]>
            </description>
            <link>https://intotheverticalblank.com/2010/09/15/what-ever-happened-to-steve-moraff/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25489017</guid>
            <pubDate>Sun, 20 Dec 2020 19:53:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[An Approx Nearest Neighbor Algorithm: How PyNNDescent Works]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25489012">thread link</a>) | @lmcinnes
<br/>
December 20, 2020 | https://pynndescent.readthedocs.io/en/latest/how_pynndescent_works.html | <a href="https://web.archive.org/web/*/https://pynndescent.readthedocs.io/en/latest/how_pynndescent_works.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  

<div id="How-PyNNDescent-works">

<p>PyNNDescent uses neighbor graph based searching to efficiently find good candidates for the nearest neighbors of query points from a large training set. While the basic ideas turn out to be quite simple, the layers of refinements and tricks used to get the highest degree of efficiency complicate things a lot. With that in mind we will begin with the simple naive approach and gradually work out further refinements and details as we go. The core concept, upon which most everything else is based,
is using a nearest neighbor graph to perform a search for approximate nearest neighbors.</p>
<div id="Searching-using-a-nearest-neighbor-graph">
<h2>Searching using a nearest neighbor graph<a href="#Searching-using-a-nearest-neighbor-graph" title="Permalink to this headline">¬∂</a></h2>
<p>Suppose we are given a nearest neighbor graph (let‚Äôs ignore, for now, how we can have obtained such a thing without the ability to find nearest neighbors already). By a graph, I simply mean a network ‚Äì a set of nodes connected by edges. By a nearest neighbor graph I mean that the graph has been derived from data existing in some sort of space for which we have a quantitative notion of similarity, or dissimilarity, or distance. In particular the graph is derived by making each data point a node
and connecting that data point, via edges, to the <span>\(k\)</span> most similar, least dissimilar, or closest other points. We would like to use this graph as an index structure for searching to find the nearest neighbors (points in the graph) of a new query point (potentially not a point in the graph) with respect to that notion of similarity of distance. How can we do this? We can do it via a kind of pruned breadth-first search of the graph, always keeping only the <span>\(k\)</span> best points we‚Äôve found
so far. The algorithm, therefore, looks something like this:</p>
<ol>
<li>Choose a starting node in the graph (potentially randomly) as a candidate node</li>
<li>Look at all nodes connected by an edge to the best untried candidate node in the graph</li>
<li>Add all these nodes to our potential candidate pool</li>
<li>Sort the candidate pool by closeness / similarity to the query point</li>
<li>Truncate the pool to <span>\(k\)</span> best (as in closest to the query) candidates</li>
<li>Return to step 2, unless we have already tried all the candidates in the pool</li>
</ol>
<p>We can see this play out visually on a small graph. For this case we will let <span>\(k=2\)</span> and have a 2-neighbor graph constructed by points in a plane. The query point will be drawn as an orange ‚Äòx‚Äô. We then search, exactly as described, and find ourselves steadily traversing the graph towards the query point.</p>
<p>While that did indeed find the points closest to the query point, it was hardly more efficient than a linear search of all the points ‚Äì there are only two points we didn‚Äôt try! This is ultimately about having such a small graph: while it is good for showing the algorithm clearly, the algorithm doesn‚Äôt really scale down that well to this case. If we want to see it providing benefits we‚Äôll need a larger graph. That‚Äôs not hard to generate, so let‚Äôs see a larger example.</p>
<p>Now, with about as bad a start as we could hope to get, the algorithm efficiently traverses across the graph and find the neighbors of the orange query point, and this time we see that only a small fraction of the total number of points in the graph had to be tried. If we had been a little luckier with our start point we could have done significantly better again. We can scale up to even larger examples:</p>
<p>Again we had about as bad a starting point as possible, but again it very efficiently traverses the graph, steadily improving as it goes, until the algorithm eventually find the nearest neighbors of the orange query point. Notably the algorithm will continue to scale well as the number of points increases, and even as the dimension of the data increases ‚Äì as long as the data itself has a low enough intrisic dimension.</p>
<p>There are, of course, several things that can be done to refine this algorithm to be a little more efficient, and more flexible at the same time. They include such things as keeping a hashtable of visited nodes to ensure you don‚Äôt compute distances twice, and keeping a slightly larger priority queue of candidate nodes to expand ‚Äì anything with (1+:math:<cite>varepsilon</cite>) of the <span>\(k\)</span>th best candidate found so far will suffice. This latter point allows us greater flexibility in search,
allowing a degree of backtracking around local ‚Äúoptima‚Äù in the search. It also provides a parameter which we can tune to get a trade-off between the speed and accuracy that we desire: smaller epsilon gives a faster search, but less accuracy, while a large epsilon can give good accuracy but at the cost of a slower search.</p>
<p>All of this presumed, however, that we had a nearest neighbor graph to start with ‚Äì the thing that we were using as our search index. The question remains: how are we to build that, since we could potentially just use the nearest neighbor search technique used to build the graph (which presumably has to be cheap) instead of the graph search described here. The answer, as it happens, is that we are going to use the graph search technique to build the graph itself ‚Äì pulling ourselves up by our
own bootstraps so to speak.</p>
</div>
<div id="NNDescent-for-building-neighbor-graphs">
<h2>NNDescent for building neighbor graphs<a href="#NNDescent-for-building-neighbor-graphs" title="Permalink to this headline">¬∂</a></h2>
<p>A good way to get to grips with the NNDescent algorithm for constructing approximate k-neighbor graphs is to think of it in terms of the search algorithm we‚Äôve already described. Suppose we had a decent, but not exact, k-neighbor graph. We could use that graph as our search index ‚Äì it won‚Äôt be great, and our search will be particularly approximate and often get stuck in local minima because of that, but it will still work a lot of the time. So, given that graph we could do a nearest neighbor
search, using that graph as the index, for each and every point in the dataset. Because of the nature of the search we could end up finding new neighbors for a node that are closer than the ones in our not-so-good graph. We could use that information to update our graph ‚Äì make it better by using these newly found closer neighbors. Having improved the graph, we can run the search again for each and every point in the dataset. Since the graph is better we will do an even better job of finding
neighbors than before and potentially find some new neighbors that will let us update the graph again.</p>
<p>And that‚Äôs actually the core of the algorithm. Start with a bad graph, use the nearest neighbor search on that graph to get better neighbors, and make a better graph. Rinse, repeat, and eventually we will end up with a good graph. In fact, the better the graph is, the faster and more accurate the search will run. So each iteration will go faster than the last, and we will steadily converge toward the true k-neighbor graph.</p>
<p>There are a couple things to take note of at this point: a better graph results in a better search, so making a better graph sooner will help the search; finding a good initial candidate node for the search was generically a problem (our animations all had particularly bad initial candidates), but we can always use the point itself as the initial candidate since it is guaranteed to be in the graph. So, given a good initial candidate (the node itself), and a desire to update the graph as soon as
possible, it may not be worth running a full search to exhaustion. Instead we could run the search just far enough to potentially find some new neighbors that we haven‚Äôt seen before. The first round of search, starting from the node itself, will only find the neighbors we already have. The second round, however, will step out to neighbors of neighbors (friends of friends if you will), and potentially find some nodes that are closer neighbors than the ones currently in the graph. That would be
enough information to improve the graph ‚Äì since we would have found new better neighbors. So the algorithm would now run:</p>
<ol>
<li>Start with a random graph (connect each node to <span>\(k\)</span> random nodes)</li>
<li>For each node:</li>
<li>Measure the distance from the node to the neighbors of its neighbors</li>
<li>If any are closer then update the graph accordingly, and keep only the <span>\(k\)</span> closest</li>
<li>If any updates were made to the graph then go back to step 2, otherwise stop</li>
</ol>
<p>We can see this play out on some example data (the same data as the medium sized search example):</p>
<p>You can see the graph starts out looking nothing like a <span>\(k\)</span>-neighbors graph ‚Äì just a mess of edges all over with no structure. Quickly, however, we update the graph, and the better the graph gets the better our updates go. After not very long at all the algorithm is simply refining an already very good graph with few, if any, updates at all actually occurring. We can see this most clearly by looking at things in terms of each round of iteration of the algorithm ‚Äì consider the graph at
the point where we‚Äôve updated neighbors for every node and we are at step 3, considering whether to loop back to step 2 or not. At each such iteration we can both look at the state of the graph and measure how close we are to the true <span>\(k\)</span>-neighbor graph. We start with a random graph:</p>
<!-- ![Iteration 0](how_pynn_works_naive_nndescent_iter0.png) --><p><a href="https://pynndescent.readthedocs.io/en/latest/_images/how_pynn_works_naive_nndescent_iter0.png"><img alt="Iteration 0" src="https://pynndescent.readthedocs.io/en/latest/_images/how_pynn_works_naive_nndescent_iter0.png"></a></p>
<p>After we have touched each node once and updated the neighbors based on the friends of friends we get the following:</p>
<!-- ![Iteration 1](how_pynn_works_naive_nndescent_iter1.png) --><p><a href="https://pynndescent.readthedocs.io/en/latest/_images/how_pynn_works_naive_nndescent_iter1.png"><img alt="Iteration 1" src="https://pynndescent.readthedocs.io/en/latest/_images/how_pynn_works_naive_nndescent_iter1.png"></a></p>
<p>Already, after just one pass through, the graph looks a whole lot less random. And, indeed, we have already improved from the sort of accuracy of neighbors we would expect at random, to a graph that has 30% of the neighbors correct for each node (on average). That is a much better graph for doing searches on than the purely random graph, so we would expect to be able to do a lot better when we do another iteration performing updates based on friends of friends in this new much better graph.</p>
<!-- ![Iteration 2](how_pynn_works_naive_nndescent_iter2.png) --><p><a href="https://pynndescent.readthedocs.io/en/latest/_images/how_pynn_works_naive_nndescent_iter2.png"><img alt="Iteration 2" src="https://pynndescent.readthedocs.io/en/latest/_images/how_pynn_works_naive_nndescent_iter2.png"></a></p>
<p>So now after just two passes we already have a graph that is 95% accurate! A search on this graph will be quite accurate, especially since we are guaranteed to be starting with a good candidate (the query itself). Running another pass should get a near perfect result.</p>
<!-- ![Iteration 3](how_pynn_works_naive_nndescent_iter3.png) --><p><a href="https://pynndescent.readthedocs.io/en/latest/_images/how_pynn_works_naive_nndescent_iter3.png"><img alt="Iteration 3" src="https://pynndescent.readthedocs.io/en/latest/_images/how_pynn_works_naive_nndescent_iter3.png"></a></p>
<p>The accuracy improved nicely, but you should note that visually there is very little difference between this graph and the previous graph. Very ‚Ä¶</p></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pynndescent.readthedocs.io/en/latest/how_pynndescent_works.html">https://pynndescent.readthedocs.io/en/latest/how_pynndescent_works.html</a></em></p>]]>
            </description>
            <link>https://pynndescent.readthedocs.io/en/latest/how_pynndescent_works.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25489012</guid>
            <pubDate>Sun, 20 Dec 2020 19:53:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The U.S. Army Is Creating Robots with Synthetically Grown Muscle]]>
            </title>
            <description>
<![CDATA[
Score 46 | Comments 13 (<a href="https://news.ycombinator.com/item?id=25489005">thread link</a>) | @bookofjoe
<br/>
December 20, 2020 | https://smosa.com/army-building-robots-with-synthetic-muscle/ | <a href="https://web.archive.org/web/*/https://smosa.com/army-building-robots-with-synthetic-muscle/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

					<!-- .post-header -->


					<div>
						<p>According to <a href="https://www.eurekalert.org/pub_releases/2020-12/uarl-asf121720.php">an announcement in EurekAlert</a>!, The U.S. Army has been researching with Duke University a technological approach that uses robotics and "biohybrid" muscle elements.</p><p>Army researchers claim that robotic systems filled with muscle tissue will deliver a new level of agility and flexibility. In order to maximize efficiency, biohybrid robotics incorporates living organisms into mechanical systems. The team's first applications are legged platforms similar to the LLAMA and Marine Corps Legged Squad Support System (LS3), the legged locomotive and movement adaptation device of the Army.</p><p>"Though impressive in their own right, today's robots are deployed to serve a limited purpose then are retrieved some minutes later," said research scientist Dr. Dean Culver, "ARL wants robots to be versatile teammates capable of going anywhere soldiers can and more, adapting to the needs of any given situation." Culver added, "Organisms outperform engineered robots in so many ways. Why not use biological components to achieve those remarkable capabilities?"</p><figure><img src="https://images.unsplash.com/photo-1580835239846-5bb9ce03c8c3?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDl8fHJvYm90fGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000" alt="Humanoid robot Robotis Bioloid with the hands in the air, cheering." srcset="https://images.unsplash.com/photo-1580835239846-5bb9ce03c8c3?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDl8fHJvYm90fGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=600 600w, https://images.unsplash.com/photo-1580835239846-5bb9ce03c8c3?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDl8fHJvYm90fGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1000 1000w, https://images.unsplash.com/photo-1580835239846-5bb9ce03c8c3?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDl8fHJvYm90fGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1600 1600w, https://images.unsplash.com/photo-1580835239846-5bb9ce03c8c3?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDl8fHJvYm90fGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2400 2400w" sizes="(min-width: 720px) 720px"><figcaption>Photo by <a href="https://unsplash.com/@anilinverse?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Adam Lukomski</a> / <a href="https://unsplash.com/?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Unsplash</a></figcaption></figure><p>In addition, a separate team from Duke University will focus on the characteristics of macroscopic performance of muscles, tendons and ligaments in skiping animals using legged robots.</p><p>The muscle tissue is excellent for generating a certain mechanical strength, and its flexibility is unrivaled in today's robotic service. The research could show the bio-hybrid engineering community how to grow strong muscular tissue instead of extracting it from a trained organism in addition to providing insight into the mesomechanics that control motor protein movement.</p><p>"Muscle tissue is outstanding at producing a specific amount of mechanical power at a given moment," says Culver, "and its versatility is unrivaled in robotic actuation today."</p>
					</div><!-- .post-content -->

					<!-- .post-footer -->


				</article></div>]]>
            </description>
            <link>https://smosa.com/army-building-robots-with-synthetic-muscle/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25489005</guid>
            <pubDate>Sun, 20 Dec 2020 19:51:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Jan 1 is Public Domain Day for 1925]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25488894">thread link</a>) | @FlyMoreRockets
<br/>
December 20, 2020 | https://pluralistic.net/2020/12/16/fraught-superpowers/#public-domain-day | <a href="https://web.archive.org/web/*/https://pluralistic.net/2020/12/16/fraught-superpowers/#public-domain-day">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1713">
	<!-- .entry-header -->

	
	
	<div>
		<p><!--
Tags:
corporate transparency act, copyfight, sonny bono, public domain, 1925, downtime, email sabbaticals, ccc, chaos communications congress, events, rc3, financial secrecy, money laundering, fincen papers, panama papers, onshore offshore, facial recognition, algorithmic discrimination

Summary:
Email sabbaticals; Chaos Communications Congress; Landmark US financial transparency law; Rogues' Galleries and facial recognition; Jan 1 is Public Domain Day for 1925

URL:
https://pluralistic.net/2020/12/16/fraught-superpowers/

Title:
Pluralistic: 16 Dec 2020 fraught-superpowers

Bullet:
üëõ

Separator:
_,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,_

Top Sources:
Today's top sources: Waxy (https://waxy.org/), Naked Capitalism (https://www.nakedcapitalism.com/).

--><br>
<a href="https://pluralistic.net/2020/12/16/fraught-superpowers/"><img src="https://i1.wp.com/craphound.com/images/16Dec2020.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/16Dec2020.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></a></p>

<ul>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#email-sabbatical">Email sabbaticals</a>: I'm going offline until next year.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#rc3">Chaos Communications Congress</a>: Finally a way to do CCC without making your family furious.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#financial-secrecy">Landmark US financial transparency law</a>: Beginning of the end for the US onshore-offshore industry.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#fr">Rogues' Galleries and facial recognition</a>: Self-fulfilling prophecies at the core of white supremacist policing.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#public-domain-day">Jan 1 is Public Domain Day for 1925</a>: Gatsby, Dalloway, Buster Keaton, Ma Rainey, et al.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#retro">This day in history</a>: 2010, 2015, 2019
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#bragsheet">Colophon</a>: Recent publications, upcoming/recent appearances, current writing projects, current reading
</li>
</ul>

<hr>
<p><a name="email-sabbatical"></a><br>
<img src="https://i2.wp.com/craphound.com/images/440685338_4668bd99c0_k.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/craphound.com/images/440685338_4668bd99c0_k.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>It's been a decade since danah boy introduced me to the idea of "email sabbaticals." That's when you go away and turn off your email.</p>
<p><a href="http://www.zephoria.org/thoughts/archives/2010/12/08/i-am-offline-on-email-sabbatical-from-december-9-january-12.html">http://www.zephoria.org/thoughts/archives/2010/12/08/i-am-offline-on-email-sabbatical-from-december-9-january-12.html</a></p>
<p>Not just setting an out-of-office message, but rather deleting all inbound mail and asking correspondents to try again after the break. In her message, boyd explains to those correspondents who know how to reach her mother that this is the only way to reach her.</p>
<p>Here's the rationale: if you allow email to pile up while you're trying to unwind, it'll take months to catch up on when you get back, and you'll immediately burn out, incinerating all the value you got out of your break.</p>
<p>What's more, you'll still fail to clear the backlog ‚Äì you'll have to declare "email bankruptcy" and fail everyone who'd contacted you anyway. It's a bad deal for you <em>and</em> for the people who email you during your break.</p>
<p>Here's how boyd's email sabbaticals work: six months prior, she informs her collaborators that she'll be taking some protracted downtime; a month before she confirms her commitments to collaborators and composes a checklist to ensure that she meets them prior to departure.</p>
<p>A week in advance, she warns everyone again that she's going offline and shuttering her inboxes. Close family members and her network administrator are given instructions for reaching her while on break, but no one else is.</p>
<p>She leaves, and shuts down her email. She knows she's going to miss new, time-sensitive stuff, but makes peace with it. In return, she gets the peace of mind that comes from knowing that she's going to come home to an empty in-box.</p>
<p>At the close of business today, I'm going on email (and work) sabbatical until Jan 4, 2021. Apart from one live event (the remote Chaos Communications Congress on Dec 27) I won't be accepting emails and I won't be replying to DMs or other messages.</p>
<p><a href="https://rc3.world/">https://rc3.world/</a></p>
<p>I really, really need it.</p>
<p>Over the years, many people have expressed their admiration at my "productivity" ‚Äì but the dirty secret of that productivity is that work is how I cope with stress.</p>
<p>It's not the worst problem to have: I wrote a whole novel since the crisis, while also launching four books and keeping up with my day-job at EFF.</p>
<p>But working to cope with stress has its limits. It's a good temporary fix, but it's no long-term solution.</p>
<p>For one thing, I've got a serious, untreatable, degenerating chronic pain condition, and working is how I hope with the pain, too ‚Äì distraction works far better than any prescription meds for me.</p>
<p>But ignoring your body's pain signals is a dangerous tactic. It's why I'm now experiencing the worst continuous pain of my adult life (it's been a stressful year). Last week it was so bad I was walking with a cane.</p>
<p>I say all of this not to humblebrag about my commitment to my work, but rather in the interests of transparency. I'm keenly aware that we live our own blooper reels and everyone else's highlight reels.</p>
<p>I'm grateful for my work habits, truly ‚Äì but they come at a really high cost, and balancing work-as-distraction and work-as-pathology is really, really hard. If you're wondering how to do what I do, have a little peek into the blooper reel, first.</p>
<p>It's been a high-stress, crazy year. We nearly went broke, then had a spectacular recovery (thank you, Kickstarter backers!), have tried our best to be good parents (with varying degrees of success). We've gone through blazing rows and many sleepless nights.</p>
<p>I've spent most of the year with sores at the corners of my mouth, which I only get under in the most extreme times of stress.</p>
<p>And we've had it <em>good</em>. We're solvent, safe, and healthy. Thinking about what this would be like if any of those changed is terrifying.</p>
<p>Hanging out with my digital community is a huge net benefit to me, but unplugging from that community is something I increasingly value as I head towards my 50th birthday next July.</p>
<p>My first digital community experience was sending IMs to other users of the timeshare mainframe we plugged into when I was six years old, in 1977, when my dad brought home an acoustic coupler and my mom found 1,000' of brown paper towel to feed into the teletype.</p>
<p>Some (most) of my life's most important relationships, friendships, and discussions have taken place over this medium, and an enormous amount of that good stuff started with a conversation with a stranger.</p>
<p>I never felt the outrage that attended the introduction of the telephone into Edwardian England: "Anyone ‚Äî any wild fool off the street ‚Äî could simply barge bellowing into one's office or home, preceded only by the ringing of a telephone bell."</p>
<p><a href="https://www.mit.edu/hacker/part1.html">https://www.mit.edu/hacker/part1.html</a></p>
<p>For me, finding my people (and being found by them) has been the highlight of my half-century. Touring and speaking turned these digital relationships into personal ones.</p>
<p>But: moderation in all things. I'm writing four of these threads this morning, doing a couple interviews and meetings, and then putting my lid down until 2021 (save for a brief dial-in to CCC on the 27th).</p>
<p>I'm going to swim in our lovely outdoor public pool, which, thankfully, has figured out how to remain open during the pandemic. I'm going read in the backyard hammock and hike in Griffith Park.</p>
<p>I'm not going to answer ‚Äì or accept ‚Äì email while I'm gone.</p>
<p>And I say all of this because it's taken a decade for me to really understand what danah was getting at (she's a very smart person and I often benefit from reflecting on our conversations).</p>
<p>And also, to show you a bit of the blooper reel. Coping strategies are great and necessary, but they're no substitute for addressing the underlying problems. I'm proud of the work I do, but I'm also still learning how to do it right.</p>
<p>(<i>Image: <a href="https://www.flickr.com/photos/sifter/440685338/">Alex Watson</a>, <a href="https://creativecommons.org/licenses/by-nc/2.0/">CC BY-NC 2.0</a></i>)</p>
<hr>
<p><a name="rc3"></a><br>
<img src="https://i1.wp.com/craphound.com/images/rc3.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/rc3.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>I'm about to go offline until 2021 and I had planned to do <em>absolutely no work of any sort</em> while on break, but I made an exception, for an exceptional opportunity: the 32nd Chaos Communications Congress, which is remote this year.</p>
<p><a href="https://rc3.world/">https://rc3.world/</a></p>
<p>CCC is ‚Äì notoriously ‚Äì held during Christmas week, which means that the attendees are limited to people who either care about tech policy and security more than their families, or people who can talk their families into coming along.</p>
<p>It's one of the best events I've ever attended (I brought my family along). My talk at that event, "The Coming War on General Purpose Computing," has had a long afterlife, in large part because of the kind and thoughtful reactions of the attendees.</p>
<p><a href="https://www.youtube.com/watch?v=HUEvRyemKSg">https://www.youtube.com/watch?v=HUEvRyemKSg</a></p>
<p>I've been trying to get back ever since but haven't managed it ‚Äì until this year. RC3 (the first all-remote CCC) has invited me to speak on Dec 27.</p>
<p>I'm doing two back-to-back events: a talk called "What the cyberoptimists got wrong ‚Äì and what to do about it" then a "fireside chat" (a reading from my book ATTACK SURFACE followed by a Q&amp;A;).</p>
<p>They're back-to-back, starting at 10AM Pacific (7PM CET) and running to 12/9PM.</p>
<p>The tickets are currently sold out, but they've mooted releasing another block. If you're attending, I hope you'll consider tuning into my talk (and of course, as with all CCC talks, these will be online shortly thereafter for public viewing).</p>
<p><a href="https://events.ccc.de/2020/12/08/rc3-neues-ticket-kontingent/">https://events.ccc.de/2020/12/08/rc3-neues-ticket-kontingent/</a></p>
<hr>
<p><a name="financial-secrecy"></a><br>
<img src="https://i1.wp.com/craphound.com/images/HandsomeVariableGalapagosalbatross-max-1mb.gif?w=840&amp;ssl=1" data-recalc-dims="1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>The Panama Papers, the Paradise Papers, Swissleaks, Luxembourg Leaks, the Fincen Files ‚Äì the past decade has been filled with financial secrecy scandals wherein we learned how the world's worst people hide the world's dirtiest money.</p>
<p>Governments have fallen as a result of these leaks. Journalists have been murdered for reporting them, whistleblowers have been imprisoned for telling the truth. These are a high-stakes window on the corruption, self-dealing and viciousness of the 1% and their criminal pals.</p>
<p>One critical revelation is the role that "onshort-offshore" plays in money-laundering: rich countries with a reputation for a strong rule of law and good governance are the lynchpin of global financial secrecy, thanks to lax corporate enforcement.</p>
<p>Money laundering, tax-evasion, bribery and other finance crimes were only possible because places like New Zealand, the City of London, Scotland, and US tax-havens like Delaware, Nevada and Wyoming knowingly abetted them.</p>
<p>Anti-financial-secrecy campaigners have made major progress in shutting down onshore-offshore havens, and now they've scored a massive victory in the USA, with the inclusion of an anti-money-laundering amendment to the defense bill.</p>
<p><a href="https://www.icij.org/investigations/paradise-papers/advocates-celebrate-major-us-anti-money-laundering-victory/">https://www.icij.org/investigations/paradise-papers/advocates-celebrate-major-us-anti-money-laundering-victory/</a></p>
<p>It's a must-pass bill, and there's always intense jockeying to attach other legislation to it, virtually guaranteeing its passage (this is not always a good thing: Trump wants terrible, dangerous changes to internet law included in the bill):</p>
<p><a href="https://www.eff.org/deeplinks/2020/12/its-not-section-230-president-trump-hates-its-first-amendment">https://www.eff.org/deeplinks/2020/12/its-not-section-230-president-trump-hates-its-first-amendment</a></p>
<p>The Corporate Transparency Act requires that all US companies report their true owners to the US Treasury's Financial Crimes Enforcement Network (Fincen). This will make Fincen investigations vastly cheaper‚Ä¶and more effective.</p>
<p>It's got strong bipartisan support, and is the culmination of a decade of debate, consultation and coalition-building. It passed the House and Senate with a nominally ‚Ä¶</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pluralistic.net/2020/12/16/fraught-superpowers/#public-domain-day">https://pluralistic.net/2020/12/16/fraught-superpowers/#public-domain-day</a></em></p>]]>
            </description>
            <link>https://pluralistic.net/2020/12/16/fraught-superpowers/#public-domain-day</link>
            <guid isPermaLink="false">hacker-news-small-sites-25488894</guid>
            <pubDate>Sun, 20 Dec 2020 19:35:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[On the Graying of Gnome]]>
            </title>
            <description>
<![CDATA[
Score 133 | Comments 253 (<a href="https://news.ycombinator.com/item?id=25488887">thread link</a>) | @yankcrime
<br/>
December 20, 2020 | https://hpjansson.org/blag/2020/12/16/on-the-graying-of-gnome/ | <a href="https://web.archive.org/web/*/https://hpjansson.org/blag/2020/12/16/on-the-graying-of-gnome/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page"><div id="content"><section id="primary"><main id="main" role="main"><article id="post-622"><div><p><a href="https://gnome.org/">The GNOME project</a> turned 23 this year, and despite equally persistent rumors to the contrary, it‚Äôs still alive and kicking.</p><p>Just how alive, though? All I know is this: Where the topic of GNOME‚Äôs health goes, accurate data rarely follows. Of course, there <em>is</em> data ‚Äî lots of it in fact, in public source code repositories. Though flawed in many ways, it allows us to make comparisons to the past ‚Äî and maybe predictions for the future: Are a few organizations carrying most of the workload, making them critical points of failure? Are new contributors able to pick up the slack from those who leave? Is the project graying (i.e. increasingly dominated by veterans)?</p><p>In one of my occasional fits of hubris, I set out to process this data to see if I could shake out anything meaningful. I‚Äôm usually fine with just satisfying my own curiosity and leaving it at that, but it‚Äôs one of those times where the results seem interesting enough for a blog post. So here we are.</p><p>I‚Äôm going to lead with the nice graphs and follow on with a <a href="https://hpjansson.org/blag/2020/12/16/on-the-graying-of-gnome/#methodology">section on methodology</a>. The latter is long, boring, and mandatory reading.</p><h2 id="contributors">Active contributors</h2><h3>By generation</h3><figure><a href="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-year-2020.png"><img loading="lazy" width="1920" height="900" src="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-year-2020-1920x900.png" alt="Active GNOME authors per year, first-year cohorts" srcset="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-year-2020-1920x900.png 1920w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-year-2020-300x141.png 300w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-year-2020-768x360.png 768w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-year-2020-1536x720.png 1536w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-year-2020-2048x960.png 2048w" sizes="(max-width: 1920px) 100vw, 1920px"></a></figure><p>The stacked histogram above shows the number of contributors who touched the project on a yearly basis. Each contributor is assigned to a generational cohort based on the year of their first contribution. The cohorts tend to shrink over time as people leave.</p><p>There‚Äôs a special ‚Äúdrive-by‚Äù cohort (in a fetching shade of off-white) for contributors who were only briefly involved, meaning all their activity fits in a three-month window. It‚Äôs a big group. In a typical year, it numbers 200-400 persons who were not seen before or since. Most of them contribute a single commit.</p><p>According to this, GNOME peaked at slightly above 1,400 contributors in 2010 and went into decline with the GNOME 3.0 release the following year. However, 2020 saw the most contributors in a long time, even with preliminary data ‚Äî there‚Äôs still two weeks to go. Who knows if it‚Äôs an anomaly or not. It‚Äôs been an atypical year across the board.</p><figure><a href="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-month-2020.png"><img loading="lazy" width="1920" height="900" src="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-month-2020-1920x900.png" alt="Active GNOME authors per month, first-year cohorts" srcset="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-month-2020-1920x900.png 1920w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-month-2020-300x141.png 300w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-month-2020-768x360.png 768w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-month-2020-1536x720.png 1536w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-firstyear-month-2020-2048x960.png 2048w" sizes="(max-width: 1920px) 100vw, 1920px"></a></figure><p>This is the same histogram, but with per-month bins. There‚Äôs a clear periodicity caused by the semiannual release cycle. The peak month was March 2011, right before the <a href="https://www.gnome.org/press/2011/04/gnome-3-0-released-better-for-users-developers-3/">GNOME 3.0 release</a>. About 450 contributors got involved that month.</p><p>The drive-by cohort is relatively smaller on a monthly basis. This makes sense, as it has little overlap from month to month, and the per-year bins tend to add them all up.</p><h3>By affiliation</h3><figure><a href="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-domain-year-2020.png"><img loading="lazy" width="1920" height="900" src="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-domain-year-2020-1920x900.png" alt="Active GNOME authors per year, top-15 domain cohorts" srcset="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-domain-year-2020-1920x900.png 1920w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-domain-year-2020-300x141.png 300w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-domain-year-2020-768x360.png 768w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-domain-year-2020-1536x720.png 1536w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-authors-domain-year-2020-2048x960.png 2048w" sizes="(max-width: 1920px) 100vw, 1920px"></a></figure><p>Above, the top 15 affiliations of active contributors. I‚Äôve excluded personal accounts. This is pretty flawed (details below), but interesting nonetheless. For what it‚Äôs worth, it mostly lines up with my memory of things.</p><p>The pattern tracks well with the total despite only capturing a minority portion of it. I think this means that paid and unpaid contributions are driven by the same underlying trends, or that there‚Äôs a lot of the former hiding in the latter.</p><h2 id="commitcount">Commit count</h2><h3>By generation</h3><figure><a href="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-firstyear-year-2020.png"><img loading="lazy" width="1920" height="900" src="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-firstyear-year-2020-1920x900.png" alt="Number of GNOME commits per year, first-year cohorts" srcset="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-firstyear-year-2020-1920x900.png 1920w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-firstyear-year-2020-300x141.png 300w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-firstyear-year-2020-768x360.png 768w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-firstyear-year-2020-1536x720.png 1536w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-firstyear-year-2020-2048x960.png 2048w" sizes="(max-width: 1920px) 100vw, 1920px"></a></figure><p>Here I‚Äôm counting the number of commits per year in the various cohorts.</p><p>At first glance, this looks much less dire. However, note how newcomers are having a smaller impact, especially from 2014 on. And the 2018-2020 bounce is entirely due to a handful of veterans making a comeback.</p><p>Half the commits in 2020 were made by contributors who‚Äôve been with the project for ten years or more. Also noteworthy, drive-by commits are a vanishingly small portion of the total.</p><h3>By affiliation</h3><figure><a href="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-domain-year-2020.png"><img loading="lazy" width="1920" height="900" src="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-domain-year-2020-1920x900.png" alt="Number of GNOME commits per year, top-15 domain cohorts" srcset="https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-domain-year-2020-1920x900.png 1920w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-domain-year-2020-300x141.png 300w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-domain-year-2020-768x360.png 768w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-domain-year-2020-1536x720.png 1536w, https://hpjansson.org/blag/wp-content/uploads/2020/12/gnome-commits-domain-year-2020-2048x960.png 2048w" sizes="(max-width: 1920px) 100vw, 1920px"></a></figure><p>Top 15 affiliations again, but now ordered by commit counts. It‚Äôs safe to say that GNOME is dependent on paid developers in a big way. Specifically, and to no one‚Äôs surprise, it leans heavily on Red Hat.</p><h2 id="observations">General observations</h2><p>A few observations can be made with confidence:</p><ul><li>By F/OSS standards, the project is not <em>un</em>healthy. It has hundreds of experienced and first-time contributors every year. It is well-organized and arguably well-funded compared to its peers. But:</li><li>Every metric has the project peaking around 2010.</li><li>A diminishing number of veterans is doing an increasing share of the work.</li><li>Although recruitment is stable, newcomers don‚Äôt seem to be hitting their stride in terms of commits.</li><li>Corporate sponsorship is probably necessary to keep the project going, but the field of sponsors has kept thinning.</li></ul><p>I think GNOME is addressing the risk factors competently by modernizing infrastructure (<a href="https://gitlab.gnome.org/">GitLab</a>, <a href="https://discourse.gnome.org/">Discourse</a>). This has obvious value even in the absence of quantifiable results, but it‚Äôll be interesting to see if the effect can be measured over the next couple of years.</p><p>Diminished enthusiasm may also be due to there being fewer ways for a new contributor to make their mark or assume a role of responsibility. GNOME has become more conservative, certainly much more so than it was a decade ago in the run-up to GNOME 3. The rationale and phrasing in <a href="https://discourse.gnome.org/t/new-gnome-versioning-scheme/4235">the announcement of the new versioning scheme</a> (e.g. <em>‚ÄúRadical technological and design changes are too disruptive for maintainers, users, and developers‚Äù</em>) seems indicative of this trend<sup>1</sup>.</p><h2 id="methodology">Notes on methodology</h2><p>So what‚Äôs wrong with this analysis? If you‚Äôre so inclined, you can find the details under the next couple of subheadings and pass harsh, harsh judgement.</p><p>I‚Äôve set the unscientific rigor bar high enough to hopefully yield something useful, but low enough that I could do it in my spare time and not get stuck in the dreaded state commonly known as ‚Äú90% done‚Äù.</p><h3>Module selection</h3><p>I aggregated data from <a href="https://github.com/hpjansson/fornalder/blob/45d4e9703dfa1fed1f9396b2cfc6f8425fae9389/projects/gnome-repos">189 Git repositories</a>. The vast majority of these are hosted on <code>gnome.org</code>, with a handful from <code>freedesktop.org</code> and <code>github.com</code>. Commits are uniquely identified by their commit hash, meaning trivial duplicates are counted only once.</p><p>GNOME has always been a decentralized, big-tent project, so it‚Äôs not obvious how to delineate it. I‚Äôve tried to be fair by including most of the repositories from a full meta-gnome-desktop jhbuild, including fairly low-level dependencies like Cairo, Pango, and Pipewire, as well as past, present and would-be flagship applications under the GNOME umbrella. Documentation and infrastructure is represented, as are many archived projects (e.g. ORBit2, Bonobo, Sabayon, GAL).</p><p>I was a little uncertain about what to do with X.Org and Wayland. In the end I decided to include the latter, but not the former, since Wayland has close ties to GNOME (it even references GTK+ in its TODO file), while X.Org has its roots in the much older XFree86.</p><p>Mono is another project I resisted including; its development was tangential to GNOME proper, diverging completely in the most recent decade. However, I did include GtkSharp and several GNOME-hosted C# applications common on desktops in the 2005-2010 time frame.</p><p>Since I haven‚Äôt established hard criteria for module selection, it‚Äôs subject to various biases. Older code is probably underrepresented, since providers of important functionality were more loosely attached to the project early on (e.g. GNOME Online Accounts and Telepathy got pulled in, should I have included Gaim or Pidgin too? How about XChat?).</p><p>Anyway, the list isn‚Äôt terrible, but there‚Äôs room for improvement.</p><h3>Contributor identities</h3><p>Similar studies often identify contributors by their e-mail addresses. I used full author names instead, since there‚Äôs good reason to think they‚Äôre more stable over a 20-year time span. We‚Äôre fairly consistent in spelling our own names, and we change them rarely (often never). On the other hand, e-mail addresses come and go with different hosting arrangements, employers, etc.</p><p>An added challenge with this approach is that sometimes different people have the exact same name. In practice, I‚Äôm not aware of any instances of this happening in GNOME. It seems to be rare enough that I doubt it‚Äôd introduce significant error in most projects.</p><p>I should add here that the drive-by cohort depends on a fair amount of hindsight (you never know when someone might come back with more contributions, but the likelihood drops off quickly as time passes). This means the cohorts for 2020 are preliminary. They‚Äôll be a lot more accurate with another run late next year.</p><h3>Domain names</h3><p>I‚Äôm using e-mail domain names as a proxy for organizations in some of the graphs. This is a notoriously unreliable approach for at least three reasons:</p><ol><li>Contributors often use personal e-mail addresses for paid work, leading to significant undercounting in general.</li><li>Specific companies may require their employees (or ask them nicely) to use company e-mail for collaboration. Out of the listed companies, I know of at least one that definitely did this. However, there are many that don‚Äôt, and these will be comparatively less well represented.</li><li>The mapping between DNS and organizations isn‚Äôt one-to-one. A company may operate under multiple names or TLDs (e.g. <code>.co.uk</code> and <code>.com</code>).</li></ol><p>Despite these weaknesses, it‚Äôs common to slice the data this way. It‚Äôs difficult to do better without access to semi-closed data troves, and depending on your views on privacy and ability to handle <a href="https://en.wikipedia.org/wiki/Personal_data">PII</a> safely, it might not be something you‚Äôd want to get into anyway. But I bet you‚Äôd be well-positioned for it if you were, say, the corporate owner of both LinkedIn and GitHub.</p><p>When grouping by organization, the goal is to get an idea of which outside entities are sponsoring contributions. Therefore, I‚Äôve filtered out addresses from the biggest mass e-mail providers like <code>@gmail.com</code> and project-centric providers of personal accounts (e.g. <code>@gnome.org</code>, <code>@gtk.org</code>).</p><p>I took the liberty of reassigning the personal domains of a few extra prolific authors who would‚Äôve otherwise showed up as individual organizations. Since there‚Äôs no way I‚Äôm doing it for everyone, this introduces some bias. The full details are in <a href="https://github.com/hpjansson/fornalder/blob/45d4e9703dfa1fed1f9396b2cfc6f8425fae9389/projects/gnome-meta.json">the project‚Äôs metadata file</a> (see: <a href="https://hpjansson.org/blag/2020/12/16/on-the-graying-of-gnome/#code">code</a>).</p><h3>Version control systems</h3><p>Changeovers in version control systems divide GNOME‚Äôs VCS history into three eras with noticeable discontinuities between them.</p><h4>Before 1998: Dark ages</h4><p>In the Bad Old Days, Free Software would often use plain <a href="https://en.wikipedia.org/wiki/Revision_Control_System">RCS</a> or no version control at all. I have basically no data for this era: The GIMP, being the ur-project from which ‚Ä¶</p></div></article></main></section></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://hpjansson.org/blag/2020/12/16/on-the-graying-of-gnome/">https://hpjansson.org/blag/2020/12/16/on-the-graying-of-gnome/</a></em></p>]]>
            </description>
            <link>https://hpjansson.org/blag/2020/12/16/on-the-graying-of-gnome/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25488887</guid>
            <pubDate>Sun, 20 Dec 2020 19:33:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Chomskybot]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25488742">thread link</a>) | @blewboarwastake
<br/>
December 20, 2020 | http://rubberducky.org/cgi-bin/chomsky.pl | <a href="https://web.archive.org/web/*/http://rubberducky.org/cgi-bin/chomsky.pl">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div size="4"><span size="6">L</span>ook
           <span size="6">O</span>n <span size="6">M</span>y
           <span size="6">W</span>ords, <span size="6">Y</span>e
           <span size="6">M</span>ighty, <span size="6">A</span>nd
           <span size="6">D</span>espair<span size="6">!</span>
<p>
           &nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>For one thing, the earlier discussion of deviance is unspecified with respect to problems of phonemic and morphological analysis.
A consequence of the approach just outlined is that the descriptive power of the base component is rather different from an important distinction in language use.
So far, any associated supporting element cannot be arbitrary in the ultimate standard that determines the accuracy of any proposed grammar.
Summarizing, then, we assume that the natural general principle that will subsume this case does not affect the structure of nondistinctness in the sense of distinctive feature theory.
With this clarification, the appearance of parasitic gaps in domains relatively inaccessible to ordinary extraction does not readily tolerate a general convention regarding the forms of the grammar.

    </p>
    </div></div>]]>
            </description>
            <link>http://rubberducky.org/cgi-bin/chomsky.pl</link>
            <guid isPermaLink="false">hacker-news-small-sites-25488742</guid>
            <pubDate>Sun, 20 Dec 2020 19:13:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The AI Microscope That Detects Cancer Within Minutes]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25488477">thread link</a>) | @buddhacobbler
<br/>
December 20, 2020 | https://smosa.com/an-ai-microscope-that-detects-cancer-in-minutes/ | <a href="https://web.archive.org/web/*/https://smosa.com/an-ai-microscope-that-detects-cancer-in-minutes/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

					<!-- .post-header -->


					<div>
						<p>Researchers have created a new microscope that can visualize relatively large pieces of cell-resolved tissue to help surgeons examine tumor margins within minutes from removal.</p><p>Removable tissue is typically sent to a hospital laboratory where specialists either freeze it or treat it with chemical agents until they make extremely thin slices to be mounted on a slide. This careful selection and mounting is a time-consuming procedure that involves advanced machinery and a bench of professionals. </p><p>"Current methods to prepare tissue for margin status evaluation during surgery have not changed significantly since first introduced over 100 years ago," said study co-author Ann Gillenwater, M.D., a professor of head and neck surgery at MD Anderson. "By bringing the ability to accurately assess margin status to more treatment sites, the DeepDOF has potential to improve outcomes for cancer patients treated with surgery."</p><p>Researchers at Rice University and the University of Texas MD Anderson Cancer Center developed the modern microscope which can easily view relatively thick tissue with cell-level resolution. It was developed by Rice engineers and Applied Physicists and was presented in a study published in the <em>Proceedings of the National Academy of Science</em> this week.</p><figure><iframe width="356" height="200" src="https://www.youtube.com/embed/Iv1wBvPMguE?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></figure><p>The microscope uses a cheap conventional optic lens for photographing entire tissues. The tool provides depths of field up to five times the existing state-of-the-art microscope. Using an AI technique dubbed "DeepDOF", the microscope software employs a deep learning network that can analyze vast volumes of data. </p><p>To train the dataset, Investigators showed 1,200 photographs from a database of histological (cell) slides to the system. The system would then capture and process photographs in less than two minutes.</p><p>"Traditionally, imaging equipment like cameras and microscopes are designed separately from imaging processing software and algorithms," said study co-lead author Yubo Tang, a postdoctoral research associate in the lab of co-corresponding author Rebecca Richards-Kortum. "DeepDOF is one of the first microscopes that's designed with the post-processing algorithm in mind."</p><p>According to the authors, data developed from the device provides a profound learning histopathology of intact specimens with comprehensive depth of field in real time. In the long term, the DeepDOF microscope may contribute considerably to the evaluation of intact biopsy specimens and surgical organisms, in particular for intra-operative assessment and in restricted tools.</p>
					</div><!-- .post-content -->

					<!-- .post-footer -->


				</article></div>]]>
            </description>
            <link>https://smosa.com/an-ai-microscope-that-detects-cancer-in-minutes/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25488477</guid>
            <pubDate>Sun, 20 Dec 2020 18:41:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Clickhouse and S3 Compatible Object Storage]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25488437">thread link</a>) | @eatonphil
<br/>
December 20, 2020 | https://altinity.com/blog/clickhouse-and-s3-compatible-object-storage | <a href="https://web.archive.org/web/*/https://altinity.com/blog/clickhouse-and-s3-compatible-object-storage">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	

	<p>ClickHouse is a polyglot database that can talk to many external systems using dedicated engines or table functions. In modern cloud systems, the most important external system is <a href="https://en.wikipedia.org/wiki/Object_storage" target="_blank" rel="noreferrer noopener">object storage</a>. First, it can hold raw data to import from or export to other systems (aka a data lake). Second, it can offer cheap and highly durable storage for table data. ClickHouse now supports both of these uses for S3 compatible object storage.</p><p>The first attempts to marry ClickHouse and object storage were merged more than a year ago. Since then object storage support has evolved considerably. In addition to the basic import/export functionality, ClickHouse can use object storage for MergeTree table data. While this functionality is still experimental, it has already attracted a lot of attention at meetups and webinars. In this article, we will explain how the integration works.</p><p><h2 id="h-s3-table-function">S3 table function</h2>
</p><p>ClickHouse has a powerful method to integrate with external systems called ‚Äòtable functions‚Äô. Table functions allow users to export/import data into other sources, and there are plenty of sources available, e.g. MySQL Server, ODBC or JDBC connection, file, url, and, lately, S3-compatible storage. At the time of writing the s3 table function is not in <a href="https://clickhouse.tech/docs/en/sql-reference/table-functions/" target="_blank" rel="noreferrer noopener">the official list</a>, but it should be fixed soon. The basic syntax is the following:</p><p><code>s3(path, [aws_access_key_id, aws_secret_access_key,] format,</code>  <code>structure, [compression])</code></p><p>Input parameters</p><div><ul>
<li><code>path</code> ‚Äî bucket url. Path to file.&nbsp; Supports following wildcards in readonly mode: *, ?, {abc,def} and {N..M} where N, M ‚Äî numbers, `‚Äôabc‚Äô, ‚Äòdef‚Äô ‚Äî strings.</li>
<li><code>format</code> ‚Äî The <a href="https://clickhouse.tech/docs/en/interfaces/formats/#formats" target="_blank" rel="noreferrer noopener">format</a> of the data.</li>
<li><code>structure</code> ‚Äî Structure of the table. Format ‚Äòcolumn1_name column1_type, column2_name column2_type, ‚Ä¶‚Äô.</li>
<li><code>compression</code> parameter is optional, currently ‚Äògzip‚Äô is the only option but other methods are being added.</li>
</ul>
</div><div><pre><code>INSERT INTO tripdata
SELECT *
FROM s3('https://s3.us-east-1.amazonaws.com/altinity-clickhouse-data/nyc_taxi_rides/data/tripdata/data-20*.csv.gz',&nbsp;
'CSVWithNames',&nbsp;
'pickup_date Date, id UInt64, vendor_id String, tpep_pickup_datetime DateTime, tpep_dropoff_datetime DateTime, passenger_count UInt8, trip_distance Float32, pickup_longitude Float32, pickup_latitude Float32, rate_code_id String, store_and_fwd_flag String, dropoff_longitude Float32, dropoff_latitude Float32, payment_type LowCardinality(String), fare_amount Float32, extra String, mta_tax Float32, tip_amount Float32, tolls_amount Float32, improvement_surcharge Float32, total_amount Float32, pickup_location_id UInt16, dropoff_location_id UInt16, junk1 String, junk2 String',&nbsp;
'gzip');

0 rows in set. Elapsed: 238.439 sec. Processed 1.31 billion rows, 167.39 GB (5.50 million rows/s., 702.03 MB/s.)</code></pre>
</div><p>Note the wildcards! They allow you to import multiple files in a single function call. For example, our favorite <a href="https://www1.nyc.gov/site/tlc/about/tlc-trip-record-data.page" target="_blank" rel="noreferrer noopener">NYC taxi trips dataset</a> that is stored in one file per month can be imported with a single SQL command:</p><p><strong>On an Altinity.Cloud ClickHouse instance it takes me less than 4 minutes to import a 1.3B rows dataset!</strong></p><p>A few important hints:</p><div><ul>
<li>As of the 20.10 ClickHouse version, wildcard paths do not work properly with ‚Äògeneric‚Äô S3 bucket URLs, region specific one is required. So we have to use:<br><em>&nbsp; &nbsp; ‚Äúhttps://s3.us-east-1.amazonaws.com/altinity-clickhouse-data/‚Äù,<br></em>instead of<br><em>&nbsp; &nbsp; ‚Äúhttps://altinity-clickhouse-data.s3.amazonaws.com/‚Äù</em></li>
<li>On the other hand, single file download can use convenient bucket URLs.</li>
<li>The S3 import performance heavily depends on the level of client side parallelism. In glob mode multiple files can be processed in parallel. The example above used 32 insert threads. If you have a smaller server and VM try setting higher values of max_insert_threads setting. It can be done by a ‚ÄòSET‚Äô command, for example:
<p><code>set max_threads=32, max_insert_threads=32;<br></code></p></li>
<li>From the other side, ‚Äòinput_format_parallel_parsing‚Äô setting may result in overcommitting the memory, so better to turn it off.</li>
</ul>
</div><p>S3 table function can be used not only for imports but for exports as well! This is how an ‚Äòontime‚Äô dataset can be uploaded to S3.</p><div><pre><code>INSERT INTO FUNCTION s3('https://altinity-clickhouse-data.s3.amazonaws.com/airline/data/ontime2/2019.csv.gz', '*****', '*****', 'CSVWithNames', 'Year UInt16, &lt;other 107 columns here&gt;, Div5TailNum String', 'gzip') SELECT *
FROM ontime_ref
WHERE Year = 2019

Ok.

0 rows in set. Elapsed: 43.314 sec. Processed 7.42 million rows, 5.41 GB (171.35 thousand rows/s., 124.93 MB/s.)</code></pre>
</div><p>Uploading is pretty slow because we can not benefit from the parallelism in this case. ClickHouse can not automatically split the data into multiple files, so only one file can be uploaded at a time. There is a feature request to enable automatic partitioning when inserting to an external table function. That would make export more efficient and convenient.</p><p>Also it is a bit annoying that ClickHouse requires table structure to be supplied to the S3 table function. This is going to be improved in the future releases as well.</p><p><h2 id="h-clickhouse-storage-architecture">ClickHouse storage architecture</h2>
</p><p>S3 table function is a convenient tool for exporting or importing data but it can not be used in real insert/select workloads. The closer integration with ClickHouse storage system is required. Let‚Äôs look at ClickHouse storage architecture in more detail.</p><div><ul>
<li>Storage policies define what volumes can be used, and how data migrates from volume to volume;</li>
<li>Volumes allow to organize multiple ‚Äòdisk‚Äô devices together;</li>
<li>Disk represents the physical device or mount point.</li>
</ul>
</div><div><figure><img src="https://lh4.googleusercontent.com/36Pvq-MZVcWezKbm3tYvkh-IuOSW2HMoqo9AqmETg6zOooXZNurWZ4hELaHRw9M1rPli7GP7uOM1YPmjZTqFaR_ebZ-M_s6PPRgQM6kqQtkCPP19bIOjBLwBISEsl5kxOug2sky-" alt="storage configuration" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
</div><p>When this storage design was implemented in early 2019, ClickHouse supported only one type of disk that maps to OS mount points. A few months later the ClickHouse development team added an extra abstraction layer inside the disk itself, that allows to plug in different disk types. As one can probably guess the rationale for this was object storage integration. The new disk type ‚ÄòS3‚Äô was added shortly after. It encapsulated the specifics of communicating with S3-compatible object storage. Now we can configure S3 ‚Äòdisks‚Äô in ClickHouse, and store all or some data on the object storage.</p><p><h2 id="h-object-storage-configuration">Object storage configuration</h2>
</p><p>Disks, volumes, and storage policies can be defined in the main ClickHouse configuration file config.xml or, better, in the custom file inside /etc/clickhouse-server/config.d folder. Let‚Äôs define the disk S3 first:</p><p><strong>config.d/storage.xml:</strong></p><p>This is a very basic configuration, ClickHouse supports quite a lot of different options here; we will discuss some of them later.</p><p>Once the S3 disk is configured, it can be used in volume and storage policy configuration. We can setup several policies for different use cases:</p><div><ul>
<li>S3 volume in a policy next to other volumes. It can be used for TTL or manual moves of table partitions.</li>
<li>S3 volume in a policy with no other volumes. This is an S3-only approach.</li>
</ul>
</div><div><pre><code>&lt;yandex&gt;
&nbsp;&nbsp;&lt;storage_configuration&gt;
...
&nbsp;&nbsp;&nbsp;&nbsp;&lt;policies&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tiered&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;volumes&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;default&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;disk&gt;default&lt;/disk&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/default&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;s3&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;disk&gt;s3&lt;/disk&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/s3&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/volumes&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tiered&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;s3only&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;volumes&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;s3&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;disk&gt;s3&lt;/disk&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/s3&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/volumes&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/s3only&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/policies&gt;
&nbsp;&nbsp;&lt;/storage_configuration&gt;
&lt;/yandex&gt;</code></pre>
</div><p>Now let‚Äôs try to create some tables and move data around.&nbsp;</p><p><h2 id="h-inserting-data">Inserting data</h2>
</p><p>We will be using an ‚Äòontime‚Äô dataset for this example. You can get it from <a href="https://clickhouse.tech/docs/en/getting-started/example-datasets/ontime/" target="_blank" rel="noreferrer noopener">ClickHouse Tutorial</a>, or download from an Altinity S3 bucket. The table has 193M rows and 109 columns, that‚Äôs why it is interesting to see how it performs with S3, where file operations are expensive. The reference table name is ‚Äòontime_ref‚Äô and it uses default EBS volume. We can now use it as a template for experiments with S3.</p><div><pre><code>CREATE TABLE ontime_tiered AS ontime_ref
ENGINE = MergeTree
PARTITION BY Year
ORDER BY (Carrier, FlightDate)
<mark>TTL toStartOfYear(FlightDate) + interval 3 year to volume 's3'
SETTINGS storage_policy = 'tiered';</mark>

CREATE TABLE ontime_s3 AS ontime_ref
ENGINE = MergeTree
PARTITION BY Year
ORDER BY (Carrier, FlightDate)
<mark>SETTINGS storage_policy = 's3only';</mark></code></pre>
</div><p>‚Äòontime_tiered‚Äô table is configured to store a full 3 years of data on block storage, and move earlier data to S3. ‚Äòontime_s3‚Äô is the S3-only table.&nbsp;</p><p>Now, let‚Äôs insert some data. Our reference table has data up to March 31st, 2020.</p><div><pre><code>INSERT INTO ontime_tiered SELECT * from ontime_ref WHERE Year=2020;

0 rows in set. Elapsed: 0.634 sec. Processed 1.83 million rows, 1.33 GB (2.89 million rows/s., 2.11 GB/s.)</code></pre>
</div><p>That was almost instant. The data still goes to the normal disk. What about the S3 table?</p><div><pre><code>INSERT INTO ontime_s3 SELECT * from ontime_ref WHERE Year=2020;

0 rows in set. Elapsed: 15.228 sec. Processed 1.83 million rows, 1.33 GB (120.16 thousand rows/s., 87.59 MB/s.)</code></pre>
</div><p>Same amount of rows takes 25 times more to insert!&nbsp;</p><div><pre><code>INSERT INTO ontime_tiered SELECT * from ontime_ref WHERE Year=2015;

0 rows in set. Elapsed: 16.701 sec. Processed 7.21 million rows, 5.26 GB (431.92 thousand rows/s., 314.89 MB/s.)&nbsp;

INSERT INTO ontime_s3 SELECT * from ontime_ref WHERE Year=2015;

0 rows in set. Elapsed: 15.098 sec. Processed 7.21 million rows, 5.26 GB (477.78 thousand rows/s., 348.33 MB/s.)</code></pre>
</div><p>Once data lands on S3 insert performance degrades quite a lot. This is certainly not desirable for a tiered table, so there is a special volume level setting that disables TTL moves on insert completely, and runs it in the background only. Here is how it can be configured:</p><div><pre><code>&lt;policies&gt;
&nbsp;&nbsp;&lt;tiered&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;volumes&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;default&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;disk&gt;default&lt;/disk&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/default&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;s3&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;disk&gt;s3&lt;/disk&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<mark>&lt;perform_ttl_move_on_insert&gt;0&lt;/perform_ttl_move_on_insert&gt;</mark>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/s3&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/volumes&gt;
&nbsp;&nbsp;&lt;/tiered&gt;</code></pre>
</div><p>With such a setting insert goes always to the first disk in the storage policy. TTL moves to the corresponding volume are executed in the background. Let‚Äôs clean the ‚Äòontime_tiered‚Äô table and perform a full table insert (side note: truncate takes a long time).</p><div><pre><code>INSERT INTO ontime_tiered SELECT * from ontime_ref;

0 rows in set. Elapsed: 32.403 sec. Processed 194.39 million rows, 141.25 GB (6.00 million rows/s., 4.36 GB/s.)</code></pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://altinity.com/blog/clickhouse-and-s3-compatible-object-storage">https://altinity.com/blog/clickhouse-and-s3-compatible-object-storage</a></em></p>]]>
            </description>
            <link>https://altinity.com/blog/clickhouse-and-s3-compatible-object-storage</link>
            <guid isPermaLink="false">hacker-news-small-sites-25488437</guid>
            <pubDate>Sun, 20 Dec 2020 18:37:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I Left the U.S.]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25488285">thread link</a>) | @FeatureIncomple
<br/>
December 20, 2020 | https://arslan.io/2020/12/20/why-i-left-the-us/ | <a href="https://web.archive.org/web/*/https://arslan.io/2020/12/20/why-i-left-the-us/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	
	<p><span>December 20, 2020</span></p><figure>
    <img src="https://d33wubrfki0l68.cloudfront.net/1edc6507f68f4292d2ff9f550b74217f2997d049/b8e60/images/why-i-left-the-us-1.jpeg"> 
</figure>

<p>Last week I <a href="https://twitter.com/fatih/status/1338272277712969730">announced on Twitter that I‚Äôm leaving the U.S.</a> and going back to my country. I‚Äôm writing these lines from my home in Ankara, Turkey. Many people have asked me <em>why</em> I am leaving. 2020 was one of the most dramatic years in modern history due to the pandemic. Still, there are many other points, and I wanted to share my journey and feelings.</p>
<p>I also want to leave a trail for myself, for the future Fatih, to remind myself how things can sometimes <em>evolve</em> in a very natural (and unexpected) way.</p>
<h2 id="how-it-started">How it started</h2>
<p>It‚Äôs crucial in the first place to understand why I moved to the U.S. As some of you know, I was working for DigitalOcean, which is a cloud company based in NYC. I was working remotely (before it became cool) for almost four years for DigitalOcean. The work was challenging, and I had a lot of fun during my time there. We created many internal and external products (i.e., Managed Kubernetes offering), and it‚Äôs something I‚Äôm very proud of.</p>
<figure>
    <img src="https://d33wubrfki0l68.cloudfront.net/c309d2b056548c0fcc9525ad9379a220768a9fe7/879a5/images/why-i-left-the-us-2.jpeg" alt="Kubecon 2018, Seattle"> <figcaption>
            <p>Kubecon 2018, Seattle</p>
        </figcaption>
</figure>

<p>However, there was always the feeling that I should be in the U.S. for the <em>next big thing</em> (whatever that is). Most of my friends gradually moved abroad (mostly to the U.S.) over the past 5-10 years. With time, friends and family members around me also started questioning my lifestyle. They started asking questions like: ‚ÄúWhy are you still living in Turkey?‚Äù or ‚ÄúWhy is someone like you not living abroad, such as in a European country or U.S.?‚Äù</p>
<p>I received these kinds of questions most of the time, but it increased a lot in the 2018/2019 years. At the end of 2018, my wife and I decided that moving abroad to a Western country could be a nice improvement and that we should give it a shot. My daughter was due in 2019, so my wife wouldn‚Äôt work for 1-2 years as she wanted to take care of her. That was the perfect time to do the switch (more on this later).</p>
<p><strong>Which country would that be?</strong> I was born and grew up in Germany, and being a German citizen also means that Germany was always the first place in my head. Half of my family is still living there, so it would entirely make sense to move to Germany. However, my wife wanted to live in an English-speaking country. Because we once lived in San Francisco temporarily in 2013/2014 and most of our friends moved to Bay Area, we focused on living there.</p>
<figure>
    <img src="https://d33wubrfki0l68.cloudfront.net/7d75062f992106d84f1723ec9d5d0304ee0becf5/ef92f/images/why-i-left-the-us-3.jpeg" alt="Preparing for upcoming interviews"> <figcaption>
            <p>Preparing for upcoming interviews</p>
        </figcaption>
</figure>

<p>Once we decided where we wanted to live, I started looking around and preparing myself for the interviews in Spring 2019. I talked to various companies and looked for a place where I could work on the things I was passionate about. The interview process and later the negotiation part was a very energy-draining process (some of you know this already), so I won‚Äôt go into that.</p>
<p>In the end, I had several offers from several companies (all based in the Bay Area), and I accepted an offer from GitHub to lead the Go framework and libraries team. This position was the perfect job, and it had the potential for me to do impactful work at GitHub.</p>
<figure>
    <img src="https://d33wubrfki0l68.cloudfront.net/b6e2d08586ce6375596f5e4c3c9473efbad7ccac/13151/images/why-i-left-the-us-4.jpeg" alt="My first day at GitHub (HQ, San Francisco)"> <figcaption>
            <p>My first day at GitHub (HQ, San Francisco)</p>
        </figcaption>
</figure>

<p><strong>I joined GitHub in August 2019</strong>, but because we didn‚Äôt have any place to live and it would be challenging for us to look for a new house with two kids (one being a newborn), I came alone. GitHub supported me a lot during this time, and I could find a lovely apartment at the end of August. I bought all the furniture and the things that we needed to function as a family of four. Once I finished, I flew back to Turkey and brought the family back to the Bay Area. It was October 2019, when my kids and my wife finally arrived in the U.S.</p>
<h2 id="life-in-the-us">Life in the U.S.</h2>
<p>Let me explain why we decided to live in the Bay Area:</p>
<ul>
<li>Great job and career opportunities</li>
<li>One of the best weather climates in the world (if you don‚Äôt count the wildfires)</li>
<li>Nature and parks</li>
<li>A diverse and welcoming place for immigrants like us</li>
<li>We lived with my wife once temporarily in San Francisco for around six months and knew the area very well</li>
<li>There were friends we knew from Turkey</li>
</ul>
<p>As a side note, <strong>we didn‚Äôt move for a better financial life.</strong> We were already comfortable, and I want to make sure that‚Äôs known throughout the blog post. I understand that‚Äôs one of the biggest reasons people move abroad from countries like Turkey (and I fully support that), but for me, that wasn‚Äôt the case.</p>
<figure>
    <img src="https://d33wubrfki0l68.cloudfront.net/8c56ff3360bf9cf27e385b3c59237fc58a0c0b02/0749e/images/why-i-left-the-us-6.jpeg" alt="I still need to buy furniture, for now, I was sleeping on this mattress."> <figcaption>
            <p>I still need to buy furniture, for now, I was sleeping on this mattress.</p>
        </figcaption>
</figure>

<p>The first couple of months were not easy due to the adoption of a new country. Because I have traveled a lot to the U.S., I already knew how things work. But for my wife and the kids, that wasn‚Äôt the case. Even small things like ‚Äúwhat kind of milk should we get?‚Äù or ‚Äúwhat bread tastes good?‚Äù took some time to figure out. These were small concerns but worth mentioning because all of these eventually add up.</p>
<p>We slowly started meeting new friends, had gatherings with some of our old friends, etc. I applied for a driver‚Äôs license and also bought a car, which was very much needed because the U.S. is mostly a car-centric country. Once we had the car, we also started to explore our surrounding neighborhoods and cities. It was so great. Each weekend we would go somewhere in the Bay Area, and as I said, the Bay Area has many things to offer. It‚Äôs one of the best metropolitan areas in the world.</p>
<figure>
    <img src="https://d33wubrfki0l68.cloudfront.net/ce48e868cda0e80fe27e181bccc935edd16cb92c/32472/images/why-i-left-the-us-7.jpeg" alt="A weekend trip to Sausalito, CA."> <figcaption>
            <p>A weekend trip to Sausalito, CA.</p>
        </figcaption>
</figure>

<p>I also started going to the GitHub office. Our apartment was just next to a BART station, so it was convenient to go to the office. It was also something I wanted a lot. Working for years and years remotely, you miss being among people and working from an office. My wife also supported me a lot during this time, so every Tuesday and Thursday (sometimes it would be just Tuesday), I would go to the office.</p>
<figure>
    <img src="https://d33wubrfki0l68.cloudfront.net/bd5c7bb1588a003af95998b4872a923e4ab51fe2/5947f/images/why-i-left-the-us-8.jpeg" alt="My favorite place in the GitHub San Francisco office."> <figcaption>
            <p>My favorite place in the GitHub San Francisco office.</p>
        </figcaption>
</figure>

<p>Those days were just fantastic. And because GitHub was a remote-first company, the office was designed in a way with many great amenities. We had a library + lounge area where speaking and eating were forbidden. I would usually work from there. We also had a coffee shop inside the office (with real baristas and dope coffee). As a coffee lover, I loved every single bit. <strong>Being at the office just made me happy.</strong></p>
<p>The kids also started loving the area. My son started going to a preschool and picked up English words quickly. It wasn‚Äôt easy for him because he couldn‚Äôt communicate his needs anymore, but he slowly adapted. And seeing his progress brought us a lot of happiness because one of the reasons we wanted to live abroad was so that the kids could pick up a foreign language.</p>
<p>Due to the visa restrictions, my wife wasn‚Äôt able to work legally. I was on H1B, and my wife on H4. <strong>Unfortunately, the H4 visa restricts spouses to work legally in the U.S.</strong> But as I said earlier, because we had a newborn daughter, it wasn‚Äôt an issue. She wanted to take care of her for one year until she would looking for a job.</p>
<p>Meanwhile, GitHub was going to apply for the Green Card process, giving her the legal foundations to work here. Previously she was working for Deloitte and was a CPA in Turkey. Hence, the plan was to get the training and the necessary education to be a CPA in the U.S. and then start working once we got the Green Card.
As you see, the initial 4-5 months were pretty good. Everything was on track and going according to the plan. We had a great start at the beginning.</p>
<p>In December, we started hearing about the case in Wuhan, China. A deadly virus has begun to spread. A couple of months later, we heard from the news that a ship in California was infected. We found ourselves at the beginning of the pandemic. Everything happened so fast that we even didn‚Äôt know what to do.</p>
<h2 id="pandemic">Pandemic</h2>
<p>Just like everyone else, we didn‚Äôt know what was going on. <strong>Everything just happened instantly</strong>. I think the first instinct and feeling I had at that time was: ‚ÄúI‚Äôm stranded in the U.S. alone. I have a family to take care of, and I‚Äôll have to do everything in my hands to make that happen‚Äù. Of course, as a tech worker, financially, we were in a good position in the Bay Area. But the pandemic slightly changed that perspective, especially for me.</p>
<p>Gradually, things got worse and worse. They closed down the schools, afterward the playgrounds as well. I wasn‚Äôt able to go to the office anymore. We got stuck at home with our two kids. And any parent knows how miserable it if you‚Äôre staying for an extended period at home with the kids. We realized that being cut off from the family and support network made things a lot harder.</p>
<figure>
    <img src="https://d33wubrfki0l68.cloudfront.net/96b1c44f772de989ad47df8485c9b6b7d469edf5/2145e/images/why-i-left-the-us-9.jpeg" alt="Preparing a birthday party for my son&amp;rsquo;s birthday (due to the pandemic it was just the four of us)"> <figcaption>
            <p>Preparing a birthday party for my son‚Äôs birthday (due to the pandemic it was just the four of us)</p>
        </figcaption>
</figure>

<p>By now social distancing had started. We would probably experience the same thing in Turkey, but it would be quite different. In Turkey, friends with families would arrange for one of the parents to come and stay with them for months. There is a vast network, and culturally, people lived with their parents. So, it was a common thing where your parent would live with you.</p>
<p>For us, <strong>being in the Bay Area meant that we didn‚Äôt have this support network.</strong> It was just extremely difficult for my wife and me. I started to sleep around 8/9 pm with the kids and then wake up around 4 am to work without disruption for a couple of hours. In the morning, my wife would take care of the kids, and then during the evening, I would cook the food or take care of the kids. I‚Äôm not sure how we would handle the pandemic without my wife‚Äôs extraordinary support. As I said, it wasn‚Äôt easy, and things didn‚Äôt get better.</p>
<figure>
    <img src="https://d33wubrfki0l68.cloudfront.net/b82e5ad4aff1cd231592e48025e7b897d1d51cf0/d8dbd/images/why-i-left-the-us-10.jpeg" alt="My son would sit next to me most of the times."> <figcaption>
            <p>My son would sit next to me most of the times.</p>
        </figcaption>
</figure>

<p>On top of this, our flight in May 2020 to Turkey got canceled. Countries decide to close down the borders. We could fly back in July to Turkey. Once we arrived, we immediately realized how relieving it is to live in an ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://arslan.io/2020/12/20/why-i-left-the-us/">https://arslan.io/2020/12/20/why-i-left-the-us/</a></em></p>]]>
            </description>
            <link>https://arslan.io/2020/12/20/why-i-left-the-us/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25488285</guid>
            <pubDate>Sun, 20 Dec 2020 18:18:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[You're Missing Out If You Don't Write Weekly Digests]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25487798">thread link</a>) | @TinyBig
<br/>
December 20, 2020 | https://eyeofthesquid.com/posts/write-weekly-digests/ | <a href="https://web.archive.org/web/*/https://eyeofthesquid.com/posts/write-weekly-digests/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <div>
  

  <p><time datetime="2020-12-19T21:08:11-0800">Dec 19, 2020</time> ¬∑ 4 min read
  </p>

  <h2 id="summary">Summary</h2>
<p>A scheduling faux-pas earlier this year led to the accidental discovery of a best practice that has improved knowledge sharing, discussion, and documentation at thredUP while requiring minimal time investment.</p>
<h2 id="an-odd-handoff">An Odd Handoff</h2>
<p>I work on the thredUP merch-science team as Director of Engineering. The merch-science team has always been good about collaboration between product leaders and engineering to ensure that we are fully covered in the case of vacations, leaves of absence, and departures.</p>
<p>This past fall, what would have been a routine handoff was complicated when I scheduled time off  that began the day a product leader returned from a week away, giving us zero overlap. thredUP‚Äôs marketplace saw huge shifts over the course of the pandemic, and even though she was only gone for a week, there was a fair bit of catch-up to do. I addressed this issue by writing up a digest of everything our team learned about the marketplace that week and the decisions we made based on those learnings. I jokingly titled the document ‚ÄúThe Weekly Jenn‚Äù, as it was intended only for her, sent her the link, then shelved my laptop for a much-needed respite.</p>
<h2 id="the-revelation">The Revelation</h2>
<p>When I returned to work, I was surprised to find many requests for access to this document; it was duplicated and widely shared in my absence. It fostered discussion across teams and with thredUP‚Äôs executives. With so many people getting value from ‚ÄúThe Weekly Jenn‚Äù, what was intended as a one-off morphed into an actual weekly digest. After continuing to write weekly digests for the past quarter and seeing the results, I am convinced it is a best practice more teams should adopt. The rest of this article will detail the problems this digest solves and best practices for writing the digest itself.</p>
<h2 id="problems-solved">Problems Solved</h2>
<ul>
<li><strong>Visibility and Transparency</strong><br>
The merch-science team manages thredUP‚Äôs two sided marketplace and hence has wide-ranging responsibilities that affect most other teams in some way. This makes disseminating learning and decision making problematic, but I think this problem is largely resolved by writing up major happenings.</li>
<li><strong>Discussion</strong><br>
Another benefit is that this document is a great way to foster discussion. The Weekly is a Google doc open for comments to everyone in the company, and in practice, people make great use of comments, asking and answering questions, pointing out opportunities for collaboration, highlighting areas for follow-up, and celebrating wins.</li>
<li><strong>Documentation</strong><br>
Lastly, this document is turning into a piece of our institutional memory and knowledge management. Institutional memory in practice usually means ‚Äúthe memories of the longest tenured employees‚Äù, but this is less than ideal, even at a company like thredUP with many long-tenured folks. Some issues and questions tend to recur, and remembering what decisions were made or which experiments succeeded or failed is often insufficient. The context surrounding what decisions we made can be as critical to understand as the decisions themselves, and in a growing company facing shifting consumer behavior, context can change very quickly. In addition to helping future decisions, I also see this document as a great onboarding resource as we continue to grow our merch-science team.</li>
</ul>
<h2 id="best-practices">Best Practices</h2>
<p>With the above problems in mind, I‚Äôve arrived at a handful of best practices for starting and maintaining a weekly digest:</p>
<ul>
<li><strong>Set reasonable expectations</strong><br>
I made it clear from the outset, especially to executives, to expect a low-polish document. We‚Äôre all busy enough and I doubt maintaining such a document is sustainable if it‚Äôs tacking another four hours of work on to your week.</li>
<li><strong>Back it up with data</strong><br>
Include data, graphs, and charts <em>and</em> link to sources. This provides further transparency to everyone viewing the document and will save a lot of time in the future should you find yourself revisiting problems and decisions discussed in the digest.</li>
<li><strong>Keep it simple</strong><br>
Make the writing as accessible to the widest group of people at your company that you reasonably can. Tailoring content to your audience is a critical skill for engineering leadership; I‚Äôve found it beneficial having another vehicle to refine this skill.</li>
<li><strong>Make it a habit</strong><br>
Share the document in the same place every week with a short summary of this week‚Äôs topics. We use a public, well-trafficked Slack channel.</li>
</ul>
<p>Thank you to Eddie Salazar and Teague Hopkins for reviewing drafts of this post.</p>

</div>


  </div></div>]]>
            </description>
            <link>https://eyeofthesquid.com/posts/write-weekly-digests/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25487798</guid>
            <pubDate>Sun, 20 Dec 2020 17:19:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Another C++ (and More) Conference?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25487687">thread link</a>) | @ingve
<br/>
December 20, 2020 | https://thephd.github.io/why-another-c++-c-rust-zig-systems-programming-conference | <a href="https://web.archive.org/web/*/https://thephd.github.io/why-another-c++-c-rust-zig-systems-programming-conference">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
  
      <p>For those of you late to the party, Shepherd‚Äôs Oasis and I are starting <a href="https://twitter.com/__phantomderp/status/1338582889487855618">a new Systems Programming conference named CoSy Tech</a>! There‚Äôs the lingering question from the people outside of my immediate circle who keep asking: <!--more-->why?</p>

<p>It‚Äôs a good question. After all, it‚Äôs not like we have a shortage of C++ conferences. C++ Paris, C++ on Sea, CppCon, C++Now, Pacific++, MeetingC++, code::dive, Italian C++‚Ä¶ there‚Äôs a lot of C++ conferences, user groups, and meetups that have really come to the table to play. So‚Ä¶</p>

<p>Why?</p>

<p>There are a number of reasons to start a new Systems Programming conference. The two primary reasons are as follows:</p>

<ul>
  <li>Broadening the scope to accept folks from other professional backgrounds, hobbies, and walks of life; and,</li>
  <li>Getting out from the crushing despair that is the current landscape to survive.</li>
</ul>



<p>Several people (myself included) noticed that there <a href="https://nullprogram.com/blog/2018/11/21/">was no conference for C programmers</a>. A lot of my work ties to C, talks to C, and as I‚Äôve begun to uncover much more deeply there are a large number of people who have forsaken C++ for C intentionally or use plain C because their environment offers no alternatives. That means there‚Äôs a wealth of modern, current C practices that aren‚Äôt really elucidated upon by current literature. Meanwhile, most mainstream text about C spends time dunking on it (myself included!), talking about its vulnerabilities, or talking about it as ‚Äúthat ancient thing we need to worry about every now and then‚Äù.</p>

<p>How do these people make do?</p>

<p>So, we‚Äôre going to invite those developers into the fold, to talk about what makes their code successful in professional and hobby environments. This doesn‚Äôt apply to just C or C++, of course: Rust, Zig, FORTH, Nim, OCaml, Haskell, and many more languages have gotten a chance to solve some problems people have. I‚Äôd like to give those people a seat at the table and have them focus on <em>how they used their tools to solve the problem at hand</em>, rather than focusing on the tool itself. Which leads me to talk about‚Ä¶</p>

<h2 id="submissions-">Submissions! üìú</h2>

<p>Submissions for CoSy aren‚Äôt open yet, but we wanted to approach how submissions are treated and what kind of content we received differently from other conferences. There are essentially two kinds of conference systems: academic and industrial.</p>

<p>Industry conferences zero in on either a specific community/technology (Node, .NET, the JVM) all the way down to an exact tool (Kubernetes, LLVM). They sometimes have themes that encourage a broader range of talks and submissions, but ultimately it‚Äôs fairly focused what they‚Äôre going after. Talk submissions are generally just an IOU (‚ÄúI owe you‚Äù): you promise to furnish a talk at the appointed time with the necessary bells and whistles. (This changes a little for Poster submissions to said industry conferences, where you have to usually show something real by the deadline.)</p>

<p>Academic and journal-related conferences tend to have higher barriers to entry even if they have broader scope, such as requiring a journal article/paper-like submission subject to rigorous peer review rather than just an outline of a talk or an idea with an IOU to show up and deliver. They tend to require the ability that you write a journal article, have the intent to publish, or are going to publish very soon (preferably, in the journal related to the conference).</p>

<p>There is room for a mix, where we have hobby, industry, and academic professionals/hobbyist strive for a low-cost environment to share what they either love to do or professionally work on, without the high submission cost of needing a whole article. That‚Äôs what CoSy is going to be focusing on: everyone, academics and professionals alike, can focus on just delivering a good talk, while still having a pretty broad scope to talk about (Systems Programming). We also hope to reach out to organizations, companies, and people who don‚Äôt normally contribute to the aforementioned C++ conferences so we can cycle in many new and wonderful faces and names.</p>

<h2 id="double-blinded-">Double-Blinded üï∂</h2>

<p>Another big difference is that we‚Äôre going to be internally doing double-blinded reviews. This means that all personally-identifying information will be removed (Name, Age, and any other details) from all submissions before being passed on to the Program Committee. The primary reason for this is fairness: we want to be sure that everyone gets their submissions processed with the same opportunity to impress. This actually applies more to ‚Äúfamous people‚Äù than it does to any other metric.</p>

<p>For example, some people blindly submit great reviews for talks attached to e.g. Chandler Carruth, Kate Gregory, or JF Bastien because they ‚Äúwant to see their take on the subject‚Äù. This can come regardless of the quality of the actual submission. While some people might think this is awesome, this actually hurts JF or Kate or Chandler more than it helps! If they wanted to submit on a new topic they‚Äôve never spoken about before, it can be hard to trust the reviews because they‚Äôre biased by the clout/notoriety of who they are. This provides less critical feedback that could actually result in a great talk, resulting in an echo chamber.</p>

<p>Double-blind submission removes that kind of bias, as well as other biases inherent in humans processing other humans‚Äô work. Of course, it‚Äôs not always possible to double-blind everything! If someone writes a submission about how they wrote a Great Book On Large Scale Software Architecture That‚Äôs Really Good And Helps You Modularize And Structure Large Software And The Sequel Is Out You Should Buy It Now, they have vastly reduced the pool of people they could be talking about. But that‚Äôs the beauty of the system: if you want to rely on fame, then you can name yourself in the submission outline or spell out some easily-identifiable detail.</p>

<p>But! The default is that your identity is unknown, and your work is being evaluated for the quality of its presentation. Name-drop yourself, but only if you dare!</p>



<p>At this point, you can stop reading the article. Most people would be content with the above handling and just leave it at that. But this is one of the most important and driving reasons why CoSy needs to be created, and that‚Äôs because the current systems we have created around our conferences and industry are not remotely fixable.</p>

<h2 id="--w-a-r-n-i-n-g--">‚ö† ‚ö† W A R N I N G ‚ö† ‚ö†</h2>

<p>The following sections will reproduce some people‚Äôs words, exactly. That includes slurs such as the n-word, f-word, s-word and more. If you don‚Äôt have a stomach for it, then just take my word for it that it‚Äôs nasty and go read some other cool programming articles! But if you want to know why we need a new programming conference and why we can‚Äôt just build it like the old ones, well.</p>

<p>Travel on, brave reader.</p>

<h2 id="closed-wont-fix-">Closed: Won‚Äôt Fix ‚ùå</h2>

<p>Yes. I say this after myself and many others have participated deeply in the systems, attempting to influence behavior and ask for changes that protect and prioritize the most vulnerable in our communities. The long and short of it is that the folks who run these programs, donate the most money, and sit at the top of the food chains for these organizations are not open to changing the way they do things. This is fine for them, but it is not fine for the rest of us.</p>

<p>On top of what I myself and many others in the C++ community have experienced, more and more stories have come into my e-mail, Signal, and Discord messages describing in fairly unfortunate detail the level of harassment, sabotage, and bigotry that has infested tech and ultimately destroyed many promising individuals ‚Äì young and old ‚Äì out of our most prominent and prestigious spaces. I thought <a href="https://twitter.com/__phantomderp/status/1324766113402638336">C++ was unique in its terribleness</a>,</p>

<p>but I could not have been more wrong.</p>

<p>From Python to JavaScript, harassment and abuse is a lot more common than I ever wanted it to be. Still, I do not want to talk over other people‚Äôs experiences: they can share them at a time when they feel appropriately equipped to do so. I am instead going to talk to, specifically, why I could not do something like hope that C++Now might fix itself or expect that any other existing event might suddenly pivot for the better.</p>

<h2 id="reactionary-rhetoric-crafting-a-bigot-">Reactionary Rhetoric: Crafting a Bigot üî®</h2>

<p>We know that there exist places <a href="https://thephd.github.io/assets/img/2020/12/4chan-full-thread.jpg">like 4chan where the brutally disgusting ‚Äúdiscussions‚Äù</a> are disguised under the mantle of ‚Äútechnocracy‚Äù and ‚Äúequal work, equal merit‚Äù policies. Obviously, 4chan isn‚Äôt a reflection of Boost, any C++ conference, its leadership, or its donors. Unfortunately, I and many others do not have to go to 4chan or the underbelly of reddit to find this kind of plain talk of ‚Äúniggers‚Äù and ‚Äúfaggots‚Äù: it was happening right within the CppLang Slack. No other story is as illustrative of that as is Douman‚Äôs Story.</p>

<h3 id="an-outsiders-history-of-douman-">An Outsider‚Äôs History of Douman üìö</h3>

<p>When I joined the CppLang Slack around 2017-2018, an incident occurred. A user by the name of Douman said ‚Äúnigger‚Äù, hard R and everything. Moderation came down on Douman eventually, and he ended up getting banned from one of CppLang‚Äôs most rancorous ‚Äúoff topic‚Äù channels to help him resist the urge to say it again while still being able to participate. (Don‚Äôt ask me how this is supposed to be an effective deterrent.) Afterwards, Douman stated he was sad about the event and donned a Slack emoji in his name with the tag to the effect of ‚ÄúGarbage human being‚Äù.</p>

<p>What happened privately, however, was an entirely different story.</p>

<p>Incensed at being slapped on the wrist for his transgression, Douman confided in authorities higher than the Moderation team itself: the CppLang Admins. And in them, Douman found exactly what he was looking for: righteous justification against the ‚Äúsnowflakes‚Äù who couldn‚Äôt handle his ‚Äúbad language‚Äù. He linked up in a Slack channel called Unfiltered, an at-times locked channel where users did and could scream nigger, faggot, and all sorts of other things, at anybody they wanted to. You think of a slur, and it was said in Unfiltered.</p>

<p>I know this, because for a brief moment I was in there.</p>

<p>The first time I left the CppLang Slack ‚Ä¶</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://thephd.github.io/why-another-c++-c-rust-zig-systems-programming-conference">https://thephd.github.io/why-another-c++-c-rust-zig-systems-programming-conference</a></em></p>]]>
            </description>
            <link>https://thephd.github.io/why-another-c++-c-rust-zig-systems-programming-conference</link>
            <guid isPermaLink="false">hacker-news-small-sites-25487687</guid>
            <pubDate>Sun, 20 Dec 2020 17:06:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A tool to show the current application's shortcuts on Windows, Linux, and macOS]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25487653">thread link</a>) | @tkainrad
<br/>
December 20, 2020 | https://tkainrad.dev/posts/app-to-show-shortcuts-of-current-application-windows-linux-macos/ | <a href="https://web.archive.org/web/*/https://tkainrad.dev/posts/app-to-show-shortcuts-of-current-application-windows-linux-macos/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="contentdiv">

<p>Looking up keyboard shortcuts on the web takes you out of the current context and breaks your workflow. That‚Äôs why, <a href="https://tkainrad.dev/posts/setting-up-linux-workstation/">as a Linux user</a>, I have always been a bit envious of macOS users, who had access to tools that could instantly show the current application‚Äôs shortcuts, such as <a href="https://www.mediaatelier.com/CheatSheet/">CheatSheet</a>, and <a href="https://github.com/amiechen/pretzel">Pretzel</a>.</p>
<p>On Windows and Linux, there was no such thing. You had to find shortcut information in the software‚Äôs documentation and hope that it was searchable. Or even worse, suffer a massive context switch and google for the shortcuts, until now. KeyCombiner Desktop is free to use and can show the active application‚Äôs shortcuts on Windows, Linux, and macOS.</p>
<p>Suppose you are on macOS and already use one of the existing solutions. In that case, you might still want to read further because KeyCombiner goes far beyond looking up the active application‚Äôs shortcuts.</p>

<p>If a picture says more than 1000 words, an animation will speak for itself:</p>
<figure>
<img src="https://tkainrad.dev/images/keycombiner/lookup-three-apps2.gif" alt="Instant shortcut lookup for three example applications."> <figcaption>
<p>Instant shortcut lookup for three example applications.</p>
</figcaption>
</figure>
<p>Upon pressing the global trigger, the lookup will appear with a search field in focus, where you can start to type right away. The default trigger is <kbd>super</kbd>+<kbd>shift</kbd>+<kbd>c</kbd> on Windows and Linux, and <kbd>cmd</kbd>+<kbd>shift</kbd>+<kbd>k</kbd> on macOS. This can be configured, I use <kbd>super</kbd>+<kbd>c</kbd> on Linux.</p>
<p>The search terms will be applied to the shortcut description, the key binding, and some hidden fields like the shortcut category. Do you want to search for all file-related bindings that use <kbd>Ctrl</kbd>? Type something like <code>file ctrl</code> and you have your answer.</p>
<p>The lookup window disappears whenever you click outside of it, when you press <kbd>esc</kbd>, or when you switch to another application via <kbd>cmd</kbd>/<kbd>ctrl</kbd>+<kbd>tab</kbd>. If you close via <kbd>esc</kbd>, the search term will be cleared. If you use <kbd>cmd</kbd>/<kbd>ctrl</kbd>+<kbd>tab</kbd>, you can switch back to the active application without losing the cursor position.</p>

<p>If you carefully watched the animation above, you might have noticed that the rows are grouped. The first group has the prefix <code>Active:</code> and is highlighted with a blue background. This group shows the shortcuts for the active application. Everything that is shown below this group is from the user‚Äôs personal shortcut and command collections.</p>
<p>To explain what these are, I have to provide some background. KeyCombiner is an application to organize, learn, and practice keyboard shortcuts. A core idea is to learn precisely the shortcuts you need. The only way to achieve this is to choose them yourself, which is done by creating personal collections of shortcuts and text snippets. I like to compare this concept to how you build playlists in music software. Instead of browsing your favorite artists‚Äô albums, KeyCombiner allows you to browse shortcut collections of your favorite applications. Instead of adding songs to your playlists, you can add keyboard shortcuts and text snippets to your personal collections.</p>
<p>The instant lookup of KeyCombiner Desktop profits immensely from these collection building features, and vice-versa. Having instant access to your collections makes them a lot more valuable. In short, these two features complete each other.</p>
<p>The instant lookup works offline. Your personal collections are downloaded only on application startup. If you modified your collections while KeyCombiner Desktop was running, you may reload the lookup via (<kbd>Ctrl</kbd>/<kbd>Cmd</kbd>+<kbd>R</kbd>).</p>
<p>I will try to illustrate this with my personal experience. Currently, I have 10 personal KeyCombiner collections. My largest one contains more or less all shortcuts that I already knew when I started to use KeyCombiner. This collection is publicly accessible via this <a href="https://keycombiner.com/collecting/collections/shared/89e47af4-0f2e-4d5d-98fa-6966bc7453cc/">shareable link</a>. Then, I did a <a href="https://tkainrad.dev/posts/how-i-learned-50-new-keyboard-shortcuts-in-42-minutes/">blog post challenge to learn 50 new keyboard shortcuts as fast as possible</a>. More recently, I <a href="https://tkainrad.dev/posts/learning-all-vscode-shortcuts-evolved-my-developing-habits/">learned <em>all</em> VSCode keyboard shortcuts</a>, which evolved my developing habits and added another collection with 151 shortcuts to my repertoire.
Add to that a few smaller collections I used for learning the shortcuts of Chrome DevTools, Nautilus, Spotify, and Vimium. Having instant access to all of these shortcuts without leaving my current context feels like a superpower, even though I admit that some of those superpowers you see in movies look even more powerful.</p>
<p>My most recent new use case is to look up regular expressions. There is an <a href="https://tkainrad.dev/posts/automatically-add-kbd-tags-with-a-single-regex/">article</a> on how to automatically add HTML &lt;kbd&gt;-tags to any text via a single regex replace operation. I use this for all of my blog posts, all &lt;kbd&gt; tags you see in this post are added this way. However, it wouldn‚Äôt be so convenient if I couldn‚Äôt instantly look up and copy-paste the required regular expression:</p>
<figure>
<img src="https://tkainrad.dev/images/keycombiner/lookup-regex.gif" alt="The lookup also shows shortcuts and text snippets from your personal collections."> <figcaption>
<p>The lookup also shows shortcuts and text snippets from your personal collections.</p>
</figcaption>
</figure>
<p>KeyCombiner‚Äôs instant lookup is a cheatsheet of sorts. But it is context-aware, searchable, and you can expand it quickly by importing from public or shared collections. It is also friendlier to the environment than printing out PDFs and hanging them next to your desk.</p>

<p>There is a very boring answer to this question: By maintaining an extensive public database of keyboard shortcuts. You might have noticed from reading this post that I am quite excited about Keycombiner. That‚Äôs why I spend considerable time to parse the documentation pages of software tools for their keyboard shortcuts. It‚Äôs not as dull as it sounds like; creative use of regular expressions makes it quite fun. Don‚Äôt judge me; everyone has a weird hobby.</p>
<p>You can browse the database at <a href="https://keycombiner.com/collections/">https://keycombiner.com/collections/</a>.<br>
The instant lookup works for all desktop-based applications that are listed there. In particular, it should work for all apps that an average software developer uses (VSCode, JetBrains IDEs, Vim, Eclipse, Chrome, Firefox, Safari, Nautilus, Finder, Notion, Slack, Explorer, Terminal, iTerm2, Obsidian,‚Ä¶). This list is growing fast, and I am happy to take suggestions.</p>
<p>One downside of this approach is that KeyCombiner can only show the default bindings for the active application. If you have changed these bindings, that‚Äôs not ideal. Fortunately, If you went through the trouble of changing a binding, you usually won‚Äôt need to look it up. In any case, you can add the customized binding to a personal collection, and the lookup will show it as explained above.</p>
<p>Existing tools for macOS use a different approach. They rely on a macOS API to retrieve menu keyboard shortcuts for the current application. This has its advantages and disadvantages. The great thing about it is that it works automatically for all applications that have a menu. On the other hand, applications
don‚Äôt necessarily register all of their shortcuts as menu shortcuts.</p>



<p>Simply go to <a href="https://keycombiner.com/desktop/">https://keycombiner.com/desktop/</a> and grab the installer for your system. On macOS, you need to grant some permissions for the instant lookup to work. Please refer to the bottom of the linked page for instructions on how to do that.</p>
<p>KeyCombiner is a SaaS with a generous free tier. <strong>All features described in this article are entirely free to use.</strong> If you use KeyCombiner a lot, please consider upgrading to a Pro subscription to get access to additional features and to support hosting and development efforts.</p>


<p>KeyCombiner can do a lot more things than what‚Äôs described in this post. However, the instant lookup has quickly become one of my favorite features. Admittedly, I don‚Äôt use KeyCombiner every day for learning shortcuts. Usually, after I have <a href="https://tkainrad.dev/posts/learning-all-vscode-shortcuts-evolved-my-developing-habits/">mastered all shortcuts</a> of a new collection, it takes a couple of days or even weeks until I get back to frequent practice.</p>
<p>In contrast, I use the instant lookup <em>all the time</em>. If I am on a different computer without KeyCombiner installed, I notice that something is missing after a couple of minutes.</p>
<p><strong>Enough about me, though. I‚Äôd be thrilled to hear about your experience with the software.</strong></p>
<br>
</div></div>]]>
            </description>
            <link>https://tkainrad.dev/posts/app-to-show-shortcuts-of-current-application-windows-linux-macos/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25487653</guid>
            <pubDate>Sun, 20 Dec 2020 17:03:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Reverse-Engineering Apple Dictionary]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25487551">thread link</a>) | @atorodius
<br/>
December 20, 2020 | https://fmentzer.github.io/posts/2020/dictionary/ | <a href="https://web.archive.org/web/*/https://fmentzer.github.io/posts/2020/dictionary/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        <div>

  

  <article>
    <p>For a while now I have wanted to write a simple dictionary app for the Apple
Watch. The goal was to be able to quickly look up words from paper books,
by storing the book on the watch to be able to do fuzzy matches against the text.
While Apple ships amazing dictionaries with macOS and iOS, they only provide a very
limited API.
On iOS, all you get is 
a <em>view</em> into the dictionary via <code>UIReferenceLibraryViewController</code>,
for the Watch, there is no API at all,
and on OS X you get an antique <code>DCSCopyTextDefinition</code> that only
returns a plain-text definition, which is not nice to display. The whole
definition is returned as one blob of non-rich text, no newlines.</p>

<p>It was while attempting to parse this output that I realized it would be so much
easier to get the source, which I‚Äôm showing here how to do.
I open-sourced the code to parse the dictionary
<a href="https://github.com/fab-jul/parse_dictionaries">on github</a>.</p>

<p>Here is a pic of the OS X dictionary:</p>

<p><img src="https://fmentzer.github.io/assets/img/dictionary.png"></p>

<p>And here is what I managed to extract:</p>

<p><img src="https://fmentzer.github.io/assets/img/dictionary_watch.jpg"></p>

<p>I started by trying to figure out where dictionaries are stored.
Some googling <a href="https://discussions.apple.com/thread/250861549?answerId=251679363022#251679363022">revealed</a>
that they are burried in <code>/System</code> 
(at least for macOS 10.15 and possibly higher), at</p>

<div><div><pre><code>/System/Library/AssetsV2/
  com_apple_MobileAsset_DictionaryServices_dictionaryOSX/
</code></pre></div></div>

<p>This folder contains various cryptically-named folders ending in <code>.asset</code>,
which represent the different installed dictionaries. E.g., for me:</p>

<div><div><pre><code>$ ls
24effbf40402f823bb9d9f6f12b75af3e679a4a6.asset
26e585a43423edb02b25fa7ba9af3fdc08eed6d7.asset
4094df88727a054b658681dfb74f23702d3c985e.asset
96d637557afb292134db05d7d7f30c0fed9cef9f.asset
976258f0b1fad70dd8e7ee7c1b4be8f8536e19a7.asset
a1d5710e8c3932361413f22ff588a1a3c7c337bf.asset
com_apple_MobileAsset_DictionaryServices_dictionaryOSX.xml
</code></pre></div></div>

<p>Of these, <code>4094df88727a054b658681dfb74f23702d3c985e.asset</code> is the 
‚ÄúNew Oxford American Dictionary‚Äù. Going into that folder and
a few levels deeper, we land at a promisingly named ‚ÄúResources‚Äù folder:</p>

<div><div><pre><code>$ ls /System/Library/AssetsV2/
  com_apple_MobileAsset_DictionaryServices_dictionaryOSX/
  4094df88727a054b658681dfb74f23702d3c985e.asset/
  AssetData/
  New Oxford American Dictionary.dictionary/
  Contents/
  Resources/

Body.data        ca.lproj         ms.lproj
DefaultStyle.css cs.lproj         no.lproj
Dutch.lproj      da.lproj         pl.lproj
English.lproj    el.lproj         pt.lproj
EntryID.data     en_AU.lproj      pt_PT.lproj
EntryID.index    en_GB.lproj      ro.lproj
French.lproj     es_419.lproj     ru.lproj
German.lproj     fbm.css          sk.lproj
Images           fi.lproj         sv.lproj
Italian.lproj    fr_CA.lproj      th.lproj
Japanese.lproj   he.lproj         tr.lproj
KeyText.data     hi.lproj         uk.lproj
KeyText.index    hr.lproj         vi.lproj
NOAD.xsl         hu.lproj         zh_CN.lproj
Spanish.lproj    id.lproj         zh_HK.lproj
ar.lproj         ko.lproj         zh_TW.lproj
</code></pre></div></div>

<p>which is filled with a whole bunch of files. Sorting by size, it turns out
that <code>Body.data</code> could be a promising candidate at 23MB.</p>

<p>Sadly, it seems to be a binary blob without a discernible content.</p>

<div><div><pre><code>$ xxd Body.data | head -n15
00000000: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00000010: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00000020: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00000030: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00000040: f74d 7001 0000 0000 ffff ffff 2000 0000  .Mp......... ...
00000050: 0000 0000 da02 0000 ffff ffff ffff ffff  ................
00000060: 9480 0000 9080 0000 443b 0400 78da ecbd  ........D;..x...
00000070: 6b8c 2457 961e 26ed 6ab5 6fc9 300c c382  k.$W..&amp;.j.o.0...
00000080: 21e3 aac7 10ab b455 3df9 7eb0 67da aa6e  !......U=.~.g..n
00000090: 72d8 3d7c 0cc5 2667 b05a 8c1b 3723 6e66  r.=|..&amp;g.Z..7#nf
000000a0: 5c56 44dc e4bd 1155 9dc4 1a18 6261 9918  \VD....U....ba..
000000b0: 717f 505c db4b 2cb4 c66a e911 966b 4382  q.P\.K,..j...kC.
000000c0: b570 0bd6 2f75 f71a ae69 0c2c ff31 6003  .p../u...i.,.1`.
000000d0: b6e1 010c 0102 2c03 fee3 1f86 1fe7 dc1b  ......,.........
000000e0: 9195 8f88 cc8c c81b 9955 2407 c3ae aacc  .........U$.....
</code></pre></div></div>

<p>Scanning through the file with <code>xxd</code>, I did not find any visible structure.</p>

<p>However, given that the file is only ~23MB, I was thinking it may just be a ZIP file
in disguise.</p>

<div><div><pre><code>unzip Body.data
Archive:  Body.data
  End-of-central-directory signature not found.  Either this file is not
  a zipfile, or it constitutes one disk of a multi-part archive.  In the
  latter case the central directory and zipfile comment will be found on
  the last disk(s) of this archive.
unzip:  cannot find zipfile directory in one of Body.data or
        Body.data.zip, and cannot find Body.data.ZIP, period.
</code></pre></div></div>

<p>No luck! Same for <code>tar xvf</code>.</p>

<p>At this moment, I remembered
that the last time I had been thinking about this problem, years ago,
I had stumpled upon some cryptic C code. I remembered fiddling around with
XML, so I tried to dig up old projects, but sadly, I must have deleted them.</p>

<p>Some googling later, I stumpled upon the very <a href="https://gist.github.com/josephg/5e134adf70760ee7e49d">gist</a>
I had found years ago. It‚Äôs a very short and sweet python script to
extract entries from <code>Data.entry</code>. However, it‚Äôs also somewhat magical
in that it‚Äôs not documented, seeks random offsets, and even makes use
of the <code>struct</code> library.</p>

<p>But, it also does <code>import zlib</code>, so I thought, let‚Äôs try
to reverse engineer it myself.</p>

<p>The first simple
thing to try was to just attempt to find a ZIP file by going through the
bytes of the file one by one. After all,
it was very plausible that the file starts with some Apple
header followed by some compressed data.</p>

<div><div><pre><code><span>import</span> <span>zlib</span>
<span>import</span> <span>itertools</span>

<span>DATA_FILE_PATH</span> <span>=</span> <span>...</span>

<span>with</span> <span>open</span><span>(</span><span>DATA_FILE_PATH</span><span>,</span> <span>'rb'</span><span>)</span> <span>as</span> <span>f</span><span>:</span>
  <span>content_bytes</span> <span>=</span> <span>f</span><span>.</span><span>read</span><span>()</span>

<span># Try all offsets to see if we find a ZIP file
</span><span>for</span> <span>offset</span> <span>in</span> <span>itertools</span><span>.</span><span>count</span><span>():</span>
  <span>print</span><span>(</span><span>f</span><span>'Trying {offset}...'</span><span>)</span>
  <span>try</span><span>:</span>
    <span>content_decompressed</span> <span>=</span> <span>zlib</span><span>.</span><span>decompress</span><span>(</span><span>content_bytes</span><span>[</span><span>offset</span><span>:])</span>
    <span>print</span><span>(</span><span>'Found ZIP!'</span><span>)</span>
    <span>break</span>
  <span>except</span> <span>zlib</span><span>.</span><span>error</span><span>:</span>  <span># Current content_bytes is not a zipfile -&gt; skip a byte.
</span>    <span>pass</span>
</code></pre></div></div>

<p>‚Ä¶ and, low and behold, at byte number 108, a ZIP file starts!</p>

<div><div><pre><code>Trying 102...
Trying 103...
Trying 104...
Trying 105...
Trying 106...
Trying 107...
Trying 108...
Found ZIP!
</code></pre></div></div>

<p>Very exciting! What‚Äôs in this ZIP?</p>

<div><div><pre><code>&gt;&gt;&gt; content_decompressed.decode()
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xa3 in position 0: invalid start byte
</code></pre></div></div>

<p>Ok, so already the first byte cannot be decoded by ‚Äòutf-8‚Äô, that‚Äôs a bit sad.</p>

<div><div><pre><code>&gt;&gt;&gt; print(content_decompressed[:20])
b'\xa3\x02\x00\x00&lt;d:entry xmlns:d'
</code></pre></div></div>

<p>Aha, already a few bytes later, some XML starts. For now, let‚Äôs just 
ignore the first four bytes.</p>

<div><div><pre><code>&gt;&gt;&gt; content_decompressed[4:].decode()
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xe7 in position 2065: invalid continuation byte
</code></pre></div></div>

<p>That‚Äôs already more promising, we can decode 2065 bytes.
Looking around position 2065, we find:</p>

<div><div><pre><code>&gt;&gt;&gt; print(content_decompressed[2055:2085])
b'an&gt;&lt;/d:entry&gt;\n\xe7\x02\x00\x00&lt;d:entry xml'
#              ^ |              |
#        newline |__ 4 bytes ___|
</code></pre></div></div>

<p>We see the entry ends, followed by a newline <code>\n</code>, some more
seemingly random bytes, and another entry starts!</p>

<p>For reference, here is the first entry (defining <code>007</code>, as it turns out):</p>

<div><div><pre><code><span>&lt;d:entry</span> <span>xmlns:d=</span><span>"http://www.apple.com/DTDs/DictionaryService-1.0.rng"</span> 
    <span>id=</span><span>"m_en_gbus1179660"</span> 
    <span>d:title=</span><span>"007"</span> 
    <span>class=</span><span>"entry"</span><span>&gt;</span>
  <span>&lt;span</span> <span>class=</span><span>"hg x_xh0"</span><span>&gt;</span>
    <span>&lt;span</span> <span>role=</span><span>"text"</span> <span>class=</span><span>"hw"</span><span>&gt;</span>007 <span>&lt;/span&gt;</span>
  <span>&lt;/span&gt;</span>
  <span>&lt;span</span> <span>class=</span><span>"sg"</span><span>&gt;</span>
    <span>&lt;span</span> <span>id=</span><span>"m_en_gbus1179660.005"</span> <span>class=</span><span>"se1 x_xd0"</span><span>&gt;</span>
      <span>&lt;span</span> <span>role=</span><span>"text"</span> <span>class=</span><span>"posg x_xdh"</span><span>&gt;</span>
        <span>&lt;span</span> <span>d:pos=</span><span>"1"</span> <span>class=</span><span>"pos"</span><span>&gt;</span>
          <span>&lt;span</span> <span>class=</span><span>"gp tg_pos"</span><span>&gt;</span>noun <span>&lt;/span&gt;</span>
          <span>&lt;d:pos/&gt;</span>
        <span>&lt;/span&gt;</span>
      <span>&lt;/span&gt;</span>
      <span>&lt;span</span> <span>id=</span><span>"m_en_gbus1179660.006"</span> <span>class=</span><span>"msDict x_xd1 t_core"</span><span>&gt;</span>
        <span>&lt;span</span> <span>d:def=</span><span>"1"</span> <span>role=</span><span>"text"</span> <span>class=</span><span>"df"</span><span>&gt;</span>
            the fictional British secret agent James Bond, or someone based on,
            inspired by, or reminiscent of him<span>&lt;span</span> <span>class=</span><span>"gp tg_df"</span><span>&gt;</span>.<span>&lt;/span&gt;</span>
            <span>&lt;d:def/&gt;</span>
        <span>&lt;/span&gt;</span>
      <span>&lt;/span&gt;</span>
    <span>&lt;/span&gt;</span>
  <span>&lt;/span&gt;</span>
<span>&lt;/d:entry&gt;</span>
</code></pre></div></div>

<p>Exploring some more,
I did not find a pattern in these delimiter bytes except it always being
 4 bytes. I‚Äôm assuming they somehow tell you how long the next entry is.
 But we can just always ignore the 4 bytes and keep reading until the
 next newline appears.</p>

<div><div><pre><code><span>def</span> <span>split</span><span>(</span><span>input_bytes</span><span>):</span>
  <span># The first four bytes are always not UTF-8.
</span>  <span>input_bytes</span> <span>=</span> <span>input_bytes</span><span>[</span><span>4</span><span>:]</span>
  <span>entries</span> <span>=</span> <span>[]</span>
  <span>while</span> <span>True</span><span>:</span>
    <span># Find the next newline, which delimits the current entry.
</span>    <span>try</span><span>:</span>
      <span>next_offset</span> <span>=</span> <span>input_bytes</span><span>.</span><span>index</span><span>(</span><span>'</span><span>\n</span><span>'</span><span>.</span><span>encode</span><span>(</span><span>'utf-8'</span><span>))</span>
    <span>except</span> <span>ValueError</span><span>:</span>  <span># No more new-lines -&gt; no more entries!
</span>      <span>break</span>
    <span>entry_text</span> <span>=</span> <span>input_bytes</span><span>[:</span><span>next_offset</span><span>]</span><span>.</span><span>decode</span><span>(</span><span>'utf-8'</span><span>)</span>
    <span>entries</span><span>.</span><span>append</span><span>(</span><span>entry_text</span><span>)</span>

    <span># There is always 4 bytes of chibberish between entries. Skip them
</span>    <span># and the new lines (for a total of 5 bytes).
</span>    <span>input_bytes</span> <span>=</span> <span>input_bytes</span><span>[</span><span>next_offset</span> <span>+</span> <span>5</span><span>:]</span>
  <span>return</span> <span>entries</span>
</code></pre></div></div>

<p>Aaaand‚Ä¶ that yielded a measly 152 entries. Very sad. Where is the rest?
Let‚Äôs first see what entries we have:</p>

<div><div><pre><code>007, 2.0, 404, 420, 4D printing, 4K, 911, 999, a, a, A, A, a-, a-, a-, a-, -a, 
-a, -a, A1, A3, A4, A5, aa, AA, AAA, AAAS, Aachen, AAD, Aadhaar, Aalborg, Aalto, 
Alvar, AAM, A &amp; M, A &amp; R, aardvark, aardwolf, aargh, Aarhus, Aaron, Aaron, Hank,
Aaron's beard, Aaron's rod, AARP, AAU, AAUP, AAVE, abs, Ab, Ab, AB, AB, ab-, ABA,
 abaca, aback, abacus, Abadan, Abaddon, abaft, Abakan, abalone, abandon, abandoned,
abandonment, abandonware, abase, abasement, abash, abashed, abate, abatement, 
abattoir, a battuta, abaxial, abaya, Abba, Abba, abbacy, Abbas, Ferhat, Abbas,
Mahmoud, Abbasid, abbatial, abb√©, abbess, Abbevillian, abbey, Abbey Road,
abbot, Abbott, Berenice, Abbott, Sir John, Abbott, Tony, abbr., abbreviate,
abbreviated, abbreviation, ABC, ABC, ABC, ABC Islands, ABD, abdicate,
abdication, abdomen, abdominal, abdominoplasty, abdominous, abducens, abducens
nerve, abduct, abductee, abduction, abductor, Abdul Hamid II, Abdul-Jabbar,
Kareem, Abdullah ibn Hussein, Abdullah II, Abdul Rahman, Tunku, ‚Ä¶</code></pre></div></div></article></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://fmentzer.github.io/posts/2020/dictionary/">https://fmentzer.github.io/posts/2020/dictionary/</a></em></p>]]>
            </description>
            <link>https://fmentzer.github.io/posts/2020/dictionary/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25487551</guid>
            <pubDate>Sun, 20 Dec 2020 16:49:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Swirled Series: The Result]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25487501">thread link</a>) | @fanf2
<br/>
December 20, 2020 | https://isohedral.ca/swirled-series-the-result/ | <a href="https://web.archive.org/web/*/https://isohedral.ca/swirled-series-the-result/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wrapper">
		<!-- #header -->	<div id="container">
				<section id="content">
							<article id="post-2241">
					<div>
																		<!-- .entry-header -->
						<div>
														




<p>Early in November, Daniel Piker (aka <a href="https://twitter.com/kangaroophysics">@KangarooPhysics</a>) suggested that a group of people could get together online, and each create a short segment of animation, arranged so that all the start and end frames are identical. We could then assemble all the segments into one long loop and enjoy each others‚Äô work. The idea was based on loops that I had been posting on Twitter for fun, under the hashtag <a href="https://twitter.com/hashtag/swirlysquaresunday">#swirlysquaresunday</a>, and for that reason I called the group project <a href="https://isohedral.ca/swirled-series/">Swirled Series</a>.</p>
<p>Well, wow. I had hoped that maybe I would collect 10‚Äì20 submissions, and assemble a short video around a minute long, which could be shared on Twitter. I guess I wasn‚Äôt the only one looking for a creative outlet! In all, I received 115 loops from 81 contributors, totalling over six minutes of animation. I am honoured and humbled to serve as the curator of such a fun and diverse collection.</p>
<p>The best way to watch Swirled Series is at the top of this page. The animation is constantly remixing 115 short video clips, playing them in random order. You can also control the speed (I find it looks good slowed down a bit). Finally, I‚Äôve uploaded <a href="https://youtu.be/LXr-DFr5vgI">a video</a> to YouTube, showing the 115 loops in a fixed random order. If you‚Äôre on a small device like a phone, and the videos are cut off, you might have better luck with <a href="https://isohedral.ca/other/SwirledSeriesNovember2020/" target="_blank" rel="noopener noreferrer">a separate page containing just the viewer</a>.</p>



<p>Of course, none of this would be possible without the tremendous response from an enthusiastic community of creators!&nbsp; Thanks to @C010011012, @CyanidesDuality, @FlyingOctopus0, @GeometryDad, @SlimRunner, @TilingBot, @beesandbombs, @jn3008, @sandvrs, @teadrinker, ËêΩËëâÂ≠ê, Zach Abel, Dan Anderson, Dan Bach, Sebesty√©n Bal√°zs, David Berardo, Daniel Berio, Elijah Bevers, Jim Bumgardner, Dina Buric, Neil Butler, Toby Cathcart Burn, Paul Chaikin, Tim Cieplowski, Tom Edgar, Matt Enlow, Frank Farris, Tony Finch, Lucas Garron, Sam Gates, Pierre Gidel, Andrew Glassner, John Golden, Chris Hanusa, Edmund Harriss, Sam Hartburn, Esther Hecky, Ian Henderson, Matthew Henderson, Jason Hise, Martin Holtham, Chris Johnson, Alex Jones, Roman Karavia, Roni Kaufman, Elliot Kienzle, William Knowles-Kellett, Eryk Kopczy≈Ñski and Dorota Celi≈Ñska-Kopczy≈Ñska, Tom Lechner, Jose Linares, Colin Liotta, Xing Liu, Nan Ma, Olivier Mercier, Fabrice Neyret, Andrew Osborne, Dave Pagurek, Jon Palin, Vincent Pantaloni, Juan Carlos Ponce Campuzano, David Reimann, Ricky Reusser, Juan Rinaudo, Jesus Rivera, Tanner Rogalsky, Chip Rollinson, Toby Sargeant, Henry Segerman and Saul Schleimer, Tomas Sirgedas, Ben Sparks, Zachary Stein, Tim Straubinger, stuebinm, Rashmi Sunder-Raj, David Swart, Patrick Traynor, Adrian-Teodor TudoricƒÉ, Jason Tully, Joachim Wedekind, August Wiklund, and Stasiu Wolanski. (Please tell me if I‚Äôve left your name out or otherwise messed it up‚Äîwith so many people, there could very well be mistakes!)&nbsp; And special thanks to Daniel Piker for gettting the whole project going.</p>
<p>These submissions constitute a non-trivial dataset, comprising over 18,000 frames and nearly a gigabyte of data. That‚Äôs enough information that aggregate measurements of the process become interesting. Here are a few observations.</p>
<ul>
<li>People were allowed to submit a loop of up to 180 frames. The average submission was 158 frames, and the majority of submissions were 180 frames‚Äîmost artists wanted their full 3.6 seconds of fame!</li>
<li>It would be interesting to categorize the visual and mathematical devices used to create loops. You‚Äôll see fractals, complex numbers, non-Euclidean geometry, aperiodic tilings, physics simulation, 3D animation, strange loops, and all sorts of other sequences. In some ways the project provides an entertaining overview of techniques in mathematical art.</li>
<li>The first and final frames were required to be identical 8 √ó 8 checkerboards of black and white squares, in a 512 √ó 512 PNG image. You‚Äôd think that there wouldn‚Äôt be a lot of variability in the files for those frames. Ha! Of all the files containing starting frames, the smallest was a meagre 214 bytes (way to go, Lucas Garron!) and the biggest was around 750 KB (what‚Äôs up with that, Chris Hanusa?).&nbsp; That‚Äôs about a 3000√ó difference in size, which I suppose says a lot about variation in PNG encoding algorithms.</li>
<li>Information theory offers interesting measurements here too. To a first approximation, an image that‚Äôs visually simpler will be represented by a smaller file (assuming you‚Äôre using a good encoder!). Here are 115 superimposed graphs, showing a measurement of the file size of each frame in a loop over its lifetime:<br><a href="https://isohedral.ca/wp-content/uploads/2020/12/graphs.png"><img loading="lazy" src="https://isohedral.ca/wp-content/uploads/2020/12/graphs.png" alt="" width="1000" height="723" srcset="https://isohedral.ca/wp-content/uploads/2020/12/graphs.png 1000w, https://isohedral.ca/wp-content/uploads/2020/12/graphs-300x217.png 300w, https://isohedral.ca/wp-content/uploads/2020/12/graphs-768x555.png 768w, https://isohedral.ca/wp-content/uploads/2020/12/graphs-700x506.png 700w" sizes="(max-width: 1000px) 100vw, 1000px"></a>Each graph shows a loop‚Äôs frame file sizes as a fraction of the average size for that loop, represented by the black horizontal line (to which all graphs have been normalized). The most obvious trends are that most animations tend to start simple and end simple (naturally, since checkerboards are simple and you‚Äôre expected to do something interesting in your loop), and that there‚Äôs a noticeable dip in the middle (many loops go through two ‚Äúphases‚Äù, delineated in the middle by a relatively simple pause). I‚Äôm left wondering what other measurements I could extract, though it would make sense to re-encode the frames first with a standardized compression algorithm.</li>
<li>This project required a lot of manual labour.&nbsp; First, I maintained a spreadsheet of submissions and collected them manually via email. Then, many submissions contained errors. The most common errors were incorrectly named or numbered files. There were occasional problems with file formats or resolutions. And a lot of people submitted loops that started and ended with a black square in the lower-right corner, where I had asked for a white square. The process would definitely benefit from automated submission and validation!</li>
<li>Many different tools were used to produce submissions. I‚Äôm aware of people using Processing, GeoGebra, Shadertoy, and Desmos, and that‚Äôs just for starters.</li>
</ul>



<p>Based on the enthusiasm of the many contributors, I can certainly imagine doing this again, though perhaps not right away. I would likely restrict submissions to one per person to keep from being inundated. Ideally I would also automate the process of collecting and validating submissions.</p>
<p>This was a fun experience, thanks again to all the contributors!</p>
							
						</div><!-- .entry-content -->
						<!-- .entry-utility -->
					</div><!-- .entry -->
					

	<!-- #respond -->
					</article><!-- .post -->
					</section><!-- #content -->
			</div><!-- #container -->
		<!-- #footer -->
	</div></div>]]>
            </description>
            <link>https://isohedral.ca/swirled-series-the-result/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25487501</guid>
            <pubDate>Sun, 20 Dec 2020 16:43:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Changing One Sentence led to 2.5x more Reviews]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25487272">thread link</a>) | @dhruvkar
<br/>
December 20, 2020 | https://www.wints.org/blog/2020.12.17/ | <a href="https://web.archive.org/web/*/https://www.wints.org/blog/2020.12.17/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <p>
    <h3>How Changing One Sentence led to 2.5x more Reviews</h3>
    
        <h6>December 17, 2020</h6>
    
    </p>
  </div><div>
    <div>
		<p><strong><u>June 2019</u></strong><br>
Fifteen years in business and we had a measly three reviews on Google.</p>
<p>Sigh.</p>
<p>I reminded myself that this is <em>exactly</em> why I moved back from the Bay area to work on the family business ‚Äì to use technology to expand. Let‚Äôs fix this!</p>
<figure>
    <img src="https://www.wints.org/img/articles/2020.12.17/2.stoneland-reviews-dec-2019.jpg" alt="Stoneland Reviews December 2020" width="60%"> 
</figure>

<p>I‚Äôd read somewhere that people are most willing to review right after their experience ‚Äì good or bad.
I‚Äôd been itching to use Twilio, and this was the perfect use case!
Our inside sales person saves a visitor‚Äôs contact information right after a visitor leaves. Their phone number is included in this.</p>
<p>So, June 2019 I wrote a python script that sent an SMS to the visitor an 1 hour after they left. The SMS said:</p>
<div>
	<div>
<blockquote><small><i>If you enjoyed your visit (or didn't), please let us know how we did!<br>http://bit.ly/stoneland-google-stl <br>-Stoneland Team</i></small></blockquote>
</div>
</div>
<p>I thought it was pretty slick, getting the URL, a cohesive message and proper formatting into one SMS.</p>
<p>At the same time, our sales team made a push to get reviews by emailing old customers.</p>
<p><strong><u>December 2019</u></strong><br>
We have 18 reviews now! While a big improvement over the last 15 years, it was still far below our competition.
And most of the reviews were in September when our sales team made the push. Now the trickle had dried up.</p>
<p>I‚Äôd been reading and listening to a lot of <a href="https://www.indiehackers.com/">Indiehackers</a>, especially interviews with founders who were marketing specialists. After ingesting Indiehacker nuggets, I settled on changing one factor at a time to understand what drove reviews.</p>
<p>In January 2020, I tweaked the copy of the SMS to read:</p>
<div>
	<div>
<blockquote><small><i>If you enjoyed your visit, leave us a 5 second rating!<br>http://bit.ly/stoneland-google-stl<br>-Stoneland Team</i></small></blockquote></div></div>
<p><strong><u>December 2020</u></strong><br>
That tiny change made all the difference! As of December 15, 2020, we have <strong>93 reviews</strong> with a 4.9 rating!
We‚Äôve outstripped all our competitors in the area, as well as several of our customers.</p>
<p>Bottom line? Copywriting matters.</p>
<figure>
    <img src="https://www.wints.org/img/articles/2020.12.17/1.stoneland-reviews-dec-2020.jpg" alt="Stoneland Reviews December 2020" width="60%"> 
</figure>

<p>P.S. For anyone wondering about the math around ‚Äò2.5x‚Äô, here‚Äôs the breakdown:</p>
<ul>
<li>June 2019 - December 2020 (~6 months): 15 reviews</li>
<li>Extrapolated over 12 months: 30 reviews</li>
<li>January 2020 - December 2020 (~12 months): 75 reviews</li>
</ul>
<p><span>75/30 = <strong>2.5</strong></span></p>

	</div>
  </div></div>]]>
            </description>
            <link>https://www.wints.org/blog/2020.12.17/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25487272</guid>
            <pubDate>Sun, 20 Dec 2020 16:20:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Google Advertising Fraud]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25487215">thread link</a>) | @dimassimo
<br/>
December 20, 2020 | https://diablo.im/~ross/pb/20201220-085332.mp4 | <a href="https://web.archive.org/web/*/https://diablo.im/~ross/pb/20201220-085332.mp4">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div :=""><u 44√ê√ì@ÔøΩÔøΩ√π¬∏qÔøΩ‚Ç¨¬º‚Äùl√±|t¬•√ä√àrt¬¨,gÔøΩ√Äu√ûp√Äc([w√Ökz≈Ω¬ª√©¬æ√®√á.‚Ä¢√â√âÔøΩ‚Äû√Å√Ωrg@√Ä*ÔøΩ√°=""><u><u><b √ªq√´≈∏∆íg="" b1ÔøΩ-√ç¬øo√Ü="" 5√∂gf‚Äò&√°ÔøΩ√ñ√ò√∑≈ìnbxe√≥0√õ√¨√∂√≥√ÜÔøΩÀú√éz√ìp√•h¬∫√µm:u√≥√îxt¬¨√±;qwÀú="" ¬πp¬©f¬©tÔøΩ,h)√º¬ß¬§@√•3l√ïx‚Äû√í%&h)≈ì¬∞√¶¬®?√Ä‚Ñ¢Àú√ñ¬∞x√§$√ã¬∑ÔøΩ="√Ñ√âÔøΩ¬ÆÔøΩq¬Ω‚Ä°FfM√Ços√É‚ÄπW√Ö√ª" n¬∏"¬ß?√å3¬ª¬πpz¬∏¬≠9√¥j√∑+]'?√∂‚Äû√∞f@‚Äù√ë√±t√ó¬≠√°¬π¬≥c{¬°√ô7‚Ä†¬´‚Äúy?wr¬¢6="√ä√ã√ë√≥M√º'‚Ç¨" √£c√ª‚Ç¨‚Ä¶√∂¬™√º√¶‚Äîl+√Ç8^√∑="" *?^s√®√Ñ√ü?spog√å‚Äπ≈ì‚Ä†f√è‚Ñ¢√Ñ≈∏Àúo√î√¨√ô√∂¬øf¬•ÔøΩ√¨√â1y¬§√âv‚Äî&√ãl@<√£@dn‚Ä†n√ñ¬°="" i#<‚Ä¶√ö√Ä="" .√õ0'√å√∂v≈ìu{≈íhÔøΩ√îu3w6h‚Äùw¬´‚Äûw√™;n¬Ø√îcp≈æf√©√π√ø√ºn√¥syw√Ñ0#√û√º√ø√ø√†l|≈°√®w="" aÀÜ√à="" √´o√ø‚Äû;‚Äî√ìa√Ω√ß¬∂f¬æ&go8@t4√∑√º√ü√ê√•_="" a¬∏√ö‚Ä∫√ø√π`h¬´+9|)‚Ç¨√ä="" √Ñ#|√ø‚Ç¨‚Äî√ç√èsr¬π‚Ä°n√â√É~b√π)√Ä‚Äût√¶"√©¬∫√∂√áoo√è√ø√æ,¬¨a√ûg¬º‚Äò√Ω="" √≠√Ωq¬∂="" !‚Ä∞√Ø¬†‚Äπ'√ê="" j71√ü¬∏≈∏¬≤ÔøΩ√∑‚Äö√è¬∞√å!¬∫o√π√∞5√ù="√∏w,¬™6√Ç&amp;√∏" √∞¬ß√ø√ø√àl√≥="√ù√î?1≈Ω‚Ä¶√í√Ω" l¬•t√Ñ¬ø‚Ä°√∏¬´;¬∑√à¬æng‚Äò√ÅaÔøΩ5k√äu¬≠√ø√≥&√°mz√û&n≈æ|(¬°\√´o√ø√ø√ÉÔøΩ9¬ªfh√ºes07‚Äû¬∞a√é7√¥√Ωd¬•√äf‚Äπ√†nlq√ã√∏w}√õ="" it¬ø√™^√æ¬£√≥√Å√∂¬∑x‚Ä¶0‚Ä°¬ø‚ÄìÔøΩ√Ωm√ø√ø√∏#w¬ß¬∂ÔøΩ¬≥yy¬≠l="" ‚Äûe√ºa¬§√≥am‚Äû√ø√º;9=""><u q‚Ä†jar≈Ω‚Ç¨c√à√®wi0√ôo1√ár√ê`w√≤¬≠="" √ñ√ê‚Ä∫≈æk="" √å="" :√•‚Ä°"`6m√º√ñl="4G√ÜxaG√ØwNÔøΩ√´≈í√õrU¬µ)∆í√†vÔøΩ√Ñ√Å√≠q‚Ä¶√≥N¬∏7√£<"><s o√Ä‚Äú≈°3Àú#.¬∑lf√†?r="" √ë¬±¬Æ¬Ø¬¢m√Ç="" √Äo6∆í√æf√Å3os‚Ä°‚Äö="¬Ø[#a√®√†¬≠¬∑√áÀú√à¬π-√ú" √ªk%6o√ú¬Ω00fwx%l}="" ‚Ä¢√´ÔøΩ|‚Ä∫.‚Äú~g^ÔøΩ‚Äú="" "x‚Äúk5al¬°<ÔøΩ√Ç?¬±√ÅÔøΩlr√ä‚Äú¬π‚Äπ]:√≤:4‚Ñ¢¬∏`{l{√çÔøΩ√ªmb‚Äú,√ê√∞he√π√°3e√ã√ñd√ç¬≥8‚Äπ¬≠√†="¬µ-√ø√ÄM¬∂¬≠√∏¬ºH√∫0¬≤√äÔøΩ‚Äì√™d√ì¬ß√î2√≤√∏√°≈Ω¬©@‚Äú√¶-/√óAYÔøΩ‚Ä°√èC√º√±ÔøΩ[R√û¬≠S¬∞*/√éxJ'‚Ä¶‚Äûd¬∑)Ne‚Äù√¶%¬µ≈∏√ø√ñ‚ÄôÔøΩ≈°|¬°\&amp;n≈∏≈∏√ø√∏RdV√•√¶^9√∞¬¶'¬∏" √´o√ø√∞‚Ä°¬∂√•n_‚Äö√óo="" dg‚Ä°c¬∏ÔøΩ√ï?ÔøΩ√ø√π._‚Äû¬ß√°¬´g\d_0="" √ö√ì|‚Ä¢√¶√¶)√í√ø√ø√ø√Å≈∏8`!√Æ~y∆í^√ø√∏√ø√∞rw√ºo√ì-√™p¬Æ‚Äî-√ø√ø2n}¬≥2n?√ñÀú¬æ&r^l¬±¬ª¬∞#√∂6‚Ä∞x¬Ω¬®,¬¢‚Äî‚Ä†%√†¬´"√°_√ø√ø√ø√Ö√ª√±b¬∏j2h="" √´o√ø√•nz√õ‚Ñ¢a!‚ÄπÔøΩ¬¶ÔøΩ~‚Äú√ï√∑√ø√ø‚Ä¢¬π~="" ¬πf‚Äö√∂x)‚Äî≈íusaÀúsk="" ∆í√ø√º,√ã√¥√Å7√∂`‚Ä†="" √ê√Äd="" √ë="" )√•¬∫k√±√∏b^%√µ3¬£‚Ä¶t¬πo√ø√£¬≤√à¬∑l√í="" ÔøΩ√Ñb8!√≤k√†m¬©dÔøΩ^q¬º¬™Àú8‚Äî¬£k8s="" m@"{≈æp√Ü√ü√ø√∏&o√É&≈Ωx¬Ω√¢√≠v√ï√∑√´¬±√±¬∫√£√µ}q‚ÄöÀúc\‚Äù√∫√ø‚Äöi√Æ≈Ω~‚Äù;¬´ÔøΩ‚Ç¨m√É2="" √¥^="" √Äg¬æ√≠¬∫∆íx√Üeix¬æh59w¬∞;√ú="" √¢x4"√Ä‚Äú="" 5¬Ø‚Äπ√º√à‚Äîsi√¥√∑¬∞="" }r√Øc√°d¬ø√†√†@ÀÜk‚Äì!‚Äû√û√£~_√¢.f="" √†9¬¥a2h√Ñ="" %;djaÀú‚Äòpwqc√π√ß≈∏√±√ë‚Äòd√å‚Äöh‚Ñ¢d¬ø√ê‚Äùo√£√Ω≈Ω¬¢¬∑√ì9√≠√°\ÔøΩo√ì¬πq¬µÔøΩ¬ø√ºf_√π√Ä√Çx√π√ø√Å√Ä="" ÔøΩ[w¬π√ù√§i≈æ¬Ørp‚Ä∫¬ßtf¬§k"√∏≈ì√¥v‚Ä¢¬®s[!"6ya¬∂¬•}3≈∏n√ë√£√íbw?j√ø√Å@(ÀÜ√™√õ≈Ω√ªmt√¢√æg√ü¬¥16√ú1_‚Ä∞="" √∑√¢c¬§a√π√ç√Æ¬†b√´√õcz=""><s ¬ß‚Äòj‚Ñ¢√Å√®Àú√à√é¬£√Ña‚Ä∞,√≠r√à_√ø¬∫0√™‚Ä∞'√™√ã(‚Äô√≥6b¬§9,√Çh√≤‚Äπ?√°l$‚Äú!v√í="" √à√πx√Ø√Æ%o√Ñ*‚Äî√≤o‚Ä¶∆í&z^√ø¬∂≈°≈†√∏√ø√ø√±∆íÔøΩa√õ√±ÀúÔøΩ∆í√¨√∫="" ~d¬ª!¬º‚Äî¬º^-f‚Ä¢p√Ä√©≈†√ù√ïuq'√≠√Äo¬Æ√∑√∞¬≥√æÔøΩ‚Ñ¢¬Ø="" <¬±√ì¬∑√∫√≠√º√ãi¬Ω‚Äù¬£√Å√ølu¬§-{√Ω5g="" ¬ª√¢ÔøΩ;√ü6u√∫k∆í√¥m√ã√™√ç√Ω¬øz√§Àúp'√∂¬ßzÔøΩ√åg¬≠x√≤`}√≤~i¬ª¬±j‚Ä∞¬Ωh?‚Äô√É&="√ç√©√≤¬µx¬ø0√ÑG`√ÄAB-" y6ÀÜ!ck‚Äö√öwÔøΩq≈°4¬®√∑ÀÜ¬´4‚Ñ¢b‚Ñ¢'√ù‚Ä°}4e√æ¬´ÔøΩb√∞e‚ÄûÔøΩÔøΩt√°ÔøΩ?√§^√∑ÀÜ√ºw!_<!√ó√©√Ç√è√ª√É‚Äô$¬µ<≈í√Ü√§[xÀÜ√∞2`¬∞√è="" r+‚Ä∞ey≈ì'√å√∏‚Ä∞√π√ß√≠="" u¬•j√Äo√™~a≈Ω√ë9≈∏na√ï√ø√ø√ãd!√Äbb‚Äù$¬∑="" √©¬¥√∫'√§="" *l√àhx5√Ü√´√®√ã√ó‚Äû√∞f¬º√ç√ñ√òm√ú62~√´;≈í√ù<k√Ω√Ω<‚Ä∞="" √°√ä√†="" ≈†¬§√´¬ø√ò√é="√Ñ‚Äô≈í√§k}√ïÔøΩ√™√°√π\‚Äì" √†cgo#√Ω¬∑√æ√∏√ßÔøΩ√ãr√ø√É√án@dg|√Ω¬Ω="" √†_[="" gv√ª4~?12ÔøΩ<k[¬•‚Ä∞¬ßÔøΩ‚Ç¨a√ö√∏√î√ΩÔøΩnc0≈ì√π7y√è√•√Å‚Ç¨{n="" √π‚Ä∞g√ï√ßb¬∏y∆í¬°9¬™k√ñ√Ñ√ç√ì√é|√≤]5√´f¬´‚Ä∞¬¨t√ó√•e√ô√êd√πn√Çy√ì√è6m√ù¬ª√è‚ÄùÔøΩ√è√é¬®oÔøΩ0√ì="" lg‚Äû¬æ9√¢?1¬µ6¬Ω√ù√´~√ú√í√ß‚Äûj√£¬•√à√∂√º√è≈°√Éy*=""><i><u ¬°_√ò√Ç<‚Äú`√±√á‚Äûys√∞¬≠j‚Ä¢}√≤≈æ√π}@qj√¢g6ÔøΩ√õ√êef√ü√ç¬∏ÔøΩ≈æm6∆í√Ä‚Äî√ªb√Æv¬ª≈æi¬ø¬¥¬µ√¢,‚Äî~ÔøΩ"6‚Ä∫¬º¬°√Ä√õ4!hu√õ4√ñm¬¥;n^¬¶="" ak5√Ç!n+‚Ç¨qy&="" qa√òÔøΩl√±‚Äò7≈ì:bÔøΩ√Ü√∫‚Ä†¬Æ‚Äúa√¶:¬©ÔøΩ√∞x*j!≈ì~Àú‚Ä¢√Ämrl√©‚Ç¨="" ÔøΩ[≈†¬®‚Äò√ài√ûuv¬•√à+b√≤√∫√®¬†ÔøΩnc¬¢‚Ä†x√Æ√±¬®¬Ωh;ÔøΩ‚Äöx[≈†="" 1√ù=""><b &¬©√π√¢√º¬¶√õÀú="" wp¬¨√ºx¬ø‚Äù+√ù2√ü√ø√ø}√ª√çt√¨fÔøΩ√é$_√Ä‚Äîq¬Æmy¬©ds√Ω√Ç¬æv¬ø√ø√æÔøΩÀÜ¬¨√•√¢v√´‚Ä†&√ÆaÔøΩ%√µ{‚Ä¢√°lx‚Äò‚Äù¬∑√ø√øÔøΩv¬Ω¬∂√ï`k≈∏="" |g="√ç};¬º√Ä∆í" √ª¬∞√Ñ‚Ç¨√é√º¬§¬ø√µ√ø√Ä√Ö9ld√é5√åa¬£‚Ç¨¬∞="" ‚Ä∞="" ¬®√ô¬¶q<v="" √©s√ä="" w‚Äò‚Ç¨√ê|¬Æ√∞¬∂√Ä[√ìa¬¶√¨yn&¬∞c√º‚Äî¬Ω√•e(o¬°¬´f√∑√Ñ√¥¬ª√¶¬Ω√™√Üv√ú¬Ø√ø√ø√∞c∆í‚Äî¬Æ‚Äû√†√ûv¬º√û√ò√àc6|√é√π√∞‚Äûl¬¨!ÔøΩ√ô|≈ì√∂,`√Ü√®¬•m√ø<≈æc:0√ù~ph‚Äò√Ç1ÔøΩx√Ñ¬ßilg‚Ç¨√ä√ì¬¥√ó√≥ÔøΩi¬æ‚Äò√°√∫|dw`ÔøΩ√É¬∑f√≥√†c-‚ÄîÔøΩ√ò#7√ç√åpx‚Ä∞≈Ω4≈íus√è8ÀúÀÜ√æ6hqzde]√†57√•√æf¬±9√∑i√Ä‚Ñ¢√Ñgm<¬±ÀÜ‚Äì√ó√≤n≈æ<¬∑√í:¬µ¬≥√æ3%m√ü="√û¬Ω¬¢√Ω¬§k¬∞√é√º¬§¬ø√¥√∞ÀÜÔøΩt)√ª√∏‚Äò<≈í√ç≈Ω√Æ√æ√é≈∏F√¶s√øL#‚Ä∞≈Ω≈ì¬•≈æZ√±,‚Ä¶√©¬°¬æÔøΩu'^O√èÀÜ¬≤@o6‚Ä°O√á/PUa‚Äùsr‚Äûn√üe,√≤@8V√çCp¬®{|&quot;723¬©√¶¬Ø=‚Ä∞#b¬≤I¬•√§√º" √ô√ø√é¬®‚Äì="" ‚Ç¨<√ö√°√ç="" ÔøΩr√°√´s?√≥¬ºf(¬™¬ªkc;v√¶fu√Ç√ø√©$‚Äπ≈æq√¢0√¢¬†2¬¨¬£+u√ª√ô√ùmn""√í¬Ø¬≠‚Äò!¬πw≈∏¬∞¬¶√£‚Äùnz¬ø¬Æ[√ó√∏√Ö_b\^}¬Æi√Ø√¥¬ß¬†)¬¨√øu~√¨"c√•√å√ª√é√≥=""><s ≈∏k6w√¨√π¬ªÔøΩ‚Ä¶‚Äôsq‚Äúw(√±|l="" √Ö¬º3a,\‚Äπ√™‚Ä°∆í√¨e√ûw√Ö√≥n?√Æ!~?[√ºc√ô‚Äö√Ç="" √°√Ω¬ø‚Äôl¬∞ÔøΩ‚Äöz="" √ò}≈íÔøΩ√ê¬†√ï√ø‚Ä∞√±√¢<g√Ñr√≥\^√ç="√ü√±" √Ö:a0s¬∂¬π|√à¬æ-1‚Äù¬ºexqk;√≠h√ø="" ;¬∏1¬¢√É¬ø√¢0√†8!#√É√∞¬≥√´√≤ÔøΩ^Àú7ÀÜ¬´‚Äî¬¨√à√û√áÀú√†√ò√±m‚Äî√¢*="" ly#pn√ú~"i¬™p≈íÔøΩ¬®¬∏.√±√ç6pw√Øc√±¬ºf`√π√∞$√ª8¬©¬∂¬ø√Ée∆ís√£ok¬ØÀÜ¬¥¬©√¥Àút¬°8¬£sp^!√±‚Äô‚Äû="" √Çmh8|h√çj¬ºa="" ‚Äπ√êo_√±c¬ßfÀú=""><a ¬∑tj¬†¬£√∞‚Ä¶¬µ@p√ú√Ñ="" #x√Ée#="" ?eÔøΩ¬∑√Üq√∞¬¢¬∏@¬ª="" ≈ìl`√ö¬†≈°¬•√Åo.qa¬∞‚Äû√æ*√ú√ÄÔøΩ¬¢¬∞√åip¬≠√∞ÔøΩ="" 0<√©:√ªf√á|lx-ÔøΩÔøΩ¬∏¬†="">√•0√º_*X√ç√ç&lt;6√º¬¢7√ºE5√àH√ò√∂¬£‚Äπ√´√ê√ï*	@ub≈∏$7√™√¨X√ªG√ºF√ú≈ìW√™	√Ä¬©¬≠¬ºPK√Ç{IÔøΩ/&gt;√∑‚Äî‚Ä∞¬º‚Äô`"¬¢`1‚Ç¨√øw(‚Äò	¬∂√æ]√µL√æ¬¶PaC√´F¬®5√Ç√∞‚Ä°√õ‚Ä†‚Ä¶@ÔøΩ'√π√ï√¶|j(|‚Äπ≈í√ß≈Ω∆í√∂¬∏y4c√Å‚Ç¨√πrU√®√£@√ü@√ö9√£&lt;73√Å3√ß√ªe√∫√†/f‚Ç¨√µA¬°√æ3√Äb√∂¬¨UC¬±ÔøΩ√ÉHb3√Å√ësv
√éV‚Ä†N¬∏B'‚Ä¶ ¬º√Ω√¨√æ√£aq√±!‚Ä∞√á(6ÔøΩPJF¬®√±q&nbsp;X√∞$√õ√Ñ¬£√Ñn3¬™;√±‚Ä∫‚Ä°ÔøΩ√è¬®&lt;√¢√∫
T‚Ä†a≈∏@j$√•I-xy√±v√õ&nbsp;#`4,‚Ñ¢√©√Ω√∞ÔøΩ  	5X√ës}¬Æa√≤,‚Äû9RK&nbsp;¬§¬±√¨√ÅÔøΩ‚Ä¶¬Ø√Ç;&nbsp;2√™@¬≠(√∞T:?√ö√Ñ√ç√Å+√∞n√ÖÔøΩ√ä"}‚Ç¨√∞√≤/≈í¬øPH√†^√≤√°√ò‚Ç¨√∑ÔøΩ√πh√ë]3K¬§C;√±Àú√Ä=0'JÔøΩ&gt;‚Äùn2√Ä¬≤¬¢	‚ÄúR√Ñ√ÇMO√Ü]√É√êr√ì¬°√ê√∂c√åJ&nbsp;≈ì‚Ä°√Å√ÄK√û‚Ä°¬±√≤√ú]√§≈æ√±‚Ä∫≈ì"ÔøΩ√é√°A√†@G‚Ç¨Àú*‚Äì√Å∆í&nbsp;9√ç‚Äπ¬≤`;√±≈ì√ÇÔøΩ#≈Ω√ún&nbsp; √å8/‚Äû S≈æ¬¶√Æ¬®?@¬ºg
!√ô0w√ÄZ¬®p-=-
≈íL√Ü√°‚Ç¨¬§K≈Ω‚Ç¨¬ºW‚ÄöÔøΩ√ø¬±∆í^u√±√ù√ê`¬™	Z√π/√à=1.√Üqy(ÔøΩw√â√âÔøΩ√∂:√¶√•‚Ñ¢‚Ä°√¥¬º¬Ω‚Äî√¶√∞√ä.
st%√†A/√ê√á‚Ç¨s,(√â√∑O‚Äî≈°&gt;=2N¬º¬º8‚Ä°n√Ö¬º¬º9o√¢√º&amp;}¬ØyÔøΩ√í,√ø√®6ÔøΩ¬∏,¬≠√£√Ω√ø√Ö√Ω√ÅÔøΩ‚Äù_¬∑√åp=)¬Ø/
o√ã√á√ß√°¬∏\=C¬≤√º¬Ω¬°c∆í√º_
!B¬¢√Ç];G√£# b≈°W?I‚Äî√∏q	% ‚Äò√êeQ√¢√∏v.‚Äú8"√ò¬∫¬™K¬Ø%$Àú‚Ç¨]q}#√∞√º√ñ≈í%√¶√ÉÔøΩT≈í¬¥Aq√Äv√àL¬§‚Äòi√Ü@√µ√Ñv:*√î	¬©√É≈†√¢(|≈æ+≈Ω0¬∫√≠√∏‚Ä∞‚Ä°‚Ä†∆íkAh	√Ä6~"ÔøΩ√Ø¬Æl√ó∆íÀú¬∞√áC√±4kKC¬ø¬¥/¬•Z^"¬§¬°√Æ‚ÄûQ¬°‚Ä°√ß√πf*≈í≈†/√Üp‚Ä¶√Ü√Ø‚Ñ¢&amp;A,&nbsp;evBv√•¬¨¬∏\√±√ô√é5√†¬¨<rb‚Äò¬ß√¢;‚Ä†¬πx√∏¬∏?¬ßpp `ÔøΩ"√¥5¬¢√É√Ω√êc1x√≠x="" √Ñg√Äb¬∞$√ëp√ºn5rm√Ç0‚ÄôÔøΩh√°¬©="o≈æ√ºÔøΩ√´s√®‚Ç¨√ò√ÑhK‚Äö(1¬•√±√∞¬°ÔøΩ√óÀÜ√∫7√û∆í(8~3≈í;¬æ≈æ2">√ï2√ê0
¬ß¬∑p√Ç
‚Äî%`√Ü√Éj¬≥z~"T¬£‚Ä†√™‚Äì‚Äû√ºÔøΩ‚Ä°√Å&nbsp;‚Äî≈æh√£√Ø¬æ:≈†√¥√Ω
T√å1_√≠√∏≈Ω≈æ=¬¶^2√∞√¥-√è‚Äù8√Ö¬®Àú`p	√£¬∞&nbsp;8‚Äì√∑√Ç\`zR¬£ÔøΩ¬¥s√Ç5tÀÜ‚Ä∫≈ΩÔøΩp¬∞¬©.≈æ‚Äú√•√£NÀú√©√§¬ø?¬°¬º¬ßÔøΩ√û‚Ç¨‚Äö6≈†√∑‚Ä†√ë≈ì1{¬Ø√Ç\√¢Ep√®√∞
‚Ç¨p.
x¬∫√ÄhS3√ì√ªÀú=≈í
ÔøΩ√á√Ü¬∏v√ífIÔøΩako≈Ω√≠¬Æ≈Ω6El√ë¬¨&nbsp;%|!¬º=+vN19√á≈°`‚Ä∫√Ç<!--?-√´√ÅVJa¬º√áH‚Ä∞f‚Ä∞¬≠49*b(4√õ√ÆÔøΩ√∏√ä√òd¬æ√∞6√≤√ú!√å√Ç√æp'√πÀú√±r‚Äö¬¨wÔøΩH2P√∂`ÔøΩ√∞≈∏‚Äû¬∏X√∞√≤.x¬®/√Üv|√®e¬°¬°√∏@√†√ì√∫√É‚Äò|√ê7‚Ä°¬ºe√§28\oP	T√ÆÔøΩL-->¬±√†√∏`4,‚Ñ¢√©√Ω√≥F-√≠√∏GB[√ì
¬¢√ó√ò√¨`‚Ä†√ç¬æ√πH)√∏√é:_0fU¬©t?d√ñ√é√ó‚Ç¨XzT&gt;ÔøΩ1]∆í^√®!¬∞h4CO√¶‚Ä†@‚Äù√Ü.√∞√∏√ä√î√†‚Ä¢¬≤/&nbsp;(1√∞RL√õz¬§q1v≈°√ü√≥‚Ñ¢
W√≤t√®¬ºg‚Ç¨ √ºO√µ¬•vH|≈∏√ó@x√Ü√°√∞≈ΩÀú√Ä(¬≠	D‚Ä°√ùs√Ä
M√ù√ö√ÄiV
?‚Äû<us&√Æ>Y∆íb
Z‚Äö√æÔøΩ4 √Ä¬∏√©H- √≠ ¬¥∆í√£¬°p/√ã√Ü≈ìÀú-√¶√°+
√û~o√òz√•√£√ÉZ‚Äò¬°√¢√∏√∞4√°¬¥8o√ã√É√∞√∏4√º√ú‚Ä∞‚Äû√Æ	I√±|√Ö√Ä√™√Ä√∏√£√§≈ì√úa√≥¬æ/‚ÄìI√£‚Ä°√ø‚Äû0√≤/√É√Ω¬¥‚Ä†‚Äù?√û:¬ª¬≠√©√êtg√ã√ÜF¬∂7√Ü∆í¬º√úl8X≈∏‚Äπ√™‚Ä°C¬ø~/‚Äû√Ø0¬±nPA√≤√∞√ú4√Ç9‚Ñ¢‚Ñ¢≈ì√ÄÀÜMÔøΩ&amp;√¶e*\H√¢ff√¶nf√¶e√¢*≈í‚Ä¢‚Ä°'
.√á‚Äö!¬®S`n{√Ø*P√ü‚Ä∞ÔøΩ≈Ω¬∑ÀÜ`¬°X~≈Ω¬∏√ªf.√ìv√ê‚Äô	#ÀÜ√æ:¬º0‚Ä†√ê:ÔøΩT≈Ω√Ø√Ñq√ê√¨p√Öp+√Ñ√π‚Ä¢‚Ç¨√´‚ÄûfI√É√ãT√∞‚Ä°‚Ñ¢≈íp,?√âi≈†√ø@√á≈ìÔøΩ~A7A¬¥‚Ä°√ÑZ$√Å√ì¬•√ö≈°√∞7√æX√à01√æ"‚Äö8¬Ω
`a5√†√õe‚Ç¨c¬∏w√ü&lt;‚Äò)√æ&amp;√ÄHa√îI`	√≤√ø%√Ñ6f
√∏√ç¬®√õ@4¬°¬º*√©√ì√°‚Äû¬∫
√Ä√Ä|f¬¶E&lt;\kÔøΩ√†t,¬¨¬∞A√êqV√Å√ºN¬•&nbsp;√∞`~≈†‚ÄîÀÜ‚Ä†W¬ØB¬°¬°√±h%√áÀÜ‚Äû√é‚Äö&nbsp;Rx!D‚Ä°W√´√Ü‚Äö√±&nbsp;.‚Ä†4√ì√ÄÔøΩ@H¬¨t√ª√†¬ß‚Äì∆í‚Ç¨~:√†‚Ç¨0h‚ÄûA:√Ävx
√í√∏‚Ä∞‚ÄöÔøΩ	A¬∂‚Ç¨hLDL√±73¬±√Ä¬∏fs3/√ä¬¨3ÔøΩ6ÔøΩy‚Ä†‚Äî+√áÔøΩ1√ì√Ø.-]√ÅV‚ÄödKC¬≤√¥@√æ3≈ΩFx√Ä√ñd√Å¬æ√∏≈†√∑"¬°√ΩH√¨√ê¬ºWht:&nbsp;A√ß9A√∏C¬£B√π&nbsp;O%√•&nbsp;√ÉÔøΩE‚Äú√Ç~P9A√É√Ä`[r√Ä√Ö√æ/hP√¥.¬∂+√åÔøΩG≈í√úk$√∞∆í¬®	n/&nbsp;√Ü‚Äì*N¬°‚Äì<m√Æ√Ü√Ç√∞√®√ñ¬∞¬∫7 √á√ße‚Ç¨l√ç≈ì="" √†ÔøΩ<:‚Ä°√†tÔøΩ√Ü≈∏i3}\ÔøΩ="" ÔøΩ*‚Äû¬¥2¬¨0ÔøΩ2¬†¬ºgx="" √ßwm√¥ihv√®k√Åq√ÄÔøΩ¬±r√±‚Ç¨6√±]‚Äö="" %¬æo√ü-¬¢f¬¥‚Ä∞1¬•√∑^3¬µyf6√Ér√¶tpka√™¬™="" -="" ;="" √ê?z√ê√™ÔøΩ√§√ç√á√î√Æi{?√ÖrÔøΩ‚Äö="" ¬≤¬æc="" √Öx√é¬ºk‚Ç¨*‚Ä†`.√ò√™c¬¥¬±√°‚Äì‚Äùxoc‚Ä¶ÔøΩ+‚Ñ¢="" √∞√™f="" √ò¬£be√ê√Ω‚Äúz√´√∞√°ÔøΩ√∏cl77ÀÜÔøΩx¬ªck‚Äû{4‚Ä†@e‚Äì‚Ä¶¬§a¬º∆í√´ÀÜ'√Ä√™‚Äî√≤√≤√≥√Ü|d;√©√ï-ÔøΩ≈°q√òz¬†9√°u≈ì√£:‚Äô√ª√álj‚Ç¨∆í¬´√áad9="√ú" 9√°="" m√êaÔøΩÔøΩx8f√É="" .~3ÔøΩg∆íÔøΩ¬∫√êz‚Ç¨j√á√´="" <#‚Ç¨√Ø√Ä="" √¢o√ù√Ép‚Ä†b¬•√öz\‚Ç¨√ê√≤¬¨aÀú&√¶nf√¶m!‚Äî‚Äπ√°¬ø√´`√éd|¬∏|√ú="¬®5`√ç¬æ/¬¥0R√á√Ü¬Ø√ã√É(=T¬∏¬æKO√ÉÔøΩ√®j√±|√¨√©&nbsp;¬≤N√≥pA¬£0√¥0√é|_√ÉwC√ñj√ë√Ä√πx&quot;x\(¬Ø/" ¬°√î√Ç√±|8‚Ç¨√Ö√Ä‚Ä¢¬Ω#k‚ÄîÀúd9="" √ã√†‚Ä¶¬≥√≥√ø="" `‚Ä†c:√¢√∏√∏¬ø`ÔøΩs‚Ä∞="" u√ã√Ç'v‚Ç¨ÔøΩ≈†√Ø¬¥q¬∏~n¬∏oÔøΩ¬Ø√Ña¬¢0ha¬æ‚Ä∫√°√ç‚Ä∫="">#√ê#h‚Ç¨√£¬Æt√∞‚Äî√£¬®Cch‚Äπ√Ø;`‚Ä∞ÔøΩ√ö≈Ω¬ª¬∏f!b√≤√®?#√©c`?‚Ç¨1/√±¬°[¬®]`√ÄD?ÔøΩ√õ√ûx2
√∏J4GR&nbsp;√Äa√≥K¬´√Ép√æ%¬¢(∆í√£√∫≈†‚Ç¨ÔøΩl∆í√±U √ñ√ØA8|g=CÔøΩ¬∞LcbdÔøΩh[p√†√∫√òw√±
√ì√öP*h
x√±√†b‚Ä°≈Ω∆íEÔøΩ√î!h30=√Æ¬∞¬∞√≤√∞h√ÑG‚Äö√∂rG‚Ä°ÔøΩÀÜ¬µC√Å√ê&nbsp;9E√Ü√ß≈í¬¶p√¢√êp\≈Ω∆í√ü≈í¬µC‚Ä∫v¬¨x√ä√∞v\√Ω`z∆íxup√´`‚Äú≈°√Ø√Æ√øxTt^-JY¬´/S¬°}e|G √øF‚Ä°M√´‚Äô√∏?ÀÜ≈∏c‚Ä°¬™√ô
ÀÜÔøΩÀÜ√¶√∞H√≥*√±‚Äî‚ÄùC√∞ÔøΩ‚Äö&amp;‚Äπ√ò‚Äπ5√Åx√∏|¬™7%C¬∏√ü√å~√´∆íÔøΩ√ö≈ì"a√É√¨‚Ä¶G¬Ω√†√≤@m¬°√Ç.√º√ò√®√øvA¬π4Fx¬∏X&nbsp;[2ÔøΩy¬¶p√ºÔøΩ√™h2ÔøΩ¬©lW√ç√è√Ür	¬≤√ñ∆í√ñ√ê√í√Ä1x`Z‚Äû`BÔøΩÔøΩ_∆í√°√ºbg
 √∂Q√Æsr‚Ä†‚Ä†&gt;3≈ì¬∏√àA√¨f=√üYW‚Ä†ÔøΩA‚Äô√íl@√ê√øB√ø¬π^oÔøΩ#XMS ÔøΩn4=√ï¬¢‚Ç¨√º%¬¶M‚Ç¨¬≥F√á/ÔøΩ√ìB|p¬º9√î√Év¬º]P √û!√ä¬™√Ä]¬µ‚Ç¨U@√º#√ô‚ÄöGÔøΩ√æ√±&nbsp;‚Äî¬∞¬≤U√Å‚Äô√¥√âÔøΩÔøΩ√ºg^‚Äò√©hUz5 P≈ìs√ù‚Äπ\√ê√üO√é√ö√ß¬±√ù√É¬©√ú¬º
¬Æ√±Àú√°∆íUxO≈Ω	√òd√ã√ÑEa¬ø√ò3√Ç‚Ä†`c√≠ÔøΩz75√Ä5ÔøΩ&nbsp;¬ÆR8d8@¬°√Ö√¥;¬øN‚Ä°h/√ç√Ç&amp;¬•pp|_[‚Ä¶?≈Ω¬§i√º¬º√¶By/√°¬∏Q&gt;8W√ÜA3‚Ä°√≥‚Ç¨‚Ä°√ñ¬£√Çhp?&nbsp;CN¬æ&nbsp;√åÔøΩ¬º`j√æ26oÔøΩÔøΩ√Ω&gt;`√êeÔøΩ"√¨√ø√≤&nbsp;~/√Ä‚Ä∫√±√øz:X?D¬∞&lt;√∏¬æ¬º8+A√´‚Ç¨CCW‚Äπ√≠t√™‚ÄöÔøΩ
?¬∫ÔøΩ¬´√æ^:8~/≈í√ø‚Ç¨√ò√ú√≤[gW√ò√õ√±|√ü∆í¬¶√É√àlk√û/¬¨	√£¬°√Ä¬ºIq|`¬±√∞√û√¶‚ÄöRy¬π√Å¬∏C+‚Äπ√ß ‚Ä°¬¢√°‚Äπ√£!E√É√µ}≈ænn‚Äî|¬º|ÀÜ√ª√ç√¢5√Ü√∑!¬∞∆í¬°zj√â
CÀÜ‚Äö6‚Ä°√æ‚Ä†¬ª‚Ç¨IP√Æ:¬°P√±√ú&nbsp;N√∏≈Ω√∞√∞{@
p√Ç√ø‚Äô‚Ç¨C:≈í¬Æ√≥‚Äö‚Ä†	\¬µa[‚Ä†‚Äî!√∞‚Äî¬πb√£4≈°¬∑JÔøΩ≈Ω‚Ä°√É:N√ü‚Äù{√ÖB7(√∂`‚Äö‚Ä¶9√£¬£√Ω√≥√±√Çq√î&gt;¬æ"8:√µ!¬¶√ë√ºN√£y¬≤√Ñ√ö¬£≈†`w√±√∂‚Äî¬¶√Ü‚Ç¨√å‚Ç¨t√É¬∞M¬µ‚Ä°√µ√Ä`|~:¬©√ò¬∂&amp; =√ÅwiÀÜ√àx√∏hZ=A~J"√£.K≈í¬ßd√¢#"‚ÄôÔøΩ√ãB¬Æ¬¥√Ñ&gt;J‚Ç¨#‚Äò√ªÔøΩ¬Ø‚Äú≈ìRiX√ò0√∏ÔøΩ#
√Æ√í√®√ù;¬∫√∫ ‚Ñ¢‚Ç¨x‚Ä∫≈Ω¬º√†‚Ä¶ÔøΩ&lt;|o0√•√º√ÄÔøΩS¬ø{‚Ä†C5√án√É[pÔøΩ√ù¬Ω√ÅQ‚Äö√°AO≈æC√û√£¬®≈íÔøΩ@√ê	q-x?¬∞
‚ÄôN/√±√í√∫‚ÄúK‚Ä∫m√Æ‚ÄöpZ‚Äî‚Äû&lt;&gt;‚Ä°n¬∞√àh√ê√àY‚Äö
¬¨uX?√£√∏}¬•√£√¥√Ü√É√ã√ÉZR?≈†_√Ü|z¬Ø
C√ìp√Ä√ó¬∏√Ü6:|!?Àú¬∞√øE¬°¬¨ 9≈ì6√´@Ux√é05x√Ä√îo√Å√íLp&gt;i√Ä
√Ä √∏zf√òÔøΩ¬∏¬´8ÀÜ#~√©!√¶‚Ç¨¬∞:√Äu¬º∆í√†√¶K√å≈íÀú|¬≥√É√ü√¢√¶√úk√á‚Äù&gt;4√∞¬§√†√´‚Äπ√∏√çH;&lt;√ÄG√Ü√©U‚Ä¢√≤xlt√ê‚ÄûhPG√≥¬ºL6d‚Äù@Z¬¨‚Ä¢
¬πÔøΩ√Ä‚Ä∞√¶‚Ä°√ê√®h√å88‚Ä∫ÔøΩ√ø≈í√°√à~( -¬®O√¥¬©aP‚Äû√ö√±\`-(*¬∑‚Äûlx√éÔøΩs√∏√®¬ø¬Æ&nbsp;!≈†√π√æ*√®√∞ÔøΩ0!√∞¬¥≈æ‚ÄπÔøΩtP6"‚Äπ√Üw‚Äö√Å&gt;√Ä√©]$&lt;√ì√ä.√Ä‚Äû(¬ß@√§√Ä√ì‚ÄöÔøΩ√£sTQ!¬ßN¬≤‚Ä°√ï∆í√ø‚Äû:√í√πA√ì√Ñ√ì√Ö√´√∞√°¬Ø(¬®√∏√ç√áM√äJ‚Äî¬µwL‚Ä¢√ã √ëpJU¬¶-pe√º!wd:ePf√£√æ √ä)¬°<o√£8√∞g^√™√ö4q-√á√Üc;@ÔøΩwÔøΩ√ñ‚Ç¨!{¬®√á‚Ç¨_√Ç\6√ú¬®7√¶+$√±=j‚Ä¶!h≈Ω‚Ç¨m√Ö√∂ b√ê√≥√¥√®:4√ç√Ü√Ñ1="" ¬∞="" √≠|_@aÀú[¬∂‚Äöp<¬Ω7a√á√£√†√µ√î√î√∞ÔøΩ√á√≥@‚Äìx√†d¬ø√≥u="" ÔøΩ√±|¬®≈Ω√Ü‚Ä†4√à‚Äì¬º_\√ª3√£;√∫@‚Ä∫√ß√Ω√Ø‚Äπ√¨a‚Ç¨s√ëo√§f√õ_‚Ä∫√Çc√Ñd√å‚Ñ¢√ºt'`w_√º%a√æ‚Ä°√±p√Ç√•√Ç√∏a‚Äπz‚Ä¢‚Äö'√ù√Å¬∑√º_‚Äπ&‚Äìe="">√ø	√°‚Ä¶√â√ª‚Ä†P√ò√ºD‚Äî√®V¬ø√∏√èZIz√†}¬æ√ù‚Äπ√¨TD¬π‚Äö	√†&amp;√ù¬ø¬ø5√∫‚Ç¨&gt;)¬±√îD~‚Ä∫W√ó√Ñ√≤R¬°cP¬™7ÀÜ¬±¬±¬£ÔøΩ√Æa√ÅF√ì¬πq¬∞≈°W	P
:√ú√¢:&nbsp;∆í√á√π¬∂¬Ω√®5√Çp'√ÑR.‚Äú‚ÄùA¬©√†2¬ø√£8M√Å(A√àr:‚Ä¶¬®p√øk‚Äö√ó√ív√¢¬Ω1¬∂≈Ω¬§√ôC√±≈†¬µ:√±√ßah~&amp;a√ôtm√ó¬ø/√±3
√≤≈†√≤√ßÀÜ¬π¬∂¬Æ‚Ä¢‚Äû¬¥1,‚Äî¬Ø‚Ä¶√∏≈†ÔøΩ(;‚Ç¨`∆í√†Y√ó¬æ≈†≈†
ÔøΩ√ò@^√¨	8 w√áCn+¬¥√∞X√ò&lt;o√∏ÀÜ√â	ÀÜ&nbsp;‚Ç¨PÔøΩ2-√∏≈íB‚ÄôS√†[A√û"¬¨,√Æ
Y¬µX√∞‚ÄôÔøΩ√ÑNL0∆í∆í√êy
¬∞|
¬∑A√Æ¬∞√é√∂¬∏√ú‚Äî√ú1√Ä¬¨√∑-P0¬±<g ¬∏h¬†¬∞√¨‚Äú="" √¥eÔøΩ,¬µ‚ÄπÔøΩ‚Ñ¢@≈∏√£8n√°pk]√≠√®02="">ÔøΩP‚Ä°r√û√º#√î|,c¬£¬ª¬¢_g‚Ç¨&amp;‚Ä†√±√ØtÀÜrd≈í√º√ü√¶
&nbsp;CO=&nbsp;|]`r^¬¶E¬¢√ô-≈†¬•√∏CÔøΩkNh&nbsp;‚Äù‚Ç¨S‚Ç¨√°ÔøΩÔøΩ√∏√éÔøΩ¬©¬∫9¬Æ/√£√öV‚Äö`y√™¬™E√ÖI√ü√∏¬Ø¬¢Wx≈í&lt;¬Ω‚Äî≈í¬∑√Ä√à¬¥n&nbsp;X0(APj√ï(ÔøΩQ/√á√∏√†‚Ä¶
¬¢√ÄA\f¬¨~¬º√∫√≥√ü‚Äô‚Ä∫≈íÔøΩ:√Ä0√∏¬Æa‚Ä∞√Ü¬∏"√î‚ÄîO√ò√ê√•√à=@≈ìÔøΩ√à|\!√£¬∏H'√æ√´R√¥√™)¬¨r√±≈ì9
¬§6√¥√é)≈ì(O&gt;i‚Ä°'f√üDÔøΩ√´√ÜS‚Ñ¢√±≈°√°√≤√èc√é%v,≈∏√£8D¬°¬•&nbsp;‚Ç¨B√†√øwP5√∞t≈ì√ìÔøΩ1¬Æ∆í¬∏‚Ä°Q√†HF,¬°D¬ß@√•&nbsp;i`&lt;|!√Ü√¶¬º@‚Äò√Ä√ÄÔøΩ √Ç0√Ö$¬µ^3‚Äû√é?√ó]‚Ç¨‚Ä†√É‚Ä°a√µ√ÄW¬∏!
	?‚Ä°√¢√£√¢√°&nbsp;D/f¬Ω√Ü√°√∞?√à¬≥ √º4¬∑√•√ÆÔøΩ√æ3¬∂!≈ΩC¬∑√ú %0q√£Nj‚Ä¶¬æ√Ä¬©√É√û3Àú|√†8√∏√î√∞@¬°√Å¬°P√Æ4K¬¶x/w¬≥qÔøΩn¬®u√ô√†{A}√Ö¬Æ/√Ω√¥?≈í¬ª‚Äò4+√Ä.√°¬ªo√∂√ÑTtJ¬¥¬ß√Ä√ùw√™2Q// √∏I√Ö√§‚Ä∫√Ç&gt;7√µ√°√∏√†^_¬ΩZ=¬£|√úlC+ÔøΩ‚Ä∫√ÇLaq|v5
a¬™¬∏¬æa√ê√¨&nbsp;}√Ö√¢√∏n√ç,ÔøΩ
¬æ/¬©"√†√†|~w√ç√ÜÔøΩh;√Ö√∞≈∏¬∏¬´
9‚Äî‚Ä¢,k‚Ä∫‚Ä°P∆í√êk‚Äπ√¶ÔøΩ=‚Ä†√ó√ç‚Ä†&gt;^0,‚Äò√Ö√¥√±|x‚Äô√Å¬¨√úL4‚Ä¢√ü‚ÄîÔøΩ‚Ä∫o√¶¬º√ú|N‚Ç¨r¬π¬∏b¬¢‚Ç¨+√±}G≈°wp√¢‚Äπ√•√§&nbsp;√º√ó‚Äî‚Äö/dÀÜ¬æ≈æ√°√Ñ≈æ
%‚Äòpl√∑
!¬πf√Æ;√•‚Äú‚Äô:0%*&nbsp;S.√ÜÀÜ¬ø‚Ä¶¬´√†√∏√Ña√î;4√ë-¬∏√ù√Ät&gt;&gt;¬¥√ì√áF‚Äî‚ÄπN¬ø√≤√±1√Ä
¬≤ea√ºF‚Ç¨L&amp;¬®h¬°p9¬Ω‚Ç¨\F¬π√ï0a¬¥¬°‚Ç¨¬ß≈æ√ø√á¬º√Å
‚Ä¶=√ò√∏q‚Äî√±√ñ‚Äû=G_	`@E√ï√îiXX≈æ√°√µ&nbsp;‚Äù√°s `W¬°√™¬æ+!¬°¬©m7ÀÜ≈í√ú&nbsp;√ò'¬ºG8‚Ç¨√∏¬®√∏√¥ÔøΩ√Ö#ÔøΩ√ûk√í√æ¬¶&nbsp;giy‚Äö√û√é*√πÔøΩ‚ÄîP¬§√£√ä√æ"≈†G√≥√É¬¢t9o&amp;√µ0√¶√∏≈Ωpn‚Ç¨√§¬°
\h=√êp
X)y√±√ê√å¬ø¬¥8&gt;)ÔøΩ√Å‚Ä∫¬ø√Ø	8&gt;¬ø√ª¬∏k√∏‚Ä∞ÔøΩ√†;≈í"√ÑX‚Ä†√ß‚Äú¬™≈íFÔøΩx≈†t¬∑√û¬≠‚Äú@¬±P-√ºÀÜ√°}t$¬≥¬®	√ò√ª√¶‚Ä°¬∏'y8¬ª6√Ä¬∏4¬º√∞∆ír√±n|g√ú‚Äög‚Ä†√Æu√¢√û√ä/4¬ßd`GB‚Ñ¢&amp;^.:√™@9FB/√ÜmI√Ä‚Ç¨+G
ZH¬º√¢`√ÄÔøΩP'ÔøΩ√ºg¬≠¬§8ehK‚Äû&lt;√•h8h.4√£9‚Ç¨√§Z√§≈í‚Äû√ô√ê√£`√ê√õ≈†}&nbsp;‚Äû$√ÆW√º!√£‚Ä¶√û¬∏‚ÄúR{C≈°√æM?‚Ä°&nbsp;‚Äú8@.√∞‚Ä°‚Ä∞¬£‚Ä¶¬±hu√†p_?,‚Ä∞√Ä√â@‚Ñ¢√ø√Ü‚Ç¨R√Ç‚Äú]*‚Äû4;ÔøΩBÔøΩ√ï√£5J√Éw@c≈†t^$¬´√´¬¢¬º	B
ÔøΩ√∏F√≥‚Äö√™jDKB√∞√ö√®√ê&amp;?√Ç<x8¬°ÔøΩ√ô √ùpjc√§√Æ‚Äî≈í√∞√ºa√Ñ√®√∫="" ÔøΩ√ä="" ¬¢i3="">‚Ç¨¬ºf¬∑√™√Å
≈í√Ñ5#8E$W√ë&nbsp;k¬ø"xC‚Ä∫ad√∞G~√©!‚Äì‚Ç¨√è‚Äö√ΩÀÜ\6≈†e¬∏√ã‚Ä°√º'w√£-¬µpÔøΩ‚Äö¬¥√ºe√û√ÉwÔøΩÔøΩC V√Ä@√ß¬¨` H‚Ä†	bX‚Äπ√±ÔøΩ√™	¬∏√™√Å"G√Äq√•h&gt;ÔøΩ&lt;3√£7F‚Ä°√°‚Äö√µ%√±√≥√°≈†4Z√∑v√ë'vh√Ö√∑W√°t¬µ|F|√∂√ú	@R¬°¬∏B¬®&gt;x√äwÀÜNic√ì3√®√†≈∏√û√±‚Äô¬≥‚Ç¨cP√â√¶	p0X ^√ä¬ß‚Ç¨p&amp;¬´r√¥j$P-√∞‚Ç¨√å¬ø√∞√¢¬∫‚Äù‚Äú‚Ä∞¬°√Ä√ì≈æ≈°	¬∫¬°C√í√≤√πÔøΩa√Ñ.	√ûN/ÔøΩ√∞√´√°‚Äù3√Ø/@‚Ä°ÔøΩ¬∞‚Ä¶√¢q√Ø|¬§√Éuk‚Ä∫Àú√òQ√±}x p~^√Å"‚Ä∞yyAl √´‚Äπ√±√°√É¬∏4¬æ/¬©x!ÔøΩi√£¬∞/√ú
E√ï¬∫!¬§
~/√Ç√∫
¬°√Çx¬ø≈Ω√Ä9o√ç√éd`0&gt;^¬ºP¬¢C√ç√å √Ñx¬æÔøΩE$&lt;√ù≈ì√¢√∏¬øÔøΩ¬º{‚Ç¨√±¬±‚Ä†¬§ √æL√±√º¬º|iz/√Ç'bY~|p‚Äì¬π¬∏v,√∫√±|xrZ%√á√Ü'‚Äû¬´√£√êc√Å¬¥¬º≈æ¬¶}√å √ïl?a4ÔøΩTÔøΩ4√õ‚Ä¶√â‚Ä°&nbsp;√Ä_√Ω√ç≈ì√£¬™¬™‚Äπ√áY;√ê≈†(=K√≤2Z8
$¬©3¬∑≈íN√±√†`$4Q‚Äì√∂√ºHl\$X√®pN√Ä/√¢)¬¢H√úc≈Ωh√à'U9√∏B√ì√§√∞+&nbsp;¬∞√≥|X√¢√á\F√éP-[√ú	√É√áGÔøΩ√Ä9u`‚Äì‚Äôg√Ä√ÉÔøΩ¬æG√É‚Äî¬øÀÜÀúQ√É√Ñu(V√†¬º‚Ä¶ÔøΩu√≥√ÖQ√ã¬¢√ÑE√¢#√ÄF¬°√ê√ë¬ØÔøΩ¬∫&lt;]5gLÀÜ√ºuHÔøΩÔøΩJ√êF√á
Ch 	Y0√É√Ø¬ø√á√≥≈Ω√éÀú√ê:√äÔøΩc‚Ä¶
$√ø√ª√∞&nbsp;‚Äö.A√¢c`√Ç√í√öÔøΩ¬Ø√º%8y‚Ñ¢K√ª¬∏√úDpÀÜÔøΩ¬¶(T√ÉÀú &nbsp;oM<oÀÜ√É√®n‚Äû√∫f¬≠x%√Ç√™ÔøΩ¬Ω rÔøΩ¬≤‚Ä†‚Ä°g‚Ä¶√Ø√ü!q√ë√í^?¬±="" √É‚Ä∫√∞t‚Äî¬•p.√àÔøΩ√±¬±="" bl√ªx√ò√Å@k¬±c‚Äö√ñ√ç≈Ω[√Äm="">+xs&lt;5ÔøΩ3√êr√æ√∫\√´√Ä√´√Äy}4UÔøΩ¬´F√º!√ú1ÔøΩ√ã&nbsp;N√æ¬ºPi‚ÄöZ√¨T¬Ωr√≥X1`@√ä$¬∏√ê√´P!`≈ìPZP√ù√°.:2n√ø√°
¬ØeZ√≤(W√ÄV
q¬±√ì√£(gP√πÔøΩ¬¨√ª?√Ép√±'@/√∞√ë√Ç√∏¬º√£-¬ßA√∏‚Äì√∫4&gt;√Å√Äa√ò¬™('3K√éL0√ê/y≈°NÔøΩ√ã$8 ¬∞√£-√û√°¬•√í`√É‚ÄπA¬±√Ø√û, ‚Ä°‚Ç¨^‚Ç¨√º!¬∏D√†√ò¬Ø`≈æ¬π‚Äö¬∂p{q√Ç7‚ÄîÔøΩ√áqÔøΩnn√£√•≈∏K√üK√Ø√ô?‚Äû¬©√êl ¬£√Ç√Å
√æ3V‚Ç¨H[√ü√î√ªE‚Ä†8Àú√é∆ío\1^B√¨¬¢√±√û:_i√î2‚Ä†V≈†≈†√∞p¬ß‚Äûx'n+‚Äπ¬°√∞845`≈°‚ÄπKRT:√Ç&lt;	√ø√ù≈°‚Ç¨¬∑@√õ√∏~%≈Ω¬∫k∆í¬≥√•(√ª√Ä√≥`√≥L*Q√Ä)¬°x¬∏i√í√É¬©j√ú√°{√º!U¬∞ÀÜ^W‚Äö√à%&nbsp;‚ÄîSq¬∞√°‚Ä¢H{‚Äû√¨_‚Äú¬∞≈æ#√≤xI√â√©√ª√†√Ö‚Äπ}√≥√ó√∏G≈ì√´√Ö√å#a√Ö&lt;√á\ÀÜ√ü√ú√æ/¬¶‚Äì√Ö2√èL|0|_N≈†V‚Ä¶j4ÔøΩ√≥/|√∏¬ø‚Ä†P√è¬¥yK√Ü¬Ø/x G√Ü¬Ø/√Å√†1x¬ø¬ª‚Äîm0√í√£¬Øz√è√à¬£√Ö√±&nbsp;A¬•∆í√•√ì√ø/h0√®¬º√úd√¥√ç√º≈∏¬æ√∏¬øÔøΩ¬ª√à‚Äî√¢√∫ÔøΩ√™¬®!:≈í@~n∆í√ùA¬Æn:0√û0|¬º¬™/√Ä√∂C√ç√É‚Äö¬≠q|8∆í`¬Æ√ªÔøΩa√ï√¶√°ÀúQ!√∂yy¬Æ+√∫‚Ç¨¬Æ/ÔøΩH`¬µ&nbsp;√¥√°¬•√ÑC)5‚Äπ≈Ω≈†√ó¬£√æ√∞^¬£¬æld;4√≤5amhq√ø$p9√ê‚Ç¨√ê?‚Äû√ª∆í¬£√Å1√£ÔøΩ√íhi¬¢≈æ24:√≥√Ç√Ç√ä‚Ç¨w√î¬∞ÔøΩ√∞_¬∑P/p~√æ&amp;√â8l¬¥al√≤√∏¬∏~*.‚ÄôO√∞ÔøΩ%√Å4`i%√Ñ‚Äî√£√∏m¬∫¬∏=#√†D√ë6‚Ç¨a¬¥o√°)ÔøΩJA*X+√ø√£:¬∞0!√µ√±#B√á‚Ç¨7‚Äû√å¬Ω
‚Äû_√¢x√∫t‚Ä∫7√æK√õ‚Äö:√≤mO√Åit√§√îa#‚Ä†≈í¬£8√ò√á¬∏¬¨dc√ÇQ√∫¬ØÔøΩ¬π∆í¬π√Æ√ù√§CI‚Äù¬£√å&gt;3√äL5¬∑(1P∆í¬°√Æ√ï√©≈†¬æ‚Äò√ç^"q&nbsp;√ìT‚Ä¢60
?=√£√¢4√∏cNp,&lt;√¥√±√†√è¬°&nbsp;√∫√∞(0~"0$@a&gt;‚ÄûKu&nbsp;?&nbsp;√Ñvy‚Ä¢≈†O‚Ç¨¬°ÔøΩ¬©‚Äî√ó√¢:‚Äù0¬≠!‚Ñ¢√åP=qhh¬≠√ò¬∂‚ÄîÔøΩÀú
:-√í"√™√™b‚Ä°ÔøΩ√∂¬¥'‚Äùp√í&nbsp;√£¬§¬∞0sar¬∑3√¢x√©|¬æ¬º+&nbsp;√≥(‚Äô√ø√∏√éE√ëpg√è≈∏√≠&nbsp;	@`^¬•H$¬∞3ÀÜ4*√Ω¬°√áU√ê√àX2&amp;‚Ç¨√è√é¬¨e√Ä‚Äû√∏¬ø√á√¨59¬∞=√∫,¬§¬´P7b
CÔøΩ√°
L1!&lt;√ùH]‚Äπf¬§ÀÜ¬º&nbsp;√í¬§0'‚ÄûH
?¬ø‚Äû7FA√≥	√Ås√§√à√ò0¬ºo√Ç|7e√∞√∑&nbsp;?q√±¬©‚Ç¨ÔøΩ√°√à¬≥m7√Ö‚Ç¨‚Ç¨¬•B√£&gt;2e√¶\ÔøΩ√§(√ï‚Ä¶√Ω√ã√Å¬πw)≈æ‚Äô√Å√≠√êC√°|m‚Äû√Ä@≈°0wg‚Ç¨?/`¬®¬ºg0!√§¬£v	=GL√à\
0√•¬Æ√é'√£&lt;4‚Äö7¬®J
¬¢‚Ñ¢xK9√°√õ√û3¬´≈°rLlmÔøΩ3|
√ÖO&amp;√Ü√Ö√ë√ì√Ä¬®√ºf¬•¬¢D√Å¬™$)$}‚Äî√¶t√û	≈†√Ö√ö√∞0p$√°U+‚Äπy7
-f¬µ√ê√æ√°√•¬ª‚Ç¨!n√π}}¬ø2√°u1&amp;&lt;;√°√îK√Ö√í√ãf√¢√åy√ìXg√∏GÀúG≈∏¬®Ap~6
&nbsp;H!√≤x√é¬§ √¢/v¬ªP¬æH√è√ø‚Ä∞√°¬¨√¢≈ì¬§√£√£w√∞√ø
"√ß√±≈ì√õ∆í‚Äù/{DÔøΩ.‚Äî‚Äî¬±*‚Ç¨:r&nbsp;≈†C+√Ç&lt;8‚Äî*tLia√ú 4@√°√Ä√Ü]√ü‚Äì√Æ	t√Ö√è√ª√ü√ú$√ékA√∏Os‚Äö¬§C√æ√¢√´ÔøΩ√©J√æ¬±‚Äò¬¥`√Ü/w8
(_6√ó¬£pu√£ÔøΩ√º√êE√ñ\=|e√ú b√û√ª√£√†≈°√Æ"¬ø.^‚Ä¶/¬´√º?¬ºx≈∏√Ø√ü&amp;	√û?√®?‚Äö≈∏UY√¨√∑√àl4ÔøΩ√ºÔøΩ"√ô√±‚Äî√õ√Ø=¬æ√ºp≈ì¬∞5n‚ÄûN√•√û/¬∞A∆í‚Äû]√ã&nbsp;/√òd¬æ√ïdi(√∞≈Ω‚Ñ¢:√Ø√ÄJ√Å¬ºv‚Ä¶LM√±PL√±√õ√ìY√Ö‚Äû√ø√è√Ñ√∞√æ¬±‚Ñ¢¬ø√ÉhWj√£S≈æ/¬µ √ò‚Äú√õQ√Ä0√π¬∏z[√á‚Äî≈íI√∏Fa≈∏√ß√≥.2L √Ém√ò√ü	√ÜÔøΩ}∆íV√ñÔøΩ√Ø√ó√°√àS~W3√éD8ÔøΩ√´√¢√∫√Ø‚Äò√æ√∞ÔøΩ4√ã≈ì¬∏¬æ‚Ç¨#¬£∆íEx√ùÔøΩ√∞7√õjI
Z√¢√∏√Ä¬∏¬®&gt;44&lt;^\¬∂√∑√™√∫K¬™/7‚Ñ¢√ø‚Äö√Ä√¶^Ly¬π¬±√∏w‚Ç¨y√¥¬®A√º(≈∏‚Äπ2√ß¬®√≠ÔøΩÔøΩX√øÀÜ¬∂Àú√Ä8a√Ö√®√™$√Ü√æ"ÔøΩ.√ì√í¬¨‚Ä†‚Äö√°√°Àú_&gt;/√±√î√á√±√ê‚Äî&lt;7√Æ(`KU‚Äö√Ü¬æ‚Ä∫√π#AyHf&nbsp;'√º'√åN∆í3√º√øÔøΩ‚Ç¨‚Äπ\g¬≤‚Äπ√æ¬ø√ö e‚Äù√ã√å¬ø≈Ω√¥0ÔøΩ√ÅpG#/√ü√ß≈†&nbsp;&lt;√†q¬∞5¬ø√ß√¶8√Ö‚Äû¬°ÀÜ%‚Äö≈†ÔøΩ¬πHg¬ª√Ω√ÜG√¨√ºG@√ä¬•√†√±√Å√Ä√¢0√¢¬≥@ÀÜ≈†Nv¬™~&gt;@&amp;Y‚Ä°!ÔøΩ√®‚Ç¨¬ΩÔøΩ√®g√ü≈í¬°¬πt¬®√ô√¨√áB5^\?Po√ü√¢√Æ√ªÔøΩ‚Äû¬ø√¢)ÔøΩ"4&lt;n^¬º¬Ω√òW¬£Z√æ√±K√òn√ÄU&nbsp;~:‚Ä¶√π√∫R‚Äì√õ√¶~√å`ÔøΩ¬πO√ó∆í√Ä¬Æx√á√∂d‚Ä¢‚Äû.,x‚Ä¶h3q‚Äò‚Ä¶√∏≈†√êÀÜT+h√±‚Äù√çP√º}@`?b√ø&amp;‚Äöt¬°√û
DV&lt;¬ø√á`5¬¢√≠∆í/x¬∫^≈í√•√ò¬π√ù‚Ñ¢{ly¬∞‚Äπ¬π[‚Ñ¢√±9
‚Äö'‚Ç¨xl7√°√Æ0¬Ω%o‚Ä¢b√Ø√á√±&nbsp;p+Wa√®&nbsp;p√Ç<lc‚Ä∫√æ√ñ60√út(¬∫[√Äm>+√É√ª‚Ä¢&nbsp;√à√®¬¶√±‚ÄîxC√Å√¨( ¬©z¬¥+ÔøΩ‚Ñ¢h≈Ω√≤¬´√Ä‚Ñ¢ID&nbsp;&gt;^9i√ØE¬∞[√Ñ√∏√´√â4
P∆íG√¢√¥L√á√ÇY≈í‚Äπh¬∞(√∏G‚Äò√Å¬´5√´√π(a√ëW?≈í¬§‚ÄìPrXXx√ïb‚Ç¨&nbsp;$√Ü¬®#
√Å√Üv‚Ä¶√å5‚Äû[√≠h√è‚Äûnx√Ä¬°√òÀÜ√ß∆íV√®√º!√ó‚Ä°x4Z≈†L‚Äúx~√ùÔøΩ√Ö¬¨U¬Ø√ÉyMp%z?√ØG√∞∆íS√Ñ&nbsp;√°v√Ü‚Äö√∫¬ß≈°√†√æ¬®¬≠Q¬π¬µ√£√ü√Ü[;∆íÔøΩ^)√ö√ñ	&nbsp;‚Äû√ÅÔøΩ‚Äò¬®{√æ≈í‚Ä†√ì&nbsp;¬º#√Ü‚ÄölC√út0^‚Ä†¬°√ë*¬¨√ºg‚Ä°¬•√¥¬∂√ê√í	j‚Äù
_ÔøΩÔøΩÔøΩ¬™U∆í√∑√°√à0L1v¬§*∆ís¬∞¬¥;¬§ÀÜ¬ø√É+]√£√†1 &gt;g¬±:[N√¢+¬≤aq≈ì‚Ä¶‚ÄìuP‚Ä°√Ö≈Ω√Å√≠¬£W‚Ç¨√∏√é2_z‚Ä°ÔøΩ√øZ0R&nbsp; √∫‚Ç¨√°√ÑÔøΩ√ëCI. 8√≥X
√áW~;≈ΩE$-‚Ä¶7x=W√åE|&nbsp;√ô√π7≈í‚Ä°√ÑsIh-D‚Ç¨e√¢^?√É0√Ö√Ø$A	‚Äπ0√Ö√∏&gt;√æ'c√É√•¬£√∂:C‚Ç¨ÔøΩ√≤`ÔøΩ√£√æ∆í√πrG√Å&nbsp;¬º_b ‚Ñ¢√¨≈í_	√òe:√•|c_√ç√áAAPA¬º¬º√ù√Ü√©¬∞Z√¢¬∞L√±√õ√ì√≤‚Äì"ÔøΩ√ú‚Äú√û2-ÔøΩ√ú¬ß√ç√°;ÔøΩ‚Äì\_
≈†C√ãO√á‚Äö√º≈ì‚Äò‚Ä†‚Äî√à0L?ÔøΩ`‚Äö'ÔøΩq√∏¬æn√Ö√ïr≈í√≥'\v&nbsp;¬∂√™√Å@√Ö∆íd~E√ï√≥qÔøΩ‚Ñ¢XQ√≤√∑‚Äö√É¬≠?‚Äî√Ç\/‚Äî‚Äöm¬¨‚Äò√É¬¥√±|√¨≈ìK!IR	√º_`√Ñ√¶s‚Ä∞%√¢√∏bRP¬¥√ï√Ö√∞N√º√£71¬∞"`3√ç√ÉÔøΩ¬π¬ºNLy¬π¬±√∏w‚Ç¨y√í¬°L_√∞¬¢~,√ã≈æ¬£¬∂&gt;5c√æ"∆íPCÔøΩ√†√Ä&gt;¬±√Å2√±√èt&nbsp;‚Ä¢√ó√∞‚Ä¢√ô√≠¬¶√ö~√™O√§¬∞≈íd8√ê¬∂≈ì(¬§@\A≈íÀÜ1¬∞/t¬∏6‚Ä¢a
√ó`@`√ÇJ√Ω5H√ºM‚Ä°ÔøΩ|l‚Ä¶√É0√å‚Äûh#¬Ø{≈æ≈Ω√øÀÜ¬±8‚Ç¨g\p¬¨aDq-¬≠≈æ#√ò√Ñ√ï‚ÄπÔøΩ√ü√ÑX(‚Ç¨√êK!≈í&lt;∆í‚Ñ¢‚ÄπR≈æ"‚Ñ¢Uq%pC18√Äd≈∏‚Äûl	h,H`¬ª≈∏|√æ√¢.√¥√†≈°‚Ç¨.\WA√î0&gt;¬≠≈ìlz&lt;#√ºE	≈í‚Äò`e&nbsp;√Ä√í¬∞/xFu√§√¶4√ô@√ù√ö¬ß√£#√£∆íp√É‚Äô¬°√®3ÀÜ√ïl√∫¬∫T3ÔøΩ√±u√Ñ√§√´Q√©a√ö¬∑?ÀÜ¬¢≈íva¬¢t√ù]ÔøΩx≈ΩÔøΩ√ò¬ºU7ÔøΩ¬ª√±√´‚ÄöÔøΩ‚Ä¢¬¢V‚Ä°W√∏‚Ä∞G√òq√ë√ú√Å¬¨t√∏√é‚Ç¨:≈°\#M.!ÀÜ¬π‚Ä∞$√º≈æ√ç√ΩWt9‚Ç¨cÔøΩ¬π√≥ar¬∑3√¢x√©|¬æ¬º+&nbsp;√≥(‚Äô√ø√∏≈Ω¬£√ÅgP¬¨√±≈ì!√Ö%!x¬£h-Eq}B3≈í¬∞'&nbsp;¬®|e¬¥√É√®_a}√¥!√Ét	&nbsp;¬Æt‚Äúg√Å√≠f√Å¬©7p√ºf√õ√ëx√êB¬¢n¬Ø≈ì≈æJh2¬æ√Ω¬¥√∑¬¨&nbsp;y√∏√éÔøΩ‚Äîw
"`¬µ'‚ÄùF√ó
9√ë8b√∞√°≈ì%√É√•as≈°√ê√Ö∆í¬•‚Ñ¢a≈∏√Ü‚Ä¶√¥√æ√£√É≈æ‚Ä∞C≈ì√á:√á√∞√ö‚Äî"√¨Xv‚Ç¨&amp;‚Ä¢H√ó&gt;.√≤√¥5√î√Ö¬© (√æN√±√í√ø,p¬∫3ÔøΩx√Æ6(√ÅT√É:√¶R¬•‚Ä°¬∏‚Äû&nbsp;+xGN?`√ã@√ï√º`qO@¬∫(yÀú+√°	‚Äî√ê&nbsp;&amp;√ïÀÜÀÜ¬™‚Ä∫‚Ç¨√Ü‚Ä∞√û3√ÉHÀúd3‚ÄùFÔøΩ√Ç‚Ä†#√¶f}√éV√ø√∞√¨&gt;\M√º√ø¬Ω¬¥;A.;@√±‚Äì√Ç&amp;o√Ç#GmY√ÅÔøΩ√∞‚Ä∞√Üg¬∏|√ë∆í√¨G‚Äû/¬ª8Àú√°
g∆í√™ÔøΩJ@Ji

F\G√µ√Ç√∑√á^@@√∞≈∏ÔøΩ6≈°√òF√ÆY√¢¬µm√≥√ê√Ç\ÔøΩZ8¬∏√®24√ó√°:8(rW√µ√¢ÔøΩx¬¢x‚Ä°|/√á√â¬≥
GdX)¬∂&gt;¬∞:P5 p+f‚Ä∞&nbsp;√∞ÔøΩ√∞‚Ä¶D¬§
√†	y√™≈ìL3√Ø√Ö~&lt;√Ø\3@D‚Äπ‚Äö√´‚Äî‚Ä°P¬±‚Ç¨√â‚Äû√Æ?√©√º-√îe‚Ñ¢¬•¬¢≈∏√Ω√ÉR√†√ø√°√ø¬ø¬∞√ê√ß¬∞√àq√Ä|√ú√ê]√ó√πY¬ª√º¬º&gt;ÀÜ¬£√Éq|d1¬•C√∏√Æ%O√ã√É¬∞V√êJ√õ√Ç9‚Äú:√≥√°√∏ÔøΩ@0DaO0√É√Ø¬ø√Ü‚ÄöZ√∞∆íx¬æpD5/~‚Äò;√Ä~nPiÔøΩ¬´‚Äπ√§1qc1√•√≠O√ÜTAÀÜuW‚Äπ√∞¬µ√ª$0|_¬∞∆í√£4w√¨√ê%√ã√ÉÀÜD‚Äô!+√¢g√§√ü(@%xG&gt;x√†¬®Àú√û2OW‚Äπ√±ÔøΩ
√≠¬©H√Ö√µ!≈ìl¬∞√Ä√º√ù √í√∂^Àú√ë~≈∏‚Ç¨≈ìV¬º√ú√ó3	√ú√ì√∏W&nbsp;‚Ä∞&nbsp;√í√™‚Äû¬≤C√≤¬≠¬±√±¬´√±ÔøΩ√å
{¬£&nbsp;tÔøΩ)√∂√•\X$f&gt;	Ae√º%2‚Ç¨¬®√íD∆í∆í√∞_Ow¬±√û√ã√Ña¬¥]ÔøΩ√™
V√¨+ia¬Ω‚Ñ¢¬Ω√Æ√ê√£√π√ì√Ä√ªE\@‚Äò√£¬°¬®√º?√¶√øÀÜ¬µ@≈Ωa√Ö√∫√ê‚Äù¬¥¬®o¬°0/EtX√òh4?u‚Äö√†√®√ä√±√ò&amp;√ô√è\‚Ä†‚Äù‚Äö¬¶_√±√ï3‚Ñ¢√î¬∑√¢/¬∞‚Ç¨W√¢√ÅX√Åj√ÑZ√≥,[z¬±|
¬∏√¢+√Å‚Äô!C√ïpX|¬∫pA\ÔøΩ√ºG;1¬¢‚Ä†‚Ä†‚Ç¨‚Ä°√¢(n√•√æ≈Ω√§√å~kT&gt;"√±w√ë√Ä≈ì - ‚Ä∞√ú√±√Å≈∏√æ¬∞t√î&nbsp;z7\DpS<yi‚ÄúÀÜ*≈Ω‚Ä†4.√áz ¬Æ≈íu="" ÔøΩ¬†¬£0√•√¶u√ü√Ü]√´√ó√†√†2&k√°√§7√ó√ºd‚Ä∞√ß√π√øp√å|√º√õu√ó0.√á‚Ä¶√áp="" 2_q‚Ä∫√ü‚Äû√∞∆í="" ÔøΩ¬¶√Ä√¨√í√ótp√ú5#√†‚Äî≈í√°‚Äû]j="" ≈∏?√õjt√™t‚Äök8∆íb¬†¬ø¬≠h#√∏√ä‚Äö√°√à="">¬¨U3√ê#f.&lt;≈°√ÄB√ª¬´√∏√è ‚Äò√õ‚Ä°!√ê√î‚Ç¨√òY¬¥¬©‚Ñ¢
^‚Ç¨^:√∏√∞√°~‚Ä°¬Ω∆í≈Ω≈Ω√úe√®g‚Ç¨3≈Ω&nbsp;!‚Äò√∞√Ä√ç‚Ä∫√†_¬º√∏√∫‚Äù√ë-‚Äù3√∏M√¨~√¨4√∏ÔøΩ‚Ç¨q√Ö√±ÔøΩ‚Ñ¢¬±i|=¬ºe√∂4c√Å¬ΩnPÀÜ√∏AU¬∫√î!√ÄN¬§#√ê,dd¬ØE&amp;≈ì√ú¬§d√Ü¬•√°G¬≤‚Äò_?√Ö√ï&amp;ÔøΩJ√Ä;F≈æh|M√ü0 C&nbsp;√ê√ò√ºg
√É9p √®‚Äû¬¨
√ê √åZ{-¬®√ºM√©a√±¬≠‚Ä°√ëgB√±p√î)¬∂‚Äò+√áA
[‚Äô_‚ÄûxK‚Ä†n8√ú√∂"o:(L¬∏√£¬≠√î‚Äû
¬∏t0√æ¬∂√ö¬±√É√Ä;√±≈ì√ÉÔøΩo¬∞G∆íÔøΩ¬°@√üADx¬∂¬¨p¬±√ì]7√°
vÔøΩ¬°√¥‚Äû≈ì¬∂√°¬π√™*√ø√äÔøΩ¬§\T¬¨4√ºg`C√ØO{c√ÜB|a√§SB¬®‚Ä¶x¬∞√∏√è‚Äû√é&gt;√±√î¬•W‚Ç¨O√•√ºMx%√¨x√é¬™w√á
%√°√Å¬∞√†3&lt;√∏‚Ä°&nbsp;¬≥t√°≈†√ä√†√†q&nbsp;	:√∑√à%u0!&gt;-√ª√ó∆íw≈í√ê‚Ä¶</yi‚ÄúÀÜ*≈æ‚Ä†4.√ßz></lc‚Ä∫√æ√∂60√ºt(¬∫[√†m></oÀÜ√£√®n‚Äû√∫f¬≠x%√¢√™ÔøΩ¬Ω></x8¬°ÔøΩ√π></g></o√£8√∞g^√™√∫4q-√ß√¶c;@ÔøΩwÔøΩ√∂‚Ç¨!{¬®√ß‚Ç¨_√¢\6√º¬®7√¶+$√±=j‚Ä¶!h≈æ‚Ç¨m√•√∂></m√Æ√¶√¢√∞√®√∂¬∞¬∫7></us&√Æ></rb‚Äò¬ß√¢;‚Ä†¬πx√∏¬∏?¬ßpp></a></s></b></u></i></s></s></u></b></u></u></u></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://diablo.im/~ross/pb/20201220-085332.mp4">https://diablo.im/~ross/pb/20201220-085332.mp4</a></em></p>]]>
            </description>
            <link>https://diablo.im/~ross/pb/20201220-085332.mp4</link>
            <guid isPermaLink="false">hacker-news-small-sites-25487215</guid>
            <pubDate>Sun, 20 Dec 2020 16:13:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Get Started with Tmux]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25487152">thread link</a>) | @sunainapai
<br/>
December 20, 2020 | https://sunainapai.in/blog/get-started-with-tmux/ | <a href="https://web.archive.org/web/*/https://sunainapai.in/blog/get-started-with-tmux/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>Published on 2020-12-20 by <b>Sunaina Pai</b></p>
<h2>To Tmux or Not to Tmux, That Is the Question!</h2>

<p>
Before getting started with tmux, let us go over some questions to see
if tmux is right for you:
</p>

<ul>
  <li>
    Do you use a terminal as part of your your development workflow?
  </li>
  <li>
    Do you use multiple terminals in different tabs or windows to
    navigate files, edit text, compile and run code, tail log files,
    push code to repository, and run one-time adhoc commands?
  </li>
  <li>
    Do you work on multiple projects at a time, each with its own set of
    workflow and environment requirements, and often have to switch
    context?
  </li>
  <li>
    Do you SSH into remote systems?
  </li>
  <li>
    Have you ever got disconnected from a remote SSH session in the
    middle of a task that you were running and monitoring?
  </li>
</ul>

<p>
If you answered yes to any of these questions, then tmux is for you!
</p>


<h2>What Is Tmux?</h2>

<p>
Tmux is a terminal multiplexer. You can run multiple terminal programs
inside tmux, all of which can be accessed from the single terminal that
is running tmux. This is called a tmux session. You can have multiple
such tmux sessions, say one for each project you are working on. You can
detach from a tmux session and later reattach to it. When you run
programs in a tmux session, the session remains intact and continues
running your programs even if you detach from the session. You can start
where you left off the previous day, or you can even access the session
from a different computer.
</p>

<p>
If you have worked with remote servers using remote desktop connection,
you will be familiar with how the applications that you open in the
server are kept as is even when you disconnect. You can then resume the
session by reconnecting to it. You can even reconnect to the remote
desktop using a different client or a different computer. Tmux helps you
to achieve similar results for terminal sessions.
</p>

<p>
When you run the <code>tmux</code> command, tmux starts a server process
if it is not already running, and a tmux session is created. The tmux
server runs as a background process in your system and manages all the
terminals running inside tmux. You can create additional sessions in the
tmux server if needed by using the <code>tmux</code> command. A tmux
session is a group of related tmux windows. Think of all the terminal
tabs you open to get to your development workflow of a particular
project. All these can be grouped together as windows in a tmux session.
A tmux window comprises of one or more panes. Each pane is like a
terminal by itself. Panes can be organized vertically, horizonatally, or
a mix of both. Think of editing, compiling, and executing code on the
left pane while tailing a related log file on the right pane as an
example. At any given time, there is one active pane where the commands
you type are accepted. You can switch between panes, windows, and
sessions as needed.
</p>

<div>
<p><a href="https://sunainapai.in/img/technology/get-started-with-tmux/tmux-session.png" target="_blank"><img src="https://sunainapai.in/img/technology/get-started-with-tmux/tmux-session.png" alt="A screenshot of tmux with multiple sessions, windows and panes"></a>
</p> <!-- end images -->
<p><span>Tmux with multiple sessions, windows, and panes</span>
</p> <!-- end captions -->
</div> <!-- end gallery -->

<p>
Let us now see how to get started with tmux.
</p>


<h2>Install Tmux</h2>

<p>
If you are on a Debian, Ubuntu, or another Debian-based system, enter
the following command:
</p>

<pre><code>sudo apt-get install tmux</code></pre>

<p>
If you are on macOS with Homebrew installed, enter the following
command:
</p>

<pre><code>brew install tmux</code></pre>

<p>
If you are on any other system or environment, see
<a href="https://github.com/tmux/tmux/wiki/Installing">Tmux Wiki:
  Installing</a> for installation details.
</p>


<h2>Create, Detach From, and Attach to Sessions</h2>

<p>
To create a new tmux session, enter the following command:
</p>

<pre><code>tmux</code></pre>

<p>
Run some program in this session. Maybe tail a log file. This will help
with the next steps where you detach and reattach to a session.
</p>

<p>
To detach your terminal from a tmux session, enter the following
command:
</p>

<pre><code>tmux detach</code></pre>

<p>
Tmux will keep your session intact. All your programs keep running on
the server. To attach your terminal as a client back to an existing tmux
session, enter the following command:
</p>

<pre><code>tmux attach</code></pre>

<p>
Note that it is not necessary to type out the <code>tmux</code> commands
in full. You can use any unambiguous abbreviation of the commands. For
example, <code>tmux det</code> and <code>tmux at</code> are equivalent
to <code>tmux detach</code> and <code>tmux attach</code>, respectively.
</p>

<p>
By default, the new sessions are named 0, 1 and so on. To choose another
name for the session, use the following command to start a new session:
</p>

<pre><code>tmux new -s &lt;session-name&gt;</code></pre>

<p>
Here <code>&lt;session-name&gt;</code> denotes the name of the session
you choose. You can also rename an existing session with this command:
</p>

<pre><code>tmux rename &lt;new-name&gt;</code></pre>

<p>
If you have multiple tmux sessions running and you want to target a
specific session to rename, you can use the <code>-t</code> option to
specify the session name you want to target, like this:
</p>

<pre><code>tmux rename -t &lt;session-name&gt; &lt;new-name&gt;</code></pre>

<p>
Without the <code>-t</code> option, it renames the current session.
</p>

<p>
The <code>-t</code> option is useful for attaching to a specific tmux
session too when multiple tmux sessions are running. By default
<code>tmux attach</code> attaches to the most recently used session that
is not attached. You can attach to a specific session like this:
</p>

<pre><code>tmux attach -t &lt;session-name&gt;</code></pre>

<p>
Sometimes while attaching to a tmux session, you might want to detach
the other clients to connected to it. That can be achieved with the
following commands:
</p>

<pre><code>tmux attach -d</code></pre>
<pre><code>tmux attach -d -t &lt;session-name&gt;</code></pre>

<p>
While you are inside a tmux session, you can also change the name of the
attached session by using the key-sequence <code>C-b $</code> which
prompts for a new name for the session. The key-sequence <code>C-b
$</code> is bound to the <code>rename</code> command that you saw above.
Similarly, the key-sequence <code>C-b d</code> is bound to the
<code>detach</code> command. To understand how tmux key bindings and
commands work together, read the next two sections.
</p>


<h2>Understand Tmux Prefix Keys</h2>

<p>
Once you attach your terminal as a client to a tmux session, all
keystrokes are sent to the program running in the active pane of the
current tmux window. By default it is your shell. For key-sequences that
control tmux itself, a special key-sequence called the prefix key must
be pressed. By default the prefix key is <code>C-b</code>. Here
<code>C</code> denotes the <code>Ctrl</code> modifier key, i.e., to
enter <code>C-b</code>, press and hold the <code>Ctrl</code> key, then
press and release the <code>b</code> key, and finally release the
<code>Ctrl</code> key. When the prefix key is entered like this, tmux
waits for another keystroke or key-sequence to determine which tmux
command needs to be executed. For example, when you enter <code>C-b
$</code> to rename the current session, <code>C-b</code> is the prefix
key that tells tmux that you are going to invoke a tmux command and then
the <code>$</code> keystroke tells tmux that you want to invoke the tmux
<code>rename</code> command.
</p>


<h2>Key Bindings, Commands, and Command Prompt</h2>

<p>
The key-sequence <code>C-b ?</code> shows the list of key bindings along
with short descriptions about what they do. The output is shown in the
view mode in the active pane. The pane in view mode has its own key
bindings which don't need the prefix key. By default the view mode has
Emacs key bindings that you can use to navigate the output. However, it
can be configured to use vi key bindings too.
</p>

<p>
Any time key bindings are used, they run the underlying tmux commands.
For example <code>C-b c</code> runs the <code>neww</code> command that
creates a new window. Commands can be run directly from the shell as you
saw when you created new session using the <code>tmux new</code>
command. Just like any other Unix commands, tmux commands have zero or
more command line options that may or may not accept arguments. For
example, the <code>attach</code> command that you saw earlier accepts
the <code>-d</code> option to detach any other clients that are attached
to the session. This option does not require an argument. The
<code>attach</code> command also accepts another option <code>-t</code>
that requires an argument to specify the name of the target session you
want to attach to.
</p>

<p>
You might mostly want to use the key bindings to manipulate tmux because
they are convenient. However, the tmux commands can be useful especially
when you want to perform a task that is supported only by an option. The
tmux commands are also useful if you want to write a script to
manipulate tmux.
</p>

<p>
Tmux commands can be run from the shell as you have seen so far. There
is also an interactive command prompt available within tmux that you can
open using <code>C-b :</code>. This prompt accepts tmux commands. For
example, <code>C-b :neww</code> creates a new window in the attached
session. Some of the tmux commands run in this manner show the output in
the view mode in the active pane. For example, <code>C-b :ls</code>
shows the list of all available sessions.
</p>


<h2>Create New Windows in a Session and Switch Between Them</h2>

<p>
You can create new window in a session by using <code>C-b c</code> or
<code>C-b :neww</code>. Each window is numbered starting from 0. Every
new window is created at the first available index. This means that if
there are gaps in the list of window numbers, a new window occupies the
first available number in the gaps. The new window thus created becomes
the current window of the session. The current window is identified by
the <code>*</code> suffix in its name and the previous window is
identified by the <code>-</code> suffix in its name.
</p>

<p>
If you want to create a new window but not make it the current window,
you can do so with the <code>-d</code> option like this: <code>C-b :neww
-d</code>. You can also create a window at a specific index by using the
<code>-t</code> option like this: <code>C-b :neww -t 9</code>.
</p>

<p>
<code>C-b 0</code> takes you to window 0, <code>C-b 1</code> takes you
to window 1, and so on until <code>C-b 9</code>. <code>C-b '</code>
prompts for an index to switch to that window. This can be useful if you
want to go to windows with indices greater than 9. <code>C-b p</code>
takes you to the previous window and <code>C-b n</code> takes you to the
next window in the window list by index. <code>C-b l</code> takes you to
the last window that was active before the current one. This is very
useful for alternating between two windows again and again.
</p>

<p>
To rename the current window, you can use <code>C-b :renamew
  &lt;new-name&gt;</code> or <code>C-b ,</code> which prompts for the
new name for the window.
</p>

<p>
I find it convenient not to exceed 10 windows (indices 0-9) in a
session, so that I can switch between them using <code>C-b
&lt;number&gt;</code>.
</p>


<h2>Create New Panes in a Window and Switch Between Them</h2>

<p>
You can create a new pane by splitting a pane in a window. <code>C-b
  %</code> splits the current pane into left and ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://sunainapai.in/blog/get-started-with-tmux/">https://sunainapai.in/blog/get-started-with-tmux/</a></em></p>]]>
            </description>
            <link>https://sunainapai.in/blog/get-started-with-tmux/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25487152</guid>
            <pubDate>Sun, 20 Dec 2020 16:03:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Simple Neural Network (200 loc, rust)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25486966">thread link</a>) | @cynik_
<br/>
December 20, 2020 | https://explog.in/notes/funnn.html | <a href="https://web.archive.org/web/*/https://explog.in/notes/funnn.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

<p>
I've always enjoyed terse programs that show how things work
<i>without</i> magic hiding incidental complexity. After realizing that my
initial attempt at a neural net only cost <span>less than 200 lines of Rust</span>,
I decided to take a snapshot and write about building it before I go
on and extend (and possibly over-complicate or abandon) the system.
</p>

<p>
More than anything else, treat this as encouragement to write your own
neural network ‚Äì the core implementation turned out to be
surprisingly compact ‚Äì enough to encourage me to write about it.
</p>

<p>
<b>This is not an introduction to neural nets</b>: There are several excellent
resources already available online that can describe the underlying
math and structure of networks; I'll just talk through them enough to
explain the structure of the code.
</p>

<p>
It's also entirely likely that I have mistakes in here; this was
written quickly with the main <b>aim</b> of encouraging more people to write
their own nets from scratch ‚Äì and given one simple point for
comparison. If you do write your own, please share it with me!
</p>

<div id="outline-container-orgd2852bf">
<h2 id="orgd2852bf">Choosing a simple problem &amp; architecture</h2>
<div id="text-orgd2852bf">
<p>
Achieving SotA on MNIST is an explicit non-goal: this project is aimed
at exploring the mechanics of a neural network, and being able to play
around with it while changing one feature at a time.
</p>

<p>
Instead of trying to see if the network can accurately predict results
from data I can't understand or reason about, I'm going to have the
network try to behave like a simple continuous function of my choice
instead ‚Äì I'll play with different functions like \(y=x^2\), \(y=x^3\),
\(y=x * sin(x)\), etc.
</p>

<p>
This greatly simplifies some parts of the network ‚Äì there's a single
input, and single output. The <a href="http://neuralnetworksanddeeplearning.com/chap4.html">Universality Theorem</a> suggests that I
should be able to get fairly far with a single layer, so that's where
I'm starting.
</p>

<p>
I like <a href="https://www.kaggle.com/dansbecker/rectified-linear-units-relu-in-deep-learning">ReLU</a> and leaky ReLU because of their simplicity, and I'll stick
with them here ‚Äì though I don't have any strong justification about
the choice of activation function yet.
</p>
</div>
</div>

<div id="outline-container-org4236674">
<h2 id="org4236674">Building the network</h2>

<div id="outline-container-orgcfce027">
<h3 id="orgcfce027">Storing a network</h3>
<div id="text-orgcfce027">
<p>
The very first decision was figuring out how to store the neural
network ‚Äì my very first attempt at doing this involved a lot of pure
functions and state being passed around all over the place which
quickly became messy ‚Äì it was much more maintainable to have a single
place to represent a neural network.
</p>



<p>
Happily enough, with the decision to have a single input and output, a
single hidden layer means that there are only so many weights I need
to store. 
</p>

<p>
The overall structure is fairly simple:
</p>
<pre>
    o
  /   \
x - o  - y
  .   .
   . .
    o 

</pre>

<p>
Before drawing in the calculations that need to happen, I'm going to
introduce a system for indexing nodes which should make this much
easier to talk about and parse:
</p>
<pre>
          Layer -&gt;
   +-------------------------&gt;
   |    
N  |               0       1
e  |               |       |
u  |          0 -  o       .
r  |       /         \     .
o  | 0 - x -  1 -  o - 0 - y
n  |       .         .
|  |        .       .
v  |         ns -  o
   v               

</pre>

<p>
It's a fairly simple system for drawing neurons ‚Äì a layer index that
starts at the first hidden layer; and a per-layer index into the
neuron itself.
</p>

<p>
For each <b>weight</b> in the system, there are going to be 3 coordinates:
the neuron it's at, and then the <i>input</i> it's specified for ‚Äì this is a
little bit different than most online courses, because I'm <i>not</i>
directly using vectors to be very explicit about the underlying
calculations (both avoiding matrix calculations and paying the price
in terms of speed as the price).
</p>

<p>
Drawing in the calculations for evaluating the network forward to make
this a little bit more concrete:
</p>

<pre>         0    1
         |    |                   layer input   
                                    |     |
     0 - o &lt;------- n[0,0] = relu(w[0, 0, 0]x + b[0, 0, 0])
  /        \                           |
x -  1 - o -  y                      neuron   
  .        .   \
   .      .     relu(sum(w[1, x, i]*n[0, i] + b[1, x, i]))
    ns - o

</pre>

<p>
I also have somewhat stronger constraints on the potential values for
my indexes:
</p>
<ul>
<li>for layer = 0
<ul>
<li>the neuron's index can go from 0 -&gt; <code>ns</code> (number of neurons)</li>
<li>the input can only be 0</li>
</ul></li>
<li>for layer = 1
<ul>
<li>the neuron's index can only be 0 (just one output)</li>
<li>and the input can go from 0 -&gt; ns (# of neurons in previous layer)</li>
</ul></li>
</ul>
<p>
In the code, I often refer to the <code>[layer, neuron, input]</code> index as <code>[x,
y, z]</code>.
</p>

<p>
Having this written out explicitly helped me a lot in implementing the
network, and I hope the constraints should make sense to you given the
structure of the network.
</p>

<p>
Finally, instead of dealing with initializing and taking care of
multi-dimensional vectors or arrays, I'm going to use a trick I often
rely on in Advent of Code for complex grid structures and keep a
single vector ‚Äì with a function to translate my custom indexing
system into offsets.
</p>

<div>
<pre><span>struct</span> <span>Net</span> {
    <span>ws</span>: <span>Vec</span>&lt;<span>f64</span>&gt;,
    <span>bs</span>: <span>Vec</span>&lt;<span>f64</span>&gt;,
    <span>ns</span>: <span>usize</span>,
}

<span>impl</span> <span>Net</span> {

    <span>pub</span> <span>fn</span> <span>new</span>(<span>ns</span>: <span>usize</span>) -&gt; <span>Net</span> {
        <span>let</span> <span>size</span> = ns * 2;
        <span>let</span> <span>ws</span>: <span>Vec</span>&lt;<span>f64</span>&gt; = <span>vec!</span>[0; size]; <span>// </span><span>This will change</span>
        <span>let</span> <span>bs</span>: <span>Vec</span>&lt;<span>f64</span>&gt; = <span>vec!</span>[0; size]; 

        <span>Net</span> { ws, bs, ns }
    }

    <span>pub</span> <span>fn</span> <span>pt</span>(<span>self</span>: &amp;<span>Self</span>, <span>x</span>: <span>usize</span>, <span>y</span>: <span>usize</span>, <span>z</span>: <span>usize</span>) -&gt; <span>usize</span> {
        <span>match</span> x {
            0 <span>if</span> z == 0 &amp;&amp; y &lt; <span>self</span>.ns =&gt; y,
            1 <span>if</span> y == 0 &amp;&amp; z &lt; <span>self</span>.ns =&gt; <span>self</span>.ns + z,
            _ =&gt; <span>panic!</span>(<span>"Invalid location: {}, {}, {}"</span>, x, y, z),
        }
    }
}
</pre>
</div>
</div>
</div>


<div id="outline-container-orgf6e246d">
<h3 id="orgf6e246d">Initializing the network</h3>
<div id="text-orgf6e246d">
<p>
Starting the network with all weights initialized to 0 is a good way
to get stuck with 0 gradients during gradient descent: and a good
experiment to run while running the code yourself.
</p>

<p>
For this first iteration, I'm hard coding random initialization of
weights into the program ‚Äì but I'll expose another function that
accepts custom initial weights in the next iteration for exploration.
</p>

<div>
<pre><span>+</span><span> use rand::thread_rng;</span>
<span>+</span><span> use rand::{distributions::Standard, Rng};</span>

  impl Net {

      pub fn new(ns: usize) -&gt; Net {
          let size = ns * 2;
<span>-</span><span>         let ws: Vec&lt;f64&gt; = vec![0; size]; // This will change</span>
<span>+</span><span>         let ws: Vec&lt;f64&gt; = thread_rng().sample_iter(Standard).take(size).collect();</span>
<span>-</span><span>         let bs: Vec&lt;f64&gt; = vec![0; size]; </span>
<span>+</span><span>         let bs: Vec&lt;f64&gt; = thread_rng().sample_iter(Standard).take(size).collect();</span>

          Net { ws, bs, ns }
      }

  }
</pre>
</div>

<p>
And a corresponding dependency in <code>Cargo.toml</code>:
</p>
<pre>[dependencies]
rand = "0.7.3"
</pre>

<p>
I admit being disappointed about having to use an external crate that
<i>does</i> have some magic, but RNGs are another black box to open and play
with for another day.
</p>
</div>
</div>

<div id="outline-container-org2965953">
<h3 id="org2965953">Evaluating a single point</h3>
<div id="text-org2965953">
<p>
Up next is evaluating the value predicted by the network at a single
point, which is a straight forward traversal through the network. I'm
going to use a leaky ReLU as my activation function, so I'll quickly
define it:
</p>

<div>
<pre><span>fn</span> <span>relu</span>(<span>v</span>: <span>f64</span>) -&gt; <span>f64</span> {
    <span>if</span> v &gt;= 0.0 {
        v
    } <span>else</span> {
        0.01 * v
    }
}
</pre>
</div>

<p>
First, I'm going to throw in several utility functions to access or
calculate values in different parts of the net ‚Äì in my first
implementation, I extracted these out after implementing back-prop,
but there's no harm in putting them up here first.
</p>

<div>
<pre><span>impl</span> <span>Net</span> {

    <span>/// Relu(w * input + b) for coordinates x, y, z with input val</span>
    <span>fn</span> <span>rwxb</span>(<span>self</span>: &amp;<span>Self</span>, <span>val</span>: <span>f64</span>, <span>x</span>: <span>usize</span>, <span>y</span>: <span>usize</span>, <span>z</span>: <span>usize</span>) -&gt; <span>f64</span> {
        relu(<span>self</span>.wxb(val, x, y, z))
    }

    <span>/// w * input + b for coordinates x, y, z with input val</span>
    <span>fn</span> <span>wxb</span>(<span>self</span>: &amp;<span>Self</span>, <span>val</span>: <span>f64</span>, <span>x</span>: <span>usize</span>, <span>y</span>: <span>usize</span>, <span>z</span>: <span>usize</span>) -&gt; <span>f64</span> {
        <span>self</span>.w(x, y, z) * val + <span>self</span>.b(x, y, z)
    }

    <span>fn</span> <span>w</span>(<span>self</span>: &amp;<span>Self</span>, <span>x</span>: <span>usize</span>, <span>y</span>: <span>usize</span>, <span>z</span>: <span>usize</span>) -&gt; <span>f64</span> {
        <span>self</span>.ws[<span>self</span>.pt(x, y, z)]
    }

    <span>fn</span> <span>b</span>(<span>self</span>: &amp;<span>Self</span>, <span>x</span>: <span>usize</span>, <span>y</span>: <span>usize</span>, <span>z</span>: <span>usize</span>) -&gt; <span>f64</span> {
        <span>self</span>.bs[<span>self</span>.pt(x, y, z)]
    }

}
</pre>
</div>

<p>
Iterating through the net and calculating values lends itself
comfortably to Rust's beautiful iterator/expression based system:
</p>

<div>
<pre><span>impl</span> <span>Net</span> {
    <span>pub</span> <span>fn</span> <span>eval</span>(<span>self</span>: &amp;<span>Self</span>, <span>val</span>: <span>f64</span>) -&gt; <span>f64</span> {
        relu(
            (0..<span>self</span>.ns)
                .map(|i| <span>self</span>.rwxb(<span>self</span>.rwxb(val, 0, i, 0), 1, 0, i))
                .sum(),
        )
    }
}
</pre>
</div>

<p>
If you look at the diagram, I need to calculate the values of the
individual neurons ‚Äì \(Relu(w * x + b)\) ‚Äì which can be expressed as
<code>rwxb(x, 0, i, 0)</code> with <code>x</code> as the input and <code>i</code> ranging from <code>0</code> to <code>ns</code>
(number of neurons).
</p>

<p>
Then, the value of y is the value of these neurons as inputs added up,
and passed through Relu <i>again</i>. Which  is exactly what the function
above does.
</p>

<p>
(I admit to messing up the naming convention a little bit with x
playing double duty as both the input and the first coordinate; I'll
try to clean this up later if I find anyone actually reading this post.)
</p>
</div>
</div>

<div id="outline-container-org016c8dc">
<h3 id="org016c8dc">Expenses</h3>
<div id="text-org016c8dc">
<p>
Keeping loss as simple as possible, I'm simply calculating it as \((y -
y')^2\) at a data point. The <i>cost</i>, or loss across a given set of data
is then the average of the total loss. The implementation is as
straightforward as you would expect, given data in the form of tuples.
</p>

<p>
This is yet another decision to play around with in the future with
alternative functions.
</p>

<div>
<pre><span>impl</span> <span>Net</span> {
    <span>pub</span> <span>fn</span> <span>cost</span>(<span>self</span>: &amp;<span>Self</span>, <span>data</span>: &amp;[(<span>f64</span>, <span>f64</span>)]) -&gt; <span>f64</span> {
        <span>let</span> <span>mut</span> <span>loss</span> = 0.0;
        <span>for</span> (x, y) <span>in</span> data {
            <span>let</span> <span>val</span> = <span>self</span>.eval(*x);
            loss += (y - val).powi(2);
        }
        loss / <span>self</span>.ns <span>as</span> <span>f64</span>
    }
}
</pre>
</div>
</div>
</div>

<div id="outline-container-org414d409">
<h3 id="org414d409"><a href="https://www.youtube.com/watch?v=_YYmfM2TfUA">Training!</a></h3>
<div id="text-org414d409">
<p>
Training involves calculating the cost for a given set of inputs,
determining the gradients of the cost for that set of inputs in terms
of all the weights and biases.
</p>

<p>
And then updating the weights and biases with the given learning rate
‚Äì which involves even more decisions and hyperparameters.
</p>
</div>
</div>

<div id="outline-container-org5642496">
<h3 id="org5642496">Determining the gradient</h3>
<div id="text-org5642496">
<p>
This was the hardest part of the whole exercise: packages like Pytorch
allow automating the gradient calculation ‚Äì by swapping out the
implementation of all the other mathematical functions, and
transparently converting that to the gradient with <code>autodiff</code>.
</p>

<p>
Instead of building a system to do ‚Ä¶</p></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://explog.in/notes/funnn.html">https://explog.in/notes/funnn.html</a></em></p>]]>
            </description>
            <link>https://explog.in/notes/funnn.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25486966</guid>
            <pubDate>Sun, 20 Dec 2020 15:40:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Virtual tour of Chauvet Cave, dating back as far as 36,500 years ago]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25486861">thread link</a>) | @parisianka
<br/>
December 20, 2020 | https://archeologie.culture.fr/chauvet/en/explore-cave/brunel-chamber-south | <a href="https://web.archive.org/web/*/https://archeologie.culture.fr/chauvet/en/explore-cave/brunel-chamber-south">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://archeologie.culture.fr/chauvet/en/explore-cave/brunel-chamber-south</link>
            <guid isPermaLink="false">hacker-news-small-sites-25486861</guid>
            <pubDate>Sun, 20 Dec 2020 15:28:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Convos: A Persistent Self-Hosted Web Client for IRC]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25486728">thread link</a>) | @crecker
<br/>
December 20, 2020 | https://serhack.me/articles/convos-web-client-persistent-irc/?h=1 | <a href="https://web.archive.org/web/*/https://serhack.me/articles/convos-web-client-persistent-irc/?h=1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><img src="https://serhack.me/images/convos/convos.png" alt="The IRC Client: Convos"></p><p>Throughout 2020, in large part due to the lockdown, many people have started to become familiar with internal communication tools. Microsoft Teams, Slack, Telegram, Mattermost, and a few others are the most widely used and recognizable of these tools, but there still seems to be some people using Internet Relay Chat (IRC) ‚Äï one of the first online messaging services.</p><p>Many of the widely used international communication tools have been inspired by IRC, which is gradually falling into disuse due to the modern UI and UX and additional features being offered by these more well-known messaging applications.</p><p>Despite IRC being considered archaic, it is still being used today as a meeting place for many online communities. For example, people who are nostalgic for the early days of the Internet and users of, and contributors to, open-source software projects make IRC a place for discussion ‚Äï where it is not the identity that defines who you are, but the content.</p><p>In this article, I will illustrate what IRC is and share with you a product that greatly enhances the IRC protocol by adding features that are common to modern messaging applications. If you are searching for a convenient, self-hosted solution to connect to IRC, then this article is for you.</p><p>In the following paragraphs, we will discuss:</p><ul><li>What the IRC communication protocol is;</li><li>Getting a persistent, always-online chat on IRC;</li><li>Convos, an alternative to IRCCloud and its features;</li><li>The installation of Convos on Debian/Ubuntu; and</li><li>Convos configuration.</li></ul><h2 id="the-irc-communication-protocol">The IRC Communication Protocol</h2><p>IRC is a service that facilitates online communication via messages based on the ‚Äúclient-server‚Äù model. In a more technical and precise way, IRC can be considered a network protocol (at the application level) that uses a network composed of servers to easily send messages to network participants.</p><p>Developed in 1988 by Jarkko Oikkarinen, a Finnish student who wanted to create a communication system that would enable real time discussions for a network at his university, IRC quickly expanded to the point where more than 200,000 users were connected every day.</p><p>To start exchanging messages, the user must first connect to the IRC network via a client (e.g., <a href="https://www.pidgin.im/">Pidgin</a>, mIRC), which then connects to the server closest to the user in order to ensure high-speed performance. There are several networks, such as <a href="https://freenode.net/">Freenode</a>, <a href="https://www.swiftirc.net/">Swift IRC</a>, <a href="http://www.ircnet.org/">IRCNet</a>, and <a href="https://www.quakenet.org/">QuakeNet</a>.</p><p>Within IRC, you log in with a nickname (ASCII characters). This allows you to be recognized by the network to which you have connected. To initial a conversation, there are two different ways: start <strong>a private chat</strong> with another user (query) or connect to a <strong>channel</strong>.</p><p>A channel is a dedicated place to chat with a group of users, without writing to each one separately. It might sound strange nowadays, but in the late 1980s and early 1990s, this was viewed as revolutionary and a game changer with regard to how people connected over the Internet. A channel is typically administered by users, called operators, with special privileges and the ability to turn people away and invite them, make the channel private (invisible to the network), set a password, and much more.</p><p>From a technical point of view, an IRC network, currently described by the standard <a href="http://www.faqs.org/rfc/rfc1459.txt">RFC 1459</a>, is composed of several nodes maintained by a centralized entity. When a user with a special client connects to one of the servers, the whole network must be informed about the presence of this client, replicating across all servers the following: nickname, name of the host from which the client has access to the Internet, and the name of the server to which this host is connected.</p><p>Regarding the nickname, you might wonder if another person could impersonate your nickname. The solution to this problem is to register your nickname with a password, so that (in the future) the server can ask you to identify yourself with the password. Here you can read about <a href="https://meta.wikimedia.org/wiki/IRC/Instructions">How to register your nickname on Freenode</a>.</p><p>As alluded to above, from a historical point of view, IRC represents a consolidated communication protocol that is still used today as a discussion environment for people who are nostalgic for the early days of the Internet and users of, and contributors to, open-source software projects. In a way, this has influenced the basic UI and UX of IRC. Today, this appreciation has gone well beyond these users, as IRC has inspired our modern day messaging applications. As an example, Slack is a sexier version of IRC ‚Äï dressed up with better UI and UX and having a few modernized features. At their core, though, IRC and today‚Äôs messaging applications are no different, as groups are the channels, queries are the private chats, and operators are the administrators.</p><p>If you would like to discover all the commands to better manage your own channel, I suggest you to read <a href="https://en.wikipedia.org/wiki/List_of_Internet_Relay_Chat_commands">the list of commands available on IRC</a>.</p><p>For a long time, IRC has been a gathering place for many communities, including Firefox, Bitcoin, Gnome, and many others. IRC has also been the site of many historic ‚Äújokes'' on the Internet. It would be remiss of me not to mention some of these most notable moments: <a href="http://bash.org/?244321">Hunter2</a>, <a href="http://bash.org/?5273">the guy who lost a device in his apartment</a>, and the timeless <a href="http://bash.org/?400459">‚Äúdoes anyone speak python here?"</a>.</p><figure><img src="https://imgs.xkcd.com/comics/team_chat.png"><figcaption><h4>IRC will never die (gently provided by XKCD)</h4></figcaption></figure><p>Arguably the biggest disadvantage of IRC is that you cannot always be connected to a specific server, unless you leave the client on all the time. Unlike normal messaging clients, you will not receive messages if you are not present on the IRC network. In fact, the remote nodes of IRC do not store any messages!</p><p>One of the solutions for this problem is to buy a <a href="https://en.wikipedia.org/wiki/Virtual_private_server">VPS</a> and manage the connection to IRC via a text client with a command line interface. However, this can be inconvenient on mobile devices and, specifically, for a person unfamiliar with the command line. To get around this problem, there is a free self-hosted alternative called Convos that allows you to connect via a web interface to IRC, but that‚Äôs not all!</p><h2 id="convoschat-the-solution-to-always-being-connected">Convos.chat: The Solution to Always Being Connected</h2><p><a href="https://convos.chat/">Convos</a> is an open-source, self-hosted client for connecting to IRC maintained by <a href="https://thorsen.pm/">Jan Henning Thorsen</a> and <a href="https://marcus.means.no/">Marcus</a>. The backend was developed with <a href="https://mojolicious.org/">Mojolicious</a>, a Perl framework, while the front-end used the Javascript framework <a href="https://svelte.dev/">Svelte</a>.</p><p>Developed in 2014, Convos has evolved into a very interesting project, despite being maintained by only one person. Among its main features, we find the persistent IRC connection that eliminates the risk of missing some important discussions! The user is connected as long as the Convos daemon is active and each message is stored in a log accessible only to the owner of the server.</p><p>Convos is one of the simplest ways to use IRC and it is always online, so initiating and staying in a discussion has never been easier. Its simple interface allows you to send messages on IRC from any device, be it a smartphone or a fridge ‚Äï you just need a browser. You can also choose a theme from those available or <a href="https://convos.chat/blog/2020/6/14/create-your-own-theme-detailed-walkthrough">write your own</a>. Another advantage of Convos is its self-hosted nature. There is no centralized third-party server (like with <a href="https://irccloud.com/">IRCCloud</a>) that stores your messages. With Convos, no one besides you will see your IRC messages and logs.</p><figure><img src="https://serhack.me/images/convos/screenshot.jpg"><figcaption><h4>Convos User Interface</h4></figcaption></figure><p>If you need to upload a file, but do not want to share it with third parties, Convos allows you to upload a file of any extension to your server. Drag and drop the file and Convos will do the rest, creating a unique link for you to share in order to access the file. Want to delete it? You can do it without any problem!</p><p><img src="https://serhack.me/images/convos/drag_and_drop.gif" alt="Drag and Drop per Convos"></p><p>For text files, it gets even better. All messages that will have more than four ‚Äúline breaks‚Äù will be uploaded to a personalized pastebin.</p><p>As we are all well aware, in 2020, having an <a href="https://unicode.org/emoji/charts/full-emoji-list.html">Emoji</a> available is a must! Just type <code>:emoji_name</code> to see the list of emojis available on Convos. Note that all <a href="https://unicode.org/">Unicode</a> characters are also compatible, so across smartphones there will be no problems. You can also add links and make <strong>bold</strong> and/or <em>italicize</em> your posts with <a href="https://www.markdownguide.org/">Markdown</a>.</p><p>Given that IRCCloud is a service (with similar features) that is both <strong>centralized</strong> and <strong>expensive</strong>, <a href="https://convos.chat/">Convos</a> is the leading free alternative. Over the past few years, IRCCloud‚Äôs infrastructure has suffered several periods of downtime, which has impacted many (if not all) its users. Unlike IRCCloud, the expenses and stability of running a private server for Convos is more cost-efficient and reliable, especially when compared to the pricing model (per user/per month) and the fragile nature of the IRCCloud infrastructure.</p><h3 id="how-to-start-chatting-with-convos">How to Start Chatting with Convos</h3><p>Installation and configuration of Convos is very simple and does not require any special knowledge of shell scripting. The developers have prepared a very convenient way to run script, so that you will be able to install the Web client quickly.</p><div><pre><code data-lang="bash">root@nodo#: curl https://convos.chat/install.sh | sh -</code></pre></div><p>Here is the <a href="https://convos.chat/install.sh">Script code</a>, if you want to view it. If the script did not show any problems, we can proceed by starting the Convos daemon:</p><div><pre><code data-lang="bash">root@nodo#: ./convos/script/convos daemon</code></pre></div><p>Launch your browser and enter <code>http://localhost:3000</code> to start chatting. There are no additional steps. You only have to choose the IRC network (e.g. Freenode) and Convos will do the rest!</p><p>Since you will be the first user, by default you will be set up as the Convos administrator. This will allow you to manage users, reset passwords as needed or create new ones, and set some <a href="https://convos.chat/doc/config#global-config-settings">global environment variables</a> as the default Convos connection.</p><p>You can change the listening port or IP address via the <a href="https://convos.chat/doc/config#listen"><code>--listen</code></a> flag; although, it is strongly recommended to run Convos behind a proxy server.</p><p>If you want to run Convos through a proxy server, I recommend you read the guide <a href="https://convos.chat/doc/reverse-proxy">‚ÄúHow to Run Convos Behind Your Favourite Server‚Äù</a>. A reverse proxy is a particular application that acts as an intermediary, in this case, between the client (the user) and the Convos daemon. It is useful if you want to have features such as SSL management, load balancing, compression, and ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://serhack.me/articles/convos-web-client-persistent-irc/?h=1">https://serhack.me/articles/convos-web-client-persistent-irc/?h=1</a></em></p>]]>
            </description>
            <link>https://serhack.me/articles/convos-web-client-persistent-irc/?h=1</link>
            <guid isPermaLink="false">hacker-news-small-sites-25486728</guid>
            <pubDate>Sun, 20 Dec 2020 15:13:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Project Gemini FAQ: Modern Gopher as Anti-Web]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25486665">thread link</a>) | @rendx
<br/>
December 20, 2020 | https://proxy.vulpes.one/gemini/gemini.circumlunar.space/docs/faq.gmi | <a href="https://web.archive.org/web/*/https://proxy.vulpes.one/gemini/gemini.circumlunar.space/docs/faq.gmi">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div><p>Please send corrections or suggestions for additional questions to</p><p>&lt;solderpunk@posteo.net&gt;</p><p>Gemini is a new application-level internet protocol for the distribution of arbitrary files, with some special consideration for serving a lightweight hypertext format which facilitates linking between files.  You may think of Gemini as "the web, stripped right back to its essence" or as "Gopher, souped up and modernised a little", depending upon your perspective.  Gemini may be of interest to people who are:</p><div><ul><li>Opposed to the web's ubiquitous user tracking</li><li>Tired of obnoxious adverts, autoplaying videos and other misfeatures</li><li>Interested in low-power computing and/or low-speed networks</li></ul></div><p>Gemini is intended to be simple, but not necessarily as simple as possible.  Instead, the design strives to maximise its "power to weight ratio", while keeping its weight within acceptable limits.  Gemini is also intended to be very privacy conscious, to be difficult to extend in the future (so that it will *stay* simple and privacy conscious), and to be compatible with a "do it yourself" computing ethos.  For this last reason, Gemini is technically very familiar and conservative: it's a protocol in the traditional client-server request-response paradigm, and is built on mature, standardised technology like URIs, MIME media types, and TLS.</p><div><p><span>###</span></p><h3>1.2 Whose fault is Gemini?</h3></div><p>Project Gemini was started by Solderpunk &lt;solderpunk@posteo.net&gt;, who remains Benevolent Dictator For Now.  However, the protocol has been designed in collaboration with a loose and informal community of interested parties via emails, phlog and Fediverse posts.  Many people have shaped significant parts of the protocol, so Gemini should not be thought of as the work of one person.</p><div><p><span>###</span></p><h3>1.3 Where can I learn more?</h3></div><p>The official home of Project Gemini is the gemini.circumlunar.space server.  It serves the latest version of this FAQ document, as well the protocol specification and recommended best practices via Gemini, Gopher and HTTPS, on IPv4 and IPv6.</p><p>Official discussion regarding Gemini happens on a mailing list.  You can subscribe to the list and view archives at https://lists.orbitalfox.eu/listinfo/gemini.  Archives can also be viewed over Gemini at gemini://rawtext.club:1965/~sloum/geminilist/.</p><p>Anybody who is running a Gemini server or implementing a Gemini client or server software is strongly encouraged to subscribe to the list.</p><p>Casual discussion regarding Gemini also happens in the #gemini channel on the tilde.chat IRC server.  IRC logs can be viewed over Gemini at gemini://makeworld.gq/cgi-bin/gemini-irc.</p><div><p><span>###</span></p><h3>1.4 Do you really think you can replace the web?</h3></div><p>Not for a minute!  Nor does anybody involved with Gemini want to destroy Gopherspace.  Gemini is not intended to replace either Gopher or the web, but to co-exist peacefully alongside them as one more option which people can freely choose to use if it suits them.  In the same way that many people currently serve the same content via gopher and the web, people will be able to "bihost" or "trihost" content on whichever combination of protocols they think offer the best match to their technical, philosophical and aesthetic requirements and those of their intended audience.</p><div><p><span>###</span></p><h3>1.5 What's with the name?</h3></div><p>It's a reference to the pre-shuttle era of US manned spaceflight, which consisted of three projects.  The first was Project Mercury, which was a fairly minimalist "proof of concept" and part of the race to put a human in space soonest (which the Soviet Union won with their Vostok project).  Mercury was a one-man capsule with no ability to adjust to its own orbit after launch and only one Mercury flight lasted longer than a single day.  The last was Project Apollo, which was large, heavy, complicated and expensive but could, of course, fly three men to the moon and back.</p><p>Less well known to the modern public, Project Gemini was the "middle child": a two person capsule which could rendezvous and dock with other craft in orbit, could be depressurised and repressurised in orbit to facilitate spacewalks, and whose longest flight was almost two weeks - longer than any Apollo mission!  In terms of size, weight and cost Gemini was much closer to Mercury than to Apollo, but in terms of capabilities it was the other way around - there were even plans (which never eventuated) to do circumlunar Gemini flights!</p><p>Hopefully the analogy is obvious: Gopher is akin to Mercury, and the web is akin to Apollo.  Gemini hopes to sit between the two, doing more with less.</p><p>Gemini very deliberately didn't receive a name which had *anything* to do with gophers, or other rodents, or even other animals.  During the earliest phlog-based discussions which eventually grew into Project Gemini, a lack of careful writing meant it was sometimes unclear whether people were talking about replacing Gopher outright, or adding unofficial, compatibility-breaking upgrades into existing Gopher clients and servers.  When idle discussion turned into an actual project, it seemed wise to send a clearer message.</p><div><p><span> ##</span></p><h2>2.1 What are the design criteria for Gemini?</h2></div><p>The following criteria were informally put in place at the beginning of the project.  It's debatable how closely some of these goals have been met, but in general Gemini is still quite close to this target.</p><p>In particular, Gemini strives for simplicity of client implementation.  Modern web browsers are so complicated that they can only be developed by very large and expensive projects.  This naturally leads to a very small number of near-monopoly browsers, which stifles innovation and diversity and allows the developers of these browsers to dictate the direction in which the web evolves.</p><p>Gemini aims to be simple, but not *too* simple.  Gopher is simpler at a protocol level, but as a consequence the client is eternally uncertain: what character encoding is this text in?  Is this text the intended content or an error message from the server?  What kind of file is this binary data?  Because of this, a robust Gopher client is made *less* simple by needing to infer or guess missing information.  Early Gemini discussion included three clear goals with regard to simplicity:</p><div><ul><li>It should be possible for somebody who had no part in designing the protocol to accurately hold the entire protocol spec in their head after reading a well-written description of it once or twice.</li><li>A basic but usable (not ultra-spartan) client should fit comfortably within 50 or so lines of code in a modern high-level language.  Certainly not more than 100.</li><li>A client comfortable for daily use which implements every single protocol feature should be a feasible weekend programming project for a single developer.</li></ul></div><p>It's debatable to what extent these goals have been met.  Experiments suggest that a very basic interactive client takes more like a minimum of 100 lines of code, and a comfortable fit and moderate feature completeness need more like 200 lines.  But Gemini still seems to be in the ballpark of these goals.</p><p>Gemini is designed with an acute awareness that the modern web is a privacy disaster, and that the internet is not a safe place for plaintext.  Things like browser fingerprinting and Etag-based "supercookies" are an important cautionary tale: user tracking can and will be snuck in via the backdoor using protocol features which were not designed to facilitate it.  Thus, protocol designers must not only avoid designing in tracking features (which is easy), but also assume active malicious intent and avoid designing anything which could be subverted to provide effective tracking.  This concern manifests as a deliberate non-extensibility in many parts of the Gemini protocol.</p><p>The "first class" application of Gemini is human consumption of predominantly written material - to facilitate something like gopherspace, or like "reasonable webspace" (e.g. something which is comfortably usable in Lynx or Dillo).  But, just like HTTP can be, and is, used for much, much more than serving HTML, Gemini should be able to be used for as many other purposes as possible without compromising the simplicity and privacy criteria above.  This means taking into account possible applications built around non-text files and non-human clients.</p><div><p><span> ##</span></p><h2>2.2 Which shortcomings of Gopher does Gemini overcome?</h2></div><p>Gemini allows for:</p><div><ul><li>Unambiguous use of arbitrary non-ASCII character sets.</li><li>Identifying binary content using MIME types instead of a small set of badly outdated item types.</li><li>Clearly distinguishing successful transactions from failed ones.</li><li>Linking to non-gopher resources via URLs without ugly hacks.</li><li>Redirects to prevent broken links when content moves or is rearranged.</li><li>Domain-based virtual hosting.</li></ul></div><p>Text in Gemini documents is wrapped by the client to fit the device's viewport, rather than being "hard wrapped" at ~80 characters with newline characters.  This means content displays equally well on phones, tablets, laptops and desktops.</p><p>Gemini does away with Gopher's strict directory / text dichotomy and lets you insert links in prose.</p><p>Gemini mandates the use of TLS encryption.</p><div><p><span> ##</span></p><h2>2.3 Is Gopher's directory / text dichotomy *really* a shortcoming?</h2></div><p>Modern usage habits in the phlogosphere would seem to suggest that many people think it is.  An increasing number of users are serving content which is almost entirely text as item type 1, so that they can insert a relatively small number of "in line" links to other gopher content, providing some semblance of HTML's hyperlinking - a perfectly reasonable and inoffensive thing to want to do.  Without taking this approach, the best Gopher content authors can do is to paste a list of URLs at the bottom of their document, for their readers to manually copy and paste into their client.  This is not exactly a pleasant user experience.  But forcing hyperlinks into Gopher this way isn't just an abuse of the semantics of the Gopher protocol, it's also a surprisingly inefficient way to serve text, because every single line has to have an item type of i and a phony selector, hostname and port ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://proxy.vulpes.one/gemini/gemini.circumlunar.space/docs/faq.gmi">https://proxy.vulpes.one/gemini/gemini.circumlunar.space/docs/faq.gmi</a></em></p>]]>
            </description>
            <link>https://proxy.vulpes.one/gemini/gemini.circumlunar.space/docs/faq.gmi</link>
            <guid isPermaLink="false">hacker-news-small-sites-25486665</guid>
            <pubDate>Sun, 20 Dec 2020 15:05:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bad News: Cold Weather Increases Fomite Spread of SARS-CoV-2]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25486663">thread link</a>) | @buddhacobbler
<br/>
December 20, 2020 | https://smosa.com/bad-news-cold-weather-will-help-the-spread-of-sars-cov-2/ | <a href="https://web.archive.org/web/*/https://smosa.com/bad-news-cold-weather-will-help-the-spread-of-sars-cov-2/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

					<!-- .post-header -->


					<div>
						<p>The holiday season is still not done delivering bad news. With ICUs at 0% capacity in some parts of the United States, Public health officials wonder if the seasonal change alone will affect the transmission of SARS-CoV-2. A recent research study has studied the influence of temperature and humidity on the properties of individual virus-likes.</p><blockquote>When it comes to fighting the spread of this virus, you kind of have to fight every particle individually. And so you need to understand what makes each individual particle degrade. People are also working on vaccines and are trying to understand how the virus is recognized? All of these questions are single particle questions. And if you understand that, then that enables you to fight a hoard of them.</blockquote><p>The results indicate cold weather could have a preserving effect on the virus. The first study to evaluate the mechanics of the virus at a single particle stage, found that other coronaviruses tend to infect more people during the winter months.</p><figure><img src="https://smosa.com/content/images/2020/12/Picture1.png" alt="" srcset="https://smosa.com/content/images/size/w600/2020/12/Picture1.png 600w, https://smosa.com/content/images/size/w1000/2020/12/Picture1.png 1000w, https://smosa.com/content/images/2020/12/Picture1.png 1302w" sizes="(min-width: 720px) 720px"><figcaption>Source: <a href="https://edition.cnn.com/interactive/2020/health/coronavirus-us-maps-and-cases/">CNN; Johns Hopkins University</a></figcaption></figure><p>"You would expect that temperature makes a huge difference, and that's what we saw. To the point where the packaging of the virus was completely destroyed by even moderate temperature increases," said Michael Vershinin, assistant professor at the University of Utah and co-senior author of the paper. "What's surprising is how little heat was needed to break them down -- surfaces that are warm to the touch, but not hot. The packaging of this virus is very sensitive to temperature."</p><figure><img src="https://images.unsplash.com/photo-1491002052546-bf38f186af56?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fHdpbnRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000" alt="Snowshoeing on a snowy day at Gold Creek Pond." srcset="https://images.unsplash.com/photo-1491002052546-bf38f186af56?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fHdpbnRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=600 600w, https://images.unsplash.com/photo-1491002052546-bf38f186af56?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fHdpbnRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1000 1000w, https://images.unsplash.com/photo-1491002052546-bf38f186af56?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fHdpbnRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1600 1600w, https://images.unsplash.com/photo-1491002052546-bf38f186af56?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fHdpbnRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2200 2200w" sizes="(min-width: 720px) 720px"><figcaption>Photo by <a href="https://unsplash.com/@sametomorrow?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Adam Chang</a> / <a href="https://unsplash.com/?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Unsplash</a></figcaption></figure><p>The SARS-CoV-2 virus is typically transmitted by spreading respiratory particles (e.g. sneezing or coughing), which ejects droplets of the microscopic aerosols from the lungs. These mucus droplets have a high volume-to-surface ratio and dry fast, so that wet and dry virus particles come in contact with a surface.</p><p>Scientists examined virus-like particles on both dry and humid glass surfaces. They found relatively little variation between humidity levels on the surfaces. But scientists point out that humidity potentially matters when the particles in the air by impacting how easily the aerosols dry out.</p>
					</div><!-- .post-content -->

					<!-- .post-footer -->


				</article></div>]]>
            </description>
            <link>https://smosa.com/bad-news-cold-weather-will-help-the-spread-of-sars-cov-2/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25486663</guid>
            <pubDate>Sun, 20 Dec 2020 15:04:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Improving Haskell (GHC) Error Messages]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25486629">thread link</a>) | @_query
<br/>
December 20, 2020 | https://ihp.digitallyinduced.com/ShowPost?postId=03e5a442-8b81-4b80-a000-29a3e7f10adf | <a href="https://web.archive.org/web/*/https://ihp.digitallyinduced.com/ShowPost?postId=03e5a442-8b81-4b80-a000-29a3e7f10adf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><em>by Marc Scholten, 20.12.2020</em></p>
<p>The quality of GHC's error messages is making it harder for newcomers to adopt Haskell. A good error message should be clear, actionable, and practical. In this aspect GHC could be a lot more user-friendly.</p>

<p>Here's an example related to type-level-list syntax that often comes up in the IHP community:</p>

<pre>action CreateUserAction = do
        let user = newRecord @User
        let password = param @Text "password"
        user
            |&gt; set #passwordHash password
            |&gt; fill @["email"]
            |&gt; validateField #email isEmail
            |&gt; validateField #passwordHash nonEmpty
            |&gt; debug
            |&gt; ifValid \case
            Left user -&gt;
                render NewView {..}
            Right user -&gt; do
                hashed &lt;- hashPassword (get #passwordHash user)
                user
                    |&gt; set #passwordHash hashed
                    |&gt; createRecord

                setSuccessMessage "You have successfully registered"
</pre>

<p>This code snippet errors with:</p>

<pre>Web/Controller/Users.hs:16:23
    * Expected a type, but `"email"' has kind `Symbol'
    * In the type `["email"]'
      In the second argument of `(|&gt;)', namely `fill @["email"]'
      In the first argument of `(|&gt;)', namely
        `user |&gt; set #passwordHash password |&gt; fill @["email"]'
   |
16 |             |&gt; fill @["email"]
   |                       ^^^^^^^
</pre>

<p>Unless you know about the type-level-list syntax issue with <code>'</code> you will most likely get stuck.</p>

<p>A better error message could offer a solution that will most likely help:</p>

<pre>Web/Controller/Users.hs:16:23
    * Type level lists with only a single element need a ' in front of the list. Prepend a ' like `'["email]' to get it working.
    * In the type `["email"]'
      In the second argument of `(|&gt;)', namely `fill @["email"]'
      In the first argument of `(|&gt;)', namely
        `user |&gt; set #passwordHash password |&gt; fill @["email"]'
   |
16 |             |&gt; fill @["email"]
   |                       ^^^^^^^
</pre>

<p><a href="https://github.com/digitallyinduced/ihp/issues/587" target="_blank">We've collected a couple more real-world issues on GitHub with possible better alternatives.</a></p>

<p><strong>I'd like to start a discussion in the larger haskell community on this so we can find a process on how we can improve this longterm.</strong> E.g. maybe we could have a central repository where haskell users could report bad and unclear error messages.
</p>

<p>There's <a href="https://github.com/haskell/rfcs">haskell/rfcs</a> for new GHC features, so why don't we have a repository like <code>haskell/ux</code> where we can collect ideas to improve existing features?</p>

<p><em>Let me know what you think about this <a href="https://github.com/digitallyinduced/ihp/issues/587">on GitHub</a> or Reddit.</em></p></div></div>]]>
            </description>
            <link>https://ihp.digitallyinduced.com/ShowPost?postId=03e5a442-8b81-4b80-a000-29a3e7f10adf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25486629</guid>
            <pubDate>Sun, 20 Dec 2020 15:01:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[From JavaScript to WebAssembly]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25486464">thread link</a>) | @tosh
<br/>
December 20, 2020 | https://engineering.q42.nl/webassembly/ | <a href="https://web.archive.org/web/*/https://engineering.q42.nl/webassembly/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://engineering.q42.nl/content/images/size/w300/2020/09/Going-From-JavaScript-to-WebAssembly-in-Three-Steps.png 300w,
                            https://engineering.q42.nl/content/images/size/w600/2020/09/Going-From-JavaScript-to-WebAssembly-in-Three-Steps.png 600w,
                            https://engineering.q42.nl/content/images/size/w1000/2020/09/Going-From-JavaScript-to-WebAssembly-in-Three-Steps.png 1000w,
                            https://engineering.q42.nl/content/images/size/w2000/2020/09/Going-From-JavaScript-to-WebAssembly-in-Three-Steps.png 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://engineering.q42.nl/content/images/size/w2000/2020/09/Going-From-JavaScript-to-WebAssembly-in-Three-Steps.png" alt="Going from JavaScript to WebAssembly in three steps">
            </figure>

            <section>
                <div>
                    <!--kg-card-begin: markdown--><p>Hi! I'm Marcel, web developer at <a href="https://www.q42.com/">Q42</a> and creator of the <a href="https://micr.io/">Micrio storytelling platform</a>.</p>
<p>In 2015, I started developing a JavaScript viewer for ultra high resolution 2D and 360¬∞ images with added markers, tours, audio, and more. Since then, I've been pushing to find the best balance between hardware performance, minimal CPU and bandwidth use, and compatibility for older browsers to deliver a sharp and high quality viewing experience.</p>
<p>For Micrio, it is vital that the performance on the client's browser is as good as possible. The reason for this is very simple: when you are being told a story, or watching a movie, even <em>a single frameskip</em> immediately takes you out of your experience.</p>
<p>Since Micrio is being used for an <a href="https://micr.io/showcases">ever growing list</a> of awesome projects, the most important thing is that for whoever visits a Micrio project, it must work, and <em>work well</em>: delivering fast load times, and a butter smooth interactive experience.</p>
<p><a href="https://webassembly.org/">WebAssembly</a> (Wasm) is the ability for your browser to run <em>compiled</em> code at (near-) native speeds. It is now recognised by the W3C as the <a href="https://www.w3.org/2019/12/pressrelease-wasm-rec.html.en">4th official web programming language</a>, after HTML, CSS and JavaScript.</p>
<p>With it, you can run compiled code written in a variety of programming languages (C/C++, Rust, Go, AssemblyScript, <a href="https://github.com/appcypher/awesome-wasm-langs">and many more</a>) in your browser, without any need for plugins.</p>
<p>Finding out about Wasm in late 2019 really made me want to try it out. Could I use this tech to make the Micrio client run smoother than the current version does? Would I need to rewrite everything in C++, and if so, how would that work? Would the effort be worth the gains it would give me? And not in the least.. <em>how does it work!?</em></p>
<p>This article describes my journey from upgrading the Micrio <strong>JavaScript-only client to use WebAssembly</strong>, with the hopes of improving performance, and taking my code to the next level.</p>
<h3 id="thecurrentversion">The current version</h3>
<p>To give a rough idea about the tech stack of the current latest JS-only revision of Micrio (<a href="https://b.micr.io/micrio-2.9.min.js">version 2.9</a>): This library as a single JS file works on all semi-modern browsers, including even Internet Explorer 10 for 2D, and IE 11 for 360¬∞ images.</p>
<p>It uses Canvas2D for the rendering of 2D images, and <a href="https://threejs.org/">three.js</a>/WebGL rendering for 360¬∞ images. Written in <a href="https://caniuse.com/#search=es6">ES6 JavaScript</a> (or ECMAScript 6, the latest version of JavaScript), it still <a href="https://developers.google.com/closure/compiler">compiles</a> to ES5 to support Internet Explorer 11.</p>
<p>As you can imagine, displaying a <a href="https://micr.io/i/xCSYV/">231.250 x 193.750 pixel image</a> in your browser in a matter of milliseconds, allowing the user to freely zoom in and navigate, requires a little bit of processing power.</p>
<p>Now, Micrio 2.9 <em>isn't bad</em>. It runs pretty smoothly on all devices. But with WebAssembly around the corner, allowing all calculations to be done at native CPU speeds, this could potentially make a big difference in making Micrio's performance even better, and could improve the code architecture a lot.</p>
<p>And, perhaps, this could also mark the setup for a new major version, where I will draw a clear line and drop all compatibility and polyfills for older browsers: <strong>Micrio 3.0</strong>.</p>
<h2 id="firstrewritecandemscripten">First Rewrite: C++ and emscripten</h2>
<p>As a first step into the world of WebAssembly, getting to know the ecosystem, I started to play around with <a href="https://emscripten.org/">emscripten</a>. With it, you can take almost any project made in C or C++, and compile it to a binary <code>.wasm</code> file that your browser can natively run.</p>
<p>At this point, I didn't really have a clear image of where WebAssembly starts and ends, and how autonomously it could run inside your browser. So I started a new project from scratch to see if I could make a C++-implementation of the basic Micrio logic: a virtual <em>zoomable</em> and <em>pannable</em> image consisting of a lot of separate tiles, using a virtual camera for displaying only the tiles necessary for what the user is viewing inside your screen.</p>
<p>It turns out, emscripten already had great compatibility for <a href="https://www.libsdl.org/">libsdl</a>: a low-level audio, keyboard/mouse input, and OpenGL library. Which is awesome, because I could write my code using this very well documented library, even including mouse and key inputs and WebGL rendering. Since I was also working with downloading images, I also used the <a href="https://github.com/nothings/stb">stb_image.h</a> image library.</p>
<p><img src="https://raw.githubusercontent.com/marcelduin/Micrio.Blogpost.wasm-v3/master/img/cpp.png" alt="Setting up SDL and OpenGL" title="C++ in the 21st century"></p>
<p>The largest struggle of this was picking up C++ again, never having used it outside of hobby scope many years ago. But after a few days of cursing and second guessing myself, I had a working first version with all of the most important features written with help of the SDL library:</p>
<ul>
<li>A virtual camera and all necessary viewing logic;</li>
<li>Image tiles downloading;</li>
<li>Rendering using WebGL(/OpenGL) using a simple shader;</li>
<li>Mouse event handling for panning and zooming the image;</li>
<li>Resize event handling to fit Micrio to the desired <code>&lt;canvas&gt;</code> HTML element</li>
</ul>
<p>You can see this version running here: <a href="https://b.micr.io/_test/wasm/index.html">https://b.micr.io/_test/wasm/index.html</a> :</p>
<p><a href="https://b.micr.io/_test/wasm/index.html"><img src="https://raw.githubusercontent.com/marcelduin/Micrio.Blogpost.wasm-v3/master/img/emscripten.png" alt="Micrio in native C++"></a></p>
<h3 id="firstresults">First Results</h3>
<p>As incredibly awesome it was to see Micrio in C++ running smoothly in my browser, and even handing all the user's input, there were a few reservations, which left me with an unsatisfied feeling.</p>
<h4 id="1codingcfeltoldfashioned">1. Coding C++ felt old-fashioned</h4>
<p>Writing C++ felt like going back in time. Incredibly powerful and fully proven, but also archaic, especially for me as a web developer. I spent more time fiddling with making an optimized <code>Makefile</code> than I care to admit.</p>
<p><img src="https://raw.githubusercontent.com/marcelduin/Micrio.Blogpost.wasm-v3/master/img/makefile.png" alt="The emscripten C++ Makefile" title="( Õ°¬∞ Õú ñ Õ°¬∞)"></p>
<h4 id="2thecompiledwasmbinarywasverylarge">2. The compiled <code>.wasm</code> binary was very large</h4>
<p>As great as the help of <code>libsdl</code> and <code>stb_image.h</code> were to let me use OpenGL and JPG image functions, as much did they add to the final compiled binary file. Even with all <code>emcc</code> compiler optimizations (which can even use the awesome <code>closure</code> JS compiler), the resulting WebAssembly binary file was 760KB. Compared to the JavaScript version of Micrio being around 240KB, this was a major setback. These libraries packed a lot of functionalities that were not necessary for Micrio, but were still included in the compiled version.</p>
<h4 id="3tilagluefile">3. TIL: A <em>glue</em> file</h4>
<p>This is the part where I learnt where the limits of WebAssembly start and finish. <strong>WebAssembly is not a magical self-contained binary that lets you run full applications out of the box</strong>. It actually needs to be <em>bound</em> to the browser using JavaScript.</p>
<p><img src="https://raw.githubusercontent.com/marcelduin/Micrio.Blogpost.wasm-v3/master/img/glued.png" alt="glue clipart"><br>
<small><a href="http://www.clker.com/clipart-13445.html">Image source</a></small></p>
<p>Where I thought that all the SDL OpenGL code in C++ would automagically be recognised by the browser: <em>wrong</em>. What <code>emscripten</code> does, is to take all OpenGL operations from C++, and <em>convert them</em> to WebGL operations your browser can understand.</p>
<p>Same with the <code>libsdl</code> mouse and keyboard-inputs: these were <strong>glued</strong> to the browser using an extra JavaScript file that would set event listeners for the specific cases, and send them to the WebAssembly binary. This separate JavaScript file was generated by the emscripten compiler, and had to be included in the HTML alongside the compiled binary <code>.wasm</code> file.</p>
<p>Everything added together, the new total of the <em>base engine</em> of Micrio was a whopping <strong>791KB</strong>; a bit too much for my liking.</p>
<h2 id="secondrewriteassemblyscript">Second Rewrite: AssemblyScript</h2>
<p>Fast forward a few months, to just after having attended the awesome <a href="https://webassembly-summit.org/">WebAssembly Summit</a> in Mountain View in February 2020. With a bundle of fresh energy and inspiration, I decided to see if I could use WebAssembly to improve the Micrio JavaScript client a second time.</p>
<p>During the WebAssembly conference, I was very impressed by a <a href="https://www.youtube.com/watch?v=C8j_ieOm4vE">synth demo</a> written in <strong><a href="https://www.assemblyscript.org/">AssemblyScript</a></strong>, a language created specifically for WebAssembly, using the TypeScript syntax. Basically you can write (near) TypeScript, which compiles to a <code>.wasm</code>-binary. So anyone familiar with either TypeScript or JavaScript ES6 will not have a lot of difficulties using it.</p>
<p>And the great thing-- it's all installed using <code>npm</code>, so <a href="https://www.assemblyscript.org/quick-start.html">getting it up and running</a> and compiling your program is super easy!</p>
<p>There are a few basic <a href="https://www.assemblyscript.org/types.html"><code>types</code> added in AssemblyScript</a>, which are required for compile-time optimizations:</p>
<ul>
<li><code>f64</code> / <code>f32</code> : For 64 or 32-bit floats;</li>
<li><code>i8</code> / <code>i16</code> / <code>i32</code> / <code>i64</code> : For signed <code>int</code>s, ranging in precision</li>
<li><code>u8</code> .. <code>u64</code> : For unsigned <code>int</code>s</li>
<li><a href="https://www.assemblyscript.org/types.html">And a few more</a></li>
</ul>
<h3 id="goingatomic">Going atomic</h3>
<p>This time, I wanted to see if it was possible to only let a small part of Micrio run inside WebAssembly, and still use most of the JavaScript that was already inside the client. <em>How small can we get it?</em> I decided to focus on a subset of camera functions, such as translating screen coordinates to image coordinates and vice versa. So this time no rendering, event handling, or writing shaders.</p>
<p><img src="https://raw.githubusercontent.com/marcelduin/Micrio.Blogpost.wasm-v3/master/img/assemblyscript.png" alt="Simple camera functions in AssemblyScript" title="My First AssemblyScript"><br>
<small><em>Simple camera functions in AssemblyScript</em></small></p>
<p>The result: a 3KB binary containing some basic math functions, that take an input and return an output. AssemblyScript offers some <em>glue-tooling</em> by providing its own <a href="https://www.assemblyscript.org/loader.html">Loader</a>, which will deal with importing the binary file and being able to call these functions.</p>
<p>However, this is optional and I ended up using the JavaScript <a href="https://developer.mozilla.org/en-US/docs/WebAssembly/Using_the_JavaScript_API">WebAssembly API</a>, <em>neat</em>. And it turns out, this is super easy: simply use the <code>fetch</code> API to load your compiled <code>.wasm</code> file, cast it as an <code>ArrayBuffer</code>, and use the <code>WebAssembly.instantiate()</code> function to get it up and running.</p>
<p><img src="https://raw.githubusercontent.com/marcelduin/Micrio.Blogpost.wasm-v3/master/img/instantiate.png" alt="Loading a wasm file" title="Gluing it yourself"></p>
<p>The compiled binary will then offer an <code>exports</code> object, containing the functions that you have exported in the AssemblyScript file, which you can immediately call from JavaScript as if they were normal functions.</p>
<p>Wait.. "<em>which you can immediately call from JavaScript as if they were normal functions</em>"...</p>
<p><strong>WebAssembly is running synchronously to JavaScript!</strong> ü§Ø</p>
<p>Having worked with WebWorkers before, I honestly thought that WebAssembly would run inside its own CPU thread, and that any function calls would be <code>async</code>. Nope, the Wasm-functions you call will return immediately!</p>
<p><a href="https://www.assemblyscript.org/exports-and-imports.html#exports"><em>This is, like, powerful stuff</em>!</a></p>
<h3 id="bundlingthecompiledwasminsidethejsfile">Bundling the compiled Wasm inside the JS file</h3>
<p>Since I now had some extra performing hands on deck for Micrio that was very easy to integrate, I decided to include this minimal WebAssembly binary in the then-stable release of Micrio (2.9).</p>
<p>However, I didn't want an extra HTTP request for the Wasm binary every time someone loaded the Micrio JS. So I included a <code>base64</code> encoded version of the Wasm-file <em>inside</em> the Micrio JS, and for browsers that support it, auto-loaded that. As a ‚Ä¶</p></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://engineering.q42.nl/webassembly/">https://engineering.q42.nl/webassembly/</a></em></p>]]>
            </description>
            <link>https://engineering.q42.nl/webassembly/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25486464</guid>
            <pubDate>Sun, 20 Dec 2020 14:38:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Posenet Fruit Ninja in the Browser (Tensorflow.js and Posenet)]]>
            </title>
            <description>
<![CDATA[
Score 45 | Comments 16 (<a href="https://news.ycombinator.com/item?id=25486322">thread link</a>) | @liuxiaopai
<br/>
December 20, 2020 | https://huhai463127310.github.io/posenet_fruit_ninja/ | <a href="https://web.archive.org/web/*/https://huhai463127310.github.io/posenet_fruit_ninja/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p>‰øùËØÅÊëÑÂÉèÂ§¥Â§Ñ‰∫éÊú™Á¶ÅÁî®Áä∂ÊÄÅÔºåÊ≠£ÂØπÊëÑÂÉèÂ§¥Á´ôÁ´ãÔºå‰øùËØÅÂ∑¶‰∏äËßíÊëÑÂÉèÂ§¥Á™óÂè£ÂèØÁúãËßÅ‰Ω†ÁöÑ‰∏äÂçäË∫´ÔºåÊå•ËàûÊâãËáÇÔºåÂàíÊéâNew Game„ÄÇ</p>
        <p>Êå•Ëàû‰Ω†ÁöÑÊâãÔºÅÊå•Ëàû‰Ω†ÁöÑÊâãÔºÅÊå•Ëàû‰Ω†ÁöÑÊâãÔºÅ</p>
    </div></div>]]>
            </description>
            <link>https://huhai463127310.github.io/posenet_fruit_ninja/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25486322</guid>
            <pubDate>Sun, 20 Dec 2020 14:17:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Commutation and Scalability]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25486202">thread link</a>) | @gbrown_
<br/>
December 20, 2020 | https://pijul.org/posts/2020-12-19-partials/ | <a href="https://web.archive.org/web/*/https://pijul.org/posts/2020-12-19-partials/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>


<p>Sunday, December 20, 2020</p>
<p>I just finished the implementation of an important feature of Pijul: clones, pushes and pulls on partial repositories. In this post, I explain why this matters.</p>
<h2 id="change-commutation">Change commutation</h2>
<p>Pijul is based on <em>changes</em>, also called <em>patches</em> or <em>diffs</em>.
This doesn‚Äôt mean that its only internal datastructure is patches, quite to the contrary: it was only by departing from a patch-only internal representation that we were able to solve the algorithmic challenges inherent to patch-based systems.</p>
<p>However, being change-based does mean that the core operations of Pijul are defined on changes, and that Pijul is designed in such a way that changes satisfy basic intuitive properties, similar to algebraic operations. One basic thing is that applying a change is an <em>associative</em> operation, like matrix multiplication: applying $A$ and $B$ at once, and then later $C$, is the same as applying $A$, and then $B$ and $C$ at once. In matrix multiplication, $(AB)C = A(BC)$. Moreover, in Pijul, all changes are invertible (whereas only some matrices are): for any change $A$, there is an ‚Äúinverse change‚Äù $A^{-1}$ such that applying $A^{-1}$ after $A$ is the same as applying neither. Of course, both $A$ and $A^{-1}$ will appear in the log, but the contents of the repository will be the same as applying neither $A$ nor $A^{-1}$.</p>
<p>There is another property that users want from version control systems, and that is <strong>commutation</strong>.
Matrix multiplication rarely commutes<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup>.
In Git, commutation is usually <em>simulated</em> using branches and rebase: indeed, rebasing a branch A on top of another branch B really means commuting the commits of A since the divergence between A and B, and the commits of B since the divergence. However, that commutation isn‚Äôt perfect, since the commits must change their hash when rebased.</p>
<p>Things are simpler in Pijul, because any two changes that <em>could have been written independently</em> always commute, meaning that if the two changes could be written without knowledge of each other, they can be applied in any order.</p>
<p>This of course raises a potential concern:</p>
<blockquote>
<p>If I can apply $A$ and $B$ in any order, how do I know which order is the <strong>right</strong> one?</p>
</blockquote>
<p>In Pijul, this question <strong>does not matter</strong>: both orders will yield <strong>the exact same result</strong>, the only difference is that the log will list the changes in the order in which they were applied. And I‚Äôm not saying that it doesn‚Äôt matter because I‚Äôm careless, but because it truly is the same thing.</p>
<blockquote>
<p>I disagree: it does matter, I still prefer to have a ‚Äú<em>linear</em>‚Äù order for my changes/commits.</p>
</blockquote>
<p>Indeed, everybody wants to see the order of operations in a repository, for many reasons. For example:</p>
<ul>
<li>We want to keep a record of the operations performed on our repository.</li>
<li>We want to go back in time.</li>
</ul>
<p>And in fact, Pijul allows you to do exactly that, but in a more rigorous way than Git. Indeed, take the scenario where Alice and Bob work together, Alice makes a change $A$ while Bob makes $B$. When they put their work together, Alice applies Bob‚Äôs change, resulting in the log $AB$, while Bob applies Alice‚Äôs change, resulting in the log $BA$. In this case, there is no ‚Äútrue‚Äù linear history, since they worked on different things, and took different steps at different times. However, both of them want to be able to go back in time, step-by-step, and not just ‚Äú<em>step-by-step-according-to-Bob‚Äôs-order</em>‚Äù.</p>
<h2 id="commutation-and-massive-repositories">Commutation and massive repositories</h2>
<p>One of the biggest challenge for Pijul up to the recent releases was scalability: even modestly-sized repositories like Pijul‚Äôs source code would use a lot of disk space. This was even more disappointing since, as I‚Äôm about to explain, commutation was suposed to allow it to scale to gigantic repository sizes‚Ä¶ in theory. The same problem also made massive tests impossible, meaning that getting past the ‚Äú0.x releases‚Äù seemed more and more impossible as time passed.</p>
<p>Now that this phase is mostly behind us, the cool bits of the theory finally become practical.</p>
<p>In particular, in Pijul, each change contains a reference to the files it modifies. Note that, because we want operations on repositories (such as renaming files) to commute with edits inside files, we don‚Äôt identify files and directories by name, but by a unique identifier made from the hash of the change that introduced that file or directory.</p>
<p>For repositories with multiple projects, this makes it possible to clone and pull just parts of a repository, and work on that part as if we had the entire thing. Indeed, imagine we have a repository with the following log:</p>
<ol>
<li>A, adding file <em>x</em></li>
<li>B, editing <em>x</em></li>
<li>C, adding file <em>y</em></li>
<li>D, adding file <em>z</em></li>
<li>E, renaming <em>x</em> to <em>w</em></li>
<li>F, editing <em>y</em> and <em>z</em></li>
</ol>
<p>All these changes do not necessarily commute; however, since B and C touch completely different files (namely, <em>x</em> and <em>y</em>), they could be produced in parallel, and hence they commute. This means that we can pull only the changes related to a specific file, say <em>x</em>, and make the following history: A, B, E<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup>.</p>
<p>Moreover, any change made on top of that sequence will commute with C, D and F: indeed, if we edit file <em>x</em> again, producing a change G, then since G can be made in parallel to C, D and F, we can push G after any patch that comes after B in that history, for example getting history ‚ÄúABCDEFG‚Äù.</p>
<p>Note that this is done without changing the changes nor their hash.</p>
<h2 id="another-trick-for-large-files">Another trick for large files</h2>
<p>As explained in previous posts on this blog, Pijul changes have a bit more information than diffs, and operate on graphs rather than files. This means that changes can be split into two parts, a short-ish one with a binary specification of the graph operations, and then the new content inserted by the change.</p>
<p>The change format is designed to be downloadable in two stages: one can download the operations without downloading the contents. One issue with this is security: if we don‚Äôt download the contents, how can we make sure that the hash is right? This is done by including a hash of the change in the ‚Äúoperations‚Äù section of the change, and letting the hash of a change be the hash of the ‚Äúoperations‚Äù section.</p>
<p>This makes it possible for someone to make five versions of a large binary file in a day, where each change deletes the entire file, and adds it again, the operation sections only contain the length of the different versions, not the actual bytes. In order to get the latest version of the file, a client will therefore only have to download the latest change completely, and only the operations section of the previous ones.</p>
<p>Note that this makes the following ‚Äúattack‚Äù possible: a server might trick a client into believing that the server has a change with hash $A$, which inserts $n$ bytes into a file, and then another change with hash $B$, deleting all these bytes. When the client downloads $A$ and $B$, it doesn‚Äôt need to download the contents. However, if the client later decides to unrecord $B$, the contents of $A$ will have to be downloaded, and the client will be able to tell that the hash of $A$ was incorrect. This should make it impossible to unrecord $B$ without also unrecording $A$. However, if $A$ made other edits, and other changes depend on $A$, this could be problematic.</p>
<h2 id="what-is-next">What is next?</h2>
<p>There is one remaining painpoint for very large repositories, and this is the fact that in order to clone a repository with a very large history, one must download and apply all the changes, one by one. Even though our apply function is quite fast<sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup>, this can still be problematic for dozens or hundreds of thousands of changes.</p>
<p>In my next post, I will talk about a solution to this problem, which I have started to implement.</p>
<section role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>Matrices that are simultaneously diagonalizable do, for example, but for two arbitrary matrices $A$ and $B$, $AB$ is often different from $BA$. <a href="#fnref:1" role="doc-backlink">‚Ü©Ô∏é</a></p>
</li>
<li id="fn:2" role="doc-endnote">
<p>Note that in this case, we could also pull A, E, B, since renaming a file commutes with editing it. However, we must start with A, since adding a file could not be possibly done in parallel to editing or renaming it. <a href="#fnref:2" role="doc-backlink">‚Ü©Ô∏é</a></p>
</li>
<li id="fn:3" role="doc-endnote">
<p>The complexity of apply is in $O(|p| |c| \log |H|)$, where $|p|$ is the size of the change, $|c|$ is the size of the largest conflict in which $p$ is involved, and $|H|$ is the number of edits made since the start of the repository. <a href="#fnref:3" role="doc-backlink">‚Ü©Ô∏é</a></p>
</li>
</ol>
</section>
</div></div>]]>
            </description>
            <link>https://pijul.org/posts/2020-12-19-partials/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25486202</guid>
            <pubDate>Sun, 20 Dec 2020 13:53:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Where to put your server, in a private or public subnet?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25486125">thread link</a>) | @lmarcos
<br/>
December 20, 2020 | https://bits.theorem.co/where-to-put-your-server-in-a-private-or-public-subnet/ | <a href="https://web.archive.org/web/*/https://bits.theorem.co/where-to-put-your-server-in-a-private-or-public-subnet/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
      <article itemscope="" itemtype="http://schema.org/BlogPosting">
  

  <meta content="https://bits.theorem.co/where-to-put-your-server-in-a-private-or-public-subnet/" itemprop="url">

  <div itemprop="articleBody">
    <p>Where should you put your server? If it is a web server probably in a public subnet. Wrong!</p>

<p><em>This article was originally <a href="https://medium.com/the-passionate-craftsman-blog/where-to-put-your-server-in-a-private-or-public-subnet-ab1fa971269c#.xzvzycv5c">posted on Medium</a></em></p>

<h2 id="what-a-developer-would-do">What a developer would do</h2>

<p>Usually web developers run a server in a provider like Linode, they install the stack they need, and they deploy the code. This has serious implications regarding security: that server is exposed to the Internet and it is vulnerable. If you have a small budget and you have a small web app, probably it is the only way to go, although you should, at least, harden the server and set up the firewall (iptables if you are using Linux).</p>

<p>However, if you need HA, security, and scalability, you cannot just use one server. In this case, you will have at least a private and a public subnet. Even better, you should have a public subnet, a private subnet for your webservers and another private subnet for your DBMS, which would be a multi-tiered architecture. So which server goes where? You should put as many servers as you can in the private subnet unless you are really forced to put it in the public subnet.</p>

<h2 id="a-short-list-of-rules-to-help-you">A short list of rules to help you</h2>

<p>Here is a short list of rules you should use when deciding where to put a server:</p>

<ul>
  <li>Is the server needed to manage other servers? If yes, then it should go in the public subnet, because you will need to connect to that server first, via the Internet, then connect to the server you want to manage. A bastion server is a good example (OpenSHH server).</li>
  <li>Does the server provide a network service? If it is a load balancer, a NAT server, a Proxy, a VPN server, they should be in the public subnet, they all need access to the Internet, a direct access.</li>
  <li>Does the server need to replicate data in another DC? It should go in the private subnet and it should replicate via a VPN, a site-to-site connection. You want to send your data via an encrypted tunnel, and you want to make sure that only certain data will be allowed in your tunnel, by using AWS NACLs or a firewall.</li>
  <li>Does your server need to connect to external servers? If yes, you can put your server in the private subnet and route requests to the Internet (CIDR 0.0.0.0/0) to a NAT server, or NAT Gateway if you are using AWS.</li>
  <li>Do you have a load balancer which has to balance traffic coming from Internet and redirect the traffic to web servers in the public subnets? It should stay in the public subnet.</li>
  <li>Do you have a WAF, Web Application Firewall? Put it in the public subnet like the load balancer.</li>
  <li>Do you have a load balancer that is receiving traffic not from the Internet? It is an internal load balancer and it should stay in a private subnet.</li>
</ul>

<h2 id="an-example">An example</h2>

<p>In the following diagram you can see how you could replicate the database state to a corporate network. Web servers are in the public subnet, but it would be netter to move then in the private subnet and receive web traffic via an ELB (Elastic Load Balancer).</p>

<p><img src="https://bits.theorem.co/images/posts/aws-diagram-vpn-with-public-web-servers.png" alt="AWS network diagram" title="AWS network diagram"></p>

  </div>

  
</article>

      


    </div></div>]]>
            </description>
            <link>https://bits.theorem.co/where-to-put-your-server-in-a-private-or-public-subnet/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25486125</guid>
            <pubDate>Sun, 20 Dec 2020 13:39:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Understanding how AES encryption works]]>
            </title>
            <description>
<![CDATA[
Score 128 | Comments 38 (<a href="https://news.ycombinator.com/item?id=25486017">thread link</a>) | @nakabonne
<br/>
December 20, 2020 | https://nakabonne.dev/posts/understanding-how-aes-encryption-works/ | <a href="https://web.archive.org/web/*/https://nakabonne.dev/posts/understanding-how-aes-encryption-works/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p>I recently had the opportunity to encrypt/decrypt stuff using AES, but I didn‚Äôt know it inside out well. I couldn‚Äôt help but be curious about how it is working, and I realized my mind could only be satisfied by digging deeper into its implementation.
This post walks you through how AES encryption works by reading core implementation written in Go.</p>
<h2 id="what-is-aes-encryption">What is AES encryption?</h2>
<p>The Advanced Encryption Standard (AES) is a symmetric block cipher, an alternative to the DES. Cryptographers from around the world proposed algorithms, from which the Rijndael algorithm was selected in 2000. Hence we‚Äôll take a look the implementation of this Rijndael.</p>
<h2 id="rijndael">Rijndael</h2>
<p>Rijndael is a block cipher algorithm. A block cipher is a cryptographic algorithm that processes a specific number of bits at a time.
The number of bits (called block length) to be processed at a time depends on the algorithm, AES is 128-bits (16-bytes). Most plaintext we encrypt is longer than this block length, so we typically use this block cipher algorithm repeatedly.
Keep in mind this post goes into some details on only on one block‚Äôs process to focus more on the core algorithm.</p>
<h2 id="digging-deeper-into-the-implementation">Digging deeper into the implementation</h2>
<p>The Go language officially provides the <a href="https://golang.org/pkg/crypto/aes/">crypto/aes</a> package, which makes use of Go Assembly to leverage Intel‚Äôs hardware support for AES if it‚Äôs built for amd64.
It otherwise uses the implementation written in pure Go. Let‚Äôs take a look at the pure Go implementation that the human mind relatively can work in.</p>
<p>The public method <code>aesCipher.Encrypt</code> defined in <a href="https://github.com/golang/go/blob/55b58018f41e6de63bdaa8f3d9a284077d4e88c1/src/crypto/aes/cipher.go#L54-L65">aes/cipher.go</a> looks to implement a block cipher:</p>
<div><pre><code data-lang="go"><span>// The AES block size in bytes.
</span><span></span><span>const</span> <span>BlockSize</span> = <span>16</span>

<span>func</span> (<span>c</span> <span>*</span><span>aesCipher</span>) <span>Encrypt</span>(<span>dst</span>, <span>src</span> []<span>byte</span>) {
	<span>if</span> len(<span>src</span>) &lt; <span>BlockSize</span> {
		panic(<span>"crypto/aes: input not full block"</span>)
	}
	<span>if</span> len(<span>dst</span>) &lt; <span>BlockSize</span> {
		panic(<span>"crypto/aes: output not full block"</span>)
	}
	<span>if</span> <span>subtle</span>.<span>InexactOverlap</span>(<span>dst</span>[:<span>BlockSize</span>], <span>src</span>[:<span>BlockSize</span>]) {
		panic(<span>"crypto/aes: invalid buffer overlap"</span>)
	}
	<span>encryptBlockGo</span>(<span>c</span>.<span>enc</span>, <span>dst</span>, <span>src</span>)
}
</code></pre></div><p>This method does the two validations that check if:</p>
<ul>
<li>the given plaintext is equal to 16-bytes, the block length of AES</li>
<li><code>dst</code> and <code>src</code> share memory at any index</li>
</ul>
<p>It seems to leave the core implementation to <code>encryptBlockGo</code> defined in <a href="https://github.com/golang/go/blob/55b58018f41e6de63bdaa8f3d9a284077d4e88c1/src/crypto/aes/block.go#L43-L87">aes/block.go</a>:</p>
<div><pre><code data-lang="go"><span>// Encrypt one block from src into dst, using the expanded key xk.
</span><span></span><span>func</span> <span>encryptBlockGo</span>(<span>xk</span> []<span>uint32</span>, <span>dst</span>, <span>src</span> []<span>byte</span>) {
	<span>_</span> = <span>src</span>[<span>15</span>] <span>// early bounds check
</span><span></span>	<span>s0</span> <span>:=</span> <span>binary</span>.<span>BigEndian</span>.<span>Uint32</span>(<span>src</span>[<span>0</span>:<span>4</span>])
	<span>s1</span> <span>:=</span> <span>binary</span>.<span>BigEndian</span>.<span>Uint32</span>(<span>src</span>[<span>4</span>:<span>8</span>])
	<span>s2</span> <span>:=</span> <span>binary</span>.<span>BigEndian</span>.<span>Uint32</span>(<span>src</span>[<span>8</span>:<span>12</span>])
	<span>s3</span> <span>:=</span> <span>binary</span>.<span>BigEndian</span>.<span>Uint32</span>(<span>src</span>[<span>12</span>:<span>16</span>])

	<span>// First round just XORs input with key.
</span><span></span>	<span>s0</span> ^= <span>xk</span>[<span>0</span>]
	<span>s1</span> ^= <span>xk</span>[<span>1</span>]
	<span>s2</span> ^= <span>xk</span>[<span>2</span>]
	<span>s3</span> ^= <span>xk</span>[<span>3</span>]

	<span>// Middle rounds shuffle using tables.
</span><span></span>	<span>// Number of rounds is set by length of expanded key.
</span><span></span>	<span>nr</span> <span>:=</span> len(<span>xk</span>)<span>/</span><span>4</span> <span>-</span> <span>2</span> <span>// - 2: one above, one more below
</span><span></span>	<span>k</span> <span>:=</span> <span>4</span>
	<span>var</span> <span>t0</span>, <span>t1</span>, <span>t2</span>, <span>t3</span> <span>uint32</span>
	<span>for</span> <span>r</span> <span>:=</span> <span>0</span>; <span>r</span> &lt; <span>nr</span>; <span>r</span><span>++</span> {
		<span>t0</span> = <span>xk</span>[<span>k</span><span>+</span><span>0</span>] ^ <span>te0</span>[uint8(<span>s0</span><span>&gt;&gt;</span><span>24</span>)] ^ <span>te1</span>[uint8(<span>s1</span><span>&gt;&gt;</span><span>16</span>)] ^ <span>te2</span>[uint8(<span>s2</span><span>&gt;&gt;</span><span>8</span>)] ^ <span>te3</span>[uint8(<span>s3</span>)]
		<span>t1</span> = <span>xk</span>[<span>k</span><span>+</span><span>1</span>] ^ <span>te0</span>[uint8(<span>s1</span><span>&gt;&gt;</span><span>24</span>)] ^ <span>te1</span>[uint8(<span>s2</span><span>&gt;&gt;</span><span>16</span>)] ^ <span>te2</span>[uint8(<span>s3</span><span>&gt;&gt;</span><span>8</span>)] ^ <span>te3</span>[uint8(<span>s0</span>)]
		<span>t2</span> = <span>xk</span>[<span>k</span><span>+</span><span>2</span>] ^ <span>te0</span>[uint8(<span>s2</span><span>&gt;&gt;</span><span>24</span>)] ^ <span>te1</span>[uint8(<span>s3</span><span>&gt;&gt;</span><span>16</span>)] ^ <span>te2</span>[uint8(<span>s0</span><span>&gt;&gt;</span><span>8</span>)] ^ <span>te3</span>[uint8(<span>s1</span>)]
		<span>t3</span> = <span>xk</span>[<span>k</span><span>+</span><span>3</span>] ^ <span>te0</span>[uint8(<span>s3</span><span>&gt;&gt;</span><span>24</span>)] ^ <span>te1</span>[uint8(<span>s0</span><span>&gt;&gt;</span><span>16</span>)] ^ <span>te2</span>[uint8(<span>s1</span><span>&gt;&gt;</span><span>8</span>)] ^ <span>te3</span>[uint8(<span>s2</span>)]
		<span>k</span> <span>+=</span> <span>4</span>
		<span>s0</span>, <span>s1</span>, <span>s2</span>, <span>s3</span> = <span>t0</span>, <span>t1</span>, <span>t2</span>, <span>t3</span>
	}

	<span>// Last round uses s-box directly and XORs to produce output.
</span><span></span>	<span>s0</span> = uint32(<span>sbox0</span>[<span>t0</span><span>&gt;&gt;</span><span>24</span>])<span>&lt;&lt;</span><span>24</span> | uint32(<span>sbox0</span>[<span>t1</span><span>&gt;&gt;</span><span>16</span><span>&amp;</span><span>0xff</span>])<span>&lt;&lt;</span><span>16</span> | uint32(<span>sbox0</span>[<span>t2</span><span>&gt;&gt;</span><span>8</span><span>&amp;</span><span>0xff</span>])<span>&lt;&lt;</span><span>8</span> | uint32(<span>sbox0</span>[<span>t3</span><span>&amp;</span><span>0xff</span>])
	<span>s1</span> = uint32(<span>sbox0</span>[<span>t1</span><span>&gt;&gt;</span><span>24</span>])<span>&lt;&lt;</span><span>24</span> | uint32(<span>sbox0</span>[<span>t2</span><span>&gt;&gt;</span><span>16</span><span>&amp;</span><span>0xff</span>])<span>&lt;&lt;</span><span>16</span> | uint32(<span>sbox0</span>[<span>t3</span><span>&gt;&gt;</span><span>8</span><span>&amp;</span><span>0xff</span>])<span>&lt;&lt;</span><span>8</span> | uint32(<span>sbox0</span>[<span>t0</span><span>&amp;</span><span>0xff</span>])
	<span>s2</span> = uint32(<span>sbox0</span>[<span>t2</span><span>&gt;&gt;</span><span>24</span>])<span>&lt;&lt;</span><span>24</span> | uint32(<span>sbox0</span>[<span>t3</span><span>&gt;&gt;</span><span>16</span><span>&amp;</span><span>0xff</span>])<span>&lt;&lt;</span><span>16</span> | uint32(<span>sbox0</span>[<span>t0</span><span>&gt;&gt;</span><span>8</span><span>&amp;</span><span>0xff</span>])<span>&lt;&lt;</span><span>8</span> | uint32(<span>sbox0</span>[<span>t1</span><span>&amp;</span><span>0xff</span>])
	<span>s3</span> = uint32(<span>sbox0</span>[<span>t3</span><span>&gt;&gt;</span><span>24</span>])<span>&lt;&lt;</span><span>24</span> | uint32(<span>sbox0</span>[<span>t0</span><span>&gt;&gt;</span><span>16</span><span>&amp;</span><span>0xff</span>])<span>&lt;&lt;</span><span>16</span> | uint32(<span>sbox0</span>[<span>t1</span><span>&gt;&gt;</span><span>8</span><span>&amp;</span><span>0xff</span>])<span>&lt;&lt;</span><span>8</span> | uint32(<span>sbox0</span>[<span>t2</span><span>&amp;</span><span>0xff</span>])

	<span>s0</span> ^= <span>xk</span>[<span>k</span><span>+</span><span>0</span>]
	<span>s1</span> ^= <span>xk</span>[<span>k</span><span>+</span><span>1</span>]
	<span>s2</span> ^= <span>xk</span>[<span>k</span><span>+</span><span>2</span>]
	<span>s3</span> ^= <span>xk</span>[<span>k</span><span>+</span><span>3</span>]

	<span>_</span> = <span>dst</span>[<span>15</span>] <span>// early bounds check
</span><span></span>	<span>binary</span>.<span>BigEndian</span>.<span>PutUint32</span>(<span>dst</span>[<span>0</span>:<span>4</span>], <span>s0</span>)
	<span>binary</span>.<span>BigEndian</span>.<span>PutUint32</span>(<span>dst</span>[<span>4</span>:<span>8</span>], <span>s1</span>)
	<span>binary</span>.<span>BigEndian</span>.<span>PutUint32</span>(<span>dst</span>[<span>8</span>:<span>12</span>], <span>s2</span>)
	<span>binary</span>.<span>BigEndian</span>.<span>PutUint32</span>(<span>dst</span>[<span>12</span>:<span>16</span>], <span>s3</span>)
}
</code></pre></div><p>Don‚Äôt be afraid of it. We‚Äôll focus on the significant parts.</p>
<p>The input (means plaintext) to a single block is 16-bytes as we can see above. The input is first divided into four lines, separated by four bytes.</p>
<div><pre><code data-lang="go"><span>s0</span> <span>:=</span> <span>binary</span>.<span>BigEndian</span>.<span>Uint32</span>(<span>src</span>[<span>0</span>:<span>4</span>])
<span>s1</span> <span>:=</span> <span>binary</span>.<span>BigEndian</span>.<span>Uint32</span>(<span>src</span>[<span>4</span>:<span>8</span>])
<span>s2</span> <span>:=</span> <span>binary</span>.<span>BigEndian</span>.<span>Uint32</span>(<span>src</span>[<span>8</span>:<span>12</span>])
<span>s3</span> <span>:=</span> <span>binary</span>.<span>BigEndian</span>.<span>Uint32</span>(<span>src</span>[<span>12</span>:<span>16</span>])
</code></pre></div><p>This illustrates how the input is handled in the AES encryption process. It is definitely the key to understand to keep this format in mind.</p>
<figure>
    <img src="https://nakabonne.dev/img/aes-divided-input.jpg" width="100%" height="auto"> 
</figure>

<p>And the next part which is something iterating, is the most core implementation.</p>
<div><pre><code data-lang="go"><span>// Middle rounds shuffle using tables.
</span><span>// Number of rounds is set by length of expanded key.
</span><span></span><span>nr</span> <span>:=</span> len(<span>xk</span>)<span>/</span><span>4</span> <span>-</span> <span>2</span> <span>// - 2: one above, one more below
</span><span></span><span>k</span> <span>:=</span> <span>4</span>
<span>var</span> <span>t0</span>, <span>t1</span>, <span>t2</span>, <span>t3</span> <span>uint32</span>
<span>for</span> <span>r</span> <span>:=</span> <span>0</span>; <span>r</span> &lt; <span>nr</span>; <span>r</span><span>++</span> {
	<span>t0</span> = <span>xk</span>[<span>k</span><span>+</span><span>0</span>] ^ <span>te0</span>[uint8(<span>s0</span><span>&gt;&gt;</span><span>24</span>)] ^ <span>te1</span>[uint8(<span>s1</span><span>&gt;&gt;</span><span>16</span>)] ^ <span>te2</span>[uint8(<span>s2</span><span>&gt;&gt;</span><span>8</span>)] ^ <span>te3</span>[uint8(<span>s3</span>)]
	<span>t1</span> = <span>xk</span>[<span>k</span><span>+</span><span>1</span>] ^ <span>te0</span>[uint8(<span>s1</span><span>&gt;&gt;</span><span>24</span>)] ^ <span>te1</span>[uint8(<span>s2</span><span>&gt;&gt;</span><span>16</span>)] ^ <span>te2</span>[uint8(<span>s3</span><span>&gt;&gt;</span><span>8</span>)] ^ <span>te3</span>[uint8(<span>s0</span>)]
	<span>t2</span> = <span>xk</span>[<span>k</span><span>+</span><span>2</span>] ^ <span>te0</span>[uint8(<span>s2</span><span>&gt;&gt;</span><span>24</span>)] ^ <span>te1</span>[uint8(<span>s3</span><span>&gt;&gt;</span><span>16</span>)] ^ <span>te2</span>[uint8(<span>s0</span><span>&gt;&gt;</span><span>8</span>)] ^ <span>te3</span>[uint8(<span>s1</span>)]
	<span>t3</span> = <span>xk</span>[<span>k</span><span>+</span><span>3</span>] ^ <span>te0</span>[uint8(<span>s3</span><span>&gt;&gt;</span><span>24</span>)] ^ <span>te1</span>[uint8(<span>s0</span><span>&gt;&gt;</span><span>16</span>)] ^ <span>te2</span>[uint8(<span>s1</span><span>&gt;&gt;</span><span>8</span>)] ^ <span>te3</span>[uint8(<span>s2</span>)]
	<span>k</span> <span>+=</span> <span>4</span>
	<span>s0</span>, <span>s1</span>, <span>s2</span>, <span>s3</span> = <span>t0</span>, <span>t1</span>, <span>t2</span>, <span>t3</span>
}
</code></pre></div><p>Rijndael encrypts a block by repeating a process called a round.
In a round, there are four processes: SubBytes, ShiftRows, MixColumns, and AddRoundKey. As commented out in the snippet, the number of rounds depends on the key length.</p>
<h3 id="subbytes">SubBytes</h3>
<p>The conversion is done 1-byte at a time based on a conversion table called S-box which has 256 values.
Below illustrates to perform <code>sbox[s0[1]]</code> well:</p>
<figure>
    <img src="https://nakabonne.dev/img/aes-sbox.jpg" width="100%" height="auto"> 
</figure>

<p>Unlike DES, we can see that all bytes have been converted at this point.
This post doesn‚Äôt cover AES‚Äôs S-Box as it is mentioned in many places and much better than I could do.</p>
<h3 id="shiftrows">ShiftRows</h3>
<p>The next step is to process the rows that are grouped into 4-byte units and shifted regularly to the left.
The number of bytes to be shifted depends on the line, as shown below:</p>
<figure>
    <img src="https://nakabonne.dev/img/aes-shift-rows.jpg" width="100%" height="auto"> 
</figure>

<h3 id="mixcolumns">MixColumns</h3>
<p>In the previous step, it dealt with rows, but the next is to process the bytes in columns.</p>
<figure>
    <img src="https://nakabonne.dev/img/aes-mix-columns.jpg" width="100%" height="auto"> 
</figure>

<p>It involves multiplication operations in a finite field, hence this step is a bit tough to describe. See <a href="https://en.wikipedia.org/wiki/Rijndael_MixColumns">Wikipedia</a> for more details.</p>
<h3 id="addroundkey">AddRoundKey</h3>
<p>Finally, it XORs the output of MixColumns with the round key. The following figure shows the execution of <code>s0[1] ^ xk[4]</code> (the <code>^</code> denotes an XOR operation in Go).</p>
<figure>
    <img src="https://nakabonne.dev/img/aes-add-round-key.jpg" width="100%" height="auto"> 
</figure>

<h2 id="bottom-line">Bottom Line</h2>
<p>While this post has only shown you the encryption process, these processes are fully reversible with an Inverse MixColumns, ShiftRows, SubBytes. How beautiful!
I‚Äôll keep reading the implementation to deepen my understanding of cryptography.</p>

        
    </div></div>]]>
            </description>
            <link>https://nakabonne.dev/posts/understanding-how-aes-encryption-works/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25486017</guid>
            <pubDate>Sun, 20 Dec 2020 13:17:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How we made the PJON network protocol from scratch]]>
            </title>
            <description>
<![CDATA[
Score 123 | Comments 33 (<a href="https://news.ycombinator.com/item?id=25485943">thread link</a>) | @gioscarab
<br/>
December 20, 2020 | https://www.pjon.org/how.php | <a href="https://web.archive.org/web/*/https://www.pjon.org/how.php">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
      <section>
        <div>
          
          <p>
            <a href="https://github.com/gioblu/PJON" target="_blank" rel="noopener noreferrer">PJON (Padded Jittering Operative Network)</a> is a lightweight, efficient and completely open network protocol. It has revolutionary features such as single wire communication with a range of up to 2 kms, wireless LED-to-LED communication and long range laser communication.
          </p>
        </div>
      </section>
      <section>
        <div>
          <article>
            <h2>2009 - Communication</h2>
            <p>
              Far back in 2009, while following Digital Communication, Advertising and Art Direction at NABA (New Academy of Fine Arts of Milan), I became interested in Professor Massimo Banzi's classes and managed to get an Arduino Diecimila. In just one day my vision of the world had changed and I slowly started to better understand computers and electronics while sharing results with the Arduino community both on my website and on Arduino's forum. I started to build robots and after few years of experiments I launched my first start¬≠up: a webshop of arduino-compatible, CNC machined robot kits, boards and sensors.
            </p>
          </article>
          <br>
          <article>
            <h2>2010 - Let's transmit data</h2>
            <p>
              At the time in my projects I had to connect many microcontrollers on a common bus and I found myself not satisfied by the solutions available, for this reason I started to develop my own data link. I perfectly remember that night back in 2010 when I started bit-banging bits using an Arduino and trying to sample them with another. The first problem I hit were bugs in the implementation that were quickly resolved. Then I unsterstood I did not have any synchronization, depending on when the receiver was powered on bits were shifted. That night, with no experience in electronics or engineering I instinctively defined the synchronization pulse that is still present as the core of <a href="https://github.com/gioblu/PJON/blob/13.0/src/strategies/SoftwareBitBang/specification/PJDL-specification-v5.0.md" target="_blank" rel="noopener noreferrer">PJDL (Padded Jittering Data Link) v5.0</a>. To make sure to synchronize with the start of each byte I have added a 1 longer than data bits followed by a 0 and instructed the receiver to find it and only then start sampling 8 bits. Data was coming in perfectly. That was <a href="https://github.com/gioblu/PJON/blob/master/src/strategies/SoftwareBitBang/specification/obsolete/padded-jittering-protocol-specification-v0.1.md" target="_blank" rel="noopener noreferrer">PJDL (Padded jittering data link) v0.1</a> which was basic and working by mere chance. Then, after debugging it further, experiments proved it was working well not only through wires and the human body, but also wirelessly through radio and infrared light, yet it showed to be robust operating bidirectionally in spite of interference. After I noticed that it was possible to connect more than 2 devices to the same wire, I started to experiment with an initial collision avoidance phase, an 8 bits device id and a synchronous acknowledgement at the end of the packet. It was shocking to see that many devices were able to send and receive data through the same wire. Soon after I released <a href="https://github.com/gioblu/PJON/blob/master/specification/obsolete/PJON-protocol-specification-v0.1.md" target="_blank" rel="noopener noreferrer">PJON v0.1</a> on the Arduino forum, receiving plenty of "don't ¬≠reinvent ¬≠the ¬≠wheel" and few active contributors.
            </p>
          </article>
        </div>
      </section>
      <section>
        
      </section>
      <section>
        <div>
          <article>
            <h2>2014 - Let's network</h2>
            <p>
              In those days I became aware of how quickly the cloud was eating the world and how difficult was to connect stuff directly without relying on a third-party. It seemed like noone could connect computers together anymore without an ever present observing big brother. To be honest, I did not like it: that was the point when I understood how <a href="https://github.com/gioblu/PJON" target="_blank" rel="noopener noreferrer">PJON</a> could have changed the game and what I personally could have done to influence the outcome. I decided to double my efforts on the protocol and try my best to provide humanity with a free and more efficient way to make networks. With a working protocol layer and support from the community, I went further in the address space development adding an optional 32 bits bus id used to identify a group of up to 255 devices, supporting up to 4.294.967.295 buses and a total of 1.090.921.692.930 devices. This addition released in <a href="https://github.com/gioblu/PJON/blob/master/specification/obsolete/PJON-protocol-specification-v0.2.md" target="_blank" rel="noopener noreferrer">PJON v0.2</a> enabled coexistence and networking for groups of devices. Thanks to Micheal Teeuw's post on his blog, PJON received contributions, testing, debugging and feature requests. Then many talented contributors added support for devices like ESP8266, Teensy 3.2 and Node MCU.
            </p>
          </article>
          <br>
          <article>
            <h2>2015 - Abstracting the data link</h2>
            <p>
              The community wanted to use PJON over different existing protocols and physical layers, to obtain that without making the implementation complex and more difficult to use I have defined the <a href="https://github.com/gioblu/PJON/tree/master/src/strategies" target="_blank" rel="noopener noreferrer">strategy</a> abstraction. The curiously recurring template pattern or CRTP was adopted to abstract the physical layer in separate classes called strategies. Thanks to this change from then it was possible to instantiate a PJON object passing the selected data link. Initially, I developed three strategies, a bit-banged implementation of <a href="https://github.com/gioblu/PJON/blob/13.0/src/strategies/SoftwareBitBang/specification/PJDL-specification-v5.0.md">PJDL</a> called <a href="https://github.com/gioblu/PJON/tree/master/src/strategies/SoftwareBitBang">SoftwareBitBang</a>, <a href="https://github.com/gioblu/PJON/tree/master/src/strategies/OverSampling">OverSampling</a> for radio communication and <a href="https://github.com/gioblu/PJON/tree/master/src/strategies/AnalogSampling">AnalogSampling</a> able to communicate wirelessly or with optical fiber using off-the-shelf LEDs. Later on, I developed together with Fred Larsen <a href="https://github.com/gioblu/PJON/tree/master/src/strategies/ThroughSerial">ThroughSerial</a> able to operate through a serial port.
            </p>
          </article>
        </div>
      </section>
      <section>
        
      </section>
      <section>
        <div>
          <article>
            <h2>2016 - It's mainstream</h2>
            <p>
               <a href="http://hackaday.com/2016/03/31/pjon-fancy-one-wire-arduino-communications-protocol-for-home-automation/" target="_blank" rel="noopener noreferrer">Hackaday</a> and the <a href="http://blog.atmel.com/2016/04/09/pjon-is-a-pretty-cool-one-wire-protocol/" target="_blank" rel="noopener noreferrer">Atmel blog</a> wrote about the PJON protocol and from that day an ongoing earthquake began. The initial response, especially in the Hackaday's comments, was quite negative - trolls were raging. Only when I joined the discussion and answered openly and sincerely to all the complaints and questions asked, the tone changed dramatically. Well, so dramatically, that in the next comments I got the most praiseworthy compliments I have ever received, those people for sure helped me not to desist. Since then, the PJON protocol specification has been used in academic researches and PhDs in different parts of the world, and the official PJON implementation has already been applied globally in a wide range of different systems.
            </p>
          </article>
          <br>
          <article>
            <h2>2016 - Let's add a header</h2>
            <p>
              The release of the <a href="https://github.com/gioblu/PJON/blob/master/specification/obsolete/PJON-protocol-specification-v0.3.md" target="_blank" rel="noopener noreferrer">PJON v0.3</a> was the result of the most interesting proposal I have received so far, by Fred Larsen, who is a great friend already even if we never met personally. He proposed the addition of a 8 bits header containing a map of the fields contained in the packet and the configuration requested by the sender. At this point we left a fixed configuration scenario, where interoperability was impossible, heading towards a dynamic network architecture. An entire new set of possibilities opened up and users started to make use of this new field.
            </p>
          </article>
        </div>
      </section>
      <section>
        
      </section>
      <section>
        <div>
          <article>
            <h2>2016 - PJON over the internet</h2>
            <p>
              <a href="https://github.com/gioblu/PJON/tree/master/src/strategies/EthernetTCP">EthernetTCP</a> and <a href="https://github.com/gioblu/PJON/tree/master/src/strategies/LocalUDP">LocalUDP</a> made by Fred Larsen enabled multiple devices with Ethernet ports use PJON to communicate with each other on a LAN, WAN or across the Internet. It became possible to create a PJON network of devices using also an Internet connection. Our constantly growing community has already provided PJON implementations in other programming languages like <a href="https://github.com/Girgitt/PJON-python">PJON-python</a> by Zbigniew Zasieczny and <a href="https://github.com/Matheus-Garbelini/PJON-C">PJON-c</a> by Matheus Garbelini. Thanks to their work, it was for the first time possible to run PJON on a wider range of devices. At the same time the protocol reached its first stable version with the release of the <a href="https://github.com/gioblu/PJON/blob/master/specification/obsolete/PJON-protocol-specification-v1.0.md" target="_blank" rel="noopener noreferrer">PJON v1.0</a> which added a lot of new features.
            </p>
          </article>
          <br>
          <article>
            <h2>2017 - Let's make it universal</h2>
            <p>
              New features brought new objectives: the community wanted to have <a href="https://github.com/gioblu/PJON">PJON</a> working on many different MCUs and real time operative systems although I wanted to avoid code duplication and maintain only one unified implementation. For this reason I defined the <a href="https://github.com/gioblu/PJON/tree/master/src/interfaces">interface</a> abstraction. With interfaces it was for the first time possible to run and cross-compile the same implementation on all supported targets. I developed the <a href="https://github.com/gioblu/PJON/tree/master/src/interfaces/RPI">RPI</a> interface to support Raspberry Pi, after few weeks Zbigniew Zasieczny developed the <a href="https://github.com/gioblu/PJON/tree/master/src/interfaces/WINX86">WINX86</a> interface enabling PJON communication on Windows computers, and soon after, Fred Larsen developed the <a href="https://github.com/gioblu/PJON/tree/master/src/interfaces/LINUX">LINUX</a> interface. In late 2017 I discovered that frame inizialization was missing from both the specification and the implementation and that arbitrary data could have been mistaken for a valid frame. I vividly remember how shocked I was, that was a serious hole, so I quickly found a way to safely identify frames in each strategy. After that was fixed and all seemed perfect I discovered the <a href="https://betterembsw.blogspot.com/2012/02/can-protocol-vulnerabilities.html">length corruption vulnerability</a> that affected PJON and still affects CAN (Controlled Area Network). To close that hole I added an additional CRC8 to protect the header and soon after I released <a href="https://github.com/gioblu/PJON/blob/9.0/specification/PJON-protocol-specification-v2.0.md">PJON v2.0</a>.
            </p>
          </article>
        </div>
      </section>
      <section>
        
      </section>
      <section>
        <div>
          <article>
            <h2>2018 - Distributed field test</h2>
            <p>
              Although PJON is licensed "AS IS", the more it was applied in the real world, the more I was feeling the responsibility for possible failures. When in 2018 Fred Larsen used PJON and <a href="https://github.com/fredilarsen/ModuleInterface">ModuleInterface</a> to handle the life support systems of his hens' house in Norway I started to be preoccupied for those animals and be finally aware of the potential consequencies and the risks involved in PJON real world applications, specially if dealing with living beings. If for whatever reason the temperature value transmitted was corrupted by interference or because of a bug, the hens could have ended up frozen or roasted. The conception of this possibility pushed me to study deeper the implementation and make better software.
            </p>
          </article>
          <br>
          <article>
            <h2>2019 - PJON in the top ten</h2>
            <p>
              After the release of <a href="https://github.com/gioblu/PJON/releases/tag/12.0">PJON 12.0</a>, in November 2019, unexpectedly, we experienced a 25% growth of the community in few days. The right <a href="https://news.ycombinator.com/item?id=21427013">HN post</a> and few reddit discussions ‚Ä¶</p></article></div></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.pjon.org/how.php">https://www.pjon.org/how.php</a></em></p>]]>
            </description>
            <link>https://www.pjon.org/how.php</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485943</guid>
            <pubDate>Sun, 20 Dec 2020 13:02:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Python Print() and Beyond]]>
            </title>
            <description>
<![CDATA[
Score 49 | Comments 20 (<a href="https://news.ycombinator.com/item?id=25485916">thread link</a>) | @josiasaurel
<br/>
December 20, 2020 | https://josiasdev.best/python-print-and-beyond | <a href="https://web.archive.org/web/*/https://josiasdev.best/python-print-and-beyond">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section itemprop="articleBody mainEntityOfPage"><div><div><div><div><p>Subscribe to <!-- -->my<!-- --> newsletter and never miss <!-- -->my<!-- --> upcoming articles</p></div></div></div><div itemprop="text"><h2 id="beyond-the-print-function-in-python">Beyond the <code>print()</code> function in <em>Python</em></h2>
<p>Hey guys, today I am going to talk about some features of the <code>print()</code> function in python. You will probably have come across some of these functions while others could seem new.</p>
<p>Let's start by understanding the basics of the print function. 
In python, the built-in print function is used to print all kinds of stuff - text, numbers, objects, dictionaries etc.
But how does this function handle that ?! You might think; it just can do it, it was made for that. But in reality, the print function in python can only handle strings.</p>
<p>Under the hood, anything you pass to the <code>print()</code> function gets converted to a string before being printed to your screen. That mean it will make use of the <code>str()</code> type casting and convert all other data types to strings before displaying them to your console/terminal.
Now that you know how the <code>print()</code> work, let's dive into its features.</p>
<p>Furthermore, print doesn't know how to print text to the screen. I won't go detail into that for now. Later in this post, you will know what happens under it.</p>
<p>Basically, you can print whatever you want . The simplest example you have come across is <code>print("Hello World!")</code>
It take a string enclosed in double quotes or single quotes and prints it.
You can also print multiple stuff by simply separating them with comas as such :</p>
<pre><code>name = <span>"Mike"</span>
age = <span>24</span>
print(<span>"Hello"</span>, name, <span>"Your age is"</span>, age)

</code></pre>
<p>You can as well print text that takes more than a line. In this case, you will be using the newline escape character <code>\n</code>
Example :</p>
<pre><code>print(<span>"Hello \nWorld"</span>)



</code></pre>
<p>You can also format text with it. Making use of <code>f-strings</code></p>
<pre><code>name = <span>"Samson"</span>
print(<span>f"Hello <span>{name}</span>"</span>)

</code></pre>
<p>The example above showcase the basics of the print function. It can take a variable number of values to print. Other than that, there are also some keyword arguments.
Let's dive into them</p>
<h2 id="1-separator">1. Separator</h2>
<p><code>print()</code> allows you to decide what separates text we print with it. By default, all the values you pass to it are separated by empty strings. But we change that. It suffices to include <code>sep=</code> followed by whatever you want to separate your text.
Let's make use of the previous example.</p>
<pre><code>name = <span>"Mike"</span>
age = <span>24</span>
print(<span>"Hello"</span>, name, <span>"Your age is"</span>, age, sep=<span>"-"</span>)

</code></pre>
<p>You notice that all what we passed into it separately are separated by a <code>-</code>. You can modify that however you want. You just need to make sure the separator is a valid string.</p>
<h2 id="2-ending">2. Ending</h2>
<p>You can specify by whatever you want your output to end with. By default, what you print end with a newline escape character <code>\n</code>. Let's change that and see what happens</p>
<pre><code>
print(<span>"Hello James"</span>)
print(<span>"How are you doing"</span>)





print(<span>"Hello James"</span>, end=<span>""</span>)
print(<span>"How are you doing"</span>, end=<span>""</span>)


</code></pre>
<p>If we execute that, we notice the text is no more separated by a new line. Let's try that again! But this time, we want it to end by <code>y</code> and move to a new line.</p>
<pre><code>print(<span>"Hello James"</span>, end=<span>"y\n"</span>)
print(<span>"How are you doing"</span>, end=<span>"\n"</span>)
</code></pre>
<p>We get the following output</p>
<pre><code><span>Hello</span> Jamesy
How are you doingy
</code></pre><p>Yay it worked !</p>
<h2 id="3-writing-to-a-file">3. Writing to a file</h2>
<p>At the beginning of this post, I said python doesn't know how to print stuff to the screen by itself. It rather uses <code>sys.stdout</code> and writes your text to that file. 
Wait what ! Print will write text to a file object which I sent to your screen via <code>sys.stdout</code>. Therefore, you can modify this behaviour too in order to have this printed elsewhere.
Let's give it a try.
Write the following code:</p>
<pre><code><span>with</span> open(<span>"hello.txt"</span>, <span>"w"</span>) <span>as</span> file_object:
        print(<span>"This message is for you"</span>, file=file_object)
</code></pre>
<p>Executing the above will end in a file name <code>hello.text</code> in the same directory with the text <em>This message is for you</em> in it. 
Therefore, we can direct where we want our text to be printed. In this case, we created a file name <code>hello.txt</code> and use the <code>file</code> keyword argument to direct the result to be written to that file rather than our terminal. You can use this to direct any result to wherever you want, even through a socket connection.</p>
<h2 id="4-flushing">4. Flushing</h2>
<p>This one requires an example. Let's have one!</p>
<pre><code><span>import</span> time

names = [<span>"John"</span>, <span>"Sylvia"</span>, <span>"Smith"</span>]

<span>for</span> name <span>in</span> names:
    print(name, end=<span>" "</span>)
    time.sleep(<span>1</span>)
</code></pre>
<p>What this code should do is; print a name after a second. Try and run it and see what happens. 
You notice it unexpectedly waits and print all at once.  This is because since it's on a single line, it is all buffered (packed) before we get it. 
<a target="_blank" href="https://en.m.wikipedia.org/wiki/Data_buffer#:~:text=In%20computer%20science%2C%20a%20data,from%20one%20place%20to%20another.&amp;text=However%2C%20a%20buffer%20may%20be,comparable%20to%20buffers%20in%20telecommunication.">Read more about buffers here</a>
But we could go around that by simply adding the <code>flush=</code> keyword argument to the print function. By default it it set to <code>False</code>. Setting it to true will ensure every print statement is executed and freed from buffer before the next one.
The following code will make it :</p>
<pre><code><span>import</span> time

names = [<span>"John"</span>, <span>"Sylvia"</span>, <span>"Smith"</span>]

<span>for</span> name <span>in</span> names:
    print(name, end=<span>", "</span>, flush=<span>True</span>)
    time.sleep(<span>1</span>)
</code></pre>
<p>If you run it. It will print a name, sleep for a second and print another, all on the same line. 
Yay we did it !</p>
<p>You have reached the end of this post. 
<a target="_blank" href="https://ko-fi.com/S6S01ULOV"><img src="https://www.ko-fi.com/img/githubbutton_sm.svg" alt="ko-fi"></a></p>
</div></div></section></div></div>]]>
            </description>
            <link>https://josiasdev.best/python-print-and-beyond</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485916</guid>
            <pubDate>Sun, 20 Dec 2020 12:53:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building a simple neural net in Java]]>
            </title>
            <description>
<![CDATA[
Score 132 | Comments 54 (<a href="https://news.ycombinator.com/item?id=25485841">thread link</a>) | @wheresvic4
<br/>
December 20, 2020 | https://smalldata.tech/blog/2016/05/03/building-a-simple-neural-net-in-java | <a href="https://web.archive.org/web/*/https://smalldata.tech/blog/2016/05/03/building-a-simple-neural-net-in-java">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            

            <p>
            In this post we will tackle Artificial Intelligence with baby steps and try to build a very simple neural net in Java.
            </p>

            <h5 id="what-is-a-neural-net">What is a Neural net?</h5>

            <p>
            A neural net is a software representation of how the brain works. Unfortunately, we do not know as of yet how exactly does the brain really work but we do know a little bit of the biology behind this process: the human brain consists of 100 billion cells called neurons, connected together by synapses. If sufficient synapses connected to a neuron fire, then that neuron will also fire. This process is known as "thinking".
            </p>

            <p>
            We thus try and model the above process using a very simple example that has 3 inputs (synapses) and results in a single output (1 neuron firing).

            <img alt="Neural net example" src="https://smalldata.tech/img/blog/nn-1-simple-problem.png" width="400">
            </p>



            <h5 id="a-simple-problem">A simple problem</h5>

            <p>
            We will train our above neural net to solve the following problem. Can you figure out the pattern and guess what the value of the new input should be? 0 or 1?
            </p>

            <div>
              <table>
              <tbody><tr>
                <th>Examples</th>
                <th colspan="3">Input</th>
                <th>Output</th>
              </tr>
              <tr>
                <td>Example 1</td>
                <td>0</td>
                <td>0</td>
                <td>1</td>
                <td>0</td>
              </tr>

              <tr>
                <td>Example 2</td>
                <td>1</td>
                <td>1</td>
                <td>1</td>
                <td>1</td>
              </tr>

              <tr>
                <td>Example 3</td>
                <td>1</td>
                <td>0</td>
                <td>1</td>
                <td>1</td>
              </tr>

              <tr>
                <td>Example 4</td>
                <td>0</td>
                <td>1</td>
                <td>1</td>
                <td>0</td>
              </tr>

              <tr>
                <td colspan="5">&nbsp;</td>
              </tr>

              <tr>
                <td>New situation</td>
                <td>1</td>
                <td>1</td>
                <td>0</td>
                <td>?</td>
              </tr>

              </tbody></table>
            </div>

            <p>
            The answer is actually very simply the value of the left-most column, i.e. 1!
            </p>


            <h5 id="training-process">The training process</h5>

            <p>
            So now that we have the model of a human brain, we will try and get our neural net to learn what the pattern is given the training set. We will first assign each input a random number to produce an output.
            </p>

            <p><img alt="Neural net example" src="https://smalldata.tech/img/blog/nn-1-simple-problem-neuron-weights.png" width="400"></p><p>
            The formula for calculating the output is given as follows:
            $$\sum weight_i . input_i = weight1 . input1 + weight2 . input2 + weight3 . input3$$
            </p>

            <p>
            As it turns out we would like to normalize this output value to something between 0 and 1 so that the prediction makes sense. After normalization we compare the output with the expected output of our inputs. This gives us the error, or how far off is our prediction. We can then use this error to slightly adjust the weights of our neural net and try our luck on the same input again. This can be summarized in the following image:
            </p>

            <!--
            <div>
                <a class="image-popup-no-margins" href="/img/blog/nn-1-training-process.png">
                    <img class="img-responsive centered img-border" alt="Neural net training process" src="/img/blog/nn-1-training-process.png" />
                </a>
                <div class="img-desc">
                </div>
            </div>
            -->

            <p><img alt="Neural net training process" src="https://smalldata.tech/img/blog/nn-1-training-process.png" width="450"></p><p>
            We repeat this training process for all the inputs <i><b>10,000 times</b></i> to reach a satisfactorily trained neural net. We can then use this neural net to make predictions on new inputs!
            </p>

            <p>
            Before we jump into the implementation however, we still need to clarify how we achieved the normalization and the weight adjustment based on the error (also known as back-propagation).
            </p>

            <h5 id="normalization">Normalization</h5>

            <p>
            In a biologically inspired neural network, the output of a neuron is usually an abstraction representing the rate of action potential firing in the cell. In its simplest form, this is binary value, i.e., either the neuron is firing or not. Hence, the need for normalization of this output value.
            </p>

            <p>
            To achieve this normalization we apply what is known as an activation function to the output of the neuron. If we take the example of a really simple Heaviside step function which assigns a 0 to any negative value and a 1 to any positive value, then a large number of neurons would be required to achieve the required granularity of slowly adjusting the weights to reach an acceptable consensus of the training set.
            </p>

            <p>
            As we will see in the next section on back-propagation, this concept of slowly adjusting the weights can be represented mathematically as the slope of the activation function. In biological terms, it can be thought of as the increase in firing rate that occurs as input current increases. If we were to use a linear function instead of the Heaviside function, then we would find that the resulting network would have an unstable convergence because neuron inputs along favored paths would tend to increase without bound, as a linear function is not normalizable.
            </p>

            <p>
            All problems mentioned above can be handled by using a normalizable sigmoid activation function. One realistic model stays at zero until input current is received, at which point the firing frequency increases quickly at first, but gradually approaches an asymptote at 100% firing rate. Mathematically, this looks like:
            $$ \frac{1}{1 + e^{-x}} $$
            </p>

            <p>
            If plotted on a graph, the Sigmoid function draws an S shaped curve:
            </p>

            <p><img alt="sigmoid plot" src="https://smalldata.tech/img/blog/nn-1-sigmoid-plot.png" width="450"></p><p>
            Thus, the final formula for the output of a neuron now becomes
            $$ Output = \frac{1}{1 + e^{-(\sum weight_i . input_i)}} $$
            </p>

            <p>
            There are other normalization functions that we can use but the sigmoid has the advantage of being fairly simple and also having a simple derivative which will be useful when we look at the back propagation below.
            </p>

            <h5 id="back-propagation">Back-propagation</h5>

            <p>
            During the training cycle, we adjusted the weights depending on the error. To do this, we can use the "Error weighted derivative" formula
            $$ Adjustment = error . input . SigmoidCurveGradient(output) $$
            </p>

            <p>
            The reason we use this formula is that firstly, we want to make the adjustment proportional to the size of the error. Secondly, we multiply by the input, which is either a 0 or a 1. If the input is 0, the weight isn‚Äôt adjusted. Finally, we multiply by the gradient of the Sigmoid curve (or the derivative).
            </p>

            <p>
            The reason that we use the gradient is because we are trying to minimize the loss. Specifically, we do this by a <a href="https://en.wikipedia.org/wiki/Gradient_descent">gradient descent method</a>. It basically means that from our current point in the parameter space (determined by the complete set of current weights), we want to go in a direction which will decrease the loss function. Visualize standing on a hillside and walking down the direction where the slope is steepest. The gradient descent method as applied to our neural net is illustrated as follows:
            </p><ol>
                <li>If the output of the neuron is a large positive or negative number, it signifies the neuron was quite confident one way or another.</li>
                <li>From the sigmoid plot, we can see that at large numbers the Sigmoid curve has a shallow gradient.</li>
                <li>Thus, if the neuron is confident that the existing weight is correct, it doesn‚Äôt want to adjust it very much and multiplying by the gradient of the sigmoid curve achieves this.</li>
            </ol>
            

            <p>
            The derivative of the sigmoid function is given by the following formula
            $$ SigmoidCurveGradient(output) = output . (1 - output) $$
            Substituting this back into the adjustment formula gives us
            $$ Adjustment = error . input . output . (1 - output) $$
            </p>

            <h5 id="code">Code</h5>

            <p>
            An important but subtle point that was missed out when explaining the mathematics above was that for each training iteration, the mathematical operations are done on the entire training set at the same time. Thus, we will make use of matrices to store the set of input vectors, the weights and the expected outputs.
            </p>

            <p>
            You can grab the entire project source here: <a href="https://github.com/wheresvic/neuralnet">https://github.com/wheresvic/neuralnet</a>. For the sake of learning, we implemented all the math ourselves using only the standard java Math functions :)
            </p>

            <p>
            We will begin with the <code>NeuronLayer</code> class which is just a placeholder for the weights in our neural net implementation. We provide it with the number of inputs per neuron and the number of neurons which it can use to build a table of the weights. In our current example, this is very simply the last output neuron which has the 3 input neurons.
            </p>

<pre>public class NeuronLayer {

    public final Function<double, double=""> activationFunction, activationFunctionDerivative;

    double[][] weights;

    public NeuronLayer(int numberOfNeurons, int numberOfInputsPerNeuron) {
        weights = new double[numberOfInputsPerNeuron][numberOfNeurons];

        for (int i = 0; i &lt; numberOfInputsPerNeuron; ++i) {
            for (int j = 0; j &lt; numberOfNeurons; ++j) {
                weights[i][j] = (2 * Math.random()) - 1; // shift the range from 0-1 to -1 to 1
            }
        }

        activationFunction = NNMath::sigmoid;
        activationFunctionDerivative = NNMath::sigmoidDerivative;
    }

    public void adjustWeights(double[][] adjustment) {
        this.weights = NNMath.matrixAdd(weights, adjustment);
    }
}
</double,></pre>

            <p>
            Our neural net class is where all the action happens. It takes as a constructor the <code>NeuronLayer</code> and has 2 main functions:
            </p><ul>
                <li><code>think</code>: calculates the outputs of a given input set</li>
                <li><code>train</code>: runs the training loop <code>numberOfTrainingIterations</code> times (usually a high number like 10,000). Note that the training itself involves calculating the output and then adjusting the weights accordingly</li>
            </ul>
            

<pre>public class NeuralNetSimple {

    private final NeuronLayer layer1;
    private double[][] outputLayer1;

    public NeuralNetSimple(NeuronLayer layer1) {
        this.layer1 = layer1;
    }

    public void think(double[][] inputs) {
        outputLayer1 = apply(matrixMultiply(inputs, layer1.weights), layer1.activationFunction);
    }

    public void train(double[][] inputs, double[][] outputs, int numberOfTrainingIterations) {
        for (int i = 0; i &lt; numberOfTrainingIterations; ++i) {

            // pass the training set through the network
            think(inputs);

            // adjust weights by error * input * output * (1 - output)

            double[][] errorLayer1 = matrixSubtract(outputs, outputLayer1);
            double[][] deltaLayer1 = ‚Ä¶</pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://smalldata.tech/blog/2016/05/03/building-a-simple-neural-net-in-java">https://smalldata.tech/blog/2016/05/03/building-a-simple-neural-net-in-java</a></em></p>]]>
            </description>
            <link>https://smalldata.tech/blog/2016/05/03/building-a-simple-neural-net-in-java</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485841</guid>
            <pubDate>Sun, 20 Dec 2020 12:37:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Incarceration in Real Numbers]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25485820">thread link</a>) | @DyslexicAtheist
<br/>
December 20, 2020 | https://mkorostoff.github.io/incarceration-in-real-numbers/ | <a href="https://web.archive.org/web/*/https://mkorostoff.github.io/incarceration-in-real-numbers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <div id="prisoners">
    
    
    
    

    <div>
      <p>The United States holds more people in jails and prisons than any other country by far, both in absolute numbers and as a percentage of population.</p>
    </div>

    <div id="per-one-hundred">
      <div id="per-one-hundred-inner">
        <h2>Incarcerated per 100,000 residents <sup>[<a href="https://github.com/MKorostoff/incarceration-in-real-numbers/blob/master/SOURCES.md#incarceration-rates" target="_blank"></a>]</sup></h2>
        <p><span>USA (698)</span></p>
        <p><span>El Salvador (590)</span></p>
        <p><span>Turkmenistan (552)</span></p>
        <p><span>Thailand (531)</span></p>
        <p><span>Rwanda (511)</span></p>
        <p><span>Cuba (510)</span></p>
        <p><span>Panama (401)</span></p>
        <p><span>Costa Rica (374)</span></p>
        <p><span>Cayman Islands (365)</span></p>
        <p><span>Russia (363)</span></p>
        <p><span>Belize (356)</span></p>
        <p><span>Brazil (348)</span></p>
        <p><span>Belarus (343)</span></p>
        <p><span>Nicaragua (332)</span></p>
        <p><span>Turkey (324)</span></p>
        <p><span>Puerto Rico (313)</span></p>
        <p><span>Brunei Darussalam (307)</span></p>
        <p><span>Cape Verde (296)</span></p>
        <p><span>Uruguay (295)</span></p>
        <p><span>Namibia (295)</span></p>
        <p><span>Iran (294)</span></p>
        <p><span>Trinidad and Tobago (292)</span></p>
        <p><span>Guyana (284)</span></p>
        <p><span>Peru (278)</span></p>
        <p><span>South Africa (275)</span></p>
        <p><span>Georgia (262)</span></p>
        <p><span>Taiwan (258)</span></p>
        <p><span>Swaziland (258)</span></p>
        <p><span>Greenland (249)</span></p>
        <p><span>Colombia (246)</span></p>
        <p><span>French Guiana (243)</span></p>
        <p><span>Gabon (241)</span></p>
        <p><span>Morocco (237)</span></p>
        <p><span>Dominican Republic (237)</span></p>
        <p><span>Cura√É¬ßao (236)</span></p>
        <p><span>Azerbaijan (235)</span></p>
        <p><span>Israel (234)</span></p>
        <p><span>Bahrain (234)</span></p>
        <p><span>Ecuador (233)</span></p>
        <p><span>Macau (233)</span></p>
        <p><span>Chile (232)</span></p>
        <p><span>Argentina (230)</span></p>
        <p><span>Malaysia (230)</span></p>
        <p><span>Honduras (229)</span></p>
        <p><span>Lithuania (221)</span></p>
        <p><span>Cambodia (220)</span></p>
        <p><span>Martinique (215)</span></p>
        <p><span>Fiji (210)</span></p>
        <p><span>Botswana (208)</span></p>
        <p><span>Mauritius (203)</span></p>
        <p><span>New Zealand (201)</span></p>
        <p><span>Paraguay (199)</span></p>
        <p><span>Singapore (199)</span></p>
        <p><span>Jordan (198)</span></p>
        <p><span>Saudi Arabia (197)</span></p>
        <p><span>Czech Republic (197)</span></p>
        <p><span>Poland (195)</span></p>
        <p><span>Tunisia (195)</span></p>
        <p><span>Slovakia (195)</span></p>
        <p><span>Moldova (194)</span></p>
        <p><span>New Caledonia (189)</span></p>
        <p><span>Estonia (187)</span></p>
        <p><span>Latvia (183)</span></p>
        <p><span>Montenegro (183)</span></p>
        <p><span>Suriname (183)</span></p>
        <p><span>Philippines (179)</span></p>
        <p><span>Venezuela (178)</span></p>
        <p><span>Albania (177)</span></p>
        <p><span>Hungary (173)</span></p>
        <p><span>Myanmar (171)</span></p>
        <p><span>Australia (170)</span></p>
        <p><span>Mexico (163)</span></p>
        <p><span>Kyrgyzstan (161)</span></p>
        <p><span>Bolivia (158)</span></p>
        <p><span>Kazakhstan (156)</span></p>
        <p><span>Serbia (156)</span></p>
        <p><span>Algeria (151)</span></p>
        <p><span>Uzbekistan (150)</span></p>
        <p><span>Scotland (149)</span></p>
        <p><span>Ukraine (148)</span></p>
        <p><span>Bhutan (145)</span></p>
        <p><span>Lebanon (144)</span></p>
        <p><span>Guatemala (143)</span></p>
        <p><span>England &amp; Wales (140)</span></p>
        <p><span>Nauru (140)</span></p>
        <p><span>Libya (139)</span></p>
        <p><span>Jamaica (138)</span></p>
        <p><span>Malta (131)</span></p>
        <p><span>Laos (130)</span></p>
        <p><span>Vietnam (128)</span></p>
        <p><span>Ethiopia (127)</span></p>
        <p><span>Micronesia (127)</span></p>
        <p><span>Guernsey (127)</span></p>
        <p><span>Iraq (126)</span></p>
        <p><span>Portugal (125)</span></p>
        <p><span>Bulgaria (125)</span></p>
        <p><span>Isle of Man (125)</span></p>
        <p><span>Spain (124)</span></p>
        <p><span>Uganda (124)</span></p>
        <p><span>Cameroon (124)</span></p>
        <p><span>Zambia (123)</span></p>
        <p><span>Tajikistan (121)</span></p>
        <p><span>China (120)</span></p>
        <p><span>Kuwait (117)</span></p>
        <p><span>Egypt (116)</span></p>
        <p><span>Zimbabwe (114)</span></p>
        <p><span>North Macedonia (112)</span></p>
        <p><span>Mongolia (110)</span></p>
        <p><span>Canada (107)</span></p>
        <p><span>Romania (107)</span></p>
        <p><span>Hong Kong (106)</span></p>
        <p><span>France (105)</span></p>
        <p><span>Sri Lanka (105)</span></p>
        <p><span>Luxembourg (105)</span></p>
        <p><span>UAE (104)</span></p>
        <p><span>Kenya (102)</span></p>
        <p><span>Italy (101)</span></p>
        <p><span>Indonesia (99)</span></p>
        <p><span>Austria (98)</span></p>
        <p><span>Belgium (95)</span></p>
        <p><span>Greece (95)</span></p>
        <p><span>Kosovo (95)</span></p>
        <p><span>Madagascar (93)</span></p>
        <p><span>Angola (93)</span></p>
        <p><span>Lesotho (92)</span></p>
        <p><span>Afghanistan (87)</span></p>
        <p><span>Cyprus (86)</span></p>
        <p><span>Burundi  (85)</span></p>
        <p><span>Monaco (83)</span></p>
        <p><span>Cote d'Ivoire  (82)</span></p>
        <p><span>Switzerland  (81)</span></p>
        <p><span>Haiti  (80)</span></p>
        <p><span>Croatia  (79)</span></p>
        <p><span>Ireland (79)</span></p>
        <p><span>Nepal  (79)</span></p>
        <p><span>Northern Ireland (78)</span></p>
        <p><span>Germany  (77)</span></p>
        <p><span>Armenia  (76)</span></p>
        <p><span>Malawi (76)</span></p>
        <p><span>Slovenia (69)</span></p>
        <p><span>Benin  (68)</span></p>
        <p><span>Senegal  (68)</span></p>
        <p><span>Djibouti (66)</span></p>
        <p><span>Togo (66)</span></p>
        <p><span>Andorra  (64)</span></p>
        <p><span>Denmark  (63)</span></p>
        <p><span>Equatorial Guinea  (63)</span></p>
        <p><span>Mozambique (63)</span></p>
        <p><span>Papua New Guinea (62)</span></p>
        <p><span>Sweden (61)</span></p>
        <p><span>Netherlands  (61)</span></p>
        <p><span>Norway (60)</span></p>
        <p><span>Sierra Leone (60)</span></p>
        <p><span>Syria  (60)</span></p>
        <p><span>Chad (59)</span></p>
        <p><span>Tanzania (59)</span></p>
        <p><span>Finland  (53)</span></p>
        <p><span>Mauritania (53)</span></p>
        <p><span>Qatar  (53)</span></p>
        <p><span>Yemen  (53)</span></p>
        <p><span>Bangladesh (52)</span></p>
        <p><span>Ghana  (52)</span></p>
        <p><span>Sudan  (52)</span></p>
        <p><span>Timor-Leste (52)</span></p>
        <p><span>Liberia  (50)</span></p>
        <p><span>South Sudan  (50)</span></p>
        <p><span>Niger  (44)</span></p>
        <p><span>Burkina Faso (39)</span></p>
        <p><span>Japan  (39)</span></p>
        <p><span>Pakistan (38)</span></p>
        <p><span>Iceland  (37)</span></p>
        <p><span>Nigeria  (36)</span></p>
        <p><span>Oman (36)</span></p>
        <p><span>India  (34)</span></p>
        <p><span>Mali (33)</span></p>
        <p><span>Gambia (31)</span></p>
        <p><span>Liechtenstein  (31)</span></p>
        <p><span>Democratic Republic of Congo (29)</span></p>
        <p><span>Guinea (28)</span></p>
        <p><span>Congo (27)</span></p>
        <p><span>Central African Republic (16)</span></p>
        <p><span>Guinea Bissau  (10)</span></p>
        <p><span>San Marino (6)</span></p>
      <p><a onclick="toggleExpand('per-one-hundred', 'per-one-hundred-inner')">Expand ‚ñº</a>
      </p></div>
    </div>

    <div id="country-rank">
      <div id="country-rank-inner">
        <h2>Number of people incarcerated <sup>[<a href="https://github.com/MKorostoff/incarceration-in-real-numbers/blob/master/SOURCES.md#incarceration-rates" target="_blank"></a>]</sup></h2>
        <p>USA (2.3M)</p>
        <p><span>China (1.7M)</span></p>
        <p><span>Brazil (747K)</span></p>
        <p><span>Russian Federation (524K)</span></p>
        <p><span>India (466K)</span></p>
        <p><span>Thailand (368K)</span></p>
        <p><span>Indonesia (267K)</span></p>
        <p><span>Turkey (265K)</span></p>
        <p><span>Iran (240K)</span></p>
        <p><span>Philippines (215K)</span></p>
        <p><span>Mexico (203K)</span></p>
        <p><span>South Africa (163K)</span></p>
        <p><span>Vietnam (124K)</span></p>
        <p><span>Colombia (123K)</span></p>
        <p><span>Ethiopia (114K)</span></p>
        <p><span>Egypt (106K)</span></p>
        <p><span>Argentina (103K)</span></p>
        <p><span>Myanmar  (92K)</span></p>
        <p><span>Peru (91K)</span></p>
        <p><span>Bangladesh (88K)</span></p>
        <p><span>Morocco (86K)</span></p>
        <p><span>United Kingdom: England &amp; Wales (83K)</span></p>
        <p><span>Pakistan (77K)</span></p>
        <p><span>Poland (74K)</span></p>
        <p><span>Malaysia (74K)</span></p>
        <p><span>Nigeria (73K)</span></p>
        <p><span>France (71K)</span></p>
        <p><span>Rwanda (65K)</span></p>
        <p><span>Germany (64K)</span></p>
        <p><span>Algeria (63K)</span></p>
        <p><span>Saudi Arabia (61K)</span></p>
        <p><span>Taiwan (61K)</span></p>
        <p><span>Italy (61K)</span></p>
        <p><span>Spain (58K)</span></p>
        <p><span>Cuba (57K)</span></p>
        <p><span>Venezuela (57K)</span></p>
        <p><span>Uganda (55K)</span></p>
        <p><span>Republic of  (55K)</span></p>
        <p><span>Ukraine (53K)</span></p>
        <p><span>Kenya (51K)</span></p>
        <p><span>Japan (49K)</span></p>
        <p><span>Iraq (45K)</span></p>
        <p><span>Uzbekistan (44K)</span></p>
        <p><span>Australia (43K)</span></p>
        <p><span>Chile (43K)</span></p>
        <p><span>Ecuador (40K)</span></p>
        <p><span>Canada (40K)</span></p>
        <p><span>El Salvador (38K)</span></p>
        <p><span>Cambodia (37K)</span></p>
        <p><span>Tanzania (36K)</span></p>
        <p><span>Belarus (33K)</span></p>
        <p><span>Afghanistan (31K)</span></p>
        <p><span>Cameroon (31K)</span></p>
        <p><span>Turkmenistan (30K)</span></p>
        <p><span>Kazakhstan (29K)</span></p>
        <p><span>Dominican Republic (26K)</span></p>
        <p><span>Guatemala (25K)</span></p>
        <p><span>Madagascar (25K)</span></p>
        <p><span>Angola (24K)</span></p>
        <p><span>Nepal (24K)</span></p>
        <p><span>Sri Lanka (23K)</span></p>
        <p><span>Azerbaijan (23K)</span></p>
        <p><span>Zambia (23K)</span></p>
        <p><span>Tunisia (23K)</span></p>
        <p><span>Cote d'Ivoire (21K)</span></p>
        <p><span>Czech Republic (21K)</span></p>
        <p><span>Sudan (21K)</span></p>
        <p><span>Nicaragua (21K)</span></p>
        <p><span>Romania (21K)</span></p>
        <p><span>Democratic Republic of Congo (21K)</span></p>
        <p><span>Honduras (21K)</span></p>
        <p><span>Jordan (20K)</span></p>
        <p><span>Mozambique (20K)</span></p>
        <p><span>Zimbabwe (19K)</span></p>
        <p><span>Israel (19K)</span></p>
        <p><span>Costa Rica (19K)</span></p>
        <p><span>Bolivia (18K)</span></p>
        <p><span>Panama (17K)</span></p>
        <p><span>Hungary (17K)</span></p>
        <p><span>Ghana (15K)</span></p>
        <p><span>Malawi (15K)</span></p>
        <p><span>Yemen (14K)</span></p>
        <p><span>Paraguay (14K)</span></p>
        <p><span>Portugal (13K)</span></p>
        <p><span>Singapore (12K)</span></p>
        <p><span>Senegal (12K)</span></p>
        <p><span>Belgium (11K)</span></p>
        <p><span>Serbia (11K)</span></p>
        <p><span>Burundi (11K)</span></p>
        <p><span>Slovakia (11K)</span></p>
        <p><span>Syria (11K)</span></p>
        <p><span>Puerto Rico  (10K)</span></p>
        <p><span>Netherlands (10K)</span></p>
        <p><span>Uruguay (10K)</span></p>
        <p><span>Greece (10K)</span></p>
        <p><span>Kyrgyzstan (10K)</span></p>
        <p><span>New Zealand (10K)</span></p>
        <p><span>United Arab Emirates (10K)</span></p>
        <p><span>Georgia (10K)</span></p>
        <p><span>Niger (10K)</span></p>
        <p><span>Tajikistan (9K)</span></p>
        <p><span>Libya (9K)</span></p>
        <p><span>Bulgaria (9K)</span></p>
        <p><span>Laos (9K)</span></p>
        <p><span>Haiti (9K)</span></p>
        <p><span>Chad (9K)</span></p>
        <p><span>Austria (9K)</span></p>
        <p><span>United Kingdom: Scotland (8K)</span></p>
        <p><span>Hong Kong  (8K)</span></p>
        <p><span>Benin (8K)</span></p>
        <p><span>Burkina Faso (8K)</span></p>
        <p><span>Namibia (7K)</span></p>
        <p><span>South Sudan (7K)</span></p>
        <p><span>Lebanon (7K)</span></p>
        <p><span>Switzerland (7K)</span></p>
        <p><span>Moldova  (7K)</span></p>
        <p><span>Sweden (6K)</span></p>
        <p><span>Lithuania (6K)</span></p>
        <p><span>Mali (5K)</span></p>
        <p><span>Togo (5K)</span></p>
        <p><span>Papua New Guinea (5K)</span></p>
        <p><span>Albania (5K)</span></p>
        <p><span>Sierra Leone (5K)</span></p>
        <p><span>Kuwait (5K)</span></p>
        <p><span>Gabon (4K)</span></p>
        <p><span>Botswana (4K)</span></p>
        <p><span>Trinidad and Tobago (4K)</span></p>
        <p><span>Ireland, Republic of (4K)</span></p>
        <p><span>Jamaica (4K)</span></p>
        <p><span>Guinea  (4K)</span></p>
        <p><span>Denmark (4K)</span></p>
        <p><span>Latvia (4K)</span></p>
        <p><span>Bahrain (3K)</span></p>
        <p><span>Swaziland/eSwatini (3K)</span></p>
        <p><span>Mongolia (3K)</span></p>
        <p><span>Croatia (3K)</span></p>
        <p><span>Norway (3K)</span></p>
        <p><span>Finland (3K)</span></p>
        <p><span>Mauritius (3K)</span></p>
        <p><span>Estonia (2K)</span></p>
        <p><span>Liberia (2K)</span></p>
        <p><span>North Macedonia (2K)</span></p>
        <p><span>Mauritania (2K)</span></p>
        <p><span>Armenia (2K)</span></p>
        <p><span>Guyana (2K)</span></p>
        <p><span>Lesotho (2K)</span></p>
        <p><span>Fiji (2K)</span></p>
        <p><span>Maldives (2K)</span></p>
        <p><span>Bahamas (2K)</span></p>
        <p><span>Bosnia and Herzegovina: Federation (2K)</span></p>
        <p><span>Kosovo/Kosova (2K)</span></p>
        <p><span>Macau  (2K)</span></p>
        <p><span>Cape Verde  (2K)</span></p>
        <p><span>United Kingdom: Northern Ireland (1K)</span></p>
        <p><span>Slovenia (1K)</span></p>
        <p><span>Brunei Darussalam (1K)</span></p>
        <p><span>Oman (1K)</span></p>
        <p><span>Belize (1K)</span></p>
        <p><span>Congo  (1K)</span></p>
      <p><a onclick="toggleExpand('country-rank', 'country-rank-inner')">Expand ‚ñº</a>
      </p></div>
    </div>

    <div>
      <p>There are more incarcerated people than members of almost any profession. There are more incarcerated people than military personnel. There are more incarcerated people than bus drivers, bar tenders, and hair dressers combined. [<a target="_blank" href="https://github.com/MKorostoff/incarceration-in-real-numbers/blob/master/SOURCES.md#incarceration-compared-to-professions"></a>]</p>
    </div>

    <div>
      <p>
        More Americans are incarcerated today than there have been Americans killed in all of the wars in all of history combined.
      </p>
    </div>

    <div id="casualties">
      <div>
        <h2>Incarceration compared to casualties of war <sup>[<a target="_blank" href="https://github.com/MKorostoff/incarceration-in-real-numbers/blob/master/SOURCES.md#american-war-dead"></a>]</sup></h2>
        <p>Americans currently incarcerated (2.3M)</p>
        <p>American war dead, all of history combined (1.3M)</p>
        <p>American war wounded, all of history combined (1.5M)</p>
      </div>
    </div>

    <div>
      <p>While the incarcerated population is unfathomably large, it is just the tip of the iceberg.</p>
    </div>

    <div id="correctional-population">
      <div>
        <h2>The total correctional population <sup>[<a href="https://github.com/MKorostoff/incarceration-in-real-numbers/blob/master/SOURCES.md#total-correctional-population" target="_blank"></a>]</sup></h2>
        <div>

          <div>
            <p>Currently incarcerated (2.3M)</p>
          </div>

          <div>
            <p>Will be incarcerated this year (4.9M)</p>
          </div>

          <div>
            <p>Alive currently, will go to prison ever (10.9M)</p>
          </div>

          <div>
            <p>Has a criminal record (77M)</p>
          </div>

          <div>
            <p>Ever had an immediate family member incarcerated (113M)</p>
          </div>

        </div>
      </div>
    </div>

    <div>
      <p>Almost no one gets a trial.</p>
    </div>

    <div>
      <p><img src="https://mkorostoff.github.io/incarceration-in-real-numbers/img/person/blue.svg">Notice that the background icons have changed. The blue icons are the portion of incarcerated people who got trials, around 2%.</p>
    </div>

    <div>
      <p>Almost all accused people are extorted into taking plea bargains under the threat of a longer sentence, the ruinous cost of mounting a defense, and the wildly under-resourced public defender system. [<a href="https://github.com/MKorostoff/incarceration-in-real-numbers/blob/master/SOURCES.md#plea-bargains" target="_blank"></a>]</p>
    </div>

    <div>
      <p>No other country on earth incarcerates so many people without trial. ‚Ä¶</p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mkorostoff.github.io/incarceration-in-real-numbers/">https://mkorostoff.github.io/incarceration-in-real-numbers/</a></em></p>]]>
            </description>
            <link>https://mkorostoff.github.io/incarceration-in-real-numbers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485820</guid>
            <pubDate>Sun, 20 Dec 2020 12:32:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Meritocracies Are Unfair ‚Äì and That's the Point]]>
            </title>
            <description>
<![CDATA[
Score 57 | Comments 106 (<a href="https://news.ycombinator.com/item?id=25485766">thread link</a>) | @whack
<br/>
December 20, 2020 | https://outlookzen.com/2020/12/20/meritocracies-are-unfair-and-thats-the-point/ | <a href="https://web.archive.org/web/*/https://outlookzen.com/2020/12/20/meritocracies-are-unfair-and-thats-the-point/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<figure><a href="https://en.as.com/en/2020/04/13/other_sports/1586800170_771249.html" target="_blank"><img data-attachment-id="1212" data-permalink="https://outlookzen.com/bolt/" data-orig-file="https://outlookzen.files.wordpress.com/2020/12/bolt.jpeg" data-orig-size="1242,1114" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="bolt" data-image-description="" data-medium-file="https://outlookzen.files.wordpress.com/2020/12/bolt.jpeg?w=300" data-large-file="https://outlookzen.files.wordpress.com/2020/12/bolt.jpeg?w=1024" src="https://outlookzen.files.wordpress.com/2020/12/bolt.jpeg?w=1024" alt="" srcset="https://outlookzen.files.wordpress.com/2020/12/bolt.jpeg?w=1024 1024w, https://outlookzen.files.wordpress.com/2020/12/bolt.jpeg?w=150 150w, https://outlookzen.files.wordpress.com/2020/12/bolt.jpeg?w=300 300w, https://outlookzen.files.wordpress.com/2020/12/bolt.jpeg?w=768 768w, https://outlookzen.files.wordpress.com/2020/12/bolt.jpeg 1242w" sizes="(max-width: 1024px) 100vw, 1024px"></a></figure>



<p>When your father suffers a heart attack and needs emergency surgery, who would you rather have operating on him?</p>



<p>An inspiring doctor who lost an arm in a tragic car accident, and still heroically manages to attain an average level of success as a surgeon?<br>Or the son of a multimillionaire who has breezed through life with minimal setbacks, and boasts one of the best surgical track records?</p>



<hr>



<p>There is a common perception that a meritocracy is the most fair way to run society. That because we are avoiding bias and favoritism and picking candidates purely based on their capabilities and achievements, a meritocratic system is the most fair of all.&nbsp;</p>



<p>Such a belief is hogwash. There‚Äôs nothing ‚Äúfair‚Äù about not selecting the surgeon who lost his arm in a car accident, and is now trying desperately to hold on to his career. There‚Äôs nothing fair about the fact that some people are born into good circumstances which confer a tremendous headstart in life. There‚Äôs nothing fair about the fact that so many of society‚Äôs most accomplished individuals grew up in upper-middle-class families that nurtured them, raised them well, and gave them access to highly regarded schools and teachers.</p>



<p>A meritocracy never was, and never will be, ‚Äúfair‚Äù. <strong>And that‚Äôs the whole point.</strong></p>



<p>The reason meritocracies work so well, is not because they are fair, but because they produce peak performance.</p>



<p>NFL teams draft the ‚Äúbest‚Äù players they can find, because they know that‚Äôs how they can win the most games. Universities grant tenure to the most productive professors, because that will best enhance the University‚Äôs reputation, and further the frontiers of knowledge. Hospitals hire the best doctors, because they can save the most lives.&nbsp;</p>



<p>Hiring people who are ‚Äúgood enough‚Äù is simply not good enough. There has never been, and never will be, a team that won the world cup by selecting players who are ‚Äúgood enough.‚Äù And what‚Äôs true for a kid‚Äôs game, is doubly true for our society. A society should delegate its jobs to those who are smartest, most capable, and most accomplished in that field. Because they are the ones who can best lead society through the worldly challenges we face everyday. Corrupting this process by discriminating on the basis of family ties, personal friendships, wealth, race, or gender, is simply cutting your nose to spite your face.</p>



<p>Which is not to say that ‚Äúfairness‚Äù and Social Justice isn‚Äôt important. It is vital. But you don‚Äôt get to it by hiring less qualified candidates. By turning down the best possible candidate in favor of someone who is more sympathetic and ‚Äúgood enough‚Äù. A meritocracy excels at producing wealth and economic prosperity. Universal basic income, universal healthcare, unemployment insurance, better public schooling and free job trainings‚Ä¶ these are the kind of Social Justice programs that can share the resulting prosperity among everyone.</p>



<p>Social justice teaches us how to distribute the pie fairly, so that no one is left behind. This is absolutely essential, and something we should always keep in mind. But social justice doesn‚Äôt have all the answers on how to grow the pie in the first place. And unless we harness the power of a meritocracy to keep the pie growing, we will all soon be fighting over scraps.</p>



<hr>



<p><a rel="noreferrer noopener" href="https://news.ycombinator.com/item?id=25485766" target="_blank"><em>Discussion thread on HackerNews</em></a></p>



<p><em><strong>Addendum</strong>: This article‚Äôs thesis is that we should select/hire candidates who will perform best in the role, regardless of their personal circumstances. Many have mentioned that traditional methods of assessment may be flawed, incomplete, or biased. In accordance with the thesis, we should certainly strive to refine our assessment methods, and continually make them more accurate. This article is certainly not stating that current methods of assessment are perfect.</em></p>



<p><em>Many have also brought up the point that personal circumstances often do impact job performance. For example, <a rel="noreferrer noopener" href="https://www.gsb.stanford.edu/insights/diversity-work-group-performance" target="_blank">some studies have suggested that diverse teams perform better than homogenous teams</a>, especially in certain job roles. If you are an ardent believer in improving team performance, this would mean taking into account any demographic info that would help the organization perform better. This is also a double-edged sword for a couple reasons:<br>1. By legalizing the use of race or gender as a factor in hiring decisions, you would also be enabling prejudiced employers who discriminate against women or minorities, for purely bigoted reasons<br>2. <a rel="noreferrer noopener" href="https://archive.boston.com/news/globe/ideas/articles/2007/08/05/the_downside_of_diversity/" target="_blank">Studies have also found that communities operate better in some ways, when they are more homogenous</a>. If more such studies are unearthed in future, the same reasoning above could be used to justify discriminating against all women and people of color. Something most of us, including myself, would consider to be dystopian.</em></p>
	</div><div>
				<p><strong>Published</strong>
			<time datetime="2020-12-20T07:05:42-05:00">December 20, 2020</time><time datetime="2020-12-21T08:16:07-05:00">December 21, 2020</time>		</p><!-- .site-posted-on -->
	</div></div>]]>
            </description>
            <link>https://outlookzen.com/2020/12/20/meritocracies-are-unfair-and-thats-the-point/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485766</guid>
            <pubDate>Sun, 20 Dec 2020 12:19:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[11.49% of my living costs were covered by passive income in 2020]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 3 (<a href="https://news.ycombinator.com/item?id=25485664">thread link</a>) | @lucas03
<br/>
December 20, 2020 | https://www.lucas03.com/path-to-my-financial-independence/ | <a href="https://web.archive.org/web/*/https://www.lucas03.com/path-to-my-financial-independence/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p>I thought I will write down how am I doing with reaching financial independence, to track progress and see if it is doable, or I need to do major changes. So I‚Äôll be updating this page yearly with recent passive income that is covering my living costs. And I‚Äôll add a short paragraph to each year, might be nice to read in retrospective üôÇ</p>



<h2>TLDR table</h2>



<figure><table><tbody><tr><td>Year</td><td>Costs increase (compared to the previous year)</td><td>passive income covering costs</td></tr><tr><td>2020</td><td>-26%</td><td>11.49%</td></tr><tr><td>2019</td><td>+24%</td><td>6,14% (10% without car)</td></tr><tr><td>2018</td><td>+29%</td><td>‚Äì</td></tr><tr><td>2017</td><td>+20%</td><td>‚Äì</td></tr><tr><td>2016</td><td>base</td><td>‚Äì</td></tr></tbody></table></figure>



<p><strong>Goal? Get passive income to 100%</strong>. And then just slowly grow it and diversify to make it safer. Looking forward to seeing how will it look like in 10/20 years!</p>



<h2>2021</h2>



<p>Let‚Äôs set a goal. <strong>15% costs coverage</strong> in 2021 seems a reachable value! It all depends on how I will keep my costs down.</p>



<h2>2020</h2>



<p>Corona year. As for investing, it was a great year. I have saved a lot by not having as many abroad holidays as I used to have in previous years. Stock prices in March were extremely cheap, I bought triple the amount in March that I used to buy monthly before. I expected this sell-off will last the whole year, but unfortunately for me, it rebounded within a few months. Still, this was probably the best year I will experience in the following decade. <strong>11.49% is an important number</strong> for 2020 ‚Äì the percentage of costs covered by my passive income. After 5 years of investing, it‚Äôs not much.</p>



<p>But I am optimistic for a few reasons:</p>



<ol><li>If corona crisis does not bankrupt p2p lending platforms, I will probably invest more there. It seems to be 11% stable XIRR, which is much higher compared to dividends from stocks (3-4%). </li><li>Some companies cut or suspended their dividends -&gt; hopefully, they will put them back in the following years -&gt; increasing my passive income.</li><li>On top of my monthly deposits, reinvestments of passive impact have a greater impact than ever before. Compound interested, let‚Äôs keep it rolling!</li></ol>



<p>We will see, maybe I would find real estate in 2021 and it will trim my stock investments significantly. Also in capital gains (crypto and stocks), I have made probably 150% of all my costs in 2020 -&gt; which is great, but I am not taking profit, and it may go back down.</p>



<h2>2019</h2>



<p>This year was hopefully the year when my massive increases in costs stop. I have bought a car in 2019 ‚Äì it is 10 years old Honda Accord, so not that expensive, but still had a huge impact on my costs (car itself, insurance, gas, repairs, ‚Ä¶). Overall I ended up with passive income covering 6.14%, which is horrible after over 4 years of investing. If it grew 6% every 4 years, I <strong>would get 100% of my costs covered in 62 years</strong>. And that is assuming, I will have same costs in 62 years ‚Äì looking at yearly increases and inflation, unrealistic.</p>



<h2>History</h2>



<p>For P2P lending, I started with 1000 euros on <a href="https://www.lucas03.com/link/bondora">bondora</a>, which did not prove to be that profitable. I then only slowly increased my deposit, that is why it does not have that big of an impact on my passive income.</p>



<p>For investing, I have started with small payments in December 2015, still being a student and doing only 1 small stock purchase per month. Luckily it stuck with me and I believe after 5 years, I build up a good habit of monthly investing.</p>

	</div></div>]]>
            </description>
            <link>https://www.lucas03.com/path-to-my-financial-independence/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485664</guid>
            <pubDate>Sun, 20 Dec 2020 11:56:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Efficient Navigation in Vim]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25485636">thread link</a>) | @gauchojs
<br/>
December 20, 2020 | https://blog.bespinian.io/posts/efficient-navigation-in-vim/ | <a href="https://web.archive.org/web/*/https://blog.bespinian.io/posts/efficient-navigation-in-vim/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <p>When editing a file, it is quite crucial that you can navigate your cursor around rather quickly. <a href="https://www.vim.org/">Vim</a> and <a href="https://neovim.io/">NeoVim</a> allow for many different ways of doing so which, depending on the situation, can be more or less efficient and useful. This article examines the different ways of moving the cursor and compares them. Here, the term ‚Äúefficiency‚Äù refers to navigating the cursor with as little time and effort (i.e. the number of keystrokes) as possible.</p>
<h2 id="using-the-mouse">Using the Mouse</h2>
<p><strong>TL;DR: Not recommended</strong></p>
<p>Using the mouse pointer to navigate Vim may seem like an obvious choice for users coming from a GUI editor like <a href="https://code.visualstudio.com/">Visual Studio Code</a> or similar. However, in Vim, the goal is to keep your fingers on the ‚Äúhome row‚Äù of the keyboard (the row where the <code>F</code> and the <code>J</code> keys reside) and not having to move them greatly towards the touchpad or even the mouse. This should reduce the strain on your hands and wrists and make editing more efficient. Therefore, navigating with the mouse should be highly discouraged in most situations and is even disabled by default.</p>
<p>It can be helpful to enable it for users transitioning from one of the aforementioned editors who would like to have a smooth transition by allowing themselves to use the mouse initially and switching it back off again later in their learning journey. To turn on mouse navigation, add the following to your configuration file (either <code>~/.vimrc</code> or <code>~/.config/nvim/init.vim</code>):</p>
<div><pre><code data-lang="vim"><span>" Temporarily enable mouse support</span><span>
</span><span></span><span>set</span> <span>mouse</span>=<span>a</span><span>
</span></code></pre></div><p>This will allow you to point and click to move the cursor and to scroll through the current buffer.</p>
<h2 id="using-the-arrow-keys">Using the Arrow Keys</h2>
<p><strong>TL;DR: Not recommended</strong></p>
<p>Again, for users used to other text editors or even word processing software like <a href="https://www.libreoffice.org/discover/writer/">LibreOffice Writer</a>, it may be tempting to use what they know. In these programs, you mostly use the arrow keys for keyboard-based navigation. This is not recommended because‚Ä¶ you guessed it: They require the user to move their fingers away from the home row.</p>
<p>The alternative is, as described in the next section, to use the <code>h</code>, <code>j</code>, <code>k</code> and <code>l</code> keys on the keyboard which are conveniently placed at the center and where you most likely have your fingers most of the time.</p>
<h2 id="using-hjkl">Using h,j,k,l</h2>
<p><strong>TL;DR: Use for small navigations. Use in combination with relative line numbers.</strong></p>
<p><code>h</code>, <code>j</code>, <code>k</code> and <code>l</code> are the basic movement keys in Vim. They should be used instead of the usual arrow keys on the keyboard to, as discussed above, keep your fingers on the home row as much as possible. It takes a little practice but will pay off in the long run.</p>
<p>One hugely important thing to do with these keys is to not press them multiple times in sequence or even hold them down to move several columns or rows. As with many commands in Vim, they can be prefixed with numbers to move multiple times. For example, <code>12j</code> can be used rather than pressing the <code>j</code> key twelve times which is, obviously, much more efficient (3 vs. 12 keystrokes). However, it is recommendable to only use these keys for small movements and mostly to move lines up or down because there are more efficient ways of moving longer vertical distances or horizontal distances in general.</p>
<p>It can be very useful to enable relative line numbers to see at a glance what number to prefix <code>j</code> or <code>k</code> with to move to a certain line. They can be enabled by adding the following two lines to your configuration file:</p>
<div><pre><code data-lang="vim"><span>" Enable relative line numbers</span><span>
</span><span></span><span>set</span> <span>relativenumber</span><span>
</span><span></span><span>set</span> <span>number</span><span>
</span></code></pre></div><p>This will always show the absolute number of the line the cursor is currently on and relative numbers for all others.</p>
<h2 id="navigation-within-a-line">Navigation Within a Line</h2>
<p><strong>TL;DR: Mostly use <code>f</code>. Also consider <code>w</code>,<code>b</code>,<code>e</code>,<code>^</code> and <code>$</code>.</strong></p>
<p>So far, we‚Äôve mostly looked at navigating from one line to another. The next step is to navigate within a line. In many cases, the straight forward thing to do is to use <code>w</code> or <code>W</code> to move to the next word, <code>b</code> or <code>B</code> to move to the previous word or even <code>e</code> or <code>E</code> to move directly to the end of the next word. For all of them, the lowercase variant considers a ‚Äúword‚Äù to be what we intuitively see as one using delimiters like <code>-</code>, <code>/</code> or <code>.</code> to separate one word from another. The uppercase variant considers anything a word that is delimited by whitespace. Obviously, any of these commands can be prefixed with a number to jump multiple words in one go (e.g. <code>7w</code>). Other useful commands are <code>^</code> which moves to the first non-whitespace character of the line and <code>$</code> to move to the last character of a line. Considering the following line</p>
<p>with the cursor currently on the <code>g</code> character, pressing the following commands is the most efficient way to get to a specific target character:</p>
<table>
<thead>
<tr>
<th>Target Character</th>
<th>Command</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>j</code></td>
<td><code>2w</code></td>
</tr>
<tr>
<td><code>m</code></td>
<td><code>W</code></td>
</tr>
<tr>
<td><code>d</code></td>
<td><code>B</code></td>
</tr>
<tr>
<td><code>i</code></td>
<td><code>e</code></td>
</tr>
<tr>
<td><code>l</code></td>
<td><code>E</code></td>
</tr>
<tr>
<td><code>a</code></td>
<td><code>^</code> or <code>0</code></td>
</tr>
<tr>
<td><code>o</code></td>
<td><code>$</code></td>
</tr>
</tbody>
</table>
<p>When moving multiple words back and forth or to a specific place within a word, <code>t</code> and <code>f</code> are incredibly helpful. Especially <code>f</code> moves to the next occurrence of a specific character which lets you make big jumps within a line. The difference is that <code>f</code> moves to a character and <code>t</code> moves to right before a character. So <code>t</code> is mostly useful for deleting everything to a character. These commands' uppercase variants <code>F</code> and <code>T</code> do the same thing but backwards. All of these commands can be ‚Äúrepeated‚Äù with the <code>;</code> command which jumps to the next occurrence of the targeted character while <code>,</code> jumps to the previous one.</p>
<p>Another command worth mentioning at this point is <code>%</code> which you can use when a character which is part of a pair (e.g. <code>[</code> or <code>}</code>) is currently under your cursor. The <code>%</code> command will take the cursor to the corresponding ‚Äúpartner‚Äù of that character in the pair. So placing the cursor on a <code>(</code> and then executing this command will take you to its closing <code>)</code>.</p>
<h2 id="changelist-and-jumplist">Changelist and Jumplist</h2>
<p><strong>TL;DR: Use <code>ctrl+o</code> and <code>ctrl+i</code> to jump ‚Äúback‚Äù and ‚Äúforward‚Äù. Use <code>g;</code> to jump to last edit.</strong></p>
<p>The jumplist contains all the points in any buffer you recently jumped to (e.g. with <code>12j</code>). It can be accessed with <code>:jumps</code>. The commands to jump back and forth in the jumplist are <code>ctrl+o</code> and <code>ctrl+i</code> respectively. They can be very useful because they act like the ‚Äúback‚Äù and ‚Äúforward‚Äù buttons in a web browser.</p>
<p>The changelist on the other hand contains all the points in the current buffer where you have recently changed something. It can be accessed with the <code>:changes</code> command. A very useful command here is <code>g;</code> which jumps to the last place where you have changed something (i.e. jumps back in the changelist). <code>g,</code> on the other hand takes you back to where you were before (i.e. jumps forward in the changelist). This allows you to easily switch back and forth between a point of reference (e.g. some documentation) and the place where you are currently editing.</p>
<h2 id="search">Search</h2>
<p><strong>TL;DR: Great for moving larger distances vertically and horizontally</strong></p>
<p>By far one of the most efficient ways of moving longer distances horizontally and vertically in a buffer is to use the search. The <code>/</code> key lets you search for a term and conveniently jump to its location. Pressing the <code>n</code> and <code>N</code> keys jumps to the next and previous occurrence of the search term respectively. The <code>?</code> key searches backwards from the current cursor position (which inverts <code>n</code> and <code>N</code>). Even though, the main purpose of the search command is obviously to search, it is an incredibly powerful tool to navigate quickly and efficiently.</p>
<p>The user experience of the search command can be vastly improved by adding the following settings to your configuration file:</p>
<div><pre><code data-lang="vim"><span>" Incrementally search while typing</span><span>
</span><span></span><span>set</span> <span>incsearch</span><span>
</span><span></span><span>" Use smart case for searching</span><span>
</span><span></span><span>set</span> <span>ignorecase</span><span>
</span><span></span><span>set</span> <span>smartcase</span><span>
</span><span></span><span>" Highlight searches</span><span>
</span><span></span><span>set</span> <span>hlsearch</span><span>
</span><span></span><span>" Use &lt;C-L&gt; to clear the highlighting of :set hlsearch.</span><span>
</span><span></span><span>if</span> <span>maparg</span>(<span>'&lt;C-L&gt;'</span>, <span>'n'</span>) ==# <span>''</span><span>
</span><span></span>  <span>nnoremap</span> &lt;<span>silent</span>&gt; &lt;<span>C</span>-<span>L</span>&gt; :<span>nohlsearch</span>&lt;<span>C</span>-<span>R</span>&gt;=<span>has</span>(<span>'diff'</span>)?<span>'&lt;Bar&gt;diffupdate'</span>:<span>''</span>&lt;<span>CR</span>&gt;&lt;<span>CR</span>&gt;&lt;<span>C</span>-<span>L</span>&gt;<span>
</span><span></span><span>endif</span><span>
</span></code></pre></div><p><code>incsearch</code> will make sure that the search pattern is applied incrementally while typing instead of only after pressing the enter key. The combination of <code>ignorecase</code> and <code>smartcase</code> ignores the case of the search term when not using any uppercase letters and doesn‚Äôt ignore it when using at least one uppercase letter which is quite convenient and surprisingly intuitive. <code>hlsearch</code> highlights any matches for the search term allowing to easily jump between them using <code>n</code> and <code>N</code>. The last statement lets you clear the highlighted search results by pressing <code>ctrl+l</code> to unclutter your view once done searching and jumping.</p>
<p>All in all, search is one of the most powerful tools for intuitive and efficient navigation. It covers the common use case of knowing the word or part of a word to navigate to but not having your eyes directly pointed there yet. Furthermore, it‚Äôs simply the fastest way of jumping somewhere in many cases and beats other methods of navigation quite often in that regard.</p>
<h2 id="clunky-movements">Clunky Movements</h2>
<p><strong>TL;DR: Use for very specific use cases only. Consider <code>gg</code> and <code>G</code> for getting to know a file.</strong></p>
<p>In this section we‚Äôll discuss what can be referred to as ‚Äúclunky movements‚Äù. They let the user navigate larger distances in the buffer while sacrificing precision. These commands are less useful for exactly that reason. Vim can be a very efficient text editor by letting the user think about what they want to change, jumping precisely there with very few keystrokes, entering insert mode, performing a change with scalpel-like precision and finally exiting insert mode as soon as it‚Äôs done. The movement commands in this section however, get the cursor around the document as a whole while it‚Äôs hard for the user to predict at a glance, which line and column exactly they will land on.</p>
<p>A good example are the <code>H</code>, <code>M</code> and <code>L</code> keys which take the cursor to the top, the middle or the bottom of the current view port respectively. While this is a very big movement with just one keystroke, it‚Äôs highly likely that they won‚Äôt exactly get the cursor to the line needed but rather will have to be accompanied by pressing <code>j</code> or <code>k</code> multiple times which will result in much more thinking and many more keystrokes than what can be achieved with other methods. Similar are the <code>{</code> and <code>}</code> keys which take the cursor to the next paragraph (a block of text delimited by blank lines).</p>
<p>A useful exception to that are the <code>gg</code> and <code>G</code> commands which take the cursor to ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.bespinian.io/posts/efficient-navigation-in-vim/">https://blog.bespinian.io/posts/efficient-navigation-in-vim/</a></em></p>]]>
            </description>
            <link>https://blog.bespinian.io/posts/efficient-navigation-in-vim/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485636</guid>
            <pubDate>Sun, 20 Dec 2020 11:51:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: UserCV - sell your Digital services online with custom domain Profile]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25485592">thread link</a>) | @freelancercv
<br/>
December 20, 2020 | https://freelancercv.com/services | <a href="https://web.archive.org/web/*/https://freelancercv.com/services">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p> I will do HTML, CSS Development or Fix of any bug or error for your front-end website or HTML, HTML5, CSS, CSS3 design I will do PHP programming Development or Fix any PHP bug or PHP error in your PHP Script or PHP website I will do Wordpress Website development and Customization for you I will do all laravel work like API or Create Dynamic Website or CRUD Development etc I will add payment gateway to you website or CMS or Laravel app - Paypal, Braintree, Paystack, Instamojo, Razorpay, Stripe &amp; 30+ gateway I will setup &amp; build amazing wordpress website or wordpress ecommerce store with an elegant design and scalable high performance website. I will send 500 Daily Traffic to your website for One (1) Month to improve SEO and Alexa Ranking I will send 2000 Daily Traffic to your website for One (1) Month to improve SEO and Alexa Ranking Guaranteed Google 1st ( first ) Page Rank with Content Marketing for 499$ a Month I will create an Android Application for your website or for and of yours custom android development requirement I will turn your website into Android App - where you can allow any user to install your android app for your website I will give you an ultimate SEO report for your website with detail missing things and how to improve further to rank your page for any specific keyword! I can do favor for any business and organization or personal /professional websites Logo design easily. You can hire me and take a look of my creativity. I will do any sort of php programming or problem solving in php for you. I will create your dynamic website , debug or modify you existing php scripts. Or satisfy your customized requirements. I will Encode, Encrypt &amp; hide your PHP file Source code with Ioncube Encoder CodeCanyons.net - Product Installation Support &amp; Service I Will Design And Develop Fully Responsive Wordpress Website for your business or landing page or SAAS or for your MVP product. Hire Laravel Developers for your Professional or Personal or Business Project or Web App Development I Will Fix And Develop Dynamic PHP Laravel Websites. I have 4+ years of experience with Laravel framework. I love developing dynamic websites with features which make people's lives easier. I can provide you with quality services. I Will Build New Wordpress Site using Divi Builder And Fix Wordpress Issues I Will Develop a Web Application In Laravel Framework. If you are looking for a responsive professional website that needs to be build on Laravel then you are at a right place. I Will Design Divi Wordpress Website, Customize Divi Theme Using Divi Builder. I Will Do Your Golang Project, Script Or Fix Errors I Will Code Or Fix The Program In Golang , Go Programming Language</p>
</div></div>]]>
            </description>
            <link>https://freelancercv.com/services</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485592</guid>
            <pubDate>Sun, 20 Dec 2020 11:40:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Highlights: The Compound Effect by Darren Hardy]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25485497">thread link</a>) | @chegra
<br/>
December 20, 2020 | https://www.chestergrant.com/highlights-the-compound-effect-by-darren-hardy | <a href="https://web.archive.org/web/*/https://www.chestergrant.com/highlights-the-compound-effect-by-darren-hardy">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post_body_1629895">
    
      <div><center>        <div id="posthaven_gallery[1654635]">
          <p>
          <img src="https://phaven-prod.s3.amazonaws.com/files/image_part/asset/2551215/WTTBALxHaQEXsBIXI7mRVLu0N9E/medium_compound_effect.jpg" data-posthaven-state="processed" data-medium-src="https://phaven-prod.s3.amazonaws.com/files/image_part/asset/2551215/WTTBALxHaQEXsBIXI7mRVLu0N9E/medium_compound_effect.jpg" data-medium-width="361" data-medium-height="500" data-large-src="https://phaven-prod.s3.amazonaws.com/files/image_part/asset/2551215/WTTBALxHaQEXsBIXI7mRVLu0N9E/large_compound_effect.jpg" data-large-width="361" data-large-height="500" data-thumb-src="https://phaven-prod.s3.amazonaws.com/files/image_part/asset/2551215/WTTBALxHaQEXsBIXI7mRVLu0N9E/thumb_compound_effect.jpg" data-thumb-width="200" data-thumb-height="200" data-xlarge-src="https://phaven-prod.s3.amazonaws.com/files/image_part/asset/2551215/WTTBALxHaQEXsBIXI7mRVLu0N9E/xlarge_compound_effect.jpg" data-xlarge-width="361" data-xlarge-height="500" data-orig-src="https://phaven-prod.s3.amazonaws.com/files/image_part/asset/2551215/WTTBALxHaQEXsBIXI7mRVLu0N9E/compound_effect.jpg" data-orig-width="361" data-orig-height="500" data-posthaven-id="2551215">
        </p>
          
        </div>
</center><p>1. Einstein said, √¢‚Ç¨ÀúCompounding is the eighth wonder of the world.√¢‚Ç¨‚Ñ¢</p><p>2.√Ç&nbsp;You√¢‚Ç¨‚Ñ¢ve been bamboozled
for too long. There is no magic bullet, secret formula, or quick fix.</p><p>3.√Ç&nbsp;Earning success is
hard. The process is laborious, tedious, sometimes even boring.
Becoming wealthy, influential, and world-class in your field is
slow and arduous.</p><p>4. I√¢‚Ç¨‚Ñ¢ll win
because of the positive habits I√¢‚Ç¨‚Ñ¢ve developed, and because of
the consistency I use in applying those habits. I√¢‚Ç¨‚Ñ¢m the world√¢‚Ç¨‚Ñ¢s
biggest believer in consistency. I√¢‚Ç¨‚Ñ¢m living proof that it√¢‚Ç¨‚Ñ¢s the
ultimate key to success, yet it√¢‚Ç¨‚Ñ¢s one of the biggest pitfalls
for people struggling to achieve.</p><p>5.√Ç&nbsp;One of Dad√¢‚Ç¨‚Ñ¢s core philosophies was, √¢‚Ç¨≈ìIt doesn√¢‚Ç¨‚Ñ¢t matter how
smart you are or aren√¢‚Ç¨‚Ñ¢t, you need to make up in hard work what
you lack in experience, skill, intelligence, or innate ability. If your
competitor is smarter, more talented, or experienced, you just
need to work three or four times as hard. You can still beat them!√¢‚Ç¨ÔøΩ</p><p>6. Small, seemingly
insignificant steps completed consistently over time will create a
radical difference. Let me give you a few detailed examples.√Ç&nbsp;</p><p>7. Small, Smart Choices + Consistency + Time = RADICAL DIFFERENCE</p><p>8.√Ç&nbsp;By the end of this book, or even before, I want you to know in
your bones that your only path to success is through a continuum
of mundane, unsexy, unexciting, and sometimes difficult daily
disciplines compounded over time.</p><p>9.√Ç&nbsp;You alone are responsible for what you do, don√¢‚Ç¨‚Ñ¢t do, or how
you respond to what√¢‚Ç¨‚Ñ¢s done to you. This empowering mindset
revolutionized my life. Luck, circumstances, or the right situation
wasn√¢‚Ç¨‚Ñ¢t what mattered. If it was to be, it was up to me.</p><p>10. The (Complete) Formula for Getting Lucky:
<br>√Ç&nbsp;Preparation (personal growth) +
Attitude (belief/mindset) +
Opportunity (a good thing coming your way) +
Action (doing something about it) =
Luck√Ç&nbsp;</p><p>11. My mentor Jim Rohn said, √¢‚Ç¨≈ìThe
day you graduate from childhood to adulthood is the day you
take full responsibility for your life.√¢‚Ç¨ÔøΩ </p><p>12.√Ç&nbsp;To help you become aware of your choices, I want you to track
every action that relates to the area of your life you want to improve.</p><p>13.√Ç&nbsp; Simply carry
around a small notebook, something you√¢‚Ç¨‚Ñ¢ll keep in your pocket or
purse at all times, and a writing instrument. You√¢‚Ç¨‚Ñ¢re going to write it
all down. Every day. Without fail. No excuses, no exceptions.</p><p>14.√Ç&nbsp; But tracking my progress and missteps is the
one of the reasons I√¢‚Ç¨‚Ñ¢ve accumulated the success I have. The process
forces you to be conscious of your decisions.</p><p>15.√Ç&nbsp;This is where I√¢‚Ç¨‚Ñ¢m going to become a hard-ass and
insist you track your behaviors for at least one whole week. This
book isn√¢‚Ç¨‚Ñ¢t designed to entertain you; it is designed to help you
get results. To get results, you have to take some action.</p><p>16.√Ç&nbsp;All winners are trackers. Right now I want you to track your life
with the same intention: to bring your goals within sight.</p><p>17. Once you begin
reaping the rewards of the Compound Effect, you√¢‚Ç¨‚Ñ¢ll naturally
want to introduce this practice into other areas of your life. In
other words, you√¢‚Ç¨‚Ñ¢ll choose to choose tracking.</p><p>18.√Ç&nbsp;Psychological studies reveal that 95 percent of everything we
feel, think, do, and achieve is a result of a learned habit!</p><p>19.√Ç&nbsp;Your
choices are only meaningful when you connect them to your
desires and dreams. The wisest and most motivating choices
are the ones aligned with that which you identify as your
purpose, your core self, and your highest values. You√¢‚Ç¨‚Ñ¢ve got
to want something, and know why you want it, or you√¢‚Ç¨‚Ñ¢ll end
up giving up too easily. </p><p>20.√Ç&nbsp;The access point to your why-power is through your core
values, which define both who you are and what you stand
for. Your core values are your internal compass, your guiding
beacon, your personal GPS.</p><p>21. Getting your core values defined and properly calibrated is one
of the most important steps in redirecting your life toward your
grandest vision. </p><p>22.√Ç&nbsp;When your actions conflict with
your values, you√¢‚Ç¨‚Ñ¢ll end up unhappy, frustrated, and despondent.
In fact, psychologists tell us that nothing creates more stress
than when our actions and behaviors aren√¢‚Ç¨‚Ñ¢t congruent with
our values. </p><p>23.√Ç&nbsp;People are either motivated by something they want or
something they don√¢‚Ç¨‚Ñ¢t want. Love is a powerfully motivating
force. But so is hate. Contrary to social correctness, it can be
good to hate. Hate disease, hate injustice, hate ignorance, hate
complacency, and so on. Sometimes identifying an enemy
lights your fire. </p><p>24.√Ç&nbsp;In one of my interviews with Brian Tracy, he put it this way:
√¢‚Ç¨≈ìTop people have very clear goals. They know who they are
and they know what they want. They write it down and they
make plans for its accomplishment. Unsuccessful people carry
their goals around in their head like marbles rattling around in a
can, and we say a goal that is not in writing is merely a fantasy.
And everybody has fantasies, but those fantasies are like bullets
with no powder in the cartridge. People go through life shooting
blanks without written goals√¢‚Ç¨‚Äùand that√¢‚Ç¨‚Ñ¢s the starting point.√¢‚Ç¨ÔøΩ </p><p>25.√Ç&nbsp;Okay, now it√¢‚Ç¨‚Ñ¢s your turn. Get out your little notebook and write
out your top three goals. Now make a list of the bad habits that might
be sabotaging your progress in each area. Write down every one. I suggest that you take some time today to make a list of your
most important goals.√Ç&nbsp;</p><p>26.√Ç&nbsp; One thing Jim Rohn taught me is: √¢‚Ç¨≈ìIf you want to have more,
you have to become more. Success is not something you pursue. What
you pursue will elude you; it can be like trying to chase butterflies.
Success is something you attract by the person you become.√¢‚Ç¨ÔøΩ </p><p>27.√Ç&nbsp;Habits and behaviors never lie. If there√¢‚Ç¨‚Ñ¢s a discrepancy between
what you say and what you do, I√¢‚Ç¨‚Ñ¢m going to believe what you do
every time. If you tell me you want to be healthy, but you√¢‚Ç¨‚Ñ¢ve got
Doritos dust on your fingers, I√¢‚Ç¨‚Ñ¢m believing the Doritos. If you say
self-improvement is a priority, but you spend more time with your
Xbox than at the library, I√¢‚Ç¨‚Ñ¢m believing the Xbox. If you say you√¢‚Ç¨‚Ñ¢re
a dedicated professional, but you show up late and unprepared,
your behavior rats you out every time.</p><p>28.Next, add to that list all the habits you need to adopt that,
practiced and compounded over time, will result in you
gloriously achieving your goals.</p><p>29. Triggers - Look at your list of bad habits. For each one you√¢‚Ç¨‚Ñ¢ve written
down, identify what triggers it. Figure out what I call √¢‚Ç¨≈ìThe Big
4√¢‚Ç¨‚Ñ¢s√¢‚Ç¨ÔøΩ√¢‚Ç¨‚Äùthe √¢‚Ç¨≈ìwho,√¢‚Ç¨ÔøΩ the √¢‚Ç¨≈ìwhat,√¢‚Ç¨ÔøΩ the √¢‚Ç¨≈ìwhere,√¢‚Ç¨ÔøΩ and the √¢‚Ç¨≈ìwhen√¢‚Ç¨ÔøΩ
underlying each bad behavior.</p><p>30.√Ç&nbsp;For example:
√¢‚Ç¨¬¢ Are you more likely to drink too much when you√¢‚Ç¨‚Ñ¢re with
certain people?
√¢‚Ç¨¬¢ Is there a particular time of day when you just have to have
something sweet?
√¢‚Ç¨¬¢ What emotions tend to provoke your worst habits√¢‚Ç¨‚Äùstress,
fatigue, anger, nervousness, boredom?
√¢‚Ç¨¬¢ When do you experience those emotions? Who are you
with, where are you, or what are you doing? 
</p><p>31. Clean House - Get to scrubbin√¢‚Ç¨‚Ñ¢. And I mean this literally and figuratively. If you
want to stop drinking alcohol, remove every drop of it from your
house (and your vacation house, if you have one). Get rid of the
glasses, any fancy utensils or doo-dads you use when you drink,
and those decorative olives, too.</p><p>32.√Ç&nbsp;Look again at your list of bad habits. How can you alter
them so that they√¢‚Ç¨‚Ñ¢re not as harmful? Can you replace them
with healthier habits or drop-kick them altogether? As in,
for good. </p><p>33.√Ç&nbsp;For some of your
long-standing and deep-rooted habits, it may be more effective
to take small steps to ease into unwinding them. You may have
spent decades repeating, cementing, and fortifying those habits,
so it can be wise to give yourself some time to unravel them, one
step at a time. </p><p>34.√Ç&nbsp;Not everyone is wired the same way. Some researchers have
found that it can be paradoxically easier for people to make
lifestyle changes if they change a great many bad habits at once. </p><p>35.√Ç&nbsp;According to research, it takes three hundred instances of
positive reinforcement to turn a new habit into an unconscious
practice√¢‚Ç¨‚Äùthat√¢‚Ç¨‚Ñ¢s almost a year of daily practice!</p><p>36.√Ç&nbsp;The key is staying aware. If you really want to maintain a
good habit, make sure you pay attention to it at least once a day,
and you√¢‚Ç¨‚Ñ¢re far more likely to succeed. </p><p>37.√Ç&nbsp;Any new habit has to work inside your life and lifestyle. If you join
a gym that√¢‚Ç¨‚Ñ¢s thirty miles away, you won√¢‚Ç¨‚Ñ¢t go. If you√¢‚Ç¨‚Ñ¢re a night owl
but the gym closes at 6 p.m., it won√¢‚Ç¨‚Ñ¢t work for you. Your gym must
be close and convenient, and fit into your schedule. </p><p>38. Instead of thinking what you can remove from your life, think instead of what you can add. The good will displace the bad.</p><p>40.√Ç&nbsp;Want to cement that new habit? Get Big Brother to watch
you. It√¢‚Ç¨‚Ñ¢s never been easier with all the social media available.√Ç&nbsp;Tell your family. Tell your friends. Tell Facebook and Twitter.
Get the word out that there√¢‚Ç¨‚Ñ¢s a new sheriff in town, and you√¢‚Ç¨‚Ñ¢re
in charge</p><p>41.√Ç&nbsp;To up your chances
of success, get a success buddy, someone who√¢‚Ç¨‚Ñ¢ll keep you
accountable as you cement your new habit while you return√Ç&nbsp;the favor. I, for example, have what I call a √¢‚Ç¨≈ìPeak-Performance
Partner.√¢‚Ç¨ÔøΩ </p><p>42.√Ç&nbsp;There√¢‚Ç¨‚Ñ¢s nothing like a friendly contest to whet your
competitive spirit and immerse yourself in a new habit with
a bang. </p><p>43.√Ç&nbsp;All work and no play make Jack a dull boy, and it√¢‚Ç¨‚Ñ¢s a recipe for
backsliding. There should be a time to celebrate, to enjoy some of
the fruits of your victories along the way. You can√¢‚Ç¨‚Ñ¢t go through this
thing sacrificing yourself with no benefit.</p><p>44.√Ç&nbsp;For bigger milestones, book a massage
or have dinner at your favorite restaurant. And promise yourself a
nice big pot of gold when you reach the end of the rainbow. </p><p>45.√Ç&nbsp;The key to becoming world-class in your endeavors is to build
your performance around world-class routines. It can be diffi cult,
even futile, to predict or control what will show up in the middle
of your workday. But ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.chestergrant.com/highlights-the-compound-effect-by-darren-hardy">https://www.chestergrant.com/highlights-the-compound-effect-by-darren-hardy</a></em></p>]]>
            </description>
            <link>https://www.chestergrant.com/highlights-the-compound-effect-by-darren-hardy</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485497</guid>
            <pubDate>Sun, 20 Dec 2020 11:21:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A CAN protocol decoder for Sigrok]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25485444">thread link</a>) | @homarp
<br/>
December 20, 2020 | https://kentindell.github.io/2020/12/19/can2-decoder/ | <a href="https://web.archive.org/web/*/https://kentindell.github.io/2020/12/19/can2-decoder/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>I said in my <a href="http://127.0.0.1:4000/blog/2020/10/25/canframe_py_tool/">previous blog post</a> that
‚ÄúMy next goal is to create a
GTKWave filter so that an arbitrary waveform can be decoded‚Äù and in an early
Christmas present to those who are into the CAN protocol, I‚Äôve done that!
But I‚Äôve done even better and I therefore present to you <strong>the new CAN
protocol decoder</strong> for the Sigrok project.</p>

<p>First, a quick summary of <a href="https://sigrok.org/">Sigrok</a>:
it‚Äôs a set of drivers and tools that
provide a desktop oscilloscope / logic analyzer UI for many, many different
instruments (from Siglent, Rigol and others). The UI runs on
Mac, Windows and Linux (and others) and the GUI is called PulseView (there‚Äôs
also a command-line tool for batch decoding, useful for an automated test
environment). 
PulseView has an API for protocol decoders, and I‚Äôve wrtten one for CAN: it‚Äôs called <code>can2</code>.</p>

<p>A couple of quick bear trap warnings for using PulseView before I
talk about <code>can2</code>:</p>

<ul>
  <li>Don‚Äôt use the Sigrok package that comes with your Linux distro: it‚Äôs very
likely to be too old and there have been lots of changed; download binaries directly.</li>
  <li>If importing a VCD file make sure the Downsampling factor is set so that the logic analyzer sample period is no more than about 1ns. If you don‚Äôt and you feed it a VCD that came from a simulator that used 1ps steps then your PC is going to spinning up its fans for a long time!</li>
</ul>

<p>OK, back to the protocol decoder it can be installed by
copying the directory <code>can2</code> (containing two Python files) into
the directory (on Linux) <code>~/.local/share/libsigrokdecode/decoders</code>.</p>

<p>The decoder appears in the decoders list as ‚ÄúCAN 2.0‚Äù and it requires just one
input: the CAN RX line (from the RX pin of a CAN transceiver).
The options include the sampling point (default 75%) and the bit rate
(default 500kbit/sec).</p>

<p>When the decoder is applied to a CAN signal on it 
then then the output is like this:</p>

<p><img src="https://kentindell.github.io/assets/pulseview1.png" alt="PulseView screenshot"></p>

<p>The top row of the decoder output (‚ÄúCAN 2.0: Bits‚Äù) shows the CAN bits
(regular and stuff bits). A tooltip will
appear giving the bit value if the mouse pointer is hovered over the bit
(PulseView automatically displays the information it can in the space available
at a given zoom level).</p>

<p>The next row shows the CAN fields: the first bit is SOF (Start of Frame),
the next is the 11-bit ID, and so on. A frame ends with the IFS field.
Two other states are not shown: Bus Integration (where the decoder is syncing
to the CAN signal from a reset state) and Idle (where nothing is happening).</p>

<p>The third row shows the full CAN ID (if the frame is an extended frame -
i.e. IDE=1 - then there is a second 18-bit field, and the ID is then
29 bits long). The row also shows the payload decoded into individual bytes.</p>

<p>The fourth row is the really interesting one: it shows information about
the CAN frame. In the screenshot, it displays an ‚ÄúE‚Äù to indicate an
error flag. The tooltip says ‚ÄúForm error‚Äù, which means that the field
contains the wrong value: it is read as a dominant (0) bit and it should
be recessive (1). This is an indication of an error, and the decoder
shows that the subsequent bits are an Error Flag followed by an Error
Delimiter, and then IFS again.</p>

<p>The info row also shows other interesting events, including:</p>

<ul>
  <li>When the frame has been received OK (i.e. second to last bit of EOF)</li>
  <li>When the frame has been transmitted OK (i.e. last bit of EOF)</li>
  <li>If there is an ACK error (i.e. the ACK bit is not 0)</li>
  <li>If the received CRC doesn‚Äôt match the calculated CRC (the protocol decoder
keeps track of the expected CRC value)</li>
  <li>If there is a ‚Äòdouble receive‚Äô (i.e. there is an error after the frame
has been received OK but before the frame has been transmitted OK)</li>
  <li>If there is an overload rather than an error. Modern CAN controllers should
never generate overload frames so to see one means that something odd is
going on. To see two in a row means something <em>very</em> odd is going on.</li>
</ul>

<p>The last two are symptoms of protocol attacks: the <a href="http://127.0.0.1:4000/2020/01/20/new-can-hacks/">Double Receive Attack</a>
and the <a href="http://127.0.0.1:4000/2020/01/20/new-can-hacks/">Freeze Doom Loop Attack</a>. 
The <a href="https://github.com/kentindell/canhack">CANHack toolkit</a> can actually
generate these attacks (and a whole bunch of other attacks)
and so the <code>can2</code> protocol decoder is a good starting
point if an attack on the CAN bus is suspected.</p>

<p>The CAN Double Receive problem isn‚Äôt just a symptom of an attack: it can 
happen for real, and is a consequence of CAN‚Äôs
amazingly useful <a href="http://127.0.0.1:4000/2020/07/11/can-atomic-multicast/">atomic broadcast</a> property (very few
communications protocols provide this and it‚Äôs an essential building block
for robust mission-critical applications). So my top
tip for anyone building a CAN-based application: for any frame that includes
event-based data (like a command) then include a sequence number (it can
be just one bit) so that duplicates can be detected and discarded. Doing
this doesn‚Äôt just fix a wrinkle in the protocol, it also defends against
the Double Receive Attack.</p>

<p>Finally, a couple of things about the decoder. It doesn‚Äôt implement the
CAN time quanta bit sampling scheme (where sync is limited by the SJW
parameter) but it does implement the sync rules (in particular, glitches after
a bit is sampled as 0 are ignored). Also, <code>can2</code> goes into
Bus Integration if it samples the CAN r0 bit as recessive, which means that
CAN FD frames are ignored and skipped over rather than causing the decoder
to get scrambled (incidentally, this is why CAN FD can‚Äôt share a bus with
classic CAN 2.0 controllers).</p>

<p>Oh, one last thing: anyone wanting a GTKWave filter for CAN could use this
<a href="https://gist.github.com/smunaut/4239a17ea116d5ddfdaecad381f712e9#file-gtkwave-sigrok-filter-py">neat little tool</a> to turn the <code>can2</code> Sigrok decoder into exactly that.</p>

  </div>
</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://kentindell.github.io/2020/12/19/can2-decoder/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485444</guid>
            <pubDate>Sun, 20 Dec 2020 11:10:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Raspberry Pi Server Mark III]]>
            </title>
            <description>
<![CDATA[
Score 321 | Comments 161 (<a href="https://news.ycombinator.com/item?id=25485428">thread link</a>) | @homarp
<br/>
December 20, 2020 | https://uplab.pro/2020/12/raspberry-pi-server-mark-iii/ | <a href="https://web.archive.org/web/*/https://uplab.pro/2020/12/raspberry-pi-server-mark-iii/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-597">
								
				<div>
					
<figure><img loading="lazy" width="1024" height="681" src="https://uplab.pro/wp-content/uploads/2020/12/UPTIME-Raspberry-Pi-Platform-pi18nossd-v1.0-1024x681.jpg" alt="" srcset="https://uplab.pro/wp-content/uploads/2020/12/UPTIME-Raspberry-Pi-Platform-pi18nossd-v1.0-1024x681.jpg 1024w, https://uplab.pro/wp-content/uploads/2020/12/UPTIME-Raspberry-Pi-Platform-pi18nossd-v1.0-300x200.jpg 300w, https://uplab.pro/wp-content/uploads/2020/12/UPTIME-Raspberry-Pi-Platform-pi18nossd-v1.0-768x511.jpg 768w, https://uplab.pro/wp-content/uploads/2020/12/UPTIME-Raspberry-Pi-Platform-pi18nossd-v1.0-1536x1022.jpg 1536w, https://uplab.pro/wp-content/uploads/2020/12/UPTIME-Raspberry-Pi-Platform-pi18nossd-v1.0.jpg 1669w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>Raspberry Pi Rack Server Mark I –∏ Mark II have been working pretty nice for 6 month already. Both of them are based on a model which I found on <a href="https://thingiverse.com/" data-type="URL" data-id="https://thingiverse.com">thingiverse.com</a> and inherited the basic design idea.</p>



<p>With Mark III, I completely rethought the design, which allowed to:</p>



<ul><li>increase the number of raspberries in 2 rack units</li><li>significantly reduce printing time and plastic consumption</li><li>significantly reduce the time required for assembling and disassembling the server</li><li>reduce the number of parts</li><li>implement a modular design, which means that MARK III will be available in various modifications</li></ul>



<p>I‚Äôm glad to present the first basic model, designed for 14x of Raspberry Pi and 14x of a standard 2.5‚Ä≥ SSD.</p>



<p>BTW I will be glad if you subscribe to my instagram <a rel="noreferrer noopener" href="https://www.instagram.com/uptime.lab/" target="_blank">instagram.com/uptime.lab</a> your feedback and likes are very important for me!</p>










<figure><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener noreferrer"><img loading="lazy" width="179" height="82" src="https://uplab.pro/wp-content/uploads/2020/10/image-1.png" alt=""></a></figure>



<p>Printing recommendations:</p>



<ul><li>layer height 0.15mm</li><li>wall thickness &nbsp;0.6mm</li><li>no supports</li><li>horizontal expansion &nbsp;-0.1mm</li><li>without a skirt&nbsp;&nbsp;</li></ul>



<p>Please print one Tray and one Body part first and have a look at how they fit each other, as well as how it works with Raspberry Pi and your SSD.</p>



<p>Screws and other parts:</p>



<ul id="block-9f0674bd-8795-4e10-ada2-1c682dcbc328"><li>Set of 5 fans <a rel="noreferrer noopener" href="https://www.amazon.de/gp/product/B00NTUJZ36" target="_blank">Arctic F8 Value Pack, ACFAN0 0061 A</a>&nbsp;‚Äì&nbsp;<strong>‚Ç¨17.60 incl. VAT</strong></li><li>Power supply for fans&nbsp;<a rel="noreferrer noopener" href="https://www.amazon.de/gp/product/B07MJQ8K4P" target="_blank">12V2A 7Tipps</a>&nbsp;‚Äì&nbsp;<strong>EUR 13.99 incl. VAT</strong></li><li>Adapter with 1 to 6 fans. Cutting off the extra one turns out perfect for my purposes&nbsp;<a rel="noreferrer noopener" href="https://www.amazon.de/gp/product/B003UU6EQQ" target="_blank">L√ºfter Adapterkabel 3Pin auf 6x 3Pin Molex (6x15cm)</a>&nbsp;‚Äì&nbsp;<strong>‚Ç¨4.40 incl. VAT</strong></li><li>Screws for fans M4 12mm 10 pcs. with nuts</li><li>Threaded rod M5 ~452mm &nbsp;2 pcs. and 4pcs nuts M5</li><li>20 screws for fans for plastic (usually come with fans) Like that <a rel="noreferrer noopener" href="https://www.amazon.de/-/en/StarTech-com-Case-Fan-Screws-Pack/dp/B0002AFTD6" target="_blank">StarTech.com PC Case Fan Screws (Pack of 50)</a></li><li>In case you don‚Äôt use original PoE hat you additionally need 2x M2.5 with M2.5 nut for each Raspberry</li><li>2pcs. M3 ~5mm for each SSD. Like <a rel="noreferrer noopener" href="https://www.amazon.de/-/en/Poppstar-Hard-Drive-Screws-Drives/dp/B01HBRG3W8/ref=sr_1_7?__mk_de_DE=%C3%85M%C3%85%C5%BD%C3%95%C3%91&amp;dchild=1&amp;keywords=m3+ssd+schraube&amp;qid=1608385770&amp;sr=8-7" target="_blank">Poppstar Hard Drive Screws for 3.5 Inch or 2.5 Inch Hard Drives Set of 50</a></li><li>SATA Cable Adapter, USB 3.0 to SSD&nbsp;(you don‚Äôt need model faster). Like <a href="https://www.amazon.de/-/en/Sabrent-2-5-inch-Optimized-Supports-EC-SSHD/dp/B011M8YACM/" target="_blank" rel="noreferrer noopener">Sabrent SATA Cable Adapter, USB 3.0 to SSD / 2.5-inch SATA Hard Drive Adapter</a></li></ul>




			
				</div><!-- end .entry-content -->
							</article></div>]]>
            </description>
            <link>https://uplab.pro/2020/12/raspberry-pi-server-mark-iii/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485428</guid>
            <pubDate>Sun, 20 Dec 2020 11:08:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Federation and its consequences have been a disaster for the fediverse]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25485368">thread link</a>) | @jblfan
<br/>
December 20, 2020 | https://proxy.vulpes.one/gemini/cadence.moe/gemlog/2020-11-16-federation-and-its-consequences.bliz | <a href="https://web.archive.org/web/*/https://proxy.vulpes.one/gemini/cadence.moe/gemlog/2020-11-16-federation-and-its-consequences.bliz">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div><p>&gt; 1194 words, 32 paragraphs, about 4 minutes to read (300 wpm).</p><p>&gt; First published on 2020-11-16.</p><p>&gt; This article has been loaded 2386 times.</p><p>This post will require a lot of in-knowledge to understand. It's okay if you have no idea what I'm talking about.</p><div><p><span> ##</span></p><h2>The supposed differences of the fediverse</h2></div><p>When someone tries to explain the fediverse to someone who doesn't know what it is, chances are they'll be saying that it's like traditional corporate social media, but with these differences:</p><div><ul><li>open source</li><li>federated (and what that means)</li><li>lots of LGBT people on it</li></ul></div><div><p><span> ##</span></p><h2>The real similarities of the fediverse</h2></div><p>Those things are true. But I don't believe they make a difference to how people interact with the site on a fundamental level.</p><p>What do you do on Twitter Dot Com? You scroll down and look at other people's shitty posts. Sometimes you even press the buttons on them. What do you do on the fediverse? You scroll down and look at other people's shitty posts. Sometimes you even press the buttons on them.</p><p>It's the same feedback loop and it creates a very similar feel and environment. After all, that loop is exactly what Mastodon and Pleroma were designed to replicate.</p><p>Federation is touted as a good thing which splits users into separate communities organised by topics. Communities then have to try a little harder to reach across to each other. It's never stated, but the implication is that there's a whole spectrum and variety of communities, and that they're somehow equal in some kind of democratic society.</p><p>In reality, what happens is that 5 very different, distinct, and clearly identifiable varieties of communities emerge. Please see my diagram:</p><p>(Despite the assumptions one might make from the "political compass" format, these are distinct quadrants with solid borders, not sliding scales across the lines.)</p><p>(That chart does not include the 5th segment on it. The 5th segment is the centrists. My commentary about them wouldn't fit in the space.)</p><p>The centrists just use the social media as a social media. They talk about themselves, and others, and what they saw on the news. They don't get involved with the drama between the quadrants. They're likely blissfully unaware of it. They just want to grill for god's sake.</p><p>It's a simple life, and in my opinion, one to be envied.</p><p>In the red zone, we have the likes of hellsite.site, who post more about the network itself and engaging in blocking warfare against the latest suspicious user and the latest suspicious site, than actually making posts and using the social media for a reason.</p><p>Let me try to put this another way. They're trying to create a safe space online, which is a laudable goal. I can appreciate a safe space. But the problem is that they're so focused on trying to curate the perfect social media that they haven't thought about what they're going to do once they actually manage to create that space. They're too caught up in the inter-site hellscape. And if the only thing that they post about is commentary on drama from the spaces they're excluding... is it really a safe space, if the war is the only thing visible?</p><p>Of course, the social media utopia that they aim for will never exist. Blocking sites doesn't work: there will always be something more to block. Instance allowlists get closer, but they'll still never be perfect. There will always be that one user on that one site that did something bad and now everyone hates them. But they're part of an allowed site. Can't get rid of them entirely. What to do? Ah yes, aggressively subpost about them on your timeline. _That'll_ solve the problem! Finally: a safe space!</p><p>While this war continues, there will never be anything but the war to post about. They are fighting for nothing. If they win, which won't happen, it would just be over. The reason they exist would have ended. They are fighting because they exist to fight.</p><p>The red zone is a very tiring existence, and I'm pleased to be rid of it.</p><p>In the purple zone, the only fucking thing they know is technology and "freedom". Christ. How awful.</p><p>Obviously the blue zone is abhorrent.</p><p>The left quadrant is where I find myself nowadays.</p><p>If you run a fediverse site that other people can join as members, then there are exactly two reasons to blanket block another site for all your members.</p><div><ul><li>At least 2 users on the other site are harassing at least 2 of your own members, and the moderators on the other site are not helping.</li><li>Or, the site is dedicated to hosting hate speech.</li></ul></div><p>Otherwise... what's the point?</p><p>The thing is that many things make up a fediverse site.</p><div><ul><li>The site's rules</li><li>The moderators</li><li>The people on it</li></ul></div><p>The people and their behaviour is the most important aspect of any site. If you as a moderator are considering blocking a site, what you are doing is depriving your members of the choice of who to interact with. Mastodon has powerful controls in the hands of the users. Users can block people, users can block entire sites. They can do this themselves. They don't need you to do it for them - unless there's a bigger problem of uncontrolled harassment.</p><p>Uncontrolled harassment is the only use case for a domain block. Did you see one specific person on another site who is being annoying or has really terrible takes? Of course, we've all seen that one person. But WHO THE FUCK CARES. If they aren't specifically being annoying at your members, just live and let live. They can exist in their own world. You don't need to care about them. If they're being specifically annoying at one of your members, then choosing how to interact - or not - should be in the hands of the member, not you.</p><p>You don't need to play god with what your members see. It's the internet. It's a scary place. We all know about that, and we can deal with it ourselves. The only way to make a truly safe space is to close federation and have approved _membership_, and vet individual _people_ before inviting them. In other words, a classic forum, or if you prefer real-time communication, a chatroom. Is this what you want? Then make it, instead of trying to make the fediverse fit your whims.</p><p>It's all so tiring and I'm sick of it.</p><p>Hopefully you can now understand why I block people on sight who post meta drama or block commentary. My life has been much improved for it.</p><p>I'll still recommend the fediverse to other people looking for a new social media to join, but I'll try to direct them into "centrist" spaces rather than the spaces I ended up in, because the discourse and effort of the red zone is not fucking worth the zero upsides it brings.</p><p>If I ever get the desire to create my own social media platform, I'm making a fucking medieval castle social media, which will probably be called Castledon.</p><p>---</p><p>&gt; No replies yet.</p><p>---</p><p>Looking for more?</p></div>
		</div></div>]]>
            </description>
            <link>https://proxy.vulpes.one/gemini/cadence.moe/gemlog/2020-11-16-federation-and-its-consequences.bliz</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485368</guid>
            <pubDate>Sun, 20 Dec 2020 10:53:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tracking Agricultural Emissions with Agrammon]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25485281">thread link</a>) | @lizmat
<br/>
December 20, 2020 | https://raku-advent.blog/2020/12/20/day-20-a-raku-in-the-wild/ | <a href="https://web.archive.org/web/*/https://raku-advent.blog/2020/12/20/day-20-a-raku-in-the-wild/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>Quite a while ago, Santa got a feature request for a web application called <a href="https://www.agrammon.ch/en">AGRAMMON</a>, developed by the elves of one of his sub-contractors <a href="https://www.oetiker.ch/">Oetiker+Partner AG</a> in what then was called Perl 5. When Santa asked the <a href="https://www.oetiker.ch/en/company/team/fz">elf responsible</a> for this application to get to work, the elf suggested that some refactoring was in order, as the application dated back almost 10 years and had been extended regularly.</p>



<p>As the previous year had seen a real Christmas wonder, namely the <a href="https://perl6advent.wordpress.com/2015/12/">release of Perl 6c</a>, the elf suggested, that instead of bolting yet another feature onto the web application‚Äôs Perl backend, a rewrite in Perl 6 would be a bold but also appropriate move. The reason being that the application used a specially developed format for describing it‚Äôs functionality by none-programmers. What better choice for rewriting the parser than Perl 6‚Äôs grammars, the elf reasoned. Fittingly, the new AGRAMMON was going to be version 6.</p>



<p>When Santa asked when the rewrite would be finished, the elf‚Äôs obivous answer was ‚Äúby Christmas‚Äù. And as things went in Perl 6 land, by the time the rewrite is finally going into production, the backend is now implemented in Raku.</p>



<h2><a href="https://github.com/zaucker/agrammon/blob/Advent/Advent2020/raku-in-the-wild.md#agrammon"></a>AGRAMMON</h2>



<p>Most people nowadays know about the negative side-effects of agriculture on climate, namely emissions of methane and nitrous oxide (strong greenhouse gases) and deforestation. A lesser known, but also significant environmental problem, are ammonia (NH<sub>3</sub>) and nitrous oxide (NO<sub>x</sub>) emissions. For the agricultural production, NH<sub>3</sub> is a major gaseous pollutant while NO<sub>x</sub> is of minor importance.</p>



<p>The main source of these emissions are excretions of farm animals, mainly from cattle, pigs, and poultry. Both liquid and solid manure contain nitrogen compounds such as urea. These compounds are decomposing when the excretions are deposited onto the farm surfaces, subsequently stored in manure stores, and when applied to the field as fertilizer.</p>



<p>In addition to induce negative environmental impacts, these emissions entail a substantial loss of nitrogen (N) from manure and either result in diminished productivity of farms or the loss must be compensated by mineral fertilizers at additional costs to the farmers. In Switzerland alone, about 40,000 tonnes of nitrogen are lost every year, amounting to about 30% of the N load in manure.</p>



<p>In order to address these problems, the processes of ammonia volatilisation are studied, emission mitigation options developed, and the effects measured where possible under controlled conditions. However, as controlled conditions are difficult to implement at farm-scale, the effects of the reduction measures as well as the total amount of emissions can be simulated by model calculations. AGRAMMON is a tool that facilitates such simulations at the scale of a single farm. Such calculations can also be done at regional scale by means of simulating ‚Äútypical farm types‚Äù using average process types and cumulated numbers of animals, storage facilities, and fertilizer application. The following picture shows the processes simulated by the model:</p>



<figure><a href="https://github.com/zaucker/agrammon/blob/Advent/Advent2020/N-model.jpg" target="_blank" rel="noreferrer noopener"><img src="https://github.com/zaucker/agrammon/raw/Advent/Advent2020/N-model.jpg" alt=""></a><figcaption>The model Agrammon calculates ammonia loss on the basis of the N-flux (mass-flow model). For the stages housing/yard, manure store, manure application, and other sources the loss is calculated by using emission rates as a proportion of the total ammoniacal nitrogen (TAN) in the system. For slurry stores, an emission rate per m2 of surface area of the slurry store is used. Important production variables such as feed, housing system, covering of slurry store or emission-mitigating application systems are taken into account in emission rates as correction factors.</figcaption></figure>







<h2>The Application</h2>



<p>AGRAMMON is a typical web application, with data stored in a PostgreSQL database, a web frontend implemented in JavaScript using the <a href="https://qooxdoo.org/">Qooxdoo framework</a> , and a Raku backend. The physical and chemical processes are not directly implemented in the backend, but as already mentioned in a none-programmer-friendly custom ‚Äúlanguage‚Äù, describing (user) inputs, model parameters, calculations, and outputs (results).</p>



<p>Each process is broken down into smaller sub-processes and each is described in its own file, including documentation and references to appropriate scientific sources. Here is a small example for such a file:</p>


<pre title="">*** general ***

author   = Agrammon Group
date     = 2008-03-30
taxonomy = Livestock::DairyCow::Excretion

+short

Computes the annual N excretion of a number of dairy cows as a function of the
milk yield and the feed ration.

+description

This process calculates the annual N excretion (total N and Nsol (urea plus
measured total ammoniacal nitrogen)) of a number of dairy cows as a
function of the milk yield and the supplied feed ration. Nitrogen
surpluses from increased nitrogen uptake are primarily excreted as
Nsol in the urine. Eighty percent of the increased N excretion is
therefore added to the Nsol fraction.

*** input parameters ***

+dairy_cows
  type        = integer
  validator = ge(0)
  ++labels
       en = Number of animals
       de = Anzahl Tiere 
       fr   = Nombre d'animaux
  ++units
      en = -
  ++description
       Number of dairy cows in barn.
  ++help
      +++en 
          &lt;p&gt;Actual number of animals
                in the barn.&lt;/p&gt;
        +++de  ...
        +++fr    ...

*** technical parameters ***

+standard_N_excretion
   value = 115
  ++units 
      en = kg N/year
      de = kg N/Jahr
      fr   = kg N/an
  ++description
    Annual standard N excretion for a
    dairy cow according to
    Flisch et al. (2009).

*** external ***

+Excretion::CMilk
+Excretion::CFeed

*** output ***
+n_excretion
  print = 7

  ++units
      en = kg N/year
      de = kg N/Jahr
      fr   = kg N/an

  ++formula
        Tech(standard_N_excretion)
      * Val(cmilk_yield,    Excretion::CMilk)
      * Val(c_feed_ration,Excretion::CFeed)
      * In(dairy_cows);

  ++description
      Annual total N excreted by a specified
      number of animals.

</pre>


<p>In the current version of the AGRAMMON model there are 133 such model files with 31,014 lines. From those, the backend can generate</p>



<ul><li>the PDF documentation of the model (allowing <a href="https://www.latex-project.org/">LaTeX</a> formatting in the files)</li><li>the actual model simulation using the user‚Äôs input data</li><li>a description of the web GUI which can be rendered by the frontend</li></ul>



<figure><a href="https://github.com/zaucker/agrammon/blob/Advent/Advent2020/inputs.png" target="_blank" rel="noreferrer noopener"><img src="https://github.com/zaucker/agrammon/raw/Advent/Advent2020/inputs.png" alt=""></a></figure>



<p>The results are presented in the web GUI in tabular form (showing various subsets of the data that can also be defined in the model files)</p>



<figure><a href="https://github.com/zaucker/agrammon/blob/Advent/Advent2020/results.png" target="_blank" rel="noreferrer noopener"><img src="https://github.com/zaucker/agrammon/raw/Advent/Advent2020/results.png" alt=""></a></figure>



<p>and can be exported as <a href="https://github.com/zaucker/agrammon/blob/Advent/Advent2020/TestSingle6.pdf">PDF report</a> or <a href="https://github.com/zaucker/agrammon/blob/Advent/Advent2020/TestSingle6.xlsx">Excel file</a>, together with the actual inputs provided by the user.</p>



<p>A special instance of AGRAMMON is used by a <a href="https://lawa.lu.ch/">regional government agency</a> in the evaluation process of the environmental impact of modifications to local farms and the approval of the respective building applications. For this, the ammonia emissions before and after the planned modifications must be simulated by the applicant and can be directly submitted to the agency‚Äôs AGRAMMON account, including a notification of the agency by eMail with the PDF report attached.</p>



<h2><a href="https://github.com/zaucker/agrammon/blob/Advent/Advent2020/raku-in-the-wild.md#the-raku-backend"></a>The Raku backend</h2>



<p>The refactored backend as of today consists of 59 <code>.pm6</code> <a href="https://docs.raku.org/language/modules">modules/packages</a> with 6,942 lines and is covered by tests in 38 <code>.t</code> files with 5,854 lines. It uses the 13 Raku modules shown in the following excerpt of the <a href="https://docs.raku.org/language/modules#index-entry-META6.json-META6.json">META6.json</a> file:</p>


<pre title="">  "depends": [
    "Cro::HTTP",
    "Cro::HTTP::Session::Pg",
    "Cro::OpenAPI::RoutesFromDefinition",
    "Cro::WebApp::Template",
    "DB::Pg",
    "Digest::SHA1::Native",
    "Email::MIME",
    "LibXML:ver&lt;0.5.10&gt;",
    "Net::SMTP::Client::Async",
    "OO::Monitors",
    "Spreadsheet::XLSX:ver&lt;0.2.1+&gt;",
    "Text::CSV",
    "YAMLish"
  ],
  "build-depends": [],
  "test-depends": [
    "App::Prove6",
    "Cro::HTTP::Test",
    "Test::Mock",
    "Test::NoTabs"
  ],

</pre>


<p>Those modules can be found on the <a href="https://modules.raku.org/">Raku Modules Directory</a>. Note that <a href="https://github.com/jnthn/spreadsheet-xlsx"><code>Spreadsheet::XLSX</code></a> was specifically implemented for this project. As a side-effect, just yesterday our expert elf (see below) submitted a&nbsp;<a href="https://github.com/libxml-raku/LibXML-raku/pull/49">pull request</a>&nbsp;for&nbsp;<a href="https://github.com/libxml-raku/LibXML-raku">LibXML</a>&nbsp;used in Spreadsheet::XLSX leading to a factor of 2 performance improvement.</p>



<p>Speaking of the actual implementation, although our brave elf didn‚Äôt have much experience with either grammars, parsers, or even Perl 6 / Raku, he was smart enough to engage a real <a href="https://www.edument.se/en/page/jonathan-worthington-eng">expert elf</a> for that. This elf did most of the heavy lifting of the backend implementation and helped our elf with advice and code review for the parts he implemented himself.</p>



<p>Please note that the goal of this rewrite was to leave most of the syntax of the model implementation and also the frontend as is, so the blame for all the sub-optimal design decisions are solely on our primary elf as well as the responsibility for imperfect implementation details passing under the review radar.</p>



<h2>Some Raku features used in AGRAMMON</h2>



<p>In this section we‚Äôll present a few Raku features used in AGRAMMON. This is not meant as a hardcore technical explanation for experts, but rather as a means to give a taste to people interested in Raku.</p>



<p>Most code examples are taken straight from the current implementation, sometimes the examples are slightly shortened by leaving of code that is irrelevant to the concept presented. There are many links to the original modules on GitHub. As AGRAMMON is still being worked on, those links might point at a more recent version of the module.</p>



<h3><a href="https://github.com/oposs/agrammon/blob/master/bin/agrammon.pl6">bin/agrammon.pl6</a></h3>



<p>The actual AGRAMMON ‚Äúexecutable‚Äù is just a three-liner (of which only two are Raku):</p>


<pre title="">#!/usr/bin/env raku
use lib "lib"
use Agrammon::UI::CommandLine;

</pre>


<p>This exploits the fact that Rakudo (the Raku implementation used here) has a pretty nice <a href="https://docs.raku.org/language/faq#index-entry-Precompile_(FAQ)">pre-compilation</a> feature which is useful for minimizing (the still not neglegible) startup time after the first run of the program.<a href="https://github.com/zaucker/agrammon/blob/Advent/Advent2020/raku-in-the-wild.md#agrammonuicommandline"></a></p>



<h3><a href="https://github.com/oposs/agrammon/blob/master/lib/Agrammon/UI/CommandLine.pm6">Agrammon::UI::CommandLine</a></h3>



<p>This module contains the main functions of the AGRAMMON application available from the command line.</p>



<h4><a href="https://github.com/zaucker/agrammon/blob/Advent/Advent2020/raku-in-the-wild.md#usage"></a>Usage</h4>



<p>Running <code>./bin/agrammon.pl6</code> gives the following output:</p>



<pre>Usage:
  ./bin/agrammon.pl6 web &lt;cfg-filename&gt; &lt;model-filename&gt; [&lt;te‚Ä¶</pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://raku-advent.blog/2020/12/20/day-20-a-raku-in-the-wild/">https://raku-advent.blog/2020/12/20/day-20-a-raku-in-the-wild/</a></em></p>]]>
            </description>
            <link>https://raku-advent.blog/2020/12/20/day-20-a-raku-in-the-wild/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485281</guid>
            <pubDate>Sun, 20 Dec 2020 10:35:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[eInk x Crypto ‚Äì The merge of two industries]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25485062">thread link</a>) | @tyler109
<br/>
December 20, 2020 | https://forum.ei2030.org/t/eink-x-crypto-the-merge-of-two-industries/69 | <a href="https://web.archive.org/web/*/https://forum.ei2030.org/t/eink-x-crypto-the-merge-of-two-industries/69">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
          <p>Hey there,</p>
<p>many folks in the eink community are also very passionate about the cryptocurrency sector. It guess it‚Äôs in the nature of our values. Both eink users as well as crypto users are in their nature early adopters. There are many angles where you could combine the both. Especially I could see crypto as a lever to boost the eink R&amp;D and development. Let‚Äôs start with a few ideas:</p>
<p><strong><span>#1</span> Display Digital Art on an Eink Display</strong></p>
<p>There is an emerging community in the crypto currency space around the crypto collectibles and NFT community. The market <a href="https://beincrypto.com/nft-market-takes-off-with-115-month-over-month-growth/">has seen exponential growth</a> in the past months. There has even been one art collection <a href="https://beincrypto.com/nft-digital-art-collection-sells-for-almost-800000/">sold for 800k USD</a>. So if you are digital art owner, you eventually want to ‚Äúshow off‚Äù your art. I think there will be need for a product such as an eink frame where you can display your digital art collection and some sort of qr code or some other proof (e.g. eth name address) that you own that piece of art. Imagine what great conversation starter this would be, if you have such a picture frame hanging in your flat or office.</p>
<p><strong><span>#2</span> Funding Eink Hardware Development with Crypto Currencies</strong></p>
<p>There has been some attempts to fund open source hardware with cryptocurrencies. There was an <a href="https://www.coindesk.com/blockchain-pocket-phone-behind-sirins-157-million-ico">158mln USD Initial Coin Offering</a> to fund the development of an open source blockchain based smartphone the Sirin phone. They where issuing their own digital currency. While this attempt mostly failed, therey could be another try maybe along the lines of eink hardware. However the token economics (if you want to issue an token) need to be engineered carefully and in such a way that it can accrue value.</p>
<p><strong><span>#3</span> Creating an ecoystem around focussed and healthy hardware/software based on eink technologies</strong></p>
<p>There has been a lot of hype around ‚Äúdistraction free phones‚Äù as well as discussions around the <a href="https://en.wikipedia.org/wiki/The_Social_Dilemma#:~:text=The%20Social%20Dilemma%20is%20a,Davis%20Coombe%2C%20and%20Vickie%20Curtis.">social dilemma</a> where big tech spys on us. I think this angle around health, privacy and focus could start a totally new device category. We have seen first attempts:</p>
<p><a href="https://mudita.com/products/pure/">* Mudita Pure</a></p>
<p><a href="https://getfreewrite.com/">* FreeWrite</a></p>
<p><a href="https://twitter.com/Hal_clockwork/status/1329737173638135809?s=20">* DevTerm - An Open Source Portable Terminal</a></p>
<p>The question now is, how do you jumpstart this new sort of ecoystem? And how do you integrate cryptocurrencies? Maybe you could have an open-source hardware device (e.g. notebook, phone) on which you build lots of ‚Äúeink-friendly‚Äù software. It could jumpstart a new open source community. Eventually this would be owned and governed by everyone through a cryptocurrency. Software will cost some money in that specific currency. If you are using the system, you earn that currency as early adopter. There will be an alternative app store, if you want to list there you need to pay in that currency. I don‚Äôt know how this could exactly look like, but that‚Äôs something we need to figure out as an community.</p>
<p>However there will be a first transition phase where we would need to ‚Äútranslate‚Äù regular services such as Facebook, Gmail, Maps, etc. and make them friendly for our hardware/software at the first place to ‚Äúconvert‚Äù regular users. And make everything usable for them at the beginning. And then they start liking the new system so much that they don‚Äôt want to go back. The ‚ÄúiPhone-Moment‚Äù for eink so to speak.</p>
<p><strong><span>#4</span> Smaller attempts</strong></p>
<p>There has been other ‚Äúsmaller‚Äù attempts to combine the both with an <a href="https://www.reddit.com/r/Bitcoin/comments/k1makb/simple_btc_price_ticker_with_e_ink_display/">Bitcoin price ticker</a> on an eink display or a <a href="https://www.reddit.com/r/interestingasfuck/comments/c5u09g/a_cryptocurrency_wallet_card_with_eink_display_to/">crypto wallet with an eink display</a>. But let‚Äôs think big here.</p>
<p>What are your thoughts/ideas around merging the cryptocurrency sector with eink technology?</p>
        </div></div>]]>
            </description>
            <link>https://forum.ei2030.org/t/eink-x-crypto-the-merge-of-two-industries/69</link>
            <guid isPermaLink="false">hacker-news-small-sites-25485062</guid>
            <pubDate>Sun, 20 Dec 2020 09:40:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Increasing the productivity of yourself and your team]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25484908">thread link</a>) | @r0rshrk
<br/>
December 20, 2020 | https://www.sankalpjonna.com/posts/increasing-the-productivity-of-yourself-and-your-team | <a href="https://web.archive.org/web/*/https://www.sankalpjonna.com/posts/increasing-the-productivity-of-yourself-and-your-team">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><figure id="w-node-8ad322b2e409-87eecd11"><p><img src="https://uploads-ssl.webflow.com/5e0b01877436086c8beecd1a/5fdef365db8935cbdaab25b0_pexels-fauxels-3184422.jpg" loading="lazy" alt=""></p></figure><p>In the past 3 months of working on <a href="http://delightchat.io/" target="_blank">delightchat.io</a>, this week was the only week where we managed to hit our deadlines exactly as planned. So I decided to dissect this further and tried to understand what we did right this time that we kept missing in the past few weeks.<br></p><p>On Dwelling deeper I found a few things that seemed to have really helped. The include</p><ul role="list"><li>Breaking up a week into simple and complex tasks.</li><li>Breaking up your day into time slots.<br></li></ul><h3><strong>Breaking up a week into simple and complex tasks.</strong><br></h3><p>After speaking to <a href="https://akash.substack.com/" target="_blank">our founding engineer Akash</a>, I realised something which should have been very obvious but somehow slipped past me. In the past few weeks we have been trying to knock off as many difficult tasks as possible, and by difficult I mean the tasks that had many unknowns and the quantum of work required to finish them was not really predictable. The idea behind this was that if we finished these types of tasks first, we could do the easy and predictable tasks at any point of time.<br></p><p>Turns out that this was not the correct way to approach things. In order to boost the morale of the team, there needed to be a few tasks which did not have any unknowns and therefore an ETA can be accurately established. As a result of this, finishing these tasks early in the week gives a feeling of achievement and fuels the desire to get more done in the remaining days of the week.<br></p><p>After this initial boost in morale, a complex task which requires a lot of research and deeper thinking can be undertaken more easily and confidently. This seemed to be the key to meeting our deadline for the week. We had two easy and predictable tasks this week that got done in two days. Post that Akash took up one complex task which took the remainder of the week.<br></p><h3><strong>Breaking up your day into time slots.</strong><br></h3><p>As Co-founders, Preetam and I have many things to do including development, meetings, writing content and many miscellaneous ad hoc tasks which come up. If we plan to be productive we would have to apply the above concept not only to the week but to every single day. Preetam suggested to me to divide the day into these 4 parts.<br></p><ul role="list"><li>Distraction free time to undertake complex and high priority tasks.</li><li>Time to complete a few easy tasks which might not be entirely distraction free.</li><li>A buffer time for any ad hoc tasks or meetings that might come up.</li><li>Time to relax<br></li></ul><p>So the full week must be divided into a few easy and a few difficult tasks, but each day within the week must be divided into the above 4 time frames. <br></p><h4><strong>Distraction free time</strong><br></h4><p>If you want to be be devoid of any distractions, you and your team can agree upon a certain period of time during the day where nobody is supposed to message each other on slack or call each other. We tried doing this in the initial stages but it was hard to pull this off because there could be pressing issues that cannot wait till the specified time window is over.<br></p><p>So I decided to change my strategy a little bit and do this during a period where our team is not working or at least is not expected to work. This only left me with 2 options - late night or early morning. I choose early morning because it feels healthier and it really helps to accomplish something early in the day because that will determine your mood for the rest of the day. <br></p><p>A while back I read this article about how the military mandates you to make your bed as soon as you get up and the idea behind it was for you to feel like you finished the first task of your day successfully and the result can be seen in the form of a clean made up bed which sets the tone for your mindset for the rest of the day. The other advantage of this is that if the rest of your day turns out to be bad, at least you can look forward to sleeping on an already clean and made up bed.<br></p><h4><strong>Time to complete easy tasks</strong><br></h4><p>After the early morning period has passed, the team is fully awake and active on slack, so you can no longer expect to be fully distraction free. Which means that the next few tasks that you do must be planned in a way that they do not require too much concentration and are mostly labour intensive. <br></p><p>An example of this is UI development work that involves minimal business logic and mostly assembling of components. This way even if you get distracted, you can context switch and get back into development quite easily. Obviously this is not always possible but one can prioritise their tasks in a way that whatever tasks require the least amount of brain power can be planned during this time frame. <br></p><h4><strong>Buffer time for ad hoc tasks</strong><br></h4><p>There are many such occurrences where a previously defined and agreed upon task can no longer be done in the way that was discussed because some new information has come to light. This may lead to more development or changing of the feature set to accommodate this new information. Either ways this requires your full attention to get through. <br></p><p>There could also be occurrences where a teammate wants to discuss or clarify something with you without which he/she is not able to proceed and therefore his/her time is blocked. This is not something that can be avoided because for the smooth functioning of any team, there must be no blockers or dependencies. <br></p><p>It is therefore important to dedicate some time during the day where you can schedule all of such ad hoc requests. Even if you receive these requests while the other time slots are in progress, you can schedule them for this time slot. <br></p><p>During this time slot you cannot expect to get much work done of your own, but at the same time you can‚Äôt just sit and wait for a teammate to message you about something, so you could use this time to browse the internet for some articles/resources that you always planned to look at for various purposes but never found the time. You could also use this time to work on some backlog tasks that have been pending for a while but lower in the priority list.<br></p><h4><strong>Time to relax</strong><br></h4><p>In my experience, out of all the above time slots, the time spent on ad hoc tasks is the most exhausting due to the amount of context switching needed and the lack of predictability. Therefore it is natural for one to transition from the ad hoc tasks time into relaxing time.<br></p><p>Unfortunately I do not have the luxury of always being able to have some time to relax. There are some days where this particular time slot gets skipped due to the workload but I try to clock in at least 45 minutes a day for a workout which for me counts as time to relax. I also have a hot bath right after my workout which really elevates the experience.<br></p><h3><strong>Closing notes</strong><br></h3><p>It has only been 3 months since Preetam and I started running a team and we are very much still learning. So it is entirely possible that we change our strategy in the coming days to accommodate the workload, the personalities of the new folks who join our team and our product roadmap.<br></p><p>But I feel like regardless of what happens, I can totally see the early morning distraction free time as something that I will continue to adapt for the foreseeable future. The benefits of doing this are too many to ignore. </p></div></div>]]>
            </description>
            <link>https://www.sankalpjonna.com/posts/increasing-the-productivity-of-yourself-and-your-team</link>
            <guid isPermaLink="false">hacker-news-small-sites-25484908</guid>
            <pubDate>Sun, 20 Dec 2020 08:52:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Sailscasts Company launches to help more people build with JavaScript]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25484830">thread link</a>) | @dominuskelvin
<br/>
December 20, 2020 | https://dominuskelvin.dev/blog/announcing-the-sailscasts-company | <a href="https://web.archive.org/web/*/https://dominuskelvin.dev/blog/announcing-the-sailscasts-company">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Some time ago I <a href="https://twitter.com/Dominus_Kelvin/status/1306158387340681217?s=20" rel="nofollow,noopener,noreferrer" target="_blank">announced</a> on Twitter I am working on Sailscasts - a platform to teach the Sails framework to help more people build out their ideas on JavaScript/Node.js</p>
<p>The journey to delivering Sailscasts has been(and it's still) interesting; I quit my job to focus fully on this project as I think I got something here. Sails is the most efficient way of building web service/application I know on Node.js. Companies like Postman and Paystack also share this sentiment(I believe) as they use Sails in production with a lot of success to it.</p>
<p>Speaking about the successes, Paystack has been <a href="https://paystack.com/blog/company-news/paystack-joining-stripe" rel="nofollow,noopener,noreferrer" target="_blank">acquired</a> by Stripe for a whooping $200M and Paystack runs on Sails!</p>
<p>I imagine a nearest future where anyone with a viable idea can build out an MVP with one language - JavaScript through the help of Sails.</p>
<p>In order to drive this vision to actualization, allow me to introduce <strong>The Sailscasts Company</strong></p>
<p>The Sailscasts Company is set to pioneer mass adoption of the Sails framework. We think Sails can help build businesses for anyone with a viable idea! Here is what we will be doing at The Sailscasts Company</p>
<h2 id="building-and-nurturing-sailscasts">Building and nurturing Sailscasts</h2>
<p>We believe educational resources and community is important for the adoption of any technology so we will have full-throttle on delivering Sailscasts and putting out quality educational resources and growing the <a href="https://discord.gg/gbJZuNm" rel="nofollow,noopener,noreferrer" target="_blank">Sails community</a> at large</p>

<p>We want to make it easier than it already is to develop using Sails by creating open-source tools for developers to employ in their day-to-day Sails journey</p>
<h2 id="serving-as-a-workforce-to-help-businesses-build-faster">Serving as a workforce to help businesses build faster</h2>
<p>We get that most times Companies won't have the engineering power to build their idea. In that light and to meet that need we will be offering custom platform/application development services to these companies. Our team will help build MVPs, provide consultation services, and even internal training for the engineering team of these services if they want.</p>
<h2 id="building-of-products-on-sails">Building of products on Sails</h2>
<p>We want to walk our talk. Since we are asking you to build on Sails, we also will be building our products on the Sails platform (Sailscasts is just the beginning)</p>
<p>The above and more are the motivation behind The Sailscasts Company and we are excited to deliver our first vision - Making Sailscasts a reality and giving it to you the developers to have a place to learn how to build your ideas using a language that can be likened to be the Ugly Duckling but now the language of our future - <strong>JavaScript</strong></p>
<p>I am pretty pumped about this. You can let me know what you think on <a href="https://twitter.com/Dominus_Kelvin" rel="nofollow,noopener,noreferrer" target="_blank">Twitter</a></p></div></div>]]>
            </description>
            <link>https://dominuskelvin.dev/blog/announcing-the-sailscasts-company</link>
            <guid isPermaLink="false">hacker-news-small-sites-25484830</guid>
            <pubDate>Sun, 20 Dec 2020 08:33:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hyperventilate yourself sober ‚Äì new device could help acute alcohol poisoning]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25484756">thread link</a>) | @tempestn
<br/>
December 20, 2020 | https://www.cbc.ca/radio/quirks/dec-12-spotting-steve-superbolts-and-megaflashes-hyperventilating-sober-and-more-1.5835976/hyperventilate-yourself-sober-a-simple-new-device-could-help-treat-acute-alcohol-poisoning-1.5835991 | <a href="https://web.archive.org/web/*/https://www.cbc.ca/radio/quirks/dec-12-spotting-steve-superbolts-and-megaflashes-hyperventilating-sober-and-more-1.5835976/hyperventilate-yourself-sober-a-simple-new-device-could-help-treat-acute-alcohol-poisoning-1.5835991">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>The device can significantly reduce the time it takes to bring down a person's blood alcohol level</p><div><figure><div><p><img loading="lazy" alt="" srcset="" sizes="" src="https://i.cbc.ca/1.5838304.1607718137!/fileImage/httpImage/image.jpg_gen/derivatives/16x9_780/dr-fisher-demonstrating-clearmate.jpg"></p></div><figcaption>Dr. Joseph Fisher demonstrates the use of the device he developed to help people hyperventilate safely to reduce alcohol poisoning. <!-- --> <!-- -->(UNH)</figcaption></figure><p><span><div><div role="button" tabindex="0" title="Hyperventilate yourself sober ‚Äî a simple new device could help treat acute alcohol poisoning"><div><p><img src="https://thumbnails.cbc.ca/maven_legacy/thumbnails/38/99/Quirks-640x360.jpg" alt=""></p><p><span>Quirks and Quarks</span><span>7:12</span><span>Hyperventilate yourself sober ‚Äî a simple new device could help treat acute alcohol poisoning</span></p></div></div></div></span></p><p><span><p>A Canadian scientist who developed technology to reverse carbon monoxide poisoning by inducing safe hyperventilation has just shown this technology could also work to reduce alcohol poisoning.&nbsp;</p>  <p><a href="http://www.physiology.utoronto.ca/content/joseph-fisher" target="_blank">Dr.&nbsp;Joseph Fisher</a>, a professor of anesthesiology at the University of Toronto and senior scientist at the University Health Network, came up with the device.</p>  <p>He said this technology works for the same reason you can smell alcohol on people's breath: alcohol evaporates out of the blood, into the lungs.</p>  <p>His original thought was that if he could induce patients to increase their amount of breathing, it might help the alcohol evaporate faster.&nbsp;</p>  <p>Hyperventilation is something generally humans try to avoid as it results in dizziness and other unpleasant symptoms.&nbsp; This, said Fisher, is because hyperventilation reduces the level of carbon dioxide in the blood, upsetting our blood chemistry.&nbsp;</p>  <p>The device he developed feeds back some carbon dioxide into the lungs as it forces a person to hyperventilate.&nbsp;</p>  <p>When he tested the device on volunteers who had consumed alcohol, it took only about 40 minutes for them to cut their blood alcohol level in half, which would have taken three to four hours to do at the rate we naturally metabolize alcohol.</p>  <p>Fisher thinks that now that he's shown this device works for alcohol, as well as carbon monoxide, that it could potentially work for any volatile poison.</p>  <p>The <a href="https://www.nature.com/articles/s41598-020-76233-9" target="_blank">study</a> was published in a recent issue of the journal, Scientific Reports.</p>  <p><em>Produced by Sonya Buyting and Mark Crawley. Written by <a href="https://twitter.com/SonyaBuyting" target="_blank">Sonya Buyting</a>.</em></p></span></p></div></div>]]>
            </description>
            <link>https://www.cbc.ca/radio/quirks/dec-12-spotting-steve-superbolts-and-megaflashes-hyperventilating-sober-and-more-1.5835976/hyperventilate-yourself-sober-a-simple-new-device-could-help-treat-acute-alcohol-poisoning-1.5835991</link>
            <guid isPermaLink="false">hacker-news-small-sites-25484756</guid>
            <pubDate>Sun, 20 Dec 2020 08:12:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hisense A7 5G: First E-Ink Smartphone with 5G to be Launched on December 22]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25484677">thread link</a>) | @tyler109
<br/>
December 19, 2020 | https://forum.ei2030.org/t/hisense-a7-5g-first-e-ink-smartphone-with-5g-to-be-launched-on-december-22/68 | <a href="https://web.archive.org/web/*/https://forum.ei2030.org/t/hisense-a7-5g-first-e-ink-smartphone-with-5g-to-be-launched-on-december-22/68">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
          <p>It seems Hisense will launch another phone (or ereader) this year with 5G. The Hisense A7 has a b/w screen and will be revealed in Dec 22:</p>
<blockquote>
<p>The Hisense A7 5G will get a global unveiling on December 22. However, it appears the 5G e-reader that doubles as a smartphone will not be getting a color e-ink screen like its siblings, the <a href="https://www.gizmochina.com/2020/04/24/hisense-a5-pro-cc-version-a5-pro-a5c-with-colour-ink-display-launched/">Hisense A5 Pro, Hisense A5 Pro CC, and Hisense A5C</a> which launched this year.</p>
</blockquote>
<p>That‚Äôs the picture they were posting:</p>
<div><a href="https://forum.ei2030.org/uploads/default/original/1X/b3df2ea80db70f63c28d73c993e4ddd9d53ca331.jpeg" data-download-href="https://forum.ei2030.org/uploads/default/b3df2ea80db70f63c28d73c993e4ddd9d53ca331" title="image"><img src="https://forum.ei2030.org/uploads/default/optimized/1X/b3df2ea80db70f63c28d73c993e4ddd9d53ca331_2_281x500.jpeg" alt="image" data-base62-sha1="pFdDfaKQcTo4QbI4PqxDhPjTX5T" width="281" height="500" srcset="https://forum.ei2030.org/uploads/default/optimized/1X/b3df2ea80db70f63c28d73c993e4ddd9d53ca331_2_281x500.jpeg, https://forum.ei2030.org/uploads/default/optimized/1X/b3df2ea80db70f63c28d73c993e4ddd9d53ca331_2_421x750.jpeg 1.5x, https://forum.ei2030.org/uploads/default/optimized/1X/b3df2ea80db70f63c28d73c993e4ddd9d53ca331_2_562x1000.jpeg 2x" data-small-upload="https://forum.ei2030.org/uploads/default/optimized/1X/b3df2ea80db70f63c28d73c993e4ddd9d53ca331_2_10x10.png"></a></div>
<p>Also good news for our international friends:</p>
<blockquote>
<p>Hisense says the launch is a global debut which means the device should be sold in other countries other than China. We don‚Äôt know which countries will get it yet but availability details should be available by Tuesday.</p>
</blockquote>
<p>More reading:</p>
<ul>
<li><a href="https://www.gizmochina.com/2020/12/19/hisense-a7-5g-e-ink-smartphone-e-reader-to-launch-on-december-22/">https://www.gizmochina.com/2020/12/19/hisense-a7-5g-e-ink-smartphone-e-reader-to-launch-on-december-22/</a></li>
</ul>
<p>So it seems it will be an exciting next week for the eink community. On tuesday Hisense will reveal their new 5G phone, on Friday Dasung will launch their new product (a new eink monitor?). So stay tuned eink folks.</p>
        </div></div>]]>
            </description>
            <link>https://forum.ei2030.org/t/hisense-a7-5g-first-e-ink-smartphone-with-5g-to-be-launched-on-december-22/68</link>
            <guid isPermaLink="false">hacker-news-small-sites-25484677</guid>
            <pubDate>Sun, 20 Dec 2020 07:48:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Writing a custom iterator in modern C++]]>
            </title>
            <description>
<![CDATA[
Score 52 | Comments 74 (<a href="https://news.ycombinator.com/item?id=25484444">thread link</a>) | @signa11
<br/>
December 19, 2020 | https://www.internalpointers.com/post/writing-custom-iterators-modern-cpp | <a href="https://web.archive.org/web/*/https://www.internalpointers.com/post/writing-custom-iterators-modern-cpp">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>‚Äî Written by Triangles on December 13, 2020 
								‚Ä¢ updated on December 19, 2020  
								‚Ä¢ ID 86 ‚Äî</p><p>An experimental Forward Iterator written from scratch to boost up hand-made containers.</p><div>
				
<!-- internalpointers responsive -->
<p>An iterator is an object that points to an element inside a container. Like a pointer, an iterator can be used to access the element it points to and can be moved through the content of the container. Each container in the C++ Standard Library provides its own iterator, as well as some methods to retrieve it. Using iterators is quite easy: obtain an instance from a container, move it around where needed and then get the pointed element.</p>
<p>Concretely, an iterator is a simple class that provides a bunch of operators: increment <code>++</code>, dereference <code>*</code> and few others which make it very similar to a pointer and the arithmetic operations you can perform on it. In fact, iterators are a generalization of pointers, which are often used as a foundation when writing the iterator itself.</p>
<p>Iterators are one of the building blocks of the Standard Library containers, but they are also useful when you want to provide the ability to iterate over elements of a custom container that you wrote yourself: this is what I want to investigate in the present article. Adding iterators to your containers will make them compatible with the <a href="https://en.cppreference.com/w/cpp/language/range-for">range-based for loops</a> and the <a href="https://en.cppreference.com/w/cpp/algorithm">C++ Algorithms library</a>: a collection of functions for searching, sorting, counting and manipulating containers, based on iterators.</p>
<h2>A dummy container for our experiments</h2>
<p>Before digging deeper, let's define a silly custom container that we want to spice up with iterators:</p>
<pre><code>class Integers
{
private:
    int m_data[200];
};
</code></pre>
<p>The <code>Integers</code> class is a wrapper around a raw array of <code>int</code>s: we want to be able to access elements of that private array through an iterator, as well as to loop over it or pass it to any of the Standard Library algorithms. Let's start by making some design decisions.</p>
<h2>Choose the nature of our iterator</h2>
<p>The first step is to choose the type of iterator we want to implement. Modern C++ defines six types:</p>
<table>
<thead><tr>
<th>#</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/InputIterator">Input Iterator</a></strong></td>
<td>Can scan the container forward only once, can't change the value it points to (read-only);</td>
</tr>
<tr>
<td>2</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/OutputIterator">Output Iterator</a></strong></td>
<td>Can scan the container forward only once, can't read the value it points to (write-only);</td>
</tr>
<tr>
<td>3</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/ForwardIterator">Forward Iterator</a></strong></td>
<td>Can scan the container forward multiple times, can read and write the value it points to;</td>
</tr>
<tr>
<td>4</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/BidirectionalIterator">Bidirectional Iterator</a></strong></td>
<td>Same as previous one but can scan the container back and forth;</td>
</tr>
<tr>
<td>5</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/RandomAccessIterator">Random Access Iterator</a></strong></td>
<td>Same as previous one but can access the container also non-sequentially (i.e. by jumping around);</td>
</tr>
<tr>
<td>6</td>
<td><strong><a href="https://en.cppreference.com/w/cpp/named_req/ContiguousIterator">Contiguous Iterator</a></strong></td>
<td>Same as previous one, with the addition that logically adjacent elements are also physically adjacent in memory.</td>
</tr>
</tbody>
</table>
<p>The six categories are hierarchical: a Bidirectional Iterator is also a Forward Iterator and a Random Access Iterator is both a Bidirectional and a Forward Iterator and so on. Normally, all iterators are Input Iterators (1) which makes them read-only, also known as <strong>constant iterators</strong>. Iterators that both support read and write operations are also Output Iterators (2) and are called <strong>mutable iterators</strong>.</p>
<div>
<p><img src="https://raw.githubusercontent.com/monocasual/internalpointers-files/master/2020/12/iterators/iterator-hierarchy.png" alt="Iterators hierarchy"></p><p>1. Iterators hierarchy in C++. All iterators are Input Iterators, Output Iterators or both.</p>
</div><p>Input and Output iterators are often used for low-level components such as input and output streams (the so-called <strong>single-pass algorithms</strong>) and thus have limitations. We want to do more with our custom container, so we will skip those two and jump straight to the mutable Forward Iterator.</p>
<h2>Prepare the custom iterator</h2>
<p>An iterator is usually declared inside the class it belongs to, for example:</p>
<pre><code>class Integers
{
public:
    struct Iterator { /* ... */ };

    // ...
};
</code></pre>
<p>The first thing to do is to assign the iterator some properties. Until C++17 this is done by <em>tagging</em> it with the <a href="https://www.fluentcpp.com/2018/04/27/tag-dispatching/"><strong>tag dispatch</strong></a> mechanism, while C++20 uses <strong>concepts</strong>: in this article I will follow the traditional approach.</p>
<p>C++ expects some properties from an iterator:</p>
<ul>
<li><code>iterator_category</code> ‚Äî one of the six iterator categories we have seen above. The full list is available <a href="https://en.cppreference.com/w/cpp/iterator/iterator_tags">here</a>. The <code>std::forward_iterator_tag</code> tag is what we need;</li>
<li><code>difference_type</code> ‚Äî a signed integer type that can be used to identify distance between iterator steps. Our iterator is basically a wrapper around a pointer and leverages pointer arithmetic, so the default <a href="https://en.cppreference.com/w/cpp/types/ptrdiff_t"><code>std::ptrdiff_t</code></a> is a good choice;</li>
<li><code>value_type</code> ‚Äî the type the iterator iterates over. <code>int</code> in our case;</li>
<li><code>pointer</code> ‚Äî defines a pointer to the type iterated over. <code>int*</code> in our case;</li>
<li><code>reference</code> ‚Äî defines a reference to the type iterated over. <code>int&amp;</code> in our case;</li>
</ul>
<p>Translated into code:</p>
<pre><code>#include &lt;iterator&gt; // For std::forward_iterator_tag
#include &lt;cstddef&gt;  // For std::ptrdiff_t

struct Iterator 
{
    using iterator_category = std::forward_iterator_tag;
    using difference_type   = std::ptrdiff_t;
    using value_type        = int;
    using pointer           = int*;  // or also value_type*
    using reference         = int&amp;;  // or also value_type&amp;
};
</code></pre>
<h3>Why are tags useful?</h3>
<p>Some of the tags above might seem useless at first. In fact, you will notice how they will never get mentioned during the definition of our iterator. Tags are used to select the most efficient algorithm if your container is passed to one of the Standard Library functions from the <code>&lt;algorithm&gt;</code> library. Wrong tags mean sub-optimal performance! The iterator category is also used to set algorithm requirements, for example: <a href="https://en.cppreference.com/w/cpp/algorithm/fill"><code>std::fill</code></a> wants a Forward Iterator, while <a href="https://en.cppreference.com/w/cpp/algorithm/reverse"><code>std::reverse</code></a> wants a Bidirectional Iterator. Passing the wrong iterator will result in a compilation error.</p>
<h2>Define the iterator constructors</h2>
<p>All iterators must be <em>constructible</em>, <em>copy-constructible</em>, <em>copy-assignable</em>, <em>destructible</em> and <em>swappable</em>. Let's translate those requirements into code for our iterator:</p>
<pre><code>struct Iterator 
{
    // Iterator tags here...

    Iterator(pointer ptr) : m_ptr(ptr) {}

private:

    pointer m_ptr;
};
</code></pre>
<p>Easy! We just need a custom constructor to initialize the private member variable <code>m_ptr</code>, which points to an element of the <code>Integers</code> container. The custom constructor satisfies the <em>constructible</em> requirement, while all others are covered by the implicitly-declared constructors and operators kindly provided by the compiler.</p>
<h2>Implement operators</h2>
<p>We are building a mutable Forward Iterator, which inherits properties from both Input and Output Iterators. The resulting iterator must support the following operations:</p>
<ul>
<li><code>*iterator</code> and <code>iterator-&gt;x</code> ‚Äî dereferenceable, to get the value it points to;</li>
<li><code>++iterator</code> and <code>iterator++</code> ‚Äî incrementable, to move it one step forward, both prefix and postfix versions. The latter must return something dereferenceable;</li>
<li><code>iterator_a == iterator_b</code> and <code>iterator_a != iterator_b</code> ‚Äî comparable with another iterator;</li>
</ul>
<p>This is done by implementing some custom operators in the <code>Iterator</code> class, like this:</p>
<pre><code>struct Iterator 
{
    // Iterator tags here...

    // Iterator constructors here...

    reference operator*() const { return *m_ptr; }
    pointer operator-&gt;() { return m_ptr; }

    // Prefix increment
    Iterator&amp; operator++() { m_ptr++; return *this; }  

    // Postfix increment
    Iterator operator++(int) { Iterator tmp = *this; ++(*this); return tmp; }

    friend bool operator== (const Iterator&amp; a, const Iterator&amp; b) { return a.m_ptr == b.m_ptr; };
    friend bool operator!= (const Iterator&amp; a, const Iterator&amp; b) { return a.m_ptr != b.m_ptr; };     

private:

    pointer m_ptr;
};
</code></pre>
<p>As you can see every operator involves the usage of the private pointer <code>m_ptr</code>. Also, notice the <code>friend</code> declaration for the two comparison operators: this is handy way to define the operators as non-member functions, yet being able to access private parts of the <code>Iterator</code> class (rationale  <a href="https://stackoverflow.com/questions/4421706/what-are-the-basic-rules-and-idioms-for-operator-overloading/4421729#4421729">here</a>).</p>
<h2>Prepare the container</h2>
<p>Our iterator is good to go. The last step is to give our custom container the ability to create <code>Iterator</code> objects. This is done by adding two public methods <code>begin()</code> and <code>end()</code> that return instances of the <code>Iterator</code> class, representing the first and the last element respectively:</p>
<pre><code>class Integers
{
public:

    // Iterator definition here ...

    Iterator begin() { return Iterator(&amp;m_data[0]); }
    Iterator end()   { return Iterator(&amp;m_data[200]); } // 200 is out of bounds
};
</code></pre>
<p>The <code>end()</code> method returns an iterator that refers to an <em>invalid</em> memory address, past the end of our raw array. Such iterator is just a placeholder used to determine when the boundary has been reached: it should never be accessed directly.</p>

<!-- internalpointers responsive -->
<h2>Time to test our iterator</h2>
<p>Both the custom container and its iterator are now ready. Let's test them with the range-based for loop:</p>
<pre><code>Integers integers;
for (auto i : integers)
    std::cout &lt;&lt; i &lt;&lt; "\n";
</code></pre>
<p>This code will magically print the value of each integer in the container. It works because the range-based for loop is just syntactic sugar created by the compiler for the following:</p>
<pre><code>for (auto it = integers.begin(), end = integers.end(); it != end; ++it) { 
    const auto i = *it; 
    std::cout &lt;&lt; i &lt;&lt; "\n";
}
</code></pre>
<p>In words: two iterators <code>it</code> and <code>end</code> are created. The first one points to the beginning of the container, the other one points to the end. Then, on each loop, the <code>it</code> iterator is incremented until it's equal to <code>end</code>, that is until the end of the container has been reached. The actual value is obtained by dereferencing <code>it</code> in a local variable before being printed.</p>
<p>Notice how the compiler makes use of all the operators and functions we have previously implemented: the <code>begin()</code> and <code>end()</code> methods in the custom container, the ability to compare the two iterators with the <code>!=</code> operator, the ability to increment <code>it</code> with the prefix syntax and finally the ability to dereference it to grab the actual value it points to.</p>
<p>Let's now try a function from the Algorithm library, <a href="https://en.cppreference.com/w/cpp/algorithm/fill"><code>std::fill</code></a> for example:</p>
<pre><code>Integers integers;

std::fill(integers.begin(), integers.end(), 3);
</code></pre>
<p>The function assigns all elements in the container the value <code>3</code>. It works because <code>std::fill</code> is usually implemented like this:</p>
<pre><code>template &lt;typename ForwardIterator, ‚Ä¶</code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.internalpointers.com/post/writing-custom-iterators-modern-cpp">https://www.internalpointers.com/post/writing-custom-iterators-modern-cpp</a></em></p>]]>
            </description>
            <link>https://www.internalpointers.com/post/writing-custom-iterators-modern-cpp</link>
            <guid isPermaLink="false">hacker-news-small-sites-25484444</guid>
            <pubDate>Sun, 20 Dec 2020 06:46:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A quick tool to build 3D models from the voxels or 2D layers]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25484307">thread link</a>) | @jarvis57
<br/>
December 19, 2020 | https://jarvis57.github.io/cubego.io | <a href="https://web.archive.org/web/*/https://jarvis57.github.io/cubego.io">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://jarvis57.github.io/cubego.io</link>
            <guid isPermaLink="false">hacker-news-small-sites-25484307</guid>
            <pubDate>Sun, 20 Dec 2020 06:18:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pragmalang 0.2.0 Released]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25484288">thread link</a>) | @Tabzz98
<br/>
December 19, 2020 | https://pragmalang.com/docs/install | <a href="https://web.archive.org/web/*/https://pragmalang.com/docs/install">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2>Linux</h2><h3>Requirements</h3><ul><li><a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener noreferrer">Docker</a> and <a href="https://docs.docker.com/compose/install/" target="_blank" rel="noopener noreferrer">Docker Compose</a></li></ul><p>To make sure you have them and that they work, run:</p><p>If any of the above commands fail, make sure it works before proceeding with the installation of Pragma.</p><h3>Installation</h3><p>To install Pragma, run:</p><p>The script will ask for root access, so make sure to enter your password when prompted.</p><p>If you're on Ubuntu/Debian, you can download the <code>.deb</code> package from <a href="https://github.com/pragmalang/pragma/releases/latest" target="_blank" rel="noopener noreferrer">releases</a>.</p><h3>Run Pragma</h3><p>Once Pragma is downloaded and installed, you can see if it works by running the following command:</p><h2>MacOS</h2><h3>Requirements</h3><ul><li><a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener noreferrer">Docker</a> and <a href="https://docs.docker.com/compose/install/" target="_blank" rel="noopener noreferrer">Docker Compose</a></li><li><a href="https://www.oracle.com/java/technologies/javase-jdk15-downloads.html" target="_blank" rel="noopener noreferrer">Java</a></li></ul><p>To make sure you have them and that they work, run:</p><p>If any of the above commands fail, make sure it works before proceeding with the installation of Pragma.</p><div><p><h5><span><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></p><p>When <a href="https://www.oracle.com/java/technologies/javase-jdk15-downloads.html" target="_blank" rel="noopener noreferrer">installing Java</a>, make sure to use the <strong>macOS Installer</strong>. The macOS version of Pragma is the only one that doesn't come with a bundled Java runtime, due to the latest security features in macOS Catalina+.</p></div><h3>Installation</h3><p>To install the Pragma CLI using <a href="https://brew.sh/" target="_blank" rel="noopener noreferrer">Homebrew</a>:</p><h3>Run Pragma</h3><p>Once Pragma is downloaded and installed, you can see if it works by running the following command from the terminal:</p><h2>Windows</h2><h3>Requirements</h3><ul><li><a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener noreferrer">Docker</a> and <a href="https://docs.docker.com/compose/install/" target="_blank" rel="noopener noreferrer">Docker Compose</a></li></ul><p>To make sure you have them and that they work, run:</p><p>If any of the above commands fail, make sure it works before proceeding with the installation of Pragma.</p><h3>Installation</h3><p>First, we need to install the Pragma CLI:</p><ul><li><a href="https://github.com/pragmalang/pragma/releases/download/0.2.0/pragma-0.2.0.msi" target="_blank" rel="noopener noreferrer">Download the installer</a></li><li>Run the installer and follow the installation wizard</li></ul><blockquote><p><em>Note</em>: If Microsoft Defender tells you it prevented an unrecognized app from starting, click on "<strong>More info</strong>", then click on <strong>"Run anyway"</strong>.</p></blockquote><h3>Run Pragma</h3><p>Once Pragma is downloaded and installed, you can see if it works by running the following command from PowerShell:</p><p>If you have any questions or feedback you can join our <a href="https://discord.gg/gbhDnfC" target="_blank" rel="noopener noreferrer">Discord server</a> or post to <a href="https://www.reddit.com/r/pragmalang/" target="_blank" rel="noopener noreferrer">r/pragmalang</a>.</p></div></div>]]>
            </description>
            <link>https://pragmalang.com/docs/install</link>
            <guid isPermaLink="false">hacker-news-small-sites-25484288</guid>
            <pubDate>Sun, 20 Dec 2020 06:14:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bharat Mediratta ‚Äì The Story of Google Web Server (and More)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25484274">thread link</a>) | @ublaze
<br/>
December 19, 2020 | https://www.softwareatscale.dev/p/software-at-scale-003-bharat-mediratta | <a href="https://web.archive.org/web/*/https://www.softwareatscale.dev/p/software-at-scale-003-bharat-mediratta">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Bharat Mediratta was a Distinguished Engineer at Google, CTO at Altschool, and CTO at Dropbox. At Google, he worked on <a href="https://en.wikipedia.org/wiki/Google_Web_Server">GWS</a> (Google Web Server), a system that I‚Äôve always been curious about, especially since its Wikipedia entry calls it ‚Äúone of the most guarded components of Google's infrastructure‚Äù.</p><p>In this podcast, we discuss GWS, bootstrapping a culture of testing at Google, breaking up services to be more manageable, monorepos, build systems, the ethics of software at scale, and more. We spent almost an hour and a half, and didn‚Äôt even manage to cover his experiences at Altschool or Dropbox (which hopefully will be covered in a follow up).</p><p>Listen on <a href="https://podcasts.apple.com/us/podcast/software-at-scale/id1543617436">Apple Podcasts</a> or <a href="https://open.spotify.com/show/7eGnnZnfb3mOGTqWR4gTjK?si=DMsJIWg3QjiiJS65A1nEbQ">Spotify</a>.</p><p data-attrs="{&quot;url&quot;:&quot;mailto:reliability@substack.com&quot;,&quot;text&quot;:&quot;Send feedback&quot;,&quot;class&quot;:null}"><a href="https://www.softwareatscale.dev/cdn-cgi/l/email-protection#295b4c4540484b4045405d50695a5c4b5a5d484a42074a4644"><span>Send feedback</span></a></p><h2>Highlights</h2><p>Notes are <em>italicized.</em></p><p>0:20 - Background - Childhood interests in technology. His dad was a director at <a href="https://en.wikipedia.org/wiki/Aeronautical_Development_Establishment">ADE, India</a>. <em><a href="https://timesofindia.indiatimes.com/city/bengaluru/Kalams-stellar-career-took-off-in-Bengaluru/articleshow/48245618.cms">His dad recruited APJ Abdul Kalam, arguably one of India‚Äôs most popular Presidents, and kick-started his career</a>.</em></p><p>6:10 - Studying tech in university. <a href="https://en.wikipedia.org/wiki/Guru_Meditation#:~:text=The%20Guru%20Meditation%20is%20an,such%20as%20Varnish%20and%20VirtualBox.">Guru Meditation errors</a>.</p><p>10:50 - Working at <a href="https://en.wikipedia.org/wiki/Sun_Microsystems">Sun Microsystems</a> as a first job.</p><p>12:30 - Transitioning from being a programmer to a leader, and thinking about project plans and deadlines.</p><p>14:15 - Working on side projects for the company (a potential inspiration for <a href="https://www.nytimes.com/2007/10/21/jobs/21pre.html">20% projects at Google?</a>)</p><p>15:30 - Moving from Sun to a few startups to Google. How did 20% projects start?</p><p>16:50 - Google News as a 20% project. <em><a href="https://en.wikipedia.org/wiki/20%25_Project#Google_News">Apparently 20% projects has its own wikipedia page.</a></em></p><p>18:24 - Did 20% time require management approval?</p><p>19:30 - <a href="https://en.wikipedia.org/wiki/Thomas_Kurian">TK</a> at Google Cloud, and how the management model compares to early Google</p><p>21:00 - Declining an offer from Google at 2002, and going to <a href="https://itsfoss.com/story-of-va-linux/">VA Linux</a> instead.</p><p>22:28 - Growth at Google from 2004 onwards.</p><p>24:28 - Hiring at Google at that time. ‚ÄúA players hire A players, B players hire C players‚Äù.</p><p>24:55 - Culture Fit (indoctrination)? Two weeks of ‚Äúfairly intense education‚Äù, a Noogler project, and a general investment of time and money to help explain the Google way of doing things. It wasn‚Äôt accidental. <em>I went through this in 2016 and definitely learnt a bunch, especially from an intriguing talk called ‚ÄúLife of a Query‚Äù.</em></p><p>27:22 - Culturally integrating acquisitions successfully. YouTube as an example.</p><p>28:40 - Differences between Google and YouTube, and other acquisitions like Motorola Mobility.</p><p>30:20 - Search/Google Web Server (GWS) only had 3 nines of availability? The difference between a forager and a refiner (in terms of programming)</p><p>31:15 - What was GWS? Server responsible for Google Home and Google Search. </p><p>32:20 - There was only one infrastructure engineer on GWS at the time (who wanted to switch), but about a hundred engineers made changes to it every week. </p><p>33:10 - Starting with writing unit tests for this system.</p><p>33:40 - ‚ÄúThey‚Äù used to call GWS ‚Äúthe neck of Google‚Äù. Extremely critical, but also extremely fragile. Search results and 98% of revenue came through this system. One second of downtime implied revenue loss. Rewriting was infeasible.</p><p>34:50 - How to use unit tests to create a culture of shared understanding. Bharat released a manifesto that basically said ‚Äúall changes to GWS required unit tests‚Äù. This caused massive consternation at the time.</p><p>36:10 - A quick example on how to enforce unit tests on new code. If an engineer didn‚Äôt add a new unit test, Bharat would write the test for them, which often would be failing due to a bug in engineer‚Äôs code. This led to a culture where engineers realized the value of writing these tests (and implicitly </p><p>39:23 - New Googlers were taught to write unit tests, so that new engineers would spread a culture of writing tests. ‚ÄúOh, everyone writes unit tests at Google‚Äù.</p><p>41:50 - ‚ÄúWhat kind of features were those hundreds of engineers adding to GWS?‚Äù. An example - adding UPS tracking numbers automatically showed you UPS tracking results. These were all quiet launches.</p><p>Some of the software design around experimentation towards Google search might have influenced Optimizely‚Äôs design.</p><p>45:00 - Google‚Äôs search page in 2007 was pure HTML. In 2009, it was completely AJAX based. This was a massive shift that happened transparently for users.</p><p>46:00 - ‚ÄúWe wanted Search to be a utility. We wanted it to be the air you breath. You don‚Äôt turn on the faucet and worry that water doesn‚Äôt come out.‚Äù </p><p>47:40 - The evolution of GWS‚Äôs architecture. Initially, very monolithic. GWS would talk to indices, get results, rank results, and send back HTML. This eventually was broken into layers. Each layer had responsibility, and the plan was to stick to that.</p><p>49:00 - ‚ÄúYou could find one line of code in GWS that had C code, C++ code, HTML, Javascript, and CSS output‚Äù. <em>Wow.</em></p><p>The number one query at Google at the time was ‚ÄúYahoo‚Äù - a navigational search query.</p><p>50:00 - Google Instant was rolled out in 2010. Internally, this was called ‚ÄúGoogle Psychic‚Äù, cause it was pretty good at predicting what users wanted to search.</p><p>51:50 - ‚ÄúA rewrite would have been a disaster‚Äù. GWS was essentially refactored from inside out every 18 months for 11 years. The first one - was breaking out ranking from GWS to another service.</p><p>57:00 - YouTube knew that if it convinced enough people to get better internet, Google would make more revenue.</p><p>59:00 - Search grew from 500-1000 people in 2004, to 3000 people in 2010. </p><p>59:30 - How exactly did search ranking work, technically and organizationally? <em><a href="https://moz.com/blog/long-click-and-the-quality-of-search-success">The Long Click</a>. </em></p><p>61:40 - Google ran 20+ experiments to figure out the best shade of blue on the Search page. This might seem silly, but it helps at scale, since it could potentially find the shade that would help the most colorblind individuals.</p><p>67:50 - Hate speech from Google search, and the ethical quandaries around building a humanity scale system.</p><p>70:30 - Improving iteration speed and developer productivity for these systems</p><p>71:50 - Google had an ML model for search results back in 2004 that was competitive with the hand-built systems, but didn‚Äôt end up using it, due to the lack of understandability. This has definitely changed now. <em>I had read that document during my internship, but was surprised to learn that Google had a working ML model for ranking since 2004.</em></p><p>73:30 - Service Oriented Architecture at Google. Enabled GWS from C to C++ and divest itself from some responsibilities. But Google stuck with a monorepo, compared to Amazon.</p><p>76:40 - Components in the Monorepo + Blaze (<a href="https://bazel.build/">Bazel</a>) helped Google scale build times and reduce iteration speed. <em>Components is the most interesting piece, since to my understanding, it hasn‚Äôt been written about much externally.</em></p><p>78:00 - The scale and complexity of the monorepo.</p><p>79:40 - The 400,000 line Makefile, and the start of Blaze.</p><p>82:00 - What were the benefits of ‚ÄúComponents‚Äù?</p><p>84:00 - The project to multi-thread GWS, when it was serving 5 - 10 billion search queries a day. It started off as a practical joke.</p><p>91:00 - It‚Äôs rarely only about the technology. It‚Äôs about culture and team cohesion.</p></div></div>]]>
            </description>
            <link>https://www.softwareatscale.dev/p/software-at-scale-003-bharat-mediratta</link>
            <guid isPermaLink="false">hacker-news-small-sites-25484274</guid>
            <pubDate>Sun, 20 Dec 2020 06:09:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Knotwork Designer]]>
            </title>
            <description>
<![CDATA[
Score 47 | Comments 10 (<a href="https://news.ycombinator.com/item?id=25484101">thread link</a>) | @blewboarwastake
<br/>
December 19, 2020 | http://birrell.org/andrew/knotwork/ | <a href="https://web.archive.org/web/*/http://birrell.org/andrew/knotwork/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://birrell.org/andrew/knotwork/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25484101</guid>
            <pubDate>Sun, 20 Dec 2020 05:33:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Email Sabbaticals]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25484092">thread link</a>) | @colinprince
<br/>
December 19, 2020 | https://pluralistic.net/2020/12/16/fraught-superpowers/#email-sabbatical | <a href="https://web.archive.org/web/*/https://pluralistic.net/2020/12/16/fraught-superpowers/#email-sabbatical">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1713">
	<!-- .entry-header -->

	
	
	<div>
		<p><!--
Tags:
corporate transparency act, copyfight, sonny bono, public domain, 1925, downtime, email sabbaticals, ccc, chaos communications congress, events, rc3, financial secrecy, money laundering, fincen papers, panama papers, onshore offshore, facial recognition, algorithmic discrimination

Summary:
Email sabbaticals; Chaos Communications Congress; Landmark US financial transparency law; Rogues' Galleries and facial recognition; Jan 1 is Public Domain Day for 1925

URL:
https://pluralistic.net/2020/12/16/fraught-superpowers/

Title:
Pluralistic: 16 Dec 2020 fraught-superpowers

Bullet:
üëõ

Separator:
_,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,_

Top Sources:
Today's top sources: Waxy (https://waxy.org/), Naked Capitalism (https://www.nakedcapitalism.com/).

--><br>
<a href="https://pluralistic.net/2020/12/16/fraught-superpowers/"><img src="https://i1.wp.com/craphound.com/images/16Dec2020.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/16Dec2020.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></a></p>

<ul>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#email-sabbatical">Email sabbaticals</a>: I'm going offline until next year.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#rc3">Chaos Communications Congress</a>: Finally a way to do CCC without making your family furious.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#financial-secrecy">Landmark US financial transparency law</a>: Beginning of the end for the US onshore-offshore industry.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#fr">Rogues' Galleries and facial recognition</a>: Self-fulfilling prophecies at the core of white supremacist policing.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#public-domain-day">Jan 1 is Public Domain Day for 1925</a>: Gatsby, Dalloway, Buster Keaton, Ma Rainey, et al.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#retro">This day in history</a>: 2010, 2015, 2019
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2020/12/16/fraught-superpowers/#bragsheet">Colophon</a>: Recent publications, upcoming/recent appearances, current writing projects, current reading
</li>
</ul>

<hr>
<p><a name="email-sabbatical"></a><br>
<img src="https://i2.wp.com/craphound.com/images/440685338_4668bd99c0_k.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/craphound.com/images/440685338_4668bd99c0_k.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>It's been a decade since danah boy introduced me to the idea of "email sabbaticals." That's when you go away and turn off your email.</p>
<p><a href="http://www.zephoria.org/thoughts/archives/2010/12/08/i-am-offline-on-email-sabbatical-from-december-9-january-12.html">http://www.zephoria.org/thoughts/archives/2010/12/08/i-am-offline-on-email-sabbatical-from-december-9-january-12.html</a></p>
<p>Not just setting an out-of-office message, but rather deleting all inbound mail and asking correspondents to try again after the break. In her message, boyd explains to those correspondents who know how to reach her mother that this is the only way to reach her.</p>
<p>Here's the rationale: if you allow email to pile up while you're trying to unwind, it'll take months to catch up on when you get back, and you'll immediately burn out, incinerating all the value you got out of your break.</p>
<p>What's more, you'll still fail to clear the backlog ‚Äì you'll have to declare "email bankruptcy" and fail everyone who'd contacted you anyway. It's a bad deal for you <em>and</em> for the people who email you during your break.</p>
<p>Here's how boyd's email sabbaticals work: six months prior, she informs her collaborators that she'll be taking some protracted downtime; a month before she confirms her commitments to collaborators and composes a checklist to ensure that she meets them prior to departure.</p>
<p>A week in advance, she warns everyone again that she's going offline and shuttering her inboxes. Close family members and her network administrator are given instructions for reaching her while on break, but no one else is.</p>
<p>She leaves, and shuts down her email. She knows she's going to miss new, time-sensitive stuff, but makes peace with it. In return, she gets the peace of mind that comes from knowing that she's going to come home to an empty in-box.</p>
<p>At the close of business today, I'm going on email (and work) sabbatical until Jan 4, 2021. Apart from one live event (the remote Chaos Communications Congress on Dec 27) I won't be accepting emails and I won't be replying to DMs or other messages.</p>
<p><a href="https://rc3.world/">https://rc3.world/</a></p>
<p>I really, really need it.</p>
<p>Over the years, many people have expressed their admiration at my "productivity" ‚Äì but the dirty secret of that productivity is that work is how I cope with stress.</p>
<p>It's not the worst problem to have: I wrote a whole novel since the crisis, while also launching four books and keeping up with my day-job at EFF.</p>
<p>But working to cope with stress has its limits. It's a good temporary fix, but it's no long-term solution.</p>
<p>For one thing, I've got a serious, untreatable, degenerating chronic pain condition, and working is how I hope with the pain, too ‚Äì distraction works far better than any prescription meds for me.</p>
<p>But ignoring your body's pain signals is a dangerous tactic. It's why I'm now experiencing the worst continuous pain of my adult life (it's been a stressful year). Last week it was so bad I was walking with a cane.</p>
<p>I say all of this not to humblebrag about my commitment to my work, but rather in the interests of transparency. I'm keenly aware that we live our own blooper reels and everyone else's highlight reels.</p>
<p>I'm grateful for my work habits, truly ‚Äì but they come at a really high cost, and balancing work-as-distraction and work-as-pathology is really, really hard. If you're wondering how to do what I do, have a little peek into the blooper reel, first.</p>
<p>It's been a high-stress, crazy year. We nearly went broke, then had a spectacular recovery (thank you, Kickstarter backers!), have tried our best to be good parents (with varying degrees of success). We've gone through blazing rows and many sleepless nights.</p>
<p>I've spent most of the year with sores at the corners of my mouth, which I only get under in the most extreme times of stress.</p>
<p>And we've had it <em>good</em>. We're solvent, safe, and healthy. Thinking about what this would be like if any of those changed is terrifying.</p>
<p>Hanging out with my digital community is a huge net benefit to me, but unplugging from that community is something I increasingly value as I head towards my 50th birthday next July.</p>
<p>My first digital community experience was sending IMs to other users of the timeshare mainframe we plugged into when I was six years old, in 1977, when my dad brought home an acoustic coupler and my mom found 1,000' of brown paper towel to feed into the teletype.</p>
<p>Some (most) of my life's most important relationships, friendships, and discussions have taken place over this medium, and an enormous amount of that good stuff started with a conversation with a stranger.</p>
<p>I never felt the outrage that attended the introduction of the telephone into Edwardian England: "Anyone ‚Äî any wild fool off the street ‚Äî could simply barge bellowing into one's office or home, preceded only by the ringing of a telephone bell."</p>
<p><a href="https://www.mit.edu/hacker/part1.html">https://www.mit.edu/hacker/part1.html</a></p>
<p>For me, finding my people (and being found by them) has been the highlight of my half-century. Touring and speaking turned these digital relationships into personal ones.</p>
<p>But: moderation in all things. I'm writing four of these threads this morning, doing a couple interviews and meetings, and then putting my lid down until 2021 (save for a brief dial-in to CCC on the 27th).</p>
<p>I'm going to swim in our lovely outdoor public pool, which, thankfully, has figured out how to remain open during the pandemic. I'm going read in the backyard hammock and hike in Griffith Park.</p>
<p>I'm not going to answer ‚Äì or accept ‚Äì email while I'm gone.</p>
<p>And I say all of this because it's taken a decade for me to really understand what danah was getting at (she's a very smart person and I often benefit from reflecting on our conversations).</p>
<p>And also, to show you a bit of the blooper reel. Coping strategies are great and necessary, but they're no substitute for addressing the underlying problems. I'm proud of the work I do, but I'm also still learning how to do it right.</p>
<p>(<i>Image: <a href="https://www.flickr.com/photos/sifter/440685338/">Alex Watson</a>, <a href="https://creativecommons.org/licenses/by-nc/2.0/">CC BY-NC 2.0</a></i>)</p>
<hr>
<p><a name="rc3"></a><br>
<img src="https://i1.wp.com/craphound.com/images/rc3.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/rc3.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>I'm about to go offline until 2021 and I had planned to do <em>absolutely no work of any sort</em> while on break, but I made an exception, for an exceptional opportunity: the 32nd Chaos Communications Congress, which is remote this year.</p>
<p><a href="https://rc3.world/">https://rc3.world/</a></p>
<p>CCC is ‚Äì notoriously ‚Äì held during Christmas week, which means that the attendees are limited to people who either care about tech policy and security more than their families, or people who can talk their families into coming along.</p>
<p>It's one of the best events I've ever attended (I brought my family along). My talk at that event, "The Coming War on General Purpose Computing," has had a long afterlife, in large part because of the kind and thoughtful reactions of the attendees.</p>
<p><a href="https://www.youtube.com/watch?v=HUEvRyemKSg">https://www.youtube.com/watch?v=HUEvRyemKSg</a></p>
<p>I've been trying to get back ever since but haven't managed it ‚Äì until this year. RC3 (the first all-remote CCC) has invited me to speak on Dec 27.</p>
<p>I'm doing two back-to-back events: a talk called "What the cyberoptimists got wrong ‚Äì and what to do about it" then a "fireside chat" (a reading from my book ATTACK SURFACE followed by a Q&amp;A;).</p>
<p>They're back-to-back, starting at 10AM Pacific (7PM CET) and running to 12/9PM.</p>
<p>The tickets are currently sold out, but they've mooted releasing another block. If you're attending, I hope you'll consider tuning into my talk (and of course, as with all CCC talks, these will be online shortly thereafter for public viewing).</p>
<p><a href="https://events.ccc.de/2020/12/08/rc3-neues-ticket-kontingent/">https://events.ccc.de/2020/12/08/rc3-neues-ticket-kontingent/</a></p>
<hr>
<p><a name="financial-secrecy"></a><br>
<img src="https://i1.wp.com/craphound.com/images/HandsomeVariableGalapagosalbatross-max-1mb.gif?w=840&amp;ssl=1" data-recalc-dims="1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>The Panama Papers, the Paradise Papers, Swissleaks, Luxembourg Leaks, the Fincen Files ‚Äì the past decade has been filled with financial secrecy scandals wherein we learned how the world's worst people hide the world's dirtiest money.</p>
<p>Governments have fallen as a result of these leaks. Journalists have been murdered for reporting them, whistleblowers have been imprisoned for telling the truth. These are a high-stakes window on the corruption, self-dealing and viciousness of the 1% and their criminal pals.</p>
<p>One critical revelation is the role that "onshort-offshore" plays in money-laundering: rich countries with a reputation for a strong rule of law and good governance are the lynchpin of global financial secrecy, thanks to lax corporate enforcement.</p>
<p>Money laundering, tax-evasion, bribery and other finance crimes were only possible because places like New Zealand, the City of London, Scotland, and US tax-havens like Delaware, Nevada and Wyoming knowingly abetted them.</p>
<p>Anti-financial-secrecy campaigners have made major progress in shutting down onshore-offshore havens, and now they've scored a massive victory in the USA, with the inclusion of an anti-money-laundering amendment to the defense bill.</p>
<p><a href="https://www.icij.org/investigations/paradise-papers/advocates-celebrate-major-us-anti-money-laundering-victory/">https://www.icij.org/investigations/paradise-papers/advocates-celebrate-major-us-anti-money-laundering-victory/</a></p>
<p>It's a must-pass bill, and there's always intense jockeying to attach other legislation to it, virtually guaranteeing its passage (this is not always a good thing: Trump wants terrible, dangerous changes to internet law included in the bill):</p>
<p><a href="https://www.eff.org/deeplinks/2020/12/its-not-section-230-president-trump-hates-its-first-amendment">https://www.eff.org/deeplinks/2020/12/its-not-section-230-president-trump-hates-its-first-amendment</a></p>
<p>The Corporate Transparency Act requires that all US companies report their true owners to the US Treasury's Financial Crimes Enforcement Network (Fincen). This will make Fincen investigations vastly cheaper‚Ä¶and more effective.</p>
<p>It's got strong bipartisan support, and is the culmination of a decade of debate, consultation and coalition-building. It passed the House and Senate with a nominally ‚Ä¶</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pluralistic.net/2020/12/16/fraught-superpowers/#email-sabbatical">https://pluralistic.net/2020/12/16/fraught-superpowers/#email-sabbatical</a></em></p>]]>
            </description>
            <link>https://pluralistic.net/2020/12/16/fraught-superpowers/#email-sabbatical</link>
            <guid isPermaLink="false">hacker-news-small-sites-25484092</guid>
            <pubDate>Sun, 20 Dec 2020 05:30:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Koka: A Functional Language with Effect Types and Handlers]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25484057">thread link</a>) | @Avi-D-coder
<br/>
December 19, 2020 | https://koka-lang.github.io/koka/doc/index.html | <a href="https://web.archive.org/web/*/https://koka-lang.github.io/koka/doc/index.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>Welcome to Koka ‚Äì a strongly typed functional-style language with effect types and handlers.
</p>
<p><a href="#install" title="Install">Install <span></span></a>
<a href="https://koka-lang.github.io/koka/doc/book.html" data-linkid="kokabook" target="_top">Get Started</a>
<a href="https://koka-lang.github.io/koka/doc/book.html" data-linkid="kokabook" target="_top">Documentation</a>
<a href="https://github.com/koka-lang/koka" data-linkid="kokarepo" target="_top">Github</a></p>
<div>
<p>Note: Koka v2 is a research language that is currently under development
and not ready for production use. 
Nevertheless, the language is stable and the compiler
implements the full specification. The main things lacking at the moment are 
libraries, package management, and deep IDE integration. 
</p>
<div>
<p>News:
</p>
<ul>
<li>2020-12-12: Koka v2.0.14 released.
</li>
<li>2020-12-02: Koka v2.0.12 released.
</li>
<li>2020-11-29: Perceus technical report publised (<a href="https://www.microsoft.com/en-us/research/uploads/prod/2020/11/perceus-tr-v1.pdf" data-linkid="perceus">pdf</a>).</li></ul>
</div></div></div><div>
<p>For Linux and macOS on x86 64-bit, you can install Koka using:
</p>
<pre><code><span>&gt; <strong>curl -sSL https://github.com/koka-lang/koka/releases/latest/download/install.sh | sh</strong></span></code></pre>
<p>This also installs syntax highlighting for the VS Code and Atom editors.
</p>
<pre><code><span><strong><code>&gt; koka</code></strong></span>
 _          _           ____
| |        | |         |__  \
| | __ ___ | | __ __ _  __) |
| |/ // _ \| |/ // _' || ___/ welcome to the koka interpreter
|   &lt;| (_) |   &lt;| (_| ||____| version 2.0.10, Nov 28 2020, libc 64-bit (gcc)
|_|\_\\___/|_|\_\\__,_|       type :? for help

loading: std/core
loading: std/core/types
loading: std/core/hnd
&gt;</code></pre>
<p>Type <code>:q</code> to exit the interpreter.
</p>
<p>For detailed instructions and other platforms (including Windows) see the&nbsp;<a href="https://github.com/koka-lang/koka/releases" data-linkid="releases">releases</a> page.
It is also straightforward to build the compiler&nbsp;<a href="https://github.com/koka-lang/koka/#build-from-source" data-linkid="build">from source</a>.
</p>
<p><a href="https://koka-lang.github.io/koka/doc/book.html#install">Running the compiler</a>
<a href="https://koka-lang.github.io/koka/doc/book.html#tour">A tour of the Koka language</a>
</p></div></div>]]>
            </description>
            <link>https://koka-lang.github.io/koka/doc/index.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25484057</guid>
            <pubDate>Sun, 20 Dec 2020 05:17:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The U.S. Army Is Creating Robots with Synthetically Grown Muscle]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25483962">thread link</a>) | @buddhacobbler
<br/>
December 19, 2020 | https://smosa.com/army-building-robots-with-synthetic-muscle/ | <a href="https://web.archive.org/web/*/https://smosa.com/army-building-robots-with-synthetic-muscle/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

					<!-- .post-header -->


					<div>
						<p>According to <a href="https://www.eurekalert.org/pub_releases/2020-12/uarl-asf121720.php">an announcement in EurekAlert</a>!, The U.S. Army has been researching with Duke University a technological approach that uses robotics and "biohybrid" muscle elements.</p><p>Army researchers claim that robotic systems filled with muscle tissue will deliver a new level of agility and flexibility. In order to maximize efficiency, biohybrid robotics incorporates living organisms into mechanical systems. The team's first applications are legged platforms similar to the LLAMA and Marine Corps Legged Squad Support System (LS3), the legged locomotive and movement adaptation device of the Army.</p><p>"Though impressive in their own right, today's robots are deployed to serve a limited purpose then are retrieved some minutes later," said research scientist Dr. Dean Culver, "ARL wants robots to be versatile teammates capable of going anywhere soldiers can and more, adapting to the needs of any given situation." Culver added, "Organisms outperform engineered robots in so many ways. Why not use biological components to achieve those remarkable capabilities?"</p><figure><img src="https://images.unsplash.com/photo-1580835239846-5bb9ce03c8c3?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDl8fHJvYm90fGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000" alt="Humanoid robot Robotis Bioloid with the hands in the air, cheering." srcset="https://images.unsplash.com/photo-1580835239846-5bb9ce03c8c3?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDl8fHJvYm90fGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=600 600w, https://images.unsplash.com/photo-1580835239846-5bb9ce03c8c3?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDl8fHJvYm90fGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1000 1000w, https://images.unsplash.com/photo-1580835239846-5bb9ce03c8c3?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDl8fHJvYm90fGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1600 1600w, https://images.unsplash.com/photo-1580835239846-5bb9ce03c8c3?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDl8fHJvYm90fGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2400 2400w" sizes="(min-width: 720px) 720px"><figcaption>Photo by <a href="https://unsplash.com/@anilinverse?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Adam Lukomski</a> / <a href="https://unsplash.com/?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Unsplash</a></figcaption></figure><p>In addition, a separate team from Duke University will focus on the characteristics of macroscopic performance of muscles, tendons and ligaments in skiping animals using legged robots.</p><p>The muscle tissue is excellent for generating a certain mechanical strength, and its flexibility is unrivaled in today's robotic service. The research could show the bio-hybrid engineering community how to grow strong muscular tissue instead of extracting it from a trained organism in addition to providing insight into the mesomechanics that control motor protein movement.</p><p>"Muscle tissue is outstanding at producing a specific amount of mechanical power at a given moment," says Culver, "and its versatility is unrivaled in robotic actuation today."</p>
					</div><!-- .post-content -->

					<!-- .post-footer -->


				</article></div>]]>
            </description>
            <link>https://smosa.com/army-building-robots-with-synthetic-muscle/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25483962</guid>
            <pubDate>Sun, 20 Dec 2020 04:52:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Blame the Algorithm]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25483783">thread link</a>) | @dangoldin
<br/>
December 19, 2020 | https://dangoldin.com/2020/12/19/blame-the-algorithm/ | <a href="https://web.archive.org/web/*/https://dangoldin.com/2020/12/19/blame-the-algorithm/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
      
<p>Stanford Medicine is in the <a href="https://www.npr.org/sections/coronavirus-live-updates/2020/12/18/948176807/stanford-apologizes-after-vaccine-allocation-leaves-out-nearly-all-medical-resid">news</a> for using an ‚Äúalgorithm‚Äù and allocating minimal COVID vaccines to those actually on the frontlines. Instead it supposedly prioritized senior administrators who are working from home. I‚Äôm sure there‚Äôs some truth to the algorithm biasing allocation to those who are older but whenever I see someone blame an algorithm my spidey-sense goes off. The algorithm in this case was likely some extremely simple calculation in Excel that could have been easily verified by a human - both before it was run as well as a quick analysis of the results.</p>

<p>When writing software we write unit tests to test the functionality of our code and that could have easily been applied here. Similarly, when we deploy code we ask what do we expect to see and then confirm the results. This didn‚Äôt happen here and it required residents actually raising the issue to the administration.</p>

<p>The cynical view is that this was intentionally done by the administration to prioritize the vaccines for themselves. If no one complained they‚Äôd get the vaccine. If there were complaints they‚Äôd just blame the algorithm. I wouldn‚Äôt be surprised if that‚Äôs what happened here. In any case, as the entire world moves to software we really need to stop blaming the algorithm and instead blame the authors and approvers.</p>

    </section></div>]]>
            </description>
            <link>https://dangoldin.com/2020/12/19/blame-the-algorithm/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25483783</guid>
            <pubDate>Sun, 20 Dec 2020 04:10:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[LPEG vs. PEG‚Äìthey both have their strengths and weaknesses]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25483763">thread link</a>) | @todsacerdoti
<br/>
December 19, 2020 | http://boston.conman.org/2020/12/19.2 | <a href="https://web.archive.org/web/*/http://boston.conman.org/2020/12/19.2">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

<!-- google_ad_section_start --> <!-- Hey, it can't hurt! -->
<h2><a name="2020-12-19" href="http://boston.conman.org/2020/12/19">Saturday, Debtember 19, 2020</a></h2>

<h3><a rel="bookmark" name="2020-12-19.2" href="http://boston.conman.org/2020/12/19.2">LPEG vs. PEG‚Äîthey both have their strengths and weaknesses</a></h3>

<!-- LPEG, PEG, parsing expression grammar, programming, tradeoffs -->

<p>While the <a href="https://www.piumarta.com/software/peg/">C <abbr title="Parsing Expression Grammar">PEG</abbr> library</a> is <a href="http://boston.conman.org/2020/12/19.1">faster and uses less memory</a> than <a href="http://www.inf.puc-rio.br/~roberto/lpeg/"><abbr title="Lua Parsing Expression Grammar">LPEG</abbr></a>,
I still prefer using <abbr title="Lua Parsing Expression Grammar">LPEG</abbr>,
because it's so much <em>easier</em> to use than the C <abbr title="Parsing Expression Grammar">PEG</abbr> library.
Yes,
there's a learning curve to using <abbr title="Lua Parsing Expression Grammar">LPEG</abbr>,
but its <a href="http://www.inf.puc-rio.br/~roberto/lpeg/re.html">re module</a> uses a similar syntax to the C <abbr title="Parsing Expression Grammar">PEG</abbr> library,
and it's easier to read and write when starting out.
Another difference is that <abbr title="Lua Parsing Expression Grammar">LPEG</abbr> practically requires all the input to parse as a single string,
whereas the C <abbr title="Parsing Expression Grammar">PEG</abbr> can do that,
it can also read data from a file
(you <em>can</em> stream data to <abbr title="Lua Parsing Expression Grammar">LPEG</abbr>,
but it involves more work‚Äîcheck out the difference between 
<a href="https://github.com/spc476/LPeg-Parsers/blob/master/json.lua">a <abbr title="JavaScript Object Notation">JSON</abbr> parser that takes the entire input as a string</a> versus 
<a href="https://github.com/spc476/LPeg-Parsers/blob/master/jsons.lua">a <abbr title="JavaScript Object Notation">JSON</abbr> parser that can stream data</a>;
the later is nearly twice the size of the former).</p>

<p>The code isn't <em>that</em> much different.
Here's a simple <abbr title="Lua Parsing Expression Grammar">LPEG</abbr> parser that will parse text like ‚Äú34.12.1.444‚Äù
(a silly but simple example):</p>

<pre title="Lua">local re   = require "re"

return re.compile(
  [[
    tumbler &lt;- number ( '.' number)*
    number  &lt;- [0-9]+ -&gt; pnum
  ]],
  {
    pnum = function(c) print("&gt;&gt;&gt; " .. c) end,
  }
)
</pre>


<p>Not bad.
And here's the C <abbr title="Parsing Expression Grammar">PEG</abbr> version:</p>

<pre title="PEG">tumbler &lt;- number ('.' number)*
number	&lt;- &lt; [0-9]+ &gt; { printf("&gt;&gt;&gt; %*s\n",yyleng,yytext); }
</pre>


<p>Again,
not terrible and similar to the <abbr title="Lua Parsing Expression Grammar">LPEG</abbr> version.</p>

<p>The major difference between the two,
however,
is in their use.
In the <abbr title="Lua Parsing Expression Grammar">LPEG</abbr> version, <code>tumbler</code> can be used in <em>other</em> <abbr title="Lua Parsing Expression Grammar">LPEG</abbr> expressions.
If I needed to parse something like ‚Äú34.12.1.444:text/plain; charset=utf-8‚Äù,
I can do that:</p>

<pre title="Lua">local re = require "re"

return re.compile(
  [[
    example &lt;- %tumbler SP* ':' SP* %mimetype
    SP      &lt;- ' ' / '\t'
  ]],
  {
    tumbler  = require "tumbler",
    mimetype = require "org.conman.parsers.mimetype",
  }
)
</pre>


<p>The same <em>cannot</em> be said for the C <abbr title="Parsing Expression Grammar">PEG</abbr> version.
It's just not written to support such use.
If I need to parse text like ‚Äú32.12.1.444‚Äù and mimetypes,
then I have to modify the parser to support it all‚Äîthere's no easy way to combine different parsers.</p>

<p>That said,
I would still use the C <abbr title="Parsing Expression Grammar">PEG</abbr> library,
but only when memory <em>or</em> performance is an issue.
It certainly won't be because of convenience.</p>


<!-- google_ad_section_end -->
</div><div id="lawyer">

	<p>You have my permission to link freely to any entry here.  Go
	ahead, I won't bite.  I promise.</p>

	<p>The dates are the permanent links to that day's entries (or
	entry, if there is only one entry).  The titles are the permanent
	links to <em>that</em> entry only.  The format for the links are
	simple: Start with the base link for this site: <a class="page" href="http://boston.conman.org/">http://boston.conman.org/</a>, then add the date you are
	interested in, say <a href="http://boston.conman.org/2000/08/01">2000/08/01</a>,
	so that would make the final <abbr title="Uniform Resource
	Locator">URL</abbr>:</p>

	<p><a class="page" href="http://boston.conman.org/2000/08/01">http://boston.conman.org/2000/08/01</a></p>

	<p>You can also specify the entire month by leaving off the day
	portion.  You can even select <a class="page" href="http://boston.conman.org/about/technical.html">an arbitrary portion of time.</a></p>

	<p>You may also note subtle shading of the links and that's
	intentional: the ‚Äúcloser‚Äù the link is (relative to the
	page) the ‚Äúbrighter‚Äù it appears.  It's an experiment in
	using color shading to denote the distance a link is from here.  If
	you don't notice it, don't worry; it's not all <em>that</em>
	important.</p>

	<p>It is assumed that every brand name, slogan, corporate name,
	symbol, design element, et cetera mentioned in these pages is a
	protected and/or trademarked entity, the sole property of its
	owner(s), and acknowledgement of this status is implied.</p>

</div></div>]]>
            </description>
            <link>http://boston.conman.org/2020/12/19.2</link>
            <guid isPermaLink="false">hacker-news-small-sites-25483763</guid>
            <pubDate>Sun, 20 Dec 2020 04:04:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rebooting a 15 year-old game written in D ‚Äì Part 1 Compiling]]>
            </title>
            <description>
<![CDATA[
Score 104 | Comments 55 (<a href="https://news.ycombinator.com/item?id=25483693">thread link</a>) | @arunc
<br/>
December 19, 2020 | https://speps.fr/articles/torus-trooper-part1/ | <a href="https://web.archive.org/web/*/https://speps.fr/articles/torus-trooper-part1/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-container">
        <div id="main">
            
<div id="content">
	<div id="page">
		
		
		
		
		<p>See also</p>
<ul>
<li><a href="https://speps.fr/articles/torus-trooper-part1">Part 1 - Compiling a new executable</a></li>
<li><a href="https://speps.fr/articles/torus-trooper-part2">Part 2 - Running the game for the first time</a></li>
<li><a href="https://speps.fr/articles/torus-trooper-part3">Part 3 - Porting to WebAssembly</a></li>
<li><a href="https://speps.fr/articles/torus-trooper-part4">Part 4 - Final steps</a></li>
</ul>
<p>While exploring D recently, I remembered a game I played while at university 15 years ago. For a long time, I couldn‚Äôt remember the name at all, only that it was from a Japanese developer. After some search wrangling, I finally managed to find the name of the game: <strong>Torus Trooper!</strong></p>
<p>You can find it there: <a href="http://www.asahi-net.or.jp/~cs8k-cyu/windows/tt_e.html">http://www.asahi-net.or.jp/~cs8k-cyu/windows/tt_e.html</a></p>
<p><img src="https://speps.fr/media/articles/tt1.png" alt=""></p>
<p>Here is a copy of the tt0_22.zip file archived: <a href="https://github.com/speps/tt/archive/legacy.zip">https://github.com/speps/tt/archive/legacy.zip</a></p>
<p>What made me remember this game is that :</p>
<ul>
<li>It came with <a href="https://github.com/speps/tt/tree/legacy/src/abagames">source code</a>, quite unusual at the time for me</li>
<li>Written in D, a language I didn‚Äôt know at all while I was busy studying C++</li>
<li>It‚Äôs awfully addictive!</li>
</ul>
<p>What better project than try to compile a <strong>D v0.110</strong> project in a modern version of D and possibly porting the game to WebAssembly+WebGL! So here we are‚Ä¶</p>
<h2 id="switching-from-ant-to-dub">Switching from Ant to DUB</h2>
<p>The game used Ant and its <code>build.xml</code> file to generate the executable, resources, etc. Since then, D added DUB as a build system / package manager so let‚Äôs use that!</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span></code></pre></td>
<td>
<pre><code data-lang="json"><span>{</span>
	<span>"authors"</span><span>:</span> <span>[</span>
		<span>"Kenta Cho"</span><span>,</span>
		<span>"Remi Gillig"</span>
	<span>],</span>
	<span>"copyright"</span><span>:</span> <span>"Copyright ¬© 2004 - Kenta Cho, 2020 - Remi Gillig"</span><span>,</span>
	<span>"description"</span><span>:</span> <span>"Torus Trooper (Reboot)"</span><span>,</span>
	<span>"license"</span><span>:</span> <span>"BSD 2-clause"</span><span>,</span>
	<span>"name"</span><span>:</span> <span>"tt"</span><span>,</span>
	<span>"targetType"</span><span>:</span> <span>"executable"</span><span>,</span>
	<span>"sourcePaths"</span><span>:</span> <span>[</span>
		<span>"src"</span>
	<span>]</span>
<span>}</span>
</code></pre></td></tr></tbody></table>
</div>
</div><p>With this initial <code>dub.json</code> file, I was set to run the <code>dub</code> command‚Ä¶</p>
<div><pre><code data-lang="plaintext">Performing "debug" build using C:\D\dmd2\windows\bin64\dmd.exe for x86.
tt ~master: building configuration "application"...
src\abagames\tt\barrage.d(95,33): Error: instead of C-style syntax, use D-style BulletMLParserTinyXML*[char[]][char[]] parser
src\abagames\tt\barrage.d(122,28): Error: instead of C-style syntax, use D-style BulletMLParserTinyXML*[] pl
src\abagames\tt\barrage.d(130,14): Error: instead of C-style syntax, use D-style BulletMLParserTinyXML*[char[]] pa
src\abagames\tt\boot.d(51,12): Error: instead of C-style syntax, use D-style char[4096] exe
src\abagames\tt\tunnel.d(300,14): Error: template argument expected following !
src\abagames\tt\tunnel.d(322,14): Error: template argument expected following !
src\abagames\util\rand.d(115,6): Error: instead of C-style syntax, use D-style uint[N] state
src\abagames\util\rand.d(140,20): Error: instead of C-style syntax, use D-style uint[] init_key
src\abagames\util\sdl\luminous.d(21,10): Error: instead of C-style syntax, use D-style GLuint[LUMINOUS_TEXTURE_WIDTH_MAX * LUMINOUS_TEXTURE_HEIGHT_MAX * 4 * (uint).sizeof] td
src\abagames\util\sdl\luminous.d(83,17): Error: instead of C-style syntax, use D-style float[2][2] lmOfs
C:\D\dmd2\windows\bin64\dmd.exe failed with exit code 1.
</code></pre></div><p>Alright let‚Äôs start and get this to compile!</p>
<h2 id="c-style-syntax-errors">C-style syntax errors</h2>
<p>This is one is easy to fix, the suggestion from the compiler works, I just replaced every instance of this error with the suggestion.</p>
<p>Here is an example:</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span>1
</span><span>2
</span><span>3
</span><span>4
</span><span>5
</span><span>6
</span><span>7
</span><span>8
</span></code></pre></td>
<td>
<pre><code data-lang="diff"><span>@@ -42,7 +43,7 @@ struct SDL_AudioSpec {
</span><span></span>     Once the callback returns, the buffer will no longer be valid.
     Stereo samples are stored in a LRLRLR ordering.
  */
<span>- void (*callback)(void *userdata, Uint8 *stream, int len);
</span><span></span><span>+ void function(void *userdata, Uint8 *stream, int len) callback;
</span><span></span>  void  *userdata;
 }
</code></pre></td></tr></tbody></table>
</div>
</div><h2 id="error-template-argument-expected-following-">Error: template argument expected following !</h2>
<p>This is an interesting one, here is one of the files where this error triggers:</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span><span>17
</span></span><span>18
</span><span>19
</span><span>20
</span><span>21
</span></code></pre></td>
<td>
<pre><code data-lang="d">  <span>private</span> <span>void</span> <span>calcIndex</span><span>(</span><span>in</span> <span>float</span> <span>z</span><span>,</span> <span>out</span> <span>int</span> <span>idx</span><span>,</span> <span>out</span> <span>float</span> <span>ofs</span><span>)</span> <span>{</span>
    <span>idx</span> <span>=</span> <span>slice</span><span>.</span><span>length</span> <span>+</span> <span>99999</span><span>;</span>
    <span>for</span> <span>(</span><span>int</span> <span>i</span> <span>=</span> <span>1</span><span>;</span> <span>i</span> <span>&lt;</span> <span>slice</span><span>.</span><span>length</span><span>;</span> <span>i</span><span>++)</span> <span>{</span>
      <span>if</span> <span>(</span><span>z</span> <span>&lt;</span> <span>slice</span><span>[</span><span>i</span><span>].</span><span>depth</span><span>)</span> <span>{</span>
        <span>idx</span> <span>=</span> <span>i</span> <span>-</span> <span>1</span><span>;</span>
        <span>ofs</span> <span>=</span> <span>(</span><span>z</span> <span>-</span> <span>slice</span><span>[</span><span>idx</span><span>].</span><span>depth</span><span>)</span> <span>/</span> <span>(</span><span>slice</span><span>[</span><span>idx</span> <span>+</span> <span>1</span><span>].</span><span>depth</span> <span>-</span> <span>slice</span><span>[</span><span>idx</span><span>].</span><span>depth</span><span>);</span>
        <span>break</span><span>;</span>
      <span>}</span>
    <span>}</span>
    <span>if</span> <span>(</span><span>idx</span> <span>&lt;</span> <span>0</span><span>)</span> <span>{</span>
      <span>idx</span> <span>=</span> <span>0</span><span>;</span>
      <span>ofs</span> <span>=</span> <span>0</span><span>;</span>
    <span>}</span> <span>else</span> <span>if</span> <span>(</span><span>idx</span> <span>&gt;=</span> <span>slice</span><span>.</span><span>length</span> <span>-</span> <span>1</span><span>)</span> <span>{</span>
      <span>idx</span> <span>=</span> <span>slice</span><span>.</span><span>length</span> <span>-</span> <span>2</span><span>;</span>
      <span>ofs</span> <span>=</span> <span>0.99</span><span>;</span>
    <span>}</span>
<span>    <span>if</span> <span>(</span><span>ofs</span> <span>!&gt;=</span> <span>0</span><span>)</span> <span>// ERROR HERE
</span></span><span></span>      <span>ofs</span> <span>=</span> <span>0</span><span>;</span>
    <span>else</span> <span>if</span> <span>(</span><span>ofs</span> <span>&gt;=</span> <span>1</span><span>)</span>
      <span>ofs</span> <span>=</span> <span>0.99</span><span>;</span>
  <span>}</span>
</code></pre></td></tr></tbody></table>
</div>
</div><p>I did try a few searches without success so I asked on the D community forums and a few people guessed right, it‚Äôs of course a <code>not &gt;=</code>, equivalent to <code>&lt;</code>. However, <a href="https://forum.dlang.org/post/rec3d1$toc$1@digitalmars.com">thanks to Walter Bright</a>, I got a link to the <a href="https://www.digitalmars.com/ctg/ctgNumerics.html#comparisons">original documentation from Digital Mars</a>. The subtle difference with <code>!&gt;=</code> is that it will also return <code>true</code> if any operands are <code>NaN</code>. Suggested fix seems to have worked:</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span>17
</span><span>18
</span></code></pre></td>
<td>
<pre><code data-lang="d">    <span>if</span> <span>(</span><span>std</span><span>.</span><span>math</span><span>.</span><span>isNaN</span><span>(</span><span>ofs</span><span>)</span> <span>||</span> <span>ofs</span> <span>&lt;</span> <span>0</span><span>)</span>
      <span>ofs</span> <span>=</span> <span>0</span><span>;</span>
</code></pre></td></tr></tbody></table>
</div>
</div><h2 id="replacing-char-with-string">Replacing <code>char[]</code> with <code>string</code></h2>
<p>D1 used to have <code>char[]</code> as the string type, and functions in <code>std.string</code> in Phobos to manipulate this type. D2 replaced this with an <code>alias string = immutable(char)[]</code>. As a result, a lot of the code needs updating to deal with this. That includes the code in the custom bindings.</p>
<p>Most of the changes here are similar to this</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span>17
</span><span>18
</span><span>19
</span><span>20
</span><span>21
</span><span>22
</span><span>23
</span><span>24
</span><span>25
</span></code></pre></td>
<td>
<pre><code data-lang="diff"><span>@@ -92,24 +91,24 @@ public class Barrage {
</span><span></span>  */
 public class BarrageManager {
  private:
<span>-  static BulletMLParserTinyXML *parser[char[]][char[]];
</span><span>-  static const char[] BARRAGE_DIR_NAME = "barrage";
</span><span></span><span>+  static BulletMLParserTinyXML*[string][string] parser;
</span><span>+  static const string BARRAGE_DIR_NAME = "barrage";
</span><span></span> 
   public static void load() {
<span>-    char[][] dirs = listdir(BARRAGE_DIR_NAME);
</span><span>-    foreach (char[] dirName; dirs) {
</span><span>-      char[][] files = listdir(BARRAGE_DIR_NAME ~ "/" ~ dirName);
</span><span>-      foreach (char[] fileName; files) {
</span><span>-        if (getExt(fileName) != "xml")
</span><span></span><span>+    string[] dirs = listdir(BARRAGE_DIR_NAME);
</span><span>+    foreach (string dirName; dirs) {
</span><span>+      string[] files = listdir(BARRAGE_DIR_NAME ~ "/" ~ dirName);
</span><span>+      foreach (string fileName; files) {
</span><span>+        if (fileName.extension != ".xml")
</span><span></span>           continue;
         parser[dirName][fileName] = getInstance(dirName, fileName);
       }
     }
   }
</code></pre></td></tr></tbody></table>
</div>
</div><h2 id="converting-value-to-string">Converting value to string</h2>
<p>D1 used to have <code>std.string.toString</code> to convert a value to a <code>char[]</code> value. This functionality was replaced by <code>std.conv.to!string</code>.</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span>17
</span></code></pre></td>
<td>
<pre><code data-lang="diff"><span>@@ -5,6 +5,7 @@
</span><span></span>  */
 module abagames.tt.shot;
 
<span>+private import std.conv;
</span><span></span> private import std.math;
 private import std.string;
 private import opengl;
<span>@@ -179,7 +180,7 @@ public class Shot: Actor {
</span><span></span>       else if (sc &gt;= 2000)
         size = 0.7;
       size *= (1 + multiplier * 0.01f);
<span>-      fl.set("X" ~ std.string.toString(multiplier), pos, size * pos.y,
</span><span></span><span>+      fl.set("X" ~ to!string(multiplier), pos, size * pos.y,
</span><span></span>              cast(int) (30 + multiplier * 0.3f));
     }
     if (chargeShot) {
</code></pre></td></tr></tbody></table>
</div>
</div><h2 id="passing-strings-to-c">Passing strings to C</h2>
<p>The usual way to pass strings to C seems to have been to just to use <code>std.string.toStringz</code>. However, back in D1 it used to return char* :</p>
<pre><code>char* toStringz(char[] s);
</code></pre><p>This worked well for the C bindings but with D2, it now returns:</p>
<pre><code>immutable(char)* toStringz(scope return string s) pure nothrow @trusted;
</code></pre><p>Again, the fix is quite straightforward. For example, the bindings weren‚Äôt written with this in mind so they need fixing:</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span>1
</span><span>2
</span><span>3
</span><span>4
</span><span>5
</span><span>6
</span></code></pre></td>
<td>
<pre><code data-lang="diff"><span>@@ -81,7 +81,7 @@ struct SDL_RWops {
</span><span></span> 
 /* Functions to create SDL_RWops structures from various data sources */
 
<span>-SDL_RWops * SDL_RWFromFile(char *file, char *mode);
</span><span></span><span>+SDL_RWops * SDL_RWFromFile(const char *file, const char *mode);
</span></code></pre></td></tr></tbody></table>
</div>
</div><h2 id="simple-substitution">Simple substitution</h2>
<ul>
<li><code>typedef</code> ‚Üí <code>alias</code></li>
</ul>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span></code></pre></td>
<td>
<pre><code data-lang="diff"><span>@@ -28,10 +28,10 @@ import SDL_types;
</span><span></span> 
 extern(C):
 
<span>-typedef int (*_seek_func_t)(SDL_RWops *context, int offset, int whence);
</span><span>-typedef int (*_read_func_t)(SDL_RWops *context, void *ptr, int size, int maxnum);
</span><span>-typedef int (*_write_func_t)(SDL_RWops *context, void *ptr, int size, int num);
</span><span>-typedef int (*_close_func_t)(SDL_RWops *context);
</span><span></span><span>+alias int function(SDL_RWops *context, int offset, int whence) _seek_func_t;
</span><span>+alias int function(SDL_RWops *context, void *ptr, int size, int maxnum) _read_func_t;
</span><span>+alias int function(SDL_RWops *context, void *ptr, int size, int num) _write_func_t;
</span><span>+alias int function(SDL_RWops *context) _close_func_t;
</span></code></pre></td></tr></tbody></table>
</div>
</div><ul>
<li><code>inout</code> ‚Üí <code>ref</code>: this made sense for all instances where <code>inout</code> was used</li>
</ul>
<div><div>
<table><tbody><tr><td>
<pre><code><span>1
</span><span>2
</span><span>3
</span><span>4
</span><span>5
</span><span>6
</span><span>7
</span><span>8
</span></code></pre></td>
<td>
<pre><code data-lang="diff"><span>@@ -59,7 +59,7 @@ public class PrefData {
</span><span></span> 
   public this() {
     gradeData = new GradeData[Ship.GRADE_NUM];
<span>-    foreach (inout GradeData gd; gradeData)
</span><span></span><span>+    foreach (ref GradeData gd; gradeData)
</span><span></span>       gd = new GradeData;
   }
</code></pre></td></tr></tbody></table>
</div>
</div><ul>
<li><code>auto T</code> ‚Üí <code>auto</code>: it seems the original author specified auto along with the type which isn‚Äôt allowed anymore</li>
</ul>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span>17
</span><span>18
</span><span>19
</span><span>20
</span><span>21
</span><span>22
</span><span>23
</span><span>24
</span><span>25
</span></code></pre></td>
<td>
<pre><code data-lang="diff"><span>@@ -631,9 +631,9 @@ public class BulletShape: Drawable {
</span><span></span>   }
 
   private void createSquareShape(bool wireShape) {
<span>-    auto Vector3 cp = new Vector3;
</span><span>-    auto Vector3[] p = new Vector3[4];
</span><span>-    auto Vector3[] np = new Vector3[4];
</span><span></span><span>+    auto cp = new Vector3;
</span><span>+    auto p = new Vector3[4];
</span><span>+    auto np = new Vector3[4];
</span><span></span>     static const float[][][] POINT_DAT = [
       [[-1, -1, 1], [1, -1, 1], [1, 1, 1], [-1, 1, 1], ],
       [[-1, -1, -1], [1, -1, -1], [1, 1, -1], [-1, 1, -1], ],
<span>@@ -642,9 +642,9 @@ public class BulletShape: Drawable {
</span><span></span>       [[1, -1, -1], [1, -1, 1], [1, 1, 1], [1, 1, -1], ],
       [[-1, -1, -1], [-1, -1, 1], [-1, 1, 1], [-1, 1, -1], ],
     ];
<span>-    foreach (inout Vector3 ip; p)
</span><span></span><span>+    foreach (ref Vector3 ip; p)
</span><span></span>       ip = new Vector3;
<span>-    foreach (inout Vector3 inp; np)
</span><span></span><span>+    foreach (ref Vector3 inp; np)
</span><span></span>       inp = new Vector3;
     for (int i = 0; i &lt; 6; i++) {
       cp.x = cp.y = cp.z = 0;
</code></pre></td></tr></tbody></table>
</div>
</div><ul>
<li><code>getExt</code> ‚Üí <code>.extension</code>: behaviour is different but it‚Äôs easy enough to fix, it now includes the dot</li>
</ul>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span></code></pre></td>
<td>
<pre><code data-lang="diff"><span>@@ -44,10 +45,10 @@ public class SoundManager: abagames.util.sdl.sound.SoundManager {
</span><span></span> 
   private static Music[] loadMusics() {
     Music[] musics;
<span>-    char[][] files = listdir(Music.dir);
</span><span>-    foreach (char[] fileName; files) {
</span><span>-      char[] ext = getExt(fileName);
</span><span>-      if (ext != "ogg" &amp;&amp; ext != "wav")
</span><span></span><span>+    string[] files = listdir(Music.dir);
</span><span>+    foreach (string ‚Ä¶</span></code></pre></td></tr></tbody></table></div></div></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://speps.fr/articles/torus-trooper-part1/">https://speps.fr/articles/torus-trooper-part1/</a></em></p>]]>
            </description>
            <link>https://speps.fr/articles/torus-trooper-part1/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25483693</guid>
            <pubDate>Sun, 20 Dec 2020 03:42:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Vitamin D and Heart Palpitations]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25483584">thread link</a>) | @jchen42
<br/>
December 19, 2020 | https://jeffchen.dev/posts/Vitamin-D-And-Heart-Palpitations/ | <a href="https://web.archive.org/web/*/https://jeffchen.dev/posts/Vitamin-D-And-Heart-Palpitations/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><strong>This isn√¢‚Ç¨‚Ñ¢t medical advice. Talk to your doctor if you notice any health problems.</strong></p>
<figure><img src="https://jeffchen.dev/_next/image?url=%2Fimages%2Fvitamin-d-and-heart-palpitations%2Fhero.jpg&amp;w=2160&amp;q=75" alt="HRV over time" decoding="async" loading="lazy" sizes="(max-width: 640px) 640px, (max-width: 720px) 720px, (max-width: 1440px) 1440px, 2160px" srcset="https://jeffchen.dev/_next/image?url=%2Fimages%2Fvitamin-d-and-heart-palpitations%2Fhero.jpg&amp;w=640&amp;q=75, https://jeffchen.dev/_next/image?url=%2Fimages%2Fvitamin-d-and-heart-palpitations%2Fhero.jpg&amp;w=720&amp;q=75, https://jeffchen.dev/_next/image?url=%2Fimages%2Fvitamin-d-and-heart-palpitations%2Fhero.jpg&amp;w=1440&amp;q=75, https://jeffchen.dev/_next/image?url=%2Fimages%2Fvitamin-d-and-heart-palpitations%2Fhero.jpg&amp;w=2160&amp;q=75" width="720" height="233"><figcaption>My HRV over time. Outliers are days I had heart palpitations.</figcaption></figure>
<p>In mid-2019, I experienced my first heart palpitations. "Palpitation" doesn't do the feeling justice: your heart literally skips a beat. For me, each skipped beat comes with a surge of panic and the sense that something is <strong>wrong</strong>. I was suddenly aware of a part of my body I'd never thought about before.</p>
<p>At first, I only noticed them at night, especially after big, greasy meals. But over the next couple months, the palpitations grew in frequency. Throughout most of 2020, I experienced palpitations regularly -- multiple times a week. There wasn't a link between heavy meals and palpitations anymore; they'd strike without any apparent pattern. At just 25, I was legitimately worried about dying early.</p>
<!-- excerpt -->
<h2 id="vitamin-d">Vitamin D</h2>
<p>Although I've never been diagnosed with a Vitamin D deficiency, I'd read <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3068797/" target="_blank" rel="nofollow noopener noreferrer" onclick="window.gtag(&quot;event&quot;, &quot;link-click&quot;, {&quot;event_label&quot;:&quot;markdown&quot;,&quot;value&quot;:&quot;https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3068797/&quot;})">enough</a> <a href="https://www.nature.com/articles/s41430-020-0558-y" target="_blank" rel="nofollow noopener noreferrer" onclick="window.gtag(&quot;event&quot;, &quot;link-click&quot;, {&quot;event_label&quot;:&quot;markdown&quot;,&quot;value&quot;:&quot;https://www.nature.com/articles/s41430-020-0558-y&quot;})">studies</a> linking Vitamin D deficiencies with all sorts of negative health outcomes that I'd started supplementing Vitamin D in college. I started with 2000 IU daily but soon moved up to 5800 IU between a dedicated pill and my multivitamin. 5800 IU seemed to be a safe amount: <a href="https://pubmed.ncbi.nlm.nih.gov/22414585/" target="_blank" rel="nofollow noopener noreferrer" onclick="window.gtag(&quot;event&quot;, &quot;link-click&quot;, {&quot;event_label&quot;:&quot;markdown&quot;,&quot;value&quot;:&quot;https://pubmed.ncbi.nlm.nih.gov/22414585/&quot;})">studies</a> <a href="https://pubmed.ncbi.nlm.nih.gov/10232622/" target="_blank" rel="nofollow noopener noreferrer" onclick="window.gtag(&quot;event&quot;, &quot;link-click&quot;, {&quot;event_label&quot;:&quot;markdown&quot;,&quot;value&quot;:&quot;https://pubmed.ncbi.nlm.nih.gov/10232622/&quot;})">indicated</a> that supplementing up to even 10000 IU every day was safe. There's no way Vitamin D supplementation and my heart palpitations were connected, right?</p>
<h2 id="putting-the-puzzle-together">Putting the puzzle together</h2>
<p>There was! In September, I happened upon an <a href="https://www.devaboone.com/post/vitamin-d-part-2-shannon-s-story?postId=5f39453f8d01fe00170023fe" target="_blank" rel="nofollow noopener noreferrer" onclick="window.gtag(&quot;event&quot;, &quot;link-click&quot;, {&quot;event_label&quot;:&quot;markdown&quot;,&quot;value&quot;:&quot;https://www.devaboone.com/post/vitamin-d-part-2-shannon-s-story?postId=5f39453f8d01fe00170023fe&quot;})">essay by Dr. Deva Boone</a> on Hacker News. Dr. Boone told the story of Shannon, who had been supplementing Vitamin D for 5 years before starting to experience anxiety, insomnia, and, crucially, heart palpitations. Her symptoms progressed to difficulty speaking and "catatonia". Six months after stopping her Vitamin D supplementation, Shannon's serum Vitamin D levels had fallen to normal levels, and her symptoms had disappeared completely.</p>
<p>Dr. Boone suggested that high-dose Vitamin D can increase the body's calcium absorption. High calcium levels can cause a long list of scary symptoms -- including heart palpitations. When caused by high Vitamin D levels, blood calcium can take a long time to decrease, because Vitamin D is fat soluble.</p>
<p>Shannon's initial symptoms and backstory pretty much matched mine: five years of 5000 IU Vitamin D supplementation followed by heart palpitations. And although I didn't have my serum Vitamin D numbers, my most recent bloodwork showed blood calcium levels at the high end of "normal" (typically hovering around 10.0 mg/dL inside a reference range of 8.7-10.2 mg/dL).</p>
<p>I stopped supplementing Vitamin D that day.</p>
<h2 id="tracking-and-recovery">Tracking and recovery</h2>
<p>I've worn a <a href="https://whoop.com/" target="_blank" rel="nofollow noopener noreferrer" onclick="window.gtag(&quot;event&quot;, &quot;link-click&quot;, {&quot;event_label&quot;:&quot;markdown&quot;,&quot;value&quot;:&quot;https://whoop.com&quot;})">Whoop</a> band for unrelated reasons since right after my palpitations started. Whoop measures, among other things, your daily heart rate variability (HRV) and resting heart rate (RHR). I'd noticed that when I had heart palpitations at night, Whoop would report strange readings: HRV or RHR numbers that were way out of my normal range (&gt;110ms HRV or &lt;50bpm RHR). This came in handy, since I didn't have any historical data around my palpitation frequency.</p>
<p>I'd <a href="https://github.com/jchen1/api/blob/master/apiserver/src/providers/whoop.ts" target="_blank" rel="nofollow noopener noreferrer" onclick="window.gtag(&quot;event&quot;, &quot;link-click&quot;, {&quot;event_label&quot;:&quot;markdown&quot;,&quot;value&quot;:&quot;https://github.com/jchen1/api/blob/master/apiserver/src/providers/whoop.ts&quot;})">previously used Whoop's undocumented API</a> on a <a href="https://jeffchen.dev/metrics" target="_blank" rel="nofollow noopener noreferrer" onclick="window.gtag(&quot;event&quot;, &quot;link-click&quot;, {&quot;event_label&quot;:&quot;markdown&quot;,&quot;value&quot;:&quot;https://jeffchen.dev/metrics&quot;})">quantified self project of mine</a>. With that, I set up a spreadsheet with Whoop's reported HRV and RHR numbers to track my palpitations over time. The numbers were striking: in February, I had had heart palpitations basically every other day. And in every tracked month up until I stopped Vitamin D supplementation, I had had at least one palpitation event a week.
</p><figure><img src="https://jeffchen.dev/_next/image?url=%2Fimages%2Fvitamin-d-and-heart-palpitations%2Fpalpitations-over-time.jpg&amp;w=2160&amp;q=75" alt="Palpitations over time" decoding="async" loading="lazy" sizes="(max-width: 640px) 640px, (max-width: 720px) 720px, (max-width: 1440px) 1440px, 2160px" srcset="https://jeffchen.dev/_next/image?url=%2Fimages%2Fvitamin-d-and-heart-palpitations%2Fpalpitations-over-time.jpg&amp;w=640&amp;q=75, https://jeffchen.dev/_next/image?url=%2Fimages%2Fvitamin-d-and-heart-palpitations%2Fpalpitations-over-time.jpg&amp;w=720&amp;q=75, https://jeffchen.dev/_next/image?url=%2Fimages%2Fvitamin-d-and-heart-palpitations%2Fpalpitations-over-time.jpg&amp;w=1440&amp;q=75, https://jeffchen.dev/_next/image?url=%2Fimages%2Fvitamin-d-and-heart-palpitations%2Fpalpitations-over-time.jpg&amp;w=2160&amp;q=75" width="720" height="231"><figcaption>Palpitations over time, as measured by Whoop</figcaption></figure>
<p>My palpitations continued throughout September at its normal rate. But by October, they'd become noticeably less frequent. By November, they'd disappeared entirely!</p>
<h2 id="lessons">Lessons</h2>
<p>What did I learn from this? A few things:</p>
<ul>
<li><strong>Be careful with supplements.</strong> Supplementation is personal and what works for some people won't work for others. I should have kept a closer eye on my serum Vitamin D levels. In the future, I'll consult my doctor before starting any new supplements.</li>
<li><strong>Health is a privilege.</strong> I'd never seriously considered my own mortality before this. And in the grand scheme of things, heart palpitations aren't that serious. I'm grateful to have had this experience. In the end, as health issues go, this was pretty much as neat and low-impact as one can be.</li>
<li><strong>Data is powerful.</strong> I was fortunate that Whoop let me retroactively measure palpitations. If I hadn't had the data to back it up, I wouldn't have been able to measure the problem and isolate Vitamin D as the culprit. It's possible that I could have even resumed Vitamin D supplementation!</li>
</ul>
</div></div>]]>
            </description>
            <link>https://jeffchen.dev/posts/Vitamin-D-And-Heart-Palpitations/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25483584</guid>
            <pubDate>Sun, 20 Dec 2020 03:24:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Astropanel ‚Äì Astronomy Program for the Terminal]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25483426">thread link</a>) | @FlyMoreRockets
<br/>
December 19, 2020 | https://isene.org/2020/12/Astropanel.html | <a href="https://web.archive.org/web/*/https://isene.org/2020/12/Astropanel.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main" role="main">
        <article>

            <p><img src="">
            </p>

            <!-- MAIN -->
            
            <h3>
                <a href="https://isene.org/" rel="bookmark" title="" itemprop="url"></a>
            </h3>

            <hr>

            <!-- POST CONTENT -->
            <div>
                <p>I am proud to present my latest project - the Astropanel.</p>

<p>This program will help you decide when you should bring out your telescope.</p>

<p>Feature list:</p>

<ul>
  <li>Weather forecast for the next 9 days with coloring (red/yellow/green) based
on your limits for cloud cover, humidity, temperature and wind</li>
  <li>Easy graphic representation of when the Sun, Moon and planets are visible
with the Moon‚Äôs phase showing in how light the representing bar is</li>
  <li>Extra information for each day: Fog, wind gust speed, dew point temperature,
air pressure, UV Index, Sun and Moon precise rise and set and Moon phase.
The Moon phase is expressed as a number between 0 and 100 where 50 is the
full moon.</li>
  <li>Astronomical events for each of the 9 days, with option to list them in one
view</li>
  <li>Starchart showing in the terminal for the selected day and time of day</li>
  <li>A table showing RA, Dec, distance, rise, set and transit for the planets</li>
  <li>Show today‚Äôs Astronomy Picture Of the Day</li>
</ul>

<p>Check out the screencast to see the program in use:</p>

<p>
  <iframe src="https://www.youtube.com/embed/36jsu3YBLyw" allowfullscreen=""></iframe>
</p>

<p>Github repository: https://github.com/isene/astropanel</p>

<hr>
<p>Link to this post: <a href="https://isene.org/2020/12/Astropanel.html">https://isene.org/2020/12/Astropanel.html</a></p>

            </div>
            <!--- DIVIDING LINE -->
            <hr>

            <!-- POST TAGS -->
            

            <br>

            <!-- POST DATE -->
            
			




        </article>
    </div></div>]]>
            </description>
            <link>https://isene.org/2020/12/Astropanel.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25483426</guid>
            <pubDate>Sun, 20 Dec 2020 02:52:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What's New in CSS-Doodle]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25483369">thread link</a>) | @spirit23
<br/>
December 19, 2020 | https://yuanchuan.dev/whats-new-in-css-doodle | <a href="https://web.archive.org/web/*/https://yuanchuan.dev/whats-new-in-css-doodle">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  
  <div>
    <article>
  <p>
    I planned to rewrite <a href="https://css-doodle.com/">css-doodle</a> from scratch a long time ago, but there's barely any progress.
    One reason is that I wanted to make it too perfect but was stuck at the part of parsing all the time.
    Another reason is creating new things was more attractive to me than tools building whenever
    I got some time or inspiration.
  </p>
  <!--more-->

  <p>
    I then changed my mind recently, instead of rewriting from scratch, making improvement little by little seems to be more promising.
    There have been many updates for the past month to give css-doodle a new look. I'd like to share those exciting new features.
  </p>

  <h2>.export()</h2>
  <p>
    Screenshot at client side has always been a hard problem if it's not SVG or canvas.
    Unfortunately, the most commonly used <a href="https://github.com/niklasvh/html2canvas">html2canvas</a> does not work well for Web Components.
    For a long time I thought using a command line tool with <a href="https://github.com/puppeteer/puppeteer">Puppeteer</a> was the best solution
    I could find.
  </p>

  <p>
    Until I learned about the SVG <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/foreignObject">&lt;foreignObject&gt;</a>
    the other day, which can embed HTML inside it to make the whole thing a valid SVG. So I put everything of Shadow DOM
    generated by css-doodle into &lt;foreignObject&gt;, and then using canvas to get the SVG image data. Problem sovled!
  </p>

<figure><pre><code data-lang="html"><span>&lt;svg</span> <span>xmlns=</span><span>"http://www.w3.org/2000/svg"</span><span>&gt;</span>
  <span>&lt;foreignObject</span> <span>width=</span><span>"100%"</span> <span>height=</span><span>"100%"</span><span>&gt;</span>
    <span>&lt;!-- css-doodle code --&gt;</span>
  <span>&lt;/foreignObject&gt;</span>
<span>&lt;/svg&gt;</span></code></pre></figure>

  <p>
    Thanks to SVG, keep <code>viewBox</code> to the actual element size, increase the <code>width</code> and <code>height</code>
    will get large dimensions of the image. That's extremely useful for print purpose.
  </p>

<figure><pre><code data-lang="html"><span>&lt;svg</span> <span>viewBox=</span><span>"0 0 600 600"</span> <span>width=</span><span>"8000px"</span> <span>height=</span><span>"8000px"</span><span>&gt;&lt;/svg&gt;</span></code></pre></figure>

  <p>
    The <code>.export()</code> API uses this technique and wraps everything up, it will export css-doodle as an image right in the browser.
    See example and all the options <a href="https://css-doodle.com/#js-api-export">here</a>.
  </p>

<figure><pre><code data-lang="js"><span>let</span> <span>doodle</span> <span>=</span> <span>document</span><span>.</span><span>querySelector</span><span>(</span><span>'</span><span>css-doodle</span><span>'</span><span>)</span>

<span>doodle</span><span>.</span><span>export</span><span>({</span>
  <span>scale</span><span>:</span> <span>10</span><span>,</span>
  <span>download</span><span>:</span> <span>true</span>
<span>})</span></code></pre></figure>

  <h2>@doodle()</h2>
  <p>
    Since css-doodle can be exported as an image now, why not to generate image from code on the fly inside itself?
    Properties like <code>background</code>, <code>border-image</code> and <code>mask</code> all accepts image data as value.
  </p>

  <p>
    It's just an idea at first but soon proved to be the right direction to open up a new dimension.
  </p>

<figure><pre><code data-lang="css"><span>backgrund</span><span>:</span> <span>@doodle</span><span>(</span>
  <span>@</span><span>grid</span><span>:</span> <span>5</span> <span>/</span> <span>100%</span><span>;</span>
  <span>background</span><span>:</span> <span>@p</span><span>(</span><span>#000</span><span>,</span> <span>#fff</span><span>);</span>
<span>);</span></code></pre></figure>

  <h3>Issues with background patterns before</h3>

  <p>
    To fill as many space of background as possible, creating more DOM elements might be an option.
    The max number of elements css-doodle can make is 1024. Even if there's enough of them,
    the performance gets worse as the number of elements increases.
  </p>

  <p>
    There also lacks a way to transform background in CSS like <code>patternTransform</code> does in SVG,
    which makes it difficult to create some classic patterns by tiling, like <a href="https://twitter.com/yuanchuan23/status/1182614601319403521">this one</a>.
  </p>

  <h3>How @doodle() solves the issues</h3>

  <p>
    We build the tiling fragment with css-doodle as background image. Together with <code>background-size</code> and <code>background-repeat</code>,
    only one element is needed to fill up the entire screen no mater how big it is. So it performs farely well.
  </p>

  <p>
    The <code>@doodle()</code> function can also be nested.
    It's possible to do any kinds of transformations with <code>transform</code> property,
    or applying any other styles to the image itself. Because everything inside <code>@doodle()</code> is image.
  </p>
  <p>
    No need to wait for the browser to support something like <code>background-transform</code> anymore.
  </p>

<figure><pre><code data-lang="css"><span>@grid</span><span>:</span> <span>1</span> <span>/</span> <span>100%</span> <span>180px</span><span>;</span>
<span>background</span><span>:</span> <span>@doodle</span><span>(</span>
  <span>:</span><span>doodle</span> <span>{</span>
    <span>@grid</span><span>:</span> <span>1</span> <span>/</span> <span>2000px</span><span>;</span>
    <span>transform</span><span>:</span> <span>rotate</span><span>(</span><span>-135deg</span><span>)</span> <span>scale</span><span>(</span><span>2</span><span>);</span>
  <span>}</span>
  <span>background</span><span>:</span> <span>@doodle</span><span>(</span>
    <span>@</span><span>grid</span><span>:</span> <span>6</span><span>x1</span> <span>/</span> <span>calc</span><span>(</span><span>100%</span> <span>+</span> <span>1px</span><span>);</span>
    <span>@size</span><span>:</span> <span>calc</span><span>(</span><span>100%</span> <span>-</span> <span>100%</span> <span>/</span> <span>@</span><span>I</span> <span>*</span> <span>(</span><span>@</span><span>i</span> <span>-</span> <span>1</span><span>));</span>
    <span>position</span><span>:</span> <span>absolute</span><span>;</span>
    <span>border</span><span>:</span> <span>1</span><span>px</span> <span>solid</span> <span>black</span><span>;</span>
    <span>background</span><span>:</span> <span>@pn</span><span>(</span>
      <span>crimson</span><span>,</span><span>darkorange</span><span>,</span><span>gold</span><span>,</span><span>forestgreen</span><span>,</span><span>royalblue</span><span>,</span><span>rebeccapurple</span>
    <span>);</span>
  <span>)</span> <span>0</span> <span>/</span> <span>18</span><span>px</span> <span>18</span><span>px</span><span>;</span>
<span>);</span></code></pre></figure>
  <p>
    <css-doodle>
      @grid: 1 / 100% 180px;
      background: @doodle(
        :doodle {
          @grid: 1 / 2000px;
          transform: rotate(-135deg) scale(2);
        }
        background: @doodle(
          @grid: 6x1 / calc(100% + 1px);
          @size: calc(100% - 100% / @I * (@i - 1));
          position: absolute;
          border: 1px solid black;
          background: @pn(
            crimson, darkorange, gold,
            forestgreen, royalblue, rebeccapurple,
          );
        ) 0 / 18px 18px;
      );
    </css-doodle>
  </p>

  <p>
    Another quick example using <code>@doodle()</code>:
  </p>

<figure><pre><code data-lang="css"><span>@grid</span><span>:</span> <span>1</span> <span>/</span> <span>100%</span> <span>180px</span><span>;</span>
<span>background</span><span>:</span> <span>@doodle</span><span>(</span>
  <span>:</span><span>doodle</span> <span>{</span>
    <span>@grid</span><span>:</span> <span>1</span> <span>/</span> <span>2000px</span><span>;</span>
    <span>transform</span><span>:</span> <span>rotate</span><span>(</span><span>45</span><span>deg</span><span>)</span> <span>scale</span><span>(</span><span>1</span><span>.</span><span>5</span><span>);</span>
  <span>}</span>
  <span>background-size</span><span>:</span> <span>20</span><span>px</span> <span>20</span><span>px</span><span>;</span>
  <span>background-image</span><span>:</span> <span>@doodle</span><span>(</span>
    <span>@</span><span>grid</span><span>:</span> <span>2</span> <span>/</span> <span>100%</span><span>;</span>
    <span>transform</span><span>:</span> <span>scale</span><span>(.</span><span>84</span><span>,</span> <span>.</span><span>6</span><span>)</span> <span>skewY</span><span>(</span><span>@pn</span><span>(</span><span>¬±</span><span>37deg</span><span>));</span>
    <span>border-radius</span><span>:</span> <span>2</span><span>px</span><span>;</span>
    <span>background</span><span>:</span> <span>@pn</span><span>(</span>
      <span>crimson</span><span>,</span> <span>darkorange</span><span>,</span> <span>gold</span><span>,</span> <span>royalblue</span>
    <span>);</span>
  <span>);</span>
<span>);</span></code></pre></figure>

  <p>
    <css-doodle>
      @grid: 1 / 100% 180px;
      background: @doodle(
        :doodle {
          @grid: 1 / 2000px;
          transform: rotate(45deg) scale(1.5);
        }
        background-size: 20px 20px;
        background-image: @doodle(
          @grid: 2 / 100%;
          transform: scale(.84, .6) skewY(@pn(¬±37deg));
          border-radius: 2px;
          background: @pn(
           crimson, darkorange, gold, royalblue
          );
        );
      );
    </css-doodle>
  </p>

  <p>
    I'm quite excited about this function. Can't wait to build tons of background patterns using css-doodle!
  </p>

  <h2>@shape()</h2>
  <p>
    This is another exciting function! It will generate a <code>polygon()</code> in string used by <code>clip-path</code>.
    For example, to make a hexagon:
  </p>

  <div>
<figure><pre><code data-lang="css"><span>clip-path</span><span>:</span> <span>@shape</span><span>(</span>
  <span>split</span><span>:</span> <span>6</span><span>;</span>
<span>);</span></code></pre></figure>
    <css-doodle>
      @grid: 1 / 80px;
      background: #000;
      clip-path: @shape(
        split: 6;
      );
    </css-doodle>
  </div>


  <p>
    Rotate it by <code>30</code> degree and scale it down:
  </p>

  <div>
<figure><pre><code data-lang="css"><span>clip-path</span><span>:</span> <span>@shape</span><span>(</span>
  <span>split</span><span>:</span> <span>6</span><span>;</span>
  <span>rotate</span><span>:</span> <span>30</span><span>;</span>
  <span>scale</span><span>:</span> <span>.</span><span>5</span><span>;</span>
<span>);</span></code></pre></figure>
    <css-doodle>
      @grid: 1 / 80px;
      background: #000;
      clip-path: @shape(
        split: 6;
        rotate: 30;
        scale: .5;
      );
    </css-doodle>
  </div>

  <p> If the <code>split</code> value is big enough it approximately to be a circle.</p>

  <div>
<figure><pre><code data-lang="css"><span>clip-path</span><span>:</span> <span>@shape</span><span>(</span>
  <span>split</span><span>:</span> <span>100</span><span>;</span>
<span>);</span></code></pre></figure>
    <css-doodle>
      @grid: 1 / 80px;
      background: #000;
      clip-path: @shape(
        split: 100;
      );
    </css-doodle>
  </div>

  <p>
    The <code>x</code> and <code>y</code> are defined with trigonometric functions.
    The <code>t</code> stands for <code>Theta</code>, each of them equals <code>360 / split</code> degree.
  </p>

  <div>
<figure><pre><code data-lang="css"><span>clip-path</span><span>:</span> <span>@shape</span><span>(</span>
  <span>split</span><span>:</span> <span>800</span><span>;</span>
  <span>rotate</span><span>:</span> <span>90</span><span>;</span>
  <span>x</span><span>:</span> <span>sin</span><span>(</span><span>2</span><span>t</span><span>)</span> <span>*</span> <span>sin</span><span>(</span><span>2</span><span>t</span><span>)</span> <span>*</span> <span>cos</span><span>(</span><span>5</span><span>t</span><span>);</span>
  <span>y</span><span>:</span> <span>cos</span><span>(</span><span>5</span><span>t</span><span>)</span> <span>*</span> <span>cos</span><span>(</span><span>5</span><span>t</span><span>)</span> <span>*</span> <span>sin</span><span>(</span><span>t</span><span>);</span>
<span>);</span></code></pre></figure>
    <css-doodle>
      @grid: 1 / 80px;
      background: #000;
      clip-path: @shape(
        split: 800;
        rotate: 90;
        scale: .9;
        x: sin(2t) * sin(2t) * cos(5t);
        y: cos(5t) * cos(5t) * sin(t);
      );
    </css-doodle>
  </div>

  <p>
    As you may have noticed, <code>2t</code> means <code>2 * t</code>,
    it's much shorter this way to follow common notation in mathematics.
    All the Math functions including the symbol <code>œÄ</code> can be used
    directly.
  </p>

  <p>
    You can also define variables if the expressions are too long.
  </p>

  <div>
<figure><pre><code data-lang="css"><span>clip-path</span><span>:</span> <span>@shape</span><span>(</span>
  <span>split</span><span>:</span> <span>800</span><span>;</span>
  <span>scale</span><span>:</span> <span>.</span><span>5</span><span>;</span>
  <span>k</span><span>:</span> <span>œÄ</span> <span>-</span> <span>7</span><span>t</span><span>;</span>
  <span>x</span><span>:</span> <span>cos</span><span>(</span><span>2</span><span>t</span><span>)</span> <span>+</span> <span>cos</span><span>(</span><span>k</span><span>);</span>
  <span>y</span><span>:</span> <span>sin</span><span>(</span><span>2</span><span>t</span><span>)</span> <span>+</span> <span>sin</span><span>(</span><span>k</span><span>);</span>
<span>);</span></code></pre></figure>
     <css-doodle>
      @grid: 1 / 80px;
      background: #000;
      clip-path: @shape(
        split: 800;
        scale: .5;
        k: œÄ - 7t;
        x: cos(2t) + cos(k);
        y: sin(2t) + sin(k);
      );
    </css-doodle>
  </div>

  <p>
    I hope the above examples explain well to the <code>@shape()</code> function.
    There are countless shapes waiting for you to explore!
  </p>

  <h2>Other updates</h2>

  <p>The <code>@m</code> function behaves like the normal <code>for</code> loop but much readable, now it accepts two nested iterations.
  See the <a href="https://codepen.io/yuanchuan/pen/qBadmyR">demo</a>.</p>
<figure><pre><code data-lang="css"><span>box-shadow</span><span>:</span> <span>@m9x8</span><span>(</span>

<span>);</span></code></pre></figure>

  <p>
    By default the output values are separated with commas.
    An uppercase <code>@M</code> alias is added to make the values seperated with spaces.
  </p>
<figure><pre><code data-lang="css"><span>filter</span><span>:</span> <span>@M5</span><span>(</span>
  <span>drop-shadow</span><span>(</span><span>/*... */</span><span>)</span>
<span>);</span></code></pre></figure>

  <h2>What's next</h2>

  <p>
    There remains a lot work to be done,
    such as documentation, the new paser, tests and performance improvement.
    And I still have several new ideas that haven't been implemented yet.
    Only wish I had more time.
  </p>
  <p>
    It‚Äôs easy to make your mind rigid and ignore other things when you stick to one thing for too long.
    Maybe it's time to try something else other than CSS.
    So while waiting for CSS to evolve, I'll put part of my energy to new things.
  </p>

  <p>
    Thanks to everyone who supports css-doodle via <a href="https://opencollective.com/css-doodle#backers">open collective</a> and who sent me the encouraging words.
  </p>
</article>



  </div>
</div></div>]]>
            </description>
            <link>https://yuanchuan.dev/whats-new-in-css-doodle</link>
            <guid isPermaLink="false">hacker-news-small-sites-25483369</guid>
            <pubDate>Sun, 20 Dec 2020 02:41:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: A search engine of free Illustrations]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25483312">thread link</a>) | @jonifico
<br/>
December 19, 2020 | https://www.artify.co/illustrations | <a href="https://web.archive.org/web/*/https://www.artify.co/illustrations">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.artify.co/illustrations</link>
            <guid isPermaLink="false">hacker-news-small-sites-25483312</guid>
            <pubDate>Sun, 20 Dec 2020 02:26:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Indian Tuning Systems]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25482735">thread link</a>) | @ubasu
<br/>
December 19, 2020 | https://puretones.sadharani.com/tuningsystems/ | <a href="https://web.archive.org/web/*/https://puretones.sadharani.com/tuningsystems/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
    
    
    <p>To understand the role of harmonics, microtones and consonance in Indian Classical music, it is necessary to understand its underlying tuning systems. In this article, we reconstruct two significant tuning systems used in Indian Classical music:</p>
    
    <ol>
        <li>The first is a 22 note scale whose earliest reference is due to <a href="https://en.wikipedia.org/wiki/Bharata_Muni">Bharat</a> in <a href="https://en.wikipedia.org/wiki/Natya_Shastra">Natya Shastra</a> and which was later documented by <a href="https://en.wikipedia.org/wiki/%C5%9A%C4%81r%E1%B9%85gadeva">Sarang Dev</a> in <a href="https://en.wikipedia.org/wiki/Sangita_Ratnakara">Sangeet Ratnakar</a>. Note that <a href="https://en.wikipedia.org/wiki/Dattilam">Dattilam</a> by <strong>Dattila</strong>, a contemporary or possibly earlier work compared to Natya Shastra, also refers to a division of an octave into 22 notes.</li>
        <li>The second is a 12 note scale first devised by <strong>Ramamatya</strong> in <a href="https://en.wikipedia.org/wiki/Svaramelakalanidhi">Svaramelakalanidhi</a> and which was later documented by <a href="https://en.wikipedia.org/wiki/Venkatamakhin">Venkatamakhin</a> in <a href="https://en.wikipedia.org/wiki/Chaturdandiprakashika">Chaturdanda Prakasika</a>.</li>
    </ol>

    <p>In a couple of related articles, we cover how tuning systems influence <a href="https://puretones.sadharani.com/musicalscales/">musical scales</a> and how this affects the <a href="https://puretones.sadharani.com/tanpuraworking/">tuning of a Tanpura</a> to play these scales.</p>
    
    <h2>Basic Intervals and Ratios</h2>
    <p>Before we begin reconstructing any tuning system, it is useful to familiarize ourselves with the four basic intervals of <em>Dviguna</em> (octave), <em>Pancham</em> (fifth), <em>Madhyam</em> (fourth) and <em>Gandhar</em> (major third). You can play and check these intervals using the keyboard below (just click or tap a key to play). Here <strong>Sa</strong> denotes the fundamental and <strong>Ga, ma, Pa</strong> and <strong>SA</strong> denote the Gandhar, Madhyam, Pancham and Dviguna respectively. Note that <strong>Sa</strong> is taken to be the pitch <strong>C</strong>, but the other notes do not match up with today's standard <a href="https://en.wikipedia.org/wiki/12_equal_temperament">12 tone equally tempered scale</a>.</p>

    <br>
    <ul id="basicintervals">
        <li>
            <p>Sa</p>
            
        </li>
        <li>
            
            
        </li>
        <li>
            <p>Ga</p>
            <audio id="Ga-b" src="https://puretones.sadharani.com/tuningsystems/05-Ga-b.mp3"></audio>
        </li>
        <li>
            <p>ma</p>
            
        </li>
        <li>
            <p>Pa</p>
            
        </li>
        <li>
            
            
        </li>
        <li>
            
        </li>
        <li>
            <p>SA</p>
        </li>
    </ul>
    <br>
    <center><em>Demo 1. Basic Intervals</em></center>

    <p><strong>Note:</strong> This article features several audio samples which are an integral part of the narrative. For ease of understanding, these samples have been presented in the form of a musical keyboard which many would recognize. Simply click or tap a key to play. Please try and use a pair of headphones or good quality speakers to listen to the samples with maximum clarity.</p>

    <p>As you can hear from Demo 1, Pancham, Madhyam and Gandhar are pleasant sounding intervals. For the musically inclined, they may be easy to recognise by ear. It is also possible to determine their frequency ratios in relation to the fundamental.</p>
        
    <p>One way in which this can be done is by comparing lengths. Firstly, we can observe that the pitch of a string is inversely proportional to its vibrating length. Secondly, taking a certain string length to represent the fundamental, we can observe that if we touch the string at a third of its length from one end and pluck the remaining two-thirds, it results in the string sounding the fifth. Similarly, touching it at a fourth of its length from one end results in the remaining three-fourths to sound the fourth, touching it at a fifth of its length results in the major third, and touching it at the midpoint results in either half to sound the octave.</p>
    
    <p>So by inverting these string lengths, we can infer that with <strong>Sa = 1</strong>, we have <strong>SA = 2, Pa = 3/2, ma = 4/3</strong> and <strong>Ga = 5/4</strong>. Try and remember these frequency ratios, as we will use them repeatedly.</p>

    <h2>Sama Gana Scale</h2>

    <p>The first scale we will examine is the <em>Sama Gana</em> scale which was used to sing passages from the <em>Sama Veda</em>. Folk music or informal music was always around in India. But Indian music started to get formalized as the chants of <em>Rig Veda</em> evolved into a more sing-song way of rendering passages from Sama Veda. Rig Vedic chants already used three notes called <em>Svarita</em> (neutral drone), <em>Udaatta</em> (higher note) and <em>Anudaatta</em> (lower note). This evolved further in Sama Gana.</p>
        
    <p>Sama Gana is the act of singing the Sama Veda. According to Ustad Zia Fariduddin Dagar, a typical arrangement employed three groups of singers with one group singing at the pitch <strong>Sa</strong>, the second at <strong>ma</strong> and the third at <strong>Pa</strong>. Each group in turn used three notes, a center note, a low note and a high note, similar to those used in Rig Vedic chants. The center note was whichever pitch they were singing, <em>i.e.,</em> Sa, ma or Pa. The high note was higher than the center note by a specific tone and the low note was lower than the center note by the same tone. Refer to Demo 2 below.</p>

    <div>
        <div>
          <h3>A traditional rendition of Sama Gana</h3>
          <p>Observe how the different groups stop and start chanting at appropriate points during the rendition, so that overall it creates an impression of a musical scale. Also, please note that this rendition is roughly in the scale of G.</p>
        </div>
        <div>
          <p>
            <iframe frameborder="0" allowfullscreen="" src="https://www.youtube.com/embed/cSLnr3_gkVA?start=240&amp;end=300" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe>
          </p>
        </div>
    </div>
    <center><em>Demo 2. A traditional rendition of Sama Gana (courtesy of Sri Bhakti YouTube Channel).</em></center>
    

    <p>Knowing the Pa and ma intervals, it is possible to derive the <strong>ma-Pa</strong> interval. For the musically inclined, you may be able to recognise it by ear. The size of the ma-Pa interval can be calculated as <strong>3/2 √∑ 4/3 = 9/8</strong>. This ma-Pa interval was used as the tone to derive the high and low notes from the center note. Note that the ma-Pa interval is different from the <a href="https://en.wikipedia.org/wiki/Major_second">whole tone</a> used in today's standard <a href="https://en.wikipedia.org/wiki/12_equal_temperament">12 tone equally tempered scale</a>. The whole tone is 200 <a href="https://en.wikipedia.org/wiki/Cent_(music)">cents</a> wide, while the ma-Pa interval is a bit wider at 203.9 cents.</p>

    <p>Using this, the Sama Gana scale as depicted in Table 1 can be derived. The method of derivation is given in the remarks column. The Sama Gana scale is discussed and documented in a number of references (for example, see <em>Lakshanagrandhas in Music</em> by Dr. Bhagyalekshmy).</p>
    
    <div>
        <center>
        <em>Table 1. Illustration of Sama Gana Scale</em>
        <table>
            <tbody><tr>
            <td colspan="4"><center>Sama Gana Scale</center></td>
            </tr>
            <tr>
            <td>ma-Pa Interval</td><td>1.125</td><td>9/8</td><td>&nbsp;</td>
            </tr>
            <tr>
            <td>Note</td><td>Ratio</td><td>Symbolic Ratio</td><td>Remarks</td>
            </tr>
            <tr>
            <td>Sa</td><td>1</td><td>1</td><td>&nbsp;</td>
            </tr>
            <tr>
            <td>Re</td><td>1.125</td><td>9/8</td><td>ma-Pa Gap above Sa</td>
            </tr>
            <tr>
            <td>ga</td><td>1.185185185</td><td>32/27</td><td>ma-Pa Gap below ma</td>
            </tr>
            <tr>
            <td>ma</td><td>1.333333333</td><td>4/3</td><td>Fourth</td>
            </tr>
            <tr>
            <td>Pa</td><td>1.5</td><td>3/2</td><td>Fifth</td>
            </tr>
            <tr>
            <td>Dha</td><td>1.6875</td><td>27/16</td><td>ma-Pa Gap above Pa</td>
            </tr>
            <tr>
            <td>ni</td><td>1.777777778</td><td>16/9</td><td>ma-Pa Gap below SA</td>
            </tr>
            <tr>
            <td>SA</td><td>2</td><td>2</td><td>Octave</td>
            </tr>
            </tbody>
        </table>
        </center>
    </div>

    

    <p>You can play and check how the Sama Gana scale sounds using Demo 3 below.</p>

    <br>

    <ul id="samagana">
        <li>
            <p>Sa</p>
            <audio id="Sa" src="https://puretones.sadharani.com/tuningsystems/01-Sa.mp3"></audio>
        </li>
        <li>
            <p>Re</p>
            <audio id="Re" src="https://puretones.sadharani.com/tuningsystems/03-Re.mp3"></audio>
            <p>ga</p>
            <audio id="ga" src="https://puretones.sadharani.com/tuningsystems/04-ga.mp3"></audio>
        </li>
        <li>
            <p>Ga</p>
        </li>
        <li>
            <p>ma</p>
            <audio id="ma" src="https://puretones.sadharani.com/tuningsystems/06-ma.mp3"></audio>
        </li>
        <li>
            <p>Pa</p>
            <audio id="Pa" src="https://puretones.sadharani.com/tuningsystems/08-Pa.mp3"></audio>
        </li>
        <li>
            <p>Dha</p>
            <audio id="Dha" src="https://puretones.sadharani.com/tuningsystems/10-Dha.mp3"></audio>
            <p>ni</p>
            <audio id="ni" src="https://puretones.sadharani.com/tuningsystems/11-ni.mp3"></audio>
        </li>
        <li>
            <p>Ni</p>
        </li>
        <li>
            <p>SA</p>
            <audio id="SA" src="https://puretones.sadharani.com/tuningsystems/13-SA.mp3"></audio>
        </li>
    </ul>
    <br>
    <center><em>Demo 3. Sama Gana Scale</em></center>

    

    <p>In this scale, the intervals Re-ga and Dha-ni were regarded as <em>Vivadi</em> (dissonant). The concept of Vivadi notes is mentioned in Dattilam and Sangeet Ratnakar (see Chapter Sangita Ratnakara in Lakshanagrandhas in Music or Chapter Nada, Sruti and Svara in Sangeet Ratnakar, Part 1). The size of these intervals can be calculated to be <strong>32/27 √∑ 9/8 = 256/243 = 1.053497942</strong>. This interval \(\frac{256}{243}\) was recognized and known as <strong>Purna Shruti</strong>. Note that the Purna Shruti is roughly comparable to the <a href="https://en.wikipedia.org/wiki/Semitone">semi-tone</a> used in today's standard 12 tone equally tempered scale. The standard semi-tone is 100 cents wide, while the Re-ga interval is a bit narrower at 90.2 cents. This scale may have been appropriate for chanting, but as a musical scale, it was not considered appropriate. In order to make it musical, the musical scholars of the day felt that the Re-ga and Dha-ni intervals needed to be slightly increased.</p>

    <h2>Shadaj Gram (from Sama Gana Scale)</h2>

    <p>The Shadaj Gram scale is cited as a 7 note scale and also as a 22 note scale (which includes the original 7 notes). Let us reconstruct the 7 note scale first.</p>

    <p><strong>Note:</strong> Like the Shadaj Gram scale, an equally important scale called <strong>Madhyam Gram</strong> is also described by Bharat and by Sarang Dev. Later, we will note specifically how it differs from Shadaj Gram.</p>

    <p>There are two ways in which Shadaj Gram can be understood. The first is to understand it as a derivative of the Sama Gana scale, to make it more musical by adjusting the Vivadi intervals of Re-ga and Dha-ni. The second is to understand it in terms of <strong>Shruti Intervals</strong> as specified by Bharat and Sarang Dev. Let us look at both explanations and see how they are mutually consistent.</p>

    <p>First, we have to re-trace the line of reasoning that might have been employed by the musical scholars of the day to derive the Shadaj Gram scale from the Sama Gana scale. There are two options to fix the dissonant Re-ga and Dha-ni intervals:</p>
    
    <ol>
        <li>Increase the pitch of ga and ni slightly.</li>
        <li>Decrease the pitch of Re and Dha slightly.</li>
    </ol>

    <p>The first option would result in losing the consonance between ma and ni (ni is the fourth of ma in Sama Gana scale), while the second option would result in losing the consonance between Re and Pa (Pa is the fourth of Re). We know that they chose the second option since Bharat and Sarang Dev have pointed out that Re and Pa are not consonant in Shadaj Gram.</p>

    <p>Let us try and determine specifically by how much Re and Dha were reduced in pitch. Look at the notes from ma to SA in Sama Gana scale (Demo 3). Look at the relationship between ma and Dha and note that the interval ma-Dha is a bit wider than the Gandhar (major third) interval (Demo 1). The ma-Dha interval consists of the ma-Pa interval applied twice. You can try to hear Demo 1 and Demo 3 and see how two ma-Pa intervals combined (407.8 cents) are bigger than a Gandhar interval (386.3 cents). In contrast, in today's standard 12 tone equally tempered scale, two whole tones (i.e 2 x 200 cents) is exactly equal to a major third (400 cents).</p>
        
    <p>In Shadaj Gram, the note Dha from Sama Gana scale was reduced in pitch to Dha<strong>‚ô≠</strong> to maintain the Gandhar interval with respect to ma. The note Re from Sama Gana scale was reduced by a similar amount in pitch to Re<strong>‚ô≠</strong> so that the Re<strong>‚ô≠</strong>-Dha<strong>‚ô≠</strong> interval was maintained to be the Pancham.</p>
    
    <p>Before we analyse this any further, hear for yourself what this scale sounds like using Demo 4 below. The keyboard may look a bit unusual, particularly the keys for Re<strong>‚ô≠</strong> and Dha<strong>‚ô≠</strong>. But it has been depicted this way to ‚Ä¶</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://puretones.sadharani.com/tuningsystems/">https://puretones.sadharani.com/tuningsystems/</a></em></p>]]>
            </description>
            <link>https://puretones.sadharani.com/tuningsystems/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25482735</guid>
            <pubDate>Sun, 20 Dec 2020 00:31:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Japanese Sentence Structure Primer]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25482613">thread link</a>) | @sova
<br/>
December 19, 2020 | https://japanesecomplete.com/articles/?p=1265 | <a href="https://web.archive.org/web/*/https://japanesecomplete.com/articles/?p=1265">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<section id="primary">
		<main id="main">

			
<article id="post-1265">

	

	
			<figure>
				<img width="1568" height="1045" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/lanterns.jpg" alt="" loading="lazy">			</figure><!-- .post-thumbnail -->

		
	<div>
		
<p>Aside from always having a verb at the end, Japanese does not depend on sequence.  Japanese is a grammar defined by <em>grammar particles</em>, functional ‚Äúwords‚Äù that glue on to nouns to indicate what purpose the noun serves.</p>



<p>Here we highlight some common Japanese particles in a slice of the „Å≤„Çâ„Åå„Å™ [hiragana] syllabary.</p>



<figure><img loading="lazy" width="1069" height="834" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/japanese-particles.png" alt=""></figure>



<p>You can practice your üéµ listening comprehensionüëÇ of the „Å≤„Çâ„Åå„Å™ üéé <a href="http://japanesecomplete.com/hiragana">here</a>.  But we digress, Japanese relies on <em>grammatical particles</em> to indicate the <strong>who, what, when,  where, and how</strong> of a sentence.</p>



<h2><strong>Who, what, when, where, and how</strong>.</h2>



<h2>„Åß  (de) <strong>where and how</strong></h2>



<p>For example, „Åß [‚Äúdeh‚Äù] implies <em>manner of accomplishment</em> or <em>setting-locality where something takes place.</em> Mapping to English, we cover the <strong>where</strong> [setting] and <strong>how</strong> [means] with „Åß„ÄÇ</p>



<figure><img loading="lazy" width="246" height="142" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/Screen-Shot-2020-12-19-at-4.34.24-PM.png" alt=""></figure>



<hr>



<h2>„Å´ (ni) where and when</h2>



<p>For destinations, or specific times, or precise physical points of existence (being), Japanese relies on the use of the <em>grammatical particle</em> „Å´ [‚Äúni‚Äù as in, <a href="https://www.youtube.com/watch?v=zIV4poUZAQo">‚Äúwe are the knights who say‚Ä¶‚Äù</a>].  „Å´ [‚Äúknee!‚Äù] therefore covers <strong>where</strong> [destination] and <strong>when</strong> [moment].</p>



<figure><img loading="lazy" width="648" height="446" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/Screen-Shot-2020-12-19-at-4.36.55-PM.png" alt=""></figure>



<hr>



<h2>„Åå  (ga) who and what</h2>



<p>The <em>grammatical particle</em> „Åå [‚Äúga‚Äù] is used to explain <strong>who</strong> and <strong>what</strong> when used as the <strong>grammatical subjects</strong> of a sentence.  </p>



<p>For example: Vegetables are delicious.  Candy is sweet.<br>  (Veggies are <strong>what</strong> is delicious)<br>  (The candy is <strong>what</strong> is sweet)</p>



<figure><img loading="lazy" width="366" height="295" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/Screen-Shot-2020-12-19-at-4.38.46-PM.png" alt=""></figure>



<hr>



<p>Finally, in this brief primer, we want to show the concept of <strong>bunsetsu jar</strong> which we have featured on our <a href="http://japanesecomplete.com/reverse-engineer/">‚ÄúReverse Engineer Some Japanese‚Äù</a> page.</p>



<figure><img loading="lazy" width="737" height="138" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/Screen-Shot-2020-12-19-at-4.41.05-PM.png" alt=""></figure>



<p>Within a <strong>bunsetsu jar</strong>, we place a noun and cap off the <strong>jar</strong> with a <strong>lid</strong> containing a <em>grammatical particle</em> such as „Åå„ÄÅ„Å´„ÄÅ„Åß or one of the many others.  </p>



<p>In total, there is an estimated 233 + particles (some are multi-mora, that is, multiple letters) and we teach them in a gradual and comprehensible way in <a href="https://japanesecomplete.com/articles/?p=83">Japanese Complete</a>.</p>



<p>Finally, a sentence-final verb is placed at the end of a sentence.  In English, this would be akin to moving the ‚Äúis/are‚Äù or ‚Äúbe/exists‚Äù verb to the end of every sentence.  Japanese fun is.  Grammar easy is.  Japanese-about thinking = interesting is.</p>



<p>So that‚Äôs it. You pick your nouns, you pick the <em>grammatical particles</em> to match based on the meaning of <strong>who, what, when, where, and how</strong>, and you figure out the sentence-final verb element.  Now you‚Äôre thinking in Japanese.</p>



<p>Of course, developing the reflex and intuition around this takes some practice, which is why we devised quizzes for Japanese Complete that help train your intuition on the particles, one-by-one.  You can watch a brief video showing some of the quizzes in action on our <a href="https://japanesecomplete.com/guide">free guide page</a>.</p>



<hr>



<h2>Kanji in English Context</h2>



<p>In order to accelerate Kanji comprehension into English context, as you can see in a sonnet by Shakespeare on <a href="http://japanesecomplete.com/learning-to-read">this page</a>.  This pattern follows a similar pattern of adoption that native Japanese took: grab kanji from mainland Asia for their ideographic value and smash them together with your native syllabary to add helpful meaning, nuance, and context.</p>



<figure><img loading="lazy" width="496" height="177" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/Screen-Shot-2020-12-19-at-4.46.27-PM.png" alt=""></figure>



<p><strong>Temple NI arrive.</strong> [unstated subjects arrive to the temple]</p>



<p><strong>Enter-before NI, hands OH let‚Äôs wash, NE.</strong> [before entering, let‚Äôs wash our hands, right?]</p>



<p>We‚Äôve created a substack newsletter to share <em>Kanji in English Context </em>once or twice a month, you can <a href="https://japanesecomplete.substack.com/p/coming-soon">sign up for it here</a> if you‚Äôre interested in getting interesting <em>Kanji in English Context</em> lessons to your inbox.</p>



<hr>



<p>One great thing about Japanese grammar is that the <strong>bunsetsu jars</strong> can be arranged in any sequence before the final verb, provided each noun has its appropriately matching <em>grammar particle</em> glued on and intact.  This leads to great fun with parsing, as one can create a <a href="https://japanesecomplete.com/articles/?p=811">rudimentary Japanese grammar parser</a> from a 5-line EBNF grammar.</p>



<figure><img loading="lazy" width="1080" height="1349" src="https://japanesecomplete.com/articles/wp-content/uploads/2020/12/osaka-castle.jpg" alt=""></figure>



<p>Hopefully this post made the inner mechanics of Japanese more clear.  Developing intuition and unlocking the language takes study, practice, and determination!  If you‚Äôre looking for a program to break the language down logically <strong>and</strong> provide practice and training to help your newfound understanding become intuitive and fast, might we humbly suggest <a href="https://japanesecomplete.com/">Japanese Complete</a>.</p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

				
</article><!-- #post-${ID} -->

	<nav role="navigation" aria-label="Posts">
		<h2>Post navigation</h2>
		
	</nav>
<!-- #comments -->

		</main><!-- #main -->
	</section><!-- #primary -->


	</div></div>]]>
            </description>
            <link>https://japanesecomplete.com/articles/?p=1265</link>
            <guid isPermaLink="false">hacker-news-small-sites-25482613</guid>
            <pubDate>Sun, 20 Dec 2020 00:14:56 GMT</pubDate>
        </item>
    </channel>
</rss>
